{"items":[{"tags":["java","macos","zsh"],"answers":[{"comments":[{"owner":{"account_id":1273895,"reputation":437,"user_id":1229549,"display_name":"Mathew Ruberg"},"score":0,"creation_date":1692022737,"post_id":69203305,"comment_id":135565942,"body_markdown":"even without $() I am still getting the permission denied error...","body":"even without $() I am still getting the permission denied error..."},{"owner":{"account_id":5224617,"reputation":6226,"user_id":4177009,"display_name":"Ture P&#229;lsson"},"score":0,"creation_date":1692025075,"post_id":69203305,"comment_id":135566477,"body_markdown":"@MathewRuberg If you get a permission error on a simple `export` operation, you are doing *something* wrong, but it is hard to tell what. I suggest asking a new question, showing exactly what you did and what error message you got. However, there’s a risk it will be closed as off topic for Stack Overflow and more fit for one of the other sites.","body":"@MathewRuberg If you get a permission error on a simple <code>export</code> operation, you are doing <i>something</i> wrong, but it is hard to tell what. I suggest asking a new question, showing exactly what you did and what error message you got. However, there’s a risk it will be closed as off topic for Stack Overflow and more fit for one of the other sites."}],"tags":[],"owner":{"account_id":5224617,"reputation":6226,"user_id":4177009,"display_name":"Ture P&#229;lsson"},"comment_count":2,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1652080260,"creation_date":1631773495,"answer_id":69203305,"question_id":69203176,"body_markdown":"The `$(foo)` bit means, loosely, &quot;run `foo` as a program, then insert its output here and go on as if I had typed it&quot;, which is not what you want here. Just do\r\n\r\n    export JAVA_HOME=/Library/Java/...\r\n\r\nThe `$()` bit is useful when you use the Mac&#39;s Java selection mechanism, and run e.g. \r\n\r\n    export JAVA_HOME=$(/usr/libexec/java_home -v16)\r\n\r\nIn that case, you&#39;re running a program, and setting `JAVA_HOME` to the output of that program.","title":"Permission Error When Exporting to $JAVA_HOME on MacOS Big Sur","body":"<p>The <code>$(foo)</code> bit means, loosely, &quot;run <code>foo</code> as a program, then insert its output here and go on as if I had typed it&quot;, which is not what you want here. Just do</p>\n<pre><code>export JAVA_HOME=/Library/Java/...\n</code></pre>\n<p>The <code>$()</code> bit is useful when you use the Mac's Java selection mechanism, and run e.g.</p>\n<pre><code>export JAVA_HOME=$(/usr/libexec/java_home -v16)\n</code></pre>\n<p>In that case, you're running a program, and setting <code>JAVA_HOME</code> to the output of that program.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1671552722,"post_id":74835147,"comment_id":132121540,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74835147/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":5224617,"reputation":6226,"user_id":4177009,"display_name":"Ture P&#229;lsson"},"score":0,"creation_date":1692025028,"post_id":74835147,"comment_id":135566464,"body_markdown":"Notice that this is not a zsh-vs-bash difference, it’s a doing-completely-different-things difference. `$()` does the same thing in both shells.","body":"Notice that this is not a zsh-vs-bash difference, it’s a doing-completely-different-things difference. <code>$()</code> does the same thing in both shells."}],"tags":[],"owner":{"account_id":20492458,"reputation":31,"user_id":15038236,"display_name":"Tomm Matthis"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1671289583,"creation_date":1671289583,"answer_id":74835147,"question_id":69203176,"body_markdown":"Ran into the same issue today, and figured out out to fix it.\r\nRemember to close/open your shell (or resource it) after making the change in your profile script.\r\n\r\nIn Z shell, the export statement is a bit different than bash, as you can set the environment variable without the $().\r\n\r\nInstead of: \r\n*export JAVA_HOME=$(/Library/Java/JavaVirtualMachines/amazon-corretto-8.jdk/Contents/Home)*\r\n\r\nUse the simpler zsh form with quote marks for the path: \r\n*export JAVA_HOME=&quot;/Library/Java/JavaVirtualMachines/amazon-corretto-8.jdk/Contents/Home&quot;*  ","title":"Permission Error When Exporting to $JAVA_HOME on MacOS Big Sur","body":"<p>Ran into the same issue today, and figured out out to fix it.\nRemember to close/open your shell (or resource it) after making the change in your profile script.</p>\n<p>In Z shell, the export statement is a bit different than bash, as you can set the environment variable without the $().</p>\n<p>Instead of:\n<em>export JAVA_HOME=$(/Library/Java/JavaVirtualMachines/amazon-corretto-8.jdk/Contents/Home)</em></p>\n<p>Use the simpler zsh form with quote marks for the path:\n<em>export JAVA_HOME=&quot;/Library/Java/JavaVirtualMachines/amazon-corretto-8.jdk/Contents/Home&quot;</em></p>\n"},{"tags":[],"owner":{"account_id":5868306,"reputation":120,"user_id":4621469,"accept_rate":75,"display_name":"Adam Bissonnette"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694988054,"creation_date":1694988054,"answer_id":77123763,"question_id":69203176,"body_markdown":"Posting my fix in case it helps some else (or me the next time I run into this issue). This was done on a 2021 M1 Macbook Pro (Ventura 13.3.1 a) - if you&#39;re reading this in 2-3 years I hope this saves you some time.\r\n\r\nI was running into this permission issue trying to get Expo&#39;s native module tutorial working (https://docs.expo.dev/modules/native-module-tutorial/) - iOS had its own issues with ruby/gem version chaos and with Android I had trouble with the above and when setting $JAVA_HOME I was running into the issue above - I wanted to configure the global version of JAVA so that Expo could build properly.\r\n\r\nI managed to get past the error with JENV (https://www.jenv.be/) and using Android Studio to get a few versions of the JDK to play with (`Settings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle`) - you can easily download new Gradle JDKs here.\r\n\r\nOpenjdk Version 20 which is what I had installed previously (via brew) seemed to have compiler issues with expo&#39;s code so I installed Corretto v17 (via Android Studio). In Android Studio I could see the Home directory of this JDK so I was able to add it to the available versions to JENV (`jenv add ~~~jdk home directory here~~~`) and then set that as the global version `jenv global 17` - from there the $JAVA_HOME issues seemed to be resolved as the compiler was able to find and use the correct version.","title":"Permission Error When Exporting to $JAVA_HOME on MacOS Big Sur","body":"<p>Posting my fix in case it helps some else (or me the next time I run into this issue). This was done on a 2021 M1 Macbook Pro (Ventura 13.3.1 a) - if you're reading this in 2-3 years I hope this saves you some time.</p>\n<p>I was running into this permission issue trying to get Expo's native module tutorial working (<a href=\"https://docs.expo.dev/modules/native-module-tutorial/\" rel=\"nofollow noreferrer\">https://docs.expo.dev/modules/native-module-tutorial/</a>) - iOS had its own issues with ruby/gem version chaos and with Android I had trouble with the above and when setting $JAVA_HOME I was running into the issue above - I wanted to configure the global version of JAVA so that Expo could build properly.</p>\n<p>I managed to get past the error with JENV (<a href=\"https://www.jenv.be/\" rel=\"nofollow noreferrer\">https://www.jenv.be/</a>) and using Android Studio to get a few versions of the JDK to play with (<code>Settings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle</code>) - you can easily download new Gradle JDKs here.</p>\n<p>Openjdk Version 20 which is what I had installed previously (via brew) seemed to have compiler issues with expo's code so I installed Corretto v17 (via Android Studio). In Android Studio I could see the Home directory of this JDK so I was able to add it to the available versions to JENV (<code>jenv add ~~~jdk home directory here~~~</code>) and then set that as the global version <code>jenv global 17</code> - from there the $JAVA_HOME issues seemed to be resolved as the compiler was able to find and use the correct version.</p>\n"}],"owner":{"account_id":22767316,"reputation":103,"user_id":16925173,"display_name":"user16925173"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14903,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":69203305,"answer_count":3,"score":10,"last_activity_date":1694988054,"creation_date":1631772751,"question_id":69203176,"body_markdown":"Whenever I try to set my Java Home `export JAVA_HOME=$(/Library/Java/JavaVirtualMachines/amazon-corretto-8.jdk/Contents/Home)` in my .zshenv or .zshrc files, I get an `/Users/{USER NAME HERE}/.zshenv:1: permission denied: /Library/Java/JavaVirtualMachines/amazon-corretto-8.jdk/Contents/Home` error when starting up my terminal. In fact, I can&#39;t seem to be able to export anything (for example, `export TEST=$(/Users/{USER NAME HERE})` gives me a `zsh: permission denied: /Users/{USER NAME HERE}` error. I already gave full disk access in system preferences, but that doesn&#39;t seem to be working either. I am the only user on my computer.","title":"Permission Error When Exporting to $JAVA_HOME on MacOS Big Sur","body":"<p>Whenever I try to set my Java Home <code>export JAVA_HOME=$(/Library/Java/JavaVirtualMachines/amazon-corretto-8.jdk/Contents/Home)</code> in my .zshenv or .zshrc files, I get an <code>/Users/{USER NAME HERE}/.zshenv:1: permission denied: /Library/Java/JavaVirtualMachines/amazon-corretto-8.jdk/Contents/Home</code> error when starting up my terminal. In fact, I can't seem to be able to export anything (for example, <code>export TEST=$(/Users/{USER NAME HERE})</code> gives me a <code>zsh: permission denied: /Users/{USER NAME HERE}</code> error. I already gave full disk access in system preferences, but that doesn't seem to be working either. I am the only user on my computer.</p>\n"},{"tags":["java","groovy","visual-studio-code"],"comments":[{"owner":{"account_id":444493,"reputation":151950,"user_id":836330,"display_name":"Mark"},"score":0,"creation_date":1504655801,"post_id":46061857,"comment_id":79090519,"body_markdown":"Did you reload/restart Vscode after disabling all the extensions?","body":"Did you reload/restart Vscode after disabling all the extensions?"},{"owner":{"account_id":195224,"reputation":1369,"user_id":438001,"accept_rate":24,"display_name":"J&#246;rg Rech"},"score":0,"creation_date":1504665603,"post_id":46061857,"comment_id":79092621,"body_markdown":"Yes, I did restart VS Code.","body":"Yes, I did restart VS Code."},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1694987155,"post_id":46061857,"comment_id":135960314,"body_markdown":"related generalized question (not specific to Java): [How can I easily toggle display of problem underlining in VS Code editor panels?](https://stackoverflow.com/q/74753185/11107541)","body":"related generalized question (not specific to Java): <a href=\"https://stackoverflow.com/q/74753185/11107541\">How can I easily toggle display of problem underlining in VS Code editor panels?</a>"}],"answers":[{"comments":[{"owner":{"account_id":195224,"reputation":1369,"user_id":438001,"accept_rate":24,"display_name":"J&#246;rg Rech"},"score":1,"creation_date":1504640557,"post_id":46061931,"comment_id":79085158,"body_markdown":"Is there a secret setting for the java linter? I only see &quot;css.lint&quot;, &quot;less.lint&quot;, and &quot;SCSS.lint&quot; as well as &quot;php.validate&quot;","body":"Is there a secret setting for the java linter? I only see &quot;css.lint&quot;, &quot;less.lint&quot;, and &quot;SCSS.lint&quot; as well as &quot;php.validate&quot;"}],"tags":[],"owner":{"account_id":9525460,"reputation":1429,"user_id":7103765,"accept_rate":80,"display_name":"Ajinkya Dhote"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1504639133,"creation_date":1504639133,"answer_id":46061931,"question_id":46061857,"body_markdown":"You should disable the linter, which is by default enable in VS Code.\r\nTo do so you can go to File-&gt; Prefrences -&gt; setting ","title":"How to disable error highlighting for Java code in VS Code?","body":"<p>You should disable the linter, which is by default enable in VS Code.\nTo do so you can go to File-> Prefrences -> setting </p>\n"},{"comments":[{"owner":{"account_id":195224,"reputation":1369,"user_id":438001,"accept_rate":24,"display_name":"J&#246;rg Rech"},"score":0,"creation_date":1504659598,"post_id":46064856,"comment_id":79091265,"body_markdown":"This is what I disabled by setting &quot;.groovy&quot;: &quot;java&quot;. What I&#39;m trying to do is to get the Clang or Uncrustify code formatting working for groovy but the menu entry is only available for java files. I would be happy just by disabling the error highlighting for java files.","body":"This is what I disabled by setting &quot;.groovy&quot;: &quot;java&quot;. What I&#39;m trying to do is to get the Clang or Uncrustify code formatting working for groovy but the menu entry is only available for java files. I would be happy just by disabling the error highlighting for java files."},{"owner":{"account_id":444493,"reputation":151950,"user_id":836330,"display_name":"Mark"},"score":0,"creation_date":1504667503,"post_id":46064856,"comment_id":79093018,"body_markdown":"I don&#39;t know what you mean by &quot;the menu entry is only available for java files.&quot;  Which menu entry?  I don&#39;t know how to remove error checking from .java files.","body":"I don&#39;t know what you mean by &quot;the menu entry is only available for java files.&quot;  Which menu entry?  I don&#39;t know how to remove error checking from .java files."}],"tags":[],"owner":{"account_id":444493,"reputation":151950,"user_id":836330,"display_name":"Mark"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504655812,"creation_date":1504655812,"answer_id":46064856,"question_id":46061857,"body_markdown":"I wouldn&#39;t think this is necessary but you might try:\r\n\r\n    &quot;files.associations&quot;: {\r\n       &quot;.groovy&quot;: &quot;groovy&quot;\r\n    }\r\n\r\nin your user settings, assuming your file extension is .groovy.  If it is something else, just set it to &quot;groovy&quot; as well.  When I create a .groovy file with your content or gibberish I get no error linting at all.  What is your file extension and what does Vscode call it in the bottom right of the editor?  You can click on that file type to change its file associations.  See [modifying Vscode file extensions][1]. \r\n\r\n\r\n  [1]: https://code.visualstudio.com/docs/languages/overview#_adding-a-file-extension-to-a-language","title":"How to disable error highlighting for Java code in VS Code?","body":"<p>I wouldn't think this is necessary but you might try:</p>\n\n<pre><code>\"files.associations\": {\n   \".groovy\": \"groovy\"\n}\n</code></pre>\n\n<p>in your user settings, assuming your file extension is .groovy.  If it is something else, just set it to \"groovy\" as well.  When I create a .groovy file with your content or gibberish I get no error linting at all.  What is your file extension and what does Vscode call it in the bottom right of the editor?  You can click on that file type to change its file associations.  See <a href=\"https://code.visualstudio.com/docs/languages/overview#_adding-a-file-extension-to-a-language\" rel=\"nofollow noreferrer\">modifying Vscode file extensions</a>. </p>\n"},{"comments":[{"owner":{"account_id":117852,"reputation":6258,"user_id":308451,"accept_rate":91,"display_name":"JBSnorro"},"score":3,"creation_date":1541442877,"post_id":51314245,"comment_id":93210785,"body_markdown":"I was looking for the answer for _javascript_, and this works: `&quot;javascript.validate.enable&quot;: false` in the `settings.json`","body":"I was looking for the answer for <i>javascript</i>, and this works: <code>&quot;javascript.validate.enable&quot;: false</code> in the <code>settings.json</code>"},{"owner":{"account_id":2812886,"reputation":61,"user_id":2418744,"display_name":"mtj92"},"score":0,"creation_date":1669953544,"post_id":51314245,"comment_id":131765059,"body_markdown":"`&quot;java.validate.enable&quot;: false` isn&#39;t working for me","body":"<code>&quot;java.validate.enable&quot;: false</code> isn&#39;t working for me"}],"tags":[],"owner":{"account_id":2028324,"reputation":10542,"user_id":1812732,"accept_rate":72,"display_name":"John Henckel"},"comment_count":2,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1531428627,"creation_date":1531428627,"answer_id":51314245,"question_id":46061857,"body_markdown":"open your preferences file and add this\r\n\r\n    &quot;java.validate.enable&quot;: false\r\n\r\nI didn&#39;t try it for java, but it works for typescript.","title":"How to disable error highlighting for Java code in VS Code?","body":"<p>open your preferences file and add this</p>\n\n<pre><code>\"java.validate.enable\": false\n</code></pre>\n\n<p>I didn't try it for java, but it works for typescript.</p>\n"},{"comments":[{"owner":{"account_id":8706,"reputation":127360,"user_id":15809,"accept_rate":79,"display_name":"Mecki"},"score":8,"creation_date":1645785407,"post_id":57977345,"comment_id":125968187,"body_markdown":"This only affects the Files and Folders view, not the source code view","body":"This only affects the Files and Folders view, not the source code view"},{"owner":{"account_id":156152,"reputation":1663,"user_id":373266,"accept_rate":75,"display_name":"Luke"},"score":0,"creation_date":1669826633,"post_id":57977345,"comment_id":131733015,"body_markdown":"thanks, this works for me for file and folder, but it still not ignore the source code content view :(","body":"thanks, this works for me for file and folder, but it still not ignore the source code content view :("}],"tags":[],"owner":{"account_id":14267353,"reputation":109,"user_id":10306011,"display_name":"Anacarde"},"comment_count":2,"down_vote_count":3,"up_vote_count":9,"is_accepted":false,"score":6,"last_activity_date":1568734333,"creation_date":1568733399,"answer_id":57977345,"question_id":46061857,"body_markdown":"I found this:\r\n\r\n    &quot;problems.decorations.enabled&quot;: false,","title":"How to disable error highlighting for Java code in VS Code?","body":"<p>I found this:</p>\n\n<pre><code>\"problems.decorations.enabled\": false,\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28794172,"reputation":1,"user_id":22052757,"display_name":"CarlosL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686615885,"creation_date":1686410504,"answer_id":76446849,"question_id":46061857,"body_markdown":"I had a similar issue.\r\nI work with some input files that look better if VSCode thinks of them as Python files.\r\nWhen I open them in VScode it marks several lines as errors (underlining them).\r\n\r\nI Solved this by disabling the Python extensions on the left &quot;Extensions Menu&quot; and restarting VSCode. \r\nNow it opens the file and displays it as Python, but without checking for errors. Way cleaner to the eyes!\r\n","title":"How to disable error highlighting for Java code in VS Code?","body":"<p>I had a similar issue.\nI work with some input files that look better if VSCode thinks of them as Python files.\nWhen I open them in VScode it marks several lines as errors (underlining them).</p>\n<p>I Solved this by disabling the Python extensions on the left &quot;Extensions Menu&quot; and restarting VSCode.\nNow it opens the file and displays it as Python, but without checking for errors. Way cleaner to the eyes!</p>\n"}],"owner":{"account_id":195224,"reputation":1369,"user_id":438001,"accept_rate":24,"display_name":"J&#246;rg Rech"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66610,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":5,"score":18,"last_activity_date":1694987210,"creation_date":1504638830,"question_id":46061857,"body_markdown":"I need to disable error highlighting in Java files in VS Code. VS Code tries to check a Groovy file while thinking it is a Java file.\r\n\r\nAs you can see in the picture all imports after the first and the types after the first field are highlighted red (due to missing semicolons). However I do not want the error check for this Groovy file.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6J2di.png\r\n\r\nNote: I only have the plugins Clang, RedHat.Java, Markdown PDF, Sort Lines, and Uncrustify installed. Even if I disable all the red highlighting is visible.","title":"How to disable error highlighting for Java code in VS Code?","body":"<p>I need to disable error highlighting in Java files in VS Code. VS Code tries to check a Groovy file while thinking it is a Java file.</p>\n<p>As you can see in the picture all imports after the first and the types after the first field are highlighted red (due to missing semicolons). However I do not want the error check for this Groovy file.\n<a href=\"https://i.stack.imgur.com/6J2di.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6J2di.png\" alt=\"enter image description here\" /></a></p>\n<p>Note: I only have the plugins Clang, RedHat.Java, Markdown PDF, Sort Lines, and Uncrustify installed. Even if I disable all the red highlighting is visible.</p>\n"},{"tags":["java","android","xml","kotlin","exoplayer"],"owner":{"account_id":14698680,"reputation":140,"user_id":10615359,"display_name":"Muhmmad Umair"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694987028,"creation_date":1694987028,"question_id":77123721,"body_markdown":"I am playing video in exoplayer but an image which seems like thumb nail appears above the video for all the time. I don&#39;t know what is this. I think this is a first frame of video. It only appears on some devices. If you have a solution please guide. Thanks in advance.\r\n\r\nBelow is the Screen Short of my problem.[![enter image description here](https://i.stack.imgur.com/n1F2O.png)](https://i.stack.imgur.com/n1F2O.png)\r\n\r\n\r\nBelow is my xml code. \r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/main_relative&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;com.google.android.exoplayer2.ui.SimpleExoPlayerView\r\n            android:id=&quot;@+id/vv_clips&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;@dimen/_200sdp&quot; /&gt;\r\n\r\n        &lt;com.facebook.shimmer.ShimmerFrameLayout\r\n            android:id=&quot;@+id/shimmer&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;@dimen/_60sdp&quot;\r\n            android:visibility=&quot;gone&quot;&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                &lt;View\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;@dimen/_4sdp&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:background=&quot;@color/dark_grey&quot; /&gt;\r\n            &lt;/LinearLayout&gt;\r\n        &lt;/com.facebook.shimmer.ShimmerFrameLayout&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_marginTop=&quot;@dimen/_40sdp&quot;\r\n            android:layout_marginEnd=&quot;20dp&quot;&gt;\r\n\r\n            &lt;Chronometer\r\n                android:id=&quot;@+id/video_counter&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;00:00&quot;\r\n                android:textColor=&quot;@color/dark_white&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/tv_timer&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_centerInParent=&quot;true&quot;\r\n                android:text=&quot;00:00&quot;\r\n                android:textColor=&quot;@color/dark_white&quot;\r\n                android:textSize=&quot;17sp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                android:visibility=&quot;gone&quot;\r\n                app:typeface=&quot;@string/text_semi_bold_display&quot; /&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;50dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:layout_marginEnd=&quot;10dp&quot;\r\n            android:layout_marginBottom=&quot;@dimen/_60sdp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/play_linear&quot;\r\n                android:layout_width=&quot;40dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;5dp&quot;\r\n                android:gravity=&quot;center_horizontal&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                &lt;ImageView\r\n                    android:layout_width=&quot;22dp&quot;\r\n                    android:layout_height=&quot;22dp&quot;\r\n                    android:src=&quot;@drawable/play&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tv_play&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;2dp&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:text=&quot;@string/video_play_text&quot;\r\n                    android:textAlignment=&quot;center&quot;\r\n                    android:textColor=&quot;@color/dark_white&quot;\r\n                    android:textSize=&quot;13sp&quot;\r\n                    app:typeface=&quot;@string/text_semi_bold_display&quot; /&gt;\r\n\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;40dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;20dp&quot;\r\n                android:gravity=&quot;center_horizontal&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                &lt;ImageView\r\n                    android:layout_width=&quot;22dp&quot;\r\n                    android:layout_height=&quot;22dp&quot;\r\n                    android:src=&quot;@drawable/share_new&quot;\r\n                    app:tint=&quot;@color/dark_white&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;2dp&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:text=&quot;@string/share&quot;\r\n                    android:textAlignment=&quot;center&quot;\r\n                    android:textColor=&quot;@color/dark_white&quot;\r\n                    android:textSize=&quot;13sp&quot;\r\n                    app:typeface=&quot;@string/text_semi_bold_display&quot; /&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/likeLinear&quot;\r\n                android:layout_width=&quot;40dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;20dp&quot;\r\n                android:gravity=&quot;center_horizontal&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                &lt;CheckBox\r\n                    android:id=&quot;@+id/favourite&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_centerHorizontal=&quot;true&quot;\r\n                    android:button=&quot;@null&quot;\r\n                    android:clickable=&quot;false&quot;\r\n                    android:drawableLeft=&quot;@drawable/favourite_check_cuts&quot;\r\n                    android:stateListAnimator=&quot;@animator/scale&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;2dp&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:text=&quot;@string/like_text&quot;\r\n                    android:textAlignment=&quot;center&quot;\r\n                    android:textColor=&quot;@color/dark_white&quot;\r\n                    android:textSize=&quot;13sp&quot;\r\n                    app:typeface=&quot;@string/text_semi_bold_display&quot; /&gt;\r\n\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:layout_marginEnd=&quot;@dimen/_55sdp&quot;\r\n            android:layout_marginStart=&quot;@dimen/_12sdp&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/tv_title&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Video Title&quot;\r\n                android:paddingStart=&quot;5dp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                android:textColor=&quot;@color/dark_white&quot;\r\n                android:textSize=&quot;16sp&quot;/&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/tv_description&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:textColor=&quot;@color/dark_white&quot;\r\n                android:padding=&quot;7dp&quot;\r\n                android:gravity=&quot;center_vertical&quot;\r\n                android:textSize=&quot;15sp&quot;\r\n                android:textCursorDrawable=&quot;@null&quot;\r\n                android:text=&quot;Description&quot;\r\n                android:theme=&quot;@style/EditTextTheme&quot;\r\n                app:typeface=&quot;@string/text_regular_display&quot; /&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/iv_indicator&quot;\r\n                android:layout_width=&quot;@dimen/_40sdp&quot;\r\n                android:layout_height=&quot;@dimen/_40sdp&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:layout_marginStart=&quot;@dimen/_20sdp&quot;\r\n                android:layout_marginBottom=&quot;@dimen/_45sdp&quot;\r\n                android:src=&quot;@drawable/ic_arrow_up&quot;\r\n                android:visibility=&quot;invisible&quot;/&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\n\r\n\r\n\r\n \r\n\r\nI tried to clear the surface when player state ready but no luck.","title":"Video first frame is always there above the video in exoplayer. How to remove if when video playing?","body":"<p>I am playing video in exoplayer but an image which seems like thumb nail appears above the video for all the time. I don't know what is this. I think this is a first frame of video. It only appears on some devices. If you have a solution please guide. Thanks in advance.</p>\n<p>Below is the Screen Short of my problem.<a href=\"https://i.stack.imgur.com/n1F2O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n1F2O.png\" alt=\"enter image description here\" /></a></p>\n<p>Below is my xml code.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;RelativeLayout\n        android:id=&quot;@+id/main_relative&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;com.google.android.exoplayer2.ui.SimpleExoPlayerView\n            android:id=&quot;@+id/vv_clips&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;@dimen/_200sdp&quot; /&gt;\n\n        &lt;com.facebook.shimmer.ShimmerFrameLayout\n            android:id=&quot;@+id/shimmer&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;@dimen/_60sdp&quot;\n            android:visibility=&quot;gone&quot;&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n                &lt;View\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;@dimen/_4sdp&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:background=&quot;@color/dark_grey&quot; /&gt;\n            &lt;/LinearLayout&gt;\n        &lt;/com.facebook.shimmer.ShimmerFrameLayout&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_alignParentTop=&quot;true&quot;\n            android:layout_alignParentEnd=&quot;true&quot;\n            android:layout_marginTop=&quot;@dimen/_40sdp&quot;\n            android:layout_marginEnd=&quot;20dp&quot;&gt;\n\n            &lt;Chronometer\n                android:id=&quot;@+id/video_counter&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;00:00&quot;\n                android:textColor=&quot;@color/dark_white&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/tv_timer&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_centerInParent=&quot;true&quot;\n                android:text=&quot;00:00&quot;\n                android:textColor=&quot;@color/dark_white&quot;\n                android:textSize=&quot;17sp&quot;\n                android:textStyle=&quot;bold&quot;\n                android:visibility=&quot;gone&quot;\n                app:typeface=&quot;@string/text_semi_bold_display&quot; /&gt;\n\n        &lt;/LinearLayout&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;50dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_alignParentEnd=&quot;true&quot;\n            android:layout_alignParentBottom=&quot;true&quot;\n            android:layout_marginEnd=&quot;10dp&quot;\n            android:layout_marginBottom=&quot;@dimen/_60sdp&quot;\n            android:gravity=&quot;center&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/play_linear&quot;\n                android:layout_width=&quot;40dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;5dp&quot;\n                android:gravity=&quot;center_horizontal&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n                &lt;ImageView\n                    android:layout_width=&quot;22dp&quot;\n                    android:layout_height=&quot;22dp&quot;\n                    android:src=&quot;@drawable/play&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/tv_play&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginTop=&quot;2dp&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:text=&quot;@string/video_play_text&quot;\n                    android:textAlignment=&quot;center&quot;\n                    android:textColor=&quot;@color/dark_white&quot;\n                    android:textSize=&quot;13sp&quot;\n                    app:typeface=&quot;@string/text_semi_bold_display&quot; /&gt;\n\n\n            &lt;/LinearLayout&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;40dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:gravity=&quot;center_horizontal&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n                &lt;ImageView\n                    android:layout_width=&quot;22dp&quot;\n                    android:layout_height=&quot;22dp&quot;\n                    android:src=&quot;@drawable/share_new&quot;\n                    app:tint=&quot;@color/dark_white&quot; /&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginTop=&quot;2dp&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:text=&quot;@string/share&quot;\n                    android:textAlignment=&quot;center&quot;\n                    android:textColor=&quot;@color/dark_white&quot;\n                    android:textSize=&quot;13sp&quot;\n                    app:typeface=&quot;@string/text_semi_bold_display&quot; /&gt;\n\n            &lt;/LinearLayout&gt;\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/likeLinear&quot;\n                android:layout_width=&quot;40dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:gravity=&quot;center_horizontal&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n                &lt;CheckBox\n                    android:id=&quot;@+id/favourite&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_centerHorizontal=&quot;true&quot;\n                    android:button=&quot;@null&quot;\n                    android:clickable=&quot;false&quot;\n                    android:drawableLeft=&quot;@drawable/favourite_check_cuts&quot;\n                    android:stateListAnimator=&quot;@animator/scale&quot; /&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginTop=&quot;2dp&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:text=&quot;@string/like_text&quot;\n                    android:textAlignment=&quot;center&quot;\n                    android:textColor=&quot;@color/dark_white&quot;\n                    android:textSize=&quot;13sp&quot;\n                    app:typeface=&quot;@string/text_semi_bold_display&quot; /&gt;\n\n\n            &lt;/LinearLayout&gt;\n\n        &lt;/LinearLayout&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_alignParentBottom=&quot;true&quot;\n            android:layout_marginEnd=&quot;@dimen/_55sdp&quot;\n            android:layout_marginStart=&quot;@dimen/_12sdp&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/tv_title&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Video Title&quot;\n                android:paddingStart=&quot;5dp&quot;\n                android:textStyle=&quot;bold&quot;\n                android:textColor=&quot;@color/dark_white&quot;\n                android:textSize=&quot;16sp&quot;/&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/tv_description&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:textColor=&quot;@color/dark_white&quot;\n                android:padding=&quot;7dp&quot;\n                android:gravity=&quot;center_vertical&quot;\n                android:textSize=&quot;15sp&quot;\n                android:textCursorDrawable=&quot;@null&quot;\n                android:text=&quot;Description&quot;\n                android:theme=&quot;@style/EditTextTheme&quot;\n                app:typeface=&quot;@string/text_regular_display&quot; /&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/iv_indicator&quot;\n                android:layout_width=&quot;@dimen/_40sdp&quot;\n                android:layout_height=&quot;@dimen/_40sdp&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:layout_marginStart=&quot;@dimen/_20sdp&quot;\n                android:layout_marginBottom=&quot;@dimen/_45sdp&quot;\n                android:src=&quot;@drawable/ic_arrow_up&quot;\n                android:visibility=&quot;invisible&quot;/&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/RelativeLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>I tried to clear the surface when player state ready but no luck.</p>\n"},{"tags":["java","servlets","scheduled-tasks","quartz-scheduler"],"answers":[{"comments":[{"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"score":0,"creation_date":1426158712,"post_id":29008124,"comment_id":46261703,"body_markdown":"Your code is incomplete and I am unable to understand it properly.","body":"Your code is incomplete and I am unable to understand it properly."},{"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"score":0,"creation_date":1426159743,"post_id":29008124,"comment_id":46262334,"body_markdown":"Thanks. what is job name here? `passportJob1` ?","body":"Thanks. what is job name here? <code>passportJob1</code> ?"},{"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"score":0,"creation_date":1426160123,"post_id":29008124,"comment_id":46262578,"body_markdown":"Yes. But there is an issue. That is, in your linked example, that person is first listing all the jobs. Here I can&#39;t pass the schedule, because it will simple delete the job which is scheduled &quot;just now&quot;","body":"Yes. But there is an issue. That is, in your linked example, that person is first listing all the jobs. Here I can&#39;t pass the schedule, because it will simple delete the job which is scheduled &quot;just now&quot;"},{"owner":{"account_id":4750084,"reputation":2929,"user_id":3840344,"accept_rate":73,"display_name":"Raghuveer"},"score":0,"creation_date":1426160422,"post_id":29008124,"comment_id":46262748,"body_markdown":"Thats whats you want i think from your post, just delete and re-schedule the job right? and if you cant send scheduler then you have to list and fetch and then send it as done in the example","body":"Thats whats you want i think from your post, just delete and re-schedule the job right? and if you cant send scheduler then you have to list and fetch and then send it as done in the example"}],"tags":[],"owner":{"account_id":4750084,"reputation":2929,"user_id":3840344,"accept_rate":73,"display_name":"Raghuveer"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1694986360,"creation_date":1426158457,"answer_id":29008124,"question_id":29007738,"body_markdown":"We can do in 2 ways:\r\n \r\n1. Manually kill job and start again\r\n 2. use the code below:\r\n\r\n&gt;  scheduler.deleteJob(new JobKey(jobData.getJobName()));\r\n\r\n Refer [link][1] for more details.\r\n\r\n\r\n  [1]: https://xebiaww.wordpress.com/2012/06/14/create-update-and-delete-jobs-dynamically-in-quartz/\r\n\r\nwhat you are trying to do it to delete a new job which is not useful.\r\n\r\nYou can edit your deleteJob() like below and call it when required:\r\n\r\n       private void deleteJob(Scheduler scheduler, String jobName)\r\n        {\r\n            try {\r\n                \r\n                scheduler.deleteJob(new JobKey(jobName));\r\n    \r\n            } catch (Exception ex) {\r\n                System.out.println(ex);\r\n            }\r\n        }\r\n\r\n","title":"How to delete or re-schedule a job?","body":"<p>We can do in 2 ways:</p>\n<ol>\n<li>Manually kill job and start again</li>\n<li>use the code below:</li>\n</ol>\n<blockquote>\n<p>scheduler.deleteJob(new JobKey(jobData.getJobName()));</p>\n</blockquote>\n<p>Refer <a href=\"https://xebiaww.wordpress.com/2012/06/14/create-update-and-delete-jobs-dynamically-in-quartz/\" rel=\"nofollow noreferrer\">link</a> for more details.</p>\n<p>what you are trying to do it to delete a new job which is not useful.</p>\n<p>You can edit your deleteJob() like below and call it when required:</p>\n<pre><code>   private void deleteJob(Scheduler scheduler, String jobName)\n    {\n        try {\n            \n            scheduler.deleteJob(new JobKey(jobName));\n\n        } catch (Exception ex) {\n            System.out.println(ex);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12838,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694986360,"creation_date":1426157427,"question_id":29007738,"body_markdown":"Please have a look at the below code\r\n\r\n    /*\r\n     * To change this license header, choose License Headers in Project Properties.\r\n     * To change this template file, choose Tools | Templates\r\n     * and open the template in the editor.\r\n     */\r\n    package RemindeWorker.Listener;\r\n    \r\n    \r\n    import java.util.Date;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import static org.quartz.CronScheduleBuilder.dailyAtHourAndMinute;\r\n    import static org.quartz.JobBuilder.newJob;\r\n    import org.quartz.JobDetail;\r\n    import org.quartz.Scheduler;\r\n    import org.quartz.SchedulerException;\r\n    import org.quartz.Trigger;\r\n    import static org.quartz.TriggerBuilder.newTrigger;\r\n    import static org.quartz.TriggerKey.triggerKey;\r\n    import org.quartz.impl.StdSchedulerFactory;\r\n    \r\n    /**\r\n     *\r\n     * @author Yohan\r\n     */\r\n    public class ReminderExecuter extends ReminderCommon\r\n    {\r\n        private static ReminderExecuter r;\r\n        \r\n        private ReminderExecuter()\r\n        {\r\n            super();\r\n        }\r\n        \r\n        public static ReminderExecuter  getReminderExecuter()\r\n        {\r\n            if(r==null)\r\n            {\r\n                r = new ReminderExecuter();\r\n            }\r\n            \r\n            return r;\r\n        }\r\n        \r\n        public void executeRemnders()\r\n        {\r\n            passportReminder1();\r\n           // passportReminder2();\r\n        }\r\n        \r\n        private void passportReminder1()\r\n        {\r\n            String[] reminderTime = getFirstReminderTime().trim().split(&quot;:&quot;);\r\n            String reminderHour = reminderTime[0];\r\n            String reminderMinute = reminderTime[1];\r\n            \r\n            String[]reminderTime2 = getSecondReminderTime().trim().split(&quot;:&quot;);\r\n            String reminderHour2 = reminderTime2[0];\r\n            String reminderMinute2 = reminderTime2[1];\r\n            \r\n            System.out.println(&quot;Reminder Hour: &quot;+reminderHour);\r\n            System.out.println(&quot;Reminder Minute: &quot;+reminderMinute);\r\n            \r\n            JobDetail job = newJob(PassportJob.class).withIdentity(&quot;passportJob1&quot;)\r\n                    .usingJobData(&quot;userName&quot;, getUserName())\r\n                    .usingJobData(&quot;password&quot;,getPassword())\r\n                    .usingJobData(&quot;host&quot;,getHost())\r\n                    \r\n                    .build();\r\n     \r\n             Trigger trigger = newTrigger()\r\n                     .withIdentity(triggerKey(&quot;passportTrigger1&quot;, &quot;passportTriggerGroup1&quot;))\r\n                     .withSchedule(dailyAtHourAndMinute(Integer.parseInt(reminderHour), Integer.parseInt(reminderMinute)))\r\n                     .startAt(new Date()).build();\r\n             \r\n             Trigger trigger2 = newTrigger()\r\n                     .withIdentity(triggerKey(&quot;passportTrigger2&quot;, &quot;passportTriggerGroup2&quot;))\r\n                     .withSchedule(dailyAtHourAndMinute(Integer.parseInt(reminderHour2), Integer.parseInt(reminderMinute2)))\r\n                     .startAt(new Date()).build();\r\n    \r\n            try {\r\n                Scheduler scheduler = new StdSchedulerFactory().getScheduler();\r\n                scheduler.start();\r\n                scheduler.scheduleJob(job, trigger);\r\n                System.out.println(&quot;Job 1 Scheduled&quot;);\r\n                \r\n                Scheduler scheduler2 = new StdSchedulerFactory().getScheduler();\r\n                scheduler2.start();\r\n                scheduler2.scheduleJob(job, trigger2);\r\n                System.out.println(&quot;Job 2 Scheduled&quot;);\r\n              \r\n            } catch (SchedulerException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n        \r\n        \r\n        \r\n        private void deleteJob()\r\n        {\r\n            try {\r\n                Scheduler scheduler = new StdSchedulerFactory().getScheduler();\r\n                scheduler.deleteJob(null);\r\n                \r\n            } catch (SchedulerException ex) {\r\n                System.out.println(ex);\r\n            }\r\n        }\r\n    }\r\n\r\nHere I created the `deleteJob()` method to delete and re-open or re-schedule the jobs listed in `passportReminder1()`. However I have no idea about how to it. Hw can I delete or re-schedule a quartz job? I am using the quartz 2 API.","title":"How to delete or re-schedule a job?","body":"<p>Please have a look at the below code</p>\n\n<pre><code>/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\npackage RemindeWorker.Listener;\n\n\nimport java.util.Date;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport static org.quartz.CronScheduleBuilder.dailyAtHourAndMinute;\nimport static org.quartz.JobBuilder.newJob;\nimport org.quartz.JobDetail;\nimport org.quartz.Scheduler;\nimport org.quartz.SchedulerException;\nimport org.quartz.Trigger;\nimport static org.quartz.TriggerBuilder.newTrigger;\nimport static org.quartz.TriggerKey.triggerKey;\nimport org.quartz.impl.StdSchedulerFactory;\n\n/**\n *\n * @author Yohan\n */\npublic class ReminderExecuter extends ReminderCommon\n{\n    private static ReminderExecuter r;\n\n    private ReminderExecuter()\n    {\n        super();\n    }\n\n    public static ReminderExecuter  getReminderExecuter()\n    {\n        if(r==null)\n        {\n            r = new ReminderExecuter();\n        }\n\n        return r;\n    }\n\n    public void executeRemnders()\n    {\n        passportReminder1();\n       // passportReminder2();\n    }\n\n    private void passportReminder1()\n    {\n        String[] reminderTime = getFirstReminderTime().trim().split(\":\");\n        String reminderHour = reminderTime[0];\n        String reminderMinute = reminderTime[1];\n\n        String[]reminderTime2 = getSecondReminderTime().trim().split(\":\");\n        String reminderHour2 = reminderTime2[0];\n        String reminderMinute2 = reminderTime2[1];\n\n        System.out.println(\"Reminder Hour: \"+reminderHour);\n        System.out.println(\"Reminder Minute: \"+reminderMinute);\n\n        JobDetail job = newJob(PassportJob.class).withIdentity(\"passportJob1\")\n                .usingJobData(\"userName\", getUserName())\n                .usingJobData(\"password\",getPassword())\n                .usingJobData(\"host\",getHost())\n\n                .build();\n\n         Trigger trigger = newTrigger()\n                 .withIdentity(triggerKey(\"passportTrigger1\", \"passportTriggerGroup1\"))\n                 .withSchedule(dailyAtHourAndMinute(Integer.parseInt(reminderHour), Integer.parseInt(reminderMinute)))\n                 .startAt(new Date()).build();\n\n         Trigger trigger2 = newTrigger()\n                 .withIdentity(triggerKey(\"passportTrigger2\", \"passportTriggerGroup2\"))\n                 .withSchedule(dailyAtHourAndMinute(Integer.parseInt(reminderHour2), Integer.parseInt(reminderMinute2)))\n                 .startAt(new Date()).build();\n\n        try {\n            Scheduler scheduler = new StdSchedulerFactory().getScheduler();\n            scheduler.start();\n            scheduler.scheduleJob(job, trigger);\n            System.out.println(\"Job 1 Scheduled\");\n\n            Scheduler scheduler2 = new StdSchedulerFactory().getScheduler();\n            scheduler2.start();\n            scheduler2.scheduleJob(job, trigger2);\n            System.out.println(\"Job 2 Scheduled\");\n\n        } catch (SchedulerException ex) {\n            ex.printStackTrace();\n        }\n    }\n\n\n\n    private void deleteJob()\n    {\n        try {\n            Scheduler scheduler = new StdSchedulerFactory().getScheduler();\n            scheduler.deleteJob(null);\n\n        } catch (SchedulerException ex) {\n            System.out.println(ex);\n        }\n    }\n}\n</code></pre>\n\n<p>Here I created the <code>deleteJob()</code> method to delete and re-open or re-schedule the jobs listed in <code>passportReminder1()</code>. However I have no idea about how to it. Hw can I delete or re-schedule a quartz job? I am using the quartz 2 API.</p>\n"},{"tags":["java","binary-tree"],"comments":[{"owner":{"account_id":2799515,"reputation":815,"user_id":6647878,"display_name":"Nidhi257"},"score":2,"creation_date":1694497274,"post_id":77086292,"comment_id":135894615,"body_markdown":"can add sample output so that we can get clear picture on which indentation you are talking about.","body":"can add sample output so that we can get clear picture on which indentation you are talking about."},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":3,"creation_date":1694497900,"post_id":77086292,"comment_id":135894699,"body_markdown":"Does this answer your question? [How to print binary tree diagram in Java?](https://stackoverflow.com/questions/4965335/how-to-print-binary-tree-diagram-in-java)Why couldn&#39;t the questioner do a search first?","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4965335/how-to-print-binary-tree-diagram-in-java\">How to print binary tree diagram in Java?</a>Why couldn&#39;t the questioner do a search first?"},{"owner":{"account_id":25432602,"reputation":21,"user_id":19236762,"display_name":"Zynbad"},"score":0,"creation_date":1694498000,"post_id":77086292,"comment_id":135894714,"body_markdown":"@Nidhi257 its up now","body":"@Nidhi257 its up now"},{"owner":{"account_id":25432602,"reputation":21,"user_id":19236762,"display_name":"Zynbad"},"score":0,"creation_date":1694498083,"post_id":77086292,"comment_id":135894723,"body_markdown":"@时间只会一直走 that is different, i added images so that u can see what it is supposed to look like","body":"@时间只会一直走 that is different, i added images so that u can see what it is supposed to look like"},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1694498326,"post_id":77086292,"comment_id":135894749,"body_markdown":"You haven&#39;t looked at that question carefully at all. The answer below has a solution to your problem.","body":"You haven&#39;t looked at that question carefully at all. The answer below has a solution to your problem."},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1694498414,"post_id":77086292,"comment_id":135894761,"body_markdown":"https://stackoverflow.com/a/53705889/3553434 This is almost exactly what you need, at least with a little modification! \nYou can refer to this. and this https://stackoverflow.com/a/42449385/3553434","body":"<a href=\"https://stackoverflow.com/a/53705889/3553434\">stackoverflow.com/a/53705889/3553434</a> This is almost exactly what you need, at least with a little modification!  You can refer to this. and this <a href=\"https://stackoverflow.com/a/42449385/3553434\">stackoverflow.com/a/42449385/3553434</a>"}],"answers":[{"tags":[],"owner":{"account_id":14883843,"reputation":193,"user_id":12280406,"display_name":"solitude"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694498611,"creation_date":1694498611,"answer_id":77086437,"question_id":77086292,"body_markdown":"The reason why indent is printing on first time around is because you are using `indentation` variable both for adding extra spacing and for checking if you are in a root node or not.\r\n\r\nTry setting up new boolean parameter to identify the first node vs the `indentation` String. \r\n\r\n&gt; `boolean isFirst`\r\n\r\nHere is how you do it:\r\n\r\n    public void printTree() {\r\n        UI.clearText();\r\n        printTreeHelper(theTree, &quot;&quot;, true); // Print without indentation for the first node.\r\n        UI.println();\r\n        UI.println(&quot;Completion version:&quot;);\r\n        printTreeHelper(theTree, &quot;&quot;, true); // Print with indentation for the first node.\r\n    }\r\n    \r\n    private void printTreeHelper(DTNode node, String indentation, boolean isFirst) {\r\n        if (node != null) {\r\n            String nodeText;\r\n            if (isFirst) {\r\n                nodeText = node.getText(); // No indentation for the first node\r\n            } else {\r\n                nodeText = indentation + &quot; &quot; + node.getText(); // Indentation for all other nodes\r\n            }\r\n            UI.println(nodeText);\r\n            printTreeHelper(node.getYes(), indentation + &quot;  &quot;, false); // Continue for &quot;yes&quot; child with increased indentation.\r\n            printTreeHelper(node.getNo(), indentation + &quot;  &quot;, false); // Continue for &quot;no&quot; child with increased indentation.\r\n        }\r\n    }\r\n\r\nBasically what it does is it takes additional parameter on first check, if its `true` and if it is set to `false` and decide if it will add indentation or not.","title":"Printing binary tree","body":"<p>The reason why indent is printing on first time around is because you are using <code>indentation</code> variable both for adding extra spacing and for checking if you are in a root node or not.</p>\n<p>Try setting up new boolean parameter to identify the first node vs the <code>indentation</code> String.</p>\n<blockquote>\n<p><code>boolean isFirst</code></p>\n</blockquote>\n<p>Here is how you do it:</p>\n<pre><code>public void printTree() {\n    UI.clearText();\n    printTreeHelper(theTree, &quot;&quot;, true); // Print without indentation for the first node.\n    UI.println();\n    UI.println(&quot;Completion version:&quot;);\n    printTreeHelper(theTree, &quot;&quot;, true); // Print with indentation for the first node.\n}\n\nprivate void printTreeHelper(DTNode node, String indentation, boolean isFirst) {\n    if (node != null) {\n        String nodeText;\n        if (isFirst) {\n            nodeText = node.getText(); // No indentation for the first node\n        } else {\n            nodeText = indentation + &quot; &quot; + node.getText(); // Indentation for all other nodes\n        }\n        UI.println(nodeText);\n        printTreeHelper(node.getYes(), indentation + &quot;  &quot;, false); // Continue for &quot;yes&quot; child with increased indentation.\n        printTreeHelper(node.getNo(), indentation + &quot;  &quot;, false); // Continue for &quot;no&quot; child with increased indentation.\n    }\n}\n</code></pre>\n<p>Basically what it does is it takes additional parameter on first check, if its <code>true</code> and if it is set to <code>false</code> and decide if it will add indentation or not.</p>\n"}],"owner":{"account_id":25432602,"reputation":21,"user_id":19236762,"display_name":"Zynbad"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1694986653,"answer_count":1,"score":0,"last_activity_date":1694986333,"creation_date":1694496169,"question_id":77086292,"body_markdown":"I have been trying for a while to identify why the tree is printing with indentation for the first time around. I&#39;m trying to make it so that it doesn&#39;t print with indentation on the first time. \r\n\r\n\r\n```\r\npublic void printTree() {\r\n    UI.clearText();\r\n    printTreeHelper(theTree, &quot;&quot;); // Print without indentation and no initial answer.\r\n    UI.println();\r\n    UI.println(&quot;Completion version:&quot;);\r\n    printTreeHelper(theTree, &quot;&quot;); // Print with indentation and no initial answer.\r\n}\r\n\r\nprivate void printTreeHelper(DTNode node, String indentation) {\r\n    if (node != null) {\r\n        String nodeText = indentation + (indentation.isEmpty() ? &quot;&quot; : &quot; &quot;) + node.getText();\r\n        UI.println(nodeText); // Print the current node&#39;s text with or without indentation.\r\n        printTreeHelper(node.getYes(), indentation + &quot;  &quot;); // Continue for &quot;yes&quot; child with increased indentation.\r\n        printTreeHelper(node.getNo(), indentation + &quot;  &quot;); // Continue for &quot;no&quot; child with increased indentation.\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n[THe picture of what it looks like][1]\r\nvs\r\n[What it should look like][2]\r\n\r\nI tried many things but didn&#39;t work\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/enody.png\r\n  [2]: https://i.stack.imgur.com/dzfPu.png","title":"Printing binary tree","body":"<p>I have been trying for a while to identify why the tree is printing with indentation for the first time around. I'm trying to make it so that it doesn't print with indentation on the first time.</p>\n<pre><code>public void printTree() {\n    UI.clearText();\n    printTreeHelper(theTree, &quot;&quot;); // Print without indentation and no initial answer.\n    UI.println();\n    UI.println(&quot;Completion version:&quot;);\n    printTreeHelper(theTree, &quot;&quot;); // Print with indentation and no initial answer.\n}\n\nprivate void printTreeHelper(DTNode node, String indentation) {\n    if (node != null) {\n        String nodeText = indentation + (indentation.isEmpty() ? &quot;&quot; : &quot; &quot;) + node.getText();\n        UI.println(nodeText); // Print the current node's text with or without indentation.\n        printTreeHelper(node.getYes(), indentation + &quot;  &quot;); // Continue for &quot;yes&quot; child with increased indentation.\n        printTreeHelper(node.getNo(), indentation + &quot;  &quot;); // Continue for &quot;no&quot; child with increased indentation.\n    }\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/enody.png\" rel=\"nofollow noreferrer\">THe picture of what it looks like</a>\nvs\n<a href=\"https://i.stack.imgur.com/dzfPu.png\" rel=\"nofollow noreferrer\">What it should look like</a></p>\n<p>I tried many things but didn't work</p>\n"},{"tags":["java","android","zip4j"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1692379223,"post_id":76931218,"comment_id":135619878,"body_markdown":"`addFile` followed by `removeFile`. Then save that `empty.zip` as resource and use `Files.copy` to create empty zip files.","body":"<code>addFile</code> followed by <code>removeFile</code>. Then save that <code>empty.zip</code> as resource and use <code>Files.copy</code> to create empty zip files."},{"owner":{"account_id":3243986,"reputation":1956,"user_id":2736153,"display_name":"Srikanth Reddy Lingala"},"score":0,"creation_date":1692404673,"post_id":76931218,"comment_id":135623063,"body_markdown":"I am just curious as to why you would want to create an empty zip file? Zip4j does not support it out of the box. You probably want to consider the hack in the comment above - i.e., to add a file and then remove that file to/from the zip","body":"I am just curious as to why you would want to create an empty zip file? Zip4j does not support it out of the box. You probably want to consider the hack in the comment above - i.e., to add a file and then remove that file to/from the zip"},{"owner":{"account_id":16436278,"reputation":1,"user_id":11873796,"display_name":"mahmoud hooda"},"score":0,"creation_date":1692457471,"post_id":76931218,"comment_id":135627329,"body_markdown":"@JoopEggen hi any another way to create zip file without add an then remove file?","body":"@JoopEggen hi any another way to create zip file without add an then remove file?"},{"owner":{"account_id":16436278,"reputation":1,"user_id":11873796,"display_name":"mahmoud hooda"},"score":0,"creation_date":1692458030,"post_id":76931218,"comment_id":135627412,"body_markdown":"@SrikanthReddyLingala is Zip4j  doesn&#39;t support to create empty zip file?","body":"@SrikanthReddyLingala is Zip4j  doesn&#39;t support to create empty zip file?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1692463102,"post_id":76931218,"comment_id":135627976,"body_markdown":"If zip4j forgot to implement that, you can use java.util.zip ZipFile or as said use a manually created empty zip.","body":"If zip4j forgot to implement that, you can use java.util.zip ZipFile or as said use a manually created empty zip."},{"owner":{"account_id":16436278,"reputation":1,"user_id":11873796,"display_name":"mahmoud hooda"},"score":0,"creation_date":1692531758,"post_id":76931218,"comment_id":135633449,"body_markdown":"@JoopEggen I know an empty zip can be created with java.util.zip but I want to use only the zip4j library","body":"@JoopEggen I know an empty zip can be created with java.util.zip but I want to use only the zip4j library"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1692548496,"post_id":76931218,"comment_id":135635451,"body_markdown":"`new ZipFile(&quot;filename.zip&quot;).addFiles(new File[0]);` you probably already tried first.","body":"<code>new ZipFile(&quot;filename.zip&quot;).addFiles(new File[0]);</code> you probably already tried first."}],"answers":[{"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1692391233,"post_id":76931417,"comment_id":135621711,"body_markdown":"This should be down voted as you try to use a directory as file.","body":"This should be down voted as you try to use a directory as file."},{"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"score":0,"creation_date":1692416531,"post_id":76931417,"comment_id":135623710,"body_markdown":"@blackapps your affirmation is based on what?","body":"@blackapps your affirmation is based on what?"},{"owner":{"account_id":16436278,"reputation":1,"user_id":11873796,"display_name":"mahmoud hooda"},"score":0,"creation_date":1692457834,"post_id":76931417,"comment_id":135627375,"body_markdown":"@FARS see me edit what i want?","body":"@FARS see me edit what i want?"},{"owner":{"account_id":16436278,"reputation":1,"user_id":11873796,"display_name":"mahmoud hooda"},"score":0,"creation_date":1692457946,"post_id":76931417,"comment_id":135627399,"body_markdown":"@FARS you answer [extractAll] file from Zip file and i don&#39;t want that, i wanna just create empty zip file by only [path] like this path /storage/emulated/0/ZipPro/zipPro.zip","body":"@FARS you answer [extractAll] file from Zip file and i don&#39;t want that, i wanna just create empty zip file by only [path] like this path /storage/emulated/0/ZipPro/zipPro.zip"}],"tags":[],"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694985380,"creation_date":1692379331,"answer_id":76931417,"question_id":76931218,"body_markdown":"Try this:\r\n\r\n                File file = new File(&quot;path/to/folder/FOLDER_NAME&quot;);\r\n                if(!file.exists())\r\n                    file.mkdir();\r\n                ZipFile zipFile = new ZipFile(file);\r\n                zipFile.extractAll(file.getPath());\r\n","title":"Create empty zip file using Zip4j library","body":"<p>Try this:</p>\n<pre><code>            File file = new File(&quot;path/to/folder/FOLDER_NAME&quot;);\n            if(!file.exists())\n                file.mkdir();\n            ZipFile zipFile = new ZipFile(file);\n            zipFile.extractAll(file.getPath());\n</code></pre>\n"}],"owner":{"account_id":16436278,"reputation":1,"user_id":11873796,"display_name":"mahmoud hooda"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1694985513,"creation_date":1692377357,"question_id":76931218,"body_markdown":"I want to know how to create empty zip file using Zip4j library.\r\n\r\nShouldn&#39;t this line of code be enough to create an empty zip file? When I tried it, it doesn&#39;t work.\r\n\r\n```\r\nZipFile zipFile1 = new ZipFile(zipFilePath);\r\n```\r\n\r\nMy question is for this lib : https://github.com/srikanth-lingala/zip4j\r\n\r\nEdit\r\n---\r\n\r\nAn answer told me to create ZipFile and add file in it then remove that file. I just want to create ZipFile directly without any complications, just function get path like &quot;/storage/emulated/0/ZipPro/zipPro.zip&quot; and create this zip file &quot;zipPro.zip&quot;.\r\n","title":"Create empty zip file using Zip4j library","body":"<p>I want to know how to create empty zip file using Zip4j library.</p>\n<p>Shouldn't this line of code be enough to create an empty zip file? When I tried it, it doesn't work.</p>\n<pre><code>ZipFile zipFile1 = new ZipFile(zipFilePath);\n</code></pre>\n<p>My question is for this lib : <a href=\"https://github.com/srikanth-lingala/zip4j\" rel=\"nofollow noreferrer\">https://github.com/srikanth-lingala/zip4j</a></p>\n<h2>Edit</h2>\n<p>An answer told me to create ZipFile and add file in it then remove that file. I just want to create ZipFile directly without any complications, just function get path like &quot;/storage/emulated/0/ZipPro/zipPro.zip&quot; and create this zip file &quot;zipPro.zip&quot;.</p>\n"},{"tags":["java",".net"],"answers":[{"comments":[{"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"score":0,"creation_date":1278933144,"post_id":3012117,"comment_id":3331467,"body_markdown":"It wouldn&#39;t be that much of a stretch to create a delegating decorator which implements `Map` and your own `Equatable` (*is that even a word?*) interface though.","body":"It wouldn&#39;t be that much of a stretch to create a delegating decorator which implements <code>Map</code> and your own <code>Equatable</code> (<i>is that even a word?</i>) interface though."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1278942049,"post_id":3012117,"comment_id":3332755,"body_markdown":"@Esko: Do you mean making the underlying map contain proxied keys, effectively? It&#39;s doable, but it would be ugly... and I suspect it would create issues when you tried to do weak maps etc. It would have been much nicer if it had been in there to start with.","body":"@Esko: Do you mean making the underlying map contain proxied keys, effectively? It&#39;s doable, but it would be ugly... and I suspect it would create issues when you tried to do weak maps etc. It would have been much nicer if it had been in there to start with."},{"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"score":0,"creation_date":1278945889,"post_id":3012117,"comment_id":3333258,"body_markdown":"Why not that way too. Proxying through `WeakReference` shouldn&#39;t be that much of an extra work, either. I do see your point though, C# has lots of these things readily implemented while Java likes to be the &quot;barebones&quot; language. I guess Google Collections may have something for this through its Predicate/Function system but I&#39;m not sure...","body":"Why not that way too. Proxying through <code>WeakReference</code> shouldn&#39;t be that much of an extra work, either. I do see your point though, C# has lots of these things readily implemented while Java likes to be the &quot;barebones&quot; language. I guess Google Collections may have something for this through its Predicate/Function system but I&#39;m not sure..."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1278946177,"post_id":3012117,"comment_id":3333295,"body_markdown":"@Esko: I don&#39;t believe I&#39;ve seen any Google collections with the `IEqualityComparer&lt;T&gt;` interface equivalent, which is really what&#39;s required for the most general purpose solution. (It&#39;s easy to build a comparer based on an equatable type.)","body":"@Esko: I don&#39;t believe I&#39;ve seen any Google collections with the <code>IEqualityComparer&lt;T&gt;</code> interface equivalent, which is really what&#39;s required for the most general purpose solution. (It&#39;s easy to build a comparer based on an equatable type.)"},{"owner":{"account_id":32913,"reputation":129972,"user_id":91671,"accept_rate":89,"display_name":"LBushkin"},"score":2,"creation_date":1385836152,"post_id":3012117,"comment_id":30296364,"body_markdown":"The lack of an Equatable interface in the BCL is one of Java&#39;s many frustrating flaws - it essentially requires that you implement (or at least imply that you implement) a total order for a class even when it may not make any sense just to allow a type to be used as a key in a hashmap.","body":"The lack of an Equatable interface in the BCL is one of Java&#39;s many frustrating flaws - it essentially requires that you implement (or at least imply that you implement) a total order for a class even when it may not make any sense just to allow a type to be used as a key in a hashmap."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":5,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1276151254,"creation_date":1276151254,"answer_id":3012117,"question_id":3012108,"body_markdown":"Unfortunately I don&#39;t believe there is one - which is a pain in terms of providing hash maps etc with custom equality comparisons :(\r\n\r\nObviously there&#39;s `Comparable&lt;T&gt;` as an equivalent to `IComparable&lt;T&gt;` and `Comparator&lt;T&gt;` for `IComparer&lt;T&gt;`, but I don&#39;t believe there&#39;s any equivalent of `IEqualityComparer&lt;T&gt;` and `IEquatable&lt;T&gt;`.\r\n\r\nThere may be third party libraries providing the same sort of interface and maps which use them of course...","title":"What is the Java equivalent of .NET&#39;s IEquatable&lt;T&gt; Interface?","body":"<p>Unfortunately I don't believe there is one - which is a pain in terms of providing hash maps etc with custom equality comparisons :(</p>\n\n<p>Obviously there's <code>Comparable&lt;T&gt;</code> as an equivalent to <code>IComparable&lt;T&gt;</code> and <code>Comparator&lt;T&gt;</code> for <code>IComparer&lt;T&gt;</code>, but I don't believe there's any equivalent of <code>IEqualityComparer&lt;T&gt;</code> and <code>IEquatable&lt;T&gt;</code>.</p>\n\n<p>There may be third party libraries providing the same sort of interface and maps which use them of course...</p>\n"},{"comments":[{"owner":{"account_id":1924197,"reputation":797,"user_id":1735032,"display_name":"Julien"},"score":3,"creation_date":1361438148,"post_id":3227895,"comment_id":21067111,"body_markdown":"a good override implementation of `equals()` can be found here:\nhttp://stackoverflow.com/questions/185937/overriding-the-java-equals-method-quirk","body":"a good override implementation of <code>equals()</code> can be found here: <a href=\"http://stackoverflow.com/questions/185937/overriding-the-java-equals-method-quirk\" title=\"overriding the java equals method quirk\">stackoverflow.com/questions/185937/&hellip;</a>"}],"tags":[],"owner":{"account_id":41184,"reputation":99,"user_id":119640,"display_name":"Ahmed Mostafa Abdel-Baky"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1694984746,"creation_date":1278932813,"answer_id":3227895,"question_id":3012108,"body_markdown":"If you are just looking for that interface to implement the [Equals(T)](https://learn.microsoft.com/en-us/dotnet/api/system.iequatable-1.equals) method, you can override the [Object.equals()](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)) method directly.","title":"What is the Java equivalent of .NET&#39;s IEquatable&lt;T&gt; Interface?","body":"<p>If you are just looking for that interface to implement the <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.iequatable-1.equals\" rel=\"nofollow noreferrer\">Equals(T)</a> method, you can override the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">Object.equals()</a> method directly.</p>\n"},{"tags":[],"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1324666347,"creation_date":1324666347,"answer_id":8619645,"question_id":3012108,"body_markdown":"The `IEquatable&lt;T&gt;` interface is primarily useful with generic classes that store many instances of what may be unboxed structure types; it&#39;s marginally useful with sealed types, and worse than useless with unsealed types.  There&#39;s thus really wouldn&#39;t be any point to implementing `IEquatable&lt;T&gt;` in Java.","title":"What is the Java equivalent of .NET&#39;s IEquatable&lt;T&gt; Interface?","body":"<p>The <code>IEquatable&lt;T&gt;</code> interface is primarily useful with generic classes that store many instances of what may be unboxed structure types; it's marginally useful with sealed types, and worse than useless with unsealed types.  There's thus really wouldn't be any point to implementing <code>IEquatable&lt;T&gt;</code> in Java.</p>\n"},{"tags":[],"owner":{"account_id":21487,"reputation":17831,"user_id":52239,"accept_rate":83,"display_name":"Craig Gidney"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1414784313,"creation_date":1414784313,"answer_id":26682215,"question_id":3012108,"body_markdown":"There&#39;s an equivalent type in Guava called [Equivalence&amp;lt;T&amp;gt;](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Equivalence.html).","title":"What is the Java equivalent of .NET&#39;s IEquatable&lt;T&gt; Interface?","body":"<p>There's an equivalent type in Guava called <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Equivalence.html\" rel=\"nofollow\">Equivalence&lt;T&gt;</a>.</p>\n"}],"owner":{"account_id":3646,"reputation":68861,"user_id":5274,"accept_rate":69,"display_name":"Jonathan Allen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7180,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":3012117,"answer_count":4,"score":26,"last_activity_date":1694984746,"creation_date":1276151135,"question_id":3012108,"body_markdown":"What is the Java equivalent of .NET&#39;s IEquatable&lt;T&gt; Interface?","title":"What is the Java equivalent of .NET&#39;s IEquatable&lt;T&gt; Interface?","body":"<p>What is the Java equivalent of .NET's IEquatable Interface?</p>\n"},{"tags":["java","axis","webservice-client","jboss6.x"],"comments":[{"owner":{"account_id":1405229,"reputation":8733,"user_id":1333133,"accept_rate":51,"display_name":"Satya"},"score":1,"creation_date":1336454809,"post_id":10492995,"comment_id":13562568,"body_markdown":"check the versions of jb/jdk and axis if they are compatible with each other","body":"check the versions of jb/jdk and axis if they are compatible with each other"},{"owner":{"account_id":894565,"reputation":11,"user_id":932128,"display_name":"Don"},"score":0,"creation_date":1336459888,"post_id":10492995,"comment_id":13563861,"body_markdown":"The issue got fixed .... :)\n\nNote: This was due to conflict between the jar in the jboss and jar in my class path ....","body":"The issue got fixed .... :)  Note: This was due to conflict between the jar in the jboss and jar in my class path ...."}],"answers":[{"tags":[],"owner":{"account_id":2235921,"reputation":2719,"user_id":1972317,"accept_rate":80,"display_name":"taringamberini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407419905,"creation_date":1407419905,"answer_id":25184485,"question_id":10492995,"body_markdown":"The exception is thrown because in your web application at least exists a jar which contains the `javax.xml.namespace.QName` class and that class conflicts with the same one contained in one of the JBoss&#39;s jar.\r\n\r\nYou should remove that (these) jar(s) from your web application when deploying on JBoss.\r\n\r\nA list of jars which contain the `javax.xml.namespace.QName` class is at http://www.findjar.com/class/javax/xml/namespace/QName.html","title":"loader constraint violation in interface itable initialization:","body":"<p>The exception is thrown because in your web application at least exists a jar which contains the <code>javax.xml.namespace.QName</code> class and that class conflicts with the same one contained in one of the JBoss's jar.</p>\n\n<p>You should remove that (these) jar(s) from your web application when deploying on JBoss.</p>\n\n<p>A list of jars which contain the <code>javax.xml.namespace.QName</code> class is at <a href=\"http://www.findjar.com/class/javax/xml/namespace/QName.html\" rel=\"nofollow\">http://www.findjar.com/class/javax/xml/namespace/QName.html</a></p>\n"},{"tags":[],"owner":{"account_id":5844226,"reputation":1,"user_id":4604797,"display_name":"Mohd Kose Avase"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424854620,"creation_date":1424854620,"answer_id":28714828,"question_id":10492995,"body_markdown":"We encounter this issue if EAR/WAR file is created using eclipse\r\n\r\nIt is a clear case of having two jar files in the EAR/war file.\r\n\r\nOpen EAR/WAR fileusing WinRAR and check whether two axis.jar file is present. If yes then delete and the jar file and redeploy","title":"loader constraint violation in interface itable initialization:","body":"<p>We encounter this issue if EAR/WAR file is created using eclipse</p>\n\n<p>It is a clear case of having two jar files in the EAR/war file.</p>\n\n<p>Open EAR/WAR fileusing WinRAR and check whether two axis.jar file is present. If yes then delete and the jar file and redeploy</p>\n"}],"owner":{"account_id":894565,"reputation":11,"user_id":932128,"display_name":"Don"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10545,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694984745,"creation_date":1336454546,"question_id":10492995,"body_markdown":"When i deploy a web service project in jboss 6 .I am getting the below stackrace\r\n\r\n\r\nCaused by: java.lang.LinkageError: loader constraint violation in interface itable initialization: when resolving method &quot;org.apache.axis.message.MessageElement.getChildElements(Ljavax/xml/namespace/QName;)Ljava/util/Iterator;&quot; the class loader (instance of org/jboss/classloader/spi/base/BaseClassLoader) of the current class, org/apache/axis/message/MessageElement, and the class loader (instance of &lt;bootloader&gt;) for interface javax/xml/soap/SOAPElement have different Class objects for the type javax/xml/namespace/QName used in the signature\r\n\tat java.lang.Class.getDeclaredMethods0(Native Method) [:1.6.0_13]\r\n\tat java.lang.Class.privateGetDeclaredMethods(Class.java:2427) [:1.6.0_13]\r\n\tat java.lang.Class.getDeclaredMethods(Class.java:1791) [:1.6.0_13]\r\n\tat org.jboss.deployment.AnnotatedClassFilter.hasAnnotations(AnnotatedClassFilter.java:186) [:6.0.0.20100429-M3]\r\n\tat org.jboss.deployment.AnnotatedClassFilter.accepts(AnnotatedClassFilter.java:114) [:6.0.0.20100429-M3]\r\n\tat org.jboss.deployment.AnnotatedClassFilter.visit(AnnotatedClassFilter.java:99) [:6.0.0.20100429-M3]\r\n\tat org.jboss.vfs.VirtualFile.visit(VirtualFile.java:407) [jboss-vfs.jar:3.0.0.CR5]\r\n\tat org.jboss.vfs.VirtualFile.visit(VirtualFile.java:409) [jboss-vfs.jar:3.0.0.CR5]\r\n\tat org.jboss.vfs.VirtualFile.visit(VirtualFile.java:409) [jboss-vfs.jar:3.0.0.CR5]\r\n\tat org.jboss.vfs.VirtualFile.visit(VirtualFile.java:409) [jboss-vfs.jar:3.0.0.CR5]\r\n\tat org.jboss.vfs.VirtualFile.visit(VirtualFile.java:409) [jboss-vfs.jar:3.0.0.CR5]\r\n\tat org.jboss.vfs.VirtualFile.visit(VirtualFile.java:395) [jboss-vfs.jar:3.0.0.CR5]\r\n\tat org.jboss.web.deployers.WarAnnotationMetaDataDeployer.getClasses(WarAnnotationMetaDataDeployer.java:172) [:6.0.0.20100429-M3]\r\n\tat org.jboss.web.deployers.WarAnnotationMetaDataDeployer.processMetaData(WarAnnotationMetaDataDeployer.java:145) [:6.0.0.20100429-M3]\r\n\tat org.jboss.web.deployers.WarAnnotationMetaDataDeployer.deploy(WarAnnotationMetaDataDeployer.java:119) [:6.0.0.20100429-M3]\r\n\tat org.jboss.web.deployers.WarAnnotationMetaDataDeployer.deploy(WarAnnotationMetaDataDeployer.java:80) [:6.0.0.20100429-M3]\r\n\tat org.jboss.deployers.plugins.deployers.DeployerWrapper.deploy(DeployerWrapper.java:179) [:2.2.0.Alpha4]\r\n\t... 26 more\r\n\r\n\r\n\r\nPlease help me ..... :)\r\n","title":"loader constraint violation in interface itable initialization:","body":"<p>When i deploy a web service project in jboss 6 .I am getting the below stackrace</p>\n\n<p>Caused by: java.lang.LinkageError: loader constraint violation in interface itable initialization: when resolving method \"org.apache.axis.message.MessageElement.getChildElements(Ljavax/xml/namespace/QName;)Ljava/util/Iterator;\" the class loader (instance of org/jboss/classloader/spi/base/BaseClassLoader) of the current class, org/apache/axis/message/MessageElement, and the class loader (instance of ) for interface javax/xml/soap/SOAPElement have different Class objects for the type javax/xml/namespace/QName used in the signature\n    at java.lang.Class.getDeclaredMethods0(Native Method) [:1.6.0_13]\n    at java.lang.Class.privateGetDeclaredMethods(Class.java:2427) [:1.6.0_13]\n    at java.lang.Class.getDeclaredMethods(Class.java:1791) [:1.6.0_13]\n    at org.jboss.deployment.AnnotatedClassFilter.hasAnnotations(AnnotatedClassFilter.java:186) [:6.0.0.20100429-M3]\n    at org.jboss.deployment.AnnotatedClassFilter.accepts(AnnotatedClassFilter.java:114) [:6.0.0.20100429-M3]\n    at org.jboss.deployment.AnnotatedClassFilter.visit(AnnotatedClassFilter.java:99) [:6.0.0.20100429-M3]\n    at org.jboss.vfs.VirtualFile.visit(VirtualFile.java:407) [jboss-vfs.jar:3.0.0.CR5]\n    at org.jboss.vfs.VirtualFile.visit(VirtualFile.java:409) [jboss-vfs.jar:3.0.0.CR5]\n    at org.jboss.vfs.VirtualFile.visit(VirtualFile.java:409) [jboss-vfs.jar:3.0.0.CR5]\n    at org.jboss.vfs.VirtualFile.visit(VirtualFile.java:409) [jboss-vfs.jar:3.0.0.CR5]\n    at org.jboss.vfs.VirtualFile.visit(VirtualFile.java:409) [jboss-vfs.jar:3.0.0.CR5]\n    at org.jboss.vfs.VirtualFile.visit(VirtualFile.java:395) [jboss-vfs.jar:3.0.0.CR5]\n    at org.jboss.web.deployers.WarAnnotationMetaDataDeployer.getClasses(WarAnnotationMetaDataDeployer.java:172) [:6.0.0.20100429-M3]\n    at org.jboss.web.deployers.WarAnnotationMetaDataDeployer.processMetaData(WarAnnotationMetaDataDeployer.java:145) [:6.0.0.20100429-M3]\n    at org.jboss.web.deployers.WarAnnotationMetaDataDeployer.deploy(WarAnnotationMetaDataDeployer.java:119) [:6.0.0.20100429-M3]\n    at org.jboss.web.deployers.WarAnnotationMetaDataDeployer.deploy(WarAnnotationMetaDataDeployer.java:80) [:6.0.0.20100429-M3]\n    at org.jboss.deployers.plugins.deployers.DeployerWrapper.deploy(DeployerWrapper.java:179) [:2.2.0.Alpha4]\n    ... 26 more</p>\n\n<p>Please help me ..... :)</p>\n"},{"tags":["java","discord","discord4j"],"answers":[{"comments":[{"owner":{"account_id":11157659,"reputation":600,"user_id":8188875,"accept_rate":60,"display_name":"&#210;scar Raya"},"score":0,"creation_date":1694991563,"post_id":77123553,"comment_id":135960653,"body_markdown":"TY, it was what I needed.","body":"TY, it was what I needed."}],"tags":[],"owner":{"account_id":15013161,"reputation":71,"user_id":10836980,"display_name":"Azn9"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694983599,"creation_date":1694983599,"answer_id":77123553,"question_id":77123405,"body_markdown":"By adding .withMessageReference(...), you can specify the Id of a message to reply to, you don&#39;t need to get the message:\r\n```Java\r\nchannel.createMessage(message).withMessageReference(Snowflake.of(replyMessageId))\r\n```","title":"How to reply to a discord message using discord4j?","body":"<p>By adding .withMessageReference(...), you can specify the Id of a message to reply to, you don't need to get the message:</p>\n<pre><code>channel.createMessage(message).withMessageReference(Snowflake.of(replyMessageId))\n</code></pre>\n"}],"owner":{"account_id":11157659,"reputation":600,"user_id":8188875,"accept_rate":60,"display_name":"&#210;scar Raya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77123553,"answer_count":1,"score":0,"last_activity_date":1694983599,"creation_date":1694980861,"question_id":77123405,"body_markdown":"I&#39;m trying to implement a discord bot using discord4j library. For the moment I managed to make the bot respond to some simple commands like ping or making it say things.\r\n\r\nI&#39;m trying to look at all the tutorials I found but none of them show how to actually reply to a message.\r\n\r\nThis is an example of the code I use to make the bot send messages with a POST call:\r\n\r\n```\r\n@PostMapping(&quot;/say&quot;)\r\npublic @ResponseBody String say(\r\n\t@RequestParam(&quot;message&quot;) String message,\r\n\t@RequestParam(&quot;channelId&quot;) String channelID,\r\n\t@RequestParam(&quot;replyMessageId&quot;) String replyMessageId\r\n) {\t\r\n\tMessage messageToReply = client.getMessageById(Snowflake.of(channelID), Snowflake.of(replyMessageId)).block();\r\n\t\t\r\n\tclient.getChannelById(Snowflake.of(channelID)).ofType(MessageChannel.class)\r\n\t.flatMap(channel -&gt; channel.createMessage(message)).subscribe();\r\n\t\t\r\n\treturn &quot;OK&quot;;\r\n}\r\n```\r\n\r\nI want to use the message I retrieved (messageToReply) so the message I create replies to it.\r\n\r\nI tried looking at the documentation and to all the functions you can call after createMessage but I haven&#39;t found anything.","title":"How to reply to a discord message using discord4j?","body":"<p>I'm trying to implement a discord bot using discord4j library. For the moment I managed to make the bot respond to some simple commands like ping or making it say things.</p>\n<p>I'm trying to look at all the tutorials I found but none of them show how to actually reply to a message.</p>\n<p>This is an example of the code I use to make the bot send messages with a POST call:</p>\n<pre><code>@PostMapping(&quot;/say&quot;)\npublic @ResponseBody String say(\n    @RequestParam(&quot;message&quot;) String message,\n    @RequestParam(&quot;channelId&quot;) String channelID,\n    @RequestParam(&quot;replyMessageId&quot;) String replyMessageId\n) { \n    Message messageToReply = client.getMessageById(Snowflake.of(channelID), Snowflake.of(replyMessageId)).block();\n        \n    client.getChannelById(Snowflake.of(channelID)).ofType(MessageChannel.class)\n    .flatMap(channel -&gt; channel.createMessage(message)).subscribe();\n        \n    return &quot;OK&quot;;\n}\n</code></pre>\n<p>I want to use the message I retrieved (messageToReply) so the message I create replies to it.</p>\n<p>I tried looking at the documentation and to all the functions you can call after createMessage but I haven't found anything.</p>\n"},{"tags":["java","apache","tomcat","jboss","mod-proxy"],"answers":[{"comments":[{"owner":{"account_id":3111,"reputation":2890,"user_id":4419,"accept_rate":89,"display_name":"Jeremy"},"score":2,"creation_date":1221861387,"post_id":105928,"comment_id":19376,"body_markdown":"Thanks, that clears up a lot of the Apache configuration options, but not how they they should relate to the settings in tomcat nor how to configure either in regards to the available resources.","body":"Thanks, that clears up a lot of the Apache configuration options, but not how they they should relate to the settings in tomcat nor how to configure either in regards to the available resources."}],"tags":[],"owner":{"account_id":3410,"reputation":58516,"user_id":4918,"accept_rate":65,"display_name":"David Schmitt"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1221860960,"creation_date":1221860960,"answer_id":105928,"question_id":105754,"body_markdown":"### MaxClients\r\n\r\nThis is the fundamental cap of parallel client connections your apache should handle at once.\r\n\r\nWith prefork, only one request can be handled per process. Therefore the whole apache can process *at most* $MaxClients requests in the time it takes to handle a *single* request. Of course, this ideal maximum can only be reached if the application needs less than 1/$MaxClients resources per request.\r\n\r\nIf, for example, the application takes a second of cpu-time to answer a single request, setting MaxClients to four will limit your throughput to four requests per second: Each request uses up an apache connection and apache will only handle four at a time. But if the server has only two CPUs, not even this can be reached, because every wall-clock second only has two cpu seconds, but the requests would need four cpu seconds.\r\n\r\n### MinSpareServers\r\n\r\nThis tells apache how many idle processes should hang around. The bigger this number the more burst load apache can swallow before needing to spawn extra processes, which is expensive and thus slows down the current request.\r\n\r\nThe correct setting of this depends on your workload. If you have pages with many sub-requests (pictures, iframes, javascript, css) then hitting a single page might use up many more processes for a short time.\r\n\r\n### MaxSpareServers\r\n\r\nHaving too many unused apache processes hanging around just wastes memory, thus apache uses the MaxSpareServers number to limit the amount of spare processes it is holding in reserve for bursts of requests.\r\n\r\n### MaxRequestsPerChild\r\n\r\nThis limits the number of requests a single process will handle throughout its lifetime. If you are very concerned about stability, you should put an actual limit here to continually recycle the apache processes to prevent resource leaks from affecting the system.\r\n\r\n### StartServers\r\n\r\nThis is just the amount of processes apache starts by default. Set this to the usual amount of running apache processes to reduce warm-up time of your system. Even if you ignore this setting, apache will use the Min-/MaxSpareServers values to spawn new processes as required.\r\n\r\n### More information\r\n\r\nSee also [the documentation for apache&#39;s multi-processing modules][1].\r\n\r\n\r\n  [1]: http://httpd.apache.org/docs/2.0/mod/mpm_common.html","title":"Best practices for configuring Apache / Tomcat","body":"<h3>MaxClients</h3>\n\n<p>This is the fundamental cap of parallel client connections your apache should handle at once.</p>\n\n<p>With prefork, only one request can be handled per process. Therefore the whole apache can process <em>at most</em> $MaxClients requests in the time it takes to handle a <em>single</em> request. Of course, this ideal maximum can only be reached if the application needs less than 1/$MaxClients resources per request.</p>\n\n<p>If, for example, the application takes a second of cpu-time to answer a single request, setting MaxClients to four will limit your throughput to four requests per second: Each request uses up an apache connection and apache will only handle four at a time. But if the server has only two CPUs, not even this can be reached, because every wall-clock second only has two cpu seconds, but the requests would need four cpu seconds.</p>\n\n<h3>MinSpareServers</h3>\n\n<p>This tells apache how many idle processes should hang around. The bigger this number the more burst load apache can swallow before needing to spawn extra processes, which is expensive and thus slows down the current request.</p>\n\n<p>The correct setting of this depends on your workload. If you have pages with many sub-requests (pictures, iframes, javascript, css) then hitting a single page might use up many more processes for a short time.</p>\n\n<h3>MaxSpareServers</h3>\n\n<p>Having too many unused apache processes hanging around just wastes memory, thus apache uses the MaxSpareServers number to limit the amount of spare processes it is holding in reserve for bursts of requests.</p>\n\n<h3>MaxRequestsPerChild</h3>\n\n<p>This limits the number of requests a single process will handle throughout its lifetime. If you are very concerned about stability, you should put an actual limit here to continually recycle the apache processes to prevent resource leaks from affecting the system.</p>\n\n<h3>StartServers</h3>\n\n<p>This is just the amount of processes apache starts by default. Set this to the usual amount of running apache processes to reduce warm-up time of your system. Even if you ignore this setting, apache will use the Min-/MaxSpareServers values to spawn new processes as required.</p>\n\n<h3>More information</h3>\n\n<p>See also <a href=\"http://httpd.apache.org/docs/2.0/mod/mpm_common.html\" rel=\"noreferrer\">the documentation for apache's multi-processing modules</a>.</p>\n"},{"comments":[{"owner":{"account_id":3111,"reputation":2890,"user_id":4419,"accept_rate":89,"display_name":"Jeremy"},"score":0,"creation_date":1221921393,"post_id":106655,"comment_id":20396,"body_markdown":"We have already exceed the default settings.  A few months ago I noticed that all the available workers on Apache we being used and I adjusted the settings to above which has been a huge help.  I chose them somewhat arbitrarily.  We avg 100,000-350,000 hits/day.","body":"We have already exceed the default settings.  A few months ago I noticed that all the available workers on Apache we being used and I adjusted the settings to above which has been a huge help.  I chose them somewhat arbitrarily.  We avg 100,000-350,000 hits/day."}],"tags":[],"owner":{"account_id":8281,"reputation":2661,"user_id":14838,"accept_rate":87,"display_name":"f4nt"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1221872639,"creation_date":1221872639,"answer_id":106655,"question_id":105754,"body_markdown":"The default settings are generally decent starting points to see what your applications is really going to need. I don&#39;t know how much traffic you&#39;re expecting, so guessing at the MaxThreads, MaxClients, and MaxServers is a bit difficult. I can tell you that most of the customers I deal with (work for a linux web host, that deals mainly with customers running Java apps in Tomcat) use the default settings for quite some time without too many tweaks needed.\r\n\r\nIf you&#39;re not expecting much traffic, then these settings being &quot;too high&quot; really shouldn&#39;t effect you too much either. Apache&#39;s not going to allocate resources for the whole 256 potential clients unless it becomes necessary. The same goes for Tomcat as well. ","title":"Best practices for configuring Apache / Tomcat","body":"<p>The default settings are generally decent starting points to see what your applications is really going to need. I don't know how much traffic you're expecting, so guessing at the MaxThreads, MaxClients, and MaxServers is a bit difficult. I can tell you that most of the customers I deal with (work for a linux web host, that deals mainly with customers running Java apps in Tomcat) use the default settings for quite some time without too many tweaks needed.</p>\n\n<p>If you're not expecting much traffic, then these settings being \"too high\" really shouldn't effect you too much either. Apache's not going to allocate resources for the whole 256 potential clients unless it becomes necessary. The same goes for Tomcat as well. </p>\n"},{"tags":[],"owner":{"account_id":529,"reputation":5048,"user_id":686,"accept_rate":92,"display_name":"Zizzencs"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1221965058,"creation_date":1221965058,"answer_id":110080,"question_id":105754,"body_markdown":"You should consider the workload the servers might get.\r\n\r\nThe most important factor might be the number of simultaneously connected clients at peak times. Try to determine it and tune your settings in a way where:\r\n\r\n- there are enough processing threads in both Apache and Tomcat that they don&#39;t need to spawn new threads when the server is heavily loaded\r\n- there are not way more processing threads in the servers than needed as they would waste resources.\r\n\r\nWith this kind of setup you can minimize the internal maintenance overhead of the servers, that could help a lot, especially when your load is sporadic.\r\n\r\nFor example consider an application where you have ~300 new requests/second. Each request requires on average 2.5 seconds to serve. It means that at any given time you have ~750 requests that need to be handled simultaneously. In this situation you probably want to tune your servers so that they have ~750 processing threads at startup and you might want to add something like ~1000 processing threads at maximum to handle extremely high loads.\r\n\r\nAlso consider for exactly what do you require a thread for. In the previous example each request was independent from the others, there was no session tracking used. In a more &quot;web-ish&quot; scenario you might have users logged in to your website, and depending on your software used, Apache and/or Tomcat might need to use the same thread to serve the requests that come in one session. In this case, you might need more threads. However as I know Tomcat at least, you won&#39;t really need to consider this as it works with thread pools internally anyways.\r\n\r\n","title":"Best practices for configuring Apache / Tomcat","body":"<p>You should consider the workload the servers might get.</p>\n\n<p>The most important factor might be the number of simultaneously connected clients at peak times. Try to determine it and tune your settings in a way where:</p>\n\n<ul>\n<li>there are enough processing threads in both Apache and Tomcat that they don't need to spawn new threads when the server is heavily loaded</li>\n<li>there are not way more processing threads in the servers than needed as they would waste resources.</li>\n</ul>\n\n<p>With this kind of setup you can minimize the internal maintenance overhead of the servers, that could help a lot, especially when your load is sporadic.</p>\n\n<p>For example consider an application where you have ~300 new requests/second. Each request requires on average 2.5 seconds to serve. It means that at any given time you have ~750 requests that need to be handled simultaneously. In this situation you probably want to tune your servers so that they have ~750 processing threads at startup and you might want to add something like ~1000 processing threads at maximum to handle extremely high loads.</p>\n\n<p>Also consider for exactly what do you require a thread for. In the previous example each request was independent from the others, there was no session tracking used. In a more \"web-ish\" scenario you might have users logged in to your website, and depending on your software used, Apache and/or Tomcat might need to use the same thread to serve the requests that come in one session. In this case, you might need more threads. However as I know Tomcat at least, you won't really need to consider this as it works with thread pools internally anyways.</p>\n"}],"owner":{"account_id":3111,"reputation":2890,"user_id":4419,"accept_rate":89,"display_name":"Jeremy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19143,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"closed_date":1694987755,"accepted_answer_id":110080,"answer_count":3,"score":18,"last_activity_date":1694982640,"creation_date":1221859470,"question_id":105754,"body_markdown":"We are currently using Apache 2.2.3 and Tomcat 5 (Embedded in JBoss 4.2.2) using `mod_proxy_jk` as the connector.\r\n\r\nCan someone shed some light on the the correct way to calculate / configure the values below (as well as anything else that may be relevant).  Both Apache and Tomcat are running on separate machines and have copious amounts of ram (4gb each).\r\n\r\nRelevant server.xml portions:\r\n\r\n    &lt;Connector port=&quot;8009&quot;\r\n        address=&quot;${jboss.bind.address}&quot;\r\n        protocol=&quot;AJP/1.3&quot;\r\n        emptySessionPath=&quot;true&quot;\r\n        enableLookups=&quot;false&quot;\r\n        redirectPort=&quot;8443&quot;\r\n        maxThreads=&quot;320&quot;\r\n        connectionTimeout=&quot;45000&quot;\r\n    /&gt;\r\n\r\n\r\nRelevant httpd.conf portions: \r\n\r\n    &lt;IfModule prefork.c&gt;\r\n      StartServers       8\r\n      MinSpareServers    5\r\n      MaxSpareServers   20\r\n      ServerLimit      256\r\n      MaxClients       256\r\n      MaxRequestsPerChild  0\r\n    &lt;/IfModule&gt;\r\n","title":"Best practices for configuring Apache / Tomcat","body":"<p>We are currently using Apache 2.2.3 and Tomcat 5 (Embedded in JBoss 4.2.2) using <code>mod_proxy_jk</code> as the connector.</p>\n\n<p>Can someone shed some light on the the correct way to calculate / configure the values below (as well as anything else that may be relevant).  Both Apache and Tomcat are running on separate machines and have copious amounts of ram (4gb each).</p>\n\n<p>Relevant server.xml portions:</p>\n\n<pre><code>&lt;Connector port=\"8009\"\n    address=\"${jboss.bind.address}\"\n    protocol=\"AJP/1.3\"\n    emptySessionPath=\"true\"\n    enableLookups=\"false\"\n    redirectPort=\"8443\"\n    maxThreads=\"320\"\n    connectionTimeout=\"45000\"\n/&gt;\n</code></pre>\n\n<p>Relevant httpd.conf portions: </p>\n\n<pre><code>&lt;IfModule prefork.c&gt;\n  StartServers       8\n  MinSpareServers    5\n  MaxSpareServers   20\n  ServerLimit      256\n  MaxClients       256\n  MaxRequestsPerChild  0\n&lt;/IfModule&gt;\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":11730609,"reputation":36976,"user_id":8586227,"display_name":"Davis Herring"},"score":0,"creation_date":1694921135,"post_id":77120326,"comment_id":135954101,"body_markdown":"@MarcLeBihan: Isn’t that just bad indentation?","body":"@MarcLeBihan: Isn’t that just bad indentation?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1694922910,"post_id":77120326,"comment_id":135954205,"body_markdown":"Do you have 5 CPUs? 5 cores? What is the basis for your expectation?","body":"Do you have 5 CPUs? 5 cores? What is the basis for your expectation?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1694924601,"post_id":77120326,"comment_id":135954281,"body_markdown":"Reduce the _ThreadTest_ _run_ method&#39;s _loop_ iterations to _20000_; a fifth of _100000_.","body":"Reduce the <i>ThreadTest</i> <i>run</i> method&#39;s <i>loop</i> iterations to <i>20000</i>; a fifth of <i>100000</i>."},{"owner":{"account_id":29463130,"reputation":59,"user_id":22577448,"display_name":"Mark Zhou"},"score":0,"creation_date":1694935216,"post_id":77120326,"comment_id":135954946,"body_markdown":"I use DELL notebook PC with 12th Generation Intel&#174; Core™ i5 Processors i5-1245U.\n\nFrom the specification, I saw:\n\nTotal Cores                10\nPerformance-cores    2\nEfficient-cores           8","body":"I use DELL notebook PC with 12th Generation Intel&#174; Core™ i5 Processors i5-1245U.  From the specification, I saw:  Total Cores                10 Performance-cores    2 Efficient-cores           8"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1694938168,"post_id":77120326,"comment_id":135955177,"body_markdown":"OK well this loop creates immense amounts of garbage, and the garbage collector isn&#39;t as completely multithreaded as your code is. Is there a reason why you chose String building as the test?","body":"OK well this loop creates immense amounts of garbage, and the garbage collector isn&#39;t as completely multithreaded as your code is. Is there a reason why you chose String building as the test?"}],"answers":[{"comments":[{"owner":{"account_id":179070,"reputation":3412,"user_id":411459,"accept_rate":82,"display_name":"Duncan Krebs"},"score":1,"creation_date":1694932339,"post_id":77120449,"comment_id":135954762,"body_markdown":"Makes sense but It should be a thread pool and having the threads pull the tasks from a blocking queue to make it much faster","body":"Makes sense but It should be a thread pool and having the threads pull the tasks from a blocking queue to make it much faster"}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1694935669,"creation_date":1694924150,"answer_id":77120449,"question_id":77120326,"body_markdown":"&gt; _&quot;... In the 2nd demo, I create 5 threads, run the same function parallel in 5 threads, I expect the time consumption is similar with 1st project, means close to 5 seconds. ...&quot;_\r\n\r\nI think _&quot;concurrent&quot;_ is a better way to term a _&quot;threaded&quot;_ process.\r\n\r\nTo elaborate, typically a program executes in a linear fashion.  \r\nThis linear path is termed the _&quot;data-flow&quot;_, or _&quot;[control-flow](https://en.wikipedia.org/wiki/Control_flow)&quot;_.  \r\n\r\nWhen a program utilizes threads, more than one _control-flow_ is executed in _&quot;parallel&quot;_, or _&quot;concurrently&quot;_.  \r\nYou could now visualize this path as having branched.\r\n\r\nSo, the _5_ _threads_ here are going to weave, or &quot;thread&quot; together to execute each of their own instructions, concurrently.  \r\n_CPU_ time is vital.\r\n\r\nIn conclusion, the _5_ threads will actually take about _5&amp;times;_ longer.\r\n\r\nFor _ThreadTest_, divide the _run_ method&#39;s _loop_ iterations, by _5_.  \r\nIn this example I reduced the value from _100000_ to _100_.\r\n\r\n```java\r\nclass ThreadTest extends Thread\r\n{\r\n    int i, limit;\r\n\r\n    public static void main(String[] args) throws BrokenBarrierException, InterruptedException {\r\n        // TODO Auto-generated method stub\r\n\r\n        ThreadTest[ ] ObjArray = new ThreadTest[5];\r\n\r\n        int n = 100 / 5;\r\n        for(int i=0;i&lt;5;i++)\r\n            ObjArray[i]= new ThreadTest(n * i, (n * i) + n);\r\n\r\n        Date BeforeDate = new Date();\r\n\r\n        for(int i=0; i&lt;5;i++ )\r\n        {\r\n            ObjArray[i].start();\r\n        }\r\n\r\n        try\r\n        {\r\n\r\n            for(int i=0; i&lt;5;i++ )\r\n                ObjArray[i].join();\r\n\r\n        }\r\n        catch(InterruptedException e)\r\n        {\r\n\r\n        }\r\n\r\n\r\n        Date AfterDate = new Date();\r\n        Double Time_Consume = (AfterDate.getTime()- BeforeDate.getTime())/1000.0;\r\n        System.out.println(&quot;Time Consume= &quot; + Time_Consume + &quot; Seconds&quot;  );\r\n\r\n\r\n\r\n    }\r\n\r\n    ThreadTest(int i, int limit) {\r\n        this.i = i;\r\n        this.limit = limit;\r\n    }\r\n\r\n    public void run() {\r\n        String tmp = &quot;&quot;;\r\n        for (int i = this.i; i &lt;= limit; i++) {\r\n            tmp += i;\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nHere are a few comparisons.\r\n\r\n```java\r\nNoThread, Time Consume= 0.046 Seconds\r\nThreadTest, Time Consume= 0.054 Seconds\r\n\r\nNoThread, Time Consume= 0.027 Seconds\r\nThreadTest Time Consume= 0.029 Seconds\r\n\r\nNoThread, Time Consume= 0.03 Seconds\r\nThreadTest, Time Consume= 0.022 Seconds\r\n```\r\n\r\nOn a final note, there is the _[CyclicBarrier](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/CyclicBarrier.html)_ class which provides a buffer for threads working together to produce 1 value.","title":"Why is there no significant difference with or without thread?","body":"<blockquote>\n<p><em>&quot;... In the 2nd demo, I create 5 threads, run the same function parallel in 5 threads, I expect the time consumption is similar with 1st project, means close to 5 seconds. ...&quot;</em></p>\n</blockquote>\n<p>I think <em>&quot;concurrent&quot;</em> is a better way to term a <em>&quot;threaded&quot;</em> process.</p>\n<p>To elaborate, typically a program executes in a linear fashion.<br />\nThis linear path is termed the <em>&quot;data-flow&quot;</em>, or <em>&quot;<a href=\"https://en.wikipedia.org/wiki/Control_flow\" rel=\"nofollow noreferrer\">control-flow</a>&quot;</em>.</p>\n<p>When a program utilizes threads, more than one <em>control-flow</em> is executed in <em>&quot;parallel&quot;</em>, or <em>&quot;concurrently&quot;</em>.<br />\nYou could now visualize this path as having branched.</p>\n<p>So, the <em>5</em> <em>threads</em> here are going to weave, or &quot;thread&quot; together to execute each of their own instructions, concurrently.<br />\n<em>CPU</em> time is vital.</p>\n<p>In conclusion, the <em>5</em> threads will actually take about <em>5×</em> longer.</p>\n<p>For <em>ThreadTest</em>, divide the <em>run</em> method's <em>loop</em> iterations, by <em>5</em>.<br />\nIn this example I reduced the value from <em>100000</em> to <em>100</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ThreadTest extends Thread\n{\n    int i, limit;\n\n    public static void main(String[] args) throws BrokenBarrierException, InterruptedException {\n        // TODO Auto-generated method stub\n\n        ThreadTest[ ] ObjArray = new ThreadTest[5];\n\n        int n = 100 / 5;\n        for(int i=0;i&lt;5;i++)\n            ObjArray[i]= new ThreadTest(n * i, (n * i) + n);\n\n        Date BeforeDate = new Date();\n\n        for(int i=0; i&lt;5;i++ )\n        {\n            ObjArray[i].start();\n        }\n\n        try\n        {\n\n            for(int i=0; i&lt;5;i++ )\n                ObjArray[i].join();\n\n        }\n        catch(InterruptedException e)\n        {\n\n        }\n\n\n        Date AfterDate = new Date();\n        Double Time_Consume = (AfterDate.getTime()- BeforeDate.getTime())/1000.0;\n        System.out.println(&quot;Time Consume= &quot; + Time_Consume + &quot; Seconds&quot;  );\n\n\n\n    }\n\n    ThreadTest(int i, int limit) {\n        this.i = i;\n        this.limit = limit;\n    }\n\n    public void run() {\n        String tmp = &quot;&quot;;\n        for (int i = this.i; i &lt;= limit; i++) {\n            tmp += i;\n        }\n    }\n\n}\n</code></pre>\n<p>Here are a few comparisons.</p>\n<pre class=\"lang-java prettyprint-override\"><code>NoThread, Time Consume= 0.046 Seconds\nThreadTest, Time Consume= 0.054 Seconds\n\nNoThread, Time Consume= 0.027 Seconds\nThreadTest Time Consume= 0.029 Seconds\n\nNoThread, Time Consume= 0.03 Seconds\nThreadTest, Time Consume= 0.022 Seconds\n</code></pre>\n<p>On a final note, there is the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/CyclicBarrier.html\" rel=\"nofollow noreferrer\">CyclicBarrier</a></em> class which provides a buffer for threads working together to produce 1 value.</p>\n"},{"comments":[{"owner":{"account_id":29463130,"reputation":59,"user_id":22577448,"display_name":"Mark Zhou"},"score":0,"creation_date":1694938096,"post_id":77120510,"comment_id":135955175,"body_markdown":"Thank you very much, I got your point, &quot;the memory allocation is not parallel&quot;, I change the run function like yours,\n\nNow I can see:\n\nRun w/o thread, CPU utilization is about 30%\nTime Consume= 3.998 S\nTime Consume= 3.017 S\nTime Consume= 2.046 S\nTime Consume= 2.988 S\nTime Consume= 3.008 S\n\nRun with 4 threads, CPU utilization is about 80%. \nTime Consume= 4.545 S\nTime Consume= 4.679 S\nTime Consume= 4.609 S\nTime Consume= 4.501 S\nTime Consume= 3.998 S\n\nThe time consumption now meet my expectation, since the multithread will have execution overhead also.","body":"Thank you very much, I got your point, &quot;the memory allocation is not parallel&quot;, I change the run function like yours,  Now I can see:  Run w/o thread, CPU utilization is about 30% Time Consume= 3.998 S Time Consume= 3.017 S Time Consume= 2.046 S Time Consume= 2.988 S Time Consume= 3.008 S  Run with 4 threads, CPU utilization is about 80%.  Time Consume= 4.545 S Time Consume= 4.679 S Time Consume= 4.609 S Time Consume= 4.501 S Time Consume= 3.998 S  The time consumption now meet my expectation, since the multithread will have execution overhead also."}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694926210,"creation_date":1694926210,"answer_id":77120510,"question_id":77120326,"body_markdown":"Running multiple threads doesn&#39;t necessarily mean they all run *in parallel*. You need to have enough CPU cores to run CPU-bound code with true parallelism. If you only have one core, then your CPU-bound code will not run any faster, no matter how many threads you have. The code will probably be slower, because of the overhead of context switches and other messy things introduced by multithreading.\r\n\r\nHaving multiple threads simply makes the code run *concurrently*. If you put a `System.out.println(&quot;Done!&quot;)` at the end of `run`, you will see that they all get printed at roughly the same time. The threads are not run sequentially, one after another has finished.\r\n\r\nNow let&#39;s say you do have enough cores to run 5 threads in parallel, then you will see your expected result if each thread does something like this:\r\n\r\n```\r\nint x = 0;\r\nfor (int j = 0; j &lt; Integer.MAX_VALUE; j++) {\r\n    for (int k = 0; k &lt; 4; k++) {\r\n        x += j + k;\r\n    }\r\n}\r\n```\r\n\r\nFor me, I have 4 cores, so running 3 threads with the above code (the GC uses the last core) gives me roughly the same time as running 1 thread. If I increase it to 4 threads, the execution time starts to increase.\r\n\r\nWhat makes your code slow is that you are concatenating strings, which creates new objects. And [memory can&#39;t really be allocated in parallel][1]. It takes ~5.3 seconds for me with 3 threads, and `3.7 seconds with 1 thread. Notice that this isn&#39;t a simple &quot;time taken by one thread multiplied by the number of threads&quot;. There *are* places where parallelism helps, but it&#39;s just that the memory allocation can&#39;t be parallelised.\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/4859263/5133585","title":"Why is there no significant difference with or without thread?","body":"<p>Running multiple threads doesn't necessarily mean they all run <em>in parallel</em>. You need to have enough CPU cores to run CPU-bound code with true parallelism. If you only have one core, then your CPU-bound code will not run any faster, no matter how many threads you have. The code will probably be slower, because of the overhead of context switches and other messy things introduced by multithreading.</p>\n<p>Having multiple threads simply makes the code run <em>concurrently</em>. If you put a <code>System.out.println(&quot;Done!&quot;)</code> at the end of <code>run</code>, you will see that they all get printed at roughly the same time. The threads are not run sequentially, one after another has finished.</p>\n<p>Now let's say you do have enough cores to run 5 threads in parallel, then you will see your expected result if each thread does something like this:</p>\n<pre><code>int x = 0;\nfor (int j = 0; j &lt; Integer.MAX_VALUE; j++) {\n    for (int k = 0; k &lt; 4; k++) {\n        x += j + k;\n    }\n}\n</code></pre>\n<p>For me, I have 4 cores, so running 3 threads with the above code (the GC uses the last core) gives me roughly the same time as running 1 thread. If I increase it to 4 threads, the execution time starts to increase.</p>\n<p>What makes your code slow is that you are concatenating strings, which creates new objects. And <a href=\"https://stackoverflow.com/q/4859263/5133585\">memory can't really be allocated in parallel</a>. It takes ~5.3 seconds for me with 3 threads, and `3.7 seconds with 1 thread. Notice that this isn't a simple &quot;time taken by one thread multiplied by the number of threads&quot;. There <em>are</em> places where parallelism helps, but it's just that the memory allocation can't be parallelised.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694981579,"creation_date":1694931984,"answer_id":77120709,"question_id":77120326,"body_markdown":"You have several problems with your code, some of which directly affect the answer to your question.\r\n\r\nTo begin with, in modern Java we rarely need to directly address the `Thread` class. Instead, use the Executors framework in Java 5+. Define your task as a [`Runnable`][1] or [`Callable`][2] object. Submit an instance(s) to an executor service. That [executor service][3] may be backed by a pool of threads, without you needing to manage the setup/teardown of those threads, nor do you need to manage scheduling tasks amongst those threads.\r\n\r\nFor clarity, let&#39;s move your `main` method to its own class. That way we can move your task work into a class implementing `Runnable`, meaning it implements a `run` method. No `extends Thread` at all.\r\n\r\nYour task code does nothing productive. Nothing is passed to other code, nothing written to storage, nothing called over the network, no saving to a database, and nothing reported to the console. Such code may be optimized away by the compiler. So we add a call to `System.out.println` to avoid any such optimization.\r\n\r\nYour task code converts an integer to text, and concatenates. In real work, we would use [`StringBuilder`][4] for possibly more efficiency (though this may be done behind the scenes for you implicitly in some implementations of Java) and to make the code more self-documenting. \r\n\r\nWe want to report elapsed time for each task run. \r\n\r\nFor this, do *not* use `java.util.Date`. Indeed, do not ever use either of the `Date` classes. These were years ago supplanted by the modern *java.time* classes defined in JSR 310 for Java 8+. The `java.util.Date` class specifically was replaced by `java.time.Instant`.\r\n\r\nFor microbenchmarking, the finest time-tracking is [`System.nanoTime`][5]. This call grabs the current value of an incrementing count of passing nanoseconds.\r\n\r\nUse underscore to format your numeric literals for easier reading. So `100_000`. \r\n\r\nVariable names in Java, by convention, start with a lowercase letter.\r\n\r\nSo here is our task class:\r\n\r\n```java\r\npackage work.basil.example.looping;\r\n\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\n\r\npublic class Counter implements Runnable\r\n{\r\n    @Override\r\n    public void run ( )\r\n    {\r\n        long startNanos = System.nanoTime ( );\r\n        StringBuilder tmp = new StringBuilder ( );\r\n        for ( int i = 0 ; i &lt; 100_000 ; i++ )\r\n        {\r\n            tmp.append ( i );  // Converting integer number to text, and concatenating.\r\n        }\r\n        Duration elapsed = Duration.ofNanos ( System.nanoTime ( ) - startNanos );\r\n        System.out.println ( &quot;Thread ID: &quot; + Thread.currentThread ( ).threadId ( ) + &quot; at &quot; + Instant.now ( ) + &quot; result character length is: &quot; + tmp.codePoints ( ).count ( ) + &quot;. Elapsed: &quot; + elapsed );\r\n    }\r\n}\r\n```\r\n\r\nNow an app class to exercise that task.\r\n\r\n```java\r\npackage work.basil.example.looping;\r\n\r\npublic class App\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        App app = new App() ;\r\n        app.demoInThisThread();\r\n    }\r\n\r\n    private void demoInThisThread ( )\r\n    {\r\n        Runnable task = new Counter () ;\r\n        task.run() ;\r\n    }\r\n}\r\n```\r\n\r\nWhen run:\r\n\r\n&gt;Thread ID: 1 at 2023-09-17T06:01:24.691381Z result character length is: 488890. Elapsed: PT0.003877583S\r\n\r\nOn my machine (MacBook Pro, 16-inch, 2021, Apple M1 Pro, 16 GB, macOS Ventura 13.5.2), your code took PT1.456853583S. So you can see, compared to this code, how much more efficient `StringBuilder` is over `String`. But we don&#39;t really want efficiency for this threading test, so I&#39;ll restore the use of `String`.\r\n\r\nBe aware that such a use of `String` concatenation will generate huge amounts of garbage for the garbage collector to manage, as [commented by user207421][6]. So much garbage may affect results in unpredictable ways.\r\n\r\n```java\r\npackage work.basil.example.looping;\r\n\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\n\r\npublic class Counter implements Runnable\r\n{\r\n    @Override\r\n    public void run ( )\r\n    {\r\n        long startNanos = System.nanoTime ( );\r\n        String tmp = &quot;&quot;;\r\n        for ( int i = 0 ; i &lt; 100000 ; i++ ) tmp += i;\r\n        Duration elapsed = Duration.ofNanos ( System.nanoTime ( ) - startNanos );\r\n        System.out.println ( &quot;Thread ID: &quot; + Thread.currentThread ( ).threadId ( ) + &quot; at &quot; + Instant.now ( ) + &quot; result character length is: &quot; + tmp.codePoints ( ).count ( ) + &quot;. Elapsed: &quot; + elapsed );\r\n    }\r\n}\r\n```\r\n\r\nWhen run:\r\n\r\n&gt;Thread ID: 1 at 2023-09-17T06:09:03.218903Z result character length is: 488890. Elapsed: PT1.401553292S\r\n\r\nThen you spawned five threads. In each you performed the same task, a loop of 100,000 iterations. So you were doing five times as much work, a total of 500,000 iterations. More work is more work, so threading is *not* going to make that extra work vanish. The CPU core(s) must still do five times as many string concatenations. \r\n\r\nTo make a more fair examination of the benefits of threading, you should divide the work so that each thread is doing a *portion* of the 100,000. We will make this possible by adding a constructor to our task class, passing the desired number of iterations.\r\n\r\n```java\r\npackage work.basil.example.looping;\r\n\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\n\r\npublic class Counter implements Runnable\r\n{\r\n    private final int count;\r\n\r\n    public Counter ( final int count ) { this.count = count; }\r\n\r\n    @Override\r\n    public void run ( )\r\n    {\r\n        long startNanos = System.nanoTime ( );\r\n        String tmp = &quot;&quot;;\r\n        for ( int i = 0 ; i &lt; this.count ; i++ ) tmp += i;\r\n        Duration elapsed = Duration.ofNanos ( System.nanoTime ( ) - startNanos );\r\n        System.out.println ( &quot;Thread ID: &quot; + Thread.currentThread ( ).threadId ( ) + &quot; at &quot; + Instant.now ( ) + &quot; for a count of &quot; + this.count + &quot; produced result character length of: &quot; + tmp.codePoints ( ).count ( ) + &quot;. Elapsed: &quot; + elapsed );\r\n    }\r\n}\r\n```\r\n\r\nAnd our app code:\r\n\r\n```java\r\npackage work.basil.example.looping;\r\n\r\npublic class App\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        App app = new App ( );\r\n        app.demoInThisThread ( );\r\n    }\r\n\r\n    private void demoInThisThread ( )\r\n    {\r\n        Runnable task = new Counter ( 100_000 );\r\n        task.run ( );\r\n    }\r\n}\r\n```\r\n\r\nResults are the same.\r\n\r\nNow we are ready to run five threads, each with 20,000 iterations as their portion of the 100,000.\r\n\r\nWe instantiate an executor service backed by five threads. Then we loop to submit five instances of our task to that executor service. We use try-with-resources syntax to automatically close our `ExecutorService` after the submitted tasks have completed. \r\n\r\n```java\r\npackage work.basil.example.looping;\r\n\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\n\r\npublic class App\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        App app = new App ( );\r\n//        app.demoInThisThread ( );\r\n        app.demoInBackgroundThreads ( );\r\n    }\r\n\r\n    private void demoInBackgroundThreads ( )\r\n    {\r\n        long startNanos = System.nanoTime ( );\r\n        try ( ExecutorService executorService = Executors.newFixedThreadPool ( 5 ) ; )\r\n        {\r\n            final int countTasks = 5;\r\n            for ( int ordinal = 0 ; ordinal &lt; countTasks ; ordinal++ )\r\n            {\r\n                Runnable task = new Counter ( 20_000 );\r\n                executorService.submit ( task );\r\n            }\r\n        }\r\n        Duration elapsed = Duration.ofNanos ( System.nanoTime ( ) - startNanos );\r\n        System.out.println ( &quot;Executor Service elapsed = &quot; + elapsed + &quot; at &quot; + Instant.now ( ) );\r\n    }\r\n\r\n    private void demoInThisThread ( )\r\n    {\r\n        Runnable task = new Counter ( 100_000 );\r\n        task.run ( );\r\n    }\r\n}\r\n```\r\n\r\nThe results are startlingly different. Instead of taking well over a second, doing all 5 * 20,000 concatenations took a small fraction of a second, 1/20th of a second. Each task took about 1/20th of a second, so mathematically we know that on this 10-core machine we were getting code executing simultaneously, with each of five cores firing. \r\n\r\n```none\r\nThread ID: 24 at 2023-09-17T06:27:57.068636Z for a count of 20000 produced result character length of: 88890. Elapsed: PT0.1823735S\r\nThread ID: 23 at 2023-09-17T06:27:57.067782Z for a count of 20000 produced result character length of: 88890. Elapsed: PT0.18159025S\r\nThread ID: 25 at 2023-09-17T06:27:57.070629Z for a count of 20000 produced result character length of: 88890. Elapsed: PT0.18414225S\r\nThread ID: 22 at 2023-09-17T06:27:57.070073Z for a count of 20000 produced result character length of: 88890. Elapsed: PT0.183828875S\r\nThread ID: 21 at 2023-09-17T06:27:57.062894Z for a count of 20000 produced result character length of: 88890. Elapsed: PT0.176261S\r\nExecutor Service elapsed = PT0.190679125S at 2023-09-17T06:27:57.075335Z\r\n```\r\n\r\nSo why so much faster? Well, our test is flawed. Concatenating `String` objects repeatedly results in a continually growing string. But 20,000 concatenations grows a much smaller string than 100,000 concatenations. So much smaller that much less work was involved. So this is not a good test. (Benchmarking is difficult work.)\r\n\r\n\r\nA better test might be generating random numbers and calculating an average. On first effort, this work was so very fast that I expanded the iterations by a multiple of ten (1 million, &amp; 200,000). And I involved `String` ↔️ `Integer` ↔️ `int` conversions as more work. Even still, we get only split second results. \r\n\r\nThe task:\r\n\r\n```java\r\npackage work.basil.example.looping;\r\n\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.concurrent.ThreadLocalRandom;\r\n\r\npublic class Averaged implements Runnable\r\n{\r\n    private final int count;\r\n    private final List &lt; String &gt; randoms;\r\n\r\n    public Averaged ( final int count )\r\n    {\r\n        this.count = count;\r\n        this.randoms = new ArrayList &lt;&gt; ( this.count );\r\n    }\r\n\r\n    @Override\r\n    public void run ( )\r\n    {\r\n        long startNanos = System.nanoTime ( );\r\n        for ( int i = 0 ; i &lt; this.count ; i++ )\r\n        {\r\n            int x = ThreadLocalRandom.current ( ).nextInt ( 1 , Integer.MAX_VALUE );\r\n            this.randoms.add ( String.valueOf ( x ) );\r\n        }\r\n        double average = this.randoms.stream ( ).map ( Integer :: valueOf ).mapToInt ( Integer :: intValue ).summaryStatistics ( ).getAverage ( );  // Intentionally involved auto-boxing as extra work for our test.\r\n        Duration elapsed = Duration.ofNanos ( System.nanoTime ( ) - startNanos );\r\n        System.out.println ( &quot;Thread ID: &quot; + Thread.currentThread ( ).threadId ( ) + &quot; at &quot; + Instant.now ( ) + &quot; for a count of &quot; + this.count + &quot; produced average of: &quot; + average + &quot;. Elapsed: &quot; + elapsed );\r\n    }\r\n}\r\n```\r\n\r\nAnd the app class:\r\n\r\n```java\r\npackage work.basil.example.looping;\r\n\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\n\r\npublic class App\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        App app = new App ( );\r\n//        app.demoInThisThread ( );\r\n//        app.demoInBackgroundThreads ( );\r\n//        app.demoSumsInSameThread ( );\r\n        app.demoSumsInBackgroundThreads ( );\r\n    }\r\n\r\n    private void demoSumsInBackgroundThreads ( )\r\n    {\r\n        long startNanos = System.nanoTime ( );\r\n        try ( ExecutorService executorService = Executors.newFixedThreadPool ( 5 ) ; )\r\n        {\r\n            final int countTasks = 5;\r\n            for ( int ordinal = 0 ; ordinal &lt; countTasks ; ordinal++ )\r\n            {\r\n                Runnable task = new Averaged ( 200_000 );\r\n                executorService.submit ( task );\r\n            }\r\n        }\r\n        Duration elapsed = Duration.ofNanos ( System.nanoTime ( ) - startNanos );\r\n        System.out.println ( &quot;Executor Service elapsed = &quot; + elapsed + &quot; at &quot; + Instant.now ( ) );\r\n    }\r\n\r\n    private void demoSumsInSameThread ( )\r\n    {\r\n        Runnable task = new Averaged ( 1_000_000 );\r\n        task.run ( );\r\n    }\r\n\r\n    private void demoInBackgroundThreads ( )\r\n    {\r\n        long startNanos = System.nanoTime ( );\r\n        try ( ExecutorService executorService = Executors.newFixedThreadPool ( 5 ) ; )\r\n        {\r\n            final int countTasks = 5;\r\n            for ( int ordinal = 0 ; ordinal &lt; countTasks ; ordinal++ )\r\n            {\r\n                Runnable task = new Counter ( 20_000 );\r\n                executorService.submit ( task );\r\n            }\r\n        }\r\n        Duration elapsed = Duration.ofNanos ( System.nanoTime ( ) - startNanos );\r\n        System.out.println ( &quot;Executor Service elapsed = &quot; + elapsed + &quot; at &quot; + Instant.now ( ) );\r\n    }\r\n\r\n    private void demoInThisThread ( )\r\n    {\r\n        Runnable task = new Counter ( 100_000 );\r\n        task.run ( );\r\n    }\r\n}\r\n```\r\n\r\nWhen run in the same thread, the million numbers take about 8/10 of a second.\r\n\r\n```none\r\nThread ID: 1 at 2023-09-17T07:05:24.256743Z for a count of 1000000 produced average of: 1.073135902798566E9. Elapsed: PT0.084711792S\r\n```\r\n\r\nWhen run across threads, the 200,000 * 5 numbers take about 8/10 or 9/10 of a second. Each of the threaded tasks also takes 8/10 of a second. So again, we know mathematically that on this machine we are getting separate cores running simultaneously.\r\n\r\n```none\r\nThread ID: 21 at 2023-09-17T07:06:14.812452Z for a count of 200000 produced average of: 1.073304324790475E9. Elapsed: PT0.080241167S\r\nThread ID: 23 at 2023-09-17T07:06:14.812469Z for a count of 200000 produced average of: 1.073028061541545E9. Elapsed: PT0.080389542S\r\nThread ID: 25 at 2023-09-17T07:06:14.813533Z for a count of 200000 produced average of: 1.07282572828644E9. Elapsed: PT0.081019291S\r\nThread ID: 24 at 2023-09-17T07:06:14.813595Z for a count of 200000 produced average of: 1.076256760047685E9. Elapsed: PT0.081408875S\r\nThread ID: 22 at 2023-09-17T07:06:14.813600Z for a count of 200000 produced average of: 1.073103576810605E9. Elapsed: PT0.081662959S\r\nExecutor Service elapsed = PT0.098596875S at 2023-09-17T07:06:14.828988Z\r\n```\r\n\r\nWhy no savings when threaded? I don&#39;t really know why this particular task takes about the same amount of time for 200,000 as for 1 million. Again, benchmarking is difficult.\r\n\r\nIf we change the threaded test to do 10 tasks of 100,000 numbers each, on the same 10 core machine, we do see a dramatic drop in elapsed time for *some* of the tasks, taking only 2/10 of a second where we might expect 4/10. But the overall grouped time is about the same, 9/10 of a second. \r\n\r\n```none\r\nThread ID: 25 at 2023-09-17T19:43:06.051570Z for a count of 100000 produced average of: 1.07519247943123E9. Elapsed: PT0.057728417S\r\nThread ID: 24 at 2023-09-17T19:43:06.053705Z for a count of 100000 produced average of: 1.07496720067476E9. Elapsed: PT0.060560125S\r\nThread ID: 22 at 2023-09-17T19:43:06.053489Z for a count of 100000 produced average of: 1.07711825115815E9. Elapsed: PT0.060462083S\r\nThread ID: 21 at 2023-09-17T19:43:06.052852Z for a count of 100000 produced average of: 1.07550130293061E9. Elapsed: PT0.059825042S\r\nThread ID: 23 at 2023-09-17T19:43:06.051057Z for a count of 100000 produced average of: 1.0755424631933E9. Elapsed: PT0.057704334S\r\nThread ID: 21 at 2023-09-17T19:43:06.080795Z for a count of 100000 produced average of: 1.07392238112309E9. Elapsed: PT0.013798042S\r\nThread ID: 25 at 2023-09-17T19:43:06.081217Z for a count of 100000 produced average of: 1.07513370104224E9. Elapsed: PT0.014378042S\r\nThread ID: 24 at 2023-09-17T19:43:06.083975Z for a count of 100000 produced average of: 1.07646007807133E9. Elapsed: PT0.017139583S\r\nThread ID: 22 at 2023-09-17T19:43:06.084319Z for a count of 100000 produced average of: 1.07482906529202E9. Elapsed: PT0.017476875S\r\nThread ID: 23 at 2023-09-17T19:43:06.084813Z for a count of 100000 produced average of: 1.07169205436235E9. Elapsed: PT0.017668375S\r\nExecutor Service elapsed = PT0.093519875S at 2023-09-17T19:43:06.085102Z\r\n```\r\n\r\nKeep in mind that on this machine’s Apple Silicon M1 Pro chip, 2 of the cores are tuned for efficiency, while the other 8 are tuned for performance — this may affect results. \r\n\r\n----------\r\n\r\n\r\nBy the way… We still have a poor test regimen here. We should be doing work ahead of time to warm the JVM, etc. For real benchmarking, learn to use [JMH][7]. As mentioned, benchmarking is difficult. \r\n\r\n\r\n----------\r\n\r\n\r\nBe aware that your test is [CPU-bound][8]. Such a task is rather rare in real-world Java work. Quite often Java work involves [blocking][9]. Blocking comes from activities such as writing to storage, interacting with a database, logging, network calls such as sockets or Web services, inter-process communications, etc. For such blocking work, consider using [virtual threads][10] ([fibers][11]) in Java 21+. \r\n\r\n----------\r\n\r\n\r\nBeware: Output from `System.out.println` may *not* necessarily appear on the console in chronological order when called across threads. Always use a timestamp such as `Instant.now()` if you care about verifying the order. \r\n\r\nFor example, in the last example results above, notice these lines are out-of-order:\r\n\r\n```none\r\nThread ID: 24 at 2023-09-17T19:43:06.053705Z …\r\nThread ID: 22 at 2023-09-17T19:43:06.053489Z …\r\nThread ID: 21 at 2023-09-17T19:43:06.052852Z …\r\nThread ID: 23 at 2023-09-17T19:43:06.051057Z …\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Runnable.html\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/Callable.html\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ExecutorService.html\r\n  [4]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html\r\n  [5]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/System.html#nanoTime()\r\n  [6]: https://stackoverflow.com/questions/77120326/why-is-there-no-significant-difference-with-or-without-thread/77120709#comment135955177_77120326\r\n  [7]: https://openjdk.org/jeps/230\r\n  [8]: https://en.wikipedia.org/wiki/CPU-bound\r\n  [9]: https://en.wikipedia.org/wiki/Blocking_(computing)\r\n  [10]: https://openjdk.org/jeps/444\r\n  [11]: https://en.wikipedia.org/wiki/Fiber_(computer_science)","title":"Why is there no significant difference with or without thread?","body":"<p>You have several problems with your code, some of which directly affect the answer to your question.</p>\n<p>To begin with, in modern Java we rarely need to directly address the <code>Thread</code> class. Instead, use the Executors framework in Java 5+. Define your task as a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Runnable.html\" rel=\"nofollow noreferrer\"><code>Runnable</code></a> or <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/Callable.html\" rel=\"nofollow noreferrer\"><code>Callable</code></a> object. Submit an instance(s) to an executor service. That <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">executor service</a> may be backed by a pool of threads, without you needing to manage the setup/teardown of those threads, nor do you need to manage scheduling tasks amongst those threads.</p>\n<p>For clarity, let's move your <code>main</code> method to its own class. That way we can move your task work into a class implementing <code>Runnable</code>, meaning it implements a <code>run</code> method. No <code>extends Thread</code> at all.</p>\n<p>Your task code does nothing productive. Nothing is passed to other code, nothing written to storage, nothing called over the network, no saving to a database, and nothing reported to the console. Such code may be optimized away by the compiler. So we add a call to <code>System.out.println</code> to avoid any such optimization.</p>\n<p>Your task code converts an integer to text, and concatenates. In real work, we would use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\"><code>StringBuilder</code></a> for possibly more efficiency (though this may be done behind the scenes for you implicitly in some implementations of Java) and to make the code more self-documenting.</p>\n<p>We want to report elapsed time for each task run.</p>\n<p>For this, do <em>not</em> use <code>java.util.Date</code>. Indeed, do not ever use either of the <code>Date</code> classes. These were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310 for Java 8+. The <code>java.util.Date</code> class specifically was replaced by <code>java.time.Instant</code>.</p>\n<p>For microbenchmarking, the finest time-tracking is <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/System.html#nanoTime()\" rel=\"nofollow noreferrer\"><code>System.nanoTime</code></a>. This call grabs the current value of an incrementing count of passing nanoseconds.</p>\n<p>Use underscore to format your numeric literals for easier reading. So <code>100_000</code>.</p>\n<p>Variable names in Java, by convention, start with a lowercase letter.</p>\n<p>So here is our task class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.looping;\n\nimport java.time.Duration;\nimport java.time.Instant;\n\npublic class Counter implements Runnable\n{\n    @Override\n    public void run ( )\n    {\n        long startNanos = System.nanoTime ( );\n        StringBuilder tmp = new StringBuilder ( );\n        for ( int i = 0 ; i &lt; 100_000 ; i++ )\n        {\n            tmp.append ( i );  // Converting integer number to text, and concatenating.\n        }\n        Duration elapsed = Duration.ofNanos ( System.nanoTime ( ) - startNanos );\n        System.out.println ( &quot;Thread ID: &quot; + Thread.currentThread ( ).threadId ( ) + &quot; at &quot; + Instant.now ( ) + &quot; result character length is: &quot; + tmp.codePoints ( ).count ( ) + &quot;. Elapsed: &quot; + elapsed );\n    }\n}\n</code></pre>\n<p>Now an app class to exercise that task.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.looping;\n\npublic class App\n{\n    public static void main ( String[] args )\n    {\n        App app = new App() ;\n        app.demoInThisThread();\n    }\n\n    private void demoInThisThread ( )\n    {\n        Runnable task = new Counter () ;\n        task.run() ;\n    }\n}\n</code></pre>\n<p>When run:</p>\n<blockquote>\n<p>Thread ID: 1 at 2023-09-17T06:01:24.691381Z result character length is: 488890. Elapsed: PT0.003877583S</p>\n</blockquote>\n<p>On my machine (MacBook Pro, 16-inch, 2021, Apple M1 Pro, 16 GB, macOS Ventura 13.5.2), your code took PT1.456853583S. So you can see, compared to this code, how much more efficient <code>StringBuilder</code> is over <code>String</code>. But we don't really want efficiency for this threading test, so I'll restore the use of <code>String</code>.</p>\n<p>Be aware that such a use of <code>String</code> concatenation will generate huge amounts of garbage for the garbage collector to manage, as <a href=\"https://stackoverflow.com/questions/77120326/why-is-there-no-significant-difference-with-or-without-thread/77120709#comment135955177_77120326\">commented by user207421</a>. So much garbage may affect results in unpredictable ways.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.looping;\n\nimport java.time.Duration;\nimport java.time.Instant;\n\npublic class Counter implements Runnable\n{\n    @Override\n    public void run ( )\n    {\n        long startNanos = System.nanoTime ( );\n        String tmp = &quot;&quot;;\n        for ( int i = 0 ; i &lt; 100000 ; i++ ) tmp += i;\n        Duration elapsed = Duration.ofNanos ( System.nanoTime ( ) - startNanos );\n        System.out.println ( &quot;Thread ID: &quot; + Thread.currentThread ( ).threadId ( ) + &quot; at &quot; + Instant.now ( ) + &quot; result character length is: &quot; + tmp.codePoints ( ).count ( ) + &quot;. Elapsed: &quot; + elapsed );\n    }\n}\n</code></pre>\n<p>When run:</p>\n<blockquote>\n<p>Thread ID: 1 at 2023-09-17T06:09:03.218903Z result character length is: 488890. Elapsed: PT1.401553292S</p>\n</blockquote>\n<p>Then you spawned five threads. In each you performed the same task, a loop of 100,000 iterations. So you were doing five times as much work, a total of 500,000 iterations. More work is more work, so threading is <em>not</em> going to make that extra work vanish. The CPU core(s) must still do five times as many string concatenations.</p>\n<p>To make a more fair examination of the benefits of threading, you should divide the work so that each thread is doing a <em>portion</em> of the 100,000. We will make this possible by adding a constructor to our task class, passing the desired number of iterations.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.looping;\n\nimport java.time.Duration;\nimport java.time.Instant;\n\npublic class Counter implements Runnable\n{\n    private final int count;\n\n    public Counter ( final int count ) { this.count = count; }\n\n    @Override\n    public void run ( )\n    {\n        long startNanos = System.nanoTime ( );\n        String tmp = &quot;&quot;;\n        for ( int i = 0 ; i &lt; this.count ; i++ ) tmp += i;\n        Duration elapsed = Duration.ofNanos ( System.nanoTime ( ) - startNanos );\n        System.out.println ( &quot;Thread ID: &quot; + Thread.currentThread ( ).threadId ( ) + &quot; at &quot; + Instant.now ( ) + &quot; for a count of &quot; + this.count + &quot; produced result character length of: &quot; + tmp.codePoints ( ).count ( ) + &quot;. Elapsed: &quot; + elapsed );\n    }\n}\n</code></pre>\n<p>And our app code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.looping;\n\npublic class App\n{\n    public static void main ( String[] args )\n    {\n        App app = new App ( );\n        app.demoInThisThread ( );\n    }\n\n    private void demoInThisThread ( )\n    {\n        Runnable task = new Counter ( 100_000 );\n        task.run ( );\n    }\n}\n</code></pre>\n<p>Results are the same.</p>\n<p>Now we are ready to run five threads, each with 20,000 iterations as their portion of the 100,000.</p>\n<p>We instantiate an executor service backed by five threads. Then we loop to submit five instances of our task to that executor service. We use try-with-resources syntax to automatically close our <code>ExecutorService</code> after the submitted tasks have completed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.looping;\n\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\npublic class App\n{\n    public static void main ( String[] args )\n    {\n        App app = new App ( );\n//        app.demoInThisThread ( );\n        app.demoInBackgroundThreads ( );\n    }\n\n    private void demoInBackgroundThreads ( )\n    {\n        long startNanos = System.nanoTime ( );\n        try ( ExecutorService executorService = Executors.newFixedThreadPool ( 5 ) ; )\n        {\n            final int countTasks = 5;\n            for ( int ordinal = 0 ; ordinal &lt; countTasks ; ordinal++ )\n            {\n                Runnable task = new Counter ( 20_000 );\n                executorService.submit ( task );\n            }\n        }\n        Duration elapsed = Duration.ofNanos ( System.nanoTime ( ) - startNanos );\n        System.out.println ( &quot;Executor Service elapsed = &quot; + elapsed + &quot; at &quot; + Instant.now ( ) );\n    }\n\n    private void demoInThisThread ( )\n    {\n        Runnable task = new Counter ( 100_000 );\n        task.run ( );\n    }\n}\n</code></pre>\n<p>The results are startlingly different. Instead of taking well over a second, doing all 5 * 20,000 concatenations took a small fraction of a second, 1/20th of a second. Each task took about 1/20th of a second, so mathematically we know that on this 10-core machine we were getting code executing simultaneously, with each of five cores firing.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Thread ID: 24 at 2023-09-17T06:27:57.068636Z for a count of 20000 produced result character length of: 88890. Elapsed: PT0.1823735S\nThread ID: 23 at 2023-09-17T06:27:57.067782Z for a count of 20000 produced result character length of: 88890. Elapsed: PT0.18159025S\nThread ID: 25 at 2023-09-17T06:27:57.070629Z for a count of 20000 produced result character length of: 88890. Elapsed: PT0.18414225S\nThread ID: 22 at 2023-09-17T06:27:57.070073Z for a count of 20000 produced result character length of: 88890. Elapsed: PT0.183828875S\nThread ID: 21 at 2023-09-17T06:27:57.062894Z for a count of 20000 produced result character length of: 88890. Elapsed: PT0.176261S\nExecutor Service elapsed = PT0.190679125S at 2023-09-17T06:27:57.075335Z\n</code></pre>\n<p>So why so much faster? Well, our test is flawed. Concatenating <code>String</code> objects repeatedly results in a continually growing string. But 20,000 concatenations grows a much smaller string than 100,000 concatenations. So much smaller that much less work was involved. So this is not a good test. (Benchmarking is difficult work.)</p>\n<p>A better test might be generating random numbers and calculating an average. On first effort, this work was so very fast that I expanded the iterations by a multiple of ten (1 million, &amp; 200,000). And I involved <code>String</code> ↔️ <code>Integer</code> ↔️ <code>int</code> conversions as more work. Even still, we get only split second results.</p>\n<p>The task:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.looping;\n\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.ThreadLocalRandom;\n\npublic class Averaged implements Runnable\n{\n    private final int count;\n    private final List &lt; String &gt; randoms;\n\n    public Averaged ( final int count )\n    {\n        this.count = count;\n        this.randoms = new ArrayList &lt;&gt; ( this.count );\n    }\n\n    @Override\n    public void run ( )\n    {\n        long startNanos = System.nanoTime ( );\n        for ( int i = 0 ; i &lt; this.count ; i++ )\n        {\n            int x = ThreadLocalRandom.current ( ).nextInt ( 1 , Integer.MAX_VALUE );\n            this.randoms.add ( String.valueOf ( x ) );\n        }\n        double average = this.randoms.stream ( ).map ( Integer :: valueOf ).mapToInt ( Integer :: intValue ).summaryStatistics ( ).getAverage ( );  // Intentionally involved auto-boxing as extra work for our test.\n        Duration elapsed = Duration.ofNanos ( System.nanoTime ( ) - startNanos );\n        System.out.println ( &quot;Thread ID: &quot; + Thread.currentThread ( ).threadId ( ) + &quot; at &quot; + Instant.now ( ) + &quot; for a count of &quot; + this.count + &quot; produced average of: &quot; + average + &quot;. Elapsed: &quot; + elapsed );\n    }\n}\n</code></pre>\n<p>And the app class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.looping;\n\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\npublic class App\n{\n    public static void main ( String[] args )\n    {\n        App app = new App ( );\n//        app.demoInThisThread ( );\n//        app.demoInBackgroundThreads ( );\n//        app.demoSumsInSameThread ( );\n        app.demoSumsInBackgroundThreads ( );\n    }\n\n    private void demoSumsInBackgroundThreads ( )\n    {\n        long startNanos = System.nanoTime ( );\n        try ( ExecutorService executorService = Executors.newFixedThreadPool ( 5 ) ; )\n        {\n            final int countTasks = 5;\n            for ( int ordinal = 0 ; ordinal &lt; countTasks ; ordinal++ )\n            {\n                Runnable task = new Averaged ( 200_000 );\n                executorService.submit ( task );\n            }\n        }\n        Duration elapsed = Duration.ofNanos ( System.nanoTime ( ) - startNanos );\n        System.out.println ( &quot;Executor Service elapsed = &quot; + elapsed + &quot; at &quot; + Instant.now ( ) );\n    }\n\n    private void demoSumsInSameThread ( )\n    {\n        Runnable task = new Averaged ( 1_000_000 );\n        task.run ( );\n    }\n\n    private void demoInBackgroundThreads ( )\n    {\n        long startNanos = System.nanoTime ( );\n        try ( ExecutorService executorService = Executors.newFixedThreadPool ( 5 ) ; )\n        {\n            final int countTasks = 5;\n            for ( int ordinal = 0 ; ordinal &lt; countTasks ; ordinal++ )\n            {\n                Runnable task = new Counter ( 20_000 );\n                executorService.submit ( task );\n            }\n        }\n        Duration elapsed = Duration.ofNanos ( System.nanoTime ( ) - startNanos );\n        System.out.println ( &quot;Executor Service elapsed = &quot; + elapsed + &quot; at &quot; + Instant.now ( ) );\n    }\n\n    private void demoInThisThread ( )\n    {\n        Runnable task = new Counter ( 100_000 );\n        task.run ( );\n    }\n}\n</code></pre>\n<p>When run in the same thread, the million numbers take about 8/10 of a second.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Thread ID: 1 at 2023-09-17T07:05:24.256743Z for a count of 1000000 produced average of: 1.073135902798566E9. Elapsed: PT0.084711792S\n</code></pre>\n<p>When run across threads, the 200,000 * 5 numbers take about 8/10 or 9/10 of a second. Each of the threaded tasks also takes 8/10 of a second. So again, we know mathematically that on this machine we are getting separate cores running simultaneously.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Thread ID: 21 at 2023-09-17T07:06:14.812452Z for a count of 200000 produced average of: 1.073304324790475E9. Elapsed: PT0.080241167S\nThread ID: 23 at 2023-09-17T07:06:14.812469Z for a count of 200000 produced average of: 1.073028061541545E9. Elapsed: PT0.080389542S\nThread ID: 25 at 2023-09-17T07:06:14.813533Z for a count of 200000 produced average of: 1.07282572828644E9. Elapsed: PT0.081019291S\nThread ID: 24 at 2023-09-17T07:06:14.813595Z for a count of 200000 produced average of: 1.076256760047685E9. Elapsed: PT0.081408875S\nThread ID: 22 at 2023-09-17T07:06:14.813600Z for a count of 200000 produced average of: 1.073103576810605E9. Elapsed: PT0.081662959S\nExecutor Service elapsed = PT0.098596875S at 2023-09-17T07:06:14.828988Z\n</code></pre>\n<p>Why no savings when threaded? I don't really know why this particular task takes about the same amount of time for 200,000 as for 1 million. Again, benchmarking is difficult.</p>\n<p>If we change the threaded test to do 10 tasks of 100,000 numbers each, on the same 10 core machine, we do see a dramatic drop in elapsed time for <em>some</em> of the tasks, taking only 2/10 of a second where we might expect 4/10. But the overall grouped time is about the same, 9/10 of a second.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Thread ID: 25 at 2023-09-17T19:43:06.051570Z for a count of 100000 produced average of: 1.07519247943123E9. Elapsed: PT0.057728417S\nThread ID: 24 at 2023-09-17T19:43:06.053705Z for a count of 100000 produced average of: 1.07496720067476E9. Elapsed: PT0.060560125S\nThread ID: 22 at 2023-09-17T19:43:06.053489Z for a count of 100000 produced average of: 1.07711825115815E9. Elapsed: PT0.060462083S\nThread ID: 21 at 2023-09-17T19:43:06.052852Z for a count of 100000 produced average of: 1.07550130293061E9. Elapsed: PT0.059825042S\nThread ID: 23 at 2023-09-17T19:43:06.051057Z for a count of 100000 produced average of: 1.0755424631933E9. Elapsed: PT0.057704334S\nThread ID: 21 at 2023-09-17T19:43:06.080795Z for a count of 100000 produced average of: 1.07392238112309E9. Elapsed: PT0.013798042S\nThread ID: 25 at 2023-09-17T19:43:06.081217Z for a count of 100000 produced average of: 1.07513370104224E9. Elapsed: PT0.014378042S\nThread ID: 24 at 2023-09-17T19:43:06.083975Z for a count of 100000 produced average of: 1.07646007807133E9. Elapsed: PT0.017139583S\nThread ID: 22 at 2023-09-17T19:43:06.084319Z for a count of 100000 produced average of: 1.07482906529202E9. Elapsed: PT0.017476875S\nThread ID: 23 at 2023-09-17T19:43:06.084813Z for a count of 100000 produced average of: 1.07169205436235E9. Elapsed: PT0.017668375S\nExecutor Service elapsed = PT0.093519875S at 2023-09-17T19:43:06.085102Z\n</code></pre>\n<p>Keep in mind that on this machine’s Apple Silicon M1 Pro chip, 2 of the cores are tuned for efficiency, while the other 8 are tuned for performance — this may affect results.</p>\n<hr />\n<p>By the way… We still have a poor test regimen here. We should be doing work ahead of time to warm the JVM, etc. For real benchmarking, learn to use <a href=\"https://openjdk.org/jeps/230\" rel=\"nofollow noreferrer\">JMH</a>. As mentioned, benchmarking is difficult.</p>\n<hr />\n<p>Be aware that your test is <a href=\"https://en.wikipedia.org/wiki/CPU-bound\" rel=\"nofollow noreferrer\">CPU-bound</a>. Such a task is rather rare in real-world Java work. Quite often Java work involves <a href=\"https://en.wikipedia.org/wiki/Blocking_(computing)\" rel=\"nofollow noreferrer\">blocking</a>. Blocking comes from activities such as writing to storage, interacting with a database, logging, network calls such as sockets or Web services, inter-process communications, etc. For such blocking work, consider using <a href=\"https://openjdk.org/jeps/444\" rel=\"nofollow noreferrer\">virtual threads</a> (<a href=\"https://en.wikipedia.org/wiki/Fiber_(computer_science)\" rel=\"nofollow noreferrer\">fibers</a>) in Java 21+.</p>\n<hr />\n<p>Beware: Output from <code>System.out.println</code> may <em>not</em> necessarily appear on the console in chronological order when called across threads. Always use a timestamp such as <code>Instant.now()</code> if you care about verifying the order.</p>\n<p>For example, in the last example results above, notice these lines are out-of-order:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Thread ID: 24 at 2023-09-17T19:43:06.053705Z …\nThread ID: 22 at 2023-09-17T19:43:06.053489Z …\nThread ID: 21 at 2023-09-17T19:43:06.052852Z …\nThread ID: 23 at 2023-09-17T19:43:06.051057Z …\n</code></pre>\n"},{"tags":[],"owner":{"account_id":179070,"reputation":3412,"user_id":411459,"accept_rate":82,"display_name":"Duncan Krebs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694932068,"creation_date":1694932068,"answer_id":77120715,"question_id":77120326,"body_markdown":"You guys got realize a few things about performance gains with multi-threaded code. Multi-threaded has significant time performance compared to single threads that is based on the volume of computing needed. So if you are just computing time duration a few times in one thread vs 5 you&#39;re not going to see much difference. I wrote some code for you it runs by pasting into your IDE and just change the package name. \r\n\r\nWhat this shows is the current way to test multi-threaded performance in the question asked, we just don&#39;t do 5 durations we do thousands of them and we compare the time difference beteen multi-threaded and single threaded approaches, this is what this class does. You can configure the number of threads and the number of time durations to compute, that get randomly generated. The other thing that improves multi threaded performance is not by creating them one at a time but having a pool of threads that are all blocking on a queue to compute the next time duration and when the queue of durations to be computed is empty they all return and we count the time. I also used LocalDateTime and made the time duration variable betwen seconds and minutes of two datetimes. \r\n\r\n**With that said, computing 5,000 time durations in a single thread (yes my code added some overhead in building responses, still relative) was 0.152359333 seconds, when doing the same number in a multithreaded blocking queue approach with 3 threads each concurrently a sub set of durations the time is  0.005566667 seconds , which is about **27 times faster**,** \r\n\r\nThat is where you want to be using threads to see real performance, another good example is ingesting bulk data into a sql database, create a blockingQueue of records to inset have a thread that bulk inserts records off the queue, create 5 of those threads and your insert time improves 40X times. Hope that sheds some light. \r\n\r\n\r\n\r\nHere is 10000 durations to compute with 5 threads vs 1..\r\nIt shows the principle of increased performance of multithreading based on computing volume. \r\n\r\n**10000 durations Time Duration Tasks Single Thread took 0.343375458\r\nThread Pool size 5 tooked 0.004482167 seconds to compute  10000 durations\r\nMulti threaded is 76.60925128403294 time faster**\r\nThis is the code change the package name. no other third party imports\r\n\r\n    package com.dunkware.trade.service.beach.server.entity;\r\n\r\n    import java.time.LocalDateTime;\r\n    import java.time.temporal.ChronoUnit;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.concurrent.BlockingQueue;\r\n    import java.util.concurrent.LinkedBlockingDeque;\r\n    import java.util.concurrent.TimeUnit;\r\n    public class Test {\r\n\r\n\t// play these variables, interesting to see \r\n\t// that 3 threads are faster than 5 threads\r\n\t// might be the overhead for creting them\r\n\t// in real life it should come from a thread pool \r\n\t\r\n\t// it tells you with thee values multithreaded is 27 times faster.\r\n\tpublic static int COMPUTE_COUNT = 5000;\r\n\tpublic static int THREAD_COUNT = 3;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tTest test = new Test();\r\n\t\r\n\t\ttest.SingleThreaded5000Requests();\r\n\t\ttest.multiThreadedRequests();\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static double singleTime; \r\n\tpublic static double multiTime;\r\n\r\n\tprivate static BlockingQueue&lt;TimeDurationRequest&gt; requestQuueu = new LinkedBlockingDeque&lt;&gt;();\r\n\tprivate static BlockingQueue&lt;DuraionProcessThread&gt; doneThreadQueue = new LinkedBlockingDeque&lt;DuraionProcessThread&gt;();\r\n\r\n\tpublic static final List&lt;DurationResponse&gt; multiThreadResponses = new ArrayList&lt;DurationResponse&gt;();\r\n\r\n\t\r\n\tprivate void multiThreadedRequests() { \r\n\t\tList&lt;DuraionProcessThread&gt; threads = new ArrayList&lt;Test.DuraionProcessThread&gt;();\r\n\t\tint i = 0;\r\n\t\twhile(i &lt; COMPUTE_COUNT) { \r\n\t\t\trequestQuueu.add(randomRequest());\r\n\t\t\ti++;\r\n\t\t}\r\n\t\ti = 0;\r\n\t\tDStopWatch timer = DStopWatch.create();\r\n\t\ttimer.start();\r\n\t\twhile(i &lt; THREAD_COUNT) { \r\n\t\t\tDuraionProcessThread thread = new DuraionProcessThread();\r\n\t\t\tthread.start();\r\n\t\t\tthreads.add(thread);\r\n\t\t\ti++;\r\n\t\t}\r\n\t\r\n\t\t\r\n\t\ttimer.stop();\r\n\t\tmultiTime = timer.getCompletedSeconds();\r\n\t\tSystem.out.println(&quot;Thread Pool size &quot; + THREAD_COUNT + &quot; tooked &quot; + timer.getCompletedSeconds() + &quot; seconds to compute  &quot; + COMPUTE_COUNT + &quot; durations&quot;);\r\n\t\tdouble  faster = singleTime / multiTime;\r\n\t\tSystem.out.println(&quot;Multi threaded is &quot; + faster + &quot; time faster&quot;);\r\n\t}\r\n\tprivate static class DuraionProcessThread extends Thread {\r\n\r\n\t\tpublic void run() {\r\n\t\t\twhile (!interrupted()) {\r\n\t\t\t\ttry {\r\n\r\n\t\t\t\t\tTimeDurationRequest req = Test.requestQuueu.poll(5, TimeUnit.MILLISECONDS);\r\n\r\n\t\t\t\t\tif ((req == null)) {\r\n\t\t\t\t\t\t// all requests consumed return trhead\r\n\t\t\t\t\t\tdoneThreadQueue.add(this);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tNumber duration = getDurationBetween(req.getUnit(), req.stat, req.stop);\r\n\t\t\t\t\tDurationResponse res = new DurationResponse();\r\n\t\t\t\t\tres.value = duration;\r\n\t\t\t\t\tStringBuilder builder = new StringBuilder();\r\n\t\t\t\t\tif (req.unit == ChronoUnit.SECONDS) {\r\n\t\t\t\t\t\tbuilder.append(&quot;Time Duration in seconds is &quot;).append(duration).append(&quot; fom &quot;)\r\n\t\t\t\t\t\t\t\t.append(req.getStat().toString()).append(&quot; to &quot;).append(req.getStop().toString());\r\n\t\t\t\t\t\tres.messsae = builder.toString();\r\n\t\t\t\t\t\tmultiThreadResponses.add(res);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbuilder = new StringBuilder();\r\n\t\t\t\t\tif (req.getUnit() == ChronoUnit.MINUTES) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tbuilder.append(&quot;Time Duration in minutes is &quot;).append(duration).append(&quot; fom &quot;)\r\n\t\t\t\t\t\t\t\t.append(req.getStat().toString()).append(&quot; from &quot;).append(req.getStop().toString());\r\n\t\t\t\t\t\tres.messsae = builder.toString();\r\n\t\t\t\t\t\tmultiThreadResponses.add(res);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t// TODO: handle exception\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\r\n\t/***\r\n\t * First break your logic into some helper methods, if you have a reason to sue\r\n\t * java.util.date be it, LocalDateTime are better you can easily get duration of\r\n\t * dates and date/time ranges.\r\n\t */\r\n\r\n\t/**\r\n\t * Also more efficient, one function and pass in a date/time range and specify\r\n\t * what duration unit you want, seconds, minutes or whatever.\r\n\t * \r\n\t * @param from\r\n\t * @param to\r\n\t * @return\r\n\t */\r\n\tpublic static long getDurationBetween(ChronoUnit unit, LocalDateTime from, LocalDateTime to) {\r\n\t\treturn unit.between(from, to);\r\n\t}\r\n\r\n\t// another util for stop watch\r\n\tpublic static class DStopWatch {\r\n\r\n\t\tpublic enum Status {\r\n\t\t\tStarted, Stopped, Initialized;\r\n\t\t}\r\n\r\n\t\tpublic static DStopWatch create() {\r\n\t\t\treturn new DStopWatch();\r\n\t\t}\r\n\r\n\t\tprivate volatile DStopWatch.Status _status = DStopWatch.Status.Initialized;\r\n\t\tprivate TimeUnit _timeUnit = TimeUnit.NANOSECONDS;\r\n\t\tprivate Long _startTime = null;\r\n\t\tprivate Long _stopTime = null;\r\n\r\n\t\tDStopWatch() {\r\n\r\n\t\t}\r\n\r\n\t\tpublic Status getStatus() {\r\n\t\t\treturn _status;\r\n\t\t}\r\n\r\n\t\tpublic void start() {\r\n\t\t\tif (_timeUnit == TimeUnit.NANOSECONDS) {\r\n\t\t\t\t_startTime = System.nanoTime();\r\n\t\t\t\t_stopTime = null;\r\n\t\t\t\tsetStatus(Status.Started);\r\n\t\t\t}\r\n\t\t\tif (_timeUnit == TimeUnit.MILLISECONDS) {\r\n\t\t\t\t_startTime = System.currentTimeMillis();\r\n\t\t\t\t_stopTime = null;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvoid setStatus(Status status) {\r\n\t\t\t_status = Status.Stopped;\r\n\t\t}\r\n\r\n\t\tpublic void stop() {\r\n\t\t\tif (getStatus() != Status.Stopped) {\r\n\t\t\t\t// exception\r\n\t\t\t}\r\n\t\t\tif (_timeUnit == TimeUnit.NANOSECONDS) {\r\n\t\t\t\t_stopTime = System.nanoTime();\r\n\t\t\t\tsetStatus(Status.Stopped);\r\n\t\t\t}\r\n\t\t\tif (_timeUnit == TimeUnit.MILLISECONDS) {\r\n\t\t\t\t_stopTime = System.currentTimeMillis();\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tpublic void reset() {\r\n\t\t\tsetStatus(Status.Initialized);\r\n\t\t\t_startTime = null;\r\n\t\t\t_stopTime = null;\r\n\r\n\t\t}\r\n\r\n\t\tpublic TimeUnit getTimeUnit() {\r\n\t\t\treturn _timeUnit;\r\n\t\t}\r\n\r\n\t\tpublic void reset(TimeUnit timeUnit) {\r\n\t\t\t_timeUnit = timeUnit;\r\n\t\t\treset();\r\n\t\t}\r\n\r\n\t\tpublic double getRunningSeconds() {\r\n\t\t\tlong dureation = System.nanoTime() - _startTime;\r\n\t\t\tdouble seconds = ((double) dureation) / 1E9;\r\n\t\t\treturn seconds;\r\n\t\t}\r\n\r\n\t\tpublic double getCompletedSeconds() {\r\n\t\t\tlong dureation = _stopTime - _startTime;\r\n\t\t\tdouble seconds = ((double) dureation) / 1E9;\r\n\t\t\treturn seconds;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Next i would build a model object for what you are trying to compute if its a\r\n\t * model easier to make a REST API out of it.\r\n\t */\r\n\r\n\tpublic static class TimeDurationRequest {\r\n\t\tprivate ChronoUnit unit;\r\n\t\tprivate LocalDateTime stat;\r\n\t\tprivate LocalDateTime stop;\r\n\r\n\t\tpublic ChronoUnit getUnit() {\r\n\t\t\treturn unit;\r\n\t\t}\r\n\r\n\t\tpublic void setUnit(ChronoUnit unit) {\r\n\t\t\tthis.unit = unit;\r\n\t\t}\r\n\r\n\t\tpublic LocalDateTime getStat() {\r\n\t\t\treturn stat;\r\n\t\t}\r\n\r\n\t\tpublic void setStat(LocalDateTime stat) {\r\n\t\t\tthis.stat = stat;\r\n\t\t}\r\n\r\n\t\tpublic LocalDateTime getStop() {\r\n\t\t\treturn stop;\r\n\t\t}\r\n\r\n\t\tpublic void setStop(LocalDateTime stop) {\r\n\t\t\tthis.stop = stop;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// helper\r\n\tpublic static int getRandomNumber(int min, int max) {\r\n\t\treturn (int) ((Math.random() * (max - min)) + min);\r\n\t}\r\n\r\n\tpublic static int timeUnitIterator = 0;\r\n\r\n\t// make a random generator for testing performance\r\n\tprivate static TimeDurationRequest randomRequest() {\r\n\r\n\t\tTimeDurationRequest req = new TimeDurationRequest();\r\n\t\tif (timeUnitIterator == 0) {\r\n\t\t\treq.setUnit(ChronoUnit.MINUTES);\r\n\t\t\ttimeUnitIterator = 1;\r\n\t\t} else {\r\n\t\t\treq.setUnit(ChronoUnit.SECONDS);\r\n\t\t\ttimeUnitIterator = 0;\r\n\r\n\t\t}\r\n\r\n\t\treq.setStat(LocalDateTime.now().minusDays(getRandomNumber(0, 42)));\r\n\t\treq.setStop(LocalDateTime.now().plusSeconds(getRandomNumber(0, 2)));\r\n\t\treturn req;\r\n\t}\r\n\r\n\tpublic static class DurationResponse {\r\n\r\n\t\tpublic String messsae;\r\n\t\tprivate Number value;\r\n\r\n\t}\r\n\r\n\t// okay sow now lets test it to really make a multi-threaded service you best\r\n\t// using a thread poool and a blockign quueue to bulk process and test\r\n\t// perfomrnace.\r\n\r\n\tprivate void SingleThreaded5000Requests() {\r\n\t\tList&lt;DurationResponse&gt; responses = new ArrayList&lt;DurationResponse&gt;();\r\n\t\tint i = 0;\r\n\t\tDStopWatch timer = DStopWatch.create();\r\n\t\ttimer.start();\r\n\t\twhile (i &lt; COMPUTE_COUNT) {\r\n\t\t\tTimeDurationRequest req = randomRequest();\r\n\t\t\tNumber duration = getDurationBetween(req.getUnit(), req.stat, req.stop);\r\n\t\t\tDurationResponse res = new DurationResponse();\r\n\t\t\tres.value = duration;\r\n\t\t\tStringBuilder builder = new StringBuilder();\r\n\t\t\tif (req.unit == ChronoUnit.SECONDS) {\r\n\t\t\t\tbuilder.append(&quot;Time Duration in seconds is &quot;).append(duration).append(&quot; fom &quot;)\r\n\t\t\t\t\t\t.append(req.getStat().toString()).append(&quot; to &quot;).append(req.getStop().toString());\r\n\t\t\t\tres.messsae = builder.toString();\r\n\t\t\t\tresponses.add(res);\r\n\t\t\t}\r\n\t\t\tbuilder = new StringBuilder();\r\n\t\t\tif (req.getUnit() == ChronoUnit.MINUTES) {\r\n\t\t\t\tbuilder.append(&quot;Time Duration in minutes is &quot;).append(duration).append(&quot; fom &quot;)\r\n\t\t\t\t\t\t.append(req.getStat().toString()).append(&quot; from &quot;).append(req.getStop().toString());\r\n\t\t\t\tres.messsae = builder.toString();\r\n\t\t\t\tresponses.add(res);\r\n\t\t\t}\r\n\t\t\ti++;\r\n\t\t}\r\n\t\ttimer.stop();\r\n\t\tsingleTime = timer.getCompletedSeconds();\r\n\t\tSystem.out.println(COMPUTE_COUNT + &quot; durations Time Duration Tasks Single Thread took &quot; + timer.getCompletedSeconds());\r\n\t\t//System.out.println(&quot;results....&quot;);\r\n\t\ttry {\r\n\t\t\tThread.sleep(1000);\r\n\t\t} catch (\r\n\r\n\t\tException e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t}\r\n\t//\tfor (DurationResponse durationResponse : responses) {\r\n\t\t//\tSystem.out.println(durationResponse.messsae);\r\n\t//\t}\r\n\t}\r\n\r\n}\r\n\r\n","title":"Why is there no significant difference with or without thread?","body":"<p>You guys got realize a few things about performance gains with multi-threaded code. Multi-threaded has significant time performance compared to single threads that is based on the volume of computing needed. So if you are just computing time duration a few times in one thread vs 5 you're not going to see much difference. I wrote some code for you it runs by pasting into your IDE and just change the package name.</p>\n<p>What this shows is the current way to test multi-threaded performance in the question asked, we just don't do 5 durations we do thousands of them and we compare the time difference beteen multi-threaded and single threaded approaches, this is what this class does. You can configure the number of threads and the number of time durations to compute, that get randomly generated. The other thing that improves multi threaded performance is not by creating them one at a time but having a pool of threads that are all blocking on a queue to compute the next time duration and when the queue of durations to be computed is empty they all return and we count the time. I also used LocalDateTime and made the time duration variable betwen seconds and minutes of two datetimes.</p>\n<p><strong>With that said, computing 5,000 time durations in a single thread (yes my code added some overhead in building responses, still relative) was 0.152359333 seconds, when doing the same number in a multithreaded blocking queue approach with 3 threads each concurrently a sub set of durations the time is  0.005566667 seconds , which is about <strong>27 times faster</strong>,</strong></p>\n<p>That is where you want to be using threads to see real performance, another good example is ingesting bulk data into a sql database, create a blockingQueue of records to inset have a thread that bulk inserts records off the queue, create 5 of those threads and your insert time improves 40X times. Hope that sheds some light.</p>\n<p>Here is 10000 durations to compute with 5 threads vs 1..\nIt shows the principle of increased performance of multithreading based on computing volume.</p>\n<p><strong>10000 durations Time Duration Tasks Single Thread took 0.343375458\nThread Pool size 5 tooked 0.004482167 seconds to compute  10000 durations\nMulti threaded is 76.60925128403294 time faster</strong>\nThis is the code change the package name. no other third party imports</p>\n<pre><code>package com.dunkware.trade.service.beach.server.entity;\n\nimport java.time.LocalDateTime;\nimport java.time.temporal.ChronoUnit;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.BlockingQueue;\nimport java.util.concurrent.LinkedBlockingDeque;\nimport java.util.concurrent.TimeUnit;\npublic class Test {\n\n// play these variables, interesting to see \n// that 3 threads are faster than 5 threads\n// might be the overhead for creting them\n// in real life it should come from a thread pool \n\n// it tells you with thee values multithreaded is 27 times faster.\npublic static int COMPUTE_COUNT = 5000;\npublic static int THREAD_COUNT = 3;\n\npublic static void main(String[] args) {\n    Test test = new Test();\n\n    test.SingleThreaded5000Requests();\n    test.multiThreadedRequests();\n    \n    \n    \n}\n\npublic static double singleTime; \npublic static double multiTime;\n\nprivate static BlockingQueue&lt;TimeDurationRequest&gt; requestQuueu = new LinkedBlockingDeque&lt;&gt;();\nprivate static BlockingQueue&lt;DuraionProcessThread&gt; doneThreadQueue = new LinkedBlockingDeque&lt;DuraionProcessThread&gt;();\n\npublic static final List&lt;DurationResponse&gt; multiThreadResponses = new ArrayList&lt;DurationResponse&gt;();\n\n\nprivate void multiThreadedRequests() { \n    List&lt;DuraionProcessThread&gt; threads = new ArrayList&lt;Test.DuraionProcessThread&gt;();\n    int i = 0;\n    while(i &lt; COMPUTE_COUNT) { \n        requestQuueu.add(randomRequest());\n        i++;\n    }\n    i = 0;\n    DStopWatch timer = DStopWatch.create();\n    timer.start();\n    while(i &lt; THREAD_COUNT) { \n        DuraionProcessThread thread = new DuraionProcessThread();\n        thread.start();\n        threads.add(thread);\n        i++;\n    }\n\n    \n    timer.stop();\n    multiTime = timer.getCompletedSeconds();\n    System.out.println(&quot;Thread Pool size &quot; + THREAD_COUNT + &quot; tooked &quot; + timer.getCompletedSeconds() + &quot; seconds to compute  &quot; + COMPUTE_COUNT + &quot; durations&quot;);\n    double  faster = singleTime / multiTime;\n    System.out.println(&quot;Multi threaded is &quot; + faster + &quot; time faster&quot;);\n}\nprivate static class DuraionProcessThread extends Thread {\n\n    public void run() {\n        while (!interrupted()) {\n            try {\n\n                TimeDurationRequest req = Test.requestQuueu.poll(5, TimeUnit.MILLISECONDS);\n\n                if ((req == null)) {\n                    // all requests consumed return trhead\n                    doneThreadQueue.add(this);\n                    return;\n                }\n\n                Number duration = getDurationBetween(req.getUnit(), req.stat, req.stop);\n                DurationResponse res = new DurationResponse();\n                res.value = duration;\n                StringBuilder builder = new StringBuilder();\n                if (req.unit == ChronoUnit.SECONDS) {\n                    builder.append(&quot;Time Duration in seconds is &quot;).append(duration).append(&quot; fom &quot;)\n                            .append(req.getStat().toString()).append(&quot; to &quot;).append(req.getStop().toString());\n                    res.messsae = builder.toString();\n                    multiThreadResponses.add(res);\n                }\n                builder = new StringBuilder();\n                if (req.getUnit() == ChronoUnit.MINUTES) {\n                    \n                    builder.append(&quot;Time Duration in minutes is &quot;).append(duration).append(&quot; fom &quot;)\n                            .append(req.getStat().toString()).append(&quot; from &quot;).append(req.getStop().toString());\n                    res.messsae = builder.toString();\n                    multiThreadResponses.add(res);\n                }\n\n            } catch (Exception e) {\n                // TODO: handle exception\n            }\n\n        }\n\n    }\n}\n\n/***\n * First break your logic into some helper methods, if you have a reason to sue\n * java.util.date be it, LocalDateTime are better you can easily get duration of\n * dates and date/time ranges.\n */\n\n/**\n * Also more efficient, one function and pass in a date/time range and specify\n * what duration unit you want, seconds, minutes or whatever.\n * \n * @param from\n * @param to\n * @return\n */\npublic static long getDurationBetween(ChronoUnit unit, LocalDateTime from, LocalDateTime to) {\n    return unit.between(from, to);\n}\n\n// another util for stop watch\npublic static class DStopWatch {\n\n    public enum Status {\n        Started, Stopped, Initialized;\n    }\n\n    public static DStopWatch create() {\n        return new DStopWatch();\n    }\n\n    private volatile DStopWatch.Status _status = DStopWatch.Status.Initialized;\n    private TimeUnit _timeUnit = TimeUnit.NANOSECONDS;\n    private Long _startTime = null;\n    private Long _stopTime = null;\n\n    DStopWatch() {\n\n    }\n\n    public Status getStatus() {\n        return _status;\n    }\n\n    public void start() {\n        if (_timeUnit == TimeUnit.NANOSECONDS) {\n            _startTime = System.nanoTime();\n            _stopTime = null;\n            setStatus(Status.Started);\n        }\n        if (_timeUnit == TimeUnit.MILLISECONDS) {\n            _startTime = System.currentTimeMillis();\n            _stopTime = null;\n        }\n\n    }\n\n    void setStatus(Status status) {\n        _status = Status.Stopped;\n    }\n\n    public void stop() {\n        if (getStatus() != Status.Stopped) {\n            // exception\n        }\n        if (_timeUnit == TimeUnit.NANOSECONDS) {\n            _stopTime = System.nanoTime();\n            setStatus(Status.Stopped);\n        }\n        if (_timeUnit == TimeUnit.MILLISECONDS) {\n            _stopTime = System.currentTimeMillis();\n        }\n\n    }\n\n    public void reset() {\n        setStatus(Status.Initialized);\n        _startTime = null;\n        _stopTime = null;\n\n    }\n\n    public TimeUnit getTimeUnit() {\n        return _timeUnit;\n    }\n\n    public void reset(TimeUnit timeUnit) {\n        _timeUnit = timeUnit;\n        reset();\n    }\n\n    public double getRunningSeconds() {\n        long dureation = System.nanoTime() - _startTime;\n        double seconds = ((double) dureation) / 1E9;\n        return seconds;\n    }\n\n    public double getCompletedSeconds() {\n        long dureation = _stopTime - _startTime;\n        double seconds = ((double) dureation) / 1E9;\n        return seconds;\n    }\n\n}\n\n/**\n * Next i would build a model object for what you are trying to compute if its a\n * model easier to make a REST API out of it.\n */\n\npublic static class TimeDurationRequest {\n    private ChronoUnit unit;\n    private LocalDateTime stat;\n    private LocalDateTime stop;\n\n    public ChronoUnit getUnit() {\n        return unit;\n    }\n\n    public void setUnit(ChronoUnit unit) {\n        this.unit = unit;\n    }\n\n    public LocalDateTime getStat() {\n        return stat;\n    }\n\n    public void setStat(LocalDateTime stat) {\n        this.stat = stat;\n    }\n\n    public LocalDateTime getStop() {\n        return stop;\n    }\n\n    public void setStop(LocalDateTime stop) {\n        this.stop = stop;\n    }\n\n}\n\n// helper\npublic static int getRandomNumber(int min, int max) {\n    return (int) ((Math.random() * (max - min)) + min);\n}\n\npublic static int timeUnitIterator = 0;\n\n// make a random generator for testing performance\nprivate static TimeDurationRequest randomRequest() {\n\n    TimeDurationRequest req = new TimeDurationRequest();\n    if (timeUnitIterator == 0) {\n        req.setUnit(ChronoUnit.MINUTES);\n        timeUnitIterator = 1;\n    } else {\n        req.setUnit(ChronoUnit.SECONDS);\n        timeUnitIterator = 0;\n\n    }\n\n    req.setStat(LocalDateTime.now().minusDays(getRandomNumber(0, 42)));\n    req.setStop(LocalDateTime.now().plusSeconds(getRandomNumber(0, 2)));\n    return req;\n}\n\npublic static class DurationResponse {\n\n    public String messsae;\n    private Number value;\n\n}\n\n// okay sow now lets test it to really make a multi-threaded service you best\n// using a thread poool and a blockign quueue to bulk process and test\n// perfomrnace.\n\nprivate void SingleThreaded5000Requests() {\n    List&lt;DurationResponse&gt; responses = new ArrayList&lt;DurationResponse&gt;();\n    int i = 0;\n    DStopWatch timer = DStopWatch.create();\n    timer.start();\n    while (i &lt; COMPUTE_COUNT) {\n        TimeDurationRequest req = randomRequest();\n        Number duration = getDurationBetween(req.getUnit(), req.stat, req.stop);\n        DurationResponse res = new DurationResponse();\n        res.value = duration;\n        StringBuilder builder = new StringBuilder();\n        if (req.unit == ChronoUnit.SECONDS) {\n            builder.append(&quot;Time Duration in seconds is &quot;).append(duration).append(&quot; fom &quot;)\n                    .append(req.getStat().toString()).append(&quot; to &quot;).append(req.getStop().toString());\n            res.messsae = builder.toString();\n            responses.add(res);\n        }\n        builder = new StringBuilder();\n        if (req.getUnit() == ChronoUnit.MINUTES) {\n            builder.append(&quot;Time Duration in minutes is &quot;).append(duration).append(&quot; fom &quot;)\n                    .append(req.getStat().toString()).append(&quot; from &quot;).append(req.getStop().toString());\n            res.messsae = builder.toString();\n            responses.add(res);\n        }\n        i++;\n    }\n    timer.stop();\n    singleTime = timer.getCompletedSeconds();\n    System.out.println(COMPUTE_COUNT + &quot; durations Time Duration Tasks Single Thread took &quot; + timer.getCompletedSeconds());\n    //System.out.println(&quot;results....&quot;);\n    try {\n        Thread.sleep(1000);\n    } catch (\n\n    Exception e) {\n        // TODO: handle exception\n    }\n//  for (DurationResponse durationResponse : responses) {\n    //  System.out.println(durationResponse.messsae);\n//  }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694979737,"creation_date":1694975001,"answer_id":77123091,"question_id":77120326,"body_markdown":"The reason for this behavior is that Java threads do not necessarily run in parallel, especially on a single-core machine. Java virtual machine schedules threads on the underlying hardware, and if you only have one core, the threads will be scheduled to run one after the other. Even on a multi-core machine, there is no guarantee that the JVM will schedule the threads to run in parallel. The actual behavior can depend on many factors, including the specific JVM implementation and the current load on the system.\r\n\r\nAdditionally, the overhead of creating and managing threads can also add to the total execution time. Threads in Java are not lightweight entities, and creating a large number of them can be quite expensive in terms of both time and memory.\r\n\r\nThe specific task that your threads are performing (concatenating strings in a loop) is not a good candidate for parallelization. The += operation for strings in Java creates a new object every time, as strings in Java are immutable. This is computationally expensive and may also put pressure on the garbage collector when done in a loop, especially within multiple threads. You may replacae += with StringBuilder, to see if there will be any difference on your system.\r\n\r\nThere are also other factors to take into account, like being cache friendly. CPUs have limited memory for various cache levels. If your threads work on separate data sets, then the context switch between execution of threads might require cache invalidation which can slow down the program.\r\n\r\nYou may try parallel streams which optimizes parallel computations, below is sample code which will compare threads solutions with parallels stream, and other aproaches:\r\n\r\n    package org.example;\r\n    \r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.ForkJoinPool;\r\n    import java.util.concurrent.RecursiveAction;\r\n    import java.util.stream.IntStream;\r\n    \r\n    public class ParallelAndThreadTest {\r\n    \r\n        public static void main(String[] args) {\r\n            //single thread\r\n            System.out.println(&quot;single thread:&quot;);\r\n            testTime(() -&gt; runSingleThread(ParallelAndThreadTest::performTask));\r\n    \r\n            //multiple threads\r\n            System.out.println(&quot;multiple threads:&quot;);\r\n            testTime(() -&gt; runWithThreads(ParallelAndThreadTest::performTask));\r\n    \r\n            //parallel streams - uses ForkJoinPool, but is a lot faster than\r\n            //the later example using ForkJoinPool directly. (at least on my system).\r\n            System.out.println(&quot;parallel streams:&quot;);\r\n            testTime(() -&gt; runInParallel(ParallelAndThreadTest::performTask));\r\n    \r\n            //executorService\r\n            System.out.println(&quot;executorservice:&quot;);\r\n            testTime(() -&gt; runWithExecutorService(ParallelAndThreadTest::performTask));\r\n    \r\n            //ForkJoinPool\r\n            //just to compare with the parallel streams solution.\r\n            System.out.println(&quot;ForkJoinPool:&quot;);\r\n            testTime(() -&gt; runWithForkJoinPool(ParallelAndThreadTest::performTask));\r\n        }\r\n    \r\n        public static void testTime(Runnable task) {\r\n            long totalTime = 0;\r\n            int runs = 200;//200 runs to get a good average\r\n    \r\n            for (int i = 0; i &lt; runs; i++) {\r\n                long before = System.nanoTime();\r\n                task.run();\r\n                long after = System.nanoTime();\r\n                totalTime += (after - before);\r\n            }\r\n    \r\n            double averageTime = (totalTime / (double) runs) / 1_000_000_000.0;  // Converting to seconds\r\n            String formattedTime = String.format(&quot;%.4f&quot;, averageTime);\r\n            System.out.println(&quot;Average Time Consume = &quot; + formattedTime + &quot; Seconds&quot;);\r\n        }\r\n    \r\n        //your initial code to test, its really slow...\r\n        public static void performTask2() {\r\n            String s = &quot;&quot;;\r\n            for (int i = 0; i &lt; 100000; i++) {\r\n                s += &quot;&quot; + i;\r\n            }\r\n        }\r\n    \r\n        public static void performTask() {\r\n            StringBuilder tmp = new StringBuilder();\r\n            for (int i = 0; i &lt; 100000; i++) {\r\n                tmp.append(i);\r\n            }\r\n        }\r\n    \r\n        public static void runSingleThread(Runnable task) {\r\n            for (int k = 0; k &lt; 5; k++) {\r\n                task.run();\r\n            }\r\n        }\r\n    \r\n        public static void runWithThreads(Runnable task) {\r\n            Thread[] threads = new Thread[5];\r\n            for (int i = 0; i &lt; 5; i++) {\r\n                threads[i] = new Thread(task);\r\n                threads[i].start();\r\n            }\r\n            for (Thread thread : threads) {\r\n                try {\r\n                    thread.join();\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static void runInParallel(Runnable task) {\r\n            IntStream.range(0, 5).parallel().forEach(i -&gt; task.run());\r\n        }\r\n    \r\n        public static void runWithExecutorService(Runnable task) {\r\n            ExecutorService executorService = Executors.newFixedThreadPool(5);\r\n            for (int i = 0; i &lt; 5; i++)\r\n                executorService.execute(task);\r\n            executorService.shutdown();\r\n            while (!executorService.isTerminated()) {}\r\n        }\r\n    \r\n        public static void runWithForkJoinPool(Runnable task) {\r\n            ForkJoinPool forkJoinPool = new ForkJoinPool(5);\r\n            forkJoinPool.submit(() -&gt; {\r\n                for (int i = 0; i &lt; 5; i++) {\r\n                    forkJoinPool.invoke(new RecursiveActionEx(task));\r\n                }\r\n            }).join();\r\n        }\r\n    \r\n        static class RecursiveActionEx extends RecursiveAction {\r\n            private final Runnable task;\r\n    \r\n            RecursiveActionEx(Runnable task) {\r\n                this.task = task;\r\n            }\r\n    \r\n            @Override\r\n            protected void compute() {\r\n                task.run();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nI have used StringBuilder for concatenation, on my system it outputs:\r\n\r\n    single thread:\r\n    Average Time Consume = 0.0064 Seconds\r\n    multiple threads:\r\n    Average Time Consume = 0.0023 Seconds\r\n    parallel streams:\r\n    Average Time Consume = 0.0020 Seconds\r\n    executorservice:\r\n    Average Time Consume = 0.0024 Seconds\r\n    ForkJoinPool:\r\n    Average Time Consume = 0.0060 Seconds\r\n\r\nI have 8 cores. The parallel streams solution always win sligthly.\r\n\r\nOn my mac I can disable certain cores with cpuctl command, I have disabled all 7 cores leaving only one, and got this results:\r\n\r\n    single thread:\r\n    Average Time Consume = 0.0237 Seconds\r\n    multiple threads:\r\n    Average Time Consume = 0.0145 Seconds\r\n    parallel streams:\r\n    Average Time Consume = 0.0212 Seconds\r\n    executorservice:\r\n    Average Time Consume = 0.0173 Seconds\r\n    ForkJoinPool:\r\n    Average Time Consume = 0.0111 Seconds\r\n\r\nnow, the ForkJoinPool is the fastest.\r\n","title":"Why is there no significant difference with or without thread?","body":"<p>The reason for this behavior is that Java threads do not necessarily run in parallel, especially on a single-core machine. Java virtual machine schedules threads on the underlying hardware, and if you only have one core, the threads will be scheduled to run one after the other. Even on a multi-core machine, there is no guarantee that the JVM will schedule the threads to run in parallel. The actual behavior can depend on many factors, including the specific JVM implementation and the current load on the system.</p>\n<p>Additionally, the overhead of creating and managing threads can also add to the total execution time. Threads in Java are not lightweight entities, and creating a large number of them can be quite expensive in terms of both time and memory.</p>\n<p>The specific task that your threads are performing (concatenating strings in a loop) is not a good candidate for parallelization. The += operation for strings in Java creates a new object every time, as strings in Java are immutable. This is computationally expensive and may also put pressure on the garbage collector when done in a loop, especially within multiple threads. You may replacae += with StringBuilder, to see if there will be any difference on your system.</p>\n<p>There are also other factors to take into account, like being cache friendly. CPUs have limited memory for various cache levels. If your threads work on separate data sets, then the context switch between execution of threads might require cache invalidation which can slow down the program.</p>\n<p>You may try parallel streams which optimizes parallel computations, below is sample code which will compare threads solutions with parallels stream, and other aproaches:</p>\n<pre><code>package org.example;\n\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ForkJoinPool;\nimport java.util.concurrent.RecursiveAction;\nimport java.util.stream.IntStream;\n\npublic class ParallelAndThreadTest {\n\n    public static void main(String[] args) {\n        //single thread\n        System.out.println(&quot;single thread:&quot;);\n        testTime(() -&gt; runSingleThread(ParallelAndThreadTest::performTask));\n\n        //multiple threads\n        System.out.println(&quot;multiple threads:&quot;);\n        testTime(() -&gt; runWithThreads(ParallelAndThreadTest::performTask));\n\n        //parallel streams - uses ForkJoinPool, but is a lot faster than\n        //the later example using ForkJoinPool directly. (at least on my system).\n        System.out.println(&quot;parallel streams:&quot;);\n        testTime(() -&gt; runInParallel(ParallelAndThreadTest::performTask));\n\n        //executorService\n        System.out.println(&quot;executorservice:&quot;);\n        testTime(() -&gt; runWithExecutorService(ParallelAndThreadTest::performTask));\n\n        //ForkJoinPool\n        //just to compare with the parallel streams solution.\n        System.out.println(&quot;ForkJoinPool:&quot;);\n        testTime(() -&gt; runWithForkJoinPool(ParallelAndThreadTest::performTask));\n    }\n\n    public static void testTime(Runnable task) {\n        long totalTime = 0;\n        int runs = 200;//200 runs to get a good average\n\n        for (int i = 0; i &lt; runs; i++) {\n            long before = System.nanoTime();\n            task.run();\n            long after = System.nanoTime();\n            totalTime += (after - before);\n        }\n\n        double averageTime = (totalTime / (double) runs) / 1_000_000_000.0;  // Converting to seconds\n        String formattedTime = String.format(&quot;%.4f&quot;, averageTime);\n        System.out.println(&quot;Average Time Consume = &quot; + formattedTime + &quot; Seconds&quot;);\n    }\n\n    //your initial code to test, its really slow...\n    public static void performTask2() {\n        String s = &quot;&quot;;\n        for (int i = 0; i &lt; 100000; i++) {\n            s += &quot;&quot; + i;\n        }\n    }\n\n    public static void performTask() {\n        StringBuilder tmp = new StringBuilder();\n        for (int i = 0; i &lt; 100000; i++) {\n            tmp.append(i);\n        }\n    }\n\n    public static void runSingleThread(Runnable task) {\n        for (int k = 0; k &lt; 5; k++) {\n            task.run();\n        }\n    }\n\n    public static void runWithThreads(Runnable task) {\n        Thread[] threads = new Thread[5];\n        for (int i = 0; i &lt; 5; i++) {\n            threads[i] = new Thread(task);\n            threads[i].start();\n        }\n        for (Thread thread : threads) {\n            try {\n                thread.join();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    public static void runInParallel(Runnable task) {\n        IntStream.range(0, 5).parallel().forEach(i -&gt; task.run());\n    }\n\n    public static void runWithExecutorService(Runnable task) {\n        ExecutorService executorService = Executors.newFixedThreadPool(5);\n        for (int i = 0; i &lt; 5; i++)\n            executorService.execute(task);\n        executorService.shutdown();\n        while (!executorService.isTerminated()) {}\n    }\n\n    public static void runWithForkJoinPool(Runnable task) {\n        ForkJoinPool forkJoinPool = new ForkJoinPool(5);\n        forkJoinPool.submit(() -&gt; {\n            for (int i = 0; i &lt; 5; i++) {\n                forkJoinPool.invoke(new RecursiveActionEx(task));\n            }\n        }).join();\n    }\n\n    static class RecursiveActionEx extends RecursiveAction {\n        private final Runnable task;\n\n        RecursiveActionEx(Runnable task) {\n            this.task = task;\n        }\n\n        @Override\n        protected void compute() {\n            task.run();\n        }\n    }\n}\n</code></pre>\n<p>I have used StringBuilder for concatenation, on my system it outputs:</p>\n<pre><code>single thread:\nAverage Time Consume = 0.0064 Seconds\nmultiple threads:\nAverage Time Consume = 0.0023 Seconds\nparallel streams:\nAverage Time Consume = 0.0020 Seconds\nexecutorservice:\nAverage Time Consume = 0.0024 Seconds\nForkJoinPool:\nAverage Time Consume = 0.0060 Seconds\n</code></pre>\n<p>I have 8 cores. The parallel streams solution always win sligthly.</p>\n<p>On my mac I can disable certain cores with cpuctl command, I have disabled all 7 cores leaving only one, and got this results:</p>\n<pre><code>single thread:\nAverage Time Consume = 0.0237 Seconds\nmultiple threads:\nAverage Time Consume = 0.0145 Seconds\nparallel streams:\nAverage Time Consume = 0.0212 Seconds\nexecutorservice:\nAverage Time Consume = 0.0173 Seconds\nForkJoinPool:\nAverage Time Consume = 0.0111 Seconds\n</code></pre>\n<p>now, the ForkJoinPool is the fastest.</p>\n"}],"owner":{"account_id":29463130,"reputation":59,"user_id":22577448,"display_name":"Mark Zhou"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":5,"score":6,"last_activity_date":1694981579,"creation_date":1694919504,"question_id":77120326,"body_markdown":"I want to evaluate the Java thread function.\r\n\r\n1. I created a demo without thread, see below:\r\n\r\n    ```java\r\n    import java.util.*;\r\n    \r\n    public class NoThread {\r\n\r\n        public static void main(String[] args) {\r\n            NoThread Obj= new NoThread(); \t\r\n            Date BeforeDate = new Date();\r\n\r\n            Obj.run();\r\n\r\n            Date AfterDate = new Date();\r\n            Double Time_Consume = (AfterDate.getTime()- BeforeDate.getTime())/1000.0;\r\n\r\n            System.out.println(&quot;Time Consume= &quot; + Time_Consume + &quot; Seconds&quot;  );\r\n        }\r\n\r\n        public void run() {\r\n            String tmp = &quot;&quot;;\r\n            for (int i = 0; i &lt; 100000; i++) {\r\n                tmp += i;\r\n            }\t\r\n        }\r\n\r\n    }\r\n    ```\r\n    \r\n    ```none\r\n    Cons\r\n\r\n    ole display: Time Consume= 4.771 Seconds\r\n    ```\r\n\r\n2. I created a demo with thread.\r\n\r\n    ```java\r\n    import java.util.Date;\r\n    \r\n    public class ThreadTest extends Thread\r\n    {\r\n        public static void main(String[] args) {\r\n            ThreadTest[ ] ObjArray = new ThreadTest[5];\t\t\r\n\r\n            for(int i=0;i&lt;5;i++)\r\n                ObjArray[i]= new ThreadTest();\r\n\r\n                Date BeforeDate = new Date();\r\n\r\n                for(int i=0; i&lt;5;i++ )\r\n                {\r\n                    ObjArray[i].start();  \r\n                }\r\n\r\n                try\r\n                {\r\n                    for(int i=0; i&lt;5;i++ )\r\n                        ObjArray[i].join();\r\n                }\r\n                catch(InterruptedException e)\r\n                {\r\n                }\r\n\r\n                Date AfterDate = new Date();\t\t  \r\n                Double Time_Consume = (AfterDate.getTime()- BeforeDate.getTime())/1000.0;\r\n                System.out.println(&quot;Time Consume= &quot; + Time_Consume + &quot; Seconds&quot;  );\r\n        }\r\n\r\n        public void run() {\r\n            String tmp = &quot;&quot;;\r\n            for (int i = 0; i &lt; 100000; i++) {\r\n                tmp += i;\r\n            }\t\r\n        }\t\r\n    }\r\n    ```\r\n    \r\n    ```none\r\n    Time Consume= 18.658 Seconds\r\n    ```\r\n\r\nIn the second demo, I create five threads, run the same function parallel in five threads. I expect the time consumption is similar with first project, which means close to five seconds.\r\n\r\nHowever, it is much higher than my expectation, it is closer to be 5 (run times) * 4.771 = 23.85 seconds, like work in sequential.\r\n\r\nWhy?\r\n","title":"Why is there no significant difference with or without thread?","body":"<p>I want to evaluate the Java thread function.</p>\n<ol>\n<li><p>I created a demo without thread, see below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class NoThread {\n\n    public static void main(String[] args) {\n        NoThread Obj= new NoThread();   \n        Date BeforeDate = new Date();\n\n        Obj.run();\n\n        Date AfterDate = new Date();\n        Double Time_Consume = (AfterDate.getTime()- BeforeDate.getTime())/1000.0;\n\n        System.out.println(&quot;Time Consume= &quot; + Time_Consume + &quot; Seconds&quot;  );\n    }\n\n    public void run() {\n        String tmp = &quot;&quot;;\n        for (int i = 0; i &lt; 100000; i++) {\n            tmp += i;\n        }   \n    }\n\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>Cons\n\nole display: Time Consume= 4.771 Seconds\n</code></pre>\n</li>\n<li><p>I created a demo with thread.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Date;\n\npublic class ThreadTest extends Thread\n{\n    public static void main(String[] args) {\n        ThreadTest[ ] ObjArray = new ThreadTest[5];     \n\n        for(int i=0;i&lt;5;i++)\n            ObjArray[i]= new ThreadTest();\n\n            Date BeforeDate = new Date();\n\n            for(int i=0; i&lt;5;i++ )\n            {\n                ObjArray[i].start();  \n            }\n\n            try\n            {\n                for(int i=0; i&lt;5;i++ )\n                    ObjArray[i].join();\n            }\n            catch(InterruptedException e)\n            {\n            }\n\n            Date AfterDate = new Date();          \n            Double Time_Consume = (AfterDate.getTime()- BeforeDate.getTime())/1000.0;\n            System.out.println(&quot;Time Consume= &quot; + Time_Consume + &quot; Seconds&quot;  );\n    }\n\n    public void run() {\n        String tmp = &quot;&quot;;\n        for (int i = 0; i &lt; 100000; i++) {\n            tmp += i;\n        }   \n    }   \n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>Time Consume= 18.658 Seconds\n</code></pre>\n</li>\n</ol>\n<p>In the second demo, I create five threads, run the same function parallel in five threads. I expect the time consumption is similar with first project, which means close to five seconds.</p>\n<p>However, it is much higher than my expectation, it is closer to be 5 (run times) * 4.771 = 23.85 seconds, like work in sequential.</p>\n<p>Why?</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-lambda","aws-sdk-java-2.0"],"comments":[{"owner":{"account_id":10510817,"reputation":624,"user_id":7746591,"display_name":"Andres Bores"},"score":0,"creation_date":1694984543,"post_id":77123417,"comment_id":135960049,"body_markdown":"Did you try to increase the Lambda function timeout?","body":"Did you try to increase the Lambda function timeout?"},{"owner":{"account_id":18182276,"reputation":3,"user_id":13229772,"display_name":"texi"},"score":0,"creation_date":1694984596,"post_id":77123417,"comment_id":135960055,"body_markdown":"Yes, I did but didn&#39;t help","body":"Yes, I did but didn&#39;t help"},{"owner":{"account_id":10510817,"reputation":624,"user_id":7746591,"display_name":"Andres Bores"},"score":0,"creation_date":1694985062,"post_id":77123417,"comment_id":135960106,"body_markdown":"Try increasing the Lambda function&#39;s RAM.","body":"Try increasing the Lambda function&#39;s RAM."},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1694995565,"post_id":77123417,"comment_id":135960918,"body_markdown":"Is the Lambda function deployed to a VPC? If so, and you haven&#39;t configured the VPC networking correctly, it could be timing out trying to connect to the AWS API.","body":"Is the Lambda function deployed to a VPC? If so, and you haven&#39;t configured the VPC networking correctly, it could be timing out trying to connect to the AWS API."},{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":0,"creation_date":1695037577,"post_id":77123417,"comment_id":135966140,"body_markdown":"Assuming that you have connectivity, as MarkB asked, a 128 MB memory allotment is far too little for a Java Lambda (because memory also controls CPU). You will need to increase your memory allotment to 1 GB or more (2 GB recommended), and should increase your timeout to 30 seconds or more (based on what the Lambda is doing). See https://stackoverflow.com/questions/65157346/how-to-improve-performance-of-initial-calls-to-aws-services-from-an-aws-lambda/65160907#65160907 for more information.","body":"Assuming that you have connectivity, as MarkB asked, a 128 MB memory allotment is far too little for a Java Lambda (because memory also controls CPU). You will need to increase your memory allotment to 1 GB or more (2 GB recommended), and should increase your timeout to 30 seconds or more (based on what the Lambda is doing). See <a href=\"https://stackoverflow.com/questions/65157346/how-to-improve-performance-of-initial-calls-to-aws-services-from-an-aws-lambda/65160907#65160907\" title=\"how to improve performance of initial calls to aws services from an aws lambda\">stackoverflow.com/questions/65157346/&hellip;</a> for more information."}],"owner":{"account_id":18182276,"reputation":3,"user_id":13229772,"display_name":"texi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694981100,"creation_date":1694981100,"question_id":77123417,"body_markdown":"I have a LambdaFunction on Java 17 and I get a Internal Server Error, if i try to add the s3Client code snippet into my codebase. I really don&#39;t know how to get rid of it.\r\n\r\nBecause of IAM I don&#39;t have any credentials saved into my codebase.\r\nI use: `AmazonS3FullAccess` and `AWSLambdaBasicExecutionRole`.\r\n\r\n```\r\ntry {\r\n     AmazonS3 s3Client = AmazonS3ClientBuilder.standard().withRegion(Regions.EU_CENTRAL_1).build();\r\n\r\n     apiResponse = new ApiResponse(&quot;success&quot;, 200);\r\n\r\n} catch (AmazonServiceException e) {\r\n     apiResponse = new ApiResponse(e.getErrorMessage(), 500);\r\n     e.printStackTrace();\r\n} catch (SdkClientException e) {\r\n     apiResponse = new ApiResponse(e.getLocalizedMessage(), 500);\r\n     e.printStackTrace();\r\n}\r\n```\r\nLet&#39;s imagine I remove `AmazonS3 s3Client = AmazonS3ClientBuilder.standard().withRegion(Regions.EU_CENTRAL_1).build();`, then I will get statuscode 200. At the moment I don&#39;t even get a 500 status code, it&#39;s a &quot;502 Bad Gateway&quot; body: &quot;Internal Server Error&quot; in Postman.\r\n\r\nIm using following packages:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    &lt;artifactId&gt;aws-lambda-java-core&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    &lt;artifactId&gt;aws-lambda-java-events&lt;/artifactId&gt;\r\n    &lt;version&gt;3.11.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\r\n    &lt;version&gt;1.12.552&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    &lt;artifactId&gt;aws-java-sdk-core&lt;/artifactId&gt;\r\n    &lt;version&gt;1.12.552&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nHere are my CloudWatch Logs (Replaced all IDs with LONG_UUID):\r\n```\r\nINIT_START Runtime Version: java:17.v11\tRuntime Version ARN: arn:aws:lambda:eu-central-1::runtime:LONG_UUID\r\n\r\nSTART RequestId: LONG_UUID Version: $LATEST\r\n\r\n2023-09-17T19:58:45.702Z LONG_UUID Task timed out after 3.07 seconds\r\n\r\nEND RequestId: LONG_UUID\r\n\r\nREPORT RequestId: LONG_UUID\tDuration: 3067.36 ms\tBilled Duration: 3000 ms\tMemory Size: 128 MB\tMax Memory Used: 91 MB\tInit Duration: 398.87 ms\t\r\n\r\nINIT_START Runtime Version: java:17.v11\tRuntime Version ARN: arn:aws:lambda:eu-central-1::runtime:LONG_UUID\r\n```\r\n\r\nI hope someone is able to help me, because I sit on this problem for 8 hours. I&#39;m quite new to Java.","title":"AmazonS3ClientBuilder Internal Server Error on Lambda","body":"<p>I have a LambdaFunction on Java 17 and I get a Internal Server Error, if i try to add the s3Client code snippet into my codebase. I really don't know how to get rid of it.</p>\n<p>Because of IAM I don't have any credentials saved into my codebase.\nI use: <code>AmazonS3FullAccess</code> and <code>AWSLambdaBasicExecutionRole</code>.</p>\n<pre><code>try {\n     AmazonS3 s3Client = AmazonS3ClientBuilder.standard().withRegion(Regions.EU_CENTRAL_1).build();\n\n     apiResponse = new ApiResponse(&quot;success&quot;, 200);\n\n} catch (AmazonServiceException e) {\n     apiResponse = new ApiResponse(e.getErrorMessage(), 500);\n     e.printStackTrace();\n} catch (SdkClientException e) {\n     apiResponse = new ApiResponse(e.getLocalizedMessage(), 500);\n     e.printStackTrace();\n}\n</code></pre>\n<p>Let's imagine I remove <code>AmazonS3 s3Client = AmazonS3ClientBuilder.standard().withRegion(Regions.EU_CENTRAL_1).build();</code>, then I will get statuscode 200. At the moment I don't even get a 500 status code, it's a &quot;502 Bad Gateway&quot; body: &quot;Internal Server Error&quot; in Postman.</p>\n<p>Im using following packages:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-lambda-java-core&lt;/artifactId&gt;\n    &lt;version&gt;1.2.3&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-lambda-java-events&lt;/artifactId&gt;\n    &lt;version&gt;3.11.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\n    &lt;version&gt;1.12.552&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-java-sdk-core&lt;/artifactId&gt;\n    &lt;version&gt;1.12.552&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Here are my CloudWatch Logs (Replaced all IDs with LONG_UUID):</p>\n<pre><code>INIT_START Runtime Version: java:17.v11 Runtime Version ARN: arn:aws:lambda:eu-central-1::runtime:LONG_UUID\n\nSTART RequestId: LONG_UUID Version: $LATEST\n\n2023-09-17T19:58:45.702Z LONG_UUID Task timed out after 3.07 seconds\n\nEND RequestId: LONG_UUID\n\nREPORT RequestId: LONG_UUID Duration: 3067.36 ms    Billed Duration: 3000 ms    Memory Size: 128 MB Max Memory Used: 91 MB  Init Duration: 398.87 ms    \n\nINIT_START Runtime Version: java:17.v11 Runtime Version ARN: arn:aws:lambda:eu-central-1::runtime:LONG_UUID\n</code></pre>\n<p>I hope someone is able to help me, because I sit on this problem for 8 hours. I'm quite new to Java.</p>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":3,"creation_date":1694892011,"post_id":77119262,"comment_id":135952134,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1694893789,"post_id":77119262,"comment_id":135952354,"body_markdown":"Every Element has a [setTextContent](https://docs.oracle.com/en/java/javase/20/docs/api/java.xml/org/w3c/dom/Node.html#setTextContent(java.lang.String)) method.","body":"Every Element has a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.xml/org/w3c/dom/Node.html#setTextContent(java.lang.String)\" rel=\"nofollow noreferrer\">setTextContent</a> method."},{"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1694899696,"post_id":77119262,"comment_id":135952884,"body_markdown":"Do yourself a favor and don&#39;t put XML documents into strings or encoding problems are predictable. Use byte arrays instead.","body":"Do yourself a favor and don&#39;t put XML documents into strings or encoding problems are predictable. Use byte arrays instead."}],"answers":[{"comments":[{"owner":{"account_id":28348722,"reputation":35,"user_id":21680516,"display_name":"Rassermann"},"score":0,"creation_date":1694966812,"post_id":77121482,"comment_id":135957948,"body_markdown":"Thanks Eritrean. In case I need to replace all the trade_qty occurrences and only one occurrence of final_price (the one under parent &quot;TermPriceList&quot;), what can be done?","body":"Thanks Eritrean. In case I need to replace all the trade_qty occurrences and only one occurrence of final_price (the one under parent &quot;TermPriceList&quot;), what can be done?"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1694978707,"post_id":77121482,"comment_id":135959373,"body_markdown":"@Rassermann See my update","body":"@Rassermann See my update"},{"owner":{"account_id":28348722,"reputation":35,"user_id":21680516,"display_name":"Rassermann"},"score":1,"creation_date":1694978850,"post_id":77121482,"comment_id":135959386,"body_markdown":"This Worked like a Treat! THANKS A TON ERITREAN :)","body":"This Worked like a Treat! THANKS A TON ERITREAN :)"}],"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694978672,"creation_date":1694947867,"answer_id":77121482,"question_id":77119262,"body_markdown":"You may try to use [Jsoup][1]. Jsoup is actually an html parser, but is also capable of parsing xml. It is quite intuitive and once you are familiar with the [selector syntax][2] it is very easy to use. You can parse the content of your cdata to a [CDataNode][3] and use the built-in methods to get what you need. \r\n\r\nMaven dependency:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.jsoup/jsoup --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\r\n        &lt;version&gt;1.16.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nUsing Jsoup your code to replace the values could simply look like below\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    \r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.CDataNode;\r\n    import org.jsoup.nodes.Document;\r\n    import org.jsoup.parser.Parser;\r\n    \r\n    public class Example {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n    \r\n            InputStream inputStream = new FileInputStream(new File(&quot;/path/to/your/test.xml&quot;));\r\n            Document document = Jsoup.parse(inputStream, &quot;UTF-8&quot;, &quot;&quot;, Parser.xmlParser());\r\n    \r\n            CDataNode trade_qty = (CDataNode) document.selectFirst(&quot;SwapTermList trade_qty&quot;).childNode(0);\r\n            CDataNode fixed_price = (CDataNode) document.selectFirst(&quot;SwapTermList TermScrList fixed_price&quot;).childNode(0);\r\n    \r\n            System.out.println(&quot;original values&quot;);\r\n    \r\n            System.out.println(trade_qty.text());\r\n            System.out.println(fixed_price.text());\r\n    \r\n            //replace cdata text\r\n            trade_qty.text(&quot;5555&quot;);\r\n            fixed_price.text(&quot;7777&quot;);\r\n    \r\n            System.out.println(&quot;replaced values&quot;);\r\n            System.out.println(trade_qty.text());\r\n            System.out.println(fixed_price.text());\r\n    \r\n            //if you want to save the modified document to a new file use below write, else delete the 2 lines below\r\n            document.outputSettings().prettyPrint(false);\r\n            Files.writeString(Path.of(&quot;/path/to/your/test_out.xml&quot;), document.outerHtml());\r\n        }\r\n    }\r\n\r\n**Update**\r\n\r\n&gt; In case I need to replace all the trade_qty occurrences and only one occurrence of final_price (the one under parent &quot;TermPriceList&quot;), what can be done?\r\n\r\nIn order to select multiple elements having the same tag, use the method `select` instead of `selectFirst`. The syntax is similar, the difference is their return types, while select returns `Elements` selectFirst returns an `Element`. I don&#39;t see any tag having `final_price` in your sample xml. But if there was one the procedure is the same as with `fixed_price`. \r\n\r\nIf you want to modify a certain element, there are several possibilities you can give to the select argument. Like for example n-th child, last of its kind, first element, an element x followed by an element y and so on. Get familiar with the [selector syntax][4] here.\r\n\r\nI have duplicated the example code from earlier and modified it in the appropriate places based on your question. hope it&#39;s self-explanatory.\r\n\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\r\n        InputStream inputStream = new FileInputStream(new File(&quot;/path/to/your/test.xml&quot;));\r\n        Document document = Jsoup.parse(inputStream, &quot;UTF-8&quot;, &quot;&quot;, Parser.xmlParser());\r\n\r\n        Elements trade_qty_elements = document.select(&quot;SwapTermList trade_qty&quot;);\r\n        CDataNode fixed_price = (CDataNode) document.selectFirst(&quot;SwapTermList TermScrList fixed_price&quot;).childNode(0);\r\n\r\n        System.out.println(&quot;original values of trade_qty_elements&quot;);\r\n        trade_qty_elements.forEach(element -&gt; System.out.println(((CDataNode) element.childNode(0)).text()));\r\n\r\n        System.out.println(&quot;original value of fixed_price&quot;);\r\n        System.out.println(fixed_price.text());\r\n\r\n        //replace cdata text for example fixed_price with 777 and all trade_qty elements with 999\r\n        fixed_price.text(&quot;777&quot;);\r\n        trade_qty_elements.forEach(element -&gt; ((CDataNode) element.childNode(0)).text(&quot;999&quot;));\r\n\r\n        System.out.println(&quot;replaced values of trade_qty_elements&quot;);\r\n        trade_qty_elements.forEach(element -&gt; System.out.println(((CDataNode) element.childNode(0)).text()));\r\n        System.out.println(&quot;replaced value of fixed_price&quot;);\r\n        System.out.println(fixed_price.text());\r\n\r\n        //if you want to save the modified document to a new file use below write, else delete the 2 lines below\r\n        document.outputSettings().prettyPrint(false);\r\n        Files.writeString(Path.of(&quot;/path/to/your/test_out.xml&quot;), document.outerHtml());\r\n    }\r\n\r\n\r\n  [1]: https://jsoup.org/\r\n  [2]: https://jsoup.org/cookbook/extracting-data/selector-syntax\r\n  [3]: https://jsoup.org/apidocs/org/jsoup/nodes/CDataNode.html\r\n  [4]: https://jsoup.org/apidocs/org/jsoup/select/Selector.html","title":"How can I replace value inside CDATA of an XML tag which is inside a specific tag using Java","body":"<p>You may try to use <a href=\"https://jsoup.org/\" rel=\"nofollow noreferrer\">Jsoup</a>. Jsoup is actually an html parser, but is also capable of parsing xml. It is quite intuitive and once you are familiar with the <a href=\"https://jsoup.org/cookbook/extracting-data/selector-syntax\" rel=\"nofollow noreferrer\">selector syntax</a> it is very easy to use. You can parse the content of your cdata to a <a href=\"https://jsoup.org/apidocs/org/jsoup/nodes/CDataNode.html\" rel=\"nofollow noreferrer\">CDataNode</a> and use the built-in methods to get what you need.</p>\n<p>Maven dependency:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.jsoup/jsoup --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n    &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n    &lt;version&gt;1.16.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Using Jsoup your code to replace the values could simply look like below</p>\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\n\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.CDataNode;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.parser.Parser;\n\npublic class Example {\n\n    public static void main(String[] args) throws IOException {\n\n        InputStream inputStream = new FileInputStream(new File(&quot;/path/to/your/test.xml&quot;));\n        Document document = Jsoup.parse(inputStream, &quot;UTF-8&quot;, &quot;&quot;, Parser.xmlParser());\n\n        CDataNode trade_qty = (CDataNode) document.selectFirst(&quot;SwapTermList trade_qty&quot;).childNode(0);\n        CDataNode fixed_price = (CDataNode) document.selectFirst(&quot;SwapTermList TermScrList fixed_price&quot;).childNode(0);\n\n        System.out.println(&quot;original values&quot;);\n\n        System.out.println(trade_qty.text());\n        System.out.println(fixed_price.text());\n\n        //replace cdata text\n        trade_qty.text(&quot;5555&quot;);\n        fixed_price.text(&quot;7777&quot;);\n\n        System.out.println(&quot;replaced values&quot;);\n        System.out.println(trade_qty.text());\n        System.out.println(fixed_price.text());\n\n        //if you want to save the modified document to a new file use below write, else delete the 2 lines below\n        document.outputSettings().prettyPrint(false);\n        Files.writeString(Path.of(&quot;/path/to/your/test_out.xml&quot;), document.outerHtml());\n    }\n}\n</code></pre>\n<p><strong>Update</strong></p>\n<blockquote>\n<p>In case I need to replace all the trade_qty occurrences and only one occurrence of final_price (the one under parent &quot;TermPriceList&quot;), what can be done?</p>\n</blockquote>\n<p>In order to select multiple elements having the same tag, use the method <code>select</code> instead of <code>selectFirst</code>. The syntax is similar, the difference is their return types, while select returns <code>Elements</code> selectFirst returns an <code>Element</code>. I don't see any tag having <code>final_price</code> in your sample xml. But if there was one the procedure is the same as with <code>fixed_price</code>.</p>\n<p>If you want to modify a certain element, there are several possibilities you can give to the select argument. Like for example n-th child, last of its kind, first element, an element x followed by an element y and so on. Get familiar with the <a href=\"https://jsoup.org/apidocs/org/jsoup/select/Selector.html\" rel=\"nofollow noreferrer\">selector syntax</a> here.</p>\n<p>I have duplicated the example code from earlier and modified it in the appropriate places based on your question. hope it's self-explanatory.</p>\n<pre><code>public static void main(String[] args) throws IOException {\n\n    InputStream inputStream = new FileInputStream(new File(&quot;/path/to/your/test.xml&quot;));\n    Document document = Jsoup.parse(inputStream, &quot;UTF-8&quot;, &quot;&quot;, Parser.xmlParser());\n\n    Elements trade_qty_elements = document.select(&quot;SwapTermList trade_qty&quot;);\n    CDataNode fixed_price = (CDataNode) document.selectFirst(&quot;SwapTermList TermScrList fixed_price&quot;).childNode(0);\n\n    System.out.println(&quot;original values of trade_qty_elements&quot;);\n    trade_qty_elements.forEach(element -&gt; System.out.println(((CDataNode) element.childNode(0)).text()));\n\n    System.out.println(&quot;original value of fixed_price&quot;);\n    System.out.println(fixed_price.text());\n\n    //replace cdata text for example fixed_price with 777 and all trade_qty elements with 999\n    fixed_price.text(&quot;777&quot;);\n    trade_qty_elements.forEach(element -&gt; ((CDataNode) element.childNode(0)).text(&quot;999&quot;));\n\n    System.out.println(&quot;replaced values of trade_qty_elements&quot;);\n    trade_qty_elements.forEach(element -&gt; System.out.println(((CDataNode) element.childNode(0)).text()));\n    System.out.println(&quot;replaced value of fixed_price&quot;);\n    System.out.println(fixed_price.text());\n\n    //if you want to save the modified document to a new file use below write, else delete the 2 lines below\n    document.outputSettings().prettyPrint(false);\n    Files.writeString(Path.of(&quot;/path/to/your/test_out.xml&quot;), document.outerHtml());\n}\n</code></pre>\n"}],"owner":{"account_id":28348722,"reputation":35,"user_id":21680516,"display_name":"Rassermann"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77121482,"answer_count":1,"score":2,"last_activity_date":1694978672,"creation_date":1694891900,"question_id":77119262,"body_markdown":"I have an input xml as given below. \r\nFrom this xml, I want to form a new xml String by replacing the value inside CDATA of &lt;trade_qty&gt; tag which is under &quot;SwapTermList&quot; Parent tag. e.g. `&lt;trade_qty&gt;&lt;![CDATA[25.0]]&gt;&lt;/trade_qty&gt;` //Need to replace 25.0 with another value that I will pass\r\nSimilarly, also replace value inside CDATA of &lt;fixed_price&gt; tag which is under &quot;TermPriceList&quot; Parent tag, which is inturn also under &quot;SwapTermList&quot; Parent Tag.\r\n\r\n`&lt;fixed_price&gt;&lt;![CDATA[92.053]]&gt;&lt;/fixed_price&gt;`  //REplace 92.053 with another value that I will pass\r\n\r\nSample XML:\r\n\r\n    &lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:xsd=&quot;http://www.w3.org/1999/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/1999/XMLSchema-instance&quot;&gt;\r\n      &lt;SOAP-ENV:Header TransactionID=&quot;7578641ebc849609668e4b69e6b1f088c5ec0e2d0b6ae0&quot; controllerName=&quot;CONTROLLER_1&quot; hostIPAddress=&quot;10.21.75.203&quot; serverEndTime=&quot;22:40:54.382&quot; serverStartTime=&quot;22:40:54.366&quot; serverTimeInMs=&quot;15&quot;/&gt;\r\n      &lt;SOAP-ENV:Body&gt;\r\n        &lt;ns1:GetTradeResponse xmlns:ns1=&quot;urn:TradeData&quot; IsCompress=&quot;FALSE&quot; SOAP-ENV:encodingStyle=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot;&gt;\r\n          &lt;return xsi:type=&quot;xsd:string&quot;&gt;\r\n            &lt;response&gt;\r\n              &lt;mhead name=&quot;TPTResGetTrade&quot;&gt;\r\n                &lt;sender&gt;TriplePointClient&lt;/sender&gt;\r\n              &lt;/mhead&gt;\r\n              &lt;mbody&gt;\r\n                &lt;data&gt;\r\n                  &lt;GetTrade&gt;\r\n                    &lt;TradeHeader table=&quot;1&quot;&gt;\r\n                      &lt;trade_status_ind&gt;&lt;![CDATA[1]]&gt;&lt;/trade_status_ind&gt;\r\n                      &lt;comm_uom_cd&gt;&lt;![CDATA[MT]]&gt;&lt;/comm_uom_cd&gt;\r\n                      &lt;participant_reloaded_ind&gt;&lt;![CDATA[1]]&gt;&lt;/participant_reloaded_ind&gt;\r\n                      &lt;deal_id&gt;&lt;![CDATA[93174763]]&gt;&lt;/deal_id&gt;\r\n                      &lt;internal_ind&gt;&lt;![CDATA[0]]&gt;&lt;/internal_ind&gt;\r\n                      &lt;mirror_doc_ind&gt;&lt;![CDATA[0]]&gt;&lt;/mirror_doc_ind&gt;\r\n                      &lt;permission_ind&gt;&lt;![CDATA[1]]&gt;&lt;/permission_ind&gt;\r\n                      &lt;trade_type_cd&gt;&lt;![CDATA[Swap (L)]]&gt;&lt;/trade_type_cd&gt;\r\n                      &lt;delivery_based_ind&gt;&lt;![CDATA[0]]&gt;&lt;/delivery_based_ind&gt;\r\n                      &lt;process_group_cd&gt;&lt;![CDATA[MUM Physical]]&gt;&lt;/process_group_cd&gt;\r\n                      &lt;xch_internal_comp_type_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/xch_internal_comp_type_ind&gt;\r\n                      &lt;trader_person_num&gt;&lt;![CDATA[151]]&gt;&lt;/trader_person_num&gt;\r\n                      &lt;strategy_num&gt;&lt;![CDATA[4142]]&gt;&lt;/strategy_num&gt;\r\n                      &lt;language_cd&gt;&lt;![CDATA[en]]&gt;&lt;/language_cd&gt;\r\n                      &lt;comm_curr_cd&gt;&lt;![CDATA[USD]]&gt;&lt;/comm_curr_cd&gt;\r\n                      &lt;inter_company_ind&gt;&lt;![CDATA[0]]&gt;&lt;/inter_company_ind&gt;\r\n                      &lt;trade_linked_ind&gt;&lt;![CDATA[0]]&gt;&lt;/trade_linked_ind&gt;\r\n                      &lt;broker2_spread_ind&gt;&lt;![CDATA[0]]&gt;&lt;/broker2_spread_ind&gt;\r\n                      &lt;cleared_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/cleared_ind&gt;\r\n                      &lt;broker_spread_ind&gt;&lt;![CDATA[0]]&gt;&lt;/broker_spread_ind&gt;\r\n                      &lt;trade_dt&gt;&lt;![CDATA[20230913000000]]&gt;&lt;/trade_dt&gt;\r\n                      &lt;commission_type_ind&gt;&lt;![CDATA[0]]&gt;&lt;/commission_type_ind&gt;\r\n                      &lt;notification_ind&gt;&lt;![CDATA[0]]&gt;&lt;/notification_ind&gt;\r\n                      &lt;internal_company_num&gt;&lt;![CDATA[4392]]&gt;&lt;/internal_company_num&gt;\r\n                      &lt;fx_spot_trade_ind&gt;&lt;![CDATA[0]]&gt;&lt;/fx_spot_trade_ind&gt;\r\n                      &lt;broker_company_num&gt;&lt;![CDATA[4103]]&gt;&lt;/broker_company_num&gt;\r\n                      &lt;instrument_type_cd&gt;&lt;![CDATA[Financial Swap]]&gt;&lt;/instrument_type_cd&gt;\r\n                      &lt;data_source_cd&gt;&lt;![CDATA[XL]]&gt;&lt;/data_source_cd&gt;\r\n                      &lt;confirm_approval_ind&gt;&lt;![CDATA[0]]&gt;&lt;/confirm_approval_ind&gt;\r\n                      &lt;is_delivery_upload&gt;&lt;![CDATA[0]]&gt;&lt;/is_delivery_upload&gt;\r\n                      &lt;counterpart_company_num&gt;&lt;![CDATA[4175]]&gt;&lt;/counterpart_company_num&gt;\r\n                      &lt;internal_side_ind&gt;&lt;![CDATA[1]]&gt;&lt;/internal_side_ind&gt;\r\n                      &lt;trade_num&gt;&lt;![CDATA[902495]]&gt;&lt;/trade_num&gt;\r\n                      &lt;ref1_enabled_ind&gt;&lt;![CDATA[1]]&gt;&lt;/ref1_enabled_ind&gt;\r\n                      &lt;hedge_ind&gt;&lt;![CDATA[0]]&gt;&lt;/hedge_ind&gt;\r\n                      &lt;whatif_trade_ind&gt;&lt;![CDATA[0]]&gt;&lt;/whatif_trade_ind&gt;\r\n                      &lt;xch_type_ind&gt;&lt;![CDATA[0]]&gt;&lt;/xch_type_ind&gt;\r\n                      &lt;commission_amt&gt;&lt;![CDATA[0.05]]&gt;&lt;/commission_amt&gt;\r\n                      &lt;ref2_enabled_ind&gt;&lt;![CDATA[1]]&gt;&lt;/ref2_enabled_ind&gt;\r\n                      &lt;inter_comp_ind&gt;&lt;![CDATA[0]]&gt;&lt;/inter_comp_ind&gt;\r\n                      &lt;deal_name_str&gt;&lt;![CDATA[Swap (L) from]]&gt;&lt;/deal_name_str&gt;\r\n                      &lt;SwapTermList table=&quot;2&quot;&gt;\r\n                        &lt;buy_sell_ind&gt;&lt;![CDATA[1]]&gt;&lt;/buy_sell_ind&gt;\r\n                        &lt;reporting_period_offset&gt;&lt;![CDATA[0]]&gt;&lt;/reporting_period_offset&gt;\r\n                        &lt;settlement_curr_cd&gt;&lt;![CDATA[USD]]&gt;&lt;/settlement_curr_cd&gt;\r\n                        &lt;term_section_cd&gt;&lt;![CDATA[902495-1]]&gt;&lt;/term_section_cd&gt;\r\n                        &lt;use_default_instruction_ind&gt;&lt;![CDATA[1]]&gt;&lt;/use_default_instruction_ind&gt;\r\n                        &lt;mtm_factor&gt;&lt;![CDATA[100.0]]&gt;&lt;/mtm_factor&gt;\r\n                        &lt;delivery_start_dt&gt;&lt;![CDATA[20231001000000]]&gt;&lt;/delivery_start_dt&gt;\r\n                        &lt;customs_duty_status_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/customs_duty_status_ind&gt;\r\n                        &lt;settle_payment_term_cd&gt;&lt;![CDATA[14 CAL NYBnk]]&gt;&lt;/settle_payment_term_cd&gt;\r\n                        &lt;alt_price_conv_ind&gt;&lt;![CDATA[0]]&gt;&lt;/alt_price_conv_ind&gt;\r\n                        &lt;cmdty_cd&gt;&lt;![CDATA[Dubai]]&gt;&lt;/cmdty_cd&gt;\r\n                        &lt;strategy_num&gt;&lt;![CDATA[4142]]&gt;&lt;/strategy_num&gt;\r\n                        &lt;last_modify_dt&gt;&lt;![CDATA[20230913124059]]&gt;&lt;/last_modify_dt&gt;\r\n                        &lt;to_uom_cd&gt;&lt;![CDATA[MT]]&gt;&lt;/to_uom_cd&gt;\r\n                        &lt;pricing_schedule_ind&gt;&lt;![CDATA[1]]&gt;&lt;/pricing_schedule_ind&gt;\r\n                        &lt;source_action_ind&gt;&lt;![CDATA[0]]&gt;&lt;/source_action_ind&gt;\r\n                        &lt;term_dt&gt;&lt;![CDATA[20230913000000]]&gt;&lt;/term_dt&gt;\r\n                        &lt;deliv_sched_cd&gt;&lt;![CDATA[Monthly]]&gt;&lt;/deliv_sched_cd&gt;\r\n                        &lt;trade_term_ind&gt;&lt;![CDATA[1]]&gt;&lt;/trade_term_ind&gt;\r\n                        &lt;allocated_ind&gt;&lt;![CDATA[0]]&gt;&lt;/allocated_ind&gt;\r\n                        &lt;scheduled_ind&gt;&lt;![CDATA[0]]&gt;&lt;/scheduled_ind&gt;\r\n                        &lt;location_num&gt;&lt;![CDATA[2566]]&gt;&lt;/location_num&gt;\r\n                        &lt;timezone_cd&gt;&lt;![CDATA[GMT]]&gt;&lt;/timezone_cd&gt;\r\n                        &lt;from_uom_cd&gt;&lt;![CDATA[BBL]]&gt;&lt;/from_uom_cd&gt;\r\n                        &lt;term_input_dt&gt;&lt;![CDATA[20230913000000]]&gt;&lt;/term_input_dt&gt;\r\n                        &lt;term_num&gt;&lt;![CDATA[6709]]&gt;&lt;/term_num&gt;\r\n                        &lt;settlement_uom_cd&gt;&lt;![CDATA[BBL]]&gt;&lt;/settlement_uom_cd&gt;\r\n                        &lt;delivery_end_dt&gt;&lt;![CDATA[20231031000000]]&gt;&lt;/delivery_end_dt&gt;\r\n                        &lt;trade_qty&gt;&lt;![CDATA[**25.0**]]&gt;&lt;/trade_qty&gt;\r\n                        &lt;instrument_type_cd&gt;&lt;![CDATA[Financial Swap]]&gt;&lt;/instrument_type_cd&gt;\r\n                        &lt;delivery_start_period&gt;&lt;![CDATA[HE01]]&gt;&lt;/delivery_start_period&gt;\r\n                        &lt;delivery_end_period&gt;&lt;![CDATA[HE24]]&gt;&lt;/delivery_end_period&gt;\r\n                        &lt;use_option_model_vol_ind&gt;&lt;![CDATA[0]]&gt;&lt;/use_option_model_vol_ind&gt;\r\n                        &lt;mtm_schedule_ind&gt;&lt;![CDATA[1]]&gt;&lt;/mtm_schedule_ind&gt;\r\n                        &lt;bonafide_hedge_ind&gt;&lt;![CDATA[0]]&gt;&lt;/bonafide_hedge_ind&gt;\r\n                        &lt;bonafide_hedge_type_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/bonafide_hedge_type_ind&gt;\r\n                        &lt;lc_required_ind&gt;&lt;![CDATA[0]]&gt;&lt;/lc_required_ind&gt;\r\n                        &lt;end_dt&gt;&lt;![CDATA[20231031000000]]&gt;&lt;/end_dt&gt;\r\n                        &lt;bonafide_claimant_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/bonafide_claimant_ind&gt;\r\n                        &lt;qty_periodicity_ind&gt;&lt;![CDATA[2]]&gt;&lt;/qty_periodicity_ind&gt;\r\n                        &lt;start_dt&gt;&lt;![CDATA[20231001000000]]&gt;&lt;/start_dt&gt;\r\n                        &lt;uom_conversion_rate&gt;&lt;![CDATA[7.231608936927271]]&gt;&lt;/uom_conversion_rate&gt;\r\n                        &lt;qty_uom_cd&gt;&lt;![CDATA[zKBBL]]&gt;&lt;/qty_uom_cd&gt;\r\n                        &lt;hdg_acct_import_status_ind&gt;&lt;![CDATA[0]]&gt;&lt;/hdg_acct_import_status_ind&gt;\r\n                        &lt;extended_qty&gt;&lt;![CDATA[25.0]]&gt;&lt;/extended_qty&gt;\r\n                        &lt;volume_computation_ind&gt;&lt;![CDATA[0]]&gt;&lt;/volume_computation_ind&gt;\r\n                        &lt;TermScrList table=&quot;2&quot;&gt;\r\n                          &lt;settlement_curr_cd&gt;&lt;![CDATA[USD]]&gt;&lt;/settlement_curr_cd&gt;\r\n                          &lt;price_uom_period_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/price_uom_period_ind&gt;\r\n                          &lt;common_pricing_days_ind&gt;&lt;![CDATA[0]]&gt;&lt;/common_pricing_days_ind&gt;\r\n                          &lt;price_qty_category_ind&gt;&lt;![CDATA[0]]&gt;&lt;/price_qty_category_ind&gt;\r\n                          &lt;percentage_cashflow_qty_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/percentage_cashflow_qty_ind&gt;\r\n                          &lt;internal_ind&gt;&lt;![CDATA[0]]&gt;&lt;/internal_ind&gt;\r\n                          &lt;delivery_based_ind&gt;&lt;![CDATA[0]]&gt;&lt;/delivery_based_ind&gt;\r\n                          &lt;trader_person_num&gt;&lt;![CDATA[151]]&gt;&lt;/trader_person_num&gt;\r\n                          &lt;period_start_dt&gt;&lt;![CDATA[20231001000000]]&gt;&lt;/period_start_dt&gt;\r\n                          &lt;term_pricing_num&gt;&lt;![CDATA[25770]]&gt;&lt;/term_pricing_num&gt;\r\n                          &lt;strategy_num&gt;&lt;![CDATA[4142]]&gt;&lt;/strategy_num&gt;\r\n                          &lt;tier_type_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/tier_type_ind&gt;\r\n                          &lt;implied_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/implied_cost_ind&gt;\r\n                          &lt;book_upon_match_ind&gt;&lt;![CDATA[0]]&gt;&lt;/book_upon_match_ind&gt;\r\n                          &lt;do_not_apply_ra_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/do_not_apply_ra_cost_ind&gt;\r\n                          &lt;rate_lookup_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/rate_lookup_cost_ind&gt;\r\n                          &lt;round_precision_ind&gt;&lt;![CDATA[0]]&gt;&lt;/round_precision_ind&gt;\r\n                          &lt;cost_source_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/cost_source_ind&gt;\r\n                          &lt;estimated_volume&gt;&lt;![CDATA[100.0]]&gt;&lt;/estimated_volume&gt;\r\n                          &lt;mix_defn_num&gt;&lt;![CDATA[0]]&gt;&lt;/mix_defn_num&gt;\r\n                          &lt;term_pricing_comp_num&gt;&lt;![CDATA[27072]]&gt;&lt;/term_pricing_comp_num&gt;\r\n                          &lt;effective_dt&gt;&lt;![CDATA[20230913000000]]&gt;&lt;/effective_dt&gt;\r\n                          &lt;multiplier&gt;&lt;![CDATA[1.0]]&gt;&lt;/multiplier&gt;\r\n                          &lt;mirror_scr_num&gt;&lt;![CDATA[0]]&gt;&lt;/mirror_scr_num&gt;\r\n                          &lt;period_end_dt&gt;&lt;![CDATA[20231031000000]]&gt;&lt;/period_end_dt&gt;\r\n                          &lt;pass_thru_ind&gt;&lt;![CDATA[0]]&gt;&lt;/pass_thru_ind&gt;\r\n                          &lt;actual_estimate_ind&gt;&lt;![CDATA[0]]&gt;&lt;/actual_estimate_ind&gt;\r\n                          &lt;tier_qty_periodicity_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/tier_qty_periodicity_ind&gt;\r\n                          &lt;cumulative_ind&gt;&lt;![CDATA[0]]&gt;&lt;/cumulative_ind&gt;\r\n                          &lt;period_sub_category_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/period_sub_category_ind&gt;\r\n                          &lt;componentize_status_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/componentize_status_ind&gt;\r\n                          &lt;tier_boundary_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/tier_boundary_ind&gt;\r\n                          &lt;hidden_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/hidden_cost_ind&gt;\r\n                          &lt;round_pricing_component_ind&gt;&lt;![CDATA[0]]&gt;&lt;/round_pricing_component_ind&gt;\r\n                          &lt;manual_override_ind&gt;&lt;![CDATA[0]]&gt;&lt;/manual_override_ind&gt;\r\n                          &lt;pl_allocation_rule_ind&gt;&lt;![CDATA[0]]&gt;&lt;/pl_allocation_rule_ind&gt;\r\n                          &lt;apply_precision_ind&gt;&lt;![CDATA[1]]&gt;&lt;/apply_precision_ind&gt;\r\n                          &lt;scr_num&gt;&lt;![CDATA[104122]]&gt;&lt;/scr_num&gt;\r\n                          &lt;fixed_price&gt;&lt;![CDATA[0.05]]&gt;&lt;/fixed_price&gt;\r\n                          &lt;pricingComponentCount&gt;&lt;![CDATA[0]]&gt;&lt;/pricingComponentCount&gt;\r\n                          &lt;input_dt&gt;&lt;![CDATA[20230913000000]]&gt;&lt;/input_dt&gt;\r\n                          &lt;demand_charge_ind&gt;&lt;![CDATA[0]]&gt;&lt;/demand_charge_ind&gt;\r\n                          &lt;cost_revenue_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/cost_revenue_ind&gt;\r\n                          &lt;payment_due_dt&gt;&lt;![CDATA[20230913000000]]&gt;&lt;/payment_due_dt&gt;\r\n                          &lt;scr_generated_ind&gt;&lt;![CDATA[1]]&gt;&lt;/scr_generated_ind&gt;\r\n                          &lt;pricing_type_ind&gt;&lt;![CDATA[0]]&gt;&lt;/pricing_type_ind&gt;\r\n                          &lt;estimate_audit_num&gt;&lt;![CDATA[19328]]&gt;&lt;/estimate_audit_num&gt;\r\n                          &lt;comp_function_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/comp_function_ind&gt;\r\n                          &lt;use_pricing_dt_ind&gt;&lt;![CDATA[0]]&gt;&lt;/use_pricing_dt_ind&gt;\r\n                          &lt;company_num&gt;&lt;![CDATA[4103]]&gt;&lt;/company_num&gt;\r\n                          &lt;floor_book_upon_match_ind&gt;&lt;![CDATA[0]]&gt;&lt;/floor_book_upon_match_ind&gt;\r\n                          &lt;complex_charges_ind&gt;&lt;![CDATA[0]]&gt;&lt;/complex_charges_ind&gt;\r\n                          &lt;balance_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/balance_cost_ind&gt;\r\n                          &lt;rate_override_ind&gt;&lt;![CDATA[0]]&gt;&lt;/rate_override_ind&gt;\r\n                          &lt;cost_type_cd&gt;&lt;![CDATA[Broker Fee]]&gt;&lt;/cost_type_cd&gt;\r\n                          &lt;fx_rate_type_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/fx_rate_type_ind&gt;\r\n                          &lt;pricing_period_tier_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/pricing_period_tier_ind&gt;\r\n                          &lt;tier_qty_type_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/tier_qty_type_ind&gt;\r\n                          &lt;time_based_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/time_based_cost_ind&gt;\r\n                          &lt;price_uom_cd&gt;&lt;![CDATA[MT]]&gt;&lt;/price_uom_cd&gt;\r\n                          &lt;internal_company_num&gt;&lt;![CDATA[4392]]&gt;&lt;/internal_company_num&gt;\r\n                          &lt;ic_mirror_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/ic_mirror_cost_ind&gt;\r\n                          &lt;ic_scr_mirror_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/ic_scr_mirror_cost_ind&gt;\r\n                          &lt;rate_lookup_cost_type_ind&gt;&lt;![CDATA[0]]&gt;&lt;/rate_lookup_cost_type_ind&gt;\r\n                          &lt;data_source_cd&gt;&lt;![CDATA[XL]]&gt;&lt;/data_source_cd&gt;\r\n                          &lt;price_curr_cd&gt;&lt;![CDATA[USD]]&gt;&lt;/price_curr_cd&gt;\r\n                          &lt;round_pricing_rule_ind&gt;&lt;![CDATA[0]]&gt;&lt;/round_pricing_rule_ind&gt;\r\n                          &lt;broker_type_ind&gt;&lt;![CDATA[1]]&gt;&lt;/broker_type_ind&gt;\r\n                          &lt;inter_comp_ind&gt;&lt;![CDATA[0]]&gt;&lt;/inter_comp_ind&gt;\r\n                          &lt;retain_realized_ind&gt;&lt;![CDATA[0]]&gt;&lt;/retain_realized_ind&gt;\r\n                        &lt;/TermScrList&gt;\r\n                        &lt;TermUdfList table=&quot;2&quot;&gt;\r\n                          &lt;udf_value&gt;&lt;![CDATA[2]]&gt;&lt;/udf_value&gt;\r\n                          &lt;operation&gt;&lt;![CDATA[-1]]&gt;&lt;/operation&gt;\r\n                          &lt;udf_cd&gt;&lt;![CDATA[Deal Time]]&gt;&lt;/udf_cd&gt;\r\n                        &lt;/TermUdfList&gt;\r\n                        &lt;TermUdfList table=&quot;2&quot;&gt;\r\n                          &lt;udf_value&gt;&lt;![CDATA[odcril_cgmlTradesINT_rel_files_202309130251.csv]]&gt;&lt;/udf_value&gt;\r\n                          &lt;operation&gt;&lt;![CDATA[-1]]&gt;&lt;/operation&gt;\r\n                          &lt;udf_cd&gt;&lt;![CDATA[File Name1]]&gt;&lt;/udf_cd&gt;\r\n                        &lt;/TermUdfList&gt;\r\n                        &lt;TermMtmList table=&quot;2&quot;&gt;\r\n                          &lt;price_uom_period_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/price_uom_period_ind&gt;\r\n                          &lt;common_pricing_days_ind&gt;&lt;![CDATA[0]]&gt;&lt;/common_pricing_days_ind&gt;\r\n                          &lt;price_qty_category_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/price_qty_category_ind&gt;\r\n                          &lt;percentage_cashflow_qty_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/percentage_cashflow_qty_ind&gt;\r\n                          &lt;delivery_based_ind&gt;&lt;![CDATA[0]]&gt;&lt;/delivery_based_ind&gt;\r\n                          &lt;period_start_dt&gt;&lt;![CDATA[20231001000000]]&gt;&lt;/period_start_dt&gt;\r\n                          &lt;term_pricing_num&gt;&lt;![CDATA[25769]]&gt;&lt;/term_pricing_num&gt;\r\n                          &lt;tier_type_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/tier_type_ind&gt;\r\n                          &lt;implied_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/implied_cost_ind&gt;\r\n                          &lt;do_not_apply_ra_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/do_not_apply_ra_cost_ind&gt;\r\n                          &lt;rate_lookup_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/rate_lookup_cost_ind&gt;\r\n                          &lt;round_precision_ind&gt;&lt;![CDATA[0]]&gt;&lt;/round_precision_ind&gt;\r\n                          &lt;cost_source_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/cost_source_ind&gt;\r\n                          &lt;estimated_volume&gt;&lt;![CDATA[100.0]]&gt;&lt;/estimated_volume&gt;\r\n                          &lt;mix_defn_num&gt;&lt;![CDATA[0]]&gt;&lt;/mix_defn_num&gt;\r\n                          &lt;term_pricing_comp_num&gt;&lt;![CDATA[27071]]&gt;&lt;/term_pricing_comp_num&gt;\r\n                          &lt;event_specific_pricing_ind&gt;&lt;![CDATA[0]]&gt;&lt;/event_specific_pricing_ind&gt;\r\n                          &lt;multiplier&gt;&lt;![CDATA[1.0]]&gt;&lt;/multiplier&gt;\r\n                          &lt;price_precision&gt;&lt;![CDATA[3]]&gt;&lt;/price_precision&gt;\r\n                          &lt;period_end_dt&gt;&lt;![CDATA[20231031000000]]&gt;&lt;/period_end_dt&gt;\r\n                          &lt;actual_estimate_ind&gt;&lt;![CDATA[0]]&gt;&lt;/actual_estimate_ind&gt;\r\n                          &lt;tier_qty_periodicity_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/tier_qty_periodicity_ind&gt;\r\n                          &lt;cumulative_ind&gt;&lt;![CDATA[0]]&gt;&lt;/cumulative_ind&gt;\r\n                          &lt;period_sub_category_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/period_sub_category_ind&gt;\r\n                          &lt;componentize_status_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/componentize_status_ind&gt;\r\n                          &lt;tier_boundary_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/tier_boundary_ind&gt;\r\n                          &lt;hidden_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/hidden_cost_ind&gt;\r\n                          &lt;round_pricing_component_ind&gt;&lt;![CDATA[0]]&gt;&lt;/round_pricing_component_ind&gt;\r\n                          &lt;manual_override_ind&gt;&lt;![CDATA[0]]&gt;&lt;/manual_override_ind&gt;\r\n                          &lt;apply_precision_ind&gt;&lt;![CDATA[1]]&gt;&lt;/apply_precision_ind&gt;\r\n                          &lt;pricingComponentCount&gt;&lt;![CDATA[0]]&gt;&lt;/pricingComponentCount&gt;\r\n                          &lt;demand_charge_ind&gt;&lt;![CDATA[0]]&gt;&lt;/demand_charge_ind&gt;\r\n                          &lt;pricing_type_ind&gt;&lt;![CDATA[1]]&gt;&lt;/pricing_type_ind&gt;\r\n                          &lt;estimate_audit_num&gt;&lt;![CDATA[19327]]&gt;&lt;/estimate_audit_num&gt;\r\n                          &lt;comp_function_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/comp_function_ind&gt;\r\n                          &lt;use_pricing_dt_ind&gt;&lt;![CDATA[0]]&gt;&lt;/use_pricing_dt_ind&gt;\r\n                          &lt;complex_charges_ind&gt;&lt;![CDATA[0]]&gt;&lt;/complex_charges_ind&gt;\r\n                          &lt;balance_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/balance_cost_ind&gt;\r\n                          &lt;rate_override_ind&gt;&lt;![CDATA[0]]&gt;&lt;/rate_override_ind&gt;\r\n                          &lt;cost_type_cd&gt;&lt;![CDATA[MTM]]&gt;&lt;/cost_type_cd&gt;\r\n                          &lt;fx_rate_type_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/fx_rate_type_ind&gt;\r\n                          &lt;quote_def_num&gt;&lt;![CDATA[10320]]&gt;&lt;/quote_def_num&gt;\r\n                          &lt;pricing_period_tier_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/pricing_period_tier_ind&gt;\r\n                          &lt;tier_qty_type_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/tier_qty_type_ind&gt;\r\n                          &lt;time_based_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/time_based_cost_ind&gt;\r\n                          &lt;ic_mirror_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/ic_mirror_cost_ind&gt;\r\n                          &lt;rate_lookup_cost_type_ind&gt;&lt;![CDATA[0]]&gt;&lt;/rate_lookup_cost_type_ind&gt;\r\n                          &lt;round_pricing_rule_ind&gt;&lt;![CDATA[0]]&gt;&lt;/round_pricing_rule_ind&gt;\r\n                          &lt;retain_realized_ind&gt;&lt;![CDATA[0]]&gt;&lt;/retain_realized_ind&gt;\r\n                        &lt;/TermMtmList&gt;\r\n                        &lt;TermDetailList table=&quot;2&quot;&gt;\r\n                          &lt;mon_ind&gt;&lt;![CDATA[1]]&gt;&lt;/mon_ind&gt;\r\n                          &lt;sat_ind&gt;&lt;![CDATA[1]]&gt;&lt;/sat_ind&gt;\r\n                          &lt;end_time_period_cd&gt;&lt;![CDATA[HE24]]&gt;&lt;/end_time_period_cd&gt;\r\n                          &lt;fri_ind&gt;&lt;![CDATA[1]]&gt;&lt;/fri_ind&gt;\r\n                          &lt;trade_status_ind&gt;&lt;![CDATA[1]]&gt;&lt;/trade_status_ind&gt;\r\n                          &lt;tue_ind&gt;&lt;![CDATA[1]]&gt;&lt;/tue_ind&gt;\r\n                          &lt;term_num&gt;&lt;![CDATA[6709]]&gt;&lt;/term_num&gt;\r\n                          &lt;sun_ind&gt;&lt;![CDATA[1]]&gt;&lt;/sun_ind&gt;\r\n                          &lt;var_project_delta&gt;&lt;![CDATA[100.0]]&gt;&lt;/var_project_delta&gt;\r\n                          &lt;trade_qty&gt;&lt;![CDATA[25.0]]&gt;&lt;/trade_qty&gt;\r\n                          &lt;thu_ind&gt;&lt;![CDATA[1]]&gt;&lt;/thu_ind&gt;\r\n                          &lt;comp_sync_id&gt;&lt;![CDATA[1]]&gt;&lt;/comp_sync_id&gt;\r\n                          &lt;start_time_period_cd&gt;&lt;![CDATA[HE01]]&gt;&lt;/start_time_period_cd&gt;\r\n                          &lt;detail_num&gt;&lt;![CDATA[8520]]&gt;&lt;/detail_num&gt;\r\n                          &lt;end_dt&gt;&lt;![CDATA[20231031000000]]&gt;&lt;/end_dt&gt;\r\n                          &lt;qty_periodicity_ind&gt;&lt;![CDATA[2]]&gt;&lt;/qty_periodicity_ind&gt;\r\n                          &lt;start_dt&gt;&lt;![CDATA[20231001000000]]&gt;&lt;/start_dt&gt;\r\n                          &lt;day_offset_ind&gt;&lt;![CDATA[0]]&gt;&lt;/day_offset_ind&gt;\r\n                          &lt;hol_ind&gt;&lt;![CDATA[1]]&gt;&lt;/hol_ind&gt;\r\n                          &lt;qty_uom_cd&gt;&lt;![CDATA[zKBBL]]&gt;&lt;/qty_uom_cd&gt;\r\n                          &lt;wed_ind&gt;&lt;![CDATA[1]]&gt;&lt;/wed_ind&gt;\r\n                        &lt;/TermDetailList&gt;\r\n                        &lt;TermPriceList table=&quot;2&quot;&gt;\r\n                          &lt;price_uom_period_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/price_uom_period_ind&gt;\r\n                          &lt;common_pricing_days_ind&gt;&lt;![CDATA[0]]&gt;&lt;/common_pricing_days_ind&gt;\r\n                          &lt;price_qty_category_ind&gt;&lt;![CDATA[0]]&gt;&lt;/price_qty_category_ind&gt;\r\n                          &lt;percentage_cashflow_qty_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/percentage_cashflow_qty_ind&gt;\r\n                          &lt;delivery_based_ind&gt;&lt;![CDATA[0]]&gt;&lt;/delivery_based_ind&gt;\r\n                          &lt;period_start_dt&gt;&lt;![CDATA[20231001000000]]&gt;&lt;/period_start_dt&gt;\r\n                          &lt;term_pricing_num&gt;&lt;![CDATA[25768]]&gt;&lt;/term_pricing_num&gt;\r\n                          &lt;tier_type_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/tier_type_ind&gt;\r\n                          &lt;implied_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/implied_cost_ind&gt;\r\n                          &lt;do_not_apply_ra_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/do_not_apply_ra_cost_ind&gt;\r\n                          &lt;rate_lookup_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/rate_lookup_cost_ind&gt;\r\n                          &lt;round_precision_ind&gt;&lt;![CDATA[0]]&gt;&lt;/round_precision_ind&gt;\r\n                          &lt;cost_source_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/cost_source_ind&gt;\r\n                          &lt;estimated_volume&gt;&lt;![CDATA[100.0]]&gt;&lt;/estimated_volume&gt;\r\n                          &lt;mix_defn_num&gt;&lt;![CDATA[0]]&gt;&lt;/mix_defn_num&gt;\r\n                          &lt;term_pricing_comp_num&gt;&lt;![CDATA[27070]]&gt;&lt;/term_pricing_comp_num&gt;\r\n                          &lt;event_specific_pricing_ind&gt;&lt;![CDATA[0]]&gt;&lt;/event_specific_pricing_ind&gt;\r\n                          &lt;multiplier&gt;&lt;![CDATA[1.0]]&gt;&lt;/multiplier&gt;\r\n                          &lt;price_precision&gt;&lt;![CDATA[3]]&gt;&lt;/price_precision&gt;\r\n                          &lt;period_end_dt&gt;&lt;![CDATA[20231031000000]]&gt;&lt;/period_end_dt&gt;\r\n                          &lt;actual_estimate_ind&gt;&lt;![CDATA[0]]&gt;&lt;/actual_estimate_ind&gt;\r\n                          &lt;tier_qty_periodicity_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/tier_qty_periodicity_ind&gt;\r\n                          &lt;cumulative_ind&gt;&lt;![CDATA[0]]&gt;&lt;/cumulative_ind&gt;\r\n                          &lt;period_sub_category_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/period_sub_category_ind&gt;\r\n                          &lt;componentize_status_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/componentize_status_ind&gt;\r\n                          &lt;tier_boundary_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/tier_boundary_ind&gt;\r\n                          &lt;hidden_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/hidden_cost_ind&gt;\r\n                          &lt;round_pricing_component_ind&gt;&lt;![CDATA[0]]&gt;&lt;/round_pricing_component_ind&gt;\r\n                          &lt;manual_override_ind&gt;&lt;![CDATA[0]]&gt;&lt;/manual_override_ind&gt;\r\n                          &lt;apply_precision_ind&gt;&lt;![CDATA[1]]&gt;&lt;/apply_precision_ind&gt;\r\n                          &lt;fixed_price&gt;&lt;![CDATA[**92.053**]]&gt;&lt;/fixed_price&gt;\r\n                          &lt;pricingComponentCount&gt;&lt;![CDATA[0]]&gt;&lt;/pricingComponentCount&gt;\r\n                          &lt;demand_charge_ind&gt;&lt;![CDATA[0]]&gt;&lt;/demand_charge_ind&gt;\r\n                          &lt;pricing_type_ind&gt;&lt;![CDATA[0]]&gt;&lt;/pricing_type_ind&gt;\r\n                          &lt;estimate_audit_num&gt;&lt;![CDATA[19326]]&gt;&lt;/estimate_audit_num&gt;\r\n                          &lt;comp_function_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/comp_function_ind&gt;\r\n                          &lt;use_pricing_dt_ind&gt;&lt;![CDATA[0]]&gt;&lt;/use_pricing_dt_ind&gt;\r\n                          &lt;complex_charges_ind&gt;&lt;![CDATA[0]]&gt;&lt;/complex_charges_ind&gt;\r\n                          &lt;balance_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/balance_cost_ind&gt;\r\n                          &lt;rate_override_ind&gt;&lt;![CDATA[0]]&gt;&lt;/rate_override_ind&gt;\r\n                          &lt;cost_type_cd&gt;&lt;![CDATA[Primary Settlement]]&gt;&lt;/cost_type_cd&gt;\r\n                          &lt;fx_rate_type_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/fx_rate_type_ind&gt;\r\n                          &lt;pricing_period_tier_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/pricing_period_tier_ind&gt;\r\n                          &lt;tier_qty_type_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/tier_qty_type_ind&gt;\r\n                          &lt;time_based_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/time_based_cost_ind&gt;\r\n                          &lt;price_uom_cd&gt;&lt;![CDATA[BBL]]&gt;&lt;/price_uom_cd&gt;\r\n                          &lt;ic_mirror_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/ic_mirror_cost_ind&gt;\r\n                          &lt;rate_lookup_cost_type_ind&gt;&lt;![CDATA[0]]&gt;&lt;/rate_lookup_cost_type_ind&gt;\r\n                          &lt;price_curr_cd&gt;&lt;![CDATA[USD]]&gt;&lt;/price_curr_cd&gt;\r\n                          &lt;round_pricing_rule_ind&gt;&lt;![CDATA[0]]&gt;&lt;/round_pricing_rule_ind&gt;\r\n                          &lt;retain_realized_ind&gt;&lt;![CDATA[0]]&gt;&lt;/retain_realized_ind&gt;\r\n                        &lt;/TermPriceList&gt;\r\n                      &lt;/SwapTermList&gt;\r\n                    &lt;/TradeHeader&gt;\r\n                    &lt;LockNumList table=&quot;1&quot;&gt;\r\n                      &lt;lockinfo&gt;&lt;![CDATA[TRD_HEADER\t902495\t1\t\t1\r\n        ACT_CASHFLOW\t26599\t\t\t1\r\n        ACT_CASHFLOW\t26600\t\t\t1\r\n        TRD_TERM\t6709\t\t\t1\r\n        ]]&gt;&lt;/lockinfo&gt;\r\n                    &lt;/LockNumList&gt;\r\n                    &lt;Permissions table=&quot;1&quot;&gt;\r\n                      &lt;security&gt;&lt;![CDATA[0]]&gt;&lt;/security&gt;\r\n                    &lt;/Permissions&gt;\r\n                  &lt;/GetTrade&gt;\r\n                &lt;/data&gt;\r\n              &lt;/mbody&gt;\r\n            &lt;/response&gt;\r\n          &lt;/return&gt;\r\n        &lt;/ns1:GetTradeResponse&gt;\r\n      &lt;/SOAP-ENV:Body&gt;\r\n    &lt;/SOAP-ENV:Envelope&gt;\r\n\r\n\r\nI have created the Document object from existing trade string that I have and also tried some code to fetch the element. But frankly speaking I have no idea how I can achieve replacing those values keeping in mind that they are to replaced inside CDATA (Although I wont mind replacing the entire node like trade_qty itself) and that too only under a particular parent.\r\n\r\n```\r\nprivate Document parseXML(String xml) throws ParserConfigurationException, SAXException, IOException\r\n    {\r\n        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n        dbf.setNamespaceAware(true);\r\n        DocumentBuilder db = dbf.newDocumentBuilder();\r\n        Document doc = db.parse(new InputSource(new StringReader(xml)));\r\n        doc.getDocumentElement().normalize();\r\n        return doc;\r\n    }\r\n\r\npublic void readXML(String tradeResponseXML)\r\n    {\r\n        String replacedXML = &quot;&quot;;\r\n        Document doc = null;\r\n        try {\r\n            doc = parseXML(tradeResponseXML);\r\n        }\r\n        catch (ParserConfigurationException | SAXException  | IOException xe)\r\n        {\r\n            logger.error(&quot;Error parsing the get response xml: &quot;, xe);\r\n        }\r\n\r\n        if(doc != null)\r\n        {\r\n            NodeList nList = doc.getElementsByTagName(SWAP_TERM_LIST_XML_ELEM);\r\n            for (int i = 0; i &lt; nList.getLength(); i++)\r\n            {\r\n                Node nNode = nList.item(i);\r\n                Element eElement = (Element) nNode;\r\n                Element cElement =  (Element) eElement.getElementsByTagName(TRADE_QTY_XML_ELEM).item(0);\r\n                logger.info(&quot;Qty : &quot; + cElement.getTextContent());\r\n            }\r\n        }\r\n    }\r\n\r\n```\r\nOr Equivalent of following Dot net code:\r\n\r\n    For all node name like Get Trade,\r\n        if (rootnodes.Name == &quot;GetTrade&quot;)\r\n        {\r\n            foreach (XmlNode t_node in rootnodes.ChildNodes)\r\n            {\r\n                if (t_node.Name == &quot;TradeHeader&quot;)\r\n                {\r\n                    foreach (XmlNode s_node in t_node.ChildNodes)\r\n                    {\r\n                        if (s_node.Name == &quot;SwapTermList&quot;)\r\n                        {\r\n    \r\n                            foreach (XmlNode p_node in s_node.ChildNodes)\r\n                            {\r\n                                if (p_node.Name == &quot;trade_qty&quot;)\r\n                                {\r\n                                    ColName = p_node.Name;\r\n                                    ColValue = p_node.InnerText;\r\n    \r\n                                    sResponse1 = sResponse1.Replace(&quot;&lt;trade_qty&gt;&lt;![CDATA[&quot; + Math.Abs(Convert.ToDecimal(ColValue)).ToString() + &quot;]]&gt;&lt;/trade_qty&gt;&quot;, &quot;&lt;trade_qty&gt;&lt;![CDATA[&quot; + Math.Abs(Convert.ToDecimal(s.ItemArray.GetValue(4))).ToString() + &quot;]]&gt;&lt;/trade_qty&gt;&quot;);//(It&#39;s lots value.)\r\n                                }\r\n    \r\n                                if (p_node.Name == &quot;TermPriceList&quot;)\r\n                                {\r\n                                    foreach (XmlNode k_node in p_node.ChildNodes)\r\n                                    {\r\n                                        if (k_node.Name == &quot;fixed_price&quot;)\r\n                                        {\r\n                                            ColName = k_node.Name;\r\n                                            ColValue = k_node.InnerText;\r\n                                            errorLog.log.LogFile(&quot;COlname to update price: &quot; + ColName);\r\n                                            errorLog.log.LogFile(&quot;COlValue to update price: &quot; + ColValue);\r\n                                            sResponse1 = sResponse1.Replace(&quot;&lt;fixed_price&gt;&lt;![CDATA[&quot; + Math.Abs(Convert.ToDecimal(ColValue)).ToString() + &quot;]]&gt;&lt;/fixed_price&gt;&quot;, &quot;&lt;fixed_price&gt;&lt;![CDATA[&quot; + Math.Abs(Convert.ToDecimal(s.ItemArray.GetValue(10))).ToString() + &quot;]]&gt;&lt;/fixed_price&gt;&quot;);// its TradePrice value.\r\n                                            errorLog.log.LogFile(&quot;Response for fixed price : &quot; + sResponse1);\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n    \r\n            }\r\n        }","title":"How can I replace value inside CDATA of an XML tag which is inside a specific tag using Java","body":"<p>I have an input xml as given below.\nFrom this xml, I want to form a new xml String by replacing the value inside CDATA of &lt;trade_qty&gt; tag which is under &quot;SwapTermList&quot; Parent tag. e.g. <code>&lt;trade_qty&gt;&lt;![CDATA[25.0]]&gt;&lt;/trade_qty&gt;</code> //Need to replace 25.0 with another value that I will pass\nSimilarly, also replace value inside CDATA of &lt;fixed_price&gt; tag which is under &quot;TermPriceList&quot; Parent tag, which is inturn also under &quot;SwapTermList&quot; Parent Tag.</p>\n<p><code>&lt;fixed_price&gt;&lt;![CDATA[92.053]]&gt;&lt;/fixed_price&gt;</code>  //REplace 92.053 with another value that I will pass</p>\n<p>Sample XML:</p>\n<pre><code>&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:xsd=&quot;http://www.w3.org/1999/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/1999/XMLSchema-instance&quot;&gt;\n  &lt;SOAP-ENV:Header TransactionID=&quot;7578641ebc849609668e4b69e6b1f088c5ec0e2d0b6ae0&quot; controllerName=&quot;CONTROLLER_1&quot; hostIPAddress=&quot;10.21.75.203&quot; serverEndTime=&quot;22:40:54.382&quot; serverStartTime=&quot;22:40:54.366&quot; serverTimeInMs=&quot;15&quot;/&gt;\n  &lt;SOAP-ENV:Body&gt;\n    &lt;ns1:GetTradeResponse xmlns:ns1=&quot;urn:TradeData&quot; IsCompress=&quot;FALSE&quot; SOAP-ENV:encodingStyle=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot;&gt;\n      &lt;return xsi:type=&quot;xsd:string&quot;&gt;\n        &lt;response&gt;\n          &lt;mhead name=&quot;TPTResGetTrade&quot;&gt;\n            &lt;sender&gt;TriplePointClient&lt;/sender&gt;\n          &lt;/mhead&gt;\n          &lt;mbody&gt;\n            &lt;data&gt;\n              &lt;GetTrade&gt;\n                &lt;TradeHeader table=&quot;1&quot;&gt;\n                  &lt;trade_status_ind&gt;&lt;![CDATA[1]]&gt;&lt;/trade_status_ind&gt;\n                  &lt;comm_uom_cd&gt;&lt;![CDATA[MT]]&gt;&lt;/comm_uom_cd&gt;\n                  &lt;participant_reloaded_ind&gt;&lt;![CDATA[1]]&gt;&lt;/participant_reloaded_ind&gt;\n                  &lt;deal_id&gt;&lt;![CDATA[93174763]]&gt;&lt;/deal_id&gt;\n                  &lt;internal_ind&gt;&lt;![CDATA[0]]&gt;&lt;/internal_ind&gt;\n                  &lt;mirror_doc_ind&gt;&lt;![CDATA[0]]&gt;&lt;/mirror_doc_ind&gt;\n                  &lt;permission_ind&gt;&lt;![CDATA[1]]&gt;&lt;/permission_ind&gt;\n                  &lt;trade_type_cd&gt;&lt;![CDATA[Swap (L)]]&gt;&lt;/trade_type_cd&gt;\n                  &lt;delivery_based_ind&gt;&lt;![CDATA[0]]&gt;&lt;/delivery_based_ind&gt;\n                  &lt;process_group_cd&gt;&lt;![CDATA[MUM Physical]]&gt;&lt;/process_group_cd&gt;\n                  &lt;xch_internal_comp_type_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/xch_internal_comp_type_ind&gt;\n                  &lt;trader_person_num&gt;&lt;![CDATA[151]]&gt;&lt;/trader_person_num&gt;\n                  &lt;strategy_num&gt;&lt;![CDATA[4142]]&gt;&lt;/strategy_num&gt;\n                  &lt;language_cd&gt;&lt;![CDATA[en]]&gt;&lt;/language_cd&gt;\n                  &lt;comm_curr_cd&gt;&lt;![CDATA[USD]]&gt;&lt;/comm_curr_cd&gt;\n                  &lt;inter_company_ind&gt;&lt;![CDATA[0]]&gt;&lt;/inter_company_ind&gt;\n                  &lt;trade_linked_ind&gt;&lt;![CDATA[0]]&gt;&lt;/trade_linked_ind&gt;\n                  &lt;broker2_spread_ind&gt;&lt;![CDATA[0]]&gt;&lt;/broker2_spread_ind&gt;\n                  &lt;cleared_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/cleared_ind&gt;\n                  &lt;broker_spread_ind&gt;&lt;![CDATA[0]]&gt;&lt;/broker_spread_ind&gt;\n                  &lt;trade_dt&gt;&lt;![CDATA[20230913000000]]&gt;&lt;/trade_dt&gt;\n                  &lt;commission_type_ind&gt;&lt;![CDATA[0]]&gt;&lt;/commission_type_ind&gt;\n                  &lt;notification_ind&gt;&lt;![CDATA[0]]&gt;&lt;/notification_ind&gt;\n                  &lt;internal_company_num&gt;&lt;![CDATA[4392]]&gt;&lt;/internal_company_num&gt;\n                  &lt;fx_spot_trade_ind&gt;&lt;![CDATA[0]]&gt;&lt;/fx_spot_trade_ind&gt;\n                  &lt;broker_company_num&gt;&lt;![CDATA[4103]]&gt;&lt;/broker_company_num&gt;\n                  &lt;instrument_type_cd&gt;&lt;![CDATA[Financial Swap]]&gt;&lt;/instrument_type_cd&gt;\n                  &lt;data_source_cd&gt;&lt;![CDATA[XL]]&gt;&lt;/data_source_cd&gt;\n                  &lt;confirm_approval_ind&gt;&lt;![CDATA[0]]&gt;&lt;/confirm_approval_ind&gt;\n                  &lt;is_delivery_upload&gt;&lt;![CDATA[0]]&gt;&lt;/is_delivery_upload&gt;\n                  &lt;counterpart_company_num&gt;&lt;![CDATA[4175]]&gt;&lt;/counterpart_company_num&gt;\n                  &lt;internal_side_ind&gt;&lt;![CDATA[1]]&gt;&lt;/internal_side_ind&gt;\n                  &lt;trade_num&gt;&lt;![CDATA[902495]]&gt;&lt;/trade_num&gt;\n                  &lt;ref1_enabled_ind&gt;&lt;![CDATA[1]]&gt;&lt;/ref1_enabled_ind&gt;\n                  &lt;hedge_ind&gt;&lt;![CDATA[0]]&gt;&lt;/hedge_ind&gt;\n                  &lt;whatif_trade_ind&gt;&lt;![CDATA[0]]&gt;&lt;/whatif_trade_ind&gt;\n                  &lt;xch_type_ind&gt;&lt;![CDATA[0]]&gt;&lt;/xch_type_ind&gt;\n                  &lt;commission_amt&gt;&lt;![CDATA[0.05]]&gt;&lt;/commission_amt&gt;\n                  &lt;ref2_enabled_ind&gt;&lt;![CDATA[1]]&gt;&lt;/ref2_enabled_ind&gt;\n                  &lt;inter_comp_ind&gt;&lt;![CDATA[0]]&gt;&lt;/inter_comp_ind&gt;\n                  &lt;deal_name_str&gt;&lt;![CDATA[Swap (L) from]]&gt;&lt;/deal_name_str&gt;\n                  &lt;SwapTermList table=&quot;2&quot;&gt;\n                    &lt;buy_sell_ind&gt;&lt;![CDATA[1]]&gt;&lt;/buy_sell_ind&gt;\n                    &lt;reporting_period_offset&gt;&lt;![CDATA[0]]&gt;&lt;/reporting_period_offset&gt;\n                    &lt;settlement_curr_cd&gt;&lt;![CDATA[USD]]&gt;&lt;/settlement_curr_cd&gt;\n                    &lt;term_section_cd&gt;&lt;![CDATA[902495-1]]&gt;&lt;/term_section_cd&gt;\n                    &lt;use_default_instruction_ind&gt;&lt;![CDATA[1]]&gt;&lt;/use_default_instruction_ind&gt;\n                    &lt;mtm_factor&gt;&lt;![CDATA[100.0]]&gt;&lt;/mtm_factor&gt;\n                    &lt;delivery_start_dt&gt;&lt;![CDATA[20231001000000]]&gt;&lt;/delivery_start_dt&gt;\n                    &lt;customs_duty_status_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/customs_duty_status_ind&gt;\n                    &lt;settle_payment_term_cd&gt;&lt;![CDATA[14 CAL NYBnk]]&gt;&lt;/settle_payment_term_cd&gt;\n                    &lt;alt_price_conv_ind&gt;&lt;![CDATA[0]]&gt;&lt;/alt_price_conv_ind&gt;\n                    &lt;cmdty_cd&gt;&lt;![CDATA[Dubai]]&gt;&lt;/cmdty_cd&gt;\n                    &lt;strategy_num&gt;&lt;![CDATA[4142]]&gt;&lt;/strategy_num&gt;\n                    &lt;last_modify_dt&gt;&lt;![CDATA[20230913124059]]&gt;&lt;/last_modify_dt&gt;\n                    &lt;to_uom_cd&gt;&lt;![CDATA[MT]]&gt;&lt;/to_uom_cd&gt;\n                    &lt;pricing_schedule_ind&gt;&lt;![CDATA[1]]&gt;&lt;/pricing_schedule_ind&gt;\n                    &lt;source_action_ind&gt;&lt;![CDATA[0]]&gt;&lt;/source_action_ind&gt;\n                    &lt;term_dt&gt;&lt;![CDATA[20230913000000]]&gt;&lt;/term_dt&gt;\n                    &lt;deliv_sched_cd&gt;&lt;![CDATA[Monthly]]&gt;&lt;/deliv_sched_cd&gt;\n                    &lt;trade_term_ind&gt;&lt;![CDATA[1]]&gt;&lt;/trade_term_ind&gt;\n                    &lt;allocated_ind&gt;&lt;![CDATA[0]]&gt;&lt;/allocated_ind&gt;\n                    &lt;scheduled_ind&gt;&lt;![CDATA[0]]&gt;&lt;/scheduled_ind&gt;\n                    &lt;location_num&gt;&lt;![CDATA[2566]]&gt;&lt;/location_num&gt;\n                    &lt;timezone_cd&gt;&lt;![CDATA[GMT]]&gt;&lt;/timezone_cd&gt;\n                    &lt;from_uom_cd&gt;&lt;![CDATA[BBL]]&gt;&lt;/from_uom_cd&gt;\n                    &lt;term_input_dt&gt;&lt;![CDATA[20230913000000]]&gt;&lt;/term_input_dt&gt;\n                    &lt;term_num&gt;&lt;![CDATA[6709]]&gt;&lt;/term_num&gt;\n                    &lt;settlement_uom_cd&gt;&lt;![CDATA[BBL]]&gt;&lt;/settlement_uom_cd&gt;\n                    &lt;delivery_end_dt&gt;&lt;![CDATA[20231031000000]]&gt;&lt;/delivery_end_dt&gt;\n                    &lt;trade_qty&gt;&lt;![CDATA[**25.0**]]&gt;&lt;/trade_qty&gt;\n                    &lt;instrument_type_cd&gt;&lt;![CDATA[Financial Swap]]&gt;&lt;/instrument_type_cd&gt;\n                    &lt;delivery_start_period&gt;&lt;![CDATA[HE01]]&gt;&lt;/delivery_start_period&gt;\n                    &lt;delivery_end_period&gt;&lt;![CDATA[HE24]]&gt;&lt;/delivery_end_period&gt;\n                    &lt;use_option_model_vol_ind&gt;&lt;![CDATA[0]]&gt;&lt;/use_option_model_vol_ind&gt;\n                    &lt;mtm_schedule_ind&gt;&lt;![CDATA[1]]&gt;&lt;/mtm_schedule_ind&gt;\n                    &lt;bonafide_hedge_ind&gt;&lt;![CDATA[0]]&gt;&lt;/bonafide_hedge_ind&gt;\n                    &lt;bonafide_hedge_type_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/bonafide_hedge_type_ind&gt;\n                    &lt;lc_required_ind&gt;&lt;![CDATA[0]]&gt;&lt;/lc_required_ind&gt;\n                    &lt;end_dt&gt;&lt;![CDATA[20231031000000]]&gt;&lt;/end_dt&gt;\n                    &lt;bonafide_claimant_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/bonafide_claimant_ind&gt;\n                    &lt;qty_periodicity_ind&gt;&lt;![CDATA[2]]&gt;&lt;/qty_periodicity_ind&gt;\n                    &lt;start_dt&gt;&lt;![CDATA[20231001000000]]&gt;&lt;/start_dt&gt;\n                    &lt;uom_conversion_rate&gt;&lt;![CDATA[7.231608936927271]]&gt;&lt;/uom_conversion_rate&gt;\n                    &lt;qty_uom_cd&gt;&lt;![CDATA[zKBBL]]&gt;&lt;/qty_uom_cd&gt;\n                    &lt;hdg_acct_import_status_ind&gt;&lt;![CDATA[0]]&gt;&lt;/hdg_acct_import_status_ind&gt;\n                    &lt;extended_qty&gt;&lt;![CDATA[25.0]]&gt;&lt;/extended_qty&gt;\n                    &lt;volume_computation_ind&gt;&lt;![CDATA[0]]&gt;&lt;/volume_computation_ind&gt;\n                    &lt;TermScrList table=&quot;2&quot;&gt;\n                      &lt;settlement_curr_cd&gt;&lt;![CDATA[USD]]&gt;&lt;/settlement_curr_cd&gt;\n                      &lt;price_uom_period_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/price_uom_period_ind&gt;\n                      &lt;common_pricing_days_ind&gt;&lt;![CDATA[0]]&gt;&lt;/common_pricing_days_ind&gt;\n                      &lt;price_qty_category_ind&gt;&lt;![CDATA[0]]&gt;&lt;/price_qty_category_ind&gt;\n                      &lt;percentage_cashflow_qty_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/percentage_cashflow_qty_ind&gt;\n                      &lt;internal_ind&gt;&lt;![CDATA[0]]&gt;&lt;/internal_ind&gt;\n                      &lt;delivery_based_ind&gt;&lt;![CDATA[0]]&gt;&lt;/delivery_based_ind&gt;\n                      &lt;trader_person_num&gt;&lt;![CDATA[151]]&gt;&lt;/trader_person_num&gt;\n                      &lt;period_start_dt&gt;&lt;![CDATA[20231001000000]]&gt;&lt;/period_start_dt&gt;\n                      &lt;term_pricing_num&gt;&lt;![CDATA[25770]]&gt;&lt;/term_pricing_num&gt;\n                      &lt;strategy_num&gt;&lt;![CDATA[4142]]&gt;&lt;/strategy_num&gt;\n                      &lt;tier_type_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/tier_type_ind&gt;\n                      &lt;implied_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/implied_cost_ind&gt;\n                      &lt;book_upon_match_ind&gt;&lt;![CDATA[0]]&gt;&lt;/book_upon_match_ind&gt;\n                      &lt;do_not_apply_ra_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/do_not_apply_ra_cost_ind&gt;\n                      &lt;rate_lookup_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/rate_lookup_cost_ind&gt;\n                      &lt;round_precision_ind&gt;&lt;![CDATA[0]]&gt;&lt;/round_precision_ind&gt;\n                      &lt;cost_source_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/cost_source_ind&gt;\n                      &lt;estimated_volume&gt;&lt;![CDATA[100.0]]&gt;&lt;/estimated_volume&gt;\n                      &lt;mix_defn_num&gt;&lt;![CDATA[0]]&gt;&lt;/mix_defn_num&gt;\n                      &lt;term_pricing_comp_num&gt;&lt;![CDATA[27072]]&gt;&lt;/term_pricing_comp_num&gt;\n                      &lt;effective_dt&gt;&lt;![CDATA[20230913000000]]&gt;&lt;/effective_dt&gt;\n                      &lt;multiplier&gt;&lt;![CDATA[1.0]]&gt;&lt;/multiplier&gt;\n                      &lt;mirror_scr_num&gt;&lt;![CDATA[0]]&gt;&lt;/mirror_scr_num&gt;\n                      &lt;period_end_dt&gt;&lt;![CDATA[20231031000000]]&gt;&lt;/period_end_dt&gt;\n                      &lt;pass_thru_ind&gt;&lt;![CDATA[0]]&gt;&lt;/pass_thru_ind&gt;\n                      &lt;actual_estimate_ind&gt;&lt;![CDATA[0]]&gt;&lt;/actual_estimate_ind&gt;\n                      &lt;tier_qty_periodicity_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/tier_qty_periodicity_ind&gt;\n                      &lt;cumulative_ind&gt;&lt;![CDATA[0]]&gt;&lt;/cumulative_ind&gt;\n                      &lt;period_sub_category_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/period_sub_category_ind&gt;\n                      &lt;componentize_status_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/componentize_status_ind&gt;\n                      &lt;tier_boundary_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/tier_boundary_ind&gt;\n                      &lt;hidden_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/hidden_cost_ind&gt;\n                      &lt;round_pricing_component_ind&gt;&lt;![CDATA[0]]&gt;&lt;/round_pricing_component_ind&gt;\n                      &lt;manual_override_ind&gt;&lt;![CDATA[0]]&gt;&lt;/manual_override_ind&gt;\n                      &lt;pl_allocation_rule_ind&gt;&lt;![CDATA[0]]&gt;&lt;/pl_allocation_rule_ind&gt;\n                      &lt;apply_precision_ind&gt;&lt;![CDATA[1]]&gt;&lt;/apply_precision_ind&gt;\n                      &lt;scr_num&gt;&lt;![CDATA[104122]]&gt;&lt;/scr_num&gt;\n                      &lt;fixed_price&gt;&lt;![CDATA[0.05]]&gt;&lt;/fixed_price&gt;\n                      &lt;pricingComponentCount&gt;&lt;![CDATA[0]]&gt;&lt;/pricingComponentCount&gt;\n                      &lt;input_dt&gt;&lt;![CDATA[20230913000000]]&gt;&lt;/input_dt&gt;\n                      &lt;demand_charge_ind&gt;&lt;![CDATA[0]]&gt;&lt;/demand_charge_ind&gt;\n                      &lt;cost_revenue_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/cost_revenue_ind&gt;\n                      &lt;payment_due_dt&gt;&lt;![CDATA[20230913000000]]&gt;&lt;/payment_due_dt&gt;\n                      &lt;scr_generated_ind&gt;&lt;![CDATA[1]]&gt;&lt;/scr_generated_ind&gt;\n                      &lt;pricing_type_ind&gt;&lt;![CDATA[0]]&gt;&lt;/pricing_type_ind&gt;\n                      &lt;estimate_audit_num&gt;&lt;![CDATA[19328]]&gt;&lt;/estimate_audit_num&gt;\n                      &lt;comp_function_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/comp_function_ind&gt;\n                      &lt;use_pricing_dt_ind&gt;&lt;![CDATA[0]]&gt;&lt;/use_pricing_dt_ind&gt;\n                      &lt;company_num&gt;&lt;![CDATA[4103]]&gt;&lt;/company_num&gt;\n                      &lt;floor_book_upon_match_ind&gt;&lt;![CDATA[0]]&gt;&lt;/floor_book_upon_match_ind&gt;\n                      &lt;complex_charges_ind&gt;&lt;![CDATA[0]]&gt;&lt;/complex_charges_ind&gt;\n                      &lt;balance_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/balance_cost_ind&gt;\n                      &lt;rate_override_ind&gt;&lt;![CDATA[0]]&gt;&lt;/rate_override_ind&gt;\n                      &lt;cost_type_cd&gt;&lt;![CDATA[Broker Fee]]&gt;&lt;/cost_type_cd&gt;\n                      &lt;fx_rate_type_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/fx_rate_type_ind&gt;\n                      &lt;pricing_period_tier_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/pricing_period_tier_ind&gt;\n                      &lt;tier_qty_type_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/tier_qty_type_ind&gt;\n                      &lt;time_based_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/time_based_cost_ind&gt;\n                      &lt;price_uom_cd&gt;&lt;![CDATA[MT]]&gt;&lt;/price_uom_cd&gt;\n                      &lt;internal_company_num&gt;&lt;![CDATA[4392]]&gt;&lt;/internal_company_num&gt;\n                      &lt;ic_mirror_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/ic_mirror_cost_ind&gt;\n                      &lt;ic_scr_mirror_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/ic_scr_mirror_cost_ind&gt;\n                      &lt;rate_lookup_cost_type_ind&gt;&lt;![CDATA[0]]&gt;&lt;/rate_lookup_cost_type_ind&gt;\n                      &lt;data_source_cd&gt;&lt;![CDATA[XL]]&gt;&lt;/data_source_cd&gt;\n                      &lt;price_curr_cd&gt;&lt;![CDATA[USD]]&gt;&lt;/price_curr_cd&gt;\n                      &lt;round_pricing_rule_ind&gt;&lt;![CDATA[0]]&gt;&lt;/round_pricing_rule_ind&gt;\n                      &lt;broker_type_ind&gt;&lt;![CDATA[1]]&gt;&lt;/broker_type_ind&gt;\n                      &lt;inter_comp_ind&gt;&lt;![CDATA[0]]&gt;&lt;/inter_comp_ind&gt;\n                      &lt;retain_realized_ind&gt;&lt;![CDATA[0]]&gt;&lt;/retain_realized_ind&gt;\n                    &lt;/TermScrList&gt;\n                    &lt;TermUdfList table=&quot;2&quot;&gt;\n                      &lt;udf_value&gt;&lt;![CDATA[2]]&gt;&lt;/udf_value&gt;\n                      &lt;operation&gt;&lt;![CDATA[-1]]&gt;&lt;/operation&gt;\n                      &lt;udf_cd&gt;&lt;![CDATA[Deal Time]]&gt;&lt;/udf_cd&gt;\n                    &lt;/TermUdfList&gt;\n                    &lt;TermUdfList table=&quot;2&quot;&gt;\n                      &lt;udf_value&gt;&lt;![CDATA[odcril_cgmlTradesINT_rel_files_202309130251.csv]]&gt;&lt;/udf_value&gt;\n                      &lt;operation&gt;&lt;![CDATA[-1]]&gt;&lt;/operation&gt;\n                      &lt;udf_cd&gt;&lt;![CDATA[File Name1]]&gt;&lt;/udf_cd&gt;\n                    &lt;/TermUdfList&gt;\n                    &lt;TermMtmList table=&quot;2&quot;&gt;\n                      &lt;price_uom_period_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/price_uom_period_ind&gt;\n                      &lt;common_pricing_days_ind&gt;&lt;![CDATA[0]]&gt;&lt;/common_pricing_days_ind&gt;\n                      &lt;price_qty_category_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/price_qty_category_ind&gt;\n                      &lt;percentage_cashflow_qty_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/percentage_cashflow_qty_ind&gt;\n                      &lt;delivery_based_ind&gt;&lt;![CDATA[0]]&gt;&lt;/delivery_based_ind&gt;\n                      &lt;period_start_dt&gt;&lt;![CDATA[20231001000000]]&gt;&lt;/period_start_dt&gt;\n                      &lt;term_pricing_num&gt;&lt;![CDATA[25769]]&gt;&lt;/term_pricing_num&gt;\n                      &lt;tier_type_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/tier_type_ind&gt;\n                      &lt;implied_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/implied_cost_ind&gt;\n                      &lt;do_not_apply_ra_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/do_not_apply_ra_cost_ind&gt;\n                      &lt;rate_lookup_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/rate_lookup_cost_ind&gt;\n                      &lt;round_precision_ind&gt;&lt;![CDATA[0]]&gt;&lt;/round_precision_ind&gt;\n                      &lt;cost_source_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/cost_source_ind&gt;\n                      &lt;estimated_volume&gt;&lt;![CDATA[100.0]]&gt;&lt;/estimated_volume&gt;\n                      &lt;mix_defn_num&gt;&lt;![CDATA[0]]&gt;&lt;/mix_defn_num&gt;\n                      &lt;term_pricing_comp_num&gt;&lt;![CDATA[27071]]&gt;&lt;/term_pricing_comp_num&gt;\n                      &lt;event_specific_pricing_ind&gt;&lt;![CDATA[0]]&gt;&lt;/event_specific_pricing_ind&gt;\n                      &lt;multiplier&gt;&lt;![CDATA[1.0]]&gt;&lt;/multiplier&gt;\n                      &lt;price_precision&gt;&lt;![CDATA[3]]&gt;&lt;/price_precision&gt;\n                      &lt;period_end_dt&gt;&lt;![CDATA[20231031000000]]&gt;&lt;/period_end_dt&gt;\n                      &lt;actual_estimate_ind&gt;&lt;![CDATA[0]]&gt;&lt;/actual_estimate_ind&gt;\n                      &lt;tier_qty_periodicity_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/tier_qty_periodicity_ind&gt;\n                      &lt;cumulative_ind&gt;&lt;![CDATA[0]]&gt;&lt;/cumulative_ind&gt;\n                      &lt;period_sub_category_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/period_sub_category_ind&gt;\n                      &lt;componentize_status_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/componentize_status_ind&gt;\n                      &lt;tier_boundary_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/tier_boundary_ind&gt;\n                      &lt;hidden_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/hidden_cost_ind&gt;\n                      &lt;round_pricing_component_ind&gt;&lt;![CDATA[0]]&gt;&lt;/round_pricing_component_ind&gt;\n                      &lt;manual_override_ind&gt;&lt;![CDATA[0]]&gt;&lt;/manual_override_ind&gt;\n                      &lt;apply_precision_ind&gt;&lt;![CDATA[1]]&gt;&lt;/apply_precision_ind&gt;\n                      &lt;pricingComponentCount&gt;&lt;![CDATA[0]]&gt;&lt;/pricingComponentCount&gt;\n                      &lt;demand_charge_ind&gt;&lt;![CDATA[0]]&gt;&lt;/demand_charge_ind&gt;\n                      &lt;pricing_type_ind&gt;&lt;![CDATA[1]]&gt;&lt;/pricing_type_ind&gt;\n                      &lt;estimate_audit_num&gt;&lt;![CDATA[19327]]&gt;&lt;/estimate_audit_num&gt;\n                      &lt;comp_function_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/comp_function_ind&gt;\n                      &lt;use_pricing_dt_ind&gt;&lt;![CDATA[0]]&gt;&lt;/use_pricing_dt_ind&gt;\n                      &lt;complex_charges_ind&gt;&lt;![CDATA[0]]&gt;&lt;/complex_charges_ind&gt;\n                      &lt;balance_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/balance_cost_ind&gt;\n                      &lt;rate_override_ind&gt;&lt;![CDATA[0]]&gt;&lt;/rate_override_ind&gt;\n                      &lt;cost_type_cd&gt;&lt;![CDATA[MTM]]&gt;&lt;/cost_type_cd&gt;\n                      &lt;fx_rate_type_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/fx_rate_type_ind&gt;\n                      &lt;quote_def_num&gt;&lt;![CDATA[10320]]&gt;&lt;/quote_def_num&gt;\n                      &lt;pricing_period_tier_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/pricing_period_tier_ind&gt;\n                      &lt;tier_qty_type_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/tier_qty_type_ind&gt;\n                      &lt;time_based_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/time_based_cost_ind&gt;\n                      &lt;ic_mirror_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/ic_mirror_cost_ind&gt;\n                      &lt;rate_lookup_cost_type_ind&gt;&lt;![CDATA[0]]&gt;&lt;/rate_lookup_cost_type_ind&gt;\n                      &lt;round_pricing_rule_ind&gt;&lt;![CDATA[0]]&gt;&lt;/round_pricing_rule_ind&gt;\n                      &lt;retain_realized_ind&gt;&lt;![CDATA[0]]&gt;&lt;/retain_realized_ind&gt;\n                    &lt;/TermMtmList&gt;\n                    &lt;TermDetailList table=&quot;2&quot;&gt;\n                      &lt;mon_ind&gt;&lt;![CDATA[1]]&gt;&lt;/mon_ind&gt;\n                      &lt;sat_ind&gt;&lt;![CDATA[1]]&gt;&lt;/sat_ind&gt;\n                      &lt;end_time_period_cd&gt;&lt;![CDATA[HE24]]&gt;&lt;/end_time_period_cd&gt;\n                      &lt;fri_ind&gt;&lt;![CDATA[1]]&gt;&lt;/fri_ind&gt;\n                      &lt;trade_status_ind&gt;&lt;![CDATA[1]]&gt;&lt;/trade_status_ind&gt;\n                      &lt;tue_ind&gt;&lt;![CDATA[1]]&gt;&lt;/tue_ind&gt;\n                      &lt;term_num&gt;&lt;![CDATA[6709]]&gt;&lt;/term_num&gt;\n                      &lt;sun_ind&gt;&lt;![CDATA[1]]&gt;&lt;/sun_ind&gt;\n                      &lt;var_project_delta&gt;&lt;![CDATA[100.0]]&gt;&lt;/var_project_delta&gt;\n                      &lt;trade_qty&gt;&lt;![CDATA[25.0]]&gt;&lt;/trade_qty&gt;\n                      &lt;thu_ind&gt;&lt;![CDATA[1]]&gt;&lt;/thu_ind&gt;\n                      &lt;comp_sync_id&gt;&lt;![CDATA[1]]&gt;&lt;/comp_sync_id&gt;\n                      &lt;start_time_period_cd&gt;&lt;![CDATA[HE01]]&gt;&lt;/start_time_period_cd&gt;\n                      &lt;detail_num&gt;&lt;![CDATA[8520]]&gt;&lt;/detail_num&gt;\n                      &lt;end_dt&gt;&lt;![CDATA[20231031000000]]&gt;&lt;/end_dt&gt;\n                      &lt;qty_periodicity_ind&gt;&lt;![CDATA[2]]&gt;&lt;/qty_periodicity_ind&gt;\n                      &lt;start_dt&gt;&lt;![CDATA[20231001000000]]&gt;&lt;/start_dt&gt;\n                      &lt;day_offset_ind&gt;&lt;![CDATA[0]]&gt;&lt;/day_offset_ind&gt;\n                      &lt;hol_ind&gt;&lt;![CDATA[1]]&gt;&lt;/hol_ind&gt;\n                      &lt;qty_uom_cd&gt;&lt;![CDATA[zKBBL]]&gt;&lt;/qty_uom_cd&gt;\n                      &lt;wed_ind&gt;&lt;![CDATA[1]]&gt;&lt;/wed_ind&gt;\n                    &lt;/TermDetailList&gt;\n                    &lt;TermPriceList table=&quot;2&quot;&gt;\n                      &lt;price_uom_period_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/price_uom_period_ind&gt;\n                      &lt;common_pricing_days_ind&gt;&lt;![CDATA[0]]&gt;&lt;/common_pricing_days_ind&gt;\n                      &lt;price_qty_category_ind&gt;&lt;![CDATA[0]]&gt;&lt;/price_qty_category_ind&gt;\n                      &lt;percentage_cashflow_qty_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/percentage_cashflow_qty_ind&gt;\n                      &lt;delivery_based_ind&gt;&lt;![CDATA[0]]&gt;&lt;/delivery_based_ind&gt;\n                      &lt;period_start_dt&gt;&lt;![CDATA[20231001000000]]&gt;&lt;/period_start_dt&gt;\n                      &lt;term_pricing_num&gt;&lt;![CDATA[25768]]&gt;&lt;/term_pricing_num&gt;\n                      &lt;tier_type_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/tier_type_ind&gt;\n                      &lt;implied_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/implied_cost_ind&gt;\n                      &lt;do_not_apply_ra_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/do_not_apply_ra_cost_ind&gt;\n                      &lt;rate_lookup_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/rate_lookup_cost_ind&gt;\n                      &lt;round_precision_ind&gt;&lt;![CDATA[0]]&gt;&lt;/round_precision_ind&gt;\n                      &lt;cost_source_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/cost_source_ind&gt;\n                      &lt;estimated_volume&gt;&lt;![CDATA[100.0]]&gt;&lt;/estimated_volume&gt;\n                      &lt;mix_defn_num&gt;&lt;![CDATA[0]]&gt;&lt;/mix_defn_num&gt;\n                      &lt;term_pricing_comp_num&gt;&lt;![CDATA[27070]]&gt;&lt;/term_pricing_comp_num&gt;\n                      &lt;event_specific_pricing_ind&gt;&lt;![CDATA[0]]&gt;&lt;/event_specific_pricing_ind&gt;\n                      &lt;multiplier&gt;&lt;![CDATA[1.0]]&gt;&lt;/multiplier&gt;\n                      &lt;price_precision&gt;&lt;![CDATA[3]]&gt;&lt;/price_precision&gt;\n                      &lt;period_end_dt&gt;&lt;![CDATA[20231031000000]]&gt;&lt;/period_end_dt&gt;\n                      &lt;actual_estimate_ind&gt;&lt;![CDATA[0]]&gt;&lt;/actual_estimate_ind&gt;\n                      &lt;tier_qty_periodicity_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/tier_qty_periodicity_ind&gt;\n                      &lt;cumulative_ind&gt;&lt;![CDATA[0]]&gt;&lt;/cumulative_ind&gt;\n                      &lt;period_sub_category_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/period_sub_category_ind&gt;\n                      &lt;componentize_status_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/componentize_status_ind&gt;\n                      &lt;tier_boundary_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/tier_boundary_ind&gt;\n                      &lt;hidden_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/hidden_cost_ind&gt;\n                      &lt;round_pricing_component_ind&gt;&lt;![CDATA[0]]&gt;&lt;/round_pricing_component_ind&gt;\n                      &lt;manual_override_ind&gt;&lt;![CDATA[0]]&gt;&lt;/manual_override_ind&gt;\n                      &lt;apply_precision_ind&gt;&lt;![CDATA[1]]&gt;&lt;/apply_precision_ind&gt;\n                      &lt;fixed_price&gt;&lt;![CDATA[**92.053**]]&gt;&lt;/fixed_price&gt;\n                      &lt;pricingComponentCount&gt;&lt;![CDATA[0]]&gt;&lt;/pricingComponentCount&gt;\n                      &lt;demand_charge_ind&gt;&lt;![CDATA[0]]&gt;&lt;/demand_charge_ind&gt;\n                      &lt;pricing_type_ind&gt;&lt;![CDATA[0]]&gt;&lt;/pricing_type_ind&gt;\n                      &lt;estimate_audit_num&gt;&lt;![CDATA[19326]]&gt;&lt;/estimate_audit_num&gt;\n                      &lt;comp_function_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/comp_function_ind&gt;\n                      &lt;use_pricing_dt_ind&gt;&lt;![CDATA[0]]&gt;&lt;/use_pricing_dt_ind&gt;\n                      &lt;complex_charges_ind&gt;&lt;![CDATA[0]]&gt;&lt;/complex_charges_ind&gt;\n                      &lt;balance_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/balance_cost_ind&gt;\n                      &lt;rate_override_ind&gt;&lt;![CDATA[0]]&gt;&lt;/rate_override_ind&gt;\n                      &lt;cost_type_cd&gt;&lt;![CDATA[Primary Settlement]]&gt;&lt;/cost_type_cd&gt;\n                      &lt;fx_rate_type_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/fx_rate_type_ind&gt;\n                      &lt;pricing_period_tier_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/pricing_period_tier_ind&gt;\n                      &lt;tier_qty_type_ind&gt;&lt;![CDATA[-1]]&gt;&lt;/tier_qty_type_ind&gt;\n                      &lt;time_based_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/time_based_cost_ind&gt;\n                      &lt;price_uom_cd&gt;&lt;![CDATA[BBL]]&gt;&lt;/price_uom_cd&gt;\n                      &lt;ic_mirror_cost_ind&gt;&lt;![CDATA[0]]&gt;&lt;/ic_mirror_cost_ind&gt;\n                      &lt;rate_lookup_cost_type_ind&gt;&lt;![CDATA[0]]&gt;&lt;/rate_lookup_cost_type_ind&gt;\n                      &lt;price_curr_cd&gt;&lt;![CDATA[USD]]&gt;&lt;/price_curr_cd&gt;\n                      &lt;round_pricing_rule_ind&gt;&lt;![CDATA[0]]&gt;&lt;/round_pricing_rule_ind&gt;\n                      &lt;retain_realized_ind&gt;&lt;![CDATA[0]]&gt;&lt;/retain_realized_ind&gt;\n                    &lt;/TermPriceList&gt;\n                  &lt;/SwapTermList&gt;\n                &lt;/TradeHeader&gt;\n                &lt;LockNumList table=&quot;1&quot;&gt;\n                  &lt;lockinfo&gt;&lt;![CDATA[TRD_HEADER 902495  1       1\n    ACT_CASHFLOW    26599           1\n    ACT_CASHFLOW    26600           1\n    TRD_TERM    6709            1\n    ]]&gt;&lt;/lockinfo&gt;\n                &lt;/LockNumList&gt;\n                &lt;Permissions table=&quot;1&quot;&gt;\n                  &lt;security&gt;&lt;![CDATA[0]]&gt;&lt;/security&gt;\n                &lt;/Permissions&gt;\n              &lt;/GetTrade&gt;\n            &lt;/data&gt;\n          &lt;/mbody&gt;\n        &lt;/response&gt;\n      &lt;/return&gt;\n    &lt;/ns1:GetTradeResponse&gt;\n  &lt;/SOAP-ENV:Body&gt;\n&lt;/SOAP-ENV:Envelope&gt;\n</code></pre>\n<p>I have created the Document object from existing trade string that I have and also tried some code to fetch the element. But frankly speaking I have no idea how I can achieve replacing those values keeping in mind that they are to replaced inside CDATA (Although I wont mind replacing the entire node like trade_qty itself) and that too only under a particular parent.</p>\n<pre><code>private Document parseXML(String xml) throws ParserConfigurationException, SAXException, IOException\n    {\n        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n        dbf.setNamespaceAware(true);\n        DocumentBuilder db = dbf.newDocumentBuilder();\n        Document doc = db.parse(new InputSource(new StringReader(xml)));\n        doc.getDocumentElement().normalize();\n        return doc;\n    }\n\npublic void readXML(String tradeResponseXML)\n    {\n        String replacedXML = &quot;&quot;;\n        Document doc = null;\n        try {\n            doc = parseXML(tradeResponseXML);\n        }\n        catch (ParserConfigurationException | SAXException  | IOException xe)\n        {\n            logger.error(&quot;Error parsing the get response xml: &quot;, xe);\n        }\n\n        if(doc != null)\n        {\n            NodeList nList = doc.getElementsByTagName(SWAP_TERM_LIST_XML_ELEM);\n            for (int i = 0; i &lt; nList.getLength(); i++)\n            {\n                Node nNode = nList.item(i);\n                Element eElement = (Element) nNode;\n                Element cElement =  (Element) eElement.getElementsByTagName(TRADE_QTY_XML_ELEM).item(0);\n                logger.info(&quot;Qty : &quot; + cElement.getTextContent());\n            }\n        }\n    }\n\n</code></pre>\n<p>Or Equivalent of following Dot net code:</p>\n<pre><code>For all node name like Get Trade,\n    if (rootnodes.Name == &quot;GetTrade&quot;)\n    {\n        foreach (XmlNode t_node in rootnodes.ChildNodes)\n        {\n            if (t_node.Name == &quot;TradeHeader&quot;)\n            {\n                foreach (XmlNode s_node in t_node.ChildNodes)\n                {\n                    if (s_node.Name == &quot;SwapTermList&quot;)\n                    {\n\n                        foreach (XmlNode p_node in s_node.ChildNodes)\n                        {\n                            if (p_node.Name == &quot;trade_qty&quot;)\n                            {\n                                ColName = p_node.Name;\n                                ColValue = p_node.InnerText;\n\n                                sResponse1 = sResponse1.Replace(&quot;&lt;trade_qty&gt;&lt;![CDATA[&quot; + Math.Abs(Convert.ToDecimal(ColValue)).ToString() + &quot;]]&gt;&lt;/trade_qty&gt;&quot;, &quot;&lt;trade_qty&gt;&lt;![CDATA[&quot; + Math.Abs(Convert.ToDecimal(s.ItemArray.GetValue(4))).ToString() + &quot;]]&gt;&lt;/trade_qty&gt;&quot;);//(It's lots value.)\n                            }\n\n                            if (p_node.Name == &quot;TermPriceList&quot;)\n                            {\n                                foreach (XmlNode k_node in p_node.ChildNodes)\n                                {\n                                    if (k_node.Name == &quot;fixed_price&quot;)\n                                    {\n                                        ColName = k_node.Name;\n                                        ColValue = k_node.InnerText;\n                                        errorLog.log.LogFile(&quot;COlname to update price: &quot; + ColName);\n                                        errorLog.log.LogFile(&quot;COlValue to update price: &quot; + ColValue);\n                                        sResponse1 = sResponse1.Replace(&quot;&lt;fixed_price&gt;&lt;![CDATA[&quot; + Math.Abs(Convert.ToDecimal(ColValue)).ToString() + &quot;]]&gt;&lt;/fixed_price&gt;&quot;, &quot;&lt;fixed_price&gt;&lt;![CDATA[&quot; + Math.Abs(Convert.ToDecimal(s.ItemArray.GetValue(10))).ToString() + &quot;]]&gt;&lt;/fixed_price&gt;&quot;);// its TradePrice value.\n                                        errorLog.log.LogFile(&quot;Response for fixed price : &quot; + sResponse1);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n\n        }\n    }\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1533714645,"post_id":51740655,"comment_id":90442587,"body_markdown":"How would it know if the customer has an address or not (and thus if address must be null or not) without that left join? Use a join column instead of a join table, and there won&#39;t be any left join anymore.","body":"How would it know if the customer has an address or not (and thus if address must be null or not) without that left join? Use a join column instead of a join table, and there won&#39;t be any left join anymore."},{"owner":{"account_id":2569902,"reputation":53,"user_id":2228913,"display_name":"ndionisi"},"score":0,"creation_date":1533715038,"post_id":51740655,"comment_id":90442812,"body_markdown":"Thanks, makes sense when I load the full Customer entity, but I&#39;m surprised to see the left join also when I&#39;m not loading the full entity, e.g `SELECT c.id from Customer c`","body":"Thanks, makes sense when I load the full Customer entity, but I&#39;m surprised to see the left join also when I&#39;m not loading the full entity, e.g <code>SELECT c.id from Customer c</code>"},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1533717262,"post_id":51740655,"comment_id":90444139,"body_markdown":"Oh yes, missed that. You should report the issue to Hibernate","body":"Oh yes, missed that. You should report the issue to Hibernate"},{"owner":{"account_id":2569902,"reputation":53,"user_id":2228913,"display_name":"ndionisi"},"score":0,"creation_date":1533723571,"post_id":51740655,"comment_id":90448202,"body_markdown":"Just created it: https://hibernate.atlassian.net/browse/HHH-12895. Thanks for your help!","body":"Just created it: <a href=\"https://hibernate.atlassian.net/browse/HHH-12895\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HHH-12895</a>. Thanks for your help!"}],"answers":[{"comments":[{"owner":{"account_id":18486228,"reputation":13,"user_id":13467124,"display_name":"Mihai"},"score":2,"creation_date":1695049530,"post_id":77122877,"comment_id":135968811,"body_markdown":"Understood, thanks, will do!","body":"Understood, thanks, will do!"}],"tags":[],"owner":{"account_id":18486228,"reputation":13,"user_id":13467124,"display_name":"Mihai"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694978622,"creation_date":1694970722,"answer_id":77122877,"question_id":51740655,"body_markdown":"I recommend using `FetchType.LAZY` on the `@ManyToOne` annotation.","title":"Hibernate generates extra left join with many to one association","body":"<p>I recommend using <code>FetchType.LAZY</code> on the <code>@ManyToOne</code> annotation.</p>\n"}],"owner":{"account_id":2569902,"reputation":53,"user_id":2228913,"display_name":"ndionisi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1007,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1694978622,"creation_date":1533712553,"question_id":51740655,"body_markdown":"I have a simple Hibernate `@ManyToOne` mapping between two entities, using an association table thanks to annotation `@JoinTable`.\r\nHere is my mapping:\r\n\r\n    @Entity\r\n    public class Customer {\r\n\r\n        private Long id;\r\n        private Address address;\r\n\r\n        @Id\r\n        @GeneratedValue\r\n        public Long getId() {\r\n            return id;\r\n        }\r\n\r\n\r\n        @ManyToOne\r\n        @JoinTable(\r\n                name = &quot;customer_address_association&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;customer_id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;address_id&quot;)\r\n        )\r\n        public Address getAddress() {\r\n            return address;\r\n        }\r\n\r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n\r\n        public void setAddress(Address address) {\r\n            this.address = address;\r\n        }\r\n    }\r\nand\r\n\r\n    @Entity\r\n    public class Address {\r\n\r\n        private Long id;\r\n        private String street;\r\n\r\n        @Id\r\n        @GeneratedValue\r\n        public Long getId() {\r\n            return id;\r\n        }\r\n\r\n        public String getStreet() {\r\n            return street;\r\n        }\r\n\r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n\r\n        public void setStreet(String street) {\r\n            this.street = street;\r\n        }\r\n    }\r\n\r\nWhen I query on Customer entity, I always get an extra left join to the join table. For example, a HQL query such as `SELECT c.id from Customer c` generates the following SQL query: `select customer0_.id as col_0_0_ from customer customer0_ left outer join customer_address_association customer0_1_ on customer0_.id=customer0_1_.customer_id`.\r\n\r\nFull source code to reproduce is available here: https://github.com/ndionisi/hibernate-extra-left-join\r\n\r\nI reproduce it with Hibernate 5.1, 5.2 and 5.3. Is there any way to prevent Hibernate from generating the left join to `customer_address_association` table? It impacts the performance on large tables.","title":"Hibernate generates extra left join with many to one association","body":"<p>I have a simple Hibernate <code>@ManyToOne</code> mapping between two entities, using an association table thanks to annotation <code>@JoinTable</code>.\nHere is my mapping:</p>\n\n<pre><code>@Entity\npublic class Customer {\n\n    private Long id;\n    private Address address;\n\n    @Id\n    @GeneratedValue\n    public Long getId() {\n        return id;\n    }\n\n\n    @ManyToOne\n    @JoinTable(\n            name = \"customer_address_association\",\n            joinColumns = @JoinColumn(name = \"customer_id\"),\n            inverseJoinColumns = @JoinColumn(name = \"address_id\")\n    )\n    public Address getAddress() {\n        return address;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public void setAddress(Address address) {\n        this.address = address;\n    }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@Entity\npublic class Address {\n\n    private Long id;\n    private String street;\n\n    @Id\n    @GeneratedValue\n    public Long getId() {\n        return id;\n    }\n\n    public String getStreet() {\n        return street;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public void setStreet(String street) {\n        this.street = street;\n    }\n}\n</code></pre>\n\n<p>When I query on Customer entity, I always get an extra left join to the join table. For example, a HQL query such as <code>SELECT c.id from Customer c</code> generates the following SQL query: <code>select customer0_.id as col_0_0_ from customer customer0_ left outer join customer_address_association customer0_1_ on customer0_.id=customer0_1_.customer_id</code>.</p>\n\n<p>Full source code to reproduce is available here: <a href=\"https://github.com/ndionisi/hibernate-extra-left-join\" rel=\"nofollow noreferrer\">https://github.com/ndionisi/hibernate-extra-left-join</a></p>\n\n<p>I reproduce it with Hibernate 5.1, 5.2 and 5.3. Is there any way to prevent Hibernate from generating the left join to <code>customer_address_association</code> table? It impacts the performance on large tables.</p>\n"},{"tags":["java","testing","mockito","datadog"],"answers":[{"comments":[{"owner":{"account_id":3428378,"reputation":337,"user_id":2873514,"accept_rate":75,"display_name":"soso"},"score":0,"creation_date":1694980921,"post_id":77123279,"comment_id":135959635,"body_markdown":"The code is an example (times(3) is something I forgot while converting to dummy test), when I tried ```AdditionalMatchers.aryEq(expectedTags)``` it is still trying with wanted \ndummyClient.record(\n    &quot;action&quot;,\n    42L,\n    [tag1, tag2, tag3]\n);    thank you for issue links and I am going with Mockito.verify(client).record(eq(&quot;action&quot;), eq(42L), any(String[].class)); for now","body":"The code is an example (times(3) is something I forgot while converting to dummy test), when I tried <code>AdditionalMatchers.aryEq(expectedTags)</code> it is still trying with wanted  dummyClient.record(     &quot;action&quot;,     42L,     [tag1, tag2, tag3] );    thank you for issue links and I am going with Mockito.verify(client).record(eq(&quot;action&quot;), eq(42L), any(String[].class)); for now"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1694981287,"post_id":77123279,"comment_id":135959685,"body_markdown":"@soso maybe try `argThat(aryEq(new String[] { &quot;type:total&quot;, &quot;type:cpu&quot;, ... }), String[].class)` – that might help. If it does, I will update my answer","body":"@soso maybe try <code>argThat(aryEq(new String[] { &quot;type:total&quot;, &quot;type:cpu&quot;, ... }), String[].class)</code> – that might help. If it does, I will update my answer"},{"owner":{"account_id":3428378,"reputation":337,"user_id":2873514,"accept_rate":75,"display_name":"soso"},"score":0,"creation_date":1694982958,"post_id":77123279,"comment_id":135959888,"body_markdown":"no, this did not help","body":"no, this did not help"}],"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694978383,"creation_date":1694978383,"answer_id":77123279,"question_id":77123108,"body_markdown":"You should be able to use `AdditionalMatchers`, no need for a custom matcher:\r\n\r\n```\r\npublic void verifyTagsAre(final String... expectedTags) {\r\n    Mockito.verify(client).record(eq(&quot;action&quot;), eq(42L),\r\n            AdditionalMatchers.aryEq(expectedTags));\r\n    Mockito.verify(client, Mockito.times(3)).histogram(eq(&quot;someAspect&quot;), anyLong(), AdditionalMatchers.aryEq(new String[] { &quot;type:total&quot;, &quot;type:cpu&quot;, &quot;type:wait&quot;, &quot;type:sql&quot; }));\r\n    Mockito.verifyNoMoreInteractions(client);\r\n}\r\n```\r\n\r\nSee GitHub issues [mockito#1593](https://github.com/mockito/mockito/issues/1593) and [mockito#2835](https://github.com/mockito/mockito/pull/2835), especially the bit about `argThat`:\r\n\r\n&gt; `argThat()` behaviour change\r\n&gt;\r\n&gt; BREAKING CHANGE: The behaviour of all methods in `MockitoHamcrest`, such as `argThat()`, when passed to a varargs parameter has changed. Prior to Mockito v5, these matchers would match each element in the varargs parameter, matching any number of elements 0...n. From Mockito v5 onwards these matchers, when passed to a varargs parameter, will match invocations where a single value is passed to the varargs parameter. To match any number of values passed to the varargs parameter, pass use suitable Hamcrest Matcher and the varargs array type to `argThat`. For example, given a `String...` varargs parameter, use: `argThat(isA(String[].class), String[].class)`.\r\n\r\nAnd I hope the code is only an example for the question, because there is no real code being tested. You have a Mockito mock object, on which you call methods, then verify that the method has been called. I&#39;m not even sure that the test has ever worked – the `histogram` method is called only once, but the verifier checks `times(3)` (with argument types that do not actually match: `expectedTags` are never passed to `histogram`).","title":"How to Make Mockito Verification of Varargs Match Actual Invocation?","body":"<p>You should be able to use <code>AdditionalMatchers</code>, no need for a custom matcher:</p>\n<pre><code>public void verifyTagsAre(final String... expectedTags) {\n    Mockito.verify(client).record(eq(&quot;action&quot;), eq(42L),\n            AdditionalMatchers.aryEq(expectedTags));\n    Mockito.verify(client, Mockito.times(3)).histogram(eq(&quot;someAspect&quot;), anyLong(), AdditionalMatchers.aryEq(new String[] { &quot;type:total&quot;, &quot;type:cpu&quot;, &quot;type:wait&quot;, &quot;type:sql&quot; }));\n    Mockito.verifyNoMoreInteractions(client);\n}\n</code></pre>\n<p>See GitHub issues <a href=\"https://github.com/mockito/mockito/issues/1593\" rel=\"nofollow noreferrer\">mockito#1593</a> and <a href=\"https://github.com/mockito/mockito/pull/2835\" rel=\"nofollow noreferrer\">mockito#2835</a>, especially the bit about <code>argThat</code>:</p>\n<blockquote>\n<p><code>argThat()</code> behaviour change</p>\n<p>BREAKING CHANGE: The behaviour of all methods in <code>MockitoHamcrest</code>, such as <code>argThat()</code>, when passed to a varargs parameter has changed. Prior to Mockito v5, these matchers would match each element in the varargs parameter, matching any number of elements 0...n. From Mockito v5 onwards these matchers, when passed to a varargs parameter, will match invocations where a single value is passed to the varargs parameter. To match any number of values passed to the varargs parameter, pass use suitable Hamcrest Matcher and the varargs array type to <code>argThat</code>. For example, given a <code>String...</code> varargs parameter, use: <code>argThat(isA(String[].class), String[].class)</code>.</p>\n</blockquote>\n<p>And I hope the code is only an example for the question, because there is no real code being tested. You have a Mockito mock object, on which you call methods, then verify that the method has been called. I'm not even sure that the test has ever worked – the <code>histogram</code> method is called only once, but the verifier checks <code>times(3)</code> (with argument types that do not actually match: <code>expectedTags</code> are never passed to <code>histogram</code>).</p>\n"}],"owner":{"account_id":3428378,"reputation":337,"user_id":2873514,"accept_rate":75,"display_name":"soso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694978383,"creation_date":1694975174,"question_id":77123108,"body_markdown":"I recently upgraded from mockito-core version 1.10.19 to the latest version(5.5.0). I&#39;ve noticed a change in behavior when verifying a method call with a varargs parameter.\r\n\r\nIn the older version, I used a custom matcher with the following signature:\r\n```\r\nprivate class CustomMatcher&lt;T&gt; extends ArgumentMatcher&lt;T[]&gt; implements VarargMatcher\r\n\r\n```\r\nHowever, in the latest version, due to changes in ArgumentMatcher, I had to modify the signature to:\r\n```\r\nprivate class CustomMatcher&lt;T&gt; implements ArgumentMatcher&lt;T[]&gt;, Serializable\r\n\r\n```\r\n\r\nHere&#39;s a simplified version of my code:\r\n```\r\npackage com.mockito.varargs.test;\r\n\r\nimport org.mockito.ArgumentMatcher;\r\nimport org.mockito.Mockito;\r\n\r\nimport java.io.Serializable;\r\nimport java.lang.reflect.Array;\r\nimport java.util.Arrays;\r\n\r\nimport static org.mockito.ArgumentMatchers.*;\r\n\r\npublic class TestHelper {\r\n\r\n    private final DummyClient client = Mockito.mock(DummyClient.class);\r\n\r\n    public TestHelper() {\r\n    }\r\n\r\n    public void execute(String... tags) {\r\n        client.record(&quot;action&quot;, 42L, tags);\r\n        client.histogram(&quot;someAspect&quot;, 100L, &quot;type:total&quot;, &quot;type:cpu&quot;, &quot;type:wait&quot;, &quot;type:sql&quot;);\r\n        new Verifier().verifyTagsAre(&quot;tag1&quot;, &quot;tag2&quot;, &quot;tag3&quot;);\r\n    }\r\n\r\n    public class Verifier {\r\n        public void verifyTagsAre(final String... expectedTags) {\r\n            Mockito.verify(client).record(eq(&quot;action&quot;), eq(42L),\r\n                    argThat(new CustomMatcher&lt;&gt;(expectedTags)));\r\n            Mockito.verify(client, Mockito.times(3)).histogram(eq(&quot;someAspect&quot;), anyLong(),\r\n                    argThat(new CustomAnyVarargMatcher&lt;&gt;(\r\n                            new CustomMatcher&lt;&gt;(&quot;type:total&quot;, expectedTags),\r\n                            new CustomMatcher&lt;&gt;(&quot;type:cpu&quot;, expectedTags),\r\n                            new CustomMatcher&lt;&gt;(&quot;type:wait&quot;, expectedTags),\r\n                            new CustomMatcher&lt;&gt;(&quot;type:sql&quot;, expectedTags)\r\n                    )));\r\n            Mockito.verifyNoMoreInteractions(client);\r\n        }\r\n    }\r\n\r\n    private class CustomMatcher&lt;T&gt; implements ArgumentMatcher&lt;T[]&gt;, Serializable {\r\n        private T[] expectedValues;\r\n\r\n        CustomMatcher(T... expectedValues) {\r\n            this.expectedValues = expectedValues;\r\n        }\r\n\r\n        CustomMatcher(T t, T... expectedValues) {\r\n            T[] values = (T[]) Array.newInstance(t.getClass(), expectedValues.length + 1);\r\n            System.arraycopy(expectedValues, 0, values, 1, expectedValues.length);\r\n            values[0] = t;\r\n            this.expectedValues = values;\r\n        }\r\n\r\n        @Override\r\n        public boolean matches(T[] args) {\r\n            return Arrays.equals(expectedValues, args);\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return Arrays.toString(expectedValues);\r\n        }\r\n    }\r\n\r\n    private class CustomAnyVarargMatcher&lt;T&gt; implements ArgumentMatcher&lt;T&gt;, Serializable {\r\n        private ArgumentMatcher&lt;T&gt;[] matchers;\r\n\r\n        CustomAnyVarargMatcher(ArgumentMatcher&lt;T&gt;... matchers) {\r\n            this.matchers = matchers;\r\n        }\r\n\r\n        @Override\r\n        public boolean matches(T args) {\r\n            for (ArgumentMatcher&lt;T&gt; matcher : matchers) {\r\n                if (matcher.matches(args))\r\n                    return true;\r\n            }\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return Arrays.toString(matchers);\r\n        }\r\n    }\r\n\r\n    interface DummyClient {\r\n        void record(String action, long value, String... tags);\r\n        void histogram(String aspect, long value, String... tags);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new TestHelper().execute(&quot;tag1&quot;, &quot;tag2&quot;, &quot;tag3&quot;);\r\n    }\r\n}\r\n```\r\nWhen the verification fails, I get this error:\r\n```\r\nException in thread &quot;main&quot; Argument(s) are different! Wanted:\r\ndummyClient.record(\r\n    &quot;action&quot;,\r\n    42L,\r\n    [tag1, tag2, tag3]\r\n);\r\n-&gt; at com.mockito.varargs.test.TestHelper$Verifier.verifyTagsAre(TestHelper.java:26)\r\nActual invocations have different arguments:\r\ndummyClient.record(\r\n    &quot;action&quot;,\r\n    42L,\r\n    &quot;tag1&quot;,\r\n    &quot;tag2&quot;,\r\n    &quot;tag3&quot;\r\n);\r\n```\r\n\r\nI was expecting the expected output to match the actual invocation, as it did in version 1.10.19. Is there a way to achieve this in the latest version? Or is there a way to compare the varargs as arrays in Mockito, so that the verification passes if the arrays are equal?","title":"How to Make Mockito Verification of Varargs Match Actual Invocation?","body":"<p>I recently upgraded from mockito-core version 1.10.19 to the latest version(5.5.0). I've noticed a change in behavior when verifying a method call with a varargs parameter.</p>\n<p>In the older version, I used a custom matcher with the following signature:</p>\n<pre><code>private class CustomMatcher&lt;T&gt; extends ArgumentMatcher&lt;T[]&gt; implements VarargMatcher\n\n</code></pre>\n<p>However, in the latest version, due to changes in ArgumentMatcher, I had to modify the signature to:</p>\n<pre><code>private class CustomMatcher&lt;T&gt; implements ArgumentMatcher&lt;T[]&gt;, Serializable\n\n</code></pre>\n<p>Here's a simplified version of my code:</p>\n<pre><code>package com.mockito.varargs.test;\n\nimport org.mockito.ArgumentMatcher;\nimport org.mockito.Mockito;\n\nimport java.io.Serializable;\nimport java.lang.reflect.Array;\nimport java.util.Arrays;\n\nimport static org.mockito.ArgumentMatchers.*;\n\npublic class TestHelper {\n\n    private final DummyClient client = Mockito.mock(DummyClient.class);\n\n    public TestHelper() {\n    }\n\n    public void execute(String... tags) {\n        client.record(&quot;action&quot;, 42L, tags);\n        client.histogram(&quot;someAspect&quot;, 100L, &quot;type:total&quot;, &quot;type:cpu&quot;, &quot;type:wait&quot;, &quot;type:sql&quot;);\n        new Verifier().verifyTagsAre(&quot;tag1&quot;, &quot;tag2&quot;, &quot;tag3&quot;);\n    }\n\n    public class Verifier {\n        public void verifyTagsAre(final String... expectedTags) {\n            Mockito.verify(client).record(eq(&quot;action&quot;), eq(42L),\n                    argThat(new CustomMatcher&lt;&gt;(expectedTags)));\n            Mockito.verify(client, Mockito.times(3)).histogram(eq(&quot;someAspect&quot;), anyLong(),\n                    argThat(new CustomAnyVarargMatcher&lt;&gt;(\n                            new CustomMatcher&lt;&gt;(&quot;type:total&quot;, expectedTags),\n                            new CustomMatcher&lt;&gt;(&quot;type:cpu&quot;, expectedTags),\n                            new CustomMatcher&lt;&gt;(&quot;type:wait&quot;, expectedTags),\n                            new CustomMatcher&lt;&gt;(&quot;type:sql&quot;, expectedTags)\n                    )));\n            Mockito.verifyNoMoreInteractions(client);\n        }\n    }\n\n    private class CustomMatcher&lt;T&gt; implements ArgumentMatcher&lt;T[]&gt;, Serializable {\n        private T[] expectedValues;\n\n        CustomMatcher(T... expectedValues) {\n            this.expectedValues = expectedValues;\n        }\n\n        CustomMatcher(T t, T... expectedValues) {\n            T[] values = (T[]) Array.newInstance(t.getClass(), expectedValues.length + 1);\n            System.arraycopy(expectedValues, 0, values, 1, expectedValues.length);\n            values[0] = t;\n            this.expectedValues = values;\n        }\n\n        @Override\n        public boolean matches(T[] args) {\n            return Arrays.equals(expectedValues, args);\n        }\n\n        @Override\n        public String toString() {\n            return Arrays.toString(expectedValues);\n        }\n    }\n\n    private class CustomAnyVarargMatcher&lt;T&gt; implements ArgumentMatcher&lt;T&gt;, Serializable {\n        private ArgumentMatcher&lt;T&gt;[] matchers;\n\n        CustomAnyVarargMatcher(ArgumentMatcher&lt;T&gt;... matchers) {\n            this.matchers = matchers;\n        }\n\n        @Override\n        public boolean matches(T args) {\n            for (ArgumentMatcher&lt;T&gt; matcher : matchers) {\n                if (matcher.matches(args))\n                    return true;\n            }\n            return false;\n        }\n\n        @Override\n        public String toString() {\n            return Arrays.toString(matchers);\n        }\n    }\n\n    interface DummyClient {\n        void record(String action, long value, String... tags);\n        void histogram(String aspect, long value, String... tags);\n    }\n\n    public static void main(String[] args) {\n        new TestHelper().execute(&quot;tag1&quot;, &quot;tag2&quot;, &quot;tag3&quot;);\n    }\n}\n</code></pre>\n<p>When the verification fails, I get this error:</p>\n<pre><code>Exception in thread &quot;main&quot; Argument(s) are different! Wanted:\ndummyClient.record(\n    &quot;action&quot;,\n    42L,\n    [tag1, tag2, tag3]\n);\n-&gt; at com.mockito.varargs.test.TestHelper$Verifier.verifyTagsAre(TestHelper.java:26)\nActual invocations have different arguments:\ndummyClient.record(\n    &quot;action&quot;,\n    42L,\n    &quot;tag1&quot;,\n    &quot;tag2&quot;,\n    &quot;tag3&quot;\n);\n</code></pre>\n<p>I was expecting the expected output to match the actual invocation, as it did in version 1.10.19. Is there a way to achieve this in the latest version? Or is there a way to compare the varargs as arrays in Mockito, so that the verification passes if the arrays are equal?</p>\n"},{"tags":["java","hbase","dependency-management"],"answers":[{"tags":[],"owner":{"account_id":21458715,"reputation":118,"user_id":15809896,"display_name":"Akram BEN GHANEM"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694957126,"creation_date":1694957126,"answer_id":77121999,"question_id":77121794,"body_markdown":"I finally found the source code, of this dependency: \r\n\r\n&gt; `import org.apache.hadoop.hbase.unsafe.HBasePlatformDependent;`\r\n\r\nwhich is included from another mirror repository related the HBASE project with the name of the name of [https://github.com/apache/hbase-thirdparty][1]\r\nand the class I was searching for is located under: \r\n\r\n&gt; `hbase-unsafe/src/main/java/org/apache/hadoop/hbase/unsafe/HBasePlatformDependent.java`\r\n\r\nThe process I followed to find out where the package is located is to search for any related project to the HBASE project, as turned out this class is used in many other packages and I succeeded finally to get access to a common code-base which in my case is `hbase-thirdparty`. Maybe it&#39;s a not the best method but it worked.\r\n\r\n  [1]: https://github.com/apache/hbase-thirdparty/","title":"Catching a Dependency Issue in an Apache HBase Project in Java","body":"<p>I finally found the source code, of this dependency:</p>\n<blockquote>\n<p><code>import org.apache.hadoop.hbase.unsafe.HBasePlatformDependent;</code></p>\n</blockquote>\n<p>which is included from another mirror repository related the HBASE project with the name of the name of <a href=\"https://github.com/apache/hbase-thirdparty/\" rel=\"nofollow noreferrer\">https://github.com/apache/hbase-thirdparty</a>\nand the class I was searching for is located under:</p>\n<blockquote>\n<p><code>hbase-unsafe/src/main/java/org/apache/hadoop/hbase/unsafe/HBasePlatformDependent.java</code></p>\n</blockquote>\n<p>The process I followed to find out where the package is located is to search for any related project to the HBASE project, as turned out this class is used in many other packages and I succeeded finally to get access to a common code-base which in my case is <code>hbase-thirdparty</code>. Maybe it's a not the best method but it worked.</p>\n"}],"owner":{"account_id":21458715,"reputation":118,"user_id":15809896,"display_name":"Akram BEN GHANEM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77121999,"answer_count":1,"score":0,"last_activity_date":1694977727,"creation_date":1694953829,"question_id":77121794,"body_markdown":"While I am diving today in the source code of [apache hbase project](https://github.com/apache/hbase/), I encountered some difficulties to follow up with a dependency to access its source code: `HBase Unsafe`, which is mentioned in the following file and some other files as:\r\n\r\n&gt; [`import org.apache.hadoop.hbase.unsafe.HBasePlatformDependent;`](https://github.com/apache/hbase/blob/master/hbase-common/src/main/java/org/apache/hadoop/hbase/util/ByteBufferUtils.java#L34)\r\n\r\nI tried to look for this package: `org.apache.hadoop.hbase.unsafe`, but nothing showed up.\r\n\r\nAlso, I checked the dependencies with maven, pom.xml and searched it with my IDE, and also searched online, but nothing seems to give any direct link to it.\r\n\r\nIts auto-generated? if yes how can I know how its done? if not, is there a tool or method to follow the links for this dependency in the future?\r\n\r\nI expect to access the source code of this class: `org.apache.hadoop.hbase.unsafe`. and the method to re-do this process in the future.\r\n\r\n","title":"Catching a Dependency Issue in an Apache HBase Project in Java","body":"<p>While I am diving today in the source code of <a href=\"https://github.com/apache/hbase/\" rel=\"nofollow noreferrer\">apache hbase project</a>, I encountered some difficulties to follow up with a dependency to access its source code: <code>HBase Unsafe</code>, which is mentioned in the following file and some other files as:</p>\n<blockquote>\n<p><a href=\"https://github.com/apache/hbase/blob/master/hbase-common/src/main/java/org/apache/hadoop/hbase/util/ByteBufferUtils.java#L34\" rel=\"nofollow noreferrer\"><code>import org.apache.hadoop.hbase.unsafe.HBasePlatformDependent;</code></a></p>\n</blockquote>\n<p>I tried to look for this package: <code>org.apache.hadoop.hbase.unsafe</code>, but nothing showed up.</p>\n<p>Also, I checked the dependencies with maven, pom.xml and searched it with my IDE, and also searched online, but nothing seems to give any direct link to it.</p>\n<p>Its auto-generated? if yes how can I know how its done? if not, is there a tool or method to follow the links for this dependency in the future?</p>\n<p>I expect to access the source code of this class: <code>org.apache.hadoop.hbase.unsafe</code>. and the method to re-do this process in the future.</p>\n"},{"tags":["java","spring-boot","asynchronous","spring-webflux","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694901988,"creation_date":1694901988,"answer_id":77119780,"question_id":77118972,"body_markdown":"Using webflux and reactive approach never wait or perform blocking operation until you know what you are doing. Use Flux/Mono api to define chain of transformations. In your case, you can execute all the requests by Webclient, obtain their Monos, then define a Mono that completes, when source Monos are finished:\r\n\r\n    Mono&lt;ResponseObject&gt; apiMethodHandler() {\r\n      Mono&lt;SomeServiceResponse&gt; response1Mono = webclient.get()...;\r\n      Mono&lt;AnotherServiceResponse&gt; response2Mono = webclient.get()...;\r\n      return Mono.when(response1Mono, response2Mono).map(v -&gt; new ResponseObject(&quot;all good&quot;));\r\n    } \r\n\r\nDepending on details some other options are available. For example, if you need all the results to compute a response, you can use `.collectList`:\r\n\r\n    Mono&lt;ResponseObject&gt; apiMethodHandler() {\r\n      Mono&lt;ServiceResponse&gt; response1Mono = webclient.get()...;\r\n      Mono&lt;ServiceResponse&gt; response2Mono = webclient.get()...;\r\n      return Flux.merge(response1Mono, response2Mono)\r\n        .collectList(responsesList -&gt; Mono.just(new ResponseObject(responsesList)));\r\n    } ","title":"Spring Boot, WebClient, Asynchronous Calls and Waiting","body":"<p>Using webflux and reactive approach never wait or perform blocking operation until you know what you are doing. Use Flux/Mono api to define chain of transformations. In your case, you can execute all the requests by Webclient, obtain their Monos, then define a Mono that completes, when source Monos are finished:</p>\n<pre><code>Mono&lt;ResponseObject&gt; apiMethodHandler() {\n  Mono&lt;SomeServiceResponse&gt; response1Mono = webclient.get()...;\n  Mono&lt;AnotherServiceResponse&gt; response2Mono = webclient.get()...;\n  return Mono.when(response1Mono, response2Mono).map(v -&gt; new ResponseObject(&quot;all good&quot;));\n} \n</code></pre>\n<p>Depending on details some other options are available. For example, if you need all the results to compute a response, you can use <code>.collectList</code>:</p>\n<pre><code>Mono&lt;ResponseObject&gt; apiMethodHandler() {\n  Mono&lt;ServiceResponse&gt; response1Mono = webclient.get()...;\n  Mono&lt;ServiceResponse&gt; response2Mono = webclient.get()...;\n  return Flux.merge(response1Mono, response2Mono)\n    .collectList(responsesList -&gt; Mono.just(new ResponseObject(responsesList)));\n} \n</code></pre>\n"}],"owner":{"account_id":6123024,"reputation":171,"user_id":4775976,"display_name":"Software"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77119780,"answer_count":1,"score":0,"last_activity_date":1694977657,"creation_date":1694887195,"question_id":77118972,"body_markdown":"I need advice/recommendations. I have not coded the program yet. I plan to code a Spring  Boot RESTful web service. In the web service, I&#39;m planning to make several asynchronous \r\ncalls to other external RESTful web services using Spring Wenflux&#39;s WebClient. I need to wait for all these asynchronous call responses until they all have completed before moving to the next program task. The question is how do I wait? I&#39;m planning to record the WebClient&#39;s handler object references and have an infinite loop checking that all synchronous responses have been processed. Is there a better way of doing this?","title":"Spring Boot, WebClient, Asynchronous Calls and Waiting","body":"<p>I need advice/recommendations. I have not coded the program yet. I plan to code a Spring  Boot RESTful web service. In the web service, I'm planning to make several asynchronous\ncalls to other external RESTful web services using Spring Wenflux's WebClient. I need to wait for all these asynchronous call responses until they all have completed before moving to the next program task. The question is how do I wait? I'm planning to record the WebClient's handler object references and have an infinite loop checking that all synchronous responses have been processed. Is there a better way of doing this?</p>\n"},{"tags":["java","arraylist","rgb"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1694983761,"post_id":77123225,"comment_id":135959966,"body_markdown":"I’d first test opening the images, maybe in an image editor or using ImageIO.read - this will let you know if the images are corrupted or your code is wrong","body":"I’d first test opening the images, maybe in an image editor or using ImageIO.read - this will let you know if the images are corrupted or your code is wrong"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1694985516,"post_id":77123225,"comment_id":135960160,"body_markdown":"I&#39;d also consdier having a look at something like [this example](https://github.com/nayuki/BMP-IO/blob/master/src/io/nayuki/bmpio/BmpReader.java) to compare the reading of the BMP data","body":"I&#39;d also consdier having a look at something like <a href=\"https://github.com/nayuki/BMP-IO/blob/master/src/io/nayuki/bmpio/BmpReader.java\" rel=\"nofollow noreferrer\">this example</a> to compare the reading of the BMP data"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1694986137,"post_id":77123225,"comment_id":135960221,"body_markdown":"Other people will find your code much more readable if you remove “this is the statement that will” from every comment that contains it.  And remove “this is the” from all other comments.","body":"Other people will find your code much more readable if you remove “this is the statement that will” from every comment that contains it.  And remove “this is the” from all other comments."}],"owner":{"account_id":26485705,"reputation":1,"user_id":22577225,"display_name":"Seb Ar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694977421,"creation_date":1694977421,"question_id":77123225,"body_markdown":"I am making a class in Java that receives a BMP image, from which I must generate three images each for its RGB tone, that is, a copy of the image only with the red tone, another only with the green tone and another only with the blue hue, for this I can only use ArrayList or normal Arrays, that is, I cannot use classes like BufferedImage. \r\n\r\nThe images are generated for me but they appear corrupted and cannot be opened, when I open them it appears that the format of the generated image is incompatible. The code is the following:\r\n\r\n\r\n```\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\n\r\npublic class BmpHandlerCore {  // this is the original class\r\n    public static void separateRGB(String fileName) { // this is the method that I created \r\n        try {\r\n           FileInputStream fileInputStream = new FileInputStream(fileName);\r\n           byte[] header = new byte[54];\r\n           fileInputStream.read(header);\r\n           int width = byteArrayToInt(header, 18);\r\n           int height = byteArrayToInt(header, 22);\r\n           int imageSize = byteArrayToInt(header, 34); // this is the size of the image in bytes (the size of the image is the size of the header + the size of the image data)\r\n           byte[] imageData = new byte[imageSize]; // this is the array that will hold the image data (the size of the array is the size of the image in bytes)\r\n           fileInputStream.read(imageData); // this is the method that will read the image data into the array imageData\r\n           ArrayList&lt;Byte&gt; redChannel = new ArrayList&lt;&gt;(); // this is the array that will hold the red channel  (the size of the array is the size of the image in bytes)\r\n           ArrayList&lt;Byte&gt; greenChannel = new ArrayList&lt;&gt;(); // this is the array that will hold the green channel  (the size of the array is the size of the image in bytes) \r\n           ArrayList&lt;Byte&gt; blueChannel = new ArrayList&lt;&gt;(); // this is the array that will hold the blue channel  (the size of the array is the size of the image in bytes)\r\n           for (int i = 0; i &lt; imageSize; i += 3) { // this is the loop that will iterate through the image data array and separate the RGB channels into their respective arrays (redChannel, greenChannel, blueChannel)\r\n           blueChannel.add(imageData[i]); // this is the statement that will add the blue channel data to the blueChannel array (the blue channel data is the first byte of every pixel) \r\n           greenChannel.add(imageData[i + 1]); // this is the statement that will add the green channel data to the greenChannel array (the green channel data is the second byte of every pixel) \r\n           redChannel.add(imageData[i + 2]); // this is the statement that will add the red channel data to the redChannel array (the red channel data is the third byte of every pixel)\r\n         }\r\n        saveImage(redChannel, width, height, &quot;Image-red.bmp&quot;); // this is the statement that will save the red channel data to a new file called &quot;Image-red.bmp&quot; \r\n        saveImage(greenChannel, width, height, &quot;Image-green.bmp&quot;); // this is the statement that will save the green channel data to a new file called &quot;Image-green.bmp&quot; \r\n        saveImage(blueChannel, width, height, &quot;Image-blue.bmp&quot;); // this is the statement that will save the blue channel data to a new file called &quot;Image-blue.bmp&quot; \r\n        fileInputStream.close(); // this is the statement that will close the fileInputStream \r\n    } catch (IOException e) { // this is the catch statement that will catch any IOExceptions that may occur \r\n        e.printStackTrace(); // this is the statement that will print the stack trace of the IOException \r\n    }\r\n}  \r\n  public static void generateSepiaTone(String fileName) { // this is the method that will generate the sepia tone effect \r\n     try { \r\n      FileInputStream fileInputStream = new FileInputStream(fileName); // this is the statement that will create a new FileInputStream object called fileInputStream \r\n        byte[] header = new byte[54]; // this is the array that will hold the header data (the size of the array is 54 bytes) \r\n        fileInputStream.read(header); // this is the statement that will read the header data into the header array   \r\n        int width = byteArrayToInt(header, 18); // this is the statement that will convert the width data from the header array into an integer and store it in the variable width \r\n        int height = byteArrayToInt(header, 22); // this is the statement that will convert the height data from the header array into an integer and store it in the variable height \r\n        int imageSize = byteArrayToInt(header, 34); // this is the statement that will convert the image size data from the header array into an integer and store it in the variable imageSize \r\n        byte[] imageData = new byte[imageSize]; // this is the array that will hold the image data (the size of the array is the size of the image in bytes) \r\n        fileInputStream.read(imageData); // this is the statement that will read the image data into the imageData array \r\n        ArrayList&lt;Byte&gt; sepiaTone = new ArrayList&lt;&gt;(); // this is the array that will hold the sepia tone data (the size of the array is the size of the image in bytes) \r\n        for (int i = 0; i &lt; imageSize; i += 3) { // this is the loop that will iterate through the image data array and apply the sepia tone effect to each pixel \r\n           int blue = imageData[i] &amp; 0xFF; // this is the statement that will convert the blue channel data from the imageData array into an integer and store it in the variable blue \r\n           int green = imageData[i + 1] &amp; 0xFF; // this is the statement that will convert the green channel data from the imageData array into an integer and store it in the variable green \r\n           int red = imageData[i + 2] &amp; 0xFF; // this is the statement that will convert the red channel data from the imageData array into an integer and store it in the variable red \r\n           int sepiaBlue = (int) (0.272 * red + 0.534 * green + 0.131 * blue); // this is the statement that will calculate the sepia blue channel data and store it in the variable sepiaBlue \r\n           int sepiaGreen = (int) (0.349 * red + 0.686 * green + 0.168 * blue); // this is the statement that will calculate the sepia green channel data and store it in the variable sepiaGreen \r\n           int sepiaRed = (int) (0.393 * red + 0.769 * green + 0.189 * blue); // this is the statement that will calculate the sepia red channel data and store it in the variable sepiaRed \r\n          sepiaTone.add((byte) sepiaBlue); // this is the statement that will add the sepia blue channel data to the sepiaTone array (the sepia blue channel data is the first byte of every pixel) \r\n          sepiaTone.add((byte) sepiaGreen); // this is the statement that will add the sepia green channel data to the sepiaTone array (the sepia green channel data is the second byte of every pixel) \r\n          sepiaTone.add((byte) sepiaRed); // this is the statement that will add the sepia red channel data to the sepiaTone array (the sepia red channel data is the third byte of every pixel)\r\n         } \r\n        saveImage(sepiaTone, width, height, &quot;Image-sepia.bmp&quot;); // this is the statement that will save the sepia tone data to a new file called &quot;Image-sepia.bmp&quot; \r\n        fileInputStream.close(); // this is the statement that will close the fileInputStream \r\n     } catch (IOException e) { // this is the catch statement that will catch any IOExceptions that may occur \r\n        e.printStackTrace(); // this is the statement that will print the stack trace of the IOException \r\n     } \r\n   } \r\n   public static void saveImage(ArrayList&lt;Byte&gt; imageData, int width, int height, String fileName) { // this is the method that will save the image data to a new file \r\n    try { \r\n     FileOutputStream fileOutputStream = new FileOutputStream(fileName); // this is the statement that will create a new FileOutputStream object called fileOutputStream \r\n    byte[] header = createBmpHeader(width, height, imageData.size()); // this is the statement that will create a new header array and store it in the variable header \r\n    fileOutputStream.write(header); // this is the statement that will write the header data to the fileOutputStream \r\n    for (int i = 0; i &lt; imageData.size(); i++) { // this is the loop that will iterate through the imageData array and write the image data to the fileOutputStream \r\n      fileOutputStream.write(imageData.get(i)); // this is the statement that will write the image data to the fileOutputStream \r\n       } \r\n       fileOutputStream.close(); // this is the statement that will close the fileOutputStream \r\n     } catch (IOException e) { // this is the catch statement that will catch any IOExceptions that may occur \r\n         e.printStackTrace(); // this is the statement that will print the stack trace of the IOException \r\n      } \r\n   } \r\n\r\n   private static byte[] createBmpHeader(int width, int height, int imageSize) { // this is the method that will create a new header array \r\n        byte[] header = new byte[54]; // this is the array that will hold the header data (the size of the array is 54 bytes) \r\n        header[0] = 0x42; // this is the statement that will set the first byte of the header array to 0x42 \r\n        header[1] = 0x4D; // this is the statement that will set the second byte of the header array to 0x4D \r\n        header[2] = (byte) (imageSize + 54); // this is the statement that will set the third byte of the header array to the size of the image in bytes plus 54 \r\n        header[10] = 0x36; // this is the statement that will set the eleventh byte of the header array to 0x36 \r\n        header[14] = 0x28; // this is the statement that will set the fifteenth byte of the header array to 0x28 \r\n        header[18] = (byte) width; // this is the statement that will set the nineteenth byte of the header array to the width of the image \r\n        header[19] = (byte) (width &gt;&gt; 8); // this is the statement that will set the twentieth byte of the header array to the width of the image shifted right by 8 bits \r\n        header[20] = (byte) (width &gt;&gt; 16); // this is the statement that will set the twenty-first byte of the header array to the width of the image shifted right by 16 bits \r\n        header[22] = (byte) height; // this is the statement that will set the twenty-third byte of the header array to the height of the image \r\n        header[23] = (byte) (height &gt;&gt; 8); // this is the statement that will set the twenty-fourth byte of the header array to the height of the image shifted right by 8 bits \r\n        header[24] = (byte) (height &gt;&gt; 16); // this is the statement that will set the twenty-fifth byte of the header array to the height of the image shifted right by 16 bits \r\n        header[34] = (byte) imageSize; // this is the statement that will set the thirty-fifth byte of the header array to the size of the image in bytes \r\n        header[35] = (byte) (imageSize &gt;&gt; 8); // this is the statement that will set the thirty-sixth byte of the header array to the size of the image in bytes shifted right by 8 bits \r\n        header[36] = (byte) (imageSize &gt;&gt; 16); // this is the statement that will set the thirty-seventh byte of the header array to the size of the image in bytes shifted right by 16 bits \r\n        header[37] = (byte) (imageSize &gt;&gt; 24); // this is the statement that will set the thirty-eighth byte of the header array to the size of the image in bytes shifted right by 24 bits \r\n        return header; // this is the statement that will return the header array \r\n        }  \r\n    private static int byteArrayToInt(byte[] byteArray, int index) { // this is the method that will convert a byte array to an integer \r\n        return byteArray[index] &amp; 0xFF | (byteArray[index + 1] &amp; 0xFF) &lt;&lt; 8 | (byteArray[index + 2] &amp; 0xFF) &lt;&lt; 16 | (byteArray[index + 3] &amp; 0xFF) &lt;&lt; 24; // this is the statement that will convert a byte array to an integer and return it \r\n      }\r\n  } \r\n```\r\n\r\n ","title":"Java class does not correctly generate RGB or sepia images","body":"<p>I am making a class in Java that receives a BMP image, from which I must generate three images each for its RGB tone, that is, a copy of the image only with the red tone, another only with the green tone and another only with the blue hue, for this I can only use ArrayList or normal Arrays, that is, I cannot use classes like BufferedImage.</p>\n<p>The images are generated for me but they appear corrupted and cannot be opened, when I open them it appears that the format of the generated image is incompatible. The code is the following:</p>\n<pre><code>import java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.ArrayList;\n\npublic class BmpHandlerCore {  // this is the original class\n    public static void separateRGB(String fileName) { // this is the method that I created \n        try {\n           FileInputStream fileInputStream = new FileInputStream(fileName);\n           byte[] header = new byte[54];\n           fileInputStream.read(header);\n           int width = byteArrayToInt(header, 18);\n           int height = byteArrayToInt(header, 22);\n           int imageSize = byteArrayToInt(header, 34); // this is the size of the image in bytes (the size of the image is the size of the header + the size of the image data)\n           byte[] imageData = new byte[imageSize]; // this is the array that will hold the image data (the size of the array is the size of the image in bytes)\n           fileInputStream.read(imageData); // this is the method that will read the image data into the array imageData\n           ArrayList&lt;Byte&gt; redChannel = new ArrayList&lt;&gt;(); // this is the array that will hold the red channel  (the size of the array is the size of the image in bytes)\n           ArrayList&lt;Byte&gt; greenChannel = new ArrayList&lt;&gt;(); // this is the array that will hold the green channel  (the size of the array is the size of the image in bytes) \n           ArrayList&lt;Byte&gt; blueChannel = new ArrayList&lt;&gt;(); // this is the array that will hold the blue channel  (the size of the array is the size of the image in bytes)\n           for (int i = 0; i &lt; imageSize; i += 3) { // this is the loop that will iterate through the image data array and separate the RGB channels into their respective arrays (redChannel, greenChannel, blueChannel)\n           blueChannel.add(imageData[i]); // this is the statement that will add the blue channel data to the blueChannel array (the blue channel data is the first byte of every pixel) \n           greenChannel.add(imageData[i + 1]); // this is the statement that will add the green channel data to the greenChannel array (the green channel data is the second byte of every pixel) \n           redChannel.add(imageData[i + 2]); // this is the statement that will add the red channel data to the redChannel array (the red channel data is the third byte of every pixel)\n         }\n        saveImage(redChannel, width, height, &quot;Image-red.bmp&quot;); // this is the statement that will save the red channel data to a new file called &quot;Image-red.bmp&quot; \n        saveImage(greenChannel, width, height, &quot;Image-green.bmp&quot;); // this is the statement that will save the green channel data to a new file called &quot;Image-green.bmp&quot; \n        saveImage(blueChannel, width, height, &quot;Image-blue.bmp&quot;); // this is the statement that will save the blue channel data to a new file called &quot;Image-blue.bmp&quot; \n        fileInputStream.close(); // this is the statement that will close the fileInputStream \n    } catch (IOException e) { // this is the catch statement that will catch any IOExceptions that may occur \n        e.printStackTrace(); // this is the statement that will print the stack trace of the IOException \n    }\n}  \n  public static void generateSepiaTone(String fileName) { // this is the method that will generate the sepia tone effect \n     try { \n      FileInputStream fileInputStream = new FileInputStream(fileName); // this is the statement that will create a new FileInputStream object called fileInputStream \n        byte[] header = new byte[54]; // this is the array that will hold the header data (the size of the array is 54 bytes) \n        fileInputStream.read(header); // this is the statement that will read the header data into the header array   \n        int width = byteArrayToInt(header, 18); // this is the statement that will convert the width data from the header array into an integer and store it in the variable width \n        int height = byteArrayToInt(header, 22); // this is the statement that will convert the height data from the header array into an integer and store it in the variable height \n        int imageSize = byteArrayToInt(header, 34); // this is the statement that will convert the image size data from the header array into an integer and store it in the variable imageSize \n        byte[] imageData = new byte[imageSize]; // this is the array that will hold the image data (the size of the array is the size of the image in bytes) \n        fileInputStream.read(imageData); // this is the statement that will read the image data into the imageData array \n        ArrayList&lt;Byte&gt; sepiaTone = new ArrayList&lt;&gt;(); // this is the array that will hold the sepia tone data (the size of the array is the size of the image in bytes) \n        for (int i = 0; i &lt; imageSize; i += 3) { // this is the loop that will iterate through the image data array and apply the sepia tone effect to each pixel \n           int blue = imageData[i] &amp; 0xFF; // this is the statement that will convert the blue channel data from the imageData array into an integer and store it in the variable blue \n           int green = imageData[i + 1] &amp; 0xFF; // this is the statement that will convert the green channel data from the imageData array into an integer and store it in the variable green \n           int red = imageData[i + 2] &amp; 0xFF; // this is the statement that will convert the red channel data from the imageData array into an integer and store it in the variable red \n           int sepiaBlue = (int) (0.272 * red + 0.534 * green + 0.131 * blue); // this is the statement that will calculate the sepia blue channel data and store it in the variable sepiaBlue \n           int sepiaGreen = (int) (0.349 * red + 0.686 * green + 0.168 * blue); // this is the statement that will calculate the sepia green channel data and store it in the variable sepiaGreen \n           int sepiaRed = (int) (0.393 * red + 0.769 * green + 0.189 * blue); // this is the statement that will calculate the sepia red channel data and store it in the variable sepiaRed \n          sepiaTone.add((byte) sepiaBlue); // this is the statement that will add the sepia blue channel data to the sepiaTone array (the sepia blue channel data is the first byte of every pixel) \n          sepiaTone.add((byte) sepiaGreen); // this is the statement that will add the sepia green channel data to the sepiaTone array (the sepia green channel data is the second byte of every pixel) \n          sepiaTone.add((byte) sepiaRed); // this is the statement that will add the sepia red channel data to the sepiaTone array (the sepia red channel data is the third byte of every pixel)\n         } \n        saveImage(sepiaTone, width, height, &quot;Image-sepia.bmp&quot;); // this is the statement that will save the sepia tone data to a new file called &quot;Image-sepia.bmp&quot; \n        fileInputStream.close(); // this is the statement that will close the fileInputStream \n     } catch (IOException e) { // this is the catch statement that will catch any IOExceptions that may occur \n        e.printStackTrace(); // this is the statement that will print the stack trace of the IOException \n     } \n   } \n   public static void saveImage(ArrayList&lt;Byte&gt; imageData, int width, int height, String fileName) { // this is the method that will save the image data to a new file \n    try { \n     FileOutputStream fileOutputStream = new FileOutputStream(fileName); // this is the statement that will create a new FileOutputStream object called fileOutputStream \n    byte[] header = createBmpHeader(width, height, imageData.size()); // this is the statement that will create a new header array and store it in the variable header \n    fileOutputStream.write(header); // this is the statement that will write the header data to the fileOutputStream \n    for (int i = 0; i &lt; imageData.size(); i++) { // this is the loop that will iterate through the imageData array and write the image data to the fileOutputStream \n      fileOutputStream.write(imageData.get(i)); // this is the statement that will write the image data to the fileOutputStream \n       } \n       fileOutputStream.close(); // this is the statement that will close the fileOutputStream \n     } catch (IOException e) { // this is the catch statement that will catch any IOExceptions that may occur \n         e.printStackTrace(); // this is the statement that will print the stack trace of the IOException \n      } \n   } \n\n   private static byte[] createBmpHeader(int width, int height, int imageSize) { // this is the method that will create a new header array \n        byte[] header = new byte[54]; // this is the array that will hold the header data (the size of the array is 54 bytes) \n        header[0] = 0x42; // this is the statement that will set the first byte of the header array to 0x42 \n        header[1] = 0x4D; // this is the statement that will set the second byte of the header array to 0x4D \n        header[2] = (byte) (imageSize + 54); // this is the statement that will set the third byte of the header array to the size of the image in bytes plus 54 \n        header[10] = 0x36; // this is the statement that will set the eleventh byte of the header array to 0x36 \n        header[14] = 0x28; // this is the statement that will set the fifteenth byte of the header array to 0x28 \n        header[18] = (byte) width; // this is the statement that will set the nineteenth byte of the header array to the width of the image \n        header[19] = (byte) (width &gt;&gt; 8); // this is the statement that will set the twentieth byte of the header array to the width of the image shifted right by 8 bits \n        header[20] = (byte) (width &gt;&gt; 16); // this is the statement that will set the twenty-first byte of the header array to the width of the image shifted right by 16 bits \n        header[22] = (byte) height; // this is the statement that will set the twenty-third byte of the header array to the height of the image \n        header[23] = (byte) (height &gt;&gt; 8); // this is the statement that will set the twenty-fourth byte of the header array to the height of the image shifted right by 8 bits \n        header[24] = (byte) (height &gt;&gt; 16); // this is the statement that will set the twenty-fifth byte of the header array to the height of the image shifted right by 16 bits \n        header[34] = (byte) imageSize; // this is the statement that will set the thirty-fifth byte of the header array to the size of the image in bytes \n        header[35] = (byte) (imageSize &gt;&gt; 8); // this is the statement that will set the thirty-sixth byte of the header array to the size of the image in bytes shifted right by 8 bits \n        header[36] = (byte) (imageSize &gt;&gt; 16); // this is the statement that will set the thirty-seventh byte of the header array to the size of the image in bytes shifted right by 16 bits \n        header[37] = (byte) (imageSize &gt;&gt; 24); // this is the statement that will set the thirty-eighth byte of the header array to the size of the image in bytes shifted right by 24 bits \n        return header; // this is the statement that will return the header array \n        }  \n    private static int byteArrayToInt(byte[] byteArray, int index) { // this is the method that will convert a byte array to an integer \n        return byteArray[index] &amp; 0xFF | (byteArray[index + 1] &amp; 0xFF) &lt;&lt; 8 | (byteArray[index + 2] &amp; 0xFF) &lt;&lt; 16 | (byteArray[index + 3] &amp; 0xFF) &lt;&lt; 24; // this is the statement that will convert a byte array to an integer and return it \n      }\n  } \n</code></pre>\n"},{"tags":["java","maven","liferay","maven-3","liferay-6"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1432056525,"post_id":30329108,"comment_id":48759209,"body_markdown":"Does you pom file contain a version? Can you show the full pom file? Which Maven version do you use? How have you called Maven? Have you called Maven from command line or from within an IDE?","body":"Does you pom file contain a version? Can you show the full pom file? Which Maven version do you use? How have you called Maven? Have you called Maven from command line or from within an IDE?"},{"owner":{"account_id":5502833,"reputation":8715,"user_id":4371659,"accept_rate":80,"display_name":"Tobias Liefke"},"score":0,"creation_date":1432115137,"post_id":30329108,"comment_id":48784766,"body_markdown":"There should be a more concrete stacktrace somewhere in your log, that shows the exact position of the NullPointerException (something with `com.liferay.maven...`)","body":"There should be a more concrete stacktrace somewhere in your log, that shows the exact position of the NullPointerException (something with <code>com.liferay.maven...</code>)"},{"owner":{"account_id":1375280,"reputation":4333,"user_id":1309392,"accept_rate":56,"display_name":"sTg"},"score":0,"creation_date":1432133914,"post_id":30329108,"comment_id":48799068,"body_markdown":"@khmarbaise : I have added my pom.xml in my question...I am using Maven using IDE...And i  am doing the build process using IDE. Please guide.","body":"@khmarbaise : I have added my pom.xml in my question...I am using Maven using IDE...And i  am doing the build process using IDE. Please guide."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1432139499,"post_id":30329108,"comment_id":48802974,"body_markdown":"Have you tried to run your build on command line and not from within IDE. Which Maven Version do you use?","body":"Have you tried to run your build on command line and not from within IDE. Which Maven Version do you use?"},{"owner":{"account_id":1375280,"reputation":4333,"user_id":1309392,"accept_rate":56,"display_name":"sTg"},"score":0,"creation_date":1432187213,"post_id":30329108,"comment_id":48821961,"body_markdown":"@khmarbaise : i am using apache maven 3.1.1 ..And not yet tried over command prompt as i have been doing it on IDE.","body":"@khmarbaise : i am using apache maven 3.1.1 ..And not yet tried over command prompt as i have been doing it on IDE."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1432193730,"post_id":30329108,"comment_id":48825373,"body_markdown":"Please try in command line. Which IDE? Eclipse? Which Version of it? Which Version m2e in case of Eclipse?","body":"Please try in command line. Which IDE? Eclipse? Which Version of it? Which Version m2e in case of Eclipse?"},{"owner":{"account_id":1375280,"reputation":4333,"user_id":1309392,"accept_rate":56,"display_name":"sTg"},"score":0,"creation_date":1432193828,"post_id":30329108,"comment_id":48825451,"body_markdown":"@khmarbaise : I tried using command prompt but was fetching the same result.  I am using Eclipse Liferay Developer Studio\n\nVersion: 2.0.0.201401271217-b1.. Can this be maven version issue?","body":"@khmarbaise : I tried using command prompt but was fetching the same result.  I am using Eclipse Liferay Developer Studio  Version: 2.0.0.201401271217-b1.. Can this be maven version issue?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1432194323,"post_id":30329108,"comment_id":48825810,"body_markdown":"You have defined a profile with a version `7.0.0-m2`for liferay plugin but the run shows `liferay-maven-plugin:6.2.1`. You should check that you alway use the same version of the plugin.","body":"You have defined a profile with a version <code>7.0.0-m2</code>for liferay plugin but the run shows <code>liferay-maven-plugin:6.2.1</code>. You should check that you alway use the same version of the plugin."},{"owner":{"account_id":1375280,"reputation":4333,"user_id":1309392,"accept_rate":56,"display_name":"sTg"},"score":0,"creation_date":1432194358,"post_id":30329108,"comment_id":48825835,"body_markdown":"Can you please come over chat room http://chat.stackoverflow.com/rooms/78385/http-stackoverflow-com-questions-30329108-mojoexecutionexception-while-doing-a","body":"Can you please come over chat room <a href=\"http://chat.stackoverflow.com/rooms/78385/http-stackoverflow-com-questions-30329108-mojoexecutionexception-while-doing-a\">chat.stackoverflow.com/rooms/78385/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6342738,"reputation":77,"user_id":4924177,"accept_rate":30,"display_name":"Luxy"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1432203754,"creation_date":1432203754,"answer_id":30370989,"question_id":30329108,"body_markdown":"1. First of all you need to check the liferay version that you are using if it is mentioned in your `pom.xml`.\r\n\r\n2. Also, the error can be thrown when you try to build your Liferay project using an old version of `Maven`. Check your Maven Version that you are using using command\r\n\r\n    mvn -version\r\n\r\nAlso the `JDK` that you are using should be correctly mentioned in your POM.xml.\r\nI find comment from khmarbaise as correct because the version might also have been conflicted. Hope this helps.\r\n","title":"MojoExecutionException while doing a build - Maven","body":"<ol>\n<li><p>First of all you need to check the liferay version that you are using if it is mentioned in your <code>pom.xml</code>.</p></li>\n<li><p>Also, the error can be thrown when you try to build your Liferay project using an old version of <code>Maven</code>. Check your Maven Version that you are using using command</p>\n\n<p>mvn -version</p></li>\n</ol>\n\n<p>Also the <code>JDK</code> that you are using should be correctly mentioned in your POM.xml.\nI find comment from khmarbaise as correct because the version might also have been conflicted. Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":557950,"reputation":1088,"user_id":920554,"accept_rate":100,"display_name":"Mingtao Sun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660890290,"creation_date":1660890290,"answer_id":73412617,"question_id":30329108,"body_markdown":"This issue happened on my Mac. \r\n\r\nI used JAVA_HOME=`/usr/libexec/java_home -v 1.8` to switch to JDK 8\r\n\r\n`echo $JAVA_HOME` shows \r\n\r\n`/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home`\r\n\r\nTurns out this JDK version is problematic. \r\n\r\nI fixed it by using `JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_341.jdk/Contents/Home` (after installing an official JDK8)\r\n\r\nNow `echo $JAVA_HOME` shows\r\n\r\n`/Library/Java/JavaVirtualMachines/jdk1.8.0_341.jdk/Contents/Home`","title":"MojoExecutionException while doing a build - Maven","body":"<p>This issue happened on my Mac.</p>\n<p>I used JAVA_HOME=<code>/usr/libexec/java_home -v 1.8</code> to switch to JDK 8</p>\n<p><code>echo $JAVA_HOME</code> shows</p>\n<p><code>/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home</code></p>\n<p>Turns out this JDK version is problematic.</p>\n<p>I fixed it by using <code>JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_341.jdk/Contents/Home</code> (after installing an official JDK8)</p>\n<p>Now <code>echo $JAVA_HOME</code> shows</p>\n<p><code>/Library/Java/JavaVirtualMachines/jdk1.8.0_341.jdk/Contents/Home</code></p>\n"}],"owner":{"account_id":1375280,"reputation":4333,"user_id":1309392,"accept_rate":56,"display_name":"sTg"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15864,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1694977380,"creation_date":1432047266,"question_id":30329108,"body_markdown":"Below is the goals that i have included while building maven project in my pom.\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt; \r\n    \r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.mynewproject.portlet&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;abc-myfacts-portlet&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;name&gt;ABC MY FACTS Portlet&lt;/name&gt;\r\n    \t&lt;version&gt;2.0-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.liferay.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;liferay-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${liferay.maven.plugin.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;build-css&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;autoDeployDir&gt;${liferay.auto.deploy.dir}&lt;/autoDeployDir&gt;\r\n    \t\t\t\t\t&lt;appServerDeployDir&gt;${liferay.app.server.deploy.dir}&lt;/appServerDeployDir&gt;\r\n    \t\t\t\t\t&lt;appServerLibGlobalDir&gt;${liferay.app.server.lib.global.dir}&lt;/appServerLibGlobalDir&gt;\r\n    \t\t\t\t\t&lt;appServerPortalDir&gt;${liferay.app.server.portal.dir}&lt;/appServerPortalDir&gt;\r\n    \t\t\t\t\t&lt;liferayVersion&gt;${liferay.version}&lt;/liferayVersion&gt;\r\n    \t\t\t\t\t&lt;pluginType&gt;portlet&lt;/pluginType&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.5&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.6&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.6&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.5&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t\r\n    \r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t&lt;/plugins&gt;\r\n    \t\r\n    \t&lt;/build&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t\t&lt;!-- Liferay dependency --&gt;    \r\n    \t\t\t&lt;dependency&gt;\r\n     \t\t\t\t &lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n     \t\t\t\t &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n      \t\t\t\t&lt;version&gt;2.6&lt;/version&gt;  \t\t\t\t\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.2.1&lt;/version&gt;\r\n    \t&lt;optional&gt;true&lt;/optional&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n     &lt;dependency&gt;\r\n                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n                &lt;version&gt;1.6.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n             &lt;!--  &lt;dependency&gt; \r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-instrument&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt; --&gt;\r\n            \r\n        \r\n    \r\n    \t\t\t  \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.liferay.portal&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;portal-service&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${liferay.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.liferay.portal&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;util-bridges&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${liferay.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.liferay.portal&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;util-taglib&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${liferay.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.liferay.portal&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;util-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${liferay.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t\t&lt;!-- Portlet/JSR dependency --&gt;      \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.portlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;portlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t\t&lt;!-- Servlet/JSP dependency --&gt;      \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\t\t\t\r\n    \t\t&lt;/dependency&gt; \r\n    \t\t\r\n    \t\t&lt;!-- Spring dependency --&gt;       \r\n    \t\t&lt;dependency&gt;\r\n    \t        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;spring-webmvc-portlet&lt;/artifactId&gt;\r\n    \t        &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\r\n    \t    &lt;/dependency&gt;    \r\n    \t\t&lt;dependency&gt;\r\n    \t        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n    \t        &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\r\n    \t    &lt;/dependency&gt;\r\n    \t    &lt;dependency&gt;\r\n    \t        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n    \t        &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\r\n    \t    &lt;/dependency&gt;\r\n    \t    &lt;dependency&gt;\r\n    \t        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n    \t        &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\r\n    \t    &lt;/dependency&gt;\r\n    \t    &lt;dependency&gt;\r\n    \t        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n    \t        &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\r\n    \t    &lt;/dependency&gt;\t    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt; \r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-agent&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.5.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.6.12&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;cglib&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cglib-nodep&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;!-- Log4j configuration --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.16&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt; \r\n    \t\t\r\n    \t\t&lt;!-- Unit testing --&gt;\t\t\r\n    \t    &lt;dependency&gt;  \r\n    \t        &lt;groupId&gt;org.mockito&lt;/groupId&gt;  \r\n    \t        &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;  \r\n    \t        &lt;version&gt;1.9.5&lt;/version&gt;  \r\n    \t    &lt;/dependency&gt;  \r\n    \t    &lt;dependency&gt;  \r\n    \t        &lt;groupId&gt;junit&lt;/groupId&gt;  \r\n    \t        &lt;artifactId&gt;junit&lt;/artifactId&gt;  \r\n    \t        &lt;version&gt;4.11&lt;/version&gt;  \r\n    \t    &lt;/dependency&gt;\t\r\n    \t    \r\n    \t     &lt;!-- Data Service dependency --&gt;\r\n    \t    &lt;dependency&gt;\r\n    \t    \t&lt;groupId&gt;com.mynewproject.components&lt;/groupId&gt;\r\n    \t    \t&lt;artifactId&gt;abc-mynewproject-service&lt;/artifactId&gt;\r\n    \t    \t&lt;version&gt;2.0-SNAPSHOT&lt;/version&gt;\r\n    \t    &lt;/dependency&gt;\r\n    \t\r\n    \t    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.mynewproject.components&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;emailcomponent&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0-SNAPSHOT&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\r\n    \t&lt;/dependencies&gt;\r\n    \t\r\n    \t\r\n    \t\r\n    &lt;profiles&gt;\r\n    &lt;profile&gt;\r\n    \t&lt;id&gt;Liferay-v6.2-EE-(Tomcat-7)&lt;/id&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;liferay.version&gt;6.2.2&lt;/liferay.version&gt;\r\n    \t\t&lt;liferay.maven.plugin.version&gt;7.0.0-m2&lt;/liferay.maven.plugin.version&gt;\r\n    \t\t&lt;liferay.auto.deploy.dir&gt;..\\Liferay Portal\\liferay-portal-6.2.10.1-ee-ga1\\deploy&lt;/liferay.auto.deploy.dir&gt;\r\n    \t\t&lt;liferay.app.server.deploy.dir&gt;..\\Liferay Portal\\liferay-portal-6.2.10.1-ee-ga1\\tomcat-7.0.42\\webapps&lt;/liferay.app.server.deploy.dir&gt;\r\n    \t\t&lt;liferay.app.server.lib.global.dir&gt;..\\Liferay Portal\\liferay-portal-6.2.10.1-ee-ga1\\tomcat-7.0.42\\lib\\ext&lt;/liferay.app.server.lib.global.dir&gt;\r\n    \t\t&lt;liferay.app.server.portal.dir&gt;..\\Liferay Portal\\liferay-portal-6.2.10.1-ee-ga1\\tomcat-7.0.42\\webapps\\ROOT&lt;/liferay.app.server.portal.dir&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;/profile&gt;\r\n    \r\n    &lt;/profiles&gt;\r\n    &lt;/project&gt;\r\n\r\nBut while i perform a build i get the below error:\r\n\r\n&gt; [ERROR] Failed to execute goal\r\n&gt; com.liferay.maven.plugins:liferay-maven-plugin:6.2.1:build-css\r\n&gt; (default) on project myNewProject: null: MojoExecutionException:\r\n&gt; NullPointerException -&gt; [Help 1]\r\n&gt; \r\n&gt; org.apache.maven.lifecycle.LifecycleExecutionException: Failed to\r\n&gt; execute goal\r\n&gt; com.liferay.maven.plugins:liferay-maven-plugin:6.2.1:build-css\r\n&gt; (default) on project myNewProject: null\r\n&gt;         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:216)\r\n&gt;         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n&gt;         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n&gt;         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:108)\r\n&gt;         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:76)\r\n&gt;         at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\r\n&gt;         at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:116)\r\n&gt;         at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:361)\r\n\r\nMy questions are:\r\n\r\nWhat is it causing a null pointer exception while i am performing the build?","title":"MojoExecutionException while doing a build - Maven","body":"<p>Below is the goals that i have included while building maven project in my pom.</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt; \n\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.mynewproject.portlet&lt;/groupId&gt;\n    &lt;artifactId&gt;abc-myfacts-portlet&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;ABC MY FACTS Portlet&lt;/name&gt;\n    &lt;version&gt;2.0-SNAPSHOT&lt;/version&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.liferay.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;liferay-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${liferay.maven.plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;build-css&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;autoDeployDir&gt;${liferay.auto.deploy.dir}&lt;/autoDeployDir&gt;\n                    &lt;appServerDeployDir&gt;${liferay.app.server.deploy.dir}&lt;/appServerDeployDir&gt;\n                    &lt;appServerLibGlobalDir&gt;${liferay.app.server.lib.global.dir}&lt;/appServerLibGlobalDir&gt;\n                    &lt;appServerPortalDir&gt;${liferay.app.server.portal.dir}&lt;/appServerPortalDir&gt;\n                    &lt;liferayVersion&gt;${liferay.version}&lt;/liferayVersion&gt;\n                    &lt;pluginType&gt;portlet&lt;/pluginType&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                    &lt;source&gt;1.6&lt;/source&gt;\n                    &lt;target&gt;1.6&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n\n\n\n        &lt;/plugins&gt;\n\n    &lt;/build&gt;\n    &lt;dependencies&gt;\n            &lt;!-- Liferay dependency --&gt;    \n            &lt;dependency&gt;\n                 &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n                 &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n                &lt;version&gt;2.6&lt;/version&gt;                  \n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n    &lt;version&gt;3.2.1&lt;/version&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n\n &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n            &lt;version&gt;1.6.5&lt;/version&gt;\n        &lt;/dependency&gt;\n         &lt;!--  &lt;dependency&gt; \n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-instrument&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt; --&gt;\n\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.liferay.portal&lt;/groupId&gt;\n            &lt;artifactId&gt;portal-service&lt;/artifactId&gt;\n            &lt;version&gt;${liferay.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.liferay.portal&lt;/groupId&gt;\n            &lt;artifactId&gt;util-bridges&lt;/artifactId&gt;\n            &lt;version&gt;${liferay.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.liferay.portal&lt;/groupId&gt;\n            &lt;artifactId&gt;util-taglib&lt;/artifactId&gt;\n            &lt;version&gt;${liferay.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.liferay.portal&lt;/groupId&gt;\n            &lt;artifactId&gt;util-java&lt;/artifactId&gt;\n            &lt;version&gt;${liferay.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n            &lt;!-- Portlet/JSR dependency --&gt;      \n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.portlet&lt;/groupId&gt;\n            &lt;artifactId&gt;portlet-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n            &lt;!-- Servlet/JSP dependency --&gt;      \n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n            &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;          \n        &lt;/dependency&gt; \n\n        &lt;!-- Spring dependency --&gt;       \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc-portlet&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;    \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;       \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt; \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-agent&lt;/artifactId&gt;\n    &lt;version&gt;2.5.6&lt;/version&gt;\n&lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n            &lt;version&gt;1.6.12&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;cglib&lt;/groupId&gt;\n            &lt;artifactId&gt;cglib-nodep&lt;/artifactId&gt;\n            &lt;version&gt;2.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n            &lt;version&gt;1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Log4j configuration --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.16&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;1.4.2&lt;/version&gt;\n        &lt;/dependency&gt; \n\n        &lt;!-- Unit testing --&gt;       \n        &lt;dependency&gt;  \n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;  \n            &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;  \n            &lt;version&gt;1.9.5&lt;/version&gt;  \n        &lt;/dependency&gt;  \n        &lt;dependency&gt;  \n            &lt;groupId&gt;junit&lt;/groupId&gt;  \n            &lt;artifactId&gt;junit&lt;/artifactId&gt;  \n            &lt;version&gt;4.11&lt;/version&gt;  \n        &lt;/dependency&gt;   \n\n         &lt;!-- Data Service dependency --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mynewproject.components&lt;/groupId&gt;\n            &lt;artifactId&gt;abc-mynewproject-service&lt;/artifactId&gt;\n            &lt;version&gt;2.0-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mynewproject.components&lt;/groupId&gt;\n            &lt;artifactId&gt;emailcomponent&lt;/artifactId&gt;\n            &lt;version&gt;2.0-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n\n\n&lt;profiles&gt;\n&lt;profile&gt;\n    &lt;id&gt;Liferay-v6.2-EE-(Tomcat-7)&lt;/id&gt;\n    &lt;properties&gt;\n        &lt;liferay.version&gt;6.2.2&lt;/liferay.version&gt;\n        &lt;liferay.maven.plugin.version&gt;7.0.0-m2&lt;/liferay.maven.plugin.version&gt;\n        &lt;liferay.auto.deploy.dir&gt;..\\Liferay Portal\\liferay-portal-6.2.10.1-ee-ga1\\deploy&lt;/liferay.auto.deploy.dir&gt;\n        &lt;liferay.app.server.deploy.dir&gt;..\\Liferay Portal\\liferay-portal-6.2.10.1-ee-ga1\\tomcat-7.0.42\\webapps&lt;/liferay.app.server.deploy.dir&gt;\n        &lt;liferay.app.server.lib.global.dir&gt;..\\Liferay Portal\\liferay-portal-6.2.10.1-ee-ga1\\tomcat-7.0.42\\lib\\ext&lt;/liferay.app.server.lib.global.dir&gt;\n        &lt;liferay.app.server.portal.dir&gt;..\\Liferay Portal\\liferay-portal-6.2.10.1-ee-ga1\\tomcat-7.0.42\\webapps\\ROOT&lt;/liferay.app.server.portal.dir&gt;\n    &lt;/properties&gt;\n    &lt;/profile&gt;\n\n&lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>But while i perform a build i get the below error:</p>\n\n<blockquote>\n  <p>[ERROR] Failed to execute goal\n  com.liferay.maven.plugins:liferay-maven-plugin:6.2.1:build-css\n  (default) on project myNewProject: null: MojoExecutionException:\n  NullPointerException -> [Help 1]</p>\n  \n  <p>org.apache.maven.lifecycle.LifecycleExecutionException: Failed to\n  execute goal\n  com.liferay.maven.plugins:liferay-maven-plugin:6.2.1:build-css\n  (default) on project myNewProject: null\n          at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:216)\n          at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n          at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n          at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:108)\n          at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:76)\n          at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\n          at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:116)\n          at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:361)</p>\n</blockquote>\n\n<p>My questions are:</p>\n\n<p>What is it causing a null pointer exception while i am performing the build?</p>\n"},{"tags":["java","spring-boot","spring-mvc","logging"],"answers":[{"comments":[{"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"score":0,"creation_date":1695018790,"post_id":77123211,"comment_id":135962630,"body_markdown":"Hi, thank you. Your solution solves my problem. However, I&#39;d like to note that I&#39;m unsure why did you use `myResolver.setMessageSource(context)` as well as `myResolver.setWarnLogCategory(myResolver.getClass().getName());`. I removed both of these lines and it seems like it changed nothing. By default the logging level is `WARN`.","body":"Hi, thank you. Your solution solves my problem. However, I&#39;d like to note that I&#39;m unsure why did you use <code>myResolver.setMessageSource(context)</code> as well as <code>myResolver.setWarnLogCategory(myResolver.getClass().getName(&zwnj;&#8203;));</code>. I removed both of these lines and it seems like it changed nothing. By default the logging level is <code>WARN</code>."}],"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694977130,"creation_date":1694977130,"answer_id":77123211,"question_id":77122634,"body_markdown":"You can create your own resolver that extend `ResponseStatusExceptionResolver` and override its `logException()`. If the exception is the one that you do not want to log , return it. Something likes : \r\n\r\n\r\n``` java\r\npublic class MyResponseStatusExceptionResolver extends ResponseStatusExceptionResolver {\r\n\r\n    @Override\r\n    protected void logException(Exception ex, HttpServletRequest request) {\r\n        if (ex instanceof EntityNotFoundException) {\r\n            return;\r\n        }\r\n        super.logException(ex, request);\r\n    }\r\n}\r\n\r\n```\r\n\r\nThen configure to use it :\r\n\r\n``` java\r\n@Configuration\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n    @Autowired\r\n    private ApplicationContext context;\r\n\r\n    @Override\r\n    public void extendHandlerExceptionResolvers(List&lt;HandlerExceptionResolver&gt; resolvers) {\r\n        var myResolver = new MyResponseStatusExceptionResolver();\r\n        myResolver.setMessageSource(context);\r\n        myResolver.setWarnLogCategory(myResolver.getClass().getName());\r\n        resolvers.add(0, myResponseStatusExceptionResolver);\r\n    }\r\n}\r\n```\r\n\r\nThe idea is the you put this customized exception resolver into the first position of the default exception resolver list such that it will always use it to resolve the exception before the default `ResponseStatusExceptionResolver`.\r\n\r\n\r\nPlease note that you must set the logging level of the customised exception resolver to WARN in order to have the exception logging behaviour that you want. ","title":"ResponseStatusExceptionResolver custom logging","body":"<p>You can create your own resolver that extend <code>ResponseStatusExceptionResolver</code> and override its <code>logException()</code>. If the exception is the one that you do not want to log , return it. Something likes :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyResponseStatusExceptionResolver extends ResponseStatusExceptionResolver {\n\n    @Override\n    protected void logException(Exception ex, HttpServletRequest request) {\n        if (ex instanceof EntityNotFoundException) {\n            return;\n        }\n        super.logException(ex, request);\n    }\n}\n\n</code></pre>\n<p>Then configure to use it :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n\n    @Autowired\n    private ApplicationContext context;\n\n    @Override\n    public void extendHandlerExceptionResolvers(List&lt;HandlerExceptionResolver&gt; resolvers) {\n        var myResolver = new MyResponseStatusExceptionResolver();\n        myResolver.setMessageSource(context);\n        myResolver.setWarnLogCategory(myResolver.getClass().getName());\n        resolvers.add(0, myResponseStatusExceptionResolver);\n    }\n}\n</code></pre>\n<p>The idea is the you put this customized exception resolver into the first position of the default exception resolver list such that it will always use it to resolve the exception before the default <code>ResponseStatusExceptionResolver</code>.</p>\n<p>Please note that you must set the logging level of the customised exception resolver to WARN in order to have the exception logging behaviour that you want.</p>\n"}],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77123211,"answer_count":1,"score":0,"last_activity_date":1694977348,"creation_date":1694966605,"question_id":77122634,"body_markdown":"Whenever I make some kind of requests to my API, then Spring Boot logs exceptions, if they were thrown. I&#39;d like to tweak that a little bit.\r\n\r\nFor example, when I make a request `GET /api/entity/100` and there&#39;s no entity of id 100, then - in the service layer - I&#39;ll throw an exception `EntityNotFoundException` with some message and HTTP code.\r\n\r\nThe problem is that I do not want it logged in the console because it quickly makes it look like trash and spam. The log will look something like this: `WARN 15512 --- [nio-8433-exec-3] .w.s.m.a.ResponseStatusExceptionResolver : Resolved [com.demo.mydomain.exceptions.classes.entity.EntityNotFoundException: Unable to find entity of &#39;100&#39; id]`.\r\n\r\nObviously I can disable that by, for instance, adding this property `spring.mvc.log-resolved-exception=false`. However, this disables all the logs of `ResponseStatusExceptionResolver` and I&#39;d like to maintain logging some other exceptions, like `AccessDeniedException`.","title":"ResponseStatusExceptionResolver custom logging","body":"<p>Whenever I make some kind of requests to my API, then Spring Boot logs exceptions, if they were thrown. I'd like to tweak that a little bit.</p>\n<p>For example, when I make a request <code>GET /api/entity/100</code> and there's no entity of id 100, then - in the service layer - I'll throw an exception <code>EntityNotFoundException</code> with some message and HTTP code.</p>\n<p>The problem is that I do not want it logged in the console because it quickly makes it look like trash and spam. The log will look something like this: <code>WARN 15512 --- [nio-8433-exec-3] .w.s.m.a.ResponseStatusExceptionResolver : Resolved [com.demo.mydomain.exceptions.classes.entity.EntityNotFoundException: Unable to find entity of '100' id]</code>.</p>\n<p>Obviously I can disable that by, for instance, adding this property <code>spring.mvc.log-resolved-exception=false</code>. However, this disables all the logs of <code>ResponseStatusExceptionResolver</code> and I'd like to maintain logging some other exceptions, like <code>AccessDeniedException</code>.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":17739799,"reputation":528,"user_id":12880432,"display_name":"Maria"},"score":0,"creation_date":1587036959,"post_id":61249156,"comment_id":108354020,"body_markdown":"But from where code execution flow starts ..? The way I have understood in question, Is correct..?","body":"But from where code execution flow starts ..? The way I have understood in question, Is correct..?"},{"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"score":0,"creation_date":1587037656,"post_id":61249156,"comment_id":108354409,"body_markdown":"Yes, you have understood the execution flow correctly. The order of the bean initialization can get quite complex though, it&#39;s not just calling every @Bean method in order.","body":"Yes, you have understood the execution flow correctly. The order of the bean initialization can get quite complex though, it&#39;s not just calling every @Bean method in order."},{"owner":{"account_id":17739799,"reputation":528,"user_id":12880432,"display_name":"Maria"},"score":0,"creation_date":1587039571,"post_id":61249156,"comment_id":108355438,"body_markdown":"So In springBoot, we don’t require Xmls to define bean definitions ..?","body":"So In springBoot, we don’t require Xmls to define bean definitions ..?"},{"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"score":0,"creation_date":1587055345,"post_id":61249156,"comment_id":108365428,"body_markdown":"Neither in Spring Boot nor in Spring Core Framework do we need XML files anymore. Those days are looong gone.\n\nThere are still some Spring sub-projects that use XML files with custom tags as alternative for java-based beans, which in some cases are even easier to use, but those should all be migrating to java-first configuration.","body":"Neither in Spring Boot nor in Spring Core Framework do we need XML files anymore. Those days are looong gone.  There are still some Spring sub-projects that use XML files with custom tags as alternative for java-based beans, which in some cases are even easier to use, but those should all be migrating to java-first configuration."}],"tags":[],"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587037745,"creation_date":1587036639,"answer_id":61249156,"question_id":61248736,"body_markdown":"A couple of points.\r\n\r\n - SpringApplication.run(Application.class, args) will scan all classes in the same package or below of Application.class, initialize all beans in the applicationContext and dispatch application events.\r\n - Classes with @Configuration on are meant to define beans. Beans will be reordered to allow dependencies between beans, and each bean will be initialized using its @Bean-annotated method.\r\n - The @EnableBatchProcessing only needs to be on one @Configuration class. It will auto-configure more beans that you can use as dependencies, like the jobBuilderFactory and stepBuilderFactory, and a jobLauncher. The jobLauncher will have dependencies on all beans of type &#39;Job&#39;, so it will be initialized last.\r\n - Each bean can listen for applicationEvents by implementing a certain interface, and define a response for that. The jobLauncher will listen for the &#39;application started&#39; event and respond by executing all its jobs, either on the main thread, or using a thread pool if that was defined.\r\n\r\nSee  [BatchAutoConfiguration][1] on how you can configure the behaviour of the auto-configured beans.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/batch/BatchAutoConfiguration.html","title":"Execution process in Spring boot","body":"<p>A couple of points.</p>\n\n<ul>\n<li>SpringApplication.run(Application.class, args) will scan all classes in the same package or below of Application.class, initialize all beans in the applicationContext and dispatch application events.</li>\n<li>Classes with @Configuration on are meant to define beans. Beans will be reordered to allow dependencies between beans, and each bean will be initialized using its @Bean-annotated method.</li>\n<li>The @EnableBatchProcessing only needs to be on one @Configuration class. It will auto-configure more beans that you can use as dependencies, like the jobBuilderFactory and stepBuilderFactory, and a jobLauncher. The jobLauncher will have dependencies on all beans of type 'Job', so it will be initialized last.</li>\n<li>Each bean can listen for applicationEvents by implementing a certain interface, and define a response for that. The jobLauncher will listen for the 'application started' event and respond by executing all its jobs, either on the main thread, or using a thread pool if that was defined.</li>\n</ul>\n\n<p>See  <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/batch/BatchAutoConfiguration.html\" rel=\"nofollow noreferrer\">BatchAutoConfiguration</a> on how you can configure the behaviour of the auto-configured beans.</p>\n"},{"tags":[],"owner":{"account_id":29465521,"reputation":26,"user_id":22579278,"display_name":"Poojitha_naidu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694976212,"creation_date":1694952277,"answer_id":77121700,"question_id":61248736,"body_markdown":" - After creation of Spring starter project, we get a main class which contains @SpringBootApplication, under that class we have SpringApplication.run(Application.class, args). This is called Run method. \r\n - When we go inside the run method, It internally creates the object of Spring application and it calls internally Run method. \r\n - If we use debug pointer there, we can see the logic. This logic will execute the spring application whenever we run. \r\n - In the run method, we have Stopwatch to identify the time taken by our spring boot application. After starting the Stopwatch, it will call getRunListeners(args) to listen the listeners in main method. \r\n - After that we have a prepared environment by listeners. And it will print the Spring banner. \r\n - After that it creates ApplicationContext.(Run method internally creates ApplicationContext). \r\n - Then Run method refreshes the context and stops the Stopwatch. Then it will internally call the Runners. There are two types of runners, ApplicationRunner and CommandLineRunner. It will trigger and returns the context. \r\n","title":"Execution process in Spring boot","body":"<ul>\n<li>After creation of Spring starter project, we get a main class which contains @SpringBootApplication, under that class we have SpringApplication.run(Application.class, args). This is called Run method.</li>\n<li>When we go inside the run method, It internally creates the object of Spring application and it calls internally Run method.</li>\n<li>If we use debug pointer there, we can see the logic. This logic will execute the spring application whenever we run.</li>\n<li>In the run method, we have Stopwatch to identify the time taken by our spring boot application. After starting the Stopwatch, it will call getRunListeners(args) to listen the listeners in main method.</li>\n<li>After that we have a prepared environment by listeners. And it will print the Spring banner.</li>\n<li>After that it creates ApplicationContext.(Run method internally creates ApplicationContext).</li>\n<li>Then Run method refreshes the context and stops the Stopwatch. Then it will internally call the Runners. There are two types of runners, ApplicationRunner and CommandLineRunner. It will trigger and returns the context.</li>\n</ul>\n"}],"owner":{"account_id":17739799,"reputation":528,"user_id":12880432,"display_name":"Maria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77121700,"answer_count":2,"score":0,"last_activity_date":1694976212,"creation_date":1587035320,"question_id":61248736,"body_markdown":"New to spring-boot, checked online examples. Got one doubt.\r\n\r\nMain calling class\r\n\r\n    @SpringBootApplication\r\n    public class Application {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tSpringApplication.run(Application.class, args);\r\n    \t}\r\n    }\r\n\r\n\r\nBatch Processing class\r\n\r\n    @Configuration\r\n    @EnableBatchProcessing\r\n    public class BatchConfiguration {\r\n    \r\n    \t@Autowired\r\n    \tpublic JobBuilderFactory jobBuilderFactory;\r\n    \r\n    \t@Autowired\r\n    \tpublic StepBuilderFactory stepBuilderFactory;\r\n    \r\n      --\r\n      --\r\n      so on\r\n    \r\n    }\r\n\r\n\r\n`SpringApplication.run(Application.class, args)` creates an appropriate ApplicationContext instance and load beans. \r\n\r\nI was trying to figure out that, what&#39;s a flow of code (step wise execution). Then after setting up logger at different places, figure out that `BatchConfiguration` class methods are getting executed in sequence, and it covers the execution of whole code too.\r\n\r\nChecked this class, its headed with these two tags `@Configuration, @EnableBatchProcessing`. Is it correct understanding that, once `SpringApplication.run` is completed, spring-boot looks for class having `@Configuration, @EnableBatchProcessing` tags on it and process everything from there ? Is it a driver class ? \r\n\r\nIf above understanding is correct, how many of classes of this type (`BatchConfiguration`) we can have in one spring-boot application ? If more than one, than what would be the flow then ?\r\n\r\n\r\n","title":"Execution process in Spring boot","body":"<p>New to spring-boot, checked online examples. Got one doubt.</p>\n\n<p>Main calling class</p>\n\n<pre><code>@SpringBootApplication\npublic class Application {\n\n    public static void main(String[] args) throws Exception {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n\n<p>Batch Processing class</p>\n\n<pre><code>@Configuration\n@EnableBatchProcessing\npublic class BatchConfiguration {\n\n    @Autowired\n    public JobBuilderFactory jobBuilderFactory;\n\n    @Autowired\n    public StepBuilderFactory stepBuilderFactory;\n\n  --\n  --\n  so on\n\n}\n</code></pre>\n\n<p><code>SpringApplication.run(Application.class, args)</code> creates an appropriate ApplicationContext instance and load beans. </p>\n\n<p>I was trying to figure out that, what's a flow of code (step wise execution). Then after setting up logger at different places, figure out that <code>BatchConfiguration</code> class methods are getting executed in sequence, and it covers the execution of whole code too.</p>\n\n<p>Checked this class, its headed with these two tags <code>@Configuration, @EnableBatchProcessing</code>. Is it correct understanding that, once <code>SpringApplication.run</code> is completed, spring-boot looks for class having <code>@Configuration, @EnableBatchProcessing</code> tags on it and process everything from there ? Is it a driver class ? </p>\n\n<p>If above understanding is correct, how many of classes of this type (<code>BatchConfiguration</code>) we can have in one spring-boot application ? If more than one, than what would be the flow then ?</p>\n"},{"tags":["java","open-telemetry"],"answers":[{"comments":[{"owner":{"account_id":19466002,"reputation":445,"user_id":14239262,"display_name":"eof"},"score":1,"creation_date":1694976246,"post_id":77123126,"comment_id":135959128,"body_markdown":"Thanks for the clarifications. Looks like I&#39;ve figured things out correctly based on the docs. I already implemented a propagator based on the TextMapPropagator, since I can easily store key value pairs in my payload.","body":"Thanks for the clarifications. Looks like I&#39;ve figured things out correctly based on the docs. I already implemented a propagator based on the TextMapPropagator, since I can easily store key value pairs in my payload."}],"tags":[],"owner":{"account_id":29440053,"reputation":89,"user_id":22558282,"display_name":"Dave"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694975463,"creation_date":1694975463,"answer_id":77123126,"question_id":77123100,"body_markdown":"Let&#39;s see if this can help you,\r\nSpanKind in OpenTelemetry: SpanKind in OpenTelemetry is an attribute associated with a span that indicates the nature of the span. Spans can be of two primary types: SpanKind.SERVER and SpanKind.CLIENT, which are used to represent incoming and outgoing requests, respectively. Using SpanKind helps clearly distinguish whether a span represents an incoming or outgoing request. Spans in OpenTelemetry are often accompanied by labels that provide additional information.\r\n\r\nRoot Span: The root span is the top-level span in a trace tree and represents the beginning of a trace. Usually, the root span is created in the main application or at the top of a call hierarchy. Creating the root span is crucial because all other spans within a trace are direct children or descendants of the root span. There&#39;s nothing particularly special about creating a root span, but it&#39;s essential to do so at the beginning of processing a request or transaction.\r\n\r\nOrder of Span Termination: The order in which spans are terminated is important to accurately establish the duration and temporal relationships between spans. In your scenario, A should finish its span before B or C begin processing. This is important to ensure that timings are correct in the trace. You can do this by using the end() method on spans, as you mentioned. Make sure to end one span before starting another to correctly represent the temporal order of operations.\r\n\r\nRegarding your custom binary UDP protocol and trace context propagation, you&#39;ll need to implement custom trace context propagation through your services based on the protocol you use for UDP communication. Additionally, you&#39;ll need to ensure that each service has an OpenTelemetry library configured to collect telemetry data and propagate trace context correctly.","title":"OpenTelemetry with fan out and custom protocol","body":"<p>Let's see if this can help you,\nSpanKind in OpenTelemetry: SpanKind in OpenTelemetry is an attribute associated with a span that indicates the nature of the span. Spans can be of two primary types: SpanKind.SERVER and SpanKind.CLIENT, which are used to represent incoming and outgoing requests, respectively. Using SpanKind helps clearly distinguish whether a span represents an incoming or outgoing request. Spans in OpenTelemetry are often accompanied by labels that provide additional information.</p>\n<p>Root Span: The root span is the top-level span in a trace tree and represents the beginning of a trace. Usually, the root span is created in the main application or at the top of a call hierarchy. Creating the root span is crucial because all other spans within a trace are direct children or descendants of the root span. There's nothing particularly special about creating a root span, but it's essential to do so at the beginning of processing a request or transaction.</p>\n<p>Order of Span Termination: The order in which spans are terminated is important to accurately establish the duration and temporal relationships between spans. In your scenario, A should finish its span before B or C begin processing. This is important to ensure that timings are correct in the trace. You can do this by using the end() method on spans, as you mentioned. Make sure to end one span before starting another to correctly represent the temporal order of operations.</p>\n<p>Regarding your custom binary UDP protocol and trace context propagation, you'll need to implement custom trace context propagation through your services based on the protocol you use for UDP communication. Additionally, you'll need to ensure that each service has an OpenTelemetry library configured to collect telemetry data and propagate trace context correctly.</p>\n"}],"owner":{"account_id":19466002,"reputation":445,"user_id":14239262,"display_name":"eof"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77123126,"answer_count":1,"score":0,"last_activity_date":1694976089,"creation_date":1694975056,"question_id":77123100,"body_markdown":"I&#39;m completely new to OpenTelemetry and trying to figure out some things. Assume I have a chain of services:\r\n\r\n    A ----&gt; B ----&gt; C\r\n\r\nThe services communicate with each other over a custom binary UDP protocol. There&#39;s also a fan out step at B to C and all processing is asynchronous, so A won&#39;t wait for B to process the data it gets and the same applies to C. I can embed trace IDs in the data, so I&#39;m able to use a propagator to propagate a trace context.\r\n\r\nNow my questions:\r\n\r\n1. Is the `SpanKind` of a span just a label or does it actually change the semantics of a span?\r\n1. Since the processing tree starts at A we must create the root span at A. Is the root span somehow special to create? I&#39;m currently just doing `tracer.spanBuilder(&quot;foo&quot;).startSpan()`\r\n2. A must call `end()` on the span it creates before B or C starts processing. The subspan of B must also call end before C starts processing. Will this cause any problem or do I just need to set the correct `SpanKind`?","title":"OpenTelemetry with fan out and custom protocol","body":"<p>I'm completely new to OpenTelemetry and trying to figure out some things. Assume I have a chain of services:</p>\n<pre><code>A ----&gt; B ----&gt; C\n</code></pre>\n<p>The services communicate with each other over a custom binary UDP protocol. There's also a fan out step at B to C and all processing is asynchronous, so A won't wait for B to process the data it gets and the same applies to C. I can embed trace IDs in the data, so I'm able to use a propagator to propagate a trace context.</p>\n<p>Now my questions:</p>\n<ol>\n<li>Is the <code>SpanKind</code> of a span just a label or does it actually change the semantics of a span?</li>\n<li>Since the processing tree starts at A we must create the root span at A. Is the root span somehow special to create? I'm currently just doing <code>tracer.spanBuilder(&quot;foo&quot;).startSpan()</code></li>\n<li>A must call <code>end()</code> on the span it creates before B or C starts processing. The subspan of B must also call end before C starts processing. Will this cause any problem or do I just need to set the correct <code>SpanKind</code>?</li>\n</ol>\n"},{"tags":["java","spring-boot","spring-mvc","spring-security","audit"],"answers":[{"tags":[],"owner":{"account_id":28330620,"reputation":58,"user_id":21664963,"display_name":"bdev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694975834,"creation_date":1694975834,"answer_id":77123144,"question_id":77120086,"body_markdown":"One way to achieve this would be to use a ThreadLocal to keep the JWT token. The ThreadLocal variable can be created inside a filter and then store the token inside the variable.\r\n\r\nThis link has a similar answer but for RestTemplate,\r\nhttps://stackoverflow.com/questions/46729203/propagate-http-header-jwt-token-over-services-using-spring-rest-template\r\n\r\n","title":"Where to inject custom audit service in a spring boot application","body":"<p>One way to achieve this would be to use a ThreadLocal to keep the JWT token. The ThreadLocal variable can be created inside a filter and then store the token inside the variable.</p>\n<p>This link has a similar answer but for RestTemplate,\n<a href=\"https://stackoverflow.com/questions/46729203/propagate-http-header-jwt-token-over-services-using-spring-rest-template\">Propagate HTTP header (JWT Token) over services using spring rest template</a></p>\n"}],"owner":{"account_id":26653555,"reputation":1,"user_id":20267470,"display_name":"martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694975834,"creation_date":1694910952,"question_id":77120086,"body_markdown":"I have a multi-module spring boot app, and every module has a dependency on an audit service (which is defined in a &#39;helper&#39; module, only has a method called audit() and all it actually does is calling another application with WebClient, sending some data about the current user).\r\n\r\nCurrently, it is being injected into each module&#39;s service class and it just sends some hardcoded data (because the authentication wasn&#39;t ready yet), but now I need to extract the user info (from the OAuth JWT claims) and actually pass that along with the token to make an authenticated request to the audit application. \r\n\r\n*pseudocode of one of the modules&#39; main service*\r\n\r\n    class ActualService {\r\n        \r\n       AuditService auditSvc\r\n       ActualRepository actualRepo\r\n    \r\n       public void updateSomething(RequestDTO request, JWT authenticatedUser) {\r\n           ....doSomething()\r\n           auditSvc.audit(someHardcodedValues)\r\n       }\r\n    \r\n    }\r\n\r\nWhat would be a proper way of accomplishing this? I&#39;m thinking about injecting the audit service into each module&#39;s controller and call the audit method  (and passing it the entire JWT) after calling the actual main service method and before returning the response to the client. \r\n\r\n*like this*\r\n\r\n    class ActualController {\r\n\r\n        AuditService auditSvc\r\n        ActualService actualService\r\n    \r\n        @PutMapping\r\n        public ResponseEntity&lt;String&gt; updateSomething(RequestDTO request, JWT authenticatedUser) {\r\n           actualService.updateSomething(request, authenticatedUser)\r\n           auditSvc.audit(authenticatedUser)\r\n           return ResponseEntity.OK\r\n        } \r\n    \r\n    }\r\n\r\n\r\nBut I don&#39;t know if it&#39;s a good approach. Any sensible ideas welcome, thank you\r\n","title":"Where to inject custom audit service in a spring boot application","body":"<p>I have a multi-module spring boot app, and every module has a dependency on an audit service (which is defined in a 'helper' module, only has a method called audit() and all it actually does is calling another application with WebClient, sending some data about the current user).</p>\n<p>Currently, it is being injected into each module's service class and it just sends some hardcoded data (because the authentication wasn't ready yet), but now I need to extract the user info (from the OAuth JWT claims) and actually pass that along with the token to make an authenticated request to the audit application.</p>\n<p><em>pseudocode of one of the modules' main service</em></p>\n<pre><code>class ActualService {\n    \n   AuditService auditSvc\n   ActualRepository actualRepo\n\n   public void updateSomething(RequestDTO request, JWT authenticatedUser) {\n       ....doSomething()\n       auditSvc.audit(someHardcodedValues)\n   }\n\n}\n</code></pre>\n<p>What would be a proper way of accomplishing this? I'm thinking about injecting the audit service into each module's controller and call the audit method  (and passing it the entire JWT) after calling the actual main service method and before returning the response to the client.</p>\n<p><em>like this</em></p>\n<pre><code>class ActualController {\n\n    AuditService auditSvc\n    ActualService actualService\n\n    @PutMapping\n    public ResponseEntity&lt;String&gt; updateSomething(RequestDTO request, JWT authenticatedUser) {\n       actualService.updateSomething(request, authenticatedUser)\n       auditSvc.audit(authenticatedUser)\n       return ResponseEntity.OK\n    } \n\n}\n</code></pre>\n<p>But I don't know if it's a good approach. Any sensible ideas welcome, thank you</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":11,"creation_date":1424618307,"post_id":28659462,"comment_id":45614492,"body_markdown":"You should **never** ignore exceptions. You should **never** catch `Exception`. Either you plan to catch and handle a **specific** exception or  you cannot handle it, and let it percolate up the stack.","body":"You should <b>never</b> ignore exceptions. You should <b>never</b> catch <code>Exception</code>. Either you plan to catch and handle a <b>specific</b> exception or  you cannot handle it, and let it percolate up the stack."},{"owner":{"account_id":3264778,"reputation":2635,"user_id":2749470,"accept_rate":92,"display_name":"Bhargav Modi"},"score":2,"creation_date":1424618319,"post_id":28659462,"comment_id":45614494,"body_markdown":"remove `throws` from the method signature of `setSomething1(int a);`","body":"remove <code>throws</code> from the method signature of <code>setSomething1(int a);</code>"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1424618329,"post_id":28659462,"comment_id":45614498,"body_markdown":"In my experience stating &quot;probably won&#39;t&quot; *almost certainly will*, simply by Murphy&#39;s Law. And if you&#39;ve hidden the exception, you won&#39;t know when it does.","body":"In my experience stating &quot;probably won&#39;t&quot; <i>almost certainly will</i>, simply by Murphy&#39;s Law. And if you&#39;ve hidden the exception, you won&#39;t know when it does."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1424618504,"post_id":28659462,"comment_id":45614555,"body_markdown":"@BoristheSpider - it&#39;s OK to catch it if you subsequently rethrow it.","body":"@BoristheSpider - it&#39;s OK to catch it if you subsequently rethrow it."},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1424618541,"post_id":28659462,"comment_id":45614573,"body_markdown":"@AndyTurner that really depends. It&#39;s rarely a good idea to catch `Exception`.","body":"@AndyTurner that really depends. It&#39;s rarely a good idea to catch <code>Exception</code>."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1424618586,"post_id":28659462,"comment_id":45614590,"body_markdown":"@BoristheSpider OK, it *can* be OK to catch it then. I totally agree it is best avoided.","body":"@BoristheSpider OK, it <i>can</i> be OK to catch it then. I totally agree it is best avoided."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1424618919,"post_id":28659462,"comment_id":45614700,"body_markdown":"@AndyTurner Catching and rethrowing is always OK with respect to the propagation of exceptions. However, the common mistake is to catch, *log*, and rethrow. Repeated on several layers on the call stack, this results in the notorious polution of the logs with repeated error messages.","body":"@AndyTurner Catching and rethrowing is always OK with respect to the propagation of exceptions. However, the common mistake is to catch, <i>log</i>, and rethrow. Repeated on several layers on the call stack, this results in the notorious polution of the logs with repeated error messages."}],"answers":[{"tags":[],"owner":{"account_id":2974767,"reputation":2943,"user_id":2526056,"display_name":"Dogs"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1424618488,"creation_date":1424618488,"answer_id":28659520,"question_id":28659462,"body_markdown":"Unfortunately no, there isn&#39;t, and this is by intention. When used correctly, exceptions should not be ignored as they indicate that something didn&#39;t work and that you probably shouldn&#39;t continue down your normal execution path. Completely ignoring exceptions is an example of the &#39;Sweep it under the rug&#39; anti-pattern, which is why the language doesn&#39;t support doing so easily.\r\n\r\nPerhaps you should look at why TestClass.setSomething is throwing exceptions. Is whatever you&#39;re trying to &#39;test&#39; really going to be valid if a bunch of setter methods didn&#39;t work correctly?","title":"How to ignore Exceptions in Java","body":"<p>Unfortunately no, there isn't, and this is by intention. When used correctly, exceptions should not be ignored as they indicate that something didn't work and that you probably shouldn't continue down your normal execution path. Completely ignoring exceptions is an example of the 'Sweep it under the rug' anti-pattern, which is why the language doesn't support doing so easily.</p>\n\n<p>Perhaps you should look at why TestClass.setSomething is throwing exceptions. Is whatever you're trying to 'test' really going to be valid if a bunch of setter methods didn't work correctly?</p>\n"},{"tags":[],"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1424618517,"creation_date":1424618517,"answer_id":28659524,"question_id":28659462,"body_markdown":"You should not ignore Exceptions. You should handle them. If you want to make your test code simple, then add the try-catch block into your functions. The greatest way to ignore exceptions is to prevent them by proper coding.","title":"How to ignore Exceptions in Java","body":"<p>You should not ignore Exceptions. You should handle them. If you want to make your test code simple, then add the try-catch block into your functions. The greatest way to ignore exceptions is to prevent them by proper coding.</p>\n"},{"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1424618740,"creation_date":1424618740,"answer_id":28659550,"question_id":28659462,"body_markdown":"You can&#39;t ignore exception in Java. If a method declares being able to throw something this is because something important can&#39;t be done, and the error can&#39;t be corrected by the method designer. So if you really wan&#39;t to simplify your life encapsulate the method call in some other method like this :\r\n\r\n    class MyExceptionFreeClass {\r\n      public static void setSomething1(TestClass t,int v) {\r\n        try {\r\n          t.setSomething1(v);\r\n        } catch (Exception e) {}\r\n      public static void setSomething2(TestClass t,int v) {\r\n        try {\r\n          t.setSomething2(v);\r\n        } catch (Exception e) {}\r\n    }\r\n\r\nand call it when you need it:\r\n\r\n    TestClass test=new TestClass();\r\n    MyExceptionFreeClass.setSomething1(test,0);\r\n    MyExceptionFreeClass.setSomething2(test,0);","title":"How to ignore Exceptions in Java","body":"<p>You can't ignore exception in Java. If a method declares being able to throw something this is because something important can't be done, and the error can't be corrected by the method designer. So if you really wan't to simplify your life encapsulate the method call in some other method like this :</p>\n\n<pre><code>class MyExceptionFreeClass {\n  public static void setSomething1(TestClass t,int v) {\n    try {\n      t.setSomething1(v);\n    } catch (Exception e) {}\n  public static void setSomething2(TestClass t,int v) {\n    try {\n      t.setSomething2(v);\n    } catch (Exception e) {}\n}\n</code></pre>\n\n<p>and call it when you need it:</p>\n\n<pre><code>TestClass test=new TestClass();\nMyExceptionFreeClass.setSomething1(test,0);\nMyExceptionFreeClass.setSomething2(test,0);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1255572,"reputation":42820,"user_id":1215106,"accept_rate":82,"display_name":"Ωmega"},"score":0,"creation_date":1520252391,"post_id":28659553,"comment_id":85225696,"body_markdown":"Can I do something like this? &gt;&gt; `ignoringExc(() -&gt; { /* code inside */ });`","body":"Can I do something like this? &gt;&gt; <code>ignoringExc(() -&gt; { &#47;* code inside *&#47; });</code>"},{"owner":{"account_id":13393595,"reputation":787,"user_id":9665272,"display_name":"Superior"},"score":0,"creation_date":1592053399,"post_id":28659553,"comment_id":110289585,"body_markdown":"@Ωmega Yes you can. `() -&gt; {}` is [lambda](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html)","body":"@Ωmega Yes you can. <code>() -&gt; {}</code> is <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">lambda</a>"},{"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"score":1,"creation_date":1634192869,"post_id":28659553,"comment_id":122960327,"body_markdown":"I suggest to not use the global Exception type and instead use the exact exception that we are trying to ignore. This is because it is risky to ignore all exceptions blindly, and maybe we can add log inside the catch exception and use a lower level logging like trace or debug.","body":"I suggest to not use the global Exception type and instead use the exact exception that we are trying to ignore. This is because it is risky to ignore all exceptions blindly, and maybe we can add log inside the catch exception and use a lower level logging like trace or debug."},{"owner":{"account_id":15292555,"reputation":152,"user_id":11036999,"display_name":"ManSamVampire"},"score":0,"creation_date":1680794153,"post_id":28659553,"comment_id":133961128,"body_markdown":"Just to simplify the above - there is no need to create a new functional interface - the built-in `java.util.concurrent.Callable` has a `call()` method that throws the generic `Exception` ([source](https://stackoverflow.com/questions/22687943/))","body":"Just to simplify the above - there is no need to create a new functional interface - the built-in <code>java.util.concurrent.Callable</code> has a <code>call()</code> method that throws the generic <code>Exception</code> (<a href=\"https://stackoverflow.com/questions/22687943/\">source</a>)"}],"tags":[],"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"comment_count":4,"down_vote_count":1,"up_vote_count":41,"is_accepted":true,"score":40,"last_activity_date":1634193545,"creation_date":1424618765,"answer_id":28659553,"question_id":28659462,"body_markdown":"There is no way to fundamentally ignore a thrown exception. The best that you can do is minimize the boilerplate you need to wrap the exception-throwing code in.\r\n\r\nIf you are on Java 8, you can use this:\r\n\r\n    public static void ignoringExc(RunnableExc r) {\r\n      try { r.run(); } catch (Exception e) { }\r\n    }\r\n\r\n    @FunctionalInterface public interface RunnableExc { void run() throws Exception; }\r\n\r\nThen, and implying static imports, your code becomes\r\n\r\n    ignoringExc(() -&gt; test.setSomething1(0));\r\n    ignoringExc(() -&gt; test.setSomething2(0));","title":"How to ignore Exceptions in Java","body":"<p>There is no way to fundamentally ignore a thrown exception. The best that you can do is minimize the boilerplate you need to wrap the exception-throwing code in.</p>\n<p>If you are on Java 8, you can use this:</p>\n<pre><code>public static void ignoringExc(RunnableExc r) {\n  try { r.run(); } catch (Exception e) { }\n}\n\n@FunctionalInterface public interface RunnableExc { void run() throws Exception; }\n</code></pre>\n<p>Then, and implying static imports, your code becomes</p>\n<pre><code>ignoringExc(() -&gt; test.setSomething1(0));\nignoringExc(() -&gt; test.setSomething2(0));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6068289,"reputation":3592,"user_id":4737909,"accept_rate":45,"display_name":"Lorenzo Lerate"},"score":24,"creation_date":1479386950,"post_id":39518748,"comment_id":68541675,"body_markdown":"ignore is the name you assign to the Exception, it does not matter what name you give","body":"ignore is the name you assign to the Exception, it does not matter what name you give"},{"owner":{"account_id":1342983,"reputation":396,"user_id":1284291,"display_name":"davkutalek"},"score":30,"creation_date":1531146699,"post_id":39518748,"comment_id":89474751,"body_markdown":"yes, but Lint will ignore it, so you won&#39;t get a warning","body":"yes, but Lint will ignore it, so you won&#39;t get a warning"},{"owner":{"account_id":3076776,"reputation":1444,"user_id":2605902,"accept_rate":62,"display_name":"Stimpson Cat"},"score":0,"creation_date":1559123116,"post_id":39518748,"comment_id":99319072,"body_markdown":"Does not make it any better. Like Boris the Spider commented: You should never ignore Exceptions.","body":"Does not make it any better. Like Boris the Spider commented: You should never ignore Exceptions."},{"owner":{"account_id":11228459,"reputation":71,"user_id":8237398,"display_name":"Roberto Messa"},"score":0,"creation_date":1694973209,"post_id":39518748,"comment_id":135958749,"body_markdown":"There are situations where an exception must be ignored. Ex. findByEmail. If email does not exists, an exception is thrown. when a new account is to be created, findByEmail will be executed, the exception must be ignored and the new account be created.","body":"There are situations where an exception must be ignored. Ex. findByEmail. If email does not exists, an exception is thrown. when a new account is to be created, findByEmail will be executed, the exception must be ignored and the new account be created."}],"tags":[],"owner":{"account_id":463465,"reputation":4099,"user_id":866390,"accept_rate":51,"display_name":"Joe Almore"},"comment_count":4,"down_vote_count":9,"up_vote_count":58,"is_accepted":false,"score":49,"last_activity_date":1473967079,"creation_date":1473967079,"answer_id":39518748,"question_id":28659462,"body_markdown":"    try {\r\n     // Your code...\r\n    } catch (Exception ignore) { }\r\n\r\nUse the word `ignore` after the `Exception` keyword.","title":"How to ignore Exceptions in Java","body":"<pre><code>try {\n // Your code...\n} catch (Exception ignore) { }\n</code></pre>\n\n<p>Use the word <code>ignore</code> after the <code>Exception</code> keyword.</p>\n"},{"tags":[],"owner":{"account_id":10161846,"reputation":91,"user_id":7505068,"display_name":"ivanoklid"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1562064731,"creation_date":1562064731,"answer_id":56850831,"question_id":28659462,"body_markdown":"IntelliJ Idea IDE suggests to rename a variable to ```ignored```\r\n\r\n when it isn&#39;t used.\r\n\r\nThis is my sample code.\r\n\r\n    try {\r\n        messageText = rs.getString(&quot;msg&quot;);\r\n        errorCode = rs.getInt(&quot;error_code&quot;);\r\n    } catch (SQLException ignored) { }\r\n\r\n","title":"How to ignore Exceptions in Java","body":"<p>IntelliJ Idea IDE suggests to rename a variable to <code>ignored</code></p>\n\n<p>when it isn't used.</p>\n\n<p>This is my sample code.</p>\n\n<pre><code>try {\n    messageText = rs.getString(\"msg\");\n    errorCode = rs.getInt(\"error_code\");\n} catch (SQLException ignored) { }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3861935,"reputation":73,"user_id":11374528,"display_name":"user25839"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564585181,"creation_date":1564585181,"answer_id":57293741,"question_id":28659462,"body_markdown":"I know this is old, but I do think there are occasions when you want to ignore an exception. Consider you have a string that contains a delimited set of parts to be parsed. But, this string can sometimes contain say, 6 or 7 or 8 parts. I don&#39;t feel that checking the len each time in order to establish an element exists in the array is as straight forward as simply catching the exception and going on. For example, I have a string delimited by &#39;/&#39; character that I want to break apart:\r\n\r\n    public String processLine(String inLine) {\r\n        partsArray = inLine.split(&quot;/&quot;);\r\n        \r\n        //For brevity, imagine lines here that initialize\r\n        //String elems[0-7] = &quot;&quot;;\r\n\r\n        //Now, parts array may contains 6, 7, or 8 elements\r\n        //But if less than 8, will throw the exception\r\n        try {\r\n            elem0 = partsArray[0];\r\n            elem1 = partsArray[1];\r\n            elem2 = partsArray[2];\r\n            elem3 = partsArray[3];\r\n            elem4 = partsArray[4];\r\n            elem5 = partsArray[5];\r\n            elem6 = partsArray[6];\r\n            elem7 = partsArray[7];\r\n        catch (ArrayIndexOutOfBoundsException ignored) { }\r\n\r\n        //Just to complete the example, we&#39;ll append all the values\r\n        //and any values that didn&#39;t have parts will still be\r\n        //the value we initialized it to, in this case a space.\r\n        sb.append(elem0).append(elem1).append(elem2)...append(elem7);\r\n\r\n        //and return our string of 6, 7, or 8 parts\r\n        //And YES, obviously, this is returning pretty much\r\n        //the same string, minus the delimiter.\r\n        //You would likely do things to those elem values\r\n        //and then return the string in a more formatted way.\r\n        //But was just to put out an example where\r\n        //you really might want to ignore the exception\r\n        return sb.toString();\r\n    }\r\n","title":"How to ignore Exceptions in Java","body":"<p>I know this is old, but I do think there are occasions when you want to ignore an exception. Consider you have a string that contains a delimited set of parts to be parsed. But, this string can sometimes contain say, 6 or 7 or 8 parts. I don't feel that checking the len each time in order to establish an element exists in the array is as straight forward as simply catching the exception and going on. For example, I have a string delimited by '/' character that I want to break apart:</p>\n\n<pre><code>public String processLine(String inLine) {\n    partsArray = inLine.split(\"/\");\n\n    //For brevity, imagine lines here that initialize\n    //String elems[0-7] = \"\";\n\n    //Now, parts array may contains 6, 7, or 8 elements\n    //But if less than 8, will throw the exception\n    try {\n        elem0 = partsArray[0];\n        elem1 = partsArray[1];\n        elem2 = partsArray[2];\n        elem3 = partsArray[3];\n        elem4 = partsArray[4];\n        elem5 = partsArray[5];\n        elem6 = partsArray[6];\n        elem7 = partsArray[7];\n    catch (ArrayIndexOutOfBoundsException ignored) { }\n\n    //Just to complete the example, we'll append all the values\n    //and any values that didn't have parts will still be\n    //the value we initialized it to, in this case a space.\n    sb.append(elem0).append(elem1).append(elem2)...append(elem7);\n\n    //and return our string of 6, 7, or 8 parts\n    //And YES, obviously, this is returning pretty much\n    //the same string, minus the delimiter.\n    //You would likely do things to those elem values\n    //and then return the string in a more formatted way.\n    //But was just to put out an example where\n    //you really might want to ignore the exception\n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":251709,"reputation":2827,"user_id":529286,"accept_rate":84,"display_name":"zakmck"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605550364,"creation_date":1605550364,"answer_id":64863419,"question_id":28659462,"body_markdown":"Those who write empty catch blocks shall burn in the Hell for the eternity.\r\n\r\nOr worse, they will be forced to debug the damn rubbish they wrote forever and ever.\r\n\r\nThat said, one thing you might want to do is writing exception handling in a less verbose way. The [NoException library](https://noexception.machinezoo.com/) is very good at that.","title":"How to ignore Exceptions in Java","body":"<p>Those who write empty catch blocks shall burn in the Hell for the eternity.</p>\n<p>Or worse, they will be forced to debug the damn rubbish they wrote forever and ever.</p>\n<p>That said, one thing you might want to do is writing exception handling in a less verbose way. The <a href=\"https://noexception.machinezoo.com/\" rel=\"nofollow noreferrer\">NoException library</a> is very good at that.</p>\n"},{"tags":[],"owner":{"account_id":11228459,"reputation":71,"user_id":8237398,"display_name":"Roberto Messa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694974068,"creation_date":1694974068,"answer_id":77123048,"question_id":28659462,"body_markdown":"You can ignore exceptions as long as it makes sense.\r\nIn this case, there can be no repeated email accounts.\r\n\r\nSo, if findByEmail does not throw the exception, you throw the exception that really matters in the specific case\r\n```\r\n        try {\r\n\r\n            this.findByEmail();\r\n\r\n            throw new EmailAlreadyExistsException();\r\n\r\n        } catch (AccountNotFoundException ignored) {\r\n           \r\n        } catch (InvalidAccountStatusException e) {\r\n            throw e;\r\n        }\r\n\r\n        this.createAccount();\r\n```","title":"How to ignore Exceptions in Java","body":"<p>You can ignore exceptions as long as it makes sense.\nIn this case, there can be no repeated email accounts.</p>\n<p>So, if findByEmail does not throw the exception, you throw the exception that really matters in the specific case</p>\n<pre><code>        try {\n\n            this.findByEmail();\n\n            throw new EmailAlreadyExistsException();\n\n        } catch (AccountNotFoundException ignored) {\n           \n        } catch (InvalidAccountStatusException e) {\n            throw e;\n        }\n\n        this.createAccount();\n</code></pre>\n"}],"owner":{"account_id":3050739,"reputation":1763,"user_id":2585366,"accept_rate":59,"display_name":"Nick"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131644,"favorite_count":0,"down_vote_count":2,"up_vote_count":45,"accepted_answer_id":28659553,"answer_count":9,"score":43,"last_activity_date":1694974068,"creation_date":1424618135,"question_id":28659462,"body_markdown":"I have the following code:\r\n\r\n    TestClass test=new TestClass();\r\n    test.setSomething1(0);  //could, but probably won&#39;t throw Exception\r\n    test.setSomething2(0);  //could, but probably won&#39;t throw Exception\r\n\r\nI would like to execute: `test.setSomething2(0);` even if `test.setSomething(0)` (the line above it) throws an exception. Is there a way to do this OTHER than:\r\n\r\n    try{\r\n       test.setSomething1(0);\r\n    }catch(Exception e){\r\n       //ignore\r\n    }\r\n    try{\r\n       test.setSomething2(0);\r\n    }catch(Exception e){\r\n       //ignore\r\n    }\r\n\r\n    \r\nI have a lot of test.setSomething&#39;s in a row and all of them could throw Exceptions. If they do, I just want to skip that line and move to the next one.\r\n\r\nFor clarification, I don&#39;t care if it throws an Exception, and I can&#39;t edit the source code of the code which throws this exception. \r\n\r\nTHIS IS A CASE WHERE I DON&#39;T CARE ABOUT THE EXCEPTIONS (please don&#39;t use universally quantified statements like &quot;you should never ignore Exceptions&quot;). I am setting the values of some Object. When I present the values to a user, I do null checks anyway, so it doesn&#39;t actually matter if any of the lines of code execute.","title":"How to ignore Exceptions in Java","body":"<p>I have the following code:</p>\n\n<pre><code>TestClass test=new TestClass();\ntest.setSomething1(0);  //could, but probably won't throw Exception\ntest.setSomething2(0);  //could, but probably won't throw Exception\n</code></pre>\n\n<p>I would like to execute: <code>test.setSomething2(0);</code> even if <code>test.setSomething(0)</code> (the line above it) throws an exception. Is there a way to do this OTHER than:</p>\n\n<pre><code>try{\n   test.setSomething1(0);\n}catch(Exception e){\n   //ignore\n}\ntry{\n   test.setSomething2(0);\n}catch(Exception e){\n   //ignore\n}\n</code></pre>\n\n<p>I have a lot of test.setSomething's in a row and all of them could throw Exceptions. If they do, I just want to skip that line and move to the next one.</p>\n\n<p>For clarification, I don't care if it throws an Exception, and I can't edit the source code of the code which throws this exception. </p>\n\n<p>THIS IS A CASE WHERE I DON'T CARE ABOUT THE EXCEPTIONS (please don't use universally quantified statements like \"you should never ignore Exceptions\"). I am setting the values of some Object. When I present the values to a user, I do null checks anyway, so it doesn't actually matter if any of the lines of code execute.</p>\n"},{"tags":["java","concurrency","concurrenthashmap"],"comments":[{"owner":{"account_id":21224895,"reputation":328,"user_id":15610766,"display_name":"Dolfinwu"},"score":2,"creation_date":1694931563,"post_id":77120649,"comment_id":135954703,"body_markdown":"I personally think your interpretation is correct. To atomically check and update a value in a ConcurrentHashMap, the compute method should be the way to go. If you want to leave the mapping unchanged when using compute, you should return the current value for that key. In this way the mapping remains the same and the computation doesn&#39;t change it unnecessarily.","body":"I personally think your interpretation is correct. To atomically check and update a value in a ConcurrentHashMap, the compute method should be the way to go. If you want to leave the mapping unchanged when using compute, you should return the current value for that key. In this way the mapping remains the same and the computation doesn&#39;t change it unnecessarily."}],"answers":[{"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1694953869,"post_id":77120784,"comment_id":135956534,"body_markdown":"Using `computeIfPresent` means first time use of some key in empty map won&#39;t insert any high score, so `compute` is better here.","body":"Using <code>computeIfPresent</code> means first time use of some key in empty map won&#39;t insert any high score, so <code>compute</code> is better here."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1694974545,"post_id":77120784,"comment_id":135958913,"body_markdown":"@DuncG, yes although they are referring to updating the values, not creating them.","body":"@DuncG, yes although they are referring to updating the values, not creating them."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694933676,"creation_date":1694933676,"answer_id":77120784,"question_id":77120649,"body_markdown":"&gt; _&#39;... ConcurrentHashMap looks like the way to go, but I&#39;m surprised to see that there doesn&#39;t seem to be a simple way to atomically check the current value in the map and update it conditionally. ...&#39;_\r\n\r\nThe _ConcurrentHashMap_ class is optimized for threaded operations, so the provided methods should all function in an _atomic_ manner.\r\n\r\n&gt; _&#39;... I have tried using `compute`, but it seems to me there is no way to say &quot;As a result of my computation I&#39;d like to leave the current entry in place.&quot; I was hoping that returning `null` from the compute function would achieve this, but it removes the current entry. ...&#39;_\r\n\r\nUtilize the _[computeIfPresent](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#computeIfPresent(K,java.util.function.BiFunction))_ method.\r\n\r\nHere is an example.\r\n\r\n```java\r\nint highScore = 200;\r\nmap.computeIfPresent(&quot;abc&quot;, (k, v) -&gt; highScore &gt; v ? highScore : v);\r\n```\r\n\r\n&gt; _&#39;... I believe the syncronising only locks that that one mapping (or at least bucket), not the whole map.. ...&#39;_\r\n\r\nHere is the _[OpenJDK](https://openjdk.org/)_ source for the _computeIfPresent_ method.\r\n- _[GitHub &amp;ndash; java/util/concurrent/ConcurrentHashMap.java](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L1805)_.\r\n\r\nAt least for this method, the synchronization is on the _f_ _Node_ object, rather than the method, or the instance.  \r\nThe entire class is quite optimized.","title":"How to conditionally put a value into concurrent hashmap?","body":"<blockquote>\n<p><em>'... ConcurrentHashMap looks like the way to go, but I'm surprised to see that there doesn't seem to be a simple way to atomically check the current value in the map and update it conditionally. ...'</em></p>\n</blockquote>\n<p>The <em>ConcurrentHashMap</em> class is optimized for threaded operations, so the provided methods should all function in an <em>atomic</em> manner.</p>\n<blockquote>\n<p><em>'... I have tried using <code>compute</code>, but it seems to me there is no way to say &quot;As a result of my computation I'd like to leave the current entry in place.&quot; I was hoping that returning <code>null</code> from the compute function would achieve this, but it removes the current entry. ...'</em></p>\n</blockquote>\n<p>Utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#computeIfPresent(K,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\">computeIfPresent</a></em> method.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int highScore = 200;\nmap.computeIfPresent(&quot;abc&quot;, (k, v) -&gt; highScore &gt; v ? highScore : v);\n</code></pre>\n<blockquote>\n<p><em>'... I believe the syncronising only locks that that one mapping (or at least bucket), not the whole map.. ...'</em></p>\n</blockquote>\n<p>Here is the <em><a href=\"https://openjdk.org/\" rel=\"nofollow noreferrer\">OpenJDK</a></em> source for the <em>computeIfPresent</em> method.</p>\n<ul>\n<li><em><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L1805\" rel=\"nofollow noreferrer\">GitHub – java/util/concurrent/ConcurrentHashMap.java</a></em>.</li>\n</ul>\n<p>At least for this method, the synchronization is on the <em>f</em> <em>Node</em> object, rather than the method, or the instance.<br />\nThe entire class is quite optimized.</p>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694965316,"creation_date":1694965316,"answer_id":77122541,"question_id":77120649,"body_markdown":"A ConcurrentHashMap will ensure thread-safe update for your situation. As well as `compute`, you could also use `merge`. `merge` accepts the new value as a parameter rather than need to encode it in the remapping function. Example:\r\n\r\n    ConcurrentHashMap&lt;String,Integer&gt; scores = new ConcurrentHashMap&lt;&gt;();\r\n    BiFunction&lt;Integer, Integer, Integer&gt; max = \r\n               (oldv,newv) -&gt; oldv == null || oldv &lt; newv ? newv : oldv;\r\n\r\n    scores.merge(&quot;a&quot;, 2, max);\r\n    scores.merge(&quot;a&quot;, 4, max);\r\n    scores.merge(&quot;b&quot;, 9, max);\r\n    scores.merge(&quot;b&quot;, 5, max);\r\n\r\n    System.out.println(&quot;High Scores: &quot;+scores);\r\n    // Prints:  High Scores: {a=4, b=9}\r\n\r\nAs with compute, you need to return the old / existing value to ensure the key is not removed by the operation.","title":"How to conditionally put a value into concurrent hashmap?","body":"<p>A ConcurrentHashMap will ensure thread-safe update for your situation. As well as <code>compute</code>, you could also use <code>merge</code>. <code>merge</code> accepts the new value as a parameter rather than need to encode it in the remapping function. Example:</p>\n<pre><code>ConcurrentHashMap&lt;String,Integer&gt; scores = new ConcurrentHashMap&lt;&gt;();\nBiFunction&lt;Integer, Integer, Integer&gt; max = \n           (oldv,newv) -&gt; oldv == null || oldv &lt; newv ? newv : oldv;\n\nscores.merge(&quot;a&quot;, 2, max);\nscores.merge(&quot;a&quot;, 4, max);\nscores.merge(&quot;b&quot;, 9, max);\nscores.merge(&quot;b&quot;, 5, max);\n\nSystem.out.println(&quot;High Scores: &quot;+scores);\n// Prints:  High Scores: {a=4, b=9}\n</code></pre>\n<p>As with compute, you need to return the old / existing value to ensure the key is not removed by the operation.</p>\n"},{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694973300,"creation_date":1694973300,"answer_id":77123007,"question_id":77120649,"body_markdown":"You can use the `compute` method of `ConcurrentHashMap` to atomically check and conditionally update a value. If you want to leave the current entry in place, you should return the current value instead of `null`. Returning `null` from the `compute` function will remove the current entry. Here is the corrected code:\r\n\r\n    h.compute(&quot;TEST&quot;,(k,v) -&gt; {\r\n        if (v != null &amp;&amp; v.equals(&quot;changeme&quot;)){\r\n            return &quot;CHANGED&quot;;\r\n        }\r\n        else {\r\n            return v; // return current value to leave the entry in place\r\n        }\r\n    });\r\n\r\nThis way, the value will only be updated if it equals &quot;changeme&quot;, otherwise it will remain the same. The `compute` method ensures atomicity of the operation.\r\n\r\nIf you are concerned that returning value will update it anyway, then there is no need - it does not cause any problems related to efficiency or thread safety. The whole operation is anyway under synchronized block as you can see here:\r\n\r\nhttps://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L1942","title":"How to conditionally put a value into concurrent hashmap?","body":"<p>You can use the <code>compute</code> method of <code>ConcurrentHashMap</code> to atomically check and conditionally update a value. If you want to leave the current entry in place, you should return the current value instead of <code>null</code>. Returning <code>null</code> from the <code>compute</code> function will remove the current entry. Here is the corrected code:</p>\n<pre><code>h.compute(&quot;TEST&quot;,(k,v) -&gt; {\n    if (v != null &amp;&amp; v.equals(&quot;changeme&quot;)){\n        return &quot;CHANGED&quot;;\n    }\n    else {\n        return v; // return current value to leave the entry in place\n    }\n});\n</code></pre>\n<p>This way, the value will only be updated if it equals &quot;changeme&quot;, otherwise it will remain the same. The <code>compute</code> method ensures atomicity of the operation.</p>\n<p>If you are concerned that returning value will update it anyway, then there is no need - it does not cause any problems related to efficiency or thread safety. The whole operation is anyway under synchronized block as you can see here:</p>\n<p><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L1942\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L1942</a></p>\n"}],"owner":{"account_id":781972,"reputation":2698,"user_id":832200,"accept_rate":62,"display_name":"Bruce"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1694973300,"creation_date":1694930228,"question_id":77120649,"body_markdown":"I maintain a map of high scores for different games. When I receive a new score, I want to be able to check if the score is higher than the current high score, and if so, make it the new high score for that game in the map.\r\n\r\nConcurrentHashMap looks like the way to go, but I&#39;m surprised to see that there doesn&#39;t seem to be a simple way to atomically check the current value in the map and update it conditionally.\r\n\r\nI have tried using `compute`, but it seems to me there is no way to say &quot;As a result of my computation I&#39;d like to leave the current entry in place.&quot; I was hoping that returning `null` from the compute function would achieve this, but it removes the current entry. \r\n\r\nMy example code:\r\n\r\n    import java.util.concurrent.ConcurrentHashMap;\r\n    \r\n    public class ConcHashMapTest{\r\n    \r\n    \tpublic static void main(String[] args){\r\n    \t\tConcurrentHashMap&lt;String,String&gt; h = new ConcurrentHashMap&lt;&gt;();\r\n    \t\t\r\n    \t\th.put(&quot;TEST&quot;,&quot;value1&quot;);\r\n    \t\t\r\n    \t\t/*\r\n    \t\t The question is, can I do an atomic CHECK and update ONLY if\r\n    \t\t I want to?\r\n    \t\t \r\n    \t\t I know I can use compute, but do you HAVE to change the map\r\n    \t\t or can you return null and leave the mapping as it is?\r\n    \t\t */\r\n    \t\t\r\n    \t\th.compute(&quot;TEST&quot;,(k,v) -&gt; {\r\n    \t\t\tif (v.equals(&quot;changeme&quot;)){\r\n    \t\t\t\treturn &quot;CHANGED&quot;;\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\treturn null;\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Now hashmap is &quot;+h);\r\n    \t}\r\n    }\r\n\r\nThis returns:\r\n\r\n    Now hashmap is {}\r\n\r\nI could of course just return the same value as I found there, but presumably that would cause a lot of updating of that value? Perhaps that&#39;s the way to go, though? I don&#39;t think so, though, because one of the points of the concurrenthashmap is to allow overlapping reads for speed, and syncronize updates, and to do this it creates a happens before only if there is an update. So I don&#39;t want to be updating every time I check the value surely?\r\n\r\n\r\nThank you!\r\n\r\nEDIT: Oh wait, I think I&#39;m getting confused. The benefit to the concurrent hashmap is that when I&#39;m only READING the high scores (which I do a lot), I can have overlapping reads. And if I want atomicity of updates, my calls HAVE to be syncronised somewhere so that they&#39;re sequential?\r\n\r\nSo I think that using compute and updating the value with itself if I want to leave it unchanged must be the right thing to do? I believe the syncronising only locks that that one mapping (or at least bucket), not the whole map..\r\n\r\nEDIT2: Thinking further about it, I&#39;m tempted not to try for atomicity. Although I will be getting potentially thousands of possible highscores for a game every second, genuine high scores will be pretty rare. The chance of two high scores arriving at exactly the same moment such that there is an interleaving problem with:\r\n\r\n    if (score &gt; map.get(&quot;SCORE&quot;)){\r\n      map.put(&quot;SCORE&quot;,score);\r\n    }\r\n\r\nis so close to zero as to make no difference. I think I&#39;ll just leave a small (almost theoretical) hole where I could fail to record a high score.","title":"How to conditionally put a value into concurrent hashmap?","body":"<p>I maintain a map of high scores for different games. When I receive a new score, I want to be able to check if the score is higher than the current high score, and if so, make it the new high score for that game in the map.</p>\n<p>ConcurrentHashMap looks like the way to go, but I'm surprised to see that there doesn't seem to be a simple way to atomically check the current value in the map and update it conditionally.</p>\n<p>I have tried using <code>compute</code>, but it seems to me there is no way to say &quot;As a result of my computation I'd like to leave the current entry in place.&quot; I was hoping that returning <code>null</code> from the compute function would achieve this, but it removes the current entry.</p>\n<p>My example code:</p>\n<pre><code>import java.util.concurrent.ConcurrentHashMap;\n\npublic class ConcHashMapTest{\n\n    public static void main(String[] args){\n        ConcurrentHashMap&lt;String,String&gt; h = new ConcurrentHashMap&lt;&gt;();\n        \n        h.put(&quot;TEST&quot;,&quot;value1&quot;);\n        \n        /*\n         The question is, can I do an atomic CHECK and update ONLY if\n         I want to?\n         \n         I know I can use compute, but do you HAVE to change the map\n         or can you return null and leave the mapping as it is?\n         */\n        \n        h.compute(&quot;TEST&quot;,(k,v) -&gt; {\n            if (v.equals(&quot;changeme&quot;)){\n                return &quot;CHANGED&quot;;\n            }\n            else {\n                return null;\n            }\n        });\n        \n        System.out.println(&quot;Now hashmap is &quot;+h);\n    }\n}\n</code></pre>\n<p>This returns:</p>\n<pre><code>Now hashmap is {}\n</code></pre>\n<p>I could of course just return the same value as I found there, but presumably that would cause a lot of updating of that value? Perhaps that's the way to go, though? I don't think so, though, because one of the points of the concurrenthashmap is to allow overlapping reads for speed, and syncronize updates, and to do this it creates a happens before only if there is an update. So I don't want to be updating every time I check the value surely?</p>\n<p>Thank you!</p>\n<p>EDIT: Oh wait, I think I'm getting confused. The benefit to the concurrent hashmap is that when I'm only READING the high scores (which I do a lot), I can have overlapping reads. And if I want atomicity of updates, my calls HAVE to be syncronised somewhere so that they're sequential?</p>\n<p>So I think that using compute and updating the value with itself if I want to leave it unchanged must be the right thing to do? I believe the syncronising only locks that that one mapping (or at least bucket), not the whole map..</p>\n<p>EDIT2: Thinking further about it, I'm tempted not to try for atomicity. Although I will be getting potentially thousands of possible highscores for a game every second, genuine high scores will be pretty rare. The chance of two high scores arriving at exactly the same moment such that there is an interleaving problem with:</p>\n<pre><code>if (score &gt; map.get(&quot;SCORE&quot;)){\n  map.put(&quot;SCORE&quot;,score);\n}\n</code></pre>\n<p>is so close to zero as to make no difference. I think I'll just leave a small (almost theoretical) hole where I could fail to record a high score.</p>\n"},{"tags":["java","android","react-native","gradle"],"owner":{"account_id":18593192,"reputation":11,"user_id":13549926,"display_name":"illgresi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694972636,"creation_date":1694771199,"question_id":77111350,"body_markdown":"I&#39;m trying to build my app in three versions with different applicationIdSuffix - release (without suffix), stg and dev. The whole build process is okay and i have my apk with updated appId, but when i install and open the app it close immediately. I found error in device logcat\r\n\r\n\r\n```\r\nFATAL EXCEPTION: create_react_context\r\nProcess: myApp.stg, PID: 13975\r\njava.lang.RuntimeException: Unable to load script. Make sure you&#39;re either running Metro (run &#39;npx react-native start&#39;) or that your bundle &#39;index.android.bundle&#39; is packaged correctly for release.\r\n    at com.facebook.react.bridge.CatalystInstanceImpl.jniLoadScriptFromAssets(Native Method)\r\n    at com.facebook.react.bridge.CatalystInstanceImpl.loadScriptFromAssets(CatalystInstanceImpl.java:248)\r\n    at com.facebook.react.bridge.JSBundleLoader$1.loadScript(JSBundleLoader.java:29)\r\n    at com.facebook.react.bridge.CatalystInstanceImpl.runJSBundle(CatalystInstanceImpl.java:277)\r\n    at com.facebook.react.ReactInstanceManager.createReactContext(ReactInstanceManager.java:1402)\r\n    at com.facebook.react.ReactInstanceManager.access$1200(ReactInstanceManager.java:136)\r\n    at com.facebook.react.ReactInstanceManager$5.run(ReactInstanceManager.java:1108)\r\n    at java.lang.Thread.run(Thread.java:1012)\r\n``` \r\n\r\nHere is my buildVariants\r\n\r\n\r\n```\r\nbuildTypes {\r\n        debug {\r\n            signingConfig signingConfigs.debug\r\n        }\r\n        release {\r\n            // Caution! In production, you need to generate your own keystore file.\r\n            // see https://reactnative.dev/docs/signed-apk-android.\r\n            signingConfig signingConfigs.release\r\n            minifyEnabled enableProguardInReleaseBuilds\r\n            proguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;proguard-rules.pro&quot;\r\n        }\r\n        staging {\r\n            initWith release\r\n            matchingFallbacks =  [&#39;release&#39;]\r\n            applicationIdSuffix &#39;stg&#39;\r\n        }\r\n        develop {\r\n            initWith release\r\n            applicationIdSuffix &quot;dev&quot;\r\n            matchingFallbacks =  [&#39;release&#39;]\r\n        }\r\n\r\n    }\r\n```\r\n\r\nApp works without applicationIdSuffix in debug and release.\r\n\r\n\r\nTotally idk how to handle with this. Im trying to build app with diff flavours but it ends the same. Also i updated google-service.json file with a new buildVariant.\r\n\r\nAre there any other places when I need to change something to make things work?\r\n\r\nAnyone had a similiar problem?\r\n","title":"React-native - java.lang.RuntimeException: Unable to load script","body":"<p>I'm trying to build my app in three versions with different applicationIdSuffix - release (without suffix), stg and dev. The whole build process is okay and i have my apk with updated appId, but when i install and open the app it close immediately. I found error in device logcat</p>\n<pre><code>FATAL EXCEPTION: create_react_context\nProcess: myApp.stg, PID: 13975\njava.lang.RuntimeException: Unable to load script. Make sure you're either running Metro (run 'npx react-native start') or that your bundle 'index.android.bundle' is packaged correctly for release.\n    at com.facebook.react.bridge.CatalystInstanceImpl.jniLoadScriptFromAssets(Native Method)\n    at com.facebook.react.bridge.CatalystInstanceImpl.loadScriptFromAssets(CatalystInstanceImpl.java:248)\n    at com.facebook.react.bridge.JSBundleLoader$1.loadScript(JSBundleLoader.java:29)\n    at com.facebook.react.bridge.CatalystInstanceImpl.runJSBundle(CatalystInstanceImpl.java:277)\n    at com.facebook.react.ReactInstanceManager.createReactContext(ReactInstanceManager.java:1402)\n    at com.facebook.react.ReactInstanceManager.access$1200(ReactInstanceManager.java:136)\n    at com.facebook.react.ReactInstanceManager$5.run(ReactInstanceManager.java:1108)\n    at java.lang.Thread.run(Thread.java:1012)\n</code></pre>\n<p>Here is my buildVariants</p>\n<pre><code>buildTypes {\n        debug {\n            signingConfig signingConfigs.debug\n        }\n        release {\n            // Caution! In production, you need to generate your own keystore file.\n            // see https://reactnative.dev/docs/signed-apk-android.\n            signingConfig signingConfigs.release\n            minifyEnabled enableProguardInReleaseBuilds\n            proguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;proguard-rules.pro&quot;\n        }\n        staging {\n            initWith release\n            matchingFallbacks =  ['release']\n            applicationIdSuffix 'stg'\n        }\n        develop {\n            initWith release\n            applicationIdSuffix &quot;dev&quot;\n            matchingFallbacks =  ['release']\n        }\n\n    }\n</code></pre>\n<p>App works without applicationIdSuffix in debug and release.</p>\n<p>Totally idk how to handle with this. Im trying to build app with diff flavours but it ends the same. Also i updated google-service.json file with a new buildVariant.</p>\n<p>Are there any other places when I need to change something to make things work?</p>\n<p>Anyone had a similiar problem?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1694703151,"post_id":77106079,"comment_id":135928953,"body_markdown":"Considering specifying which IDE your using.","body":"Considering specifying which IDE your using."},{"owner":{"account_id":15168430,"reputation":173,"user_id":10945276,"display_name":"roediGERhard"},"score":0,"creation_date":1694703455,"post_id":77106079,"comment_id":135929032,"body_markdown":"I guess that really depends on the config of your IDE. I just pasted your code to my eclipse. No warnings there (but compilation errors, as your code is not correct at the a[] = sc.nextInt() call as well as ther is a semicolon missing at the sc.close() line. But other than that no warnings about sc never being closed. I know you mentioned you don&#39;t want to use try catch here, but honestly it is the only way to assure sc being closed imho.","body":"I guess that really depends on the config of your IDE. I just pasted your code to my eclipse. No warnings there (but compilation errors, as your code is not correct at the a[] = sc.nextInt() call as well as ther is a semicolon missing at the sc.close() line. But other than that no warnings about sc never being closed. I know you mentioned you don&#39;t want to use try catch here, but honestly it is the only way to assure sc being closed imho."},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1694705698,"post_id":77106079,"comment_id":135929552,"body_markdown":"A scanner opened with `System.in` should not be closed manually.  The warning should just be ignored or turned off.  If you close the scanner, you also are closing the underlying stream which is already handled automatically without you intervening. For example, if you try to then open a new `Scanner` on `System.in` again, it will just not work because you closed `System.in`","body":"A scanner opened with <code>System.in</code> should not be closed manually.  The warning should just be ignored or turned off.  If you close the scanner, you also are closing the underlying stream which is already handled automatically without you intervening. For example, if you try to then open a new <code>Scanner</code> on <code>System.in</code> again, it will just not work because you closed <code>System.in</code>"}],"answers":[{"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1694709383,"post_id":77106295,"comment_id":135930307,"body_markdown":"@Gargi Your question presumes &#39;this warning is sensible&#39;. __Therein lies your problem__. The warning is __flat out incorrect__, your tooling is messing up here. You __do not__ close resources unless __you are responsible for them__. `new X()` is one way to be responsible. Any method that spells it out (such as `Files.newInputStream` or `socket.getOutputStream()`) in its docs also easy. But `System.in` is explicitly NOT your responsibility, and you must explicitly NOT close things you shouldn&#39;t be closing. The IDE is confused. Tell your IDE to ignore the warning. This answer tells you how.","body":"@Gargi Your question presumes &#39;this warning is sensible&#39;. <b>Therein lies your problem</b>. The warning is <b>flat out incorrect</b>, your tooling is messing up here. You <b>do not</b> close resources unless <b>you are responsible for them</b>. <code>new X()</code> is one way to be responsible. Any method that spells it out (such as <code>Files.newInputStream</code> or <code>socket.getOutputStream()</code>) in its docs also easy. But <code>System.in</code> is explicitly NOT your responsibility, and you must explicitly NOT close things you shouldn&#39;t be closing. The IDE is confused. Tell your IDE to ignore the warning. This answer tells you how."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1694709488,"post_id":77106295,"comment_id":135930321,"body_markdown":"In defense of eclipse and to expand a bit: Most tools get this wrong because the way filterstreams interact is very complicated, and thus hard for static code tools to figure it out. There is no standard for determining if a method that returns a resource also confers responsibility, so most tools are forced to assume they always do. `System.in` __does not__. The only real hope is for a tool to hardcode the notion of filterstreams _and_ to hardcode the notion of `System.in` - the expression- does not convey transfer of responsibility. Hence: Do not use auto-mark &#39;unclosed resource&#39; tools.","body":"In defense of eclipse and to expand a bit: Most tools get this wrong because the way filterstreams interact is very complicated, and thus hard for static code tools to figure it out. There is no standard for determining if a method that returns a resource also confers responsibility, so most tools are forced to assume they always do. <code>System.in</code> <b>does not</b>. The only real hope is for a tool to hardcode the notion of filterstreams <i>and</i> to hardcode the notion of <code>System.in</code> - the expression- does not convey transfer of responsibility. Hence: Do not use auto-mark &#39;unclosed resource&#39; tools."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1694709565,"post_id":77106295,"comment_id":135930334,"body_markdown":"And one last insight: [A] if you close a filter stream (which is a thing that wraps around another thing - Scanner itself isn&#39;t a resource, Scanner wraps around one. `System.in` in this case), closes the underlying thing, and [B] what eclipse wants you to do (but don&#39;t - that is incorrect) is: `try (Scanner s = new Scanner(System.in)) { .... }`. The `close()` you aren&#39;t calling is if the code `return;`s or exits via throwing some exception before you ever get to that `close()` call you wrote.","body":"And one last insight: [A] if you close a filter stream (which is a thing that wraps around another thing - Scanner itself isn&#39;t a resource, Scanner wraps around one. <code>System.in</code> in this case), closes the underlying thing, and [B] what eclipse wants you to do (but don&#39;t - that is incorrect) is: <code>try (Scanner s = new Scanner(System.in)) { .... }</code>. The <code>close()</code> you aren&#39;t calling is if the code <code>return;</code>s or exits via throwing some exception before you ever get to that <code>close()</code> call you wrote."},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1694713454,"post_id":77106295,"comment_id":135931031,"body_markdown":"Please read all of @rzwitserloot comments. You may find them helpful in understanding why you should ignore this error!","body":"Please read all of @rzwitserloot comments. You may find them helpful in understanding why you should ignore this error!"}],"tags":[],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1694766872,"creation_date":1694704522,"answer_id":77106295,"question_id":77106079,"body_markdown":"For Eclipse IDE, you can go to **Window&gt;Preferences&gt;Java&gt;Compiler&gt;Errors/Warning** and search out `resource leak`, the first option should be `Resource leak:` which you can change from *warning* to *ignore*. Apply changes and Close. This should remove the yellow underline and the error you used to see completely. Hopefully this helps!\r\n\r\nP.S Remember that you **might** want to turn it back on incase you are working with other InputStreams and find this as a useful reminder.","title":"Although I close my Scanner class at the end of the code as sc.close(); but still it shows the error as source leakage : sc was never closed. Help me","body":"<p>For Eclipse IDE, you can go to <strong>Window&gt;Preferences&gt;Java&gt;Compiler&gt;Errors/Warning</strong> and search out <code>resource leak</code>, the first option should be <code>Resource leak:</code> which you can change from <em>warning</em> to <em>ignore</em>. Apply changes and Close. This should remove the yellow underline and the error you used to see completely. Hopefully this helps!</p>\n<p>P.S Remember that you <strong>might</strong> want to turn it back on incase you are working with other InputStreams and find this as a useful reminder.</p>\n"},{"tags":[],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694935626,"creation_date":1694935626,"answer_id":77120873,"question_id":77106079,"body_markdown":"Sorry for the late answer but you&#39;re using VSCode. As of now I haven&#39;t found a way to completely ignore this warning (I will update you as soon as I do :&gt;) but for now you could use `@SuppressWarnings(&quot;resource&quot;)` annotation above your Scanner declaration or use a try-with-resources with the following syntax:-\r\n```\r\ntry(Scanner sc=new Scanner(System.in)) {\r\n   // All the code that requires the scanner\r\n}\r\n```\r\nGot this from [this answer](https://stackoverflow.com/a/66664246/21252090)","title":"Although I close my Scanner class at the end of the code as sc.close(); but still it shows the error as source leakage : sc was never closed. Help me","body":"<p>Sorry for the late answer but you're using VSCode. As of now I haven't found a way to completely ignore this warning (I will update you as soon as I do :&gt;) but for now you could use <code>@SuppressWarnings(&quot;resource&quot;)</code> annotation above your Scanner declaration or use a try-with-resources with the following syntax:-</p>\n<pre><code>try(Scanner sc=new Scanner(System.in)) {\n   // All the code that requires the scanner\n}\n</code></pre>\n<p>Got this from <a href=\"https://stackoverflow.com/a/66664246/21252090\">this answer</a></p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694971320,"creation_date":1694971320,"answer_id":77122910,"question_id":77106079,"body_markdown":"There are a few syntax errors within your code.\r\n\r\nThe _main_ method has a semi-colon at the end, remove this.\r\n\r\n```java\r\npublic static void main (String args[]);{\r\n```\r\n\r\nAnd, the _a_ array assignment has empty brackets.\r\n\r\n```java\r\na[]=sc.nextInt();\r\n```\r\n\r\nChange this to,\r\n\r\n```java\r\na[i]=sc.nextInt();\r\n```\r\n\r\nHere is an example input and output.\r\n\r\n```none\r\nEnter 5 numbers:\r\n1 2 3 4 5\r\nYou entered:\r\n1\r\n2\r\n3\r\n4\r\n5\r\n```\r\n\r\nHere is the _Java_ tutorial on _methods_.\r\n- _[Defining Methods (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Classes and Objects)](https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html)_\r\n\r\nAnd, here is one on _arrays_.\r\n- _[Arrays (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Language Basics)](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html)_","title":"Although I close my Scanner class at the end of the code as sc.close(); but still it shows the error as source leakage : sc was never closed. Help me","body":"<p>There are a few syntax errors within your code.</p>\n<p>The <em>main</em> method has a semi-colon at the end, remove this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main (String args[]);{\n</code></pre>\n<p>And, the <em>a</em> array assignment has empty brackets.</p>\n<pre class=\"lang-java prettyprint-override\"><code>a[]=sc.nextInt();\n</code></pre>\n<p>Change this to,</p>\n<pre class=\"lang-java prettyprint-override\"><code>a[i]=sc.nextInt();\n</code></pre>\n<p>Here is an example input and output.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Enter 5 numbers:\n1 2 3 4 5\nYou entered:\n1\n2\n3\n4\n5\n</code></pre>\n<p>Here is the <em>Java</em> tutorial on <em>methods</em>.</p>\n<ul>\n<li><em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html\" rel=\"nofollow noreferrer\">Defining Methods (The Java™ Tutorials &gt; Learning the Java Language &gt; Classes and Objects)</a></em></li>\n</ul>\n<p>And, here is one on <em>arrays</em>.</p>\n<ul>\n<li><em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">Arrays (The Java™ Tutorials &gt; Learning the Java Language &gt; Language Basics)</a></em></li>\n</ul>\n"}],"owner":{"account_id":29443123,"reputation":1,"user_id":22560951,"display_name":"Gargi Pramanik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1694971320,"creation_date":1694703046,"question_id":77106079,"body_markdown":"\r\n\r\nWhen I try to compile, it runs but it highlights scanner object sc in yellow colour line prompting that sc was never closed.\r\nIt disappears only when I close my Scanner class immediately after I initialise it. But then my user input functionality is disrupted.\r\n\r\nI don&#39;t want to use try catch at this point. Because earlier codes didn&#39;t raise this issue.\r\n```\r\n\r\n\r\nimport java.util.*;\r\n\r\npublic class Array{\r\n public static void main (String args[]);{\r\n\r\n\r\n    int a[]=new int[5];\r\n\r\n    Scanner sc=new Scanner(System.in);\r\n\r\n    System.out.println(&quot;Enter 5 numbers:&quot;);\r\n\r\n    for(int i=0;i&lt;5;i++){\r\n\r\n        a[]=sc.nextInt();\r\n\r\n    }\r\n\r\n    System.out.println(&quot;You entered:&quot;);\r\n\r\n    for(int i=0;i&lt;5;i++){\r\n\r\n      System.out.println(a[i]);\r\n\r\n    }\r\n\r\n    sc.close();\r\n\r\n   }\r\n\r\n\r\n}\r\n```\r\nThis problem is faced in vs code.","title":"Although I close my Scanner class at the end of the code as sc.close(); but still it shows the error as source leakage : sc was never closed. Help me","body":"<p>When I try to compile, it runs but it highlights scanner object sc in yellow colour line prompting that sc was never closed.\nIt disappears only when I close my Scanner class immediately after I initialise it. But then my user input functionality is disrupted.</p>\n<p>I don't want to use try catch at this point. Because earlier codes didn't raise this issue.</p>\n<pre><code>\n\nimport java.util.*;\n\npublic class Array{\n public static void main (String args[]);{\n\n\n    int a[]=new int[5];\n\n    Scanner sc=new Scanner(System.in);\n\n    System.out.println(&quot;Enter 5 numbers:&quot;);\n\n    for(int i=0;i&lt;5;i++){\n\n        a[]=sc.nextInt();\n\n    }\n\n    System.out.println(&quot;You entered:&quot;);\n\n    for(int i=0;i&lt;5;i++){\n\n      System.out.println(a[i]);\n\n    }\n\n    sc.close();\n\n   }\n\n\n}\n</code></pre>\n<p>This problem is faced in vs code.</p>\n"},{"tags":["java","google-cloud-platform","google-app-engine","cron"],"comments":[{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1691956151,"post_id":76893778,"comment_id":135557476,"body_markdown":"My only answer is to redeploy the `cron.yaml` file. But obviously it does not work and it&#39;s almost impossible to reproduce your case. A ticket to Google Cloud support is the most suitable solution!","body":"My only answer is to redeploy the <code>cron.yaml</code> file. But obviously it does not work and it&#39;s almost impossible to reproduce your case. A ticket to Google Cloud support is the most suitable solution!"}],"answers":[{"tags":[],"owner":{"account_id":7549203,"reputation":31,"user_id":5731262,"display_name":"Matt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694970805,"creation_date":1694970805,"answer_id":77122881,"question_id":76893778,"body_markdown":"Resolved the issue by upgrading to the latest version of the cloud cli, then  gcloud app deploy cron.yaml worked.","title":"How do I disable GCP App Engine Cron Jobs?","body":"<p>Resolved the issue by upgrading to the latest version of the cloud cli, then  gcloud app deploy cron.yaml worked.</p>\n"}],"owner":{"account_id":7549203,"reputation":31,"user_id":5731262,"display_name":"Matt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694970805,"creation_date":1691936597,"question_id":76893778,"body_markdown":"I have an old Java (Maven) App Engine application in GCP and want to disable the &quot;App Engine Cron Jobs&quot;\r\n\r\nChanges to src/main/webapp/WEB-INF/cron.xml are ignored by the appengine-api-1.0-sdk (1.9.86) maven plugin (although deploys are otherwise fine)\r\n\r\nWith reference to https://stackoverflow.com/questions/47492050/how-to-cancel-or-stop-google-app-engine-cron-job, using `gcloud app deploy cron.yaml` only affects the &quot;Scheduler Jobs&quot; and I am unable to use the appcfg.sh (appengine-java-sdk-1.9.64) as authentication attempts to use a non-existent URL.\r\n\r\nAny advice or pointers would be very welcome.\r\n\r\nAttempted to use `mvn appengine:deploy` with com.google.appengine:appengine-api-1.0-sdk (1.9.86) but that does nothing to the cron\r\n\r\nAttempted to use `gcloud app deploy cron.yaml` only affects the &quot;Scheduler Jobs\r\n\r\nAttepted to use `appcfg.sh update_cron [YOUR_APP_DIR]` (1.9.64) but that is referencing a non-existent URL for authentication","title":"How do I disable GCP App Engine Cron Jobs?","body":"<p>I have an old Java (Maven) App Engine application in GCP and want to disable the &quot;App Engine Cron Jobs&quot;</p>\n<p>Changes to src/main/webapp/WEB-INF/cron.xml are ignored by the appengine-api-1.0-sdk (1.9.86) maven plugin (although deploys are otherwise fine)</p>\n<p>With reference to <a href=\"https://stackoverflow.com/questions/47492050/how-to-cancel-or-stop-google-app-engine-cron-job\">How to cancel or stop Google App Engine Cron Job</a>, using <code>gcloud app deploy cron.yaml</code> only affects the &quot;Scheduler Jobs&quot; and I am unable to use the appcfg.sh (appengine-java-sdk-1.9.64) as authentication attempts to use a non-existent URL.</p>\n<p>Any advice or pointers would be very welcome.</p>\n<p>Attempted to use <code>mvn appengine:deploy</code> with com.google.appengine:appengine-api-1.0-sdk (1.9.86) but that does nothing to the cron</p>\n<p>Attempted to use <code>gcloud app deploy cron.yaml</code> only affects the &quot;Scheduler Jobs</p>\n<p>Attepted to use <code>appcfg.sh update_cron [YOUR_APP_DIR]</code> (1.9.64) but that is referencing a non-existent URL for authentication</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1694975184,"post_id":77122707,"comment_id":135959008,"body_markdown":"Can i know, why are you excluding the datasource auto configuration ?","body":"Can i know, why are you excluding the datasource auto configuration ?"},{"owner":{"account_id":10958918,"reputation":17,"user_id":8052828,"display_name":"Thirumalesu"},"score":0,"creation_date":1694994111,"post_id":77122707,"comment_id":135960830,"body_markdown":"I have a requirement to execute multiple .sql files at the time of application startup, after adding this spring.sql.init.data-locations=db/scripts/*.sql in the property file I got a BeanCreationException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; issue to resolve this issue I am trying to exclude it","body":"I have a requirement to execute multiple .sql files at the time of application startup, after adding this spring.sql.init.data-locations=db/scripts/*.sql in the property file I got a BeanCreationException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; issue to resolve this issue I am trying to exclude it"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1695013588,"post_id":77122707,"comment_id":135962097,"body_markdown":"I think in this case is better to  use something like  liquibase or flyway for database scripts as version of control and init scripts","body":"I think in this case is better to  use something like  liquibase or flyway for database scripts as version of control and init scripts"},{"owner":{"account_id":10958918,"reputation":17,"user_id":8052828,"display_name":"Thirumalesu"},"score":0,"creation_date":1695014749,"post_id":77122707,"comment_id":135962202,"body_markdown":"Thanks for the suggestion, if it didn&#39;t work I will try to use the liquibase files only","body":"Thanks for the suggestion, if it didn&#39;t work I will try to use the liquibase files only"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1695017382,"post_id":77122707,"comment_id":135962463,"body_markdown":"and also about your topic/problem i think this is relevant [question/answers](https://stackoverflow.com/questions/24508223/multiple-sql-import-files-in-spring-boot)","body":"and also about your topic/problem i think this is relevant <a href=\"https://stackoverflow.com/questions/24508223/multiple-sql-import-files-in-spring-boot\">question/answers</a>"},{"owner":{"account_id":10958918,"reputation":17,"user_id":8052828,"display_name":"Thirumalesu"},"score":0,"creation_date":1695022859,"post_id":77122707,"comment_id":135963332,"body_markdown":"Actually no, because I would like try with .sql files without using liquibase files","body":"Actually no, because I would like try with .sql files without using liquibase files"}],"answers":[{"comments":[{"owner":{"account_id":10958918,"reputation":17,"user_id":8052828,"display_name":"Thirumalesu"},"score":0,"creation_date":1694969959,"post_id":77122778,"comment_id":135958328,"body_markdown":"I tried it already,the application is running successfully but the table wasn&#39;t created which means the .sql file is not executed I guess","body":"I tried it already,the application is running successfully but the table wasn&#39;t created which means the .sql file is not executed I guess"},{"owner":{"account_id":29214968,"reputation":186,"user_id":22381995,"display_name":"cant-code"},"score":0,"creation_date":1695013807,"post_id":77122778,"comment_id":135962117,"body_markdown":"Weird, I did try the same and it did work for me. Could you please share the version of spring boot that you are running? Also what db are you using?","body":"Weird, I did try the same and it did work for me. Could you please share the version of spring boot that you are running? Also what db are you using?"},{"owner":{"account_id":10958918,"reputation":17,"user_id":8052828,"display_name":"Thirumalesu"},"score":0,"creation_date":1695014635,"post_id":77122778,"comment_id":135962190,"body_markdown":"I am using the 3.1.2 spring boot version with PostgreSQL. and this is the query I added in .sql file CREATE TABLE IF NOT EXISTS USER_MODEL(ID INT PRIMARY KEY NOT NULL,\n    FIRST_NAME CHAR(120) NOT NULL,\n    LAST_NAME CHAR(50),\n    GENDER CHAR,\n    USER_EMAIL VARCHAR(200) NOT NULL,\n    USER_MOBILE_NUMBER VARCHAR(20) NOT NULL,\n    PASSWORD VARCHAR(28) NOT NULL,\n    BIRTH_DATE DATE,\n    UNIQUE(USER_EMAIL, USER_MOBILE_NUMBER)\n);","body":"I am using the 3.1.2 spring boot version with PostgreSQL. and this is the query I added in .sql file CREATE TABLE IF NOT EXISTS USER_MODEL(ID INT PRIMARY KEY NOT NULL,     FIRST_NAME CHAR(120) NOT NULL,     LAST_NAME CHAR(50),     GENDER CHAR,     USER_EMAIL VARCHAR(200) NOT NULL,     USER_MOBILE_NUMBER VARCHAR(20) NOT NULL,     PASSWORD VARCHAR(28) NOT NULL,     BIRTH_DATE DATE,     UNIQUE(USER_EMAIL, USER_MOBILE_NUMBER) );"},{"owner":{"account_id":29214968,"reputation":186,"user_id":22381995,"display_name":"cant-code"},"score":0,"creation_date":1695015695,"post_id":77122778,"comment_id":135962294,"body_markdown":"Tried the same with the given sql file and version on Postgres. Works good for me. Are your sql files where you say they are?","body":"Tried the same with the given sql file and version on Postgres. Works good for me. Are your sql files where you say they are?"},{"owner":{"account_id":10958918,"reputation":17,"user_id":8052828,"display_name":"Thirumalesu"},"score":0,"creation_date":1695022812,"post_id":77122778,"comment_id":135963327,"body_markdown":"under resource folder db/migration/  it is not at picking up the file for execution","body":"under resource folder db/migration/  it is not at picking up the file for execution"},{"owner":{"account_id":29214968,"reputation":186,"user_id":22381995,"display_name":"cant-code"},"score":0,"creation_date":1695023320,"post_id":77122778,"comment_id":135963411,"body_markdown":"path you have provided is db/scripts in the properties, change that to db/migration.","body":"path you have provided is db/scripts in the properties, change that to db/migration."}],"tags":[],"owner":{"account_id":29214968,"reputation":186,"user_id":22381995,"display_name":"cant-code"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694968993,"creation_date":1694968993,"answer_id":77122778,"question_id":77122707,"body_markdown":"As the error suggests, the files were not found.\r\nPlease use classpath: to specify that the sql files need to be picked up from resources.\r\n\r\n    spring.sql.init.data-locations=classpath:db/scripts/*.sql","title":"Could not found the UserRepository Bean when I exclude DataSourceAutoConfiguration class from the autoconfiguration in spring boot JPA","body":"<p>As the error suggests, the files were not found.\nPlease use classpath: to specify that the sql files need to be picked up from resources.</p>\n<pre><code>spring.sql.init.data-locations=classpath:db/scripts/*.sql\n</code></pre>\n"}],"owner":{"account_id":10958918,"reputation":17,"user_id":8052828,"display_name":"Thirumalesu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694968993,"creation_date":1694967653,"question_id":77122707,"body_markdown":"Initially, I got below error when I was trying to load multiple .sql files to run at the time of application start.\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unable to load resources from db/scripts/*.sql\r\n\r\nAnd to resolve this issue I excluded the DataSourceAutoconfiguration.class like below:\r\n@SpringBootApplication(Exclude={DataSourceAutoConfiguration.class}\r\n\r\nbut not now for all the @Repository interfaces beans are not created.\r\n\r\nField userRepository in com.atlokal.user.mgmt.user.dao.UserDaoImpl required a bean of type &#39;com.atlokal.user.mgmt.user.dao.UserRepository&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.atlokal.user.mgmt.user.dao.UserRepository&#39; in your configuration.\r\n\r\ncould you please help me out to solve this issue ?\r\n```\r\n@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class})\r\npublic class AtlokalUserMgmtApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(AtlokalUserMgmtApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\napplication.properties\r\n\r\nspring.jpa.hibernate.ddl-auto=none\r\nspring.sql.init.mode=always\r\nspring.sql.init.data-locations=db/scripts/*.sql\r\nspring.jpa.defer-datasource-initialization=false\r\n\r\nUserDaoImpl.java\r\n@Component\r\npublic class UserDaoImpl implements UserDao {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Autowired\r\n    private ModelMapper modelMapper;\r\n    @Override\r\n    public UserEntity createUser(UserDto userDto) {\r\n        return userRepository.save(modelMapper.map(userDto,UserEntity.class));\r\n    }\r\n}\r\n\r\nUserRepository.java\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;UserEntity, Long&gt; {\r\n}\r\n```","title":"Could not found the UserRepository Bean when I exclude DataSourceAutoConfiguration class from the autoconfiguration in spring boot JPA","body":"<p>Initially, I got below error when I was trying to load multiple .sql files to run at the time of application start.</p>\n<p>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unable to load resources from db/scripts/*.sql</p>\n<p>And to resolve this issue I excluded the DataSourceAutoconfiguration.class like below:\n@SpringBootApplication(Exclude={DataSourceAutoConfiguration.class}</p>\n<p>but not now for all the @Repository interfaces beans are not created.</p>\n<p>Field userRepository in com.atlokal.user.mgmt.user.dao.UserDaoImpl required a bean of type 'com.atlokal.user.mgmt.user.dao.UserRepository' that could not be found.</p>\n<p>The injection point has the following annotations:\n- @org.springframework.beans.factory.annotation.Autowired(required=true)</p>\n<p>Action:</p>\n<p>Consider defining a bean of type 'com.atlokal.user.mgmt.user.dao.UserRepository' in your configuration.</p>\n<p>could you please help me out to solve this issue ?</p>\n<pre><code>@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class})\npublic class AtlokalUserMgmtApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(AtlokalUserMgmtApplication.class, args);\n    }\n\n}\n\napplication.properties\n\nspring.jpa.hibernate.ddl-auto=none\nspring.sql.init.mode=always\nspring.sql.init.data-locations=db/scripts/*.sql\nspring.jpa.defer-datasource-initialization=false\n\nUserDaoImpl.java\n@Component\npublic class UserDaoImpl implements UserDao {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @Autowired\n    private ModelMapper modelMapper;\n    @Override\n    public UserEntity createUser(UserDto userDto) {\n        return userRepository.save(modelMapper.map(userDto,UserEntity.class));\n    }\n}\n\nUserRepository.java\n@Repository\npublic interface UserRepository extends JpaRepository&lt;UserEntity, Long&gt; {\n}\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":96690,"reputation":37290,"user_id":262683,"display_name":"Costi Ciudatu"},"score":1,"creation_date":1640203507,"post_id":70454534,"comment_id":124542605,"body_markdown":"Not sure what you mean by &quot;enum file&quot;. What language are you using? Java? And what are you trying to achieve? Create an `enum`?","body":"Not sure what you mean by &quot;enum file&quot;. What language are you using? Java? And what are you trying to achieve? Create an <code>enum</code>?"},{"owner":{"account_id":21986352,"reputation":3,"user_id":16260549,"display_name":"Cavia Power"},"score":0,"creation_date":1640203643,"post_id":70454534,"comment_id":124542642,"body_markdown":"So I am trying to get an Enum class in my java project in intelij and normaly you can just create an enum class but now I can&#39;t","body":"So I am trying to get an Enum class in my java project in intelij and normaly you can just create an enum class but now I can&#39;t"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1640203849,"post_id":70454534,"comment_id":124542707,"body_markdown":"what does &quot;now I can&#39;t&quot; mean? What exactly stops you from creating a .java file? Just create a regular new java class, then replace `class` with `enum`.","body":"what does &quot;now I can&#39;t&quot; mean? What exactly stops you from creating a .java file? Just create a regular new java class, then replace <code>class</code> with <code>enum</code>."}],"answers":[{"tags":[],"owner":{"account_id":23686708,"reputation":1,"user_id":17711546,"display_name":"Cashif"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640205696,"creation_date":1640205696,"answer_id":70454865,"question_id":70454534,"body_markdown":" 1. I suggest that you should reinstall IntelliJ Idea IDE.\r\n 2. Use the latest version of IntelliJ idea.\r\n\r\n","title":"I can&#39;t make a enum file in intelij","body":"<ol>\n<li>I suggest that you should reinstall IntelliJ Idea IDE.</li>\n<li>Use the latest version of IntelliJ idea.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":23617210,"reputation":256,"user_id":17651108,"display_name":"Azadi Yazdani"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1640325189,"creation_date":1640205783,"answer_id":70454885,"question_id":70454534,"body_markdown":"If by &#39;enum file&#39;, you mean an enum class, It will be created just as any other class, except that you use word &#39;enum&#39; instead of &#39;class&#39;.\r\nFile -&gt; New -&gt; Java class.\r\nAfter clicking on Java class, select enum type.\r\n\r\nsee this link for more help:\r\nhttps://stackoverflow.com/questions/14431472/why-is-an-enum-declared-in-a-separate-file-in-java","title":"I can&#39;t make a enum file in intelij","body":"<p>If by 'enum file', you mean an enum class, It will be created just as any other class, except that you use word 'enum' instead of 'class'.\nFile -&gt; New -&gt; Java class.\nAfter clicking on Java class, select enum type.</p>\n<p>see this link for more help:\n<a href=\"https://stackoverflow.com/questions/14431472/why-is-an-enum-declared-in-a-separate-file-in-java\">Why is an enum declared in a separate file, in Java?</a></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694968392,"creation_date":1640206990,"answer_id":70455065,"question_id":70454534,"body_markdown":"You can define an enum in Java by any of three ways:\r\n\r\n - In a separate `.java` file as shown in [this other correct Answer](https://stackoverflow.com/a/70454885/642706) by Yazdani. \r\n - Nested within another class. \r\n - Locally, within a method. &lt;br/&gt;(As of Java 16+, see [*Java JEP 395: Records*](https://openjdk.java.net/jeps/395).)\r\n\r\nIntelliJ supports all three. ","title":"I can&#39;t make a enum file in intelij","body":"<p>You can define an enum in Java by any of three ways:</p>\n<ul>\n<li>In a separate <code>.java</code> file as shown in <a href=\"https://stackoverflow.com/a/70454885/642706\">this other correct Answer</a> by Yazdani.</li>\n<li>Nested within another class.</li>\n<li>Locally, within a method. <br/>(As of Java 16+, see <a href=\"https://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\"><em>Java JEP 395: Records</em></a>.)</li>\n</ul>\n<p>IntelliJ supports all three.</p>\n"}],"owner":{"account_id":21986352,"reputation":3,"user_id":16260549,"display_name":"Cavia Power"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1383,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1640207055,"answer_count":3,"score":-3,"last_activity_date":1694968392,"creation_date":1640203386,"question_id":70454534,"body_markdown":"So I am making a project in IntelliJ and I wanted to make an enum file but I couldn&#39;t find it. Has the enum file been replaced with another file or am I just stupid?","title":"I can&#39;t make a enum file in intelij","body":"<p>So I am making a project in IntelliJ and I wanted to make an enum file but I couldn't find it. Has the enum file been replaced with another file or am I just stupid?</p>\n"},{"tags":["java","eclipse","ide","comments","autocommenting"],"answers":[{"comments":[{"owner":{"account_id":7881509,"reputation":133,"user_id":5955314,"accept_rate":60,"display_name":"jonesy19"},"score":0,"creation_date":1694968255,"post_id":77122735,"comment_id":135958123,"body_markdown":"YES!  Thank you so much.  Such a simple response, but such a difficult answer for me to find.  Thanks again.","body":"YES!  Thank you so much.  Such a simple response, but such a difficult answer for me to find.  Thanks again."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1694968329,"post_id":77122735,"comment_id":135958129,"body_markdown":"Sometimes the most obvious things are what we struggle to find most.","body":"Sometimes the most obvious things are what we struggle to find most."}],"tags":[],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694968150,"creation_date":1694968150,"answer_id":77122735,"question_id":77122668,"body_markdown":"I am assuming you are extending `HttpServletRequest` since your `doGet` method is defined there and you are therefore overriding that method.\r\n\r\nSince you are overriding a method, you need to select `Overriding methods` in that menu and then enter your comment:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWith that, Eclipse will fill in the comment.\r\n\r\n  [1]: https://i.stack.imgur.com/majB1.png","title":"Eclipse - Java - Auto Commenting (Alt-Shift-J) just adds blank comments","body":"<p>I am assuming you are extending <code>HttpServletRequest</code> since your <code>doGet</code> method is defined there and you are therefore overriding that method.</p>\n<p>Since you are overriding a method, you need to select <code>Overriding methods</code> in that menu and then enter your comment:</p>\n<p><a href=\"https://i.stack.imgur.com/majB1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/majB1.png\" alt=\"enter image description here\" /></a></p>\n<p>With that, Eclipse will fill in the comment.</p>\n"}],"owner":{"account_id":7881509,"reputation":133,"user_id":5955314,"accept_rate":60,"display_name":"jonesy19"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77122735,"answer_count":1,"score":0,"last_activity_date":1694968150,"creation_date":1694967086,"question_id":77122668,"body_markdown":"I am trying to add comments to my code.  When I highlight a function and press Alt-Shift-J, it just adds three blank lines of commenting:\r\n    \r\n\r\n    /** \t \r\n     * \t \r\n     */ \t\r\n     protected void doGet(HttpServletRequest request,HttpServletResponse response) throws ServletException, IOException {\r\n         \tSystem.out.println(&quot;In Gateway doGet...&quot;);\r\n         \tthis.doRequest(&quot;GET&quot;, request, response); \t}\r\n\r\nNOTE - this is a screenshot of what my preferences looks like:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qinVB.png\r\n\r\nThe &quot;${tags} do nothing, but I put in a string for &quot;Title&quot; and it still does nothing. Can someone help me out please?","title":"Eclipse - Java - Auto Commenting (Alt-Shift-J) just adds blank comments","body":"<p>I am trying to add comments to my code.  When I highlight a function and press Alt-Shift-J, it just adds three blank lines of commenting:</p>\n<pre><code>/**      \n *   \n */     \n protected void doGet(HttpServletRequest request,HttpServletResponse response) throws ServletException, IOException {\n        System.out.println(&quot;In Gateway doGet...&quot;);\n        this.doRequest(&quot;GET&quot;, request, response);   }\n</code></pre>\n<p>NOTE - this is a screenshot of what my preferences looks like:\n<a href=\"https://i.stack.imgur.com/qinVB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qinVB.png\" alt=\"enter image description here\" /></a></p>\n<p>The &quot;${tags} do nothing, but I put in a string for &quot;Title&quot; and it still does nothing. Can someone help me out please?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1694952586,"post_id":77121601,"comment_id":135956416,"body_markdown":"The source code of both `ArrayList` and `HashSet` is included with Java. You can inspect this and see they have separate copies of the references.","body":"The source code of both <code>ArrayList</code> and <code>HashSet</code> is included with Java. You can inspect this and see they have separate copies of the references."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1694961598,"post_id":77121601,"comment_id":135957381,"body_markdown":"`new ArrayList&lt;&gt;(hashset)` copies references to objects only.  That constructor has no idea how to make copies of objects.  (It would pretty hard to implement that.  Would it try to clone them?  Serialize them?  Look for a copy constructor?)","body":"<code>new ArrayList&lt;&gt;(hashset)</code> copies references to objects only.  That constructor has no idea how to make copies of objects.  (It would pretty hard to implement that.  Would it try to clone them?  Serialize them?  Look for a copy constructor?)"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694967969,"creation_date":1694951016,"answer_id":77121632,"question_id":77121601,"body_markdown":"If the output is `n` elements, then your HashSet contains `n` elements, and so does the ArrayList. It&#39;s a complete copy, so the memory requirement of both the arraylist and the hashset existing side by side (which they will, here) grows linearly to the input size. But it is about twice as large as what it would have been, had there only been an arraylist and no other data structures that grow relative to input size.\r\n\r\n__However__,\r\n\r\nMore generally, &#39;the exercise is supposed to be `O(1)` except for the arraylist&#39; __does not make any sense__. O() notation is a relative concept: It says __nothing__ about the space or time usage at any given point, it __only__ says something about how the memory load grows relative to input. This shouldn&#39;t be the problem unless a human is looking at this code.\r\n\r\nGiven that the exercise &#39;prices in&#39; the space cost of the output arraylist, it can&#39;t then state that the _runtime behaviour_ behaves differently. It grows linear to input size, it already does that due to the output array list, it is not feasible to try to disregard just the array list to witness the &#39;total memory usage of the method&#39;.\r\n\r\nThe only real way to do that is to use code analysis. Leetcode does not have humans that look at your code to rate it, and as far as I know, they do not run tools that check _the source_.\r\n\r\nHence, whatever the problem is, I doubt its the hashset.","title":"Space complexity when converting HashSet to ArrayList","body":"<p>If the output is <code>n</code> elements, then your HashSet contains <code>n</code> elements, and so does the ArrayList. It's a complete copy, so the memory requirement of both the arraylist and the hashset existing side by side (which they will, here) grows linearly to the input size. But it is about twice as large as what it would have been, had there only been an arraylist and no other data structures that grow relative to input size.</p>\n<p><strong>However</strong>,</p>\n<p>More generally, 'the exercise is supposed to be <code>O(1)</code> except for the arraylist' <strong>does not make any sense</strong>. O() notation is a relative concept: It says <strong>nothing</strong> about the space or time usage at any given point, it <strong>only</strong> says something about how the memory load grows relative to input. This shouldn't be the problem unless a human is looking at this code.</p>\n<p>Given that the exercise 'prices in' the space cost of the output arraylist, it can't then state that the <em>runtime behaviour</em> behaves differently. It grows linear to input size, it already does that due to the output array list, it is not feasible to try to disregard just the array list to witness the 'total memory usage of the method'.</p>\n<p>The only real way to do that is to use code analysis. Leetcode does not have humans that look at your code to rate it, and as far as I know, they do not run tools that check <em>the source</em>.</p>\n<p>Hence, whatever the problem is, I doubt its the hashset.</p>\n"},{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694966804,"creation_date":1694966804,"answer_id":77122646,"question_id":77121601,"body_markdown":"When you convert a HashSet to an ArrayList in Java using the ArrayList constructor, it will create a new ArrayList with separate memory allocation. The constructor called is:\r\n\r\n&gt; public ArrayList(Collection&lt;? extends E&gt; c)\r\n&gt; \r\n&gt; Constructs a list containing the elements of the specified collection,\r\n&gt; in the order they are returned by the collection&#39;s iterator.\r\n\r\nThe elements of the HashSet are copied into this new ArrayList. Therefore, it does not &quot;wrap&quot; the underlying array of the HashSet, but rather allocates additional memory for the new ArrayList. This operation does not maintain the constant space complexity O(1), as it requires O(n) space where n is the number of elements in the HashSet.\r\n\r\nThis leetcode problem, expects you to make use of detail given in the task which allows you to solve it in expected time and space complexity.","title":"Space complexity when converting HashSet to ArrayList","body":"<p>When you convert a HashSet to an ArrayList in Java using the ArrayList constructor, it will create a new ArrayList with separate memory allocation. The constructor called is:</p>\n<blockquote>\n<p>public ArrayList(Collection&lt;? extends E&gt; c)</p>\n<p>Constructs a list containing the elements of the specified collection,\nin the order they are returned by the collection's iterator.</p>\n</blockquote>\n<p>The elements of the HashSet are copied into this new ArrayList. Therefore, it does not &quot;wrap&quot; the underlying array of the HashSet, but rather allocates additional memory for the new ArrayList. This operation does not maintain the constant space complexity O(1), as it requires O(n) space where n is the number of elements in the HashSet.</p>\n<p>This leetcode problem, expects you to make use of detail given in the task which allows you to solve it in expected time and space complexity.</p>\n"}],"owner":{"account_id":24037562,"reputation":77,"user_id":18017663,"display_name":"DrinkandDerive"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77122646,"answer_count":2,"score":-1,"last_activity_date":1694967969,"creation_date":1694950620,"question_id":77121601,"body_markdown":"Recently, I have been solving problems in Leetcode. In general, there are many problems where we are supposed to return an ArrayList, array, etc.\r\n\r\nFor example, in this question &lt;https://leetcode.com/problems/find-all-duplicates-in-an-array/description/&gt; we are supposed to return an ArrayList. The space complexity for this question is strictly O(1). That is, ignoring the size of the returned ArrayList, we should only use only constant space.\r\n\r\nI find that there are many questions that are solvable using HashSet, but I can&#39;t return the HashSet (like in the case of the question I mentioned) because the return type is ArrayList/List.\r\n\r\nUsing the java ArrayList constructor, we can convert the HashSet to ArrayList directly. I can write a program like below to return the List.\r\n\r\n    return new ArrayList&lt;&gt;(hashset);\r\n\r\nWhen I try to convert HashSet to ArrayList, will copies of n elements present in the hashSet be made separately inside the memory or will an ArrayList created in this way essentially &quot;wrap&quot; the underlying array of the HashSet and does not copy the elements or allocate additional memory for them?\r\n","title":"Space complexity when converting HashSet to ArrayList","body":"<p>Recently, I have been solving problems in Leetcode. In general, there are many problems where we are supposed to return an ArrayList, array, etc.</p>\n<p>For example, in this question <a href=\"https://leetcode.com/problems/find-all-duplicates-in-an-array/description/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/find-all-duplicates-in-an-array/description/</a> we are supposed to return an ArrayList. The space complexity for this question is strictly O(1). That is, ignoring the size of the returned ArrayList, we should only use only constant space.</p>\n<p>I find that there are many questions that are solvable using HashSet, but I can't return the HashSet (like in the case of the question I mentioned) because the return type is ArrayList/List.</p>\n<p>Using the java ArrayList constructor, we can convert the HashSet to ArrayList directly. I can write a program like below to return the List.</p>\n<pre><code>return new ArrayList&lt;&gt;(hashset);\n</code></pre>\n<p>When I try to convert HashSet to ArrayList, will copies of n elements present in the hashSet be made separately inside the memory or will an ArrayList created in this way essentially &quot;wrap&quot; the underlying array of the HashSet and does not copy the elements or allocate additional memory for them?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1504641473,"post_id":46062400,"comment_id":79085607,"body_markdown":"The same reason you shouldn&#39;t return a collection from a getter without a defensive copy. It breaks encapsulation.","body":"The same reason you shouldn&#39;t return a collection from a getter without a defensive copy. It breaks encapsulation."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1504641690,"post_id":46062400,"comment_id":79085719,"body_markdown":"There is the same problem with the constructor as with the setter: because you don&#39;t take a defensive copy, the caller can change the list held by `Example`.","body":"There is the same problem with the constructor as with the setter: because you don&#39;t take a defensive copy, the caller can change the list held by <code>Example</code>."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1694969613,"post_id":46062400,"comment_id":135958275,"body_markdown":"You have no encapsulation.  Presumably the point of an instance this class is to maintain a relationship between an id and a list of names.  But anyone can change the id without changing the names, and change the names without changing the id.  There are therefore no guarantees at all, and you might as well use public variables rather than setters and getters.","body":"You have no encapsulation.  Presumably the point of an instance this class is to maintain a relationship between an id and a list of names.  But anyone can change the id without changing the names, and change the names without changing the id.  There are therefore no guarantees at all, and you might as well use public variables rather than setters and getters."}],"answers":[{"tags":[],"owner":{"account_id":1640377,"reputation":402,"user_id":1512950,"display_name":"Sticks"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1504641263,"creation_date":1504641263,"answer_id":46062439,"question_id":46062400,"body_markdown":"Since the private variable names is owned by your class you can ensure that you have control over its contents within the class.  If you change the reference of that variable to a list that gets passed in then you no longer are certain that your instance won&#39;t be changed externally since both your class AND the class that passed the new list instance will both have a reference/access to it.  Same is true with getNames() - any class that calls that method now has full access to change the contents of the list externally from the class.\r\n","title":"Why is it bad practice to allow to set a collection?","body":"<p>Since the private variable names is owned by your class you can ensure that you have control over its contents within the class.  If you change the reference of that variable to a list that gets passed in then you no longer are certain that your instance won't be changed externally since both your class AND the class that passed the new list instance will both have a reference/access to it.  Same is true with getNames() - any class that calls that method now has full access to change the contents of the list externally from the class.</p>\n"},{"tags":[],"owner":{"account_id":15988,"reputation":872908,"user_id":34397,"accept_rate":87,"display_name":"SLaks"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1504641286,"creation_date":1504641286,"answer_id":46062447,"question_id":46062400,"body_markdown":"That would give you two ways of changing the contents (`getNames().add(...)` vs. `setNames(Arrays.asList(...))`).  \r\nThis is confusing.\r\n\r\nYou should pick a single option and make the other option impossible.","title":"Why is it bad practice to allow to set a collection?","body":"<p>That would give you two ways of changing the contents (<code>getNames().add(...)</code> vs. <code>setNames(Arrays.asList(...))</code>).<br>\nThis is confusing.</p>\n\n<p>You should pick a single option and make the other option impossible.</p>\n"},{"comments":[{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":0,"creation_date":1504641545,"post_id":46062469,"comment_id":79085641,"body_markdown":"get and set methods expose the objects *internal state* in the first place violatint the most important OO principle **information hiding / encapsulation**. This may be OK if this class is for *Data Transfer Objects* having no business logic. In any other case get and set methods should be avoided.","body":"get and set methods expose the objects <i>internal state</i> in the first place violatint the most important OO principle <b>information hiding / encapsulation</b>. This may be OK if this class is for <i>Data Transfer Objects</i> having no business logic. In any other case get and set methods should be avoided."},{"owner":{"account_id":11658391,"reputation":80,"user_id":8537453,"display_name":"user8537453"},"score":0,"creation_date":1504641676,"post_id":46062469,"comment_id":79085711,"body_markdown":"You can program defensively in the methods to transfer just the value and not a reference to the object. The OU has some good material on that.","body":"You can program defensively in the methods to transfer just the value and not a reference to the object. The OU has some good material on that."},{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":0,"creation_date":1504642024,"post_id":46062469,"comment_id":79085871,"body_markdown":"*&quot;You can program defensively&quot;* This is wishful thinking. Getters and setters break *information hiding / encapsulation* support *feature envy* which makes the code harder to understand, harder to reuse and harder to maintain. (again: *information hiding / encapsulation* does not apply to  DTOs  so that  getters and setters are OK with them.)","body":"<i>&quot;You can program defensively&quot;</i> This is wishful thinking. Getters and setters break <i>information hiding / encapsulation</i> support <i>feature envy</i> which makes the code harder to understand, harder to reuse and harder to maintain. (again: <i>information hiding / encapsulation</i> does not apply to  DTOs  so that  getters and setters are OK with them.)"},{"owner":{"account_id":11658391,"reputation":80,"user_id":8537453,"display_name":"user8537453"},"score":0,"creation_date":1504642411,"post_id":46062469,"comment_id":79086065,"body_markdown":"Then how do you suggest initialising objects and updating values that they contain? How would you obtain information from an object without them?","body":"Then how do you suggest initialising objects and updating values that they contain? How would you obtain information from an object without them?"},{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":0,"creation_date":1504642955,"post_id":46062469,"comment_id":79086316,"body_markdown":"As I already mentioned: DTOs have getter/setter. If you want/need to obtain information from an  business object (containing business logic) you have a design problem.","body":"As I already mentioned: DTOs have getter/setter. If you want/need to obtain information from an  business object (containing business logic) you have a design problem."},{"owner":{"account_id":11658391,"reputation":80,"user_id":8537453,"display_name":"user8537453"},"score":0,"creation_date":1504643187,"post_id":46062469,"comment_id":79086430,"body_markdown":"There is on logic in the example given, it is a DTO.","body":"There is on logic in the example given, it is a DTO."}],"tags":[],"owner":{"account_id":11658391,"reputation":80,"user_id":8537453,"display_name":"user8537453"},"comment_count":6,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1504642050,"creation_date":1504641361,"answer_id":46062469,"question_id":46062400,"body_markdown":"Using get and set methods allows you to perform verification and validation on the input before it can cause problems. It can also be used to transform info going into and out of your system for the convenience of the program and user.\r\n\r\nEdit\r\n\r\nJust to be clear defensive measures are part of the verification and validation I was talking about.","title":"Why is it bad practice to allow to set a collection?","body":"<p>Using get and set methods allows you to perform verification and validation on the input before it can cause problems. It can also be used to transform info going into and out of your system for the convenience of the program and user.</p>\n\n<p>Edit</p>\n\n<p>Just to be clear defensive measures are part of the verification and validation I was talking about.</p>\n"},{"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1694967057,"creation_date":1504641435,"answer_id":46062493,"question_id":46062400,"body_markdown":"A lot of the built-in collections are mutable, so storing such a value may allow an external class to modify the internal state of your `Example` in a way you did not plan. Consider the following snippet:\r\n\r\n    List&lt;Stirng&gt; names = new ArrayList&lt;&gt;();\r\n    names.add(&quot;Stack&quot;);\r\n    names.add(&quot;Overflow&quot;);\r\n    \r\n    Example example = new Example();\r\n    example.setNames(names); \r\n    // example.getNames() returns [&quot;Stack&quot;, &quot;Overflow&quot;]\r\n    \r\n    names.add(&quot;Exchange&quot;);\r\n    // example.getNames now returns [&quot;Stack&quot;, &quot;Overflow&quot;, &quot;Exchange&quot;]!\r\n\r\nA safer approach could be to copy the contents of the passed list:\r\n\r\n    public void setNames(List&lt;String&gt; names){\r\n       this.names = new ArrayList&lt;&gt;(names);\r\n    }","title":"Why is it bad practice to allow to set a collection?","body":"<p>A lot of the built-in collections are mutable, so storing such a value may allow an external class to modify the internal state of your <code>Example</code> in a way you did not plan. Consider the following snippet:</p>\n<pre><code>List&lt;Stirng&gt; names = new ArrayList&lt;&gt;();\nnames.add(&quot;Stack&quot;);\nnames.add(&quot;Overflow&quot;);\n\nExample example = new Example();\nexample.setNames(names); \n// example.getNames() returns [&quot;Stack&quot;, &quot;Overflow&quot;]\n\nnames.add(&quot;Exchange&quot;);\n// example.getNames now returns [&quot;Stack&quot;, &quot;Overflow&quot;, &quot;Exchange&quot;]!\n</code></pre>\n<p>A safer approach could be to copy the contents of the passed list:</p>\n<pre><code>public void setNames(List&lt;String&gt; names){\n   this.names = new ArrayList&lt;&gt;(names);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2016660,"reputation":263,"user_id":1803810,"display_name":"leoconco"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1504641590,"creation_date":1504641590,"answer_id":46062525,"question_id":46062400,"body_markdown":"The logic behind set and get operations is to allow validation or replacing of inner representation, if you let an external class set the specific implementation, you lose control over the insertion logic (allows duplicates? is ordered?, is mutable?), and you make you object harder to use, as the users of it have to decide that, when is very probable that they don&#39;t care.","title":"Why is it bad practice to allow to set a collection?","body":"<p>The logic behind set and get operations is to allow validation or replacing of inner representation, if you let an external class set the specific implementation, you lose control over the insertion logic (allows duplicates? is ordered?, is mutable?), and you make you object harder to use, as the users of it have to decide that, when is very probable that they don't care.</p>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504642422,"creation_date":1504642422,"answer_id":46062702,"question_id":46062400,"body_markdown":"A slightly different answer to those here already is that *setters are a bad practice* (*), whether you&#39;re setting a collection property or some other type.\r\n\r\nTo quote *Effective Java 2nd Ed* Item 15: &quot;Minimize mutability&quot;:\r\n\r\n&gt; There are many good reasons for [making classes immutable]: Immutable classes\r\nare easier to design, implement, and use than mutable classes. They are less prone\r\nto error and are more secure.\r\n\r\nThere is also a description of immutable classes in [the Oracle tutorial](https://docs.oracle.com/javase/tutorial/essential/concurrency/immutable.html).\r\n\r\n---\r\n\r\n(*) That&#39;s not to say that you should never use them; just that you should design classes to be immutable as a default position, and only make them mutable in the few occasions where it is actually required - and that&#39;s less often than you might imagine. To quote the same item in Effective Java:\r\n\r\n&gt; Classes should be immutable unless there’s a very good reason to make them\r\nmutable","title":"Why is it bad practice to allow to set a collection?","body":"<p>A slightly different answer to those here already is that <em>setters are a bad practice</em> (*), whether you're setting a collection property or some other type.</p>\n\n<p>To quote <em>Effective Java 2nd Ed</em> Item 15: \"Minimize mutability\":</p>\n\n<blockquote>\n  <p>There are many good reasons for [making classes immutable]: Immutable classes\n  are easier to design, implement, and use than mutable classes. They are less prone\n  to error and are more secure.</p>\n</blockquote>\n\n<p>There is also a description of immutable classes in <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/immutable.html\" rel=\"nofollow noreferrer\">the Oracle tutorial</a>.</p>\n\n<hr>\n\n<p>(*) That's not to say that you should never use them; just that you should design classes to be immutable as a default position, and only make them mutable in the few occasions where it is actually required - and that's less often than you might imagine. To quote the same item in Effective Java:</p>\n\n<blockquote>\n  <p>Classes should be immutable unless there’s a very good reason to make them\n  mutable</p>\n</blockquote>\n"}],"owner":{"account_id":5676941,"reputation":804,"user_id":4489743,"accept_rate":62,"display_name":"Yuval"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":578,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":46062525,"answer_count":6,"score":4,"last_activity_date":1694967057,"creation_date":1504641098,"question_id":46062400,"body_markdown":"Let&#39;s say we have a class with a simple collection (a list for instance). The class contains a constructor, getters and setters. \r\nI&#39;ve been told that it is a bad practice to set the collection directly.\r\n\r\n    class Example{\r\n        private String id;\r\n        private List&lt;String&gt; names;\r\n    \r\n        public Example(String id, List&lt;String&gt; names){\r\n            this.id = id;\r\n            this.names = names;\r\n        }\r\n    \r\n        public String getId(){\r\n            return id;\r\n        }\r\n    \r\n        public List&lt;String&gt; getNames(){\r\n            return names;\r\n        }\r\n    \r\n        public void setId(String id){\r\n            this.id = id;\r\n        }\r\n    \r\n        public void setNames(List&lt;String&gt; names){\r\n           this.names = names;\r\n        }\r\n    }\r\n\r\n \r\nCan anyone point the disadvantages of writing the method `setNames()`?","title":"Why is it bad practice to allow to set a collection?","body":"<p>Let's say we have a class with a simple collection (a list for instance). The class contains a constructor, getters and setters. \nI've been told that it is a bad practice to set the collection directly.</p>\n\n<pre><code>class Example{\n    private String id;\n    private List&lt;String&gt; names;\n\n    public Example(String id, List&lt;String&gt; names){\n        this.id = id;\n        this.names = names;\n    }\n\n    public String getId(){\n        return id;\n    }\n\n    public List&lt;String&gt; getNames(){\n        return names;\n    }\n\n    public void setId(String id){\n        this.id = id;\n    }\n\n    public void setNames(List&lt;String&gt; names){\n       this.names = names;\n    }\n}\n</code></pre>\n\n<p>Can anyone point the disadvantages of writing the method <code>setNames()</code>?</p>\n"},{"tags":["java","file-io","resources"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1368636116,"post_id":16570523,"comment_id":23809582,"body_markdown":"Have you checked that it really *is* in the jar file? Have you checked the file casing?","body":"Have you checked that it really <i>is</i> in the jar file? Have you checked the file casing?"},{"owner":{"display_name":"user1131435"},"score":1,"creation_date":1368636178,"post_id":16570523,"comment_id":23809619,"body_markdown":"@JonSkeet It is indeed being compiled into the JAR file in the appropriate location, and the case is correct.","body":"@JonSkeet It is indeed being compiled into the JAR file in the appropriate location, and the case is correct."},{"owner":{"display_name":"user1131435"},"score":1,"creation_date":1368636566,"post_id":16570523,"comment_id":23809824,"body_markdown":"@greedybuddha While I can&#39;t invoke that from a static context, I can invoke it using `Lifepaths.class`. That being said, why does `getClassLoader()` allow it to work? (Also, feel free to post an answer!)","body":"@greedybuddha While I can&#39;t invoke that from a static context, I can invoke it using <code>Lifepaths.class</code>. That being said, why does <code>getClassLoader()</code> allow it to work? (Also, feel free to post an answer!)"},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1368637152,"post_id":16570523,"comment_id":23810126,"body_markdown":"Can you show `Lifepaths.getClass()`? There is no such static method defined in Object...","body":"Can you show <code>Lifepaths.getClass()</code>? There is no such static method defined in Object..."},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1368637182,"post_id":16570523,"comment_id":23810142,"body_markdown":"Are you using any custom classloaders (e.g. via OSGi)?","body":"Are you using any custom classloaders (e.g. via OSGi)?"},{"owner":{"display_name":"user1131435"},"score":0,"creation_date":1368637202,"post_id":16570523,"comment_id":23810154,"body_markdown":"@Puce Sorry, that one was a typo. Also, no custom classloaders","body":"@Puce Sorry, that one was a typo. Also, no custom classloaders"},{"owner":{"account_id":2014980,"reputation":9943,"user_id":1802512,"accept_rate":80,"display_name":"hoaz"},"score":0,"creation_date":1368637366,"post_id":16570523,"comment_id":23810240,"body_markdown":"Change your code to `Lifepaths.class.getResourceAsStream(...)`, you are trying to load your resource using system class loader","body":"Change your code to <code>Lifepaths.class.getResourceAsStream(...)</code>, you are trying to load your resource using system class loader"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1368639396,"post_id":16570523,"comment_id":23811338,"body_markdown":"Have a look at [this answer](http://stackoverflow.com/a/16564611/418556) &amp; see if you can get it working using `getResource(String)`.  BTW - I have always had problems getting either of those to work in a `static` context.  The problem is basically that the class loader obtained is is the one intended for J2SE classes.  You need to get access to the **context** class loader which is intended for the application itself.","body":"Have a look at <a href=\"http://stackoverflow.com/a/16564611/418556\">this answer</a> &amp; see if you can get it working using <code>getResource(String)</code>.  BTW - I have always had problems getting either of those to work in a <code>static</code> context.  The problem is basically that the class loader obtained is is the one intended for J2SE classes.  You need to get access to the <b>context</b> class loader which is intended for the application itself."},{"owner":{"account_id":8873341,"reputation":1424,"user_id":6626422,"display_name":"Thecarisma"},"score":0,"creation_date":1581247054,"post_id":16570523,"comment_id":106360039,"body_markdown":"I was stuck on this issue for a long time only for me to realize the path should not contain double slash. `/path//file.txt` will not work but `/path/file.txt` will work and the path is case sensitive.","body":"I was stuck on this issue for a long time only for me to realize the path should not contain double slash. <code>&#47;path&#47;&#47;file.txt</code> will not work but <code>&#47;path&#47;file.txt</code> will work and the path is case sensitive."}],"answers":[{"comments":[{"owner":{"display_name":"user1131435"},"score":2,"creation_date":1368636709,"post_id":16570799,"comment_id":23809898,"body_markdown":"I&#39;ve already done all three of these things. Please reread my question.","body":"I&#39;ve already done all three of these things. Please reread my question."},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1368636986,"post_id":16570799,"comment_id":23810055,"body_markdown":"From your question it&#39;s not clear what &quot;The relevant directory structure&quot; is and if you&#39;ve actually checked if and where the file is located in the JAR (step 1)","body":"From your question it&#39;s not clear what &quot;The relevant directory structure&quot; is and if you&#39;ve actually checked if and where the file is located in the JAR (step 1)"},{"owner":{"account_id":1326909,"reputation":1302,"user_id":1332486,"accept_rate":0,"display_name":"Paul Bormans"},"score":1,"creation_date":1461926182,"post_id":16570799,"comment_id":61431321,"body_markdown":"Your remark about the relative path finally solved the issue at my end; thanks!","body":"Your remark about the relative path finally solved the issue at my end; thanks!"},{"owner":{"account_id":164059,"reputation":1169,"user_id":386587,"display_name":"Erk"},"score":0,"creation_date":1590975339,"post_id":16570799,"comment_id":109874933,"body_markdown":"Interesting. It turns out I had to do &quot;/config.properties&quot; (with a slash) to get to it...","body":"Interesting. It turns out I had to do &quot;/config.properties&quot; (with a slash) to get to it..."}],"tags":[],"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"comment_count":4,"down_vote_count":1,"up_vote_count":71,"is_accepted":false,"score":70,"last_activity_date":1368637380,"creation_date":1368636650,"answer_id":16570799,"question_id":16570523,"body_markdown":"The rules are as follows:\r\n\r\n1. check the location of the file you want to load inside the JAR (and thus also make sure it actually added to the JAR)\r\n2. use either an absolute path: path starts at the root of the JAR\r\n3. use an relative path: path starts at the package directory of the class you&#39;re calling getResource/ getResoucreAsStream\r\n\r\nAnd try:\r\n\r\n    Lifepaths.class.getResourceAsStream(&quot;/initialization/Lifepaths.txt&quot;)\r\n\r\ninstead of\r\n\r\n    Lifepaths.class.getClass().getResourceAsStream(&quot;/initialization/Lifepaths.txt&quot;)\r\n\r\n(not sure if it makes a difference, but the former will use the correct ClassLoader/ JAR, while I&#39;m not sure with the latter)\r\n\r\n","title":"getResourceAsStream returns null","body":"<p>The rules are as follows:</p>\n\n<ol>\n<li>check the location of the file you want to load inside the JAR (and thus also make sure it actually added to the JAR)</li>\n<li>use either an absolute path: path starts at the root of the JAR</li>\n<li>use an relative path: path starts at the package directory of the class you're calling getResource/ getResoucreAsStream</li>\n</ol>\n\n<p>And try:</p>\n\n<pre><code>Lifepaths.class.getResourceAsStream(\"/initialization/Lifepaths.txt\")\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>Lifepaths.class.getClass().getResourceAsStream(\"/initialization/Lifepaths.txt\")\n</code></pre>\n\n<p>(not sure if it makes a difference, but the former will use the correct ClassLoader/ JAR, while I'm not sure with the latter)</p>\n"},{"comments":[{"owner":{"account_id":2108365,"reputation":568,"user_id":1874154,"accept_rate":100,"display_name":"kyle"},"score":5,"creation_date":1453961117,"post_id":16571046,"comment_id":57831827,"body_markdown":"I have been screwing with this since 8am this/yesterday morning. Saved me. I did also need a leading slash to make it work.","body":"I have been screwing with this since 8am this/yesterday morning. Saved me. I did also need a leading slash to make it work."},{"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"score":4,"creation_date":1495819718,"post_id":16571046,"comment_id":75426765,"body_markdown":"Also keep in mind that the desired source can be outside of the packages hierarchy. In this case you&#39;ll have to use &quot;../&quot; in your path to get up one level and then down to another path branch to reach your resource.","body":"Also keep in mind that the desired source can be outside of the packages hierarchy. In this case you&#39;ll have to use &quot;../&quot; in your path to get up one level and then down to another path branch to reach your resource."},{"owner":{"account_id":7588214,"reputation":939,"user_id":5756620,"display_name":"Mz A"},"score":5,"creation_date":1523270611,"post_id":16571046,"comment_id":86475584,"body_markdown":"@David  -- I think it (leading &#39;/&#39;) is necessary otherwise it searches relative to the Lifepaths.class package","body":"@David  -- I think it (leading &#39;/&#39;) is necessary otherwise it searches relative to the Lifepaths.class package"},{"owner":{"account_id":7253656,"reputation":1250,"user_id":5533075,"accept_rate":100,"display_name":"Dwhitz"},"score":17,"creation_date":1530868350,"post_id":16571046,"comment_id":89394608,"body_markdown":"Just to add some info, you need to add a `/` before your path if your file is under a different directory; for example `initialization/Lifepaths.txt`. If the path of the file is the **same** of yout class (but under resources as main dir) you can just put the name of the file without any `/`. \nFor example if your class has the following path `src/main/java/paths/Lifepaths.java`, your file has to have this path `src/main/resources/paths/Lifepaths.txt`.","body":"Just to add some info, you need to add a <code>&#47;</code> before your path if your file is under a different directory; for example <code>initialization&#47;Lifepaths.txt</code>. If the path of the file is the <b>same</b> of yout class (but under resources as main dir) you can just put the name of the file without any <code>&#47;</code>.  For example if your class has the following path <code>src&#47;main&#47;java&#47;paths&#47;Lifepaths.java</code>, your file has to have this path <code>src&#47;main&#47;resources&#47;paths&#47;Lifepaths.txt</code>."},{"owner":{"account_id":1363556,"reputation":193,"user_id":1300461,"display_name":"Zartc"},"score":0,"creation_date":1617288664,"post_id":16571046,"comment_id":118268037,"body_markdown":"@Dave Ankin: It is not absurd and certainly not a **Java specific** implementation detail. Care to show us all how simpler it is to acces files from Python or JavaScript, so that we can all be ashame ?","body":"@Dave Ankin: It is not absurd and certainly not a <b>Java specific</b> implementation detail. Care to show us all how simpler it is to acces files from Python or JavaScript, so that we can all be ashame ?"},{"owner":{"account_id":6412021,"reputation":1101,"user_id":4971476,"display_name":"Dave Ankin"},"score":2,"creation_date":1617290523,"post_id":16571046,"comment_id":118268932,"body_markdown":"@Zartc this is not file access, its jar access which is Java Archive - I spent quite a bit of time figuring out what my IDE was doing that i wasn&#39;t, super grateful for this post. Lots of people to js/python dev without an ide, using text editors or ipython.","body":"@Zartc this is not file access, its jar access which is Java Archive - I spent quite a bit of time figuring out what my IDE was doing that i wasn&#39;t, super grateful for this post. Lots of people to js/python dev without an ide, using text editors or ipython."},{"owner":{"account_id":1363556,"reputation":193,"user_id":1300461,"display_name":"Zartc"},"score":0,"creation_date":1617293070,"post_id":16571046,"comment_id":118270046,"body_markdown":"@Dave Ankin: This **is** file access. The file being inside a JAR do not change the fundamental operation.\nThe problem exposed here is that anytime you wana access a file, it can be tricky to know how to reach it from where you are. Point is: this is not a **Java specific detail**, you&#39;ll encounter this &quot;implementation detail&quot; with every language and on every platforms (i.e Linux vs Windows do you put C: or not, do you use &#39;/&#39; or &#39;\\&#39;).\nAt least Java is nice enought to let you access files inside a JAR (a kind of ZIP file) transparently, which is probably not the case for other environments.","body":"@Dave Ankin: This <b>is</b> file access. The file being inside a JAR do not change the fundamental operation. The problem exposed here is that anytime you wana access a file, it can be tricky to know how to reach it from where you are. Point is: this is not a <b>Java specific detail</b>, you&#39;ll encounter this &quot;implementation detail&quot; with every language and on every platforms (i.e Linux vs Windows do you put C: or not, do you use &#39;/&#39; or &#39;\\&#39;). At least Java is nice enought to let you access files inside a JAR (a kind of ZIP file) transparently, which is probably not the case for other environments."},{"owner":{"account_id":6412021,"reputation":1101,"user_id":4971476,"display_name":"Dave Ankin"},"score":0,"creation_date":1617294316,"post_id":16571046,"comment_id":118270591,"body_markdown":"@Zartc but, you are forced to use jars with java. if you are accessing a zip file with any other programming language, then you specify which filename you want. and there is no confusion about which classloader reads which jars, etc etc etc","body":"@Zartc but, you are forced to use jars with java. if you are accessing a zip file with any other programming language, then you specify which filename you want. and there is no confusion about which classloader reads which jars, etc etc etc"},{"owner":{"account_id":1360311,"reputation":16577,"user_id":1297812,"display_name":"laffuste"},"score":0,"creation_date":1625743173,"post_id":16571046,"comment_id":120710937,"body_markdown":"Avoid the temptation to build the path via `Paths` otherwise it won&#39;t work in windows (&quot;/&quot; -&gt; &quot;\\&quot;)","body":"Avoid the temptation to build the path via <code>Paths</code> otherwise it won&#39;t work in windows (&quot;/&quot; -&gt; &quot;\\&quot;)"},{"owner":{"account_id":3387473,"reputation":2354,"user_id":2843151,"accept_rate":89,"display_name":"bikeman868"},"score":1,"creation_date":1695853086,"post_id":16571046,"comment_id":136081098,"body_markdown":"I agree with @DaveAnkin, this is yet another area of Java that is an absolute mess and a complete nightmare to deal with. Other platforms definitely do not suffer from this avoidable complexity.","body":"I agree with @DaveAnkin, this is yet another area of Java that is an absolute mess and a complete nightmare to deal with. Other platforms definitely do not suffer from this avoidable complexity."}],"tags":[],"owner":{"account_id":2014980,"reputation":9943,"user_id":1802512,"accept_rate":80,"display_name":"hoaz"},"comment_count":10,"down_vote_count":2,"up_vote_count":229,"is_accepted":true,"score":227,"last_activity_date":1688840060,"creation_date":1368637584,"answer_id":16571046,"question_id":16570523,"body_markdown":"`Lifepaths.class.getClass().getResourceAsStream(...)` loads resources using system class loader, it obviously fails because it does not see your JARs\r\n\r\n`Lifepaths.class.getResourceAsStream(...)` loads resources using the same class loader that loaded Lifepaths class and it should have access to resources in your JARs\r\n\r\nWhen invoking getResourceAsStream(name), the name must start with &quot;/&quot;. I am not sure whether this is necessary, but I have problem without it","title":"getResourceAsStream returns null","body":"<p><code>Lifepaths.class.getClass().getResourceAsStream(...)</code> loads resources using system class loader, it obviously fails because it does not see your JARs</p>\n<p><code>Lifepaths.class.getResourceAsStream(...)</code> loads resources using the same class loader that loaded Lifepaths class and it should have access to resources in your JARs</p>\n<p>When invoking getResourceAsStream(name), the name must start with &quot;/&quot;. I am not sure whether this is necessary, but I have problem without it</p>\n"},{"comments":[{"owner":{"account_id":118444,"reputation":20516,"user_id":309483,"accept_rate":88,"display_name":"Janus Troelsen"},"score":0,"creation_date":1455555598,"post_id":16571137,"comment_id":58530776,"body_markdown":"your second example is broken","body":"your second example is broken"},{"owner":{"account_id":2676494,"reputation":7508,"user_id":2312796,"accept_rate":86,"display_name":"greedybuddha"},"score":1,"creation_date":1474305009,"post_id":16571137,"comment_id":66467037,"body_markdown":"Second example isn&#39;t broken, as I said in the answer it depends on where the resource is located.","body":"Second example isn&#39;t broken, as I said in the answer it depends on where the resource is located."},{"owner":{"account_id":8566752,"reputation":53339,"user_id":6419007,"accept_rate":67,"display_name":"Eric Duminil"},"score":0,"creation_date":1547643235,"post_id":16571137,"comment_id":95260584,"body_markdown":"Also: make sure that your IDE sees the file (&#39;some/pkg/resource.properties&#39;) by refreshing the source folder.","body":"Also: make sure that your IDE sees the file (&#39;some/pkg/resource.properties&#39;) by refreshing the source folder."},{"owner":{"account_id":6027,"reputation":6092,"user_id":9967,"accept_rate":79,"display_name":"Dominic Cronin"},"score":0,"creation_date":1599753994,"post_id":16571137,"comment_id":112878662,"body_markdown":"The link to JavaWorld is broken.","body":"The link to JavaWorld is broken."},{"owner":{"account_id":333393,"reputation":886,"user_id":659238,"accept_rate":50,"display_name":"alianos-"},"score":0,"creation_date":1628002249,"post_id":16571137,"comment_id":121302938,"body_markdown":"In case it helps anyone, the root for me /target/classes. So if I load file &quot;test.json&quot; with method one, the file needs to be in /target/classes/test.json in the compiled code or respective jar file.","body":"In case it helps anyone, the root for me /target/classes. So if I load file &quot;test.json&quot; with method one, the file needs to be in /target/classes/test.json in the compiled code or respective jar file."},{"owner":{"account_id":2800349,"reputation":524,"user_id":2408700,"display_name":"Father Stack"},"score":0,"creation_date":1687883223,"post_id":16571137,"comment_id":134998037,"body_markdown":"Thanks a lot. This was the first answer that finally taught me the (very important) differences.","body":"Thanks a lot. This was the first answer that finally taught me the (very important) differences."}],"tags":[],"owner":{"account_id":2676494,"reputation":7508,"user_id":2312796,"accept_rate":86,"display_name":"greedybuddha"},"comment_count":6,"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1599835835,"creation_date":1368637956,"answer_id":16571137,"question_id":16570523,"body_markdown":"So there are several ways to get a resource from a jar and each has slightly different syntax where the path needs to be specified differently.\r\n\r\nThe best explanation I have seen is this article from [InfoWorld][1]. I&#39;ll summarize here, but if you want to know more you should check out the article.\r\n\r\nMethods\r\n\r\n1) `ClassLoader.getResourceAsStream()`.  \r\n\r\nFormat: &quot;/&quot;-separated names; no leading &quot;/&quot; (all names are absolute). \r\n\r\nExample: `this.getClass().getClassLoader().getResourceAsStream(&quot;some/pkg/resource.properties&quot;);`\r\n\r\n2) `Class.getResourceAsStream()`\r\n\r\nFormat: &quot;/&quot;-separated names; leading &quot;/&quot; indicates absolute names; all other names are relative to the class&#39;s package\r\n\r\nExample: `this.getClass().getResourceAsStream(&quot;/some/pkg/resource.properties&quot;);`\r\n\r\nUpdated Sep 2020: Changed article link. Original article was from Javaworld, it is now hosted on InfoWorld (and has many more ads)\r\n\r\n  [1]: https://www.infoworld.com/article/2077352/smartly-load-your-properties.html","title":"getResourceAsStream returns null","body":"<p>So there are several ways to get a resource from a jar and each has slightly different syntax where the path needs to be specified differently.</p>\n<p>The best explanation I have seen is this article from <a href=\"https://www.infoworld.com/article/2077352/smartly-load-your-properties.html\" rel=\"noreferrer\">InfoWorld</a>. I'll summarize here, but if you want to know more you should check out the article.</p>\n<p>Methods</p>\n<ol>\n<li><code>ClassLoader.getResourceAsStream()</code>.</li>\n</ol>\n<p>Format: &quot;/&quot;-separated names; no leading &quot;/&quot; (all names are absolute).</p>\n<p>Example: <code>this.getClass().getClassLoader().getResourceAsStream(&quot;some/pkg/resource.properties&quot;);</code></p>\n<ol start=\"2\">\n<li><code>Class.getResourceAsStream()</code></li>\n</ol>\n<p>Format: &quot;/&quot;-separated names; leading &quot;/&quot; indicates absolute names; all other names are relative to the class's package</p>\n<p>Example: <code>this.getClass().getResourceAsStream(&quot;/some/pkg/resource.properties&quot;);</code></p>\n<p>Updated Sep 2020: Changed article link. Original article was from Javaworld, it is now hosted on InfoWorld (and has many more ads)</p>\n"},{"comments":[{"owner":{"account_id":4573201,"reputation":122,"user_id":3712363,"display_name":"fedeb"},"score":3,"creation_date":1554198613,"post_id":16763614,"comment_id":97654097,"body_markdown":"this is exactly what getResourceAsStream() does","body":"this is exactly what getResourceAsStream() does"}],"tags":[],"owner":{"account_id":2767775,"reputation":123,"user_id":2383064,"display_name":"MrD"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1369601749,"creation_date":1369601749,"answer_id":16763614,"question_id":16570523,"body_markdown":"You might want to try this to get the stream i.e first get the url and then open it as stream. \r\n\r\n    URL url = getClass().getResource(&quot;/initialization/Lifepaths.txt&quot;); \r\n    InputStream strm = url.openStream(); \r\n\r\nI once had a similar question: https://stackoverflow.com/questions/16563622/reading-txt-file-from-jar-fails-but-reading-image-works/16564611#16564611","title":"getResourceAsStream returns null","body":"<p>You might want to try this to get the stream i.e first get the url and then open it as stream. </p>\n\n<pre><code>URL url = getClass().getResource(\"/initialization/Lifepaths.txt\"); \nInputStream strm = url.openStream(); \n</code></pre>\n\n<p>I once had a similar question: <a href=\"https://stackoverflow.com/questions/16563622/reading-txt-file-from-jar-fails-but-reading-image-works/16564611#16564611\">Reading txt file from jar fails but reading image works</a></p>\n"},{"comments":[{"owner":{"account_id":3600027,"reputation":65,"user_id":3003526,"accept_rate":33,"display_name":"Jain"},"score":0,"creation_date":1398316110,"post_id":23239981,"comment_id":35594912,"body_markdown":"what ??? -1 for such working answer. No matter what. But above suggested solution will work for sure.","body":"what ??? -1 for such working answer. No matter what. But above suggested solution will work for sure."}],"tags":[],"owner":{"account_id":3600027,"reputation":65,"user_id":3003526,"accept_rate":33,"display_name":"Jain"},"comment_count":1,"down_vote_count":15,"up_vote_count":3,"is_accepted":false,"score":-12,"last_activity_date":1398247683,"creation_date":1398244791,"answer_id":23239981,"question_id":16570523,"body_markdown":"@Emracool... I&#39;d suggest you an alternative. Since you seem to be trying to load a *.txt file. Better to use `FileInputStream()` rather then this annoying `getClass().getClassLoader().getResourceAsStream()` or `getClass().getResourceAsStream()`. At least your code will execute properly.  ","title":"getResourceAsStream returns null","body":"<p>@Emracool... I'd suggest you an alternative. Since you seem to be trying to load a *.txt file. Better to use <code>FileInputStream()</code> rather then this annoying <code>getClass().getClassLoader().getResourceAsStream()</code> or <code>getClass().getResourceAsStream()</code>. At least your code will execute properly.  </p>\n"},{"tags":[],"owner":{"account_id":1276869,"reputation":454,"user_id":1231935,"display_name":"Paul Smith"},"comment_count":0,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1405526304,"creation_date":1405526304,"answer_id":24785394,"question_id":16570523,"body_markdown":"Don&#39;t use absolute paths, make them relative to the &#39;resources&#39; directory in your project. Quick and dirty code that displays the contents of MyTest.txt from the directory &#39;resources&#39;.\r\n\r\n    @Test\r\n    public void testDefaultResource() {\r\n        // can we see default resources\r\n        BufferedInputStream result = (BufferedInputStream) \r\n             Config.class.getClassLoader().getResourceAsStream(&quot;MyTest.txt&quot;);\r\n        byte [] b = new byte[256];\r\n        int val = 0;\r\n        String txt = null;\r\n        do {\r\n            try {\r\n                val = result.read(b);\r\n                if (val &gt; 0) {\r\n                    txt += new String(b, 0, val);\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } \r\n        } while (val &gt; -1);\r\n        System.out.println(txt);\r\n    }\r\n","title":"getResourceAsStream returns null","body":"<p>Don't use absolute paths, make them relative to the 'resources' directory in your project. Quick and dirty code that displays the contents of MyTest.txt from the directory 'resources'.</p>\n\n<pre><code>@Test\npublic void testDefaultResource() {\n    // can we see default resources\n    BufferedInputStream result = (BufferedInputStream) \n         Config.class.getClassLoader().getResourceAsStream(\"MyTest.txt\");\n    byte [] b = new byte[256];\n    int val = 0;\n    String txt = null;\n    do {\n        try {\n            val = result.read(b);\n            if (val &gt; 0) {\n                txt += new String(b, 0, val);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        } \n    } while (val &gt; -1);\n    System.out.println(txt);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2079767,"reputation":6298,"user_id":1852033,"accept_rate":77,"display_name":"Leo Ufimtsev"},"comment_count":0,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1420483987,"creation_date":1420483987,"answer_id":27785938,"question_id":16570523,"body_markdown":"Don&#39;t know if of help, but in my case I had my resource in the /src/ folder and was getting this error.\r\nI then moved the picture to the bin folder and it fixed the issue.","title":"getResourceAsStream returns null","body":"<p>Don't know if of help, but in my case I had my resource in the /src/ folder and was getting this error.\nI then moved the picture to the bin folder and it fixed the issue.</p>\n"},{"tags":[],"owner":{"account_id":6077723,"reputation":49,"user_id":4744506,"display_name":"Bobby Martin"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1440422223,"creation_date":1437442388,"answer_id":31528930,"question_id":16570523,"body_markdown":"Make sure your resource directory (e.g. &quot;src&quot;) is in your classpath (make sure it&#39;s a source directory in your build path in eclipse).\r\n\r\nMake sure clazz is loaded from the main classloader.\r\n\r\nThen, to load src/initialization/Lifepaths.txt, use \r\n\r\n    clazz.getResourceAsStream(&quot;/initialization/Lifepaths.txt&quot;);\r\n\r\nWhy:\r\n`clazz.getResourcesAsStream(foo)` looks up foo from *within the classpath of clazz*, *relative to the directory clazz lives in*. The leading &quot;/&quot; makes it load from the root of any directory in the classpath of clazz.\r\n\r\nUnless you&#39;re in a container of some kind, like Tomcat, or are doing something with ClassLoaders directly, you can just treat your eclipse/command line classpath as the only classloader classpath.\r\n","title":"getResourceAsStream returns null","body":"<p>Make sure your resource directory (e.g. \"src\") is in your classpath (make sure it's a source directory in your build path in eclipse).</p>\n\n<p>Make sure clazz is loaded from the main classloader.</p>\n\n<p>Then, to load src/initialization/Lifepaths.txt, use </p>\n\n<pre><code>clazz.getResourceAsStream(\"/initialization/Lifepaths.txt\");\n</code></pre>\n\n<p>Why:\n<code>clazz.getResourcesAsStream(foo)</code> looks up foo from <em>within the classpath of clazz</em>, <em>relative to the directory clazz lives in</em>. The leading \"/\" makes it load from the root of any directory in the classpath of clazz.</p>\n\n<p>Unless you're in a container of some kind, like Tomcat, or are doing something with ClassLoaders directly, you can just treat your eclipse/command line classpath as the only classloader classpath.</p>\n"},{"tags":[],"owner":{"account_id":1765805,"reputation":5354,"user_id":1611714,"display_name":"Binita Bharati"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1443318963,"creation_date":1443318963,"answer_id":32803799,"question_id":16570523,"body_markdown":"There seems to be issue with the ClassLoader that you are using. Use the contextClassLoader to load class.  This is irrespective of whether it is in a static/non-static method\r\n\r\n`Thread.currentThread().getContextClassLoader().getResourceAsStream`......","title":"getResourceAsStream returns null","body":"<p>There seems to be issue with the ClassLoader that you are using. Use the contextClassLoader to load class.  This is irrespective of whether it is in a static/non-static method</p>\n\n<p><code>Thread.currentThread().getContextClassLoader().getResourceAsStream</code>......</p>\n"},{"comments":[{"owner":{"account_id":424999,"reputation":3758,"user_id":805325,"display_name":"Ilya Kharlamov"},"score":0,"creation_date":1511973039,"post_id":34323567,"comment_id":82072416,"body_markdown":"Wrong java syntax","body":"Wrong java syntax"}],"tags":[],"owner":{"account_id":2989423,"reputation":1730,"user_id":2537335,"accept_rate":89,"display_name":"Pablo Gonzalez"},"comment_count":1,"down_vote_count":3,"up_vote_count":7,"is_accepted":false,"score":4,"last_activity_date":1574869317,"creation_date":1450305800,"answer_id":34323567,"question_id":16570523,"body_markdown":"What worked for me was to add the file under `My Project/Java Resources/src` and then use \r\n\r\n    this.getClass().getClassLoader().getResourceAsStream(&quot;myfile.txt&quot;);\r\n\r\nI didn&#39;t need to explicitly add this file to the path (adding it to `/src` does that apparently)","title":"getResourceAsStream returns null","body":"<p>What worked for me was to add the file under <code>My Project/Java Resources/src</code> and then use </p>\n\n<pre><code>this.getClass().getClassLoader().getResourceAsStream(\"myfile.txt\");\n</code></pre>\n\n<p>I didn't need to explicitly add this file to the path (adding it to <code>/src</code> does that apparently)</p>\n"},{"tags":[],"owner":{"account_id":3574691,"reputation":901,"user_id":2984233,"accept_rate":75,"display_name":"plosco"},"comment_count":0,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1478563951,"creation_date":1478563951,"answer_id":40476871,"question_id":16570523,"body_markdown":"I found myself in a similar issue. Since I am using maven I needed to update my pom.xml to include something like this:\r\n    \r\n       ...\r\n    &lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;resources&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;/src/main/resources&lt;/directory&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;../src/main/resources&lt;/directory&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t&lt;/resources&gt;\r\n\t\t&lt;pluginManagement&gt;\r\n            ...\r\n\r\nNote the resource tag in there to specify where that folder is. If you have nested projects (like I do) then you might want to get resources from other areas instead of just in the module you are working in. This helps reduce keeping the same file in each repo if you are using similar config data ","title":"getResourceAsStream returns null","body":"<p>I found myself in a similar issue. Since I am using maven I needed to update my pom.xml to include something like this:</p>\n\n<pre><code>   ...\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;/src/main/resources&lt;/directory&gt;\n        &lt;/resource&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;../src/main/resources&lt;/directory&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n    &lt;pluginManagement&gt;\n        ...\n</code></pre>\n\n<p>Note the resource tag in there to specify where that folder is. If you have nested projects (like I do) then you might want to get resources from other areas instead of just in the module you are working in. This helps reduce keeping the same file in each repo if you are using similar config data </p>\n"},{"tags":[],"owner":{"account_id":1422690,"reputation":1153,"user_id":1346990,"display_name":"Ridox"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1649579119,"creation_date":1562665024,"answer_id":56949635,"question_id":16570523,"body_markdown":"The default JVM classloader will use parent-classloader to load resources first:\r\n![deletegate-parent-classloader](https://jrebel.com/wp-content/uploads/2013/08/classloader-hierarchy.jpg). \r\n\r\n`Lifepaths.class.getClass()`&#39;s classloader is `bootstrap classloader`, so `getResourceAsStream` will search $JAVA_HOME only, regardless of user provided `classpath`. Obviously, Lifepaths.txt is not there.\r\n\r\n`Lifepaths.class` &#39;s classloader is `system classpath classloader`,  so `getResourceAsStream` will search user-defined `classpath` and Lifepaths.txt is there.\r\n\r\nWhen using `java.lang.Class#getResourceAsStream(String name)`, a name which doesn&#39;t start with **&#39;/&#39;** will be added with `package name` as a prefix. To avoid this use `java.lang.ClassLoader#getResourceAsStream` instead. \r\n\r\nFor example:\r\n```Java\r\nClassLoader loader = Thread.currentThread().getContextClassLoader();\r\nString resourceName = &quot;Lifepaths.txt&quot;;\r\nInputStream resourceStream = loader.getResourceAsStream(resourceName); \r\n```","title":"getResourceAsStream returns null","body":"<p>The default JVM classloader will use parent-classloader to load resources first:\n<img src=\"https://jrebel.com/wp-content/uploads/2013/08/classloader-hierarchy.jpg\" alt=\"deletegate-parent-classloader\" />.</p>\n<p><code>Lifepaths.class.getClass()</code>'s classloader is <code>bootstrap classloader</code>, so <code>getResourceAsStream</code> will search $JAVA_HOME only, regardless of user provided <code>classpath</code>. Obviously, Lifepaths.txt is not there.</p>\n<p><code>Lifepaths.class</code> 's classloader is <code>system classpath classloader</code>,  so <code>getResourceAsStream</code> will search user-defined <code>classpath</code> and Lifepaths.txt is there.</p>\n<p>When using <code>java.lang.Class#getResourceAsStream(String name)</code>, a name which doesn't start with <strong>'/'</strong> will be added with <code>package name</code> as a prefix. To avoid this use <code>java.lang.ClassLoader#getResourceAsStream</code> instead.</p>\n<p>For example:</p>\n<pre><code>ClassLoader loader = Thread.currentThread().getContextClassLoader();\nString resourceName = &quot;Lifepaths.txt&quot;;\nInputStream resourceStream = loader.getResourceAsStream(resourceName); \n</code></pre>\n"},{"comments":[{"owner":{"account_id":5437148,"reputation":255,"user_id":4326295,"display_name":"Jo&#227;o Victor Oliveira"},"score":1,"creation_date":1632340918,"post_id":58041889,"comment_id":122469216,"body_markdown":"this explanation clarified a lot the issue for me. Thanks!","body":"this explanation clarified a lot the issue for me. Thanks!"},{"owner":{"account_id":129401,"reputation":2460,"user_id":327961,"accept_rate":50,"display_name":"user327961"},"score":1,"creation_date":1644933385,"post_id":58041889,"comment_id":125732222,"body_markdown":"Never realised that the getResource method of the Class doesn&#39;t have the same root that the getResources method of the ClassLoader. This answer should be at the top of the page.","body":"Never realised that the getResource method of the Class doesn&#39;t have the same root that the getResources method of the ClassLoader. This answer should be at the top of the page."},{"owner":{"account_id":16735694,"reputation":2370,"user_id":12096922,"display_name":"testing_22"},"score":1,"creation_date":1653323134,"post_id":58041889,"comment_id":127818642,"body_markdown":"Saved my life!!!! The visual answer is the best part","body":"Saved my life!!!! The visual answer is the best part"}],"tags":[],"owner":{"account_id":1535458,"reputation":6426,"user_id":1431641,"display_name":"Shijing Lv"},"comment_count":3,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1645079351,"creation_date":1569081631,"answer_id":58041889,"question_id":16570523,"body_markdown":"Roughly speaking:\r\n\r\n`getClass().getResource(&quot;/&quot;)` ~= `Thread.currentThread().getContextClassLoader().getResource(&quot;.&quot;)`\r\n\r\nSuppose your project structure is like the following:\r\n\r\n```\r\n├── src\r\n│&#160;&#160; ├── main\r\n│   └── test\r\n│       ├── java\r\n│       │&#160;&#160; └── com\r\n│       │&#160;&#160;     └── github\r\n│       │&#160;&#160;         └── xyz\r\n│       │&#160;&#160;             └── proj\r\n│       │&#160;&#160;                 ├── MainTest.java\r\n│       │&#160;&#160;                 └── TestBase.java\r\n│       └── resources\r\n│           └── abcd.txt\r\n└── target\r\n    └── test-classes  &lt;-- this.getClass.getResource(&quot;/&quot;)\r\n        │              `--Thread.currentThread().getContextClassLoader().getResources(&quot;.&quot;)\r\n        ├── com\r\n&#160;&#160;     &#160;│   └── github\r\n        │&#160;&#160;     └── xyz\r\n        │&#160;&#160;         └── proj  &lt;-- this.getClass.getResource(&quot;.&quot;)\r\n        │&#160;&#160;             ├── MainTest.class\r\n        │&#160;&#160;             └── TestBase.class\r\n        └── resources\r\n            └── abcd.txt\r\n\r\n```\r\n\r\n\r\n```\r\n// in MainTest.java\r\nthis.getClass.getResource(&quot;/&quot;) -&gt; &quot;~/proj_dir/target/test-classes/&quot;\r\nthis.getClass.getResource(&quot;.&quot;) -&gt; &quot;~/proj_dir/target/test-classes/com/github/xyz/proj/&quot;\r\nThread.currentThread().getContextClassLoader().getResources(&quot;.&quot;) -&gt; &quot;~/proj_dir/target/test-classes/&quot;\r\nThread.currentThread().getContextClassLoader().getResources(&quot;/&quot;) -&gt;  null\r\n\r\n```","title":"getResourceAsStream returns null","body":"<p>Roughly speaking:</p>\n<p><code>getClass().getResource(&quot;/&quot;)</code> ~= <code>Thread.currentThread().getContextClassLoader().getResource(&quot;.&quot;)</code></p>\n<p>Suppose your project structure is like the following:</p>\n<pre><code>├── src\n│   ├── main\n│   └── test\n│       ├── java\n│       │   └── com\n│       │       └── github\n│       │           └── xyz\n│       │               └── proj\n│       │                   ├── MainTest.java\n│       │                   └── TestBase.java\n│       └── resources\n│           └── abcd.txt\n└── target\n    └── test-classes  &lt;-- this.getClass.getResource(&quot;/&quot;)\n        │              `--Thread.currentThread().getContextClassLoader().getResources(&quot;.&quot;)\n        ├── com\n        │   └── github\n        │       └── xyz\n        │           └── proj  &lt;-- this.getClass.getResource(&quot;.&quot;)\n        │               ├── MainTest.class\n        │               └── TestBase.class\n        └── resources\n            └── abcd.txt\n\n</code></pre>\n<pre><code>// in MainTest.java\nthis.getClass.getResource(&quot;/&quot;) -&gt; &quot;~/proj_dir/target/test-classes/&quot;\nthis.getClass.getResource(&quot;.&quot;) -&gt; &quot;~/proj_dir/target/test-classes/com/github/xyz/proj/&quot;\nThread.currentThread().getContextClassLoader().getResources(&quot;.&quot;) -&gt; &quot;~/proj_dir/target/test-classes/&quot;\nThread.currentThread().getContextClassLoader().getResources(&quot;/&quot;) -&gt;  null\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8139364,"reputation":103,"user_id":6130058,"display_name":"Feku279"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1569924027,"creation_date":1569924027,"answer_id":58182418,"question_id":16570523,"body_markdown":"if you are using Maven make sure your packing is &#39;jar&#39; not &#39;pom&#39;. \r\n\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;","title":"getResourceAsStream returns null","body":"<p>if you are using Maven make sure your packing is 'jar' not 'pom'. </p>\n\n<pre><code>&lt;packaging&gt;jar&lt;/packaging&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1909412,"reputation":61,"user_id":1723627,"display_name":"ConAim"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1590368002,"creation_date":1590367630,"answer_id":61994217,"question_id":16570523,"body_markdown":"What you really need is a full absolute classPath for the file. So instead of guessing it, try to find out the ROOT and then move the file to a better location base one &lt;.war&gt; file structures...\r\n\r\n    URL test1 = getClass().getResource(&quot;/&quot;);\r\n    URL test2 = getClass().getClassLoader().getResource(&quot;/&quot;);            \r\n    URL test3 = getClass().getClassLoader().getResource(&quot;../&quot;);\r\n    \r\n    logger.info(test1.getPath()); \r\n    logger.info(test2.getPath());\r\n    logger.info(test3.getPath());\r\n\r\n\r\n","title":"getResourceAsStream returns null","body":"<p>What you really need is a full absolute classPath for the file. So instead of guessing it, try to find out the ROOT and then move the file to a better location base one &lt;.war> file structures...</p>\n\n<pre><code>URL test1 = getClass().getResource(\"/\");\nURL test2 = getClass().getClassLoader().getResource(\"/\");            \nURL test3 = getClass().getClassLoader().getResource(\"../\");\n\nlogger.info(test1.getPath()); \nlogger.info(test2.getPath());\nlogger.info(test3.getPath());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6374107,"reputation":534,"user_id":4945656,"accept_rate":50,"display_name":"leyren"},"score":1,"creation_date":1594016557,"post_id":62605441,"comment_id":110967289,"body_markdown":"The source folder is called `src/main/JAVA`, obviously your non-code files should not be located here.","body":"The source folder is called <code>src&#47;main&#47;JAVA</code>, obviously your non-code files should not be located here."}],"tags":[],"owner":{"account_id":2152996,"reputation":2196,"user_id":1908827,"display_name":"Akash Yellappa"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1593227520,"creation_date":1593227520,"answer_id":62605441,"question_id":16570523,"body_markdown":"What worked for me is I placed the file under \r\n\r\n    src/main/java/myfile.log\r\n\r\nand \r\n\r\n    InputStream is = getClass().getClassLoader().getResourceAsStream(&quot;myfile.log&quot;);\r\n    \t\t\r\n    \t\tif (is == null) {\r\n    \t\t\tthrow new FileNotFoundException(&quot;Log file not provided&quot;);\r\n    \t\t}","title":"getResourceAsStream returns null","body":"<p>What worked for me is I placed the file under</p>\n<pre><code>src/main/java/myfile.log\n</code></pre>\n<p>and</p>\n<pre><code>InputStream is = getClass().getClassLoader().getResourceAsStream(&quot;myfile.log&quot;);\n        \n        if (is == null) {\n            throw new FileNotFoundException(&quot;Log file not provided&quot;);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12898503,"reputation":2596,"user_id":9328117,"display_name":"Shahid Hussain Abbasi"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1613988435,"creation_date":1613988435,"answer_id":66313588,"question_id":16570523,"body_markdown":"Please remove\r\n\r\n&lt;resource&gt;\r\n   &lt;directory&gt;../src/main/resources&lt;/directory&gt;\r\n&lt;/resource&gt;\r\n\r\nor include file you are trying to read","title":"getResourceAsStream returns null","body":"<p>Please remove</p>\n\n   ../src/main/resources\n\n<p>or include file you are trying to read</p>\n"},{"tags":[],"owner":{"account_id":12898503,"reputation":2596,"user_id":9328117,"display_name":"Shahid Hussain Abbasi"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1613988575,"creation_date":1613988575,"answer_id":66313619,"question_id":16570523,"body_markdown":"In pom.xml manage or remove\r\n        &lt;resource&gt;\r\n            &lt;directory&gt;../src/main/resources&lt;/directory&gt;\r\n        &lt;/resource&gt;\r\n\r\n","title":"getResourceAsStream returns null","body":"<p>In pom.xml manage or remove\n\n../src/main/resources\n</p>\n"},{"tags":[],"owner":{"account_id":139449,"reputation":969,"user_id":345052,"accept_rate":67,"display_name":"qwebek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622037337,"creation_date":1622037337,"answer_id":67706423,"question_id":16570523,"body_markdown":"My caller class was in `src/main/...`\r\n\r\nWhat helped me to load resource from `src/test/resources/folder/file.properties`\r\n\r\n\r\n    `properties.load(getClass().getClassLoader().getResourceAsStream(&quot;folder/file.properties&quot;));`\r\n\r\n\r\nhttps://howtodoinjava.com/java/io/read-file-from-resources-folder/\r\n\r\n\r\nJava 11","title":"getResourceAsStream returns null","body":"<p>My caller class was in <code>src/main/...</code></p>\n<p>What helped me to load resource from <code>src/test/resources/folder/file.properties</code></p>\n<pre><code>`properties.load(getClass().getClassLoader().getResourceAsStream(&quot;folder/file.properties&quot;));`\n</code></pre>\n<p><a href=\"https://howtodoinjava.com/java/io/read-file-from-resources-folder/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/java/io/read-file-from-resources-folder/</a></p>\n<p>Java 11</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1637801227,"post_id":70101506,"comment_id":123925868,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/70101506/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":20892617,"reputation":9,"user_id":15347669,"display_name":"tcsnzh"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1637779977,"creation_date":1637779977,"answer_id":70101506,"question_id":16570523,"body_markdown":"&gt; jdk &gt;=9 需要在module-info模块中把非根目录/非共父目录的包给它open了。\r\n\r\njdk &gt;=9 need open resource dir in module-info.java , such as :\r\n\r\n- src\r\n  - java\r\n  - resoureces\r\n    - conf\r\n      - config.json\r\n    - log4j2.xml \r\n    - openapi.yaml\r\n\r\nIf you need read conf/config.json , you need two step :\r\n\r\n```java\r\n// in module-info.java\r\nmodule your.mod.name {\r\n    open conf;\r\n}\r\n\r\n// then in java code\r\ngetClassLoader().getResourceAsStream(&quot;conf/config.json&quot;);\r\n```\r\n\r\nElse if you need read other in root , it&#39;s only :\r\n\r\n```java\r\ngetClassLoader().getResourceAsStream(&quot;openapi.yaml&quot;);\r\n```\r\n\r\n&gt; you can see {@link java.lang.ClassLoader#getResourceAsStream(String)} known why ~","title":"getResourceAsStream returns null","body":"<blockquote>\n<p>jdk &gt;=9 需要在module-info模块中把非根目录/非共父目录的包给它open了。</p>\n</blockquote>\n<p>jdk &gt;=9 need open resource dir in module-info.java , such as :</p>\n<ul>\n<li>src\n<ul>\n<li>java</li>\n<li>resoureces\n<ul>\n<li>conf\n<ul>\n<li>config.json</li>\n</ul>\n</li>\n<li>log4j2.xml</li>\n<li>openapi.yaml</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>If you need read conf/config.json , you need two step :</p>\n<pre class=\"lang-java prettyprint-override\"><code>// in module-info.java\nmodule your.mod.name {\n    open conf;\n}\n\n// then in java code\ngetClassLoader().getResourceAsStream(&quot;conf/config.json&quot;);\n</code></pre>\n<p>Else if you need read other in root , it's only :</p>\n<pre class=\"lang-java prettyprint-override\"><code>getClassLoader().getResourceAsStream(&quot;openapi.yaml&quot;);\n</code></pre>\n<blockquote>\n<p>you can see {@link java.lang.ClassLoader#getResourceAsStream(String)} known why ~</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3729650,"reputation":1020,"user_id":3102471,"accept_rate":71,"display_name":"mbmast"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640821254,"creation_date":1640821254,"answer_id":70526124,"question_id":16570523,"body_markdown":"While not intended to be an answer, I&#39;m presenting this suggestion as an answer so I can get the screenshot in.\r\n\r\nFor those of you developing on a Windows platform, I highly recommend the Microsoft utility ProcMon, or Process Monitor.\r\n\r\nProcess Monitor is one utility in a suite of utilities Microsoft gives away (you don&#39;t even need to be signed in to download).  They are all available at sysinternals.com, the original host that Microsoft acquired and just kept.\r\n\r\nProcess Monitor can monitor a ton of events that are associated with any running process.  If you specify the File Open event and provide the file name (or part of the file name), it will log which process attempted to open the file and it will show every directory searched.  This can be useful when you don&#39;t know where your running code is looking for the file you specified in your source/config.\r\n  Here&#39;s an example:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere I&#39;m looking for (and not finding) a schema file (XSD) so that the code can use it to validate some user supplied XML. \r\n\r\n  [1]: https://i.stack.imgur.com/34IQC.png","title":"getResourceAsStream returns null","body":"<p>While not intended to be an answer, I'm presenting this suggestion as an answer so I can get the screenshot in.</p>\n<p>For those of you developing on a Windows platform, I highly recommend the Microsoft utility ProcMon, or Process Monitor.</p>\n<p>Process Monitor is one utility in a suite of utilities Microsoft gives away (you don't even need to be signed in to download).  They are all available at sysinternals.com, the original host that Microsoft acquired and just kept.</p>\n<p>Process Monitor can monitor a ton of events that are associated with any running process.  If you specify the File Open event and provide the file name (or part of the file name), it will log which process attempted to open the file and it will show every directory searched.  This can be useful when you don't know where your running code is looking for the file you specified in your source/config.\nHere's an example:</p>\n<p><a href=\"https://i.stack.imgur.com/34IQC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/34IQC.png\" alt=\"enter image description here\" /></a></p>\n<p>Here I'm looking for (and not finding) a schema file (XSD) so that the code can use it to validate some user supplied XML.</p>\n"},{"comments":[{"owner":{"account_id":12266168,"reputation":351,"user_id":8952646,"display_name":"Israel Figueirido"},"score":0,"creation_date":1687953054,"post_id":71061230,"comment_id":135008250,"body_markdown":"also (for intelliJ): https://stackoverflow.com/a/76572706/8952646","body":"also (for intelliJ): <a href=\"https://stackoverflow.com/a/76572706/8952646\">stackoverflow.com/a/76572706/8952646</a>"}],"tags":[],"owner":{"account_id":1430058,"reputation":827,"user_id":1352658,"accept_rate":78,"display_name":"j5shi"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644478201,"creation_date":1644478201,"answer_id":71061230,"question_id":16570523,"body_markdown":"If you are using IDEA, make sure to mark your resources folder as &#39;Resources&#39; so that the path can be recognized by IDE correctly.\r\n\r\nLet&#39;s say you have a file named &#39;book.json&#39; in &#39;resources/&#39;, then to use the resources in it, you can do it like this\r\n\r\n    InputStream input = Main.class.getResourceAsStream(&quot;/book.json&quot;);\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4bXsr.png","title":"getResourceAsStream returns null","body":"<p>If you are using IDEA, make sure to mark your resources folder as 'Resources' so that the path can be recognized by IDE correctly.</p>\n<p>Let's say you have a file named 'book.json' in 'resources/', then to use the resources in it, you can do it like this</p>\n<pre><code>InputStream input = Main.class.getResourceAsStream(&quot;/book.json&quot;);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/4bXsr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4bXsr.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":7710103,"reputation":21,"user_id":5839703,"display_name":"Amit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653586969,"creation_date":1653586969,"answer_id":72395954,"question_id":16570523,"body_markdown":"Lifepaths.class.getClass().\r\n            getResourceAsStream(&quot;Lifepaths.txt&quot;));","title":"getResourceAsStream returns null","body":"<p>Lifepaths.class.getClass().\ngetResourceAsStream(&quot;Lifepaths.txt&quot;));</p>\n"},{"tags":[],"owner":{"account_id":13920052,"reputation":191,"user_id":10050726,"display_name":"Sumanth Vakacharla"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660063738,"creation_date":1660063738,"answer_id":73295438,"question_id":16570523,"body_markdown":"I know there are different answers here. Mine worked like this.\r\nAdded the file in the resources directory.\r\nAnd in the executable code I mentioned the path for that file with &quot;/&quot; as prefix within the quotes of the filename.\r\n\r\n     InputStream resourceStream = loader.getResourceAsStream(&quot;/LifePaths.txt&quot;);\r\n\r\n ","title":"getResourceAsStream returns null","body":"<p>I know there are different answers here. Mine worked like this.\nAdded the file in the resources directory.\nAnd in the executable code I mentioned the path for that file with &quot;/&quot; as prefix within the quotes of the filename.</p>\n<pre><code> InputStream resourceStream = loader.getResourceAsStream(&quot;/LifePaths.txt&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1664787392,"post_id":73896731,"comment_id":130543429,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/73896731/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":14489353,"reputation":61,"user_id":10559828,"display_name":"R4de"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664459664,"creation_date":1664459664,"answer_id":73896731,"question_id":16570523,"body_markdown":"Problem with me was that resource was not in src folder.","title":"getResourceAsStream returns null","body":"<p>Problem with me was that resource was not in src folder.</p>\n"},{"tags":[],"owner":{"account_id":4613136,"reputation":378,"user_id":3740598,"display_name":"mrossini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674059794,"creation_date":1674059794,"answer_id":75162433,"question_id":16570523,"body_markdown":"Coming late to the party. Depending on the JDK version you are using (maybe it is time to review the StackOverflow &#39;question already answered&#39;?) JPMS can impact on the resources you are able to load (or not).\r\n\r\nPackaging my code as module I had to do that:\r\n\r\nThread.currentThread().getClass().getModule().getResourceAsStream(&quot;resourceName&quot;);\r\n\r\nAnd then it worked","title":"getResourceAsStream returns null","body":"<p>Coming late to the party. Depending on the JDK version you are using (maybe it is time to review the StackOverflow 'question already answered'?) JPMS can impact on the resources you are able to load (or not).</p>\n<p>Packaging my code as module I had to do that:</p>\n<p>Thread.currentThread().getClass().getModule().getResourceAsStream(&quot;resourceName&quot;);</p>\n<p>And then it worked</p>\n"},{"tags":[],"owner":{"account_id":12266168,"reputation":351,"user_id":8952646,"display_name":"Israel Figueirido"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687951418,"creation_date":1687951418,"answer_id":76572706,"question_id":16570523,"body_markdown":"What happened to me was an *intelliJ* (2023.1) issue. I was trying to get a ***.json*** file from my */resources* folder and I was getting `null`. The problem was the ***.json*** pattern was not in **Settings &gt; Build, Execution, Deployment &gt; Compiler &gt; Resource Patterns**.\r\n\r\nAfter I added it, all worked fine (without the initial &quot;/&quot;, by the way).\r\n\r\nSee: https://stackoverflow.com/questions/4301329/java-class-getresource-returns-null","title":"getResourceAsStream returns null","body":"<p>What happened to me was an <em>intelliJ</em> (2023.1) issue. I was trying to get a <em><strong>.json</strong></em> file from my <em>/resources</em> folder and I was getting <code>null</code>. The problem was the <em><strong>.json</strong></em> pattern was not in <strong>Settings &gt; Build, Execution, Deployment &gt; Compiler &gt; Resource Patterns</strong>.</p>\n<p>After I added it, all worked fine (without the initial &quot;/&quot;, by the way).</p>\n<p>See: <a href=\"https://stackoverflow.com/questions/4301329/java-class-getresource-returns-null\">Java - class.getResource returns null</a></p>\n"}],"owner":{"display_name":"user1131435"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":471316,"favorite_count":0,"down_vote_count":0,"up_vote_count":259,"accepted_answer_id":16571046,"answer_count":27,"score":259,"last_activity_date":1694966677,"creation_date":1368635821,"question_id":16570523,"body_markdown":"I&#39;m loading a text file from within a package in a compiled JAR of my Java project. The relevant directory structure is as follows:\r\n\r\n    /src/initialization/Lifepaths.txt\r\n\r\nMy code loads a file by calling [`Class::getResourceAsStream`][1] to return a [`InputStream`][2]. \r\n\r\n    public class Lifepaths {\r\n        public static void execute() {\r\n            System.out.println(Lifepaths.class.getClass().\r\n                getResourceAsStream(&quot;/initialization/Lifepaths.txt&quot;));\r\n        }\r\n\r\n        private Lifepaths() {}\r\n\r\n        //This is temporary; will eventually be called from outside\r\n        public static void main(String[] args) {execute();}\r\n    }\r\n\r\nThe print out will always print `null`, no matter what I use. I&#39;m not sure why the above wouldn&#39;t work, so I&#39;ve also tried:\r\n\r\n - `&quot;/src/initialization/Lifepaths.txt&quot;`\r\n - `&quot;initialization/Lifepaths.txt&quot;`\r\n - `&quot;Lifepaths.txt&quot;`\r\n\r\nNeither of these work. [I&#39;ve](https://stackoverflow.com/questions/12262062/getresourceasstream-returns-null) [read](https://stackoverflow.com/questions/7017361/getresourceasstream-returning-null) [numerous](https://stackoverflow.com/questions/2797162/getresourceasstream-is-always-returning-null) [questions](https://stackoverflow.com/questions/2195445/eclipse-getresourceasstream-returning-null) so far on the topic, but none of them have been helpful - usually, they just say to load files using the root path, which I&#39;m already doing. That, or just load the file from the current directory (just load `filename`), which I&#39;ve also tried. The file is being compiled into the JAR in the appropriate location with the appropriate name. \r\n\r\nHow do I solve this?\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html#getResourceAsStream(java.lang.String)\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/InputStream.html","title":"getResourceAsStream returns null","body":"<p>I'm loading a text file from within a package in a compiled JAR of my Java project. The relevant directory structure is as follows:</p>\n\n<pre><code>/src/initialization/Lifepaths.txt\n</code></pre>\n\n<p>My code loads a file by calling <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html#getResourceAsStream(java.lang.String)\" rel=\"noreferrer\"><code>Class::getResourceAsStream</code></a> to return a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/InputStream.html\" rel=\"noreferrer\"><code>InputStream</code></a>. </p>\n\n<pre><code>public class Lifepaths {\n    public static void execute() {\n        System.out.println(Lifepaths.class.getClass().\n            getResourceAsStream(\"/initialization/Lifepaths.txt\"));\n    }\n\n    private Lifepaths() {}\n\n    //This is temporary; will eventually be called from outside\n    public static void main(String[] args) {execute();}\n}\n</code></pre>\n\n<p>The print out will always print <code>null</code>, no matter what I use. I'm not sure why the above wouldn't work, so I've also tried:</p>\n\n<ul>\n<li><code>\"/src/initialization/Lifepaths.txt\"</code></li>\n<li><code>\"initialization/Lifepaths.txt\"</code></li>\n<li><code>\"Lifepaths.txt\"</code></li>\n</ul>\n\n<p>Neither of these work. <a href=\"https://stackoverflow.com/questions/12262062/getresourceasstream-returns-null\">I've</a> <a href=\"https://stackoverflow.com/questions/7017361/getresourceasstream-returning-null\">read</a> <a href=\"https://stackoverflow.com/questions/2797162/getresourceasstream-is-always-returning-null\">numerous</a> <a href=\"https://stackoverflow.com/questions/2195445/eclipse-getresourceasstream-returning-null\">questions</a> so far on the topic, but none of them have been helpful - usually, they just say to load files using the root path, which I'm already doing. That, or just load the file from the current directory (just load <code>filename</code>), which I've also tried. The file is being compiled into the JAR in the appropriate location with the appropriate name. </p>\n\n<p>How do I solve this?</p>\n"},{"tags":["java","android","datepicker","dialog"],"answers":[{"tags":[],"owner":{"account_id":270025,"reputation":6187,"user_id":3649629,"accept_rate":67,"display_name":"Gleichmut"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694962856,"creation_date":1694962856,"answer_id":77122371,"question_id":77119593,"body_markdown":"You have to follow ```MVC``` or ```MVVM``` pattern which are behind Android architecture. In this case all changes on UI are based on changes in model. So I have to update a model state and UI should be notified on changes in the model. \r\n\r\nThe right way to do this is to use ```ViewModel``` class which single instance is shared between your host fragment and dialog fragment. You can use [Sunflower android app][1] for reference, it is a bit outdated (e.g. it uses ```LiveData``` instead of ```Kotlin Flows```), but still shows some good architecture decisions. \r\n\r\nAnother way is to implement interface with callbacks:\r\n```\r\ninterface IDialogCallbacks {\r\n  fun onClose()\r\n}\r\n``` \r\n\r\nMake a host fragment to implement this interface:\r\n```\r\nclass MainFragment: Fragment, IDialogCallbacks { /* the rest of code */}\r\n```\r\n\r\nIn the dialog fragment (or any other child fragment) call parent fragment, check if it implements this interface and if it is then invoke it:\r\n```\r\n    if(getParentFragment() is IDialogCallbacks) {\r\n        (getParentFragment() as IDialogCallbacks).onClose()\r\n    } \r\n```\r\n  [1]: https://github.com/android/sunflower","title":"How to Callback from dialog class to Fragment","body":"<p>You have to follow <code>MVC</code> or <code>MVVM</code> pattern which are behind Android architecture. In this case all changes on UI are based on changes in model. So I have to update a model state and UI should be notified on changes in the model.</p>\n<p>The right way to do this is to use <code>ViewModel</code> class which single instance is shared between your host fragment and dialog fragment. You can use <a href=\"https://github.com/android/sunflower\" rel=\"nofollow noreferrer\">Sunflower android app</a> for reference, it is a bit outdated (e.g. it uses <code>LiveData</code> instead of <code>Kotlin Flows</code>), but still shows some good architecture decisions.</p>\n<p>Another way is to implement interface with callbacks:</p>\n<pre><code>interface IDialogCallbacks {\n  fun onClose()\n}\n</code></pre>\n<p>Make a host fragment to implement this interface:</p>\n<pre><code>class MainFragment: Fragment, IDialogCallbacks { /* the rest of code */}\n</code></pre>\n<p>In the dialog fragment (or any other child fragment) call parent fragment, check if it implements this interface and if it is then invoke it:</p>\n<pre><code>    if(getParentFragment() is IDialogCallbacks) {\n        (getParentFragment() as IDialogCallbacks).onClose()\n    } \n</code></pre>\n"}],"owner":{"display_name":"user4655559"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77122371,"answer_count":1,"score":0,"last_activity_date":1694962856,"creation_date":1694898113,"question_id":77119593,"body_markdown":"I&#39;m trying to update the text on a button after a dialog with a datepicker is closed.\r\nThe dialog is instantiated inside of a fragment class and the button risides within that\r\nsame class. Here&#39;s some code:\r\n\r\nFragment class:\r\n\r\n    select_dob_btn = view.findViewById(R.id.profile_dob_button);\r\n        datePickerDialog = new DatePickerDialog();\r\n        datePickerDialog.setButtonText(&quot;Select Date Of Birth&quot;);\r\n        select_dob_btn.setText(datePickerDialog.getButtonText());\r\n\r\nThe entire dialog class:\r\n\r\n    public class DatePickerDialog extends DialogFragment {\r\n\r\n    public long dateResult = 0;\r\n    String buttonText = &quot;&quot;;\r\n\r\n    @NonNull\r\n    @Override\r\n    public Dialog onCreateDialog(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        //int listingID = getArguments().getInt(&quot;listingID&quot;);\r\n\r\n\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(requireActivity());\r\n\r\n        // Get the layout inflater\r\n        LayoutInflater inflater = this.getLayoutInflater();\r\n\r\n        View custom_layout = inflater.inflate(R.layout.dialog_date_picker,null);\r\n\r\n        DatePicker datePicker = custom_layout.findViewById(R.id.dialog_date_picker);\r\n        if(dateResult != 0){\r\n            datePicker.init(Globals.getDateYearFromTimeStamp(dateResult), Globals.getDateMonthFromTimeStamp(dateResult),Globals.getDateDayFromTimeStamp(dateResult), null);\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n        // Inflate and set the layout for the dialog\r\n        // Pass null as the parent view because its going in the dialog layout\r\n        builder.setView(custom_layout)\r\n                .setPositiveButton(R.string.submit, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialogInterface, int i) {\r\n                        dateResult = Globals.getTimeStampFromDateDDMMYYYY(datePicker.getDayOfMonth()+&quot;-&quot;+(datePicker.getMonth()+1)+&quot;-&quot;+datePicker.getYear());\r\n                        setButtonText(String.valueOf(Globals.getDateFromTimeStamp(dateResult)));\r\n                    }\r\n                })\r\n                .setNegativeButton(R.string.cancel, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialogInterface, int i) {\r\n                        dateResult = 0;\r\n                        setButtonText(String.valueOf(R.string.register_select_dob));\r\n                        dialogInterface.cancel();\r\n\r\n                    }\r\n                });\r\n\r\n\r\n        return builder.create();\r\n    }\r\n    public DatePickerDialog newInstance() {\r\n        DatePickerDialog f = this;\r\n\r\n        // Supply num input as an argument.\r\n        Bundle args = new Bundle();\r\n       // args.putInt(&quot;listingID&quot;, 0);\r\n\r\n        f.setArguments(args);\r\n\r\n        return f;\r\n    }\r\n    public void ShowDialog(FragmentManager fragmentManager) {\r\n        DialogFragment newFragment = newInstance();\r\n\r\n        newFragment.show(fragmentManager, String.valueOf(0));\r\n    }\r\n\r\n    public void setButtonText(String text){\r\n        buttonText = text;\r\n    }\r\n    public String getButtonText(){\r\n        return buttonText;\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nNow back on the Fragment class I want to fire this method to update the Select date of birth button:\r\n\r\n        void RefreshSetBirthdayButton(){\r\n\r\n        if(datePickerDialog.dateResult == 0){\r\n            select_dob_btn.setText(R.string.register_select_dob);\r\n        }else{\r\n            datePickerDialog.setButtonText(String.valueOf(Globals.getDateFromTimeStamp(datePickerDialog.dateResult)));\r\n            select_dob_btn.setText(datePickerDialog.getButtonText());\r\n        }\r\n\r\n    }\r\n\r\nI&#39;ve tried to add the onDateChangeLIstener after I init the dialog class but,\r\nI get a NullpointerException.\r\n\r\nAny ideas would be helpful Thanks!","title":"How to Callback from dialog class to Fragment","body":"<p>I'm trying to update the text on a button after a dialog with a datepicker is closed.\nThe dialog is instantiated inside of a fragment class and the button risides within that\nsame class. Here's some code:</p>\n<p>Fragment class:</p>\n<pre><code>select_dob_btn = view.findViewById(R.id.profile_dob_button);\n    datePickerDialog = new DatePickerDialog();\n    datePickerDialog.setButtonText(&quot;Select Date Of Birth&quot;);\n    select_dob_btn.setText(datePickerDialog.getButtonText());\n</code></pre>\n<p>The entire dialog class:</p>\n<pre><code>public class DatePickerDialog extends DialogFragment {\n\npublic long dateResult = 0;\nString buttonText = &quot;&quot;;\n\n@NonNull\n@Override\npublic Dialog onCreateDialog(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    //int listingID = getArguments().getInt(&quot;listingID&quot;);\n\n\n    AlertDialog.Builder builder = new AlertDialog.Builder(requireActivity());\n\n    // Get the layout inflater\n    LayoutInflater inflater = this.getLayoutInflater();\n\n    View custom_layout = inflater.inflate(R.layout.dialog_date_picker,null);\n\n    DatePicker datePicker = custom_layout.findViewById(R.id.dialog_date_picker);\n    if(dateResult != 0){\n        datePicker.init(Globals.getDateYearFromTimeStamp(dateResult), Globals.getDateMonthFromTimeStamp(dateResult),Globals.getDateDayFromTimeStamp(dateResult), null);\n\n    }\n\n\n\n\n    // Inflate and set the layout for the dialog\n    // Pass null as the parent view because its going in the dialog layout\n    builder.setView(custom_layout)\n            .setPositiveButton(R.string.submit, new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialogInterface, int i) {\n                    dateResult = Globals.getTimeStampFromDateDDMMYYYY(datePicker.getDayOfMonth()+&quot;-&quot;+(datePicker.getMonth()+1)+&quot;-&quot;+datePicker.getYear());\n                    setButtonText(String.valueOf(Globals.getDateFromTimeStamp(dateResult)));\n                }\n            })\n            .setNegativeButton(R.string.cancel, new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialogInterface, int i) {\n                    dateResult = 0;\n                    setButtonText(String.valueOf(R.string.register_select_dob));\n                    dialogInterface.cancel();\n\n                }\n            });\n\n\n    return builder.create();\n}\npublic DatePickerDialog newInstance() {\n    DatePickerDialog f = this;\n\n    // Supply num input as an argument.\n    Bundle args = new Bundle();\n   // args.putInt(&quot;listingID&quot;, 0);\n\n    f.setArguments(args);\n\n    return f;\n}\npublic void ShowDialog(FragmentManager fragmentManager) {\n    DialogFragment newFragment = newInstance();\n\n    newFragment.show(fragmentManager, String.valueOf(0));\n}\n\npublic void setButtonText(String text){\n    buttonText = text;\n}\npublic String getButtonText(){\n    return buttonText;\n}\n</code></pre>\n<p>}</p>\n<p>Now back on the Fragment class I want to fire this method to update the Select date of birth button:</p>\n<pre><code>    void RefreshSetBirthdayButton(){\n\n    if(datePickerDialog.dateResult == 0){\n        select_dob_btn.setText(R.string.register_select_dob);\n    }else{\n        datePickerDialog.setButtonText(String.valueOf(Globals.getDateFromTimeStamp(datePickerDialog.dateResult)));\n        select_dob_btn.setText(datePickerDialog.getButtonText());\n    }\n\n}\n</code></pre>\n<p>I've tried to add the onDateChangeLIstener after I init the dialog class but,\nI get a NullpointerException.</p>\n<p>Any ideas would be helpful Thanks!</p>\n"},{"tags":["java","spring-boot","rest","asynchronous"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1694832992,"post_id":77116142,"comment_id":135946931,"body_markdown":"you need to both place `@EnableAsync` somewhere in configuration and mark asynchronous controller method  (or class) as `@Async`","body":"you need to both place <code>@EnableAsync</code> somewhere in configuration and mark asynchronous controller method  (or class) as <code>@Async</code>"}],"answers":[{"tags":[],"owner":{"account_id":1176723,"reputation":8864,"user_id":1152549,"accept_rate":68,"display_name":"Ali Behzadian Nejad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694859290,"creation_date":1694859290,"answer_id":77117320,"question_id":77116142,"body_markdown":"To make an API asynchronous, you need to annotate your application class (the class with `@SpringBootApplication`) with `@EnableAsync` annotation. Then annotate the method you want to run asynchronously with `@Async` and change the return type of the method to `CompletableFuture&lt;YourType&gt;`. \r\nThe return statement of the method would be something like this:\r\n```\r\nreturn CompletableFuture.completedFuture(yourType);\r\n```\r\n\r\nThis is a complete example:\r\n\r\n```\r\n@Async\r\npublic CompletableFuture&lt;User&gt; findUser(String user) throws InterruptedException {\r\n  User results = //...\r\n  return CompletableFuture.completedFuture(results);\r\n}\r\n\r\n``` \r\n\r\nFor more details see the official docs: https://spring.io/guides/gs/async-method/","title":"Rest API: return CompletableFuture in Controller does not make API run asyc","body":"<p>To make an API asynchronous, you need to annotate your application class (the class with <code>@SpringBootApplication</code>) with <code>@EnableAsync</code> annotation. Then annotate the method you want to run asynchronously with <code>@Async</code> and change the return type of the method to <code>CompletableFuture&lt;YourType&gt;</code>.\nThe return statement of the method would be something like this:</p>\n<pre><code>return CompletableFuture.completedFuture(yourType);\n</code></pre>\n<p>This is a complete example:</p>\n<pre><code>@Async\npublic CompletableFuture&lt;User&gt; findUser(String user) throws InterruptedException {\n  User results = //...\n  return CompletableFuture.completedFuture(results);\n}\n\n</code></pre>\n<p>For more details see the official docs: <a href=\"https://spring.io/guides/gs/async-method/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/async-method/</a></p>\n"},{"tags":[],"owner":{"account_id":24808114,"reputation":31,"user_id":18689877,"display_name":"Serhii Lytvynov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694962524,"creation_date":1694962524,"answer_id":77122345,"question_id":77116142,"body_markdown":"/v4 and /v5 are executing asynchronously.\r\n\r\nIn fact, `CompletableFuture.supplyAsync()` works as intended. If you don&#39;t provide any executor to `supplyAsync()`, it will default to using the ForkJoinPool. You can observe this by logging the thread name like this:\r\n\r\n```java\r\nCompletableFuture.supplyAsync(() -&gt; {\r\n    try {\r\n        Thread.sleep(1000);\r\n        System.out.println(&quot;async time: &quot; + System.currentTimeMillis() + &quot;, threadName: &quot; + Thread.currentThread().getName());\r\n        return Data.builder().data(&quot;Some Data&quot;).threadId(Thread.currentThread().getId()).requestCameTime(System.currentTimeMillis()).build();\r\n    } catch (InterruptedException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n});\r\n```\r\n\r\nIf you make multiple requests simultaneously, you will see output similar to the following:\r\n\r\n```\r\nasync time: 1694959567112, threadName: ForkJoinPool.commonPool-worker-1\r\nasync time: 1694959567112, threadName: ForkJoinPool.commonPool-worker-2\r\nasync time: 1694959567115, threadName: ForkJoinPool.commonPool-worker-3\r\n```\r\n\r\nFor each parallel execution, the ForkJoinPool assigns a different thread (worker) from its pool.\r\n\r\nThe only difference between v4 and v5 is that v4 does not return the result and, therefore, does not wait for the completion of `Thread.sleep(1000);` in the current &#39;main&#39; (http-nio) thread. Instead, it immediately releases the current thread and returns the response &#39;200 OK&#39;.\r\n\r\nLastly, if you&#39;re concerned about not holding threads in controllers and ensuring your APIs are always available, Spring Boot handles it automatically. By default, Spring Boot uses the Tomcat web server and creates an executor with 200 threads in the pool.\r\n","title":"Rest API: return CompletableFuture in Controller does not make API run asyc","body":"<p>/v4 and /v5 are executing asynchronously.</p>\n<p>In fact, <code>CompletableFuture.supplyAsync()</code> works as intended. If you don't provide any executor to <code>supplyAsync()</code>, it will default to using the ForkJoinPool. You can observe this by logging the thread name like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture.supplyAsync(() -&gt; {\n    try {\n        Thread.sleep(1000);\n        System.out.println(&quot;async time: &quot; + System.currentTimeMillis() + &quot;, threadName: &quot; + Thread.currentThread().getName());\n        return Data.builder().data(&quot;Some Data&quot;).threadId(Thread.currentThread().getId()).requestCameTime(System.currentTimeMillis()).build();\n    } catch (InterruptedException e) {\n        throw new RuntimeException(e);\n    }\n});\n</code></pre>\n<p>If you make multiple requests simultaneously, you will see output similar to the following:</p>\n<pre><code>async time: 1694959567112, threadName: ForkJoinPool.commonPool-worker-1\nasync time: 1694959567112, threadName: ForkJoinPool.commonPool-worker-2\nasync time: 1694959567115, threadName: ForkJoinPool.commonPool-worker-3\n</code></pre>\n<p>For each parallel execution, the ForkJoinPool assigns a different thread (worker) from its pool.</p>\n<p>The only difference between v4 and v5 is that v4 does not return the result and, therefore, does not wait for the completion of <code>Thread.sleep(1000);</code> in the current 'main' (http-nio) thread. Instead, it immediately releases the current thread and returns the response '200 OK'.</p>\n<p>Lastly, if you're concerned about not holding threads in controllers and ensuring your APIs are always available, Spring Boot handles it automatically. By default, Spring Boot uses the Tomcat web server and creates an executor with 200 threads in the pool.</p>\n"}],"owner":{"account_id":14387497,"reputation":1756,"user_id":10393067,"display_name":"logbasex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694962524,"creation_date":1694831742,"question_id":77116142,"body_markdown":"    /**\r\n\t * Async work.\r\n\t */\r\n\t@GetMapping(value = &quot;/async/data/v4&quot;)\r\n\tpublic void getDataAsyncV4() {\r\n\t\tCompletableFuture.supplyAsync(() -&gt; {\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(1000); // Sleep for 1 second (does not block the main thread)\r\n\t\t\t\treturn Data.builder().data(&quot;Some Data&quot;).threadId(Thread.currentThread().getId()).requestCameTime(System.currentTimeMillis()).build();\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\tthrow new RuntimeException(e);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t * Async doesn&#39;t work if return CompletableFuture.\r\n\t */\r\n\t@GetMapping(value = &quot;/async/data/v5&quot;)\r\n\tpublic CompletableFuture&lt;Data&gt; getDataAsyncV5() {\r\n\t\treturn CompletableFuture.supplyAsync(() -&gt; {\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(1000); // block main thread\r\n\t\t\t\treturn Data.builder().data(&quot;Some Data&quot;).threadId(Thread.currentThread().getId()).requestCameTime(System.currentTimeMillis()).build();\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\tthrow new RuntimeException(e);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\nI have two APIs as above and the problem is the only API method `getDataAsyncV4()` which returns void is run `asynchronously`, and the API method `getDataAsyncV5()` which returns `CompletableFuture` always blocks the main thread. I have tried different ways like using annotation `@EnableAsync`,  adding customer Executor.. but it doesn&#39;t work, I still can&#39;t understand why.","title":"Rest API: return CompletableFuture in Controller does not make API run asyc","body":"<pre><code>/**\n * Async work.\n */\n@GetMapping(value = &quot;/async/data/v4&quot;)\npublic void getDataAsyncV4() {\n    CompletableFuture.supplyAsync(() -&gt; {\n        try {\n            Thread.sleep(1000); // Sleep for 1 second (does not block the main thread)\n            return Data.builder().data(&quot;Some Data&quot;).threadId(Thread.currentThread().getId()).requestCameTime(System.currentTimeMillis()).build();\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n    });\n}\n\n/**\n * Async doesn't work if return CompletableFuture.\n */\n@GetMapping(value = &quot;/async/data/v5&quot;)\npublic CompletableFuture&lt;Data&gt; getDataAsyncV5() {\n    return CompletableFuture.supplyAsync(() -&gt; {\n        try {\n            Thread.sleep(1000); // block main thread\n            return Data.builder().data(&quot;Some Data&quot;).threadId(Thread.currentThread().getId()).requestCameTime(System.currentTimeMillis()).build();\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n    });\n}\n</code></pre>\n<p>I have two APIs as above and the problem is the only API method <code>getDataAsyncV4()</code> which returns void is run <code>asynchronously</code>, and the API method <code>getDataAsyncV5()</code> which returns <code>CompletableFuture</code> always blocks the main thread. I have tried different ways like using annotation <code>@EnableAsync</code>,  adding customer Executor.. but it doesn't work, I still can't understand why.</p>\n"},{"tags":["java","json","list","objectmapper"],"comments":[{"owner":{"account_id":26162020,"reputation":19,"user_id":19848385,"display_name":"Sirmator"},"score":0,"creation_date":1694902592,"post_id":77119663,"comment_id":135953096,"body_markdown":"I want to know how to make the data in the json as a List so I can use it in methods and just call it when I need","body":"I want to know how to make the data in the json as a List so I can use it in methods and just call it when I need"},{"owner":{"account_id":26162020,"reputation":19,"user_id":19848385,"display_name":"Sirmator"},"score":0,"creation_date":1694902777,"post_id":77119663,"comment_id":135953114,"body_markdown":"Yeah I tried sending it to a list but the code doesn&#39;t work","body":"Yeah I tried sending it to a list but the code doesn&#39;t work"},{"owner":{"account_id":26162020,"reputation":19,"user_id":19848385,"display_name":"Sirmator"},"score":0,"creation_date":1694903499,"post_id":77119663,"comment_id":135953165,"body_markdown":"ok here is what i&#39;m trying to do \n\n`public static void main(String[] args) throws Exception {\n\t\t\n\t\tList&lt;MusicPiece&gt; articleList = jsonToListObject(&quot;c:/data/json/data_song.json&quot;);\n\t\tSystem.out.println(articleList);\n\t\t\t\n\t\t}\n\t}`\n\nI know i&#39;m missng something but I don&#39;t know why its giving me an error","body":"ok here is what i&#39;m trying to do   <code>public static void main(String[] args) throws Exception { \t\t \t\tList&lt;MusicPiece&gt; articleList = jsonToListObject(&quot;c:&#47;data&#47;json&#47;data_song.json&quot;); \t\tSystem.out.println(articleList); \t\t\t \t\t} \t}</code>  I know i&#39;m missng something but I don&#39;t know why its giving me an error"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1694906886,"post_id":77119663,"comment_id":135953384,"body_markdown":"Use _[Gson](https://en.wikipedia.org/wiki/Gson)_ instead.","body":"Use <i><a href=\"https://en.wikipedia.org/wiki/Gson\" rel=\"nofollow noreferrer\">Gson</a></i> instead."},{"owner":{"account_id":26162020,"reputation":19,"user_id":19848385,"display_name":"Sirmator"},"score":0,"creation_date":1694910039,"post_id":77119663,"comment_id":135953543,"body_markdown":"no but i need to use fasterxml and object mapper to make this work and i want to figure out why its not working","body":"no but i need to use fasterxml and object mapper to make this work and i want to figure out why its not working"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1694924101,"post_id":77119663,"comment_id":135954257,"body_markdown":"What’s the problem that you’re having? Please put details in the question, not a comment. If you are getting an exception, copy the entire exception message and stack trace and paste it into the question, formatted as a code block.","body":"What’s the problem that you’re having? Please put details in the question, not a comment. If you are getting an exception, copy the entire exception message and stack trace and paste it into the question, formatted as a code block."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1694924158,"post_id":77119663,"comment_id":135954262,"body_markdown":"You’ll also need to include the JSON data that you’re trying to parse and the definition of the `MusicPiece` class","body":"You’ll also need to include the JSON data that you’re trying to parse and the definition of the <code>MusicPiece</code> class"},{"owner":{"account_id":26162020,"reputation":19,"user_id":19848385,"display_name":"Sirmator"},"score":0,"creation_date":1694959751,"post_id":77119663,"comment_id":135957153,"body_markdown":"sure let me add it","body":"sure let me add it"},{"owner":{"account_id":26162020,"reputation":19,"user_id":19848385,"display_name":"Sirmator"},"score":0,"creation_date":1694960108,"post_id":77119663,"comment_id":135957201,"body_markdown":"ok I added the code for the json and the musicPiece class","body":"ok I added the code for the json and the musicPiece class"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1694961589,"post_id":77119663,"comment_id":135957380,"body_markdown":"@Reilas Jackson will work perfectly fine. Please give more details than &quot;_use something different_&quot;, siting performance or how it&#39;ll solve this specific issue any differently","body":"@Reilas Jackson will work perfectly fine. Please give more details than &quot;<i>use something different</i>&quot;, siting performance or how it&#39;ll solve this specific issue any differently"},{"owner":{"account_id":26162020,"reputation":19,"user_id":19848385,"display_name":"Sirmator"},"score":0,"creation_date":1694961797,"post_id":77119663,"comment_id":135957416,"body_markdown":"I&#39;m getting this error when I use it like shown in the main method  `Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of com.Entities.MusicPiece(no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)`\n\nI&#39;m trying to find its meaning","body":"I&#39;m getting this error when I use it like shown in the main method  <code>Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.InvalidDefinitionExceptio&zwnj;&#8203;n: Cannot construct instance of com.Entities.MusicPiece(no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)</code>  I&#39;m trying to find its meaning"},{"owner":{"account_id":26162020,"reputation":19,"user_id":19848385,"display_name":"Sirmator"},"score":0,"creation_date":1694968944,"post_id":77119663,"comment_id":135958208,"body_markdown":"I&#39;m still lost the answer is nice but I can&#39;t figure where to use `@JsonProperty(&quot;field name in json&quot;)`","body":"I&#39;m still lost the answer is nice but I can&#39;t figure where to use <code>@JsonProperty(&quot;field name in json&quot;)</code>"}],"answers":[{"comments":[{"owner":{"account_id":26162020,"reputation":19,"user_id":19848385,"display_name":"Sirmator"},"score":0,"creation_date":1694963539,"post_id":77122306,"comment_id":135957613,"body_markdown":"Thanks for explaining the error but should I add the `@JsonProperty(&quot;field name in json&quot;)` in the class MusicPiece and also i&#39;m not quite sure I understand where there should be no arguments and a default.","body":"Thanks for explaining the error but should I add the <code>@JsonProperty(&quot;field name in json&quot;)</code> in the class MusicPiece and also i&#39;m not quite sure I understand where there should be no arguments and a default."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1695002987,"post_id":77122306,"comment_id":135961433,"body_markdown":"You can&#39;t add that annotation if your JSON records aren&#39;t actually Music records. For example, you have no `int id`. And you already have a constructor. Add another one without any arguments, as the error says. It&#39;s not &quot;and&quot; it&#39;s one thing called a &quot;default, no arg constructor&quot;","body":"You can&#39;t add that annotation if your JSON records aren&#39;t actually Music records. For example, you have no <code>int id</code>. And you already have a constructor. Add another one without any arguments, as the error says. It&#39;s not &quot;and&quot; it&#39;s one thing called a &quot;default, no arg constructor&quot;"},{"owner":{"account_id":26162020,"reputation":19,"user_id":19848385,"display_name":"Sirmator"},"score":1,"creation_date":1695165474,"post_id":77122306,"comment_id":135986896,"body_markdown":"I looked up some stuff and realised the issue the answer I was given was nice I was just missing an empty constructor for the class","body":"I looked up some stuff and realised the issue the answer I was given was nice I was just missing an empty constructor for the class"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1695168354,"post_id":77122306,"comment_id":135987210,"body_markdown":"Yes, but in order to properly create your object, your private fields must match keys in the json data. Otherwise, they&#39;ll all be null/zero. For example, duree is a double, not an int, and should be renamed duration","body":"Yes, but in order to properly create your object, your private fields must match keys in the json data. Otherwise, they&#39;ll all be null/zero. For example, duree is a double, not an int, and should be renamed duration"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694961856,"creation_date":1694961856,"answer_id":77122306,"question_id":77119663,"body_markdown":"The JSON you&#39;ve shared has no matching fields with your Music class, and therefore cannot be parsed.\r\n\r\nIf you want fields to be set differently than they exist in the file, you must add `@JsonProperty(&quot;field name in json&quot;)` annotations to each field.\r\n\r\nAlso, as the error says, you need to add a default, no arg, constructor to the class ","title":"How to send Json data to a list of an object to use from a path on the C: drive","body":"<p>The JSON you've shared has no matching fields with your Music class, and therefore cannot be parsed.</p>\n<p>If you want fields to be set differently than they exist in the file, you must add <code>@JsonProperty(&quot;field name in json&quot;)</code> annotations to each field.</p>\n<p>Also, as the error says, you need to add a default, no arg, constructor to the class</p>\n"}],"owner":{"account_id":26162020,"reputation":19,"user_id":19848385,"display_name":"Sirmator"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":77122306,"answer_count":1,"score":-3,"last_activity_date":1694961937,"creation_date":1694899480,"question_id":77119663,"body_markdown":"\r\n\r\n**code for using my json to a path**\r\n\r\n    public static List&lt;MusicPiece&gt; jsonToListObject(String path) throws Exception {\r\n    \t    return new ObjectMapper().readValue(new FileInputStream(path), new TypeReference&lt;List&lt;MusicPiece&gt;&gt;() {});\r\n    \t}\r\n\r\n**main to send a sysout of the data in the json sent to the list**\r\n\r\npublic static void main(String[] args) throws Exception {\r\n\t\t\r\n\t\tList&lt;MusicPiece&gt; articleList = jsonToListObject(&quot;c:/data/json/data_song.json&quot;);\r\n\t\tfor (MusicPiece musicPiece : articleList) {\r\n\t\t\tSystem.out.println(&quot;title: &quot; + musicPiece.getMusic_title());\r\n            System.out.println(&quot;duree : &quot; + musicPiece.getDuree());\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n**Music Piece class** \r\n\r\n\r\n\tpublic class MusicPiece implements Comparator&lt;MusicPiece&gt;{\r\n\tprivate String music_title;\r\n\tprivate String genre;\r\n\tprivate String interprete;\r\n\tprivate int duree; \r\n\t\r\n\t\r\n\tpublic MusicPiece(String music_title, String genre, String interprete, int duree) {\r\n        this.music_title = music_title;\r\n        this.genre = genre;\r\n        this.interprete = interprete;\r\n        this.duree = duree;\r\n        \r\n    }\r\n\r\n\r\n\tpublic String getMusic_title() {\r\n\t\treturn music_title;\r\n\t}\r\n\r\n\r\n\tpublic void setMusic_title(String music_title) {\r\n\t\tthis.music_title = music_title;\r\n\t}\r\n\r\n\r\n\tpublic String getGenre() {\r\n\t\treturn genre;\r\n\t}\r\n\r\n\r\n\tpublic void setGenre(String genre) {\r\n\t\tthis.genre = genre;\r\n\t}\r\n\r\n\r\n\tpublic String getInterprete() {\r\n\t\treturn interprete;\r\n\t}\r\n\r\n\r\n\tpublic void setInterprete(String interprete) {\r\n\t\tthis.interprete = interprete;\r\n\t}\r\n\r\n\r\n\tpublic int getDuree() {\r\n\t\treturn duree;\r\n\t}\r\n\r\n\r\n\tpublic void setDuree(int duree) {\r\n\t\tthis.duree = duree;\r\n\t}\r\n\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;MusicPiece [music_title=&quot; + music_title + &quot;, genre=&quot; + genre + &quot;, interprete=&quot; + interprete + &quot;, duree=&quot;+ duree + &quot;]&quot;;\r\n\t}\r\n\r\n\r\n\t@Override\r\n\tpublic int compare(MusicPiece o1, MusicPiece o2) {\r\n\t\t\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t\r\n**Json file with the mock data**\r\n\r\n`[{&quot;id&quot;:1,&quot;title&quot;:&quot;Porter&quot;,&quot;author&quot;:&quot;Horton Twydell&quot;,&quot;liked&quot;:false,&quot;duration&quot;:3.04},\r\n{&quot;id&quot;:2,&quot;title&quot;:&quot;American Ash&quot;,&quot;author&quot;:&quot;Kenton Kamall&quot;,&quot;liked&quot;:false,&quot;duration&quot;:4.1},\r\n{&quot;id&quot;:3,&quot;title&quot;:&quot;Dovetail&quot;,&quot;author&quot;:&quot;Juieta Meedendorpe&quot;,&quot;liked&quot;:false,&quot;duration&quot;:4.66}]`\r\n\r\nI&#39;m getting this error when I use it like shown in the main method \r\n```\r\nException in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of com.Entities.MusicPiece(no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator) \r\n```","title":"How to send Json data to a list of an object to use from a path on the C: drive","body":"<p><strong>code for using my json to a path</strong></p>\n<pre><code>public static List&lt;MusicPiece&gt; jsonToListObject(String path) throws Exception {\n        return new ObjectMapper().readValue(new FileInputStream(path), new TypeReference&lt;List&lt;MusicPiece&gt;&gt;() {});\n    }\n</code></pre>\n<p><strong>main to send a sysout of the data in the json sent to the list</strong></p>\n<p>public static void main(String[] args) throws Exception {</p>\n<pre><code>    List&lt;MusicPiece&gt; articleList = jsonToListObject(&quot;c:/data/json/data_song.json&quot;);\n    for (MusicPiece musicPiece : articleList) {\n        System.out.println(&quot;title: &quot; + musicPiece.getMusic_title());\n        System.out.println(&quot;duree : &quot; + musicPiece.getDuree());\n        \n    }\n}\n</code></pre>\n<p><strong>Music Piece class</strong></p>\n<pre><code>public class MusicPiece implements Comparator&lt;MusicPiece&gt;{\nprivate String music_title;\nprivate String genre;\nprivate String interprete;\nprivate int duree; \n\n\npublic MusicPiece(String music_title, String genre, String interprete, int duree) {\n    this.music_title = music_title;\n    this.genre = genre;\n    this.interprete = interprete;\n    this.duree = duree;\n    \n}\n\n\npublic String getMusic_title() {\n    return music_title;\n}\n\n\npublic void setMusic_title(String music_title) {\n    this.music_title = music_title;\n}\n\n\npublic String getGenre() {\n    return genre;\n}\n\n\npublic void setGenre(String genre) {\n    this.genre = genre;\n}\n\n\npublic String getInterprete() {\n    return interprete;\n}\n\n\npublic void setInterprete(String interprete) {\n    this.interprete = interprete;\n}\n\n\npublic int getDuree() {\n    return duree;\n}\n\n\npublic void setDuree(int duree) {\n    this.duree = duree;\n}\n\n\n@Override\npublic String toString() {\n    return &quot;MusicPiece [music_title=&quot; + music_title + &quot;, genre=&quot; + genre + &quot;, interprete=&quot; + interprete + &quot;, duree=&quot;+ duree + &quot;]&quot;;\n}\n\n\n@Override\npublic int compare(MusicPiece o1, MusicPiece o2) {\n    \n    return 0;\n}\n</code></pre>\n<p><strong>Json file with the mock data</strong></p>\n<p><code>[{&quot;id&quot;:1,&quot;title&quot;:&quot;Porter&quot;,&quot;author&quot;:&quot;Horton Twydell&quot;,&quot;liked&quot;:false,&quot;duration&quot;:3.04}, {&quot;id&quot;:2,&quot;title&quot;:&quot;American Ash&quot;,&quot;author&quot;:&quot;Kenton Kamall&quot;,&quot;liked&quot;:false,&quot;duration&quot;:4.1}, {&quot;id&quot;:3,&quot;title&quot;:&quot;Dovetail&quot;,&quot;author&quot;:&quot;Juieta Meedendorpe&quot;,&quot;liked&quot;:false,&quot;duration&quot;:4.66}]</code></p>\n<p>I'm getting this error when I use it like shown in the main method</p>\n<pre><code>Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of com.Entities.MusicPiece(no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator) \n</code></pre>\n"},{"tags":["java","spring-boot","ssl","tls1.3"],"comments":[{"owner":{"account_id":3701398,"reputation":116692,"user_id":3081018,"display_name":"Steffen Ullrich"},"score":0,"creation_date":1694968493,"post_id":77122279,"comment_id":135958153,"body_markdown":"*&quot;Should the server version not be TLSv1.3 after the negotation process?&quot;* - no. The version of the record layer stays at TLS 1.2 for compatibility reasons. For details see the standard.","body":"<i>&quot;Should the server version not be TLSv1.3 after the negotation process?&quot;</i> - no. The version of the record layer stays at TLS 1.2 for compatibility reasons. For details see the standard."},{"owner":{"account_id":16264201,"reputation":77,"user_id":13821253,"display_name":"M Hot"},"score":0,"creation_date":1694971691,"post_id":77122279,"comment_id":135958551,"body_markdown":"Ok, but why do I get the log &#39;&#39;Negotiated Protocol version: TLSv.1.3&#39;  ? Its a message in between of Client Hello and  Server Hello.","body":"Ok, but why do I get the log &#39;&#39;Negotiated Protocol version: TLSv.1.3&#39;  ? Its a message in between of Client Hello and  Server Hello."},{"owner":{"account_id":3701398,"reputation":116692,"user_id":3081018,"display_name":"Steffen Ullrich"},"score":0,"creation_date":1694972641,"post_id":77122279,"comment_id":135958667,"body_markdown":"See the supported_version extension in ServerHello. That&#39;s how it works in TLS 1.3","body":"See the supported_version extension in ServerHello. That&#39;s how it works in TLS 1.3"}],"owner":{"account_id":16264201,"reputation":77,"user_id":13821253,"display_name":"M Hot"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694968447,"answer_count":0,"score":0,"last_activity_date":1694961387,"creation_date":1694961387,"question_id":77122279,"body_markdown":"I am currently SSL-Debugging my Java 17 Spring Boot Application and I found some weird occurence regarding the SSL logs.\r\n\r\n    First, I get the &#39;Client Hello&#39; with &#39;client version: TLSv1.2&#39;.\r\n    Then, I get the the log &#39;Negotiated Protocol version: TLSv.1.3\r\n    Finally, I get the &#39;Server Hello&#39;, but this server hello has also the \r\n    entry &#39;server version: TLSv1.2&#39;.\r\n\r\nShould the server version not be TLSv1.3 after the negotation process?\r\n","title":"TLS: Client Hello and Server Hello are TLSv.1.2 but negotiated version is TLSv.1.3","body":"<p>I am currently SSL-Debugging my Java 17 Spring Boot Application and I found some weird occurence regarding the SSL logs.</p>\n<pre><code>First, I get the 'Client Hello' with 'client version: TLSv1.2'.\nThen, I get the the log 'Negotiated Protocol version: TLSv.1.3\nFinally, I get the 'Server Hello', but this server hello has also the \nentry 'server version: TLSv1.2'.\n</code></pre>\n<p>Should the server version not be TLSv1.3 after the negotation process?</p>\n"},{"tags":["java","eclipse","hibernate","jpa"],"answers":[{"comments":[{"owner":{"account_id":2171295,"reputation":639,"user_id":1923218,"accept_rate":57,"display_name":"Beast"},"score":0,"creation_date":1432654871,"post_id":30463008,"comment_id":49006592,"body_markdown":"But I am not using maven so Is it Compulsory to use maven for this to work?","body":"But I am not using maven so Is it Compulsory to use maven for this to work?"},{"owner":{"account_id":3175510,"reputation":2055,"user_id":2683501,"accept_rate":82,"display_name":"pL4Gu33"},"score":4,"creation_date":1432654919,"post_id":30463008,"comment_id":49006625,"body_markdown":"As he said without maven you should make src -&gt; META-INF -&gt; persistence.xml","body":"As he said without maven you should make src -&gt; META-INF -&gt; persistence.xml"},{"owner":{"account_id":7167789,"reputation":881,"user_id":5476352,"accept_rate":67,"display_name":"M.T"},"score":0,"creation_date":1483102739,"post_id":30463008,"comment_id":69995037,"body_markdown":"@pL4Gu33 why is it so? could you  please give some links on it? I moved my persistence.xml to resources from src and it is working now I do not understand why?","body":"@pL4Gu33 why is it so? could you  please give some links on it? I moved my persistence.xml to resources from src and it is working now I do not understand why?"}],"tags":[],"owner":{"account_id":6189920,"reputation":2014,"user_id":4822884,"accept_rate":60,"display_name":"francesco foresti"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1432654628,"creation_date":1432654628,"answer_id":30463008,"question_id":30462929,"body_markdown":"the persistence.xml file should reside in a folder named `META-INF`. If you are using using Maven, put it in `src/main/resources/META-INF` (create the folder if it&#39;s not there).","title":"persistence.xml is not found for Hibernate JPA project","body":"<p>the persistence.xml file should reside in a folder named <code>META-INF</code>. If you are using using Maven, put it in <code>src/main/resources/META-INF</code> (create the folder if it's not there).</p>\n"},{"tags":[],"owner":{"account_id":5417693,"reputation":1799,"user_id":4312388,"accept_rate":79,"display_name":"Yayotr&#243;n"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1432654693,"creation_date":1432654693,"answer_id":30463036,"question_id":30462929,"body_markdown":"You should use your IDE option for create a Persistence Unit, and it will be placed on the default location.\r\nIf you don&#39;t have or don&#39;t found that option in your IDE, it&#39;s usually on the META-INF folder located in the proyect root folder, like this:\r\n ![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/3p8wR.png","title":"persistence.xml is not found for Hibernate JPA project","body":"<p>You should use your IDE option for create a Persistence Unit, and it will be placed on the default location.\nIf you don't have or don't found that option in your IDE, it's usually on the META-INF folder located in the proyect root folder, like this:\n <img src=\"https://i.stack.imgur.com/3p8wR.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":6194214,"reputation":3674,"user_id":4826048,"display_name":"K139"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432654827,"creation_date":1432654827,"answer_id":30463079,"question_id":30462929,"body_markdown":"Keep `persistence.xml` under `META-INF` folder. \r\n\r\nIn Eclipse, it would be under\r\n\r\n   \r\n\r\n    Project --&gt; WebContent --&gt; META-INF ","title":"persistence.xml is not found for Hibernate JPA project","body":"<p>Keep <code>persistence.xml</code> under <code>META-INF</code> folder. </p>\n\n<p>In Eclipse, it would be under</p>\n\n<pre><code>Project --&gt; WebContent --&gt; META-INF \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6308811,"reputation":755,"user_id":4901047,"display_name":"Chetan Verma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432654828,"creation_date":1432654828,"answer_id":30463080,"question_id":30462929,"body_markdown":"If you are using jboss application server then please make sure the oracle driver exist under the org.hibernate module and having the entry in module.xml file.\r\n\r\nAlso, right click on project and  set project facet to JPA, it will automatically added your persitence.xml file to META-INF class path of application. \r\n\r\nPlease share the more information which application server you are using and which oracle driver you are using for connectivity.\r\n\r\nNot compulsory to use maven. \r\n\r\ncheers. ","title":"persistence.xml is not found for Hibernate JPA project","body":"<p>If you are using jboss application server then please make sure the oracle driver exist under the org.hibernate module and having the entry in module.xml file.</p>\n\n<p>Also, right click on project and  set project facet to JPA, it will automatically added your persitence.xml file to META-INF class path of application. </p>\n\n<p>Please share the more information which application server you are using and which oracle driver you are using for connectivity.</p>\n\n<p>Not compulsory to use maven. </p>\n\n<p>cheers. </p>\n"}],"owner":{"account_id":2171295,"reputation":639,"user_id":1923218,"accept_rate":57,"display_name":"Beast"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10726,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":30463008,"answer_count":4,"score":2,"last_activity_date":1694961169,"creation_date":1432654440,"question_id":30462929,"body_markdown":"Hi I am new to Hibernate JPA. I am using eclipse kepler 4.3.2 and create a simple java project. I am not using maven to compile the project. I am having the below persistence.xml located in the src folder of the project\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        version=&quot;2.0&quot;\r\n        xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;\r\n        xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot; &gt;\r\n        &lt;persistence-unit name=&quot;rawsjpa&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n            &lt;!-- &lt;class&gt;com.mumz.test.hibernatesearch.entitybeans.MHSBookEntityBean&lt;/class&gt;\r\n            &lt;class&gt;com.mumz.test.hibernatesearch.entitybeans.MHSBookShelfEntityBean&lt;/class&gt; --&gt;\r\n            &lt;properties&gt;\r\n                &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\r\n                &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;oracle.jdbc.OracleDriver&quot;/&gt;\r\n                &lt;property name=&quot;hibernate.connection.password&quot; value=&quot;Test2@cdn&quot;/&gt;\r\n                &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=rschcdndb1d.nam.nsroot.net)(PORT=1526))(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=OSRDD1)))&quot;/&gt;\r\n                &lt;property name=&quot;hibernate.connection.username&quot; value=&quot;AW&quot;/&gt;\r\n                &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.Oracle8iDialect&quot;/&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\nI am having the below sample main program trying to create the EntityManager.\r\n\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.Persistence;\r\n    \r\n    /**\r\n     * \r\n     */\r\n    \r\n    /**\r\n     * @author jp48346\r\n     *\r\n     */\r\n    public class TestRawsConnection {\r\n    \t\r\n    \tpublic static void main(String args[]){\r\n    \t\tEntityManager entityManager = Persistence.createEntityManagerFactory(&quot;rawsjpa&quot;).createEntityManager();\r\n    \t\tif(entityManager!=null){\r\n    \t\t\tSystem.out.println(&quot;************* EntityManager is obtained *****************&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\nBelow is the eclipse project .classpath file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;classpath&gt;\r\n    \t&lt;classpathentry excluding=&quot;main/resources/META-INF/&quot; kind=&quot;src&quot; path=&quot;src&quot;/&gt;\r\n    \t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.7&quot;/&gt;\r\n    \t&lt;classpathentry kind=&quot;lib&quot; path=&quot;C:/Users/jp48346/.m2/repository/org/hibernate/hibernate-entitymanager/4.2.17.Final/hibernate-entitymanager-4.2.17.Final.jar&quot;/&gt;\r\n    \t&lt;classpathentry kind=&quot;lib&quot; path=&quot;C:/Users/jp48346/.m2/repository/org/hibernate/common/hibernate-commons-annotations/4.0.2.Final/hibernate-commons-annotations-4.0.2.Final.jar&quot;/&gt;\r\n    \t&lt;classpathentry kind=&quot;lib&quot; path=&quot;C:/Users/jp48346/.m2/repository/org/hibernate/javax/persistence/hibernate-jpa-2.0-api/1.0.1.Final/hibernate-jpa-2.0-api-1.0.1.Final.jar&quot;/&gt;\r\n    \t&lt;classpathentry kind=&quot;lib&quot; path=&quot;C:/Users/jp48346/.m2/repository/org/hibernate/hibernate-core/4.2.17.Final/hibernate-core-4.2.17.Final.jar&quot;/&gt;\r\n    \t&lt;classpathentry kind=&quot;lib&quot; path=&quot;C:/Users/jp48346/.m2/repository/org/jboss/logging/jboss-logging/3.1.0.GA/jboss-logging-3.1.0.GA.jar&quot;/&gt;\r\n    \t&lt;classpathentry kind=&quot;lib&quot; path=&quot;C:/Users/jp48346/.m2/repository/javax/transaction/jta/1.1/jta-1.1.jar&quot;/&gt;\r\n    \t&lt;classpathentry kind=&quot;lib&quot; path=&quot;C:/Users/jp48346/.m2/repository/dom4j/dom4j/1.6.1/dom4j-1.6.1.jar&quot;/&gt;\r\n    \t&lt;classpathentry kind=&quot;output&quot; path=&quot;bin&quot;/&gt;\r\n    &lt;/classpath&gt;\r\n\r\nwhen I am trying to execute the program I am getting the below exception \r\n\r\n    May 26, 2015 8:52:17 PM org.hibernate.annotations.common.Version &lt;clinit&gt;\r\n    INFO: HCANN000001: Hibernate Commons Annotations {4.0.2.Final}\r\n    May 26, 2015 8:52:18 PM org.hibernate.Version logVersion\r\n    INFO: HHH000412: Hibernate Core {4.2.17.Final}\r\n    May 26, 2015 8:52:18 PM org.hibernate.cfg.Environment &lt;clinit&gt;\r\n    INFO: HHH000206: hibernate.properties not found\r\n    May 26, 2015 8:52:18 PM org.hibernate.cfg.Environment buildBytecodeProvider\r\n    INFO: HHH000021: Bytecode provider name : javassist\r\n    May 26, 2015 8:52:18 PM org.hibernate.ejb.Ejb3Configuration configure\r\n    INFO: HHH000318: Could not find any META-INF/persistence.xml file in the classpath\r\n    Exception in thread &quot;main&quot; javax.persistence.PersistenceException: No Persistence provider for EntityManager named rawsjpa\r\n    \tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:69)\r\n    \tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:47)\r\n    \tat TestRawsConnection.main(TestRawsConnection.java:15)\r\n\r\nCan anybody please tell me where should I place persistence.xml to resolve the above issue?\r\n","title":"persistence.xml is not found for Hibernate JPA project","body":"<p>Hi I am new to Hibernate JPA. I am using eclipse kepler 4.3.2 and create a simple java project. I am not using maven to compile the project. I am having the below persistence.xml located in the src folder of the project</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;persistence xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    version=\"2.0\"\n    xmlns=\"http://java.sun.com/xml/ns/persistence\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd\" &gt;\n    &lt;persistence-unit name=\"rawsjpa\" transaction-type=\"RESOURCE_LOCAL\"&gt;\n        &lt;!-- &lt;class&gt;com.mumz.test.hibernatesearch.entitybeans.MHSBookEntityBean&lt;/class&gt;\n        &lt;class&gt;com.mumz.test.hibernatesearch.entitybeans.MHSBookShelfEntityBean&lt;/class&gt; --&gt;\n        &lt;properties&gt;\n            &lt;property name=\"hibernate.show_sql\" value=\"true\"/&gt;\n            &lt;property name=\"hibernate.connection.driver_class\" value=\"oracle.jdbc.OracleDriver\"/&gt;\n            &lt;property name=\"hibernate.connection.password\" value=\"Test2@cdn\"/&gt;\n            &lt;property name=\"hibernate.connection.url\" value=\"jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=rschcdndb1d.nam.nsroot.net)(PORT=1526))(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=OSRDD1)))\"/&gt;\n            &lt;property name=\"hibernate.connection.username\" value=\"AW\"/&gt;\n            &lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.Oracle8iDialect\"/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n\n<p>I am having the below sample main program trying to create the EntityManager.</p>\n\n<pre><code>import javax.persistence.EntityManager;\nimport javax.persistence.Persistence;\n\n/**\n * \n */\n\n/**\n * @author jp48346\n *\n */\npublic class TestRawsConnection {\n\n    public static void main(String args[]){\n        EntityManager entityManager = Persistence.createEntityManagerFactory(\"rawsjpa\").createEntityManager();\n        if(entityManager!=null){\n            System.out.println(\"************* EntityManager is obtained *****************\");\n        }\n    }\n\n}\n</code></pre>\n\n<p>Below is the eclipse project .classpath file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;classpath&gt;\n    &lt;classpathentry excluding=\"main/resources/META-INF/\" kind=\"src\" path=\"src\"/&gt;\n    &lt;classpathentry kind=\"con\" path=\"org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.7\"/&gt;\n    &lt;classpathentry kind=\"lib\" path=\"C:/Users/jp48346/.m2/repository/org/hibernate/hibernate-entitymanager/4.2.17.Final/hibernate-entitymanager-4.2.17.Final.jar\"/&gt;\n    &lt;classpathentry kind=\"lib\" path=\"C:/Users/jp48346/.m2/repository/org/hibernate/common/hibernate-commons-annotations/4.0.2.Final/hibernate-commons-annotations-4.0.2.Final.jar\"/&gt;\n    &lt;classpathentry kind=\"lib\" path=\"C:/Users/jp48346/.m2/repository/org/hibernate/javax/persistence/hibernate-jpa-2.0-api/1.0.1.Final/hibernate-jpa-2.0-api-1.0.1.Final.jar\"/&gt;\n    &lt;classpathentry kind=\"lib\" path=\"C:/Users/jp48346/.m2/repository/org/hibernate/hibernate-core/4.2.17.Final/hibernate-core-4.2.17.Final.jar\"/&gt;\n    &lt;classpathentry kind=\"lib\" path=\"C:/Users/jp48346/.m2/repository/org/jboss/logging/jboss-logging/3.1.0.GA/jboss-logging-3.1.0.GA.jar\"/&gt;\n    &lt;classpathentry kind=\"lib\" path=\"C:/Users/jp48346/.m2/repository/javax/transaction/jta/1.1/jta-1.1.jar\"/&gt;\n    &lt;classpathentry kind=\"lib\" path=\"C:/Users/jp48346/.m2/repository/dom4j/dom4j/1.6.1/dom4j-1.6.1.jar\"/&gt;\n    &lt;classpathentry kind=\"output\" path=\"bin\"/&gt;\n&lt;/classpath&gt;\n</code></pre>\n\n<p>when I am trying to execute the program I am getting the below exception </p>\n\n<pre><code>May 26, 2015 8:52:17 PM org.hibernate.annotations.common.Version &lt;clinit&gt;\nINFO: HCANN000001: Hibernate Commons Annotations {4.0.2.Final}\nMay 26, 2015 8:52:18 PM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate Core {4.2.17.Final}\nMay 26, 2015 8:52:18 PM org.hibernate.cfg.Environment &lt;clinit&gt;\nINFO: HHH000206: hibernate.properties not found\nMay 26, 2015 8:52:18 PM org.hibernate.cfg.Environment buildBytecodeProvider\nINFO: HHH000021: Bytecode provider name : javassist\nMay 26, 2015 8:52:18 PM org.hibernate.ejb.Ejb3Configuration configure\nINFO: HHH000318: Could not find any META-INF/persistence.xml file in the classpath\nException in thread \"main\" javax.persistence.PersistenceException: No Persistence provider for EntityManager named rawsjpa\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:69)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:47)\n    at TestRawsConnection.main(TestRawsConnection.java:15)\n</code></pre>\n\n<p>Can anybody please tell me where should I place persistence.xml to resolve the above issue?</p>\n"},{"tags":["java","apache-fop","java-17","java-platform-module-system"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1694617543,"post_id":77095360,"comment_id":135915518,"body_markdown":"&quot;Does not work&quot;. How do you know? An error message? Could you please [edit] that detail into the question?","body":"&quot;Does not work&quot;. How do you know? An error message? Could you please <a href=\"https://stackoverflow.com/posts/77095360/edit\">edit</a> that detail into the question?"}],"answers":[{"comments":[{"owner":{"account_id":2002545,"reputation":832,"user_id":1793217,"display_name":"ngong"},"score":0,"creation_date":1694872077,"post_id":77099955,"comment_id":135949986,"body_markdown":"In pom.xml I have replace fop by fop-core, fop-events, and fop-util. Also in module-info.java as you&#39;ve descibed. It leads the these errors:\n\nhttps://paste.debian.net/1292129/","body":"In pom.xml I have replace fop by fop-core, fop-events, and fop-util. Also in module-info.java as you&#39;ve descibed. It leads the these errors:  <a href=\"https://paste.debian.net/1292129/\" rel=\"nofollow noreferrer\">paste.debian.net/1292129</a>"},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1694959100,"post_id":77099955,"comment_id":135957077,"body_markdown":"@ngong Got it. There is still work to do, in order to ensure that the same packages are not exported from both modules. But since these are mostly automatic modules for now, that might be a plan for the future. In your case(code shared in question), at present `fop.core` might be sufficient, if you were to use modules with the updated version. But to make use of all of these, folks contributing to `fop` would have to ensure renaming packages or restructuring further.","body":"@ngong Got it. There is still work to do, in order to ensure that the same packages are not exported from both modules. But since these are mostly automatic modules for now, that might be a plan for the future. In your case(code shared in question), at present <code>fop.core</code> might be sufficient, if you were to use modules with the updated version. But to make use of all of these, folks contributing to <code>fop</code> would have to ensure renaming packages or restructuring further."},{"owner":{"account_id":2002545,"reputation":832,"user_id":1793217,"display_name":"ngong"},"score":0,"creation_date":1695007402,"post_id":77099955,"comment_id":135961686,"body_markdown":"I changed module-info.java as you have described, also in pom.xml I substitured fop by fop-core, fop-events, and fop-util. This resultes in [theses errors](https://paste.debian.net/1292285/) from m2e console, or in long using [mvn -e test](https://paste.debian.net/1292286/).","body":"I changed module-info.java as you have described, also in pom.xml I substitured fop by fop-core, fop-events, and fop-util. This resultes in <a href=\"https://paste.debian.net/1292285/\" rel=\"nofollow noreferrer\">theses errors</a> from m2e console, or in long using <a href=\"https://paste.debian.net/1292286/\" rel=\"nofollow noreferrer\">mvn -e test</a>."},{"owner":{"account_id":2002545,"reputation":832,"user_id":1793217,"display_name":"ngong"},"score":1,"creation_date":1695008081,"post_id":77099955,"comment_id":135961726,"body_markdown":"reduce module-info.java to fop-core without fop-events and using fop [in this way](https://paste.debian.net/1292288/) leads to *FAILED: java.lang.NoClassDefFoundError: org/apache/fop/events/EventBroadcaster*\nHence, I should stick to 2.8, waiting for 2.10?","body":"reduce module-info.java to fop-core without fop-events and using fop <a href=\"https://paste.debian.net/1292288/\" rel=\"nofollow noreferrer\">in this way</a> leads to <i>FAILED: java.lang.NoClassDefFoundError: org/apache/fop/events/EventBroadcaster</i> Hence, I should stick to 2.8, waiting for 2.10?"}],"tags":[],"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694960525,"creation_date":1694632886,"answer_id":77099955,"question_id":77095360,"body_markdown":"Seemingly the classes(`org.apache.fop.apps.*`) you are looking for have been abstracted to `fop-core`, hence adding a `requires` directive for that as a module with version `2.9` shall get you going.\r\n\r\n    requires fop.core;\r\n\r\n\r\n----------\r\n\r\n\r\nIn fact referenced in a few documents and the mailing list threads -- \r\n\r\n&gt; The `fop` jar packages `fop-util`, `fop-events`, and `fop-core`, so you want\r\n&gt; either the all-in-one jar, or the other 3 jars, but not both.\r\n\r\nSo, it would be better to replace the **`requires fop`** with \r\n\r\n    requires fop.core;\r\n    requires fop.events;\r\n    requires fop.util;\r\n\r\n**But**, the contributors needs to focus further to restructure the common packages to make all these three being used independently and combined by clients or else as shared by you compilation fails with :\r\n\r\n    java: the unnamed module reads package org.apache.fop.events from both fop.core and fop.events\r\n","title":"fop pom and module-info example","body":"<p>Seemingly the classes(<code>org.apache.fop.apps.*</code>) you are looking for have been abstracted to <code>fop-core</code>, hence adding a <code>requires</code> directive for that as a module with version <code>2.9</code> shall get you going.</p>\n<pre><code>requires fop.core;\n</code></pre>\n<hr />\n<p>In fact referenced in a few documents and the mailing list threads --</p>\n<blockquote>\n<p>The <code>fop</code> jar packages <code>fop-util</code>, <code>fop-events</code>, and <code>fop-core</code>, so you want\neither the all-in-one jar, or the other 3 jars, but not both.</p>\n</blockquote>\n<p>So, it would be better to replace the <strong><code>requires fop</code></strong> with</p>\n<pre><code>requires fop.core;\nrequires fop.events;\nrequires fop.util;\n</code></pre>\n<p><strong>But</strong>, the contributors needs to focus further to restructure the common packages to make all these three being used independently and combined by clients or else as shared by you compilation fails with :</p>\n<pre><code>java: the unnamed module reads package org.apache.fop.events from both fop.core and fop.events\n</code></pre>\n"}],"owner":{"account_id":2002545,"reputation":832,"user_id":1793217,"display_name":"ngong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1694960525,"creation_date":1694593830,"question_id":77095360,"body_markdown":"I tried to locate an example of pom.xml and module-info.java to use fop in an embedded way with JPMS, namely Java-17, but could not find one.\r\n\r\nE.g. my code:\r\n\r\n    \t\tFopFactoryBuilder builder = new FopFactoryBuilder(basePath.toUri()).setPageHeight(&quot;297mm&quot;)\r\n\t\t\t\t\t.setPageWidth(&quot;210mm&quot;);\r\n\t\t\tFopFactory fopFactory = builder.build();\r\n\t\t\tout = new BufferedOutputStream(Files.newOutputStream(r));\r\n\t\t\tFop fop = fopFactory.newFop(MimeConstants.MIME_PDF, out);\r\n\t\t\tTransformer transformer = TransformerFactory.newInstance().newTransformer();\r\n\t\t\tSource src = new StreamSource(fo.toFile());\r\n\t\t\tResult res = new SAXResult(fop.getDefaultHandler());\r\n\t\t\ttransformer.transform(src, res);\r\nworked until fop 2.8 with \r\n\r\n    \t&lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;fop&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.8&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;xalan&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;serializer&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;xalan&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;xalan&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;batik-script&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nMy module-info.java contains\r\n\r\n    requires Saxon.HE;\r\n\trequires transitive org.slf4j;\r\n\trequires java.prefs;\r\n\trequires fop;\r\n\trequires xmlgraphics.commons;\r\n\trequires java.xml;\r\n\r\n\r\nWhen upgrading to fop version 2.9 it misses the package `org.apache.fop.apps.` in compilation.\r\n\r\nAs I found that solution by trial-and-error, my question is a bit broader: **How to embed fop in a JPMS project environment?**","title":"fop pom and module-info example","body":"<p>I tried to locate an example of pom.xml and module-info.java to use fop in an embedded way with JPMS, namely Java-17, but could not find one.</p>\n<p>E.g. my code:</p>\n<pre><code>        FopFactoryBuilder builder = new FopFactoryBuilder(basePath.toUri()).setPageHeight(&quot;297mm&quot;)\n                .setPageWidth(&quot;210mm&quot;);\n        FopFactory fopFactory = builder.build();\n        out = new BufferedOutputStream(Files.newOutputStream(r));\n        Fop fop = fopFactory.newFop(MimeConstants.MIME_PDF, out);\n        Transformer transformer = TransformerFactory.newInstance().newTransformer();\n        Source src = new StreamSource(fo.toFile());\n        Result res = new SAXResult(fop.getDefaultHandler());\n        transformer.transform(src, res);\n</code></pre>\n<p>worked until fop 2.8 with</p>\n<pre><code>    &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\n        &lt;artifactId&gt;fop&lt;/artifactId&gt;\n        &lt;version&gt;2.8&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;xalan&lt;/groupId&gt;\n                &lt;artifactId&gt;serializer&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;xalan&lt;/groupId&gt;\n                &lt;artifactId&gt;xalan&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\n                &lt;artifactId&gt;batik-script&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>My module-info.java contains</p>\n<pre><code>requires Saxon.HE;\nrequires transitive org.slf4j;\nrequires java.prefs;\nrequires fop;\nrequires xmlgraphics.commons;\nrequires java.xml;\n</code></pre>\n<p>When upgrading to fop version 2.9 it misses the package <code>org.apache.fop.apps.</code> in compilation.</p>\n<p>As I found that solution by trial-and-error, my question is a bit broader: <strong>How to embed fop in a JPMS project environment?</strong></p>\n"},{"tags":["java","javascript","json","exception","jackson"],"comments":[{"owner":{"account_id":1498585,"reputation":2754,"user_id":1403954,"display_name":"Pascal G&#233;linas"},"score":0,"creation_date":1365170586,"post_id":15833979,"comment_id":22530788,"body_markdown":"What is the Json you are trying to parse?","body":"What is the Json you are trying to parse?"},{"owner":{"account_id":469221,"reputation":2032,"user_id":875692,"accept_rate":44,"display_name":"Giovanni Bitliner"},"score":0,"creation_date":1365173940,"post_id":15833979,"comment_id":22533060,"body_markdown":"I have edited the question with a sample of json string","body":"I have edited the question with a sample of json string"},{"owner":{"account_id":469221,"reputation":2032,"user_id":875692,"accept_rate":44,"display_name":"Giovanni Bitliner"},"score":0,"creation_date":1365175775,"post_id":15833979,"comment_id":22534221,"body_markdown":"Probably the cause is from the missing annotations in the subclass that are subclassed too or missing annotation @JsonSubTypes in the superclass. Confirmation? I will try to correct","body":"Probably the cause is from the missing annotations in the subclass that are subclassed too or missing annotation @JsonSubTypes in the superclass. Confirmation? I will try to correct"},{"owner":{"account_id":1498585,"reputation":2754,"user_id":1403954,"display_name":"Pascal G&#233;linas"},"score":0,"creation_date":1365175933,"post_id":15833979,"comment_id":22534314,"body_markdown":"The annotations are &quot;inherited&quot;, so that&#39;s not your problem. What I&#39;m concerned about is the persence of `java.util.*` in your json... Ha! that&#39;s the default typing, I think. Have you tried without that?","body":"The annotations are &quot;inherited&quot;, so that&#39;s not your problem. What I&#39;m concerned about is the persence of <code>java.util.*</code> in your json... Ha! that&#39;s the default typing, I think. Have you tried without that?"},{"owner":{"account_id":469221,"reputation":2032,"user_id":875692,"accept_rate":44,"display_name":"Giovanni Bitliner"},"score":0,"creation_date":1365178533,"post_id":15833979,"comment_id":22535911,"body_markdown":"I tried, now it throws different errors. I have added annotation to all types, but the error message is\n&quot;Could not resolve type id &#39;F&#39; into a subtype of [simple type, class E]&quot;","body":"I tried, now it throws different errors. I have added annotation to all types, but the error message is &quot;Could not resolve type id &#39;F&#39; into a subtype of [simple type, class E]&quot;"}],"answers":[{"tags":[],"owner":{"account_id":1498585,"reputation":2754,"user_id":1403954,"display_name":"Pascal G&#233;linas"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1365176747,"creation_date":1365176201,"answer_id":15837971,"question_id":15833979,"body_markdown":"I believe the problem is with the default typing. The start of your JSON is not generated as what Jackson expect with default typing. The begining of the JSON should be:\r\n\r\n    [&quot;java.util.HashSet&quot;, [{\r\n\r\nand the end should have an extra closing bracket `}]]`.\r\n\r\nThat&#39;s because you generate the JSON using the `toString()` method of your set. You should instead use the `ObjectMapper`, that&#39;s configured with default typing, like so:\r\n\r\n    res = objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(yourSet);","title":"Java Jackson: deserialize complex polymorphic object model: JsonMappingException: Unexpected token (START_OBJECT), expected VALUE_STRING","body":"<p>I believe the problem is with the default typing. The start of your JSON is not generated as what Jackson expect with default typing. The begining of the JSON should be:</p>\n\n<pre><code>[\"java.util.HashSet\", [{\n</code></pre>\n\n<p>and the end should have an extra closing bracket <code>}]]</code>.</p>\n\n<p>That's because you generate the JSON using the <code>toString()</code> method of your set. You should instead use the <code>ObjectMapper</code>, that's configured with default typing, like so:</p>\n\n<pre><code>res = objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(yourSet);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13316463,"reputation":55,"user_id":9612721,"display_name":"Kornext"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694959833,"creation_date":1694959833,"answer_id":77122164,"question_id":15833979,"body_markdown":"Maybe it will help someone.\r\nIn my case, the error occurred due to the toList() method of Stream.API. This method returns an immutable collection and because of it, after serialization, the final JSON object was missing an ArrayList type. Collectors.toList() solved my problem\r\n\r\nBefore\r\n\r\n            List&lt;B2bItem&gt; itemIdList = branchDto.getOrders()\r\n                .stream()\r\n                .map(order -&gt; order.getItems()\r\n                        .stream()\r\n                        .map(OrderItemDto::getB2bItem)\r\n                        .toList())\r\n                .flatMap(List::stream)\r\n                .toList(); // &lt;---\r\n\r\nAfter\r\n\r\n            List&lt;B2bItem&gt; itemIdList = branchDto.getOrders()\r\n                .stream()\r\n                .map(order -&gt; order.getItems()\r\n                        .stream()\r\n                        .map(OrderItemDto::getB2bItem)\r\n                        .toList())\r\n                .flatMap(List::stream)\r\n                .collect(Collectors.toList()); // &lt;---","title":"Java Jackson: deserialize complex polymorphic object model: JsonMappingException: Unexpected token (START_OBJECT), expected VALUE_STRING","body":"<p>Maybe it will help someone.\nIn my case, the error occurred due to the toList() method of Stream.API. This method returns an immutable collection and because of it, after serialization, the final JSON object was missing an ArrayList type. Collectors.toList() solved my problem</p>\n<p>Before</p>\n<pre><code>        List&lt;B2bItem&gt; itemIdList = branchDto.getOrders()\n            .stream()\n            .map(order -&gt; order.getItems()\n                    .stream()\n                    .map(OrderItemDto::getB2bItem)\n                    .toList())\n            .flatMap(List::stream)\n            .toList(); // &lt;---\n</code></pre>\n<p>After</p>\n<pre><code>        List&lt;B2bItem&gt; itemIdList = branchDto.getOrders()\n            .stream()\n            .map(order -&gt; order.getItems()\n                    .stream()\n                    .map(OrderItemDto::getB2bItem)\n                    .toList())\n            .flatMap(List::stream)\n            .collect(Collectors.toList()); // &lt;---\n</code></pre>\n"}],"owner":{"account_id":469221,"reputation":2032,"user_id":875692,"accept_rate":44,"display_name":"Giovanni Bitliner"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23904,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1694959833,"creation_date":1365164844,"question_id":15833979,"body_markdown":"I have this tree of objects\r\n\r\nA\r\n\r\nB extends A\r\n\r\nC extends B\r\n\r\nD extends B\r\n\r\nE extends C\r\n\r\nF extends A and has one reference to A\r\n\r\nA has the following annotation\r\n\r\n`@JsonTypeInfo(use=JsonTypeInfo.Id.CLASS,include=JsonTypeInfo.As.PROPERTY,property=&quot;@class&quot;)`\r\n\r\nIf i try to deserialize a JSON array of objects that extends A, it throws the following error\r\n\r\n&gt; org.codehaus.jackson.map.JsonMappingException: Unexpected token\r\n&gt; (START_OBJECT), expected VALUE_STRING: need JSON String that contains\r\n&gt; type id (for subtype of java.util.Collection)\r\n\r\nThe json string is generated by toString() method of a set and the set is parametric to type A where A is serialized in JSON with the following code:\r\n\r\n    ObjectMapper objectMapper=new ObjectMapper();\r\n    \t\tobjectMapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_CONCRETE_AND_ARRAYS);\r\n    \t\tString res=&quot;&quot;;\r\n    \t\ttry {\r\n    \t\t\tres = objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(t);\r\n    \t\t} catch (JsonGenerationException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (JsonMappingException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn res;\r\n\r\nThe code to deserialize the json array (that is the set described above) is:\r\n\r\n    ObjectMapper mapper = new ObjectMapper(); \r\n    \r\n    \t\tmapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_CONCRETE_AND_ARRAYS);\r\n    \t\tCollection&lt;T&gt; results=null;\r\n    \t\ttry {\r\n    \t\t\tresults =  mapper.readValue(json, TypeFactory.defaultInstance().constructParametricType(Collection.class, clazz ) );\r\n    \t\t} catch (JsonParseException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (JsonMappingException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}  \r\n    \t\treturn results;\r\n\r\nThe json sample that it parses is like:\r\n\r\n    &quot;[{\r\n      &quot;@class&quot; : &quot;pack1.pack2.MyClass&quot;,\r\n      &quot;id&quot; : null,\r\n      &quot;f1&quot; : &quot;&quot;,\r\n      &quot;f2&quot; : 0.9933817827,\r\n      &quot;f3&quot; : 6.883261E-4,\r\n      &quot;f4&quot; : 0.001375699,\r\n      &quot;f5&quot; : {\r\n        &quot;@class&quot; : &quot;pack1.pack2.MyClass2&quot;,\r\n        &quot;id&quot; : null,\r\n        &quot;f1&quot; : &quot;&quot;,\r\n        &quot;f2&quot; : 0.0,\r\n        &quot;f3&quot; : 0.0,\r\n        &quot;f4&quot; : 0.0,\r\n        &quot;f5&quot; : [ &quot;java.util.HashSet&quot;, [ 0 ] ],\r\n        &quot;f6&quot; : [ &quot;java.util.HashSet&quot;, [ 2 ] ],\r\n        &quot;f7&quot; : [ &quot;java.util.ArrayList&quot;, [ &quot;scelta&quot;, &quot;brani&quot;, &quot;buona&quot; ] ],\r\n        &quot;f8&quot; : [ null, &quot;NOM&quot;, null ],\r\n        &quot;f9&quot; : false\r\n      },\r\n      &quot;f10&quot; : [ &quot;java.util.HashMap&quot;, {\r\n        &quot;2&quot; : &quot;ADJ&quot;\r\n      } ],\r\n      &quot;f11&quot; : [ &quot;java.util.HashSet&quot;, [ 0 ] ],\r\n      &quot;f12&quot; : [ &quot;java.util.HashSet&quot;, [ 2 ] ],\r\n      &quot;f13&quot; : [ &quot;java.util.ArrayList&quot;, [ &quot;scelta&quot;, &quot;brani&quot;, &quot;buona&quot; ] ],\r\n      &quot;featureIndicator&quot; : false\r\n    }]&quot;\r\nHere the json string includes only some objects of my sample of java Set ","title":"Java Jackson: deserialize complex polymorphic object model: JsonMappingException: Unexpected token (START_OBJECT), expected VALUE_STRING","body":"<p>I have this tree of objects</p>\n\n<p>A</p>\n\n<p>B extends A</p>\n\n<p>C extends B</p>\n\n<p>D extends B</p>\n\n<p>E extends C</p>\n\n<p>F extends A and has one reference to A</p>\n\n<p>A has the following annotation</p>\n\n<p><code>@JsonTypeInfo(use=JsonTypeInfo.Id.CLASS,include=JsonTypeInfo.As.PROPERTY,property=\"@class\")</code></p>\n\n<p>If i try to deserialize a JSON array of objects that extends A, it throws the following error</p>\n\n<blockquote>\n  <p>org.codehaus.jackson.map.JsonMappingException: Unexpected token\n  (START_OBJECT), expected VALUE_STRING: need JSON String that contains\n  type id (for subtype of java.util.Collection)</p>\n</blockquote>\n\n<p>The json string is generated by toString() method of a set and the set is parametric to type A where A is serialized in JSON with the following code:</p>\n\n<pre><code>ObjectMapper objectMapper=new ObjectMapper();\n        objectMapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_CONCRETE_AND_ARRAYS);\n        String res=\"\";\n        try {\n            res = objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(t);\n        } catch (JsonGenerationException e) {\n            e.printStackTrace();\n        } catch (JsonMappingException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return res;\n</code></pre>\n\n<p>The code to deserialize the json array (that is the set described above) is:</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper(); \n\n        mapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_CONCRETE_AND_ARRAYS);\n        Collection&lt;T&gt; results=null;\n        try {\n            results =  mapper.readValue(json, TypeFactory.defaultInstance().constructParametricType(Collection.class, clazz ) );\n        } catch (JsonParseException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (JsonMappingException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }  \n        return results;\n</code></pre>\n\n<p>The json sample that it parses is like:</p>\n\n<pre><code>\"[{\n  \"@class\" : \"pack1.pack2.MyClass\",\n  \"id\" : null,\n  \"f1\" : \"\",\n  \"f2\" : 0.9933817827,\n  \"f3\" : 6.883261E-4,\n  \"f4\" : 0.001375699,\n  \"f5\" : {\n    \"@class\" : \"pack1.pack2.MyClass2\",\n    \"id\" : null,\n    \"f1\" : \"\",\n    \"f2\" : 0.0,\n    \"f3\" : 0.0,\n    \"f4\" : 0.0,\n    \"f5\" : [ \"java.util.HashSet\", [ 0 ] ],\n    \"f6\" : [ \"java.util.HashSet\", [ 2 ] ],\n    \"f7\" : [ \"java.util.ArrayList\", [ \"scelta\", \"brani\", \"buona\" ] ],\n    \"f8\" : [ null, \"NOM\", null ],\n    \"f9\" : false\n  },\n  \"f10\" : [ \"java.util.HashMap\", {\n    \"2\" : \"ADJ\"\n  } ],\n  \"f11\" : [ \"java.util.HashSet\", [ 0 ] ],\n  \"f12\" : [ \"java.util.HashSet\", [ 2 ] ],\n  \"f13\" : [ \"java.util.ArrayList\", [ \"scelta\", \"brani\", \"buona\" ] ],\n  \"featureIndicator\" : false\n}]\"\n</code></pre>\n\n<p>Here the json string includes only some objects of my sample of java Set </p>\n"},{"tags":["java","gradle"],"answers":[{"comments":[{"owner":{"account_id":10424858,"reputation":179,"user_id":7686473,"accept_rate":100,"display_name":"Alterant"},"score":0,"creation_date":1695016623,"post_id":77122132,"comment_id":135962384,"body_markdown":"thanks for the detailed explanation! So does it mean that if I need to run all tests from the particular file &quot;include&quot; filter will work faster (assuming that the project is big enough and have many tests in different files)?","body":"thanks for the detailed explanation! So does it mean that if I need to run all tests from the particular file &quot;include&quot; filter will work faster (assuming that the project is big enough and have many tests in different files)?"}],"tags":[],"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694959649,"creation_date":1694959308,"answer_id":77122132,"question_id":77116904,"body_markdown":"The `include(...)` is not specific to the `test` task. It comes from [`PatternFilterable`](https://docs.gradle.org/current/javadoc/org/gradle/api/tasks/util/PatternFilterable.html) which the `test` task type implements. This is a generic filter that accepts Ant-style path patterns. Several task types also implement this functionality such as `jar`, `wav`,`javaCompile`, and many more tasks. Essentially, if a task operates on a file, then it most likely implements `PatternFilterable` therefore you can use `include(...)`. Documentation for this can be found in [Working With Files](https://docs.gradle.org/current/userguide/working_with_files.html) docs although it is not explicitly called out like test filtering below.\r\n\r\nThe `filter { }` is specific to testing (and newer if that matters since Gradle 1.10). The key difference is that `include(...)` only operates on files whereas `filter { }` operates on the tests themselves _and_ hooks into the test engine (JUnit, TestNG, etc). It allows you to filter to specific test methods, for example:\r\n\r\n    test {\r\n        filter {\r\n            includeTest &quot;org.gradle.SomeTest&quot;, &quot;someTestMethod&quot;\r\n        }\r\n    }\r\n\r\nThis means to execute a specific test class _and_ method. You can&#39;t do that with `include(...)` since that only operates on files themselves. See [Test Filtering](https://docs.gradle.org/current/userguide/java_testing.html#test_filtering) for more details","title":"Gradle test.include vs test.filter.includeTestsMatching","body":"<p>The <code>include(...)</code> is not specific to the <code>test</code> task. It comes from <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/tasks/util/PatternFilterable.html\" rel=\"nofollow noreferrer\"><code>PatternFilterable</code></a> which the <code>test</code> task type implements. This is a generic filter that accepts Ant-style path patterns. Several task types also implement this functionality such as <code>jar</code>, <code>wav</code>,<code>javaCompile</code>, and many more tasks. Essentially, if a task operates on a file, then it most likely implements <code>PatternFilterable</code> therefore you can use <code>include(...)</code>. Documentation for this can be found in <a href=\"https://docs.gradle.org/current/userguide/working_with_files.html\" rel=\"nofollow noreferrer\">Working With Files</a> docs although it is not explicitly called out like test filtering below.</p>\n<p>The <code>filter { }</code> is specific to testing (and newer if that matters since Gradle 1.10). The key difference is that <code>include(...)</code> only operates on files whereas <code>filter { }</code> operates on the tests themselves <em>and</em> hooks into the test engine (JUnit, TestNG, etc). It allows you to filter to specific test methods, for example:</p>\n<pre><code>test {\n    filter {\n        includeTest &quot;org.gradle.SomeTest&quot;, &quot;someTestMethod&quot;\n    }\n}\n</code></pre>\n<p>This means to execute a specific test class <em>and</em> method. You can't do that with <code>include(...)</code> since that only operates on files themselves. See <a href=\"https://docs.gradle.org/current/userguide/java_testing.html#test_filtering\" rel=\"nofollow noreferrer\">Test Filtering</a> for more details</p>\n"}],"owner":{"account_id":10424858,"reputation":179,"user_id":7686473,"accept_rate":100,"display_name":"Alterant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77122132,"answer_count":1,"score":0,"last_activity_date":1694959649,"creation_date":1694851591,"question_id":77116904,"body_markdown":"There are a lot of examples on the web where tests are filtered with test.include:\r\n```\r\ntest {\r\n    useJUnitPlatform()\r\n    include(&quot;**/*IT*&quot;)\r\n}\r\n```\r\nDocumentation says: includes - The include patterns for test execution.\r\n\r\nBut official documentation for gradle java testing says that test.filter.includeTestsMatching should be used:\r\n```\r\ntest {\r\n    useJUnitPlatform()\r\n    filter {\r\n        includeTestsMatching(&quot;*IT*&quot;)\r\n    }\r\n}\r\n```\r\nDocumentation says: includeTestsMatching - Appends a test name pattern to the inclusion filter.\r\n\r\nWhat are the key differences between these approaches besides that the latter allows to filter on the method level?","title":"Gradle test.include vs test.filter.includeTestsMatching","body":"<p>There are a lot of examples on the web where tests are filtered with test.include:</p>\n<pre><code>test {\n    useJUnitPlatform()\n    include(&quot;**/*IT*&quot;)\n}\n</code></pre>\n<p>Documentation says: includes - The include patterns for test execution.</p>\n<p>But official documentation for gradle java testing says that test.filter.includeTestsMatching should be used:</p>\n<pre><code>test {\n    useJUnitPlatform()\n    filter {\n        includeTestsMatching(&quot;*IT*&quot;)\n    }\n}\n</code></pre>\n<p>Documentation says: includeTestsMatching - Appends a test name pattern to the inclusion filter.</p>\n<p>What are the key differences between these approaches besides that the latter allows to filter on the method level?</p>\n"},{"tags":["java","jar","struts2","jquery-jtable","struts2-json-plugin"],"comments":[{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1407324823,"post_id":25159242,"comment_id":39167949,"body_markdown":"If you are *following* some post, follow it to the point.","body":"If you are <i>following</i> some post, follow it to the point."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1407326697,"post_id":25159242,"comment_id":39169106,"body_markdown":"Two issues: (1) Apparently arbitrary mixing-and-matching of Struts 2 tag library versions; it doesn&#39;t work like that--use Maven or similar, and (2) You cannot arbitrarily add libraries without also adding their transitive dependencies. In this case it might actually work, if you were using the right versions of everything, which you&#39;re not, but in general, you should not be doing dependency management yourself unless there are explicit conflicts.","body":"Two issues: (1) Apparently arbitrary mixing-and-matching of Struts 2 tag library versions; it doesn&#39;t work like that--use Maven or similar, and (2) You cannot arbitrarily add libraries without also adding their transitive dependencies. In this case it might actually work, if you were using the right versions of everything, which you&#39;re not, but in general, you should not be doing dependency management yourself unless there are explicit conflicts."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488112325,"creation_date":1407335941,"answer_id":25163281,"question_id":25159242,"body_markdown":"This is required set of libraries found in the `lib.txt`:\r\n\r\n    commons-fileupload-1.2.2.jar\r\n    commons-io-2.0.1.jar\r\n    commons-lang-2.4.jar\r\n    commons-lang3-3.1.jar\r\n    commons-logging-1.1.1.jar\r\n    commons-logging-api-1.1.jar\r\n    freemarker-2.3.19.jar\r\n    gson-2.2.2.jar\r\n    javassist-3.11.0.GA.jar\r\n    ognl-3.0.6.jar\r\n    struts2-core-2.3.8.jar\r\n    struts2-json-plugin-2.3.8.jar\r\n    xwork-core-2.3.8.jar\r\n\r\nBut in your project you are using a mix of libraries different versions of Struts. Such as \r\n\r\n    struts2-core-2.1.6.jar, \r\n    struts2-json-plugin-2.3.8.jar, \r\n    xwork-2.1.2.jar\r\n\r\nYou should not copy any of the servlet libraries to the server such as\r\n\r\n    servlet-4.0.6.jar, \r\n\r\nThe server already has dependencies for all servlet versions. Change the scope of the library to be not included in the final war. \r\n\r\nA note about \r\n\r\n    commons-io-1.3.2.jar,\r\n\r\nwhich doesn&#39;t work with Struts 2.3.8 should be updated.","title":"Adding JSON jar file to my Struts 2 project gives error: 404 resource not found","body":"<p>This is required set of libraries found in the <code>lib.txt</code>:</p>\n\n<pre><code>commons-fileupload-1.2.2.jar\ncommons-io-2.0.1.jar\ncommons-lang-2.4.jar\ncommons-lang3-3.1.jar\ncommons-logging-1.1.1.jar\ncommons-logging-api-1.1.jar\nfreemarker-2.3.19.jar\ngson-2.2.2.jar\njavassist-3.11.0.GA.jar\nognl-3.0.6.jar\nstruts2-core-2.3.8.jar\nstruts2-json-plugin-2.3.8.jar\nxwork-core-2.3.8.jar\n</code></pre>\n\n<p>But in your project you are using a mix of libraries different versions of Struts. Such as </p>\n\n<pre><code>struts2-core-2.1.6.jar, \nstruts2-json-plugin-2.3.8.jar, \nxwork-2.1.2.jar\n</code></pre>\n\n<p>You should not copy any of the servlet libraries to the server such as</p>\n\n<pre><code>servlet-4.0.6.jar, \n</code></pre>\n\n<p>The server already has dependencies for all servlet versions. Change the scope of the library to be not included in the final war. </p>\n\n<p>A note about </p>\n\n<pre><code>commons-io-1.3.2.jar,\n</code></pre>\n\n<p>which doesn't work with Struts 2.3.8 should be updated.</p>\n"}],"owner":{"account_id":3203248,"reputation":3773,"user_id":2704895,"accept_rate":33,"display_name":"sam100rav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":308,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1694959130,"creation_date":1407324658,"question_id":25159242,"body_markdown":"I am making a Struts 2 application using jTable which requires use of JSON. For this I am adding a Struts 2 JSON plugin jar to my project\r\n\r\n    struts2-json-plugin-2.3.8.jar\r\n\r\nWithout that jar my project is working fine (obviously without json capabilities), but when I am adding the above jar my landing page shows error \r\n\r\n    404 - resource not available.\r\n\r\nThe different jar that I am using are :\r\n\r\n    commons-fileupload-1.2.1.jar, \r\n    commons-io-1.3.2.jar, \r\n    commons-lang3-3.1.jar, \r\n    commons-logging-1.1.jar, \r\n    freemarker-2.3.13.jar, \r\n    javassist-3.11.0.GA.jar, \r\n    junit-3.8.1.jar, \r\n    ognl-2.6.11.jar, \r\n    servlet-4.0.6.jar, \r\n    struts2-core-2.1.6.jar, \r\n    struts2-json-plugin-2.3.8.jar, \r\n    xwork-2.1.2.jar\r\n\r\nI am following this [Setting up jQuery jTable plugin in Struts 2 framework](https://simplecodestuffs.com/integrating-jquery-jtable-plugin-with-struts-2-framework/).\r\n","title":"Adding JSON jar file to my Struts 2 project gives error: 404 resource not found","body":"<p>I am making a Struts 2 application using jTable which requires use of JSON. For this I am adding a Struts 2 JSON plugin jar to my project</p>\n<pre><code>struts2-json-plugin-2.3.8.jar\n</code></pre>\n<p>Without that jar my project is working fine (obviously without json capabilities), but when I am adding the above jar my landing page shows error</p>\n<pre><code>404 - resource not available.\n</code></pre>\n<p>The different jar that I am using are :</p>\n<pre><code>commons-fileupload-1.2.1.jar, \ncommons-io-1.3.2.jar, \ncommons-lang3-3.1.jar, \ncommons-logging-1.1.jar, \nfreemarker-2.3.13.jar, \njavassist-3.11.0.GA.jar, \njunit-3.8.1.jar, \nognl-2.6.11.jar, \nservlet-4.0.6.jar, \nstruts2-core-2.1.6.jar, \nstruts2-json-plugin-2.3.8.jar, \nxwork-2.1.2.jar\n</code></pre>\n<p>I am following this <a href=\"https://simplecodestuffs.com/integrating-jquery-jtable-plugin-with-struts-2-framework/\" rel=\"nofollow noreferrer\">Setting up jQuery jTable plugin in Struts 2 framework</a>.</p>\n"},{"tags":["java","maven","aether"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":2,"creation_date":1694963066,"post_id":77122114,"comment_id":135957571,"body_markdown":"So `mvn dependency:tree` fails because of the missing JARs?","body":"So <code>mvn dependency:tree</code> fails because of the missing JARs?"},{"owner":{"account_id":2878276,"reputation":192,"user_id":2469698,"display_name":"himanshu_mps"},"score":0,"creation_date":1695012171,"post_id":77122114,"comment_id":135961982,"body_markdown":"Yes .. When maven tries to generate the dependency tree, it starts downloading pom and then jar, and the jar download fails. So `mvn dependency:tree` fails","body":"Yes .. When maven tries to generate the dependency tree, it starts downloading pom and then jar, and the jar download fails. So <code>mvn dependency:tree</code> fails"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1695025561,"post_id":77122114,"comment_id":135963841,"body_markdown":"Does this answer your question? [List maven dependencies without downloading jars](https://stackoverflow.com/questions/66490343/list-maven-dependencies-without-downloading-jars)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/66490343/list-maven-dependencies-without-downloading-jars\">List maven dependencies without downloading jars</a>"}],"owner":{"account_id":2878276,"reputation":192,"user_id":2469698,"display_name":"himanshu_mps"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1694958973,"creation_date":1694958973,"question_id":77122114,"body_markdown":"I have an internal jfrog artifactory which contains artifacts from various maven repos. There are some jars that are quarantined as they have high CVE vulnerabilities. I want to get the dependency tree (either through mvn or through java code) without downloading the jars as they are quarantined(405 status code), but the pom are not quarantined. Is there any way this can be achieved ?","title":"Dealing with quarantined jars in maven","body":"<p>I have an internal jfrog artifactory which contains artifacts from various maven repos. There are some jars that are quarantined as they have high CVE vulnerabilities. I want to get the dependency tree (either through mvn or through java code) without downloading the jars as they are quarantined(405 status code), but the pom are not quarantined. Is there any way this can be achieved ?</p>\n"},{"tags":["java","spring","spring-boot","maven","spring-security"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1694720319,"post_id":77107560,"comment_id":135932185,"body_markdown":"The part you&#39;ve redacted from your question will help us explain why you&#39;re getting this error. However, you can figure this out pretty quickly by looking at the javadocs for ServerWebExchangeMatchers; they have different signatures.  Even if you get past this, you&#39;ll likely encounter other issues, these are often not backward compatible.","body":"The part you&#39;ve redacted from your question will help us explain why you&#39;re getting this error. However, you can figure this out pretty quickly by looking at the javadocs for ServerWebExchangeMatchers; they have different signatures.  Even if you get past this, you&#39;ll likely encounter other issues, these are often not backward compatible."}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694958893,"creation_date":1694956108,"answer_id":77121939,"question_id":77107560,"body_markdown":"Most probably it is because of the library version conflict issue which not all of your spring security libraries are in the same version. Guess that it is because you are using `spring-security-web` `5.7.5` and `spring-security-config` `5.7.10` ? \r\n\r\nBut I don&#39;t understand why you need to specifically update `spring-security-config` to `5.7.10` as by default `spring-boot` `2.7.15` (and hence `spring-boot-starter-security` `2.7.15`) should already upgrade the `spring-security` to `5.7.10` in `spring-boot` `2.7.14` (See [this][1]).\r\n\r\nSo try to make sure all the spring-security libraries (e.g `spring-security-web`) are in the version `5.7.10` which align with your spring-boot version `2.7.15` should solve your problem.\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/releases/tag/v2.7.14","title":"Springboot @Bean NoSuchMethodError","body":"<p>Most probably it is because of the library version conflict issue which not all of your spring security libraries are in the same version. Guess that it is because you are using <code>spring-security-web</code> <code>5.7.5</code> and <code>spring-security-config</code> <code>5.7.10</code> ?</p>\n<p>But I don't understand why you need to specifically update <code>spring-security-config</code> to <code>5.7.10</code> as by default <code>spring-boot</code> <code>2.7.15</code> (and hence <code>spring-boot-starter-security</code> <code>2.7.15</code>) should already upgrade the <code>spring-security</code> to <code>5.7.10</code> in <code>spring-boot</code> <code>2.7.14</code> (See <a href=\"https://github.com/spring-projects/spring-boot/releases/tag/v2.7.14\" rel=\"nofollow noreferrer\">this</a>).</p>\n<p>So try to make sure all the spring-security libraries (e.g <code>spring-security-web</code>) are in the version <code>5.7.10</code> which align with your spring-boot version <code>2.7.15</code> should solve your problem.</p>\n"}],"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694958893,"creation_date":1694716193,"question_id":77107560,"body_markdown":"I was using dependency `spring-boot-starter-security` 2.7.15 . This package used `spring-security-config` 5.7.5 as a dependency which has a CVE. In maven, I upgraded the dependencyManagement for `spring-security-config` 5.7.5 -&gt; 5.7.10. Now, when I start my spring boot and run my tests, I get this error in my SecurityWebFilterChain Bean: `Error creating bean with name &#39;platformSecurityWebFilterChain&#39; defined in com.x.SecurityConfig: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.server.SecurityWebFilterChain]: Factory method &#39;platformSecurityWebFilterChain&#39; threw exception; nested exception is java.lang.NoSuchMethodError: &#39;org.springframework.security.web.server.util.matcher.ServerWebExchangeMatcher org.springframework.security.web.server.util.matcher.ServerWebExchangeMatchers.pathMatchers(org.springframework.web.util.pattern.PathPattern[])&#39;`\r\n\r\nMy bean looks like this:\r\n\r\n    @Bean\r\n      public SecurityWebFilterChain platformSecurityWebFilterChain(\r\n          ServerHttpSecurity httpSecurity,\r\n          JwtAuthorizingFilterProperties jwtAuthorizingFilterProperties) {\r\n        return httpSecurity\r\n            .authorizeExchange()\r\n            .pathMatchers({redacted})\r\n            .permitAll()\r\n    ...other stuff\r\n\r\nclearly, maven is able to find the .pathmatchers. I am just not sure how its not internally able to find pathpattern.\r\n\r\nThanks!","title":"Springboot @Bean NoSuchMethodError","body":"<p>I was using dependency <code>spring-boot-starter-security</code> 2.7.15 . This package used <code>spring-security-config</code> 5.7.5 as a dependency which has a CVE. In maven, I upgraded the dependencyManagement for <code>spring-security-config</code> 5.7.5 -&gt; 5.7.10. Now, when I start my spring boot and run my tests, I get this error in my SecurityWebFilterChain Bean: <code>Error creating bean with name 'platformSecurityWebFilterChain' defined in com.x.SecurityConfig: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.server.SecurityWebFilterChain]: Factory method 'platformSecurityWebFilterChain' threw exception; nested exception is java.lang.NoSuchMethodError: 'org.springframework.security.web.server.util.matcher.ServerWebExchangeMatcher org.springframework.security.web.server.util.matcher.ServerWebExchangeMatchers.pathMatchers(org.springframework.web.util.pattern.PathPattern[])'</code></p>\n<p>My bean looks like this:</p>\n<pre><code>@Bean\n  public SecurityWebFilterChain platformSecurityWebFilterChain(\n      ServerHttpSecurity httpSecurity,\n      JwtAuthorizingFilterProperties jwtAuthorizingFilterProperties) {\n    return httpSecurity\n        .authorizeExchange()\n        .pathMatchers({redacted})\n        .permitAll()\n...other stuff\n</code></pre>\n<p>clearly, maven is able to find the .pathmatchers. I am just not sure how its not internally able to find pathpattern.</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1694958096,"post_id":77121642,"comment_id":135956956,"body_markdown":"Welcome, please read https://stackoverflow.com/help/how-to-ask and https://stackoverflow.com/help/minimal-reproducible-example","body":"Welcome, please read <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}],"owner":{"account_id":29465425,"reputation":1,"user_id":22579201,"display_name":"Virendra Palekar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694958857,"creation_date":1694951209,"question_id":77121642,"body_markdown":"I am working on a sprinboot project and no error is shown before execution but when i run the program i am getting the error as unable to load cache item.\r\nThis is the console log:\r\n\r\n```\r\njava.lang.IllegalStateException: Unable to load cache item\r\n\tat org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:75) ~[spring-core-6.0.11.jar:6.0.11]\r\n\tat org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34) ~[spring-core-6.0.11.jar:6.0.11]\r\n\tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:130) ~[spring-core-6.0.11.jar:6.0.11]\r\n\tat org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:317) ~[spring-core-6.0.11.jar:6.0.11]\r\n\tat org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:562) ~[spring-core-6.0.11.jar:6.0.11]\r\n\tat org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:407) ~[spring-core-6.0.11.jar:6.0.11]\r\n\tat spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassEnhancer.createClass(ConfigurationClassEnhancer.java:138) ~[spring-context-6.0.11.jar:na]\r\n\tat spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:109) ~[spring-context-6.0.11.jar:na]\r\n\tat spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:531) ~[spring-context-6.0.11.jar:na]\r\n\tat spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:308) ~[spring-context-6.0.11.jar:na]\r\n\tat spring.context@6.0.11/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:358) ~[spring-context-6.0.11.jar:na]\r\n\tat spring.context@6.0.11/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:150) ~[spring-context-6.0.11.jar:na]\r\n\tat spring.context@6.0.11/org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:771) ~[spring-context-6.0.11.jar:na]\r\n\tat spring.context@6.0.11/org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:589) ~[spring-context-6.0.11.jar:na]\r\n\tat spring.boot@3.1.3/org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.3.jar:na]\r\n\tat spring.boot@3.1.3/org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.3.jar:na]\r\n\tat spring.boot@3.1.3/org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.3.jar:na]\r\n\tat spring.boot@3.1.3/org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.3.jar:na]\r\n\tat spring.boot@3.1.3/org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.3.jar:na]\r\n\tat spring.boot@3.1.3/org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.3.jar:na]\r\n\tat login/com.viren.resume.ResumeApplication.main(ResumeApplication.java:12) ~[classes/:na]\r\nCaused by: java.lang.IllegalAccessError: class com.viren.resume.ResumeApplication$$SpringCGLIB$$0 (in module login) cannot access class org.springframework.cglib.core.ReflectUtils (in unnamed module @0x4da4253) because module login does not read unnamed module @0x4da4253\r\n\tat login/com.viren.resume.ResumeApplication$$SpringCGLIB$$0.CGLIB$STATICHOOK1(&lt;generated&gt;) ~[classes/:na]\r\n\tat login/com.viren.resume.ResumeApplication$$SpringCGLIB$$0.&lt;clinit&gt;(&lt;generated&gt;) ~[classes/:na]\r\n\tat java.base/java.lang.Class.forName0(Native Method) ~[na:na]\r\n\tat java.base/java.lang.Class.forName(Class.java:467) ~[na:na]\r\n\tat org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:551) ~[spring-core-6.0.11.jar:6.0.11]\r\n\tat org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:371) ~[spring-core-6.0.11.jar:6.0.11]\r\n\tat org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:575) ~[spring-core-6.0.11.jar:6.0.11]\r\n\tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.lambda$new$1(AbstractClassGenerator.java:107) ~[spring-core-6.0.11.jar:6.0.11]\r\n\tat org.springframework.cglib.core.internal.LoadingCache.lambda$createEntry$1(LoadingCache.java:52) ~[spring-core-6.0.11.jar:6.0.11]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:57) ~[spring-core-6.0.11.jar:6.0.11]\r\n\t... 20 common frames omitted\r\n```\r\n\r\nI tried making changes in the module-info file but nothing happened","title":"Getting error as &#39;Unable to load cache item&#39;","body":"<p>I am working on a sprinboot project and no error is shown before execution but when i run the program i am getting the error as unable to load cache item.\nThis is the console log:</p>\n<pre><code>java.lang.IllegalStateException: Unable to load cache item\n    at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:75) ~[spring-core-6.0.11.jar:6.0.11]\n    at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34) ~[spring-core-6.0.11.jar:6.0.11]\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:130) ~[spring-core-6.0.11.jar:6.0.11]\n    at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:317) ~[spring-core-6.0.11.jar:6.0.11]\n    at org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:562) ~[spring-core-6.0.11.jar:6.0.11]\n    at org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:407) ~[spring-core-6.0.11.jar:6.0.11]\n    at spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassEnhancer.createClass(ConfigurationClassEnhancer.java:138) ~[spring-context-6.0.11.jar:na]\n    at spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:109) ~[spring-context-6.0.11.jar:na]\n    at spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:531) ~[spring-context-6.0.11.jar:na]\n    at spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:308) ~[spring-context-6.0.11.jar:na]\n    at spring.context@6.0.11/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:358) ~[spring-context-6.0.11.jar:na]\n    at spring.context@6.0.11/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:150) ~[spring-context-6.0.11.jar:na]\n    at spring.context@6.0.11/org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:771) ~[spring-context-6.0.11.jar:na]\n    at spring.context@6.0.11/org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:589) ~[spring-context-6.0.11.jar:na]\n    at spring.boot@3.1.3/org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.3.jar:na]\n    at spring.boot@3.1.3/org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.3.jar:na]\n    at spring.boot@3.1.3/org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.3.jar:na]\n    at spring.boot@3.1.3/org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.3.jar:na]\n    at spring.boot@3.1.3/org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.3.jar:na]\n    at spring.boot@3.1.3/org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.3.jar:na]\n    at login/com.viren.resume.ResumeApplication.main(ResumeApplication.java:12) ~[classes/:na]\nCaused by: java.lang.IllegalAccessError: class com.viren.resume.ResumeApplication$$SpringCGLIB$$0 (in module login) cannot access class org.springframework.cglib.core.ReflectUtils (in unnamed module @0x4da4253) because module login does not read unnamed module @0x4da4253\n    at login/com.viren.resume.ResumeApplication$$SpringCGLIB$$0.CGLIB$STATICHOOK1(&lt;generated&gt;) ~[classes/:na]\n    at login/com.viren.resume.ResumeApplication$$SpringCGLIB$$0.&lt;clinit&gt;(&lt;generated&gt;) ~[classes/:na]\n    at java.base/java.lang.Class.forName0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.forName(Class.java:467) ~[na:na]\n    at org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:551) ~[spring-core-6.0.11.jar:6.0.11]\n    at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:371) ~[spring-core-6.0.11.jar:6.0.11]\n    at org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:575) ~[spring-core-6.0.11.jar:6.0.11]\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.lambda$new$1(AbstractClassGenerator.java:107) ~[spring-core-6.0.11.jar:6.0.11]\n    at org.springframework.cglib.core.internal.LoadingCache.lambda$createEntry$1(LoadingCache.java:52) ~[spring-core-6.0.11.jar:6.0.11]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:57) ~[spring-core-6.0.11.jar:6.0.11]\n    ... 20 common frames omitted\n</code></pre>\n<p>I tried making changes in the module-info file but nothing happened</p>\n"},{"tags":["java","android","class","android-activity"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":1,"creation_date":1531903434,"post_id":51397358,"comment_id":89765831,"body_markdown":"You need to create 2 classes if they have a different behaviour. But try to mutualize all common code in an inherited class","body":"You need to create 2 classes if they have a different behaviour. But try to mutualize all common code in an inherited class"}],"answers":[{"comments":[{"owner":{"account_id":7942638,"reputation":3623,"user_id":5996106,"accept_rate":57,"display_name":"karanatwal.github.io"},"score":1,"creation_date":1531933372,"post_id":51397460,"comment_id":89786085,"body_markdown":"Yes you are somewhere right, from starting i didn&#39;t followed any architecture and now its been 1.5 years , the requirements were like that i have to do everything in one activity and now its looking mess. I have to follow some architecture and do some optimisations. Anyway thanks for answering !!","body":"Yes you are somewhere right, from starting i didn&#39;t followed any architecture and now its been 1.5 years , the requirements were like that i have to do everything in one activity and now its looking mess. I have to follow some architecture and do some optimisations. Anyway thanks for answering !!"}],"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1531911565,"creation_date":1531903550,"answer_id":51397460,"question_id":51397358,"body_markdown":"The technical answer is: **not** possible.\r\n\r\nIn Java, your inheritance structure is fixed. It is simply not possible to have one class C extend class A in one context, and class B in another context. When you want to do that, you would end up having two classes, C1 and C2. \r\n\r\nThe real answer of course is: you have to step back and clearly *architect* your whole solution. Alone the 18K lines in *one* whatever is an indication that something is seriously wrong here. One could mention the good old [FCoI][1] principle, but then: 18K lines of code means a lot of code and features. It is simply impossible to give you proper guidance in a single answer on stackoverflow. \r\n\r\nSo, opinionated: you should step back, and identify some (architecture) experts to talk to. Then sit down with them (probably for hours, even days), and look at what you have got, and where you want to get to. Then work together on path there. Anything else is nothing but putting band-aids on symptoms. Sure, nothing will break when you don&#39;t do that. But each step forward will simply add *mess* to *mess*, making each step more expensive. Sooner or later, changing your monolith will become close to impossible, and everybody will ask to &quot;throw it away, and start from scratch&quot;. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Composition_over_inheritance","title":"If condition in extending a class","body":"<p>The technical answer is: <strong>not</strong> possible.</p>\n\n<p>In Java, your inheritance structure is fixed. It is simply not possible to have one class C extend class A in one context, and class B in another context. When you want to do that, you would end up having two classes, C1 and C2. </p>\n\n<p>The real answer of course is: you have to step back and clearly <em>architect</em> your whole solution. Alone the 18K lines in <em>one</em> whatever is an indication that something is seriously wrong here. One could mention the good old <a href=\"https://en.wikipedia.org/wiki/Composition_over_inheritance\" rel=\"nofollow noreferrer\">FCoI</a> principle, but then: 18K lines of code means a lot of code and features. It is simply impossible to give you proper guidance in a single answer on stackoverflow. </p>\n\n<p>So, opinionated: you should step back, and identify some (architecture) experts to talk to. Then sit down with them (probably for hours, even days), and look at what you have got, and where you want to get to. Then work together on path there. Anything else is nothing but putting band-aids on symptoms. Sure, nothing will break when you don't do that. But each step forward will simply add <em>mess</em> to <em>mess</em>, making each step more expensive. Sooner or later, changing your monolith will become close to impossible, and everybody will ask to \"throw it away, and start from scratch\". </p>\n"},{"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1543606057,"post_id":51405172,"comment_id":93993123,"body_markdown":"He there ... looking into old stuff here ... great to see how good you are doing ;-)","body":"He there ... looking into old stuff here ... great to see how good you are doing ;-)"},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1543658365,"post_id":51405172,"comment_id":94004148,"body_markdown":"Hello you ! I see that you &quot;hunt&quot;/&quot;clean&quot; unaccepted question ! Thanks for your good words ! By the way I tried to improve the post ! Those days I worked with Python (I never did so far). I know that you practice it. Interesting language. But well the duck typing annoys me a little.","body":"Hello you ! I see that you &quot;hunt&quot;/&quot;clean&quot; unaccepted question ! Thanks for your good words ! By the way I tried to improve the post ! Those days I worked with Python (I never did so far). I know that you practice it. Interesting language. But well the duck typing annoys me a little."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1543673276,"post_id":51405172,"comment_id":94007587,"body_markdown":"Yes, the static typing as by Java or kotlin works better for me, too!","body":"Yes, the static typing as by Java or kotlin works better for me, too!"}],"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1543658051,"creation_date":1531925781,"answer_id":51405172,"question_id":51397358,"body_markdown":"As complement to the excellent answer of GhostCat, I will give you a very important hint in OOP : to enhance **at runtime** the behavior of an object, the decorator pattern is often a way to consider.  \r\n\r\nHere `HomeActivity` appears as the element to decorate and `ARBaseACtivity` and `NonARBaseActivity` appears as decorator for that.   \r\nYou should define a `MyActivity` interface that is the base class for both decorated and decorator objects.   \r\n\r\nSo things are not simple because you will have to refactor many code lines but it will make your design more flexible and with classes that have consistent responsibilities instead of having a god object as activity !\r\n\r\nFinally in the splash screen you could define a method that returns an activity  decorating the `HomeActivity` according to the client material detected :\r\n\r\n    public MyActivity computeHomeActivity(){\r\n    \r\n        HomeActivity activity = new HomeActivity();\r\n        \r\n        if (isSupportARCore()){\r\n           return new ARBaseACtivity(activity);\r\n        }\r\n        return new NonARBaseActivity(activity);\r\n    \r\n    }","title":"If condition in extending a class","body":"<p>As complement to the excellent answer of GhostCat, I will give you a very important hint in OOP : to enhance <strong>at runtime</strong> the behavior of an object, the decorator pattern is often a way to consider.  </p>\n\n<p>Here <code>HomeActivity</code> appears as the element to decorate and <code>ARBaseACtivity</code> and <code>NonARBaseActivity</code> appears as decorator for that.<br>\nYou should define a <code>MyActivity</code> interface that is the base class for both decorated and decorator objects.   </p>\n\n<p>So things are not simple because you will have to refactor many code lines but it will make your design more flexible and with classes that have consistent responsibilities instead of having a god object as activity !</p>\n\n<p>Finally in the splash screen you could define a method that returns an activity  decorating the <code>HomeActivity</code> according to the client material detected :</p>\n\n<pre><code>public MyActivity computeHomeActivity(){\n\n    HomeActivity activity = new HomeActivity();\n\n    if (isSupportARCore()){\n       return new ARBaseACtivity(activity);\n    }\n    return new NonARBaseActivity(activity);\n\n}\n</code></pre>\n"}],"owner":{"account_id":7942638,"reputation":3623,"user_id":5996106,"accept_rate":57,"display_name":"karanatwal.github.io"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":477,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1694958416,"creation_date":1531903262,"question_id":51397358,"body_markdown":"In an Android app. I have a requirement where I have my `HomeActivity` (having 18000 lines of code) and if my device supports `ARCore`, I want `HomeActivity` to extend with `ARBaseACtivity` and if device doesn&#39;t supports `ARCore` then I need it to extend with `NonARBaseActivity`.  \r\n\r\nI am checking this condition in splash screen.\r\n\r\nNow, there is a way that first comes is that I make two activities, same a copy of `HomeActivity` but I need to know is there any better way to do that. Because I don&#39;t want to copy every time I do any change in one of the `HomeActivity`. \r\n","title":"If condition in extending a class","body":"<p>In an Android app. I have a requirement where I have my <code>HomeActivity</code> (having 18000 lines of code) and if my device supports <code>ARCore</code>, I want <code>HomeActivity</code> to extend with <code>ARBaseACtivity</code> and if device doesn't supports <code>ARCore</code> then I need it to extend with <code>NonARBaseActivity</code>.</p>\n<p>I am checking this condition in splash screen.</p>\n<p>Now, there is a way that first comes is that I make two activities, same a copy of <code>HomeActivity</code> but I need to know is there any better way to do that. Because I don't want to copy every time I do any change in one of the <code>HomeActivity</code>.</p>\n"},{"tags":["java","list","iterator","listiterator"],"answers":[{"comments":[{"owner":{"account_id":1517424,"reputation":8052,"user_id":1418097,"accept_rate":83,"display_name":"Display Name"},"score":4,"creation_date":1394236249,"post_id":22262886,"comment_id":33815907,"body_markdown":"He is asking about a linked list, and accessing it by index is bad idea","body":"He is asking about a linked list, and accessing it by index is bad idea"}],"tags":[],"owner":{"account_id":3932565,"reputation":11,"user_id":3250432,"display_name":"Jake"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1394235967,"creation_date":1394235967,"answer_id":22262886,"question_id":22262832,"body_markdown":"I think this might be the code you&#39;re looking for:\r\n\r\n    for (int i = litr.size(); i &gt;= 0; i--) {\r\n        System.out.println(litr.get(i));\r\n    }\r\n\r\nBasically it starts at the end of the array and prints the results from last to first. \r\n\r\nThis is what&#39;s starting at the END of the ArrayList:\r\n\r\n    i = litr.size();\r\n\r\ni-- counts backwards through the array until it reaches 0.","title":"How to make a list iterator that starts at the end of the list","body":"<p>I think this might be the code you're looking for:</p>\n\n<pre><code>for (int i = litr.size(); i &gt;= 0; i--) {\n    System.out.println(litr.get(i));\n}\n</code></pre>\n\n<p>Basically it starts at the end of the array and prints the results from last to first. </p>\n\n<p>This is what's starting at the END of the ArrayList:</p>\n\n<pre><code>i = litr.size();\n</code></pre>\n\n<p>i-- counts backwards through the array until it reaches 0.</p>\n"},{"comments":[{"owner":{"account_id":4105767,"reputation":117,"user_id":3369850,"accept_rate":20,"display_name":"user3369850"},"score":1,"creation_date":1394237164,"post_id":22262918,"comment_id":33816169,"body_markdown":"Sorry, I am fairly new to using Java. Thank you!","body":"Sorry, I am fairly new to using Java. Thank you!"}],"tags":[],"owner":{"account_id":4135775,"reputation":1929,"user_id":3392484,"display_name":"user3392484"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1394236336,"creation_date":1394236180,"answer_id":22262918,"question_id":22262832,"body_markdown":"Read the java.util.List API documentation...\r\n\r\n    ListIterator&lt;Integer&gt; litr = list.listIterator(list.size());","title":"How to make a list iterator that starts at the end of the list","body":"<p>Read the java.util.List API documentation...</p>\n\n<pre><code>ListIterator&lt;Integer&gt; litr = list.listIterator(list.size());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1957366,"reputation":1175,"user_id":1760058,"accept_rate":46,"display_name":"egelev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1394236336,"creation_date":1394236336,"answer_id":22262944,"question_id":22262832,"body_markdown":"Aactually a [ A ListIterator has no current element; its cursor position always lies between the element that would be returned by a call to previous() and the element that would be returned by a call to next(). ][1]\r\n\r\nIf you want the first call to next()/previous() to return the last element you could use [listIterator(int index)][2] and pass it list.size() -1 if you want to iterate forward or list.size() if you want to iterate backward.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/ListIterator.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/List.html#listIterator%28int%29","title":"How to make a list iterator that starts at the end of the list","body":"<p>Aactually a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ListIterator.html\" rel=\"nofollow\"> A ListIterator has no current element; its cursor position always lies between the element that would be returned by a call to previous() and the element that would be returned by a call to next(). </a></p>\n\n<p>If you want the first call to next()/previous() to return the last element you could use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/List.html#listIterator%28int%29\" rel=\"nofollow\">listIterator(int index)</a> and pass it list.size() -1 if you want to iterate forward or list.size() if you want to iterate backward.</p>\n"},{"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":1,"creation_date":1695041979,"post_id":77122024,"comment_id":135967066,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77122024/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":22947689,"reputation":1,"user_id":17079436,"display_name":"JaYanTh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694957646,"creation_date":1694957554,"answer_id":77122024,"question_id":22262832,"body_markdown":"    public class LinkedListTester7\r\n    {\r\n        public static void main(String [] args)\r\n        {\r\n            LinkedList&lt;Integer&gt; list = new LinkedList&lt;Integer&gt;();\r\n            for (int i = 0 ; i &lt; 100 ; i = i + 2)\r\n                list.add(i) ;\r\n            //-----------Start below here. To do: approximate lines of code = 3\r\n            // 1. make a list iterator that starts at the end of the list ;\r\n            ListIterator&lt;Integer&gt; litr = list.listIterator(list.size());\r\n            while (litr.hasPrevious()) {\r\n                System.out.println(litr.previous()+ &quot; &quot;);\r\n            }\r\n            System.out.println() ;\r\n        }\r\n    }","title":"How to make a list iterator that starts at the end of the list","body":"<pre><code>public class LinkedListTester7\n{\n    public static void main(String [] args)\n    {\n        LinkedList&lt;Integer&gt; list = new LinkedList&lt;Integer&gt;();\n        for (int i = 0 ; i &lt; 100 ; i = i + 2)\n            list.add(i) ;\n        //-----------Start below here. To do: approximate lines of code = 3\n        // 1. make a list iterator that starts at the end of the list ;\n        ListIterator&lt;Integer&gt; litr = list.listIterator(list.size());\n        while (litr.hasPrevious()) {\n            System.out.println(litr.previous()+ &quot; &quot;);\n        }\n        System.out.println() ;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4105767,"reputation":117,"user_id":3369850,"accept_rate":20,"display_name":"user3369850"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7586,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1694957646,"creation_date":1394235646,"question_id":22262832,"body_markdown":"I have a homework question that asks me to make a list iterator that starts at the end of the list. I have no idea how to do this. Here is the code\r\n\r\n    public class LinkedListTester7\r\n    {\r\n        public static void main(String [] args)\r\n        {\r\n            LinkedList&lt;Integer&gt; list = new LinkedList&lt;Integer&gt;();\r\n            for (int i = 0 ; i &lt; 100 ; i = i + 2)\r\n                list.add(i) ;\r\n            //-----------Start below here. To do: approximate lines of code = 3\r\n            // 1. make a list iterator that starts at the end of the list ;\r\n            ListIterator&lt;Integer&gt; litr = list.listIterator();\r\n            //2.  while hasPrevious ;\r\n            while (litr.hasPrevious()) {\r\n                //3. print what is returned by previous() followed by a blank without a newline  \r\n                System.out.println(litr.previous()+ &quot; &quot;);\r\n            }\r\n            //-----------------End here. Please do not remove this comment.     Reminder: no changes outside the todo regions.\r\n            System.out.println() ;\r\n        }\r\n    }\r\n","title":"How to make a list iterator that starts at the end of the list","body":"<p>I have a homework question that asks me to make a list iterator that starts at the end of the list. I have no idea how to do this. Here is the code</p>\n\n<pre><code>public class LinkedListTester7\n{\n    public static void main(String [] args)\n    {\n        LinkedList&lt;Integer&gt; list = new LinkedList&lt;Integer&gt;();\n        for (int i = 0 ; i &lt; 100 ; i = i + 2)\n            list.add(i) ;\n        //-----------Start below here. To do: approximate lines of code = 3\n        // 1. make a list iterator that starts at the end of the list ;\n        ListIterator&lt;Integer&gt; litr = list.listIterator();\n        //2.  while hasPrevious ;\n        while (litr.hasPrevious()) {\n            //3. print what is returned by previous() followed by a blank without a newline  \n            System.out.println(litr.previous()+ \" \");\n        }\n        //-----------------End here. Please do not remove this comment.     Reminder: no changes outside the todo regions.\n        System.out.println() ;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","docker","gradle","docker-compose"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1694948117,"post_id":77118812,"comment_id":135956054,"body_markdown":"How does building your application jar file require a database?  Can you fix that?  The Dockerfile can never call another container.","body":"How does building your application jar file require a database?  Can you fix that?  The Dockerfile can never call another container."}],"answers":[{"tags":[],"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694957592,"creation_date":1694957592,"answer_id":77122029,"question_id":77118812,"body_markdown":"As of Spring Boot 3.1, Docker Compose is supported. Spring Boot will start the container for you and also inject any necessary credentials or connection details into the Spring `Environment` which allows other libraries such as Spring Data to create its beans.\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.docker-compose\r\n\r\nSpring Boot&#39;s Docker Compose support can also be used in tests.","title":"Docker-compose with Gradle, Spring Boot and PostgreSQL: How to properly handle build and startup sequence?","body":"<p>As of Spring Boot 3.1, Docker Compose is supported. Spring Boot will start the container for you and also inject any necessary credentials or connection details into the Spring <code>Environment</code> which allows other libraries such as Spring Data to create its beans.</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.docker-compose\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.docker-compose</a></p>\n<p>Spring Boot's Docker Compose support can also be used in tests.</p>\n"}],"owner":{"account_id":15582606,"reputation":319,"user_id":11241975,"display_name":"Dima"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1694957592,"creation_date":1694884700,"question_id":77118812,"body_markdown":"I&#39;m working on a Spring Boot pet-project with PostgreSQL as the database, and I&#39;m using Docker Compose to orchestrate the containers. The issue I&#39;m facing is that the `RUN ./gradlew build` command in my Dockerfile is getting executed before the PostgreSQL container is fully up and running, causing my tests to fail during the build process.\r\n\r\nDockerfile:\r\n```\r\n# Build stage\r\nFROM amazoncorretto:17 AS build\r\nWORKDIR /app\r\nCOPY ../ /app\r\nRUN ./gradlew build\r\n\r\n# Runtime stage\r\nFROM amazoncorretto:17 AS runtime\r\nWORKDIR /app\r\nCOPY --from=build /app/build/libs/*.jar /app/app.jar\r\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;/app/app.jar&quot;]\r\n```\r\n\r\ndocker-compose.yaml:\r\n```\r\nversion: &#39;3.8&#39;\r\n\r\nservices:\r\n  postgres:\r\n    image: &#39;postgres:latest&#39;\r\n    environment:\r\n      POSTGRES_DB: ${POSTGRES_DB}\r\n      POSTGRES_USER: ${POSTGRES_USER}\r\n      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}\r\n    ports:\r\n      - &#39;5432:5432&#39;\r\n    healthcheck:\r\n      test: pg_isready -U ${POSTGRES_USER} -d ${POSTGRES_DB}\r\n      interval: 10s\r\n      timeout: 5s\r\n      retries: 5\r\n\r\n  app:\r\n    build:\r\n      context: .\r\n      dockerfile: docker/Dockerfile\r\n    depends_on:\r\n      postgres:\r\n        condition: service_healthy\r\n    environment:\r\n      SPRING_DATASOURCE_URL: jdbc:postgresql://postgres:5432/${POSTGRES_DB}\r\n      SPRING_DATASOURCE_USERNAME: ${POSTGRES_USER}\r\n      SPRING_DATASOURCE_PASSWORD: ${POSTGRES_PASSWORD}\r\n    ports:\r\n      - &#39;8080:8080&#39;\r\n```\r\n\r\n\r\nI&#39;ve tried using `depends_on` and `healthcheck` in `docker-compose.yaml`, but the issue remains.\r\n\r\nSo, my questions are:\r\n1. What is the best way to ensure that the PostgreSQL container is fully ready before running the `./gradlew build` command?\r\n2. Is there a more &quot;Docker-native&quot; or &quot;Spring-native&quot; way to handle this dependency during the build process?","title":"Docker-compose with Gradle, Spring Boot and PostgreSQL: How to properly handle build and startup sequence?","body":"<p>I'm working on a Spring Boot pet-project with PostgreSQL as the database, and I'm using Docker Compose to orchestrate the containers. The issue I'm facing is that the <code>RUN ./gradlew build</code> command in my Dockerfile is getting executed before the PostgreSQL container is fully up and running, causing my tests to fail during the build process.</p>\n<p>Dockerfile:</p>\n<pre><code># Build stage\nFROM amazoncorretto:17 AS build\nWORKDIR /app\nCOPY ../ /app\nRUN ./gradlew build\n\n# Runtime stage\nFROM amazoncorretto:17 AS runtime\nWORKDIR /app\nCOPY --from=build /app/build/libs/*.jar /app/app.jar\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;/app/app.jar&quot;]\n</code></pre>\n<p>docker-compose.yaml:</p>\n<pre><code>version: '3.8'\n\nservices:\n  postgres:\n    image: 'postgres:latest'\n    environment:\n      POSTGRES_DB: ${POSTGRES_DB}\n      POSTGRES_USER: ${POSTGRES_USER}\n      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}\n    ports:\n      - '5432:5432'\n    healthcheck:\n      test: pg_isready -U ${POSTGRES_USER} -d ${POSTGRES_DB}\n      interval: 10s\n      timeout: 5s\n      retries: 5\n\n  app:\n    build:\n      context: .\n      dockerfile: docker/Dockerfile\n    depends_on:\n      postgres:\n        condition: service_healthy\n    environment:\n      SPRING_DATASOURCE_URL: jdbc:postgresql://postgres:5432/${POSTGRES_DB}\n      SPRING_DATASOURCE_USERNAME: ${POSTGRES_USER}\n      SPRING_DATASOURCE_PASSWORD: ${POSTGRES_PASSWORD}\n    ports:\n      - '8080:8080'\n</code></pre>\n<p>I've tried using <code>depends_on</code> and <code>healthcheck</code> in <code>docker-compose.yaml</code>, but the issue remains.</p>\n<p>So, my questions are:</p>\n<ol>\n<li>What is the best way to ensure that the PostgreSQL container is fully ready before running the <code>./gradlew build</code> command?</li>\n<li>Is there a more &quot;Docker-native&quot; or &quot;Spring-native&quot; way to handle this dependency during the build process?</li>\n</ol>\n"},{"tags":["java","logging","junit","assert"],"answers":[{"comments":[{"owner":{"account_id":2070965,"reputation":1494,"user_id":1845463,"accept_rate":43,"display_name":"Stefano L"},"score":12,"creation_date":1558633576,"post_id":1827718,"comment_id":99174973,"body_markdown":"How&#39;d you mock a private static final field, which most loggers are defined? Powermockito? Have fun..","body":"How&#39;d you mock a private static final field, which most loggers are defined? Powermockito? Have fun.."},{"owner":{"account_id":30285,"reputation":55210,"user_id":82511,"accept_rate":71,"display_name":"djna"},"score":0,"creation_date":1558641644,"post_id":1827718,"comment_id":99178263,"body_markdown":"Stefano: That final field got initialised somehow, I&#39;ve seen various approaches to injecting Mocks rather than the real thing. Probably requires that some level of design for testability in the first place. https://blog.codecentric.de/en/2011/11/testing-and-mocking-of-static-methods-in-java/","body":"Stefano: That final field got initialised somehow, I&#39;ve seen various approaches to injecting Mocks rather than the real thing. Probably requires that some level of design for testability in the first place. <a href=\"https://blog.codecentric.de/en/2011/11/testing-and-mocking-of-static-methods-in-java/\" rel=\"nofollow noreferrer\">blog.codecentric.de/en/2011/11/&hellip;</a>"},{"owner":{"account_id":30285,"reputation":55210,"user_id":82511,"accept_rate":71,"display_name":"djna"},"score":0,"creation_date":1558641705,"post_id":1827718,"comment_id":99178290,"body_markdown":"As Mehdi said, possibly using a suitable Handler may be enough,","body":"As Mehdi said, possibly using a suitable Handler may be enough,"},{"owner":{"account_id":8566752,"reputation":53339,"user_id":6419007,"accept_rate":67,"display_name":"Eric Duminil"},"score":2,"creation_date":1604438877,"post_id":1827718,"comment_id":114347540,"body_markdown":"@StefanoL: If a logger is defined with `private static final Logger LOGGER = Logger.getLogger(someString);`, you can still access it from unit tests with `Logger.getLogger(someString);`, modify it and add handlers (as in the accepted answer).","body":"@StefanoL: If a logger is defined with <code>private static final Logger LOGGER = Logger.getLogger(someString);</code>, you can still access it from unit tests with <code>Logger.getLogger(someString);</code>, modify it and add handlers (as in the accepted answer)."}],"tags":[],"owner":{"account_id":30285,"reputation":55210,"user_id":82511,"accept_rate":71,"display_name":"djna"},"comment_count":4,"down_vote_count":6,"up_vote_count":26,"is_accepted":false,"score":20,"last_activity_date":1511031182,"creation_date":1259688824,"answer_id":1827718,"question_id":1827677,"body_markdown":"Effectively you are testing a side-effect of a dependent class. For unit testing you need only to verify that \r\n\r\n&gt; `logger.info()`\r\n\r\n was called with the correct parameter. Hence use a mocking framework to emulate logger and that will allow you to test your own class&#39;s behaviour. ","title":"How to do a JUnit assert on a message in a logger","body":"<p>Effectively you are testing a side-effect of a dependent class. For unit testing you need only to verify that </p>\n\n<blockquote>\n  <p><code>logger.info()</code></p>\n</blockquote>\n\n<p>was called with the correct parameter. Hence use a mocking framework to emulate logger and that will allow you to test your own class's behaviour. </p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":0,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1259690287,"creation_date":1259690287,"answer_id":1827823,"question_id":1827677,"body_markdown":"Mocking is an option here, although it would be hard, because loggers are generally private static final - so setting a mock logger wouldn&#39;t be a piece of cake, or would require modification of the class under test.\r\n\r\nYou can create a custom Appender (or whatever it&#39;s called), and register it - either via a test-only configuration file, or runtime (in a way, dependent on the logging framework).\r\nAnd then you can get that appender (either statically, if declared in configuration file, or by its current reference, if you are plugging it runtime), and verify its contents.","title":"How to do a JUnit assert on a message in a logger","body":"<p>Mocking is an option here, although it would be hard, because loggers are generally private static final - so setting a mock logger wouldn't be a piece of cake, or would require modification of the class under test.</p>\n\n<p>You can create a custom Appender (or whatever it's called), and register it - either via a test-only configuration file, or runtime (in a way, dependent on the logging framework).\nAnd then you can get that appender (either statically, if declared in configuration file, or by its current reference, if you are plugging it runtime), and verify its contents.</p>\n"},{"tags":[],"owner":{"account_id":70734,"reputation":14669,"user_id":204845,"accept_rate":68,"display_name":"Arne Deutsch"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1470669107,"creation_date":1259694286,"answer_id":1828186,"question_id":1827677,"body_markdown":"As mentioned from the others you could use a mocking framework. For this to make work you have to expose the logger in your class (although I would propably prefere to make it package private instead of creating a public setter).\r\n\r\nThe other solution is to create a fake logger by hand. You have to write the fake logger (more fixture code) but in this case I would prefer the enhanced readability of the tests against the saved code from the mocking framework.\r\n\r\nI would do something like this:\r\n\r\n    class FakeLogger implements ILogger {\r\n        public List&lt;String&gt; infos = new ArrayList&lt;String&gt;();\r\n        public List&lt;String&gt; errors = new ArrayList&lt;String&gt;();\r\n\r\n        public void info(String message) {\r\n            infos.add(message);\r\n        }\r\n    \r\n        public void error(String message) {\r\n            errors.add(message);\r\n        }\r\n    }\r\n\r\n    class TestMyClass {\r\n        private MyClass myClass;        \r\n        private FakeLogger logger;        \r\n\r\n        @Before\r\n        public void setUp() throws Exception {\r\n            myClass = new MyClass();\r\n            logger = new FakeLogger();\r\n            myClass.logger = logger;\r\n        }\r\n\r\n        @Test\r\n        public void testMyMethod() {\r\n            myClass.myMethod(true);\r\n\r\n            assertEquals(1, logger.infos.size());\r\n        }\r\n    }","title":"How to do a JUnit assert on a message in a logger","body":"<p>As mentioned from the others you could use a mocking framework. For this to make work you have to expose the logger in your class (although I would propably prefere to make it package private instead of creating a public setter).</p>\n\n<p>The other solution is to create a fake logger by hand. You have to write the fake logger (more fixture code) but in this case I would prefer the enhanced readability of the tests against the saved code from the mocking framework.</p>\n\n<p>I would do something like this:</p>\n\n<pre><code>class FakeLogger implements ILogger {\n    public List&lt;String&gt; infos = new ArrayList&lt;String&gt;();\n    public List&lt;String&gt; errors = new ArrayList&lt;String&gt;();\n\n    public void info(String message) {\n        infos.add(message);\n    }\n\n    public void error(String message) {\n        errors.add(message);\n    }\n}\n\nclass TestMyClass {\n    private MyClass myClass;        \n    private FakeLogger logger;        \n\n    @Before\n    public void setUp() throws Exception {\n        myClass = new MyClass();\n        logger = new FakeLogger();\n        myClass.logger = logger;\n    }\n\n    @Test\n    public void testMyMethod() {\n        myClass.myMethod(true);\n\n        assertEquals(1, logger.infos.size());\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13171,"reputation":26195,"user_id":26286,"accept_rate":87,"display_name":"Coderer"},"score":6,"creation_date":1362655210,"post_id":1828268,"comment_id":21540335,"body_markdown":"This works great.  The only improvement I would make is to call `logger.getAllAppenders()`, then step through and call `appender.setThreshold(Level.OFF)` on each (and reset them when you&#39;re done!).  This makes sure that the &quot;bad&quot; messages you&#39;re trying to generate don&#39;t show up in the test logs and freak out the next developer.","body":"This works great.  The only improvement I would make is to call <code>logger.getAllAppenders()</code>, then step through and call <code>appender.setThreshold(Level.OFF)</code> on each (and reset them when you&#39;re done!).  This makes sure that the &quot;bad&quot; messages you&#39;re trying to generate don&#39;t show up in the test logs and freak out the next developer."},{"owner":{"account_id":170897,"reputation":1391,"user_id":397940,"accept_rate":66,"display_name":"panza"},"score":3,"creation_date":1478711522,"post_id":1828268,"comment_id":68266776,"body_markdown":"In Log4j 2.x is slightly more convoluted as you need to create a plugin, have a look at this: http://stackoverflow.com/questions/24205093/how-to-create-a-custom-appender-in-log4j2","body":"In Log4j 2.x is slightly more convoluted as you need to create a plugin, have a look at this: <a href=\"http://stackoverflow.com/questions/24205093/how-to-create-a-custom-appender-in-log4j2\" title=\"how to create a custom appender in log4j2\">stackoverflow.com/questions/24205093/&hellip;</a>"},{"owner":{"account_id":920765,"reputation":2524,"user_id":952511,"accept_rate":78,"display_name":"sinujohn"},"score":2,"creation_date":1489051673,"post_id":1828268,"comment_id":72505440,"body_markdown":"Thanks for this. But if you are using LogBack, you can use `ListAppender&lt;ILoggingEvent&gt;` instead of creating your own custom appender.","body":"Thanks for this. But if you are using LogBack, you can use <code>ListAppender&lt;ILoggingEvent&gt;</code> instead of creating your own custom appender."},{"owner":{"account_id":4670717,"reputation":813,"user_id":3782567,"accept_rate":30,"display_name":"Shilan"},"score":6,"creation_date":1529333138,"post_id":1828268,"comment_id":88824102,"body_markdown":"but this doesn&#39;t work for slf4j! do you know how can I change it to work with that as well?","body":"but this doesn&#39;t work for slf4j! do you know how can I change it to work with that as well?"},{"owner":{"account_id":13566,"reputation":48845,"user_id":27358,"accept_rate":76,"display_name":"David Moles"},"score":3,"creation_date":1576004090,"post_id":1828268,"comment_id":104754454,"body_markdown":"@s.d If you cast the `Logger` to `org.apache.logging.log4j.core.Logger` (the implementation class for the interface) you&#39;ll get access to `setAppender()/removeAppender()` again.","body":"@s.d If you cast the <code>Logger</code> to <code>org.apache.logging.log4j.core.Logger</code> (the implementation class for the interface) you&#39;ll get access to <code>setAppender()&#47;removeAppender()</code> again."},{"owner":{"account_id":4564492,"reputation":2199,"user_id":3705861,"display_name":"Younes El Ouarti"},"score":0,"creation_date":1584790343,"post_id":1828268,"comment_id":107548035,"body_markdown":"How likely is it, that some unit test will create a memory leak? After the unit tests ran, every resources are freed anyway or am I missing something?","body":"How likely is it, that some unit test will create a memory leak? After the unit tests ran, every resources are freed anyway or am I missing something?"},{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":1,"creation_date":1654770060,"post_id":1828268,"comment_id":128173358,"body_markdown":"How can we do the same in log4j2.x?","body":"How can we do the same in log4j2.x?"}],"tags":[],"owner":{"account_id":20661,"reputation":4084,"user_id":49604,"display_name":"Ronald Blaschke"},"comment_count":7,"down_vote_count":3,"up_vote_count":176,"is_accepted":false,"score":173,"last_activity_date":1259695240,"creation_date":1259695240,"answer_id":1828268,"question_id":1827677,"body_markdown":"I&#39;ve needed this several times as well.  I&#39;ve put together a small sample below, which you&#39;d want to adjust to your needs.  Basically, you create your own `Appender` and add it to the logger you want.  If you&#39;d want to collect everything, the root logger is a good place to start, but you can use a more specific if you&#39;d like.  Don&#39;t forget to remove the Appender when you&#39;re done, otherwise you might create a memory leak.  Below I&#39;ve done it within the test, but `setUp` or `@Before` and `tearDown` or `@After` might be better places, depending on your needs.\r\n\r\nAlso, the implementation below collects everything in a `List` in memory.  If you&#39;re logging a lot you might consider adding a filter to drop boring entries, or to write the log to a temporary file on disk (Hint: `LoggingEvent` is `Serializable`, so you should be able to just serialize the event objects, if your log message is.)\r\n\r\n    import org.apache.log4j.AppenderSkeleton;\r\n    import org.apache.log4j.Level;\r\n    import org.apache.log4j.Logger;\r\n    import org.apache.log4j.spi.LoggingEvent;\r\n    import org.junit.Test;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import static org.hamcrest.CoreMatchers.is;\r\n    import static org.junit.Assert.assertThat;\r\n    \r\n    public class MyTest {\r\n        @Test\r\n        public void test() {\r\n            final TestAppender appender = new TestAppender();\r\n            final Logger logger = Logger.getRootLogger();\r\n            logger.addAppender(appender);\r\n            try {\r\n                Logger.getLogger(MyTest.class).info(&quot;Test&quot;);\r\n            }\r\n            finally {\r\n                logger.removeAppender(appender);\r\n            }\r\n    \r\n            final List&lt;LoggingEvent&gt; log = appender.getLog();\r\n            final LoggingEvent firstLogEntry = log.get(0);\r\n            assertThat(firstLogEntry.getLevel(), is(Level.INFO));\r\n            assertThat((String) firstLogEntry.getMessage(), is(&quot;Test&quot;));\r\n            assertThat(firstLogEntry.getLoggerName(), is(&quot;MyTest&quot;));\r\n        }\r\n    }\r\n    \r\n    class TestAppender extends AppenderSkeleton {\r\n        private final List&lt;LoggingEvent&gt; log = new ArrayList&lt;LoggingEvent&gt;();\r\n    \r\n        @Override\r\n        public boolean requiresLayout() {\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        protected void append(final LoggingEvent loggingEvent) {\r\n            log.add(loggingEvent);\r\n        }\r\n    \r\n        @Override\r\n        public void close() {\r\n        }\r\n    \r\n        public List&lt;LoggingEvent&gt; getLog() {\r\n            return new ArrayList&lt;LoggingEvent&gt;(log);\r\n        }\r\n    }\r\n","title":"How to do a JUnit assert on a message in a logger","body":"<p>I've needed this several times as well.  I've put together a small sample below, which you'd want to adjust to your needs.  Basically, you create your own <code>Appender</code> and add it to the logger you want.  If you'd want to collect everything, the root logger is a good place to start, but you can use a more specific if you'd like.  Don't forget to remove the Appender when you're done, otherwise you might create a memory leak.  Below I've done it within the test, but <code>setUp</code> or <code>@Before</code> and <code>tearDown</code> or <code>@After</code> might be better places, depending on your needs.</p>\n\n<p>Also, the implementation below collects everything in a <code>List</code> in memory.  If you're logging a lot you might consider adding a filter to drop boring entries, or to write the log to a temporary file on disk (Hint: <code>LoggingEvent</code> is <code>Serializable</code>, so you should be able to just serialize the event objects, if your log message is.)</p>\n\n<pre><code>import org.apache.log4j.AppenderSkeleton;\nimport org.apache.log4j.Level;\nimport org.apache.log4j.Logger;\nimport org.apache.log4j.spi.LoggingEvent;\nimport org.junit.Test;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport static org.hamcrest.CoreMatchers.is;\nimport static org.junit.Assert.assertThat;\n\npublic class MyTest {\n    @Test\n    public void test() {\n        final TestAppender appender = new TestAppender();\n        final Logger logger = Logger.getRootLogger();\n        logger.addAppender(appender);\n        try {\n            Logger.getLogger(MyTest.class).info(\"Test\");\n        }\n        finally {\n            logger.removeAppender(appender);\n        }\n\n        final List&lt;LoggingEvent&gt; log = appender.getLog();\n        final LoggingEvent firstLogEntry = log.get(0);\n        assertThat(firstLogEntry.getLevel(), is(Level.INFO));\n        assertThat((String) firstLogEntry.getMessage(), is(\"Test\"));\n        assertThat(firstLogEntry.getLoggerName(), is(\"MyTest\"));\n    }\n}\n\nclass TestAppender extends AppenderSkeleton {\n    private final List&lt;LoggingEvent&gt; log = new ArrayList&lt;LoggingEvent&gt;();\n\n    @Override\n    public boolean requiresLayout() {\n        return false;\n    }\n\n    @Override\n    protected void append(final LoggingEvent loggingEvent) {\n        log.add(loggingEvent);\n    }\n\n    @Override\n    public void close() {\n    }\n\n    public List&lt;LoggingEvent&gt; getLog() {\n        return new ArrayList&lt;LoggingEvent&gt;(log);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5960505,"reputation":411,"user_id":5930500,"display_name":"nitin angadi"},"score":0,"creation_date":1657201059,"post_id":1834789,"comment_id":128758341,"body_markdown":"Anyone looking for ways in Spring boot please check https://stackoverflow.com/a/60527144/5930500","body":"Anyone looking for ways in Spring boot please check <a href=\"https://stackoverflow.com/a/60527144/5930500\">stackoverflow.com/a/60527144/5930500</a>"},{"owner":{"account_id":8566752,"reputation":53339,"user_id":6419007,"accept_rate":67,"display_name":"Eric Duminil"},"score":0,"creation_date":1665477679,"post_id":1834789,"comment_id":130703643,"body_markdown":"What if `libraryUnderTest.setLogger(logger);` isn&#39;t defined, which often happens with loggers as `private static final field`?","body":"What if <code>libraryUnderTest.setLogger(logger);</code> isn&#39;t defined, which often happens with loggers as <code>private static final field</code>?"}],"tags":[],"owner":{"account_id":77676,"reputation":3587,"user_id":221538,"display_name":"Jon"},"comment_count":2,"down_vote_count":2,"up_vote_count":49,"is_accepted":true,"score":47,"last_activity_date":1259777691,"creation_date":1259777691,"answer_id":1834789,"question_id":1827677,"body_markdown":"Thanks a lot for these (surprisingly) quick and helpful answers; they put me on the right way for my solution.\r\n\r\nThe codebase were I want to use this, uses java.util.logging as its logger mechanism, and I don&#39;t feel at home enough in those codes to completely change that to log4j or to logger interfaces/facades.  But based on these suggestions, I &#39;hacked-up&#39; a j.u.l.handler extension and that works as a treat.\r\n\r\nA short summary follows. Extend &lt;code&gt;java.util.logging.Handler&lt;/code&gt;:\r\n\r\n    class LogHandler extends Handler\r\n    {\r\n        Level lastLevel = Level.FINEST;\r\n\r\n        public Level  checkLevel() {\r\n            return lastLevel;\r\n        }    \r\n\r\n        public void publish(LogRecord record) {\r\n            lastLevel = record.getLevel();\r\n        }\r\n\r\n        public void close(){}\r\n        public void flush(){}\r\n    }\r\n\r\nObviously, you can store as much as you like/want/need from the &lt;code&gt;LogRecord&lt;/code&gt;, or push them all into a stack until you get an overflow.\r\n\r\nIn the preparation for the junit-test, you create a &lt;code&gt;java.util.logging.Logger&lt;/code&gt; and add such a new &lt;code&gt;LogHandler&lt;/code&gt; to it:\r\n\r\n    @Test tester() {\r\n        Logger logger = Logger.getLogger(&quot;my junit-test logger&quot;);\r\n        LogHandler handler = new LogHandler();\r\n        handler.setLevel(Level.ALL);\r\n        logger.setUseParentHandlers(false);\r\n        logger.addHandler(handler);\r\n        logger.setLevel(Level.ALL);\r\n\r\nThe call to &lt;code&gt;setUseParentHandlers()&lt;/code&gt; is to silence the normal handlers, so that (for this junit-test run) no unnecessary logging happens.  Do whatever your code-under-test needs to use this logger, run the test and assertEquality:\r\n\r\n        libraryUnderTest.setLogger(logger);\r\n        methodUnderTest(true);  // see original question.\r\n        assertEquals(&quot;Log level as expected?&quot;, Level.INFO, handler.checkLevel() );\r\n    }\r\n\r\n(Of course, you would move large part of this work into a &lt;code&gt;@Before&lt;/code&gt; method and make assorted other improvements, but that would clutter this presentation.)","title":"How to do a JUnit assert on a message in a logger","body":"<p>Thanks a lot for these (surprisingly) quick and helpful answers; they put me on the right way for my solution.</p>\n\n<p>The codebase were I want to use this, uses java.util.logging as its logger mechanism, and I don't feel at home enough in those codes to completely change that to log4j or to logger interfaces/facades.  But based on these suggestions, I 'hacked-up' a j.u.l.handler extension and that works as a treat.</p>\n\n<p>A short summary follows. Extend <code>java.util.logging.Handler</code>:</p>\n\n<pre><code>class LogHandler extends Handler\n{\n    Level lastLevel = Level.FINEST;\n\n    public Level  checkLevel() {\n        return lastLevel;\n    }    \n\n    public void publish(LogRecord record) {\n        lastLevel = record.getLevel();\n    }\n\n    public void close(){}\n    public void flush(){}\n}\n</code></pre>\n\n<p>Obviously, you can store as much as you like/want/need from the <code>LogRecord</code>, or push them all into a stack until you get an overflow.</p>\n\n<p>In the preparation for the junit-test, you create a <code>java.util.logging.Logger</code> and add such a new <code>LogHandler</code> to it:</p>\n\n<pre><code>@Test tester() {\n    Logger logger = Logger.getLogger(\"my junit-test logger\");\n    LogHandler handler = new LogHandler();\n    handler.setLevel(Level.ALL);\n    logger.setUseParentHandlers(false);\n    logger.addHandler(handler);\n    logger.setLevel(Level.ALL);\n</code></pre>\n\n<p>The call to <code>setUseParentHandlers()</code> is to silence the normal handlers, so that (for this junit-test run) no unnecessary logging happens.  Do whatever your code-under-test needs to use this logger, run the test and assertEquality:</p>\n\n<pre><code>    libraryUnderTest.setLogger(logger);\n    methodUnderTest(true);  // see original question.\n    assertEquals(\"Log level as expected?\", Level.INFO, handler.checkLevel() );\n}\n</code></pre>\n\n<p>(Of course, you would move large part of this work into a <code>@Before</code> method and make assorted other improvements, but that would clutter this presentation.)</p>\n"},{"comments":[{"owner":{"account_id":188893,"reputation":1749,"user_id":427887,"accept_rate":66,"display_name":"bioinfornatics"},"score":0,"creation_date":1422969383,"post_id":15779648,"comment_id":44951262,"body_markdown":"I do not see where getAppender method is defined ?!?","body":"I do not see where getAppender method is defined ?!?"},{"owner":{"account_id":279716,"reputation":1176,"user_id":575027,"accept_rate":71,"display_name":"kfox"},"score":0,"creation_date":1422994913,"post_id":15779648,"comment_id":44966849,"body_markdown":"getAppender is a method on a ch.qos.logback.classic.Logger","body":"getAppender is a method on a ch.qos.logback.classic.Logger"}],"tags":[],"owner":{"account_id":279716,"reputation":1176,"user_id":575027,"accept_rate":71,"display_name":"kfox"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1364967555,"creation_date":1364967555,"answer_id":15779648,"question_id":1827677,"body_markdown":"Here is what i did for logback.\r\n\r\nI created a TestAppender class:\r\n\r\n    public class TestAppender extends AppenderBase&lt;ILoggingEvent&gt; {\r\n\r\n        private Stack&lt;ILoggingEvent&gt; events = new Stack&lt;ILoggingEvent&gt;();\r\n    \r\n        @Override\r\n        protected void append(ILoggingEvent event) {\r\n            events.add(event);\r\n        }\r\n    \r\n        public void clear() {\r\n            events.clear();\r\n        }\r\n    \r\n        public ILoggingEvent getLastEvent() {\r\n            return events.pop();\r\n        }\r\n    }\r\n\r\nThen in the parent of my testng unit test class I created a method:\r\n\r\n    protected TestAppender testAppender;\r\n\r\n    @BeforeClass\r\n    public void setupLogsForTesting() {\r\n        Logger root = (Logger)LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME);\r\n        testAppender = (TestAppender)root.getAppender(&quot;TEST&quot;);\r\n        if (testAppender != null) {\r\n            testAppender.clear();\r\n        }\r\n    }\r\n\r\nI have a logback-test.xml file defined in src/test/resources and I added a test appender:\r\n\r\n    &lt;appender name=&quot;TEST&quot; class=&quot;com.intuit.icn.TestAppender&quot;&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%m%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\nand added this appender to the root appender:\r\n\r\n    &lt;root&gt;\r\n        &lt;level value=&quot;error&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;TEST&quot; /&gt;\r\n    &lt;/root&gt;\r\n\r\nNow in my test classes that extend from my parent test class I can get the appender and get the last message logged and verify the message, the level, the throwable.\r\n\r\n    ILoggingEvent lastEvent = testAppender.getLastEvent();\r\n    assertEquals(lastEvent.getMessage(), &quot;...&quot;);\r\n    assertEquals(lastEvent.getLevel(), Level.WARN);\r\n    assertEquals(lastEvent.getThrowableProxy().getMessage(), &quot;...&quot;);\r\n\r\n","title":"How to do a JUnit assert on a message in a logger","body":"<p>Here is what i did for logback.</p>\n\n<p>I created a TestAppender class:</p>\n\n<pre><code>public class TestAppender extends AppenderBase&lt;ILoggingEvent&gt; {\n\n    private Stack&lt;ILoggingEvent&gt; events = new Stack&lt;ILoggingEvent&gt;();\n\n    @Override\n    protected void append(ILoggingEvent event) {\n        events.add(event);\n    }\n\n    public void clear() {\n        events.clear();\n    }\n\n    public ILoggingEvent getLastEvent() {\n        return events.pop();\n    }\n}\n</code></pre>\n\n<p>Then in the parent of my testng unit test class I created a method:</p>\n\n<pre><code>protected TestAppender testAppender;\n\n@BeforeClass\npublic void setupLogsForTesting() {\n    Logger root = (Logger)LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME);\n    testAppender = (TestAppender)root.getAppender(\"TEST\");\n    if (testAppender != null) {\n        testAppender.clear();\n    }\n}\n</code></pre>\n\n<p>I have a logback-test.xml file defined in src/test/resources and I added a test appender:</p>\n\n<pre><code>&lt;appender name=\"TEST\" class=\"com.intuit.icn.TestAppender\"&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;%m%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n</code></pre>\n\n<p>and added this appender to the root appender:</p>\n\n<pre><code>&lt;root&gt;\n    &lt;level value=\"error\" /&gt;\n    &lt;appender-ref ref=\"STDOUT\" /&gt;\n    &lt;appender-ref ref=\"TEST\" /&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>Now in my test classes that extend from my parent test class I can get the appender and get the last message logged and verify the message, the level, the throwable.</p>\n\n<pre><code>ILoggingEvent lastEvent = testAppender.getLastEvent();\nassertEquals(lastEvent.getMessage(), \"...\");\nassertEquals(lastEvent.getLevel(), Level.WARN);\nassertEquals(lastEvent.getThrowableProxy().getMessage(), \"...\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":0,"creation_date":1654770120,"post_id":28682591,"comment_id":128173376,"body_markdown":"How can we do the same in log4j2.x?","body":"How can we do the same in log4j2.x?"}],"tags":[],"owner":{"account_id":314537,"reputation":1467,"user_id":629762,"accept_rate":80,"display_name":"Marcin"},"comment_count":1,"down_vote_count":2,"up_vote_count":20,"is_accepted":false,"score":18,"last_activity_date":1424722489,"creation_date":1424722489,"answer_id":28682591,"question_id":1827677,"body_markdown":"Another option is to mock Appender and verify if message was logged to this appender. Example for Log4j 1.2.x and mockito:\r\n\r\n    import static org.junit.Assert.assertEquals;\r\n    import static org.mockito.Mockito.mock;\r\n    import static org.mockito.Mockito.verify;\r\n    \r\n    import org.apache.log4j.Appender;\r\n    import org.apache.log4j.Level;\r\n    import org.apache.log4j.Logger;\r\n    import org.apache.log4j.spi.LoggingEvent;\r\n    import org.junit.After;\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.mockito.ArgumentCaptor;\r\n    \r\n    public class MyTest {\r\n    \r\n        private final Appender appender = mock(Appender.class);\r\n        private final Logger logger = Logger.getRootLogger();\r\n    \r\n        @Before\r\n        public void setup() {\r\n            logger.addAppender(appender);\r\n        }\r\n    \r\n        @Test\r\n        public void test() {\r\n            // when\r\n            Logger.getLogger(MyTest.class).info(&quot;Test&quot;);\r\n    \r\n            // then\r\n            ArgumentCaptor&lt;LoggingEvent&gt; argument = ArgumentCaptor.forClass(LoggingEvent.class);\r\n            verify(appender).doAppend(argument.capture());\r\n            assertEquals(Level.INFO, argument.getValue().getLevel());\r\n            assertEquals(&quot;Test&quot;, argument.getValue().getMessage());\r\n            assertEquals(&quot;MyTest&quot;, argument.getValue().getLoggerName());\r\n        }\r\n    \r\n        @After\r\n        public void cleanup() {\r\n            logger.removeAppender(appender);\r\n        }\r\n    }","title":"How to do a JUnit assert on a message in a logger","body":"<p>Another option is to mock Appender and verify if message was logged to this appender. Example for Log4j 1.2.x and mockito:</p>\n\n<pre><code>import static org.junit.Assert.assertEquals;\nimport static org.mockito.Mockito.mock;\nimport static org.mockito.Mockito.verify;\n\nimport org.apache.log4j.Appender;\nimport org.apache.log4j.Level;\nimport org.apache.log4j.Logger;\nimport org.apache.log4j.spi.LoggingEvent;\nimport org.junit.After;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.mockito.ArgumentCaptor;\n\npublic class MyTest {\n\n    private final Appender appender = mock(Appender.class);\n    private final Logger logger = Logger.getRootLogger();\n\n    @Before\n    public void setup() {\n        logger.addAppender(appender);\n    }\n\n    @Test\n    public void test() {\n        // when\n        Logger.getLogger(MyTest.class).info(\"Test\");\n\n        // then\n        ArgumentCaptor&lt;LoggingEvent&gt; argument = ArgumentCaptor.forClass(LoggingEvent.class);\n        verify(appender).doAppend(argument.capture());\n        assertEquals(Level.INFO, argument.getValue().getLevel());\n        assertEquals(\"Test\", argument.getValue().getMessage());\n        assertEquals(\"MyTest\", argument.getValue().getLoggerName());\n    }\n\n    @After\n    public void cleanup() {\n        logger.removeAppender(appender);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1748498,"reputation":1914,"user_id":1598149,"accept_rate":50,"display_name":"GregD"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438851909,"creation_date":1438850757,"answer_id":31850949,"question_id":1827677,"body_markdown":"Another idea worth mentioning, although it&#39;s an older topic, is creating a CDI producer to inject your logger so the mocking becomes easy. (And it also gives the advantage of not having to declare the &quot;whole logger statement&quot; anymore, but that&#39;s off-topic)\r\n\r\nExample:\r\n\r\nCreating the logger to inject: \r\n\r\n    public class CdiResources {\r\n\t  @Produces @LoggerType\r\n\t  public Logger createLogger(final InjectionPoint ip) {\r\n\t\t  return Logger.getLogger(ip.getMember().getDeclaringClass());\r\n\t  }\r\n    }\r\n\r\nThe qualifier:\r\n\r\n    @Qualifier\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target({TYPE, METHOD, FIELD, PARAMETER})\r\n    public @interface LoggerType {\r\n    }\r\n\r\nUsing the logger in your production code:\r\n\r\n    public class ProductionCode {\r\n        @Inject\r\n        @LoggerType\r\n        private Logger logger;\r\n\r\n        public void logSomething() {\r\n            logger.info(&quot;something&quot;);\r\n        }\r\n    }\r\n\r\nTesting the logger in your test code (giving an easyMock example):\r\n\r\n\r\n    @TestSubject\r\n    private ProductionCode productionCode = new ProductionCode();\r\n\r\n    @Mock\r\n    private Logger logger;\r\n\r\n    @Test\r\n    public void testTheLogger() {\r\n       logger.info(&quot;something&quot;);\r\n       replayAll();\r\n       productionCode.logSomething();\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to do a JUnit assert on a message in a logger","body":"<p>Another idea worth mentioning, although it's an older topic, is creating a CDI producer to inject your logger so the mocking becomes easy. (And it also gives the advantage of not having to declare the \"whole logger statement\" anymore, but that's off-topic)</p>\n\n<p>Example:</p>\n\n<p>Creating the logger to inject: </p>\n\n<pre><code>public class CdiResources {\n  @Produces @LoggerType\n  public Logger createLogger(final InjectionPoint ip) {\n      return Logger.getLogger(ip.getMember().getDeclaringClass());\n  }\n}\n</code></pre>\n\n<p>The qualifier:</p>\n\n<pre><code>@Qualifier\n@Retention(RetentionPolicy.RUNTIME)\n@Target({TYPE, METHOD, FIELD, PARAMETER})\npublic @interface LoggerType {\n}\n</code></pre>\n\n<p>Using the logger in your production code:</p>\n\n<pre><code>public class ProductionCode {\n    @Inject\n    @LoggerType\n    private Logger logger;\n\n    public void logSomething() {\n        logger.info(\"something\");\n    }\n}\n</code></pre>\n\n<p>Testing the logger in your test code (giving an easyMock example):</p>\n\n<pre><code>@TestSubject\nprivate ProductionCode productionCode = new ProductionCode();\n\n@Mock\nprivate Logger logger;\n\n@Test\npublic void testTheLogger() {\n   logger.info(\"something\");\n   replayAll();\n   productionCode.logSomething();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4859,"reputation":40443,"user_id":7512,"accept_rate":75,"display_name":"slim"},"comment_count":0,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1448639236,"creation_date":1448639236,"answer_id":33960837,"question_id":1827677,"body_markdown":"Inspired by @RonaldBlaschke&#39;s solution, I came up with this:\r\n\r\n    public class Log4JTester extends ExternalResource {\r\n        TestAppender appender;\r\n        \r\n        @Override\r\n        protected void before() {\r\n            appender = new TestAppender();\r\n            final Logger rootLogger = Logger.getRootLogger();\r\n            rootLogger.addAppender(appender);\r\n        }\r\n\r\n        @Override\r\n        protected void after() {\r\n            final Logger rootLogger = Logger.getRootLogger();\r\n            rootLogger.removeAppender(appender);\r\n        }\r\n        \r\n        public void assertLogged(Matcher&lt;String&gt; matcher) {\r\n            for(LoggingEvent event : appender.events) {\r\n                if(matcher.matches(event.getMessage())) {\r\n                    return;\r\n                }\r\n            }\r\n            fail(&quot;No event matches &quot; + matcher);\r\n        }\r\n\r\n        private static class TestAppender extends AppenderSkeleton {\r\n\r\n            List&lt;LoggingEvent&gt; events = new ArrayList&lt;LoggingEvent&gt;();\r\n            \r\n            @Override\r\n            protected void append(LoggingEvent event) {\r\n                events.add(event);\r\n            }\r\n\r\n            @Override\r\n            public void close() {\r\n                \r\n            }\r\n\r\n            @Override\r\n            public boolean requiresLayout() {\r\n                return false;\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n\r\n... which allows you to do:\r\n\r\n    @Rule public Log4JTester logTest = new Log4JTester();\r\n    \r\n    @Test\r\n    public void testFoo() {\r\n         user.setStatus(Status.PREMIUM);\r\n         logTest.assertLogged(\r\n            stringContains(&quot;Note added to account: premium customer&quot;));\r\n    }\r\n\r\nYou could probably make it use hamcrest in a smarter way, but I&#39;ve left it at this.","title":"How to do a JUnit assert on a message in a logger","body":"<p>Inspired by @RonaldBlaschke's solution, I came up with this:</p>\n\n<pre><code>public class Log4JTester extends ExternalResource {\n    TestAppender appender;\n\n    @Override\n    protected void before() {\n        appender = new TestAppender();\n        final Logger rootLogger = Logger.getRootLogger();\n        rootLogger.addAppender(appender);\n    }\n\n    @Override\n    protected void after() {\n        final Logger rootLogger = Logger.getRootLogger();\n        rootLogger.removeAppender(appender);\n    }\n\n    public void assertLogged(Matcher&lt;String&gt; matcher) {\n        for(LoggingEvent event : appender.events) {\n            if(matcher.matches(event.getMessage())) {\n                return;\n            }\n        }\n        fail(\"No event matches \" + matcher);\n    }\n\n    private static class TestAppender extends AppenderSkeleton {\n\n        List&lt;LoggingEvent&gt; events = new ArrayList&lt;LoggingEvent&gt;();\n\n        @Override\n        protected void append(LoggingEvent event) {\n            events.add(event);\n        }\n\n        @Override\n        public void close() {\n\n        }\n\n        @Override\n        public boolean requiresLayout() {\n            return false;\n        }\n    }\n\n}\n</code></pre>\n\n<p>... which allows you to do:</p>\n\n<pre><code>@Rule public Log4JTester logTest = new Log4JTester();\n\n@Test\npublic void testFoo() {\n     user.setStatus(Status.PREMIUM);\n     logTest.assertLogged(\n        stringContains(\"Note added to account: premium customer\"));\n}\n</code></pre>\n\n<p>You could probably make it use hamcrest in a smarter way, but I've left it at this.</p>\n"},{"tags":[],"owner":{"account_id":1962267,"reputation":1261,"user_id":1763458,"display_name":"Yarix"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455099620,"creation_date":1455099620,"answer_id":35312437,"question_id":1827677,"body_markdown":"Using Jmockit (1.21) I was able to write this simple test. \r\nThe test makes sure a specific ERROR message is called just once.\r\n\r\n    @Test\r\n\tpublic void testErrorMessage() {\r\n\t\tfinal org.slf4j.Logger logger = org.slf4j.LoggerFactory.getLogger( MyConfig.class );\r\n\t\t\r\n\t\tnew Expectations(logger) {{\r\n\t\t\t//make sure this error is happens just once.\r\n\t\t\tlogger.error( &quot;Something went wrong...&quot; );\r\n\t\t\ttimes = 1;\r\n\t\t}};\r\n\r\n\t\tnew MyTestObject().runSomethingWrong( &quot;aaa&quot; ); //SUT that eventually cause the error in the log.\t\r\n\t}","title":"How to do a JUnit assert on a message in a logger","body":"<p>Using Jmockit (1.21) I was able to write this simple test. \nThe test makes sure a specific ERROR message is called just once.</p>\n\n<pre><code>@Test\npublic void testErrorMessage() {\n    final org.slf4j.Logger logger = org.slf4j.LoggerFactory.getLogger( MyConfig.class );\n\n    new Expectations(logger) {{\n        //make sure this error is happens just once.\n        logger.error( \"Something went wrong...\" );\n        times = 1;\n    }};\n\n    new MyTestObject().runSomethingWrong( \"aaa\" ); //SUT that eventually cause the error in the log.    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2633985,"reputation":965,"user_id":2279187,"accept_rate":38,"display_name":"nishant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481536879,"creation_date":1481536879,"answer_id":41098250,"question_id":1827677,"body_markdown":"Mocking the Appender can help capture the log lines.\r\nFind sample on: http://clearqa.blogspot.co.uk/2016/12/test-log-lines.html\r\n\r\n    // Fully working test at: https://github.com/njaiswal/logLineTester/blob/master/src/test/java/com/nj/Utils/UtilsTest.java\r\n\r\n    @Test\r\n    public void testUtilsLog() throws InterruptedException {\r\n\r\n        Logger utilsLogger = (Logger) LoggerFactory.getLogger(&quot;com.nj.utils&quot;);\r\n\r\n        final Appender mockAppender = mock(Appender.class);\r\n        when(mockAppender.getName()).thenReturn(&quot;MOCK&quot;);\r\n        utilsLogger.addAppender(mockAppender);\r\n\r\n        final List&lt;String&gt; capturedLogs = Collections.synchronizedList(new ArrayList&lt;&gt;());\r\n        final CountDownLatch latch = new CountDownLatch(3);\r\n\r\n        //Capture logs\r\n        doAnswer((invocation) -&gt; {\r\n            LoggingEvent loggingEvent = invocation.getArgumentAt(0, LoggingEvent.class);\r\n            capturedLogs.add(loggingEvent.getFormattedMessage());\r\n            latch.countDown();\r\n            return null;\r\n        }).when(mockAppender).doAppend(any());\r\n\r\n        //Call method which will do logging to be tested\r\n        Application.main(null);\r\n\r\n        //Wait 5 seconds for latch to be true. That means 3 log lines were logged\r\n        assertThat(latch.await(5L, TimeUnit.SECONDS), is(true));\r\n\r\n        //Now assert the captured logs\r\n        assertThat(capturedLogs, hasItem(containsString(&quot;One&quot;)));\r\n        assertThat(capturedLogs, hasItem(containsString(&quot;Two&quot;)));\r\n        assertThat(capturedLogs, hasItem(containsString(&quot;Three&quot;)));\r\n    }","title":"How to do a JUnit assert on a message in a logger","body":"<p>Mocking the Appender can help capture the log lines.\nFind sample on: <a href=\"http://clearqa.blogspot.co.uk/2016/12/test-log-lines.html\" rel=\"nofollow noreferrer\">http://clearqa.blogspot.co.uk/2016/12/test-log-lines.html</a></p>\n\n<pre><code>// Fully working test at: https://github.com/njaiswal/logLineTester/blob/master/src/test/java/com/nj/Utils/UtilsTest.java\n\n@Test\npublic void testUtilsLog() throws InterruptedException {\n\n    Logger utilsLogger = (Logger) LoggerFactory.getLogger(\"com.nj.utils\");\n\n    final Appender mockAppender = mock(Appender.class);\n    when(mockAppender.getName()).thenReturn(\"MOCK\");\n    utilsLogger.addAppender(mockAppender);\n\n    final List&lt;String&gt; capturedLogs = Collections.synchronizedList(new ArrayList&lt;&gt;());\n    final CountDownLatch latch = new CountDownLatch(3);\n\n    //Capture logs\n    doAnswer((invocation) -&gt; {\n        LoggingEvent loggingEvent = invocation.getArgumentAt(0, LoggingEvent.class);\n        capturedLogs.add(loggingEvent.getFormattedMessage());\n        latch.countDown();\n        return null;\n    }).when(mockAppender).doAppend(any());\n\n    //Call method which will do logging to be tested\n    Application.main(null);\n\n    //Wait 5 seconds for latch to be true. That means 3 log lines were logged\n    assertThat(latch.await(5L, TimeUnit.SECONDS), is(true));\n\n    //Now assert the captured logs\n    assertThat(capturedLogs, hasItem(containsString(\"One\")));\n    assertThat(capturedLogs, hasItem(containsString(\"Two\")));\n    assertThat(capturedLogs, hasItem(containsString(\"Three\")));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6306732,"reputation":749,"user_id":4899609,"display_name":"Aliaksei Yatsau"},"score":1,"creation_date":1521024429,"post_id":43502981,"comment_id":85553710,"body_markdown":"To do not repeat almost same code blocks want to add that almost 1to1 works for me for Log4j2. Just changing imports to &quot;org.apache.logging.log4j.core&quot;, cast logger to &quot;org.apache.logging.log4j.core.Logger&quot;, add\n `when(appender.isStarted()).thenReturn(true);\n  when(appender.getName()).thenReturn(&quot;Test Appender&quot;);\n`\nand change LoggingEvent -&gt; LogEvent","body":"To do not repeat almost same code blocks want to add that almost 1to1 works for me for Log4j2. Just changing imports to &quot;org.apache.logging.log4j.core&quot;, cast logger to &quot;org.apache.logging.log4j.core.Logger&quot;, add  <code>when(appender.isStarted()).thenReturn(true);   when(appender.getName()).thenReturn(&quot;Test Appender&quot;); </code> and change LoggingEvent -&gt; LogEvent"}],"tags":[],"owner":{"account_id":6537188,"reputation":2325,"user_id":5303558,"display_name":"Dmytro Melnychuk"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1492625117,"creation_date":1492624811,"answer_id":43502981,"question_id":1827677,"body_markdown":"As for me you can simplify your test by using `JUnit` with `Mockito`.\r\nI propose following solution for it:\r\n\r\n    import org.apache.log4j.Appender;\r\n    import org.apache.log4j.Level;\r\n    import org.apache.log4j.LogManager;\r\n    import org.apache.log4j.spi.LoggingEvent;\r\n    import org.junit.After;\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.mockito.ArgumentCaptor;\r\n    import org.mockito.Captor;\r\n    import org.mockito.InjectMocks;\r\n    import org.mockito.Mock;\r\n    import org.mockito.runners.MockitoJUnitRunner;\r\n    \r\n    import java.util.List;\r\n    \r\n    import static org.assertj.core.api.Assertions.assertThat;\r\n    import static org.assertj.core.api.Assertions.tuple;\r\n    import static org.mockito.Mockito.times;\r\n    \r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class MyLogTest {\r\n    \tprivate static final String FIRST_MESSAGE = &quot;First message&quot;;\r\n    \tprivate static final String SECOND_MESSAGE = &quot;Second message&quot;;\r\n    \t@Mock private Appender appender;\r\n    \t@Captor private ArgumentCaptor&lt;LoggingEvent&gt; captor;\r\n    \t@InjectMocks private MyLog;\r\n    \r\n    \t@Before\r\n    \tpublic void setUp() {\r\n    \t\tLogManager.getRootLogger().addAppender(appender);\r\n    \t}\r\n    \r\n    \t@After\r\n    \tpublic void tearDown() {\r\n    \t\tLogManager.getRootLogger().removeAppender(appender);\r\n    \t}\r\n\r\n    \t@Test\r\n    \tpublic void shouldLogExactlyTwoMessages() {\r\n\t\t    testedClass.foo();\r\n\r\n\t\t    then(appender).should(times(2)).doAppend(captor.capture());\r\n\t\t    List&lt;LoggingEvent&gt; loggingEvents = captor.getAllValues();\r\n\t\t    assertThat(loggingEvents).extracting(&quot;level&quot;, &quot;renderedMessage&quot;).containsExactly(\r\n\t\t\t\t    tuple(Level.INFO, FIRST_MESSAGE)\r\n\t\t\t\t    tuple(Level.INFO, SECOND_MESSAGE)\r\n    \t\t);\r\n    \t}\r\n    }\r\n\r\nThat&#39;s why we have nice **flexibility** for tests with **different message quantity**","title":"How to do a JUnit assert on a message in a logger","body":"<p>As for me you can simplify your test by using <code>JUnit</code> with <code>Mockito</code>.\nI propose following solution for it:</p>\n\n<pre><code>import org.apache.log4j.Appender;\nimport org.apache.log4j.Level;\nimport org.apache.log4j.LogManager;\nimport org.apache.log4j.spi.LoggingEvent;\nimport org.junit.After;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.ArgumentCaptor;\nimport org.mockito.Captor;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.runners.MockitoJUnitRunner;\n\nimport java.util.List;\n\nimport static org.assertj.core.api.Assertions.assertThat;\nimport static org.assertj.core.api.Assertions.tuple;\nimport static org.mockito.Mockito.times;\n\n@RunWith(MockitoJUnitRunner.class)\npublic class MyLogTest {\n    private static final String FIRST_MESSAGE = \"First message\";\n    private static final String SECOND_MESSAGE = \"Second message\";\n    @Mock private Appender appender;\n    @Captor private ArgumentCaptor&lt;LoggingEvent&gt; captor;\n    @InjectMocks private MyLog;\n\n    @Before\n    public void setUp() {\n        LogManager.getRootLogger().addAppender(appender);\n    }\n\n    @After\n    public void tearDown() {\n        LogManager.getRootLogger().removeAppender(appender);\n    }\n\n    @Test\n    public void shouldLogExactlyTwoMessages() {\n        testedClass.foo();\n\n        then(appender).should(times(2)).doAppend(captor.capture());\n        List&lt;LoggingEvent&gt; loggingEvents = captor.getAllValues();\n        assertThat(loggingEvents).extracting(\"level\", \"renderedMessage\").containsExactly(\n                tuple(Level.INFO, FIRST_MESSAGE)\n                tuple(Level.INFO, SECOND_MESSAGE)\n        );\n    }\n}\n</code></pre>\n\n<p>That's why we have nice <strong>flexibility</strong> for tests with <strong>different message quantity</strong></p>\n"},{"tags":[],"owner":{"account_id":2141360,"reputation":539,"user_id":1899903,"display_name":"SUMIT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494510837,"creation_date":1494510837,"answer_id":43917469,"question_id":1827677,"body_markdown":"Use the below code. I am using same code for my spring integration test where I am using log back for logging. Use method assertJobIsScheduled to assert the text printed in the log.\r\n\r\n    import ch.qos.logback.classic.Logger;\r\n\timport ch.qos.logback.classic.spi.LoggingEvent;\r\n\timport ch.qos.logback.core.Appender;\r\n\t\r\n\tprivate Logger rootLogger;\r\n    final Appender mockAppender = mock(Appender.class);\r\n\r\n    @Before\r\n    public void setUp() throws Exception {\r\n        initMocks(this);\r\n        when(mockAppender.getName()).thenReturn(&quot;MOCK&quot;);\r\n        rootLogger = (Logger) LoggerFactory.getLogger(ch.qos.logback.classic.Logger.ROOT_LOGGER_NAME);\r\n        rootLogger.addAppender(mockAppender);\r\n    }\r\n\r\n    private void assertJobIsScheduled(final String matcherText) {\r\n        verify(mockAppender).doAppend(argThat(new ArgumentMatcher() {\r\n            @Override\r\n            public boolean matches(final Object argument) {\r\n                return ((LoggingEvent)argument).getFormattedMessage().contains(matcherText);\r\n            }\r\n        }));\r\n    }","title":"How to do a JUnit assert on a message in a logger","body":"<p>Use the below code. I am using same code for my spring integration test where I am using log back for logging. Use method assertJobIsScheduled to assert the text printed in the log.</p>\n\n<pre><code>import ch.qos.logback.classic.Logger;\nimport ch.qos.logback.classic.spi.LoggingEvent;\nimport ch.qos.logback.core.Appender;\n\nprivate Logger rootLogger;\nfinal Appender mockAppender = mock(Appender.class);\n\n@Before\npublic void setUp() throws Exception {\n    initMocks(this);\n    when(mockAppender.getName()).thenReturn(\"MOCK\");\n    rootLogger = (Logger) LoggerFactory.getLogger(ch.qos.logback.classic.Logger.ROOT_LOGGER_NAME);\n    rootLogger.addAppender(mockAppender);\n}\n\nprivate void assertJobIsScheduled(final String matcherText) {\n    verify(mockAppender).doAppend(argThat(new ArgumentMatcher() {\n        @Override\n        public boolean matches(final Object argument) {\n            return ((LoggingEvent)argument).getFormattedMessage().contains(matcherText);\n        }\n    }));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2025979,"reputation":2522,"user_id":1810962,"accept_rate":80,"display_name":"joseph"},"comment_count":0,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1632935375,"creation_date":1501179671,"answer_id":45358338,"question_id":1827677,"body_markdown":"For log4j2 the solution is slightly different because AppenderSkeleton is not available anymore. Additionally, using Mockito, or similar library to create an Appender with an ArgumentCaptor will not work if you&#39;re expecting multiple logging messages because the MutableLogEvent is reused over multiple log messages. The best solution I found for log4j2 is:\r\n\r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.core.LogEvent;\r\n    import org.apache.logging.log4j.core.Logger;\r\n    import org.apache.logging.log4j.core.appender.AbstractAppender;\r\n\r\n    private static MockedAppender mockedAppender;\r\n    private static Logger logger;\r\n\r\n    @Before\r\n    public void setup() {\r\n        mockedAppender.message.clear();\r\n    }\r\n\r\n    /**\r\n     * For some reason mvn test will not work if this is @Before, but in eclipse it works! As a\r\n     * result, we use @BeforeClass.\r\n     */\r\n    @BeforeClass\r\n    public static void setupClass() {\r\n        mockedAppender = new MockedAppender();\r\n        logger = (Logger)LogManager.getLogger(MatchingMetricsLogger.class);\r\n        logger.addAppender(mockedAppender);\r\n        logger.setLevel(Level.INFO);\r\n    }\r\n\r\n    @AfterClass\r\n    public static void teardown() {\r\n        logger.removeAppender(mockedAppender);\r\n    }\r\n\r\n    @Test\r\n    public void test() {\r\n        // do something that causes logs\r\n        for (String e : mockedAppender.message) {\r\n            // add asserts for the log messages\r\n        }\r\n    }\r\n\r\n    private static class MockedAppender extends AbstractAppender {\r\n\r\n        List&lt;String&gt; message = new ArrayList&lt;&gt;();\r\n\r\n        protected MockedAppender() {\r\n            super(&quot;MockedAppender&quot;, null, null);\r\n        }\r\n\r\n        @Override\r\n        public void append(LogEvent event) {\r\n            message.add(event.getMessage().getFormattedMessage());\r\n        }\r\n    }","title":"How to do a JUnit assert on a message in a logger","body":"<p>For log4j2 the solution is slightly different because AppenderSkeleton is not available anymore. Additionally, using Mockito, or similar library to create an Appender with an ArgumentCaptor will not work if you're expecting multiple logging messages because the MutableLogEvent is reused over multiple log messages. The best solution I found for log4j2 is:</p>\n<pre><code>import org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.core.LogEvent;\nimport org.apache.logging.log4j.core.Logger;\nimport org.apache.logging.log4j.core.appender.AbstractAppender;\n\nprivate static MockedAppender mockedAppender;\nprivate static Logger logger;\n\n@Before\npublic void setup() {\n    mockedAppender.message.clear();\n}\n\n/**\n * For some reason mvn test will not work if this is @Before, but in eclipse it works! As a\n * result, we use @BeforeClass.\n */\n@BeforeClass\npublic static void setupClass() {\n    mockedAppender = new MockedAppender();\n    logger = (Logger)LogManager.getLogger(MatchingMetricsLogger.class);\n    logger.addAppender(mockedAppender);\n    logger.setLevel(Level.INFO);\n}\n\n@AfterClass\npublic static void teardown() {\n    logger.removeAppender(mockedAppender);\n}\n\n@Test\npublic void test() {\n    // do something that causes logs\n    for (String e : mockedAppender.message) {\n        // add asserts for the log messages\n    }\n}\n\nprivate static class MockedAppender extends AbstractAppender {\n\n    List&lt;String&gt; message = new ArrayList&lt;&gt;();\n\n    protected MockedAppender() {\n        super(&quot;MockedAppender&quot;, null, null);\n    }\n\n    @Override\n    public void append(LogEvent event) {\n        message.add(event.getMessage().getFormattedMessage());\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1476930,"reputation":9005,"user_id":1387113,"accept_rate":100,"display_name":"hd84335"},"score":1,"creation_date":1669729640,"post_id":45944720,"comment_id":131705136,"body_markdown":"The link to this site is not reachable anymore, if you still have info how it&#39;s done there, please edit your post so that others can benefit from it.","body":"The link to this site is not reachable anymore, if you still have info how it&#39;s done there, please edit your post so that others can benefit from it."},{"owner":{"account_id":2823562,"reputation":3234,"user_id":2426679,"accept_rate":77,"display_name":"sam-6174"},"score":0,"creation_date":1674694231,"post_id":45944720,"comment_id":132771718,"body_markdown":"archived @ https://web.archive.org/web/20200927012213/https://www.baeldung.com/junit-asserting-logs","body":"archived @ <a href=\"https://web.archive.org/web/20200927012213/https://www.baeldung.com/junit-asserting-logs\" rel=\"nofollow noreferrer\">web.archive.org/web/20200927012213/https://www.baeldung.com/&zwnj;&#8203;&hellip;</a>"}],"tags":[],"owner":{"account_id":1795126,"reputation":5398,"user_id":1634695,"display_name":"Mehdi Karamosly"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669741535,"creation_date":1504026565,"answer_id":45944720,"question_id":1827677,"body_markdown":"Here is a nice and elegant way to approach this problem:\r\nhttps://www.baeldung.com/junit-asserting-logs","title":"How to do a JUnit assert on a message in a logger","body":"<p>Here is a nice and elegant way to approach this problem:\n<a href=\"https://www.baeldung.com/junit-asserting-logs\" rel=\"nofollow noreferrer\">https://www.baeldung.com/junit-asserting-logs</a></p>\n"},{"tags":[],"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513089725,"creation_date":1513086141,"answer_id":47774126,"question_id":1827677,"body_markdown":"There are two things that you might be trying to test.\r\n\r\n* When there is an event of interest to the operator of my program, does my program perform an appropriate logging operation, which can inform the operator of that event.\r\n* When my program performs a logging operation, does the log message it produces have the correct text.\r\n\r\nThose two things are actually different things, and so could be tested separately. However, testing the second (the text of messages) is so problematic, I recommend against doing it at all. A test of a message text will ultimately consist of checking that one text string (the expected message text) is the same as, or can be trivially derived from, the text string used in your logging code.\r\n\r\n* Those tests do not test program logic at all, they only test that one resource (a string) is equivalent to another resource.\r\n* The tests are fragile; even a minor tweak to the formatting of a log message breaks your tests.\r\n* The tests are incompatible with internationalisation (translation) of your logging interface.The tests assume there is only one possible message text, and thus only one possible human language.\r\n\r\nNote that having your program code (implementing some business logic, perhaps) directly calling the text logging interface is poor design (but unfortunately very commom). Code that is responsible for business logic is also deciding some logging policy and the text of log messages. It mixes business logic with user interface code (yes, log messages are part of your program&#39;s user interface). Those things should be separate.\r\n\r\nI therefore recommend that business logic does not directly generate the text of log messages. Instead have it delegate to a logging object.\r\n\r\n* The class of the logging object should provide a suitable internal API, which your business object can use to express the event that has occurred using objects of your domain model, not text strings.\r\n* The implementation of your logging class is responsible for producing text representations of those domain objects, and rendering a suitable text description of the event, then forwarding that text message to the low level logging framework (such as JUL, log4j or slf4j).\r\n* Your business logic is responsible only for calling the correct methods of the internal API of your logger class, passing the correct domain objects, to describe the actual events that occurred.\r\n* Your concrete logging class `implements` an `interface`, which describes the internal API your business logic may use.\r\n* Your class(es) that implements business logic and must perform logging has a reference to the logging object to delegate to. The class of the reference is the abstract `interface`.\r\n* Use dependency injection to set up the reference to the logger.\r\n\r\nYou can then test that your business logic classes correctly tell the logging interface about events, by creating a mock logger, which implements the internal logging API, and using dependency injection in the set up phase of your test.\r\n\r\nLike this:\r\n\r\n     public class MyService {// The class we want to test\r\n        private final MyLogger logger;\r\n\r\n        public MyService(MyLogger logger) {\r\n           this.logger = Objects.requireNonNull(logger);\r\n        }\r\n\r\n        public void performTwiddleOperation(Foo foo) {// The method we want to test\r\n           ...// The business logic\r\n           logger.performedTwiddleOperation(foo);\r\n        }\r\n     };\r\n\r\n     public interface MyLogger {\r\n        public void performedTwiddleOperation(Foo foo);\r\n        ...\r\n     };\r\n\r\n     public final class MySl4jLogger: implements MyLogger {\r\n        ...\r\n\r\n        @Override\r\n        public void performedTwiddleOperation(Foo foo) {\r\n           logger.info(&quot;twiddled foo &quot; + foo.getId());\r\n        }\r\n     }\r\n\r\n     public final void MyProgram {\r\n        public static void main(String[] argv) {\r\n           ...\r\n           MyLogger logger = new MySl4jLogger(...);\r\n           MyService service = new MyService(logger);\r\n           startService(service);// or whatever you must do\r\n           ...\r\n        }\r\n     }\r\n\r\n     public class MyServiceTest {\r\n        ...\r\n\r\n        static final class MyMockLogger: implements MyLogger {\r\n           private Food.id id;\r\n           private int nCallsPerformedTwiddleOperation;\r\n           ...\r\n\r\n           @Override\r\n           public void performedTwiddleOperation(Foo foo) {\r\n              id = foo.id;\r\n              ++nCallsPerformedTwiddleOperation;\r\n           }\r\n\r\n           void assertCalledPerformedTwiddleOperation(Foo.id id) {\r\n              assertEquals(&quot;Called performedTwiddleOperation&quot;, 1, nCallsPerformedTwiddleOperation);\r\n              assertEquals(&quot;Called performedTwiddleOperation with correct ID&quot;, id, this.id);\r\n           }\r\n        };\r\n\r\n        @Test\r\n        public void testPerformTwiddleOperation_1() {\r\n           // Setup\r\n           MyMockLogger logger = new MyMockLogger();\r\n           MyService service = new MyService(logger);\r\n           Foo.Id id = new Foo.Id(...);\r\n           Foo foo = new Foo(id, 1);\r\n\r\n           // Execute\r\n           service.performedTwiddleOperation(foo);\r\n\r\n           // Verify\r\n           ...\r\n           logger.assertCalledPerformedTwiddleOperation(id);\r\n        }\r\n     }","title":"How to do a JUnit assert on a message in a logger","body":"<p>There are two things that you might be trying to test.</p>\n\n<ul>\n<li>When there is an event of interest to the operator of my program, does my program perform an appropriate logging operation, which can inform the operator of that event.</li>\n<li>When my program performs a logging operation, does the log message it produces have the correct text.</li>\n</ul>\n\n<p>Those two things are actually different things, and so could be tested separately. However, testing the second (the text of messages) is so problematic, I recommend against doing it at all. A test of a message text will ultimately consist of checking that one text string (the expected message text) is the same as, or can be trivially derived from, the text string used in your logging code.</p>\n\n<ul>\n<li>Those tests do not test program logic at all, they only test that one resource (a string) is equivalent to another resource.</li>\n<li>The tests are fragile; even a minor tweak to the formatting of a log message breaks your tests.</li>\n<li>The tests are incompatible with internationalisation (translation) of your logging interface.The tests assume there is only one possible message text, and thus only one possible human language.</li>\n</ul>\n\n<p>Note that having your program code (implementing some business logic, perhaps) directly calling the text logging interface is poor design (but unfortunately very commom). Code that is responsible for business logic is also deciding some logging policy and the text of log messages. It mixes business logic with user interface code (yes, log messages are part of your program's user interface). Those things should be separate.</p>\n\n<p>I therefore recommend that business logic does not directly generate the text of log messages. Instead have it delegate to a logging object.</p>\n\n<ul>\n<li>The class of the logging object should provide a suitable internal API, which your business object can use to express the event that has occurred using objects of your domain model, not text strings.</li>\n<li>The implementation of your logging class is responsible for producing text representations of those domain objects, and rendering a suitable text description of the event, then forwarding that text message to the low level logging framework (such as JUL, log4j or slf4j).</li>\n<li>Your business logic is responsible only for calling the correct methods of the internal API of your logger class, passing the correct domain objects, to describe the actual events that occurred.</li>\n<li>Your concrete logging class <code>implements</code> an <code>interface</code>, which describes the internal API your business logic may use.</li>\n<li>Your class(es) that implements business logic and must perform logging has a reference to the logging object to delegate to. The class of the reference is the abstract <code>interface</code>.</li>\n<li>Use dependency injection to set up the reference to the logger.</li>\n</ul>\n\n<p>You can then test that your business logic classes correctly tell the logging interface about events, by creating a mock logger, which implements the internal logging API, and using dependency injection in the set up phase of your test.</p>\n\n<p>Like this:</p>\n\n<pre><code> public class MyService {// The class we want to test\n    private final MyLogger logger;\n\n    public MyService(MyLogger logger) {\n       this.logger = Objects.requireNonNull(logger);\n    }\n\n    public void performTwiddleOperation(Foo foo) {// The method we want to test\n       ...// The business logic\n       logger.performedTwiddleOperation(foo);\n    }\n };\n\n public interface MyLogger {\n    public void performedTwiddleOperation(Foo foo);\n    ...\n };\n\n public final class MySl4jLogger: implements MyLogger {\n    ...\n\n    @Override\n    public void performedTwiddleOperation(Foo foo) {\n       logger.info(\"twiddled foo \" + foo.getId());\n    }\n }\n\n public final void MyProgram {\n    public static void main(String[] argv) {\n       ...\n       MyLogger logger = new MySl4jLogger(...);\n       MyService service = new MyService(logger);\n       startService(service);// or whatever you must do\n       ...\n    }\n }\n\n public class MyServiceTest {\n    ...\n\n    static final class MyMockLogger: implements MyLogger {\n       private Food.id id;\n       private int nCallsPerformedTwiddleOperation;\n       ...\n\n       @Override\n       public void performedTwiddleOperation(Foo foo) {\n          id = foo.id;\n          ++nCallsPerformedTwiddleOperation;\n       }\n\n       void assertCalledPerformedTwiddleOperation(Foo.id id) {\n          assertEquals(\"Called performedTwiddleOperation\", 1, nCallsPerformedTwiddleOperation);\n          assertEquals(\"Called performedTwiddleOperation with correct ID\", id, this.id);\n       }\n    };\n\n    @Test\n    public void testPerformTwiddleOperation_1() {\n       // Setup\n       MyMockLogger logger = new MyMockLogger();\n       MyService service = new MyService(logger);\n       Foo.Id id = new Foo.Id(...);\n       Foo foo = new Foo(id, 1);\n\n       // Execute\n       service.performedTwiddleOperation(foo);\n\n       // Verify\n       ...\n       logger.assertCalledPerformedTwiddleOperation(id);\n    }\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":286782,"reputation":3674,"user_id":586229,"accept_rate":20,"display_name":"hoijui"},"score":3,"creation_date":1558518791,"post_id":49389884,"comment_id":99125131,"body_markdown":"I tried this with `java.util.logging` (though I used `System.setErr(new PrintStream(buffer));`, because it logs to stderr), but it does not work (the buffer stays empty). if I use `System.err.println(&quot;foo&quot;)` directly, it works, so I assume that the logging system keeps its own reference of the output stream, which it takes from `System.err`, so my call to  `System.setErr(..)` has no effect on the log output, as it happens after log system init.","body":"I tried this with <code>java.util.logging</code> (though I used <code>System.setErr(new PrintStream(buffer));</code>, because it logs to stderr), but it does not work (the buffer stays empty). if I use <code>System.err.println(&quot;foo&quot;)</code> directly, it works, so I assume that the logging system keeps its own reference of the output stream, which it takes from <code>System.err</code>, so my call to  <code>System.setErr(..)</code> has no effect on the log output, as it happens after log system init."}],"tags":[],"owner":{"account_id":2691138,"reputation":105,"user_id":2324477,"display_name":"Cheefachi"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521564487,"creation_date":1521564487,"answer_id":49389884,"question_id":1827677,"body_markdown":"What I have done if all I want to do is see that some string was logged (as opposed to verifying exact log statements which is just too brittle) is to redirect StdOut to a buffer, do a contains, then reset StdOut:\r\n\r\n    PrintStream original = System.out;\r\n    ByteArrayOutputStream buffer = new ByteArrayOutputStream();\r\n    System.setOut(new PrintStream(buffer));\r\n\r\n    // Do something that logs\r\n\r\n    assertTrue(buffer.toString().contains(myMessage));\r\n    System.setOut(original);","title":"How to do a JUnit assert on a message in a logger","body":"<p>What I have done if all I want to do is see that some string was logged (as opposed to verifying exact log statements which is just too brittle) is to redirect StdOut to a buffer, do a contains, then reset StdOut:</p>\n\n<pre><code>PrintStream original = System.out;\nByteArrayOutputStream buffer = new ByteArrayOutputStream();\nSystem.setOut(new PrintStream(buffer));\n\n// Do something that logs\n\nassertTrue(buffer.toString().contains(myMessage));\nSystem.setOut(original);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6482088,"reputation":3182,"user_id":5018771,"accept_rate":88,"display_name":"AdrienW"},"score":0,"creation_date":1618320392,"post_id":50268580,"comment_id":118562034,"body_markdown":"This compiles, which is already better than other solutions, but the Appender does not seem to get used: `Wanted but not invoked: appender.append(&lt;Capturing argument&gt;);` even though the `log.info` method does definitely get called","body":"This compiles, which is already better than other solutions, but the Appender does not seem to get used: <code>Wanted but not invoked: appender.append(&lt;Capturing argument&gt;);</code> even though the <code>log.info</code> method does definitely get called"},{"owner":{"account_id":2157195,"reputation":3026,"user_id":1912127,"display_name":"Dagmar"},"score":1,"creation_date":1618397604,"post_id":50268580,"comment_id":118587627,"body_markdown":"@AdrienW I am glad it still compiles compiles (3 years later) but does it still work despite the warning?","body":"@AdrienW I am glad it still compiles compiles (3 years later) but does it still work despite the warning?"},{"owner":{"account_id":6482088,"reputation":3182,"user_id":5018771,"accept_rate":88,"display_name":"AdrienW"},"score":0,"creation_date":1618411181,"post_id":50268580,"comment_id":118593857,"body_markdown":"Nope :/ since `appender.append` does not get called, I cannot capture the argument. Whithout the `verify` lines it runs, but it does nothing... Anyways, thanks for taking the time to respond 3 years later! I&#39;ll comment or answer here if I find a good solution","body":"Nope :/ since <code>appender.append</code> does not get called, I cannot capture the argument. Whithout the <code>verify</code> lines it runs, but it does nothing... Anyways, thanks for taking the time to respond 3 years later! I&#39;ll comment or answer here if I find a good solution"},{"owner":{"account_id":2157195,"reputation":3026,"user_id":1912127,"display_name":"Dagmar"},"score":1,"creation_date":1618579434,"post_id":50268580,"comment_id":118651322,"body_markdown":"@AdrienW thanks for your reply. Unfortunately I&#39;m no longer working on this project, so I can&#39;t check versions or see if it&#39;s still working for me. The only thing I can suggest is check that the loggerConfig is being set up correctly - maybe the package name is wrong? Good luck!","body":"@AdrienW thanks for your reply. Unfortunately I&#39;m no longer working on this project, so I can&#39;t check versions or see if it&#39;s still working for me. The only thing I can suggest is check that the loggerConfig is being set up correctly - maybe the package name is wrong? Good luck!"},{"owner":{"account_id":6482088,"reputation":3182,"user_id":5018771,"accept_rate":88,"display_name":"AdrienW"},"score":1,"creation_date":1618676197,"post_id":50268580,"comment_id":118676612,"body_markdown":"I got it to work with this solution: https://stackoverflow.com/a/31836674/5018771 (I still don&#39;t know what exactly caused your solution not to work on my project but now I have one that does, thanks again for stopping by!)","body":"I got it to work with this solution: <a href=\"https://stackoverflow.com/a/31836674/5018771\">stackoverflow.com/a/31836674/5018771</a> (I still don&#39;t know what exactly caused your solution not to work on my project but now I have one that does, thanks again for stopping by!)"},{"owner":{"account_id":2157195,"reputation":3026,"user_id":1912127,"display_name":"Dagmar"},"score":2,"creation_date":1618916029,"post_id":50268580,"comment_id":118742088,"body_markdown":"@AdrienW thanks for sharing your solution, and I&#39;m glad you got it working now!","body":"@AdrienW thanks for sharing your solution, and I&#39;m glad you got it working now!"}],"tags":[],"owner":{"account_id":2157195,"reputation":3026,"user_id":1912127,"display_name":"Dagmar"},"comment_count":6,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1525940660,"creation_date":1525940660,"answer_id":50268580,"question_id":1827677,"body_markdown":"Wow. I&#39;m unsure why this was so hard. I found I was unable to use any of the code samples above because I was using log4j2 over slf4j. This is my solution:\r\n\r\n    public class SpecialLogServiceTest {\r\n    \r\n      @Mock\r\n      private Appender appender;\r\n    \r\n      @Captor\r\n      private ArgumentCaptor&lt;LogEvent&gt; captor;\r\n    \r\n      @InjectMocks\r\n      private SpecialLogService specialLogService;\r\n\r\n      private LoggerConfig loggerConfig;\r\n    \r\n      @Before\r\n      public void setUp() {\r\n        // prepare the appender so Log4j likes it\r\n        when(appender.getName()).thenReturn(&quot;MockAppender&quot;);\r\n        when(appender.isStarted()).thenReturn(true);\r\n        when(appender.isStopped()).thenReturn(false);\r\n    \r\n        final LoggerContext ctx = (LoggerContext) LogManager.getContext(false);\r\n        final Configuration config = ctx.getConfiguration();\r\n        loggerConfig = config.getLoggerConfig(&quot;org.example.SpecialLogService&quot;);\r\n        loggerConfig.addAppender(appender, AuditLogCRUDService.LEVEL_AUDIT, null);\r\n      }\r\n    \r\n      @After\r\n      public void tearDown() {\r\n        loggerConfig.removeAppender(&quot;MockAppender&quot;);\r\n      }\r\n    \r\n      @Test\r\n      public void writeLog_shouldCreateCorrectLogMessage() throws Exception {\r\n        SpecialLog specialLog = new SpecialLogBuilder().build();\r\n        String expectedLog = &quot;this is my log message&quot;;\r\n        \r\n        specialLogService.writeLog(specialLog);\r\n    \r\n        verify(appender).append(captor.capture());\r\n        assertThat(captor.getAllValues().size(), is(1));\r\n        assertThat(captor.getAllValues().get(0).getMessage().toString(), is(expectedLog));\r\n      }\r\n    }","title":"How to do a JUnit assert on a message in a logger","body":"<p>Wow. I'm unsure why this was so hard. I found I was unable to use any of the code samples above because I was using log4j2 over slf4j. This is my solution:</p>\n\n<pre><code>public class SpecialLogServiceTest {\n\n  @Mock\n  private Appender appender;\n\n  @Captor\n  private ArgumentCaptor&lt;LogEvent&gt; captor;\n\n  @InjectMocks\n  private SpecialLogService specialLogService;\n\n  private LoggerConfig loggerConfig;\n\n  @Before\n  public void setUp() {\n    // prepare the appender so Log4j likes it\n    when(appender.getName()).thenReturn(\"MockAppender\");\n    when(appender.isStarted()).thenReturn(true);\n    when(appender.isStopped()).thenReturn(false);\n\n    final LoggerContext ctx = (LoggerContext) LogManager.getContext(false);\n    final Configuration config = ctx.getConfiguration();\n    loggerConfig = config.getLoggerConfig(\"org.example.SpecialLogService\");\n    loggerConfig.addAppender(appender, AuditLogCRUDService.LEVEL_AUDIT, null);\n  }\n\n  @After\n  public void tearDown() {\n    loggerConfig.removeAppender(\"MockAppender\");\n  }\n\n  @Test\n  public void writeLog_shouldCreateCorrectLogMessage() throws Exception {\n    SpecialLog specialLog = new SpecialLogBuilder().build();\n    String expectedLog = \"this is my log message\";\n\n    specialLogService.writeLog(specialLog);\n\n    verify(appender).append(captor.capture());\n    assertThat(captor.getAllValues().size(), is(1));\n    assertThat(captor.getAllValues().get(0).getMessage().toString(), is(expectedLog));\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":318698,"reputation":51,"user_id":636046,"display_name":"robbo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1529522238,"creation_date":1529520963,"answer_id":50955223,"question_id":1827677,"body_markdown":"The API for Log4J2 is slightly different. Also you might be using its async appender. I created a latched appender for this:\r\n\r\n        public static class LatchedAppender extends AbstractAppender implements AutoCloseable {\r\n\r\n        private final List&lt;LogEvent&gt; messages = new ArrayList&lt;&gt;();\r\n        private final CountDownLatch latch;\r\n        private final LoggerConfig loggerConfig;\r\n\r\n        public LatchedAppender(Class&lt;?&gt; classThatLogs, int expectedMessages) {\r\n            this(classThatLogs, null, null, expectedMessages);\r\n        }\r\n        public LatchedAppender(Class&lt;?&gt; classThatLogs, Filter filter, Layout&lt;? extends Serializable&gt; layout, int expectedMessages) {\r\n            super(classThatLogs.getName()+&quot;.&quot;+&quot;LatchedAppender&quot;, filter, layout);\r\n            latch = new CountDownLatch(expectedMessages);\r\n            final LoggerContext ctx = (LoggerContext) LogManager.getContext(false);\r\n            final Configuration config = ctx.getConfiguration();\r\n            loggerConfig = config.getLoggerConfig(LogManager.getLogger(classThatLogs).getName());\r\n            loggerConfig.addAppender(this, Level.ALL, ThresholdFilter.createFilter(Level.ALL, null, null));\r\n            start();\r\n        }\r\n\r\n        @Override\r\n        public void append(LogEvent event) {\r\n            messages.add(event);\r\n            latch.countDown();\r\n        }\r\n\r\n        public List&lt;LogEvent&gt; awaitMessages() throws InterruptedException {\r\n            assertTrue(latch.await(10, TimeUnit.SECONDS));\r\n            return messages;\r\n        }\r\n\r\n        @Override\r\n        public void close() {\r\n            stop();\r\n            loggerConfig.removeAppender(this.getName());\r\n        }\r\n    }\r\n\r\nUse it like this:\r\n\r\n            try (LatchedAppender appender = new LatchedAppender(ClassUnderTest.class, 1)) {\r\n\r\n            ClassUnderTest.methodThatLogs();\r\n            List&lt;LogEvent&gt; events = appender.awaitMessages();\r\n            assertEquals(1, events.size());\r\n            //more assertions here\r\n\r\n        }//appender removed","title":"How to do a JUnit assert on a message in a logger","body":"<p>The API for Log4J2 is slightly different. Also you might be using its async appender. I created a latched appender for this:</p>\n\n<pre><code>    public static class LatchedAppender extends AbstractAppender implements AutoCloseable {\n\n    private final List&lt;LogEvent&gt; messages = new ArrayList&lt;&gt;();\n    private final CountDownLatch latch;\n    private final LoggerConfig loggerConfig;\n\n    public LatchedAppender(Class&lt;?&gt; classThatLogs, int expectedMessages) {\n        this(classThatLogs, null, null, expectedMessages);\n    }\n    public LatchedAppender(Class&lt;?&gt; classThatLogs, Filter filter, Layout&lt;? extends Serializable&gt; layout, int expectedMessages) {\n        super(classThatLogs.getName()+\".\"+\"LatchedAppender\", filter, layout);\n        latch = new CountDownLatch(expectedMessages);\n        final LoggerContext ctx = (LoggerContext) LogManager.getContext(false);\n        final Configuration config = ctx.getConfiguration();\n        loggerConfig = config.getLoggerConfig(LogManager.getLogger(classThatLogs).getName());\n        loggerConfig.addAppender(this, Level.ALL, ThresholdFilter.createFilter(Level.ALL, null, null));\n        start();\n    }\n\n    @Override\n    public void append(LogEvent event) {\n        messages.add(event);\n        latch.countDown();\n    }\n\n    public List&lt;LogEvent&gt; awaitMessages() throws InterruptedException {\n        assertTrue(latch.await(10, TimeUnit.SECONDS));\n        return messages;\n    }\n\n    @Override\n    public void close() {\n        stop();\n        loggerConfig.removeAppender(this.getName());\n    }\n}\n</code></pre>\n\n<p>Use it like this:</p>\n\n<pre><code>        try (LatchedAppender appender = new LatchedAppender(ClassUnderTest.class, 1)) {\n\n        ClassUnderTest.methodThatLogs();\n        List&lt;LogEvent&gt; events = appender.awaitMessages();\n        assertEquals(1, events.size());\n        //more assertions here\n\n    }//appender removed\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4014197,"reputation":131,"user_id":5348370,"display_name":"Ghilteras"},"score":0,"creation_date":1544665290,"post_id":51812144,"comment_id":94360449,"body_markdown":"How do you stop the test from failing if you log an Error?","body":"How do you stop the test from failing if you log an Error?"},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1544689890,"post_id":51812144,"comment_id":94367649,"body_markdown":"@Ghilteras I am not sure to understand. Logging an error should not make your test fail. What you explain ?","body":"@Ghilteras I am not sure to understand. Logging an error should not make your test fail. What you explain ?"},{"owner":{"account_id":5653578,"reputation":3281,"user_id":4473386,"accept_rate":80,"display_name":"Dmytro Chasovskyi"},"score":0,"creation_date":1564072545,"post_id":51812144,"comment_id":100919855,"body_markdown":"Also, remember to not `mock` the class that is under test. You need to instantiate it with `new` operator","body":"Also, remember to not <code>mock</code> the class that is under test. You need to instantiate it with <code>new</code> operator"},{"owner":{"account_id":485360,"reputation":20815,"user_id":901641,"accept_rate":78,"display_name":"ArtOfWarfare"},"score":0,"creation_date":1618950646,"post_id":51812144,"comment_id":118757180,"body_markdown":"Seems kind of dumb that calling the `start()` method is necessary, but it is - don&#39;t forget to include that in your test or it won&#39;t work.","body":"Seems kind of dumb that calling the <code>start()</code> method is necessary, but it is - don&#39;t forget to include that in your test or it won&#39;t work."},{"owner":{"account_id":11456710,"reputation":734,"user_id":8397480,"display_name":"xardbaiz"},"score":3,"creation_date":1630658984,"post_id":51812144,"comment_id":122021998,"body_markdown":"In my case `list` of appender was empty until I got root logger (not class logger):\n`Logger logger = (Logger) LoggerFactory.getLogger(org.slf4j.Logger.ROOT_LOGGER_NAME)`","body":"In my case <code>list</code> of appender was empty until I got root logger (not class logger): <code>Logger logger = (Logger) LoggerFactory.getLogger(org.slf4j.Logger.ROOT_LOGGER_NAME)</code>"},{"owner":{"account_id":2868209,"reputation":3106,"user_id":2462052,"accept_rate":65,"display_name":"danny"},"score":11,"creation_date":1642764384,"post_id":51812144,"comment_id":125164427,"body_markdown":"just in case if cannot find the `addAppender` method, you need to cast the fooLogger to an implementation class such as `ch.qos.logback.classic.Logger`. Then you have the `addAppender` method","body":"just in case if cannot find the <code>addAppender</code> method, you need to cast the fooLogger to an implementation class such as <code>ch.qos.logback.classic.Logger</code>. Then you have the <code>addAppender</code> method"},{"owner":{"account_id":69849,"reputation":985,"user_id":203037,"accept_rate":75,"display_name":"Vasilen Donchev"},"score":1,"creation_date":1655278114,"post_id":51812144,"comment_id":128291770,"body_markdown":"One can actually use the `getFormattedMessage` which shows the final log message after applying all arguments, e.g. for `log.info(&quot;foo {}&quot;, &quot;bar&quot;);` `logsList.get(0).getMessage()` will return `foo {}` while `logsList.get(0).getFormattedMessage()` gives `foo bar`","body":"One can actually use the <code>getFormattedMessage</code> which shows the final log message after applying all arguments, e.g. for <code>log.info(&quot;foo {}&quot;, &quot;bar&quot;);</code> <code>logsList.get(0).getMessage()</code> will return <code>foo {}</code> while <code>logsList.get(0).getFormattedMessage()</code> gives <code>foo bar</code>"},{"owner":{"account_id":69849,"reputation":985,"user_id":203037,"accept_rate":75,"display_name":"Vasilen Donchev"},"score":0,"creation_date":1655306160,"post_id":51812144,"comment_id":128302495,"body_markdown":"Plus note that `LoggerFactory.getLogger()` might return an `org.slf4j.helpers.SubstituteLogger` instance despite the usage of Logback while the logging is still initializing. You might need to poll for `ch.qos.logback.classic.Logger` up to a couple of milliseconds if you don&#39;t want flaky tests :)","body":"Plus note that <code>LoggerFactory.getLogger()</code> might return an <code>org.slf4j.helpers.SubstituteLogger</code> instance despite the usage of Logback while the logging is still initializing. You might need to poll for <code>ch.qos.logback.classic.Logger</code> up to a couple of milliseconds if you don&#39;t want flaky tests :)"}],"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":8,"down_vote_count":2,"up_vote_count":129,"is_accepted":false,"score":127,"last_activity_date":1588960838,"creation_date":1534102013,"answer_id":51812144,"question_id":1827677,"body_markdown":"Here is a simple and efficient Logback solution.  \r\nIt doesn&#39;t require to add/create any new class.   \r\nIt relies on [`ListAppender`][1] : a whitebox logback appender where log entries are added in a `public List` field that we could so use to make our assertions.  \r\n\r\nHere is a simple example.   \r\n\r\nFoo class :\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    public class Foo {\r\n    \t\r\n    \tstatic final Logger LOGGER = LoggerFactory.getLogger(Foo .class);\r\n    \t\r\n        public void doThat() {\r\n        \tLOGGER.info(&quot;start&quot;);\r\n            //...\r\n        \tLOGGER.info(&quot;finish&quot;);\r\n        }\r\n    }\r\n\r\nFooTest class :\r\n\r\n    import org.slf4j.LoggerFactory;\r\n    import ch.qos.logback.classic.Level;\r\n    import ch.qos.logback.classic.Logger;\r\n    import ch.qos.logback.classic.spi.ILoggingEvent;\r\n    import ch.qos.logback.core.read.ListAppender;\r\n\r\n    public class FooTest {\r\n\r\n\t    @Test\r\n\t    void doThat() throws Exception {\r\n            // get Logback Logger \r\n\t\t    Logger fooLogger = (Logger) LoggerFactory.getLogger(Foo.class);\r\n\r\n            // create and start a ListAppender\r\n\t\t    ListAppender&lt;ILoggingEvent&gt; listAppender = new ListAppender&lt;&gt;();\r\n\t\t    listAppender.start();\r\n\r\n            // add the appender to the logger\r\n            // addAppender is outdated now\r\n\t\t    fooLogger.addAppender(listAppender);\r\n\r\n            // call method under test\r\n            Foo foo = new Foo();\r\n            foo.doThat();\r\n\r\n            // JUnit assertions\r\n\t\t\tList&lt;ILoggingEvent&gt; logsList = listAppender.list;\r\n\t\t\tassertEquals(&quot;start&quot;, logsList.get(0)\r\n\t\t\t\t\t\t\t\t\t\t  .getMessage());\r\n\t\t\tassertEquals(Level.INFO, logsList.get(0)\r\n\t\t\t\t\t\t\t\t\t\t\t .getLevel());\r\n\r\n\t\t\tassertEquals(&quot;finish&quot;, logsList.get(1)\r\n\t\t\t\t\t\t\t\t\t\t   .getMessage());\r\n\t\t\tassertEquals(Level.INFO, logsList.get(1)\r\n\t\t\t\t\t\t\t\t\t\t\t .getLevel());\r\n        }\r\n    }\r\n\r\nJUnit assertions don&#39;t sound very adapted to assert some specific properties of the list elements.   \r\nMatcher/assertion libraries as AssertJ or Hamcrest appears better for that :\r\n\r\nWith AssertJ it would be : \r\n\r\n    import org.assertj.core.api.Assertions;\r\n\r\n    Assertions.assertThat(listAppender.list)\r\n\t\t      .extracting(ILoggingEvent::getMessage, ILoggingEvent::getLevel)\r\n\t\t      .containsExactly(Tuple.tuple(&quot;start&quot;, Level.INFO), Tuple.tuple(&quot;finish&quot;, Level.INFO));\r\n\r\n\r\n  [1]: https://logback.qos.ch/apidocs/ch/qos/logback/core/read/ListAppender.html","title":"How to do a JUnit assert on a message in a logger","body":"<p>Here is a simple and efficient Logback solution.<br>\nIt doesn't require to add/create any new class.<br>\nIt relies on <a href=\"https://logback.qos.ch/apidocs/ch/qos/logback/core/read/ListAppender.html\" rel=\"noreferrer\"><code>ListAppender</code></a> : a whitebox logback appender where log entries are added in a <code>public List</code> field that we could so use to make our assertions.  </p>\n\n<p>Here is a simple example.   </p>\n\n<p>Foo class :</p>\n\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class Foo {\n\n    static final Logger LOGGER = LoggerFactory.getLogger(Foo .class);\n\n    public void doThat() {\n        LOGGER.info(\"start\");\n        //...\n        LOGGER.info(\"finish\");\n    }\n}\n</code></pre>\n\n<p>FooTest class :</p>\n\n<pre><code>import org.slf4j.LoggerFactory;\nimport ch.qos.logback.classic.Level;\nimport ch.qos.logback.classic.Logger;\nimport ch.qos.logback.classic.spi.ILoggingEvent;\nimport ch.qos.logback.core.read.ListAppender;\n\npublic class FooTest {\n\n    @Test\n    void doThat() throws Exception {\n        // get Logback Logger \n        Logger fooLogger = (Logger) LoggerFactory.getLogger(Foo.class);\n\n        // create and start a ListAppender\n        ListAppender&lt;ILoggingEvent&gt; listAppender = new ListAppender&lt;&gt;();\n        listAppender.start();\n\n        // add the appender to the logger\n        // addAppender is outdated now\n        fooLogger.addAppender(listAppender);\n\n        // call method under test\n        Foo foo = new Foo();\n        foo.doThat();\n\n        // JUnit assertions\n        List&lt;ILoggingEvent&gt; logsList = listAppender.list;\n        assertEquals(\"start\", logsList.get(0)\n                                      .getMessage());\n        assertEquals(Level.INFO, logsList.get(0)\n                                         .getLevel());\n\n        assertEquals(\"finish\", logsList.get(1)\n                                       .getMessage());\n        assertEquals(Level.INFO, logsList.get(1)\n                                         .getLevel());\n    }\n}\n</code></pre>\n\n<p>JUnit assertions don't sound very adapted to assert some specific properties of the list elements.<br>\nMatcher/assertion libraries as AssertJ or Hamcrest appears better for that :</p>\n\n<p>With AssertJ it would be : </p>\n\n<pre><code>import org.assertj.core.api.Assertions;\n\nAssertions.assertThat(listAppender.list)\n          .extracting(ILoggingEvent::getMessage, ILoggingEvent::getLevel)\n          .containsExactly(Tuple.tuple(\"start\", Level.INFO), Tuple.tuple(\"finish\", Level.INFO));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8258680,"reputation":317,"user_id":6210975,"display_name":"Greg7000"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1551905669,"creation_date":1551883463,"answer_id":55025765,"question_id":1827677,"body_markdown":"If you are using log4j2, the solution from https://www.dontpanicblog.co.uk/2018/04/29/test-log4j2-with-junit/  allowed me to assert messages were logged.\r\n\r\n\r\n\r\nThe solution goes like this:\r\n\r\n - Define a log4j appender as an ExternalResource  rule\r\n    \r\n        public class LogAppenderResource extends ExternalResource {\r\n     \r\n        private static final String APPENDER_NAME = &quot;log4jRuleAppender&quot;;\r\n     \r\n        /**\r\n         * Logged messages contains level and message only.\r\n         * This allows us to test that level and message are set.\r\n         */\r\n        private static final String PATTERN = &quot;%-5level %msg&quot;;\r\n     \r\n        private Logger logger;\r\n        private Appender appender;\r\n        private final CharArrayWriter outContent = new CharArrayWriter();\r\n     \r\n        public LogAppenderResource(org.apache.logging.log4j.Logger logger) {\r\n            this.logger = (org.apache.logging.log4j.core.Logger)logger;\r\n        }\r\n     \r\n        @Override\r\n        protected void before() {\r\n            StringLayout layout = PatternLayout.newBuilder().withPattern(PATTERN).build();\r\n            appender = WriterAppender.newBuilder()\r\n                    .setTarget(outContent)\r\n                    .setLayout(layout)\r\n                    .setName(APPENDER_NAME).build();\r\n            appender.start();\r\n            logger.addAppender(appender);\r\n        }\r\n     \r\n        @Override\r\n        protected void after() {\r\n            logger.removeAppender(appender);\r\n        }\r\n     \r\n        public String getOutput() {\r\n            return outContent.toString();\r\n            }\r\n        }\r\n - Define a test that use your ExternalResource rule\r\n\r\n        public class LoggingTextListenerTest {\r\n     \r\n            @Rule public LogAppenderResource appender = new LogAppenderResource(LogManager.getLogger(LoggingTextListener.class)); \r\n            private LoggingTextListener listener = new LoggingTextListener(); //     Class under test\r\n     \r\n            @Test\r\n            public void startedEvent_isLogged() {\r\n            listener.started();\r\n            assertThat(appender.getOutput(), containsString(&quot;started&quot;));\r\n            }\r\n        }\r\n\r\nDon&#39;t forget to have log4j2.xml as part of src/test/resources","title":"How to do a JUnit assert on a message in a logger","body":"<p>If you are using log4j2, the solution from <a href=\"https://www.dontpanicblog.co.uk/2018/04/29/test-log4j2-with-junit/\" rel=\"nofollow noreferrer\">https://www.dontpanicblog.co.uk/2018/04/29/test-log4j2-with-junit/</a>  allowed me to assert messages were logged.</p>\n\n<p>The solution goes like this:</p>\n\n<ul>\n<li><p>Define a log4j appender as an ExternalResource  rule</p>\n\n<pre><code>public class LogAppenderResource extends ExternalResource {\n\nprivate static final String APPENDER_NAME = \"log4jRuleAppender\";\n\n/**\n * Logged messages contains level and message only.\n * This allows us to test that level and message are set.\n */\nprivate static final String PATTERN = \"%-5level %msg\";\n\nprivate Logger logger;\nprivate Appender appender;\nprivate final CharArrayWriter outContent = new CharArrayWriter();\n\npublic LogAppenderResource(org.apache.logging.log4j.Logger logger) {\n    this.logger = (org.apache.logging.log4j.core.Logger)logger;\n}\n\n@Override\nprotected void before() {\n    StringLayout layout = PatternLayout.newBuilder().withPattern(PATTERN).build();\n    appender = WriterAppender.newBuilder()\n            .setTarget(outContent)\n            .setLayout(layout)\n            .setName(APPENDER_NAME).build();\n    appender.start();\n    logger.addAppender(appender);\n}\n\n@Override\nprotected void after() {\n    logger.removeAppender(appender);\n}\n\npublic String getOutput() {\n    return outContent.toString();\n    }\n}\n</code></pre></li>\n<li><p>Define a test that use your ExternalResource rule</p>\n\n<pre><code>public class LoggingTextListenerTest {\n\n    @Rule public LogAppenderResource appender = new LogAppenderResource(LogManager.getLogger(LoggingTextListener.class)); \n    private LoggingTextListener listener = new LoggingTextListener(); //     Class under test\n\n    @Test\n    public void startedEvent_isLogged() {\n    listener.started();\n    assertThat(appender.getOutput(), containsString(\"started\"));\n    }\n}\n</code></pre></li>\n</ul>\n\n<p>Don't forget to have log4j2.xml as part of src/test/resources</p>\n"},{"comments":[{"owner":{"account_id":6438805,"reputation":660,"user_id":4989412,"accept_rate":14,"display_name":"Mayank Raghav"},"score":1,"creation_date":1574079083,"post_id":58322062,"comment_id":104090398,"body_markdown":"This worked for me. Line &#39;when(mockAppender.getName()).thenReturn(&quot;MOCK&quot;)&#39; was not needed for me.","body":"This worked for me. Line &#39;when(mockAppender.getName()).thenReturn(&quot;MOCK&quot;)&#39; was not needed for me."}],"tags":[],"owner":{"account_id":9058952,"reputation":251,"user_id":6746112,"display_name":"Kusum"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1570707603,"creation_date":1570707603,"answer_id":58322062,"question_id":1827677,"body_markdown":"    Here is the sample code to mock log, irrespective of the version used for junit or sping, springboot.\r\n    \r\n    import ch.qos.logback.classic.spi.LoggingEvent;\r\n    import ch.qos.logback.core.Appender;\r\n    import org.mockito.ArgumentMatcher;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.junit.Test;\r\n    \r\n    import static org.mockito.Matchers.argThat;\r\n    import static org.mockito.Mockito.mock;\r\n    import static org.mockito.Mockito.verify;\r\n    import static org.mockito.Mockito.when;\r\n    \r\n    public class MyTest {\r\n      private static Logger logger = LoggerFactory.getLogger(MyTest.class);\r\n    \r\n        @Test\r\n        public void testSomething() {\r\n        ch.qos.logback.classic.Logger root = (ch.qos.logback.classic.Logger) LoggerFactory.getLogger(ch.qos.logback.classic.Logger.ROOT_LOGGER_NAME);\r\n        final Appender mockAppender = mock(Appender.class);\r\n        when(mockAppender.getName()).thenReturn(&quot;MOCK&quot;);\r\n        root.addAppender(mockAppender);\r\n    \r\n        //... do whatever you need to trigger the log\r\n    \r\n        verify(mockAppender).doAppend(argThat(new ArgumentMatcher() {\r\n          @Override\r\n          public boolean matches(final Object argument) {\r\n            return ((LoggingEvent)argument).getFormattedMessage().contains(&quot;Hey this is the message I want to see&quot;);\r\n          }\r\n        }));\r\n      }\r\n    }","title":"How to do a JUnit assert on a message in a logger","body":"<pre><code>Here is the sample code to mock log, irrespective of the version used for junit or sping, springboot.\n\nimport ch.qos.logback.classic.spi.LoggingEvent;\nimport ch.qos.logback.core.Appender;\nimport org.mockito.ArgumentMatcher;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.junit.Test;\n\nimport static org.mockito.Matchers.argThat;\nimport static org.mockito.Mockito.mock;\nimport static org.mockito.Mockito.verify;\nimport static org.mockito.Mockito.when;\n\npublic class MyTest {\n  private static Logger logger = LoggerFactory.getLogger(MyTest.class);\n\n    @Test\n    public void testSomething() {\n    ch.qos.logback.classic.Logger root = (ch.qos.logback.classic.Logger) LoggerFactory.getLogger(ch.qos.logback.classic.Logger.ROOT_LOGGER_NAME);\n    final Appender mockAppender = mock(Appender.class);\n    when(mockAppender.getName()).thenReturn(\"MOCK\");\n    root.addAppender(mockAppender);\n\n    //... do whatever you need to trigger the log\n\n    verify(mockAppender).doAppend(argThat(new ArgumentMatcher() {\n      @Override\n      public boolean matches(final Object argument) {\n        return ((LoggingEvent)argument).getFormattedMessage().contains(\"Hey this is the message I want to see\");\n      }\n    }));\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3128387,"reputation":752,"user_id":2646836,"accept_rate":67,"display_name":"carlos palma"},"score":0,"creation_date":1592405141,"post_id":58958638,"comment_id":110414516,"body_markdown":"I tried this and got an error inside the setup method on the line loggerConfig = configuration.getLoggerConfig(logger.getName());  The error is cannot access org.apache.logging.log4j.spi.LoggerContextShutdownEnabled class file for org.apache.logging.log4j.spi.LoggerContextShutdownEnabled not found","body":"I tried this and got an error inside the setup method on the line loggerConfig = configuration.getLoggerConfig(logger.getName());  The error is cannot access org.apache.logging.log4j.spi.LoggerContextShutdownEnabled class file for org.apache.logging.log4j.spi.LoggerContextShutdownEnabled not found"},{"owner":{"account_id":1783732,"reputation":11628,"user_id":1625740,"accept_rate":59,"display_name":"Haim Raman"},"score":0,"creation_date":1592457010,"post_id":58958638,"comment_id":110433094,"body_markdown":"I reviewed the code and made some minor changes, but it worked for me. I suggest that you will check the dependencies and make sure that all imports are correct","body":"I reviewed the code and made some minor changes, but it worked for me. I suggest that you will check the dependencies and make sure that all imports are correct"},{"owner":{"account_id":3128387,"reputation":752,"user_id":2646836,"accept_rate":67,"display_name":"carlos palma"},"score":0,"creation_date":1592508504,"post_id":58958638,"comment_id":110459138,"body_markdown":"Hello there Haim. I ended up implementing the logback solution...but I think you&#39;re right, in order to implement that one I had to clean an import I had made of another log4j version.","body":"Hello there Haim. I ended up implementing the logback solution...but I think you&#39;re right, in order to implement that one I had to clean an import I had made of another log4j version."}],"tags":[],"owner":{"account_id":1783732,"reputation":11628,"user_id":1625740,"accept_rate":59,"display_name":"Haim Raman"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592456981,"creation_date":1574265845,"answer_id":58958638,"question_id":1827677,"body_markdown":"I answered a similar question for log4j see [how-can-i-test-with-junit-that-a-warning-was-logged-with-log4][1]\r\n\r\nThis is  newer and example with Log4j2 (tested with 2.11.2) and junit 5;\r\n\r\n        package com.whatever.log;\r\n        \r\n        import org.apache.logging.log4j.Level;\r\n        import org.apache.logging.log4j.LogManager;\r\n        import org.apache.logging.log4j.core.Logger;\r\n        import org.apache.logging.log4j.core.*;\r\n        import org.apache.logging.log4j.core.appender.AbstractAppender;\r\n        import org.apache.logging.log4j.core.config.Configuration;\r\n        import org.apache.logging.log4j.core.config.LoggerConfig;\r\n        import org.apache.logging.log4j.core.config.plugins.Plugin;\r\n        import org.apache.logging.log4j.core.config.plugins.PluginAttribute;\r\n        import org.apache.logging.log4j.core.config.plugins.PluginElement;\r\n        import org.apache.logging.log4j.core.config.plugins.PluginFactory;\r\n        import org.junit.jupiter.api.AfterEach;\r\n        import org.junit.jupiter.api.BeforeEach;\r\n        import org.junit.jupiter.api.DisplayName;\r\n        import org.junit.jupiter.api.Test;\r\n        \r\n        import java.util.ArrayList;\r\n        import java.util.List;\r\n        import static org.junit.Assert.*;\r\n        \r\n    class TestLogger {\r\n    \r\n        private TestAppender testAppender;\r\n        private LoggerConfig loggerConfig;\r\n        private final Logger logger = (Logger)\r\n                LogManager.getLogger(ClassUnderTest.class);\r\n    \r\n        @Test\r\n        @DisplayName(&quot;Test Log Junit5 and log4j2&quot;)\r\n        void test() {\r\n            ClassUnderTest.logMessage();\r\n            final LogEvent loggingEvent = testAppender.events.get(0);\r\n            //asset equals 1 because log level is info, change it to debug and\r\n            //the test will fail\r\n            assertTrue(testAppender.events.size()==1,&quot;Unexpected empty log&quot;);\r\n            assertEquals(Level.INFO,loggingEvent.getLevel(),&quot;Unexpected log level&quot;);\r\n            assertEquals(loggingEvent.getMessage().toString()\r\n                    ,&quot;Hello Test&quot;,&quot;Unexpected log message&quot;);\r\n        }\r\n    \r\n        @BeforeEach\r\n        private void setup() {\r\n            testAppender = new TestAppender(&quot;TestAppender&quot;, null);\r\n    \r\n            final LoggerContext context = logger.getContext();\r\n            final Configuration configuration = context.getConfiguration();\r\n    \r\n            loggerConfig = configuration.getLoggerConfig(logger.getName());\r\n            loggerConfig.setLevel(Level.INFO);\r\n            loggerConfig.addAppender(testAppender,Level.INFO,null);\r\n            testAppender.start();\r\n            context.updateLoggers();\r\n        }\r\n    \r\n        @AfterEach\r\n        void after(){\r\n            testAppender.stop();\r\n            loggerConfig.removeAppender(&quot;TestAppender&quot;);\r\n            final LoggerContext context = logger.getContext();\r\n            context.updateLoggers();\r\n        }\r\n    \r\n        @Plugin( name = &quot;TestAppender&quot;, category = Core.CATEGORY_NAME, elementType = Appender.ELEMENT_TYPE)\r\n        static class TestAppender extends AbstractAppender {\r\n    \r\n            List&lt;LogEvent&gt; events = new ArrayList();\r\n    \r\n            protected TestAppender(String name, Filter filter) {\r\n                super(name, filter, null);\r\n            }\r\n    \r\n            @PluginFactory\r\n            public static TestAppender createAppender(\r\n                    @PluginAttribute(&quot;name&quot;) String name,\r\n                    @PluginElement(&quot;Filter&quot;) Filter filter) {\r\n                return new TestAppender(name, filter);\r\n            }\r\n    \r\n            @Override\r\n            public void append(LogEvent event) {\r\n                events.add(event);\r\n            }\r\n        }\r\n    \r\n        static class ClassUnderTest {\r\n            private static final Logger LOGGER =  (Logger) LogManager.getLogger(ClassUnderTest.class);\r\n            public static void logMessage(){\r\n                LOGGER.info(&quot;Hello Test&quot;);\r\n                LOGGER.debug(&quot;Hello Test&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nUsing the following maven dependencies\r\n\r\n     &lt;dependency&gt;\r\n     &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n      &lt;version&gt;2.11.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n        &lt;version&gt;5.5.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  [1]: https://stackoverflow.com/a/15534239/1625740\r\n","title":"How to do a JUnit assert on a message in a logger","body":"<p>I answered a similar question for log4j see <a href=\"https://stackoverflow.com/a/15534239/1625740\">how-can-i-test-with-junit-that-a-warning-was-logged-with-log4</a></p>\n\n<p>This is  newer and example with Log4j2 (tested with 2.11.2) and junit 5;</p>\n\n<pre><code>    package com.whatever.log;\n\n    import org.apache.logging.log4j.Level;\n    import org.apache.logging.log4j.LogManager;\n    import org.apache.logging.log4j.core.Logger;\n    import org.apache.logging.log4j.core.*;\n    import org.apache.logging.log4j.core.appender.AbstractAppender;\n    import org.apache.logging.log4j.core.config.Configuration;\n    import org.apache.logging.log4j.core.config.LoggerConfig;\n    import org.apache.logging.log4j.core.config.plugins.Plugin;\n    import org.apache.logging.log4j.core.config.plugins.PluginAttribute;\n    import org.apache.logging.log4j.core.config.plugins.PluginElement;\n    import org.apache.logging.log4j.core.config.plugins.PluginFactory;\n    import org.junit.jupiter.api.AfterEach;\n    import org.junit.jupiter.api.BeforeEach;\n    import org.junit.jupiter.api.DisplayName;\n    import org.junit.jupiter.api.Test;\n\n    import java.util.ArrayList;\n    import java.util.List;\n    import static org.junit.Assert.*;\n\nclass TestLogger {\n\n    private TestAppender testAppender;\n    private LoggerConfig loggerConfig;\n    private final Logger logger = (Logger)\n            LogManager.getLogger(ClassUnderTest.class);\n\n    @Test\n    @DisplayName(\"Test Log Junit5 and log4j2\")\n    void test() {\n        ClassUnderTest.logMessage();\n        final LogEvent loggingEvent = testAppender.events.get(0);\n        //asset equals 1 because log level is info, change it to debug and\n        //the test will fail\n        assertTrue(testAppender.events.size()==1,\"Unexpected empty log\");\n        assertEquals(Level.INFO,loggingEvent.getLevel(),\"Unexpected log level\");\n        assertEquals(loggingEvent.getMessage().toString()\n                ,\"Hello Test\",\"Unexpected log message\");\n    }\n\n    @BeforeEach\n    private void setup() {\n        testAppender = new TestAppender(\"TestAppender\", null);\n\n        final LoggerContext context = logger.getContext();\n        final Configuration configuration = context.getConfiguration();\n\n        loggerConfig = configuration.getLoggerConfig(logger.getName());\n        loggerConfig.setLevel(Level.INFO);\n        loggerConfig.addAppender(testAppender,Level.INFO,null);\n        testAppender.start();\n        context.updateLoggers();\n    }\n\n    @AfterEach\n    void after(){\n        testAppender.stop();\n        loggerConfig.removeAppender(\"TestAppender\");\n        final LoggerContext context = logger.getContext();\n        context.updateLoggers();\n    }\n\n    @Plugin( name = \"TestAppender\", category = Core.CATEGORY_NAME, elementType = Appender.ELEMENT_TYPE)\n    static class TestAppender extends AbstractAppender {\n\n        List&lt;LogEvent&gt; events = new ArrayList();\n\n        protected TestAppender(String name, Filter filter) {\n            super(name, filter, null);\n        }\n\n        @PluginFactory\n        public static TestAppender createAppender(\n                @PluginAttribute(\"name\") String name,\n                @PluginElement(\"Filter\") Filter filter) {\n            return new TestAppender(name, filter);\n        }\n\n        @Override\n        public void append(LogEvent event) {\n            events.add(event);\n        }\n    }\n\n    static class ClassUnderTest {\n        private static final Logger LOGGER =  (Logger) LogManager.getLogger(ClassUnderTest.class);\n        public static void logMessage(){\n            LOGGER.info(\"Hello Test\");\n            LOGGER.debug(\"Hello Test\");\n        }\n    }\n}\n</code></pre>\n\n<p>Using the following maven dependencies</p>\n\n<pre><code> &lt;dependency&gt;\n &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n  &lt;version&gt;2.11.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n    &lt;version&gt;5.5.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13566,"reputation":48845,"user_id":27358,"accept_rate":76,"display_name":"David Moles"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1576005100,"creation_date":1576005100,"answer_id":59273883,"question_id":1827677,"body_markdown":"Note that in Log4J 2.x, the public interface [`org.apache.logging.log4j.Logger`](https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/Logger.html) doesn&#39;t include the `setAppender()` and `removeAppender()` methods.\r\n\r\nBut if you&#39;re not doing anything too fancy, you should be able to cast it to the implementation class [`org.apache.logging.log4j.core.Logger`](https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/Logger.html), which does expose those methods.\r\n\r\nHere&#39;s an example with [Mockito](https://site.mockito.org) and [AssertJ](https://assertj.github.io/doc/):\r\n\r\n```java\r\n// Import the implementation class rather than the API interface\r\nimport org.apache.logging.log4j.core.Logger;\r\n```\r\n\r\n```java\r\n// Cast logger to implementation class to get access to setAppender/removeAppender\r\nLogger log = (Logger) LogManager.getLogger(MyClassUnderTest.class);\r\n\r\n// Set up the mock appender, stubbing some methods Log4J needs internally\r\nAppender appender = mock(Appender.class);\r\nwhen(appender.getName()).thenReturn(&quot;Mock Appender&quot;);\r\nwhen(appender.isStarted()).thenReturn(true);\r\n\r\nlog.addAppender(appender);\r\ntry {\r\n    new MyClassUnderTest().doSomethingThatShouldLogAnError();\r\n} finally {\r\n    log.removeAppender(appender);\r\n}\r\n\r\n// Verify that we got an error with the expected message\r\nArgumentCaptor&lt;LogEvent&gt; logEventCaptor = ArgumentCaptor.forClass(LogEvent.class);\r\nverify(appender).append(logEventCaptor.capture());\r\nLogEvent logEvent = logEventCaptor.getValue();\r\nassertThat(logEvent.getLevel()).isEqualTo(Level.ERROR);\r\nassertThat(logEvent.getMessage().getFormattedMessage()).contains(expectedErrorMessage);\r\n```","title":"How to do a JUnit assert on a message in a logger","body":"<p>Note that in Log4J 2.x, the public interface <a href=\"https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/Logger.html\" rel=\"nofollow noreferrer\"><code>org.apache.logging.log4j.Logger</code></a> doesn't include the <code>setAppender()</code> and <code>removeAppender()</code> methods.</p>\n\n<p>But if you're not doing anything too fancy, you should be able to cast it to the implementation class <a href=\"https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/Logger.html\" rel=\"nofollow noreferrer\"><code>org.apache.logging.log4j.core.Logger</code></a>, which does expose those methods.</p>\n\n<p>Here's an example with <a href=\"https://site.mockito.org\" rel=\"nofollow noreferrer\">Mockito</a> and <a href=\"https://assertj.github.io/doc/\" rel=\"nofollow noreferrer\">AssertJ</a>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Import the implementation class rather than the API interface\nimport org.apache.logging.log4j.core.Logger;\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Cast logger to implementation class to get access to setAppender/removeAppender\nLogger log = (Logger) LogManager.getLogger(MyClassUnderTest.class);\n\n// Set up the mock appender, stubbing some methods Log4J needs internally\nAppender appender = mock(Appender.class);\nwhen(appender.getName()).thenReturn(\"Mock Appender\");\nwhen(appender.isStarted()).thenReturn(true);\n\nlog.addAppender(appender);\ntry {\n    new MyClassUnderTest().doSomethingThatShouldLogAnError();\n} finally {\n    log.removeAppender(appender);\n}\n\n// Verify that we got an error with the expected message\nArgumentCaptor&lt;LogEvent&gt; logEventCaptor = ArgumentCaptor.forClass(LogEvent.class);\nverify(appender).append(logEventCaptor.capture());\nLogEvent logEvent = logEventCaptor.getValue();\nassertThat(logEvent.getLevel()).isEqualTo(Level.ERROR);\nassertThat(logEvent.getMessage().getFormattedMessage()).contains(expectedErrorMessage);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5811438,"reputation":1501,"user_id":4582350,"display_name":"Ram"},"score":0,"creation_date":1586440493,"post_id":60527144,"comment_id":108133116,"body_markdown":"I believe log statements are unlike `getOut()` or `getErr()`.","body":"I believe log statements are unlike <code>getOut()</code> or <code>getErr()</code>."},{"owner":{"account_id":2377199,"reputation":3405,"user_id":2160877,"accept_rate":59,"display_name":"dragi"},"score":4,"creation_date":1591025249,"post_id":60527144,"comment_id":109893494,"body_markdown":"This is the answer I was looking for (although the question is not spring boot related)!","body":"This is the answer I was looking for (although the question is not spring boot related)!"},{"owner":{"account_id":3714453,"reputation":1013,"user_id":3091006,"display_name":"aemaem"},"score":2,"creation_date":1597780774,"post_id":60527144,"comment_id":112244602,"body_markdown":"@Ram It doesn&#39;t matter whether the logger is intercepted or the actual logging string, which is printed on the console, is intercepted. It works either way if the logger is configured to print to the console.","body":"@Ram It doesn&#39;t matter whether the logger is intercepted or the actual logging string, which is printed on the console, is intercepted. It works either way if the logger is configured to print to the console."},{"owner":{"account_id":1322163,"reputation":166,"user_id":1267748,"display_name":"cwa"},"score":1,"creation_date":1659947793,"post_id":60527144,"comment_id":129407323,"body_markdown":"Wow! this is it. No need to use static mocking of the logger. Capture the actual output.","body":"Wow! this is it. No need to use static mocking of the logger. Capture the actual output."},{"owner":{"account_id":10445005,"reputation":113,"user_id":7700346,"display_name":"BrandonLenz"},"score":0,"creation_date":1662999206,"post_id":60527144,"comment_id":130130843,"body_markdown":"what is `assertThat` imported from here?","body":"what is <code>assertThat</code> imported from here?"},{"owner":{"account_id":3714453,"reputation":1013,"user_id":3091006,"display_name":"aemaem"},"score":1,"creation_date":1663015765,"post_id":60527144,"comment_id":130135783,"body_markdown":"That is an [AssertJ](https://assertj.github.io/doc/#assertj-core) assertion. Import would be `import static org.assertj.core.api.Assertions.*;`","body":"That is an <a href=\"https://assertj.github.io/doc/#assertj-core\" rel=\"nofollow noreferrer\">AssertJ</a> assertion. Import would be <code>import static org.assertj.core.api.Assertions.*;</code>"},{"owner":{"account_id":7995828,"reputation":157,"user_id":6032188,"display_name":"lei li"},"score":1,"creation_date":1665302395,"post_id":60527144,"comment_id":130664676,"body_markdown":"Work for me. PS: replace the assert code like this: assertTrue(output.getOut().contains(&quot;xxx log&quot;));","body":"Work for me. PS: replace the assert code like this: assertTrue(output.getOut().contains(&quot;xxx log&quot;));"}],"tags":[],"owner":{"account_id":3714453,"reputation":1013,"user_id":3091006,"display_name":"aemaem"},"comment_count":7,"down_vote_count":2,"up_vote_count":68,"is_accepted":false,"score":66,"last_activity_date":1682060032,"creation_date":1583328227,"answer_id":60527144,"question_id":1827677,"body_markdown":"For Junit 5 (Jupiter) Spring&#39;s [OutputCaptureExtension][1] is quite useful. It can be registered for an entire test class or for an individual test method via the `@ExtendWith` annotation. It&#39;s available since Spring Boot 2.2 and is available in the [spring-boot-test][2] artifact.\r\n\r\nExample (taken from javadoc):\r\n\r\n    @ExtendWith(OutputCaptureExtension.class)\r\n    class MyTest {\r\n        @Test\r\n        void test(CapturedOutput output) {\r\n            System.out.println(&quot;ok&quot;);\r\n            assertThat(output).contains(&quot;ok&quot;);\r\n            System.err.println(&quot;error&quot;);\r\n        }\r\n    \r\n        @AfterEach\r\n        void after(CapturedOutput output) {\r\n            assertThat(output.getOut()).contains(&quot;ok&quot;);\r\n            assertThat(output.getErr()).contains(&quot;error&quot;);\r\n        }\r\n    }\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.2.x/api/org/springframework/boot/test/system/OutputCaptureExtension.html\r\n  [2]: https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-test\r\n","title":"How to do a JUnit assert on a message in a logger","body":"<p>For Junit 5 (Jupiter) Spring's <a href=\"https://docs.spring.io/spring-boot/docs/2.2.x/api/org/springframework/boot/test/system/OutputCaptureExtension.html\" rel=\"noreferrer\">OutputCaptureExtension</a> is quite useful. It can be registered for an entire test class or for an individual test method via the <code>@ExtendWith</code> annotation. It's available since Spring Boot 2.2 and is available in the <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-test\" rel=\"noreferrer\">spring-boot-test</a> artifact.</p>\n<p>Example (taken from javadoc):</p>\n<pre><code>@ExtendWith(OutputCaptureExtension.class)\nclass MyTest {\n    @Test\n    void test(CapturedOutput output) {\n        System.out.println(&quot;ok&quot;);\n        assertThat(output).contains(&quot;ok&quot;);\n        System.err.println(&quot;error&quot;);\n    }\n\n    @AfterEach\n    void after(CapturedOutput output) {\n        assertThat(output.getOut()).contains(&quot;ok&quot;);\n        assertThat(output.getErr()).contains(&quot;error&quot;);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2616282,"reputation":188,"user_id":2265270,"display_name":"Tiemo Vorsch&#252;tz"},"score":2,"creation_date":1642145202,"post_id":63546258,"comment_id":124997945,"body_markdown":"Quit easy to use and less boilerplate code! Great solution for me. Thanks!","body":"Quit easy to use and less boilerplate code! Great solution for me. Thanks!"},{"owner":{"account_id":1178902,"reputation":1034,"user_id":1154271,"accept_rate":75,"display_name":"Readren"},"score":1,"creation_date":1642725724,"post_id":63546258,"comment_id":125155179,"body_markdown":"Could you please add the imports?","body":"Could you please add the imports?"},{"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"score":2,"creation_date":1642759875,"post_id":63546258,"comment_id":125162840,"body_markdown":"@Readren just added it","body":"@Readren just added it"},{"owner":{"account_id":349165,"reputation":559,"user_id":684296,"accept_rate":80,"display_name":"Newerth"},"score":0,"creation_date":1701764076,"post_id":63546258,"comment_id":136812889,"body_markdown":"Sadly, LogCaptor does not work for me. Just adding it to dependencies crashes the tests with various `org.codehaus.groovy.runtime.typehandling.GroovyCastException` exceptions. I use Gradle, Groovy, Log4j2 and Apache Artemis libraries.","body":"Sadly, LogCaptor does not work for me. Just adding it to dependencies crashes the tests with various <code>org.codehaus.groovy.runtime.typehandling.GroovyCastException</code> exceptions. I use Gradle, Groovy, Log4j2 and Apache Artemis libraries."},{"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"score":0,"creation_date":1701771136,"post_id":63546258,"comment_id":136814068,"body_markdown":"@Newerth if you can publish a small example on GitHub I can look into it what the issue is and provide a solution","body":"@Newerth if you can publish a small example on GitHub I can look into it what the issue is and provide a solution"},{"owner":{"account_id":349165,"reputation":559,"user_id":684296,"accept_rate":80,"display_name":"Newerth"},"score":0,"creation_date":1701781885,"post_id":63546258,"comment_id":136815793,"body_markdown":"@Hakan54 Apparently, it cannot cope with the `@Log4j2` annotation, which behaves similarly to `private static final Logger log = LogManager.getLogger(App.class)`.","body":"@Hakan54 Apparently, it cannot cope with the <code>@Log4j2</code> annotation, which behaves similarly to <code>private static final Logger log = LogManager.getLogger(App.class)</code>."},{"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"score":0,"creation_date":1701784660,"post_id":63546258,"comment_id":136816418,"body_markdown":"@Newerth hmm, strange as I have tested that use case see here in my test package https://github.com/Hakky54/log-captor/blob/9ed4aa5549fcf363771243d7a72df00257a574ef/src/test/java/nl/altindag/log/service/lombok/ServiceWithLombokAndLog4j2.java#26 The log4j2 annotation works and the passing unit test is the evidence... So I have the feeling that something else is causing the issue.","body":"@Newerth hmm, strange as I have tested that use case see here in my test package <a href=\"https://github.com/Hakky54/log-captor/blob/9ed4aa5549fcf363771243d7a72df00257a574ef/src/test/java/nl/altindag/log/service/lombok/ServiceWithLombokAndLog4j2.java#26\" rel=\"nofollow noreferrer\">github.com/Hakky54/log-captor/blob/&hellip;</a> The log4j2 annotation works and the passing unit test is the evidence... So I have the feeling that something else is causing the issue."}],"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"comment_count":7,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1680426567,"creation_date":1598181178,"answer_id":63546258,"question_id":1827677,"body_markdown":"I also ran into the same challanged and ended up at this page. Although I am 11 years too late to answers the question, I thought maybe it could be still usefull for others. I found the answer of `davidxxx` with Logback and the ListAppander very usefull. I used the same configuration for multiple projects, however it was not so fun to copy/paste it and maintaining all the version when I needed to changes something. I thought it would be better to make a library out of it and contribute back to the community. It works with SLFJ4, Apache Log4j2, Java Util Logging, JBoss Logging, Google Flogger and with Lombok annotations. Please have a look here: [LogCaptor][1] for detailed examples and how to add it to your project.\r\n\r\nExample situation:\r\n```\r\npublic class FooService {\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(FooService.class);\r\n\r\n    public void sayHello() {\r\n        LOGGER.warn(&quot;Congratulations, you are pregnant!&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nExample unit test with usage of LogCaptor:\r\n```\r\nimport nl.altindag.log.LogCaptor;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\n\r\npublic class FooServiceTest {\r\n\r\n    @Test\r\n    public void sayHelloShouldLogWarnMessage() {\r\n        LogCaptor logCaptor = LogCaptor.forClass(FooService.class);\r\n\r\n        FooService fooService = new FooService();\r\n        fooService.sayHello();\r\n\r\n        assertThat(logCaptor.getWarnLogs())\r\n            .contains(&quot;Congratulations, you are pregnant!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI wasn&#39;t quite sure if I should post this here, because it could also be seen as a way to promote &quot;my library&quot; but I thought it could be helpful for developers who have the same challenges.\r\n\r\n  [1]: https://github.com/Hakky54/log-captor","title":"How to do a JUnit assert on a message in a logger","body":"<p>I also ran into the same challanged and ended up at this page. Although I am 11 years too late to answers the question, I thought maybe it could be still usefull for others. I found the answer of <code>davidxxx</code> with Logback and the ListAppander very usefull. I used the same configuration for multiple projects, however it was not so fun to copy/paste it and maintaining all the version when I needed to changes something. I thought it would be better to make a library out of it and contribute back to the community. It works with SLFJ4, Apache Log4j2, Java Util Logging, JBoss Logging, Google Flogger and with Lombok annotations. Please have a look here: <a href=\"https://github.com/Hakky54/log-captor\" rel=\"noreferrer\">LogCaptor</a> for detailed examples and how to add it to your project.</p>\n<p>Example situation:</p>\n<pre><code>public class FooService {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(FooService.class);\n\n    public void sayHello() {\n        LOGGER.warn(&quot;Congratulations, you are pregnant!&quot;);\n    }\n\n}\n</code></pre>\n<p>Example unit test with usage of LogCaptor:</p>\n<pre><code>import nl.altindag.log.LogCaptor;\nimport org.junit.jupiter.api.Test;\n\nimport static org.assertj.core.api.Assertions.assertThat;\n\npublic class FooServiceTest {\n\n    @Test\n    public void sayHelloShouldLogWarnMessage() {\n        LogCaptor logCaptor = LogCaptor.forClass(FooService.class);\n\n        FooService fooService = new FooService();\n        fooService.sayHello();\n\n        assertThat(logCaptor.getWarnLogs())\n            .contains(&quot;Congratulations, you are pregnant!&quot;);\n    }\n}\n</code></pre>\n<p>I wasn't quite sure if I should post this here, because it could also be seen as a way to promote &quot;my library&quot; but I thought it could be helpful for developers who have the same challenges.</p>\n"},{"tags":[],"owner":{"account_id":3805231,"reputation":744,"user_id":3157855,"accept_rate":45,"display_name":"user3157855"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1602270316,"creation_date":1602270316,"answer_id":64285930,"question_id":1827677,"body_markdown":"You don&#39;t need to rely on hardcoded static global Loggers in your class implementation, you can provide a default logger in the default constructor and then use a specific constructor to set a reference to the provided logger.\r\n\r\n    class MyClassToTest {\r\n    \tprivate final Logger logger;\r\n    \t\r\n    \tpublic MyClassToTest() {\r\n    \t  this(SomeStatic.logger);\r\n    \t};\r\n    \t\r\n    \tMyClassToTest(Logger logger) {\r\n    \t  this.logger = logger;\r\n    \t};\r\n    \t\r\n    \tpublic void someOperation() {\r\n    \t\tlogger.warn(&quot;warning message&quot;);\r\n    \t\t// ...\r\n    \t};\r\n    };\r\n    \r\n    class MyClassToTestTest {\r\n    \t\r\n    \t@Test\r\n    \tpublic warnCalled() {\r\n    \t\tLogger loggerMock = mock(Logger.class);\r\n    \t\tMyClassTest myClassToTest = new MyClassToTest(logger);\r\n    \t\tmyClassToTest.someOperation();\r\n    \t\tverify(loggerMock).warn(anyString());\r\n    \t};\r\n    }","title":"How to do a JUnit assert on a message in a logger","body":"<p>You don't need to rely on hardcoded static global Loggers in your class implementation, you can provide a default logger in the default constructor and then use a specific constructor to set a reference to the provided logger.</p>\n<pre><code>class MyClassToTest {\n    private final Logger logger;\n    \n    public MyClassToTest() {\n      this(SomeStatic.logger);\n    };\n    \n    MyClassToTest(Logger logger) {\n      this.logger = logger;\n    };\n    \n    public void someOperation() {\n        logger.warn(&quot;warning message&quot;);\n        // ...\n    };\n};\n\nclass MyClassToTestTest {\n    \n    @Test\n    public warnCalled() {\n        Logger loggerMock = mock(Logger.class);\n        MyClassTest myClassToTest = new MyClassToTest(logger);\n        myClassToTest.someOperation();\n        verify(loggerMock).warn(anyString());\n    };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7025825,"reputation":1450,"user_id":5383238,"accept_rate":60,"display_name":"Abdur Rahman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617601909,"creation_date":1617601909,"answer_id":66948790,"question_id":1827677,"body_markdown":"In my case I solved the same issue as bellow:\r\n\r\n    Logger root = (Logger) LoggerFactory.getLogger(CSVTasklet.class); //CSVTasklet is my target class\r\n        final Appender mockAppender = mock(Appender.class);\r\n        root.addAppender(mockAppender); \r\n    \r\n    verify(mockAppender).doAppend(argThat((ArgumentMatcher) argument -&gt; ((LoggingEvent) argument).getMessage().contains(&quot;No projects.&quot;))); // I checked &quot;No projects.&quot; in the log\r\n","title":"How to do a JUnit assert on a message in a logger","body":"<p>In my case I solved the same issue as bellow:</p>\n<pre><code>Logger root = (Logger) LoggerFactory.getLogger(CSVTasklet.class); //CSVTasklet is my target class\n    final Appender mockAppender = mock(Appender.class);\n    root.addAppender(mockAppender); \n\nverify(mockAppender).doAppend(argThat((ArgumentMatcher) argument -&gt; ((LoggingEvent) argument).getMessage().contains(&quot;No projects.&quot;))); // I checked &quot;No projects.&quot; in the log\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10169691,"reputation":510,"user_id":7510389,"display_name":"Vifier Lockla"},"score":1,"creation_date":1619947012,"post_id":67169120,"comment_id":119052310,"body_markdown":"Assume you have this line in your service to test :\n```java\npublic class YourService {\n    private static final Logger logger = LogManager.getLogger(YourService.class);\n```\nAlso don&#39;t forget to add this dependencies for assertThat :\n\n```java\n        &lt;!-- Logger unit test solution--&gt;\n        ...\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n            &lt;version&gt;3.19.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n```","body":"Assume you have this line in your service to test : <code>java public class YourService {     private static final Logger logger = LogManager.getLogger(YourService.class); </code> Also don&#39;t forget to add this dependencies for assertThat :  <code>java         &lt;!-- Logger unit test solution--&gt;         ...         &lt;dependency&gt;             &lt;groupId&gt;org.assertj&lt;&#47;groupId&gt;             &lt;artifactId&gt;assertj-core&lt;&#47;artifactId&gt;             &lt;version&gt;3.19.0&lt;&#47;version&gt;             &lt;scope&gt;test&lt;&#47;scope&gt;         &lt;&#47;dependency&gt; </code>"}],"tags":[],"owner":{"account_id":3065469,"reputation":1555,"user_id":2597267,"display_name":"Borislav Markov"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1618865026,"creation_date":1618865026,"answer_id":67169120,"question_id":1827677,"body_markdown":"Check this library [https://github.com/Hakky54/log-captor][1]\r\n\r\nInclude in your maven file the reference for the library:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\r\n    &lt;artifactId&gt;logcaptor&lt;/artifactId&gt;\r\n    &lt;version&gt;2.5.0&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nIn java code test method you should include this:\r\n```java\r\nLogCaptor logCaptor = LogCaptor.forClass(MyClass.class);\r\n\r\n // do the test logic....\r\n\r\nassertThat(logCaptor.getLogs()).contains(&quot;Some log to assert&quot;);\r\n\r\n```\r\n  [1]: https://github.com/Hakky54/log-captor","title":"How to do a JUnit assert on a message in a logger","body":"<p>Check this library <a href=\"https://github.com/Hakky54/log-captor\" rel=\"nofollow noreferrer\">https://github.com/Hakky54/log-captor</a></p>\n<p>Include in your maven file the reference for the library:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\n    &lt;artifactId&gt;logcaptor&lt;/artifactId&gt;\n    &lt;version&gt;2.5.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>In java code test method you should include this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LogCaptor logCaptor = LogCaptor.forClass(MyClass.class);\n\n // do the test logic....\n\nassertThat(logCaptor.getLogs()).contains(&quot;Some log to assert&quot;);\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2836130,"reputation":297,"user_id":2436718,"accept_rate":38,"display_name":"Sergio Figueras"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634040955,"creation_date":1634040160,"answer_id":69540203,"question_id":1827677,"body_markdown":"Unit testing by adding an Appender does not really test the Logger&#39;s configuration. So, I think that it&#39;s one of the unique cases in which unit tests do not bring that much value, but an integration test brings a lot of value *(especially if your logging has some auditing purposes)*.\r\n\r\nIn order to create an integration test for it, let us suppose that you are running with a simple `ConsoleAppender` and want to test its output. Then, you should test how the message is written to its own `ByteArrayOutputStream` from `System.out`.\r\n\r\nIn that sense, I would do the following (I&#39;m using JUnit 5):\r\n\r\n```\r\npublic class Slf4jAuditLoggerTest {\r\n\r\n\tprivate final ByteArrayOutputStream outContent = new ByteArrayOutputStream();\r\n\r\n\t@BeforeEach\r\n\tpublic void beforeEach() {\r\n\t\tSystem.setOut(new PrintStream(outContent));\r\n\t}\r\n``` \r\n\r\nIn that way, you are able to test its output by simply:\r\n```\r\n\t@Test\r\n\tpublic void myTest() {\r\n\t\t// Given...\r\n\t\t// When...\r\n\t\t// Then\r\n\t\tassertTrue(outContent.toString().contains(&quot;[INFO] My formatted string from Logger&quot;));\r\n\t}\r\n```\r\n\r\nIf you do so, you will bring much more value to your project and will not need to using an in-memory implementation, create a new Appender, or whatsoever.","title":"How to do a JUnit assert on a message in a logger","body":"<p>Unit testing by adding an Appender does not really test the Logger's configuration. So, I think that it's one of the unique cases in which unit tests do not bring that much value, but an integration test brings a lot of value <em>(especially if your logging has some auditing purposes)</em>.</p>\n<p>In order to create an integration test for it, let us suppose that you are running with a simple <code>ConsoleAppender</code> and want to test its output. Then, you should test how the message is written to its own <code>ByteArrayOutputStream</code> from <code>System.out</code>.</p>\n<p>In that sense, I would do the following (I'm using JUnit 5):</p>\n<pre><code>public class Slf4jAuditLoggerTest {\n\n    private final ByteArrayOutputStream outContent = new ByteArrayOutputStream();\n\n    @BeforeEach\n    public void beforeEach() {\n        System.setOut(new PrintStream(outContent));\n    }\n</code></pre>\n<p>In that way, you are able to test its output by simply:</p>\n<pre><code>    @Test\n    public void myTest() {\n        // Given...\n        // When...\n        // Then\n        assertTrue(outContent.toString().contains(&quot;[INFO] My formatted string from Logger&quot;));\n    }\n</code></pre>\n<p>If you do so, you will bring much more value to your project and will not need to using an in-memory implementation, create a new Appender, or whatsoever.</p>\n"},{"comments":[{"owner":{"account_id":361565,"reputation":512,"user_id":704246,"accept_rate":50,"display_name":"Saad Benbouzid"},"score":0,"creation_date":1644253444,"post_id":70287902,"comment_id":125550656,"body_markdown":"it only logs all write operations to standard output (whole message logged by appender with corresponding patternlayout), there&#39;s no way to get the level of the log","body":"it only logs all write operations to standard output (whole message logged by appender with corresponding patternlayout), there&#39;s no way to get the level of the log"},{"owner":{"account_id":15076433,"reputation":129,"user_id":15635042,"display_name":"Siddharth Aadarsh"},"score":1,"creation_date":1674585578,"post_id":70287902,"comment_id":132744162,"body_markdown":"Its pretty useful when you need to match the contents of the logger. It does my work.","body":"Its pretty useful when you need to match the contents of the logger. It does my work."}],"tags":[],"owner":{"account_id":13215461,"reputation":326,"user_id":9544181,"display_name":"Mehmet Pekdemir"},"comment_count":2,"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1639043931,"creation_date":1639043931,"answer_id":70287902,"question_id":1827677,"body_markdown":"Easiest way\r\n\r\n      @ExtendWith(OutputCaptureExtension.class)\r\n      class MyTestClass { \r\n        \r\n              @Test\r\n              void my_test_method(CapturedOutput output) {\r\n                   assertThat(output).contains(&quot;my test log.&quot;);\r\n              }\r\n      }","title":"How to do a JUnit assert on a message in a logger","body":"<p>Easiest way</p>\n<pre><code>  @ExtendWith(OutputCaptureExtension.class)\n  class MyTestClass { \n    \n          @Test\n          void my_test_method(CapturedOutput output) {\n               assertThat(output).contains(&quot;my test log.&quot;);\n          }\n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2158186,"reputation":302,"user_id":1912944,"display_name":"David"},"score":0,"creation_date":1693537195,"post_id":76743785,"comment_id":135777305,"body_markdown":"Flogger is agnostic to the backend you pick for it, so you can either do as this answer suggests, or hook into the underlying logging system (JDK/Log4J2 etc.) to intercept logs.  I am actually working (spare time) on a backend agnostic log testing library (e.g. will work seamlessly with all common backends).","body":"Flogger is agnostic to the backend you pick for it, so you can either do as this answer suggests, or hook into the underlying logging system (JDK/Log4J2 etc.) to intercept logs.  I am actually working (spare time) on a backend agnostic log testing library (e.g. will work seamlessly with all common backends)."},{"owner":{"account_id":2158186,"reputation":302,"user_id":1912944,"display_name":"David"},"score":0,"creation_date":1694959365,"post_id":76743785,"comment_id":135957104,"body_markdown":"I just added a new answer which makes this one obsolete. The &quot;flogger-testing&quot; library (https://github.com/hagbard/flogger-testing) does much more than this and is much easier to set up.","body":"I just added a new answer which makes this one obsolete. The &quot;flogger-testing&quot; library (<a href=\"https://github.com/hagbard/flogger-testing\" rel=\"nofollow noreferrer\">github.com/hagbard/flogger-testing</a>) does much more than this and is much easier to set up."}],"tags":[],"owner":{"account_id":3430499,"reputation":1614,"user_id":2875073,"accept_rate":88,"display_name":"Jonn"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690029002,"creation_date":1690029002,"answer_id":76743785,"question_id":1827677,"body_markdown":"For anyone using Google&#39;s [Flogger](https://google.github.io/flogger/) logging API, here&#39;s how you can write a logging backend that can be used in tests:\r\n\r\n```kt\r\nimport com.google.common.flogger.backend.LogData\r\nimport com.google.common.flogger.backend.LoggerBackend\r\nimport com.google.common.flogger.backend.system.BackendFactory\r\nimport java.lang.RuntimeException\r\nimport java.util.logging.Level\r\nimport java.util.logging.Level.SEVERE\r\nimport java.util.logging.Level.WARNING\r\n\r\n/** Stores information about logs that occurred during test execution. */\r\nclass LogCollection {\r\n  val messages = mutableListOf&lt;String&gt;()\r\n}\r\n\r\nclass TestLoggingBackendFactory : BackendFactory() {\r\n  /** Gets a singleton logging backend. */\r\n  override fun create(p0: String?) = TestLoggingBackend\r\n}\r\n\r\n/** Flogger logging backend that listens to new logs during the test. */\r\nobject TestLoggingBackend : LoggerBackend() {\r\n  val logs = LogCollection()\r\n\r\n  override fun getLoggerName(): String = &quot;TestLoggingBackend&quot;\r\n\r\n  override fun isLoggable(level: Level): Boolean = level in setOf(SEVERE, WARNING)\r\n\r\n  override fun log(logData: LogData) {\r\n    handleError(e = null, logData)\r\n  }\r\n\r\n  override fun handleError(e: RuntimeException?, logData: LogData) {\r\n    logs.messages.add(logData.literalArgument.toString())\r\n  }\r\n}\r\n```\r\n\r\nThen somewhere you will need to set the system property\r\n\r\n```\r\nsystemProperty(\r\n  &quot;flogger.backend_factory&quot;,\r\n  &quot;my.package.here.TestLoggingBackendFactory#getInstance&quot;\r\n)\r\n```\r\n\r\nand now you can access all of the logs that occur via `TestLoggingBackend.logs`.\r\n\r\nI took this a step further and turned this into a JUnit rule with [Truth](https://github.com/google/truth) assertions, which you can see here: [`LoggingRule.kt`](https://github.com/hopskipnfall/EmuLinker-K/blob/master/emulinker/src/test/java/org/emulinker/testing/LoggingRule.kt)","title":"How to do a JUnit assert on a message in a logger","body":"<p>For anyone using Google's <a href=\"https://google.github.io/flogger/\" rel=\"nofollow noreferrer\">Flogger</a> logging API, here's how you can write a logging backend that can be used in tests:</p>\n<pre><code>import com.google.common.flogger.backend.LogData\nimport com.google.common.flogger.backend.LoggerBackend\nimport com.google.common.flogger.backend.system.BackendFactory\nimport java.lang.RuntimeException\nimport java.util.logging.Level\nimport java.util.logging.Level.SEVERE\nimport java.util.logging.Level.WARNING\n\n/** Stores information about logs that occurred during test execution. */\nclass LogCollection {\n  val messages = mutableListOf&lt;String&gt;()\n}\n\nclass TestLoggingBackendFactory : BackendFactory() {\n  /** Gets a singleton logging backend. */\n  override fun create(p0: String?) = TestLoggingBackend\n}\n\n/** Flogger logging backend that listens to new logs during the test. */\nobject TestLoggingBackend : LoggerBackend() {\n  val logs = LogCollection()\n\n  override fun getLoggerName(): String = &quot;TestLoggingBackend&quot;\n\n  override fun isLoggable(level: Level): Boolean = level in setOf(SEVERE, WARNING)\n\n  override fun log(logData: LogData) {\n    handleError(e = null, logData)\n  }\n\n  override fun handleError(e: RuntimeException?, logData: LogData) {\n    logs.messages.add(logData.literalArgument.toString())\n  }\n}\n</code></pre>\n<p>Then somewhere you will need to set the system property</p>\n<pre><code>systemProperty(\n  &quot;flogger.backend_factory&quot;,\n  &quot;my.package.here.TestLoggingBackendFactory#getInstance&quot;\n)\n</code></pre>\n<p>and now you can access all of the logs that occur via <code>TestLoggingBackend.logs</code>.</p>\n<p>I took this a step further and turned this into a JUnit rule with <a href=\"https://github.com/google/truth\" rel=\"nofollow noreferrer\">Truth</a> assertions, which you can see here: <a href=\"https://github.com/hopskipnfall/EmuLinker-K/blob/master/emulinker/src/test/java/org/emulinker/testing/LoggingRule.kt\" rel=\"nofollow noreferrer\"><code>LoggingRule.kt</code></a></p>\n"},{"tags":[],"owner":{"account_id":2158186,"reputation":302,"user_id":1912944,"display_name":"David"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694957550,"creation_date":1694957550,"answer_id":77122023,"question_id":1827677,"body_markdown":"A new option for logs testing is my recently released &quot;flogger-testing&quot; library (https://github.com/hagbard/flogger-testing). Don&#39;t be fooled by the name as it can be used (with minor degradation in functionality) with Log4J and JDK logging. It supports both JUnit4 rules and JUnit5 extensions with the exact same assertion API for both.\r\n\r\nIt does not require arguably harmful practices, like forcing you to inject mocked loggers into code, and works perfectly with `static final` logger instances by intercepting the logs that are being emitted (so your tests are closer to testing what appears in log files).\r\n\r\nAdding logging tests for a class is as easy as (JUnit5):\r\n\r\n```java\r\n  @RegisterExtension\r\n  public final FloggerTestExtension logs = FloggerTestExtension.forClassUnderTest(INFO);\r\n```\r\n\r\nand the powerful fluent API is used like:\r\n\r\n```java\r\n@Test\r\npublic void testLoadData_missingFile() {\r\n  // Do normal assertion about returned values.\r\n  var result = ClassUnderTest.loadData(MISSING_FILE);\r\n  assertThat(result).isEmpty();\r\n\r\n  // Assert that we saw the expected warning ...\r\n  LogEntry firstWarning = logs.assertLogs().withLevel(WARNING).getMatch(0);\r\n  assertThat(firstWarning).hasMessageContaining(&quot;No such file&quot;, MISSING_FILE);\r\n  assertThat(firstWarning).hasCause(IOException.class);\r\n  // ... and assert that nothing seemed to go wrong before the first warning.\r\n  logs.assertLogs(before(firstWarning)).never().haveCause();\r\n}\r\n```\r\n\r\nIt has lots of features not present in any other logs testing APIs mentioned in this thread:\r\n* structured metadata testing\r\n* setup common assertions for all tests to enforce logs policy\r\n* override log levels in a single test (e.g. to ensure enabling finest logging causes no issues)\r\n* bypassing rate limiting in tests (Flogger only)\r\n* per-thread metadata to allow logs tests to reliably run in parallel (Flogger only)\r\n\r\nWrite more robust logging tests with a readable, powerful API.","title":"How to do a JUnit assert on a message in a logger","body":"<p>A new option for logs testing is my recently released &quot;flogger-testing&quot; library (<a href=\"https://github.com/hagbard/flogger-testing\" rel=\"nofollow noreferrer\">https://github.com/hagbard/flogger-testing</a>). Don't be fooled by the name as it can be used (with minor degradation in functionality) with Log4J and JDK logging. It supports both JUnit4 rules and JUnit5 extensions with the exact same assertion API for both.</p>\n<p>It does not require arguably harmful practices, like forcing you to inject mocked loggers into code, and works perfectly with <code>static final</code> logger instances by intercepting the logs that are being emitted (so your tests are closer to testing what appears in log files).</p>\n<p>Adding logging tests for a class is as easy as (JUnit5):</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @RegisterExtension\n  public final FloggerTestExtension logs = FloggerTestExtension.forClassUnderTest(INFO);\n</code></pre>\n<p>and the powerful fluent API is used like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void testLoadData_missingFile() {\n  // Do normal assertion about returned values.\n  var result = ClassUnderTest.loadData(MISSING_FILE);\n  assertThat(result).isEmpty();\n\n  // Assert that we saw the expected warning ...\n  LogEntry firstWarning = logs.assertLogs().withLevel(WARNING).getMatch(0);\n  assertThat(firstWarning).hasMessageContaining(&quot;No such file&quot;, MISSING_FILE);\n  assertThat(firstWarning).hasCause(IOException.class);\n  // ... and assert that nothing seemed to go wrong before the first warning.\n  logs.assertLogs(before(firstWarning)).never().haveCause();\n}\n</code></pre>\n<p>It has lots of features not present in any other logs testing APIs mentioned in this thread:</p>\n<ul>\n<li>structured metadata testing</li>\n<li>setup common assertions for all tests to enforce logs policy</li>\n<li>override log levels in a single test (e.g. to ensure enabling finest logging causes no issues)</li>\n<li>bypassing rate limiting in tests (Flogger only)</li>\n<li>per-thread metadata to allow logs tests to reliably run in parallel (Flogger only)</li>\n</ul>\n<p>Write more robust logging tests with a readable, powerful API.</p>\n"}],"owner":{"account_id":77676,"reputation":3587,"user_id":221538,"display_name":"Jon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":396106,"favorite_count":0,"down_vote_count":0,"up_vote_count":310,"accepted_answer_id":1834789,"answer_count":33,"score":310,"last_activity_date":1694957550,"creation_date":1259688382,"question_id":1827677,"body_markdown":"I have some code-under-test that calls on a Java logger to report its status.\r\nIn the JUnit test code, I would like to verify that the correct log entry was made in this logger. Something along the following lines:\r\n\r\n    methodUnderTest(bool x){\r\n        if(x)\r\n            logger.info(&quot;x happened&quot;)\r\n    }\r\n\r\n    @Test tester(){\r\n        // perhaps setup a logger first.\r\n        methodUnderTest(true);\r\n        assertXXXXXX(loggedLevel(),Level.INFO);\r\n    }\r\n\r\nI suppose that this could be done with a specially adapted logger (or handler, or formatter), but I would prefer to re-use a solution that already exists. (And, to be honest, it is not clear to me how to get at the logRecord from a logger, but suppose that that&#39;s possible.)\r\n","title":"How to do a JUnit assert on a message in a logger","body":"<p>I have some code-under-test that calls on a Java logger to report its status.\nIn the JUnit test code, I would like to verify that the correct log entry was made in this logger. Something along the following lines:</p>\n\n<pre><code>methodUnderTest(bool x){\n    if(x)\n        logger.info(\"x happened\")\n}\n\n@Test tester(){\n    // perhaps setup a logger first.\n    methodUnderTest(true);\n    assertXXXXXX(loggedLevel(),Level.INFO);\n}\n</code></pre>\n\n<p>I suppose that this could be done with a specially adapted logger (or handler, or formatter), but I would prefer to re-use a solution that already exists. (And, to be honest, it is not clear to me how to get at the logRecord from a logger, but suppose that that's possible.)</p>\n"},{"tags":["java","ajax","json","struts2","gson"],"comments":[{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1405005763,"post_id":24680369,"comment_id":38266491,"body_markdown":"You would use the [Struts2-json-plugin](http://struts.apache.org/release/2.2.x/docs/json-plugin.html) and the  `root` property. Don&#39;t reinvent the wheel.","body":"You would use the <a href=\"http://struts.apache.org/release/2.2.x/docs/json-plugin.html\" rel=\"nofollow noreferrer\">Struts2-json-plugin</a> and the  <code>root</code> property. Don&#39;t reinvent the wheel."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694957457,"creation_date":1405007617,"answer_id":24681048,"question_id":24680369,"body_markdown":"You can return `stream` result\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;action name=&quot;getProduct&quot; class=&quot;com.xyz.action.AjaxAction&quot;&gt;\r\n        &lt;result name=&quot;success&quot; type=&quot;stream&quot;&gt;\r\n          &lt;param name=&quot;contentType&quot;&gt;application/json&lt;/param&gt;\r\n        &lt;/result&gt;\r\n    &lt;/action&gt;\r\n\r\nand in the action\r\n\r\n    private InputStream inputStream;\r\n\r\n    //getter here\r\n    public InputStream getInputStream () {\r\n      return inputStream;\r\n    }\r\n\r\n\r\n    public String execute(){\r\n      productList= service.getProductList();//this method is getting list of products\r\n\r\n      Gson gson = new Gson();\r\n      JsonElement element = gson.toJsonTree(productList,\r\n            new TypeToken&lt;List&lt;Product&gt;&gt;() {\r\n            }.getType());\r\n      JsonArray jsonArray = element.getAsJsonArray();\r\n      inputStream = new ByteArrayInputStream(jsonArray.toString().getBytes());\r\n      return &quot;success&quot;;\r\n    }","title":"How to exclude param from response in struts 2 and send the object we want?","body":"<p>You can return <code>stream</code> result</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;action name=&quot;getProduct&quot; class=&quot;com.xyz.action.AjaxAction&quot;&gt;\n    &lt;result name=&quot;success&quot; type=&quot;stream&quot;&gt;\n      &lt;param name=&quot;contentType&quot;&gt;application/json&lt;/param&gt;\n    &lt;/result&gt;\n&lt;/action&gt;\n</code></pre>\n<p>and in the action</p>\n<pre><code>private InputStream inputStream;\n\n//getter here\npublic InputStream getInputStream () {\n  return inputStream;\n}\n\n\npublic String execute(){\n  productList= service.getProductList();//this method is getting list of products\n\n  Gson gson = new Gson();\n  JsonElement element = gson.toJsonTree(productList,\n        new TypeToken&lt;List&lt;Product&gt;&gt;() {\n        }.getType());\n  JsonArray jsonArray = element.getAsJsonArray();\n  inputStream = new ByteArrayInputStream(jsonArray.toString().getBytes());\n  return &quot;success&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":2427873,"reputation":69,"user_id":2119437,"accept_rate":57,"display_name":"Hitesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1590,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":24681048,"answer_count":1,"score":1,"last_activity_date":1694957457,"creation_date":1405005627,"question_id":24680369,"body_markdown":"I want JSON result for Ajax request, but my requirement is to send only the `ArrayList` of object and exclude some of the parameter present in action class. So how to do this?\r\n\r\nThis is my action class\r\n\r\n    public class AjaxAction{\r\n        private  int color;\r\n        private  String prodId;\r\n        private List&lt;Product&gt; productList;\r\n       \r\n     \r\n        public String execute(){\r\n        productList= service.getProductList();//this method is getting list of products\r\n        HttpServletResponse response = ServletActionContext.getResponse();\r\n    \r\n        Gson gson = new Gson();\r\n    \tJsonElement element = gson.toJsonTree(productList,\r\n    \t\t\tnew TypeToken&lt;List&lt;Product&gt;&gt;() {\r\n    \t\t\t}.getType());\r\n    \tJsonArray jsonArray = element.getAsJsonArray();\r\n    \tresponse.setContentType(&quot;application/json&quot;);\r\n    \ttry {\r\n    \t\tresponse.getWriter().print(jsonArray);\r\n    \t} catch (IOException e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n        return &quot;success&quot;;\r\n    }\r\n\r\nAnd my `struts.xml` file is:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;package name=&quot;json&quot; namespace=&quot;/&quot; extends=&quot;json-default&quot;&gt;\r\n\t\t&lt;interceptors&gt;\r\n\t\t\t&lt;interceptor-stack name=&quot;mystack&quot;&gt;\r\n\t\t\t\t&lt;interceptor-ref name=&quot;defaultStack&quot; /&gt;\r\n\t\t\t\t&lt;interceptor-ref name=&quot;json&quot;&gt;\r\n\t\t\t\t\t&lt;param name=&quot;enableSMD&quot;&gt;true&lt;/param&gt;\r\n\t\t\t\t&lt;/interceptor-ref&gt;\r\n\t\t\t&lt;/interceptor-stack&gt;\r\n\t\t&lt;/interceptors&gt;\r\n\t\t&lt;action name=&quot;getProduct&quot; class=&quot;com.xyz.action.AjaxAction&quot;&gt;\r\n\t\t\t&lt;result name=&quot;success&quot; type=&quot;json&quot; /&gt;\r\n\t        &lt;param name=&quot;root&quot;&gt;productList&lt;/param&gt;\r\n\t\t&lt;/action&gt;\r\n\t&lt;/package&gt;\r\n\r\nSo when i check my console data returned from action is having other variable in it. How to avoid that?\r\n","title":"How to exclude param from response in struts 2 and send the object we want?","body":"<p>I want JSON result for Ajax request, but my requirement is to send only the <code>ArrayList</code> of object and exclude some of the parameter present in action class. So how to do this?</p>\n<p>This is my action class</p>\n<pre><code>public class AjaxAction{\n    private  int color;\n    private  String prodId;\n    private List&lt;Product&gt; productList;\n   \n \n    public String execute(){\n    productList= service.getProductList();//this method is getting list of products\n    HttpServletResponse response = ServletActionContext.getResponse();\n\n    Gson gson = new Gson();\n    JsonElement element = gson.toJsonTree(productList,\n            new TypeToken&lt;List&lt;Product&gt;&gt;() {\n            }.getType());\n    JsonArray jsonArray = element.getAsJsonArray();\n    response.setContentType(&quot;application/json&quot;);\n    try {\n        response.getWriter().print(jsonArray);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return &quot;success&quot;;\n}\n</code></pre>\n<p>And my <code>struts.xml</code> file is:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;package name=&quot;json&quot; namespace=&quot;/&quot; extends=&quot;json-default&quot;&gt;\n    &lt;interceptors&gt;\n        &lt;interceptor-stack name=&quot;mystack&quot;&gt;\n            &lt;interceptor-ref name=&quot;defaultStack&quot; /&gt;\n            &lt;interceptor-ref name=&quot;json&quot;&gt;\n                &lt;param name=&quot;enableSMD&quot;&gt;true&lt;/param&gt;\n            &lt;/interceptor-ref&gt;\n        &lt;/interceptor-stack&gt;\n    &lt;/interceptors&gt;\n    &lt;action name=&quot;getProduct&quot; class=&quot;com.xyz.action.AjaxAction&quot;&gt;\n        &lt;result name=&quot;success&quot; type=&quot;json&quot; /&gt;\n        &lt;param name=&quot;root&quot;&gt;productList&lt;/param&gt;\n    &lt;/action&gt;\n&lt;/package&gt;\n</code></pre>\n<p>So when i check my console data returned from action is having other variable in it. How to avoid that?</p>\n"},{"tags":["java","svg","png","apache-batik"],"comments":[{"owner":{"account_id":1029387,"reputation":119820,"user_id":1038015,"display_name":"Robert Longson"},"score":6,"creation_date":1694956365,"post_id":77121934,"comment_id":135956799,"body_markdown":"Batik can [transcode SVG to various raster formats](https://xmlgraphics.apache.org/batik/using/transcoder.html). You&#39;re trying to do it backwards and it won&#39;t do that.","body":"Batik can <a href=\"https://xmlgraphics.apache.org/batik/using/transcoder.html\" rel=\"nofollow noreferrer\">transcode SVG to various raster formats</a>. You&#39;re trying to do it backwards and it won&#39;t do that."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1694956433,"post_id":77121934,"comment_id":135956804,"body_markdown":"According to the [docs](https://xmlgraphics.apache.org/batik/using/transcoder.html): &quot;which lets you rasterize an SVG document fragment to a raster image such as JPEG, PNG or TIFF.&quot; - svg is the input, not the output.","body":"According to the <a href=\"https://xmlgraphics.apache.org/batik/using/transcoder.html\" rel=\"nofollow noreferrer\">docs</a>: &quot;which lets you rasterize an SVG document fragment to a raster image such as JPEG, PNG or TIFF.&quot; - svg is the input, not the output."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1694959946,"post_id":77121934,"comment_id":135957182,"body_markdown":"If converting png to svg is even possible, it&#39;ll be much harder than this.  It isn&#39;t, though, really.","body":"If converting png to svg is even possible, it&#39;ll be much harder than this.  It isn&#39;t, though, really."},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1695018864,"post_id":77121934,"comment_id":135962639,"body_markdown":"You can always create an SVG with an embedded PNG (or other supported raster format), but it&#39;s basically useless...","body":"You can always create an SVG with an embedded PNG (or other supported raster format), but it&#39;s basically useless..."}],"owner":{"account_id":2589371,"reputation":3454,"user_id":3655069,"accept_rate":25,"display_name":"Sun"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694956014,"creation_date":1694956014,"question_id":77121934,"body_markdown":"I am trying like this:\r\n\r\n    public class ImageToSVGConverterTool {\r\n    \r\n        public static void main(String[] args) {\r\n            String inputImagePath = &quot;C:\\\\Users\\\\path\\\\facebook.png&quot;; // Replace with the path to your input image\r\n            String outputSVGPath = &quot;C:\\\\Users\\\\path\\\\OUTPUT\\\\output_image.svg&quot;; // Replace with the desired output SVG file path\r\n            //FileUtils.createNewFile(outputSVGPath);\r\n            System.out.println(FileUtils.isImageFile(outputSVGPath));\r\n            System.out.println(new File(outputSVGPath).isFile());\r\n            try {\r\n                convertImageToSVG(inputImagePath, outputSVGPath);\r\n                System.out.println(&quot;Image converted to SVG successfully.&quot;);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public static void convertImageToSVG(String inputImagePath, String outputSVGPath)\r\n                throws IOException, TranscoderException {\r\n            File inputFile = new File(inputImagePath);\r\n            File outputFile = new File(outputSVGPath);\r\n    \r\n            ImageTranscoder transcoder = new PNGTranscoder(); // Change to PNGTranscoder if input is PNG\r\n            //ImageTranscoder transcoder = new JPEGTranscoder(); // Change to PNGTranscoder if input is PNG\r\n    \r\n            // Set the output file\r\n            FileOutputStream outputStream = new FileOutputStream(outputFile);\r\n            TranscoderOutput transcoderOutput = new TranscoderOutput(outputStream);\r\n    \r\n            // Set the input image\r\n            TranscoderInput transcoderInput = new TranscoderInput(inputFile.toURI().toString());\r\n    \r\n            // Perform the conversion\r\n            transcoder.transcode(transcoderInput, transcoderOutput);\r\n    \r\n            // Close the output stream\r\n            outputStream.close();\r\n        }\r\n    }\r\n\r\nMy initail input file facebook icon downloaded from net facebook.png\r\nOutputfile is empty svg file.\r\n\r\nBut I am getting error like this\r\n\r\n    org.apache.batik.transcoder.TranscoderException: null\r\n    Enclosed Exception:\r\n    Invalid byte 1 of 1-byte UTF-8 sequence.\r\n    \tcom.uml.svg.tools.ImageToSVGConverterTool.convertImageToSVG(ImageToSVGConverterTool.java:50)\r\n    \tat com.uml.svg.tools.ImageToSVGConverterTool.main(ImageToSVGConverterTool.java:24)\r\n    Caused by: org.apache.batik.dom.util.SAXIOException: Invalid byte 1 of 1-byte UTF-8 sequence.\r\n    \t\r\n    Caused by: org.xml.sax.SAXParseException; systemId: file:/C:/Users/ravmaddi/Desktop/facebook.png; lineNumber: 1; columnNumber: 1; Invalid byte\r\n\r\n","title":"PNG to SVG Convertion - Invalid byte 1 of 1-byte UTF-8 sequence","body":"<p>I am trying like this:</p>\n<pre><code>public class ImageToSVGConverterTool {\n\n    public static void main(String[] args) {\n        String inputImagePath = &quot;C:\\\\Users\\\\path\\\\facebook.png&quot;; // Replace with the path to your input image\n        String outputSVGPath = &quot;C:\\\\Users\\\\path\\\\OUTPUT\\\\output_image.svg&quot;; // Replace with the desired output SVG file path\n        //FileUtils.createNewFile(outputSVGPath);\n        System.out.println(FileUtils.isImageFile(outputSVGPath));\n        System.out.println(new File(outputSVGPath).isFile());\n        try {\n            convertImageToSVG(inputImagePath, outputSVGPath);\n            System.out.println(&quot;Image converted to SVG successfully.&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void convertImageToSVG(String inputImagePath, String outputSVGPath)\n            throws IOException, TranscoderException {\n        File inputFile = new File(inputImagePath);\n        File outputFile = new File(outputSVGPath);\n\n        ImageTranscoder transcoder = new PNGTranscoder(); // Change to PNGTranscoder if input is PNG\n        //ImageTranscoder transcoder = new JPEGTranscoder(); // Change to PNGTranscoder if input is PNG\n\n        // Set the output file\n        FileOutputStream outputStream = new FileOutputStream(outputFile);\n        TranscoderOutput transcoderOutput = new TranscoderOutput(outputStream);\n\n        // Set the input image\n        TranscoderInput transcoderInput = new TranscoderInput(inputFile.toURI().toString());\n\n        // Perform the conversion\n        transcoder.transcode(transcoderInput, transcoderOutput);\n\n        // Close the output stream\n        outputStream.close();\n    }\n}\n</code></pre>\n<p>My initail input file facebook icon downloaded from net facebook.png\nOutputfile is empty svg file.</p>\n<p>But I am getting error like this</p>\n<pre><code>org.apache.batik.transcoder.TranscoderException: null\nEnclosed Exception:\nInvalid byte 1 of 1-byte UTF-8 sequence.\n    com.uml.svg.tools.ImageToSVGConverterTool.convertImageToSVG(ImageToSVGConverterTool.java:50)\n    at com.uml.svg.tools.ImageToSVGConverterTool.main(ImageToSVGConverterTool.java:24)\nCaused by: org.apache.batik.dom.util.SAXIOException: Invalid byte 1 of 1-byte UTF-8 sequence.\n    \nCaused by: org.xml.sax.SAXParseException; systemId: file:/C:/Users/ravmaddi/Desktop/facebook.png; lineNumber: 1; columnNumber: 1; Invalid byte\n</code></pre>\n"},{"tags":["java","spring-boot","spring-cloud","spring-cloud-loadbalancer"],"answers":[{"comments":[{"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"score":0,"creation_date":1613025608,"post_id":65586295,"comment_id":116949748,"body_markdown":"Meaning, I have to reformat list of servers in to above format and no way to provide list in single line? Currently I am using a ribbon and reading the list of severs from config sever parameter. I couldn&#39;t see any other option either...\n`ribbon:\n  listOfServers: ${app.main.config.external.hosts}`","body":"Meaning, I have to reformat list of servers in to above format and no way to provide list in single line? Currently I am using a ribbon and reading the list of severs from config sever parameter. I couldn&#39;t see any other option either... <code>ribbon:   listOfServers: ${app.main.config.external.hosts}</code>"},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1613059978,"post_id":65586295,"comment_id":116964855,"body_markdown":"This isn&#39;t Ribbon and doesn&#39;t have a compatible single line option","body":"This isn&#39;t Ribbon and doesn&#39;t have a compatible single line option"},{"owner":{"account_id":1779116,"reputation":311,"user_id":2915388,"display_name":"Govind"},"score":0,"creation_date":1618572314,"post_id":65586295,"comment_id":118647988,"body_markdown":"This works, but the whole idea is we would not need to configure these URL&#39;s manually when using Eureka along with Feign. Is there any other way to solve this issue apart from manually declaring the URL&#39;s","body":"This works, but the whole idea is we would not need to configure these URL&#39;s manually when using Eureka along with Feign. Is there any other way to solve this issue apart from manually declaring the URL&#39;s"},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1618774234,"post_id":65586295,"comment_id":118698612,"body_markdown":"The original question didn&#39;t involve eureka, it used ribbon static configuration","body":"The original question didn&#39;t involve eureka, it used ribbon static configuration"}],"tags":[],"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1609879407,"creation_date":1609879407,"answer_id":65586295,"question_id":65585972,"body_markdown":"See the documentation [here][1]\r\n\r\n    spring.cloud.discovery.client.simple.instances.currency-exchange-service[0].uri=http://localhost:8080\r\n    spring.cloud.discovery.client.simple.instances.currency-exchange-service[1].uri=http://localhost:8081\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-cloud-commons/docs/current/reference/html/#simplediscoveryclient","title":"Error &quot;FeignException$ServiceUnavailable: Load balancer does not contain an instance for the service ...&quot; while using Spring Cloud Load Balancer","body":"<p>See the documentation <a href=\"https://docs.spring.io/spring-cloud-commons/docs/current/reference/html/#simplediscoveryclient\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>spring.cloud.discovery.client.simple.instances.currency-exchange-service[0].uri=http://localhost:8080\nspring.cloud.discovery.client.simple.instances.currency-exchange-service[1].uri=http://localhost:8081\n</code></pre>\n"},{"comments":[{"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1693963458,"post_id":77045833,"comment_id":135827910,"body_markdown":"Please provide a more detailed and easier-to-understand explanation in your answer. Use the edit function to improve it. Thanks!","body":"Please provide a more detailed and easier-to-understand explanation in your answer. Use the edit function to improve it. Thanks!"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693963464,"post_id":77045833,"comment_id":135827912,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77045833/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29372462,"reputation":1,"user_id":22504766,"display_name":"dan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693927783,"creation_date":1693927783,"answer_id":77045833,"question_id":65585972,"body_markdown":"pay attention that your service name is:\r\nspring.application.name=currency-conversion-service\r\n\r\nand make sure that the @FeignClient annotation in proxy interface points to it\r\n@FeignClient(name=&quot;currency-exchange-service&quot;)","title":"Error &quot;FeignException$ServiceUnavailable: Load balancer does not contain an instance for the service ...&quot; while using Spring Cloud Load Balancer","body":"<p>pay attention that your service name is:\nspring.application.name=currency-conversion-service</p>\n<p>and make sure that the @FeignClient annotation in proxy interface points to it\n@FeignClient(name=&quot;currency-exchange-service&quot;)</p>\n"}],"owner":{"account_id":15378925,"reputation":137,"user_id":11094870,"display_name":"Ash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6439,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65586295,"answer_count":2,"score":1,"last_activity_date":1694952979,"creation_date":1609877848,"question_id":65585972,"body_markdown":"Migrating from ```Ribbon```, i am trying to use ```spring cloud load balancer``` but faced below error.\r\n\r\n```\r\n2021-01-06 00:42:10.251 ERROR 12948 --- [nio-8100-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is feign.FeignException$ServiceUnavailable: [503] during [GET] to [http://currency-exchange-service/currency-exchange/from/USD/to/INR] [CurrencyExchangeServiceProxy#retrieveExchangeValue(String,String)]: [Load balancer does not contain an instance for the service currency-exchange-service]] with root cause\r\n\r\nfeign.FeignException$ServiceUnavailable: [503] during [GET] to [http://currency-exchange-service/currency-exchange/from/USD/to/INR] [CurrencyExchangeServiceProxy#retrieveExchangeValue(String,String)]: [Load balancer does not contain an instance for the service currency-exchange-service]\r\n\tat feign.FeignException.serverErrorStatus(FeignException.java:237) ~[feign-core-10.10.1.jar:na]\r\n\tat feign.FeignException.errorStatus(FeignException.java:180) ~[feign-core-10.10.1.jar:na]\r\n\tat feign.FeignException.errorStatus(FeignException.java:169) ~[feign-core-10.10.1.jar:na]\r\n\tat feign.codec.ErrorDecoder$Default.decode(ErrorDecoder.java:92) ~[feign-core-10.10.1.jar:na]\r\n\tat feign.AsyncResponseHandler.handleResponse(AsyncResponseHandler.java:96) ~[feign-core-10.10.1.jar:na]\r\n\tat feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:138) ~[feign-core-10.10.1.jar:na]\r\n\tat feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89) ~[feign-core-10.10.1.jar:na]\r\n\tat feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100) ~[feign-core-10.10.1.jar:na]\r\n\tat com.sun.proxy.$Proxy96.retrieveExchangeValue(Unknown Source) ~[na:na]\r\n\tat com.springboot.microservices.currencyconversionservice.controller.CurrencyConversionController.convertCurrencyFeign(CurrencyConversionController.java:47) ~[classes/:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_261]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_261]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_261]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_261]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197) ~[spring-web-5.3.1.jar:5.3.1]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141) ~[spring-web-5.3.1.jar:5.3.1]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.3.1.jar:5.3.1]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893) ~[spring-webmvc-5.3.1.jar:5.3.1]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807) ~[spring-webmvc-5.3.1.jar:5.3.1]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.1.jar:5.3.1]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061) ~[spring-webmvc-5.3.1.jar:5.3.1]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961) ~[spring-webmvc-5.3.1.jar:5.3.1]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.1.jar:5.3.1]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.1.jar:5.3.1]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:626) ~[tomcat-embed-core-9.0.39.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.1.jar:5.3.1]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.39.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.39.jar:9.0.39]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.39.jar:9.0.39]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.39.jar:9.0.39]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.39.jar:9.0.39]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.39.jar:9.0.39]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.1.jar:5.3.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.1.jar:5.3.1]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.39.jar:9.0.39]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.39.jar:9.0.39]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.1.jar:5.3.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.1.jar:5.3.1]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.39.jar:9.0.39]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.39.jar:9.0.39]\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93) ~[spring-boot-actuator-2.4.0.jar:2.4.0]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.1.jar:5.3.1]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.39.jar:9.0.39]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.39.jar:9.0.39]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.1.jar:5.3.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.1.jar:5.3.1]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.39.jar:9.0.39]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.39.jar:9.0.39]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.39.jar:9.0.39]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.39.jar:9.0.39]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) [tomcat-embed-core-9.0.39.jar:9.0.39]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) [tomcat-embed-core-9.0.39.jar:9.0.39]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.39.jar:9.0.39]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.39.jar:9.0.39]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.39.jar:9.0.39]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) [tomcat-embed-core-9.0.39.jar:9.0.39]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.39.jar:9.0.39]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.39.jar:9.0.39]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.39.jar:9.0.39]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.39.jar:9.0.39]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_261]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_261]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.39.jar:9.0.39]\r\n\tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_261]\r\n```\r\n\r\nPlease tell me what should i put in my Client Service - **currency-conversion-service&#39;s** ```application.properties``` file\r\n\r\n ```application.properties```:\r\n\r\n```\r\nspring.application.name=currency-conversion-service\r\nserver.port=8100\r\n#currency-exchange-service.ribbon.listOfServers=http://localhost:8000,http://localhost:8001\r\nspring.cloud.loadbalancer.ribbon.enabled=false\r\ncurrency-exchange-service.ribbon.eureka.enabled=false\r\neureka.client.register-with-eureka=false\r\neureka.client.fetch-registry=false\r\neureka.client.enabled=false\r\n```\r\n\r\nFull client service project **currency-conversion-service**, which is calling **currency-exchange-service**, can be accessed from https://github.com/AshishBharadwaj94/currency-conversion-service ","title":"Error &quot;FeignException$ServiceUnavailable: Load balancer does not contain an instance for the service ...&quot; while using Spring Cloud Load Balancer","body":"<p>Migrating from <code>Ribbon</code>, i am trying to use <code>spring cloud load balancer</code> but faced below error.</p>\n<pre><code>2021-01-06 00:42:10.251 ERROR 12948 --- [nio-8100-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is feign.FeignException$ServiceUnavailable: [503] during [GET] to [http://currency-exchange-service/currency-exchange/from/USD/to/INR] [CurrencyExchangeServiceProxy#retrieveExchangeValue(String,String)]: [Load balancer does not contain an instance for the service currency-exchange-service]] with root cause\n\nfeign.FeignException$ServiceUnavailable: [503] during [GET] to [http://currency-exchange-service/currency-exchange/from/USD/to/INR] [CurrencyExchangeServiceProxy#retrieveExchangeValue(String,String)]: [Load balancer does not contain an instance for the service currency-exchange-service]\n    at feign.FeignException.serverErrorStatus(FeignException.java:237) ~[feign-core-10.10.1.jar:na]\n    at feign.FeignException.errorStatus(FeignException.java:180) ~[feign-core-10.10.1.jar:na]\n    at feign.FeignException.errorStatus(FeignException.java:169) ~[feign-core-10.10.1.jar:na]\n    at feign.codec.ErrorDecoder$Default.decode(ErrorDecoder.java:92) ~[feign-core-10.10.1.jar:na]\n    at feign.AsyncResponseHandler.handleResponse(AsyncResponseHandler.java:96) ~[feign-core-10.10.1.jar:na]\n    at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:138) ~[feign-core-10.10.1.jar:na]\n    at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89) ~[feign-core-10.10.1.jar:na]\n    at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100) ~[feign-core-10.10.1.jar:na]\n    at com.sun.proxy.$Proxy96.retrieveExchangeValue(Unknown Source) ~[na:na]\n    at com.springboot.microservices.currencyconversionservice.controller.CurrencyConversionController.convertCurrencyFeign(CurrencyConversionController.java:47) ~[classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_261]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_261]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_261]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_261]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197) ~[spring-web-5.3.1.jar:5.3.1]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141) ~[spring-web-5.3.1.jar:5.3.1]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.3.1.jar:5.3.1]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893) ~[spring-webmvc-5.3.1.jar:5.3.1]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807) ~[spring-webmvc-5.3.1.jar:5.3.1]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.1.jar:5.3.1]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061) ~[spring-webmvc-5.3.1.jar:5.3.1]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961) ~[spring-webmvc-5.3.1.jar:5.3.1]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.1.jar:5.3.1]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.1.jar:5.3.1]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:626) ~[tomcat-embed-core-9.0.39.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.1.jar:5.3.1]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.39.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.39.jar:9.0.39]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.39.jar:9.0.39]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.39.jar:9.0.39]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.39.jar:9.0.39]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.39.jar:9.0.39]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.1.jar:5.3.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.1.jar:5.3.1]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.39.jar:9.0.39]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.39.jar:9.0.39]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.1.jar:5.3.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.1.jar:5.3.1]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.39.jar:9.0.39]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.39.jar:9.0.39]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93) ~[spring-boot-actuator-2.4.0.jar:2.4.0]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.1.jar:5.3.1]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.39.jar:9.0.39]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.39.jar:9.0.39]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.1.jar:5.3.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.1.jar:5.3.1]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.39.jar:9.0.39]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.39.jar:9.0.39]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.39.jar:9.0.39]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.39.jar:9.0.39]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) [tomcat-embed-core-9.0.39.jar:9.0.39]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) [tomcat-embed-core-9.0.39.jar:9.0.39]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.39.jar:9.0.39]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.39.jar:9.0.39]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.39.jar:9.0.39]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) [tomcat-embed-core-9.0.39.jar:9.0.39]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.39.jar:9.0.39]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.39.jar:9.0.39]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.39.jar:9.0.39]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.39.jar:9.0.39]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_261]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_261]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.39.jar:9.0.39]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_261]\n</code></pre>\n<p>Please tell me what should i put in my Client Service - <strong>currency-conversion-service's</strong> <code>application.properties</code> file</p>\n<p><code>application.properties</code>:</p>\n<pre><code>spring.application.name=currency-conversion-service\nserver.port=8100\n#currency-exchange-service.ribbon.listOfServers=http://localhost:8000,http://localhost:8001\nspring.cloud.loadbalancer.ribbon.enabled=false\ncurrency-exchange-service.ribbon.eureka.enabled=false\neureka.client.register-with-eureka=false\neureka.client.fetch-registry=false\neureka.client.enabled=false\n</code></pre>\n<p>Full client service project <strong>currency-conversion-service</strong>, which is calling <strong>currency-exchange-service</strong>, can be accessed from <a href=\"https://github.com/AshishBharadwaj94/currency-conversion-service\" rel=\"nofollow noreferrer\">https://github.com/AshishBharadwaj94/currency-conversion-service</a></p>\n"},{"tags":["java","linked-list","singly-linked-list"],"comments":[{"owner":{"account_id":20285848,"reputation":109,"user_id":14878550,"display_name":"Maryam Naveed"},"score":0,"creation_date":1659437309,"post_id":64003658,"comment_id":129289560,"body_markdown":"how to traverse this?","body":"how to traverse this?"}],"answers":[{"comments":[{"owner":{"account_id":17972973,"reputation":86,"user_id":13061273,"display_name":"Alibek Taalaibek Uulu"},"score":0,"creation_date":1600776277,"post_id":64009238,"comment_id":113188800,"body_markdown":"But I guess this problem requires big integer arithmetics.","body":"But I guess this problem requires big integer arithmetics."},{"owner":{"account_id":20285848,"reputation":109,"user_id":14878550,"display_name":"Maryam Naveed"},"score":0,"creation_date":1658474427,"post_id":64009238,"comment_id":129064471,"body_markdown":"your solution is pretty impressive. i just wanted to know that how long did it take you to solve it? @alibek","body":"your solution is pretty impressive. i just wanted to know that how long did it take you to solve it? @alibek"}],"tags":[],"owner":{"account_id":17972973,"reputation":86,"user_id":13061273,"display_name":"Alibek Taalaibek Uulu"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1600775735,"creation_date":1600775735,"answer_id":64009238,"question_id":64003658,"body_markdown":"I like your solution but you have bit incomplete logic.\r\n\r\n    class Solution {\r\n        //ListNode head;\r\n        public ListNode addTwoNumbers(ListNode l1, ListNode l2) {\r\n            int x = 0;\r\n            int y = 0;\r\n            int z = 1;\r\n    \r\n            while(l1 != null){\r\n                x += z*l1.val;\r\n                z*=10;\r\n                l1 = l1.next;\r\n            }\r\n    \r\n            z = 1;\r\n            while(l2 != null){\r\n                y += z*l2.val;\r\n                z*=10;\r\n                l2 = l2.next;\r\n            }\r\n    \r\n            int sum = x + y;\r\n            if (sum == 0) {\r\n                return new ListNode(0);\r\n            }\r\n    \r\n            ListNode node = null, head = null;\r\n            while(sum &gt; 0){\r\n                int digit = sum % 10;\r\n                ListNode n = new ListNode(digit);\r\n                if (node == null) {\r\n                    head = node = n;\r\n                } else {\r\n                    node.next = n;\r\n                    node = node.next;\r\n                }\r\n                \r\n                sum = sum / 10;\r\n            }\r\n    \r\n            return head;\r\n        }\r\n    }\r\n\r\nI just changed one or two things after `int sum = x + y;`","title":"LinkedList Add Two Numbers: LeetCode","body":"<p>I like your solution but you have bit incomplete logic.</p>\n<pre><code>class Solution {\n    //ListNode head;\n    public ListNode addTwoNumbers(ListNode l1, ListNode l2) {\n        int x = 0;\n        int y = 0;\n        int z = 1;\n\n        while(l1 != null){\n            x += z*l1.val;\n            z*=10;\n            l1 = l1.next;\n        }\n\n        z = 1;\n        while(l2 != null){\n            y += z*l2.val;\n            z*=10;\n            l2 = l2.next;\n        }\n\n        int sum = x + y;\n        if (sum == 0) {\n            return new ListNode(0);\n        }\n\n        ListNode node = null, head = null;\n        while(sum &gt; 0){\n            int digit = sum % 10;\n            ListNode n = new ListNode(digit);\n            if (node == null) {\n                head = node = n;\n            } else {\n                node.next = n;\n                node = node.next;\n            }\n            \n            sum = sum / 10;\n        }\n\n        return head;\n    }\n}\n</code></pre>\n<p>I just changed one or two things after <code>int sum = x + y;</code></p>\n"},{"tags":[],"owner":{"account_id":24552528,"reputation":1,"user_id":18461546,"display_name":"Muhammad Hamza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668498841,"creation_date":1668498841,"answer_id":74442202,"question_id":64003658,"body_markdown":"This is the solution in kotlin Language.                                                        \r\n\r\n    class Solution {\r\n    fun addTwoNumbers(l1: ListNode?, l2: ListNode?): ListNode? {\r\n        \r\n        var head1=l1\r\n        var head2=l2\r\n\r\n        var result:ListNode?=null\r\n        var temp:ListNode?=null\r\n\r\n        var carry=0\r\n\r\n        while(head1 != null || head2 != null)\r\n        {\r\n            var sum=carry\r\n\r\n           if(head1 != null)\r\n           {\r\n\r\n             sum +=  head1.`val`\r\n             head1=head1.next\r\n\r\n           }\r\n\r\n           if(head2 != null)\r\n           {\r\n              sum +=head2.`val`\r\n              head2= head2.next\r\n\r\n           }\r\n             \r\n            val node= ListNode(sum%10)\r\n\r\n            carry=sum/10\r\n\r\n            if(temp== null)\r\n            {\r\n\r\n                 result=node\r\n                 temp=result\r\n\r\n\r\n            }\r\n\r\n            else{ temp.next=node\r\n            temp=temp.next}\r\n           \r\n        }\r\n\r\n        if(carry&gt;0){\r\n\r\n            temp!!.next=ListNode(carry)\r\n        }\r\n\r\n    return result\r\n    }\r\n    }","title":"LinkedList Add Two Numbers: LeetCode","body":"<p>This is the solution in kotlin Language.</p>\n<pre><code>class Solution {\nfun addTwoNumbers(l1: ListNode?, l2: ListNode?): ListNode? {\n    \n    var head1=l1\n    var head2=l2\n\n    var result:ListNode?=null\n    var temp:ListNode?=null\n\n    var carry=0\n\n    while(head1 != null || head2 != null)\n    {\n        var sum=carry\n\n       if(head1 != null)\n       {\n\n         sum +=  head1.`val`\n         head1=head1.next\n\n       }\n\n       if(head2 != null)\n       {\n          sum +=head2.`val`\n          head2= head2.next\n\n       }\n         \n        val node= ListNode(sum%10)\n\n        carry=sum/10\n\n        if(temp== null)\n        {\n\n             result=node\n             temp=result\n\n\n        }\n\n        else{ temp.next=node\n        temp=temp.next}\n       \n    }\n\n    if(carry&gt;0){\n\n        temp!!.next=ListNode(carry)\n    }\n\nreturn result\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27810006,"reputation":1,"user_id":21232579,"display_name":"Sumit Balani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676623913,"creation_date":1676623913,"answer_id":75482055,"question_id":64003658,"body_markdown":"The solution in Java from my leetcode submission. Beats 100% of other solutions in runtime, and beats 97.3% of solutions in memory. It uses recursion of course.\r\n```\r\n /* Definition for singly-linked list.\r\n public class ListNode {\r\n     int val;\r\n     ListNode next;\r\n     ListNode() {}\r\n     ListNode(int val) { this.val = val; }\r\n     ListNode(int val, ListNode next) { this.val = val; this.next = next; }\r\n }*/\r\n \r\nclass Solution {\r\n    public ListNode addTwoNumbers(ListNode l1, ListNode l2) {\r\n        int sum, carry;\r\n        sum = l1.val + l2.val;\r\n        carry = 0;\r\n        if (sum &gt;= 10){\r\n            sum = sum - 10;\r\n            carry = 1;\r\n        }\r\n        l1.val = sum;\r\n        if(carry == 1){\r\n            if(l1.next != null) {\r\n                l1.next.val++;\r\n            }\r\n            else {\r\n                l1.next = new ListNode(carry);\r\n            } \r\n        }\r\n        if(l1.next != null &amp;&amp; l2.next!= null) addTwoNumbers(l1.next, l2.next);\r\n        else if (l1.next!= null &amp;&amp; l2.next == null) addTwoNumbers(l1.next, new ListNode(0));\r\n        else if (l2.next != null &amp;&amp; l1.next == null) {\r\n            l1.next = new ListNode(0);\r\n            addTwoNumbers(l1.next, l2.next);\r\n        }\r\n        return l1;\r\n    }\r\n}","title":"LinkedList Add Two Numbers: LeetCode","body":"<p>The solution in Java from my leetcode submission. Beats 100% of other solutions in runtime, and beats 97.3% of solutions in memory. It uses recursion of course.</p>\n<pre><code> /* Definition for singly-linked list.\n public class ListNode {\n     int val;\n     ListNode next;\n     ListNode() {}\n     ListNode(int val) { this.val = val; }\n     ListNode(int val, ListNode next) { this.val = val; this.next = next; }\n }*/\n \nclass Solution {\n    public ListNode addTwoNumbers(ListNode l1, ListNode l2) {\n        int sum, carry;\n        sum = l1.val + l2.val;\n        carry = 0;\n        if (sum &gt;= 10){\n            sum = sum - 10;\n            carry = 1;\n        }\n        l1.val = sum;\n        if(carry == 1){\n            if(l1.next != null) {\n                l1.next.val++;\n            }\n            else {\n                l1.next = new ListNode(carry);\n            } \n        }\n        if(l1.next != null &amp;&amp; l2.next!= null) addTwoNumbers(l1.next, l2.next);\n        else if (l1.next!= null &amp;&amp; l2.next == null) addTwoNumbers(l1.next, new ListNode(0));\n        else if (l2.next != null &amp;&amp; l1.next == null) {\n            l1.next = new ListNode(0);\n            addTwoNumbers(l1.next, l2.next);\n        }\n        return l1;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695192959,"post_id":77121707,"comment_id":135989532,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77121707/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":9659481,"reputation":1,"user_id":7168041,"display_name":"S. Radje"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694952362,"creation_date":1694952362,"answer_id":77121707,"question_id":64003658,"body_markdown":"&gt; The solution in PHP from my leetcode submission. Runtime 24ms,Memory\r\n&gt; 19.16MB.\r\n\r\n    class ListNode {\r\n            public $val;\r\n            public $next;\r\n        \r\n            public function __construct($val = 0, $next = null) {\r\n                $this-&gt;val = $val;\r\n                $this-&gt;next = $next;\r\n            }\r\n        }\r\n        \r\n        function addTwoNumbers($l1, $l2) {\r\n            $result = new ListNode(0);\r\n            $current = $result;\r\n            $carry = 0;\r\n        \r\n            while ($l1 != null || $l2 != null) {\r\n                $val1 = ($l1 != null) ? $l1-&gt;val : 0;\r\n                $val2 = ($l2 != null) ? $l2-&gt;val : 0;\r\n                $sum = $val1 + $val2 + $carry;\r\n        \r\n                $carry = intdiv($sum, 10);\r\n                $current-&gt;next = new ListNode($sum % 10);\r\n                $current = $current-&gt;next;\r\n        \r\n                if ($l1 != null) {\r\n                    $l1 = $l1-&gt;next;\r\n                }\r\n                if ($l2 != null) {\r\n                    $l2 = $l2-&gt;next;\r\n                }\r\n            }\r\n        \r\n            if ($carry &gt; 0) {\r\n                $current-&gt;next = new ListNode($carry);\r\n            }\r\n        \r\n            return $result-&gt;next;\r\n        }\r\n\r\n&#39;","title":"LinkedList Add Two Numbers: LeetCode","body":"<blockquote>\n<p>The solution in PHP from my leetcode submission. Runtime 24ms,Memory\n19.16MB.</p>\n</blockquote>\n<pre><code>class ListNode {\n        public $val;\n        public $next;\n    \n        public function __construct($val = 0, $next = null) {\n            $this-&gt;val = $val;\n            $this-&gt;next = $next;\n        }\n    }\n    \n    function addTwoNumbers($l1, $l2) {\n        $result = new ListNode(0);\n        $current = $result;\n        $carry = 0;\n    \n        while ($l1 != null || $l2 != null) {\n            $val1 = ($l1 != null) ? $l1-&gt;val : 0;\n            $val2 = ($l2 != null) ? $l2-&gt;val : 0;\n            $sum = $val1 + $val2 + $carry;\n    \n            $carry = intdiv($sum, 10);\n            $current-&gt;next = new ListNode($sum % 10);\n            $current = $current-&gt;next;\n    \n            if ($l1 != null) {\n                $l1 = $l1-&gt;next;\n            }\n            if ($l2 != null) {\n                $l2 = $l2-&gt;next;\n            }\n        }\n    \n        if ($carry &gt; 0) {\n            $current-&gt;next = new ListNode($carry);\n        }\n    \n        return $result-&gt;next;\n    }\n</code></pre>\n<p>'</p>\n"}],"owner":{"account_id":19566228,"reputation":47,"user_id":14318315,"display_name":"the_curious_programmer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13194,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1694952362,"creation_date":1600753219,"question_id":64003658,"body_markdown":"You are given two non-empty linked lists representing two non-negative integers. The digits are stored in reverse order and each of their nodes contain a single digit. Add the two numbers and return it as a linked list.\r\n\r\nYou may assume the two numbers do not contain any leading zero, except the number 0 itself.\r\n\r\nThe linked list seems to be overwriting the nodes as far as I can tell. I did find the answer to this problem on GeeksforGeeks but I wanted help with figuring out what is wrong with my code. I also know my code is not the best in regards to optimization but any halp is accepted. Thanks!\r\n\r\n\r\n    /**\r\n     * Definition for singly-linked list.\r\n     * public class ListNode {\r\n     *     int val;\r\n     *     ListNode next;\r\n     *     ListNode() {}\r\n     *     ListNode(int val) { this.val = val; }\r\n     *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }\r\n     * }\r\n     */\r\n        class Solution {\r\n            //ListNode head;\r\n            public ListNode addTwoNumbers(ListNode l1, ListNode l2) {\r\n                int x = 0;\r\n                int y = 0;\r\n                int z = 1;\r\n        \r\n                while(l1 != null){\r\n                    x += z*l1.val;\r\n                    z*=10;\r\n                    l1 = l1.next;\r\n                }\r\n              \r\n                z = 1;\r\n                while(l2 != null){\r\n                    y += z*l2.val;\r\n                    z*=10;\r\n                    l2 = l2.next;\r\n                }\r\n        \r\n                int sum = x + y;\r\n                ListNode node = new ListNode(0);\r\n                \r\n                while(sum &gt; 0){\r\n                    int digit = sum % 10;\r\n                    ListNode n = new ListNode(digit);\r\n                    while(node.next != null){\r\n                        node = node.next;\r\n                    }\r\n                    node.next = n;\r\n                    \r\n                    sum = sum / 10;\r\n        \r\n                    \r\n                }      \r\n                return node;\r\n        \r\n            }\r\n        }\r\n\r\n[LeetCode Question][1]\r\n\r\n\r\n  [1]: https://leetcode.com/problems/add-two-numbers/","title":"LinkedList Add Two Numbers: LeetCode","body":"<p>You are given two non-empty linked lists representing two non-negative integers. The digits are stored in reverse order and each of their nodes contain a single digit. Add the two numbers and return it as a linked list.</p>\n<p>You may assume the two numbers do not contain any leading zero, except the number 0 itself.</p>\n<p>The linked list seems to be overwriting the nodes as far as I can tell. I did find the answer to this problem on GeeksforGeeks but I wanted help with figuring out what is wrong with my code. I also know my code is not the best in regards to optimization but any halp is accepted. Thanks!</p>\n<pre><code>/**\n * Definition for singly-linked list.\n * public class ListNode {\n *     int val;\n *     ListNode next;\n *     ListNode() {}\n *     ListNode(int val) { this.val = val; }\n *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }\n * }\n */\n    class Solution {\n        //ListNode head;\n        public ListNode addTwoNumbers(ListNode l1, ListNode l2) {\n            int x = 0;\n            int y = 0;\n            int z = 1;\n    \n            while(l1 != null){\n                x += z*l1.val;\n                z*=10;\n                l1 = l1.next;\n            }\n          \n            z = 1;\n            while(l2 != null){\n                y += z*l2.val;\n                z*=10;\n                l2 = l2.next;\n            }\n    \n            int sum = x + y;\n            ListNode node = new ListNode(0);\n            \n            while(sum &gt; 0){\n                int digit = sum % 10;\n                ListNode n = new ListNode(digit);\n                while(node.next != null){\n                    node = node.next;\n                }\n                node.next = n;\n                \n                sum = sum / 10;\n    \n                \n            }      \n            return node;\n    \n        }\n    }\n</code></pre>\n<p><a href=\"https://leetcode.com/problems/add-two-numbers/\" rel=\"nofollow noreferrer\">LeetCode Question</a></p>\n"},{"tags":["java","uml"],"answers":[{"comments":[{"owner":{"account_id":228265,"reputation":6050,"user_id":490454,"accept_rate":60,"display_name":"BobRodes"},"score":5,"creation_date":1420099740,"post_id":27660515,"comment_id":43869977,"body_markdown":"Note that the last two arrow types are NOT part of UML class diagrams.  The first one is used in sequence diagrams (v1.4 and later) and the second one is inaccurate; asynchronous messages used an open half arrowhead prior to 1.4.  With 1.4 and later, the open arrowhead means asynchronous and the filled arrowhead means synchronous as in this list.  The half arrowhead filled has never been used.","body":"Note that the last two arrow types are NOT part of UML class diagrams.  The first one is used in sequence diagrams (v1.4 and later) and the second one is inaccurate; asynchronous messages used an open half arrowhead prior to 1.4.  With 1.4 and later, the open arrowhead means asynchronous and the filled arrowhead means synchronous as in this list.  The half arrowhead filled has never been used."}],"tags":[],"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"comment_count":1,"down_vote_count":1,"up_vote_count":45,"is_accepted":false,"score":44,"last_activity_date":1694951574,"creation_date":1419617987,"answer_id":27660515,"question_id":27660499,"body_markdown":"Not sure how you define &quot;open arrow&quot;, but it&#39;s either represents an *extends* relation or an *association*.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: http://i.stack.imgur.com/2ajCN.gif","title":"Open arrow with solid line in UML?","body":"<p>Not sure how you define &quot;open arrow&quot;, but it's either represents an <em>extends</em> relation or an <em>association</em>.</p>\n<p><a href=\"https://i.stack.imgur.com/2ajCN.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2ajCN.gif\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419618723,"creation_date":1419618723,"answer_id":27660620,"question_id":27660499,"body_markdown":"It&#39;s basically an association where a unidirectional relation exists between the two class. For e.g. \r\n\r\nThe OverdrawnAccountsReport class knows about the BankAccount class, but the BankAccount class does not know about the association\r\n\r\n    OverdrawnAccountsReport -&gt; BankAccount \r\n\r\nLike standard associations, the uni-directional association includes a role name and a multiplicity value, but unlike the standard bi-directional association, the uni-directional association only contains the role name and multiplicity value for the known class.\r\n\r\nIf you see close or triangle shape arrow between two class, then that represents parent - child relation.\r\n","title":"Open arrow with solid line in UML?","body":"<p>It's basically an association where a unidirectional relation exists between the two class. For e.g. </p>\n\n<p>The OverdrawnAccountsReport class knows about the BankAccount class, but the BankAccount class does not know about the association</p>\n\n<pre><code>OverdrawnAccountsReport -&gt; BankAccount \n</code></pre>\n\n<p>Like standard associations, the uni-directional association includes a role name and a multiplicity value, but unlike the standard bi-directional association, the uni-directional association only contains the role name and multiplicity value for the known class.</p>\n\n<p>If you see close or triangle shape arrow between two class, then that represents parent - child relation.</p>\n"}],"owner":{"account_id":5331062,"reputation":166,"user_id":4251596,"display_name":"SectorCodec"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33006,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"closed_date":1419819879,"answer_count":2,"score":12,"last_activity_date":1694951574,"creation_date":1419617916,"question_id":27660499,"body_markdown":"In UML, what does an open arrow with a solid line show? Does it show Association (where the class with the tail knows about the class with the arrow head, while the arrow head class does not know about the tail class)?\r\n\r\n","title":"Open arrow with solid line in UML?","body":"<p>In UML, what does an open arrow with a solid line show? Does it show Association (where the class with the tail knows about the class with the arrow head, while the arrow head class does not know about the tail class)?</p>\n"},{"tags":["java","constructor","floating-point","joml"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":9,"creation_date":1694945247,"post_id":77121308,"comment_id":135955787,"body_markdown":"what did you expect? `Float.MIN_VALUE` is `2` to the power of `-149` or about `1.4E-45`, `%f` will display 6 digits after the decimal point, which is not enough... 45 digits are needed to see the first non-zero digit - try `%.45f` instead of `%f` (if only for testing) || [javadoc](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Float.html#MIN_VALUE) of `MIN_VALUE`: &quot;A constant holding the smallest positive nonzero value of type float, ...&quot;","body":"what did you expect? <code>Float.MIN_VALUE</code> is <code>2</code> to the power of <code>-149</code> or about <code>1.4E-45</code>, <code>%f</code> will display 6 digits after the decimal point, which is not enough... 45 digits are needed to see the first non-zero digit - try <code>%.45f</code> instead of <code>%f</code> (if only for testing) || <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Float.html#MIN_VALUE\" rel=\"nofollow noreferrer\">javadoc</a> of <code>MIN_VALUE</code>: &quot;A constant holding the smallest positive nonzero value of type float, ...&quot;"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":3,"creation_date":1694945760,"post_id":77121308,"comment_id":135955835,"body_markdown":"and [javadoc](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Formatter.html) of `Formatter` (for `%f`): &quot;The number of digits in the result for the fractional part of m or a is equal to the precision. If the precision is not specified then the default value is 6.&quot;","body":"and <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Formatter.html\" rel=\"nofollow noreferrer\">javadoc</a> of <code>Formatter</code> (for <code>%f</code>): &quot;The number of digits in the result for the fractional part of m or a is equal to the precision. If the precision is not specified then the default value is 6.&quot;"}],"answers":[{"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1694962201,"post_id":77121623,"comment_id":135957475,"body_markdown":"Excellent answer.  It’s worth noting that a lot of APIs, particularly Java2D APIs, require float arguments.  And I don’t know a lot about JIT compilation, but I’m pretty sure the x86 family still has 32-bit floating point instructions.","body":"Excellent answer.  It’s worth noting that a lot of APIs, particularly Java2D APIs, require float arguments.  And I don’t know a lot about JIT compilation, but I’m pretty sure the x86 family still has 32-bit floating point instructions."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1694968257,"post_id":77121623,"comment_id":135958125,"body_markdown":"@VGR I&#39;d assume, if they do, that they are _slower_. It still supports LOOPNZ and CMPXCHG opcodes too, but idiotically slow paths.","body":"@VGR I&#39;d assume, if they do, that they are <i>slower</i>. It still supports LOOPNZ and CMPXCHG opcodes too, but idiotically slow paths."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1694950915,"creation_date":1694950915,"answer_id":77121623,"question_id":77121308,"body_markdown":"Your question can be read in two completely different ways. I can answer them both.\r\n\r\n## You expected it to be a very large negative number\r\n\r\nThat&#39;s just not what `MIN_VALUE` does. However, your confusion is understandable; `Integer.MIN_VALUE` __is__ a very large negative number. The concept doesn&#39;t apply to float/double, as they have a value that represents negative infinity, which makes &#39;MIN_VALUE&#39; in the sense of &#39;that number that is more negative than any other number `float` can represent&#39; dubious / non-existent. The name is still unfortunate but java does not as a rule change things without a better reason than &#39;naming is confusing&#39; to avoid backwards compatibility issues.\r\n\r\n`Float.MIN_VALUE` represents the smallest _positive_ representable float that is _not_ equal to 0.\r\n\r\n## I know that. But it prints 0!\r\n\r\nThe problem with float and double is that they are imprecise. If I hand you a postit and ask you to write 1/3 in decimal on it, you can&#39;t. You&#39;ll write 0.3333 and eventually run out of space. `double` and `float` are more or less the same, except in binary except decimal which is particularly painful because only stuff that fits in 2s can be accurately represented. We can do 1/10th in decimal (0.1, after all). In IEEE math that is as problematic as 1/3 is. Almost all fractions are problematic, except 1/2, 3/4th, etc. (the divisor a power of 2 - that&#39;s allright).\r\n\r\nLet&#39;s see it in action:\r\n\r\n```\r\ndouble v = 0.0;\r\nfor (int i = 0; i &lt; 10; i++) v += 0.1;\r\nSystem.out.println(v == 1.0);\r\n```\r\n\r\nThat prints... oof, `false`, which is wrong. `10 * 0.1` is obviously 1.0. But not in IEEE double math, evidently. Just like the sum of 3 postits with your best effort at 1/3 is not quite 1.0 (it&#39;ll be 0.9999999), we run into the same problem here.\r\n\r\n## So how does that lead to print 0.0000?\r\n\r\nBecause the number is _stored_ in binary but printed in decimal, and that results in some real wonky and unexpected behaviour if `println` would print the _exact_ value. You&#39;d get 0.9999999999999999999876 a lot, which is annoying. So, instead, printf/println just takes a _wild_ stab in the dark and does some dubious rounding to make it all look right when none of it is.\r\n\r\nThis is why you should _never_ just print a double. Instead use, as you are, `printf` / `String.format`. And specify how many digits you want, so you are in control of this necessary rounding. Without an explicit specifier, `%f` defaults to 6 digits. And &#39;the smallest non-zero positive float&#39;, rounded so that it fits in 6 digits, _is_ 0.000000. You need _way_ more digits to see this tiny, tiny number:\r\n\r\n```\r\nSystem.out.printf(&quot;%.99f\\n&quot;, Float.MIN_VALUE);\r\n\r\n&gt; 0.0000000000000000000000000000000000000000000014012984643248170000000\r\n```\r\n\r\nThat&#39;s how many digits you&#39;d need to see it.\r\n\r\n## Some important notes\r\n\r\n* `float` is useless. `double` is just as fast or faster, takes just as much space in 99% of all cases (except `float[]` which is usually a bit smaller, but that&#39;s the only place where it tends to come up), and is less precise. Just don&#39;t use it - `double` instead.\r\n* Another way to solve for this &#39;its inaccurate&#39; issue is to not use floats/doubles at all. Find an atomic unit and represent those with int/long, or use BigDecimal. For GUI purposes the inaccuracy is usually worth it, though.\r\n","title":"Why is it that when I call the constructor with Float.MIN_VALUE parameters, they are 0?","body":"<p>Your question can be read in two completely different ways. I can answer them both.</p>\n<h2>You expected it to be a very large negative number</h2>\n<p>That's just not what <code>MIN_VALUE</code> does. However, your confusion is understandable; <code>Integer.MIN_VALUE</code> <strong>is</strong> a very large negative number. The concept doesn't apply to float/double, as they have a value that represents negative infinity, which makes 'MIN_VALUE' in the sense of 'that number that is more negative than any other number <code>float</code> can represent' dubious / non-existent. The name is still unfortunate but java does not as a rule change things without a better reason than 'naming is confusing' to avoid backwards compatibility issues.</p>\n<p><code>Float.MIN_VALUE</code> represents the smallest <em>positive</em> representable float that is <em>not</em> equal to 0.</p>\n<h2>I know that. But it prints 0!</h2>\n<p>The problem with float and double is that they are imprecise. If I hand you a postit and ask you to write 1/3 in decimal on it, you can't. You'll write 0.3333 and eventually run out of space. <code>double</code> and <code>float</code> are more or less the same, except in binary except decimal which is particularly painful because only stuff that fits in 2s can be accurately represented. We can do 1/10th in decimal (0.1, after all). In IEEE math that is as problematic as 1/3 is. Almost all fractions are problematic, except 1/2, 3/4th, etc. (the divisor a power of 2 - that's allright).</p>\n<p>Let's see it in action:</p>\n<pre><code>double v = 0.0;\nfor (int i = 0; i &lt; 10; i++) v += 0.1;\nSystem.out.println(v == 1.0);\n</code></pre>\n<p>That prints... oof, <code>false</code>, which is wrong. <code>10 * 0.1</code> is obviously 1.0. But not in IEEE double math, evidently. Just like the sum of 3 postits with your best effort at 1/3 is not quite 1.0 (it'll be 0.9999999), we run into the same problem here.</p>\n<h2>So how does that lead to print 0.0000?</h2>\n<p>Because the number is <em>stored</em> in binary but printed in decimal, and that results in some real wonky and unexpected behaviour if <code>println</code> would print the <em>exact</em> value. You'd get 0.9999999999999999999876 a lot, which is annoying. So, instead, printf/println just takes a <em>wild</em> stab in the dark and does some dubious rounding to make it all look right when none of it is.</p>\n<p>This is why you should <em>never</em> just print a double. Instead use, as you are, <code>printf</code> / <code>String.format</code>. And specify how many digits you want, so you are in control of this necessary rounding. Without an explicit specifier, <code>%f</code> defaults to 6 digits. And 'the smallest non-zero positive float', rounded so that it fits in 6 digits, <em>is</em> 0.000000. You need <em>way</em> more digits to see this tiny, tiny number:</p>\n<pre><code>System.out.printf(&quot;%.99f\\n&quot;, Float.MIN_VALUE);\n\n&gt; 0.0000000000000000000000000000000000000000000014012984643248170000000\n</code></pre>\n<p>That's how many digits you'd need to see it.</p>\n<h2>Some important notes</h2>\n<ul>\n<li><code>float</code> is useless. <code>double</code> is just as fast or faster, takes just as much space in 99% of all cases (except <code>float[]</code> which is usually a bit smaller, but that's the only place where it tends to come up), and is less precise. Just don't use it - <code>double</code> instead.</li>\n<li>Another way to solve for this 'its inaccurate' issue is to not use floats/doubles at all. Find an atomic unit and represent those with int/long, or use BigDecimal. For GUI purposes the inaccuracy is usually worth it, though.</li>\n</ul>\n"}],"owner":{"account_id":28779521,"reputation":47,"user_id":22041411,"display_name":"notwhale"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":77121623,"answer_count":1,"score":0,"last_activity_date":1694950915,"creation_date":1694944495,"question_id":77121308,"body_markdown":"So I have a `Vector3f` class with a constructor:\r\n```\r\npublic Vector3f(float x, float y, float z) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n    }\r\n```\r\nbut when I call a constructor like this:\r\n\r\n```\r\nVector3f max = new Vector3f(Float.MIN_VALUE, Float.MIN_VALUE, Float.MIN_VALUE);\r\n```\r\n\r\nand print the values to the console:\r\n```\r\nSystem.out.printf(&quot;x: %f, y: %f, z: %f\\n&quot;, max.x, max.y, max.z);\r\n```\r\nthe output will be\r\n```\r\nx: 0.000000, y: 0.000000, z: 0,000000\r\n```\r\nWhy 0?\r\n\r\nI used `Vector3f` from the Java OpenGL Math Library (JOML).","title":"Why is it that when I call the constructor with Float.MIN_VALUE parameters, they are 0?","body":"<p>So I have a <code>Vector3f</code> class with a constructor:</p>\n<pre><code>public Vector3f(float x, float y, float z) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n    }\n</code></pre>\n<p>but when I call a constructor like this:</p>\n<pre><code>Vector3f max = new Vector3f(Float.MIN_VALUE, Float.MIN_VALUE, Float.MIN_VALUE);\n</code></pre>\n<p>and print the values to the console:</p>\n<pre><code>System.out.printf(&quot;x: %f, y: %f, z: %f\\n&quot;, max.x, max.y, max.z);\n</code></pre>\n<p>the output will be</p>\n<pre><code>x: 0.000000, y: 0.000000, z: 0,000000\n</code></pre>\n<p>Why 0?</p>\n<p>I used <code>Vector3f</code> from the Java OpenGL Math Library (JOML).</p>\n"},{"tags":["java","spring","spring-boot","authentication","jwt"],"answers":[{"tags":[],"owner":{"account_id":1232800,"reputation":2929,"user_id":1197031,"accept_rate":55,"display_name":"Zala Janaksinh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658761743,"creation_date":1658761743,"answer_id":73111477,"question_id":71916160,"body_markdown":"Add this line in gradle.\r\n\r\nimplementation &#39;javax.xml.bind:jaxb-api:2.4.0-b180830.0359&#39;\r\n\r\nDowngrade your **javax.xml.bind:jaxb-api** With specific version.\r\n\r\n","title":"java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter while decoding JWT token with Java 11","body":"<p>Add this line in gradle.</p>\n<p>implementation 'javax.xml.bind:jaxb-api:2.4.0-b180830.0359'</p>\n<p>Downgrade your <strong>javax.xml.bind:jaxb-api</strong> With specific version.</p>\n"},{"comments":[{"owner":{"account_id":2685390,"reputation":234,"user_id":2319900,"display_name":"beks6"},"score":0,"creation_date":1693924870,"post_id":75096394,"comment_id":135821977,"body_markdown":"solved the issue for me on JDK 17","body":"solved the issue for me on JDK 17"}],"tags":[],"owner":{"account_id":15375039,"reputation":508,"user_id":11092008,"display_name":"Shapur"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694950460,"creation_date":1673526801,"answer_id":75096394,"question_id":71916160,"body_markdown":"Add this class to your application for now until new versions of io.jsonwebtoken that work with `jakarta&#39; are ready in the future.\r\n\r\nThe path of this class must be `io.jsonwebtoken.impl`\r\n\r\n    package io.jsonwebtoken.impl;\r\n    \r\n    import jakarta.xml.bind.DatatypeConverter;\r\n    \r\n    public class Base64Codec extends AbstractTextCodec {\r\n        public Base64Codec() {\r\n        }\r\n    \r\n        public String encode(byte[] data) {\r\n            return DatatypeConverter.printBase64Binary(data);\r\n        }\r\n    \r\n        public byte[] decode(String encoded) {\r\n            return DatatypeConverter.parseBase64Binary(encoded);\r\n        }\r\n    }","title":"java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter while decoding JWT token with Java 11","body":"<p>Add this class to your application for now until new versions of io.jsonwebtoken that work with `jakarta' are ready in the future.</p>\n<p>The path of this class must be <code>io.jsonwebtoken.impl</code></p>\n<pre><code>package io.jsonwebtoken.impl;\n\nimport jakarta.xml.bind.DatatypeConverter;\n\npublic class Base64Codec extends AbstractTextCodec {\n    public Base64Codec() {\n    }\n\n    public String encode(byte[] data) {\n        return DatatypeConverter.printBase64Binary(data);\n    }\n\n    public byte[] decode(String encoded) {\n        return DatatypeConverter.parseBase64Binary(encoded);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24990939,"reputation":21,"user_id":18852134,"display_name":"Araich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1706,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1694950460,"creation_date":1650309799,"question_id":71916160,"body_markdown":"When calling this method for decoding a JWT token javax.xml.bind.DatatypeConverter.parseBase64Binary(encoded) I get this exception:\r\n\r\n    org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1082)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\r\n\r\n    Caused by: java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter\r\n\tat io.jsonwebtoken.impl.Base64Codec.decode(Base64Codec.java:26)\r\n\tat io.jsonwebtoken.impl.Base64UrlCodec.decode(Base64UrlCodec.java:78)\r\n\tat io.jsonwebtoken.impl.AbstractTextCodec.decodeToString(AbstractTextCodec.java:36)\r\n\tat io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:251)\r\n\tat io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:481)\r\n\tat io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:541)\r\n\r\n\r\nI have this external libraries on the project among others:\r\n\r\n  \r\n\r\n    implementation &quot;jakarta.xml.bind:jakarta.xml.bind-api:3.0.1&quot;\r\n      implementation &quot;org.glassfish.jaxb:jaxb-runtime:3.0.2&quot;\r\n      io.jsonwebtoken:jjwt:0.9.1\r\n    javax.xml.bind:jaxb-api:2.3.1\r\n\r\nIn the external library  javax.xml.bind:jaxb-api:2.3.1 I can find the javax/xml/bind/DatatypeConverter used in the code so I don&#39;t understand why I&#39;m getting the NoClassDefFoundError.\r\n\r\nI use Java 11 on the project and spring boot.\r\n\r\nThanks for the help.","title":"java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter while decoding JWT token with Java 11","body":"<p>When calling this method for decoding a JWT token javax.xml.bind.DatatypeConverter.parseBase64Binary(encoded) I get this exception:</p>\n<pre><code>org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1082)\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n\n\nCaused by: java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter\nat io.jsonwebtoken.impl.Base64Codec.decode(Base64Codec.java:26)\nat io.jsonwebtoken.impl.Base64UrlCodec.decode(Base64UrlCodec.java:78)\nat io.jsonwebtoken.impl.AbstractTextCodec.decodeToString(AbstractTextCodec.java:36)\nat io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:251)\nat io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:481)\nat io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:541)\n</code></pre>\n<p>I have this external libraries on the project among others:</p>\n<pre><code>implementation &quot;jakarta.xml.bind:jakarta.xml.bind-api:3.0.1&quot;\n  implementation &quot;org.glassfish.jaxb:jaxb-runtime:3.0.2&quot;\n  io.jsonwebtoken:jjwt:0.9.1\njavax.xml.bind:jaxb-api:2.3.1\n</code></pre>\n<p>In the external library  javax.xml.bind:jaxb-api:2.3.1 I can find the javax/xml/bind/DatatypeConverter used in the code so I don't understand why I'm getting the NoClassDefFoundError.</p>\n<p>I use Java 11 on the project and spring boot.</p>\n<p>Thanks for the help.</p>\n"},{"tags":["java","http","networking","jmeter"],"comments":[{"owner":{"account_id":1796479,"reputation":463,"user_id":1635802,"display_name":"klingac"},"score":0,"creation_date":1502803848,"post_id":45671822,"comment_id":78345659,"body_markdown":"could you please specify how is your KeepAlive set on your proxy server. Or just show us Response headers from previuos sampler result. I expect that therte should be something like this:\nKeep-Alive: timeout=15, max=100\nConnection: Keep-Alive","body":"could you please specify how is your KeepAlive set on your proxy server. Or just show us Response headers from previuos sampler result. I expect that therte should be something like this: Keep-Alive: timeout=15, max=100 Connection: Keep-Alive"}],"answers":[{"comments":[{"owner":{"account_id":11080488,"reputation":509,"user_id":8135799,"accept_rate":61,"display_name":"xGIx"},"score":0,"creation_date":1502712311,"post_id":45673919,"comment_id":78305603,"body_markdown":"thanks for the comment, do you think this will still be the case even if some of the requests pass? for example out of 200http requests to the same url, 5 would fail","body":"thanks for the comment, do you think this will still be the case even if some of the requests pass? for example out of 200http requests to the same url, 5 would fail"},{"owner":{"account_id":209652,"reputation":34028,"user_id":460802,"display_name":"UBIK LOAD PACK"},"score":0,"creation_date":1502712887,"post_id":45673919,"comment_id":78305948,"body_markdown":"if only 5 of 200 fail but are for a different host, then it os possible. Otherwis it would be another cause. If answer is ok, please accept it and upvote so that it helps others","body":"if only 5 of 200 fail but are for a different host, then it os possible. Otherwis it would be another cause. If answer is ok, please accept it and upvote so that it helps others"},{"owner":{"account_id":209652,"reputation":34028,"user_id":460802,"display_name":"UBIK LOAD PACK"},"score":0,"creation_date":1502802107,"post_id":45673919,"comment_id":78344542,"body_markdown":"Hi, any feedback on answer? if ok it should be accepted and upvoted so that it&#39;s helpful to others","body":"Hi, any feedback on answer? if ok it should be accepted and upvoted so that it&#39;s helpful to others"},{"owner":{"account_id":11080488,"reputation":509,"user_id":8135799,"accept_rate":61,"display_name":"xGIx"},"score":1,"creation_date":1502804323,"post_id":45673919,"comment_id":78345950,"body_markdown":"hi @UBIK LOAD PACK we are going to look into the root issue soon and then i will update the post, thanks","body":"hi @UBIK LOAD PACK we are going to look into the root issue soon and then i will update the post, thanks"}],"tags":[],"owner":{"account_id":209652,"reputation":34028,"user_id":460802,"display_name":"UBIK LOAD PACK"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1502712927,"creation_date":1502711533,"answer_id":45673919,"question_id":45671822,"body_markdown":"You most probably don&#39;t have access to the target host from where you test.\r\n\r\nDid you configure proxy as your web browser is probably configured\r\n\r\n- http://jmeter.apache.org/usermanual/get-started.html#proxy_server\r\n\r\nBut if failure is partial, then you server might be overloaded and rejecting some requests.","title":"Jmeter I keep getting: &#39;java.net.ConnectException: Connection timed out: connect&#39;?","body":"<p>You most probably don't have access to the target host from where you test.</p>\n\n<p>Did you configure proxy as your web browser is probably configured</p>\n\n<ul>\n<li><a href=\"http://jmeter.apache.org/usermanual/get-started.html#proxy_server\" rel=\"nofollow noreferrer\">http://jmeter.apache.org/usermanual/get-started.html#proxy_server</a></li>\n</ul>\n\n<p>But if failure is partial, then you server might be overloaded and rejecting some requests.</p>\n"},{"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1502775825,"creation_date":1502775825,"answer_id":45687076,"question_id":45671822,"body_markdown":"My expectation is that &quot;problematic&quot; requests are simply not able to finish in 20 seconds (most probably you have modified Connect timeout and set this value in [HTTP Request][1] or [HTTP Request Defaults][2])\r\n\r\n20 seconds looks like a long response time to me so your finding indicates application under test performance problem. \r\n\r\nGoing forward if you would like to see more &quot;human readable&quot; message in the results file switch to [Duration Assertion][3] instead of setting timeouts on protocol level \r\n\r\n[![JMeter Duration Assertion][4]][4]\r\n\r\nSee [How to Use JMeter Assertions in Three Easy Steps][5] article for more information on conditionally failing JMeter requests.\r\n\r\n\r\n  [1]: http://jmeter.apache.org/usermanual/component_reference.html#HTTP_Request\r\n  [2]: http://jmeter.apache.org/usermanual/component_reference.html#HTTP_Request_Defaults\r\n  [3]: http://jmeter.apache.org/usermanual/component_reference.html#Duration_Assertion\r\n  [4]: https://i.stack.imgur.com/GA8ye.png\r\n  [5]: https://www.blazemeter.com/blog/how-use-jmeter-assertions-3-easy-steps","title":"Jmeter I keep getting: &#39;java.net.ConnectException: Connection timed out: connect&#39;?","body":"<p>My expectation is that \"problematic\" requests are simply not able to finish in 20 seconds (most probably you have modified Connect timeout and set this value in <a href=\"http://jmeter.apache.org/usermanual/component_reference.html#HTTP_Request\" rel=\"nofollow noreferrer\">HTTP Request</a> or <a href=\"http://jmeter.apache.org/usermanual/component_reference.html#HTTP_Request_Defaults\" rel=\"nofollow noreferrer\">HTTP Request Defaults</a>)</p>\n\n<p>20 seconds looks like a long response time to me so your finding indicates application under test performance problem. </p>\n\n<p>Going forward if you would like to see more \"human readable\" message in the results file switch to <a href=\"http://jmeter.apache.org/usermanual/component_reference.html#Duration_Assertion\" rel=\"nofollow noreferrer\">Duration Assertion</a> instead of setting timeouts on protocol level </p>\n\n<p><a href=\"https://i.stack.imgur.com/GA8ye.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GA8ye.png\" alt=\"JMeter Duration Assertion\"></a></p>\n\n<p>See <a href=\"https://www.blazemeter.com/blog/how-use-jmeter-assertions-3-easy-steps\" rel=\"nofollow noreferrer\">How to Use JMeter Assertions in Three Easy Steps</a> article for more information on conditionally failing JMeter requests.</p>\n"},{"tags":[],"owner":{"account_id":7406054,"reputation":348,"user_id":5634959,"display_name":"bsd007"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502978782,"creation_date":1502978782,"answer_id":45737367,"question_id":45671822,"body_markdown":"Please check client configuration from where you are running your tests. It might be like your client system is not able to handle 200 threads. Do the test iteration wise means try with 10, 50 , 70 and so on. Check from which iteration onwards you are getting the error. It is also advisable not to include the listeners during load testing. \r\n\r\nPlease check the best practices for load testing using jmeter.  \r\nhttp://jmeter.apache.org/usermanual/best-practices.html","title":"Jmeter I keep getting: &#39;java.net.ConnectException: Connection timed out: connect&#39;?","body":"<p>Please check client configuration from where you are running your tests. It might be like your client system is not able to handle 200 threads. Do the test iteration wise means try with 10, 50 , 70 and so on. Check from which iteration onwards you are getting the error. It is also advisable not to include the listeners during load testing. </p>\n\n<p>Please check the best practices for load testing using jmeter.<br>\n<a href=\"http://jmeter.apache.org/usermanual/best-practices.html\" rel=\"nofollow noreferrer\">http://jmeter.apache.org/usermanual/best-practices.html</a></p>\n"}],"owner":{"account_id":11080488,"reputation":509,"user_id":8135799,"accept_rate":61,"display_name":"xGIx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19434,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1694948790,"creation_date":1502704183,"question_id":45671822,"body_markdown":"**Jmeter I keep getting: &#39;java.net.ConnectException: Connection timed out: connect&#39; ?**\r\n\r\n1. I have created a load test which tests a specific url at 200 users\r\n2. when running the load test for x1 iteration i keep seem to be getting: Connection timed outs?\r\n3. I have made the following changes listed here: https://msdn.microsoft.com/en-us/library/aa560610(v=bts.20).aspx\r\n\r\nBut the issue is still there:\r\n[![enter image description here][1][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YyQRh.png\r\n  [2]: https://i.stack.imgur.com/HHkB9.png","title":"Jmeter I keep getting: &#39;java.net.ConnectException: Connection timed out: connect&#39;?","body":"<p><strong>Jmeter I keep getting: 'java.net.ConnectException: Connection timed out: connect' ?</strong></p>\n\n<ol>\n<li>I have created a load test which tests a specific url at 200 users</li>\n<li>when running the load test for x1 iteration i keep seem to be getting: Connection timed outs?</li>\n<li>I have made the following changes listed here: <a href=\"https://msdn.microsoft.com/en-us/library/aa560610(v=bts.20).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/aa560610(v=bts.20).aspx</a></li>\n</ol>\n\n<p>But the issue is still there:\n[<img src=\"https://i.stack.imgur.com/YyQRh.png\" alt=\"enter image description here\"><a href=\"https://i.stack.imgur.com/YyQRh.png\" rel=\"nofollow noreferrer\">1</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/HHkB9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HHkB9.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","android","firebase","android-recyclerview","pagination"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1694773826,"post_id":77111041,"comment_id":135938551,"body_markdown":"Where are you calling `loadMoreData()` from?","body":"Where are you calling <code>loadMoreData()</code> from?"},{"owner":{"account_id":28586343,"reputation":1,"user_id":21886478,"display_name":"DeATHuMmEr1911"},"score":0,"creation_date":1694921396,"post_id":77111041,"comment_id":135954112,"body_markdown":"in my recyclerview scroll listner.i eveen changed it by a next button still the same it doesnt know when  im at the last item","body":"in my recyclerview scroll listner.i eveen changed it by a next button still the same it doesnt know when  im at the last item"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1694931654,"post_id":77111041,"comment_id":135954710,"body_markdown":"If you understand Kotlin, I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-implement-pagination-in-realtime-database-using-jetpack-compose-bd49084c8fd4) will help. Here is the corresponding [repo](https://github.com/alexmamo/RealtimeDatabasePaginationJetpackCompose).","body":"If you understand Kotlin, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-implement-pagination-in-realtime-database-using-jetpack-compose-bd49084c8fd4\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/RealtimeDatabasePaginationJetpackCompose\" rel=\"nofollow noreferrer\">repo</a>."}],"owner":{"account_id":28586343,"reputation":1,"user_id":21886478,"display_name":"DeATHuMmEr1911"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694948611,"creation_date":1694768547,"question_id":77111041,"body_markdown":"the pagination works fine but when i get to the last item i want to stop loading more,it loads the same data again and again.If u can in the first load database method i want to load only the new data and add it to the recycler view tnx.\r\n\r\n\r\n\r\n```\r\npackage com.example.freelancerapp10.MainFragments;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.os.Handler;\r\nimport android.os.Parcelable;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport androidx.appcompat.widget.SearchView;\r\nimport androidx.recyclerview.widget.DiffUtil;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\nimport androidx.swiperefreshlayout.widget.SwipeRefreshLayout;\r\n\r\nimport android.widget.Button;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.freelancerapp10.adapters.HomeAdapter;\r\nimport com.example.freelancerapp10.model.HomeModel;\r\nimport com.example.freelancerapp10.R;\r\nimport com.example.freelancerapp10.utils.HomeDiffCallback;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.Query;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\npublic class HomeFragment extends Fragment {\r\n    private List&lt;HomeModel&gt; mHomeItems;\r\n    private RecyclerView recyclerView;\r\n    private HomeAdapter adapter;\r\n    private DatabaseReference databaseReference;\r\n    private SwipeRefreshLayout swipeRefreshLayout;\r\n    private ProgressBar progressBar,progressBarRow;\r\n    private View rootView;\r\n    TextView noData;\r\n\r\n    long lastTimestamp = 0;\r\n    Parcelable recyclerViewState;\r\n    private boolean isLoading = false;\r\n    private boolean isLastPage = false;\r\n\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        rootView = inflater.inflate(R.layout.fragment_home, container, false);\r\n        mHomeItems = new ArrayList&lt;&gt;();\r\n        swipeRefreshLayout = rootView.findViewById(R.id.swipeRefresh);\r\n        noData = rootView.findViewById(R.id.noHomeItemsTextView);\r\n\r\n        recyclerView = rootView.findViewById(R.id.recyclerView);\r\n        progressBar = rootView.findViewById(R.id.progressbarHome);\r\n        progressBarRow = rootView.findViewById(R.id.progressBarLoadMore);\r\n        //\r\n\r\n        LinearLayoutManager manager = new LinearLayoutManager(getActivity());\r\n        recyclerView.setLayoutManager(manager);\r\n        adapter = new HomeAdapter(getContext(), mHomeItems);\r\n        recyclerView.setAdapter(adapter);\r\n\r\n\r\n        databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Job Data&quot;);\r\n\r\n        recyclerView.addOnScrollListener(onScrollListener);\r\n        swipeDownToRefresh();\r\n        setupSearchView();\r\n\r\n        loadDataFromDatabase();\r\n\r\n\r\n        return rootView;\r\n    }\r\n\r\n    private void swipeDownToRefresh() {\r\n        swipeRefreshLayout.setOnRefreshListener(() -&gt; {\r\n            progressBar.setVisibility(View.GONE);\r\n            loadDataFromDatabase();\r\n        });\r\n    }\r\n\r\n    private void loadDataFromDatabase() {\r\n        databaseReference.orderByChild(&quot;timestamp&quot;)\r\n                .limitToLast(11).addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                List&lt;HomeModel&gt; updatedList = new ArrayList&lt;&gt;();\r\n                if (snapshot.exists()) {\r\n                    for (DataSnapshot itemSnapshot : snapshot.getChildren()) {\r\n                        HomeModel homeModel = itemSnapshot.getValue(HomeModel.class);\r\n                        homeModel.setKey(itemSnapshot.getKey());\r\n                        updatedList.add(homeModel);\r\n                    }\r\n                    lastTimestamp =  updatedList.get(0).getTimestamp();\r\n                    Collections.reverse(updatedList);\r\n                    updatedList.remove(updatedList.size() - 1);\r\n                    refreshTheAdapterAndView(updatedList);\r\n                    isLoading = false;\r\n                    isLastPage = false;\r\n                } else {\r\n                    handleNoData();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                // Handle error\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    private void loadMoreData() {\r\n        if (isLastPage || isLoading) {\r\n        return;\r\n        }\r\n\r\n        isLoading = true;\r\n        progressBarRow.setVisibility(View.VISIBLE);\r\n\r\n        databaseReference.orderByChild(&quot;timestamp&quot;)\r\n                .endAt(lastTimestamp)\r\n                .limitToLast(11).addListenerForSingleValueEvent(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                        List&lt;HomeModel&gt; updatedList = new ArrayList&lt;&gt;();\r\n                        if (snapshot.exists()) {\r\n                            for (DataSnapshot itemSnapshot : snapshot.getChildren()) {\r\n                                HomeModel homeModel = itemSnapshot.getValue(HomeModel.class);\r\n                                homeModel.setKey(itemSnapshot.getKey());\r\n                                updatedList.add(homeModel);\r\n                            }\r\n\r\n                            if (updatedList.size() &lt; 11 ) {\r\n                                Toast.makeText(getContext(), &quot;You reached last item&quot;, Toast.LENGTH_SHORT).show();\r\n                                isLastPage = true;\r\n                                isLoading = false;\r\n                                Collections.reverse(updatedList);\r\n                                progressBarRow.setVisibility(View.GONE);\r\n                                recyclerViewState = recyclerView.getLayoutManager().onSaveInstanceState();\r\n                                refreshLoadMore(updatedList);\r\n                                return;\r\n                            }\r\n\r\n                            lastTimestamp =  updatedList.get(0).getTimestamp();\r\n                            Collections.reverse(updatedList);\r\n                            updatedList.remove(updatedList.size() - 1);\r\n                            recyclerViewState = recyclerView.getLayoutManager().onSaveInstanceState();\r\n                            refreshLoadMore(updatedList);\r\n                            isLoading = false;\r\n                            progressBarRow.setVisibility(View.GONE);\r\n                        } else {\r\n                            handleNoData();\r\n                        }\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n                        isLoading = false;\r\n                        progressBarRow.setVisibility(View.GONE);\r\n                    }\r\n                });\r\n    }\r\n\r\n\r\n    private void refreshLoadMore(List&lt;HomeModel&gt; updatedList) {\r\n        HomeDiffCallback diffCallback = new HomeDiffCallback(mHomeItems, updatedList);\r\n        DiffUtil.DiffResult diffResult = DiffUtil.calculateDiff(diffCallback);\r\n\r\n        // Append new data to the existing list\r\n        mHomeItems.addAll(updatedList);\r\n\r\n        progressBar.setVisibility(View.GONE);\r\n        swipeRefreshLayout.setRefreshing(false);\r\n\r\n\r\n        diffResult.dispatchUpdatesTo(adapter);\r\n        recyclerView.getLayoutManager().onRestoreInstanceState(recyclerViewState);\r\n    }\r\n\r\n    private void refreshTheAdapterAndView(List&lt;HomeModel&gt; updatedList) {\r\n        HomeDiffCallback diffCallback = new HomeDiffCallback(mHomeItems, updatedList);\r\n        DiffUtil.DiffResult diffResult = DiffUtil.calculateDiff(diffCallback);\r\n\r\n        mHomeItems.clear();\r\n        mHomeItems.addAll(updatedList);\r\n\r\n        progressBar.setVisibility(View.GONE);\r\n        swipeRefreshLayout.setRefreshing(false);\r\n\r\n        if (mHomeItems.isEmpty()) {\r\n            noData.setVisibility(View.VISIBLE);\r\n        } else {\r\n            noData.setVisibility(View.GONE);\r\n        }\r\n\r\n        diffResult.dispatchUpdatesTo(adapter);\r\n    }\r\n\r\n    private void handleNoData() {\r\n        mHomeItems.clear();\r\n        noData.setVisibility(View.VISIBLE);\r\n        progressBar.setVisibility(View.GONE);\r\n        swipeRefreshLayout.setRefreshing(false);\r\n        adapter.notifyDataSetChanged();\r\n    }\r\n\r\n    private RecyclerView.OnScrollListener onScrollListener = new RecyclerView.OnScrollListener() {\r\n        @Override\r\n        public void onScrolled(@NonNull RecyclerView recyclerView, int dx, int dy) {\r\n            super.onScrolled(recyclerView, dx, dy);\r\n            LinearLayoutManager layoutManager = (LinearLayoutManager) recyclerView.getLayoutManager();\r\n\r\n            int totalItemCount = layoutManager.getItemCount();\r\n            int lastVisibleItem = layoutManager.findLastVisibleItemPosition();\r\n\r\n            // Check if we&#39;ve reached the end of the list\r\n            if (lastVisibleItem == totalItemCount - 1 &amp;&amp; dy &gt; 0) {\r\n                // Load more data\r\n                loadMoreData();\r\n            }\r\n        }\r\n    };\r\n\r\n    private void setupSearchView() {\r\n        SearchView searchView = rootView.findViewById(R.id.search_view);\r\n        searchView.setMaxWidth(Integer.MAX_VALUE);\r\n\r\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String query) {\r\n                Toast.makeText(getContext(), &quot;Search query submitted: &quot; + query, Toast.LENGTH_SHORT).show();\r\n                return true;\r\n            }\r\n\r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n                // Handle search query text changes\r\n                return true;\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onPause() {\r\n        super.onPause();\r\n        new Handler().postDelayed(() -&gt; {\r\n            progressBarRow.setVisibility(View.GONE);\r\n        }, 100);\r\n        if (swipeRefreshLayout != null &amp;&amp; swipeRefreshLayout.isRefreshing()) {\r\n            swipeRefreshLayout.setRefreshing(false);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n    \r\n\r\ni want to do pagination in my android app and it worked but it loads uneccery datas.","title":"paging from firebase realtime database to recycler view","body":"<p>the pagination works fine but when i get to the last item i want to stop loading more,it loads the same data again and again.If u can in the first load database method i want to load only the new data and add it to the recycler view tnx.</p>\n<pre><code>package com.example.freelancerapp10.MainFragments;\n\nimport android.os.Bundle;\n\nimport androidx.annotation.NonNull;\nimport androidx.fragment.app.Fragment;\n\nimport android.os.Handler;\nimport android.os.Parcelable;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport androidx.appcompat.widget.SearchView;\nimport androidx.recyclerview.widget.DiffUtil;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\nimport androidx.swiperefreshlayout.widget.SwipeRefreshLayout;\n\nimport android.widget.Button;\nimport android.widget.ProgressBar;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.example.freelancerapp10.adapters.HomeAdapter;\nimport com.example.freelancerapp10.model.HomeModel;\nimport com.example.freelancerapp10.R;\nimport com.example.freelancerapp10.utils.HomeDiffCallback;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.Query;\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class HomeFragment extends Fragment {\n    private List&lt;HomeModel&gt; mHomeItems;\n    private RecyclerView recyclerView;\n    private HomeAdapter adapter;\n    private DatabaseReference databaseReference;\n    private SwipeRefreshLayout swipeRefreshLayout;\n    private ProgressBar progressBar,progressBarRow;\n    private View rootView;\n    TextView noData;\n\n    long lastTimestamp = 0;\n    Parcelable recyclerViewState;\n    private boolean isLoading = false;\n    private boolean isLastPage = false;\n\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        rootView = inflater.inflate(R.layout.fragment_home, container, false);\n        mHomeItems = new ArrayList&lt;&gt;();\n        swipeRefreshLayout = rootView.findViewById(R.id.swipeRefresh);\n        noData = rootView.findViewById(R.id.noHomeItemsTextView);\n\n        recyclerView = rootView.findViewById(R.id.recyclerView);\n        progressBar = rootView.findViewById(R.id.progressbarHome);\n        progressBarRow = rootView.findViewById(R.id.progressBarLoadMore);\n        //\n\n        LinearLayoutManager manager = new LinearLayoutManager(getActivity());\n        recyclerView.setLayoutManager(manager);\n        adapter = new HomeAdapter(getContext(), mHomeItems);\n        recyclerView.setAdapter(adapter);\n\n\n        databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Job Data&quot;);\n\n        recyclerView.addOnScrollListener(onScrollListener);\n        swipeDownToRefresh();\n        setupSearchView();\n\n        loadDataFromDatabase();\n\n\n        return rootView;\n    }\n\n    private void swipeDownToRefresh() {\n        swipeRefreshLayout.setOnRefreshListener(() -&gt; {\n            progressBar.setVisibility(View.GONE);\n            loadDataFromDatabase();\n        });\n    }\n\n    private void loadDataFromDatabase() {\n        databaseReference.orderByChild(&quot;timestamp&quot;)\n                .limitToLast(11).addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                List&lt;HomeModel&gt; updatedList = new ArrayList&lt;&gt;();\n                if (snapshot.exists()) {\n                    for (DataSnapshot itemSnapshot : snapshot.getChildren()) {\n                        HomeModel homeModel = itemSnapshot.getValue(HomeModel.class);\n                        homeModel.setKey(itemSnapshot.getKey());\n                        updatedList.add(homeModel);\n                    }\n                    lastTimestamp =  updatedList.get(0).getTimestamp();\n                    Collections.reverse(updatedList);\n                    updatedList.remove(updatedList.size() - 1);\n                    refreshTheAdapterAndView(updatedList);\n                    isLoading = false;\n                    isLastPage = false;\n                } else {\n                    handleNoData();\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                // Handle error\n            }\n        });\n    }\n\n\n    private void loadMoreData() {\n        if (isLastPage || isLoading) {\n        return;\n        }\n\n        isLoading = true;\n        progressBarRow.setVisibility(View.VISIBLE);\n\n        databaseReference.orderByChild(&quot;timestamp&quot;)\n                .endAt(lastTimestamp)\n                .limitToLast(11).addListenerForSingleValueEvent(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\n                        List&lt;HomeModel&gt; updatedList = new ArrayList&lt;&gt;();\n                        if (snapshot.exists()) {\n                            for (DataSnapshot itemSnapshot : snapshot.getChildren()) {\n                                HomeModel homeModel = itemSnapshot.getValue(HomeModel.class);\n                                homeModel.setKey(itemSnapshot.getKey());\n                                updatedList.add(homeModel);\n                            }\n\n                            if (updatedList.size() &lt; 11 ) {\n                                Toast.makeText(getContext(), &quot;You reached last item&quot;, Toast.LENGTH_SHORT).show();\n                                isLastPage = true;\n                                isLoading = false;\n                                Collections.reverse(updatedList);\n                                progressBarRow.setVisibility(View.GONE);\n                                recyclerViewState = recyclerView.getLayoutManager().onSaveInstanceState();\n                                refreshLoadMore(updatedList);\n                                return;\n                            }\n\n                            lastTimestamp =  updatedList.get(0).getTimestamp();\n                            Collections.reverse(updatedList);\n                            updatedList.remove(updatedList.size() - 1);\n                            recyclerViewState = recyclerView.getLayoutManager().onSaveInstanceState();\n                            refreshLoadMore(updatedList);\n                            isLoading = false;\n                            progressBarRow.setVisibility(View.GONE);\n                        } else {\n                            handleNoData();\n                        }\n\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {\n                        isLoading = false;\n                        progressBarRow.setVisibility(View.GONE);\n                    }\n                });\n    }\n\n\n    private void refreshLoadMore(List&lt;HomeModel&gt; updatedList) {\n        HomeDiffCallback diffCallback = new HomeDiffCallback(mHomeItems, updatedList);\n        DiffUtil.DiffResult diffResult = DiffUtil.calculateDiff(diffCallback);\n\n        // Append new data to the existing list\n        mHomeItems.addAll(updatedList);\n\n        progressBar.setVisibility(View.GONE);\n        swipeRefreshLayout.setRefreshing(false);\n\n\n        diffResult.dispatchUpdatesTo(adapter);\n        recyclerView.getLayoutManager().onRestoreInstanceState(recyclerViewState);\n    }\n\n    private void refreshTheAdapterAndView(List&lt;HomeModel&gt; updatedList) {\n        HomeDiffCallback diffCallback = new HomeDiffCallback(mHomeItems, updatedList);\n        DiffUtil.DiffResult diffResult = DiffUtil.calculateDiff(diffCallback);\n\n        mHomeItems.clear();\n        mHomeItems.addAll(updatedList);\n\n        progressBar.setVisibility(View.GONE);\n        swipeRefreshLayout.setRefreshing(false);\n\n        if (mHomeItems.isEmpty()) {\n            noData.setVisibility(View.VISIBLE);\n        } else {\n            noData.setVisibility(View.GONE);\n        }\n\n        diffResult.dispatchUpdatesTo(adapter);\n    }\n\n    private void handleNoData() {\n        mHomeItems.clear();\n        noData.setVisibility(View.VISIBLE);\n        progressBar.setVisibility(View.GONE);\n        swipeRefreshLayout.setRefreshing(false);\n        adapter.notifyDataSetChanged();\n    }\n\n    private RecyclerView.OnScrollListener onScrollListener = new RecyclerView.OnScrollListener() {\n        @Override\n        public void onScrolled(@NonNull RecyclerView recyclerView, int dx, int dy) {\n            super.onScrolled(recyclerView, dx, dy);\n            LinearLayoutManager layoutManager = (LinearLayoutManager) recyclerView.getLayoutManager();\n\n            int totalItemCount = layoutManager.getItemCount();\n            int lastVisibleItem = layoutManager.findLastVisibleItemPosition();\n\n            // Check if we've reached the end of the list\n            if (lastVisibleItem == totalItemCount - 1 &amp;&amp; dy &gt; 0) {\n                // Load more data\n                loadMoreData();\n            }\n        }\n    };\n\n    private void setupSearchView() {\n        SearchView searchView = rootView.findViewById(R.id.search_view);\n        searchView.setMaxWidth(Integer.MAX_VALUE);\n\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n            @Override\n            public boolean onQueryTextSubmit(String query) {\n                Toast.makeText(getContext(), &quot;Search query submitted: &quot; + query, Toast.LENGTH_SHORT).show();\n                return true;\n            }\n\n            @Override\n            public boolean onQueryTextChange(String newText) {\n                // Handle search query text changes\n                return true;\n            }\n        });\n    }\n\n    @Override\n    public void onPause() {\n        super.onPause();\n        new Handler().postDelayed(() -&gt; {\n            progressBarRow.setVisibility(View.GONE);\n        }, 100);\n        if (swipeRefreshLayout != null &amp;&amp; swipeRefreshLayout.isRefreshing()) {\n            swipeRefreshLayout.setRefreshing(false);\n        }\n    }\n}\n</code></pre>\n<p>i want to do pagination in my android app and it worked but it loads uneccery datas.</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":4,"creation_date":1678924852,"post_id":75750861,"comment_id":133629629,"body_markdown":"Write a component for retrieving environment variables and mock it, don&#39;t access them directly.","body":"Write a component for retrieving environment variables and mock it, don&#39;t access them directly."},{"owner":{"account_id":10985081,"reputation":497,"user_id":8071067,"display_name":"MarkBeras"},"score":0,"creation_date":1678958992,"post_id":75750861,"comment_id":133634834,"body_markdown":"thanks, I already have that but I wanted to add tests for this component as I need a higher code coverage","body":"thanks, I already have that but I wanted to add tests for this component as I need a higher code coverage"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1678959113,"post_id":75750861,"comment_id":133634858,"body_markdown":"I suggest that you make that component trivial and don&#39;t test it. All it needs is a single method to call `System.getenv()`","body":"I suggest that you make that component trivial and don&#39;t test it. All it needs is a single method to call <code>System.getenv()</code>"}],"answers":[{"tags":[],"owner":{"account_id":4881680,"reputation":6433,"user_id":3935325,"accept_rate":86,"display_name":"villasv"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688502507,"creation_date":1688502507,"answer_id":76615705,"question_id":75750861,"body_markdown":"If you want to get pre-Java16 behavior, you can use \r\n\r\n    --add-opens=java.base/java.util=ALL-UNNAMED\r\n\r\nin your JVM args. Using `build.gradle.kts` this looks something like\r\n\r\n    withType&lt;Test&gt; {\r\n        ...\r\n        jvmArgs(&quot;--add-opens=java.base/java.util=ALL-UNNAMED&quot;)\r\n    }","title":"How to mock System.getenv() for Java17 with JUnit5?","body":"<p>If you want to get pre-Java16 behavior, you can use</p>\n<pre><code>--add-opens=java.base/java.util=ALL-UNNAMED\n</code></pre>\n<p>in your JVM args. Using <code>build.gradle.kts</code> this looks something like</p>\n<pre><code>withType&lt;Test&gt; {\n    ...\n    jvmArgs(&quot;--add-opens=java.base/java.util=ALL-UNNAMED&quot;)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1434179,"reputation":5113,"user_id":1355930,"display_name":"Ashley Frieze"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694853034,"creation_date":1694853034,"answer_id":77116976,"question_id":75750861,"body_markdown":"System Rules does not support Java 17. The fork/extension to it - System Stubs - does.\r\n\r\nhttps://github.com/webcompere/system-stubs\r\n\r\n```\r\npublic class SomeTestClass {\r\n    @Rule\r\n    public EnvironmentVariablesRule rule = new EnvironmentVariablesRule();\r\n}\r\n```\r\n\r\nYou can set the environment variables either in the initialiser of the rule, in your `@Before` or during your test.\r\n\r\nThe library comes with support for JUnit4, JUnit and the `system-lambda` mechanisms too.","title":"How to mock System.getenv() for Java17 with JUnit5?","body":"<p>System Rules does not support Java 17. The fork/extension to it - System Stubs - does.</p>\n<p><a href=\"https://github.com/webcompere/system-stubs\" rel=\"nofollow noreferrer\">https://github.com/webcompere/system-stubs</a></p>\n<pre><code>public class SomeTestClass {\n    @Rule\n    public EnvironmentVariablesRule rule = new EnvironmentVariablesRule();\n}\n</code></pre>\n<p>You can set the environment variables either in the initialiser of the rule, in your <code>@Before</code> or during your test.</p>\n<p>The library comes with support for JUnit4, JUnit and the <code>system-lambda</code> mechanisms too.</p>\n"}],"owner":{"account_id":10985081,"reputation":497,"user_id":8071067,"display_name":"MarkBeras"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1359,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1694948525,"creation_date":1678921774,"question_id":75750861,"body_markdown":"I am trying to mock `System.getenv()`. That&#39;s how I am doing it with https://github.com/stefanbirkner/system-rules lib:\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class SampleTest {\r\n       @Rule\r\n       public final EnvironmentVariables environmentVariables = new EnvironmentVariables();\r\n       @BeforeEach\r\n       public void setup() {\r\n           environmentVariables.set(&quot;AWS_REGION&quot;, TEST_REGION.toString());\r\n           environmentVariables.set(&quot;CLIENT_ACCOUNT_ROLE&quot;, ROLE_ARN);\r\n       }\r\n       ...\r\n    }\r\n\r\nBut build fails with exception:  `java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Map java.util.Collections$UnmodifiableMap.m accessible: module java.base does not &quot;opens java.util&quot; to unnamed module`. The exception happens in the line `environmentVariables.set(&quot;AWS_REGION&quot;, TEST_REGION.toString());`. \r\n\r\nI found similar problem for another annotation https://github.com/junit-pioneer/junit-pioneer/issues/509 but there is no proper solution for it. Is there a way to mock variables for this java and junit version? \r\n\r\n\r\n","title":"How to mock System.getenv() for Java17 with JUnit5?","body":"<p>I am trying to mock <code>System.getenv()</code>. That's how I am doing it with <a href=\"https://github.com/stefanbirkner/system-rules\" rel=\"nofollow noreferrer\">https://github.com/stefanbirkner/system-rules</a> lib:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class SampleTest {\n   @Rule\n   public final EnvironmentVariables environmentVariables = new EnvironmentVariables();\n   @BeforeEach\n   public void setup() {\n       environmentVariables.set(&quot;AWS_REGION&quot;, TEST_REGION.toString());\n       environmentVariables.set(&quot;CLIENT_ACCOUNT_ROLE&quot;, ROLE_ARN);\n   }\n   ...\n}\n</code></pre>\n<p>But build fails with exception:  <code>java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Map java.util.Collections$UnmodifiableMap.m accessible: module java.base does not &quot;opens java.util&quot; to unnamed module</code>. The exception happens in the line <code>environmentVariables.set(&quot;AWS_REGION&quot;, TEST_REGION.toString());</code>.</p>\n<p>I found similar problem for another annotation <a href=\"https://github.com/junit-pioneer/junit-pioneer/issues/509\" rel=\"nofollow noreferrer\">https://github.com/junit-pioneer/junit-pioneer/issues/509</a> but there is no proper solution for it. Is there a way to mock variables for this java and junit version?</p>\n"},{"tags":["java","android","permissions","android-14"],"comments":[{"owner":{"account_id":29448871,"reputation":21,"user_id":22565650,"display_name":"Khu&#234; Nguyễn"},"score":0,"creation_date":1694769991,"post_id":77110693,"comment_id":135937823,"body_markdown":"@blackapps I&#39;m sorry. I have edited it. Please help me check it.","body":"@blackapps I&#39;m sorry. I have edited it. Please help me check it."},{"owner":{"account_id":29448871,"reputation":21,"user_id":22565650,"display_name":"Khu&#234; Nguyễn"},"score":0,"creation_date":1694771032,"post_id":77110693,"comment_id":135938023,"body_markdown":"@blackapps I have edited it. Please help me check it","body":"@blackapps I have edited it. Please help me check it"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1694871975,"post_id":77110693,"comment_id":135949971,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"comments":[{"owner":{"account_id":29448871,"reputation":21,"user_id":22565650,"display_name":"Khu&#234; Nguyễn"},"score":0,"creation_date":1694948719,"post_id":77111937,"comment_id":135956111,"body_markdown":"The READ_MEDIA_VISUAL_USER_SELECTED permission is not related to PhotoPicker. So, I have to use the File.listFiles() function and create my own gallery picker to display those images, right?","body":"The READ_MEDIA_VISUAL_USER_SELECTED permission is not related to PhotoPicker. So, I have to use the File.listFiles() function and create my own gallery picker to display those images, right?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1694950446,"post_id":77111937,"comment_id":135956231,"body_markdown":"Sorry i dont know if my conclusion is ok. Personally i see yet no use for READ_MEDIA_VUSUAL_USER_SELECTED. Starting with: how to get an uri list of the uris the user selected?","body":"Sorry i dont know if my conclusion is ok. Personally i see yet no use for READ_MEDIA_VUSUAL_USER_SELECTED. Starting with: how to get an uri list of the uris the user selected?"},{"owner":{"account_id":29448871,"reputation":21,"user_id":22565650,"display_name":"Khu&#234; Nguyễn"},"score":0,"creation_date":1694958018,"post_id":77111937,"comment_id":135956950,"body_markdown":"Ok, thank you very much.","body":"Ok, thank you very much."}],"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694802778,"creation_date":1694776974,"answer_id":77111937,"question_id":77110693,"body_markdown":"My five cents:\r\n\r\nIf your app requests READ_MEDIA_IMAGES and the user confirms then your app can use the classic File class to list files in for instance the DCIM/Camera directory and see all files of the default Camera app.\r\n\r\nThis is true for Android 14 too.\r\n\r\nBut if it directly goes for READ_MEDIA_IMAGES and READ_MEDIA_VISUAL_USER_SELECTED and the user selects four files in DCIM/Camera then after that the File.listFiles() function will only list those four files.\r\n\r\nIn my experience the new permission has nothing to do with PickVisualMedia() or ACTION_GET_CONTENT or ACTION_PICK_IMAGES only with the classic File class.\r\n\r\nWell my five cents. I find the documentation pretty obscure too and messed a long while with this.\r\n","title":"Photo Picker with READ_MEDIA_VISUAL_USER_SELECTED permission on Android 14 still shows all media content","body":"<p>My five cents:</p>\n<p>If your app requests READ_MEDIA_IMAGES and the user confirms then your app can use the classic File class to list files in for instance the DCIM/Camera directory and see all files of the default Camera app.</p>\n<p>This is true for Android 14 too.</p>\n<p>But if it directly goes for READ_MEDIA_IMAGES and READ_MEDIA_VISUAL_USER_SELECTED and the user selects four files in DCIM/Camera then after that the File.listFiles() function will only list those four files.</p>\n<p>In my experience the new permission has nothing to do with PickVisualMedia() or ACTION_GET_CONTENT or ACTION_PICK_IMAGES only with the classic File class.</p>\n<p>Well my five cents. I find the documentation pretty obscure too and messed a long while with this.</p>\n"}],"owner":{"account_id":29448871,"reputation":21,"user_id":22565650,"display_name":"Khu&#234; Nguyễn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":989,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1694946850,"creation_date":1694765531,"question_id":77110693,"body_markdown":"In the Android 14 release, there is a new permission:\r\n- **READ_MEDIA_VISUAL_USER_SELECTED**: The **READ_MEDIA_VISUAL_USER_SELECTED** permission is granted, providing partial and temporary access to the user&#39;s photos and videos.\r\n\r\nThis new permission has a new dialog with the following options:\r\n- **Select photos and videos**: New in Android 14. The user selects the specific photos and videos that they want to make available to your app.\r\n- **Allow all**: The user grants full-library access to all photos and videos on the device.\r\n- **Don&#39;t allow**: The user denies all access.\r\n\r\nhttps://developer.android.com/about/versions/14/changes/partial-photo-video-access\r\n\r\n- In the document there is a note mentioning:\r\n&gt; Note: If your app already uses the photo picker, you don&#39;t need to take any action to support this change. Otherwise, consider using the photo picker instead of adopting this change.\r\n\r\nWhen I try to implement the photo picker and test myapp.\r\n\r\nStep 1: Request permission: &quot;**READ_MEDIA_IMAGES**&quot;, &quot;**READ_MEDIA_VISUAL_USER_SELECTED**&quot;\r\n\r\nStep 2: I select &quot;**Select photos and videos**&quot;\r\n\r\nStep 3: Select a few photos -&gt; Allow\r\n\r\nResult: The PhotoPicker still displays all media content on the device instead of only displaying media content that has been granted permission.\r\n\r\nAm I misunderstanding or is there a problem with my code? \r\n\r\nIf I don&#39;t understand correctly, what is the actual behavior? What should I do with it?\r\n\r\nEveryone please let me know. Thanks.\r\n\r\nI implemented the photo picker in two cases and got the same results. Here is my code:\r\n\r\nCase 1 uses Intent: \r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    ImageView imageView;\r\n    Button takePictureButton;\r\n    int RESULT_CODE = 0;\r\n    int REQUEST_CODE = 1;\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        imageView = findViewById(R.id.img);\r\n        takePictureButton = findViewById(R.id.btn_take_picture);\r\n\r\n        takePictureButton.setOnClickListener(view -&gt; {\r\n            if (android.os.Build.VERSION.SDK_INT == 34) {\r\n                int result14 = this.checkSelfPermission(READ_MEDIA_VISUAL_USER_SELECTED);\r\n                boolean hasReadMediaPermissionAndroid14 = PackageManager.PERMISSION_GRANTED == result14;\r\n\r\n                if (hasReadMediaPermissionAndroid14) {\r\n                    Intent intent = new Intent(MediaStore.ACTION_PICK_IMAGES);\r\n                    intent.setType(&quot;image/*&quot;);\r\n                    startActivityForResult(intent, RESULT_CODE);\r\n                } else {\r\n                    requestPermissions(new String[] {READ_MEDIA_IMAGES, READ_MEDIA_VISUAL_USER_SELECTED}, REQUEST_CODE);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (data != null) {\r\n            imageView.setImageURI(data.getData());\r\n        }\r\n    }\r\n}\r\n```\r\nCase 2 follows the instructions in the documentation [Photo picker](https://developer.android.com/training/data-storage/shared/photopicker):\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    ImageView imageView;\r\n    Button takePictureButton;\r\n    int REQUEST_CODE = 1;\r\n\r\n    ActivityResultLauncher&lt;PickVisualMediaRequest&gt; pickMedia =\r\n            registerForActivityResult(new ActivityResultContracts.PickVisualMedia(), uri -&gt; {\r\n                if (uri != null) {\r\n                    imageView.setImageURI(uri);\r\n                    Log.d(&quot;PhotoPicker&quot;, &quot;Selected URI: &quot; + uri);\r\n                } else {\r\n                    Log.d(&quot;PhotoPicker&quot;, &quot;No media selected&quot;);\r\n                }\r\n            });\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        imageView = findViewById(R.id.img);\r\n        takePictureButton = findViewById(R.id.btn_take_picture);\r\n\r\n        takePictureButton.setOnClickListener(view -&gt; {\r\n                    if (android.os.Build.VERSION.SDK_INT == 34) {\r\n                        int result14 = this.checkSelfPermission(READ_MEDIA_VISUAL_USER_SELECTED);\r\n                        boolean hasReadMediaPermissionAndroid14 = PackageManager.PERMISSION_GRANTED == result14;\r\n\r\n                        if (hasReadMediaPermissionAndroid14) {\r\n                            pickMedia.launch(new PickVisualMediaRequest.Builder()\r\n                                    .setMediaType(ActivityResultContracts.PickVisualMedia.ImageOnly.INSTANCE)\r\n                                    .build());\r\n                        } else {\r\n                            requestPermissions(new String[]{READ_MEDIA_IMAGES, READ_MEDIA_VISUAL_USER_SELECTED}, REQUEST_CODE);\r\n                        }\r\n                    }\r\n                }\r\n        );\r\n    }\r\n```\r\n\r\n- AndroidManifest.xml:\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_VISUAL_USER_SELECTED&quot; /&gt;\r\n```\r\n\r\n- activity_main.xml: \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/img&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintHeight_percent=&quot;0.5&quot;\r\n        app:layout_constraintVertical_bias=&quot;0&quot;\r\n        android:src=&quot;@drawable/img&quot;\r\n        tools:ignore=&quot;ContentDescription&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn_take_picture&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;take picture&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/img&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;/&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n- evidence: [evidence][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FEfIi.gif","title":"Photo Picker with READ_MEDIA_VISUAL_USER_SELECTED permission on Android 14 still shows all media content","body":"<p>In the Android 14 release, there is a new permission:</p>\n<ul>\n<li><strong>READ_MEDIA_VISUAL_USER_SELECTED</strong>: The <strong>READ_MEDIA_VISUAL_USER_SELECTED</strong> permission is granted, providing partial and temporary access to the user's photos and videos.</li>\n</ul>\n<p>This new permission has a new dialog with the following options:</p>\n<ul>\n<li><strong>Select photos and videos</strong>: New in Android 14. The user selects the specific photos and videos that they want to make available to your app.</li>\n<li><strong>Allow all</strong>: The user grants full-library access to all photos and videos on the device.</li>\n<li><strong>Don't allow</strong>: The user denies all access.</li>\n</ul>\n<p><a href=\"https://developer.android.com/about/versions/14/changes/partial-photo-video-access\" rel=\"nofollow noreferrer\">https://developer.android.com/about/versions/14/changes/partial-photo-video-access</a></p>\n<ul>\n<li>In the document there is a note mentioning:</li>\n</ul>\n<blockquote>\n<p>Note: If your app already uses the photo picker, you don't need to take any action to support this change. Otherwise, consider using the photo picker instead of adopting this change.</p>\n</blockquote>\n<p>When I try to implement the photo picker and test myapp.</p>\n<p>Step 1: Request permission: &quot;<strong>READ_MEDIA_IMAGES</strong>&quot;, &quot;<strong>READ_MEDIA_VISUAL_USER_SELECTED</strong>&quot;</p>\n<p>Step 2: I select &quot;<strong>Select photos and videos</strong>&quot;</p>\n<p>Step 3: Select a few photos -&gt; Allow</p>\n<p>Result: The PhotoPicker still displays all media content on the device instead of only displaying media content that has been granted permission.</p>\n<p>Am I misunderstanding or is there a problem with my code?</p>\n<p>If I don't understand correctly, what is the actual behavior? What should I do with it?</p>\n<p>Everyone please let me know. Thanks.</p>\n<p>I implemented the photo picker in two cases and got the same results. Here is my code:</p>\n<p>Case 1 uses Intent:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    ImageView imageView;\n    Button takePictureButton;\n    int RESULT_CODE = 0;\n    int REQUEST_CODE = 1;\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        imageView = findViewById(R.id.img);\n        takePictureButton = findViewById(R.id.btn_take_picture);\n\n        takePictureButton.setOnClickListener(view -&gt; {\n            if (android.os.Build.VERSION.SDK_INT == 34) {\n                int result14 = this.checkSelfPermission(READ_MEDIA_VISUAL_USER_SELECTED);\n                boolean hasReadMediaPermissionAndroid14 = PackageManager.PERMISSION_GRANTED == result14;\n\n                if (hasReadMediaPermissionAndroid14) {\n                    Intent intent = new Intent(MediaStore.ACTION_PICK_IMAGES);\n                    intent.setType(&quot;image/*&quot;);\n                    startActivityForResult(intent, RESULT_CODE);\n                } else {\n                    requestPermissions(new String[] {READ_MEDIA_IMAGES, READ_MEDIA_VISUAL_USER_SELECTED}, REQUEST_CODE);\n                }\n            }\n        });\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (data != null) {\n            imageView.setImageURI(data.getData());\n        }\n    }\n}\n</code></pre>\n<p>Case 2 follows the instructions in the documentation <a href=\"https://developer.android.com/training/data-storage/shared/photopicker\" rel=\"nofollow noreferrer\">Photo picker</a>:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    ImageView imageView;\n    Button takePictureButton;\n    int REQUEST_CODE = 1;\n\n    ActivityResultLauncher&lt;PickVisualMediaRequest&gt; pickMedia =\n            registerForActivityResult(new ActivityResultContracts.PickVisualMedia(), uri -&gt; {\n                if (uri != null) {\n                    imageView.setImageURI(uri);\n                    Log.d(&quot;PhotoPicker&quot;, &quot;Selected URI: &quot; + uri);\n                } else {\n                    Log.d(&quot;PhotoPicker&quot;, &quot;No media selected&quot;);\n                }\n            });\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        imageView = findViewById(R.id.img);\n        takePictureButton = findViewById(R.id.btn_take_picture);\n\n        takePictureButton.setOnClickListener(view -&gt; {\n                    if (android.os.Build.VERSION.SDK_INT == 34) {\n                        int result14 = this.checkSelfPermission(READ_MEDIA_VISUAL_USER_SELECTED);\n                        boolean hasReadMediaPermissionAndroid14 = PackageManager.PERMISSION_GRANTED == result14;\n\n                        if (hasReadMediaPermissionAndroid14) {\n                            pickMedia.launch(new PickVisualMediaRequest.Builder()\n                                    .setMediaType(ActivityResultContracts.PickVisualMedia.ImageOnly.INSTANCE)\n                                    .build());\n                        } else {\n                            requestPermissions(new String[]{READ_MEDIA_IMAGES, READ_MEDIA_VISUAL_USER_SELECTED}, REQUEST_CODE);\n                        }\n                    }\n                }\n        );\n    }\n</code></pre>\n<ul>\n<li>AndroidManifest.xml:</li>\n</ul>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_VISUAL_USER_SELECTED&quot; /&gt;\n</code></pre>\n<ul>\n<li>activity_main.xml:</li>\n</ul>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/img&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintHeight_percent=&quot;0.5&quot;\n        app:layout_constraintVertical_bias=&quot;0&quot;\n        android:src=&quot;@drawable/img&quot;\n        tools:ignore=&quot;ContentDescription&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btn_take_picture&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;take picture&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/img&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        android:layout_marginTop=&quot;20dp&quot;/&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<ul>\n<li>evidence: <a href=\"https://i.stack.imgur.com/FEfIi.gif\" rel=\"nofollow noreferrer\">evidence</a></li>\n</ul>\n"},{"tags":["java","android","kotlin"],"answers":[{"comments":[{"owner":{"account_id":27037859,"reputation":51,"user_id":20593183,"display_name":"Sourav Karjole"},"score":0,"creation_date":1694953319,"post_id":77121403,"comment_id":135956473,"body_markdown":"Ohh in my adapter class i made use of componentN() functions, Also using data class i will be able to destructure an object into a number of variables concisely right ?. So i made use of data class making to more readable","body":"Ohh in my adapter class i made use of componentN() functions, Also using data class i will be able to destructure an object into a number of variables concisely right ?. So i made use of data class making to more readable"},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":1,"creation_date":1694953860,"post_id":77121403,"comment_id":135956533,"body_markdown":"Yes, if you use destructuring then data classes provide you this feature as well. Also, `copy()`. But getters, setters and constructors aren&#39;t provided by data classes, but by other functionality of Kotlin.","body":"Yes, if you use destructuring then data classes provide you this feature as well. Also, <code>copy()</code>. But getters, setters and constructors aren&#39;t provided by data classes, but by other functionality of Kotlin."}],"tags":[],"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694946246,"creation_date":1694946246,"answer_id":77121403,"question_id":77118735,"body_markdown":"This isn&#39;t actually the best example on why to use data classes. Data classes provide automatic implementations of `equals()`, `hashCode()`, `toString()` and similar methods. You didn&#39;t use any of these above, you only used general features of Kotlin. As a matter of fact, you can remove `data` from your code and it will work the same.\r\n\r\nHowever, if we implement classes specifically for storing the data, we very often need these above methods. We would like to easily print the contents for debugging purposes, we need to compare if two objects hold the same data, we need to look for unique data, we use a map where keys consist of multiple values, etc.\r\n\r\nIn Java, we usually generate such boilerplate code by IDE. Then we have to keep it in the repository, maintain it, remember to update if anything changes, etc. In Kotlin we simply mark a class as `data` and it solves the same problem.","title":"Can any one provide me one simple example: Where we would use Kotlin data classes in android development?","body":"<p>This isn't actually the best example on why to use data classes. Data classes provide automatic implementations of <code>equals()</code>, <code>hashCode()</code>, <code>toString()</code> and similar methods. You didn't use any of these above, you only used general features of Kotlin. As a matter of fact, you can remove <code>data</code> from your code and it will work the same.</p>\n<p>However, if we implement classes specifically for storing the data, we very often need these above methods. We would like to easily print the contents for debugging purposes, we need to compare if two objects hold the same data, we need to look for unique data, we use a map where keys consist of multiple values, etc.</p>\n<p>In Java, we usually generate such boilerplate code by IDE. Then we have to keep it in the repository, maintain it, remember to update if anything changes, etc. In Kotlin we simply mark a class as <code>data</code> and it solves the same problem.</p>\n"}],"owner":{"account_id":27037859,"reputation":51,"user_id":20593183,"display_name":"Sourav Karjole"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694946246,"creation_date":1694883288,"question_id":77118735,"body_markdown":"As a new learner in Kotlin i am unable to understand where we would use data class, like in Android development.\r\n\r\nI know that **Data classes** in Kotlin are classes whose main purpose is to hold data.\r\n\r\nAccording to [javatpoint][1] it said that, **For eg:** If we want to create a *User entry* in Java using class, it require lots of boilerplate code.\r\n\r\n*but* the same code can be written in ***single line*** using data class, which saves the developers time.\r\n\r\nNow recently i was trying to develop an app, where i made use of ***RecyclerView***. So in a RecyclerView, you often need to create a **Java class** to represent the data that will be displayed in the list.\r\n\r\nBelow is my **Java class**\r\n\r\n    package com.example.project2;\r\n\r\n    import android.net.Uri;\r\n\r\n    public class HandlerRecyclerViewClass_DONAR {\r\n\r\n    String foodCount;\r\n    String restaurant;\r\n    String username;\r\n    Uri image;\r\n    String order;\r\n\r\n    public HandlerRecyclerViewClass_DONAR(String order,Uri image, String foodCount, String restaurant, String username) {\r\n        this.order = order;\r\n        this.foodCount = foodCount;\r\n        this.restaurant = restaurant;\r\n        this.username = username;\r\n        this.image = image;\r\n    }\r\n\r\n    public String getOrder() {\r\n        return order;\r\n    }\r\n\r\n    public Uri getImage() {\r\n        return image;\r\n    }\r\n\r\n    public String getRestaurant() {\r\n        return restaurant;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public String getFoodCount() {\r\n        return foodCount;\r\n    }\r\n    }\r\n\r\n\r\nNow i thought that why not make use of **Data class** here and reduce the code.\r\n\r\nBelow is my **Kotlin file**\r\n\r\n    package com.example.project2\r\n\r\n    import android.net.Uri\r\n\r\n    data class HandlerRecyclerViewClass_DONAR_KOTLIN(\r\n     val order:String,\r\n     val image:Uri,\r\n     val foodCount:String,\r\n     val restaurant:String,\r\n     val userName:String\r\n    )\r\n\r\n**Note**: Above was just a simple example that came in my mind to reduce code by using kotlins data classes.\r\n\r\n**Question**:\r\nCan someone tell me that whatever i did is the correct way of using the Data classes.\r\nOr there is more to it that i am missing ?\r\n\r\n\r\n  [1]: https://www.javatpoint.com/kotlin-data-class","title":"Can any one provide me one simple example: Where we would use Kotlin data classes in android development?","body":"<p>As a new learner in Kotlin i am unable to understand where we would use data class, like in Android development.</p>\n<p>I know that <strong>Data classes</strong> in Kotlin are classes whose main purpose is to hold data.</p>\n<p>According to <a href=\"https://www.javatpoint.com/kotlin-data-class\" rel=\"nofollow noreferrer\">javatpoint</a> it said that, <strong>For eg:</strong> If we want to create a <em>User entry</em> in Java using class, it require lots of boilerplate code.</p>\n<p><em>but</em> the same code can be written in <em><strong>single line</strong></em> using data class, which saves the developers time.</p>\n<p>Now recently i was trying to develop an app, where i made use of <em><strong>RecyclerView</strong></em>. So in a RecyclerView, you often need to create a <strong>Java class</strong> to represent the data that will be displayed in the list.</p>\n<p>Below is my <strong>Java class</strong></p>\n<pre><code>package com.example.project2;\n\nimport android.net.Uri;\n\npublic class HandlerRecyclerViewClass_DONAR {\n\nString foodCount;\nString restaurant;\nString username;\nUri image;\nString order;\n\npublic HandlerRecyclerViewClass_DONAR(String order,Uri image, String foodCount, String restaurant, String username) {\n    this.order = order;\n    this.foodCount = foodCount;\n    this.restaurant = restaurant;\n    this.username = username;\n    this.image = image;\n}\n\npublic String getOrder() {\n    return order;\n}\n\npublic Uri getImage() {\n    return image;\n}\n\npublic String getRestaurant() {\n    return restaurant;\n}\n\npublic String getUsername() {\n    return username;\n}\n\npublic String getFoodCount() {\n    return foodCount;\n}\n}\n</code></pre>\n<p>Now i thought that why not make use of <strong>Data class</strong> here and reduce the code.</p>\n<p>Below is my <strong>Kotlin file</strong></p>\n<pre><code>package com.example.project2\n\nimport android.net.Uri\n\ndata class HandlerRecyclerViewClass_DONAR_KOTLIN(\n val order:String,\n val image:Uri,\n val foodCount:String,\n val restaurant:String,\n val userName:String\n)\n</code></pre>\n<p><strong>Note</strong>: Above was just a simple example that came in my mind to reduce code by using kotlins data classes.</p>\n<p><strong>Question</strong>:\nCan someone tell me that whatever i did is the correct way of using the Data classes.\nOr there is more to it that i am missing ?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1671052223,"post_id":74803594,"comment_id":132016963,"body_markdown":"Make a `DesktopLayoutManager` &#129315; - `JDesktopPane` extends `JLayeredPane`, these components, by design, do not use a layout manager by default, so you are completely responsible for managing the layout of the components","body":"Make a <code>DesktopLayoutManager</code> 🤣 - <code>JDesktopPane</code> extends <code>JLayeredPane</code>, these components, by design, do not use a layout manager by default, so you are completely responsible for managing the layout of the components"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671050161,"creation_date":1671050161,"answer_id":74803915,"question_id":74803594,"body_markdown":"There is no code in the Java platform that would tile or cascade JInternalFrames - you will have to write that yourself.\r\n\r\nHere is some example of cascading internal frames:\r\nhttp://www.java2s.com/Code/Java/Swing-JFC/JDesktopPaneCascadeDemo.htm\r\n\r\nNote that the frames are placed using setBounds(). For tiling them, you&#39;d have to check how many there are, decide about the amount of rows and columns, calculate the coordinates and call setBounds() again.","title":"Java JInternalFrame on creation all overlapping","body":"<p>There is no code in the Java platform that would tile or cascade JInternalFrames - you will have to write that yourself.</p>\n<p>Here is some example of cascading internal frames:\n<a href=\"http://www.java2s.com/Code/Java/Swing-JFC/JDesktopPaneCascadeDemo.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Code/Java/Swing-JFC/JDesktopPaneCascadeDemo.htm</a></p>\n<p>Note that the frames are placed using setBounds(). For tiling them, you'd have to check how many there are, decide about the amount of rows and columns, calculate the coordinates and call setBounds() again.</p>\n"}],"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694945312,"creation_date":1671048023,"question_id":74803594,"body_markdown":"I have a Java Swing App which adds JInternalPanes on button click into a JDesktopPane. However, every time I add a new JInternalPane to the DesktopPane, they all are overlapping and I always have to move the newest one to the side in order to see the previous one again.\r\n\r\nIs there any way I can set the position of the newest one slightly to the right of the previous one?\r\n\r\nI came up with this workaround but this just looks weird and there is probably a better alternative.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n\r\n      public void createMarket() {\r\n            this.appWindow.getDesktopPane().add(new Market(this.restClient, this.websocketClient, this.appWindow.getSymbolTextField().getText(), this.appWindow.getSelectedInterval()));\r\n\r\n            if (this.appWindow.getDesktopPane().getAllFrames().length &gt; 1) {\r\n                JInternalFrame previousFrame = this.appWindow.getDesktopPane().getAllFrames()[this.appWindow.getDesktopPane().getAllFrames().length - 2];\r\n                this.appWindow.getDesktopPane().getAllFrames()[this.appWindow.getDesktopPane().getAllFrames().length - 1].setLocation((int)(previousFrame.getLocation().getX() + 100), (int)(previousFrame.getLocation().getY()+100));\r\n            }\r\n        }\r\n\r\n\r\n","title":"Java JInternalFrame on creation all overlapping","body":"<p>I have a Java Swing App which adds JInternalPanes on button click into a JDesktopPane. However, every time I add a new JInternalPane to the DesktopPane, they all are overlapping and I always have to move the newest one to the side in order to see the previous one again.</p>\n<p>Is there any way I can set the position of the newest one slightly to the right of the previous one?</p>\n<p>I came up with this workaround but this just looks weird and there is probably a better alternative.</p>\n\n<pre><code>  public void createMarket() {\n        this.appWindow.getDesktopPane().add(new Market(this.restClient, this.websocketClient, this.appWindow.getSymbolTextField().getText(), this.appWindow.getSelectedInterval()));\n\n        if (this.appWindow.getDesktopPane().getAllFrames().length &gt; 1) {\n            JInternalFrame previousFrame = this.appWindow.getDesktopPane().getAllFrames()[this.appWindow.getDesktopPane().getAllFrames().length - 2];\n            this.appWindow.getDesktopPane().getAllFrames()[this.appWindow.getDesktopPane().getAllFrames().length - 1].setLocation((int)(previousFrame.getLocation().getX() + 100), (int)(previousFrame.getLocation().getY()+100));\n        }\n    }\n</code></pre>\n"},{"tags":["java","loops"],"answers":[{"tags":[],"owner":{"account_id":4177378,"reputation":322,"user_id":9110660,"display_name":"Vla Mai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616288870,"creation_date":1616288870,"answer_id":66727959,"question_id":66727954,"body_markdown":"(userText.charAt(i) != &#39; &#39;) || (userText.charAt(i) != &#39;,&#39;) || (userText.charAt(i) != &#39;.&#39;)","title":"Count input without spaces, commas, or periods - Java","body":"<p>(userText.charAt(i) != ' ') || (userText.charAt(i) != ',') || (userText.charAt(i) != '.')</p>\n"},{"comments":[{"owner":{"account_id":21014717,"reputation":31,"user_id":15442490,"display_name":"Matt Trembley"},"score":0,"creation_date":1616289858,"post_id":66727985,"comment_id":117955193,"body_markdown":"I just tried this and to no avail - still output 29. Is it not adding to my int &quot;numPun&quot; and just outputting the length?","body":"I just tried this and to no avail - still output 29. Is it not adding to my int &quot;numPun&quot; and just outputting the length?"},{"owner":{"account_id":19480873,"reputation":30974,"user_id":14251221,"display_name":"Spectric"},"score":0,"creation_date":1616289961,"post_id":66727985,"comment_id":117955209,"body_markdown":"@MattTrembley What&#39;s your test case?","body":"@MattTrembley What&#39;s your test case?"},{"owner":{"account_id":21014717,"reputation":31,"user_id":15442490,"display_name":"Matt Trembley"},"score":0,"creation_date":1616290347,"post_id":66727985,"comment_id":117955269,"body_markdown":"Testing with &quot;Listen, Mr. Jones, calm down.&quot; as well as &quot;abcd,,,,efgh....ijkl    ....&quot; but the second one should come with the first. I hope thats what you meant.","body":"Testing with &quot;Listen, Mr. Jones, calm down.&quot; as well as &quot;abcd,,,,efgh....ijkl    ....&quot; but the second one should come with the first. I hope thats what you meant."},{"owner":{"account_id":19480873,"reputation":30974,"user_id":14251221,"display_name":"Spectric"},"score":0,"creation_date":1616296791,"post_id":66727985,"comment_id":117956059,"body_markdown":"@MattTrembley Sorry! I&#39;ve found the logic issue. It works now.","body":"@MattTrembley Sorry! I&#39;ve found the logic issue. It works now."},{"owner":{"account_id":21014717,"reputation":31,"user_id":15442490,"display_name":"Matt Trembley"},"score":0,"creation_date":1616329556,"post_id":66727985,"comment_id":117962308,"body_markdown":"Perfect! Thank you for the help!","body":"Perfect! Thank you for the help!"},{"owner":{"account_id":19480873,"reputation":30974,"user_id":14251221,"display_name":"Spectric"},"score":0,"creation_date":1616337024,"post_id":66727985,"comment_id":117964618,"body_markdown":"@MattTrembley If my answer answers the question, please consider accepting!","body":"@MattTrembley If my answer answers the question, please consider accepting!"}],"tags":[],"owner":{"account_id":19480873,"reputation":30974,"user_id":14251221,"display_name":"Spectric"},"comment_count":6,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1616297171,"creation_date":1616289221,"answer_id":66727985,"question_id":66727954,"body_markdown":"# Stray semicolon terminating `if`, and use `&amp;&amp;` NOT `||`\r\n&lt;sup&gt;In a previous version of this answer I specified to use `||` instead of `&amp;&amp;`. DO NOT do that. Kudos to [Basil Bourque&#39;s answer](https://stackoverflow.com/questions/66727954/count-input-without-spaces-commas-or-periods-java/66727985#66728178) for being the first one to point that out.&lt;/sup&gt;\r\n\r\nUse:\r\n\r\n    for (int i = 0; i &lt; userText.length(); i++){\r\n        char current = userText.charAt(i);\r\n        if (current  != &#39; &#39; &amp;&amp; current  != &#39;,&#39; &amp;&amp; current  != &#39;.&#39;){\r\n           numPun++;\r\n        }\r\n     }\r\n\r\nYou have an extra `;` after the `if` statement expression.\r\n\r\nSee it [in action](https://ideone.com/WM40Au)\r\n\r\n**Explanation:**\r\n\r\nIn the previous version of this answer the expression `current  != &#39; &#39; || current  != &#39;,&#39; || current  != &#39;.&#39;` is equal to `if current is not a space or is not a comma or is not a period do this:`.\r\n\r\nThat meant that if the character was a comma, it would add 1 to `numPun`, because it was not a space.\r\n\r\nIn the new expression, it is equal to `if current is not a space and is not a comma and is not a period`. Therefore it would first check whether it was a space, then a comma, then a period.","title":"Count input without spaces, commas, or periods - Java","body":"<h1>Stray semicolon terminating <code>if</code>, and use <code>&amp;&amp;</code> NOT <code>||</code></h1>\n<p><sup>In a previous version of this answer I specified to use <code>||</code> instead of <code>&amp;&amp;</code>. DO NOT do that. Kudos to <a href=\"https://stackoverflow.com/questions/66727954/count-input-without-spaces-commas-or-periods-java/66727985#66728178\">Basil Bourque's answer</a> for being the first one to point that out.</sup></p>\n<p>Use:</p>\n<pre><code>for (int i = 0; i &lt; userText.length(); i++){\n    char current = userText.charAt(i);\n    if (current  != ' ' &amp;&amp; current  != ',' &amp;&amp; current  != '.'){\n       numPun++;\n    }\n }\n</code></pre>\n<p>You have an extra <code>;</code> after the <code>if</code> statement expression.</p>\n<p>See it <a href=\"https://ideone.com/WM40Au\" rel=\"nofollow noreferrer\">in action</a></p>\n<p><strong>Explanation:</strong></p>\n<p>In the previous version of this answer the expression <code>current  != ' ' || current  != ',' || current  != '.'</code> is equal to <code>if current is not a space or is not a comma or is not a period do this:</code>.</p>\n<p>That meant that if the character was a comma, it would add 1 to <code>numPun</code>, because it was not a space.</p>\n<p>In the new expression, it is equal to <code>if current is not a space and is not a comma and is not a period</code>. Therefore it would first check whether it was a space, then a comma, then a period.</p>\n"},{"comments":[{"owner":{"account_id":19480873,"reputation":30974,"user_id":14251221,"display_name":"Spectric"},"score":0,"creation_date":1616296994,"post_id":66728178,"comment_id":117956089,"body_markdown":"Very astute on spotting to use `&amp;&amp;`.","body":"Very astute on spotting to use <code>&amp;&amp;</code>."},{"owner":{"account_id":21014717,"reputation":31,"user_id":15442490,"display_name":"Matt Trembley"},"score":0,"creation_date":1616329742,"post_id":66728178,"comment_id":117962358,"body_markdown":"Thank you for the information! As I am currently just getting into programming and only have taken Python and Java introductory courses, the information you provided is to an extent over my head. But with &quot;The char type is obsolete in Java. That type is a relic, unable to represent even half of the characters defined in Unicode.&quot; I find interesting and I hope my current course works explains this more","body":"Thank you for the information! As I am currently just getting into programming and only have taken Python and Java introductory courses, the information you provided is to an extent over my head. But with &quot;The char type is obsolete in Java. That type is a relic, unable to represent even half of the characters defined in Unicode.&quot; I find interesting and I hope my current course works explains this more"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1616343980,"post_id":66728178,"comment_id":117966591,"body_markdown":"@MattTrembley For background, read this post: [*The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)*](https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know-about-unicode-and-character-sets-no-excuses/).","body":"@MattTrembley For background, read this post: <a href=\"https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know-about-unicode-and-character-sets-no-excuses/\" rel=\"nofollow noreferrer\"><i>The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)</i></a>."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1616302778,"creation_date":1616291932,"answer_id":66728178,"question_id":66727954,"body_markdown":"# Stray semicolon yes, but `||` no\r\n\r\nAs [Answer by Spectric][1] correctly says, you have stray semicolon to fix.\r\n\r\nBut the instruction to use `||` is incorrect.\r\n\r\nHere is your code, corrected.\r\n\r\n```java\r\nString input = &quot;Listen, Mr. Jones, calm down.&quot;;\r\n\r\nint countLetters = 0;\r\nfor ( int i = 0 ; i &lt; input.length() ; i++ )\r\n{\r\n    char c = input.charAt( i );\r\n    //System.out.println( &quot;c = &quot; + c );\r\n    if ( ( c != &#39; &#39; ) &amp;&amp; ( c != &#39;,&#39; ) &amp;&amp; ( c != &#39;.&#39; ) )\r\n    {\r\n        countLetters++;\r\n    }\r\n}\r\nSystem.out.println( &quot;countLetters = &quot; + countLetters );\r\n```\r\n\r\nSee this [code run live at IdeOne.com][2].\r\n\r\n&gt;21\r\n\r\nI would have written such code by using a `List` of forbidden characters rather than a series of equality tests.\r\n\r\n```java\r\nString input = &quot;Listen, Mr. Jones, calm down.&quot;;\r\nList &lt; String &gt; nonLetters = List.of( &quot; &quot; , &quot;,&quot; , &quot;.&quot; );\r\nint countLetters = 0;\r\nfor ( int i = 0 ; i &lt; input.length() ; i++ )\r\n{\r\n    char c = input.charAt( i );\r\n    System.out.println( &quot;c = &quot; + c );\r\n    if ( ! nonLetters.contains( String.valueOf( c ) ) )\r\n    {\r\n        countLetters++;\r\n    }\r\n}\r\nSystem.out.println( &quot;countLetters = &quot; + countLetters );\r\n```\r\n\r\nEven better: Use code points rather than `char` type.\r\n\r\n\r\n# Code points, not `char`\r\n\r\nThe `char` type is obsolete in Java. That type is a relic, unable to represent even half of the characters defined in [Unicode][3].\r\n\r\nInstead, work with [code point][4] number to represent each character. Unicode assigns one integer number to each of its 143,859 characters. The code points range from zero to over a million, most being unassigned.\r\n\r\nThe [`String`][5] class can return an [`IntStream`][6] of the code point number for each character. Convert that `IntStream` to an array of `int` numbers. Loop the array. For each code point number, ask if the character Unicode assigns to that number [is considered a letter][7] or not. If a letter, increment our count.\r\n\r\n```\r\nString input = &quot;Listen, Mr. Jones, calm down.&quot;;\r\n\r\nint countLetters = 0;\r\n\r\nint[] codePoints = input.codePoints().toArray();\r\nfor ( int codePoint : codePoints )\r\n{\r\n    if ( Character.isLetter( codePoint ) )\r\n    {\r\n        countLetters++;\r\n    }\r\n}\r\nSystem.out.println( &quot;countLetters = &quot; + countLetters );\r\n```\r\n\r\n&gt;21\r\n\r\n## Stream\r\n\r\nWe can even go so far as to make a one-liner using Java stream and lambda features.\r\n\r\n```java\r\nlong countLetters = \r\n    &quot;Listen, Mr. Jones, calm down.&quot;\r\n    .codePoints()\r\n    .filter( \r\n        ( int codePoint ) -&gt; Character.isLetter( codePoint ) \r\n    )\r\n    .count()\r\n;\r\n````\r\n\r\n&gt;21\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/66727985/642706\r\n  [2]: https://ideone.com/LYDDkW\r\n  [3]: https://en.wikipedia.org/wiki/Unicode\r\n  [4]: https://en.wikipedia.org/wiki/Code_point\r\n  [5]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html\r\n  [6]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/IntStream.html\r\n  [7]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Character.html#isLetter(int)","title":"Count input without spaces, commas, or periods - Java","body":"<h1>Stray semicolon yes, but <code>||</code> no</h1>\n<p>As <a href=\"https://stackoverflow.com/a/66727985/642706\">Answer by Spectric</a> correctly says, you have stray semicolon to fix.</p>\n<p>But the instruction to use <code>||</code> is incorrect.</p>\n<p>Here is your code, corrected.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;Listen, Mr. Jones, calm down.&quot;;\n\nint countLetters = 0;\nfor ( int i = 0 ; i &lt; input.length() ; i++ )\n{\n    char c = input.charAt( i );\n    //System.out.println( &quot;c = &quot; + c );\n    if ( ( c != ' ' ) &amp;&amp; ( c != ',' ) &amp;&amp; ( c != '.' ) )\n    {\n        countLetters++;\n    }\n}\nSystem.out.println( &quot;countLetters = &quot; + countLetters );\n</code></pre>\n<p>See this <a href=\"https://ideone.com/LYDDkW\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n<blockquote>\n<p>21</p>\n</blockquote>\n<p>I would have written such code by using a <code>List</code> of forbidden characters rather than a series of equality tests.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;Listen, Mr. Jones, calm down.&quot;;\nList &lt; String &gt; nonLetters = List.of( &quot; &quot; , &quot;,&quot; , &quot;.&quot; );\nint countLetters = 0;\nfor ( int i = 0 ; i &lt; input.length() ; i++ )\n{\n    char c = input.charAt( i );\n    System.out.println( &quot;c = &quot; + c );\n    if ( ! nonLetters.contains( String.valueOf( c ) ) )\n    {\n        countLetters++;\n    }\n}\nSystem.out.println( &quot;countLetters = &quot; + countLetters );\n</code></pre>\n<p>Even better: Use code points rather than <code>char</code> type.</p>\n<h1>Code points, not <code>char</code></h1>\n<p>The <code>char</code> type is obsolete in Java. That type is a relic, unable to represent even half of the characters defined in <a href=\"https://en.wikipedia.org/wiki/Unicode\" rel=\"nofollow noreferrer\">Unicode</a>.</p>\n<p>Instead, work with <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> number to represent each character. Unicode assigns one integer number to each of its 143,859 characters. The code points range from zero to over a million, most being unassigned.</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html\" rel=\"nofollow noreferrer\"><code>String</code></a> class can return an <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/IntStream.html\" rel=\"nofollow noreferrer\"><code>IntStream</code></a> of the code point number for each character. Convert that <code>IntStream</code> to an array of <code>int</code> numbers. Loop the array. For each code point number, ask if the character Unicode assigns to that number <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Character.html#isLetter(int)\" rel=\"nofollow noreferrer\">is considered a letter</a> or not. If a letter, increment our count.</p>\n<pre><code>String input = &quot;Listen, Mr. Jones, calm down.&quot;;\n\nint countLetters = 0;\n\nint[] codePoints = input.codePoints().toArray();\nfor ( int codePoint : codePoints )\n{\n    if ( Character.isLetter( codePoint ) )\n    {\n        countLetters++;\n    }\n}\nSystem.out.println( &quot;countLetters = &quot; + countLetters );\n</code></pre>\n<blockquote>\n<p>21</p>\n</blockquote>\n<h2>Stream</h2>\n<p>We can even go so far as to make a one-liner using Java stream and lambda features.</p>\n<pre class=\"lang-java prettyprint-override\"><code>long countLetters = \n    &quot;Listen, Mr. Jones, calm down.&quot;\n    .codePoints()\n    .filter( \n        ( int codePoint ) -&gt; Character.isLetter( codePoint ) \n    )\n    .count()\n;\n</code></pre>\n<blockquote>\n<p>21</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1616297718,"creation_date":1616297718,"answer_id":66728583,"question_id":66727954,"body_markdown":"Often, the best first step is to simplify the problem: if rephrased, it can become “how many words characters are there?”, which can be expressed in code as “how long is the input after removing all non-word chars:\r\n\r\n    int count = userText.replaceAll(&quot;\\\\W&quot;, &quot;&quot;).length();\r\n\r\nbeing just one line of code, there are less lances for bugs to hide.","title":"Count input without spaces, commas, or periods - Java","body":"<p>Often, the best first step is to simplify the problem: if rephrased, it can become “how many words characters are there?”, which can be expressed in code as “how long is the input after removing all non-word chars:</p>\n<pre><code>int count = userText.replaceAll(&quot;\\\\W&quot;, &quot;&quot;).length();\n</code></pre>\n<p>being just one line of code, there are less lances for bugs to hide.</p>\n"},{"tags":[],"owner":{"account_id":24290166,"reputation":11,"user_id":18235343,"display_name":"Tybomb21"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647620453,"creation_date":1647620453,"answer_id":71530149,"question_id":66727954,"body_markdown":"also, missing the &amp;&amp; (c != &#39;!&#39;)) which was counting all extra exclamations and failing the tests.\r\n\r\ncompleted code as follows:\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class LabProgram {\r\n       public static void main(String[] args) {\r\n          Scanner scnr = new Scanner(System.in);\r\n          String userText;\r\n          userText = scnr.nextLine();\r\n          String input = userText; \r\n   \r\n      \r\n    int countLetters = 0;\r\n    for ( int i = 0 ; i &lt; input.length() ; i++ )\r\n    {\r\n        char c = input.charAt( i );\r\n    \r\n        if ( ( c != &#39; &#39; ) &amp;&amp; ( c != &#39;,&#39; ) &amp;&amp; ( c != &#39;.&#39; ) &amp;&amp; (c != &#39;!&#39; ) &amp;&amp; (c != \r\n    &#39;!&#39; ))\r\n        {\r\n            countLetters++;\r\n        }\r\n    }\r\n    System.out.println(countLetters );\r\n       }\r\n    }\r\n","title":"Count input without spaces, commas, or periods - Java","body":"<p>also, missing the &amp;&amp; (c != '!')) which was counting all extra exclamations and failing the tests.</p>\n<p>completed code as follows:</p>\n<pre><code>import java.util.Scanner;\n\npublic class LabProgram {\n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n      String userText;\n      userText = scnr.nextLine();\n      String input = userText; \n\n  \nint countLetters = 0;\nfor ( int i = 0 ; i &lt; input.length() ; i++ )\n{\n    char c = input.charAt( i );\n\n    if ( ( c != ' ' ) &amp;&amp; ( c != ',' ) &amp;&amp; ( c != '.' ) &amp;&amp; (c != '!' ) &amp;&amp; (c != \n'!' ))\n    {\n        countLetters++;\n    }\n}\nSystem.out.println(countLetters );\n   }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":2,"creation_date":1694495411,"post_id":77086182,"comment_id":135894411,"body_markdown":"https://meta.stackoverflow.com/a/285557/11107541","body":"<a href=\"https://meta.stackoverflow.com/a/285557/11107541\">meta.stackoverflow.com/a/285557/11107541</a>"}],"tags":[],"owner":{"account_id":29419658,"reputation":1,"user_id":22541659,"display_name":"Captn Crunch"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694494047,"creation_date":1694494047,"answer_id":77086182,"question_id":66727954,"body_markdown":"This is my code that satisfies all the questions in zyBooks.\r\n\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/b2gp7.png","title":"Count input without spaces, commas, or periods - Java","body":"<p>This is my code that satisfies all the questions in zyBooks.</p>\n<p><a href=\"https://i.stack.imgur.com/b2gp7.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":[],"owner":{"account_id":29464964,"reputation":1,"user_id":22578849,"display_name":"Zypus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694945114,"creation_date":1694945114,"answer_id":77121339,"question_id":66727954,"body_markdown":"This is what I did, keep it simple.\r\n\r\n      int output;\r\n   \r\n      userText = scnr.nextLine();  // Gets entire line, including spaces. \r\n      \r\n      userText = userText.replace(&quot; &quot;, &quot;&quot;);\r\n      userText = userText.replace(&quot;.&quot;, &quot;&quot;);\r\n      userText = userText.replace(&quot;!&quot;, &quot;&quot;);\r\n      userText = userText.replace(&quot;,&quot;, &quot;&quot;);\r\n      output = userText.length();\r\n      System.out.println(output);\r\n","title":"Count input without spaces, commas, or periods - Java","body":"<p>This is what I did, keep it simple.</p>\n<pre><code>  int output;\n\n  userText = scnr.nextLine();  // Gets entire line, including spaces. \n  \n  userText = userText.replace(&quot; &quot;, &quot;&quot;);\n  userText = userText.replace(&quot;.&quot;, &quot;&quot;);\n  userText = userText.replace(&quot;!&quot;, &quot;&quot;);\n  userText = userText.replace(&quot;,&quot;, &quot;&quot;);\n  output = userText.length();\n  System.out.println(output);\n</code></pre>\n"}],"owner":{"account_id":21014717,"reputation":31,"user_id":15442490,"display_name":"Matt Trembley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9380,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66727985,"answer_count":7,"score":2,"last_activity_date":1694945114,"creation_date":1616288745,"question_id":66727954,"body_markdown":"Input is &quot;Listen, Mr. Jones, calm down.&quot;\r\n```\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class LabProgram {\r\n   public static void main(String[] args) {\r\n      Scanner scnr = new Scanner(System.in);\r\n      String userText;\r\n      int numPun = 0; //number of punctiation and spaces\r\n      // Add more variables as needed\r\n   \r\n      userText = scnr.nextLine();  // Gets entire line, including spaces. \r\n\r\n     for (int i = 0; i &lt; userText.length(); i++){\r\n        if ((userText.charAt(i) != &#39; &#39;) &amp;&amp; (userText.charAt(i) != &#39;,&#39;) &amp;&amp; (userText.charAt(i) != &#39;.&#39;));{\r\n           numPun++;\r\n        }\r\n     }\r\n     System.out.println(numPun);\r\n   }\r\n}\r\n```\r\nMy current output is to 29, which is the total amount of characters in the whole line. Expected output is supposed to be 21. Where am i going wrong here?","title":"Count input without spaces, commas, or periods - Java","body":"<p>Input is &quot;Listen, Mr. Jones, calm down.&quot;</p>\n<pre><code>\nimport java.util.Scanner;\n\npublic class LabProgram {\n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n      String userText;\n      int numPun = 0; //number of punctiation and spaces\n      // Add more variables as needed\n   \n      userText = scnr.nextLine();  // Gets entire line, including spaces. \n\n     for (int i = 0; i &lt; userText.length(); i++){\n        if ((userText.charAt(i) != ' ') &amp;&amp; (userText.charAt(i) != ',') &amp;&amp; (userText.charAt(i) != '.'));{\n           numPun++;\n        }\n     }\n     System.out.println(numPun);\n   }\n}\n</code></pre>\n<p>My current output is to 29, which is the total amount of characters in the whole line. Expected output is supposed to be 21. Where am i going wrong here?</p>\n"},{"tags":["java","lambda","stream","java-stream"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1694780671,"post_id":77112286,"comment_id":135939741,"body_markdown":"Why doesn&#39;t your `Location` class have `getPrimaryAddress()`?","body":"Why doesn&#39;t your <code>Location</code> class have <code>getPrimaryAddress()</code>?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1694782254,"post_id":77112286,"comment_id":135940108,"body_markdown":"Or in other words, why do you have to convert a `Location` to a `Location` at all?","body":"Or in other words, why do you have to convert a <code>Location</code> to a <code>Location</code> at all?"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1694782974,"post_id":77112286,"comment_id":135940245,"body_markdown":"Please, provide the `Location` class","body":"Please, provide the <code>Location</code> class"},{"owner":{"account_id":1502229,"reputation":2973,"user_id":1406510,"accept_rate":64,"display_name":"nanosoft"},"score":0,"creation_date":1694943905,"post_id":77112286,"comment_id":135955664,"body_markdown":"@Kayaman - This is legacy code. The input `Location&quot; doesn&#39;t set primary and billing addresses but just contains list of Addresses. I realize I should have posted code for these classes as well - otherwise confusion is obvious.","body":"@Kayaman - This is legacy code. The input `Location&quot; doesn&#39;t set primary and billing addresses but just contains list of Addresses. I realize I should have posted code for these classes as well - otherwise confusion is obvious."},{"owner":{"account_id":1502229,"reputation":2973,"user_id":1406510,"accept_rate":64,"display_name":"nanosoft"},"score":0,"creation_date":1694944269,"post_id":77112286,"comment_id":135955689,"body_markdown":"@DiegoBorba - Added `Location` and `Address` classes.","body":"@DiegoBorba - Added <code>Location</code> and <code>Address</code> classes."}],"answers":[{"comments":[{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1694782958,"post_id":77112438,"comment_id":135940243,"body_markdown":"No need to create `Map&lt;String, Address&gt; addressMap = location.getAddresses().stream().collect(Collectors.toMap(Address::getType, address -&gt; address));` and then process it.","body":"No need to create <code>Map&lt;String, Address&gt; addressMap = location.getAddresses().stream().collect(Collectors.toMap(Ad&zwnj;&#8203;dress::getType, address -&gt; address));</code> and then process it."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1694783073,"post_id":77112438,"comment_id":135940274,"body_markdown":"Directly `location.getAddresses().forEach(address -&gt; if(primary) l.setPrimary(); else l.setBilling();)`","body":"Directly <code>location.getAddresses().forEach(address -&gt; if(primary) l.setPrimary(); else l.setBilling();)</code>"},{"owner":{"account_id":19777362,"reputation":124,"user_id":14483025,"display_name":"Alok Marathe"},"score":0,"creation_date":1694943943,"post_id":77112438,"comment_id":135955669,"body_markdown":"Oh yeah that makes more sense! Thanks for sharing Ishan","body":"Oh yeah that makes more sense! Thanks for sharing Ishan"}],"tags":[],"owner":{"account_id":19777362,"reputation":124,"user_id":14483025,"display_name":"Alok Marathe"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694781482,"creation_date":1694781482,"answer_id":77112438,"question_id":77112286,"body_markdown":"To set the primary and billing addresses using Java Streams, you can u se **Collectors.toMap** to group addresses by their type within the map operation. Here&#39;s how you can modify your **extractLocationStream** method to achieve this:\r\n\r\n    private static List&lt;Location&gt; extractLocationStream(List&lt;Location&gt; locations) {\r\n        return locations.stream()\r\n            .filter(location -&gt; location != null)\r\n            .map(location -&gt; {\r\n                Location.Builder locationBuilder = Location.builder() .id(location.getId());\r\n    \r\n                Map&lt;String, Address&gt; addressMap = location.getAddresses().stream()\r\n                        .collect(Collectors.toMap(Address::getType, address -&gt; address));\r\n    \r\n                locationBuilder.primaryAddress(addressMap.get(&quot;primary&quot;));\r\n                locationBuilder.billingAddress(addressMap.get(&quot;billing&quot;));\r\n    \r\n                return locationBuilder.build();\r\n            })\r\n            .collect(Collectors.toList());\r\n    }\r\n\r\nIn this code:\r\n\r\n - I have created a locationBuilder for each Location object. \r\n - Have used the Collectors.toMap collector to create a map of addresses (as mentioned at the start of the answer), where the key is the address type (&quot;primary&quot; or &quot;billing&quot;) and the value is the Address object itself. \r\n - Then, have set the primaryAddress and billingAddress fields of the Location object based on the values in the addressMap.\r\n - Finally, used locationBuilder.build() to build the Location object with the updated addresses. \r\n\r\nSo basically, the code processes the list of Location objects using JavaStreams and collect the modified Location objects into a list (as required).\r\n------------------------------------------------------------------------\r\n\r\n","title":"Convert nested for loop to stream in java 11","body":"<p>To set the primary and billing addresses using Java Streams, you can u se <strong>Collectors.toMap</strong> to group addresses by their type within the map operation. Here's how you can modify your <strong>extractLocationStream</strong> method to achieve this:</p>\n<pre><code>private static List&lt;Location&gt; extractLocationStream(List&lt;Location&gt; locations) {\n    return locations.stream()\n        .filter(location -&gt; location != null)\n        .map(location -&gt; {\n            Location.Builder locationBuilder = Location.builder() .id(location.getId());\n\n            Map&lt;String, Address&gt; addressMap = location.getAddresses().stream()\n                    .collect(Collectors.toMap(Address::getType, address -&gt; address));\n\n            locationBuilder.primaryAddress(addressMap.get(&quot;primary&quot;));\n            locationBuilder.billingAddress(addressMap.get(&quot;billing&quot;));\n\n            return locationBuilder.build();\n        })\n        .collect(Collectors.toList());\n}\n</code></pre>\n<p>In this code:</p>\n<ul>\n<li>I have created a locationBuilder for each Location object.</li>\n<li>Have used the Collectors.toMap collector to create a map of addresses (as mentioned at the start of the answer), where the key is the address type (&quot;primary&quot; or &quot;billing&quot;) and the value is the Address object itself.</li>\n<li>Then, have set the primaryAddress and billingAddress fields of the Location object based on the values in the addressMap.</li>\n<li>Finally, used locationBuilder.build() to build the Location object with the updated addresses.</li>\n</ul>\n<h2>So basically, the code processes the list of Location objects using JavaStreams and collect the modified Location objects into a list (as required).</h2>\n"},{"tags":[],"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694783187,"creation_date":1694783187,"answer_id":77112629,"question_id":77112286,"body_markdown":"How about this:\r\n\r\n```\r\n\tprivate static List&lt;Location&gt; extractLocationStream(List&lt;Location&gt; locations) {\r\n\t\treturn locations.stream().filter(location -&gt; location != null).map(location -&gt; {\r\n\t\t\tLocation l = Location.builder().id(location.getId()).build();\r\n\t\t\tlocation.getAddresses()/*.stream()*/.forEach(address -&gt; { // Here, stream is optional\r\n\t\t\t\tif (&quot;primary&quot;.equals(address.getType())) {\r\n\t\t\t\t\tl.setPrimaryAddress(address); //Overwrites if multiple primary\r\n\t\t\t\t} else {\r\n\t\t\t\t\tl.setBillingAddress(address); //Overwrites if multiple non-primary\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn l;\r\n\t\t}).collect(Collectors.toList());\r\n\t}\r\n```","title":"Convert nested for loop to stream in java 11","body":"<p>How about this:</p>\n<pre><code>    private static List&lt;Location&gt; extractLocationStream(List&lt;Location&gt; locations) {\n        return locations.stream().filter(location -&gt; location != null).map(location -&gt; {\n            Location l = Location.builder().id(location.getId()).build();\n            location.getAddresses()/*.stream()*/.forEach(address -&gt; { // Here, stream is optional\n                if (&quot;primary&quot;.equals(address.getType())) {\n                    l.setPrimaryAddress(address); //Overwrites if multiple primary\n                } else {\n                    l.setBillingAddress(address); //Overwrites if multiple non-primary\n                }\n            });\n            return l;\n        }).collect(Collectors.toList());\n    }\n</code></pre>\n"}],"owner":{"account_id":1502229,"reputation":2973,"user_id":1406510,"accept_rate":64,"display_name":"nanosoft"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77112629,"answer_count":2,"score":-1,"last_activity_date":1694944210,"creation_date":1694780008,"question_id":77112286,"body_markdown":"Convert to `Streams`:\r\n\r\n    private static List&lt;Location&gt; extractLocation(List&lt;Location&gt; locations){\r\n            List&lt;Location&gt; locationList = new ArrayList&lt;&gt;();\r\n            for(Location l : locations){\r\n                if(l!=null){\r\n                    final Location location = Location.builder()\r\n                            .id(l.getId())\r\n                            .build();\r\n                    for(Address address: l.getAddresses()){\r\n                        if(address.getType().equals(&quot;primary&quot;)){\r\n                            location.setPrimaryAddress(address);\r\n                        }\r\n                        else{\r\n                            location.setBillingAddress(address);\r\n                        }\r\n                    }\r\n                    locationList.add(location);\r\n                }\r\n            }\r\n            return locationList;\r\n        }\r\n\r\n\r\nI am stuck after building the object. For the nested loop, since it is next step after the `Location object` is built, which `Stream method` to apply here to set primary and billing address.\r\n\r\n    private static List&lt;Location&gt; extractLocationStream(List&lt;Location&gt; locations){\r\n            return locations.stream()\r\n                    .filter(location -&gt; location!=null)\r\n                    .map(location -&gt;\r\n                    {\r\n                        Location l = Location.builder()\r\n                            .id(location.getId())\r\n                            .build();\r\n                        location.getAddresses().stream()\r\n                                .filter(address -&gt; address.getType().equals(&quot;primary&quot;)).// what to do now\r\n                    })\r\n    \r\n                    .collect(Collectors.toList());\r\n        }\r\n`Location` and `Address` classes: \r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    class Address{\r\n        private int id;\r\n        private String type;\r\n    }\r\n    \r\n    @Data\r\n    @AllArgsConstructor\r\n    @Builder\r\n    class Location{\r\n        private int id;\r\n        private List&lt;Address&gt; addresses;\r\n        private Address primaryAddress;\r\n        private Address billingAddress;\r\n    \r\n    }","title":"Convert nested for loop to stream in java 11","body":"<p>Convert to <code>Streams</code>:</p>\n<pre><code>private static List&lt;Location&gt; extractLocation(List&lt;Location&gt; locations){\n        List&lt;Location&gt; locationList = new ArrayList&lt;&gt;();\n        for(Location l : locations){\n            if(l!=null){\n                final Location location = Location.builder()\n                        .id(l.getId())\n                        .build();\n                for(Address address: l.getAddresses()){\n                    if(address.getType().equals(&quot;primary&quot;)){\n                        location.setPrimaryAddress(address);\n                    }\n                    else{\n                        location.setBillingAddress(address);\n                    }\n                }\n                locationList.add(location);\n            }\n        }\n        return locationList;\n    }\n</code></pre>\n<p>I am stuck after building the object. For the nested loop, since it is next step after the <code>Location object</code> is built, which <code>Stream method</code> to apply here to set primary and billing address.</p>\n<pre><code>private static List&lt;Location&gt; extractLocationStream(List&lt;Location&gt; locations){\n        return locations.stream()\n                .filter(location -&gt; location!=null)\n                .map(location -&gt;\n                {\n                    Location l = Location.builder()\n                        .id(location.getId())\n                        .build();\n                    location.getAddresses().stream()\n                            .filter(address -&gt; address.getType().equals(&quot;primary&quot;)).// what to do now\n                })\n\n                .collect(Collectors.toList());\n    }\n</code></pre>\n<p><code>Location</code> and <code>Address</code> classes:</p>\n<pre><code>@Data\n@AllArgsConstructor\nclass Address{\n    private int id;\n    private String type;\n}\n\n@Data\n@AllArgsConstructor\n@Builder\nclass Location{\n    private int id;\n    private List&lt;Address&gt; addresses;\n    private Address primaryAddress;\n    private Address billingAddress;\n\n}\n</code></pre>\n"},{"tags":["java","spring","import","netflix-eureka"],"comments":[{"owner":{"display_name":"user180100"},"score":0,"creation_date":1446806541,"post_id":33564561,"comment_id":54907848,"body_markdown":"You have to add some dependency, see https://github.com/spring-cloud/spring-cloud-netflix/issues/61 and http://cloud.spring.io/spring-cloud-netflix/#quick-start","body":"You have to add some dependency, see <a href=\"https://github.com/spring-cloud/spring-cloud-netflix/issues/61\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-netflix/issues/61</a> and <a href=\"http://cloud.spring.io/spring-cloud-netflix/#quick-start\" rel=\"nofollow noreferrer\">cloud.spring.io/spring-cloud-netflix/#quick-start</a>"},{"owner":{"account_id":6153283,"reputation":57,"user_id":4797085,"accept_rate":75,"display_name":"Plasmaschnee"},"score":0,"creation_date":1446813866,"post_id":33564561,"comment_id":54912075,"body_markdown":"Thank you for your help! The first link kind of helped me.\nHe used &quot;compile &#39;org.springframework.cloud:spring-cloud-starter-eureka-server:1.0.0.M2&#39;&quot; in his dependencies which didn&#39;t help me but after changing the M2 into an M3 it suddenly worked. Took me some time though to figure that out ^^","body":"Thank you for your help! The first link kind of helped me. He used &quot;compile &#39;org.springframework.cloud:spring-cloud-starter-eureka-serve&zwnj;&#8203;r:1.0.0.M2&#39;&quot; in his dependencies which didn&#39;t help me but after changing the M2 into an M3 it suddenly worked. Took me some time though to figure that out ^^"}],"answers":[{"tags":[],"owner":{"account_id":3534438,"reputation":1001,"user_id":2953109,"accept_rate":100,"display_name":"vdimitrov"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1694942317,"creation_date":1473628757,"answer_id":39440752,"question_id":33564561,"body_markdown":"The following dependency worked for me:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-cloud-netflix-eureka-server&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1.6.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n","title":"EnableEurekaServer import doesn&#39;t exist","body":"<p>The following dependency worked for me:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-netflix-eureka-server&lt;/artifactId&gt;\n    &lt;version&gt;1.1.6.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1528364,"reputation":125614,"user_id":1426227,"accept_rate":79,"display_name":"cassiomolin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1512396552,"creation_date":1512396552,"answer_id":47635229,"question_id":33564561,"body_markdown":"Assuming you use a bill of materials to manage Spring Cloud dependencies:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\nJust add the following depedency to your project:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-starter-eureka-server&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n---\r\n\r\nSpring Cloud releases have _names_ instead of _numbers_. And you must ensure that Spring Cloud version is compatible with the Spring Boot version you are using. See more details [here][1].\r\n\r\n\r\n  [1]: http://projects.spring.io/spring-cloud/#release-trains","title":"EnableEurekaServer import doesn&#39;t exist","body":"<p>Assuming you use a bill of materials to manage Spring Cloud dependencies:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n\n<p>Just add the following depedency to your project:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-eureka-server&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<hr>\n\n<p>Spring Cloud releases have <em>names</em> instead of <em>numbers</em>. And you must ensure that Spring Cloud version is compatible with the Spring Boot version you are using. See more details <a href=\"http://projects.spring.io/spring-cloud/#release-trains\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":12863780,"reputation":11,"user_id":9304723,"display_name":"Jayprakash Mudhliyar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694942350,"creation_date":1517568311,"answer_id":48580971,"question_id":33564561,"body_markdown":"Well if you are using gradle project, just add below dependency to your `build.gradle` file:\r\n\r\n```groovy\r\ncompile(&#39;org.springframework.cloud:spring-cloud-netflix-eureka-server&#39;)\r\n```","title":"EnableEurekaServer import doesn&#39;t exist","body":"<p>Well if you are using gradle project, just add below dependency to your <code>build.gradle</code> file:</p>\n<pre><code>compile('org.springframework.cloud:spring-cloud-netflix-eureka-server')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14339763,"reputation":61,"user_id":10358271,"display_name":"ngTouthang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694942381,"creation_date":1648046343,"answer_id":71589130,"question_id":33564561,"body_markdown":"Make sure that you have`spring-cloud-starter-netflix-eureka-server` added in your pom.xml file\r\n\r\n```xml\r\n&lt;dependency&gt;    \r\n   &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt; \r\n&lt;/dependency&gt;\r\n```","title":"EnableEurekaServer import doesn&#39;t exist","body":"<p>Make sure that you have<code>spring-cloud-starter-netflix-eureka-server</code> added in your pom.xml file</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;    \n   &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt; \n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3923984,"reputation":115,"user_id":3245219,"accept_rate":40,"display_name":"Prashant"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694942331,"creation_date":1653117706,"answer_id":72327494,"question_id":33564561,"body_markdown":"Adding this dependency worked for me.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-cloud-netflix-eureka-server&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n","title":"EnableEurekaServer import doesn&#39;t exist","body":"<p>Adding this dependency worked for me.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-netflix-eureka-server&lt;/artifactId&gt;\n    &lt;version&gt;3.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":6153283,"reputation":57,"user_id":4797085,"accept_rate":75,"display_name":"Plasmaschnee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17530,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1694942381,"creation_date":1446805377,"question_id":33564561,"body_markdown":"I build a Spring-Service with gradle and I wanted to use a Eureka-Server with it.\r\nMy java-file looks like this:\r\n\r\n    import org.springframework.cloud.netflix.eureka.server.EnableEurekaServer;\r\n\r\n    @EnableEurekaServer\r\n    public class Welcome {\r\n       ....\r\n    }\r\n\r\nbut when I try to build it with my gradle-file it says:\r\n\r\n&gt; org.springframework.cloud.netflix.eureka.server does not exist\r\n\r\nI searched for a solution for this problem but I seem to be alone with it. Does someone know why it is not working? Do I have to write something specific into the build.gradle-file?","title":"EnableEurekaServer import doesn&#39;t exist","body":"<p>I build a Spring-Service with gradle and I wanted to use a Eureka-Server with it.\nMy java-file looks like this:</p>\n\n<pre><code>import org.springframework.cloud.netflix.eureka.server.EnableEurekaServer;\n\n@EnableEurekaServer\npublic class Welcome {\n   ....\n}\n</code></pre>\n\n<p>but when I try to build it with my gradle-file it says:</p>\n\n<blockquote>\n  <p>org.springframework.cloud.netflix.eureka.server does not exist</p>\n</blockquote>\n\n<p>I searched for a solution for this problem but I seem to be alone with it. Does someone know why it is not working? Do I have to write something specific into the build.gradle-file?</p>\n"},{"tags":["java","bouncycastle","java-11","adoptopenjdk"],"answers":[{"comments":[{"owner":{"account_id":4929153,"reputation":415,"user_id":3969521,"accept_rate":67,"display_name":"Dark Lord"},"score":0,"creation_date":1581347002,"post_id":60151013,"comment_id":106391932,"body_markdown":"Updated the questions, my gradle file is fine, look at this question : https://stackoverflow.com/questions/42630190/error-including-bouncycastle-provider","body":"Updated the questions, my gradle file is fine, look at this question : <a href=\"https://stackoverflow.com/questions/42630190/error-including-bouncycastle-provider\" title=\"error including bouncycastle provider\">stackoverflow.com/questions/42630190/&hellip;</a>"},{"owner":{"account_id":14854758,"reputation":239,"user_id":10727619,"display_name":"GamingFelix"},"score":0,"creation_date":1581347564,"post_id":60151013,"comment_id":106392281,"body_markdown":"Can you add the whole stack trace? You copied a link where someone suggested adding the classpath, so I assume you tried that?","body":"Can you add the whole stack trace? You copied a link where someone suggested adding the classpath, so I assume you tried that?"}],"tags":[],"owner":{"account_id":14854758,"reputation":239,"user_id":10727619,"display_name":"GamingFelix"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1581348171,"creation_date":1581339745,"answer_id":60151013,"question_id":60150697,"body_markdown":"You can use the way you import all your other gradle dependencies.\r\n\r\nFor example with the dependency:\r\ncompile group: &#39;org.bouncycastle&#39;, name: &#39;bcprov-jdk15on&#39;, version: &#39;1.64&#39;\r\n\r\nTaken from:\r\nhttps://mvnrepository.com/artifact/org.bouncycastle/bcprov-jdk15on/1.64\r\n(Where you can find other versions if you need them)\r\n\r\nIf you&#39;re unsure how to import gradle dependencies I&#39;d suggest searching Stackoverflow, as I&#39;m sure that been asked many times before.\r\nFor example:\r\nhttps://stackoverflow.com/questions/53664575/how-to-import-external-dependencies-in-gradle/53667509\r\n\r\nEDIT: You added another error. Could be the path of the jar needs to be added / classpath.\r\n\r\nIf you want to add the JAR to your ide, which I guess is Gradle Build Tool if I understood you right. They speak of how to do it here:\r\nhttps://stackoverflow.com/questions/20700053/how-to-add-local-jar-file-dependency-to-build-gradle-file","title":"How do I use BouncyCastleProvider in Java 11","body":"<p>You can use the way you import all your other gradle dependencies.</p>\n\n<p>For example with the dependency:\ncompile group: 'org.bouncycastle', name: 'bcprov-jdk15on', version: '1.64'</p>\n\n<p>Taken from:\n<a href=\"https://mvnrepository.com/artifact/org.bouncycastle/bcprov-jdk15on/1.64\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.bouncycastle/bcprov-jdk15on/1.64</a>\n(Where you can find other versions if you need them)</p>\n\n<p>If you're unsure how to import gradle dependencies I'd suggest searching Stackoverflow, as I'm sure that been asked many times before.\nFor example:\n<a href=\"https://stackoverflow.com/questions/53664575/how-to-import-external-dependencies-in-gradle/53667509\">How to import external dependencies in gradle?</a></p>\n\n<p>EDIT: You added another error. Could be the path of the jar needs to be added / classpath.</p>\n\n<p>If you want to add the JAR to your ide, which I guess is Gradle Build Tool if I understood you right. They speak of how to do it here:\n<a href=\"https://stackoverflow.com/questions/20700053/how-to-add-local-jar-file-dependency-to-build-gradle-file\">How to add local .jar file dependency to build.gradle file?</a></p>\n"}],"owner":{"account_id":4929153,"reputation":415,"user_id":3969521,"accept_rate":67,"display_name":"Dark Lord"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9843,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694941255,"creation_date":1581338624,"question_id":60150697,"body_markdown":"I have been trying to find a way to BouncyCastleProvider in Java 11 from openjdk. Since there is no ext folder, I can&#39;t figure out where to put the jar file. I am using gradle build on MacOS Catalina. It will really help if someone can help me out on this. \r\n\r\nI am getting the following error while running gradle build. I have dependency mentioned in gradle as well.\r\n```\r\njava.lang.ClassNotFoundException: org.bouncycastle.jce.provider.BouncyCastleProvider\r\n```","title":"How do I use BouncyCastleProvider in Java 11","body":"<p>I have been trying to find a way to BouncyCastleProvider in Java 11 from openjdk. Since there is no ext folder, I can't figure out where to put the jar file. I am using gradle build on MacOS Catalina. It will really help if someone can help me out on this. </p>\n\n<p>I am getting the following error while running gradle build. I have dependency mentioned in gradle as well.</p>\n\n<pre><code>java.lang.ClassNotFoundException: org.bouncycastle.jce.provider.BouncyCastleProvider\n</code></pre>\n"},{"tags":["java","spring","database","mongodb","database-connection"],"comments":[{"owner":{"account_id":23617210,"reputation":256,"user_id":17651108,"display_name":"Azadi Yazdani"},"score":0,"creation_date":1694948076,"post_id":77121129,"comment_id":135956048,"body_markdown":"Someone had the same problem in this post: https://stackoverflow.com/questions/35415308/exception-in-monitor-thread-while-connecting-to-server-localhost27017-while-acc  See if using @EnableAutoConfiguration(exclude={MongoAutoConfiguration.class}) on the top of your Main class will solve your issue or not.","body":"Someone had the same problem in this post: <a href=\"https://stackoverflow.com/questions/35415308/exception-in-monitor-thread-while-connecting-to-server-localhost27017-while-acc\" title=\"exception in monitor thread while connecting to server localhost27017 while acc\">stackoverflow.com/questions/35415308/&hellip;</a>  See if using @EnableAutoConfiguration(exclude={MongoAutoConfiguration.cla&zwnj;&#8203;ss}) on the top of your Main class will solve your issue or not."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1694965152,"post_id":77121129,"comment_id":135957766,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":181514,"reputation":9905,"user_id":415559,"accept_rate":73,"display_name":"barrypicker"},"score":0,"creation_date":1695074399,"post_id":77121129,"comment_id":135973033,"body_markdown":"You did not provide any code.  You provided logfile details, and you provided a connection string.  But no code.","body":"You did not provide any code.  You provided logfile details, and you provided a connection string.  But no code."}],"owner":{"account_id":29386401,"reputation":1,"user_id":22515758,"display_name":"Arul NR"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694941047,"creation_date":1694941047,"question_id":77121129,"body_markdown":"I&#39;m new to MongoDB and I try to built a simple spring boot CRUD application by replacing MySQL with MongoDB as a database. While running my application after configuring mongo it gives me an Exceptions like MongoSocketWriteException, SSLException.\r\n\r\nI checked everything to my knowledge I don&#39;t know what else I need to do....So, here i attched my code and errors.\r\n\r\n```` \r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.1.3)\r\n\r\n2023-09-17T14:10:08.790+05:30  INFO 9504 --- [           main] c.e.M.MongoFirstCrudApplication          : Starting MongoFirstCrudApplication using Java 17.0.2 with PID 9504 (D:\\Files\\SpringBoot\\MongoFirstCrud\\target\\classes started by arul7 in D:\\Files\\SpringBoot\\MongoFirstCrud)\r\n2023-09-17T14:10:08.798+05:30  INFO 9504 --- [           main] c.e.M.MongoFirstCrudApplication          : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-09-17T14:10:11.477+05:30  INFO 9504 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.\r\n2023-09-17T14:10:11.557+05:30  INFO 9504 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 64 ms. Found 0 MongoDB repository interfaces.\r\n2023-09-17T14:10:13.267+05:30  INFO 9504 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-09-17T14:10:13.296+05:30  INFO 9504 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-09-17T14:10:13.297+05:30  INFO 9504 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.12]\r\n2023-09-17T14:10:13.705+05:30  INFO 9504 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-09-17T14:10:13.711+05:30  INFO 9504 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4658 ms\r\n2023-09-17T14:10:16.533+05:30  INFO 9504 --- [           main] org.mongodb.driver.client                : MongoClient with metadata {&quot;driver&quot;: {&quot;name&quot;: &quot;mongo-java-driver|sync|spring-boot&quot;, &quot;version&quot;: &quot;4.9.1&quot;}, &quot;os&quot;: {&quot;type&quot;: &quot;Windows&quot;, &quot;name&quot;: &quot;Windows 10&quot;, &quot;architecture&quot;: &quot;amd64&quot;, &quot;version&quot;: &quot;10.0&quot;}, &quot;platform&quot;: &quot;Java/Oracle Corporation/17.0.2+8-LTS-86&quot;} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=majority, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName=&#39;arul_7&#39;, source=&#39;admin&#39;, password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@63fd4dda, com.mongodb.Jep395RecordCodecProvider@1d6751e3]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=arulcluster1.pikx3pg.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName=&#39;atlas-xk5epz-shard-0&#39;, serverSelector=&#39;null&#39;, clusterListeners=&#39;[]&#39;, serverSelectionTimeout=&#39;30000 ms&#39;, localThreshold=&#39;30000 ms&#39;}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners=&#39;[]&#39;, serverMonitorListeners=&#39;[]&#39;}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName=&#39;null&#39;, compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}\r\n2023-09-17T14:10:17.161+05:30  INFO 9504 --- [3pg.mongodb.net] org.mongodb.driver.cluster               : Adding discovered server ac-e6uujza-shard-00-00.pikx3pg.mongodb.net:27017 to client view of cluster\r\n2023-09-17T14:10:17.271+05:30  INFO 9504 --- [3pg.mongodb.net] org.mongodb.driver.cluster               : Adding discovered server ac-e6uujza-shard-00-01.pikx3pg.mongodb.net:27017 to client view of cluster\r\n2023-09-17T14:10:17.274+05:30  INFO 9504 --- [3pg.mongodb.net] org.mongodb.driver.cluster               : Adding discovered server ac-e6uujza-shard-00-02.pikx3pg.mongodb.net:27017 to client view of cluster\r\n2023-09-17T14:10:17.485+05:30  INFO 9504 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2023-09-17T14:10:17.628+05:30  INFO 9504 --- [           main] c.e.M.MongoFirstCrudApplication          : Started MongoFirstCrudApplication in 10.052 seconds (process running for 11.393)\r\n2023-09-17T14:10:19.098+05:30  INFO 9504 --- [ngodb.net:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server ac-e6uujza-shard-00-00.pikx3pg.mongodb.net:27017\r\n\r\ncom.mongodb.MongoSocketWriteException: Exception sending message\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.translateWriteException(InternalStreamConnection.java:706) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:580) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.sendCommandMessage(InternalStreamConnection.java:411) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:357) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:102) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:49) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:129) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnectionInitializer.startHandshake(InternalStreamConnectionInitializer.java:77) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:206) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:199) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:159) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\nCaused by: javax.net.ssl.SSLException: Received fatal alert: internal_error\r\n\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:133) ~[na:na]\r\n\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117) ~[na:na]\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:358) ~[na:na]\r\n\tat java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293) ~[na:na]\r\n\tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:204) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1500) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1415) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:450) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.ensureNegotiated(SSLSocketImpl.java:915) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl$AppOutputStream.write(SSLSocketImpl.java:1285) ~[na:na]\r\n\tat com.mongodb.internal.connection.SocketStream.write(SocketStream.java:102) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:577) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\t... 10 common frames omitted\r\n\r\n2023-09-17T14:10:19.106+05:30  INFO 9504 --- [ngodb.net:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server ac-e6uujza-shard-00-01.pikx3pg.mongodb.net:27017\r\n\r\ncom.mongodb.MongoSocketWriteException: Exception sending message\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.translateWriteException(InternalStreamConnection.java:706) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:580) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.sendCommandMessage(InternalStreamConnection.java:411) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:357) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:102) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:49) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:129) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnectionInitializer.startHandshake(InternalStreamConnectionInitializer.java:77) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:206) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:199) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:159) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\nCaused by: javax.net.ssl.SSLException: Received fatal alert: internal_error\r\n\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:133) ~[na:na]\r\n\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117) ~[na:na]\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:358) ~[na:na]\r\n\tat java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293) ~[na:na]\r\n\tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:204) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1500) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1415) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:450) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.ensureNegotiated(SSLSocketImpl.java:915) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl$AppOutputStream.write(SSLSocketImpl.java:1285) ~[na:na]\r\n\tat com.mongodb.internal.connection.SocketStream.write(SocketStream.java:102) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:577) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\t... 10 common frames omitted\r\n\r\n2023-09-17T14:10:19.105+05:30  INFO 9504 --- [ngodb.net:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server ac-e6uujza-shard-00-02.pikx3pg.mongodb.net:27017\r\n\r\ncom.mongodb.MongoSocketWriteException: Exception sending message\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.translateWriteException(InternalStreamConnection.java:706) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:580) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.sendCommandMessage(InternalStreamConnection.java:411) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:357) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:102) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:49) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:129) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnectionInitializer.startHandshake(InternalStreamConnectionInitializer.java:77) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:206) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:199) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:159) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\nCaused by: javax.net.ssl.SSLException: Received fatal alert: internal_error\r\n\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:133) ~[na:na]\r\n\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117) ~[na:na]\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:358) ~[na:na]\r\n\tat java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293) ~[na:na]\r\n\tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:204) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1500) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1415) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:450) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.ensureNegotiated(SSLSocketImpl.java:915) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl$AppOutputStream.write(SSLSocketImpl.java:1285) ~[na:na]\r\n\tat com.mongodb.internal.connection.SocketStream.write(SocketStream.java:102) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:577) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\t... 10 common frames omitted`\r\n````\r\nApplication.properties file\r\n`spring.data.mongodb.uri = mongodb+srv://arul_7:root@arulcluster1.pikx3pg.mongodb.net/?retryWrites=true&amp;w=majority\r\nspring.data.mongodb.database = projectmongo1`\r\n\r\n\r\n","title":"Error occurred while connecting MongoDB Atlas and Spring Boot","body":"<p>I'm new to MongoDB and I try to built a simple spring boot CRUD application by replacing MySQL with MongoDB as a database. While running my application after configuring mongo it gives me an Exceptions like MongoSocketWriteException, SSLException.</p>\n<p>I checked everything to my knowledge I don't know what else I need to do....So, here i attched my code and errors.</p>\n<pre><code>\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.1.3)\n\n2023-09-17T14:10:08.790+05:30  INFO 9504 --- [           main] c.e.M.MongoFirstCrudApplication          : Starting MongoFirstCrudApplication using Java 17.0.2 with PID 9504 (D:\\Files\\SpringBoot\\MongoFirstCrud\\target\\classes started by arul7 in D:\\Files\\SpringBoot\\MongoFirstCrud)\n2023-09-17T14:10:08.798+05:30  INFO 9504 --- [           main] c.e.M.MongoFirstCrudApplication          : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-09-17T14:10:11.477+05:30  INFO 9504 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.\n2023-09-17T14:10:11.557+05:30  INFO 9504 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 64 ms. Found 0 MongoDB repository interfaces.\n2023-09-17T14:10:13.267+05:30  INFO 9504 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-09-17T14:10:13.296+05:30  INFO 9504 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-09-17T14:10:13.297+05:30  INFO 9504 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.12]\n2023-09-17T14:10:13.705+05:30  INFO 9504 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-09-17T14:10:13.711+05:30  INFO 9504 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4658 ms\n2023-09-17T14:10:16.533+05:30  INFO 9504 --- [           main] org.mongodb.driver.client                : MongoClient with metadata {&quot;driver&quot;: {&quot;name&quot;: &quot;mongo-java-driver|sync|spring-boot&quot;, &quot;version&quot;: &quot;4.9.1&quot;}, &quot;os&quot;: {&quot;type&quot;: &quot;Windows&quot;, &quot;name&quot;: &quot;Windows 10&quot;, &quot;architecture&quot;: &quot;amd64&quot;, &quot;version&quot;: &quot;10.0&quot;}, &quot;platform&quot;: &quot;Java/Oracle Corporation/17.0.2+8-LTS-86&quot;} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=majority, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='arul_7', source='admin', password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@63fd4dda, com.mongodb.Jep395RecordCodecProvider@1d6751e3]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=arulcluster1.pikx3pg.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-xk5epz-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}\n2023-09-17T14:10:17.161+05:30  INFO 9504 --- [3pg.mongodb.net] org.mongodb.driver.cluster               : Adding discovered server ac-e6uujza-shard-00-00.pikx3pg.mongodb.net:27017 to client view of cluster\n2023-09-17T14:10:17.271+05:30  INFO 9504 --- [3pg.mongodb.net] org.mongodb.driver.cluster               : Adding discovered server ac-e6uujza-shard-00-01.pikx3pg.mongodb.net:27017 to client view of cluster\n2023-09-17T14:10:17.274+05:30  INFO 9504 --- [3pg.mongodb.net] org.mongodb.driver.cluster               : Adding discovered server ac-e6uujza-shard-00-02.pikx3pg.mongodb.net:27017 to client view of cluster\n2023-09-17T14:10:17.485+05:30  INFO 9504 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2023-09-17T14:10:17.628+05:30  INFO 9504 --- [           main] c.e.M.MongoFirstCrudApplication          : Started MongoFirstCrudApplication in 10.052 seconds (process running for 11.393)\n2023-09-17T14:10:19.098+05:30  INFO 9504 --- [ngodb.net:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server ac-e6uujza-shard-00-00.pikx3pg.mongodb.net:27017\n\ncom.mongodb.MongoSocketWriteException: Exception sending message\n    at com.mongodb.internal.connection.InternalStreamConnection.translateWriteException(InternalStreamConnection.java:706) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:580) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.sendCommandMessage(InternalStreamConnection.java:411) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:357) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:102) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:49) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:129) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnectionInitializer.startHandshake(InternalStreamConnectionInitializer.java:77) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:206) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:199) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:159) ~[mongodb-driver-core-4.9.1.jar:na]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: javax.net.ssl.SSLException: Received fatal alert: internal_error\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:133) ~[na:na]\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117) ~[na:na]\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:358) ~[na:na]\n    at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293) ~[na:na]\n    at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:204) ~[na:na]\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1500) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1415) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:450) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.ensureNegotiated(SSLSocketImpl.java:915) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl$AppOutputStream.write(SSLSocketImpl.java:1285) ~[na:na]\n    at com.mongodb.internal.connection.SocketStream.write(SocketStream.java:102) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:577) ~[mongodb-driver-core-4.9.1.jar:na]\n    ... 10 common frames omitted\n\n2023-09-17T14:10:19.106+05:30  INFO 9504 --- [ngodb.net:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server ac-e6uujza-shard-00-01.pikx3pg.mongodb.net:27017\n\ncom.mongodb.MongoSocketWriteException: Exception sending message\n    at com.mongodb.internal.connection.InternalStreamConnection.translateWriteException(InternalStreamConnection.java:706) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:580) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.sendCommandMessage(InternalStreamConnection.java:411) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:357) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:102) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:49) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:129) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnectionInitializer.startHandshake(InternalStreamConnectionInitializer.java:77) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:206) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:199) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:159) ~[mongodb-driver-core-4.9.1.jar:na]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: javax.net.ssl.SSLException: Received fatal alert: internal_error\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:133) ~[na:na]\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117) ~[na:na]\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:358) ~[na:na]\n    at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293) ~[na:na]\n    at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:204) ~[na:na]\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1500) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1415) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:450) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.ensureNegotiated(SSLSocketImpl.java:915) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl$AppOutputStream.write(SSLSocketImpl.java:1285) ~[na:na]\n    at com.mongodb.internal.connection.SocketStream.write(SocketStream.java:102) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:577) ~[mongodb-driver-core-4.9.1.jar:na]\n    ... 10 common frames omitted\n\n2023-09-17T14:10:19.105+05:30  INFO 9504 --- [ngodb.net:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server ac-e6uujza-shard-00-02.pikx3pg.mongodb.net:27017\n\ncom.mongodb.MongoSocketWriteException: Exception sending message\n    at com.mongodb.internal.connection.InternalStreamConnection.translateWriteException(InternalStreamConnection.java:706) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:580) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.sendCommandMessage(InternalStreamConnection.java:411) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:357) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:102) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:49) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:129) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnectionInitializer.startHandshake(InternalStreamConnectionInitializer.java:77) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:206) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:199) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:159) ~[mongodb-driver-core-4.9.1.jar:na]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: javax.net.ssl.SSLException: Received fatal alert: internal_error\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:133) ~[na:na]\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117) ~[na:na]\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:358) ~[na:na]\n    at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293) ~[na:na]\n    at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:204) ~[na:na]\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1500) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1415) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:450) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.ensureNegotiated(SSLSocketImpl.java:915) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl$AppOutputStream.write(SSLSocketImpl.java:1285) ~[na:na]\n    at com.mongodb.internal.connection.SocketStream.write(SocketStream.java:102) ~[mongodb-driver-core-4.9.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:577) ~[mongodb-driver-core-4.9.1.jar:na]\n    ... 10 common frames omitted`\n</code></pre>\n<p>Application.properties file\n<code>spring.data.mongodb.uri = mongodb+srv://arul_7:root@arulcluster1.pikx3pg.mongodb.net/?retryWrites=true&amp;w=majority spring.data.mongodb.database = projectmongo1</code></p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1694583396,"post_id":77094245,"comment_id":135908509,"body_markdown":"Selenium is for web browsers, not windows apps (Outlook). If you can reach the mailbox in browser (thin client), you can write automatic email read. For windows app automatition use Windows Application Driver https://github.com/microsoft/WinAppDriver","body":"Selenium is for web browsers, not windows apps (Outlook). If you can reach the mailbox in browser (thin client), you can write automatic email read. For windows app automatition use Windows Application Driver <a href=\"https://github.com/microsoft/WinAppDriver\" rel=\"nofollow noreferrer\">github.com/microsoft/WinAppDriver</a>"}],"answers":[{"tags":[],"owner":{"account_id":27733412,"reputation":161,"user_id":21171478,"display_name":"qatesterbecomingprogrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694592092,"creation_date":1694592092,"answer_id":77095156,"question_id":77094245,"body_markdown":"Automating outlook with selenium will gonna give you headache, as\r\n\r\n - It is lengthy process  \r\n - Not part of your testing scope.\r\n\r\nUse Outlook API&#39;s for that, if you are having restriction iussues with certain email, talk to your dev about it, and yes Outlook API&#39;s can be integrated with  selenium with Java and multiple other languages.\r\nYou can read documentation from below link:\r\nhttps://learn.microsoft.com/en-us/graph/tutorials/java?context=outlook%2Fcontext&amp;tabs=aad","title":"Outlook mail Integration, have to read the mail and click on the url present in the mail body, need to automate this using java selenium","body":"<p>Automating outlook with selenium will gonna give you headache, as</p>\n<ul>\n<li>It is lengthy process</li>\n<li>Not part of your testing scope.</li>\n</ul>\n<p>Use Outlook API's for that, if you are having restriction iussues with certain email, talk to your dev about it, and yes Outlook API's can be integrated with  selenium with Java and multiple other languages.\nYou can read documentation from below link:\n<a href=\"https://learn.microsoft.com/en-us/graph/tutorials/java?context=outlook%2Fcontext&amp;tabs=aad\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/graph/tutorials/java?context=outlook%2Fcontext&amp;tabs=aad</a></p>\n"}],"owner":{"account_id":17743724,"reputation":23,"user_id":12883429,"display_name":"Sudhakar Babu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694941027,"creation_date":1694582383,"question_id":77094245,"body_markdown":"I tried to do with Microsoft graph apis but having access issues \r\nso I&#39;m thinking can i do it with selenium with giving mail address and password\r\n\r\ni tried with apis, want to know can we do it with web automation, then how to do it \r\nOutlook mail integration is what im working on.","title":"Outlook mail Integration, have to read the mail and click on the url present in the mail body, need to automate this using java selenium","body":"<p>I tried to do with Microsoft graph apis but having access issues\nso I'm thinking can i do it with selenium with giving mail address and password</p>\n<p>i tried with apis, want to know can we do it with web automation, then how to do it\nOutlook mail integration is what im working on.</p>\n"},{"tags":["java","modulo"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":7,"creation_date":1694937867,"post_id":77120961,"comment_id":135955155,"body_markdown":"Please read: [Why should I not upload images of code/data/errors?](https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question)","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\">Why should I not upload images of code/data/errors?</a>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1694938348,"post_id":77120961,"comment_id":135955193,"body_markdown":"The literal `01235` is actually the number 669 (-&gt; 21).  `020341` is 8417 (-&gt; 20).  They are octal literals.","body":"The literal <code>01235</code> is actually the number 669 (-&gt; 21).  <code>020341</code> is 8417 (-&gt; 20).  They are octal literals."},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1694938378,"post_id":77120961,"comment_id":135955199,"body_markdown":"An integer with leading zero represent a number in octal not in decimal. 012345 ocal equals 5349 in decimal. And 9+4+3+5 = 21","body":"An integer with leading zero represent a number in octal not in decimal. 012345 ocal equals 5349 in decimal. And 9+4+3+5 = 21"}],"answers":[{"tags":[],"owner":{"account_id":28677433,"reputation":81,"user_id":21959272,"display_name":"Schleeo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694938240,"creation_date":1694938240,"answer_id":77120991,"question_id":77120961,"body_markdown":"With the leading 0, your int is an octal.\r\n\r\n    System.out.println(012345 == 12345); // false","title":"Why does this print out 21 and not 11?","body":"<p>With the leading 0, your int is an octal.</p>\n<pre><code>System.out.println(012345 == 12345); // false\n</code></pre>\n"}],"owner":{"account_id":29464345,"reputation":1,"user_id":22578356,"display_name":"Jensen"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1694937883,"accepted_answer_id":77120991,"answer_count":1,"score":-4,"last_activity_date":1694939962,"creation_date":1694937721,"question_id":77120961,"body_markdown":"The code I wrote was meant to take the sum of the digits of an integer number, e.g. 143 gives out 8, 020341 give out 10. \r\n\r\n[This is the code I wrote for it](https://i.stack.imgur.com/bX9iI.png)\r\n\r\nI intended for this to print out 11 but it gives me 21 instead. It works fine if the first digit isn&#39;t a 0, I&#39;m not sure on how to make it so that it works with 0 in the first digit.","title":"Why does this print out 21 and not 11?","body":"<p>The code I wrote was meant to take the sum of the digits of an integer number, e.g. 143 gives out 8, 020341 give out 10.</p>\n<p><a href=\"https://i.stack.imgur.com/bX9iI.png\" rel=\"nofollow noreferrer\">This is the code I wrote for it</a></p>\n<p>I intended for this to print out 11 but it gives me 21 instead. It works fine if the first digit isn't a 0, I'm not sure on how to make it so that it works with 0 in the first digit.</p>\n"},{"tags":["java","sql","spring-boot","transactions","nosql"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1694937822,"post_id":77120947,"comment_id":135955154,"body_markdown":"Does this answer your question? [Is there any NoSQL data store that is ACID compliant?](https://stackoverflow.com/questions/2608103/is-there-any-nosql-data-store-that-is-acid-compliant)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2608103/is-there-any-nosql-data-store-that-is-acid-compliant\">Is there any NoSQL data store that is ACID compliant?</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1694939889,"post_id":77120947,"comment_id":135955329,"body_markdown":"Does this answer your question? [Transactions in NoSQL?](https://stackoverflow.com/questions/2212230/transactions-in-nosql)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2212230/transactions-in-nosql\">Transactions in NoSQL?</a>"}],"answers":[{"tags":[],"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694939220,"creation_date":1694938899,"answer_id":77121024,"question_id":77120947,"body_markdown":"&gt; What I want to know is if that thing is happen only if I use an SQL database? \r\n\r\nYes.  \r\n\r\nYou described the behaviour which is primarily associated with SQL databases, and it does not apply uniformly to all NoSQL databases.\r\n \r\n&gt; Do they happen in a NoSQL database as well. From what I know ACID is only for SQL databases.\r\n\r\nNoSQL databases typically do not support ACID transactions in the same way as SQL databases. If you switch to a NoSQL database, you may need to handle transactions differently. You need to consider the specific transaction support of a particular database.","title":"Do transactions happen only in SQL database in Spring Boot projects?","body":"<blockquote>\n<p>What I want to know is if that thing is happen only if I use an SQL database?</p>\n</blockquote>\n<p>Yes.</p>\n<p>You described the behaviour which is primarily associated with SQL databases, and it does not apply uniformly to all NoSQL databases.</p>\n<blockquote>\n<p>Do they happen in a NoSQL database as well. From what I know ACID is only for SQL databases.</p>\n</blockquote>\n<p>NoSQL databases typically do not support ACID transactions in the same way as SQL databases. If you switch to a NoSQL database, you may need to handle transactions differently. You need to consider the specific transaction support of a particular database.</p>\n"}],"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77121024,"answer_count":1,"score":0,"last_activity_date":1694939220,"creation_date":1694937326,"question_id":77120947,"body_markdown":"I&#39;m learning about SQL and NoSQL databases in Spring Boot projects. And I have a question about transactions in databases. I know that when you use @Transactional at a method, all the queries from that method are taken as a single transaction and if there is no exception when that method is executed all the changes will be committed to database, otherwise the changes will be rolled back.  What I want to know is if that thing is happen only if I use an SQL database? Do they happen in a NoSQL database as well. From what I know ACID is only for SQL databases. Thank you!\r\n\r\n    @Transactional\r\n    public void businessLogic() {\r\n     // create customer resource\r\n     // update customer resource\r\n     // other create/update\r\n    }\r\n\r\n\r\n","title":"Do transactions happen only in SQL database in Spring Boot projects?","body":"<p>I'm learning about SQL and NoSQL databases in Spring Boot projects. And I have a question about transactions in databases. I know that when you use @Transactional at a method, all the queries from that method are taken as a single transaction and if there is no exception when that method is executed all the changes will be committed to database, otherwise the changes will be rolled back.  What I want to know is if that thing is happen only if I use an SQL database? Do they happen in a NoSQL database as well. From what I know ACID is only for SQL databases. Thank you!</p>\n<pre><code>@Transactional\npublic void businessLogic() {\n // create customer resource\n // update customer resource\n // other create/update\n}\n</code></pre>\n"},{"tags":["java","mocking","mockito","powermock","powermockito"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1694938888,"post_id":76927341,"comment_id":135955238,"body_markdown":"Does this answer your question? [Why are my mocked methods not called when executing a unit test?](https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test\">Why are my mocked methods not called when executing a unit test?</a>"}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694939160,"creation_date":1694939160,"answer_id":77121038,"question_id":76927341,"body_markdown":"`@InjectMocks Bar bar;` creates an instance already. `bar = PowerMockito.spy(bar);` assigns a new instance. The original `bar` instance does not know anything about the wrapping spy. So any behavior you define on the spy (with `PowerMockito.doReturn(user).when(bar).getUser();`) is not visible nor accessible from within your original instance.\r\n\r\nYou must keep the original reference around:\r\n\r\n```\r\npublic class BarTest {\r\n    @InjectMocks\r\n    Bar bar;\r\n    Bar barSpy;\r\n\r\n    @Mock\r\n    Mapper mapper;\r\n\r\n    @Test\r\n    public void testFunc() {\r\n        barSpy = PowerMockito.spy(bar);\r\n        // bar.mapper = mapper; // this should not be required, `@InjectMocks` must take care of this\r\n\r\n        PowerMockito.doReturn(Result.success()).when(bar, validateParams, any(), any()); // mock private method\r\n\r\n        User user = new User();\r\n        PowerMockito.doReturn(user).when(bar).getUser(); // stub original instance\r\n\r\n        bar.func(&quot;param1&quot;, &quot;param2&quot;);\r\n    }\r\n}\r\n```\r\n\r\nBut why are you spying? You are not verifying any calls on your spy?\r\n\r\nRelated: https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test","title":"Mocked but still null when using PowerMock to mock private method","body":"<p><code>@InjectMocks Bar bar;</code> creates an instance already. <code>bar = PowerMockito.spy(bar);</code> assigns a new instance. The original <code>bar</code> instance does not know anything about the wrapping spy. So any behavior you define on the spy (with <code>PowerMockito.doReturn(user).when(bar).getUser();</code>) is not visible nor accessible from within your original instance.</p>\n<p>You must keep the original reference around:</p>\n<pre><code>public class BarTest {\n    @InjectMocks\n    Bar bar;\n    Bar barSpy;\n\n    @Mock\n    Mapper mapper;\n\n    @Test\n    public void testFunc() {\n        barSpy = PowerMockito.spy(bar);\n        // bar.mapper = mapper; // this should not be required, `@InjectMocks` must take care of this\n\n        PowerMockito.doReturn(Result.success()).when(bar, validateParams, any(), any()); // mock private method\n\n        User user = new User();\n        PowerMockito.doReturn(user).when(bar).getUser(); // stub original instance\n\n        bar.func(&quot;param1&quot;, &quot;param2&quot;);\n    }\n}\n</code></pre>\n<p>But why are you spying? You are not verifying any calls on your spy?</p>\n<p>Related: <a href=\"https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test\">Why are my mocked methods not called when executing a unit test?</a></p>\n"}],"owner":{"account_id":29249595,"reputation":1,"user_id":22409243,"display_name":"vurtne yuan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694939160,"creation_date":1692344478,"question_id":76927341,"body_markdown":"Here are the brief codes of my project,\r\nclass Foo:\r\n\r\n```\r\npublic class Foo {\r\n    @Autowired\r\n    protected Mapper mapper;\r\n\r\n    protected User getUser() {\r\n        // ...\r\n        return user;\r\n    }\r\n}\r\n```\r\n\r\n\r\nclass Bar that extends Foo:\r\n\r\n```\r\npublic class Bar extends Foo{\r\n\r\n    public void func(String param1, String param2) {\r\n        Result result = this.validateParams(param1, param2);\r\n        // ...\r\n        Entity entity = super.mapper.mapTo(param1, Entity.class);\r\n        entity.setUserInfo(super.getUser().getInfo()); // null pointer exception\r\n    }\r\n\r\n\r\n\r\n    private Result validateParams(String param1, String param2) {\r\n        // ...\r\n        return Result.success();\r\n    }\r\n}\r\n```\r\n\r\n\r\nand the test class:\r\n\r\n```\r\n@RunWith(PowerMockRunner.class)\r\n@PowerMockIgnore( {&quot;javax.management.*&quot;, &quot;javax.net.ssl.*&quot;})\r\n@PrepareForTest({Bar.class}) // to mock private method\r\npublic class BarTest {\r\n    @InjectMocks\r\n    Bar bar;\r\n\r\n    @Mock\r\n    Mapper mapper;\r\n\r\n    @Test\r\n    public void testFunc() {\r\n        bar = PowerMockito.spy(bar);\r\n        bar.mapper = mapper; // or bar.mapper is null\r\n\r\n        PowerMockito.doReturn(Result.success()).when(bar, validateParams, any(), any()); // mock private method\r\n\r\n        User user = new User(); // mock user\r\n        PowerMockito.doReturn(user).when(bar).getUser(); // doesn&#39;t work\r\n\r\n        bar.func(&quot;param1&quot;, &quot;param2&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\nIt&#39;s weird that when I test bar.func, when it comes to `entity.setUserInfo(super.getUser().getInfo())`, `super.getUser()` return null, causing a NPE. But I&#39;ve already mocked getUser() function, which seems to not work.\r\nLooking forward for your advice &amp; help, thanks a lot.\r\n\r\nI tried to avoid using spy(bar), assuming that it would cause a empty copy of instance(which is all null).\r\nAlso I tried to use\r\n\r\n    Method methodGetUser = PowerMockito.method(Bar.class, &quot;getUser&quot;);\r\n        PowerMockito.replace(methodGetUser).with(new InvocationHandler() {\r\n            @Override\r\n            public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\r\n                return user;\r\n            }\r\n        });\r\n\r\nbut doesn&#39;t work as well(NPE).","title":"Mocked but still null when using PowerMock to mock private method","body":"<p>Here are the brief codes of my project,\nclass Foo:</p>\n<pre><code>public class Foo {\n    @Autowired\n    protected Mapper mapper;\n\n    protected User getUser() {\n        // ...\n        return user;\n    }\n}\n</code></pre>\n<p>class Bar that extends Foo:</p>\n<pre><code>public class Bar extends Foo{\n\n    public void func(String param1, String param2) {\n        Result result = this.validateParams(param1, param2);\n        // ...\n        Entity entity = super.mapper.mapTo(param1, Entity.class);\n        entity.setUserInfo(super.getUser().getInfo()); // null pointer exception\n    }\n\n\n\n    private Result validateParams(String param1, String param2) {\n        // ...\n        return Result.success();\n    }\n}\n</code></pre>\n<p>and the test class:</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PowerMockIgnore( {&quot;javax.management.*&quot;, &quot;javax.net.ssl.*&quot;})\n@PrepareForTest({Bar.class}) // to mock private method\npublic class BarTest {\n    @InjectMocks\n    Bar bar;\n\n    @Mock\n    Mapper mapper;\n\n    @Test\n    public void testFunc() {\n        bar = PowerMockito.spy(bar);\n        bar.mapper = mapper; // or bar.mapper is null\n\n        PowerMockito.doReturn(Result.success()).when(bar, validateParams, any(), any()); // mock private method\n\n        User user = new User(); // mock user\n        PowerMockito.doReturn(user).when(bar).getUser(); // doesn't work\n\n        bar.func(&quot;param1&quot;, &quot;param2&quot;);\n    }\n}\n</code></pre>\n<p>It's weird that when I test bar.func, when it comes to <code>entity.setUserInfo(super.getUser().getInfo())</code>, <code>super.getUser()</code> return null, causing a NPE. But I've already mocked getUser() function, which seems to not work.\nLooking forward for your advice &amp; help, thanks a lot.</p>\n<p>I tried to avoid using spy(bar), assuming that it would cause a empty copy of instance(which is all null).\nAlso I tried to use</p>\n<pre><code>Method methodGetUser = PowerMockito.method(Bar.class, &quot;getUser&quot;);\n    PowerMockito.replace(methodGetUser).with(new InvocationHandler() {\n        @Override\n        public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n            return user;\n        }\n    });\n</code></pre>\n<p>but doesn't work as well(NPE).</p>\n"},{"tags":["java","spring","maven","spring-mvc"],"comments":[{"owner":{"account_id":3006123,"reputation":4002,"user_id":2580686,"accept_rate":46,"display_name":"Foolish"},"score":1,"creation_date":1513249386,"post_id":33301073,"comment_id":82584733,"body_markdown":"Possible duplicate of [@SpringBootApplication cannot be resolved to a type In STS](https://stackoverflow.com/questions/41668819/springbootapplication-cannot-be-resolved-to-a-type-in-sts)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/41668819/springbootapplication-cannot-be-resolved-to-a-type-in-sts\">@SpringBootApplication cannot be resolved to a type In STS</a>"}],"answers":[{"comments":[{"owner":{"account_id":3014525,"reputation":557,"user_id":2557088,"accept_rate":45,"display_name":"Orel Bitton"},"score":0,"creation_date":1445599875,"post_id":33301249,"comment_id":54401344,"body_markdown":"This seems to fix one of my problems, great. But now it still can&#39;t resolve the SpringApplication class and the annotation.","body":"This seems to fix one of my problems, great. But now it still can&#39;t resolve the SpringApplication class and the annotation."},{"owner":{"account_id":1176426,"reputation":709,"user_id":1152335,"display_name":"Bruno"},"score":1,"creation_date":1445600200,"post_id":33301249,"comment_id":54401520,"body_markdown":"I had this problem before and I tried three differents things so I&#39;m not quite sure which one fixed the problem:\n\n1 - Update your Maven Project with force update or snapshots/release 2 - Restart your Spring Tool Suite\n3 - Run Maven clean command.\n\nHope this helps.","body":"I had this problem before and I tried three differents things so I&#39;m not quite sure which one fixed the problem:  1 - Update your Maven Project with force update or snapshots/release 2 - Restart your Spring Tool Suite 3 - Run Maven clean command.  Hope this helps."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1445601237,"post_id":33301249,"comment_id":54402105,"body_markdown":"If there is a single class containing a main you don&#39;t need it as it will be auto detected. Make sure the project is added as a maven project and not that you have imported it as a normal java project.","body":"If there is a single class containing a main you don&#39;t need it as it will be auto detected. Make sure the project is added as a maven project and not that you have imported it as a normal java project."}],"tags":[],"owner":{"account_id":1176426,"reputation":709,"user_id":1152335,"display_name":"Bruno"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445599721,"creation_date":1445599721,"answer_id":33301249,"question_id":33301073,"body_markdown":"When you run your application as an jar, your `Manifest.MF` file should know which class has the main method.\r\n\r\nTo add this information when SpringBoot compiles your code, add `start-class` property on your pom file.\r\n\r\nE.g.:\r\n\r\n    &lt;properties&gt;\r\n    \t\t&lt;start-class&gt;com.example.DemoApplication&lt;/start-class&gt;\r\n    &lt;/properties&gt;","title":"Spring Boot application can&#39;t resolve the org.springframework.boot package","body":"<p>When you run your application as an jar, your <code>Manifest.MF</code> file should know which class has the main method.</p>\n\n<p>To add this information when SpringBoot compiles your code, add <code>start-class</code> property on your pom file.</p>\n\n<p>E.g.:</p>\n\n<pre><code>&lt;properties&gt;\n        &lt;start-class&gt;com.example.DemoApplication&lt;/start-class&gt;\n&lt;/properties&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3025392,"reputation":1695,"user_id":2565527,"accept_rate":100,"display_name":"hiropon"},"score":0,"creation_date":1504685567,"post_id":39377738,"comment_id":79100553,"body_markdown":"In my case, it was the root cause","body":"In my case, it was the root cause"}],"tags":[],"owner":{"account_id":5239846,"reputation":339,"user_id":5393877,"display_name":"victommasi"},"comment_count":1,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1473276761,"creation_date":1473276761,"answer_id":39377738,"question_id":33301073,"body_markdown":"Right button on project -&gt; Maven -&gt; Update Project \r\n\r\nthen check &quot;Force update of Snapshots/Releases&quot;","title":"Spring Boot application can&#39;t resolve the org.springframework.boot package","body":"<p>Right button on project -> Maven -> Update Project </p>\n\n<p>then check \"Force update of Snapshots/Releases\"</p>\n"},{"comments":[{"owner":{"account_id":1921531,"reputation":16820,"user_id":1732936,"accept_rate":66,"display_name":"Xelian"},"score":4,"creation_date":1505245608,"post_id":42998184,"comment_id":79331305,"body_markdown":"I spent 2 hours on this. YOu made my day.","body":"I spent 2 hours on this. YOu made my day."},{"owner":{"account_id":5389961,"reputation":1513,"user_id":4292792,"accept_rate":92,"display_name":"Carrm"},"score":3,"creation_date":1510386132,"post_id":42998184,"comment_id":81421481,"body_markdown":"It might be useful to precise that you need to set the latest version of Spring Boot. This is stupid, but I had to check the version of Spring Boot in the question just to be sure that it was about updating the version and not an issue with a specific version of SB, because the answer doesn&#39;t explain what&#39;s wrong...","body":"It might be useful to precise that you need to set the latest version of Spring Boot. This is stupid, but I had to check the version of Spring Boot in the question just to be sure that it was about updating the version and not an issue with a specific version of SB, because the answer doesn&#39;t explain what&#39;s wrong..."},{"owner":{"account_id":1404899,"reputation":76,"user_id":1332881,"accept_rate":14,"display_name":"Chalpat"},"score":0,"creation_date":1584479198,"post_id":42998184,"comment_id":107448402,"body_markdown":"Good solution but the reason?","body":"Good solution but the reason?"},{"owner":{"account_id":2186908,"reputation":131,"user_id":1935115,"display_name":"Ali Sohrabi"},"score":0,"creation_date":1621157119,"post_id":42998184,"comment_id":119405439,"body_markdown":"@Chalpat , Follow [official spring boot guide](https://spring.io/guides/gs/spring-boot/).","body":"@Chalpat , Follow <a href=\"https://spring.io/guides/gs/spring-boot/\" rel=\"nofollow noreferrer\">official spring boot guide</a>."},{"owner":{"account_id":18456518,"reputation":752,"user_id":13932705,"display_name":"Chiranjeevi Kandel"},"score":0,"creation_date":1701063602,"post_id":42998184,"comment_id":136723975,"body_markdown":"Changing to spring boot version 2.7.3 fixed my issue.","body":"Changing to spring boot version 2.7.3 fixed my issue."}],"tags":[],"owner":{"account_id":10533220,"reputation":493,"user_id":7761925,"accept_rate":83,"display_name":"Nithin"},"comment_count":5,"down_vote_count":2,"up_vote_count":41,"is_accepted":false,"score":39,"last_activity_date":1490354353,"creation_date":1490354353,"answer_id":42998184,"question_id":33301073,"body_markdown":"change the version of spring boot parent\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.2.RELEASE&lt;/version&gt;\r\n     &lt;/parent&gt;\r\n","title":"Spring Boot application can&#39;t resolve the org.springframework.boot package","body":"<p>change the version of spring boot parent</p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.4.2.RELEASE&lt;/version&gt;\n &lt;/parent&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2680207,"reputation":521,"user_id":2315724,"display_name":"Chaithu Narayana"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500930486,"creation_date":1500930486,"answer_id":45290067,"question_id":33301073,"body_markdown":"I had the same problem when I was trying to work with a basic spring boot app. I tried to use the latest spring-boot version from the official [spring-boot site](https://projects.spring.io/spring-boot/).\r\n\r\nAs on today, the latest version is **1.5.4.RELEASE**. But I keep getting compilation issues on my eclipse IDE irrespective of multiple cleanups to the project. I lowered the version of spring-boot to **1.5.3.RELEASE** and it simply *worked* !! Some of my earlier projects were using the old version which drove me to try this option.","title":"Spring Boot application can&#39;t resolve the org.springframework.boot package","body":"<p>I had the same problem when I was trying to work with a basic spring boot app. I tried to use the latest spring-boot version from the official <a href=\"https://projects.spring.io/spring-boot/\" rel=\"nofollow noreferrer\">spring-boot site</a>.</p>\n\n<p>As on today, the latest version is <strong>1.5.4.RELEASE</strong>. But I keep getting compilation issues on my eclipse IDE irrespective of multiple cleanups to the project. I lowered the version of spring-boot to <strong>1.5.3.RELEASE</strong> and it simply <em>worked</em> !! Some of my earlier projects were using the old version which drove me to try this option.</p>\n"},{"tags":[],"owner":{"account_id":1581116,"reputation":186,"user_id":1466488,"display_name":"gonella"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1502075925,"creation_date":1502075925,"answer_id":45538961,"question_id":33301073,"body_markdown":"From your pom.xml, try to remove spring repository entries, per default will download from maven repository. I have tried with 1.5.6.RELEASE and worked very well.","title":"Spring Boot application can&#39;t resolve the org.springframework.boot package","body":"<p>From your pom.xml, try to remove spring repository entries, per default will download from maven repository. I have tried with 1.5.6.RELEASE and worked very well.</p>\n"},{"tags":[],"owner":{"account_id":7441676,"reputation":860,"user_id":5659278,"display_name":"Kushwaha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505154921,"creation_date":1505154921,"answer_id":46162273,"question_id":33301073,"body_markdown":"**I have encountered the same problem while my first Spring boot application.** \r\n\r\nIn tutorial i could see following dependency to start sample application \r\n\r\n - Spring Boot 1.4.2.RELEASE \r\n - Maven 3 \r\n - java 8\r\n\r\nI have done the same, my Spring STS is recognizing all class but when i am annotating my main class with @SpringBootApplication it&#39;s not recognizing this class whereas i could see jar was available in the class path. \r\n\r\n**I have following to resolve issues** \r\n\r\n - Replaced my Spring Boot 1.4.2.RELEASE  to 1.5.3.RELEASE  \r\n - Right click on project and -&gt; Maven-&gt; Download Resources\r\n - right click on project -&gt; Maven-&gt; Update project\r\n\r\nAfter that it worked.\r\n\r\nThanks \r\n\r\n","title":"Spring Boot application can&#39;t resolve the org.springframework.boot package","body":"<p><strong>I have encountered the same problem while my first Spring boot application.</strong> </p>\n\n<p>In tutorial i could see following dependency to start sample application </p>\n\n<ul>\n<li>Spring Boot 1.4.2.RELEASE </li>\n<li>Maven 3 </li>\n<li>java 8</li>\n</ul>\n\n<p>I have done the same, my Spring STS is recognizing all class but when i am annotating my main class with @SpringBootApplication it's not recognizing this class whereas i could see jar was available in the class path. </p>\n\n<p><strong>I have following to resolve issues</strong> </p>\n\n<ul>\n<li>Replaced my Spring Boot 1.4.2.RELEASE  to 1.5.3.RELEASE  </li>\n<li>Right click on project and -> Maven-> Download Resources</li>\n<li>right click on project -> Maven-> Update project</li>\n</ul>\n\n<p>After that it worked.</p>\n\n<p>Thanks </p>\n"},{"tags":[],"owner":{"account_id":12886199,"reputation":91,"user_id":9319589,"display_name":"Sumit Sahoo"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1517884342,"creation_date":1517881735,"answer_id":48634281,"question_id":33301073,"body_markdown":"If the below step not work:\r\n\r\nReplaced my Spring Boot 1.4.2.RELEASE to 1.5.10.RELEASE\r\n\r\n- Right click on project and -&gt; Maven-&gt; Download Resources\r\n- right click on project -&gt; Maven-&gt; Update project\r\n\r\nThe reason for this error might be multiple version of the same is downloaded into your maven local repository folder.\r\n\r\nSo follow below steps to clear all existing repository jars and download all from beginning based on dependencies defined in your POM.xml..\r\n\r\n1. Go to build path . Check Maven Repository in the libraries added section.&lt;br&gt;\r\n2. Choose any jar and mousehover .. it will show the local repository location.\r\ngenerally it is : user/.m2/repository/....&lt;br&gt;\r\n3. Go to the location . and remove the repository folder contains.&lt;br&gt;\r\n4. Now right click on your project .. do Maven --&gt; maven update. &lt;br&gt;\r\nThis will solve your dependencies problem . as Maven will try to download all the items again from repository and build the project.","title":"Spring Boot application can&#39;t resolve the org.springframework.boot package","body":"<p>If the below step not work:</p>\n\n<p>Replaced my Spring Boot 1.4.2.RELEASE to 1.5.10.RELEASE</p>\n\n<ul>\n<li>Right click on project and -> Maven-> Download Resources</li>\n<li>right click on project -> Maven-> Update project</li>\n</ul>\n\n<p>The reason for this error might be multiple version of the same is downloaded into your maven local repository folder.</p>\n\n<p>So follow below steps to clear all existing repository jars and download all from beginning based on dependencies defined in your POM.xml..</p>\n\n<ol>\n<li>Go to build path . Check Maven Repository in the libraries added section.<br></li>\n<li>Choose any jar and mousehover .. it will show the local repository location.\ngenerally it is : user/.m2/repository/....<br></li>\n<li>Go to the location . and remove the repository folder contains.<br></li>\n<li>Now right click on your project .. do Maven --> maven update. <br>\nThis will solve your dependencies problem . as Maven will try to download all the items again from repository and build the project.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":14275709,"reputation":1,"user_id":10311901,"display_name":"Swapnil Taletiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536004292,"creation_date":1536004292,"answer_id":52155550,"question_id":33301073,"body_markdown":"Maybe there is a problem with the JAR files in the local Maven repository. Try deleting the .m2/repository folder and hit Maven -&gt; Update Project... another time to trigger Maven to download the dependencies again. I tried it and it worked for me.","title":"Spring Boot application can&#39;t resolve the org.springframework.boot package","body":"<p>Maybe there is a problem with the JAR files in the local Maven repository. Try deleting the .m2/repository folder and hit Maven -> Update Project... another time to trigger Maven to download the dependencies again. I tried it and it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":3372834,"reputation":31,"user_id":2831682,"display_name":"Gaurav sharan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1539217535,"creation_date":1539217535,"answer_id":52750463,"question_id":33301073,"body_markdown":"In my project, updated the dependency on spring-boot-starter-parent from 2.0.0.release to 2.0.5.relese.\r\nDoing this resolved the issue The import org.springframework.boot.SpringApplication cannot be resolved","title":"Spring Boot application can&#39;t resolve the org.springframework.boot package","body":"<p>In my project, updated the dependency on spring-boot-starter-parent from 2.0.0.release to 2.0.5.relese.\nDoing this resolved the issue The import org.springframework.boot.SpringApplication cannot be resolved</p>\n"},{"tags":[],"owner":{"account_id":15156369,"reputation":287,"user_id":10937031,"display_name":"Yagmur SAHIN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550568809,"creation_date":1550568809,"answer_id":54762888,"question_id":33301073,"body_markdown":"It&#39;s not necessary to remove relative path. Just change the version parent of springframework boot. The following version 2.1.2 works successfully.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.appsdeveloperblog.app.ws&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;mobile-app-ws&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;mobile-app-ws&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.appsdeveloperblog.app.ws&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mobile-app-ws&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"Spring Boot application can&#39;t resolve the org.springframework.boot package","body":"<p>It's not necessary to remove relative path. Just change the version parent of springframework boot. The following version 2.1.2 works successfully.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.appsdeveloperblog.app.ws&lt;/groupId&gt;\n    &lt;artifactId&gt;mobile-app-ws&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;mobile-app-ws&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.appsdeveloperblog.app.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;mobile-app-ws&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7707093,"reputation":43,"user_id":5837720,"display_name":"demonoga"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551713969,"creation_date":1551713969,"answer_id":54986578,"question_id":33301073,"body_markdown":"Mine worked by adding\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-autoconfigure --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.3.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\ninstead of directly using other main dependencies, I have no idea why.","title":"Spring Boot application can&#39;t resolve the org.springframework.boot package","body":"<p>Mine worked by adding</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-autoconfigure --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n    &lt;version&gt;2.1.3.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>instead of directly using other main dependencies, I have no idea why.</p>\n"},{"tags":[],"owner":{"account_id":7117903,"reputation":435,"user_id":5443486,"display_name":"Sang9xpro"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1555169831,"creation_date":1555169831,"answer_id":55667135,"question_id":33301073,"body_markdown":"Solution is change the version of Spring in file pom.xml\r\n\r\n    &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.5.9.RELEASE&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\r\n","title":"Spring Boot application can&#39;t resolve the org.springframework.boot package","body":"<p>Solution is change the version of Spring in file pom.xml</p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9416915,"reputation":4211,"user_id":7004388,"accept_rate":67,"display_name":"codrp"},"score":0,"creation_date":1556313147,"post_id":55874881,"comment_id":98409776,"body_markdown":"This seems to be more like a comment. Please do not post comments as answers.","body":"This seems to be more like a comment. Please do not post comments as answers."}],"tags":[],"owner":{"account_id":10358431,"reputation":1,"user_id":7639603,"display_name":"CM Samota"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1556312398,"creation_date":1556312398,"answer_id":55874881,"question_id":33301073,"body_markdown":"Delete the repository folder from &quot;C:\\Users\\usename\\.m2&quot; and create again or update maven project. ","title":"Spring Boot application can&#39;t resolve the org.springframework.boot package","body":"<p>Delete the repository folder from \"C:\\Users\\usename.m2\" and create again or update maven project. </p>\n"},{"tags":[],"owner":{"account_id":6496171,"reputation":2374,"user_id":5028715,"display_name":"hbamithkumara"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1615263614,"creation_date":1556781617,"answer_id":55947444,"question_id":33301073,"body_markdown":" Try this, It might work for you too.\r\n\r\n 1. Open command prompt and go to the project folder. \r\n 2. Build project (For Maven, Run **mvn clean install** and For Gradle, Run **gradle clean build**)\r\n 3. After successful build,\r\n    - Open your project on any IDE (intellij / eclipse).\r\n    - Restart your IDE incase it is already opened.\r\n\r\nThis worked for me on both v2.1 and v2.4","title":"Spring Boot application can&#39;t resolve the org.springframework.boot package","body":"<p>Try this, It might work for you too.</p>\n<ol>\n<li>Open command prompt and go to the project folder.</li>\n<li>Build project (For Maven, Run <strong>mvn clean install</strong> and For Gradle, Run <strong>gradle clean build</strong>)</li>\n<li>After successful build,\n<ul>\n<li>Open your project on any IDE (intellij / eclipse).</li>\n<li>Restart your IDE incase it is already opened.</li>\n</ul>\n</li>\n</ol>\n<p>This worked for me on both v2.1 and v2.4</p>\n"},{"tags":[],"owner":{"account_id":11768599,"reputation":375,"user_id":8612338,"display_name":"Charles Julien"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565684000,"creation_date":1565684000,"answer_id":57473670,"question_id":33301073,"body_markdown":"This answer may be out of topic for most of readers. In my case the dependency didn&#39;t update and &quot;mvn clean&quot; didn&#39;t work since my wifi network at the office is highly securised, leaving a &quot;connection timed out&quot;. (same respect github pushes and pulls don&#39;t work)\r\nI just moved to teathering with my phone and it works. \r\nStupid, out of topic for most, but it may help some very specific cases.","title":"Spring Boot application can&#39;t resolve the org.springframework.boot package","body":"<p>This answer may be out of topic for most of readers. In my case the dependency didn't update and \"mvn clean\" didn't work since my wifi network at the office is highly securised, leaving a \"connection timed out\". (same respect github pushes and pulls don't work)\nI just moved to teathering with my phone and it works. \nStupid, out of topic for most, but it may help some very specific cases.</p>\n"},{"tags":[],"owner":{"account_id":16560617,"reputation":91,"user_id":11966626,"display_name":"Tina"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572249822,"creation_date":1572249822,"answer_id":58587406,"question_id":33301073,"body_markdown":"I have this problem when using STS. After edited something, I see that, some workspaces\r\n when create a project will happen this problem, and others will not. So I just create a new project in workspaces will not happen.","title":"Spring Boot application can&#39;t resolve the org.springframework.boot package","body":"<p>I have this problem when using STS. After edited something, I see that, some workspaces\n when create a project will happen this problem, and others will not. So I just create a new project in workspaces will not happen.</p>\n"},{"tags":[],"owner":{"account_id":9330948,"reputation":2709,"user_id":7179509,"accept_rate":78,"display_name":"Maksym"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599223928,"creation_date":1599223928,"answer_id":63741580,"question_id":33301073,"body_markdown":"After upgrading Spring boot to the latest version - 2.3.3.RELEASE. I also got this error - `Cannot resolve org.springframework.boot:spring-boot-starter-test:unknown`. Maven clean install, updating maven project, cleaning cache do not help.&lt;br&gt;\r\nThe solution was adding version placeholder from spring boot parent pom: \r\n\r\n     &lt;dependency&gt;\r\n       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n       &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n       &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n       &lt;scope&gt;test&lt;/scope&gt;\r\n     &lt;/dependency&gt;","title":"Spring Boot application can&#39;t resolve the org.springframework.boot package","body":"<p>After upgrading Spring boot to the latest version - 2.3.3.RELEASE. I also got this error - <code>Cannot resolve org.springframework.boot:spring-boot-starter-test:unknown</code>. Maven clean install, updating maven project, cleaning cache do not help.<br>\nThe solution was adding version placeholder from spring boot parent pom:</p>\n<pre><code> &lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n   &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n   &lt;scope&gt;test&lt;/scope&gt;\n &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8139998,"reputation":1398,"user_id":6130501,"display_name":"Adir Dayan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629118609,"creation_date":1629118609,"answer_id":68803223,"question_id":33301073,"body_markdown":"For me it was solved after removed the word `.RELEASE`\r\n\r\n    &lt;version&gt;2.5.3&lt;/version&gt;\r\n\r\ninstead of\r\n\r\n    &lt;version&gt;2.5.3.RELEASE&lt;/version&gt;","title":"Spring Boot application can&#39;t resolve the org.springframework.boot package","body":"<p>For me it was solved after removed the word <code>.RELEASE</code></p>\n<pre><code>&lt;version&gt;2.5.3&lt;/version&gt;\n</code></pre>\n<p>instead of</p>\n<pre><code>&lt;version&gt;2.5.3.RELEASE&lt;/version&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16425204,"reputation":959,"user_id":11865450,"display_name":"Vivek Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664274593,"creation_date":1664274593,"answer_id":73866115,"question_id":33301073,"body_markdown":"add **&lt;version&gt;${project.parent.version}&lt;/version&gt;** in build - plugin section \r\nfor spring-boot-maven-plugin and load changes in pom.xml\r\n   \r\n \r\n\r\n    &lt;build&gt;\r\n    \t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t&lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"Spring Boot application can&#39;t resolve the org.springframework.boot package","body":"<p>add <strong>${project.parent.version}</strong> in build - plugin section\nfor spring-boot-maven-plugin and load changes in pom.xml</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${project.parent.version}&lt;/version&gt;\n            &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19908331,"reputation":23,"user_id":14586857,"display_name":"engineerdavut"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667465606,"creation_date":1667465606,"answer_id":74300299,"question_id":33301073,"body_markdown":"I was constantly getting the same error. I was getting error after plugin updates and eclipse update. I had spring boot and necessary plugins installed in eclipse. But the option to create a spring boot project was not appearing. I understood that it was not seeing the spring boot plugin. I also deleted eclipse. I reinstalled eclipse. I reinstalled the plugins. Problem solved. The simplest solution.\r\nSolution -&gt; Delete Eclipse -&gt;(Optional Delete .m2,.p2,etc.) -&gt; Install Eclipse -&gt; Installing required plugins.(eclipse web developer tools, eclipse m2e,spring tools).","title":"Spring Boot application can&#39;t resolve the org.springframework.boot package","body":"<p>I was constantly getting the same error. I was getting error after plugin updates and eclipse update. I had spring boot and necessary plugins installed in eclipse. But the option to create a spring boot project was not appearing. I understood that it was not seeing the spring boot plugin. I also deleted eclipse. I reinstalled eclipse. I reinstalled the plugins. Problem solved. The simplest solution.\nSolution -&gt; Delete Eclipse -&gt;(Optional Delete .m2,.p2,etc.) -&gt; Install Eclipse -&gt; Installing required plugins.(eclipse web developer tools, eclipse m2e,spring tools).</p>\n"},{"tags":[],"owner":{"account_id":14422718,"reputation":1,"user_id":10418354,"display_name":"yugmesh sonawane"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669191257,"creation_date":1669191257,"answer_id":74543578,"question_id":33301073,"body_markdown":"In my case it was silly mistake I added dependency from Spring initializer where I mistook choosing gradle project instead of maven Project","title":"Spring Boot application can&#39;t resolve the org.springframework.boot package","body":"<p>In my case it was silly mistake I added dependency from Spring initializer where I mistook choosing gradle project instead of maven Project</p>\n"}],"owner":{"account_id":3014525,"reputation":557,"user_id":2557088,"accept_rate":45,"display_name":"Orel Bitton"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254562,"favorite_count":0,"down_vote_count":1,"up_vote_count":42,"answer_count":21,"score":41,"last_activity_date":1694938643,"creation_date":1445599123,"question_id":33301073,"body_markdown":"I have set up a spring boot project using the [Spring Initializer](http://start.spring.io), I tried several times to create a new project or play with the dependencies, everything seems to be in place.\r\n\r\nI am using STS(Spring Tool Suite) and it shows errors about the imports from the`org.springframework.boot` package. Running the application throws an exception:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation\r\n&gt; problem:  \tSpringApplication cannot be resolved.\r\n\r\n\r\ncom.example.DemoApplication:\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class DemoApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(DemoApplication.class, args);\r\n        }\r\n    }\r\n\r\npom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.2.7.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t    &lt;start-class&gt;com.example.DemoApplication&lt;/start-class&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \t\r\n    \r\n    &lt;/project&gt;\r\n\r\nI am using Java 1.8 with STS.","title":"Spring Boot application can&#39;t resolve the org.springframework.boot package","body":"<p>I have set up a spring boot project using the <a href=\"http://start.spring.io\" rel=\"noreferrer\">Spring Initializer</a>, I tried several times to create a new project or play with the dependencies, everything seems to be in place.</p>\n\n<p>I am using STS(Spring Tool Suite) and it shows errors about the imports from the<code>org.springframework.boot</code> package. Running the application throws an exception:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.Error: Unresolved compilation\n  problem:      SpringApplication cannot be resolved.</p>\n</blockquote>\n\n<p>com.example.DemoApplication:</p>\n\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n}\n</code></pre>\n\n<p>pom.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.2.7.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;start-class&gt;com.example.DemoApplication&lt;/start-class&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p>I am using Java 1.8 with STS.</p>\n"},{"tags":["java","hibernate","many-to-many"],"comments":[{"owner":{"account_id":256642,"reputation":6092,"user_id":537503,"accept_rate":42,"display_name":"Andy Dufresne"},"score":0,"creation_date":1418964907,"post_id":27542322,"comment_id":43545990,"body_markdown":"The error seems to be because of some mysql jdbc configuration but since it works in one scenario, can you update the post with the hibernate queries that are executed when question.setTags(tagList) is NOT called?","body":"The error seems to be because of some mysql jdbc configuration but since it works in one scenario, can you update the post with the hibernate queries that are executed when question.setTags(tagList) is NOT called?"},{"owner":{"account_id":337184,"reputation":92,"user_id":665306,"display_name":"mikemelon"},"score":0,"creation_date":1419162576,"post_id":27542322,"comment_id":43602225,"body_markdown":"Hibernate: insert into javaqa2.qa_question (creator_id, subject, content, creator_ip, question_tags, upvote_cnt, downvote_cnt, visit_cnt, answer_cnt, comment_cnt, istopmost, islocked, isanonym, create_date) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\nHibernate: insert into javaqa2.qa_tag (creator_id, name, description, create_date, used_cnt) values (?, ?, ?, ?, ?)\nHibernate: insert into javaqa2.qa_tag (creator_id, name, description, create_date, used_cnt) values (?, ?, ?, ?, ?)\nHibernate: insert into qa_question_tags (question_id, tag_id) values (?, ?)","body":"Hibernate: insert into javaqa2.qa_question (creator_id, subject, content, creator_ip, question_tags, upvote_cnt, downvote_cnt, visit_cnt, answer_cnt, comment_cnt, istopmost, islocked, isanonym, create_date) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) Hibernate: insert into javaqa2.qa_tag (creator_id, name, description, create_date, used_cnt) values (?, ?, ?, ?, ?) Hibernate: insert into javaqa2.qa_tag (creator_id, name, description, create_date, used_cnt) values (?, ?, ?, ?, ?) Hibernate: insert into qa_question_tags (question_id, tag_id) values (?, ?)"},{"owner":{"account_id":337184,"reputation":92,"user_id":665306,"display_name":"mikemelon"},"score":0,"creation_date":1419162812,"post_id":27542322,"comment_id":43602278,"body_markdown":"@Andy Dufresne, I firtly suspected jdbc configuration too. However, the query when setTag(tagList) is not called is above and seems normal. Sorry, the comment is not formatted well.","body":"@Andy Dufresne, I firtly suspected jdbc configuration too. However, the query when setTag(tagList) is not called is above and seems normal. Sorry, the comment is not formatted well."},{"owner":{"account_id":256642,"reputation":6092,"user_id":537503,"accept_rate":42,"display_name":"Andy Dufresne"},"score":0,"creation_date":1419171973,"post_id":27542322,"comment_id":43604348,"body_markdown":"Do you know why the insert on the qa_question table is executed before the insert queries on qa_tag. The above code indicates that tags are saved first and then question.","body":"Do you know why the insert on the qa_question table is executed before the insert queries on qa_tag. The above code indicates that tags are saved first and then question."},{"owner":{"account_id":337184,"reputation":92,"user_id":665306,"display_name":"mikemelon"},"score":0,"creation_date":1419173992,"post_id":27542322,"comment_id":43604918,"body_markdown":"Sorry, I run my program again, and the insert on qa_tag table is before qa_question. Perhaps I changed the save() order. Thus I have edited my question.","body":"Sorry, I run my program again, and the insert on qa_tag table is before qa_question. Perhaps I changed the save() order. Thus I have edited my question."},{"owner":{"account_id":337184,"reputation":92,"user_id":665306,"display_name":"mikemelon"},"score":0,"creation_date":1419174396,"post_id":27542322,"comment_id":43605038,"body_markdown":"However, @Andy Defresne, thanks for your carefulness and patience, I have found the point in Hibernate queries. &quot;insert into qa_question_tags(...)&quot; is absent of the catalog &quot;javaqa2&quot; compared with &quot;insert into javaqa2.qa_question(...)&quot;.","body":"However, @Andy Defresne, thanks for your carefulness and patience, I have found the point in Hibernate queries. &quot;insert into qa_question_tags(...)&quot; is absent of the catalog &quot;javaqa2&quot; compared with &quot;insert into javaqa2.qa_question(...)&quot;."}],"answers":[{"tags":[],"owner":{"account_id":337184,"reputation":92,"user_id":665306,"display_name":"mikemelon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419175847,"creation_date":1419175170,"answer_id":27590725,"question_id":27542322,"body_markdown":"I have found the point in my hibernate queries, thanks for the patience and carefulness of @Andy Defresne .\r\n\r\nIn the log below:\r\n\r\n    Hibernate: insert into javaqa2.qa_tag (creator_id, name, description, create_date, used_cnt) values (?, ?, ?, ?, ?)\r\n    Hibernate: insert into javaqa2.qa_tag (creator_id, name, description, create_date, used_cnt) values (?, ?, ?, ?, ?)\r\n    Hibernate: insert into javaqa2.qa_question (creator_id, subject, content, creator_ip, question_tags, upvote_cnt, downvote_cnt, visit_cnt, answer_cnt, comment_cnt, istopmost, islocked, isanonym, create_date) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\r\n    Hibernate: insert into qa_question_tags (question_id, tag_id) values (?, ?)\r\n    Hibernate: insert into qa_question_tags (question_id, tag_id) values (?, ?)\r\n\r\nThe last two lines of &quot;insert into qa_question_tags&quot; are absent of &quot;javaqa.&quot; catalog.\r\n\r\nSo I add the following property **catalog=&quot;javaqa2&quot;** in the Question.hbm.xml :\r\n\r\n    &lt;set name=&quot;tags&quot; table=&quot;qa_question_tags&quot; lazy=&quot;true&quot; cascade=&quot;all&quot; catalog=&quot;javaqa2&quot;&gt;\r\n            &lt;key column=&quot;question_id&quot;/&gt;\r\n            &lt;many-to-many class=&quot;model.Tag&quot; column=&quot;tag_id&quot;/&gt;\r\n    &lt;/set&gt;\r\n\r\nThen the problem is solved and the error disappears.\r\n\r\nTo be complete , I post my Question.hbm.xml, and found catalog properties set in the `&lt;class&gt;` tag is not enough, it must be set in the   `&lt;set&gt;`  tag again:\r\n\r\n    &lt;hibernate-mapping&gt;\r\n        &lt;class name=&quot;model.Question&quot; table=&quot;qa_question&quot; catalog=&quot;javaqa2&quot;&gt;\r\n            ...\r\n           &lt;set name=&quot;tags&quot; table=&quot;qa_question_tags&quot; lazy=&quot;true&quot; cascade=&quot;all&quot; catalog=&quot;javaqa2&quot;&gt;\r\n            &lt;key column=&quot;question_id&quot;/&gt;\r\n            &lt;many-to-many class=&quot;model.Tag&quot; column=&quot;tag_id&quot;/&gt;\r\n           &lt;/set&gt; \r\n        &lt;/class&gt;\r\n    &lt;/hibernate-mapping&gt;","title":"I get an error message &quot;Could not execute JDBC batch update&quot; when using hibernate &quot;Many to Many&quot;","body":"<p>I have found the point in my hibernate queries, thanks for the patience and carefulness of @Andy Defresne .</p>\n\n<p>In the log below:</p>\n\n<pre><code>Hibernate: insert into javaqa2.qa_tag (creator_id, name, description, create_date, used_cnt) values (?, ?, ?, ?, ?)\nHibernate: insert into javaqa2.qa_tag (creator_id, name, description, create_date, used_cnt) values (?, ?, ?, ?, ?)\nHibernate: insert into javaqa2.qa_question (creator_id, subject, content, creator_ip, question_tags, upvote_cnt, downvote_cnt, visit_cnt, answer_cnt, comment_cnt, istopmost, islocked, isanonym, create_date) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\nHibernate: insert into qa_question_tags (question_id, tag_id) values (?, ?)\nHibernate: insert into qa_question_tags (question_id, tag_id) values (?, ?)\n</code></pre>\n\n<p>The last two lines of \"insert into qa_question_tags\" are absent of \"javaqa.\" catalog.</p>\n\n<p>So I add the following property <strong>catalog=\"javaqa2\"</strong> in the Question.hbm.xml :</p>\n\n<pre><code>&lt;set name=\"tags\" table=\"qa_question_tags\" lazy=\"true\" cascade=\"all\" catalog=\"javaqa2\"&gt;\n        &lt;key column=\"question_id\"/&gt;\n        &lt;many-to-many class=\"model.Tag\" column=\"tag_id\"/&gt;\n&lt;/set&gt;\n</code></pre>\n\n<p>Then the problem is solved and the error disappears.</p>\n\n<p>To be complete , I post my Question.hbm.xml, and found catalog properties set in the <code>&lt;class&gt;</code> tag is not enough, it must be set in the   <code>&lt;set&gt;</code>  tag again:</p>\n\n<pre><code>&lt;hibernate-mapping&gt;\n    &lt;class name=\"model.Question\" table=\"qa_question\" catalog=\"javaqa2\"&gt;\n        ...\n       &lt;set name=\"tags\" table=\"qa_question_tags\" lazy=\"true\" cascade=\"all\" catalog=\"javaqa2\"&gt;\n        &lt;key column=\"question_id\"/&gt;\n        &lt;many-to-many class=\"model.Tag\" column=\"tag_id\"/&gt;\n       &lt;/set&gt; \n    &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n"}],"owner":{"account_id":337184,"reputation":92,"user_id":665306,"display_name":"mikemelon"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11335,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694937840,"creation_date":1418892049,"question_id":27542322,"body_markdown":"I configured a &quot;question-tag&quot; Many-to-Many relationship.in Hibernate\r\nWhen I test it with a small program, it has the follwing error:\r\n(My Hibernate version is 3.1)\r\n\r\n\r\n    log4j:WARN No appenders could be found for logger (org.hibernate.cfg.Environment).\r\n    log4j:WARN Please initialize the log4j system properly.\r\n    Hibernate: insert into javaqa2.qa_tag (creator_id, name, description, create_date, used_cnt) values (?, ?, ?, ?, ?)\r\n    Hibernate: insert into javaqa2.qa_tag (creator_id, name, description, create_date, used_cnt) values (?, ?, ?, ?, ?)\r\n    Hibernate: insert into javaqa2.qa_question (creator_id, subject, content, creator_ip, question_tags, upvote_cnt, downvote_cnt, visit_cnt, answer_cnt, comment_cnt, istopmost, islocked, isanonym, create_date) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\r\n    Hibernate: insert into qa_question_tags (question_id, tag_id) values (?, ?)\r\n    Hibernate: insert into qa_question_tags (question_id, tag_id) values (?, ?)\r\n    Exception in thread &quot;main&quot; org.hibernate.exception.GenericJDBCException: Could not execute JDBC batch update\r\n    \tat org.hibernate.exception.SQLStateConverter.handledNonSpecificException(SQLStateConverter.java:103)\r\n    \tat org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:91)\r\n    \tat org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:43)\r\n    \tat org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:202)\r\n    \tat org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:235)\r\n    \tat org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:143)\r\n    \tat org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:297)\r\n    \tat org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:27)\r\n    \tat org.hibernate.impl.SessionImpl.flush(SessionImpl.java:985)\r\n    \tat org.hibernate.impl.SessionImpl.managedFlush(SessionImpl.java:333)\r\n    \tat org.hibernate.transaction.JDBCTransaction.commit(JDBCTransaction.java:106)\r\n    \tat test.Test1.main(Test1.java:49)\r\n    Caused by: java.sql.BatchUpdateException: No database selected\r\n    \tat com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:1669)\r\n    \tat com.mysql.jdbc.PreparedStatement.executeBatch(PreparedStatement.java:1085)\r\n    \tat org.hibernate.jdbc.BatchingBatcher.doExecuteBatch(BatchingBatcher.java:58)\r\n    \tat org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:195)\r\n    \t... 8 more\r\n\r\nThis is my Test Program:\r\npublic class Test1 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tConfiguration cfg=new Configuration().configure();\r\n\t\tSessionFactory sf=cfg.buildSessionFactory();\r\n\t\tSession session = sf.openSession();\r\n\t\tTransaction trans = session.beginTransaction();\r\n\t\t\r\n\t\tStudent student = (Student)session.load(Student.class, Integer.valueOf(45));\r\n\t\tQuestion question=new Question(student, &quot;test8881&quot;,&quot;test8882&quot;,\r\n\t\t\t\t&quot;192.168,88.88&quot;,&quot;Java,dotNet,Struts2&quot;,\t0,0,0,0,0,\r\n\t\t\t\tBoolean.FALSE, Boolean.FALSE, Boolean.FALSE,\r\n\t\t\t\tnew Date());\r\n\t\tTag tag1=new Tag(student,&quot;test tag1&quot;,&quot;test tag1&quot;,new Date(),0);\r\n\t\tTag tag2=new Tag(student,&quot;test tag2&quot;,&quot;test tag2&quot;,new Date(),0);\r\n\t\t\r\n\t\tsession.save(tag1);\r\n\t\tsession.save(tag2);\r\n\t\t\r\n\t\tSet&lt;Tag&gt; tagList =new HashSet&lt;Tag&gt;();\r\n\t\ttagList.add(tag1);\r\n\t\ttagList.add(tag2);\r\n\t\r\n\t\tquestion.setTags(tagList); // when add this line... error occurs\r\n\t\t\r\n\t\tsession.save(question);\r\n\t\ttrans.commit();\r\n\t}\r\n\r\n**This program runs well when the method setTags(tagList)  is not called for question,\r\nhowever, when I add this method call, the error occurs. (see the comment in the program).**\r\n\r\nThis is the portion of Question.hbm.xml defined Many-to-Many properties.\r\n \r\n        &lt;set name=&quot;tags&quot; table=&quot;qa_question_tags&quot; lazy=&quot;true&quot; cascade=&quot;all&quot;&gt;\r\n        \t&lt;key column=&quot;question_id&quot;/&gt;\r\n        \t&lt;many-to-many class=&quot;model.Tag&quot; column=&quot;tag_id&quot;/&gt;\r\n        &lt;/set&gt;\r\n\r\nI have set the following property in my hibernate.cfg.xml to ensure the table will be updated automatically. \r\n\r\n    &lt;property name=&quot;hbm2ddl.auto&quot;&gt; update &lt;/property&gt;\r\n\r\nI was confused with the error message, and please tell me where is the wrong?","title":"I get an error message &quot;Could not execute JDBC batch update&quot; when using hibernate &quot;Many to Many&quot;","body":"<p>I configured a \"question-tag\" Many-to-Many relationship.in Hibernate\nWhen I test it with a small program, it has the follwing error:\n(My Hibernate version is 3.1)</p>\n\n<pre><code>log4j:WARN No appenders could be found for logger (org.hibernate.cfg.Environment).\nlog4j:WARN Please initialize the log4j system properly.\nHibernate: insert into javaqa2.qa_tag (creator_id, name, description, create_date, used_cnt) values (?, ?, ?, ?, ?)\nHibernate: insert into javaqa2.qa_tag (creator_id, name, description, create_date, used_cnt) values (?, ?, ?, ?, ?)\nHibernate: insert into javaqa2.qa_question (creator_id, subject, content, creator_ip, question_tags, upvote_cnt, downvote_cnt, visit_cnt, answer_cnt, comment_cnt, istopmost, islocked, isanonym, create_date) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\nHibernate: insert into qa_question_tags (question_id, tag_id) values (?, ?)\nHibernate: insert into qa_question_tags (question_id, tag_id) values (?, ?)\nException in thread \"main\" org.hibernate.exception.GenericJDBCException: Could not execute JDBC batch update\n    at org.hibernate.exception.SQLStateConverter.handledNonSpecificException(SQLStateConverter.java:103)\n    at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:91)\n    at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:43)\n    at org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:202)\n    at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:235)\n    at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:143)\n    at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:297)\n    at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:27)\n    at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:985)\n    at org.hibernate.impl.SessionImpl.managedFlush(SessionImpl.java:333)\n    at org.hibernate.transaction.JDBCTransaction.commit(JDBCTransaction.java:106)\n    at test.Test1.main(Test1.java:49)\nCaused by: java.sql.BatchUpdateException: No database selected\n    at com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:1669)\n    at com.mysql.jdbc.PreparedStatement.executeBatch(PreparedStatement.java:1085)\n    at org.hibernate.jdbc.BatchingBatcher.doExecuteBatch(BatchingBatcher.java:58)\n    at org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:195)\n    ... 8 more\n</code></pre>\n\n<p>This is my Test Program:\npublic class Test1 {</p>\n\n<pre><code>public static void main(String[] args) {\n    Configuration cfg=new Configuration().configure();\n    SessionFactory sf=cfg.buildSessionFactory();\n    Session session = sf.openSession();\n    Transaction trans = session.beginTransaction();\n\n    Student student = (Student)session.load(Student.class, Integer.valueOf(45));\n    Question question=new Question(student, \"test8881\",\"test8882\",\n            \"192.168,88.88\",\"Java,dotNet,Struts2\",  0,0,0,0,0,\n            Boolean.FALSE, Boolean.FALSE, Boolean.FALSE,\n            new Date());\n    Tag tag1=new Tag(student,\"test tag1\",\"test tag1\",new Date(),0);\n    Tag tag2=new Tag(student,\"test tag2\",\"test tag2\",new Date(),0);\n\n    session.save(tag1);\n    session.save(tag2);\n\n    Set&lt;Tag&gt; tagList =new HashSet&lt;Tag&gt;();\n    tagList.add(tag1);\n    tagList.add(tag2);\n\n    question.setTags(tagList); // when add this line... error occurs\n\n    session.save(question);\n    trans.commit();\n}\n</code></pre>\n\n<p><strong>This program runs well when the method setTags(tagList)  is not called for question,\nhowever, when I add this method call, the error occurs. (see the comment in the program).</strong></p>\n\n<p>This is the portion of Question.hbm.xml defined Many-to-Many properties.</p>\n\n<pre><code>    &lt;set name=\"tags\" table=\"qa_question_tags\" lazy=\"true\" cascade=\"all\"&gt;\n        &lt;key column=\"question_id\"/&gt;\n        &lt;many-to-many class=\"model.Tag\" column=\"tag_id\"/&gt;\n    &lt;/set&gt;\n</code></pre>\n\n<p>I have set the following property in my hibernate.cfg.xml to ensure the table will be updated automatically. </p>\n\n<pre><code>&lt;property name=\"hbm2ddl.auto\"&gt; update &lt;/property&gt;\n</code></pre>\n\n<p>I was confused with the error message, and please tell me where is the wrong?</p>\n"},{"tags":["java","android","unity-game-engine","sdk"],"comments":[{"owner":{"display_name":"user9081948"},"score":0,"creation_date":1514811533,"post_id":48049786,"comment_id":83071365,"body_markdown":"Can you tell me What folders are under your C:\\Program Files\\Java ?","body":"Can you tell me What folders are under your C:\\Program Files\\Java ?"},{"owner":{"account_id":10591913,"reputation":125,"user_id":7802172,"accept_rate":100,"display_name":"RealAnyOne"},"score":0,"creation_date":1514811609,"post_id":48049786,"comment_id":83071391,"body_markdown":"Only one: jre1.8.0_151. So probably I don&#39;t have the JDK, but downloading isn&#39;t working either. I read that in some countries Java or JDK isn&#39;t available, but my country is listed in this link: http://www.oracle.com/technetwork/java/javase/javase7locales-334809.html","body":"Only one: jre1.8.0_151. So probably I don&#39;t have the JDK, but downloading isn&#39;t working either. I read that in some countries Java or JDK isn&#39;t available, but my country is listed in this link: <a href=\"http://www.oracle.com/technetwork/java/javase/javase7locales-334809.html\" rel=\"nofollow noreferrer\">oracle.com/technetwork/java/javase/javase7locales-334809.htm&zwnj;&#8203;l</a>"},{"owner":{"display_name":"user9081948"},"score":0,"creation_date":1514812227,"post_id":48049786,"comment_id":83071538,"body_markdown":"I just tried and able to download 8u151 version. This might be issue with your internet. Make sure some proxy or firewall is not blocking it.","body":"I just tried and able to download 8u151 version. This might be issue with your internet. Make sure some proxy or firewall is not blocking it."},{"owner":{"display_name":"user9081948"},"score":0,"creation_date":1514812398,"post_id":48049786,"comment_id":83071573,"body_markdown":"If oracle links are not working for you, then u can try other websites like filehippo https://filehippo.com/download_java_development_kit/","body":"If oracle links are not working for you, then u can try other websites like filehippo <a href=\"https://filehippo.com/download_java_development_kit/\" rel=\"nofollow noreferrer\">filehippo.com/download_java_development_kit</a>"},{"owner":{"display_name":"user9081948"},"score":0,"creation_date":1514812579,"post_id":48049786,"comment_id":83071617,"body_markdown":"Try and let me know if my answer helped you fix the issue?","body":"Try and let me know if my answer helped you fix the issue?"},{"owner":{"account_id":10591913,"reputation":125,"user_id":7802172,"accept_rate":100,"display_name":"RealAnyOne"},"score":0,"creation_date":1514812851,"post_id":48049786,"comment_id":83071691,"body_markdown":"Yes. The download doesn&#39;t lead anywhere but I think it does it &quot;silently&quot;? After uninstalling Java I looked for it to see if it was removed, found JavaSetup8u151.exe so I ran that, and just installed Java 8 again. Still all I see is that jre folder.","body":"Yes. The download doesn&#39;t lead anywhere but I think it does it &quot;silently&quot;? After uninstalling Java I looked for it to see if it was removed, found JavaSetup8u151.exe so I ran that, and just installed Java 8 again. Still all I see is that jre folder."},{"owner":{"display_name":"user9081948"},"score":0,"creation_date":1514812930,"post_id":48049786,"comment_id":83071714,"body_markdown":"Where did u found JavaSetup8u151.exe? In your own computer?","body":"Where did u found JavaSetup8u151.exe? In your own computer?"},{"owner":{"account_id":10591913,"reputation":125,"user_id":7802172,"accept_rate":100,"display_name":"RealAnyOne"},"score":0,"creation_date":1514813066,"post_id":48049786,"comment_id":83071745,"body_markdown":"On my pc yes, in the &quot;search&quot;. The download worked from filehippo, I&#39;ll see if it works now.","body":"On my pc yes, in the &quot;search&quot;. The download worked from filehippo, I&#39;ll see if it works now."},{"owner":{"display_name":"user9081948"},"score":0,"creation_date":1514813134,"post_id":48049786,"comment_id":83071758,"body_markdown":"I think the one on your PC is JRE only. Try the one from File hippo.","body":"I think the one on your PC is JRE only. Try the one from File hippo."}],"answers":[{"comments":[{"owner":{"account_id":10591913,"reputation":125,"user_id":7802172,"accept_rate":100,"display_name":"RealAnyOne"},"score":0,"creation_date":1514815292,"post_id":48049917,"comment_id":83072271,"body_markdown":"The download from filehippo worked, thank you very much. Oracle links aren&#39;t loading for me.","body":"The download from filehippo worked, thank you very much. Oracle links aren&#39;t loading for me."},{"owner":{"account_id":7259341,"reputation":1699,"user_id":5536733,"accept_rate":0,"display_name":"Aakash Basu"},"score":1,"creation_date":1561031989,"post_id":48049917,"comment_id":99936426,"body_markdown":"I&#39;ve downloaded Java many times, but this is the first time it is redirecting to the Oracle Sign In page. Trying to download Java 8, did it reach EOL? It says, &quot;The Oracle JDK License has changed for releases starting April 16, 2019.&quot;, am a little confused. Any help?","body":"I&#39;ve downloaded Java many times, but this is the first time it is redirecting to the Oracle Sign In page. Trying to download Java 8, did it reach EOL? It says, &quot;The Oracle JDK License has changed for releases starting April 16, 2019.&quot;, am a little confused. Any help?"}],"tags":[],"owner":{"display_name":"user9081948"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1514812430,"creation_date":1514812064,"answer_id":48049917,"question_id":48049786,"body_markdown":"@RealAnyOne, you have installed Java with JRE only installation i.e., without out a JDK that’s what you see only one folder and this is why it also showing version in the command line since it won’t check for JDK. JRE is Java Runtime Environment, JDK is Java Development Kit which contains many essential libraries. So Ideally there should be two folders JRE and JDK. This is the reason you are getting this issue with Unity. \n\nTo Fix::\n\n1. Uninstall old Java 8\n\n2. Download Java 8 from the oracle website \nhttp://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\n\n3. Install it. Now you should have two folders. Then point your Unity to it.","title":"Can&#39;t download JDK 8","body":"<p>@RealAnyOne, you have installed Java with JRE only installation i.e., without out a JDK that’s what you see only one folder and this is why it also showing version in the command line since it won’t check for JDK. JRE is Java Runtime Environment, JDK is Java Development Kit which contains many essential libraries. So Ideally there should be two folders JRE and JDK. This is the reason you are getting this issue with Unity. </p>\n\n<p>To Fix::</p>\n\n<ol>\n<li><p>Uninstall old Java 8</p></li>\n<li><p>Download Java 8 from the oracle website \n<a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a></p></li>\n<li><p>Install it. Now you should have two folders. Then point your Unity to it.</p></li>\n</ol>\n"}],"owner":{"account_id":10591913,"reputation":125,"user_id":7802172,"accept_rate":100,"display_name":"RealAnyOne"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21943,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":48049917,"answer_count":1,"score":0,"last_activity_date":1694937660,"creation_date":1514810969,"question_id":48049786,"body_markdown":"I&#39;m trying to setup Unity to build for Android. But I can&#39;t get the Java Development Kit. Can&#39;t download it and can&#39;t find it either.\r\n\r\n[In this answer][1], the guy says \r\n\r\n*To ensure JDK is installed, just go through the following :\r\n    press Win + R\r\n    type &#39;cmd&#39; in the popup and press button OK.\r\n    in the console which has opened, type javac -version and press enter.\r\nYou should see as an output :\r\njavac 1.8.0_XX\r\n**If so SDK is installed**.*\r\n\r\nI did that and I got &quot;javac 1.8.0_XX&quot;, and so I assumed I had the JDK, so I went to **Unity &gt; External Tools &gt; JDK** and tried linking the following path: &quot;C:\\Program Files\\Java\\jre1.8.0&quot;, and got the error message: &quot;The path you specified does not look like a valid JDK installation. Android development requires at least JDK(1.7), having JRE only is not enough. Please make sure you are selecting a suitable JDK home directory or download and install the latest JDK: [link][2]&quot;\r\n\r\n**I clicked the download link for windows x64 and it never loads and eventually says there&#39;s no connection. I tried the x86 as well.**\r\n\r\nIn this SO question [How do I find where JDK is installed on my windows machine?][3]\r\n\r\n**Answer:** For windows, in the command prompt: \r\n\r\n    c:\\&gt; for %i in (java.exe) do @echo.   %~$PATH:i\r\n\r\nAnd so I did that and got the path &quot;C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe&quot;\r\n\r\nWhen I try linking via **Unity &gt; External tools &gt; JDK** it doesn&#39;t find any files.\r\n\r\nI&#39;m a bit clueless now.\r\n\r\n  [1]: https://stackoverflow.com/questions/31506112/cant-seem-to-download-jdk-8-can-only-download-jre-8\r\n  [2]: https://www.oracle.com/java/technologies/downloads/\r\n  [3]: https://stackoverflow.com/questions/4681090/how-do-i-find-where-jdk-is-installed-on-my-windows-machine\r","title":"Can&#39;t download JDK 8","body":"<p>I'm trying to setup Unity to build for Android. But I can't get the Java Development Kit. Can't download it and can't find it either.</p>\n<p><a href=\"https://stackoverflow.com/questions/31506112/cant-seem-to-download-jdk-8-can-only-download-jre-8\">In this answer</a>, the guy says</p>\n<p><em>To ensure JDK is installed, just go through the following :\npress Win + R\ntype 'cmd' in the popup and press button OK.\nin the console which has opened, type javac -version and press enter.\nYou should see as an output :\njavac 1.8.0_XX\n<strong>If so SDK is installed</strong>.</em></p>\n<p>I did that and I got &quot;javac 1.8.0_XX&quot;, and so I assumed I had the JDK, so I went to <strong>Unity &gt; External Tools &gt; JDK</strong> and tried linking the following path: &quot;C:\\Program Files\\Java\\jre1.8.0&quot;, and got the error message: &quot;The path you specified does not look like a valid JDK installation. Android development requires at least JDK(1.7), having JRE only is not enough. Please make sure you are selecting a suitable JDK home directory or download and install the latest JDK: <a href=\"https://www.oracle.com/java/technologies/downloads/\" rel=\"nofollow noreferrer\">link</a>&quot;</p>\n<p><strong>I clicked the download link for windows x64 and it never loads and eventually says there's no connection. I tried the x86 as well.</strong></p>\n<p>In this SO question <a href=\"https://stackoverflow.com/questions/4681090/how-do-i-find-where-jdk-is-installed-on-my-windows-machine\">How do I find where JDK is installed on my windows machine?</a></p>\n<p><strong>Answer:</strong> For windows, in the command prompt:</p>\n<pre><code>c:\\&gt; for %i in (java.exe) do @echo.   %~$PATH:i\n</code></pre>\n<p>And so I did that and got the path &quot;C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe&quot;</p>\n<p>When I try linking via <strong>Unity &gt; External tools &gt; JDK</strong> it doesn't find any files.</p>\n<p>I'm a bit clueless now.</p>\n"},{"tags":["java","image","pdf","encryption","aes"],"answers":[{"comments":[{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":1,"creation_date":1613492123,"post_id":66226342,"comment_id":117088378,"body_markdown":"Thanks for the good description. Kindly note that &quot;AES-256 operates on 32 bytes at a time&quot; is not correct, AES has a block size of 16 byte regardless of the chosen key (length), so I think you better edit your answer, thanks.","body":"Thanks for the good description. Kindly note that &quot;AES-256 operates on 32 bytes at a time&quot; is not correct, AES has a block size of 16 byte regardless of the chosen key (length), so I think you better edit your answer, thanks."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1613492436,"post_id":66226342,"comment_id":117088534,"body_markdown":"@MichaelFehr of course - my mistake. I edited the answer.","body":"@MichaelFehr of course - my mistake. I edited the answer."},{"owner":{"account_id":17797446,"reputation":11,"user_id":12924995,"display_name":"Bhoomi Thakkar"},"score":0,"creation_date":1613542358,"post_id":66226342,"comment_id":117103118,"body_markdown":"Thank you for well description @rzwitserloot, I tried with Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;); method, but it gives me parameter missing error, do you have idea about that? I tried to generate iv parameter using SecureRandom and used it but didn&#39;t work.","body":"Thank you for well description @rzwitserloot, I tried with Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;); method, but it gives me parameter missing error, do you have idea about that? I tried to generate iv parameter using SecureRandom and used it but didn&#39;t work."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1613492422,"creation_date":1613485876,"answer_id":66226342,"question_id":66225955,"body_markdown":"Multiple issues with this code.\r\n\r\n1. `&quot;MyDifficultPassw&quot;.getBytes()`\r\n\r\nThis is a bad idea; `getBytes()` converts characters to bytes by decoding them using the &#39;platform default encoding&#39;. Whilst in some future java that may just be hard-locked to UTF-8, that&#39;s not how it works today, which means your actual password (as in, the secret key bytes) depends on the hardware you run it on, which you obviously do not want. Try `.getBytes(StandardCharsets.UTF_8)` instead, now it&#39;ll be consistent no matter what hardware you run it on.\r\n\r\n2. `SecretKeySpec sks = new SecretKeySpec(&quot;MyDifficultPassw&quot;.getBytes(), &quot;AES&quot;);`\r\n\r\nAside from your problem with the charset encoding, there is a larger problem at stake here. Crypto is a lot more complicated than you seem to think it is. There are 3 specific AES ciphers (and &#39;AES&#39; is a group name for all 3 of these). Each of the 3 AES ciphers requires a different sized secret.\r\n\r\nIn other words, you can&#39;t just take a password, shift it to bytes, and call it a day. You need, specifically, 128 bit, 192 bit, or 256 bits (in bytes, divide by 8: 16, 24, or 32 bytes), and nothing else will do. Your example will usually (depends on that encoding!) result in 16 bytes, which means this works and gets you AES128, but this isn&#39;t the usual way to do it. The usual way to do it is to use the password as a &#39;seed&#39; to create 16, 24, or 32 bytes. This lets the user enter any password of any length instead of forcing it to be &#39;a password which, if converted to bytes via UTF-8, ends up being precisely 16, 24, or 32 bytes&#39;.\r\n\r\n```\r\nbyte[] salt = new byte[] {10, 99, 88, 20, 8, 20, 77, 1};\r\nSecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHMacSHA256&quot;);\r\nKeySpec spec = new PBEKeySpec(password.toCharArray(), salt, 65536, 256);\r\nSecretKey secret = new SecretKeySpec(factory.generateSecret(spec).getEncoded(), &quot;AES&quot;);\r\n```\r\n\r\nThis will take the password as provided by the user (`password`), and turns that into a 256-bit key using the PBKDF2 algorithm, which is a good idea, and an SO answer is not the right venue to explain why - feel free to search the web for this information. The &#39;salt&#39; is something that makes it harder to rainbow table the password: It needs to be something hard to guess beforehand, but needs not be particularly secret. You can just hardcode 8 randomly chosen numbers in your source file for it; you&#39;ll need it to decrypt as well.\r\n\r\n3. `Cipher.getInstance(&quot;AES&quot;);`\r\n\r\nCiphers, as used to stream data, are _a lot_ more complicated than this! There are at least 3 factors:\r\n\r\n   A. The algorithm. Okay, you got that: AES.\r\n\r\n   B. padding. These ciphers are _block_ ciphers. They operate on blocks. AES (all variants) operates on 16 bytes at a time (NB: EDITED: This used to state it operates on 16/24/32 bytes; this was incorrect, as pointed out in a comment). __It cannot operate on less or more__. So what if your file&#39;s size does not nicely divide into 16? What if you have a 45 byte file? A padding algorithm defines what to do then. You need one. `PKCS5Padding` is the usual choice.\r\n\r\n   C. chaining mode. This is a more complicated beast: At its core, an encryption algorithm is a mathematical formula that converts one number (in-number) into another number (out-number), and the property of the formula is that, if I give you the out-number, you cannot figure out what the in-number was, other than trying every possible number. However, that does mean that the same in-number encrypts to the same out-number every time. This lets someone observing the encrypted data still spot repeated data, even if they don&#39;t know what is being repeated. This is a huge problem: For example, a picture of a logo will be trivially recognizable. See [the picture of the pinguin](https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation) on this page for an example of why this is important. To solve this problem you can for example &#39;mix&#39; the previous block into the next one, and that solves the problem. The NIST recommended mode is GCM. Note that GCM has more or less built-in padding (I&#39;m oversimplifying), so we can use `NoPadding` instead. Another popular but slightly more problematic chaining mode is CBC, which does require padding:\r\n\r\nSo, let&#39;s fix that: `Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);`, or `Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);`\r\n\r\nApply the same conversions to the decrypt code and you&#39;ve solved your problems... somewhat.\r\n\r\n&gt; how can I solve error and render or download decrypted files faster?\r\n\r\nThis sounds like you&#39;ve messed up on buffering. This has nothing whatsoever to do with your pasted code, but it&#39;s the problem with the in/outputstreams you are handing to this method. Many streams need to be written to / read from in large chunks or they are quite slow. Fix this by wrapping them in `BufferedXStream`.\r\n\r\nbad:\r\n\r\n```\r\ntry (FileOutputStream fos = new FileOutputStream(&quot;encrypted.txt&quot;)) {\r\n    CipherOutputStream cos = encrypt(fos);\r\n     // write data\r\n}\r\n```\r\n\r\ngood:\r\n\r\n```\r\ntry (FileOutputStream fos = new BufferedOutputStream(FileOutputStream(&quot;encrypted.txt&quot;))) {\r\n    CipherOutputStream cos = encrypt(fos);\r\n     // write data\r\n}\r\n```\r\n\r\nPlease be aware that, in general, if you don&#39;t really know what you are doing, the chance the end result will stand up to even casual attempts at hackery are quite low. There isn&#39;t a good solution to this - read up on security, get your code reviewed, try to use more off the shelf stuff instead of handrolling it all. These aren&#39;t guarantees, though.\r\n","title":"Encryption and Decryption of large files using AES algo","body":"<p>Multiple issues with this code.</p>\n<ol>\n<li><code>&quot;MyDifficultPassw&quot;.getBytes()</code></li>\n</ol>\n<p>This is a bad idea; <code>getBytes()</code> converts characters to bytes by decoding them using the 'platform default encoding'. Whilst in some future java that may just be hard-locked to UTF-8, that's not how it works today, which means your actual password (as in, the secret key bytes) depends on the hardware you run it on, which you obviously do not want. Try <code>.getBytes(StandardCharsets.UTF_8)</code> instead, now it'll be consistent no matter what hardware you run it on.</p>\n<ol start=\"2\">\n<li><code>SecretKeySpec sks = new SecretKeySpec(&quot;MyDifficultPassw&quot;.getBytes(), &quot;AES&quot;);</code></li>\n</ol>\n<p>Aside from your problem with the charset encoding, there is a larger problem at stake here. Crypto is a lot more complicated than you seem to think it is. There are 3 specific AES ciphers (and 'AES' is a group name for all 3 of these). Each of the 3 AES ciphers requires a different sized secret.</p>\n<p>In other words, you can't just take a password, shift it to bytes, and call it a day. You need, specifically, 128 bit, 192 bit, or 256 bits (in bytes, divide by 8: 16, 24, or 32 bytes), and nothing else will do. Your example will usually (depends on that encoding!) result in 16 bytes, which means this works and gets you AES128, but this isn't the usual way to do it. The usual way to do it is to use the password as a 'seed' to create 16, 24, or 32 bytes. This lets the user enter any password of any length instead of forcing it to be 'a password which, if converted to bytes via UTF-8, ends up being precisely 16, 24, or 32 bytes'.</p>\n<pre><code>byte[] salt = new byte[] {10, 99, 88, 20, 8, 20, 77, 1};\nSecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHMacSHA256&quot;);\nKeySpec spec = new PBEKeySpec(password.toCharArray(), salt, 65536, 256);\nSecretKey secret = new SecretKeySpec(factory.generateSecret(spec).getEncoded(), &quot;AES&quot;);\n</code></pre>\n<p>This will take the password as provided by the user (<code>password</code>), and turns that into a 256-bit key using the PBKDF2 algorithm, which is a good idea, and an SO answer is not the right venue to explain why - feel free to search the web for this information. The 'salt' is something that makes it harder to rainbow table the password: It needs to be something hard to guess beforehand, but needs not be particularly secret. You can just hardcode 8 randomly chosen numbers in your source file for it; you'll need it to decrypt as well.</p>\n<ol start=\"3\">\n<li><code>Cipher.getInstance(&quot;AES&quot;);</code></li>\n</ol>\n<p>Ciphers, as used to stream data, are <em>a lot</em> more complicated than this! There are at least 3 factors:</p>\n<p>A. The algorithm. Okay, you got that: AES.</p>\n<p>B. padding. These ciphers are <em>block</em> ciphers. They operate on blocks. AES (all variants) operates on 16 bytes at a time (NB: EDITED: This used to state it operates on 16/24/32 bytes; this was incorrect, as pointed out in a comment). <strong>It cannot operate on less or more</strong>. So what if your file's size does not nicely divide into 16? What if you have a 45 byte file? A padding algorithm defines what to do then. You need one. <code>PKCS5Padding</code> is the usual choice.</p>\n<p>C. chaining mode. This is a more complicated beast: At its core, an encryption algorithm is a mathematical formula that converts one number (in-number) into another number (out-number), and the property of the formula is that, if I give you the out-number, you cannot figure out what the in-number was, other than trying every possible number. However, that does mean that the same in-number encrypts to the same out-number every time. This lets someone observing the encrypted data still spot repeated data, even if they don't know what is being repeated. This is a huge problem: For example, a picture of a logo will be trivially recognizable. See <a href=\"https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation\" rel=\"nofollow noreferrer\">the picture of the pinguin</a> on this page for an example of why this is important. To solve this problem you can for example 'mix' the previous block into the next one, and that solves the problem. The NIST recommended mode is GCM. Note that GCM has more or less built-in padding (I'm oversimplifying), so we can use <code>NoPadding</code> instead. Another popular but slightly more problematic chaining mode is CBC, which does require padding:</p>\n<p>So, let's fix that: <code>Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);</code>, or <code>Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);</code></p>\n<p>Apply the same conversions to the decrypt code and you've solved your problems... somewhat.</p>\n<blockquote>\n<p>how can I solve error and render or download decrypted files faster?</p>\n</blockquote>\n<p>This sounds like you've messed up on buffering. This has nothing whatsoever to do with your pasted code, but it's the problem with the in/outputstreams you are handing to this method. Many streams need to be written to / read from in large chunks or they are quite slow. Fix this by wrapping them in <code>BufferedXStream</code>.</p>\n<p>bad:</p>\n<pre><code>try (FileOutputStream fos = new FileOutputStream(&quot;encrypted.txt&quot;)) {\n    CipherOutputStream cos = encrypt(fos);\n     // write data\n}\n</code></pre>\n<p>good:</p>\n<pre><code>try (FileOutputStream fos = new BufferedOutputStream(FileOutputStream(&quot;encrypted.txt&quot;))) {\n    CipherOutputStream cos = encrypt(fos);\n     // write data\n}\n</code></pre>\n<p>Please be aware that, in general, if you don't really know what you are doing, the chance the end result will stand up to even casual attempts at hackery are quite low. There isn't a good solution to this - read up on security, get your code reviewed, try to use more off the shelf stuff instead of handrolling it all. These aren't guarantees, though.</p>\n"},{"comments":[{"owner":{"account_id":1090931,"reputation":2195,"user_id":1085586,"accept_rate":32,"display_name":"Panciz"},"score":0,"creation_date":1695281322,"post_id":77120948,"comment_id":136004023,"body_markdown":"While this code may answer the question, providing additional context regarding how and/or why it solves the problem would improve the answer&#39;s long-term value","body":"While this code may answer the question, providing additional context regarding how and/or why it solves the problem would improve the answer&#39;s long-term value"}],"tags":[],"owner":{"account_id":29464145,"reputation":1,"user_id":22578365,"display_name":"Abhinav Tiwari"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694937442,"creation_date":1694937442,"answer_id":77120948,"question_id":66225955,"body_markdown":"Very late to this: but this is working example \r\n\r\n    private IvParameterSpec generateIv() {\r\n        byte[] iv = new byte[IV_LENGTH_BYTE];\r\n        new SecureRandom().nextBytes(iv);\r\n        return new IvParameterSpec(iv);\r\n    }\r\n\r\n    public BigDaddyCryptography(SecretKey secretKey, String transformation) throws NoSuchPaddingException, NoSuchAlgorithmException {\r\n        this.secretKey = secretKey;\r\n        this.cipher = Cipher.getInstance(transformation);\r\n    }","title":"Encryption and Decryption of large files using AES algo","body":"<p>Very late to this: but this is working example</p>\n<pre><code>private IvParameterSpec generateIv() {\n    byte[] iv = new byte[IV_LENGTH_BYTE];\n    new SecureRandom().nextBytes(iv);\n    return new IvParameterSpec(iv);\n}\n\npublic BigDaddyCryptography(SecretKey secretKey, String transformation) throws NoSuchPaddingException, NoSuchAlgorithmException {\n    this.secretKey = secretKey;\n    this.cipher = Cipher.getInstance(transformation);\n}\n</code></pre>\n"}],"owner":{"account_id":17797446,"reputation":11,"user_id":12924995,"display_name":"Bhoomi Thakkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":705,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694937442,"creation_date":1613484523,"question_id":66225955,"body_markdown":"I am encrypting and decrypting large files like video,mp3 and pdf. I am using below algorithm for that. I&#39;ve tried to download pdf file after decryption of it but it is taking more then one minute for rendering and downloading even file is just 100kb.\r\n\r\nBelow is my code, how can I solve error and render or download decrypted files faster?\r\n\r\n\tpublic OutputStream encrypt(OutputStream stream) throws IOException, NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException, InvalidAlgorithmParameterException {\r\n\t    OutputStream fos = stream;\r\n\t\tSecretKeySpec sks = new SecretKeySpec(&quot;MyDifficultPassw&quot;.getBytes(), &quot;AES&quot;);\r\n\t    Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\r\n\t    cipher.init(Cipher.ENCRYPT_MODE,sks);\r\n\t    final  CipherOutputStream cos = new CipherOutputStream(fos, cipher);\r\n\t    return cos;\r\n\t}\r\n\t\r\n\tpublic InputStream decrypt(InputStream stream) throws IOException, NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException, InvalidAlgorithmParameterException {\r\n\t    InputStream fis = stream;\r\n\t    SecretKeySpec sks = new SecretKeySpec(&quot;MyDifficultPassw&quot;.getBytes(), &quot;AES&quot;);\r\n\t    Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\r\n\t    cipher.init(Cipher.DECRYPT_MODE, sks);\r\n\t    final CipherInputStream cis = new CipherInputStream(fis, cipher);\r\n\t    return cis;\r\n\t\t\r\n\t}\r\n\t\r\n\r\n\r\nI got this error &quot;Caused by: javax.crypto.IllegalBlockSizeException: Input length must be multiple of 16 when decrypting with padded cipher\r\n\tat java.base/com.sun.crypto.provider.CipherCore.prepareInputBuffer(CipherCore.java:1005)..&quot;\r\n","title":"Encryption and Decryption of large files using AES algo","body":"<p>I am encrypting and decrypting large files like video,mp3 and pdf. I am using below algorithm for that. I've tried to download pdf file after decryption of it but it is taking more then one minute for rendering and downloading even file is just 100kb.</p>\n<p>Below is my code, how can I solve error and render or download decrypted files faster?</p>\n<pre><code>public OutputStream encrypt(OutputStream stream) throws IOException, NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException, InvalidAlgorithmParameterException {\n    OutputStream fos = stream;\n    SecretKeySpec sks = new SecretKeySpec(&quot;MyDifficultPassw&quot;.getBytes(), &quot;AES&quot;);\n    Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\n    cipher.init(Cipher.ENCRYPT_MODE,sks);\n    final  CipherOutputStream cos = new CipherOutputStream(fos, cipher);\n    return cos;\n}\n\npublic InputStream decrypt(InputStream stream) throws IOException, NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException, InvalidAlgorithmParameterException {\n    InputStream fis = stream;\n    SecretKeySpec sks = new SecretKeySpec(&quot;MyDifficultPassw&quot;.getBytes(), &quot;AES&quot;);\n    Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\n    cipher.init(Cipher.DECRYPT_MODE, sks);\n    final CipherInputStream cis = new CipherInputStream(fis, cipher);\n    return cis;\n    \n}\n</code></pre>\n<p>I got this error &quot;Caused by: javax.crypto.IllegalBlockSizeException: Input length must be multiple of 16 when decrypting with padded cipher\nat java.base/com.sun.crypto.provider.CipherCore.prepareInputBuffer(CipherCore.java:1005)..&quot;</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1694769432,"post_id":77111035,"comment_id":135937704,"body_markdown":"Build order in Maven follows the dependencies. Create a sub module with the module1..3 as dependencies and there create the assembly. Parent modules in Maven are only for holding sub modules together and defining common properties to the build process.","body":"Build order in Maven follows the dependencies. Create a sub module with the module1..3 as dependencies and there create the assembly. Parent modules in Maven are only for holding sub modules together and defining common properties to the build process."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1694769576,"post_id":77111035,"comment_id":135937733,"body_markdown":"Why is this tagged as Maven 2? It was end of life in 2009.","body":"Why is this tagged as Maven 2? It was end of life in 2009."}],"answers":[{"comments":[{"owner":{"account_id":29449673,"reputation":1,"user_id":22566366,"display_name":"keydeveloper"},"score":0,"creation_date":1694943735,"post_id":77111285,"comment_id":135955643,"body_markdown":"Yes, this was the configuration I made. The problem is that we have a pipeline that must collect the zip generated from the main module.\nAnd the pipeline cannot be modified.\n\nThank you so much","body":"Yes, this was the configuration I made. The problem is that we have a pipeline that must collect the zip generated from the main module. And the pipeline cannot be modified.  Thank you so much"},{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1694958986,"post_id":77111285,"comment_id":135957067,"body_markdown":"That seems like a silly requirement. But I&#39;m sure you could configure the assembly plugin (in module4) to write the zip to the &quot;main&quot; folder. A bit of a hack","body":"That seems like a silly requirement. But I&#39;m sure you could configure the assembly plugin (in module4) to write the zip to the &quot;main&quot; folder. A bit of a hack"},{"owner":{"account_id":29449673,"reputation":1,"user_id":22566366,"display_name":"keydeveloper"},"score":0,"creation_date":1695110135,"post_id":77111285,"comment_id":135976690,"body_markdown":"Indeed, from another module we have been able to generate the zip file and take it to the main module. But it&#39;s not worth it. We continue investigating possibilities.\nThank you so much","body":"Indeed, from another module we have been able to generate the zip file and take it to the main module. But it&#39;s not worth it. We continue investigating possibilities. Thank you so much"},{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1695116036,"post_id":77111285,"comment_id":135977899,"body_markdown":"The &quot;package&quot; phase of the main module runs before the &quot;package&quot; phase of the submodules. So you&#39;ll either need to use another phase, or do it in a submodule","body":"The &quot;package&quot; phase of the main module runs before the &quot;package&quot; phase of the submodules. So you&#39;ll either need to use another phase, or do it in a submodule"}],"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694791939,"creation_date":1694770670,"answer_id":77111285,"question_id":77111035,"body_markdown":"It seems like you want a `post-package` phase but unfortunately no such phase exists (see [introduction to the build lifecycle](https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html))\r\n\r\nA couple of options to get the behavior you desire\r\n\r\n1. Create another subproject (eg `module4`) which lists `module1`, `module2` and `module3` as `&lt;dependencies&gt;` (so that `module4` is guaranteed to run last in the reactor). Then move the `maven-assembly-plugin` logic to `module4`\r\n\r\n2. Change the &quot;phase&quot; from `&lt;phase&gt;package&lt;/phase&gt;` to `&lt;phase&gt;verify&lt;/phase&gt;` (this feels like a hack to me since you shouldn&#39;t be creating assemblies in the verify phase)","title":"Maven: building with submodules","body":"<p>It seems like you want a <code>post-package</code> phase but unfortunately no such phase exists (see <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html\" rel=\"nofollow noreferrer\">introduction to the build lifecycle</a>)</p>\n<p>A couple of options to get the behavior you desire</p>\n<ol>\n<li><p>Create another subproject (eg <code>module4</code>) which lists <code>module1</code>, <code>module2</code> and <code>module3</code> as <code>&lt;dependencies&gt;</code> (so that <code>module4</code> is guaranteed to run last in the reactor). Then move the <code>maven-assembly-plugin</code> logic to <code>module4</code></p>\n</li>\n<li><p>Change the &quot;phase&quot; from <code>&lt;phase&gt;package&lt;/phase&gt;</code> to <code>&lt;phase&gt;verify&lt;/phase&gt;</code> (this feels like a hack to me since you shouldn't be creating assemblies in the verify phase)</p>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":29449673,"reputation":1,"user_id":22566366,"display_name":"keydeveloper"},"score":0,"creation_date":1694943661,"post_id":77120929,"comment_id":135955631,"body_markdown":"Yes, this was the configuration I made. The problem is that we have a pipeline that must collect the zip generated from the main module.\nAnd the pipeline cannot be modified\n\nThank you so much","body":"Yes, this was the configuration I made. The problem is that we have a pipeline that must collect the zip generated from the main module. And the pipeline cannot be modified  Thank you so much"}],"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694936995,"creation_date":1694936995,"answer_id":77120929,"question_id":77111035,"body_markdown":"Create another module that will create such packaging.\r\nThe main reason of the parent module is to organize its children, share configuraton etc not to &quot;build and package children into some other artifact&quot;","title":"Maven: building with submodules","body":"<p>Create another module that will create such packaging.\nThe main reason of the parent module is to organize its children, share configuraton etc not to &quot;build and package children into some other artifact&quot;</p>\n"}],"owner":{"account_id":29449673,"reputation":1,"user_id":22566366,"display_name":"keydeveloper"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694936995,"creation_date":1694768513,"question_id":77111035,"body_markdown":"I need to create a zip from the main pom. The problem that when the creation is in the main one, it is launched before finishing the actions of the submodules.\r\n\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.empresa.nombre.app&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mainapp&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;module1&lt;/module&gt;\r\n        &lt;module&gt;module2&lt;/module&gt;\r\n        &lt;module&gt;module3&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;build&gt;\r\n\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;inherited&gt;false&lt;/inherited&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n                    &lt;finalName&gt;finalName&lt;/finalName&gt;\r\n                    &lt;descriptors&gt;\r\n                        &lt;descriptor&gt;assembly.xml&lt;/descriptor&gt;\r\n                    &lt;/descriptors&gt;\r\n                    &lt;outputDirectory&gt;target&lt;/outputDirectory&gt;\r\n                &lt;/configuration&gt;\r\n\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nModule1 generates a war, module2 a .tar and module3 an ear.\r\nAll these files, war, tar and ear, are generated in the main target.\r\n\r\nWhen building with\r\n`mvn clean verify`\r\nIt shows the error of not finding anything, because it deletes everything in the target and tries to compress the folders that have not yet been created in the submodules.\r\n\r\n`archive cannot be empty`\r\n\r\n\r\n\r\n\r\nIs there a way to launch the submodules first and then launch the main pom build last?\r\n\r\nYou have to create the zip, from the main module. We have achieved it from other submodules but it is necessary to create it from the main one.\r\n\r\nThank you so much","title":"Maven: building with submodules","body":"<p>I need to create a zip from the main pom. The problem that when the creation is in the main one, it is launched before finishing the actions of the submodules.</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.empresa.nombre.app&lt;/groupId&gt;\n    &lt;artifactId&gt;mainapp&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n\n    &lt;modules&gt;\n        &lt;module&gt;module1&lt;/module&gt;\n        &lt;module&gt;module2&lt;/module&gt;\n        &lt;module&gt;module3&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;build&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;inherited&gt;false&lt;/inherited&gt;\n                &lt;configuration&gt;\n                    &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n                    &lt;finalName&gt;finalName&lt;/finalName&gt;\n                    &lt;descriptors&gt;\n                        &lt;descriptor&gt;assembly.xml&lt;/descriptor&gt;\n                    &lt;/descriptors&gt;\n                    &lt;outputDirectory&gt;target&lt;/outputDirectory&gt;\n                &lt;/configuration&gt;\n\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Module1 generates a war, module2 a .tar and module3 an ear.\nAll these files, war, tar and ear, are generated in the main target.</p>\n<p>When building with\n<code>mvn clean verify</code>\nIt shows the error of not finding anything, because it deletes everything in the target and tries to compress the folders that have not yet been created in the submodules.</p>\n<p><code>archive cannot be empty</code></p>\n<p>Is there a way to launch the submodules first and then launch the main pom build last?</p>\n<p>You have to create the zip, from the main module. We have achieved it from other submodules but it is necessary to create it from the main one.</p>\n<p>Thank you so much</p>\n"},{"tags":["java","selenium-webdriver","download"],"comments":[{"owner":{"account_id":28056943,"reputation":1,"user_id":21431816,"display_name":"rraghad"},"score":0,"creation_date":1694946875,"post_id":77120862,"comment_id":135955947,"body_markdown":"I also use chromeOptions.setExperimentalOption(&quot;prefs&quot;, new java.util.HashMap&lt;String, Object&gt;() {{\n\t\t\t    put(&quot;plugins.plugins_disabled&quot;, new String[]{&quot;Chrome PDF Viewer&quot;});\n\t\t\t    put(&quot;download.default_directory&quot;, &quot;C:\\\\Users\\\\user\\\\Downloads\\\\PDF&quot;); // Set the download directory\n\t\t\t    put(&quot;printing.print_preview_sticky_settings&quot;, new java.util.HashMap&lt;String, Object&gt;() {{\n\t\t\t        put(&quot;savefile.default_directory&quot;, &quot;C:\\\\Users\\\\user\\\\Downloads\\\\PDF&quot;); // Set the default save directory\n\t\t\t    }});\n\t\t\t}});  But printing dialog didn&#39;t take these  preferences","body":"I also use chromeOptions.setExperimentalOption(&quot;prefs&quot;, new java.util.HashMap&lt;String, Object&gt;() {{ \t\t\t    put(&quot;plugins.plugins_disabled&quot;, new String[]{&quot;Chrome PDF Viewer&quot;}); \t\t\t    put(&quot;download.default_directory&quot;, &quot;C:\\\\Users\\\\user\\\\Downloads\\\\PDF&quot;); // Set the download directory \t\t\t    put(&quot;printing.print_preview_sticky_settings&quot;, new java.util.HashMap&lt;String, Object&gt;() {{ \t\t\t        put(&quot;savefile.default_directory&quot;, &quot;C:\\\\Users\\\\user\\\\Downloads\\\\PDF&quot;); // Set the default save directory \t\t\t    }}); \t\t\t}});  But printing dialog didn&#39;t take these  preferences"}],"owner":{"account_id":28056943,"reputation":1,"user_id":21431816,"display_name":"rraghad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694936878,"creation_date":1694935363,"question_id":77120862,"body_markdown":"I have a button to click, it will open a printing dialog, I need to select the destination Save as PDF then press print and save the file.\r\n\r\n\r\nI tried\r\n``` \r\nChromeOptions options = new ChromeOptions();\r\nHashMap&lt;String, Object&gt; chromeOptionsMap = new HashMap&lt;String, Object&gt;();\r\nchromeOptionsMap.put(&quot;plugins.plugins_disabled&quot;, new String[] { &quot;Chrome PDF Viewer &quot;});      \r\nchromeOptionsMap.put(&quot;plugins.always_open_pdf_externally&quot;, true);\r\nchromeOptionsMap.put(&quot;download.default_directory&quot;, &quot;C:\\\\Users\\\\user\\\\Downloads&quot;);\r\nchromeOptionsMap.put(&quot;download,promt_for_download&quot;,false);\r\noptions.setExperimentalOption(&quot;prefs&quot;, chromeOptionsMap);\r\noptions.addArguments(&quot;--headless&quot;); */\r\n```\r\nbut still can&#39;t select Save as PDF\r\nThe above code seems to print HTML code as a pdf","title":"How to download as pdf from chrome printing preview in selenium java","body":"<p>I have a button to click, it will open a printing dialog, I need to select the destination Save as PDF then press print and save the file.</p>\n<p>I tried</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\nHashMap&lt;String, Object&gt; chromeOptionsMap = new HashMap&lt;String, Object&gt;();\nchromeOptionsMap.put(&quot;plugins.plugins_disabled&quot;, new String[] { &quot;Chrome PDF Viewer &quot;});      \nchromeOptionsMap.put(&quot;plugins.always_open_pdf_externally&quot;, true);\nchromeOptionsMap.put(&quot;download.default_directory&quot;, &quot;C:\\\\Users\\\\user\\\\Downloads&quot;);\nchromeOptionsMap.put(&quot;download,promt_for_download&quot;,false);\noptions.setExperimentalOption(&quot;prefs&quot;, chromeOptionsMap);\noptions.addArguments(&quot;--headless&quot;); */\n</code></pre>\n<p>but still can't select Save as PDF\nThe above code seems to print HTML code as a pdf</p>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":40248,"reputation":56308,"user_id":116614,"accept_rate":92,"display_name":"mellamokb"},"score":2,"creation_date":1345660334,"post_id":12079230,"comment_id":16137086,"body_markdown":"[JAR File Format](http://en.wikipedia.org/wiki/JAR_(file_format))","body":"<a href=\"http://en.wikipedia.org/wiki/JAR_(file_format)\" rel=\"nofollow noreferrer\">JAR File Format</a>"},{"owner":{"account_id":88329,"reputation":2079,"user_id":244384,"accept_rate":100,"display_name":"danmcardle"},"score":0,"creation_date":1345660477,"post_id":12079230,"comment_id":16137136,"body_markdown":"http://en.wikipedia.org/wiki/JAR_(file_format\\)","body":"<a href=\"http://en.wikipedia.org/wiki/JAR_(file_format&#41;\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/JAR_(file_format&#41;</a>"},{"owner":{"account_id":1331302,"reputation":118777,"user_id":1275169,"accept_rate":71,"display_name":"P.P"},"score":0,"creation_date":1393362004,"post_id":12079230,"comment_id":33390190,"body_markdown":"@user1036719 While it&#39;s good that you found answer here, there&#39;s still one other link that comes *before* this. And this us not really a programming question that needs to be encouraged on SO. I didn&#39;t downvote or close vote though.","body":"@user1036719 While it&#39;s good that you found answer here, there&#39;s still one other link that comes <i>before</i> this. And this us not really a programming question that needs to be encouraged on SO. I didn&#39;t downvote or close vote though."},{"owner":{"account_id":878759,"reputation":3986,"user_id":134044,"display_name":"NeilG"},"score":0,"creation_date":1686269074,"post_id":12079230,"comment_id":134779560,"body_markdown":"I can&#39;t see why this is &quot;not really&quot; a programming question, or even what &quot;sort&quot; of question this is that it doesn&#39;t &quot;need to be encouraged&quot;, @P.P. What are you talking about?","body":"I can&#39;t see why this is &quot;not really&quot; a programming question, or even what &quot;sort&quot; of question this is that it doesn&#39;t &quot;need to be encouraged&quot;, @P.P. What are you talking about?"}],"answers":[{"tags":[],"owner":{"account_id":314004,"reputation":11829,"user_id":628943,"accept_rate":100,"display_name":"Ajay George"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1345660253,"creation_date":1345660253,"answer_id":12079253,"question_id":12079230,"body_markdown":"The best way to understand what the jar file contains is by executing this :\r\n\r\nGo to command line and execute `jar tvf jarfilename.jar`","title":"What exactly does a jar file contain?","body":"<p>The best way to understand what the jar file contains is by executing this :</p>\n\n<p>Go to command line and execute <code>jar tvf jarfilename.jar</code></p>\n"},{"tags":[],"owner":{"account_id":113304,"reputation":312960,"user_id":298479,"accept_rate":87,"display_name":"ThiefMaster"},"comment_count":0,"down_vote_count":0,"up_vote_count":102,"is_accepted":true,"score":102,"last_activity_date":1345660274,"creation_date":1345660274,"answer_id":12079258,"question_id":12079230,"body_markdown":"A JAR file is actually just a ZIP file. It can contain anything - usually it contains compiled Java code (\\*.class), but sometimes also Java sourcecode (\\*.java).\r\n\r\nHowever, Java can be decompiled - in case the developer obfuscated his code you won&#39;t get any useful class/function/variable names though.","title":"What exactly does a jar file contain?","body":"<p>A JAR file is actually just a ZIP file. It can contain anything - usually it contains compiled Java code (*.class), but sometimes also Java sourcecode (*.java).</p>\n\n<p>However, Java can be decompiled - in case the developer obfuscated his code you won't get any useful class/function/variable names though.</p>\n"},{"comments":[{"owner":{"account_id":1714555,"reputation":2080,"user_id":1571933,"accept_rate":59,"display_name":"joshualan"},"score":0,"creation_date":1345661103,"post_id":12079263,"comment_id":16137356,"body_markdown":"Thanks, I knew it was kind of like an archive since I could unzip it but I was confused why none of the .class files contained readable text. Thanks for explaining, I guess a .class is sort of like a .o file.","body":"Thanks, I knew it was kind of like an archive since I could unzip it but I was confused why none of the .class files contained readable text. Thanks for explaining, I guess a .class is sort of like a .o file."},{"owner":{"account_id":878759,"reputation":3986,"user_id":134044,"display_name":"NeilG"},"score":0,"creation_date":1686269446,"post_id":12079263,"comment_id":134779591,"body_markdown":"You don&#39;t &quot;need a jar file to run Java&quot;, @JonSkeet, but it seems you can also say &quot;you don&#39;t need to be using Java to use a jar file&quot;. No-one has explicitly mentioned it but I believe I&#39;ve found someone using Jar files for compression simply because they don&#39;t know any better, but are not programming in Java at all.","body":"You don&#39;t &quot;need a jar file to run Java&quot;, @JonSkeet, but it seems you can also say &quot;you don&#39;t need to be using Java to use a jar file&quot;. No-one has explicitly mentioned it but I believe I&#39;ve found someone using Jar files for compression simply because they don&#39;t know any better, but are not programming in Java at all."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1686289958,"post_id":12079263,"comment_id":134781242,"body_markdown":"@NeilG: That&#39;s true, but seems pretty irrelevant to the question, where the OP clearly *was* programming in Java.","body":"@NeilG: That&#39;s true, but seems pretty irrelevant to the question, where the OP clearly <i>was</i> programming in Java."},{"owner":{"account_id":878759,"reputation":3986,"user_id":134044,"display_name":"NeilG"},"score":0,"creation_date":1686292510,"post_id":12079263,"comment_id":134781599,"body_markdown":"That&#39;s nice to get confirmation @JonSkeet. Sometimes it seems so simple it&#39;s redundant, but I&#39;m a great believer in confirmation to increase certainty. Even though this may seem to be outside the scope of the original question, it can serve to increase certainty because it provides more detail of what it isn&#39;t, not just what it is. And it can also help others that hit the question on a search where that little piece may answer their use-case.","body":"That&#39;s nice to get confirmation @JonSkeet. Sometimes it seems so simple it&#39;s redundant, but I&#39;m a great believer in confirmation to increase certainty. Even though this may seem to be outside the scope of the original question, it can serve to increase certainty because it provides more detail of what it isn&#39;t, not just what it is. And it can also help others that hit the question on a search where that little piece may answer their use-case."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":4,"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1345660293,"creation_date":1345660293,"answer_id":12079263,"question_id":12079230,"body_markdown":"&gt; However, I got curious to what each class contained and when I try to open one of the classes in the jar file, it tells me that I need a source file.\r\n\r\nA jar file is basically a zip file containing .class files and potentially other resources (and metadata about the jar itself). It&#39;s hard to compare C to Java really, as Java byte code maintains a lot more metadata than most binary formats - but the class file *is* compiled code instead of source code.\r\n\r\nIf you either open the jar file with a zip utility or run `jar xf foo.jar` you can extract the files from it, and have a look at them. Note that you don&#39;t *need* a jar file to run Java code - classloaders can load class data directly from the file system, or from URLs, as well as from jar files.","title":"What exactly does a jar file contain?","body":"<blockquote>\n  <p>However, I got curious to what each class contained and when I try to open one of the classes in the jar file, it tells me that I need a source file.</p>\n</blockquote>\n\n<p>A jar file is basically a zip file containing .class files and potentially other resources (and metadata about the jar itself). It's hard to compare C to Java really, as Java byte code maintains a lot more metadata than most binary formats - but the class file <em>is</em> compiled code instead of source code.</p>\n\n<p>If you either open the jar file with a zip utility or run <code>jar xf foo.jar</code> you can extract the files from it, and have a look at them. Note that you don't <em>need</em> a jar file to run Java code - classloaders can load class data directly from the file system, or from URLs, as well as from jar files.</p>\n"},{"tags":[],"owner":{"account_id":1606009,"reputation":1068,"user_id":1486100,"accept_rate":83,"display_name":"Tyzoid"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1669249221,"creation_date":1345660343,"answer_id":12079283,"question_id":12079230,"body_markdown":"A .jar file is akin to a .exe file.\r\nIn essence, they are both executable files.\r\n\r\nA jar file is also a archive (JAR = Java ARchive). In a jar file, you will see folders and class files. Each `.class` file is similar to a `.o` you might get from C or C++, and is a compiled java archive.\r\n\r\nIf you wanted to see the code in a jar file, download a java decompiler (located here: http://java.decompiler.free.fr/?q=jdgui) and a .jar extractor (7zip works fine).","title":"What exactly does a jar file contain?","body":"<p>A .jar file is akin to a .exe file.\nIn essence, they are both executable files.</p>\n<p>A jar file is also a archive (JAR = Java ARchive). In a jar file, you will see folders and class files. Each <code>.class</code> file is similar to a <code>.o</code> you might get from C or C++, and is a compiled java archive.</p>\n<p>If you wanted to see the code in a jar file, download a java decompiler (located here: <a href=\"http://java.decompiler.free.fr/?q=jdgui\" rel=\"nofollow noreferrer\">http://java.decompiler.free.fr/?q=jdgui</a>) and a .jar extractor (7zip works fine).</p>\n"},{"tags":[],"owner":{"account_id":1132283,"reputation":28517,"user_id":1118101,"accept_rate":89,"display_name":"theglauber"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1427483155,"creation_date":1345660428,"answer_id":12079302,"question_id":12079230,"body_markdown":"A `jar` file is a zip file with some additional files containing metadata. (Despite the .jar extension, it is in zip format, and any utilities that deal with .zip files are also able to deal with .jar files.)\r\n\r\nhttp://docs.oracle.com/javase/8/docs/technotes/guides/jar/index.html\r\n\r\nJar files can contain any kind of files, but they usually contain class files and supporting configuration files (properties), graphics and other data files needed by the application.\r\n\r\nClass files contain compiled Java code, which is executable by the Java Virtual Machine.\r\n\r\nhttp://en.wikipedia.org/wiki/Java_class_file","title":"What exactly does a jar file contain?","body":"<p>A <code>jar</code> file is a zip file with some additional files containing metadata. (Despite the .jar extension, it is in zip format, and any utilities that deal with .zip files are also able to deal with .jar files.)</p>\n\n<p><a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/jar/index.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/8/docs/technotes/guides/jar/index.html</a></p>\n\n<p>Jar files can contain any kind of files, but they usually contain class files and supporting configuration files (properties), graphics and other data files needed by the application.</p>\n\n<p>Class files contain compiled Java code, which is executable by the Java Virtual Machine.</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Java_class_file\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/Java_class_file</a></p>\n"},{"tags":[],"owner":{"account_id":65096,"reputation":15647,"user_id":191797,"accept_rate":100,"display_name":"Piyush Mattoo"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1345660600,"creation_date":1345660600,"answer_id":12079342,"question_id":12079230,"body_markdown":"Jar file contains compiled Java binary classes in the form of `*.class` which can be converted to readable `.java ` class by decompiling it using some open source decompiler. The jar also has an optional `META-INF/MANIFEST.MF` which tells us how to use the jar file - specifies other jar files for loading with the jar.","title":"What exactly does a jar file contain?","body":"<p>Jar file contains compiled Java binary classes in the form of <code>*.class</code> which can be converted to readable <code>.java</code> class by decompiling it using some open source decompiler. The jar also has an optional <code>META-INF/MANIFEST.MF</code> which tells us how to use the jar file - specifies other jar files for loading with the jar.</p>\n"},{"tags":[],"owner":{"account_id":1608876,"reputation":106,"user_id":1488389,"display_name":"Wazza"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1374223903,"creation_date":1374210311,"answer_id":17738466,"question_id":12079230,"body_markdown":"A .jar file contains compiled code (*.class files) and other data/resources related to that code. It enables you to bundle multiple files into a single archive file. It also contains metadata. Since it is a zip file it is capable of compressing the data that you put into it. \r\n\r\nCouple of things i found useful. \r\n\r\nhttp://www.skylit.com/javamethods/faqs/createjar.html\r\n\r\nhttp://docs.oracle.com/javase/tutorial/deployment/jar/basicsindex.html\r\n\r\nThe book OSGi in practice defines JAR files as, &quot;JARs are archive files based on the ZIP file format,\r\nallowing many files to be aggregated into a single file. Typically the files\r\ncontained in the archive are a mixture of compiled Java class files and resource\r\nfiles such as images and documents. Additionally the specification defines a\r\nstandard location within a JAR archive for metadata — the META-INF folder\r\n— and several standard file names and formats within that directly, most\r\nimportant of which is the MANIFEST.MF file.&quot;","title":"What exactly does a jar file contain?","body":"<p>A .jar file contains compiled code (*.class files) and other data/resources related to that code. It enables you to bundle multiple files into a single archive file. It also contains metadata. Since it is a zip file it is capable of compressing the data that you put into it. </p>\n\n<p>Couple of things i found useful. </p>\n\n<p><a href=\"http://www.skylit.com/javamethods/faqs/createjar.html\" rel=\"nofollow\">http://www.skylit.com/javamethods/faqs/createjar.html</a></p>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/deployment/jar/basicsindex.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/deployment/jar/basicsindex.html</a></p>\n\n<p>The book OSGi in practice defines JAR files as, \"JARs are archive files based on the ZIP file format,\nallowing many files to be aggregated into a single file. Typically the files\ncontained in the archive are a mixture of compiled Java class files and resource\nfiles such as images and documents. Additionally the specification defines a\nstandard location within a JAR archive for metadata — the META-INF folder\n— and several standard file names and formats within that directly, most\nimportant of which is the MANIFEST.MF file.\"</p>\n"},{"tags":[],"owner":{"account_id":4623229,"reputation":2072,"user_id":3747720,"accept_rate":89,"display_name":"js_248"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1405058751,"creation_date":1405058751,"answer_id":24691040,"question_id":12079230,"body_markdown":"JAR stands for Java ARchive. It&#39;s a file format based on the popular ZIP file format and is used for aggregating many files into one. Although JAR can be used as a general archiving tool, the primary motivation for its development was so that Java applets and their requisite components (.class files, images and sounds) can be downloaded to a browser in a single HTTP transaction, rather than opening a new connection for each piece. This greatly improves the speed with which an applet can be loaded onto a web page and begin functioning. The JAR format also supports compression, which reduces the size of the file and improves download time still further. Additionally, individual entries in a JAR file may be digitally signed by the applet author to authenticate their origin.","title":"What exactly does a jar file contain?","body":"<p>JAR stands for Java ARchive. It's a file format based on the popular ZIP file format and is used for aggregating many files into one. Although JAR can be used as a general archiving tool, the primary motivation for its development was so that Java applets and their requisite components (.class files, images and sounds) can be downloaded to a browser in a single HTTP transaction, rather than opening a new connection for each piece. This greatly improves the speed with which an applet can be loaded onto a web page and begin functioning. The JAR format also supports compression, which reduces the size of the file and improves download time still further. Additionally, individual entries in a JAR file may be digitally signed by the applet author to authenticate their origin.</p>\n"},{"tags":[],"owner":{"account_id":7997094,"reputation":11,"user_id":6033035,"display_name":"Ghanshyam"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457423480,"creation_date":1457422877,"answer_id":35861666,"question_id":12079230,"body_markdown":"Just check if the `aopalliance.jar` file has `.java` files instead of `.class` files. if so, just extract the jar file, import it in eclipse &amp; create a jar though eclipse. It worked for me. ","title":"What exactly does a jar file contain?","body":"<p>Just check if the <code>aopalliance.jar</code> file has <code>.java</code> files instead of <code>.class</code> files. if so, just extract the jar file, import it in eclipse &amp; create a jar though eclipse. It worked for me. </p>\n"},{"tags":[],"owner":{"account_id":8578106,"reputation":140,"user_id":6426779,"display_name":"bishwas pokharel"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1465201377,"creation_date":1465201377,"answer_id":37652671,"question_id":12079230,"body_markdown":"Jar( Java Archive) contains group of .class files.\r\n\r\n 1.To create Jar File (Zip File)\r\n\r\n     if one .class (say, Demo.class) then use command jar -cvf NameOfJarFile.jar Demo.class (usually it’s not feasible for only one .class file)\r\n\r\n     if more than one .class (say, Demo.class , DemoOne.class) then use command jar -cvf NameOfJarFile.jar Demo.class DemoOne.class\r\n\r\n     if all .class is to be group (say, Demo.class , DemoOne.class etc) then use command jar -cvf NameOfJarFile.jar *.class\r\n\r\n2.To extract Jar File (Unzip File)\r\n\r\n        jar -xvf NameOfJarFile.jar\r\n    \r\n3.To display table of content\r\n\r\n        jar -tvf NameOfJarFile.jar\r\n\r\n","title":"What exactly does a jar file contain?","body":"<p>Jar( Java Archive) contains group of .class files.</p>\n\n<p>1.To create Jar File (Zip File)</p>\n\n<pre><code> if one .class (say, Demo.class) then use command jar -cvf NameOfJarFile.jar Demo.class (usually it’s not feasible for only one .class file)\n\n if more than one .class (say, Demo.class , DemoOne.class) then use command jar -cvf NameOfJarFile.jar Demo.class DemoOne.class\n\n if all .class is to be group (say, Demo.class , DemoOne.class etc) then use command jar -cvf NameOfJarFile.jar *.class\n</code></pre>\n\n<p>2.To extract Jar File (Unzip File)</p>\n\n<pre><code>    jar -xvf NameOfJarFile.jar\n</code></pre>\n\n<p>3.To display table of content</p>\n\n<pre><code>    jar -tvf NameOfJarFile.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8438780,"reputation":1952,"user_id":6332074,"display_name":"Muhammad Waqas Dilawar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542966314,"creation_date":1542966314,"answer_id":53444153,"question_id":12079230,"body_markdown":"**While learning about JAR, I came across this thread, but couldn&#39;t get enough information for people like me, who have .NET background, so I&#39;m gonna add few points which can help persons like myself with .NET background.**\r\n\r\nFirst we need to define similar concept to JAR in .NET which is **Assembly** and assembly  shares a lot in common with Java JAR files. \r\n\r\nSo, an assembly is the fundamental unit of code packaging in the .NET environment. Assemblies are self contained and typically contain the intermediate code from compiling classes, metadata about the classes, and any other files needed by the packaged code to perform its task. Since assemblies are the fundamental unit of code packaging, several actions related to interacting with types must be done at the assembly level. **For instance**, granting of security permissions, code deployment, and versioning are done at the assembly level.\r\n\r\n**Java JAR** files perform a similar task in Java with most differences being in the implementation. Assemblies are usually stored as **EXEs or DLLs** while JAR files are stored in the **ZIP** file format.\r\n\r\n[Source of Information -&gt; 5- Assemblies][1]\r\n\r\n\r\n  [1]: http://www.25hoursaday.com/csharpvsjava.html","title":"What exactly does a jar file contain?","body":"<p><strong>While learning about JAR, I came across this thread, but couldn't get enough information for people like me, who have .NET background, so I'm gonna add few points which can help persons like myself with .NET background.</strong></p>\n\n<p>First we need to define similar concept to JAR in .NET which is <strong>Assembly</strong> and assembly  shares a lot in common with Java JAR files. </p>\n\n<p>So, an assembly is the fundamental unit of code packaging in the .NET environment. Assemblies are self contained and typically contain the intermediate code from compiling classes, metadata about the classes, and any other files needed by the packaged code to perform its task. Since assemblies are the fundamental unit of code packaging, several actions related to interacting with types must be done at the assembly level. <strong>For instance</strong>, granting of security permissions, code deployment, and versioning are done at the assembly level.</p>\n\n<p><strong>Java JAR</strong> files perform a similar task in Java with most differences being in the implementation. Assemblies are usually stored as <strong>EXEs or DLLs</strong> while JAR files are stored in the <strong>ZIP</strong> file format.</p>\n\n<p><a href=\"http://www.25hoursaday.com/csharpvsjava.html\" rel=\"nofollow noreferrer\">Source of Information -> 5- Assemblies</a></p>\n"}],"owner":{"account_id":1714555,"reputation":2080,"user_id":1571933,"accept_rate":59,"display_name":"joshualan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134988,"favorite_count":0,"down_vote_count":3,"up_vote_count":105,"accepted_answer_id":12079258,"answer_count":11,"score":102,"last_activity_date":1694936640,"creation_date":1345660149,"question_id":12079230,"body_markdown":"As an intern, I use company code in my projects and they usually send me a `jar` file to work with. I add it to the build `path` in `Eclipse` and usually all is fine and dandy.\r\n\r\nHowever, I got curious to know, what each class contained and when I try to open one of the classes in the `jar` file, it tells me that I need a source file.\r\n\r\nWhat does this mean? I come from a *C/C++* background so is a `jar` similar to an already compiled `.o` file and all I can see is the `.h` stuff? Or is there actual code in the `jar` file that I&#39;m using that&#39;s encrypted so I can&#39;t read it?","title":"What exactly does a jar file contain?","body":"<p>As an intern, I use company code in my projects and they usually send me a <code>jar</code> file to work with. I add it to the build <code>path</code> in <code>Eclipse</code> and usually all is fine and dandy.</p>\n<p>However, I got curious to know, what each class contained and when I try to open one of the classes in the <code>jar</code> file, it tells me that I need a source file.</p>\n<p>What does this mean? I come from a <em>C/C++</em> background so is a <code>jar</code> similar to an already compiled <code>.o</code> file and all I can see is the <code>.h</code> stuff? Or is there actual code in the <code>jar</code> file that I'm using that's encrypted so I can't read it?</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":29463452,"reputation":15,"user_id":22577682,"display_name":"Piolo Pascual Besinga"},"score":0,"creation_date":1694928616,"post_id":77120471,"comment_id":135954492,"body_markdown":"Thank you for this my code now works. But one question if I opt the System.out.println(); part, I will also opt the input.nextLine();","body":"Thank you for this my code now works. But one question if I opt the System.out.println(); part, I will also opt the input.nextLine();"},{"owner":{"account_id":21224895,"reputation":328,"user_id":15610766,"display_name":"Dolfinwu"},"score":0,"creation_date":1694930398,"post_id":77120471,"comment_id":135954614,"body_markdown":"@PioloPascualBesinga Yes, if you choose to remove the System.out.println(); line, you can also remove the corresponding input.nextLine(). Also, if your code works now please accept this answer - so other people will know this question is solved.","body":"@PioloPascualBesinga Yes, if you choose to remove the System.out.println(); line, you can also remove the corresponding input.nextLine(). Also, if your code works now please accept this answer - so other people will know this question is solved."},{"owner":{"account_id":29463452,"reputation":15,"user_id":22577682,"display_name":"Piolo Pascual Besinga"},"score":0,"creation_date":1694935850,"post_id":77120471,"comment_id":135954989,"body_markdown":"Done thank you.","body":"Done thank you."}],"tags":[],"owner":{"account_id":21224895,"reputation":328,"user_id":15610766,"display_name":"Dolfinwu"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694924868,"creation_date":1694924868,"answer_id":77120471,"question_id":77120461,"body_markdown":"The &quot;Index 0 out of bounds for length 0&quot; error you&#39;re encountering is probably because of `input.nextLine()` call after reading an integer input using `input.nextInt()`. When you press Enter after entering the integer, the `input.nextLine()` reads the newline character (&#39;\\n&#39;), which your code didn&#39;t capture.\r\n\r\nTo fix this, you can add an extra `input.nextLine()` after reading the integer to consume the newline character. Modify your code like this:\r\n\r\n```java\r\nchoice = input.nextInt();\r\ninput.nextLine();\r\nSystem.out.println();\r\nif (choice == 1) {\r\n    // ...\r\n}\r\n```\r\n\r\nThis should prevent the error now. Don&#39;t worry, I used to make this mistake all the time.","title":"Index 0 out of bounds for length 0 for Hangman game","body":"<p>The &quot;Index 0 out of bounds for length 0&quot; error you're encountering is probably because of <code>input.nextLine()</code> call after reading an integer input using <code>input.nextInt()</code>. When you press Enter after entering the integer, the <code>input.nextLine()</code> reads the newline character ('\\n'), which your code didn't capture.</p>\n<p>To fix this, you can add an extra <code>input.nextLine()</code> after reading the integer to consume the newline character. Modify your code like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>choice = input.nextInt();\ninput.nextLine();\nSystem.out.println();\nif (choice == 1) {\n    // ...\n}\n</code></pre>\n<p>This should prevent the error now. Don't worry, I used to make this mistake all the time.</p>\n"},{"tags":[],"owner":{"account_id":17183205,"reputation":15,"user_id":12438319,"display_name":"abdussamed17"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694925465,"creation_date":1694925465,"answer_id":77120489,"question_id":77120461,"body_markdown":"Maybe you can add System.out.println right in front of the problematic code and check the content of the strings word and key and comment out the for loop for now. This way you can check whether the word and key strings are as you expect them to be.","title":"Index 0 out of bounds for length 0 for Hangman game","body":"<p>Maybe you can add System.out.println right in front of the problematic code and check the content of the strings word and key and comment out the for loop for now. This way you can check whether the word and key strings are as you expect them to be.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694935908,"creation_date":1694930300,"answer_id":77120650,"question_id":77120461,"body_markdown":"&gt; _&quot;... why the console said Index 0 out of bounds for length 0. ...&quot;_\r\n\r\nThe _choice1_ value is empty.\r\n\r\nCalling _input.nextLine()_ after having called _input.nextInt()_ will simply move the _Scanner_ cursor to the next line.\r\n\r\nFor example, imagine you requested the user to enter 3 numbers on one line.  \r\nYou would use _nextInt_ 3 times, and then _nextLine_ once, to advance to the next line.\r\n\r\nHere is the cursor position, for each call.\r\n\r\n```none\r\nEnter 3 values:  100 200 300\r\n                  ^   ^   ^\r\n^                 |   |   |\r\n|         nextInt 1   |   nextInt 3\r\n|                     |\r\nnextLine          nextInt 2\r\n```\r\n\r\nCall _nextLine_ after the _choice_ assignment.\r\n\r\n```java\r\nchoice = input.nextInt();\r\ninput.nextLine();\r\n```\r\n\r\nHere is an example output.  \r\nHippopotamus is spelled incorrectly, also.\r\n\r\n```none\r\nWelcome to Hangman\r\n[1]START\r\n[0]EXIT\r\nPlease input your choice: 1\r\n\r\nhipopotamus\r\nNote: use only small character/s\r\n(Guess) Enter a letter in word *********** &gt; h\r\n(Guess) Enter a letter in word h********** &gt; i\r\n(Guess) Enter a letter in word hi********* &gt; p\r\n(Guess) Enter a letter in word hip*p****** &gt; o\r\n(Guess) Enter a letter in word hipopo***** &gt; t\r\n(Guess) Enter a letter in word hipopot**** &gt; a\r\n(Guess) Enter a letter in word hipopota*** &gt; m\r\n(Guess) Enter a letter in word hipopotam** &gt; u\r\n(Guess) Enter a letter in word hipopotamu* &gt; s\r\nThe word is hipopotamus. You missed 0 time.\r\n```","title":"Index 0 out of bounds for length 0 for Hangman game","body":"<blockquote>\n<p><em>&quot;... why the console said Index 0 out of bounds for length 0. ...&quot;</em></p>\n</blockquote>\n<p>The <em>choice1</em> value is empty.</p>\n<p>Calling <em>input.nextLine()</em> after having called <em>input.nextInt()</em> will simply move the <em>Scanner</em> cursor to the next line.</p>\n<p>For example, imagine you requested the user to enter 3 numbers on one line.<br />\nYou would use <em>nextInt</em> 3 times, and then <em>nextLine</em> once, to advance to the next line.</p>\n<p>Here is the cursor position, for each call.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Enter 3 values:  100 200 300\n                  ^   ^   ^\n^                 |   |   |\n|         nextInt 1   |   nextInt 3\n|                     |\nnextLine          nextInt 2\n</code></pre>\n<p>Call <em>nextLine</em> after the <em>choice</em> assignment.</p>\n<pre class=\"lang-java prettyprint-override\"><code>choice = input.nextInt();\ninput.nextLine();\n</code></pre>\n<p>Here is an example output.<br />\nHippopotamus is spelled incorrectly, also.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Welcome to Hangman\n[1]START\n[0]EXIT\nPlease input your choice: 1\n\nhipopotamus\nNote: use only small character/s\n(Guess) Enter a letter in word *********** &gt; h\n(Guess) Enter a letter in word h********** &gt; i\n(Guess) Enter a letter in word hi********* &gt; p\n(Guess) Enter a letter in word hip*p****** &gt; o\n(Guess) Enter a letter in word hipopo***** &gt; t\n(Guess) Enter a letter in word hipopot**** &gt; a\n(Guess) Enter a letter in word hipopota*** &gt; m\n(Guess) Enter a letter in word hipopotam** &gt; u\n(Guess) Enter a letter in word hipopotamu* &gt; s\nThe word is hipopotamus. You missed 0 time.\n</code></pre>\n"}],"owner":{"account_id":29463452,"reputation":15,"user_id":22577682,"display_name":"Piolo Pascual Besinga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1694940243,"accepted_answer_id":77120471,"answer_count":3,"score":1,"last_activity_date":1694935908,"creation_date":1694924479,"question_id":77120461,"body_markdown":"Why the console said `Index 0 out of bounds for length 0`?  \r\nIt says in my method `CharacterSearch()`.\r\n\r\nHere is my code. By the way the code is Hangman Game. I am new to java and don&#39;t know all the libraries included.\r\n\r\n```java\r\npackage besingaPi_LE_3_2;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class GameHangman {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\tint miss = 0; \r\n\t\tString choice1;\r\n\t\tString temp;\r\n\t\t\r\n\t\tString[] words = {&quot;giraffe&quot;, &quot;hipopotamus&quot;, &quot;gorilla&quot;, &quot;peacock&quot;, &quot;armadillo&quot;};\r\n\r\n\t\tint choice;\r\n\t\t//do {\r\n\t\t\tmainMenu();\r\n\t\t\tchoice = input.nextInt();\r\n\t\t\tSystem.out.println();\r\n\t\t\tif(choice == 1){\r\n\t\t\t\t\r\n\t\t\t\tString wordRandom = Randomizer(words);\r\n//\t\t\t\tchar[] letters = new char[wordRandom.length()];\r\n\t\t\t\tString mute  = secretWord(wordRandom);\r\n\t\t\t\ttemp = mute;\r\n//\t\t\t\tchar c = wordRandom.charAt(3);\r\n//\t\t\t\tSystem.out.println(c);\r\n\t\t\t\tSystem.out.println(wordRandom);\r\n\t\t\t\tSystem.out.println(&quot;Note: use only small character/s&quot;);\r\n\t\t\t\t\r\n\t\t\t\twhile(!mute.equals(wordRandom)) {\r\n\t\t\t\t\tSystem.out.print(&quot;(Guess) Enter a letter in word &quot; + mute + &quot; &gt; &quot;); \t\t\r\n\t\t\t\t\tchoice1 = input.nextLine();\r\n//\t\t\t\t\tchar letter = choice1.charAt(0);\r\n\t\t\t\t\tmute = CharacterSearch(wordRandom, mute, choice1);\r\n\r\n\t\t\t\t\tif(temp.equals(mute)) {\r\n\t\t\t\t\t\tmiss++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttemp = mute;\r\n\t\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(&quot;The word is &quot; + wordRandom + &quot;.&quot; + &quot; You missed &quot; + miss + &quot; time.&quot;);\r\n\t\t\t}\r\n\t\t\telse if (choice == 0) {\r\n\t\t\t\tSystem.out.println(&quot;Thank you!!&quot;);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t}\r\n\tpublic static void mainMenu() {\r\n\t\tSystem.out.println(&quot;Welcome to Hangman&quot;);  \r\n\t\tSystem.out.println(&quot;[1]START\\n[0]EXIT&quot;); \r\n\t\tSystem.out.print(&quot;Please input your choice: &quot;);\r\n\t\treturn;\t\r\n\t}\r\n\tpublic static String CharacterSearch(String word, String muted, String key) {\r\n\t\tStringBuilder update = new StringBuilder(muted);\r\n\t\tint i;\r\n\t\tfor(i = 0; i &lt; word.length(); i++) {\r\n\t\t\tif(word.charAt(i)  == key.charAt(0)) {\r\n\t\t\t\tupdate.setCharAt(i,key.charAt(0));\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tmuted = update.toString();\r\n\t\treturn muted;\r\n\t}\r\n\tpublic static String secretWord(String word) {\r\n\t\tString temp = &quot;&quot;;\r\n\t\tfor(int i = 0; i &lt; word.length(); i++) {\r\n\t\t\ttemp += &quot;*&quot;;\r\n\t\t}\r\n\t\treturn temp;\r\n\t}\r\n\t\r\n\tpublic static String Randomizer(String[] words) {\r\n\t\tint rand = (int)(Math.random() * words.length);\r\n\t\tString word = words[rand];\r\n\t\treturn word;\r\n\t}\r\n}\r\n```\r\n\r\n\r\nI tried so many things but it will always say Index out of Bounds.","title":"Index 0 out of bounds for length 0 for Hangman game","body":"<p>Why the console said <code>Index 0 out of bounds for length 0</code>?<br />\nIt says in my method <code>CharacterSearch()</code>.</p>\n<p>Here is my code. By the way the code is Hangman Game. I am new to java and don't know all the libraries included.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package besingaPi_LE_3_2;\n\nimport java.util.Scanner;\n\npublic class GameHangman {\n\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        int miss = 0; \n        String choice1;\n        String temp;\n        \n        String[] words = {&quot;giraffe&quot;, &quot;hipopotamus&quot;, &quot;gorilla&quot;, &quot;peacock&quot;, &quot;armadillo&quot;};\n\n        int choice;\n        //do {\n            mainMenu();\n            choice = input.nextInt();\n            System.out.println();\n            if(choice == 1){\n                \n                String wordRandom = Randomizer(words);\n//              char[] letters = new char[wordRandom.length()];\n                String mute  = secretWord(wordRandom);\n                temp = mute;\n//              char c = wordRandom.charAt(3);\n//              System.out.println(c);\n                System.out.println(wordRandom);\n                System.out.println(&quot;Note: use only small character/s&quot;);\n                \n                while(!mute.equals(wordRandom)) {\n                    System.out.print(&quot;(Guess) Enter a letter in word &quot; + mute + &quot; &gt; &quot;);         \n                    choice1 = input.nextLine();\n//                  char letter = choice1.charAt(0);\n                    mute = CharacterSearch(wordRandom, mute, choice1);\n\n                    if(temp.equals(mute)) {\n                        miss++;\n                    }\n                    temp = mute;\n    \n                }\n                System.out.println(&quot;The word is &quot; + wordRandom + &quot;.&quot; + &quot; You missed &quot; + miss + &quot; time.&quot;);\n            }\n            else if (choice == 0) {\n                System.out.println(&quot;Thank you!!&quot;);\n                return;\n            }\n\n    }\n    public static void mainMenu() {\n        System.out.println(&quot;Welcome to Hangman&quot;);  \n        System.out.println(&quot;[1]START\\n[0]EXIT&quot;); \n        System.out.print(&quot;Please input your choice: &quot;);\n        return; \n    }\n    public static String CharacterSearch(String word, String muted, String key) {\n        StringBuilder update = new StringBuilder(muted);\n        int i;\n        for(i = 0; i &lt; word.length(); i++) {\n            if(word.charAt(i)  == key.charAt(0)) {\n                update.setCharAt(i,key.charAt(0));\n            }\n        }\n        \n        muted = update.toString();\n        return muted;\n    }\n    public static String secretWord(String word) {\n        String temp = &quot;&quot;;\n        for(int i = 0; i &lt; word.length(); i++) {\n            temp += &quot;*&quot;;\n        }\n        return temp;\n    }\n    \n    public static String Randomizer(String[] words) {\n        int rand = (int)(Math.random() * words.length);\n        String word = words[rand];\n        return word;\n    }\n}\n</code></pre>\n<p>I tried so many things but it will always say Index out of Bounds.</p>\n"},{"tags":["java","reactjs","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1694786886,"post_id":77112838,"comment_id":135941129,"body_markdown":"Stack Overflow doesn&#39;t allow questions asking for off-site tutorials or examples. One of the reasons why is because those tutorials could disappear in the future.","body":"Stack Overflow doesn&#39;t allow questions asking for off-site tutorials or examples. One of the reasons why is because those tutorials could disappear in the future."},{"owner":{"account_id":3517939,"reputation":560,"user_id":2940920,"accept_rate":29,"display_name":"Zlelik"},"score":0,"creation_date":1694787661,"post_id":77112838,"comment_id":135941283,"body_markdown":"I understand, I changed the question without asking for tutorials.","body":"I understand, I changed the question without asking for tutorials."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1694788465,"post_id":77112838,"comment_id":135941443,"body_markdown":"You should prefer Spring Boot.  It&#39;s using Spring, but adds things to make your life easier.  If you insist on just Spring, create Controller classes and deploy them.  Those are your REST services.","body":"You should prefer Spring Boot.  It&#39;s using Spring, but adds things to make your life easier.  If you insist on just Spring, create Controller classes and deploy them.  Those are your REST services."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1694789215,"post_id":77112838,"comment_id":135941601,"body_markdown":"Don&#39;t see what a WAR and JEE server add, either. Executable JAR is the way to go.\\","body":"Don&#39;t see what a WAR and JEE server add, either. Executable JAR is the way to go.\\"}],"answers":[{"tags":[],"owner":{"account_id":29464179,"reputation":26,"user_id":22578231,"display_name":"Harsh Devavanshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694935758,"creation_date":1694935758,"answer_id":77120878,"question_id":77112838,"body_markdown":"**Does it make sense at all or everybody is using Spring Boot now unless they have a legacy app which was built when Spring Boot did not exist?**\r\n\r\nI think it depends on priority like if you want to configure your application from scratch you can opt for spring framework and there are several companies they are still using spring framework for backend because of their complex application and manual configuration which gives them better control over the application.\r\n\r\n**I want to build it as a war file, not as a java application as Sprint Boot does. I understand that I can package Spring Boot app into war, but I want to see if I can make a pure Spring Framework war file and use it.**\r\n\r\nAlthough spring boot is often associated with jar deployments but still you can create a war file from spring boot if needed.\r\n\r\n\r\n","title":"Spring Framework rest services with React.js","body":"<p><strong>Does it make sense at all or everybody is using Spring Boot now unless they have a legacy app which was built when Spring Boot did not exist?</strong></p>\n<p>I think it depends on priority like if you want to configure your application from scratch you can opt for spring framework and there are several companies they are still using spring framework for backend because of their complex application and manual configuration which gives them better control over the application.</p>\n<p><strong>I want to build it as a war file, not as a java application as Sprint Boot does. I understand that I can package Spring Boot app into war, but I want to see if I can make a pure Spring Framework war file and use it.</strong></p>\n<p>Although spring boot is often associated with jar deployments but still you can create a war file from spring boot if needed.</p>\n"}],"owner":{"account_id":3517939,"reputation":560,"user_id":2940920,"accept_rate":29,"display_name":"Zlelik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77120878,"answer_count":1,"score":0,"last_activity_date":1694935758,"creation_date":1694785035,"question_id":77112838,"body_markdown":"I want to make a React.js webapp which gets the data from Spring rest services. Whatever examples/tutorials I got, everybody uses Spring Boot, not Spring Framework. I want to build an app with Spring Framework, not Spring Boot.\r\n\r\nSo, my question: Does it make sense at all or everybody is using Spring Boot now unless they have a legacy app which was built when Spring Boot did not exist?\r\n\r\nI want to build it as a war file, not as a java application as Sprint Boot does. I understand that I can package Spring Boot app into war, but I want to see if I can make a pure Spring Framework war file and use it.","title":"Spring Framework rest services with React.js","body":"<p>I want to make a React.js webapp which gets the data from Spring rest services. Whatever examples/tutorials I got, everybody uses Spring Boot, not Spring Framework. I want to build an app with Spring Framework, not Spring Boot.</p>\n<p>So, my question: Does it make sense at all or everybody is using Spring Boot now unless they have a legacy app which was built when Spring Boot did not exist?</p>\n<p>I want to build it as a war file, not as a java application as Sprint Boot does. I understand that I can package Spring Boot app into war, but I want to see if I can make a pure Spring Framework war file and use it.</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"answers":[{"comments":[{"owner":{"account_id":16299235,"reputation":315,"user_id":11770758,"display_name":"Jaime Miranda Ramirez"},"score":0,"creation_date":1694814983,"post_id":54512473,"comment_id":135945799,"body_markdown":"The semicolon after the ```.whereLessThan()``` argument should be removed. If it&#39;s left there the query would finalize there and the ```.orderBy()``` will give you an error.","body":"The semicolon after the <code>.whereLessThan()</code> argument should be removed. If it&#39;s left there the query would finalize there and the <code>.orderBy()</code> will give you an error."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1694931569,"post_id":54512473,"comment_id":135954707,"body_markdown":"@JaimeMirandaRamirez Yes, that&#39;s correct. I just updated my answer. Thank you, Jaime.","body":"@JaimeMirandaRamirez Yes, that&#39;s correct. I just updated my answer. Thank you, Jaime."}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1694931540,"creation_date":1549269162,"answer_id":54512473,"question_id":54511674,"body_markdown":"Cloud Firestore queries are immutable, which means that you cannot change the properties of an existing query. If you change the value by calling `whereLessThan()` method, it becomes a new query. So to solve this, please chain all method calls and store them in a new `Query` object like this:\r\n\r\n    Query query = db.collection(viewType.collectionName())\r\n        .whereLessThan(&quot;endDate&quot;, new Date())\r\n        .orderBy(viewType.sortProperty()).limit(PAGE_SIZE);\r\n    return query;","title":"FireStore date query not working as expected","body":"<p>Cloud Firestore queries are immutable, which means that you cannot change the properties of an existing query. If you change the value by calling <code>whereLessThan()</code> method, it becomes a new query. So to solve this, please chain all method calls and store them in a new <code>Query</code> object like this:</p>\n<pre><code>Query query = db.collection(viewType.collectionName())\n    .whereLessThan(&quot;endDate&quot;, new Date())\n    .orderBy(viewType.sortProperty()).limit(PAGE_SIZE);\nreturn query;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3410724,"reputation":456,"user_id":2860701,"display_name":"AndroidZen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577458746,"creation_date":1577458746,"answer_id":59502494,"question_id":54511674,"body_markdown":"I&#39;ve faced the same problem and my solution comparing and filtering dates is this:\r\n\r\nNote that firebase store `Date` as `Timestamp` so instead of create a `Date` to compare, I create a `Timestamp` instead.\r\n\r\nRemember to import `Timestamp` from Firebase: \r\n\r\n    import com.google.firebase.Timestamp\r\n\r\n\r\nCode to query:\r\n\r\n\tval currentDate = Timestamp.now() // Firebase Date as Timestamp\r\n\r\n\tFirebaseFirestore db = FireStoreUtils.getInstance();\r\n\tQuery query= db.collection(viewType.collectionName());\r\n\t\t\tquery.whereLessThan(&quot;endDate&quot;, currentDate.toDate()); \r\n\t\r\n\treturn query.orderBy(viewType.sortProperty()).limit(PAGE_SIZE);\r\n\r\nI&#39;m using firebase version:\r\n\r\n    implementation &quot;com.google.firebase:firebase-firestore-ktx:21.3.1&quot;\r\n\r\nI hope it helps!!","title":"FireStore date query not working as expected","body":"<p>I've faced the same problem and my solution comparing and filtering dates is this:</p>\n\n<p>Note that firebase store <code>Date</code> as <code>Timestamp</code> so instead of create a <code>Date</code> to compare, I create a <code>Timestamp</code> instead.</p>\n\n<p>Remember to import <code>Timestamp</code> from Firebase: </p>\n\n<pre><code>import com.google.firebase.Timestamp\n</code></pre>\n\n<p>Code to query:</p>\n\n<pre><code>val currentDate = Timestamp.now() // Firebase Date as Timestamp\n\nFirebaseFirestore db = FireStoreUtils.getInstance();\nQuery query= db.collection(viewType.collectionName());\n        query.whereLessThan(\"endDate\", currentDate.toDate()); \n\nreturn query.orderBy(viewType.sortProperty()).limit(PAGE_SIZE);\n</code></pre>\n\n<p>I'm using firebase version:</p>\n\n<pre><code>implementation \"com.google.firebase:firebase-firestore-ktx:21.3.1\"\n</code></pre>\n\n<p>I hope it helps!!</p>\n"}],"owner":{"account_id":33485,"reputation":18869,"user_id":93796,"accept_rate":55,"display_name":"user93796"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1772,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":54512473,"answer_count":2,"score":2,"last_activity_date":1694931540,"creation_date":1549265071,"question_id":54511674,"body_markdown":"I have doc which has a date object.\r\n\r\nCode to init Firestore:\r\n\r\n     FirebaseFirestore fireStore = FirebaseFirestore.getInstance();\r\n            FirebaseFirestoreSettings settings = new FirebaseFirestoreSettings.Builder()\r\n                    .setTimestampsInSnapshotsEnabled(true)\r\n                    .build();\r\n            fireStore.setFirestoreSettings(settings);\r\n            firestore = fireStore;\r\n\r\nCode to query:\r\n\r\n    FirebaseFirestore db = FireStoreUtils.getInstance();\r\n    Query query= db.collection(viewType.collectionName());\r\n            query.whereLessThan(&quot;endDate&quot;, new Date()); \r\n            return query.orderBy(viewType.sortProperty()).limit(PAGE_SIZE);\r\n\r\n\r\nI am always getting all the records and looks like the where clause is not getting applied. On Firebase console I see that the `endDate` is stored as timestamp.\r\n\r\nDoc from Firebase console:\r\n\r\n    createdDate: null (null)\r\n    description: &quot;desc&quot; (string)\r\n    endDate: February 3, 2019 at 11:18:58 PM UTC-8 (timestamp)\r\n    id: &quot;-7475596197450085332&quot; (string)\r\n    title: &quot;title&quot; ","title":"FireStore date query not working as expected","body":"<p>I have doc which has a date object.</p>\n\n<p>Code to init Firestore:</p>\n\n<pre><code> FirebaseFirestore fireStore = FirebaseFirestore.getInstance();\n        FirebaseFirestoreSettings settings = new FirebaseFirestoreSettings.Builder()\n                .setTimestampsInSnapshotsEnabled(true)\n                .build();\n        fireStore.setFirestoreSettings(settings);\n        firestore = fireStore;\n</code></pre>\n\n<p>Code to query:</p>\n\n<pre><code>FirebaseFirestore db = FireStoreUtils.getInstance();\nQuery query= db.collection(viewType.collectionName());\n        query.whereLessThan(\"endDate\", new Date()); \n        return query.orderBy(viewType.sortProperty()).limit(PAGE_SIZE);\n</code></pre>\n\n<p>I am always getting all the records and looks like the where clause is not getting applied. On Firebase console I see that the <code>endDate</code> is stored as timestamp.</p>\n\n<p>Doc from Firebase console:</p>\n\n<pre><code>createdDate: null (null)\ndescription: \"desc\" (string)\nendDate: February 3, 2019 at 11:18:58 PM UTC-8 (timestamp)\nid: \"-7475596197450085332\" (string)\ntitle: \"title\" \n</code></pre>\n"},{"tags":["java","spring","caching","jcache","jsr107"],"answers":[{"comments":[{"owner":{"account_id":3234420,"reputation":3542,"user_id":2728956,"accept_rate":66,"display_name":"Vadim Kirilchuk"},"score":0,"creation_date":1463738240,"post_id":37342962,"comment_id":62203744,"body_markdown":"Yes, and I bet there should already be some custom implementations. The question is not only about removals, please see the attached questions in Upd.","body":"Yes, and I bet there should already be some custom implementations. The question is not only about removals, please see the attached questions in Upd."},{"owner":{"account_id":3062336,"reputation":5575,"user_id":2594725,"accept_rate":12,"display_name":"cruftex"},"score":1,"creation_date":1463739947,"post_id":37342962,"comment_id":62204849,"body_markdown":"Just curious: How many instances is your application typically requesting at once?  If you cannot do it via a bulk request but one after another, will you fail to meet the maximum latency requirements from your customer? If you go for a custom solution: Have you profiled all your application and this is the optimization that will have the most impact? Just asking ;)","body":"Just curious: How many instances is your application typically requesting at once?  If you cannot do it via a bulk request but one after another, will you fail to meet the maximum latency requirements from your customer? If you go for a custom solution: Have you profiled all your application and this is the optimization that will have the most impact? Just asking ;)"},{"owner":{"account_id":3234420,"reputation":3542,"user_id":2728956,"accept_rate":66,"display_name":"Vadim Kirilchuk"},"score":0,"creation_date":1463740165,"post_id":37342962,"comment_id":62204992,"body_markdown":"It&#39;s a good question but even if it&#39;s doable in my case it may not be doable in others case. So, the question is more generic than just my case. So, I am searching some kind of reusable solution for such cases. If I don&#39;t find it, I will write my own and post it here :)","body":"It&#39;s a good question but even if it&#39;s doable in my case it may not be doable in others case. So, the question is more generic than just my case. So, I am searching some kind of reusable solution for such cases. If I don&#39;t find it, I will write my own and post it here :)"}],"tags":[],"owner":{"account_id":3062336,"reputation":5575,"user_id":2594725,"accept_rate":12,"display_name":"cruftex"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463739403,"creation_date":1463736421,"answer_id":37342962,"question_id":37342548,"body_markdown":"AFAIK this is not possible with annotations. You can use the imperative API, which contains the bulk operations you need, for example `Cache.getAll(keySet)` and `Cache.removeAll(keySet)`","title":"Spring cache/jsr107: list/collection argument as part of the key","body":"<p>AFAIK this is not possible with annotations. You can use the imperative API, which contains the bulk operations you need, for example <code>Cache.getAll(keySet)</code> and <code>Cache.removeAll(keySet)</code></p>\n"},{"comments":[{"owner":{"account_id":10734227,"reputation":393,"user_id":7899320,"display_name":"Fernando"},"score":0,"creation_date":1610038454,"post_id":60992530,"comment_id":116012427,"body_markdown":"I just googled what #p0 and that&#39;s just the value of parameter 1 which is jus a reference in hex. You are using a hex reference as key which I think is not appropriate.","body":"I just googled what #p0 and that&#39;s just the value of parameter 1 which is jus a reference in hex. You are using a hex reference as key which I think is not appropriate."},{"owner":{"account_id":3403570,"reputation":663,"user_id":2891027,"display_name":"Koroslak"},"score":0,"creation_date":1610098570,"post_id":60992530,"comment_id":116029918,"body_markdown":"@Fernando you&#39;re right, it&#39;s the value of the 1st parameter. \n1. what is a hex reference ?\n2. why is it not appropriate ?","body":"@Fernando you&#39;re right, it&#39;s the value of the 1st parameter.  1. what is a hex reference ? 2. why is it not appropriate ?"}],"tags":[],"owner":{"account_id":3403570,"reputation":663,"user_id":2891027,"display_name":"Koroslak"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1585833553,"creation_date":1585833553,"answer_id":60992530,"question_id":37342548,"body_markdown":"For me it worked fine with this config.\r\nThis is a obfuscated version of my code.\r\n\r\n```\r\n@Cacheable(cacheNames = &quot;test&quot;, key = &quot;#p0&quot;)\r\npublic List&lt;String&gt; getTestFunction(List&lt;String&gt; someIds) {\r\n```\r\n```\r\ngetTestFunction(Arrays.asList(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;));\r\n```\r\n```\r\n2020-04-02 15:12:35.492 TRACE 18040 --- [Test worker] o.s.cache.interceptor.CacheInterceptor   : Computed cache key &#39;[A, B, C]&#39; for operation Builder[public java.util.List org.Main.getTestFunction(java.util.List)] caches=[test] | key=&#39;#p0&#39; | keyGenerator=&#39;&#39; | cacheManager=&#39;&#39; | cacheResolver=&#39;&#39; | condition=&#39;&#39; | unless=&#39;&#39; | sync=&#39;false&#39;\r\n```\r\nYou see that it concatinated strings\r\n```\r\n... Computed cache key &#39;[A, B, C]&#39; ...\r\n```\r\n\r\nMy setup:\r\n/resources/ehcache.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;ehcache&gt;\r\n    &lt;cache name=&quot;test&quot;\r\n           maxBytesLocalHeap=&quot;1M&quot;\r\n           timeToLiveSeconds=&quot;300&quot;/&gt;\r\n&lt;/ehcache&gt;\r\n```\r\ngradle.build\r\n```\r\nplugins {\r\n    id &quot;org.springframework.boot&quot; version &quot;2.2.4.RELEASE&quot;\r\n    ....\r\n}\r\ndependencies {\r\n    implementation &quot;org.springframework.boot:spring-boot-starter-cache&quot;\r\n    implementation &quot;org.ehcache:ehcache:3.8.1&quot;\r\n    ...\r\n}\r\n\r\n```","title":"Spring cache/jsr107: list/collection argument as part of the key","body":"<p>For me it worked fine with this config.\nThis is a obfuscated version of my code.</p>\n\n<pre><code>@Cacheable(cacheNames = \"test\", key = \"#p0\")\npublic List&lt;String&gt; getTestFunction(List&lt;String&gt; someIds) {\n</code></pre>\n\n<pre><code>getTestFunction(Arrays.asList(\"A\",\"B\",\"C\"));\n</code></pre>\n\n<pre><code>2020-04-02 15:12:35.492 TRACE 18040 --- [Test worker] o.s.cache.interceptor.CacheInterceptor   : Computed cache key '[A, B, C]' for operation Builder[public java.util.List org.Main.getTestFunction(java.util.List)] caches=[test] | key='#p0' | keyGenerator='' | cacheManager='' | cacheResolver='' | condition='' | unless='' | sync='false'\n</code></pre>\n\n<p>You see that it concatinated strings</p>\n\n<pre><code>... Computed cache key '[A, B, C]' ...\n</code></pre>\n\n<p>My setup:\n/resources/ehcache.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;ehcache&gt;\n    &lt;cache name=\"test\"\n           maxBytesLocalHeap=\"1M\"\n           timeToLiveSeconds=\"300\"/&gt;\n&lt;/ehcache&gt;\n</code></pre>\n\n<p>gradle.build</p>\n\n<pre><code>plugins {\n    id \"org.springframework.boot\" version \"2.2.4.RELEASE\"\n    ....\n}\ndependencies {\n    implementation \"org.springframework.boot:spring-boot-starter-cache\"\n    implementation \"org.ehcache:ehcache:3.8.1\"\n    ...\n}\n\n</code></pre>\n"}],"owner":{"account_id":3234420,"reputation":3542,"user_id":2728956,"accept_rate":66,"display_name":"Vadim Kirilchuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9312,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1694930795,"creation_date":1463735254,"question_id":37342548,"body_markdown":"I have a service which calls external system to retrieve some kind of objects by their external id as well as submit them back to update. Rather than retrieving objects one by one there is a more generic purpose methods:\r\n\r\n    public interface ExternalSystem {\r\n        List&lt;ExternalDTO&gt; getObjects(List&lt;String&gt; externalIds);\r\n\r\n        void updateObjects(List&lt;ExternalDTO&gt; updates);\r\n    }\r\n\r\nI would like put a cache on top of the ExternalSystem calls because they are quite expensive.\r\n\r\nIn the implementation of the service I can simply put spring annotations:\r\n\r\n    @Cacheable(&quot;cache-external&quot;)\r\n    List&lt;ExternalDTO&gt; getObjects(List&lt;String&gt; externalIds) {} \r\n    \r\n    @CacheEvict(cacheNames=&quot;cache-external&quot;, allEntries=true)\r\n    void updateObjects(List&lt;ExternalDTO&gt; updates);\r\n\r\nHowever, such a cache will behave very badly in case I have a lot of intersection between externalIds, i.e.\r\n\r\n 1. Call#1 getObjects([1,2,3,4]) -&gt; cache put by [1,2,3,4] key\r\n 2. Call#2 getObjects([1,2,3,4,5]) -&gt; cache put by [1,2,3,4,5] key\r\n 3. Call#3 getObjects([6,7,8,9]) -&gt; cache put by [6,7,8,9] key\r\n 4. Call#4 updateObjects([1]) -&gt; evict all the caches but the third cache doesn&#39;t contain 3\r\n\r\nSo, the question is how to implement the custom strategy (I assume it&#39;s not doable out-of the box) which will evict only those entries which really should be evicted and will make the keys such a way that intersecting objects are retrieved from the cache?\r\n\r\n**Upd.** I&#39;ve found two similar questions:\r\n\r\n 1. [spring-cache-abstraction-with-multi-value-queries][2]    \r\n 2. [using-spring-cache-on-methods-that-take-an-array-or-collection][3]\r\n 3. [spring-cacheable-methods-with-lists][1]\r\n\r\n**Upd2.**\r\nHere is something similar to what I want except I will put into cache pairs of String and ExternalDTO for each item in collection.\r\n[element-level-caching-of-list-to-list][4]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/31220740/spring-cacheable-methods-with-lists\r\n  [2]: https://stackoverflow.com/questions/13178723/spring-cache-abstraction-with-multi-value-queries\r\n  [3]: https://stackoverflow.com/questions/33657881/what-strategies-exist-for-using-spring-cache-on-methods-that-take-an-array-or-co\r\n  [4]: http://literatitech.blogspot.ru/2012/07/element-level-caching-of-list-to-list.html","title":"Spring cache/jsr107: list/collection argument as part of the key","body":"<p>I have a service which calls external system to retrieve some kind of objects by their external id as well as submit them back to update. Rather than retrieving objects one by one there is a more generic purpose methods:</p>\n\n<pre><code>public interface ExternalSystem {\n    List&lt;ExternalDTO&gt; getObjects(List&lt;String&gt; externalIds);\n\n    void updateObjects(List&lt;ExternalDTO&gt; updates);\n}\n</code></pre>\n\n<p>I would like put a cache on top of the ExternalSystem calls because they are quite expensive.</p>\n\n<p>In the implementation of the service I can simply put spring annotations:</p>\n\n<pre><code>@Cacheable(\"cache-external\")\nList&lt;ExternalDTO&gt; getObjects(List&lt;String&gt; externalIds) {} \n\n@CacheEvict(cacheNames=\"cache-external\", allEntries=true)\nvoid updateObjects(List&lt;ExternalDTO&gt; updates);\n</code></pre>\n\n<p>However, such a cache will behave very badly in case I have a lot of intersection between externalIds, i.e.</p>\n\n<ol>\n<li>Call#1 getObjects([1,2,3,4]) -> cache put by [1,2,3,4] key</li>\n<li>Call#2 getObjects([1,2,3,4,5]) -> cache put by [1,2,3,4,5] key</li>\n<li>Call#3 getObjects([6,7,8,9]) -> cache put by [6,7,8,9] key</li>\n<li>Call#4 updateObjects(<a href=\"https://stackoverflow.com/questions/31220740/spring-cacheable-methods-with-lists\">1</a>) -> evict all the caches but the third cache doesn't contain 3</li>\n</ol>\n\n<p>So, the question is how to implement the custom strategy (I assume it's not doable out-of the box) which will evict only those entries which really should be evicted and will make the keys such a way that intersecting objects are retrieved from the cache?</p>\n\n<p><strong>Upd.</strong> I've found two similar questions:</p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/13178723/spring-cache-abstraction-with-multi-value-queries\">spring-cache-abstraction-with-multi-value-queries</a>    </li>\n<li><a href=\"https://stackoverflow.com/questions/33657881/what-strategies-exist-for-using-spring-cache-on-methods-that-take-an-array-or-co\">using-spring-cache-on-methods-that-take-an-array-or-collection</a></li>\n<li><a href=\"https://stackoverflow.com/questions/31220740/spring-cacheable-methods-with-lists\">spring-cacheable-methods-with-lists</a></li>\n</ol>\n\n<p><strong>Upd2.</strong>\nHere is something similar to what I want except I will put into cache pairs of String and ExternalDTO for each item in collection.\n<a href=\"http://literatitech.blogspot.ru/2012/07/element-level-caching-of-list-to-list.html\" rel=\"noreferrer\">element-level-caching-of-list-to-list</a></p>\n"},{"tags":["java","android","android-studio","callkit","agora.io"],"answers":[{"comments":[{"owner":{"account_id":14561499,"reputation":121,"user_id":10517447,"display_name":"asadullah"},"score":0,"creation_date":1550413861,"post_id":54724085,"comment_id":96250752,"body_markdown":"exactly I have discussed with Agora.io technical team that why not you guy creates an example of Callkit for Android as for IOS. they replied that for IOS it is essential but for android, it is not that&#39;s why.","body":"exactly I have discussed with Agora.io technical team that why not you guy creates an example of Callkit for Android as for IOS. they replied that for IOS it is essential but for android, it is not that&#39;s why."}],"tags":[],"owner":{"account_id":5081709,"reputation":1159,"user_id":4077574,"accept_rate":88,"display_name":"Galaxy"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694930396,"creation_date":1550327205,"answer_id":54724085,"question_id":54655884,"body_markdown":"Agora.io has example for iOS Callkit [here](https://github.com/AgoraIO/Advanced-Video/tree/master/Calling-Interface/Agora-RTC-With-CallKit).\r\n\r\nUnfortunately, I could not find one for Android.\r\n\r\nDue to [this question](https://android.stackexchange.com/q/157363/158990), Android does have similar things like Callkit, but it&#39;s full of bugs, so no one wanna try it any more.","title":"Callkit example or sample for Android platform along with agora.io calling service","body":"<p>Agora.io has example for iOS Callkit <a href=\"https://github.com/AgoraIO/Advanced-Video/tree/master/Calling-Interface/Agora-RTC-With-CallKit\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Unfortunately, I could not find one for Android.</p>\n<p>Due to <a href=\"https://android.stackexchange.com/q/157363/158990\">this question</a>, Android does have similar things like Callkit, but it's full of bugs, so no one wanna try it any more.</p>\n"}],"owner":{"account_id":14561499,"reputation":121,"user_id":10517447,"display_name":"asadullah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":935,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1694930396,"creation_date":1549993708,"question_id":54655884,"body_markdown":"and thank you in advance for helping, I am using agora.io calling service in many applications calling module the issues I currently facing is that I have never found any perfect sample for callkit that works perfectly with my calling service i.e agora.io. ","title":"Callkit example or sample for Android platform along with agora.io calling service","body":"<p>and thank you in advance for helping, I am using agora.io calling service in many applications calling module the issues I currently facing is that I have never found any perfect sample for callkit that works perfectly with my calling service i.e agora.io. </p>\n"},{"tags":["java","singleton"],"comments":[{"owner":{"account_id":133437,"reputation":3626,"user_id":334807,"accept_rate":91,"display_name":"InsertNickHere"},"score":2,"creation_date":1278480180,"post_id":3192095,"comment_id":3288716,"body_markdown":"What I have learned here: don&#39;t use singleton at all. :) This pattern is not up to date due to threading and other reasons.","body":"What I have learned here: don&#39;t use singleton at all. :) This pattern is not up to date due to threading and other reasons."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":9,"creation_date":1278480444,"post_id":3192095,"comment_id":3288734,"body_markdown":"@InsertNickHere: It&#39;s entirely possible to implement the singleton pattern in a thread-safe manner. Testability is a much more important reason not to use singletons, IMO.","body":"@InsertNickHere: It&#39;s entirely possible to implement the singleton pattern in a thread-safe manner. Testability is a much more important reason not to use singletons, IMO."},{"owner":{"account_id":133437,"reputation":3626,"user_id":334807,"accept_rate":91,"display_name":"InsertNickHere"},"score":0,"creation_date":1278480912,"post_id":3192095,"comment_id":3288775,"body_markdown":"@Jon Skeet Well, I have to admit I just repeated what one told me here. I searched the comment but I can&#39;t find. They told me to use the &quot;Application pattern&quot; instead.","body":"@Jon Skeet Well, I have to admit I just repeated what one told me here. I searched the comment but I can&#39;t find. They told me to use the &quot;Application pattern&quot; instead."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1278482170,"post_id":3192095,"comment_id":3288854,"body_markdown":"@InsertNickHere: Did they explain what the &quot;application pattern&quot; is? Can&#39;t say I&#39;ve heard of that one...","body":"@InsertNickHere: Did they explain what the &quot;application pattern&quot; is? Can&#39;t say I&#39;ve heard of that one..."},{"owner":{"account_id":133437,"reputation":3626,"user_id":334807,"accept_rate":91,"display_name":"InsertNickHere"},"score":0,"creation_date":1278482894,"post_id":3192095,"comment_id":3288915,"body_markdown":"@Jon I&#39;m afraid I dident realy get it. It has sth to do with where is the instance created. IIRC they use a static instance in the getInstance() method or so.","body":"@Jon I&#39;m afraid I dident realy get it. It has sth to do with where is the instance created. IIRC they use a static instance in the getInstance() method or so."},{"owner":{"account_id":113908,"reputation":3110,"user_id":299787,"display_name":"Redlab"},"score":0,"creation_date":1278483998,"post_id":3192095,"comment_id":3289002,"body_markdown":"@InsertNickHere threading is not so much an issue with singletons. (if they&#39;re written in a threadsafe way if needed). Other reasons might be bigger issues, other reasons being: distributed applications","body":"@InsertNickHere threading is not so much an issue with singletons. (if they&#39;re written in a threadsafe way if needed). Other reasons might be bigger issues, other reasons being: distributed applications"},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":1,"creation_date":1278491217,"post_id":3192095,"comment_id":3289740,"body_markdown":"Most classes should not be thread-safe. Thread-safety is difficult to put it mildly. Therefore, adding a non-useful requirement for a class to be thread-safe is probably a poor idea. / Singletons are plain bad design. For my money the worst aspect is dependency. Any code that uses them (or uses code that uses them, etc), now has assumptions about how processes (class loaders in Java) are used.","body":"Most classes should not be thread-safe. Thread-safety is difficult to put it mildly. Therefore, adding a non-useful requirement for a class to be thread-safe is probably a poor idea. / Singletons are plain bad design. For my money the worst aspect is dependency. Any code that uses them (or uses code that uses them, etc), now has assumptions about how processes (class loaders in Java) are used."},{"owner":{"account_id":159523,"reputation":12477,"user_id":378968,"accept_rate":87,"display_name":"Dead Programmer"},"score":0,"creation_date":1295430723,"post_id":3192095,"comment_id":5231233,"body_markdown":"For example running a trial version of a software with one license and one database connection ,that uses singleton pattern in real word. may be the guru jon skeet can provide example like this.","body":"For example running a trial version of a software with one license and one database connection ,that uses singleton pattern in real word. may be the guru jon skeet can provide example like this."},{"owner":{"account_id":3838250,"reputation":9521,"user_id":3182091,"accept_rate":91,"display_name":"Robert P"},"score":0,"creation_date":1390212979,"post_id":3192095,"comment_id":31979353,"body_markdown":"This question is old but i have to say something: For example in a game, where you have a Player you control and enemies controlled by some Kind of AI and you want to implement Sound. Isn&#39;t singleton usable here? You could have a soundmanager which loads the sounds you need (Shooting sound or damage sound...) and applies the sound-Settings (volume etc.). You can simply hold an instance of the singleton soundmanager in each object and when it shoots Play the sound. So you don&#39;t have to care about the sound Settings in every class.","body":"This question is old but i have to say something: For example in a game, where you have a Player you control and enemies controlled by some Kind of AI and you want to implement Sound. Isn&#39;t singleton usable here? You could have a soundmanager which loads the sounds you need (Shooting sound or damage sound...) and applies the sound-Settings (volume etc.). You can simply hold an instance of the singleton soundmanager in each object and when it shoots Play the sound. So you don&#39;t have to care about the sound Settings in every class."}],"answers":[{"comments":[{"owner":{"account_id":30744,"reputation":915,"user_id":83965,"accept_rate":63,"display_name":"Sumeet"},"score":7,"creation_date":1278482354,"post_id":3192124,"comment_id":3288873,"body_markdown":"@swati- You have got Guru&#39;s response... you should accept this one as answered. :)","body":"@swati- You have got Guru&#39;s response... you should accept this one as answered. :)"},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1278490527,"post_id":3192124,"comment_id":3289644,"body_markdown":"You need an unhelpful definition of Singleton for `Runtime` to be one, as it has no state - it just uglifies client code. (Although you could claim that it guards mutable statics.) The Singletonness of `LogManager` is not enforced, other than by an (undocumented) circumventable permission check.","body":"You need an unhelpful definition of Singleton for <code>Runtime</code> to be one, as it has no state - it just uglifies client code. (Although you could claim that it guards mutable statics.) The Singletonness of <code>LogManager</code> is not enforced, other than by an (undocumented) circumventable permission check."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1278490960,"post_id":3192124,"comment_id":3289703,"body_markdown":"@Sumeet I interpret the question as where Singletons are defined in application code rather than in libraries, so this answer isn&#39;t so useful.","body":"@Sumeet I interpret the question as where Singletons are defined in application code rather than in libraries, so this answer isn&#39;t so useful."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1278491256,"post_id":3192124,"comment_id":3289745,"body_markdown":"@Tom: In application code, I&#39;d expect singletons in the same *sort* of areas as `LogManager`: where you effectively need global state/configuration across your whole app. But I&#39;d generally advise against it anyway :)","body":"@Tom: In application code, I&#39;d expect singletons in the same <i>sort</i> of areas as <code>LogManager</code>: where you effectively need global state/configuration across your whole app. But I&#39;d generally advise against it anyway :)"},{"owner":{"account_id":145010,"reputation":4823,"user_id":354495,"accept_rate":73,"display_name":"Sudhakar"},"score":0,"creation_date":1395280919,"post_id":3192124,"comment_id":34270603,"body_markdown":"@JonSkeet what about processor classes within the application .There is no state maintained  , all the variables are method local . Spring by default instantiates singleton only and injects wherever necessary","body":"@JonSkeet what about processor classes within the application .There is no state maintained  , all the variables are method local . Spring by default instantiates singleton only and injects wherever necessary"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1395297959,"post_id":3192124,"comment_id":34276295,"body_markdown":"@Sudhakar: It may be used as a singleton by Spring, but that doesn&#39;t make it a singleton as a class. If there&#39;s no state at all, I&#39;d be tempted to use static methods instead anyway - but it depends on whether the class is implementing an interface and whether it might conceivably need state later on. I probably wouldn&#39;t make it a *real* singleton though.","body":"@Sudhakar: It may be used as a singleton by Spring, but that doesn&#39;t make it a singleton as a class. If there&#39;s no state at all, I&#39;d be tempted to use static methods instead anyway - but it depends on whether the class is implementing an interface and whether it might conceivably need state later on. I probably wouldn&#39;t make it a <i>real</i> singleton though."},{"owner":{"account_id":145010,"reputation":4823,"user_id":354495,"accept_rate":73,"display_name":"Sudhakar"},"score":0,"creation_date":1395362048,"post_id":3192124,"comment_id":34316967,"body_markdown":"@JonSkeet yes i agree . But my argument was against the claim `the singleton pattern is mostly frowned upon these days - it introduces tight coupling, and makes things which use the singleton harder to test`  . Can you provide more info on this. Thanks","body":"@JonSkeet yes i agree . But my argument was against the claim <code>the singleton pattern is mostly frowned upon these days - it introduces tight coupling, and makes things which use the singleton harder to test</code>  . Can you provide more info on this. Thanks"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1395384633,"post_id":3192124,"comment_id":34323425,"body_markdown":"@Sudhakar: Well which bit do you disagree with? Spring creating a single instance and providing that to all classes is *not* really the same as the singleton pattern which *enforces* a single instance. The normal problem with the singleton pattern is that you end up with state which is hard to test against, as you can&#39;t easily start from a clean sheet. It also typically means that classes depend *directly* on the singleton, making it hard to fake it out for tests.","body":"@Sudhakar: Well which bit do you disagree with? Spring creating a single instance and providing that to all classes is <i>not</i> really the same as the singleton pattern which <i>enforces</i> a single instance. The normal problem with the singleton pattern is that you end up with state which is hard to test against, as you can&#39;t easily start from a clean sheet. It also typically means that classes depend <i>directly</i> on the singleton, making it hard to fake it out for tests."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":8,"down_vote_count":0,"up_vote_count":68,"is_accepted":false,"score":68,"last_activity_date":1278480252,"creation_date":1278480252,"answer_id":3192124,"question_id":3192095,"body_markdown":"Typically singletons are used for global configuration. The simplest example would be [`LogManager`][1] - there&#39;s a static `LogManager.getLogManager()` method, and a single global instance is used.\r\n\r\nIn fact this isn&#39;t a &quot;true&quot; singleton as you can derive your own class from `LogManager` and create extra instances that way - but it&#39;s typically *used* as a singleton.\r\n\r\nAnother example would be [`java.lang.Runtime`][2] - from the docs:\r\n\r\n&gt; Every Java application has a single\r\n&gt; instance of class Runtime that allows\r\n&gt; the application to interface with the\r\n&gt; environment in which the application\r\n&gt; is running. The current runtime can be\r\n&gt; obtained from the getRuntime method.\r\n\r\nThat&#39;s pretty much the definition of a singleton :)\r\n\r\nNow the singleton pattern is *mostly* frowned upon these days - it introduces tight coupling, and makes things which use the singleton harder to test, as you can&#39;t easily mock out that component. If you can get away without it, so much the better. Inject your dependencies where possible instead.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/logging/LogManager.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/lang/Runtime.html","title":"Where exactly the Singleton Pattern is used in real application?","body":"<p>Typically singletons are used for global configuration. The simplest example would be <a href=\"http://java.sun.com/javase/6/docs/api/java/util/logging/LogManager.html\" rel=\"noreferrer\"><code>LogManager</code></a> - there's a static <code>LogManager.getLogManager()</code> method, and a single global instance is used.</p>\n\n<p>In fact this isn't a \"true\" singleton as you can derive your own class from <code>LogManager</code> and create extra instances that way - but it's typically <em>used</em> as a singleton.</p>\n\n<p>Another example would be <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Runtime.html\" rel=\"noreferrer\"><code>java.lang.Runtime</code></a> - from the docs:</p>\n\n<blockquote>\n  <p>Every Java application has a single\n  instance of class Runtime that allows\n  the application to interface with the\n  environment in which the application\n  is running. The current runtime can be\n  obtained from the getRuntime method.</p>\n</blockquote>\n\n<p>That's pretty much the definition of a singleton :)</p>\n\n<p>Now the singleton pattern is <em>mostly</em> frowned upon these days - it introduces tight coupling, and makes things which use the singleton harder to test, as you can't easily mock out that component. If you can get away without it, so much the better. Inject your dependencies where possible instead.</p>\n"},{"tags":[],"owner":{"account_id":162076,"reputation":3143,"user_id":383316,"accept_rate":96,"display_name":"Florian"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1278480390,"creation_date":1278480390,"answer_id":3192132,"question_id":3192095,"body_markdown":"Some examples:\r\n\r\n - Hardware access\r\n - Database connections\r\n - Config files\r\n","title":"Where exactly the Singleton Pattern is used in real application?","body":"<p>Some examples:</p>\n\n<ul>\n<li>Hardware access</li>\n<li>Database connections</li>\n<li>Config files</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":76675,"reputation":5045,"user_id":219324,"accept_rate":100,"display_name":"Max Leske"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1278480511,"creation_date":1278480511,"answer_id":3192136,"question_id":3192095,"body_markdown":"I used a singleton (actually a couple of them) in an application that used pureMVC. We were unhappy about the complexity this framework introduced (it became complicated and tiering to track method calls through the mvc layers). So we used a central singleton as a mediator to better separate the layers from each other.","title":"Where exactly the Singleton Pattern is used in real application?","body":"<p>I used a singleton (actually a couple of them) in an application that used pureMVC. We were unhappy about the complexity this framework introduced (it became complicated and tiering to track method calls through the mvc layers). So we used a central singleton as a mediator to better separate the layers from each other.</p>\n"},{"comments":[{"owner":{"account_id":3814476,"reputation":187,"user_id":3164176,"accept_rate":80,"display_name":"Vinay"},"score":1,"creation_date":1493513313,"post_id":3192256,"comment_id":74448604,"body_markdown":"Hi, if you make ur cart class object as singleton, then the state of cart would have inconsistent results right? because multiple users will access the same cart object simultaneously. and if you make it synchronized there is a time lag for users ?. so how did you exactly make it singleton and secured state of each user individually?","body":"Hi, if you make ur cart class object as singleton, then the state of cart would have inconsistent results right? because multiple users will access the same cart object simultaneously. and if you make it synchronized there is a time lag for users ?. so how did you exactly make it singleton and secured state of each user individually?"},{"owner":{"account_id":1296476,"reputation":1173,"user_id":1247406,"accept_rate":49,"display_name":"Hyder"},"score":4,"creation_date":1504074821,"post_id":3192256,"comment_id":78864758,"body_markdown":"@Vinay Bro if multiple users are using the football team store, means multiple instance, BUT just a single instance for each user. Think of it as each user will be using his own computer to access the store right? so the cart will be one instance for each user respectively. EACH USER WILL HAVE HIS INSTANCE, AND WITHIN THAT INSTANCE, THE CART OBJECT WILL BE ONE.","body":"@Vinay Bro if multiple users are using the football team store, means multiple instance, BUT just a single instance for each user. Think of it as each user will be using his own computer to access the store right? so the cart will be one instance for each user respectively. EACH USER WILL HAVE HIS INSTANCE, AND WITHIN THAT INSTANCE, THE CART OBJECT WILL BE ONE."}],"tags":[],"owner":{"account_id":163200,"reputation":2407,"user_id":385172,"display_name":"Manaf Abu.Rous"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1278482372,"creation_date":1278482372,"answer_id":3192256,"question_id":3192095,"body_markdown":"I used the singleton pattern in an online Football Team Store System. we applied the singleton pattern to a ShoppingCart class. \r\n\r\nYou only needed one instance of the cart per an application instance. so the singleton seemed like it&#39;s the best fit for that situation.","title":"Where exactly the Singleton Pattern is used in real application?","body":"<p>I used the singleton pattern in an online Football Team Store System. we applied the singleton pattern to a ShoppingCart class. </p>\n\n<p>You only needed one instance of the cart per an application instance. so the singleton seemed like it's the best fit for that situation.</p>\n"},{"comments":[{"owner":{"account_id":394042,"reputation":19861,"user_id":756246,"accept_rate":96,"display_name":"Tom Stickel"},"score":2,"creation_date":1383975717,"post_id":3192313,"comment_id":29560854,"body_markdown":"Singleton is not a nice design pattern.  It is tightly coupling your app and known as an anti-pattern.  In fact  Erich Gamma, who is one of the Gang of Four authors of the popular book &quot;Design Pattern&quot; is on record saying he regrets putting singleton in the book as a design pattern.","body":"Singleton is not a nice design pattern.  It is tightly coupling your app and known as an anti-pattern.  In fact  Erich Gamma, who is one of the Gang of Four authors of the popular book &quot;Design Pattern&quot; is on record saying he regrets putting singleton in the book as a design pattern."}],"tags":[],"owner":{"account_id":157873,"reputation":1074,"user_id":376116,"accept_rate":86,"display_name":"ferosekhanj"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1278483243,"creation_date":1278483243,"answer_id":3192313,"question_id":3192095,"body_markdown":"Singleton is a nice design pattern. Before deciding on the pattern first do an in depth analysis of your problem and the solution. If in your solution some object has only one instance and you want to model that in your design then you should use singleton pattern. For example if you are modelling a PC in the software there can be only one instance of a PC with respect to your running program. As Jon Skeet said java.lang.Runtime is modelled as a singleton because for all the java objects that are loaded and running inside a java runtime there is only one instance of runtime.  \r\n\r\nAgain lot of times it is used for the wrong reasons. Never create a singleton so that you can easily access the object (like Object::instance() ) from anywhere without passing the object around. The is the worst use I have ever come across.","title":"Where exactly the Singleton Pattern is used in real application?","body":"<p>Singleton is a nice design pattern. Before deciding on the pattern first do an in depth analysis of your problem and the solution. If in your solution some object has only one instance and you want to model that in your design then you should use singleton pattern. For example if you are modelling a PC in the software there can be only one instance of a PC with respect to your running program. As Jon Skeet said java.lang.Runtime is modelled as a singleton because for all the java objects that are loaded and running inside a java runtime there is only one instance of runtime.  </p>\n\n<p>Again lot of times it is used for the wrong reasons. Never create a singleton so that you can easily access the object (like Object::instance() ) from anywhere without passing the object around. The is the worst use I have ever come across.</p>\n"},{"tags":[],"owner":{"account_id":159523,"reputation":12477,"user_id":378968,"accept_rate":87,"display_name":"Dead Programmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1278505364,"creation_date":1278505364,"answer_id":3194599,"question_id":3192095,"body_markdown":"For example running a trial version of a software with one license and one database connection ,that uses singleton pattern in real word. may be the guru jon skeet can provide example like this.","title":"Where exactly the Singleton Pattern is used in real application?","body":"<p>For example running a trial version of a software with one license and one database connection ,that uses singleton pattern in real word. may be the guru jon skeet can provide example like this.</p>\n"},{"tags":[],"owner":{"account_id":2235146,"reputation":265,"user_id":1971740,"accept_rate":50,"display_name":"Akhil Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1479787938,"creation_date":1479787938,"answer_id":40733640,"question_id":3192095,"body_markdown":"Singleton Pattern can be used for loading the configuration , say in a web application, we are supposed to generate a file which is to be stored somewhere in  the server. Now, that location can fetched from a config file(properties file) using a singleton class.since the location is to be unique and might change frequently in future, so we use a config file so as can be modified without deploying the application so as to reflect the changes and location will be global and unique through out the application","title":"Where exactly the Singleton Pattern is used in real application?","body":"<p>Singleton Pattern can be used for loading the configuration , say in a web application, we are supposed to generate a file which is to be stored somewhere in  the server. Now, that location can fetched from a config file(properties file) using a singleton class.since the location is to be unique and might change frequently in future, so we use a config file so as can be modified without deploying the application so as to reflect the changes and location will be global and unique through out the application</p>\n"},{"tags":[],"owner":{"account_id":11209328,"reputation":21,"user_id":8223839,"display_name":"Franco Omar Castillo Bello"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498623742,"creation_date":1498623742,"answer_id":44793611,"question_id":3192095,"body_markdown":"I use a media player in my android app, so I extend the mediaplayer class, and used the singleton pattern because I need only one instance, and be able to call the same instance in any other part of my app for check if is playing, or what file is current playing.\r\n\r\nHope it helps you, regards!!!!","title":"Where exactly the Singleton Pattern is used in real application?","body":"<p>I use a media player in my android app, so I extend the mediaplayer class, and used the singleton pattern because I need only one instance, and be able to call the same instance in any other part of my app for check if is playing, or what file is current playing.</p>\n\n<p>Hope it helps you, regards!!!!</p>\n"},{"tags":[],"owner":{"account_id":7172095,"reputation":31,"user_id":5479253,"display_name":"netblogger"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1498664147,"creation_date":1498664147,"answer_id":44806977,"question_id":3192095,"body_markdown":"Singleton pattern is generally useful when the object that is created once and shared \r\nacross different threads/Applications. \r\nConsider the case that you are implementing the properties load class for a printer.\r\n\r\nNow Printers can be of variant properties. For eg:-\r\nMono Printer,\r\nColor Printer,\r\nAutomatic Scanner Support Printer and so on...\r\n\r\nEvery time on boot this config file has to load to enable a few buttons/ applications\r\non the UI say tab or any Printer UI.\r\n\r\nThe value of the supported features are stored in form of a config table like say 1 if \r\nfeature supported and 0 if not supported.\r\n\r\nBased on the supported features we enable disable certain functionalities and application \r\non the UI. Now this config file location in case of printers manufactured by a single company \r\nare always stored at a fixed path. \r\n\r\nThe file values would change/would be read only in the following scenarios:-\r\n1. On Boot.\r\n2. on Addition or deletion of any new hardware peripheral.\r\n\r\nWe can use a singleton class to implement the reading of configuration files. As the same values \r\ni.e. the config does not change on UI intervention and can be changed only on hardware intervention.\r\n\r\nThis is one example I can think of where we can implement Singleton design pattern.\r\n\r\n\r\n","title":"Where exactly the Singleton Pattern is used in real application?","body":"<p>Singleton pattern is generally useful when the object that is created once and shared \nacross different threads/Applications. \nConsider the case that you are implementing the properties load class for a printer.</p>\n\n<p>Now Printers can be of variant properties. For eg:-\nMono Printer,\nColor Printer,\nAutomatic Scanner Support Printer and so on...</p>\n\n<p>Every time on boot this config file has to load to enable a few buttons/ applications\non the UI say tab or any Printer UI.</p>\n\n<p>The value of the supported features are stored in form of a config table like say 1 if \nfeature supported and 0 if not supported.</p>\n\n<p>Based on the supported features we enable disable certain functionalities and application \non the UI. Now this config file location in case of printers manufactured by a single company \nare always stored at a fixed path. </p>\n\n<p>The file values would change/would be read only in the following scenarios:-\n1. On Boot.\n2. on Addition or deletion of any new hardware peripheral.</p>\n\n<p>We can use a singleton class to implement the reading of configuration files. As the same values \ni.e. the config does not change on UI intervention and can be changed only on hardware intervention.</p>\n\n<p>This is one example I can think of where we can implement Singleton design pattern.</p>\n"},{"tags":[],"owner":{"account_id":5448501,"reputation":1780,"user_id":4334162,"display_name":"Arun Raaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1506693081,"creation_date":1506693081,"answer_id":46490265,"question_id":3192095,"body_markdown":"When you use Logger, you use Singleton pattern for the Logger class. In case it is not Singleton, every client will have its own Logger object and there will be concurrent access on the Logger instance in Multithreaded environment, and multiple clients will create/write to the Log file concurrently, this leads to data corruption. ","title":"Where exactly the Singleton Pattern is used in real application?","body":"<p>When you use Logger, you use Singleton pattern for the Logger class. In case it is not Singleton, every client will have its own Logger object and there will be concurrent access on the Logger instance in Multithreaded environment, and multiple clients will create/write to the Log file concurrently, this leads to data corruption. </p>\n"},{"tags":[],"owner":{"account_id":8562985,"reputation":61,"user_id":6416435,"display_name":"Mr. D"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1520421572,"creation_date":1508328469,"answer_id":46809823,"question_id":3192095,"body_markdown":"Consider the situation of **AudioDriverService** which is designed in Singleton Pattern. So we are allowed to create just a single instance of **AudioDriverService** class. Now actually your Windows Media Player or Youtube Player both will share the same object of **AudioDriverService** rather than creating a new instance.","title":"Where exactly the Singleton Pattern is used in real application?","body":"<p>Consider the situation of <strong>AudioDriverService</strong> which is designed in Singleton Pattern. So we are allowed to create just a single instance of <strong>AudioDriverService</strong> class. Now actually your Windows Media Player or Youtube Player both will share the same object of <strong>AudioDriverService</strong> rather than creating a new instance.</p>\n"},{"tags":[],"owner":{"account_id":14413242,"reputation":1,"user_id":10411385,"display_name":"Vishal Kumar"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1537853361,"creation_date":1537853361,"answer_id":52491158,"question_id":3192095,"body_markdown":"Singleton Class is basically used  when you have to allow only single instantiation of the class.\r\nTaking real world example, In case of OOP designing of a library, we can create library class as singleton class.\r\n","title":"Where exactly the Singleton Pattern is used in real application?","body":"<p>Singleton Class is basically used  when you have to allow only single instantiation of the class.\nTaking real world example, In case of OOP designing of a library, we can create library class as singleton class.</p>\n"}],"owner":{"account_id":602847,"reputation":719,"user_id":311498,"accept_rate":0,"display_name":"swati"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94144,"favorite_count":0,"down_vote_count":0,"up_vote_count":58,"answer_count":12,"score":58,"last_activity_date":1694930197,"creation_date":1278479829,"question_id":3192095,"body_markdown":"I was just curious where exactly the singleton pattern is used...\r\nI know how the pattern works and where it can be used but i personally never used in any real application.\r\nCan some one give an example where it can be used..\r\nI would really appreciate if some one can explain how and where they have used in real application.\r\nThanks,\r\nSwati","title":"Where exactly the Singleton Pattern is used in real application?","body":"<p>I was just curious where exactly the singleton pattern is used...\nI know how the pattern works and where it can be used but i personally never used in any real application.\nCan some one give an example where it can be used..\nI would really appreciate if some one can explain how and where they have used in real application.\nThanks,\nSwati</p>\n"},{"tags":["java","gradle","java-9"],"comments":[{"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"score":0,"creation_date":1489740903,"post_id":42851099,"comment_id":72812829,"body_markdown":"The `--add-opens` syntax seems to be slightly off: Unless things changed, there should be no `=` after `--add-opens` - see [here](http://stackoverflow.com/a/41265267/2525313).","body":"The <code>--add-opens</code> syntax seems to be slightly off: Unless things changed, there should be no <code>=</code> after <code>--add-opens</code> - see <a href=\"http://stackoverflow.com/a/41265267/2525313\">here</a>."},{"owner":{"account_id":41522,"reputation":3246,"user_id":120745,"display_name":"Andres Almiray"},"score":1,"creation_date":1489741318,"post_id":42851099,"comment_id":72813044,"body_markdown":"I think Groovy 2.x doesn&#39;t work yet with JDK9. This being said, you can&#39;t run Gradle with JDK9 but you can use it to compile code targeting JDK9, that is Gradle must run with JDK8 or JDK7, compiler options in the buld file can be set to JDK9","body":"I think Groovy 2.x doesn&#39;t work yet with JDK9. This being said, you can&#39;t run Gradle with JDK9 but you can use it to compile code targeting JDK9, that is Gradle must run with JDK8 or JDK7, compiler options in the buld file can be set to JDK9"},{"owner":{"account_id":2817991,"reputation":3469,"user_id":2422530,"accept_rate":56,"display_name":"Pallav Jha"},"score":0,"creation_date":1489742501,"post_id":42851099,"comment_id":72813712,"body_markdown":"@Nicolai After removing &#39;=&#39; I got the above mentioned error.","body":"@Nicolai After removing &#39;=&#39; I got the above mentioned error."}],"answers":[{"tags":[],"owner":{"account_id":7431062,"reputation":351,"user_id":5652013,"display_name":"NathanAck"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1494459847,"creation_date":1494459847,"answer_id":43904296,"question_id":42851099,"body_markdown":"I was able to make gradle work using Java 9-ea by running the following terminal command:\r\n\r\n    export JDK_JAVA_OPTIONS=&#39;--add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED&#39;\r\n\r\n-via https://github.com/gradle/gradle/issues/1095\r\n\r\n-Added this to /etc/profile so that it runs on startup","title":"java.lang.ExceptionInInitializerError with gradle","body":"<p>I was able to make gradle work using Java 9-ea by running the following terminal command:</p>\n\n<pre><code>export JDK_JAVA_OPTIONS='--add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED'\n</code></pre>\n\n<p>-via <a href=\"https://github.com/gradle/gradle/issues/1095\" rel=\"noreferrer\">https://github.com/gradle/gradle/issues/1095</a></p>\n\n<p>-Added this to /etc/profile so that it runs on startup</p>\n"},{"tags":[],"owner":{"account_id":8828610,"reputation":3083,"user_id":7058363,"display_name":"Genarito"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1542070215,"creation_date":1542070215,"answer_id":53272203,"question_id":42851099,"body_markdown":"Upgrading Gradle to `4.10.2` version and Java JDK 8 to `1.8.0_191` version worked for me.\r\n\r\nHope it helps!","title":"java.lang.ExceptionInInitializerError with gradle","body":"<p>Upgrading Gradle to <code>4.10.2</code> version and Java JDK 8 to <code>1.8.0_191</code> version worked for me.</p>\n\n<p>Hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":558770,"reputation":16438,"user_id":755804,"accept_rate":20,"display_name":"18446744073709551615"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1613276671,"creation_date":1591736826,"answer_id":62291862,"question_id":42851099,"body_markdown":"3 years later, 2020:\r\n\r\nI could build my project with both `./gradlew build` and `gradle build` (v 6.2.1 and 6.5), but IntelliJ Idea gave me:\r\n\r\n    Execution failed for task &#39;:compileJava&#39;.\r\n    &gt; java.lang.ExceptionInInitializerError (no error message)\r\n\r\nI tried to _File--Invalidate Caches/Restart_, but that did not help, at least by itself. Then I reloaded the gradle project (the leftmost top icon in the Gradle window) and run the _Tasks--application--run_ task from the Gradle window. It worked, and then &quot;Run&quot; worked too (no surprise here, the button seems to repeat the last run).\r\n","title":"java.lang.ExceptionInInitializerError with gradle","body":"<p>3 years later, 2020:</p>\n<p>I could build my project with both <code>./gradlew build</code> and <code>gradle build</code> (v 6.2.1 and 6.5), but IntelliJ Idea gave me:</p>\n<pre><code>Execution failed for task ':compileJava'.\n&gt; java.lang.ExceptionInInitializerError (no error message)\n</code></pre>\n<p>I tried to <em>File--Invalidate Caches/Restart</em>, but that did not help, at least by itself. Then I reloaded the gradle project (the leftmost top icon in the Gradle window) and run the <em>Tasks--application--run</em> task from the Gradle window. It worked, and then &quot;Run&quot; worked too (no surprise here, the button seems to repeat the last run).</p>\n"},{"tags":[],"owner":{"account_id":6115775,"reputation":30435,"user_id":4770877,"display_name":"yoAlex5"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635614214,"creation_date":1618571576,"answer_id":67124161,"question_id":42851099,"body_markdown":"**Gradle - java.lang.ExceptionInInitializerError**\r\n\r\nIt can be because of [\\[Could not find tools.jar\\]](https://stackoverflow.com/a/67123488/4770877)\r\n\r\nI figured it out when downgraded `com.android.tools.build:gradle` ","title":"java.lang.ExceptionInInitializerError with gradle","body":"<p><strong>Gradle - java.lang.ExceptionInInitializerError</strong></p>\n<p>It can be because of <a href=\"https://stackoverflow.com/a/67123488/4770877\">[Could not find tools.jar]</a></p>\n<p>I figured it out when downgraded <code>com.android.tools.build:gradle</code></p>\n"},{"comments":[{"owner":{"account_id":1073957,"reputation":2874,"user_id":1072521,"accept_rate":100,"display_name":"Sooth"},"score":0,"creation_date":1670433958,"post_id":69741754,"comment_id":131877334,"body_markdown":"For example, in the OP example with `--stacktrace` the valuable part is:\n`Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected java.lang.Package[] java.lang.ClassLoader.getPackages() accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @6c7a164b`","body":"For example, in the OP example with <code>--stacktrace</code> the valuable part is: <code>Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected java.lang.Package[] java.lang.ClassLoader.getPackages() accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @6c7a164b</code>"}],"tags":[],"owner":{"account_id":1073957,"reputation":2874,"user_id":1072521,"accept_rate":100,"display_name":"Sooth"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635349713,"creation_date":1635349713,"answer_id":69741754,"question_id":42851099,"body_markdown":"When I hit this error rerunning with the argument `--stacktrace` produced a much more intelligible error message in one of the exceptions that was causing this problem in my build script.\r\n\r\nThe challenge with debugging this is that it happens so early in Gradle (the initialization phase) that not a lot of error message information is available, so it is best to try to debug it from the stacktrace.\r\n\r\nEven if you don&#39;t get a good message from one of the exceptions, the classes and methods from the stack should give some indication of what Gradle was doing at the time just before it threw.","title":"java.lang.ExceptionInInitializerError with gradle","body":"<p>When I hit this error rerunning with the argument <code>--stacktrace</code> produced a much more intelligible error message in one of the exceptions that was causing this problem in my build script.</p>\n<p>The challenge with debugging this is that it happens so early in Gradle (the initialization phase) that not a lot of error message information is available, so it is best to try to debug it from the stacktrace.</p>\n<p>Even if you don't get a good message from one of the exceptions, the classes and methods from the stack should give some indication of what Gradle was doing at the time just before it threw.</p>\n"},{"tags":[],"owner":{"account_id":2160686,"reputation":163,"user_id":1914901,"display_name":"lnarasimhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694929432,"creation_date":1694929432,"answer_id":77120618,"question_id":42851099,"body_markdown":"I was having two different versions. jdk 11 and 20. I was getting this kind of error `Execution failed for task &#39;:compileJava&#39;.` while running with 20. However after switching to JDK 11 `export JAVA_HOME=/usr/libexec/java_home -v 11` I am able to overcome the error","title":"java.lang.ExceptionInInitializerError with gradle","body":"<p>I was having two different versions. jdk 11 and 20. I was getting this kind of error <code>Execution failed for task ':compileJava'.</code> while running with 20. However after switching to JDK 11 <code>export JAVA_HOME=/usr/libexec/java_home -v 11</code> I am able to overcome the error</p>\n"}],"owner":{"account_id":2817991,"reputation":3469,"user_id":2422530,"accept_rate":56,"display_name":"Pallav Jha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26707,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":6,"score":15,"last_activity_date":1694929432,"creation_date":1489733870,"question_id":42851099,"body_markdown":"I&#39;ve updated java from 8 to 9-ea and gradle from 2.13 to 3.4.1. Below is the `gradle --version` output.\r\n\r\n    ------------------------------------------------------------\r\n    Gradle 3.4.1\r\n    ------------------------------------------------------------\r\n    \r\n    Build time:   2017-03-03 19:45:41 UTC\r\n    Revision:     9eb76efdd3d034dc506c719dac2955efb5ff9a93\r\n    \r\n    Groovy:       2.4.7\r\n    Ant:          Apache Ant(TM) version 1.9.6 compiled on June 29 2015\r\n    JVM:          9-ea (Oracle Corporation 9-ea+158)\r\n    OS:           Linux 4.8.0-36-generic amd64\r\n\r\nwhile compiling below error is encountered:\r\n\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    java.lang.ExceptionInInitializerError (no error message)\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\r\n\r\nand the output of `gradle --stacktrace` is below:\r\n\r\n    java.lang.ExceptionInInitializerError\r\n            at org.gradle.initialization.DefaultClassLoaderRegistry.restrictTo(DefaultClassLoaderRegistry.java:40)\r\n            at org.gradle.initialization.DefaultClassLoaderRegistry.restrictToGradleApi(DefaultClassLoaderRegistry.java:36)\r\n            at org.gradle.initialization.DefaultClassLoaderRegistry.&lt;init&gt;(DefaultClassLoaderRegistry.java:30)\r\n            at org.gradle.internal.service.scopes.GlobalScopeServices.createClassLoaderRegistry(GlobalScopeServices.java:213)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:547)\r\n            at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\r\n            at org.gradle.internal.service.DefaultServiceRegistry.invoke(DefaultServiceRegistry.java:462)\r\n            at org.gradle.internal.service.DefaultServiceRegistry.access$1200(DefaultServiceRegistry.java:84)\r\n            at org.gradle.internal.service.DefaultServiceRegistry$FactoryMethodService.invokeMethod(DefaultServiceRegistry.java:805)\r\n            at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.create(DefaultServiceRegistry.java:761)\r\n            at org.gradle.internal.service.DefaultServiceRegistry$ManagedObjectProvider.getInstance(DefaultServiceRegistry.java:598)\r\n            at org.gradle.internal.service.DefaultServiceRegistry$SingletonService.get(DefaultServiceRegistry.java:643)\r\n            at org.gradle.internal.service.DefaultServiceRegistry.applyConfigureMethod(DefaultServiceRegistry.java:253)\r\n            at org.gradle.internal.service.DefaultServiceRegistry.findProviderMethods(DefaultServiceRegistry.java:214)\r\n            at org.gradle.internal.service.DefaultServiceRegistry.addProvider(DefaultServiceRegistry.java:352)\r\n            at org.gradle.internal.service.ServiceRegistryBuilder.build(ServiceRegistryBuilder.java:52)\r\n            at org.gradle.launcher.cli.BuildActionsFactory.createGlobalClientServices(BuildActionsFactory.java:148)\r\n            at org.gradle.launcher.cli.BuildActionsFactory.runBuildWithDaemon(BuildActionsFactory.java:108)\r\n            at org.gradle.launcher.cli.BuildActionsFactory.createAction(BuildActionsFactory.java:83)\r\n            at org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.createAction(CommandLineActionFactory.java:249)\r\n            at org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:239)\r\n            at org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:217)\r\n            at org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:33)\r\n            at org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:24)\r\n            at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:33)\r\n            at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:22)\r\n            at org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:210)\r\n            at org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:174)\r\n            at org.gradle.launcher.Main.doAction(Main.java:33)\r\n            at org.gradle.launcher.bootstrap.EntryPoint.run(EntryPoint.java:45)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:547)\r\n            at org.gradle.launcher.bootstrap.ProcessBootstrap.runNoExit(ProcessBootstrap.java:60)\r\n            at org.gradle.launcher.bootstrap.ProcessBootstrap.run(ProcessBootstrap.java:37)\r\n            at org.gradle.launcher.GradleMain.main(GradleMain.java:23)\r\n    Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected java.lang.Package[] java.lang.ClassLoader.getPackages() accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @6c7a164b\r\n            at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:335)\r\n            at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:278)\r\n            at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:196)\r\n            at java.base/java.lang.reflect.Method.setAccessible(Method.java:190)\r\n            at org.gradle.internal.reflect.JavaMethod.&lt;init&gt;(JavaMethod.java:42)\r\n            at org.gradle.internal.reflect.JavaMethod.&lt;init&gt;(JavaMethod.java:32)\r\n            at org.gradle.internal.reflect.JavaMethod.&lt;init&gt;(JavaMethod.java:36)\r\n            at org.gradle.internal.reflect.JavaReflectionUtil.method(JavaReflectionUtil.java:223)\r\n            at org.gradle.internal.classloader.FilteringClassLoader.&lt;clinit&gt;(FilteringClassLoader.java:49)\r\n            ... 40 more\r\n\r\nwhen I set \r\n\r\n    export GRADLE_OPTS=&quot;-Dorg.gradle.jvmargs=--add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED&quot;\r\n\r\nas suggested at different places, issue remains the same.\r\n\r\nKindly help me out in resolving the issue.\r\n\r\n**UPDATE:**\r\nChanged `GRADLE_OPTS` to (wrapped)\r\n\r\n    export GRADLE_OPTS=&quot;-Dorg.gradle.jvmargs=\r\n      --add-opens java.lang=ALL-UNNAMED\r\n      --add-opens java.util=ALL-UNNAMED\r\n      --add-opens java.io=ALL-UNNAMED&quot;\r\n\r\nGot the following error:\r\n\r\n    Error: Could not find or load main class java.lang=ALL-UNNAMED\r\n    Caused by: java.lang.ClassNotFoundException: java.lang=ALL-UNNAMED","title":"java.lang.ExceptionInInitializerError with gradle","body":"<p>I've updated java from 8 to 9-ea and gradle from 2.13 to 3.4.1. Below is the <code>gradle --version</code> output.</p>\n<pre><code>------------------------------------------------------------\nGradle 3.4.1\n------------------------------------------------------------\n\nBuild time:   2017-03-03 19:45:41 UTC\nRevision:     9eb76efdd3d034dc506c719dac2955efb5ff9a93\n\nGroovy:       2.4.7\nAnt:          Apache Ant(TM) version 1.9.6 compiled on June 29 2015\nJVM:          9-ea (Oracle Corporation 9-ea+158)\nOS:           Linux 4.8.0-36-generic amd64\n</code></pre>\n<p>while compiling below error is encountered:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\njava.lang.ExceptionInInitializerError (no error message)\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n</code></pre>\n<p>and the output of <code>gradle --stacktrace</code> is below:</p>\n<pre><code>java.lang.ExceptionInInitializerError\n        at org.gradle.initialization.DefaultClassLoaderRegistry.restrictTo(DefaultClassLoaderRegistry.java:40)\n        at org.gradle.initialization.DefaultClassLoaderRegistry.restrictToGradleApi(DefaultClassLoaderRegistry.java:36)\n        at org.gradle.initialization.DefaultClassLoaderRegistry.&lt;init&gt;(DefaultClassLoaderRegistry.java:30)\n        at org.gradle.internal.service.scopes.GlobalScopeServices.createClassLoaderRegistry(GlobalScopeServices.java:213)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:547)\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n        at org.gradle.internal.service.DefaultServiceRegistry.invoke(DefaultServiceRegistry.java:462)\n        at org.gradle.internal.service.DefaultServiceRegistry.access$1200(DefaultServiceRegistry.java:84)\n        at org.gradle.internal.service.DefaultServiceRegistry$FactoryMethodService.invokeMethod(DefaultServiceRegistry.java:805)\n        at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.create(DefaultServiceRegistry.java:761)\n        at org.gradle.internal.service.DefaultServiceRegistry$ManagedObjectProvider.getInstance(DefaultServiceRegistry.java:598)\n        at org.gradle.internal.service.DefaultServiceRegistry$SingletonService.get(DefaultServiceRegistry.java:643)\n        at org.gradle.internal.service.DefaultServiceRegistry.applyConfigureMethod(DefaultServiceRegistry.java:253)\n        at org.gradle.internal.service.DefaultServiceRegistry.findProviderMethods(DefaultServiceRegistry.java:214)\n        at org.gradle.internal.service.DefaultServiceRegistry.addProvider(DefaultServiceRegistry.java:352)\n        at org.gradle.internal.service.ServiceRegistryBuilder.build(ServiceRegistryBuilder.java:52)\n        at org.gradle.launcher.cli.BuildActionsFactory.createGlobalClientServices(BuildActionsFactory.java:148)\n        at org.gradle.launcher.cli.BuildActionsFactory.runBuildWithDaemon(BuildActionsFactory.java:108)\n        at org.gradle.launcher.cli.BuildActionsFactory.createAction(BuildActionsFactory.java:83)\n        at org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.createAction(CommandLineActionFactory.java:249)\n        at org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:239)\n        at org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:217)\n        at org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:33)\n        at org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:24)\n        at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:33)\n        at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:22)\n        at org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:210)\n        at org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:174)\n        at org.gradle.launcher.Main.doAction(Main.java:33)\n        at org.gradle.launcher.bootstrap.EntryPoint.run(EntryPoint.java:45)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:547)\n        at org.gradle.launcher.bootstrap.ProcessBootstrap.runNoExit(ProcessBootstrap.java:60)\n        at org.gradle.launcher.bootstrap.ProcessBootstrap.run(ProcessBootstrap.java:37)\n        at org.gradle.launcher.GradleMain.main(GradleMain.java:23)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected java.lang.Package[] java.lang.ClassLoader.getPackages() accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @6c7a164b\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:335)\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:278)\n        at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:196)\n        at java.base/java.lang.reflect.Method.setAccessible(Method.java:190)\n        at org.gradle.internal.reflect.JavaMethod.&lt;init&gt;(JavaMethod.java:42)\n        at org.gradle.internal.reflect.JavaMethod.&lt;init&gt;(JavaMethod.java:32)\n        at org.gradle.internal.reflect.JavaMethod.&lt;init&gt;(JavaMethod.java:36)\n        at org.gradle.internal.reflect.JavaReflectionUtil.method(JavaReflectionUtil.java:223)\n        at org.gradle.internal.classloader.FilteringClassLoader.&lt;clinit&gt;(FilteringClassLoader.java:49)\n        ... 40 more\n</code></pre>\n<p>when I set</p>\n<pre><code>export GRADLE_OPTS=&quot;-Dorg.gradle.jvmargs=--add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED&quot;\n</code></pre>\n<p>as suggested at different places, issue remains the same.</p>\n<p>Kindly help me out in resolving the issue.</p>\n<p><strong>UPDATE:</strong>\nChanged <code>GRADLE_OPTS</code> to (wrapped)</p>\n<pre><code>export GRADLE_OPTS=&quot;-Dorg.gradle.jvmargs=\n  --add-opens java.lang=ALL-UNNAMED\n  --add-opens java.util=ALL-UNNAMED\n  --add-opens java.io=ALL-UNNAMED&quot;\n</code></pre>\n<p>Got the following error:</p>\n<pre><code>Error: Could not find or load main class java.lang=ALL-UNNAMED\nCaused by: java.lang.ClassNotFoundException: java.lang=ALL-UNNAMED\n</code></pre>\n"},{"tags":["java","javafx","combobox","searchable"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1694931139,"post_id":77120614,"comment_id":135954664,"body_markdown":"ControlsFX already had that functionality. I don’t recommend reinventing it.","body":"ControlsFX already had that functionality. I don’t recommend reinventing it."},{"owner":{"account_id":24655164,"reputation":104,"user_id":18551908,"display_name":"AdnanArch"},"score":0,"creation_date":1694936414,"post_id":77120614,"comment_id":135955041,"body_markdown":"@jewelsea i  heard about SearchableComboBox but i could not find how can i implement or use this in my project?","body":"@jewelsea i  heard about SearchableComboBox but i could not find how can i implement or use this in my project?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1694937734,"post_id":77120614,"comment_id":135955146,"body_markdown":"There is [a StackOverflow question on how to do this](https://stackoverflow.com/questions/19924852/autocomplete-combobox-in-javafx).  Maybe this is a duplicate,","body":"There is <a href=\"https://stackoverflow.com/questions/19924852/autocomplete-combobox-in-javafx\">a StackOverflow question on how to do this</a>.  Maybe this is a duplicate,"}],"owner":{"account_id":24655164,"reputation":104,"user_id":18551908,"display_name":"AdnanArch"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694929397,"creation_date":1694929397,"question_id":77120614,"body_markdown":"I am trying to implement a ComboBox having functionality of searching items in it. the user will search the item and combobox will show the item and with the help of up, down keys or mouse i can select the item from the combobox. \r\n\r\ni have come with this code so far but it is not working correctly.\r\n\r\n\r\n\r\n    import javafx.application.Application;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.ComboBox;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class Test extends Application {\r\n        \r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            ComboBox&lt;String&gt; comboBox = new ComboBox&lt;&gt;();\r\n            comboBox.setEditable(true);\r\n    \r\n            ObservableList&lt;String&gt; items = FXCollections.observableArrayList(\r\n                    &quot;Apple&quot;, &quot;Banana&quot;, &quot;Cherry&quot;, &quot;Grape&quot;, &quot;Lemon&quot;, &quot;Orange&quot;, &quot;Strawberry&quot;\r\n            );\r\n    \r\n            comboBox.setItems(items);\r\n    \r\n            // Create a filtered list that updates as the user types\r\n            ObservableList&lt;String&gt; filteredList = FXCollections.observableArrayList(items);\r\n            comboBox.getEditor().textProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n                String filter = newValue.toLowerCase();\r\n                if (filter.isEmpty()) {\r\n                    // If the text is empty, show all items\r\n                    comboBox.setItems(items);\r\n                } else {\r\n                    filteredList.clear();\r\n                    for (String item : items) {\r\n                        if (item.toLowerCase().contains(filter)) {\r\n                            filteredList.add(item);\r\n                        }\r\n                    }\r\n                    comboBox.setItems(filteredList);\r\n                    comboBox.show();\r\n                }\r\n            });\r\n    \r\n            VBox root = new VBox(comboBox);\r\n            Scene scene = new Scene(root, 300, 200);\r\n    \r\n            primaryStage.setTitle(&quot;Searchable ComboBox Example&quot;);\r\n            primaryStage.setScene(scene);\r\n            primaryStage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n","title":"How to implement a ComboBox Act like a Search Field in JavaFx?","body":"<p>I am trying to implement a ComboBox having functionality of searching items in it. the user will search the item and combobox will show the item and with the help of up, down keys or mouse i can select the item from the combobox.</p>\n<p>i have come with this code so far but it is not working correctly.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ComboBox;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\npublic class Test extends Application {\n    \n    @Override\n    public void start(Stage primaryStage) {\n        ComboBox&lt;String&gt; comboBox = new ComboBox&lt;&gt;();\n        comboBox.setEditable(true);\n\n        ObservableList&lt;String&gt; items = FXCollections.observableArrayList(\n                &quot;Apple&quot;, &quot;Banana&quot;, &quot;Cherry&quot;, &quot;Grape&quot;, &quot;Lemon&quot;, &quot;Orange&quot;, &quot;Strawberry&quot;\n        );\n\n        comboBox.setItems(items);\n\n        // Create a filtered list that updates as the user types\n        ObservableList&lt;String&gt; filteredList = FXCollections.observableArrayList(items);\n        comboBox.getEditor().textProperty().addListener((observable, oldValue, newValue) -&gt; {\n            String filter = newValue.toLowerCase();\n            if (filter.isEmpty()) {\n                // If the text is empty, show all items\n                comboBox.setItems(items);\n            } else {\n                filteredList.clear();\n                for (String item : items) {\n                    if (item.toLowerCase().contains(filter)) {\n                        filteredList.add(item);\n                    }\n                }\n                comboBox.setItems(filteredList);\n                comboBox.show();\n            }\n        });\n\n        VBox root = new VBox(comboBox);\n        Scene scene = new Scene(root, 300, 200);\n\n        primaryStage.setTitle(&quot;Searchable ComboBox Example&quot;);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"},{"tags":["java","generics"],"answers":[{"comments":[{"owner":{"account_id":7601890,"reputation":1574,"user_id":5766170,"accept_rate":43,"display_name":"Maximillian"},"score":0,"creation_date":1694873041,"post_id":77117381,"comment_id":135950104,"body_markdown":"Thanks for your keen explanation, I have understood, however, I guess, my understanding is the codes you show above are generated by the compiler, and the type parameter in ParentStack class declaration is replaced with Child rather than Parent since the compiler should make the class definition follow the override rules. Additionally, this answer helps me a lot too. https://stackoverflow.com/questions/5007357/java-generics-bridge-method","body":"Thanks for your keen explanation, I have understood, however, I guess, my understanding is the codes you show above are generated by the compiler, and the type parameter in ParentStack class declaration is replaced with Child rather than Parent since the compiler should make the class definition follow the override rules. Additionally, this answer helps me a lot too. <a href=\"https://stackoverflow.com/questions/5007357/java-generics-bridge-method\" title=\"java generics bridge method\">stackoverflow.com/questions/5007357/java-generics-bridge-met&zwnj;&#8203;hod</a>"},{"owner":{"account_id":7601890,"reputation":1574,"user_id":5766170,"accept_rate":43,"display_name":"Maximillian"},"score":0,"creation_date":1694923801,"post_id":77117381,"comment_id":135954242,"body_markdown":"Hi, I unaccept because I found the explanation is not clear and understandable about the override, and hope the question can be answered continually. Why the type is Child at push in ChildStack rather than Parent, especially, if we clear the methods define in the ChildStack, the API of ChildStack stay the same with that before clearing, the latter one seems that the method \n```\n    @Override\n    public void push(Child child) \n```\nhas been defined at ParentStack.","body":"Hi, I unaccept because I found the explanation is not clear and understandable about the override, and hope the question can be answered continually. Why the type is Child at push in ChildStack rather than Parent, especially, if we clear the methods define in the ChildStack, the API of ChildStack stay the same with that before clearing, the latter one seems that the method  ```     @Override     public void push(Child child)  ``` has been defined at ParentStack."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1694924120,"post_id":77117381,"comment_id":135954258,"body_markdown":"@Maximillian Okay, let&#39;s forget about type erasure for a moment. `push` in `ParentStack` takes a `T`, and `T` has been replaced by `Child` in `ChildStack`&#39;s declaration, since you said `class ChildStack extends ParentStack&lt;Child&gt;`. Therefore, I hope you agree that `push` in `ChildStack` naturally should take a `Child`.","body":"@Maximillian Okay, let&#39;s forget about type erasure for a moment. <code>push</code> in <code>ParentStack</code> takes a <code>T</code>, and <code>T</code> has been replaced by <code>Child</code> in <code>ChildStack</code>&#39;s declaration, since you said <code>class ChildStack extends ParentStack&lt;Child&gt;</code>. Therefore, I hope you agree that <code>push</code> in <code>ChildStack</code> naturally should take a <code>Child</code>."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1694924372,"post_id":77117381,"comment_id":135954270,"body_markdown":"@Maximillian Now lets introduce type erasure. Because of erasure, `push` in `ParentStack` takes a `Parent`, as far as the JVM is concerned. From its perspective, `push(Child)` in `ChildStack` does not override anything. But the designers of Java *really* want overriding to work *naturally* with generics. That is, they wanted to design it so that you don&#39;t need to write an extra `push(Parent)` method in `ChildStack` in order to override. They wanted `push(Child)` to override `push(T)` when `T` is `Child`. So they made the compiler generate this extra `push(Parent)` &quot;helper&quot; method.","body":"@Maximillian Now lets introduce type erasure. Because of erasure, <code>push</code> in <code>ParentStack</code> takes a <code>Parent</code>, as far as the JVM is concerned. From its perspective, <code>push(Child)</code> in <code>ChildStack</code> does not override anything. But the designers of Java <i>really</i> want overriding to work <i>naturally</i> with generics. That is, they wanted to design it so that you don&#39;t need to write an extra <code>push(Parent)</code> method in <code>ChildStack</code> in order to override. They wanted <code>push(Child)</code> to override <code>push(T)</code> when <code>T</code> is <code>Child</code>. So they made the compiler generate this extra <code>push(Parent)</code> &quot;helper&quot; method."},{"owner":{"account_id":7601890,"reputation":1574,"user_id":5766170,"accept_rate":43,"display_name":"Maximillian"},"score":0,"creation_date":1694935479,"post_id":77117381,"comment_id":135954962,"body_markdown":"Yeah, I agree, however, the description of &quot;Replace all type parameters in generic types with their bounds or Object if the type parameters are unbounded. The produced bytecode, therefore, contains only ordinary classes, interfaces, and methods.&quot; at https://docs.oracle.com/javase/tutorial/java/generics/erasure.html  should not be totally correct. &quot;The erasure of a type variable (&#167;4.4) is the erasure of its leftmost bound.&quot; seems to provide some hope to revise the description, but the meaning still is not clear at https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.6","body":"Yeah, I agree, however, the description of &quot;Replace all type parameters in generic types with their bounds or Object if the type parameters are unbounded. The produced bytecode, therefore, contains only ordinary classes, interfaces, and methods.&quot; at <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/generics/erasure.html</a>  should not be totally correct. &quot;The erasure of a type variable (&#167;4.4) is the erasure of its leftmost bound.&quot; seems to provide some hope to revise the description, but the meaning still is not clear at <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.6\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.&zwnj;&#8203;6</a>"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1694935665,"post_id":77117381,"comment_id":135954973,"body_markdown":"@Maximillian I’m not sure why you think that section is relevant? Whether a method overrides another has nothing to do with erasure, as far as the language is concerned. The JVM use different rules than the language, which does not involve genetics, and I explained how that is handled by the compiler towards the end of answer.","body":"@Maximillian I’m not sure why you think that section is relevant? Whether a method overrides another has nothing to do with erasure, as far as the language is concerned. The JVM use different rules than the language, which does not involve genetics, and I explained how that is handled by the compiler towards the end of answer."}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":6,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1694928264,"creation_date":1694860365,"answer_id":77117381,"question_id":77117276,"body_markdown":"As you may be aware, for `pop`, there is no problem at all. The return types don&#39;t have to exactly match to override a method. The method can return a more &quot;specific&quot; type than the method that it is overriding. The caller gets something that &quot;is a&quot; `Parent` no matter how `pop` is called.\r\n\r\n&lt;hr&gt;\r\n\r\nAs far as the Java *language* is concerned, generic types *exist*, and so the `push` in `ChildStack` does override that in `ParentStack`. See also the [overriding rules][1]. The overriding rules say that a method m1 overrides another method m2 if m1 and m2 *has the same signature*. And indeed `push(Child)` in `ChildStack` has the same signature as `push(T)` in `ParentStack`:\r\n\r\nSee [here][2] for what it means to have the same signature (emphasis mine):\r\n\r\n&gt; Two methods or constructors, `M` and `N`, have the same signature if they have the same name, the same type parameters (if any) (&#167;8.4.4), and, **after adapting the formal parameter types of `N` to the type parameters of `M`, the same formal parameter types**.\r\n\r\nAfter all, I hope you&#39;d agree it is natural for `push(Child)` to override `push(T)` when `T` is `Child`, isn&#39;t it? The compiler does understand generics, so it can enforce those rules. It would be very inconvenient for the programmer otherwise, wouldn&#39;t it? They would have to write an extra method:\r\n\r\n```\r\n@Override\r\npublic void push(Parent p) {\r\n    this.push((Child)p);\r\n}\r\n```\r\n\r\nIt is the Java Virtual Machine that doesn&#39;t understand generic types. As far as it is concerned, the `push` in `ParentStack` is `push(Parent)` and the `push(Child)` you wrote in `ChildStack` does not override it. \r\n\r\nHow does the compiler compile your code to something that the JVM understands, while also implementing the overriding rules? It secretly generates an extra `push(Parent)` *for you* (similar to the one I wrote above). This is known as a [bridge method][3]. As far as the JVM is concerned, the bridge method overrides `ParentStack.push`, not the `push(Child)` method you wrote.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.4.8.1\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.4.2\r\n  [3]: https://stackoverflow.com/q/5007357/5133585","title":"How to explain the type of return value and parameter definition at sub class in a generic class hierarchy?","body":"<p>As you may be aware, for <code>pop</code>, there is no problem at all. The return types don't have to exactly match to override a method. The method can return a more &quot;specific&quot; type than the method that it is overriding. The caller gets something that &quot;is a&quot; <code>Parent</code> no matter how <code>pop</code> is called.</p>\n<hr>\n<p>As far as the Java <em>language</em> is concerned, generic types <em>exist</em>, and so the <code>push</code> in <code>ChildStack</code> does override that in <code>ParentStack</code>. See also the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.4.8.1\" rel=\"nofollow noreferrer\">overriding rules</a>. The overriding rules say that a method m1 overrides another method m2 if m1 and m2 <em>has the same signature</em>. And indeed <code>push(Child)</code> in <code>ChildStack</code> has the same signature as <code>push(T)</code> in <code>ParentStack</code>:</p>\n<p>See <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.4.2\" rel=\"nofollow noreferrer\">here</a> for what it means to have the same signature (emphasis mine):</p>\n<blockquote>\n<p>Two methods or constructors, <code>M</code> and <code>N</code>, have the same signature if they have the same name, the same type parameters (if any) (§8.4.4), and, <strong>after adapting the formal parameter types of <code>N</code> to the type parameters of <code>M</code>, the same formal parameter types</strong>.</p>\n</blockquote>\n<p>After all, I hope you'd agree it is natural for <code>push(Child)</code> to override <code>push(T)</code> when <code>T</code> is <code>Child</code>, isn't it? The compiler does understand generics, so it can enforce those rules. It would be very inconvenient for the programmer otherwise, wouldn't it? They would have to write an extra method:</p>\n<pre><code>@Override\npublic void push(Parent p) {\n    this.push((Child)p);\n}\n</code></pre>\n<p>It is the Java Virtual Machine that doesn't understand generic types. As far as it is concerned, the <code>push</code> in <code>ParentStack</code> is <code>push(Parent)</code> and the <code>push(Child)</code> you wrote in <code>ChildStack</code> does not override it.</p>\n<p>How does the compiler compile your code to something that the JVM understands, while also implementing the overriding rules? It secretly generates an extra <code>push(Parent)</code> <em>for you</em> (similar to the one I wrote above). This is known as a <a href=\"https://stackoverflow.com/q/5007357/5133585\">bridge method</a>. As far as the JVM is concerned, the bridge method overrides <code>ParentStack.push</code>, not the <code>push(Child)</code> method you wrote.</p>\n"}],"owner":{"account_id":7601890,"reputation":1574,"user_id":5766170,"accept_rate":43,"display_name":"Maximillian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77117381,"answer_count":1,"score":2,"last_activity_date":1694928264,"creation_date":1694858620,"question_id":77117276,"body_markdown":"Why are the return type and the parameter type at the pop and push methods respectively Child rather than Parent?\r\n\r\nSuppose I have defined some classes as below:\r\n\r\n```java\r\npublic class Parent {\r\n\r\n}\r\n\r\npublic class Child extends Parent {\r\n\r\n}\r\n\r\npublic class ParentStack&lt;E extends Parent&gt; {\r\n    private Object[] elements;\r\n    private int size = 0;\r\n\r\n    public ParentStack() {\r\n        elements = new Object[3];\r\n    }\r\n\r\n    public void push(E e) {\r\n        elements[size++] = e;\r\n    }\r\n\r\n    public E pop() {\r\n        E result = (E) elements[size--];\r\n        elements[size] = null;\r\n        return result;\r\n    }\r\n}\r\n\r\npublic class ChildStack extends ParentStack&lt;Child&gt; {\r\n\r\n    @Override\r\n    public Child pop() {\r\n        return super.pop();\r\n    }\r\n\r\n    @Override\r\n    public void push(Child child) {\r\n        super.push(child);\r\n    }\r\n}\r\n```\r\n\r\nThe return and parameter types are Parent at ParentStack&lt;E extends Parent&gt; after the generic erase\r\n```java\r\npublic class ParentStack {\r\n    public void push(Parent e) {\r\n        elements[size++] = e;\r\n    }\r\n\r\n    public E pop() {\r\n        Parent result = (Parent) elements[size--];\r\n        elements[size] = null;\r\n        return result;\r\n    }\r\n}\r\n```\r\nhence, theoretically, the ChildStack should define the types as Parent rather than Child, otherwise, these methods don&#39;t override the parent&#39;s method at all. How to explain this reasonally?\r\n```java\r\npublic class ChildStack extends ParentStack&lt;Child&gt; {\r\n\r\n    @Override\r\n    public Parent pop() {\r\n        return super.pop();\r\n    }\r\n\r\n    @Override\r\n    public void push(Parent child) {\r\n        super.push(child);\r\n    }\r\n}\r\n```\r\nEspecially, if I clear the override methods defined at ChildStack, the signature API of ChildStack still are:\r\n```java\r\npublic void push(Child child)\r\npublic Child pop()\r\n```\r\nWhere do these methods come from?\r\n```\r\n        ChildStack cs = new ChildStack();\r\n//        cs.push(Child);\r\n//        Child c = cs.pop();\r\n        ParentStack ps = cs;\r\n//        ps.push(Parent);\r\n//        Parent p = ps.pop();\r\n```","title":"How to explain the type of return value and parameter definition at sub class in a generic class hierarchy?","body":"<p>Why are the return type and the parameter type at the pop and push methods respectively Child rather than Parent?</p>\n<p>Suppose I have defined some classes as below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Parent {\n\n}\n\npublic class Child extends Parent {\n\n}\n\npublic class ParentStack&lt;E extends Parent&gt; {\n    private Object[] elements;\n    private int size = 0;\n\n    public ParentStack() {\n        elements = new Object[3];\n    }\n\n    public void push(E e) {\n        elements[size++] = e;\n    }\n\n    public E pop() {\n        E result = (E) elements[size--];\n        elements[size] = null;\n        return result;\n    }\n}\n\npublic class ChildStack extends ParentStack&lt;Child&gt; {\n\n    @Override\n    public Child pop() {\n        return super.pop();\n    }\n\n    @Override\n    public void push(Child child) {\n        super.push(child);\n    }\n}\n</code></pre>\n<p>The return and parameter types are Parent at ParentStack after the generic erase</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ParentStack {\n    public void push(Parent e) {\n        elements[size++] = e;\n    }\n\n    public E pop() {\n        Parent result = (Parent) elements[size--];\n        elements[size] = null;\n        return result;\n    }\n}\n</code></pre>\n<p>hence, theoretically, the ChildStack should define the types as Parent rather than Child, otherwise, these methods don't override the parent's method at all. How to explain this reasonally?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ChildStack extends ParentStack&lt;Child&gt; {\n\n    @Override\n    public Parent pop() {\n        return super.pop();\n    }\n\n    @Override\n    public void push(Parent child) {\n        super.push(child);\n    }\n}\n</code></pre>\n<p>Especially, if I clear the override methods defined at ChildStack, the signature API of ChildStack still are:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void push(Child child)\npublic Child pop()\n</code></pre>\n<p>Where do these methods come from?</p>\n<pre><code>        ChildStack cs = new ChildStack();\n//        cs.push(Child);\n//        Child c = cs.pop();\n        ParentStack ps = cs;\n//        ps.push(Parent);\n//        Parent p = ps.pop();\n</code></pre>\n"},{"tags":["java","sql","apache-calcite"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1694977356,"post_id":77120135,"comment_id":135959248,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29462825,"reputation":11,"user_id":22577222,"display_name":"giaogiao niu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694927568,"creation_date":1694912469,"question_id":77120135,"body_markdown":"The execution of Insert, Update and Delete statements using Calcite fails, and I cannot confirm the cause of the error. \r\n\r\n[Results]  \r\n[Input query]\r\n\r\n```sql\r\nDELETE FROM  customer\r\n```\r\n\r\n```log\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n```\r\n\r\n[Parsed query]\r\n\r\n```sql\r\nDELETE FROM `CUSTOMER`\r\n```\r\n\r\n[Logical plan]\r\n\r\n```log\r\nLogicalTableModify(table=[[CUSTOMER]], operation=[DELETE], flattened=[false]), id = 5\r\n  LogicalProject(c_custkey=[$0], c_name=[$1], c_address=[$2], c_nationkey=[$3], c_phone=[$4], c_acctbal=[$5], c_mktsegment=[$6], c_comment=[$7]), id = 4\r\n    LogicalTableScan(table=[[CUSTOMER]]), id = 1\r\n```\r\n\r\n[Physical plan]\r\n\r\n```log\r\nEnumerableTableModify(table=[[CUSTOMER]], operation=[DELETE], flattened=[false]), id = 20\r\n  EnumerableCalc(expr#0..7=[{inputs}], proj#0..7=[{exprs}]), id = 19\r\n    EnumerableTableScan(table=[[CUSTOMER]]), id = 13\r\n```\r\n\r\n```log\r\nException in thread &quot;main&quot; java.lang.NullPointerException\r\n\tat Baz.bind(Unknown Source)\r\n\tat com.github.zabetak.calcite.tutorial.LuceneQueryProcessor.execute(LuceneQueryProcessor.java:243)\r\n\tat com.github.zabetak.calcite.tutorial.LuceneQueryProcessor.main(LuceneQueryProcessor.java:115)\r\n```\r\n\r\nExpect to execute Insert, Delete, Update statements correctly\r\n","title":"Error executing Insert, Update, Delete statement using apache calcite","body":"<p>The execution of Insert, Update and Delete statements using Calcite fails, and I cannot confirm the cause of the error.</p>\n<p>[Results]<br />\n[Input query]</p>\n<pre class=\"lang-sql prettyprint-override\"><code>DELETE FROM  customer\n</code></pre>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n</code></pre>\n<p>[Parsed query]</p>\n<pre class=\"lang-sql prettyprint-override\"><code>DELETE FROM `CUSTOMER`\n</code></pre>\n<p>[Logical plan]</p>\n<pre><code>LogicalTableModify(table=[[CUSTOMER]], operation=[DELETE], flattened=[false]), id = 5\n  LogicalProject(c_custkey=[$0], c_name=[$1], c_address=[$2], c_nationkey=[$3], c_phone=[$4], c_acctbal=[$5], c_mktsegment=[$6], c_comment=[$7]), id = 4\n    LogicalTableScan(table=[[CUSTOMER]]), id = 1\n</code></pre>\n<p>[Physical plan]</p>\n<pre><code>EnumerableTableModify(table=[[CUSTOMER]], operation=[DELETE], flattened=[false]), id = 20\n  EnumerableCalc(expr#0..7=[{inputs}], proj#0..7=[{exprs}]), id = 19\n    EnumerableTableScan(table=[[CUSTOMER]]), id = 13\n</code></pre>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException\n    at Baz.bind(Unknown Source)\n    at com.github.zabetak.calcite.tutorial.LuceneQueryProcessor.execute(LuceneQueryProcessor.java:243)\n    at com.github.zabetak.calcite.tutorial.LuceneQueryProcessor.main(LuceneQueryProcessor.java:115)\n</code></pre>\n<p>Expect to execute Insert, Delete, Update statements correctly</p>\n"},{"tags":["java","vaadin","vaadin22"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1639241522,"post_id":70316973,"comment_id":124300689,"body_markdown":"Can you try to run it with mvn spring-boot:run","body":"Can you try to run it with mvn spring-boot:run"},{"owner":{"account_id":1632225,"reputation":1661,"user_id":1506545,"display_name":"Avec"},"score":0,"creation_date":1639242682,"post_id":70316973,"comment_id":124301002,"body_markdown":"If you are going to follow Alejandro&#39;s example I would recommend to also use Vaadin 21 like he does. Vaadin 22 is brand new and might not work the same way like the example and with the components used.","body":"If you are going to follow Alejandro&#39;s example I would recommend to also use Vaadin 21 like he does. Vaadin 22 is brand new and might not work the same way like the example and with the components used."},{"owner":{"account_id":12788787,"reputation":61,"user_id":9314716,"display_name":"yeferson cordoba"},"score":0,"creation_date":1639242847,"post_id":70316973,"comment_id":124301047,"body_markdown":"I will use it and the will let you know how was everything","body":"I will use it and the will let you know how was everything"},{"owner":{"account_id":12788787,"reputation":61,"user_id":9314716,"display_name":"yeferson cordoba"},"score":0,"creation_date":1639243652,"post_id":70316973,"comment_id":124301246,"body_markdown":"Solved! thanks to @SimonMartinelli and Avec, i have to run it with mvn spring-boot:run and use the same vaadin version.","body":"Solved! thanks to @SimonMartinelli and Avec, i have to run it with mvn spring-boot:run and use the same vaadin version."}],"answers":[{"tags":[],"owner":{"account_id":5281693,"reputation":702,"user_id":4216826,"display_name":"mumbasa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652945403,"creation_date":1652945403,"answer_id":72300377,"question_id":70316973,"body_markdown":"I had this error. What i had to do is to check your vaadin addon dependencies and i realised on addon was causing this error","title":"Vaadin frontend folder Failed to load content of &#39;./frontend/index.html&#39;","body":"<p>I had this error. What i had to do is to check your vaadin addon dependencies and i realised on addon was causing this error</p>\n"},{"tags":[],"owner":{"account_id":21664604,"reputation":1,"user_id":15983213,"display_name":"KeLu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669069436,"creation_date":1669069436,"answer_id":74525523,"question_id":70316973,"body_markdown":"I had a similar problem. I think there must have errors more specific, so I suggest you to look further in your log. I will explain the error I received and what I did. Hope this can help you. By the way, I was watching the same video when I got stuck because the website was not loaded.\r\n\r\nWhat happened\r\nFirst of all, I&#39;m using VSCode, Maven, Java and all the dependencies of the project (latest versions). After running the App, and accessing localhost:8080 I got the following message (on the browser): &quot;Building front-end development bundle&quot;. This message was there for more than 30 minutes. I decided to &quot;Reload the project&quot;. It&#39;s important to note that this can be done in VSCode without any specific command, just a click. Maybe there&#39;s a maven command to do that (mvn clean, mvc compile, mvn install, or else)\r\nAfter the reload, the App seemed to work fine, without any error message in the console. When I accessed the webpage, it throw almost the same error as your. I went to the terminal and started to analyze the error lines. At some point I identified a key error message: Could not resolve &quot;@vaadin/vaadin-grid/theme/lumo/vaadin-grid-styles.js&quot;.\r\nThe building of the application created a folder for node in the root folder: node_modules. Inside this folder I found the path indicated by the message, but not the file.\r\nSo I searched the web for some clue. Then, I decided to go to the Github repository of Vaadin () to try and find the file. It was not there, but they have the HTML files. Then I decided to compare the HTML file content with the same name with other JS I already had in my folder (I used the vaadin-grid-pro-styles.js as a baseline). As I identified a pattern, I just created the file needed (vaadin-grid-styles.js) using the file &quot;vaadin-grid-styles.html&quot; from the Github repository. Voil&#224;, everything working now.\r\n\r\nHere are the links I accessed:\r\n\r\n[vaadin-grid-styles.html][1]\r\n\r\n[vaadin-grid-pro-styles.html][2]\r\n\r\nLook for the first WARN or ERROR messages during the build process. Almost forgot, my POM.XML is almost like yours. I think the only differences are the versions I&#39;m using and data specific to my environment (path, project name, Java version, and so on).\r\n\r\nHope this post can help you.\r\n\r\n  [1]: https://github.com/vaadin/vaadin-grid/blob/master/theme/lumo/vaadin-grid-styles.html\r\n  [2]: https://github.com/vaadin/vaadin-grid-pro/blob/master/theme/lumo/vaadin-grid-pro-styles.html","title":"Vaadin frontend folder Failed to load content of &#39;./frontend/index.html&#39;","body":"<p>I had a similar problem. I think there must have errors more specific, so I suggest you to look further in your log. I will explain the error I received and what I did. Hope this can help you. By the way, I was watching the same video when I got stuck because the website was not loaded.</p>\n<p>What happened\nFirst of all, I'm using VSCode, Maven, Java and all the dependencies of the project (latest versions). After running the App, and accessing localhost:8080 I got the following message (on the browser): &quot;Building front-end development bundle&quot;. This message was there for more than 30 minutes. I decided to &quot;Reload the project&quot;. It's important to note that this can be done in VSCode without any specific command, just a click. Maybe there's a maven command to do that (mvn clean, mvc compile, mvn install, or else)\nAfter the reload, the App seemed to work fine, without any error message in the console. When I accessed the webpage, it throw almost the same error as your. I went to the terminal and started to analyze the error lines. At some point I identified a key error message: Could not resolve &quot;@vaadin/vaadin-grid/theme/lumo/vaadin-grid-styles.js&quot;.\nThe building of the application created a folder for node in the root folder: node_modules. Inside this folder I found the path indicated by the message, but not the file.\nSo I searched the web for some clue. Then, I decided to go to the Github repository of Vaadin () to try and find the file. It was not there, but they have the HTML files. Then I decided to compare the HTML file content with the same name with other JS I already had in my folder (I used the vaadin-grid-pro-styles.js as a baseline). As I identified a pattern, I just created the file needed (vaadin-grid-styles.js) using the file &quot;vaadin-grid-styles.html&quot; from the Github repository. Voilà, everything working now.</p>\n<p>Here are the links I accessed:</p>\n<p><a href=\"https://github.com/vaadin/vaadin-grid/blob/master/theme/lumo/vaadin-grid-styles.html\" rel=\"nofollow noreferrer\">vaadin-grid-styles.html</a></p>\n<p><a href=\"https://github.com/vaadin/vaadin-grid-pro/blob/master/theme/lumo/vaadin-grid-pro-styles.html\" rel=\"nofollow noreferrer\">vaadin-grid-pro-styles.html</a></p>\n<p>Look for the first WARN or ERROR messages during the build process. Almost forgot, my POM.XML is almost like yours. I think the only differences are the versions I'm using and data specific to my environment (path, project name, Java version, and so on).</p>\n<p>Hope this post can help you.</p>\n"}],"owner":{"account_id":12788787,"reputation":61,"user_id":9314716,"display_name":"yeferson cordoba"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1675,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1694927017,"creation_date":1639240600,"question_id":70316973,"body_markdown":"Hi I&#39;m following [this](https://www.youtube.com/watch?v=_4Kin8QTb30  &quot;Youtube.com&quot;) this Alejandro Duarte tutorial from vaadin chanel, but in the third video when I run my code I am having this error when I go to http://localhost:8080 \r\n\r\n```\r\n\r\njava.io.UncheckedIOException: java.io.IOException: Failed to load content of &#39;./frontend/index.html&#39;. It is required to have &#39;./frontend/index.html&#39; file when using client side bootstrapping.\r\n\tat com.vaadin.flow.server.communication.IndexHtmlRequestHandler$IndexHtmlHolder.&lt;init&gt;(IndexHtmlRequestHandler.java:317) ~[flow-server-9.0.1.jar:9.0.1]\r\n\tat com.vaadin.flow.server.communication.IndexHtmlRequestHandler$IndexHtmlHolder.&lt;init&gt;(IndexHtmlRequestHandler.java:309) ~[flow-server-9.0.1.jar:9.0.1]\r\n\tat com.vaadin.flow.server.communication.IndexHtmlRequestHandler.lambda$getCachedIndexHtmlDocument$0(IndexHtmlRequestHandler.java:261) ~[flow-server-9.0.1.jar:9.0.1]\r\n\tat com.vaadin.flow.server.VaadinServletContext.getAttribute(VaadinServletContext.java:73) ~[flow-server-9.0.1.jar:9.0.1]\r\n\tat com.vaadin.flow.server.communication.IndexHtmlRequestHandler.getCachedIndexHtmlDocument(IndexHtmlRequestHandler.java:260) ~[flow-server-9.0.1.jar:9.0.1]\r\n\tat com.vaadin.flow.server.communication.IndexHtmlRequestHandler.synchronizedHandleRequest(IndexHtmlRequestHandler.java:81) ~[flow-server-9.0.1.jar:9.0.1]\r\n\tat com.vaadin.flow.server.SynchronizedRequestHandler.handleRequest(SynchronizedRequestHandler.java:40) ~[flow-server-9.0.1.jar:9.0.1]\r\n\tat com.vaadin.flow.server.VaadinService.handleRequest(VaadinService.java:1567) ~[flow-server-9.0.1.jar:9.0.1]\r\n\tat com.vaadin.flow.server.VaadinServlet.service(VaadinServlet.java:299) ~[flow-server-9.0.1.jar:9.0.1]\r\n\tat com.vaadin.flow.spring.SpringServlet.service(SpringServlet.java:109) ~[vaadin-spring-19.0.2.jar:na]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.55.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:353) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.springframework.web.servlet.mvc.ServletForwardingController.handleRequestInternal(ServletForwardingController.java:141) ~[spring-webmvc-5.3.13.jar:5.3.13]\r\n\tat org.springframework.web.servlet.mvc.AbstractController.handleRequest(AbstractController.java:177) ~[spring-webmvc-5.3.13.jar:5.3.13]\r\n\tat org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:51) ~[spring-webmvc-5.3.13.jar:5.3.13]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.13.jar:5.3.13]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.13.jar:5.3.13]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.13.jar:5.3.13]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.13.jar:5.3.13]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.55.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.13.jar:5.3.13]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.55.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.55.jar:9.0.55]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:219) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n\tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.13.jar:5.3.13]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.13.jar:5.3.13]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.13.jar:5.3.13]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.13.jar:5.3.13]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.13.jar:5.3.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.13.jar:5.3.13]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.13.jar:5.3.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.13.jar:5.3.13]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.13.jar:5.3.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.13.jar:5.3.13]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.13.jar:5.3.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n\r\n ```\r\n\r\nI am checking this line \r\n\r\n ```java.io.UncheckedIOException: java.io.IOException: Failed to load content of &#39;./frontend/index.html&#39;. It is required to have &#39;./frontend/index.html&#39; file when using client side bootstrapping. ```\r\n\r\nIt seems like I don&#39;t have the frontend folder with the index.html file where it suppose to be\r\n\r\nI have a frontend folder in **demo/frontend/index.html**\r\n\r\nAlso I am seeing another frontend folder in **demo/target/frontend** however this one don&#39;t have the index.html file\r\n\r\nHow can I fix this?\r\n\r\nthis is my pom file\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.1&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;demo&lt;/name&gt;\r\n    &lt;description&gt;demo&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;vaadin.version&gt;22.0.1&lt;/vaadin.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;vaadin-addons&lt;/id&gt;\r\n            &lt;url&gt;https://maven.vaadin.com/vaadin-addons&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;vaadin-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.vaadin.crudui&lt;/groupId&gt;\r\n            &lt;artifactId&gt;crudui&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;collaboration-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;production&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;frontend&lt;/id&gt;\r\n                                &lt;phase&gt;compile&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                        &lt;goal&gt;prepare-frontend&lt;/goal&gt;\r\n                                        &lt;goal&gt;build-frontend&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;productionMode&gt;true&lt;/productionMode&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n```\r\nThis is how it shows when I run it with ```mvn spring-boot:run```\r\n\r\n\r\n```\r\n------------------ Frontend compilation failed. ------------------\r\n\r\n2021-12-11 11:54:37.579  INFO 39073 --- [onPool-worker-1] c.v.b.devserver.AbstractDevServerRunner  : Started Webpack. Time: 6075ms\r\n2021-12-11 11:54:37.602  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   : ERROR in target/flow-frontend/VaadinDevmodeGizmo.ts:1034:28\r\n2021-12-11 11:54:37.602  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   : TS2571: Object is of type &#39;unknown&#39;.\r\n2021-12-11 11:54:37.602  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   :     1032 |       json = JSON.parse(msg.data);\r\n2021-12-11 11:54:37.602  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   :     1033 |     } catch (e) {\r\n2021-12-11 11:54:37.602  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   :   &gt; 1034 |       this.handleError(`[${e.name}: ${e.message}`);\r\n2021-12-11 11:54:37.602  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   :          |                            ^\r\n2021-12-11 11:54:37.603  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   :     1035 |       return;\r\n2021-12-11 11:54:37.603  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   :     1036 |     }\r\n2021-12-11 11:54:37.603  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   :     1037 |     const command = json.command;\r\n2021-12-11 11:54:37.603  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   :\r\n2021-12-11 11:54:37.626  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   : ERROR in target/flow-frontend/VaadinDevmodeGizmo.ts:1034:39\r\n2021-12-11 11:54:37.627  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   : TS2571: Object is of type &#39;unknown&#39;.\r\n2021-12-11 11:54:37.627  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   :     1032 |       json = JSON.parse(msg.data);\r\n2021-12-11 11:54:37.627  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   :     1033 |     } catch (e) {\r\n2021-12-11 11:54:37.627  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   :   &gt; 1034 |       this.handleError(`[${e.name}: ${e.message}`);\r\n2021-12-11 11:54:37.627  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   :          |                                       ^\r\n2021-12-11 11:54:37.627  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   :     1035 |       return;\r\n2021-12-11 11:54:37.627  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   :     1036 |     }\r\n2021-12-11 11:54:37.627  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   :     1037 |     const command = json.command;\r\n2021-12-11 11:54:37.628  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   :\r\n2021-12-11 12:02:46.371  INFO 39073 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2021-12-11 12:02:46.372  INFO 39073 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2021-12-11 12:02:46.383  INFO 39073 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 11 ms\r\n2021-12-11 12:02:46.461  INFO 39073 --- [nio-8080-exec-1] c.vaadin.flow.spring.SpringInstantiator  : The number of beans implementing &#39;I18NProvider&#39; is 0. Cannot use Spring beans for I18N, falling back to the default behavior\r\n```\r\n\r\n[https://ibb.co/TvsBRxK][1]\r\nThis is what it shows in the browser\r\n\r\n\r\nthanks in advance for your help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/T5hCc.png","title":"Vaadin frontend folder Failed to load content of &#39;./frontend/index.html&#39;","body":"<p>Hi I'm following <a href=\"https://www.youtube.com/watch?v=_4Kin8QTb30\" rel=\"nofollow noreferrer\" title=\"Youtube.com\">this</a> this Alejandro Duarte tutorial from vaadin chanel, but in the third video when I run my code I am having this error when I go to http://localhost:8080</p>\n<pre><code>\njava.io.UncheckedIOException: java.io.IOException: Failed to load content of './frontend/index.html'. It is required to have './frontend/index.html' file when using client side bootstrapping.\n    at com.vaadin.flow.server.communication.IndexHtmlRequestHandler$IndexHtmlHolder.&lt;init&gt;(IndexHtmlRequestHandler.java:317) ~[flow-server-9.0.1.jar:9.0.1]\n    at com.vaadin.flow.server.communication.IndexHtmlRequestHandler$IndexHtmlHolder.&lt;init&gt;(IndexHtmlRequestHandler.java:309) ~[flow-server-9.0.1.jar:9.0.1]\n    at com.vaadin.flow.server.communication.IndexHtmlRequestHandler.lambda$getCachedIndexHtmlDocument$0(IndexHtmlRequestHandler.java:261) ~[flow-server-9.0.1.jar:9.0.1]\n    at com.vaadin.flow.server.VaadinServletContext.getAttribute(VaadinServletContext.java:73) ~[flow-server-9.0.1.jar:9.0.1]\n    at com.vaadin.flow.server.communication.IndexHtmlRequestHandler.getCachedIndexHtmlDocument(IndexHtmlRequestHandler.java:260) ~[flow-server-9.0.1.jar:9.0.1]\n    at com.vaadin.flow.server.communication.IndexHtmlRequestHandler.synchronizedHandleRequest(IndexHtmlRequestHandler.java:81) ~[flow-server-9.0.1.jar:9.0.1]\n    at com.vaadin.flow.server.SynchronizedRequestHandler.handleRequest(SynchronizedRequestHandler.java:40) ~[flow-server-9.0.1.jar:9.0.1]\n    at com.vaadin.flow.server.VaadinService.handleRequest(VaadinService.java:1567) ~[flow-server-9.0.1.jar:9.0.1]\n    at com.vaadin.flow.server.VaadinServlet.service(VaadinServlet.java:299) ~[flow-server-9.0.1.jar:9.0.1]\n    at com.vaadin.flow.spring.SpringServlet.service(SpringServlet.java:109) ~[vaadin-spring-19.0.2.jar:na]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.55.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:353) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.springframework.web.servlet.mvc.ServletForwardingController.handleRequestInternal(ServletForwardingController.java:141) ~[spring-webmvc-5.3.13.jar:5.3.13]\n    at org.springframework.web.servlet.mvc.AbstractController.handleRequest(AbstractController.java:177) ~[spring-webmvc-5.3.13.jar:5.3.13]\n    at org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:51) ~[spring-webmvc-5.3.13.jar:5.3.13]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.13.jar:5.3.13]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.13.jar:5.3.13]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.13.jar:5.3.13]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.13.jar:5.3.13]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.55.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.13.jar:5.3.13]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.55.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:219) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.13.jar:5.3.13]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.13.jar:5.3.13]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.13.jar:5.3.13]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.13.jar:5.3.13]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.13.jar:5.3.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.13.jar:5.3.13]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.13.jar:5.3.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.13.jar:5.3.13]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.13.jar:5.3.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.13.jar:5.3.13]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.13.jar:5.3.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n\n\n</code></pre>\n<p>I am checking this line</p>\n<p><code>java.io.UncheckedIOException: java.io.IOException: Failed to load content of './frontend/index.html'. It is required to have './frontend/index.html' file when using client side bootstrapping. </code></p>\n<p>It seems like I don't have the frontend folder with the index.html file where it suppose to be</p>\n<p>I have a frontend folder in <strong>demo/frontend/index.html</strong></p>\n<p>Also I am seeing another frontend folder in <strong>demo/target/frontend</strong> however this one don't have the index.html file</p>\n<p>How can I fix this?</p>\n<p>this is my pom file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;demo&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;vaadin.version&gt;22.0.1&lt;/vaadin.version&gt;\n    &lt;/properties&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;vaadin-addons&lt;/id&gt;\n            &lt;url&gt;https://maven.vaadin.com/vaadin-addons&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;artifactId&gt;vaadin-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.vaadin.crudui&lt;/groupId&gt;\n            &lt;artifactId&gt;crudui&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;artifactId&gt;collaboration-engine&lt;/artifactId&gt;\n            &lt;version&gt;3.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                &lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;production&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                        &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${vaadin.version}&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;frontend&lt;/id&gt;\n                                &lt;phase&gt;compile&lt;/phase&gt;\n                                &lt;goals&gt;\n                                        &lt;goal&gt;prepare-frontend&lt;/goal&gt;\n                                        &lt;goal&gt;build-frontend&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;productionMode&gt;true&lt;/productionMode&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n&lt;/project&gt;\n\n\n</code></pre>\n<p>This is how it shows when I run it with <code>mvn spring-boot:run</code></p>\n<pre><code>------------------ Frontend compilation failed. ------------------\n\n2021-12-11 11:54:37.579  INFO 39073 --- [onPool-worker-1] c.v.b.devserver.AbstractDevServerRunner  : Started Webpack. Time: 6075ms\n2021-12-11 11:54:37.602  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   : ERROR in target/flow-frontend/VaadinDevmodeGizmo.ts:1034:28\n2021-12-11 11:54:37.602  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   : TS2571: Object is of type 'unknown'.\n2021-12-11 11:54:37.602  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   :     1032 |       json = JSON.parse(msg.data);\n2021-12-11 11:54:37.602  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   :     1033 |     } catch (e) {\n2021-12-11 11:54:37.602  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   :   &gt; 1034 |       this.handleError(`[${e.name}: ${e.message}`);\n2021-12-11 11:54:37.602  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   :          |                            ^\n2021-12-11 11:54:37.603  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   :     1035 |       return;\n2021-12-11 11:54:37.603  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   :     1036 |     }\n2021-12-11 11:54:37.603  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   :     1037 |     const command = json.command;\n2021-12-11 11:54:37.603  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   :\n2021-12-11 11:54:37.626  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   : ERROR in target/flow-frontend/VaadinDevmodeGizmo.ts:1034:39\n2021-12-11 11:54:37.627  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   : TS2571: Object is of type 'unknown'.\n2021-12-11 11:54:37.627  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   :     1032 |       json = JSON.parse(msg.data);\n2021-12-11 11:54:37.627  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   :     1033 |     } catch (e) {\n2021-12-11 11:54:37.627  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   :   &gt; 1034 |       this.handleError(`[${e.name}: ${e.message}`);\n2021-12-11 11:54:37.627  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   :          |                                       ^\n2021-12-11 11:54:37.627  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   :     1035 |       return;\n2021-12-11 11:54:37.627  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   :     1036 |     }\n2021-12-11 11:54:37.627  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   :     1037 |     const command = json.command;\n2021-12-11 11:54:37.628  INFO 39073 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   :\n2021-12-11 12:02:46.371  INFO 39073 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2021-12-11 12:02:46.372  INFO 39073 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2021-12-11 12:02:46.383  INFO 39073 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 11 ms\n2021-12-11 12:02:46.461  INFO 39073 --- [nio-8080-exec-1] c.vaadin.flow.spring.SpringInstantiator  : The number of beans implementing 'I18NProvider' is 0. Cannot use Spring beans for I18N, falling back to the default behavior\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/T5hCc.png\" rel=\"nofollow noreferrer\">https://ibb.co/TvsBRxK</a>\nThis is what it shows in the browser</p>\n<p>thanks in advance for your help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"score":1,"creation_date":1319000520,"post_id":7816423,"comment_id":9526168,"body_markdown":"NetBeans Forums: http://forums.netbeans.org/topic43819.html","body":"NetBeans Forums: <a href=\"http://forums.netbeans.org/topic43819.html\" rel=\"nofollow noreferrer\">forums.netbeans.org/topic43819.html</a>"},{"owner":{"account_id":286782,"reputation":3674,"user_id":586229,"accept_rate":20,"display_name":"hoijui"},"score":0,"creation_date":1394783217,"post_id":7816423,"comment_id":34054352,"body_markdown":"see http://stackoverflow.com/questions/9164625/maven-use-jdk-7-to-compile-for-jvm-5 for a solution in case you are using maven","body":"see <a href=\"http://stackoverflow.com/questions/9164625/maven-use-jdk-7-to-compile-for-jvm-5\" title=\"maven use jdk 7 to compile for jvm 5\">stackoverflow.com/questions/9164625/&hellip;</a> for a solution in case you are using maven"},{"owner":{"account_id":278464,"reputation":6672,"user_id":573057,"accept_rate":89,"display_name":"earcam"},"score":4,"creation_date":1433207606,"post_id":7816423,"comment_id":49241174,"body_markdown":"This caused me a headache using String.join from Java 8 in a Maven build with source &amp; target set to 7.  I used the maven-enforcer-plugin&#39;s [requireJavaVersion rule](https://maven.apache.org/enforcer/enforcer-rules/requireJavaVersion.html) to enforce range `&lt;version&gt;[1.7.0,1.7.0-79]&lt;/version&gt;` which at least breaks the build with a clear message rather than a test with obscure message.","body":"This caused me a headache using String.join from Java 8 in a Maven build with source &amp; target set to 7.  I used the maven-enforcer-plugin&#39;s <a href=\"https://maven.apache.org/enforcer/enforcer-rules/requireJavaVersion.html\" rel=\"nofollow noreferrer\">requireJavaVersion rule</a> to enforce range <code>&lt;version&gt;[1.7.0,1.7.0-79]&lt;&#47;version&gt;</code> which at least breaks the build with a clear message rather than a test with obscure message."}],"answers":[{"comments":[{"owner":{"account_id":121329,"reputation":11365,"user_id":314345,"accept_rate":67,"display_name":"dhardy"},"score":11,"creation_date":1405517699,"post_id":12050087,"comment_id":38458958,"body_markdown":"Great, though it seems easier just to use an older JDK to compile.","body":"Great, though it seems easier just to use an older JDK to compile."},{"owner":{"account_id":4394469,"reputation":3058,"user_id":3585768,"accept_rate":80,"display_name":"Jonathan Benn"},"score":0,"creation_date":1690487867,"post_id":12050087,"comment_id":135364771,"body_markdown":"I am using a Java 11 compiler to compile a Java 8 project. It is not clear what I should use for `rt.jar` because Java 11 doesn&#39;t seem to have this file at all.","body":"I am using a Java 11 compiler to compile a Java 8 project. It is not clear what I should use for <code>rt.jar</code> because Java 11 doesn&#39;t seem to have this file at all."}],"tags":[],"owner":{"account_id":9431,"reputation":9825,"user_id":17428,"accept_rate":80,"display_name":"Eduard Wirch"},"comment_count":2,"down_vote_count":0,"up_vote_count":104,"is_accepted":true,"score":104,"last_activity_date":1493229708,"creation_date":1345533961,"answer_id":12050087,"question_id":7816423,"body_markdown":"From a [blog post][1]:\r\n\r\n&gt; To use javac from JDK N to cross-compiler to an older platform version, the correct practice is to:\r\n&gt;\r\n&gt; * Use the older -source setting.\r\n&gt; * Set the bootclasspath to compile against the rt.jar (or equivalent) for the older platform. \r\n&gt;\r\n&gt; If the second step is not taken, javac will dutifully use the old language rules combined with new libraries, which can result in class files that do not work on the older platform since references to non-existent methods can get included. \r\n\r\n\r\n  [1]: https://blogs.oracle.com/darcy/new-javac-warning-for-setting-an-older-source-without-bootclasspath","title":"warning: [options] bootstrap class path not set in conjunction with -source 1.5","body":"<p>From a <a href=\"https://blogs.oracle.com/darcy/new-javac-warning-for-setting-an-older-source-without-bootclasspath\" rel=\"noreferrer\">blog post</a>:</p>\n\n<blockquote>\n  <p>To use javac from JDK N to cross-compiler to an older platform version, the correct practice is to:</p>\n  \n  <ul>\n  <li>Use the older -source setting.</li>\n  <li>Set the bootclasspath to compile against the rt.jar (or equivalent) for the older platform. </li>\n  </ul>\n  \n  <p>If the second step is not taken, javac will dutifully use the old language rules combined with new libraries, which can result in class files that do not work on the older platform since references to non-existent methods can get included. </p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":97323,"reputation":3443,"user_id":264047,"accept_rate":89,"display_name":"Alexander Malakhov"},"score":41,"creation_date":1375419468,"post_id":16858722,"comment_id":26336441,"body_markdown":"Please note, that&#39;s not a good idea to just shut up warnings like this","body":"Please note, that&#39;s not a good idea to just shut up warnings like this"},{"owner":{"account_id":604462,"reputation":1040,"user_id":309261,"display_name":"Neon"},"score":9,"creation_date":1379437203,"post_id":16858722,"comment_id":27821744,"body_markdown":"agreed, but sometimes it is better to disable some warnings vs outputting hundreds of them so that your true warnings are hidden.","body":"agreed, but sometimes it is better to disable some warnings vs outputting hundreds of them so that your true warnings are hidden."},{"owner":{"account_id":481416,"reputation":355404,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":3,"creation_date":1426666200,"post_id":16858722,"comment_id":46461556,"body_markdown":"Can someone give a minimal example of something that goes wrong by ignoring this warning?","body":"Can someone give a minimal example of something that goes wrong by ignoring this warning?"},{"owner":{"account_id":3738655,"reputation":573,"user_id":3110605,"display_name":"real_paul"},"score":1,"creation_date":1452594560,"post_id":16858722,"comment_id":57227935,"body_markdown":"See [comment above](http://stackoverflow.com/questions/7816423/warning-options-bootstrap-class-path-not-set-in-conjunction-with-source-1-5#comment49241174_7816423)","body":"See <a href=\"http://stackoverflow.com/questions/7816423/warning-options-bootstrap-class-path-not-set-in-conjunction-with-source-1-5#comment49241174_7816423\">comment above</a>"}],"tags":[],"owner":{"account_id":604462,"reputation":1040,"user_id":309261,"display_name":"Neon"},"comment_count":4,"down_vote_count":5,"up_vote_count":8,"is_accepted":false,"score":3,"last_activity_date":1370007709,"creation_date":1370007709,"answer_id":16858722,"question_id":7816423,"body_markdown":"The warning can be disabled with a new JDK 7 suboption within the -Xlint family, -Xlint:-options. e.g. \r\n\r\n$ javac -source 1.5 -Xlint:-options example.java\r\n\r\nsources: https://blogs.oracle.com/darcy/entry/bootclasspath_older_source\r\n\r\nand\r\n\r\nhttp://docs.oracle.com/javase/7/docs/technotes/tools/solaris/javac.html#xlintwarnings\r\n\r\nWarnings That Can Be Enabled or Disabled with -Xlint Option\r\n\r\nEnable warning name with the option -Xlint:name, where name is one of the following warning names. Similarly, you can disable warning name with the option -Xlint:-name:\r\n...\r\n\r\noptions\r\n    Warn about issues relating to the use of command line options. See Cross-Compilation Example for an example of this kind of warning.","title":"warning: [options] bootstrap class path not set in conjunction with -source 1.5","body":"<p>The warning can be disabled with a new JDK 7 suboption within the -Xlint family, -Xlint:-options. e.g. </p>\n\n<p>$ javac -source 1.5 -Xlint:-options example.java</p>\n\n<p>sources: <a href=\"https://blogs.oracle.com/darcy/entry/bootclasspath_older_source\" rel=\"nofollow\">https://blogs.oracle.com/darcy/entry/bootclasspath_older_source</a></p>\n\n<p>and</p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/solaris/javac.html#xlintwarnings\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/technotes/tools/solaris/javac.html#xlintwarnings</a></p>\n\n<p>Warnings That Can Be Enabled or Disabled with -Xlint Option</p>\n\n<p>Enable warning name with the option -Xlint:name, where name is one of the following warning names. Similarly, you can disable warning name with the option -Xlint:-name:\n...</p>\n\n<p>options\n    Warn about issues relating to the use of command line options. See Cross-Compilation Example for an example of this kind of warning.</p>\n"},{"comments":[{"owner":{"account_id":2807185,"reputation":1201,"user_id":2414189,"accept_rate":90,"display_name":"Doctor Parameter"},"score":2,"creation_date":1458304483,"post_id":27730735,"comment_id":59813214,"body_markdown":"&quot;myProject&gt;Properties&gt;Source/Binary Format: JDK 7&quot; worked for me","body":"&quot;myProject&gt;Properties&gt;Source/Binary Format: JDK 7&quot; worked for me"},{"owner":{"account_id":14335067,"reputation":722,"user_id":10354810,"display_name":"Jaja"},"score":0,"creation_date":1613403045,"post_id":27730735,"comment_id":117057825,"body_markdown":"Windows + Netbeans 12 by (code from jdk 8 to openjdk 11): solution from @DoctorParameter works for me.","body":"Windows + Netbeans 12 by (code from jdk 8 to openjdk 11): solution from @DoctorParameter works for me."}],"tags":[],"owner":{"account_id":5560607,"reputation":51,"user_id":4410044,"display_name":"n9dyfi"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1420114632,"creation_date":1420114632,"answer_id":27730735,"question_id":7816423,"body_markdown":"I&#39;m currently running Netbeans IDE 8.0.2 with JDK 1.8 on Linux Mint 17.1 which has java -version = 1.7.0_65. So to be able to run JAR files I had to set myProject&gt;Properties&gt;Source/Binary Format: JDK 7. However when building (myProject&gt;Clean and Build) I got a similar warning: warning: [options] bootstrap class path not set in conjunction with -source 1.7. \r\n\r\nThe solution was to add the Linux Mint JDK1.7 platform to the Netbeans platform list. \r\n\r\nThis can be done by going to myProject&gt;Properties&gt;Libraries and clicking the Manage Platforms... button. Then in the Java Platform Manager window click Add Platform... and select: Java Standard Edition, click Next and browse to /usr/lib/jvm/java-7-openjdk-amd64 (or whatever is the location of the JDK 1.7 version). The Platform name will be set to JDK1.7. Just click Finish and you&#39;re done.\r\n\r\nYou can now select the Java platform in the project properties. By selecting JDK1.7 and running Clean and Build: no more warnings. :-)","title":"warning: [options] bootstrap class path not set in conjunction with -source 1.5","body":"<p>I'm currently running Netbeans IDE 8.0.2 with JDK 1.8 on Linux Mint 17.1 which has java -version = 1.7.0_65. So to be able to run JAR files I had to set myProject>Properties>Source/Binary Format: JDK 7. However when building (myProject>Clean and Build) I got a similar warning: warning: [options] bootstrap class path not set in conjunction with -source 1.7. </p>\n\n<p>The solution was to add the Linux Mint JDK1.7 platform to the Netbeans platform list. </p>\n\n<p>This can be done by going to myProject>Properties>Libraries and clicking the Manage Platforms... button. Then in the Java Platform Manager window click Add Platform... and select: Java Standard Edition, click Next and browse to /usr/lib/jvm/java-7-openjdk-amd64 (or whatever is the location of the JDK 1.7 version). The Platform name will be set to JDK1.7. Just click Finish and you're done.</p>\n\n<p>You can now select the Java platform in the project properties. By selecting JDK1.7 and running Clean and Build: no more warnings. :-)</p>\n"},{"tags":[],"owner":{"account_id":481416,"reputation":355404,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"comment_count":0,"down_vote_count":1,"up_vote_count":43,"is_accepted":false,"score":42,"last_activity_date":1493229941,"creation_date":1427871263,"answer_id":29384628,"question_id":7816423,"body_markdown":"**bootclasspath usage**\r\n\r\n    javac -bootclasspath /usr/lib/jvm/java-7-oracle/jre/lib/rt.jar \\\r\n          -source 1.7 Main.java\r\n\r\nOn UNIX systems, locate `rt.jar` using:\r\n\r\n    locate -r &#39;/rt.jar$&#39;\r\n\r\nSet `JAVA_HOME` so that `rt.jar` is located at `$JAVA_HOME/jre/lib/rt.jar`, then:\r\n\r\n    javac -source 1.7 -bootclasspath &quot;$JAVA_HOME/jre/lib/rt.jar&quot; Main.java\r\n\r\nTested on Ubuntu 14.04 for Oracle Java 7 and 8.\r\n","title":"warning: [options] bootstrap class path not set in conjunction with -source 1.5","body":"<p><strong>bootclasspath usage</strong></p>\n\n<pre><code>javac -bootclasspath /usr/lib/jvm/java-7-oracle/jre/lib/rt.jar \\\n      -source 1.7 Main.java\n</code></pre>\n\n<p>On UNIX systems, locate <code>rt.jar</code> using:</p>\n\n<pre><code>locate -r '/rt.jar$'\n</code></pre>\n\n<p>Set <code>JAVA_HOME</code> so that <code>rt.jar</code> is located at <code>$JAVA_HOME/jre/lib/rt.jar</code>, then:</p>\n\n<pre><code>javac -source 1.7 -bootclasspath \"$JAVA_HOME/jre/lib/rt.jar\" Main.java\n</code></pre>\n\n<p>Tested on Ubuntu 14.04 for Oracle Java 7 and 8.</p>\n"},{"tags":[],"owner":{"account_id":10219947,"reputation":21,"user_id":7544425,"display_name":"Yerassyl Aben"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1516959415,"creation_date":1516775204,"answer_id":48416077,"question_id":7816423,"body_markdown":"1. Download JDK *(on warning written version)* -&gt; install\r\n\r\n2. Right click your project -&gt; Properties -&gt; Libraries -&gt; Java platform *(add your installed JDK)* -&gt; OK","title":"warning: [options] bootstrap class path not set in conjunction with -source 1.5","body":"<ol>\n<li><p>Download JDK <em>(on warning written version)</em> -> install</p></li>\n<li><p>Right click your project -> Properties -> Libraries -> Java platform <em>(add your installed JDK)</em> -> OK</p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":15675437,"reputation":137,"user_id":11310795,"display_name":"burned_fenrir"},"score":1,"creation_date":1573696865,"post_id":58620031,"comment_id":103969948,"body_markdown":"This fixed a problem I was struggling with for about an hour, I just couldn&#39;t see it.","body":"This fixed a problem I was struggling with for about an hour, I just couldn&#39;t see it."},{"owner":{"account_id":4394469,"reputation":3058,"user_id":3585768,"accept_rate":80,"display_name":"Jonathan Benn"},"score":0,"creation_date":1690488093,"post_id":58620031,"comment_id":135364819,"body_markdown":"That doesn&#39;t fix the problem if what you *want* is to compile as version 8!","body":"That doesn&#39;t fix the problem if what you <i>want</i> is to compile as version 8!"}],"tags":[],"owner":{"account_id":6946341,"reputation":57,"user_id":6393818,"display_name":"Sandeep T"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1572418585,"creation_date":1572418585,"answer_id":58620031,"question_id":7816423,"body_markdown":"Ensure your jdk version and the java compiler source version are the same. For example if you are using maven, and have setup the project using JDK 9, then following pom snippet  would through above warning \r\n\r\n```\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                    ...\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nCorrecting the source/target version to 9 fixes the warning as below\r\n```\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;9&lt;/source&gt;\r\n                    &lt;target&gt;9&lt;/target&gt;\r\n                    ...\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n```","title":"warning: [options] bootstrap class path not set in conjunction with -source 1.5","body":"<p>Ensure your jdk version and the java compiler source version are the same. For example if you are using maven, and have setup the project using JDK 9, then following pom snippet  would through above warning </p>\n\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    ...\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n\n<p>Correcting the source/target version to 9 fixes the warning as below</p>\n\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;9&lt;/source&gt;\n                    &lt;target&gt;9&lt;/target&gt;\n                    ...\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17365195,"reputation":11,"user_id":12580523,"display_name":"Joziel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615155983,"creation_date":1615155983,"answer_id":66522134,"question_id":7816423,"body_markdown":"If you are on Windows using the Apache NetBeans IDE:\r\n\r\n  1 - Check which Java version is selected at:\r\n\r\n    Menu Bar -&gt; Tools -&gt; Options -&gt; Java -&gt; Java Platform\r\n\r\n  2 - Select the same Java version at:\r\n\r\n    Menu Bar -&gt; Run -&gt; Set Project Configuration -&gt; Customize... -&gt; Sources -&gt; Source/Binary Format","title":"warning: [options] bootstrap class path not set in conjunction with -source 1.5","body":"<p>If you are on Windows using the Apache NetBeans IDE:</p>\n<p>1 - Check which Java version is selected at:</p>\n<pre><code>Menu Bar -&gt; Tools -&gt; Options -&gt; Java -&gt; Java Platform\n</code></pre>\n<p>2 - Select the same Java version at:</p>\n<pre><code>Menu Bar -&gt; Run -&gt; Set Project Configuration -&gt; Customize... -&gt; Sources -&gt; Source/Binary Format\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4640113,"reputation":2872,"user_id":3760216,"accept_rate":36,"display_name":"Sachith Muhandiram"},"score":1,"creation_date":1695095100,"post_id":77120535,"comment_id":135974744,"body_markdown":"Please post descriptive answer with more details.","body":"Please post descriptive answer with more details."}],"tags":[],"owner":{"account_id":22670937,"reputation":1,"user_id":16842722,"display_name":"Andy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694926948,"creation_date":1694926695,"answer_id":77120535,"question_id":7816423,"body_markdown":"I managed to change the source (in Netbeans), by right-clicking the libraries folder, selecting properties, and then source, change the source to the recommended option [enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FQ4tD.png","title":"warning: [options] bootstrap class path not set in conjunction with -source 1.5","body":"<p>I managed to change the source (in Netbeans), by right-clicking the libraries folder, selecting properties, and then source, change the source to the recommended option <a href=\"https://i.stack.imgur.com/FQ4tD.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"owner":{"account_id":967530,"reputation":2722,"user_id":990671,"accept_rate":41,"display_name":"Sam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107798,"favorite_count":0,"down_vote_count":5,"up_vote_count":152,"accepted_answer_id":12050087,"answer_count":8,"score":147,"last_activity_date":1694926948,"creation_date":1318997189,"question_id":7816423,"body_markdown":"I get the warning message at Build time!\r\n\r\n&gt; warning: [options] bootstrap class path not set in conjunction with\r\n&gt; -source 1.5\r\n\r\nHow can I fix it?","title":"warning: [options] bootstrap class path not set in conjunction with -source 1.5","body":"<p>I get the warning message at Build time!</p>\n\n<blockquote>\n  <p>warning: [options] bootstrap class path not set in conjunction with\n  -source 1.5</p>\n</blockquote>\n\n<p>How can I fix it?</p>\n"},{"tags":["java","spring-boot","unit-testing","mockito","junit5"],"answers":[{"comments":[{"owner":{"account_id":20196394,"reputation":21,"user_id":14813248,"display_name":"Xai"},"score":0,"creation_date":1695476055,"post_id":77120405,"comment_id":136031087,"body_markdown":"this answer is correct this code is fixed","body":"this answer is correct this code is fixed"}],"tags":[],"owner":{"account_id":20196394,"reputation":21,"user_id":14813248,"display_name":"Xai"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694925739,"creation_date":1694922407,"answer_id":77120405,"question_id":77120345,"body_markdown":"Thank you so much! The issue is in the mapping Process\r\nHere is the code that passed.\r\n\r\n\r\n    @Test\r\n    void isFetchByIdValid(){\r\n            Book bookSetup = new Book(1L,&quot;Onepiece&quot;,&quot;Advanture&quot;,500.50);\r\n\r\n            Optional&lt;Book&gt; optionalBook = Optional.of(bookSetup);\r\n\r\n          // Arrange\r\n            Mockito.when(bookRepository.fetchById(1L)).thenReturn(optionalBook);\r\n\r\n            BookDto bookDto = new BookDto();\r\n            bookDto.setId(bookSetup.getId());\r\n            bookDto.setTitle(bookSetup.getTitle());\r\n            bookDto.setCategory(bookSetup.getCategory());\r\n            bookDto.setPrice(bookSetup.getPrice());\r\n\r\n            Mockito.when(modelMapper.bookToDTO(bookSetup)).thenReturn(bookDto);\r\n            // Act\r\n            BookDto bookDTO = bookService.fetchById(1L);\r\n\r\n            // Debugging\r\n            System.out.println(&quot;book: &quot; + bookSetup);\r\n            System.out.println(&quot;bookDTO from service Test : &quot; + bookDTO);\r\n            System.out.println(&quot;BooDto from mapping: &quot; + bookDto);\r\n\r\n            // Assert\r\n            Assertions.assertNotNull(bookDTO);","title":"Junit 5 + Mockito in Service Layer FetchById Method return null object retrieve from service","body":"<p>Thank you so much! The issue is in the mapping Process\nHere is the code that passed.</p>\n<pre><code>@Test\nvoid isFetchByIdValid(){\n        Book bookSetup = new Book(1L,&quot;Onepiece&quot;,&quot;Advanture&quot;,500.50);\n\n        Optional&lt;Book&gt; optionalBook = Optional.of(bookSetup);\n\n      // Arrange\n        Mockito.when(bookRepository.fetchById(1L)).thenReturn(optionalBook);\n\n        BookDto bookDto = new BookDto();\n        bookDto.setId(bookSetup.getId());\n        bookDto.setTitle(bookSetup.getTitle());\n        bookDto.setCategory(bookSetup.getCategory());\n        bookDto.setPrice(bookSetup.getPrice());\n\n        Mockito.when(modelMapper.bookToDTO(bookSetup)).thenReturn(bookDto);\n        // Act\n        BookDto bookDTO = bookService.fetchById(1L);\n\n        // Debugging\n        System.out.println(&quot;book: &quot; + bookSetup);\n        System.out.println(&quot;bookDTO from service Test : &quot; + bookDTO);\n        System.out.println(&quot;BooDto from mapping: &quot; + bookDto);\n\n        // Assert\n        Assertions.assertNotNull(bookDTO);\n</code></pre>\n"}],"owner":{"account_id":20196394,"reputation":21,"user_id":14813248,"display_name":"Xai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77120405,"answer_count":1,"score":1,"last_activity_date":1694925739,"creation_date":1694920290,"question_id":77120345,"body_markdown":"I tried to test the FetchById method in my BookServiceTest using Mockito but this error occurred\r\nI&#39;m using JUnit 5 and Mockito, that come along with spring boot starter test in spring boot version 3.1.3\r\n\r\n\r\nthe error:\r\n```\r\norg.opentest4j.AssertionFailedError: expected: not &lt;null&gt;\r\n\r\n\tat org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:152)\r\n\tat org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)\r\n\tat org.junit.jupiter.api.AssertNotNull.failNull(AssertNotNull.java:49)\r\n\tat org.junit.jupiter.api.AssertNotNull.assertNotNull(AssertNotNull.java:35)\r\n\tat org.junit.jupiter.api.AssertNotNull.assertNotNull(AssertNotNull.java:30)\r\n\tat org.junit.jupiter.api.Assertions.assertNotNull(Assertions.java:301)\r\n\tat com.bookstore.com.serviceLevelTest.BookServTest.isFetchByIdValid(BookServTest.java:123)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\r\n```\r\n\r\n\r\n\r\n\r\nHere is my test class:\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\npublic class BookServTest {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(BookServTest.class);\r\n    @Mock\r\n    private BookRepository bookRepository;\r\n\r\n    @Mock\r\n    private ModelMappers modelMapper;\r\n    @Mock\r\n    AuthorService authorService;\r\n\r\n\r\n    private BookService bookService;\r\n\r\n\r\n    //Mock Object\r\n\r\n    List&lt;Book&gt; bookDtos;\r\n    private Book book;\r\n\r\n\r\n    private BookDto bookDto;\r\n    private Author author;\r\n\r\n    @BeforeEach\r\n    public void setUp(){\r\n    bookService = new BookService(modelMapper,bookRepository,authorService);\r\n\r\n        //Create BookDto\r\n        bookDto = new BookDto();\r\n        bookDto.setId(1L);\r\n        bookDto.setTitle(&quot;The Usual Suspect&quot;);\r\n        bookDto.setCategory(&quot;Crime&quot;);\r\n        bookDto.setPrice(7800.55);\r\n        bookDto.setAuthorName(&quot;Somxai&quot;);\r\n\r\n        //Create Book\r\n        book = new Book();\r\n                book.setId(1L);\r\n                book.setTitle(&quot;The Usual Suspect&quot;);\r\n                book.setCategory(&quot;Crime&quot;);\r\n                book.setPrice(7800.55);\r\n\r\n        //Create list of bookDto\r\n        bookDtos = new ArrayList&lt;&gt;();\r\n        bookDtos.add(new Book(1L, &quot;The Usual Suspect&quot;,&quot;Crime&quot;,7800.50));\r\n        bookDtos.add(new Book(2L, &quot;The Shutter Island&quot;,&quot;Crime&quot;,9000.50));\r\n        bookDtos.add(new Book(3L, &quot;The Shutter Island&quot;,&quot;Crime&quot;,9000.50));\r\n\r\n        //Create Author\r\n        author = new Author(&quot;Somxai&quot;,&quot;SSM&quot;,&quot;Laos PDR&quot;);\r\n\r\n    }\r\n\r\n\r\n//The error method:\r\n @Test\r\n    void isFetchByIdValid(){\r\n        //Arrange\r\n        Mockito.when(bookRepository.fetchById(1L)).thenReturn(Optional.of(book)); //as i have checked this method is ok\r\n        //Act\r\n        BookDto bookDTO = bookService.fetchById(1L); // bookDTO return null\r\n        //Assert\r\n        Assertions.assertNotNull(bookDTO);\r\n\r\n    }\r\n\r\n//this method work fine\r\n @Test\r\n    void isFetchAllValid(){\r\n        //Arrange\r\n        Pageable pageable = PageRequest.of(0,3,Sort.by(&quot;title&quot;).descending());\r\n        Page&lt;Book&gt; expectedPage = new PageImpl&lt;&gt;(bookDtos, pageable, bookDtos.size());\r\n        Mockito.when(bookRepository.findAll(pageable)).thenReturn(expectedPage);\r\n        //Act\r\n        List&lt;BookDto&gt; bookDtos1 = bookService.fetchAll(0,3,&quot;title&quot;);\r\n        //Assertion\r\n        Assertions.assertNotNull(bookDtos1);\r\n        Assertions.assertEquals(3,bookDtos1.size());\r\n    }\r\n\r\n```\r\nHere is service method:\r\n\r\n```\r\n@Transactional\r\n    @Cacheable(value = &quot;book&quot;, key = &quot;#id&quot;)\r\n    public BookDto fetchById(Long id) {\r\n        Optional&lt;Book&gt; book = bookRepository.fetchById(id);\r\n        if (book.isEmpty()) {\r\n            logger.info(&quot;book not found&quot;);\r\n        }\r\n        Book book1 = book.get();\r\n\r\n        return modelMapper.bookToDTO(book1);\r\n    }\r\n```\r\nHere is repository method: \r\n\r\n```\r\n\r\n\r\n    @Transactional\r\n    @Query(value = &quot;SELECT b FROM Book b JOIN FETCH b.author a WHERE b.id = :id&quot;)\r\n    Optional&lt;Book&gt; fetchById(@Param(&quot;id&quot;) Long id);\r\n\r\n```\r\n\r\nHere is mapping method from model mapper:\r\n```\r\npublic BookDto bookToDTO(Book book){\r\n\r\n            BookDto bookDto = new BookDto();\r\n            bookDto = modelMapper().map(book, BookDto.class);\r\n            if (book.getAuthor() != null){\r\n                bookDto.setAuthorName(book.getAuthor().getFirstName() + &quot; &quot; + book.getAuthor().getLastName());\r\n            }\r\n            return bookDto;\r\n        }\r\n```\r\n\r\n\r\n\r\n\r\nI have been searching for a similar issue and tried many approaches but not work for me.\r\nnote: When I tested in Postman, every method working fine.\r\nThanks in advance.\r\n\r\n","title":"Junit 5 + Mockito in Service Layer FetchById Method return null object retrieve from service","body":"<p>I tried to test the FetchById method in my BookServiceTest using Mockito but this error occurred\nI'm using JUnit 5 and Mockito, that come along with spring boot starter test in spring boot version 3.1.3</p>\n<p>the error:</p>\n<pre><code>org.opentest4j.AssertionFailedError: expected: not &lt;null&gt;\n\n    at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:152)\n    at org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)\n    at org.junit.jupiter.api.AssertNotNull.failNull(AssertNotNull.java:49)\n    at org.junit.jupiter.api.AssertNotNull.assertNotNull(AssertNotNull.java:35)\n    at org.junit.jupiter.api.AssertNotNull.assertNotNull(AssertNotNull.java:30)\n    at org.junit.jupiter.api.Assertions.assertNotNull(Assertions.java:301)\n    at com.bookstore.com.serviceLevelTest.BookServTest.isFetchByIdValid(BookServTest.java:123)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\n</code></pre>\n<p>Here is my test class:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class BookServTest {\n\n    private static final Logger logger = LoggerFactory.getLogger(BookServTest.class);\n    @Mock\n    private BookRepository bookRepository;\n\n    @Mock\n    private ModelMappers modelMapper;\n    @Mock\n    AuthorService authorService;\n\n\n    private BookService bookService;\n\n\n    //Mock Object\n\n    List&lt;Book&gt; bookDtos;\n    private Book book;\n\n\n    private BookDto bookDto;\n    private Author author;\n\n    @BeforeEach\n    public void setUp(){\n    bookService = new BookService(modelMapper,bookRepository,authorService);\n\n        //Create BookDto\n        bookDto = new BookDto();\n        bookDto.setId(1L);\n        bookDto.setTitle(&quot;The Usual Suspect&quot;);\n        bookDto.setCategory(&quot;Crime&quot;);\n        bookDto.setPrice(7800.55);\n        bookDto.setAuthorName(&quot;Somxai&quot;);\n\n        //Create Book\n        book = new Book();\n                book.setId(1L);\n                book.setTitle(&quot;The Usual Suspect&quot;);\n                book.setCategory(&quot;Crime&quot;);\n                book.setPrice(7800.55);\n\n        //Create list of bookDto\n        bookDtos = new ArrayList&lt;&gt;();\n        bookDtos.add(new Book(1L, &quot;The Usual Suspect&quot;,&quot;Crime&quot;,7800.50));\n        bookDtos.add(new Book(2L, &quot;The Shutter Island&quot;,&quot;Crime&quot;,9000.50));\n        bookDtos.add(new Book(3L, &quot;The Shutter Island&quot;,&quot;Crime&quot;,9000.50));\n\n        //Create Author\n        author = new Author(&quot;Somxai&quot;,&quot;SSM&quot;,&quot;Laos PDR&quot;);\n\n    }\n\n\n//The error method:\n @Test\n    void isFetchByIdValid(){\n        //Arrange\n        Mockito.when(bookRepository.fetchById(1L)).thenReturn(Optional.of(book)); //as i have checked this method is ok\n        //Act\n        BookDto bookDTO = bookService.fetchById(1L); // bookDTO return null\n        //Assert\n        Assertions.assertNotNull(bookDTO);\n\n    }\n\n//this method work fine\n @Test\n    void isFetchAllValid(){\n        //Arrange\n        Pageable pageable = PageRequest.of(0,3,Sort.by(&quot;title&quot;).descending());\n        Page&lt;Book&gt; expectedPage = new PageImpl&lt;&gt;(bookDtos, pageable, bookDtos.size());\n        Mockito.when(bookRepository.findAll(pageable)).thenReturn(expectedPage);\n        //Act\n        List&lt;BookDto&gt; bookDtos1 = bookService.fetchAll(0,3,&quot;title&quot;);\n        //Assertion\n        Assertions.assertNotNull(bookDtos1);\n        Assertions.assertEquals(3,bookDtos1.size());\n    }\n\n</code></pre>\n<p>Here is service method:</p>\n<pre><code>@Transactional\n    @Cacheable(value = &quot;book&quot;, key = &quot;#id&quot;)\n    public BookDto fetchById(Long id) {\n        Optional&lt;Book&gt; book = bookRepository.fetchById(id);\n        if (book.isEmpty()) {\n            logger.info(&quot;book not found&quot;);\n        }\n        Book book1 = book.get();\n\n        return modelMapper.bookToDTO(book1);\n    }\n</code></pre>\n<p>Here is repository method:</p>\n<pre><code>\n\n    @Transactional\n    @Query(value = &quot;SELECT b FROM Book b JOIN FETCH b.author a WHERE b.id = :id&quot;)\n    Optional&lt;Book&gt; fetchById(@Param(&quot;id&quot;) Long id);\n\n</code></pre>\n<p>Here is mapping method from model mapper:</p>\n<pre><code>public BookDto bookToDTO(Book book){\n\n            BookDto bookDto = new BookDto();\n            bookDto = modelMapper().map(book, BookDto.class);\n            if (book.getAuthor() != null){\n                bookDto.setAuthorName(book.getAuthor().getFirstName() + &quot; &quot; + book.getAuthor().getLastName());\n            }\n            return bookDto;\n        }\n</code></pre>\n<p>I have been searching for a similar issue and tried many approaches but not work for me.\nnote: When I tested in Postman, every method working fine.\nThanks in advance.</p>\n"},{"tags":["java","spring","postgresql","spring-boot","docker"],"comments":[{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1694916265,"post_id":77120122,"comment_id":135953880,"body_markdown":"Can you provide the link of the blog that you are following ?","body":"Can you provide the link of the blog that you are following ?"},{"owner":{"account_id":21967042,"reputation":84,"user_id":16244113,"display_name":"mamJavad"},"score":0,"creation_date":1694932253,"post_id":77120122,"comment_id":135954753,"body_markdown":"use postgres container name in application prop instead of localhost . your container name is postgres","body":"use postgres container name in application prop instead of localhost . your container name is postgres"},{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1694947478,"post_id":77120122,"comment_id":135955995,"body_markdown":"In `spring.datasource.url`, use the other container&#39;s name `postgres` as the host name.","body":"In <code>spring.datasource.url</code>, use the other container&#39;s name <code>postgres</code> as the host name."}],"answers":[{"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1694947566,"post_id":77120475,"comment_id":135956001,"body_markdown":"This generally completely disables Docker&#39;s networking layer, and it&#39;s not usually a best practice.  Among other things, you lose options like the ability to remap PostgreSQL&#39;s port or to hide it from the external network entirely.  There are also known problems using host networking on Docker Desktop, including on non-Linux host systems.","body":"This generally completely disables Docker&#39;s networking layer, and it&#39;s not usually a best practice.  Among other things, you lose options like the ability to remap PostgreSQL&#39;s port or to hide it from the external network entirely.  There are also known problems using host networking on Docker Desktop, including on non-Linux host systems."}],"tags":[],"owner":{"account_id":179070,"reputation":3412,"user_id":411459,"accept_rate":82,"display_name":"Duncan Krebs"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1694924969,"creation_date":1694924969,"answer_id":77120475,"question_id":77120122,"body_markdown":"I think an even easier way would be to simple change your docker file to include --net=host \r\n\r\n    docker run --net=host &lt;image-name&gt;\r\nOnce you do that any code inside your container wanting to access postgres is able to use localhost and have it resolve on the host machine, i think that is what you are looking for. ","title":"Connect Spring Boot that runs in Docker to PostgreSQL that runs in Docker without compose file?","body":"<p>I think an even easier way would be to simple change your docker file to include --net=host</p>\n<pre><code>docker run --net=host &lt;image-name&gt;\n</code></pre>\n<p>Once you do that any code inside your container wanting to access postgres is able to use localhost and have it resolve on the host machine, i think that is what you are looking for.</p>\n"}],"owner":{"account_id":20833547,"reputation":1212,"user_id":15302273,"display_name":"stacktrace2234"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1694947453,"answer_count":1,"score":1,"last_activity_date":1694924969,"creation_date":1694911941,"question_id":77120122,"body_markdown":"To learn Docker I created a small spring boot app that can create/list/update users. \r\n\r\nI run a postgresql database on port 5432 and I run my app on port 8081. The problem that when I try to start the container &amp; my app:\r\n\r\n```\r\norg.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\r\n```\r\n\r\nI created a network and start the containers like this:\r\n\r\n```\r\ndocker run --name postgres --network demo-network -p 5432:5432 -e POSTGRES_PASSWORD=admin -d postgres\r\ndocker run --network demo-network -p 8081:8081 -d myuser/demodocker\r\n```\r\n\r\nMy Spring Boot application.properties: \r\n\r\n```\r\nserver.port=8081\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/postgres\r\nspring.datasource.username=postgres\r\nspring.datasource.password=admin\r\nspring.jpa.hibernate.ddl-auto=drop-and-create\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\njavax.persistence.schema-generation.scripts.action=drop-and-create\r\n```\r\n\r\nWhat to fix to make it work?","title":"Connect Spring Boot that runs in Docker to PostgreSQL that runs in Docker without compose file?","body":"<p>To learn Docker I created a small spring boot app that can create/list/update users.</p>\n<p>I run a postgresql database on port 5432 and I run my app on port 8081. The problem that when I try to start the container &amp; my app:</p>\n<pre><code>org.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\n</code></pre>\n<p>I created a network and start the containers like this:</p>\n<pre><code>docker run --name postgres --network demo-network -p 5432:5432 -e POSTGRES_PASSWORD=admin -d postgres\ndocker run --network demo-network -p 8081:8081 -d myuser/demodocker\n</code></pre>\n<p>My Spring Boot application.properties:</p>\n<pre><code>server.port=8081\nspring.datasource.url=jdbc:postgresql://localhost:5432/postgres\nspring.datasource.username=postgres\nspring.datasource.password=admin\nspring.jpa.hibernate.ddl-auto=drop-and-create\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\njavax.persistence.schema-generation.scripts.action=drop-and-create\n</code></pre>\n<p>What to fix to make it work?</p>\n"},{"tags":["java","unit-testing","mockito","powermock","powermockito"],"comments":[{"owner":{"account_id":1522669,"reputation":11674,"user_id":1421925,"accept_rate":90,"display_name":"Magnilex"},"score":1,"creation_date":1475217370,"post_id":39784841,"comment_id":66863989,"body_markdown":"Possible duplicate of [Using PowerMockito.whenNew() is not getting mocked and original method is called](http://stackoverflow.com/questions/25317804/using-powermockito-whennew-is-not-getting-mocked-and-original-method-is-called)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/25317804/using-powermockito-whennew-is-not-getting-mocked-and-original-method-is-called\">Using PowerMockito.whenNew() is not getting mocked and original method is called</a>"}],"answers":[{"comments":[{"owner":{"account_id":3467967,"reputation":1511,"user_id":2903069,"accept_rate":24,"display_name":"Shashi Ranjan"},"score":0,"creation_date":1475220141,"post_id":39785103,"comment_id":66865459,"body_markdown":"I should not create any new object in service method?","body":"I should not create any new object in service method?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1475220436,"post_id":39785103,"comment_id":66865639,"body_markdown":"I am saying: when you use **new** you loose the ability to (easily!) control your objects. So, avoiding calls to *new* **can** make your code better. As said: A) read about **dependency injection** and B) watch those videos; at least the first ones ...","body":"I am saying: when you use <b>new</b> you loose the ability to (easily!) control your objects. So, avoiding calls to <i>new</i> <b>can</b> make your code better. As said: A) read about <b>dependency injection</b> and B) watch those videos; at least the first ones ..."}],"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475217274,"creation_date":1475217274,"answer_id":39785103,"question_id":39784841,"body_markdown":"You created **hard to test** code there, for absolutely no good reason.\r\nWhat is breaking your neck is that small little call to **new B1** in your service class.\r\n\r\nIf you would be using **dependency injection** for that object; then you would absolutely not need to deal with powermock and mocking inherited methods. Because then you could simply create a &quot;mock&quot; B1; pass that to your service; and then you have **full** control over what will be happening during your test. \r\n\r\nSo, the viable alternative here might be to avoid complex test setup by simply improving your production code to be easier to test.\r\n\r\nWatch those [videos][1] to better understand what I am talking about!\r\n\r\n\r\n  [1]: https://www.youtube.com/playlist?list=PLD0011D00849E1B79","title":"Mock overridden method using mockito powermokito","body":"<p>You created <strong>hard to test</strong> code there, for absolutely no good reason.\nWhat is breaking your neck is that small little call to <strong>new B1</strong> in your service class.</p>\n\n<p>If you would be using <strong>dependency injection</strong> for that object; then you would absolutely not need to deal with powermock and mocking inherited methods. Because then you could simply create a \"mock\" B1; pass that to your service; and then you have <strong>full</strong> control over what will be happening during your test. </p>\n\n<p>So, the viable alternative here might be to avoid complex test setup by simply improving your production code to be easier to test.</p>\n\n<p>Watch those <a href=\"https://www.youtube.com/playlist?list=PLD0011D00849E1B79\" rel=\"nofollow\">videos</a> to better understand what I am talking about!</p>\n"}],"owner":{"account_id":3467967,"reputation":1511,"user_id":2903069,"accept_rate":24,"display_name":"Shashi Ranjan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694923625,"creation_date":1475216074,"question_id":39784841,"body_markdown":"I want to test my `Service` class method `testB1Method2` by mocking overridden method `a1Method2` of class `B1`. I do not want to change anything in class `A1` and `B1`. I am using mockito 1.9.0 and powermockito 1.4.12. The following code I am trying:\r\n\r\nUnitTestService class:\r\n\r\n    import static org.mockito.Mockito.*;\r\n    \r\n    import org.mockito.InjectMocks;\r\n    import org.mockito.Mock;\r\n    import org.mockito.Mockito;\r\n    import org.mockito.MockitoAnnotations;\r\n    import org.powermock.api.mockito.PowerMockito;\r\n    import org.testng.Assert;\r\n    import org.testng.annotations.Test;\r\n    \r\n    public class UnitTestService {\r\n    \r\n        @Mock\r\n        B1 b1;\r\n        @InjectMocks\r\n        Service service = new Service();\r\n    \r\n        @Test\r\n        public void testB1Method2() throws Exception {\r\n            MockitoAnnotations.initMocks(this);\r\n            when(b1.a1Method2()).thenReturn(&quot;mockvalue&quot;);\r\n            PowerMockito.whenNew(B1.class).withArguments(Mockito.any()).thenReturn(b1);\r\n            String output = service.serviceMethod();\r\n            System.out.println(&quot;=====&quot; + output);\r\n            Assert.assertTrue(&quot;mockvalue&quot;.equalsIgnoreCase(output), &quot;testA1Method2 failed!&quot;);\r\n        }\r\n    \r\n    }\r\n\r\nService class:\r\n\r\n    public class Service {\r\n    \r\n        public String serviceMethod() {\r\n            B1 b1 = new B1(&quot;some data&quot;);\r\n            return b1.a1Method2();\r\n        }\r\n    \r\n    }\r\n\r\nclass A1:\r\n\r\n    public abstract class A1 {\r\n    \r\n        public A1(String data) {\r\n            //doing many thing with data\r\n        }\r\n    \r\n        public String a1Method1() {\r\n            return &quot;from a1Method1&quot;;\r\n        }\r\n    \r\n        public String a1Method2() {\r\n            return &quot;from a1Method2&quot;;\r\n        }\r\n    \r\n    }\r\n\r\nB1 class:\r\n\r\n    public class B1 extends A1 {\r\n    \r\n        public B1(String data) {\r\n            super(data);\r\n        }\r\n    \r\n        @Override\r\n        public String a1Method1() {\r\n            return &quot;a1Method1 from B1 class&quot;;\r\n        }\r\n    \r\n    }\r\n\r\nI am running class `UnitTestService` using testNG in eclipse. And here actual method in class B1 `a1Method2` is getting called as it is printing &quot;=====from a1Method2&quot; in console. ie: here it seems mockito is not able to mock this method.\r\n\r\nWhat code change should I make in `UnitTestService` class to mock class B1 `a1Method2` ?","title":"Mock overridden method using mockito powermokito","body":"<p>I want to test my <code>Service</code> class method <code>testB1Method2</code> by mocking overridden method <code>a1Method2</code> of class <code>B1</code>. I do not want to change anything in class <code>A1</code> and <code>B1</code>. I am using mockito 1.9.0 and powermockito 1.4.12. The following code I am trying:</p>\n\n<p>UnitTestService class:</p>\n\n<pre><code>import static org.mockito.Mockito.*;\n\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.Mockito;\nimport org.mockito.MockitoAnnotations;\nimport org.powermock.api.mockito.PowerMockito;\nimport org.testng.Assert;\nimport org.testng.annotations.Test;\n\npublic class UnitTestService {\n\n    @Mock\n    B1 b1;\n    @InjectMocks\n    Service service = new Service();\n\n    @Test\n    public void testB1Method2() throws Exception {\n        MockitoAnnotations.initMocks(this);\n        when(b1.a1Method2()).thenReturn(\"mockvalue\");\n        PowerMockito.whenNew(B1.class).withArguments(Mockito.any()).thenReturn(b1);\n        String output = service.serviceMethod();\n        System.out.println(\"=====\" + output);\n        Assert.assertTrue(\"mockvalue\".equalsIgnoreCase(output), \"testA1Method2 failed!\");\n    }\n\n}\n</code></pre>\n\n<p>Service class:</p>\n\n<pre><code>public class Service {\n\n    public String serviceMethod() {\n        B1 b1 = new B1(\"some data\");\n        return b1.a1Method2();\n    }\n\n}\n</code></pre>\n\n<p>class A1:</p>\n\n<pre><code>public abstract class A1 {\n\n    public A1(String data) {\n        //doing many thing with data\n    }\n\n    public String a1Method1() {\n        return \"from a1Method1\";\n    }\n\n    public String a1Method2() {\n        return \"from a1Method2\";\n    }\n\n}\n</code></pre>\n\n<p>B1 class:</p>\n\n<pre><code>public class B1 extends A1 {\n\n    public B1(String data) {\n        super(data);\n    }\n\n    @Override\n    public String a1Method1() {\n        return \"a1Method1 from B1 class\";\n    }\n\n}\n</code></pre>\n\n<p>I am running class <code>UnitTestService</code> using testNG in eclipse. And here actual method in class B1 <code>a1Method2</code> is getting called as it is printing \"=====from a1Method2\" in console. ie: here it seems mockito is not able to mock this method.</p>\n\n<p>What code change should I make in <code>UnitTestService</code> class to mock class B1 <code>a1Method2</code> ?</p>\n"},{"tags":["java","android","image","apk"],"comments":[{"owner":{"display_name":"user529543"},"score":0,"creation_date":1375820358,"post_id":18089651,"comment_id":26478608,"body_markdown":"http://stackoverflow.com/a/10863242/529543","body":"<a href=\"http://stackoverflow.com/a/10863242/529543\">stackoverflow.com/a/10863242/529543</a>"},{"owner":{"account_id":3115024,"reputation":3327,"user_id":2636001,"display_name":"dst"},"score":0,"creation_date":1375820450,"post_id":18089651,"comment_id":26478652,"body_markdown":"Have a look at [getting drawables from the asset folder](http://stackoverflow.com/a/5082672/2636001)","body":"Have a look at <a href=\"http://stackoverflow.com/a/5082672/2636001\">getting drawables from the asset folder</a>"},{"owner":{"account_id":170809,"reputation":16057,"user_id":397786,"display_name":"Tassos Bassoukos"},"score":0,"creation_date":1375822174,"post_id":18089651,"comment_id":26479528,"body_markdown":"What do you want to do with it? As in, do you need an actual file, or is a drawable enough?","body":"What do you want to do with it? As in, do you need an actual file, or is a drawable enough?"}],"answers":[{"tags":[],"owner":{"account_id":1299975,"reputation":7376,"user_id":1250107,"accept_rate":46,"display_name":"Umer Farooq"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375821326,"creation_date":1375820962,"answer_id":18089866,"question_id":18089651,"body_markdown":"Open the apk with `Winrar` or anyother zip extracter. Go to `res-&gt;drawable-??dpi` folder. There will be all the images used in the apk.\r\n\r\n?? means xhdpi or hdpi or mdpi\r\n\r\n**`Programatically`** it can be done by this code snippet.\r\n\r\n    Drawable getImage = Drawable.createFromStream(getAssets().open(&quot;Cloths/btn_no.png&quot;), null);","title":"How to retrieve images from within the APK? (BASIC)","body":"<p>Open the apk with <code>Winrar</code> or anyother zip extracter. Go to <code>res-&gt;drawable-??dpi</code> folder. There will be all the images used in the apk.</p>\n\n<p>?? means xhdpi or hdpi or mdpi</p>\n\n<p><strong><code>Programatically</code></strong> it can be done by this code snippet.</p>\n\n<pre><code>Drawable getImage = Drawable.createFromStream(getAssets().open(\"Cloths/btn_no.png\"), null);\n</code></pre>\n"}],"owner":{"account_id":3143332,"reputation":1,"user_id":2658351,"display_name":"user2658351"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694923625,"creation_date":1375820275,"question_id":18089651,"body_markdown":"I&#39;m a newbie and really would like some help with finding out how to retrieve files from my assets folder within my APK for a live wallpaper. Basically what is the code or what is the correct file path formatting if I wanted to retrieve a file from my assets folder (images).","title":"How to retrieve images from within the APK? (BASIC)","body":"<p>I'm a newbie and really would like some help with finding out how to retrieve files from my assets folder within my APK for a live wallpaper. Basically what is the code or what is the correct file path formatting if I wanted to retrieve a file from my assets folder (images).</p>\n"},{"tags":["java","weblogic","weblogic12c","weblogic11g"],"comments":[{"owner":{"account_id":8415430,"reputation":2566,"user_id":6316044,"display_name":"Emmanuel Collin"},"score":1,"creation_date":1499176634,"post_id":44907484,"comment_id":76792542,"body_markdown":"Have a look to your nodemanager.properties file. By default the node manager uses a secured connection (ssl) and you may not achieve ths configuration. You can update the nodemanager.properties file and set SecureListener=false\nThen restart the node manager and test again.","body":"Have a look to your nodemanager.properties file. By default the node manager uses a secured connection (ssl) and you may not achieve ths configuration. You can update the nodemanager.properties file and set SecureListener=false Then restart the node manager and test again."},{"owner":{"account_id":3705178,"reputation":793,"user_id":3083917,"accept_rate":85,"display_name":"Andrew Ramnikov"},"score":0,"creation_date":1499239885,"post_id":44907484,"comment_id":76815116,"body_markdown":"Hi @Emmanuel, thanks for your comment. I have tried to run Nodemanager after changing the &#39;SecureListener&#39; to false. Unfortunately the issue still persists.  The issue started after i did an Upgrade for Java from java jrockit to java JDK 1.80. I have also changed the certificates from Demo to custom.","body":"Hi @Emmanuel, thanks for your comment. I have tried to run Nodemanager after changing the &#39;SecureListener&#39; to false. Unfortunately the issue still persists.  The issue started after i did an Upgrade for Java from java jrockit to java JDK 1.80. I have also changed the certificates from Demo to custom."},{"owner":{"account_id":8415430,"reputation":2566,"user_id":6316044,"display_name":"Emmanuel Collin"},"score":1,"creation_date":1499240494,"post_id":44907484,"comment_id":76815539,"body_markdown":"Did you check also your machine configuration in the administration console ? In the Node Manager Tab set the Type parameter to PLAIN to force the node manager to not use SSL.","body":"Did you check also your machine configuration in the administration console ? In the Node Manager Tab set the Type parameter to PLAIN to force the node manager to not use SSL."},{"owner":{"account_id":3705178,"reputation":793,"user_id":3083917,"accept_rate":85,"display_name":"Andrew Ramnikov"},"score":0,"creation_date":1499342180,"post_id":44907484,"comment_id":76871335,"body_markdown":"Hi @Emmanual, your solution has worked. Tnx a lot:-) Please write your solution as an answer so i can give you the status of correct solution.","body":"Hi @Emmanual, your solution has worked. Tnx a lot:-) Please write your solution as an answer so i can give you the status of correct solution."},{"owner":{"account_id":3705178,"reputation":793,"user_id":3083917,"accept_rate":85,"display_name":"Andrew Ramnikov"},"score":0,"creation_date":1499342364,"post_id":44907484,"comment_id":76871486,"body_markdown":"Can you also explain what are the consicuances of setting the   SecureListener&#39; to false and nodemanager to &#39;Plain&#39;.","body":"Can you also explain what are the consicuances of setting the   SecureListener&#39; to false and nodemanager to &#39;Plain&#39;."}],"answers":[{"comments":[{"owner":{"account_id":3705178,"reputation":793,"user_id":3083917,"accept_rate":85,"display_name":"Andrew Ramnikov"},"score":0,"creation_date":1499397838,"post_id":44948549,"comment_id":76899301,"body_markdown":"Hi Emmanuel Collin, can you advise please , what i need to do in order to get a secured connection between the admin server and the node manager?","body":"Hi Emmanuel Collin, can you advise please , what i need to do in order to get a secured connection between the admin server and the node manager?"}],"tags":[],"owner":{"account_id":8415430,"reputation":2566,"user_id":6316044,"display_name":"Emmanuel Collin"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1499343163,"creation_date":1499343163,"answer_id":44948549,"question_id":44907484,"body_markdown":"In the nodemanager.properties file set the SecureListener attribute to false.\r\nIn the weblogic server admin console, configure the machine to not use a secured connection with the node manager (Node Manager tab)\r\nThese 2 options configure a non secured connection between the admin server and the node manager.","title":"Weblogic 11g: Managed Server is not starting from Weblogic console","body":"<p>In the nodemanager.properties file set the SecureListener attribute to false.\nIn the weblogic server admin console, configure the machine to not use a secured connection with the node manager (Node Manager tab)\nThese 2 options configure a non secured connection between the admin server and the node manager.</p>\n"}],"owner":{"account_id":3705178,"reputation":793,"user_id":3083917,"accept_rate":85,"display_name":"Andrew Ramnikov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3883,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":44948549,"answer_count":1,"score":0,"last_activity_date":1694923145,"creation_date":1499175318,"question_id":44907484,"body_markdown":"i have some strange situation:\r\n\r\nWhen i am trying to start managed server on the console i get the following error on Nodemanager:\r\n\r\n    PM weblogic.nodemanager.server.Handler run\r\n    WARNING: I/O error while closing socket connection\r\n    java.net.SocketException: Connection reset\r\n            at java.net.SocketInputStream.read(SocketInputStream.java:135)\r\n            at java.net.SocketInputStream.read(SocketInputStream.java:122)\r\n            at weblogic.utils.io.ChunkedInputStream.read(ChunkedInputStream.java:159)\r\n            at weblogic.security.SSL.jsseadapter.JaSSLEngineRunner$Context.fillBufferNetIn(JaSSLEngineRunner.java:323)\r\n            at weblogic.security.SSL.jsseadapter.JaSSLEngineRunner$Transition_NeedUnwrap.getNextState(JaSSLEngineRunner.java:822)\r\n            at weblogic.security.SSL.jsseadapter.JaSSLEngineRunner.doTransitions(JaSSLEngineRunner.java:763)\r\n            at weblogic.security.SSL.jsseadapter.JaSSLEngineRunner.closeInbound(JaSSLEngineRunner.java:1279)\r\n            at weblogic.security.SSL.jsseadapter.JaSSLEngineRunner.close(JaSSLEngineRunner.java:1365)\r\n            at weblogic.security.SSL.jsseadapter.JaAbstractSSLSocket.close(JaAbstractSSLSocket.java:245)\r\n            at weblogic.nodemanager.server.Handler.run(Handler.java:85)\r\n            at java.lang.Thread.run(Thread.java:745)\r\n\r\nBut when i am trying to start Managed Servers from command-line then it works correctly:\r\n\r\n    nohup ./startManagedWebLogic.sh server1 t3://xx.xx.xx.xx:7001 &gt;/dev/null 2&gt;&amp;1 &amp;\r\n\r\nIn oracle Documentation i found that this issue can happen when in nodemanager.properties file the following line is set to false:\r\n\r\n    NativeVersionEnabled=false\r\n\r\nAfter i set it to true the issue is still persists. \r\nThe issue started after i did an Upgrade for Java from java jrockit to java JDK 1.80. I have also changed the certificates from Demo to custom. \r\n\r\nDid someone had this issue before and knows how to fix it?\r\n ","title":"Weblogic 11g: Managed Server is not starting from Weblogic console","body":"<p>i have some strange situation:</p>\n\n<p>When i am trying to start managed server on the console i get the following error on Nodemanager:</p>\n\n<pre><code>PM weblogic.nodemanager.server.Handler run\nWARNING: I/O error while closing socket connection\njava.net.SocketException: Connection reset\n        at java.net.SocketInputStream.read(SocketInputStream.java:135)\n        at java.net.SocketInputStream.read(SocketInputStream.java:122)\n        at weblogic.utils.io.ChunkedInputStream.read(ChunkedInputStream.java:159)\n        at weblogic.security.SSL.jsseadapter.JaSSLEngineRunner$Context.fillBufferNetIn(JaSSLEngineRunner.java:323)\n        at weblogic.security.SSL.jsseadapter.JaSSLEngineRunner$Transition_NeedUnwrap.getNextState(JaSSLEngineRunner.java:822)\n        at weblogic.security.SSL.jsseadapter.JaSSLEngineRunner.doTransitions(JaSSLEngineRunner.java:763)\n        at weblogic.security.SSL.jsseadapter.JaSSLEngineRunner.closeInbound(JaSSLEngineRunner.java:1279)\n        at weblogic.security.SSL.jsseadapter.JaSSLEngineRunner.close(JaSSLEngineRunner.java:1365)\n        at weblogic.security.SSL.jsseadapter.JaAbstractSSLSocket.close(JaAbstractSSLSocket.java:245)\n        at weblogic.nodemanager.server.Handler.run(Handler.java:85)\n        at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>But when i am trying to start Managed Servers from command-line then it works correctly:</p>\n\n<pre><code>nohup ./startManagedWebLogic.sh server1 t3://xx.xx.xx.xx:7001 &gt;/dev/null 2&gt;&amp;1 &amp;\n</code></pre>\n\n<p>In oracle Documentation i found that this issue can happen when in nodemanager.properties file the following line is set to false:</p>\n\n<pre><code>NativeVersionEnabled=false\n</code></pre>\n\n<p>After i set it to true the issue is still persists. \nThe issue started after i did an Upgrade for Java from java jrockit to java JDK 1.80. I have also changed the certificates from Demo to custom. </p>\n\n<p>Did someone had this issue before and knows how to fix it?</p>\n"},{"tags":["java","spring-boot","authentication","jwt","websecurity"],"comments":[{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1694937976,"post_id":77120145,"comment_id":135955165,"body_markdown":"can you enable debug mode by setting `@EnableWebSecurity(debug=true)` , and then re-execute both cases and update the logs . Also , can you also add some log in all filters that you created (e.g CompositeAuthenticationFilter ,JwtBearerTokenAuthenticationFilter etc) at the first line of `doFilterInternal()` to verify that these filter are really execute or not ?","body":"can you enable debug mode by setting <code>@EnableWebSecurity(debug=true)</code> , and then re-execute both cases and update the logs . Also , can you also add some log in all filters that you created (e.g CompositeAuthenticationFilter ,JwtBearerTokenAuthenticationFilter etc) at the first line of <code>doFilterInternal()</code> to verify that these filter are really execute or not ?"}],"owner":{"account_id":10046033,"reputation":672,"user_id":7427398,"accept_rate":32,"display_name":"ksernow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694921009,"creation_date":1694912873,"question_id":77120145,"body_markdown":"My spring endpoint is being called twice when using JWT authentication. As you can see below the API request is called twice before completing.\r\n```\r\n2023-09-16 20:57:12.819 DEBUG 5531 --- [nio-7171-exec-9] o.s.s.w.FilterChainProxy                 : Securing GET /api/private/getUserByEmail?email=k@test.com\r\n2023-09-16 20:57:12.819 DEBUG 5531 --- [nio-7171-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=JwtAuthenticationToken [Principal=hype.security.keycloak.UserPrincipal@175b01b7, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]]\r\n2023-09-16 20:57:12.819 DEBUG 5531 --- [nio-7171-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=JwtAuthenticationToken [Principal=hype.security.keycloak.UserPrincipal@175b01b7, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]]\r\n2023-09-16 20:57:12.820 DEBUG 5531 --- [nio-7171-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/private/getUserByEmail?email=k@test.com] with attributes [authenticated]\r\n2023-09-16 20:57:12.820 DEBUG 5531 --- [nio-7171-exec-9] o.s.s.w.FilterChainProxy                 : Secured GET /api/private/getUserByEmail?email=k@test.com\r\nemail k@test.com\r\nHibernate: select user0_.`email` as email1_4_, user0_.`code` as code2_4_, user0_.`country` as country3_4_, user0_.`f_name` as f_name4_4_, user0_.`l_name` as l_name5_4_, user0_.`phone` as phone6_4_ from `user` user0_ where user0_.`email`=?\r\nHibernate: select companies0_.`email` as email1_5_0_, companies0_.`company_id` as company_2_5_0_, company1_.`company_id` as company_1_1_1_, company1_.`active` as active2_1_1_, company1_.`company` as company3_1_1_, company1_.`companyurl` as companyu4_1_1_, company1_.`country` as country5_1_1_, company1_.`created_on` as created_6_1_1_, company1_.`paid` as paid7_1_1_, company1_.`role` as role8_1_1_, company1_.`stripe_id` as stripe_i9_1_1_, company1_.`tier` as tier10_1_1_ from `users_companies` companies0_ inner join `company` company1_ on companies0_.`company_id`=company1_.`company_id` where companies0_.`email`=?\r\n2023-09-16 20:57:12.825 DEBUG 5531 --- [nio-7171-exec-9] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=JwtAuthenticationToken [Principal=hype.security.keycloak.UserPrincipal@12355d25, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@10d216fb]\r\n2023-09-16 20:57:12.826 DEBUG 5531 --- [nio-7171-exec-9] o.s.s.w.FilterChainProxy                 : Secured GET /api/private/getUserByEmail?email=k@test.com\r\nemail k@test.com\r\nHibernate: select user0_.`email` as email1_4_, user0_.`code` as code2_4_, user0_.`country` as country3_4_, user0_.`f_name` as f_name4_4_, user0_.`l_name` as l_name5_4_, user0_.`phone` as phone6_4_ from `user` user0_ where user0_.`email`=?\r\nHibernate: select companies0_.`email` as email1_5_0_, companies0_.`company_id` as company_2_5_0_, company1_.`company_id` as company_1_1_1_, company1_.`active` as active2_1_1_, company1_.`company` as company3_1_1_, company1_.`companyurl` as companyu4_1_1_, company1_.`country` as country5_1_1_, company1_.`created_on` as created_6_1_1_, company1_.`paid` as paid7_1_1_, company1_.`role` as role8_1_1_, company1_.`stripe_id` as stripe_i9_1_1_, company1_.`tier` as tier10_1_1_ from `users_companies` companies0_ inner join `company` company1_ on companies0_.`company_id`=company1_.`company_id` where companies0_.`email`=?\r\n2023-09-16 20:57:12.830 DEBUG 5531 --- [nio-7171-exec-9] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=JwtAuthenticationToken [Principal=hype.security.keycloak.UserPrincipal@12355d25, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@10d216fb]\r\n2023-09-16 20:57:12.830 DEBUG 5531 --- [nio-7171-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\r\n\r\n```\r\n\r\nI compared this against an endpoint that is publicly exposed (same method but without JWT). It gets called only once.\r\n```\r\n2023-09-16 20:59:39.992 DEBUG 5531 --- [nio-7171-exec-6] o.s.s.w.FilterChainProxy                 : Securing GET /api/public/getUserByEmail2?email=k@test.com\r\n2023-09-16 20:59:39.992 DEBUG 5531 --- [nio-7171-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=JwtAuthenticationToken [Principal=hype.security.keycloak.UserPrincipal@12355d25, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]]\r\n2023-09-16 20:59:39.992 DEBUG 5531 --- [nio-7171-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=JwtAuthenticationToken [Principal=hype.security.keycloak.UserPrincipal@12355d25, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]]\r\n2023-09-16 20:59:39.992 DEBUG 5531 --- [nio-7171-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/public/getUserByEmail2?email=k@test.com] with attributes [permitAll]\r\n2023-09-16 20:59:39.992 DEBUG 5531 --- [nio-7171-exec-6] o.s.s.w.FilterChainProxy                 : Secured GET /api/public/getUserByEmail2?email=k@test.com\r\nemail k@test.com\r\nHibernate: select user0_.`email` as email1_4_, user0_.`code` as code2_4_, user0_.`country` as country3_4_, user0_.`f_name` as f_name4_4_, user0_.`l_name` as l_name5_4_, user0_.`phone` as phone6_4_ from `user` user0_ where user0_.`email`=?\r\nHibernate: select companies0_.`email` as email1_5_0_, companies0_.`company_id` as company_2_5_0_, company1_.`company_id` as company_1_1_1_, company1_.`active` as active2_1_1_, company1_.`company` as company3_1_1_, company1_.`companyurl` as companyu4_1_1_, company1_.`country` as country5_1_1_, company1_.`created_on` as created_6_1_1_, company1_.`paid` as paid7_1_1_, company1_.`role` as role8_1_1_, company1_.`stripe_id` as stripe_i9_1_1_, company1_.`tier` as tier10_1_1_ from `users_companies` companies0_ inner join `company` company1_ on companies0_.`company_id`=company1_.`company_id` where companies0_.`email`=?\r\n2023-09-16 20:59:39.996 DEBUG 5531 --- [nio-7171-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\r\n\r\n```\r\n\r\nMy WebConfig file\r\n```\r\npackage hype.security;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.core.annotation.Order;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.WebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.core.session.SessionRegistry;\r\nimport org.springframework.security.core.session.SessionRegistryImpl;\r\nimport org.springframework.security.oauth2.jwt.JwtDecoder;\r\nimport org.springframework.security.oauth2.jwt.JwtDecoders;\r\nimport org.springframework.security.web.authentication.www.BasicAuthenticationFilter;\r\n\r\nimport hype.security.authentication.CompositeAuthenticationFilter;\r\nimport hype.security.authentication.apikey.ApiKeyAuthenticationFilter;\r\nimport hype.security.authentication.apikey.ApiKeyAuthenticationProvider;\r\nimport hype.security.authentication.jwt.JwtBearerTokenAuthenticationFilter;\r\nimport hype.security.authentication.jwt.JwtBearerTokenAuthenticationProvider;\r\nimport hype.security.handlers.CustomAccessDeniedHandler;\r\nimport hype.service.KeycloakService;\r\n\r\n\r\n@SuppressWarnings(&quot;deprecation&quot;)\r\n@Order(1)\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\t@Value(&quot;${jwt.issuer-uri}&quot;)\r\n\tprivate String jwtIssuerUri;\r\n\r\n\t@Value(&quot;${api-private.pattern}&quot;)\r\n\tprivate String apiPrivatePattern;\r\n\r\n\t@Value(&quot;${api-public.pattern}&quot;)\r\n\tprivate String apiPublicPattern;\r\n\r\n\t@Value(&quot;${ignoring.patterns}&quot;)\r\n\tprivate String[] ignoringPatterns;\r\n\r\n\t@Value(&quot;${file.extensions}&quot;)\r\n\tprivate String[] fileExtensions;\r\n\r\n\t@Value(&quot;${content-security-policy}&quot;)\r\n\tprivate String contentSecurityPolicy;\r\n\r\n\t@Value(&quot;${api-key-request-pattern}&quot;)\r\n\tprivate String requestPattern;\r\n\r\n\t@Autowired\r\n\tKeycloakService keycloakService;\r\n\r\n\t@Bean\r\n\tpublic JwtDecoder jwtDecoder() {\r\n\t\treturn JwtDecoders.fromOidcIssuerLocation(jwtIssuerUri);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic JwtBearerTokenAuthenticationProvider jwtBearerTokenAuthenticationProvider() {\r\n\t\treturn new JwtBearerTokenAuthenticationProvider();\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\tauth.authenticationProvider(apiKeyAuthenticationProvider())\r\n\t\t\t\t.authenticationProvider(jwtBearerTokenAuthenticationProvider());\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ApiKeyAuthenticationProvider apiKeyAuthenticationProvider() {\r\n\t\treturn new ApiKeyAuthenticationProvider(keycloakService);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ApiKeyAuthenticationFilter apiKeyAuthenticationFilter() throws Exception {\r\n\t\tApiKeyAuthenticationFilter apiKeyAuthenticationFilter = new ApiKeyAuthenticationFilter(requestPattern);\r\n\t\tapiKeyAuthenticationFilter.setAuthenticationManager(authenticationManagerBean());\r\n\t\treturn apiKeyAuthenticationFilter;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic JwtBearerTokenAuthenticationFilter jwtBearerTokenAuthenticationFilter() throws Exception {\r\n\t\treturn new JwtBearerTokenAuthenticationFilter(apiPrivatePattern, jwtDecoder(), authenticationManagerBean());\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic CompositeAuthenticationFilter compositeAuthenticationFilter() throws Exception {\r\n\t    String[] permittedUrlPatterns = { apiPublicPattern }; // Add more patterns if needed\r\n\t    return new CompositeAuthenticationFilter(apiKeyAuthenticationFilter(), jwtBearerTokenAuthenticationFilter(), permittedUrlPatterns);\r\n\t}\r\n\r\n\t@SuppressWarnings(&quot;deprecation&quot;)\r\n\t@Bean\r\n\t@Override\r\n\tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n\t\treturn super.authenticationManagerBean();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic SessionRegistry sessionRegistry() {\r\n\t\treturn new SessionRegistryImpl();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic CustomAccessDeniedHandler accessDeniedHandler() {\r\n\t\treturn new CustomAccessDeniedHandler();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void configure(WebSecurity web) throws Exception {\r\n\t\tweb.ignoring().antMatchers(ignoringPatterns);\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp.csrf().disable().authorizeRequests().antMatchers(apiPublicPattern).permitAll().antMatchers(fileExtensions)\r\n\t\t\t\t.permitAll().anyRequest().authenticated().and()\r\n\t\t\t\t.addFilterBefore(compositeAuthenticationFilter(), BasicAuthenticationFilter.class).sessionManagement()\r\n\t\t\t\t.maximumSessions(1).expiredUrl(&quot;/expired&quot;).sessionRegistry(sessionRegistry());\r\n\t\thttp.exceptionHandling().accessDeniedHandler(accessDeniedHandler()).and().logout().logoutUrl(&quot;/logout&quot;)\r\n\t\t\t\t.logoutSuccessUrl(&quot;/&quot;).and().headers().contentSecurityPolicy(contentSecurityPolicy);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nMy compositeFilter.java\r\n\r\n```\r\npackage hype.security.authentication;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\nimport javax.servlet.FilterChain;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\nimport org.springframework.security.web.util.matcher.OrRequestMatcher;\r\nimport org.springframework.security.web.util.matcher.RequestMatcher;\r\nimport org.springframework.web.filter.OncePerRequestFilter;\r\n\r\nimport hype.security.authentication.apikey.ApiKeyAuthenticationFilter;\r\nimport hype.security.authentication.jwt.JwtBearerTokenAuthenticationFilter;\r\n\r\npublic class CompositeAuthenticationFilter extends OncePerRequestFilter {\r\n\r\n    private ApiKeyAuthenticationFilter apiKeyAuthenticationFilter;\r\n    private JwtBearerTokenAuthenticationFilter jwtBearerTokenAuthenticationFilter;\r\n\r\n    @Value(&quot;${private-api-key-uri}&quot;)\r\n    private String privateApiUri;\r\n\r\n\r\n    @Value(&quot;${private-api-uri}&quot;)\r\n    private String privateApiKeyUri;\r\n\r\n    // Add this property for permitted URLs\r\n    private final OrRequestMatcher permittedRequestMatcher;\r\n\r\n    // Update the constructor to accept the permitted URLs patterns\r\n    public CompositeAuthenticationFilter(ApiKeyAuthenticationFilter apiKeyAuthenticationFilter,\r\n                                         JwtBearerTokenAuthenticationFilter jwtBearerTokenAuthenticationFilter,\r\n                                         String[] permittedUrlPatterns) {\r\n        this.apiKeyAuthenticationFilter = apiKeyAuthenticationFilter;\r\n        this.jwtBearerTokenAuthenticationFilter = jwtBearerTokenAuthenticationFilter;\r\n        this.permittedRequestMatcher = createOrRequestMatcher(permittedUrlPatterns);\r\n    }\r\n\r\n    // Add this method to create an OrRequestMatcher for the permitted URLs\r\n    private OrRequestMatcher createOrRequestMatcher(String[] patterns) {\r\n        List&lt;RequestMatcher&gt; matchers = Arrays.stream(patterns)\r\n                .map(AntPathRequestMatcher::new)\r\n                .collect(Collectors.toList());\r\n        return new OrRequestMatcher(matchers);\r\n    }\r\n\r\n    @Override\r\n    protected boolean shouldNotFilter(HttpServletRequest request) {\r\n        return permittedRequestMatcher.matches(request);\r\n    }\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n            throws ServletException, IOException {\r\n        Authentication apiKeyAuthResult = apiKeyAuthenticationFilter.attemptAuthentication(request, response);\r\n        if (apiKeyAuthResult != null &amp;&amp; apiKeyAuthResult.isAuthenticated()) {\r\n            SecurityContextHolder.getContext().setAuthentication(apiKeyAuthResult);\r\n            apiKeyAuthenticationFilter.successfulAuthentication(request, response, filterChain, apiKeyAuthResult);\r\n            filterChain.doFilter(request, response);\r\n        } else {\r\n            Authentication bearerTokenAuthResult = jwtBearerTokenAuthenticationFilter.attemptAuthentication(request,\r\n                    response);\r\n            if (bearerTokenAuthResult != null &amp;&amp; bearerTokenAuthResult.isAuthenticated()) {\r\n                SecurityContextHolder.getContext().setAuthentication(bearerTokenAuthResult);\r\n                jwtBearerTokenAuthenticationFilter.successfulAuthentication(request, response, filterChain, bearerTokenAuthResult);\r\n                filterChain.doFilter(request, response);\r\n            } else {\r\n                System.out.println(&quot;request:&quot; + request.getRequestURI());\r\n                if (request.getRequestURI().startsWith(privateApiUri) || request.getRequestURI().startsWith(privateApiKeyUri)) {\r\n                    response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n                    String contentType = request.getContentType();\r\n                    if (contentType == null) {\r\n                        contentType = MediaType.APPLICATION_JSON_VALUE;\r\n                    }\r\n\r\n                    if (contentType.equals(MediaType.APPLICATION_JSON_VALUE)) {\r\n                        response.getWriter().write(&quot;{\\&quot;message\\&quot;: \\&quot;Unauthorized\\&quot;}&quot;);\r\n                    } else if (contentType.equals(MediaType.TEXT_PLAIN_VALUE)) {\r\n                        response.getWriter().write(&quot;Unauthorized&quot;);\r\n                    } else {\r\n                        // You can add support for other content types here\r\n                    }\r\n                    response.setContentType(contentType);\r\n                    filterChain.doFilter(request, response);\r\n                } else {\r\n                \tString contentType = request.getContentType();\r\n                    if (contentType == null) {\r\n                        contentType = MediaType.APPLICATION_JSON_VALUE;\r\n                    }\r\n                    response.setContentType(contentType);\r\n                    filterChain.doFilter(request, response);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nMy JWTFilter\r\n```\r\npackage hype.security.authentication.jwt;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Collection;\r\nimport java.util.Collections;\r\nimport java.util.Optional;\r\n\r\nimport javax.servlet.FilterChain;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.security.oauth2.jwt.Jwt;\r\nimport org.springframework.security.oauth2.jwt.JwtDecoder;\r\nimport org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter;\r\n\r\nimport hype.security.keycloak.UserPrincipal;\r\n\r\npublic class JwtBearerTokenAuthenticationFilter extends AbstractAuthenticationProcessingFilter {\r\n\r\n\tprivate final JwtDecoder jwtDecoder;\r\n\r\n\tpublic JwtBearerTokenAuthenticationFilter(String defaultFilterProcessesUrl, JwtDecoder jwtDecoder,\r\n\t\t\tAuthenticationManager authenticationManager) {\r\n\t\tsuper(defaultFilterProcessesUrl);\r\n\t\tthis.jwtDecoder = jwtDecoder;\r\n\t\tsetAuthenticationManager(authenticationManager);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) {\r\n\t\ttry {\r\n\t\t\tOptional&lt;String&gt; bearerToken = extractBearerToken(request);\r\n\t\t\tif (bearerToken.isPresent()) {\r\n\t\t\t\tJwt jwt = jwtDecoder.decode(bearerToken.get());\r\n\t\t\t\tCollection&lt;GrantedAuthority&gt; authorities = Collections.emptyList(); // Optionally, map authorities from\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// JWT claims\r\n\t\t\t\tUserPrincipal userPrincipal = new UserPrincipal(jwt.getSubject());\r\n\t\t\t\tAuthentication authentication = new JwtAuthenticationToken(jwt, userPrincipal, authorities);\r\n\t\t\t\treturn getAuthenticationManager().authenticate(authentication);\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tlogger.warn(&quot;JWT authentication failed: {}&quot;);\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t}\r\n\r\n\tprivate Optional&lt;String&gt; extractBearerToken(HttpServletRequest request) {\r\n\t\tString authorizationHeader = request.getHeader(&quot;Authorization&quot;);\r\n\t\tif (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\r\n\t\t\treturn Optional.of(authorizationHeader.substring(7));\r\n\t\t} else {\r\n\t\t\treturn Optional.empty();\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain,\r\n\t\t\tAuthentication authResult) throws IOException, ServletException {\r\n\t\tSecurityContextHolder.getContext().setAuthentication(authResult);\r\n\t\tchain.doFilter(request, response);\r\n\t}\r\n}\r\n\r\n```","title":"Spring boot API with JWT authentication called twice","body":"<p>My spring endpoint is being called twice when using JWT authentication. As you can see below the API request is called twice before completing.</p>\n<pre><code>2023-09-16 20:57:12.819 DEBUG 5531 --- [nio-7171-exec-9] o.s.s.w.FilterChainProxy                 : Securing GET /api/private/getUserByEmail?email=k@test.com\n2023-09-16 20:57:12.819 DEBUG 5531 --- [nio-7171-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=JwtAuthenticationToken [Principal=hype.security.keycloak.UserPrincipal@175b01b7, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]]\n2023-09-16 20:57:12.819 DEBUG 5531 --- [nio-7171-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=JwtAuthenticationToken [Principal=hype.security.keycloak.UserPrincipal@175b01b7, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]]\n2023-09-16 20:57:12.820 DEBUG 5531 --- [nio-7171-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/private/getUserByEmail?email=k@test.com] with attributes [authenticated]\n2023-09-16 20:57:12.820 DEBUG 5531 --- [nio-7171-exec-9] o.s.s.w.FilterChainProxy                 : Secured GET /api/private/getUserByEmail?email=k@test.com\nemail k@test.com\nHibernate: select user0_.`email` as email1_4_, user0_.`code` as code2_4_, user0_.`country` as country3_4_, user0_.`f_name` as f_name4_4_, user0_.`l_name` as l_name5_4_, user0_.`phone` as phone6_4_ from `user` user0_ where user0_.`email`=?\nHibernate: select companies0_.`email` as email1_5_0_, companies0_.`company_id` as company_2_5_0_, company1_.`company_id` as company_1_1_1_, company1_.`active` as active2_1_1_, company1_.`company` as company3_1_1_, company1_.`companyurl` as companyu4_1_1_, company1_.`country` as country5_1_1_, company1_.`created_on` as created_6_1_1_, company1_.`paid` as paid7_1_1_, company1_.`role` as role8_1_1_, company1_.`stripe_id` as stripe_i9_1_1_, company1_.`tier` as tier10_1_1_ from `users_companies` companies0_ inner join `company` company1_ on companies0_.`company_id`=company1_.`company_id` where companies0_.`email`=?\n2023-09-16 20:57:12.825 DEBUG 5531 --- [nio-7171-exec-9] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=JwtAuthenticationToken [Principal=hype.security.keycloak.UserPrincipal@12355d25, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@10d216fb]\n2023-09-16 20:57:12.826 DEBUG 5531 --- [nio-7171-exec-9] o.s.s.w.FilterChainProxy                 : Secured GET /api/private/getUserByEmail?email=k@test.com\nemail k@test.com\nHibernate: select user0_.`email` as email1_4_, user0_.`code` as code2_4_, user0_.`country` as country3_4_, user0_.`f_name` as f_name4_4_, user0_.`l_name` as l_name5_4_, user0_.`phone` as phone6_4_ from `user` user0_ where user0_.`email`=?\nHibernate: select companies0_.`email` as email1_5_0_, companies0_.`company_id` as company_2_5_0_, company1_.`company_id` as company_1_1_1_, company1_.`active` as active2_1_1_, company1_.`company` as company3_1_1_, company1_.`companyurl` as companyu4_1_1_, company1_.`country` as country5_1_1_, company1_.`created_on` as created_6_1_1_, company1_.`paid` as paid7_1_1_, company1_.`role` as role8_1_1_, company1_.`stripe_id` as stripe_i9_1_1_, company1_.`tier` as tier10_1_1_ from `users_companies` companies0_ inner join `company` company1_ on companies0_.`company_id`=company1_.`company_id` where companies0_.`email`=?\n2023-09-16 20:57:12.830 DEBUG 5531 --- [nio-7171-exec-9] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=JwtAuthenticationToken [Principal=hype.security.keycloak.UserPrincipal@12355d25, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@10d216fb]\n2023-09-16 20:57:12.830 DEBUG 5531 --- [nio-7171-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\n\n</code></pre>\n<p>I compared this against an endpoint that is publicly exposed (same method but without JWT). It gets called only once.</p>\n<pre><code>2023-09-16 20:59:39.992 DEBUG 5531 --- [nio-7171-exec-6] o.s.s.w.FilterChainProxy                 : Securing GET /api/public/getUserByEmail2?email=k@test.com\n2023-09-16 20:59:39.992 DEBUG 5531 --- [nio-7171-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=JwtAuthenticationToken [Principal=hype.security.keycloak.UserPrincipal@12355d25, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]]\n2023-09-16 20:59:39.992 DEBUG 5531 --- [nio-7171-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=JwtAuthenticationToken [Principal=hype.security.keycloak.UserPrincipal@12355d25, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]]\n2023-09-16 20:59:39.992 DEBUG 5531 --- [nio-7171-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/public/getUserByEmail2?email=k@test.com] with attributes [permitAll]\n2023-09-16 20:59:39.992 DEBUG 5531 --- [nio-7171-exec-6] o.s.s.w.FilterChainProxy                 : Secured GET /api/public/getUserByEmail2?email=k@test.com\nemail k@test.com\nHibernate: select user0_.`email` as email1_4_, user0_.`code` as code2_4_, user0_.`country` as country3_4_, user0_.`f_name` as f_name4_4_, user0_.`l_name` as l_name5_4_, user0_.`phone` as phone6_4_ from `user` user0_ where user0_.`email`=?\nHibernate: select companies0_.`email` as email1_5_0_, companies0_.`company_id` as company_2_5_0_, company1_.`company_id` as company_1_1_1_, company1_.`active` as active2_1_1_, company1_.`company` as company3_1_1_, company1_.`companyurl` as companyu4_1_1_, company1_.`country` as country5_1_1_, company1_.`created_on` as created_6_1_1_, company1_.`paid` as paid7_1_1_, company1_.`role` as role8_1_1_, company1_.`stripe_id` as stripe_i9_1_1_, company1_.`tier` as tier10_1_1_ from `users_companies` companies0_ inner join `company` company1_ on companies0_.`company_id`=company1_.`company_id` where companies0_.`email`=?\n2023-09-16 20:59:39.996 DEBUG 5531 --- [nio-7171-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\n\n</code></pre>\n<p>My WebConfig file</p>\n<pre><code>package hype.security;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.builders.WebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.core.session.SessionRegistry;\nimport org.springframework.security.core.session.SessionRegistryImpl;\nimport org.springframework.security.oauth2.jwt.JwtDecoder;\nimport org.springframework.security.oauth2.jwt.JwtDecoders;\nimport org.springframework.security.web.authentication.www.BasicAuthenticationFilter;\n\nimport hype.security.authentication.CompositeAuthenticationFilter;\nimport hype.security.authentication.apikey.ApiKeyAuthenticationFilter;\nimport hype.security.authentication.apikey.ApiKeyAuthenticationProvider;\nimport hype.security.authentication.jwt.JwtBearerTokenAuthenticationFilter;\nimport hype.security.authentication.jwt.JwtBearerTokenAuthenticationProvider;\nimport hype.security.handlers.CustomAccessDeniedHandler;\nimport hype.service.KeycloakService;\n\n\n@SuppressWarnings(&quot;deprecation&quot;)\n@Order(1)\n@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Value(&quot;${jwt.issuer-uri}&quot;)\n    private String jwtIssuerUri;\n\n    @Value(&quot;${api-private.pattern}&quot;)\n    private String apiPrivatePattern;\n\n    @Value(&quot;${api-public.pattern}&quot;)\n    private String apiPublicPattern;\n\n    @Value(&quot;${ignoring.patterns}&quot;)\n    private String[] ignoringPatterns;\n\n    @Value(&quot;${file.extensions}&quot;)\n    private String[] fileExtensions;\n\n    @Value(&quot;${content-security-policy}&quot;)\n    private String contentSecurityPolicy;\n\n    @Value(&quot;${api-key-request-pattern}&quot;)\n    private String requestPattern;\n\n    @Autowired\n    KeycloakService keycloakService;\n\n    @Bean\n    public JwtDecoder jwtDecoder() {\n        return JwtDecoders.fromOidcIssuerLocation(jwtIssuerUri);\n    }\n\n    @Bean\n    public JwtBearerTokenAuthenticationProvider jwtBearerTokenAuthenticationProvider() {\n        return new JwtBearerTokenAuthenticationProvider();\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(apiKeyAuthenticationProvider())\n                .authenticationProvider(jwtBearerTokenAuthenticationProvider());\n    }\n\n    @Bean\n    public ApiKeyAuthenticationProvider apiKeyAuthenticationProvider() {\n        return new ApiKeyAuthenticationProvider(keycloakService);\n    }\n\n    @Bean\n    public ApiKeyAuthenticationFilter apiKeyAuthenticationFilter() throws Exception {\n        ApiKeyAuthenticationFilter apiKeyAuthenticationFilter = new ApiKeyAuthenticationFilter(requestPattern);\n        apiKeyAuthenticationFilter.setAuthenticationManager(authenticationManagerBean());\n        return apiKeyAuthenticationFilter;\n    }\n\n    @Bean\n    public JwtBearerTokenAuthenticationFilter jwtBearerTokenAuthenticationFilter() throws Exception {\n        return new JwtBearerTokenAuthenticationFilter(apiPrivatePattern, jwtDecoder(), authenticationManagerBean());\n    }\n\n    @Bean\n    public CompositeAuthenticationFilter compositeAuthenticationFilter() throws Exception {\n        String[] permittedUrlPatterns = { apiPublicPattern }; // Add more patterns if needed\n        return new CompositeAuthenticationFilter(apiKeyAuthenticationFilter(), jwtBearerTokenAuthenticationFilter(), permittedUrlPatterns);\n    }\n\n    @SuppressWarnings(&quot;deprecation&quot;)\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Bean\n    public SessionRegistry sessionRegistry() {\n        return new SessionRegistryImpl();\n    }\n\n    @Bean\n    public CustomAccessDeniedHandler accessDeniedHandler() {\n        return new CustomAccessDeniedHandler();\n    }\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        web.ignoring().antMatchers(ignoringPatterns);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable().authorizeRequests().antMatchers(apiPublicPattern).permitAll().antMatchers(fileExtensions)\n                .permitAll().anyRequest().authenticated().and()\n                .addFilterBefore(compositeAuthenticationFilter(), BasicAuthenticationFilter.class).sessionManagement()\n                .maximumSessions(1).expiredUrl(&quot;/expired&quot;).sessionRegistry(sessionRegistry());\n        http.exceptionHandling().accessDeniedHandler(accessDeniedHandler()).and().logout().logoutUrl(&quot;/logout&quot;)\n                .logoutSuccessUrl(&quot;/&quot;).and().headers().contentSecurityPolicy(contentSecurityPolicy);\n    }\n\n}\n</code></pre>\n<p>My compositeFilter.java</p>\n<pre><code>package hype.security.authentication;\n\nimport java.io.IOException;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.http.MediaType;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\nimport org.springframework.security.web.util.matcher.OrRequestMatcher;\nimport org.springframework.security.web.util.matcher.RequestMatcher;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport hype.security.authentication.apikey.ApiKeyAuthenticationFilter;\nimport hype.security.authentication.jwt.JwtBearerTokenAuthenticationFilter;\n\npublic class CompositeAuthenticationFilter extends OncePerRequestFilter {\n\n    private ApiKeyAuthenticationFilter apiKeyAuthenticationFilter;\n    private JwtBearerTokenAuthenticationFilter jwtBearerTokenAuthenticationFilter;\n\n    @Value(&quot;${private-api-key-uri}&quot;)\n    private String privateApiUri;\n\n\n    @Value(&quot;${private-api-uri}&quot;)\n    private String privateApiKeyUri;\n\n    // Add this property for permitted URLs\n    private final OrRequestMatcher permittedRequestMatcher;\n\n    // Update the constructor to accept the permitted URLs patterns\n    public CompositeAuthenticationFilter(ApiKeyAuthenticationFilter apiKeyAuthenticationFilter,\n                                         JwtBearerTokenAuthenticationFilter jwtBearerTokenAuthenticationFilter,\n                                         String[] permittedUrlPatterns) {\n        this.apiKeyAuthenticationFilter = apiKeyAuthenticationFilter;\n        this.jwtBearerTokenAuthenticationFilter = jwtBearerTokenAuthenticationFilter;\n        this.permittedRequestMatcher = createOrRequestMatcher(permittedUrlPatterns);\n    }\n\n    // Add this method to create an OrRequestMatcher for the permitted URLs\n    private OrRequestMatcher createOrRequestMatcher(String[] patterns) {\n        List&lt;RequestMatcher&gt; matchers = Arrays.stream(patterns)\n                .map(AntPathRequestMatcher::new)\n                .collect(Collectors.toList());\n        return new OrRequestMatcher(matchers);\n    }\n\n    @Override\n    protected boolean shouldNotFilter(HttpServletRequest request) {\n        return permittedRequestMatcher.matches(request);\n    }\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n        Authentication apiKeyAuthResult = apiKeyAuthenticationFilter.attemptAuthentication(request, response);\n        if (apiKeyAuthResult != null &amp;&amp; apiKeyAuthResult.isAuthenticated()) {\n            SecurityContextHolder.getContext().setAuthentication(apiKeyAuthResult);\n            apiKeyAuthenticationFilter.successfulAuthentication(request, response, filterChain, apiKeyAuthResult);\n            filterChain.doFilter(request, response);\n        } else {\n            Authentication bearerTokenAuthResult = jwtBearerTokenAuthenticationFilter.attemptAuthentication(request,\n                    response);\n            if (bearerTokenAuthResult != null &amp;&amp; bearerTokenAuthResult.isAuthenticated()) {\n                SecurityContextHolder.getContext().setAuthentication(bearerTokenAuthResult);\n                jwtBearerTokenAuthenticationFilter.successfulAuthentication(request, response, filterChain, bearerTokenAuthResult);\n                filterChain.doFilter(request, response);\n            } else {\n                System.out.println(&quot;request:&quot; + request.getRequestURI());\n                if (request.getRequestURI().startsWith(privateApiUri) || request.getRequestURI().startsWith(privateApiKeyUri)) {\n                    response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n                    String contentType = request.getContentType();\n                    if (contentType == null) {\n                        contentType = MediaType.APPLICATION_JSON_VALUE;\n                    }\n\n                    if (contentType.equals(MediaType.APPLICATION_JSON_VALUE)) {\n                        response.getWriter().write(&quot;{\\&quot;message\\&quot;: \\&quot;Unauthorized\\&quot;}&quot;);\n                    } else if (contentType.equals(MediaType.TEXT_PLAIN_VALUE)) {\n                        response.getWriter().write(&quot;Unauthorized&quot;);\n                    } else {\n                        // You can add support for other content types here\n                    }\n                    response.setContentType(contentType);\n                    filterChain.doFilter(request, response);\n                } else {\n                    String contentType = request.getContentType();\n                    if (contentType == null) {\n                        contentType = MediaType.APPLICATION_JSON_VALUE;\n                    }\n                    response.setContentType(contentType);\n                    filterChain.doFilter(request, response);\n                }\n            }\n        }\n    }\n\n}\n\n</code></pre>\n<p>My JWTFilter</p>\n<pre><code>package hype.security.authentication.jwt;\n\nimport java.io.IOException;\nimport java.util.Collection;\nimport java.util.Collections;\nimport java.util.Optional;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.oauth2.jwt.Jwt;\nimport org.springframework.security.oauth2.jwt.JwtDecoder;\nimport org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter;\n\nimport hype.security.keycloak.UserPrincipal;\n\npublic class JwtBearerTokenAuthenticationFilter extends AbstractAuthenticationProcessingFilter {\n\n    private final JwtDecoder jwtDecoder;\n\n    public JwtBearerTokenAuthenticationFilter(String defaultFilterProcessesUrl, JwtDecoder jwtDecoder,\n            AuthenticationManager authenticationManager) {\n        super(defaultFilterProcessesUrl);\n        this.jwtDecoder = jwtDecoder;\n        setAuthenticationManager(authenticationManager);\n    }\n\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) {\n        try {\n            Optional&lt;String&gt; bearerToken = extractBearerToken(request);\n            if (bearerToken.isPresent()) {\n                Jwt jwt = jwtDecoder.decode(bearerToken.get());\n                Collection&lt;GrantedAuthority&gt; authorities = Collections.emptyList(); // Optionally, map authorities from\n                                                                                    // JWT claims\n                UserPrincipal userPrincipal = new UserPrincipal(jwt.getSubject());\n                Authentication authentication = new JwtAuthenticationToken(jwt, userPrincipal, authorities);\n                return getAuthenticationManager().authenticate(authentication);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n            logger.warn(&quot;JWT authentication failed: {}&quot;);\n        }\n\n        return null;\n    }\n\n    private Optional&lt;String&gt; extractBearerToken(HttpServletRequest request) {\n        String authorizationHeader = request.getHeader(&quot;Authorization&quot;);\n        if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\n            return Optional.of(authorizationHeader.substring(7));\n        } else {\n            return Optional.empty();\n        }\n    }\n\n    @Override\n    public void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain,\n            Authentication authResult) throws IOException, ServletException {\n        SecurityContextHolder.getContext().setAuthentication(authResult);\n        chain.doFilter(request, response);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","google-chrome","applet"],"comments":[{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":0,"creation_date":1333466697,"post_id":9996404,"comment_id":12776477,"body_markdown":"Do you have jre installed for browser? I guess we call it as plugin. Check chrome plugins for JRE. If not there, you need to install it.","body":"Do you have jre installed for browser? I guess we call it as plugin. Check chrome plugins for JRE. If not there, you need to install it."},{"owner":{"account_id":406051,"reputation":765,"user_id":775325,"accept_rate":56,"display_name":"Dipesh Gandhi"},"score":0,"creation_date":1333467168,"post_id":9996404,"comment_id":12776718,"body_markdown":"i install java from http://java.com/en/download/index.jsp","body":"i install java from <a href=\"http://java.com/en/download/index.jsp\" rel=\"nofollow noreferrer\">java.com/en/download/index.jsp</a>"},{"owner":{"account_id":406051,"reputation":765,"user_id":775325,"accept_rate":56,"display_name":"Dipesh Gandhi"},"score":0,"creation_date":1333467237,"post_id":9996404,"comment_id":12776747,"body_markdown":"in my firefox it working fine. and it displays properly installed.but in chrome not working.","body":"in my firefox it working fine. and it displays properly installed.but in chrome not working."},{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":0,"creation_date":1333467313,"post_id":9996404,"comment_id":12776783,"body_markdown":"Check chrome plugins. Some times versions might not be supported.","body":"Check chrome plugins. Some times versions might not be supported."},{"owner":{"account_id":406051,"reputation":765,"user_id":775325,"accept_rate":56,"display_name":"Dipesh Gandhi"},"score":0,"creation_date":1333467509,"post_id":9996404,"comment_id":12776874,"body_markdown":"you are write in previous version of chrome it works fine but after update it doesn&#39;t work.","body":"you are write in previous version of chrome it works fine but after update it doesn&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":4184499,"reputation":1,"user_id":3428574,"display_name":"user3428574"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395055297,"creation_date":1395055297,"answer_id":22452992,"question_id":9996404,"body_markdown":"Type this into your chrome search bar\r\n\r\nchrome://plugins/\r\n\r\nNow enable java plugin\r\n\r\n\r\nProblem solved !! ","title":"applet not working in chrome","body":"<p>Type this into your chrome search bar</p>\n\n<p>chrome://plugins/</p>\n\n<p>Now enable java plugin</p>\n\n<p>Problem solved !! </p>\n"}],"owner":{"account_id":406051,"reputation":765,"user_id":775325,"accept_rate":56,"display_name":"Dipesh Gandhi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8804,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694916145,"creation_date":1333466509,"question_id":9996404,"body_markdown":"i am try to run applet in chrome but applet not running. i install java but than also not working. i check on http://java.com/en/download/installed.jsp?detect=jre&amp;try=1 link but it displays no java install but it running fine in firefox.\r\n\r\nMy chrome updated version is 18.0.1025.142m and I install java from http://java.com/en/download/index.jsp (latest version)\r\n\r\nstill it displays plugin out of date.\r\n\r\nplease help me.","title":"applet not working in chrome","body":"<p>i am try to run applet in chrome but applet not running. i install java but than also not working. i check on <a href=\"http://java.com/en/download/installed.jsp?detect=jre&amp;try=1\" rel=\"nofollow\">http://java.com/en/download/installed.jsp?detect=jre&amp;try=1</a> link but it displays no java install but it running fine in firefox.</p>\n\n<p>My chrome updated version is 18.0.1025.142m and I install java from <a href=\"http://java.com/en/download/index.jsp\" rel=\"nofollow\">http://java.com/en/download/index.jsp</a> (latest version)</p>\n\n<p>still it displays plugin out of date.</p>\n\n<p>please help me.</p>\n"},{"tags":["python","java","android","kotlin"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":1,"creation_date":1694926578,"post_id":77120192,"comment_id":135954370,"body_markdown":"Welcome to StackOverflow. This site works best with specific programming questions. As written your question seems to lack background information about Android development details/limitations and its relation to various Python related projects. I don&#39;t see any details of what your tried/explored. Asking for opinions is also off-topic. Please read [How to ask](https://stackoverflow.com/help/how-to-ask). You may be better of asking in a forum/discord/slack/reddit group/social media site.","body":"Welcome to StackOverflow. This site works best with specific programming questions. As written your question seems to lack background information about Android development details/limitations and its relation to various Python related projects. I don&#39;t see any details of what your tried/explored. Asking for opinions is also off-topic. Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to ask</a>. You may be better of asking in a forum/discord/slack/reddit group/social media site."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1694946625,"post_id":77120192,"comment_id":135955928,"body_markdown":"Python is a very uncommon programming language for Android and unless in the end you have a bunch of .so files it will not integrate into Android Studio. Most likely implementing an Android library with python will take you more time than simply learning Kotlin.","body":"Python is a very uncommon programming language for Android and unless in the end you have a bunch of .so files it will not integrate into Android Studio. Most likely implementing an Android library with python will take you more time than simply learning Kotlin."},{"owner":{"account_id":270025,"reputation":6187,"user_id":3649629,"accept_rate":67,"display_name":"Gleichmut"},"score":0,"creation_date":1694964269,"post_id":77120192,"comment_id":135957688,"body_markdown":"I also insist on to continue with kotlin or java which are native for Android. You might also to take a look to Flutter and Android compose. In case you want to utilize some existing Python code, you can use Chaquopy for this.","body":"I also insist on to continue with kotlin or java which are native for Android. You might also to take a look to Flutter and Android compose. In case you want to utilize some existing Python code, you can use Chaquopy for this."},{"owner":{"account_id":29394488,"reputation":3,"user_id":22522142,"display_name":"wiefunkdai"},"score":0,"creation_date":1695083863,"post_id":77120192,"comment_id":135973898,"body_markdown":"Im happy with your answer, it seems that it is not easy to develop Android with Python. Thank you All.","body":"Im happy with your answer, it seems that it is not easy to develop Android with Python. Thank you All."}],"owner":{"account_id":29394488,"reputation":3,"user_id":22522142,"display_name":"wiefunkdai"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694914368,"creation_date":1694914368,"question_id":77120192,"body_markdown":"I want to start create Android Library / Application with Python, How to import Android&#39;s Library to Python Script? And how to render to make APK or JAR/AAR Library? QPython \r\n\r\nI found the way by using some python plugins like QPython, Termux. But it is not an IDE but an Editor. Can I import Android Libraries like Java/Kotlin in Visual Studio, but with Python language?","title":"How to implement dependent library of Android Studio Package into Python?","body":"<p>I want to start create Android Library / Application with Python, How to import Android's Library to Python Script? And how to render to make APK or JAR/AAR Library? QPython</p>\n<p>I found the way by using some python plugins like QPython, Termux. But it is not an IDE but an Editor. Can I import Android Libraries like Java/Kotlin in Visual Studio, but with Python language?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1694909244,"post_id":77120019,"comment_id":135953504,"body_markdown":"So, just looking at the code, when you call `insertLeft`,  if `front == 0`, you do `front = size - 1; `, since `size` is `0`, this assigns `-1` to `front` ... You need to add `this.size = size;` to your constructor ... or check the `.length` of your array","body":"So, just looking at the code, when you call <code>insertLeft</code>,  if <code>front == 0</code>, you do <code>front = size - 1; </code>, since <code>size</code> is <code>0</code>, this assigns <code>-1</code> to <code>front</code> ... You need to add <code>this.size = size;</code> to your constructor ... or check the <code>.length</code> of your array"},{"owner":{"account_id":20295347,"reputation":29,"user_id":14886021,"display_name":"Alan Ruiz"},"score":0,"creation_date":1694909371,"post_id":77120019,"comment_id":135953512,"body_markdown":"@MadProgrammer it would be to wrap around. If in the main class i create an object size 5, it should carry over no ?","body":"@MadProgrammer it would be to wrap around. If in the main class i create an object size 5, it should carry over no ?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1694909800,"post_id":77120019,"comment_id":135953528,"body_markdown":"The array is initialised to `size`, but the instance field of the class defaults to `0`, you never assign the instance field a value ... which is why I&#39;d use the array&#39;s `.length` property instead, saves you from things like this - it&#39;s also where some simple desk checking comes in handy","body":"The array is initialised to <code>size</code>, but the instance field of the class defaults to <code>0</code>, you never assign the instance field a value ... which is why I&#39;d use the array&#39;s <code>.length</code> property instead, saves you from things like this - it&#39;s also where some simple desk checking comes in handy"},{"owner":{"account_id":20295347,"reputation":29,"user_id":14886021,"display_name":"Alan Ruiz"},"score":0,"creation_date":1694909880,"post_id":77120019,"comment_id":135953533,"body_markdown":"@MadProgrammer you&#39;re goated, I see what you are saying now. Thank you","body":"@MadProgrammer you&#39;re goated, I see what you are saying now. Thank you"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1694910138,"post_id":77120019,"comment_id":135953546,"body_markdown":"Remember to format your code, there&#39;s a million newlines in it right now that don&#39;t need to be there, and you didn&#39;t properly close it off - always try to show a [mcve], in addition to the regular [posting guidelines](/help/how-to-ask) of course.","body":"Remember to format your code, there&#39;s a million newlines in it right now that don&#39;t need to be there, and you didn&#39;t properly close it off - always try to show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, in addition to the regular <a href=\"/help/how-to-ask\">posting guidelines</a> of course."},{"owner":{"account_id":20295347,"reputation":29,"user_id":14886021,"display_name":"Alan Ruiz"},"score":0,"creation_date":1694910533,"post_id":77120019,"comment_id":135953562,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans I thought it would help to see my thought process and what my overall goal is, it&#39;s not all over the place either.","body":"@Mike&#39;Pomax&#39;Kamermans I thought it would help to see my thought process and what my overall goal is, it&#39;s not all over the place either."},{"owner":{"account_id":20295347,"reputation":29,"user_id":14886021,"display_name":"Alan Ruiz"},"score":0,"creation_date":1694910594,"post_id":77120019,"comment_id":135953565,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans not sure how to close tho","body":"@Mike&#39;Pomax&#39;Kamermans not sure how to close tho"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1694911181,"post_id":77120019,"comment_id":135953603,"body_markdown":"What do you mean with close? You can delete your post, or you can [edit] it to clean it up. Closing (i.e. as off topic, or a duplicate, or as &quot;needing more details&quot;, etc.) is something that folks with enough rep can vote on and then if there are enough votes, the system closes the post automatically. That&#39;s not something you need to wait for as post owner.","body":"What do you mean with close? You can delete your post, or you can <a href=\"https://stackoverflow.com/posts/77120019/edit\">edit</a> it to clean it up. Closing (i.e. as off topic, or a duplicate, or as &quot;needing more details&quot;, etc.) is something that folks with enough rep can vote on and then if there are enough votes, the system closes the post automatically. That&#39;s not something you need to wait for as post owner."}],"answers":[{"comments":[{"owner":{"account_id":20295347,"reputation":29,"user_id":14886021,"display_name":"Alan Ruiz"},"score":1,"creation_date":1694912924,"post_id":77120105,"comment_id":135953714,"body_markdown":"this is exactly the type of criticism I was looking for, I appreciate you so much man, my brain understood what I wanted but just couldn&#39;t write it out properly.","body":"this is exactly the type of criticism I was looking for, I appreciate you so much man, my brain understood what I wanted but just couldn&#39;t write it out properly."}],"tags":[],"owner":{"account_id":24650539,"reputation":94,"user_id":22576975,"display_name":"Heath B"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694911401,"creation_date":1694911401,"answer_id":77120105,"question_id":77120019,"body_markdown":"First you need to make sure you&#39;re setting size when you construct the object. Add this.size to your constructor.\r\n\r\n    public Deque(int size) {\r\n        this.size = size;\r\n        array = new int[size];\r\n    }\r\n\r\nYou need to increment NumItems at the end of your insertRight and insertLeft methods. While we&#39;re discussing these methods there are a few things to consider. You&#39;re continuing to perform operations after you find out that the array is full. You should wrap the rest of the operations in an else block.\r\n\r\nYou are also going to get ArrayIndexOutOfBoundsExceptions if you do not wrap your ifs in else statements. You do not want to check each if in the situation where one of the earlier ones is true. \r\n\r\nAs an example:\r\n\r\n\r\n    public void insertRight(int item) {\r\n        if (isFull()) {\r\n            System.out.println(&quot;Full. Exceeds the allowed total of &quot; + size + &quot; items.&quot;);\r\n        } else {\r\n            if (isEmpty()) {\r\n                front = 0;\r\n                rear = 0;\r\n            } else if (rear == size - 1) {\r\n                rear = 0;\r\n            } else {\r\n                rear = rear + 1;\r\n            }\r\n            array[rear] = item;\r\n            NumItems++;\r\n        }\r\n    }\r\n\r\nisEmpty is going to return false when it should be true if I add 2 values then remove the 2 values. isEmpty should be:\r\n\r\n    public boolean isEmpty() {\r\n        return NumItems == 0;\r\n    }\r\n\r\nI have edited the code to also make use of the display method. I&#39;m not sure why you&#39;re returning an array to a void method but I have made it:\r\n\r\n    public void display() {\r\n        for (int i = 0; i &lt; NumItems; i++) {\r\n            System.out.print(array[(front + i) % size] + &quot; &quot;);\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\nHere is the entire working class after I&#39;ve reworked it:\r\n\r\n    public class Deque {\r\n        private int[] array;\r\n        private int NumItems = 0;\r\n        private int front = -1;\r\n        private int rear = 0;\r\n        private int size;\r\n    \r\n        public Deque(int size) {\r\n            this.size = size;\r\n            array = new int[size];\r\n        }\r\n    \r\n        public boolean isEmpty() {\r\n            return NumItems == 0;\r\n        }\r\n    \r\n        public boolean isFull() {\r\n            return NumItems == size;\r\n        }\r\n    \r\n        public void insertLeft(int item) {\r\n            if (isFull()) {\r\n                System.out.println(&quot;Full. Exceeds the allowed total of &quot; + size + &quot; items.&quot;);\r\n            } else {\r\n                if (isEmpty()) {\r\n                    front = 0;\r\n                    rear = 0;\r\n                } else if (front == 0) {\r\n                    front = size - 1;\r\n                } else {\r\n                    front = front - 1;\r\n                }\r\n                array[front] = item;\r\n                NumItems++;\r\n            }\r\n        }\r\n    \r\n        public void insertRight(int item) {\r\n            if (isFull()) {\r\n                System.out.println(&quot;Full. Exceeds the allowed total of &quot; + size + &quot; items.&quot;);\r\n            } else {\r\n                if (isEmpty()) {\r\n                    front = 0;\r\n                    rear = 0;\r\n                } else if (rear == size - 1) {\r\n                    rear = 0;\r\n                } else {\r\n                    rear = rear + 1;\r\n                }\r\n                array[rear] = item;\r\n                NumItems++;\r\n            }\r\n        }\r\n    \r\n        public void deleteLeft() {\r\n            if (!isEmpty()) {\r\n                if (front == rear) {\r\n                    front = -1;\r\n                    rear = 0;\r\n                } else if (front == size - 1) {\r\n                    front = 0;\r\n                } else {\r\n                    front = front + 1;\r\n                }\r\n                NumItems--;\r\n            } else {\r\n                System.out.println(&quot;Queue is empty.&quot;);\r\n            }\r\n        }\r\n    \r\n        public void deleteRight() {\r\n            if (!isEmpty()) {\r\n                if (front == rear) {\r\n                    front = -1;\r\n                    rear = 0;\r\n                } else if (rear == 0) {\r\n                    rear = size - 1;\r\n                } else {\r\n                    rear = rear - 1;\r\n                }\r\n                NumItems--;\r\n            } else {\r\n                System.out.println(&quot;Queue is empty.&quot;);\r\n            }\r\n        }\r\n    \r\n        public void display() {\r\n            for (int i = 0; i &lt; NumItems; i++) {\r\n                System.out.print(array[(front + i) % size] + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Deque q = new Deque(5);\r\n            q.insertLeft(1);\r\n            q.insertRight(2);\r\n            q.display(); // This should print: 1 2\r\n            q.insertLeft(3);\r\n            q.insertRight(4);\r\n            q.display(); // This should print: 3 1 2 4\r\n            q.deleteLeft();\r\n            q.deleteRight();\r\n            q.display(); // This should print: 1 2\r\n        }\r\n    }\r\n\r\nPlease do read through and try and understand what&#39;s happening on a step-by-step level.","title":"Can someone help me explain why size value being carried?","body":"<p>First you need to make sure you're setting size when you construct the object. Add this.size to your constructor.</p>\n<pre><code>public Deque(int size) {\n    this.size = size;\n    array = new int[size];\n}\n</code></pre>\n<p>You need to increment NumItems at the end of your insertRight and insertLeft methods. While we're discussing these methods there are a few things to consider. You're continuing to perform operations after you find out that the array is full. You should wrap the rest of the operations in an else block.</p>\n<p>You are also going to get ArrayIndexOutOfBoundsExceptions if you do not wrap your ifs in else statements. You do not want to check each if in the situation where one of the earlier ones is true.</p>\n<p>As an example:</p>\n<pre><code>public void insertRight(int item) {\n    if (isFull()) {\n        System.out.println(&quot;Full. Exceeds the allowed total of &quot; + size + &quot; items.&quot;);\n    } else {\n        if (isEmpty()) {\n            front = 0;\n            rear = 0;\n        } else if (rear == size - 1) {\n            rear = 0;\n        } else {\n            rear = rear + 1;\n        }\n        array[rear] = item;\n        NumItems++;\n    }\n}\n</code></pre>\n<p>isEmpty is going to return false when it should be true if I add 2 values then remove the 2 values. isEmpty should be:</p>\n<pre><code>public boolean isEmpty() {\n    return NumItems == 0;\n}\n</code></pre>\n<p>I have edited the code to also make use of the display method. I'm not sure why you're returning an array to a void method but I have made it:</p>\n<pre><code>public void display() {\n    for (int i = 0; i &lt; NumItems; i++) {\n        System.out.print(array[(front + i) % size] + &quot; &quot;);\n    }\n    System.out.println();\n}\n</code></pre>\n<p>Here is the entire working class after I've reworked it:</p>\n<pre><code>public class Deque {\n    private int[] array;\n    private int NumItems = 0;\n    private int front = -1;\n    private int rear = 0;\n    private int size;\n\n    public Deque(int size) {\n        this.size = size;\n        array = new int[size];\n    }\n\n    public boolean isEmpty() {\n        return NumItems == 0;\n    }\n\n    public boolean isFull() {\n        return NumItems == size;\n    }\n\n    public void insertLeft(int item) {\n        if (isFull()) {\n            System.out.println(&quot;Full. Exceeds the allowed total of &quot; + size + &quot; items.&quot;);\n        } else {\n            if (isEmpty()) {\n                front = 0;\n                rear = 0;\n            } else if (front == 0) {\n                front = size - 1;\n            } else {\n                front = front - 1;\n            }\n            array[front] = item;\n            NumItems++;\n        }\n    }\n\n    public void insertRight(int item) {\n        if (isFull()) {\n            System.out.println(&quot;Full. Exceeds the allowed total of &quot; + size + &quot; items.&quot;);\n        } else {\n            if (isEmpty()) {\n                front = 0;\n                rear = 0;\n            } else if (rear == size - 1) {\n                rear = 0;\n            } else {\n                rear = rear + 1;\n            }\n            array[rear] = item;\n            NumItems++;\n        }\n    }\n\n    public void deleteLeft() {\n        if (!isEmpty()) {\n            if (front == rear) {\n                front = -1;\n                rear = 0;\n            } else if (front == size - 1) {\n                front = 0;\n            } else {\n                front = front + 1;\n            }\n            NumItems--;\n        } else {\n            System.out.println(&quot;Queue is empty.&quot;);\n        }\n    }\n\n    public void deleteRight() {\n        if (!isEmpty()) {\n            if (front == rear) {\n                front = -1;\n                rear = 0;\n            } else if (rear == 0) {\n                rear = size - 1;\n            } else {\n                rear = rear - 1;\n            }\n            NumItems--;\n        } else {\n            System.out.println(&quot;Queue is empty.&quot;);\n        }\n    }\n\n    public void display() {\n        for (int i = 0; i &lt; NumItems; i++) {\n            System.out.print(array[(front + i) % size] + &quot; &quot;);\n        }\n        System.out.println();\n    }\n\n    public static void main(String[] args) {\n        Deque q = new Deque(5);\n        q.insertLeft(1);\n        q.insertRight(2);\n        q.display(); // This should print: 1 2\n        q.insertLeft(3);\n        q.insertRight(4);\n        q.display(); // This should print: 3 1 2 4\n        q.deleteLeft();\n        q.deleteRight();\n        q.display(); // This should print: 1 2\n    }\n}\n</code></pre>\n<p>Please do read through and try and understand what's happening on a step-by-step level.</p>\n"}],"owner":{"account_id":20295347,"reputation":29,"user_id":14886021,"display_name":"Alan Ruiz"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77120105,"answer_count":1,"score":0,"last_activity_date":1694911401,"creation_date":1694908931,"question_id":77120019,"body_markdown":"in the main class  have Deque q = new Deque(5). I can insert the first int fine  but on the second insert either left or right, i get a -1 as front, when it should be 4. I debugged it but I can&#39;t seem to figure out why, has something to do with at insertLeft() where if(front == 0), size should be 5 in that case. \r\n\r\n\r\n\r\n    public class  Deque {\r\n    //We need to create the array and keep track of the number of items in it\r\n\r\n    private int[] array;\r\n    private int NumItems = 0; \r\n\r\n    // keep track of the front and rear as well to help us reach our wrap around effect\r\n    private int front = -1; \r\n    private int rear = 0; \r\n    private int size; \r\n\r\n    //Now we can build the constructor that create the object of Deque\r\n\r\n        public Deque(int size){\r\n            array = new int[size];\r\n            \r\n        }\r\n\r\n        //first thing first is we need to insert but before we do that we need to check if its empty and if its full\r\n\r\n\r\n        public boolean isEmpty(){\r\n            \r\n            // if it is empty, that means that front is still -1, and rear is 0 so we return front = -1 or NumItems - 1 since NumItems is 0\r\n\r\n            return front == NumItems - 1 &amp;&amp; rear == 0; \r\n            \r\n        }\r\n\r\n        public boolean isFull(){ \r\n\r\n            //if it is full, that means that front is at index zero and rear is at index NumItems - 1 so we return exactly that\r\n            return NumItems == array.length; \r\n        }\r\n\r\n        //now we can Insert either on the left or on the right\r\n\r\n        public void insertLeft(int item){\r\n            //first what we want to do is check if its full, here we have 3 option, if its completely full, if its completely empty, and if its neither empty or full\r\n\r\n            if(isFull()){\r\n                //if its full, then that means that rear is = 0 and front = NumItems - 1 so we just return &quot;full&quot;\r\n\r\n                System.out.println(&quot;Full. Exceeds the allowed total of &quot; + size + &quot; items.&quot;);\r\n            }\r\n            \r\n            if(isEmpty()){\r\n                //if its completely empty, then we can just add it to the left at index 0, where in this case front = -1 and rear = 0 so far, but we make front also = 0, so front = rear = 0 \r\n\r\n                front = 0; \r\n                rear = 0; \r\n            }\r\n            \r\n            if(front == 0){\r\n                // in this case, its not full but not empty, just one item in it so front = 0 and so it rear. We want the wrap around so we gotta make front the &quot;end&quot; of the array\r\n                front = size - 1; \r\n            }\r\n\r\n            //now if front is neither a -1 (empty), 0 (one item), or = to size (full), then our next entry would be the indext right before [0 (rear), 1 , 2, 3(front)], our entry would be at 2, so what we wnat is to add at array[2] which is as simple as front - 1. \r\n            if(front &gt; 0){\r\n                front = front - 1; \r\n            }\r\n\r\n            // now we can add our item into the array at index postion front where front can either be 0, -1, size - 1, front - 1\r\n            array[front] = item; \r\n\r\n        }\r\n\r\n        public void insertRight(int item){\r\n            // we als have three factor here, if its empty, if its full, if its neither empty or full \r\n\r\n            if(isFull()){\r\n                // if its full i want it to tell us it is full\r\n\r\n                System.out.println(&quot;Full. Exceeds the allowed total of &quot; + size + &quot; items.&quot;);\r\n            }\r\n\r\n            if(isEmpty()){\r\n                front = 0; \r\n                rear = 0; \r\n            }\r\n\r\n            else{\r\n                //here we just keep adding to the right first at index zero then index 1 then index 2 then rear + 1... \r\n                rear = rear + 1;  \r\n            }\r\n\r\n            if(rear == size - 1 ){\r\n                //if we manage to reach the end of the array, to reach that wrap around effect we go back to index 0\r\n                rear = 0; \r\n            }\r\n\r\n            //now we add our item \r\n\r\n            array[rear] = item; \r\n\r\n        }\r\n        \r\n        public void deleteLeft(int item){\r\n            //we would also have 3 cases, if empty nothing to delete, if full delete from front ? if in between delete from rear\r\n            if(isEmpty()){\r\n                System.out.println(&quot;Queue is empty.&quot;);\r\n                }\r\n                \r\n                //here we just move front up one, leaving the index that front was in be able to be overwritten \r\n                else front = front + 1; \r\n\r\n                // here is incase front + 1 goes past the size the array, we wrap around to index 0 again and so on\r\n                if(front &gt; size - 1){\r\n                    front = 0; \r\n                }\r\n\r\n                \r\n            }\r\n\r\n        public void deleteRight(int item){\r\n            //same thing as left in reverse\r\n            if(isEmpty()){\r\n                System.out.println(&quot;Queue is empty.&quot;);\r\n            }\r\n\r\n            else{\r\n                rear = rear - 1; \r\n            }\r\n\r\n            if(rear &lt; 0){\r\n                rear = size - 1; \r\n            }\r\n\r\n\r\n        }\r\n\r\n        public void display(){\r\n            return array; \r\n        }\r\n\r\n","title":"Can someone help me explain why size value being carried?","body":"<p>in the main class  have Deque q = new Deque(5). I can insert the first int fine  but on the second insert either left or right, i get a -1 as front, when it should be 4. I debugged it but I can't seem to figure out why, has something to do with at insertLeft() where if(front == 0), size should be 5 in that case.</p>\n<pre><code>public class  Deque {\n//We need to create the array and keep track of the number of items in it\n\nprivate int[] array;\nprivate int NumItems = 0; \n\n// keep track of the front and rear as well to help us reach our wrap around effect\nprivate int front = -1; \nprivate int rear = 0; \nprivate int size; \n\n//Now we can build the constructor that create the object of Deque\n\n    public Deque(int size){\n        array = new int[size];\n        \n    }\n\n    //first thing first is we need to insert but before we do that we need to check if its empty and if its full\n\n\n    public boolean isEmpty(){\n        \n        // if it is empty, that means that front is still -1, and rear is 0 so we return front = -1 or NumItems - 1 since NumItems is 0\n\n        return front == NumItems - 1 &amp;&amp; rear == 0; \n        \n    }\n\n    public boolean isFull(){ \n\n        //if it is full, that means that front is at index zero and rear is at index NumItems - 1 so we return exactly that\n        return NumItems == array.length; \n    }\n\n    //now we can Insert either on the left or on the right\n\n    public void insertLeft(int item){\n        //first what we want to do is check if its full, here we have 3 option, if its completely full, if its completely empty, and if its neither empty or full\n\n        if(isFull()){\n            //if its full, then that means that rear is = 0 and front = NumItems - 1 so we just return &quot;full&quot;\n\n            System.out.println(&quot;Full. Exceeds the allowed total of &quot; + size + &quot; items.&quot;);\n        }\n        \n        if(isEmpty()){\n            //if its completely empty, then we can just add it to the left at index 0, where in this case front = -1 and rear = 0 so far, but we make front also = 0, so front = rear = 0 \n\n            front = 0; \n            rear = 0; \n        }\n        \n        if(front == 0){\n            // in this case, its not full but not empty, just one item in it so front = 0 and so it rear. We want the wrap around so we gotta make front the &quot;end&quot; of the array\n            front = size - 1; \n        }\n\n        //now if front is neither a -1 (empty), 0 (one item), or = to size (full), then our next entry would be the indext right before [0 (rear), 1 , 2, 3(front)], our entry would be at 2, so what we wnat is to add at array[2] which is as simple as front - 1. \n        if(front &gt; 0){\n            front = front - 1; \n        }\n\n        // now we can add our item into the array at index postion front where front can either be 0, -1, size - 1, front - 1\n        array[front] = item; \n\n    }\n\n    public void insertRight(int item){\n        // we als have three factor here, if its empty, if its full, if its neither empty or full \n\n        if(isFull()){\n            // if its full i want it to tell us it is full\n\n            System.out.println(&quot;Full. Exceeds the allowed total of &quot; + size + &quot; items.&quot;);\n        }\n\n        if(isEmpty()){\n            front = 0; \n            rear = 0; \n        }\n\n        else{\n            //here we just keep adding to the right first at index zero then index 1 then index 2 then rear + 1... \n            rear = rear + 1;  \n        }\n\n        if(rear == size - 1 ){\n            //if we manage to reach the end of the array, to reach that wrap around effect we go back to index 0\n            rear = 0; \n        }\n\n        //now we add our item \n\n        array[rear] = item; \n\n    }\n    \n    public void deleteLeft(int item){\n        //we would also have 3 cases, if empty nothing to delete, if full delete from front ? if in between delete from rear\n        if(isEmpty()){\n            System.out.println(&quot;Queue is empty.&quot;);\n            }\n            \n            //here we just move front up one, leaving the index that front was in be able to be overwritten \n            else front = front + 1; \n\n            // here is incase front + 1 goes past the size the array, we wrap around to index 0 again and so on\n            if(front &gt; size - 1){\n                front = 0; \n            }\n\n            \n        }\n\n    public void deleteRight(int item){\n        //same thing as left in reverse\n        if(isEmpty()){\n            System.out.println(&quot;Queue is empty.&quot;);\n        }\n\n        else{\n            rear = rear - 1; \n        }\n\n        if(rear &lt; 0){\n            rear = size - 1; \n        }\n\n\n    }\n\n    public void display(){\n        return array; \n    }\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9954,"page":180,"page_size":100}
