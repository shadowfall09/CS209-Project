{"items":[{"tags":["java","android"],"comments":[{"owner":{"account_id":1164230,"reputation":3515,"user_id":1143172,"display_name":"icastell"},"score":0,"creation_date":1337199003,"post_id":10625775,"comment_id":13771812,"body_markdown":"Maybe in this thread: http://stackoverflow.com/questions/4310525/android-on-edittext-changed-listener you have what are you want.","body":"Maybe in this thread: <a href=\"http://stackoverflow.com/questions/4310525/android-on-edittext-changed-listener\" title=\"android on edittext changed listener\">stackoverflow.com/questions/4310525/&hellip;</a> you have what are you want."}],"answers":[{"tags":[],"owner":{"account_id":1023515,"reputation":4993,"user_id":1033305,"accept_rate":100,"display_name":"Raheel"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1337198749,"creation_date":1337198749,"answer_id":10625890,"question_id":10625775,"body_markdown":"     EditText ET =(EditText)findViewById(R.id.yourtextField);\r\n    ET.setOnFocusChangeListener(new OnFocusChangeListener() {\r\n\t\t\t\tpublic void onFocusChange(View arg0, boolean arg1) {\r\n\r\n    String myText = ET.getText();\r\n    //Do whatever\r\n\r\n    } ","title":"Android On Focus Change","body":"<pre><code> EditText ET =(EditText)findViewById(R.id.yourtextField);\nET.setOnFocusChangeListener(new OnFocusChangeListener() {\n            public void onFocusChange(View arg0, boolean arg1) {\n\nString myText = ET.getText();\n//Do whatever\n\n} \n</code></pre>\n"},{"comments":[{"owner":{"account_id":53566,"reputation":88209,"user_id":160173,"accept_rate":78,"display_name":"David Murdoch"},"score":0,"creation_date":1448397708,"post_id":10625897,"comment_id":55569403,"body_markdown":"Obviously late to the party, but using setText here will output the warning &quot;getTextBeforeCursor on inactive InputConnection&quot;","body":"Obviously late to the party, but using setText here will output the warning &quot;getTextBeforeCursor on inactive InputConnection&quot;"}],"tags":[],"owner":{"account_id":406618,"reputation":40008,"user_id":776244,"accept_rate":89,"display_name":"Samir Mangroliya"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1337199574,"creation_date":1337198775,"answer_id":10625897,"question_id":10625775,"body_markdown":"set `setOnFocusChangeListener` to your edittext...\r\n\r\n    editText.setOnFocusChangeListener(new OnFocusChangeListener() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void onFocusChange(View v, boolean hasFocus) {\r\n    \t\t\t \r\n    \t\t\t\tif(!hasFocus){\r\n                  //this if condition is true when edittext lost focus...\r\n                  //check here for number is larger than 10 or not\r\n    \t\t\t\t\teditText.setText(&quot;10&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});","title":"Android On Focus Change","body":"<p>set <code>setOnFocusChangeListener</code> to your edittext...</p>\n\n<pre><code>editText.setOnFocusChangeListener(new OnFocusChangeListener() {\n\n            @Override\n            public void onFocusChange(View v, boolean hasFocus) {\n\n                if(!hasFocus){\n              //this if condition is true when edittext lost focus...\n              //check here for number is larger than 10 or not\n                    editText.setText(\"10\");\n                }\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10597096,"reputation":384,"user_id":7805375,"display_name":"Rohan Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1558209715,"creation_date":1558209715,"answer_id":56202429,"question_id":10625775,"body_markdown":"If someone wants to do this in kotlin and with databinding then please refer below code\r\n     \r\n     //first get reference to your edit text \r\n\r\n     var editText:EditText = viewDataBinding.editText \r\n\r\n     // add listner on edit text \r\n\r\n     editText.setOnFocusChangeListener { v, hasFocus -&gt;\r\n            if(!hasFocus)\r\n            {\r\n          if((editText.text.toString().toIntOrNull()&gt;10)\r\n           {// add any thing in this block\r\n             editText.text = &quot;10&quot;\r\n           }\r\n          }\r\n         }","title":"Android On Focus Change","body":"<p>If someone wants to do this in kotlin and with databinding then please refer below code</p>\n\n<pre><code> //first get reference to your edit text \n\n var editText:EditText = viewDataBinding.editText \n\n // add listner on edit text \n\n editText.setOnFocusChangeListener { v, hasFocus -&gt;\n        if(!hasFocus)\n        {\n      if((editText.text.toString().toIntOrNull()&gt;10)\n       {// add any thing in this block\n         editText.text = \"10\"\n       }\n      }\n     }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18493218,"reputation":33,"user_id":13472253,"display_name":"Mertay Dayanc"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588657957,"creation_date":1588657957,"answer_id":61606601,"question_id":10625775,"body_markdown":"I had it explained in this post if you are interested.Go check it out &lt;https://medium.com/@mdayanc/how-to-use-on-focus-change-to-format-edit-text-on-android-studio-bf59edf66161&gt;\r\n\r\nHere is the simple code to utilize OnFocusChangeListener\r\n\r\n        EditText myEditText = findViewById(R.id.myEditText);\r\n\r\n        myEditText.setOnFocusChangeListener(new View.OnFocusChangeListener() {\r\n            @Override\r\n            public void onFocusChange(View v, boolean hasFocus) {\r\n                if(hasFocus)\r\n                {\r\n                  //Do something when EditText has focus\r\n                }\r\n                else{\r\n                  // Do something when Focus is not on the EditText\r\n                }\r\n            }\r\n        });\r\n","title":"Android On Focus Change","body":"<p>I had it explained in this post if you are interested.Go check it out <a href=\"https://medium.com/@mdayanc/how-to-use-on-focus-change-to-format-edit-text-on-android-studio-bf59edf66161\" rel=\"nofollow noreferrer\">https://medium.com/@mdayanc/how-to-use-on-focus-change-to-format-edit-text-on-android-studio-bf59edf66161</a></p>\n\n<p>Here is the simple code to utilize OnFocusChangeListener</p>\n\n<pre><code>    EditText myEditText = findViewById(R.id.myEditText);\n\n    myEditText.setOnFocusChangeListener(new View.OnFocusChangeListener() {\n        @Override\n        public void onFocusChange(View v, boolean hasFocus) {\n            if(hasFocus)\n            {\n              //Do something when EditText has focus\n            }\n            else{\n              // Do something when Focus is not on the EditText\n            }\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":304762,"reputation":11899,"user_id":614460,"accept_rate":74,"display_name":"Somk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37673,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"answer_count":4,"score":10,"last_activity_date":1667053678,"creation_date":1337198269,"question_id":10625775,"body_markdown":"I want to update an EditText when a user changes focus from the edittext to another item I want to check the contents of the edittext eg is the number larger than 10 if so change it to 10.\r\n\r\nHow should I do this.","title":"Android On Focus Change","body":"<p>I want to update an EditText when a user changes focus from the edittext to another item I want to check the contents of the edittext eg is the number larger than 10 if so change it to 10.</p>\n\n<p>How should I do this.</p>\n"},{"tags":["java","jackson","mockito","jackson-databind","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":26731343,"reputation":1,"user_id":20333634,"display_name":"Harshitha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667052546,"creation_date":1667052457,"answer_id":74245987,"question_id":74244816,"body_markdown":"Converting the json string to Object type using readValue() before passing it to the method under test resolved the error. \r\n\r\n```\r\n@Test\r\npublic void test_handleRequest() {\r\n   String testInput = \r\n       &quot;{\\&quot;fieldA\\&quot;:\\&quot;fieldAValue\\&quot;,\\&quot;fieldB\\&quot;:\\&quot;fieldBValue\\&quot;,+    \r\n       &quot;\\&quot;fieldC\\&quot;:\\&quot;fieldCValue\\&quot;,&quot; +\r\n       &quot;\\&quot;fieldList\\&quot;:[&quot; +\r\n       &quot;{\\&quot;subFieldA\\&quot;:\\&quot;subFieldAValue\\&quot;, &quot; +\r\n       &quot;\\&quot;subFieldB\\&quot;:\\&quot;subFieldBValue\\&quot;, &quot; +\r\n       &quot;\\&quot;subFieldC\\&quot;:\\&quot;subFieldCValue\\&quot;, &quot; +\r\n       &quot;\\&quot;subFieldD\\&quot;:\\&quot;subFieldDValue\\&quot;, &quot; +\r\n       &quot;\\&quot;subFieldE\\&quot;:\\&quot;subFieldEValue\\&quot;}]}&quot;;\r\n\r\n   Object input = new ObjectMapper().readValue(testInput, Object.class);\r\n   handleRequest(input, null);\r\n\r\n   // code to assert that the actual and expected values are equal.\r\n   .\r\n   .\r\n   .\r\n}\r\n```","title":"Cannot construct instance of X (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value","body":"<p>Converting the json string to Object type using readValue() before passing it to the method under test resolved the error.</p>\n<pre><code>@Test\npublic void test_handleRequest() {\n   String testInput = \n       &quot;{\\&quot;fieldA\\&quot;:\\&quot;fieldAValue\\&quot;,\\&quot;fieldB\\&quot;:\\&quot;fieldBValue\\&quot;,+    \n       &quot;\\&quot;fieldC\\&quot;:\\&quot;fieldCValue\\&quot;,&quot; +\n       &quot;\\&quot;fieldList\\&quot;:[&quot; +\n       &quot;{\\&quot;subFieldA\\&quot;:\\&quot;subFieldAValue\\&quot;, &quot; +\n       &quot;\\&quot;subFieldB\\&quot;:\\&quot;subFieldBValue\\&quot;, &quot; +\n       &quot;\\&quot;subFieldC\\&quot;:\\&quot;subFieldCValue\\&quot;, &quot; +\n       &quot;\\&quot;subFieldD\\&quot;:\\&quot;subFieldDValue\\&quot;, &quot; +\n       &quot;\\&quot;subFieldE\\&quot;:\\&quot;subFieldEValue\\&quot;}]}&quot;;\n\n   Object input = new ObjectMapper().readValue(testInput, Object.class);\n   handleRequest(input, null);\n\n   // code to assert that the actual and expected values are equal.\n   .\n   .\n   .\n}\n</code></pre>\n"}],"owner":{"account_id":26731343,"reputation":1,"user_id":20333634,"display_name":"Harshitha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2520,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74245987,"answer_count":1,"score":0,"last_activity_date":1667052546,"creation_date":1667042440,"question_id":74244816,"body_markdown":"I&#39;m trying to test a method handleRequest() which is the handler code when an AWS lambda is triggered. The method is as follows:\r\n\r\n```\r\n@Override\r\npublic Response handleRequest(Object input, Context context) {\r\n   final Request request =     \r\n      OBJECT_MAPPER.readValue(OBJECT_MAPPER.writeValueAsBytes(input),Request.class);\r\n\r\n   // some code that uses request\r\n   .\r\n   .\r\n}\r\n```\r\n\r\n\r\nInput to AWS lambda function that is working fine when tested from AWS console - \r\n\r\n```\r\n{&quot;fieldA&quot;: &quot;fieldAValue&quot;,\r\n&quot;fieldB&quot;: &quot;fieldBValue&quot;,\r\n&quot;fieldC&quot;: &quot;fieldCValue&quot;,\r\n&quot;fieldList&quot;: [\r\n  {\r\n    &quot;subFieldA&quot;: &quot;subFieldAValue&quot;,\r\n    &quot;subFieldB&quot;: &quot;subFieldBValue&quot;,\r\n    &quot;subFieldC&quot;: &quot;subFieldCValue&quot;,\r\n    &quot;subFieldD&quot;: &quot;subFieldDValue&quot;,\r\n    &quot;subFieldE&quot;: &quot;subFieldEValue&quot;\r\n  }\r\n]\r\n}\r\n```\r\n\r\nMy test method - \r\n\r\n```\r\n@Test\r\npublic void test_handleRequest() {\r\n   String testInput = \r\n       &quot;{\\&quot;fieldA\\&quot;:\\&quot;fieldAValue\\&quot;,\\&quot;fieldB\\&quot;:\\&quot;fieldBValue\\&quot;,+    \r\n       &quot;\\&quot;fieldC\\&quot;:\\&quot;fieldCValue\\&quot;,&quot; +\r\n       &quot;\\&quot;fieldList\\&quot;:[&quot; +\r\n       &quot;{\\&quot;subFieldA\\&quot;:\\&quot;subFieldAValue\\&quot;, &quot; +\r\n       &quot;\\&quot;subFieldB\\&quot;:\\&quot;subFieldBValue\\&quot;, &quot; +\r\n       &quot;\\&quot;subFieldC\\&quot;:\\&quot;subFieldCValue\\&quot;, &quot; +\r\n       &quot;\\&quot;subFieldD\\&quot;:\\&quot;subFieldDValue\\&quot;, &quot; +\r\n       &quot;\\&quot;subFieldE\\&quot;:\\&quot;subFieldEValue\\&quot;}]}&quot;;\r\n\r\n   handleRequest(testInput, null);\r\n\r\n   // code to assert that the actual and expected values are equal.\r\n   .\r\n   .\r\n   .\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nError when the test method is executed - \r\n\r\n```\r\nCannot construct instance of &#39;model.Request&#39; \r\n(although at least one Creator exists): no String-argument constructor/factory method to \r\ndeserialize from String value (&#39;{&quot;fieldA&quot;:&quot;fieldAValue&quot;,&quot;fieldB&quot;:&quot;fieldBValue&quot;, \r\n&quot;fieldC&quot;:&quot;fieldCValue&quot;,&quot;fieldList&quot;:[{&quot;subFieldA&quot;:&quot;subFieldAValue&quot;, \r\n&quot;subFieldB&quot;:&quot;subFieldBValue&quot;, &quot;subFieldC&quot;:&quot;subFieldCValue&quot;, \r\n&quot;subFieldD&quot;:&quot;subFieldDValue&quot;, &quot;subFieldE&quot;:&quot;subFieldEValue&quot;}]}&#39;) at [Source: (byte[])&quot;&quot;\r\n```\r\n\r\n\r\nThe test method is failing with the error that the given input string cannot be mapped to ```Request``` class. I got expected result when the AWS lambda is triggered with the same input via AWS console, so I&#39;m pretty sure that the code is perfectly fine.\r\n\r\n\r\nIs this the right way to build the ```testInput```? Any other alternative way to build ```testInput``` so that it can be correctly mapped to ```Request``` class when testing?\r\n\r\n","title":"Cannot construct instance of X (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value","body":"<p>I'm trying to test a method handleRequest() which is the handler code when an AWS lambda is triggered. The method is as follows:</p>\n<pre><code>@Override\npublic Response handleRequest(Object input, Context context) {\n   final Request request =     \n      OBJECT_MAPPER.readValue(OBJECT_MAPPER.writeValueAsBytes(input),Request.class);\n\n   // some code that uses request\n   .\n   .\n}\n</code></pre>\n<p>Input to AWS lambda function that is working fine when tested from AWS console -</p>\n<pre><code>{&quot;fieldA&quot;: &quot;fieldAValue&quot;,\n&quot;fieldB&quot;: &quot;fieldBValue&quot;,\n&quot;fieldC&quot;: &quot;fieldCValue&quot;,\n&quot;fieldList&quot;: [\n  {\n    &quot;subFieldA&quot;: &quot;subFieldAValue&quot;,\n    &quot;subFieldB&quot;: &quot;subFieldBValue&quot;,\n    &quot;subFieldC&quot;: &quot;subFieldCValue&quot;,\n    &quot;subFieldD&quot;: &quot;subFieldDValue&quot;,\n    &quot;subFieldE&quot;: &quot;subFieldEValue&quot;\n  }\n]\n}\n</code></pre>\n<p>My test method -</p>\n<pre><code>@Test\npublic void test_handleRequest() {\n   String testInput = \n       &quot;{\\&quot;fieldA\\&quot;:\\&quot;fieldAValue\\&quot;,\\&quot;fieldB\\&quot;:\\&quot;fieldBValue\\&quot;,+    \n       &quot;\\&quot;fieldC\\&quot;:\\&quot;fieldCValue\\&quot;,&quot; +\n       &quot;\\&quot;fieldList\\&quot;:[&quot; +\n       &quot;{\\&quot;subFieldA\\&quot;:\\&quot;subFieldAValue\\&quot;, &quot; +\n       &quot;\\&quot;subFieldB\\&quot;:\\&quot;subFieldBValue\\&quot;, &quot; +\n       &quot;\\&quot;subFieldC\\&quot;:\\&quot;subFieldCValue\\&quot;, &quot; +\n       &quot;\\&quot;subFieldD\\&quot;:\\&quot;subFieldDValue\\&quot;, &quot; +\n       &quot;\\&quot;subFieldE\\&quot;:\\&quot;subFieldEValue\\&quot;}]}&quot;;\n\n   handleRequest(testInput, null);\n\n   // code to assert that the actual and expected values are equal.\n   .\n   .\n   .\n}\n</code></pre>\n<p>Error when the test method is executed -</p>\n<pre><code>Cannot construct instance of 'model.Request' \n(although at least one Creator exists): no String-argument constructor/factory method to \ndeserialize from String value ('{&quot;fieldA&quot;:&quot;fieldAValue&quot;,&quot;fieldB&quot;:&quot;fieldBValue&quot;, \n&quot;fieldC&quot;:&quot;fieldCValue&quot;,&quot;fieldList&quot;:[{&quot;subFieldA&quot;:&quot;subFieldAValue&quot;, \n&quot;subFieldB&quot;:&quot;subFieldBValue&quot;, &quot;subFieldC&quot;:&quot;subFieldCValue&quot;, \n&quot;subFieldD&quot;:&quot;subFieldDValue&quot;, &quot;subFieldE&quot;:&quot;subFieldEValue&quot;}]}') at [Source: (byte[])&quot;&quot;\n</code></pre>\n<p>The test method is failing with the error that the given input string cannot be mapped to <code>Request</code> class. I got expected result when the AWS lambda is triggered with the same input via AWS console, so I'm pretty sure that the code is perfectly fine.</p>\n<p>Is this the right way to build the <code>testInput</code>? Any other alternative way to build <code>testInput</code> so that it can be correctly mapped to <code>Request</code> class when testing?</p>\n"},{"tags":["java","android","zxing"],"comments":[{"owner":{"account_id":1195619,"reputation":3630,"user_id":1167428,"accept_rate":93,"display_name":"lupz"},"score":0,"creation_date":1536848858,"post_id":49309732,"comment_id":91579113,"body_markdown":"Same question on my end... have you found a solution? A member variable for the activity would be a workaround but I really don&#39;t like it.","body":"Same question on my end... have you found a solution? A member variable for the activity would be a workaround but I really don&#39;t like it."},{"owner":{"account_id":294552,"reputation":34861,"user_id":598511,"accept_rate":91,"display_name":"Johan"},"score":1,"creation_date":1536849802,"post_id":49309732,"comment_id":91579769,"body_markdown":"@lupz No other solution that the one you mention I&#39;m afraid. Please let me know if you figure it out :)","body":"@lupz No other solution that the one you mention I&#39;m afraid. Please let me know if you figure it out :)"},{"owner":{"account_id":1195619,"reputation":3630,"user_id":1167428,"accept_rate":93,"display_name":"lupz"},"score":1,"creation_date":1536851084,"post_id":49309732,"comment_id":91580592,"body_markdown":"Thanks for the quick response! I&#39;ll stick with the member variable :( ... hm ... it shouldn&#39;t be to hard to add/implement a pass-through extra-key to xzing...","body":"Thanks for the quick response! I&#39;ll stick with the member variable :( ... hm ... it shouldn&#39;t be to hard to add/implement a pass-through extra-key to xzing..."}],"answers":[{"tags":[],"owner":{"account_id":26769462,"reputation":1,"user_id":20366100,"display_name":"tuxic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667052380,"creation_date":1667052380,"answer_id":74245973,"question_id":49309732,"body_markdown":"Someone on [reddit](https://www.reddit.com/r/androiddev/comments/ygg7ta/who_called_activityresultlauncherlaunch/?sort=new) told me to create a custom contract. That did the trick (but is not thread safe!):\r\n\r\n\r\n```java\r\npublic class ScanContract extends com.journeyapps.barcodescanner.ScanContract {\r\n\r\n    private String scope;\r\n\r\n    public void setScope(String scope) {\r\n        this.scope = scope;\r\n    }\r\n\r\n    @Override\r\n    public ScanIntentResult parseResult(int resultCode, @Nullable Intent intent) {\r\n        ScanIntentResult scanIntentResult = super.parseResult(resultCode, intent);\r\n        scanIntentResult.getOriginalIntent().putExtra(&quot;foo&quot;, scope);\r\n        scope = null;\r\n        return scanIntentResult;\r\n    }\r\n}\r\n```\r\n\r\nthe launch call:\r\n```java\r\n((ScanContract)barcodeLauncher.getContract()).setScope(&quot;bar&quot;);\r\n```\r\n\r\nreceiving the scope:\r\n\r\n```java\r\nString foo = result.getOriginalIntent().getStringExtra(&quot;foo&quot;);\r\n```\r\n\r\nOf course, this only(!) works if you don&#39;t launch the activity multiple times at the same time, as the Contract object is only instanciated once!\r\n\r\nOh, and also I am using the new API for getting activity results :)","title":"Pass extra data with zxing scanning intent","body":"<p>Someone on <a href=\"https://www.reddit.com/r/androiddev/comments/ygg7ta/who_called_activityresultlauncherlaunch/?sort=new\" rel=\"nofollow noreferrer\">reddit</a> told me to create a custom contract. That did the trick (but is not thread safe!):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ScanContract extends com.journeyapps.barcodescanner.ScanContract {\n\n    private String scope;\n\n    public void setScope(String scope) {\n        this.scope = scope;\n    }\n\n    @Override\n    public ScanIntentResult parseResult(int resultCode, @Nullable Intent intent) {\n        ScanIntentResult scanIntentResult = super.parseResult(resultCode, intent);\n        scanIntentResult.getOriginalIntent().putExtra(&quot;foo&quot;, scope);\n        scope = null;\n        return scanIntentResult;\n    }\n}\n</code></pre>\n<p>the launch call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>((ScanContract)barcodeLauncher.getContract()).setScope(&quot;bar&quot;);\n</code></pre>\n<p>receiving the scope:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String foo = result.getOriginalIntent().getStringExtra(&quot;foo&quot;);\n</code></pre>\n<p>Of course, this only(!) works if you don't launch the activity multiple times at the same time, as the Contract object is only instanciated once!</p>\n<p>Oh, and also I am using the new API for getting activity results :)</p>\n"}],"owner":{"account_id":294552,"reputation":34861,"user_id":598511,"accept_rate":91,"display_name":"Johan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1106,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1667052380,"creation_date":1521150172,"question_id":49309732,"body_markdown":"I&#39;m integrating a barcode scanner using https://github.com/zxing. I would like to pass some additional data - `uuid` below - along with the barcode.\r\n\r\nBoth `uuid1` and `uuid2` below yields `null`. WHat am I missing?\r\n\r\n    public void startScanner(String uuid){\r\n        IntentIntegrator integrator = new IntentIntegrator(this);\r\n\r\n        integrator.setDesiredBarcodeFormats(IntentIntegrator.PRODUCT_CODE_TYPES);\r\n        integrator.setPrompt(&quot;&quot;);\r\n        integrator.setCameraId(0);\r\n        integrator.setBeepEnabled(false);\r\n\r\n        Intent intent = integrator.createScanIntent();\r\n        intent.putExtra(&quot;uuid&quot;, uuid);\r\n\r\n        startActivityForResult(intent, IntentIntegrator.REQUEST_CODE);\r\n    }\r\n\r\n    public void onActivityResult(int requestCode, int resultCode, Intent intent) \r\n    {\r\n        IntentResult scanResult = IntentIntegrator.parseActivityResult(requestCode, resultCode, intent);\r\n        if (scanResult != null) {\r\n            String code = scanResult.getContents();\r\n            JSONObject json = new JSONObject();\r\n            try {\r\n                String uuid1 = intent.getStringExtra(&quot;uuid&quot;);\r\n                String uuid2 = intent.getExtras().getString(&quot;uuid&quot;);\r\n\r\n                json.put(&quot;uuid&quot;, uuid1);\r\n                json.put(&quot;barCode&quot;, code);\r\n                this.webViewManager.runScript(&quot;startScannerCallback&quot;, json);\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"Pass extra data with zxing scanning intent","body":"<p>I'm integrating a barcode scanner using <a href=\"https://github.com/zxing\" rel=\"nofollow noreferrer\">https://github.com/zxing</a>. I would like to pass some additional data - <code>uuid</code> below - along with the barcode.</p>\n\n<p>Both <code>uuid1</code> and <code>uuid2</code> below yields <code>null</code>. WHat am I missing?</p>\n\n<pre><code>public void startScanner(String uuid){\n    IntentIntegrator integrator = new IntentIntegrator(this);\n\n    integrator.setDesiredBarcodeFormats(IntentIntegrator.PRODUCT_CODE_TYPES);\n    integrator.setPrompt(\"\");\n    integrator.setCameraId(0);\n    integrator.setBeepEnabled(false);\n\n    Intent intent = integrator.createScanIntent();\n    intent.putExtra(\"uuid\", uuid);\n\n    startActivityForResult(intent, IntentIntegrator.REQUEST_CODE);\n}\n\npublic void onActivityResult(int requestCode, int resultCode, Intent intent) \n{\n    IntentResult scanResult = IntentIntegrator.parseActivityResult(requestCode, resultCode, intent);\n    if (scanResult != null) {\n        String code = scanResult.getContents();\n        JSONObject json = new JSONObject();\n        try {\n            String uuid1 = intent.getStringExtra(\"uuid\");\n            String uuid2 = intent.getExtras().getString(\"uuid\");\n\n            json.put(\"uuid\", uuid1);\n            json.put(\"barCode\", code);\n            this.webViewManager.runScript(\"startScannerCallback\", json);\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","mockmvc"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1667048700,"post_id":74245300,"comment_id":131081033,"body_markdown":"Probably you have another (non-delete) mapping on `/api/wallet/`!(?) (..&quot;empty path variable&quot; is really not cool/corner-case..i would live with the 500/try to convert to something customized (e.g. by introducing `@DeleteMapping(&quot;&quot;)` ... which returns 400-404;)","body":"Probably you have another (non-delete) mapping on <code>&#47;api&#47;wallet&#47;</code>!(?) (..&quot;empty path variable&quot; is really not cool/corner-case..i would live with the 500/try to convert to something customized (e.g. by introducing <code>@DeleteMapping(&quot;&quot;)</code> ... which returns 400-404;)"}],"answers":[{"tags":[],"owner":{"account_id":8565960,"reputation":1060,"user_id":6418426,"display_name":"Andreas Siegel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667052355,"creation_date":1667052355,"answer_id":74245969,"question_id":74245300,"body_markdown":"The request path you are using in your test looks incorrect:\r\n\r\nYou should keep the URL template: `delete(&quot;/api/wallet/{id}&quot;, id)`\r\n`{id}` represents the &quot;placeholder&quot; where `id` will be inserted in the URL.\r\n\r\nSo, if you want to test a URL like `/api/wallet/0` you would just set `id` to `0`.\r\n\r\nThat should work with your test.\r\n\r\nTesting the &quot;empty&quot; ID is a different story:\r\n\r\nIf you pass an empty String to `{id}`, you are obviously calling `/api/wallet/` in the end. That&#39;s a different endpoint. Assuming that it might exist in your application, for instance as `GET /api/wallet`, the 500 Internal Server Error would be the expected response. Otherwise, it could also be 404 Not Found.","title":"Spring MockMvc - How to test delete request with empty ID of REST controller?","body":"<p>The request path you are using in your test looks incorrect:</p>\n<p>You should keep the URL template: <code>delete(&quot;/api/wallet/{id}&quot;, id)</code>\n<code>{id}</code> represents the &quot;placeholder&quot; where <code>id</code> will be inserted in the URL.</p>\n<p>So, if you want to test a URL like <code>/api/wallet/0</code> you would just set <code>id</code> to <code>0</code>.</p>\n<p>That should work with your test.</p>\n<p>Testing the &quot;empty&quot; ID is a different story:</p>\n<p>If you pass an empty String to <code>{id}</code>, you are obviously calling <code>/api/wallet/</code> in the end. That's a different endpoint. Assuming that it might exist in your application, for instance as <code>GET /api/wallet</code>, the 500 Internal Server Error would be the expected response. Otherwise, it could also be 404 Not Found.</p>\n"}],"owner":{"account_id":20338310,"reputation":21,"user_id":14918396,"display_name":"RobertoJavaDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667052355,"creation_date":1667046825,"question_id":74245300,"body_markdown":"I test my controller methods and I have a problem with a delete method. Here is my controller code:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;api/wallet&quot;)\r\n@RequiredArgsConstructor\r\n@Validated\r\npublic class WalletController {\r\n\r\n    private final WalletService walletService;\r\n\r\n@DeleteMapping(&quot;/{id}&quot;)\r\npublic ResponseEntity&lt;WalletDTO&gt; deleteWalletById(@Valid @Min(1) @PathVariable Long id) {\r\n    walletService.deleteWalletById(id);\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.add(&quot;message&quot;, &quot;You have successfully completed the delete of a Wallet!&quot;);\r\n\r\n    return new ResponseEntity&lt;&gt;(headers, HttpStatus.OK);\r\n}\r\n\r\n```\r\nAnd my test:\r\n\r\n```\r\n@MockBean\r\nprivate WalletService walletService;\r\n\r\n@Autowired\r\nprivate MockMvc mockMvc;\r\n\r\n@Autowired\r\nprivate ObjectMapper objectMapper;\r\n\r\n@Test\r\nvoid shouldThrowAnExceptionWhenWalletIdIsEmpty() throws Exception {\r\n    //given\r\n    WalletDTO walletDTO = new WalletDTO(1L, &quot;Default&quot;, Instant.now());\r\n    String id = &quot;&quot;;\r\n\r\n    //when\r\n    ResultActions result = mockMvc.perform(delete(&quot;/api/wallet/{}&quot;,id)\r\n            .contentType(MediaType.APPLICATION_JSON)\r\n            .content(Objects.requireNonNull(objectMapper.writeValueAsString(walletDTO))));\r\n\r\n    //then\r\n    result.andExpect(status().isBadRequest());\r\n}\r\n```\r\nAnd I get status code 500 - Request method &#39;DELETE&#39; not supported.\r\nIn console log I get:\r\n```\r\norg.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;DELETE&#39; not supported\r\n\tat org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.handleNoMatch(RequestMappingInfoHandlerMapping.java:253)\r\n\tat org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lookupHandlerMethod(AbstractHandlerMethodMapping.java:442)\r\n\tat org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:383)\r\n\tat org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:125)\r\n\tat org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:67)\r\n\tat org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:498)\r\n\tat org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1261)\r\n\tat org.springframework.test.web.servlet.TestDispatcherServlet.getHandler(TestDispatcherServlet.java:122)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1043)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:931)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n```\r\n\r\n\r\nCan you tell me how to fix it?\r\nI would like to test delete method with the passing of the ID parameter in cases where:\r\n- ID is empty\r\n- ID is equals zero","title":"Spring MockMvc - How to test delete request with empty ID of REST controller?","body":"<p>I test my controller methods and I have a problem with a delete method. Here is my controller code:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;api/wallet&quot;)\n@RequiredArgsConstructor\n@Validated\npublic class WalletController {\n\n    private final WalletService walletService;\n\n@DeleteMapping(&quot;/{id}&quot;)\npublic ResponseEntity&lt;WalletDTO&gt; deleteWalletById(@Valid @Min(1) @PathVariable Long id) {\n    walletService.deleteWalletById(id);\n    HttpHeaders headers = new HttpHeaders();\n    headers.add(&quot;message&quot;, &quot;You have successfully completed the delete of a Wallet!&quot;);\n\n    return new ResponseEntity&lt;&gt;(headers, HttpStatus.OK);\n}\n\n</code></pre>\n<p>And my test:</p>\n<pre><code>@MockBean\nprivate WalletService walletService;\n\n@Autowired\nprivate MockMvc mockMvc;\n\n@Autowired\nprivate ObjectMapper objectMapper;\n\n@Test\nvoid shouldThrowAnExceptionWhenWalletIdIsEmpty() throws Exception {\n    //given\n    WalletDTO walletDTO = new WalletDTO(1L, &quot;Default&quot;, Instant.now());\n    String id = &quot;&quot;;\n\n    //when\n    ResultActions result = mockMvc.perform(delete(&quot;/api/wallet/{}&quot;,id)\n            .contentType(MediaType.APPLICATION_JSON)\n            .content(Objects.requireNonNull(objectMapper.writeValueAsString(walletDTO))));\n\n    //then\n    result.andExpect(status().isBadRequest());\n}\n</code></pre>\n<p>And I get status code 500 - Request method 'DELETE' not supported.\nIn console log I get:</p>\n<pre><code>org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' not supported\n    at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.handleNoMatch(RequestMappingInfoHandlerMapping.java:253)\n    at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lookupHandlerMethod(AbstractHandlerMethodMapping.java:442)\n    at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:383)\n    at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:125)\n    at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:67)\n    at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:498)\n    at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1261)\n    at org.springframework.test.web.servlet.TestDispatcherServlet.getHandler(TestDispatcherServlet.java:122)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1043)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:931)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n</code></pre>\n<p>Can you tell me how to fix it?\nI would like to test delete method with the passing of the ID parameter in cases where:</p>\n<ul>\n<li>ID is empty</li>\n<li>ID is equals zero</li>\n</ul>\n"},{"tags":["java","android","android-studio","android-fragments","button"],"answers":[{"tags":[],"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667052128,"creation_date":1667052128,"answer_id":74245949,"question_id":74245890,"body_markdown":"It&#39;s because you are setting the `onClickListener` on a View that you throw away.\r\n\r\nHere is the binding (pay attetion to the `root`):\r\n\r\n    binding = FragmentWeightBinding.inflate(inflater, container, false);\r\n    View root = binding.getRoot();\r\n\r\nbut you are setting the listener on a button that is in:\r\n\r\n    View view = inflater.inflate(R.layout.fragment_weight, container, false);\r\n    addBtn = view.findViewById(R.id.addBtn);\r\n    addBtn.setOnClickListener(...);\r\n\r\nand at the end you `return root;`\r\n\r\nThe view that has the onClick listener is there, you create it but in the end it&#39;s thrown away.\r\n\r\nJust replace `view` with `binding` and it will work.\r\n\r\n    public View onCreateView(\r\n        @NonNull LayoutInflater inflater,\r\n        ViewGroup container, \r\n        Bundle savedInstanceState\r\n    ) {\r\n        WeightViewModel weightViewModel = new ViewModelProvider(this).get(WeightViewModel.class);\r\n\r\n        binding = FragmentWeightBinding.inflate(inflater, container, false);\r\n        View root = binding.getRoot();\r\n        addBtn = binding.addBtn;\r\n        edtNumber = binding.edtNumber;\r\n        String weight = String.valueOf(edtNumber.getText());\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;&#39;Date\\n&#39;dd-MM-yyyy HH:mm:ss&quot;);\r\n        String currentDateAndTime = sdf.format(new Date());\r\n\r\n        addBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Toast.makeText(getActivity(),weight + currentDateAndTime, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        final TextView textView = binding.txtDate;\r\n        weightViewModel.getText().observe(getViewLifecycleOwner(), textView::setText);\r\n        return root;\r\n    }","title":"Android Studio Button onClick listener in Fragment","body":"<p>It's because you are setting the <code>onClickListener</code> on a View that you throw away.</p>\n<p>Here is the binding (pay attetion to the <code>root</code>):</p>\n<pre><code>binding = FragmentWeightBinding.inflate(inflater, container, false);\nView root = binding.getRoot();\n</code></pre>\n<p>but you are setting the listener on a button that is in:</p>\n<pre><code>View view = inflater.inflate(R.layout.fragment_weight, container, false);\naddBtn = view.findViewById(R.id.addBtn);\naddBtn.setOnClickListener(...);\n</code></pre>\n<p>and at the end you <code>return root;</code></p>\n<p>The view that has the onClick listener is there, you create it but in the end it's thrown away.</p>\n<p>Just replace <code>view</code> with <code>binding</code> and it will work.</p>\n<pre><code>public View onCreateView(\n    @NonNull LayoutInflater inflater,\n    ViewGroup container, \n    Bundle savedInstanceState\n) {\n    WeightViewModel weightViewModel = new ViewModelProvider(this).get(WeightViewModel.class);\n\n    binding = FragmentWeightBinding.inflate(inflater, container, false);\n    View root = binding.getRoot();\n    addBtn = binding.addBtn;\n    edtNumber = binding.edtNumber;\n    String weight = String.valueOf(edtNumber.getText());\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;'Date\\n'dd-MM-yyyy HH:mm:ss&quot;);\n    String currentDateAndTime = sdf.format(new Date());\n\n    addBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Toast.makeText(getActivity(),weight + currentDateAndTime, Toast.LENGTH_SHORT).show();\n        }\n    });\n\n    final TextView textView = binding.txtDate;\n    weightViewModel.getText().observe(getViewLifecycleOwner(), textView::setText);\n    return root;\n}\n</code></pre>\n"}],"owner":{"account_id":23488890,"reputation":23,"user_id":17540139,"display_name":"netti169"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":771,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74245949,"answer_count":1,"score":0,"last_activity_date":1667052128,"creation_date":1667051541,"question_id":74245890,"body_markdown":"I&#39;m a newbie and i tried to learn the navigation drawer.\r\nI want to set a onClick listener on a button in Fragment but when i run the App, the button do nothing.\r\n\r\nthis is WeightFragment.java:\r\n`\r\n```\r\npublic class WeightFragment extends Fragment {\r\n\r\n    private FragmentWeightBinding binding;\r\n    private EditText edtNumber;\r\n    private Button addBtn;\r\n\r\n    public View onCreateView(@NonNull LayoutInflater inflater,\r\n                             ViewGroup container, Bundle savedInstanceState) {\r\n        WeightViewModel weightViewModel =\r\n                new ViewModelProvider(this).get(WeightViewModel.class);\r\n\r\n        binding = FragmentWeightBinding.inflate(inflater, container, false);\r\n        View root = binding.getRoot();\r\n\r\n        View view = inflater.inflate(R.layout.fragment_weight, container, false);\r\n        addBtn = view.findViewById(R.id.addBtn);\r\n        edtNumber = view.findViewById(R.id.edtNumber);\r\n        String weight = String.valueOf(edtNumber.getText());\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;&#39;Date\\n&#39;dd-MM-yyyy HH:mm:ss&quot;);\r\n        String currentDateAndTime = sdf.format(new Date());\r\n\r\n        addBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Toast.makeText(getActivity(),weight + currentDateAndTime, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        final TextView textView = binding.txtDate;\r\n        weightViewModel.getText().observe(getViewLifecycleOwner(), textView::setText);\r\n        return root;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n        binding = null;\r\n    }\r\n}\r\n\r\n```\r\n\r\nI&#39;ve tried with:\r\n\r\n```\r\npublic class WeightFragment extends Fragment implements View.OnClickListener\r\n```\r\n\r\nand implement the method but it doesn&#39;t work anyway.\r\n","title":"Android Studio Button onClick listener in Fragment","body":"<p>I'm a newbie and i tried to learn the navigation drawer.\nI want to set a onClick listener on a button in Fragment but when i run the App, the button do nothing.</p>\n<p>this is WeightFragment.java:\n`</p>\n<pre><code>public class WeightFragment extends Fragment {\n\n    private FragmentWeightBinding binding;\n    private EditText edtNumber;\n    private Button addBtn;\n\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n        WeightViewModel weightViewModel =\n                new ViewModelProvider(this).get(WeightViewModel.class);\n\n        binding = FragmentWeightBinding.inflate(inflater, container, false);\n        View root = binding.getRoot();\n\n        View view = inflater.inflate(R.layout.fragment_weight, container, false);\n        addBtn = view.findViewById(R.id.addBtn);\n        edtNumber = view.findViewById(R.id.edtNumber);\n        String weight = String.valueOf(edtNumber.getText());\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;'Date\\n'dd-MM-yyyy HH:mm:ss&quot;);\n        String currentDateAndTime = sdf.format(new Date());\n\n        addBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Toast.makeText(getActivity(),weight + currentDateAndTime, Toast.LENGTH_SHORT).show();\n            }\n        });\n\n        final TextView textView = binding.txtDate;\n        weightViewModel.getText().observe(getViewLifecycleOwner(), textView::setText);\n        return root;\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        binding = null;\n    }\n}\n\n</code></pre>\n<p>I've tried with:</p>\n<pre><code>public class WeightFragment extends Fragment implements View.OnClickListener\n</code></pre>\n<p>and implement the method but it doesn't work anyway.</p>\n"},{"tags":["java","protocol-buffers","grpc","grpc-java"],"comments":[{"owner":{"account_id":13135685,"reputation":91,"user_id":9488752,"display_name":"mtSiniChi"},"score":0,"creation_date":1586594437,"post_id":61133529,"comment_id":108187074,"body_markdown":"https://stackoverflow.com/questions/18836727/protocol-buffer-objects-generated-at-runtime","body":"<a href=\"https://stackoverflow.com/questions/18836727/protocol-buffer-objects-generated-at-runtime\" title=\"protocol buffer objects generated at runtime\">stackoverflow.com/questions/18836727/&hellip;</a>"},{"owner":{"account_id":13135685,"reputation":91,"user_id":9488752,"display_name":"mtSiniChi"},"score":0,"creation_date":1586596033,"post_id":61133529,"comment_id":108187522,"body_markdown":"https://groups.google.com/d/msg/protobuf/bWlJaaMmx4Q/kIYJ1-5YRb0J","body":"<a href=\"https://groups.google.com/d/msg/protobuf/bWlJaaMmx4Q/kIYJ1-5YRb0J\" rel=\"nofollow noreferrer\">groups.google.com/d/msg/protobuf/bWlJaaMmx4Q/kIYJ1-5YRb0J</a>"},{"owner":{"account_id":13135685,"reputation":91,"user_id":9488752,"display_name":"mtSiniChi"},"score":0,"creation_date":1586792597,"post_id":61133529,"comment_id":108251193,"body_markdown":"https://stackoverflow.com/q/52368593/9488752","body":"<a href=\"https://stackoverflow.com/q/52368593/9488752\">stackoverflow.com/q/52368593/9488752</a>"}],"answers":[{"tags":[],"owner":{"account_id":14706775,"reputation":748,"user_id":10621243,"display_name":"creamsoup"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586498947,"creation_date":1586498947,"answer_id":61134896,"question_id":61133529,"body_markdown":"technically both are possible. \r\n\r\nThe codegen is simply generating a handful of classes; mainly protobuf messages, grpc method descriptors and stubs. You can implement it or check in the generated code to bypass the codegen. i am not sure what is the benefit of doing this tbh. Also, it will be very annoying if the proto is changed.\r\n\r\nIt is also possible to do it dynamically using byte codegen as long as you check-in some interfaces/abstract classes to represent those generated stub/method descriptors and protobuf messages. you have to make sure those non dynamic code is in sync with the proto definition though (most likely runtime check/exception).\r\n","title":"How to create GRPC client directly from protobuf without compiling it into java code","body":"<p>technically both are possible. </p>\n\n<p>The codegen is simply generating a handful of classes; mainly protobuf messages, grpc method descriptors and stubs. You can implement it or check in the generated code to bypass the codegen. i am not sure what is the benefit of doing this tbh. Also, it will be very annoying if the proto is changed.</p>\n\n<p>It is also possible to do it dynamically using byte codegen as long as you check-in some interfaces/abstract classes to represent those generated stub/method descriptors and protobuf messages. you have to make sure those non dynamic code is in sync with the proto definition though (most likely runtime check/exception).</p>\n"},{"tags":[],"owner":{"account_id":11975,"reputation":1033912,"user_id":23354,"accept_rate":100,"display_name":"Marc Gravell"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586506241,"creation_date":1586506241,"answer_id":61136354,"question_id":61133529,"body_markdown":"There isn&#39;t much to prevent this *technically*. The two big hurdles are:\r\n\r\n1. having a runtime-callable parser for reading the .proto, and\r\n2. having a general purpose gRPC client available that takes things like the service method name as literals\r\n\r\nBoth are possible, but neither is trivial.\r\n\r\nFor 1, the crude way would be to shell/invoke `protoc` using the descriptor-set option to generate a schema binary, then deserialize that as a `FileDescriptorSet` (from descriptor.proto); this model gives you access to how `protoc` sees the file. Some platforms also have native parsers (essentially reimplementing `protoc` as a library in that platform), for example [protobuf-net.Reflection](https://www.nuget.org/packages/protobuf-net.Reflection/) does this in .NET-land\r\n\r\nFor 2, [here&#39;s an implementation of that in C#](https://github.com/protobuf-net/protobuf-net.Grpc/blob/master/src/protobuf-net.Grpc/Client/GrpcClient.cs). The approach should be fairly portable to Java, even if the details vary. You can look at a generated implementation to see how it works in any particular language.\r\n\r\n(Sorry that the specific examples are C#/.NET, but that&#39;s where I live; the *approaches* should be portable, even if the specific code: not directly)","title":"How to create GRPC client directly from protobuf without compiling it into java code","body":"<p>There isn't much to prevent this <em>technically</em>. The two big hurdles are:</p>\n\n<ol>\n<li>having a runtime-callable parser for reading the .proto, and</li>\n<li>having a general purpose gRPC client available that takes things like the service method name as literals</li>\n</ol>\n\n<p>Both are possible, but neither is trivial.</p>\n\n<p>For 1, the crude way would be to shell/invoke <code>protoc</code> using the descriptor-set option to generate a schema binary, then deserialize that as a <code>FileDescriptorSet</code> (from descriptor.proto); this model gives you access to how <code>protoc</code> sees the file. Some platforms also have native parsers (essentially reimplementing <code>protoc</code> as a library in that platform), for example <a href=\"https://www.nuget.org/packages/protobuf-net.Reflection/\" rel=\"nofollow noreferrer\">protobuf-net.Reflection</a> does this in .NET-land</p>\n\n<p>For 2, <a href=\"https://github.com/protobuf-net/protobuf-net.Grpc/blob/master/src/protobuf-net.Grpc/Client/GrpcClient.cs\" rel=\"nofollow noreferrer\">here's an implementation of that in C#</a>. The approach should be fairly portable to Java, even if the details vary. You can look at a generated implementation to see how it works in any particular language.</p>\n\n<p>(Sorry that the specific examples are C#/.NET, but that's where I live; the <em>approaches</em> should be portable, even if the specific code: not directly)</p>\n"},{"comments":[{"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"score":0,"creation_date":1660925724,"post_id":61144510,"comment_id":129656842,"body_markdown":"you should be able to determine the method type using the isServerStreaming isClientStreaming","body":"you should be able to determine the method type using the isServerStreaming isClientStreaming"},{"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"score":0,"creation_date":1660925737,"post_id":61144510,"comment_id":129656849,"body_markdown":"Why is buildPartial needed?  What about getDefaultInstance?              .setResponseMarshaller(\n                ProtoLiteUtils.marshaller(\n                    DynamicMessage.getDefaultInstance(\n                        methodDescriptorFromProtobuf.getOutputType())))","body":"Why is buildPartial needed?  What about getDefaultInstance?              .setResponseMarshaller(                 ProtoLiteUtils.marshaller(                     DynamicMessage.getDefaultInstance(                         methodDescriptorFromProtobuf.getOutputType())))"},{"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"score":1,"creation_date":1660936267,"post_id":61144510,"comment_id":129659753,"body_markdown":"I think buildPartial() and getDefaultInstance() would have the same behavior. (The message contents itself would be ignored.) I think I just didn&#39;t see the getDefaultInstance() method. I&#39;ve updated the answer. ProtoLiteUtils vs ProtoUtils has the same behavior today, as ProtoUtils calls ProtoLiteUtils, but sometimes we can have special features for the fuller protobuf.","body":"I think buildPartial() and getDefaultInstance() would have the same behavior. (The message contents itself would be ignored.) I think I just didn&#39;t see the getDefaultInstance() method. I&#39;ve updated the answer. ProtoLiteUtils vs ProtoUtils has the same behavior today, as ProtoUtils calls ProtoLiteUtils, but sometimes we can have special features for the fuller protobuf."},{"owner":{"account_id":2896739,"reputation":3231,"user_id":2484327,"accept_rate":35,"display_name":"Ritt"},"score":0,"creation_date":1677421649,"post_id":61144510,"comment_id":133330524,"body_markdown":"I was wondering if protoc can be executed from code without relying on user&#39;s machine to have protc compiler installed.","body":"I was wondering if protoc can be executed from code without relying on user&#39;s machine to have protc compiler installed."},{"owner":{"account_id":2896739,"reputation":3231,"user_id":2484327,"accept_rate":35,"display_name":"Ritt"},"score":0,"creation_date":1677421720,"post_id":61144510,"comment_id":133330539,"body_markdown":"I have a working code, which gets the fileDescriptorSet, converts to dynamic message and gives me a json. But, it needs protoc compiler to be installed on user&#39;s machine.","body":"I have a working code, which gets the fileDescriptorSet, converts to dynamic message and gives me a json. But, it needs protoc compiler to be installed on user&#39;s machine."}],"tags":[],"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"comment_count":5,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1660940208,"creation_date":1586536164,"answer_id":61144510,"question_id":61133529,"body_markdown":"Protobuf systems really need protoc to be run. However, the generated code could be skipped. Instead of passing something like `--java_out` and `--grpc_java_out` to protoc you can pass `--descriptor_set_out=FILE` which will parse the `.proto` file into a _descriptor_ file. A descriptor file is a [proto-encoded `FileDescriptorSet`](https://github.com/protocolbuffers/protobuf/blob/3be9322e28dfcacdb669f646f76fe833fa274107/src/google/protobuf/descriptor.proto#L57). This is the same basic format as used with the reflection service.\r\n\r\nOnce you have a descriptor, you can [load it a FileDescriptor at a time](https://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/Descriptors.FileDescriptor.html#buildFrom-com.google.protobuf.DescriptorProtos.FileDescriptorProto-com.google.protobuf.Descriptors.FileDescriptor:A-) and [create a DynamicMessage](https://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/DynamicMessage.html#getDefaultInstance-com.google.protobuf.Descriptors.Descriptor-).\r\n\r\nThen for the gRPC piece, you need to create a gRPC MethodDescriptor. \r\n\r\n```java\r\nstatic MethodDescriptor from(\r\n  Descriptors.MethodDescriptor methodDesc\r\n) {\r\n  return MethodDescriptor.&lt;DynamicMessage, DynamicMessage&gt;newBuilder()\r\n    // UNKNOWN is fine, but the &quot;correct&quot; value can be computed from\r\n    // methodDesc.toProto().getClientStreaming()/getServerStreaming()\r\n    .setType(getMethodTypeFromDesc(methodDesc))\r\n    .setFullMethodName(MethodDescriptor.generateFullMethodName(\r\n        serviceDesc.getFullName(), methodDesc.getName()))\r\n    .setRequestMarshaller(ProtoUtils.marshaller(\r\n        DynamicMessage.getDefaultInstance(methodDesc.getInputType())))\r\n    .setResponseMarshaller(ProtoUtils.marshaller(\r\n        DynamicMessage.getDefaultInstance(methodDesc.getOutputType())))\r\n    .build();\r\n\r\nstatic MethodDescriptor.MethodType getMethodTypeFromDesc(\r\n  Descriptors.MethodDescriptor methodDesc\r\n) {\r\n  if (!methodDesc.isServerStreaming()\r\n    &amp;&amp; !methodDesc.isClientStreaming()) {\r\n    return MethodDescriptor.MethodType.UNARY;\r\n  } else if (methodDesc.isServerStreaming()\r\n        &amp;&amp; !methodDesc.isClientStreaming()) {\r\n    return MethodDescriptor.MethodType.SERVER_STREAMING;\r\n  } else if (!methodDesc.isServerStreaming()) {\r\n    return MethodDescriptor.MethodType.CLIENT_STREAMING);\r\n  } else {\r\n    return MethodDescriptor.MethodType.BIDI_STREAMING);\r\n  }\r\n}\r\n```\r\n\r\nAt that point you have everything you need and can call [`Channel.newCall(method, CallOptions.DEFAULT)`](https://grpc.github.io/grpc-java/javadoc/io/grpc/Channel.html#newCall-io.grpc.MethodDescriptor-io.grpc.CallOptions-) in gRPC. You&#39;re also free to use [`ClientCalls`](https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/ClientCalls.html) to use something more similar to the stub APIs.\r\n\r\nSo dynamic calls are definitely possible, and is used for things like [grpcurl](https://github.com/fullstorydev/grpcurl). But it also is not easy and so is generally only done when necessary.","title":"How to create GRPC client directly from protobuf without compiling it into java code","body":"<p>Protobuf systems really need protoc to be run. However, the generated code could be skipped. Instead of passing something like <code>--java_out</code> and <code>--grpc_java_out</code> to protoc you can pass <code>--descriptor_set_out=FILE</code> which will parse the <code>.proto</code> file into a <em>descriptor</em> file. A descriptor file is a <a href=\"https://github.com/protocolbuffers/protobuf/blob/3be9322e28dfcacdb669f646f76fe833fa274107/src/google/protobuf/descriptor.proto#L57\" rel=\"noreferrer\">proto-encoded <code>FileDescriptorSet</code></a>. This is the same basic format as used with the reflection service.</p>\n<p>Once you have a descriptor, you can <a href=\"https://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/Descriptors.FileDescriptor.html#buildFrom-com.google.protobuf.DescriptorProtos.FileDescriptorProto-com.google.protobuf.Descriptors.FileDescriptor:A-\" rel=\"noreferrer\">load it a FileDescriptor at a time</a> and <a href=\"https://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/DynamicMessage.html#getDefaultInstance-com.google.protobuf.Descriptors.Descriptor-\" rel=\"noreferrer\">create a DynamicMessage</a>.</p>\n<p>Then for the gRPC piece, you need to create a gRPC MethodDescriptor.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static MethodDescriptor from(\n  Descriptors.MethodDescriptor methodDesc\n) {\n  return MethodDescriptor.&lt;DynamicMessage, DynamicMessage&gt;newBuilder()\n    // UNKNOWN is fine, but the &quot;correct&quot; value can be computed from\n    // methodDesc.toProto().getClientStreaming()/getServerStreaming()\n    .setType(getMethodTypeFromDesc(methodDesc))\n    .setFullMethodName(MethodDescriptor.generateFullMethodName(\n        serviceDesc.getFullName(), methodDesc.getName()))\n    .setRequestMarshaller(ProtoUtils.marshaller(\n        DynamicMessage.getDefaultInstance(methodDesc.getInputType())))\n    .setResponseMarshaller(ProtoUtils.marshaller(\n        DynamicMessage.getDefaultInstance(methodDesc.getOutputType())))\n    .build();\n\nstatic MethodDescriptor.MethodType getMethodTypeFromDesc(\n  Descriptors.MethodDescriptor methodDesc\n) {\n  if (!methodDesc.isServerStreaming()\n    &amp;&amp; !methodDesc.isClientStreaming()) {\n    return MethodDescriptor.MethodType.UNARY;\n  } else if (methodDesc.isServerStreaming()\n        &amp;&amp; !methodDesc.isClientStreaming()) {\n    return MethodDescriptor.MethodType.SERVER_STREAMING;\n  } else if (!methodDesc.isServerStreaming()) {\n    return MethodDescriptor.MethodType.CLIENT_STREAMING);\n  } else {\n    return MethodDescriptor.MethodType.BIDI_STREAMING);\n  }\n}\n</code></pre>\n<p>At that point you have everything you need and can call <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/Channel.html#newCall-io.grpc.MethodDescriptor-io.grpc.CallOptions-\" rel=\"noreferrer\"><code>Channel.newCall(method, CallOptions.DEFAULT)</code></a> in gRPC. You're also free to use <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/ClientCalls.html\" rel=\"noreferrer\"><code>ClientCalls</code></a> to use something more similar to the stub APIs.</p>\n<p>So dynamic calls are definitely possible, and is used for things like <a href=\"https://github.com/fullstorydev/grpcurl\" rel=\"noreferrer\">grpcurl</a>. But it also is not easy and so is generally only done when necessary.</p>\n"},{"tags":[],"owner":{"account_id":8368684,"reputation":747,"user_id":8360923,"display_name":"HelloWood"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1610185837,"creation_date":1610185837,"answer_id":65641262,"question_id":61133529,"body_markdown":"I did it in Java, and the step is: \r\n1. Call reflection service to get `FileDescriptorProto` list by method name\r\n2. Get `FileDescriptor` of method from `FileDescriptorProto` list by package name, service name\r\n3. Get `MethodDescriptor` from `ServiceDescriptor` which get from the `FileDescriptor`\r\n4. Generate a `MethodDescriptor&lt;DynamicMessage, DynamicMessage&gt;` by `MethodDescriptor`\r\n5. Build request `DynamicMessage` from content like JSON or others\r\n6. Call method \r\n7. Parse response content to JSON from `DynamicMessage` response\r\n\r\nYou can reference the full sample in project [helloworlde/grpc-java-sample#reflection](https://github.com/helloworlde/grpc-java-sample/blob/main/reflection/src/main/java/io/github/helloworlde/grpc/ReflectionCall.java)\r\n\r\n--- \r\n\r\nAnd proto is:\r\n\r\n```protobuf\r\nsyntax = &quot;proto3&quot;;\r\n\r\npackage io.github.helloworlde.grpc;\r\n\r\noption go_package = &quot;api;grpc_gateway&quot;;\r\noption java_package = &quot;io.github.helloworlde.grpc&quot;;\r\noption java_multiple_files = true;\r\noption java_outer_classname = &quot;HelloWorldGrpc&quot;;\r\n\r\nservice HelloService{\r\n  rpc SayHello(HelloMessage) returns (HelloResponse){\r\n  }\r\n}\r\n\r\nmessage HelloMessage {\r\n  string message = 2;\r\n}\r\n\r\nmessage HelloResponse {\r\n  string message = 1;\r\n}\r\n```\r\n\r\nStart server for this proto by yourself, and the full code in Java just like:\r\n\r\n```java\r\nimport com.google.protobuf.ByteString;\r\nimport com.google.protobuf.DescriptorProtos;\r\nimport com.google.protobuf.Descriptors;\r\nimport com.google.protobuf.DynamicMessage;\r\nimport com.google.protobuf.InvalidProtocolBufferException;\r\nimport com.google.protobuf.TypeRegistry;\r\nimport com.google.protobuf.util.JsonFormat;\r\nimport io.grpc.CallOptions;\r\nimport io.grpc.ManagedChannel;\r\nimport io.grpc.ManagedChannelBuilder;\r\nimport io.grpc.MethodDescriptor;\r\nimport io.grpc.protobuf.ProtoUtils;\r\nimport io.grpc.reflection.v1alpha.ServerReflectionGrpc;\r\nimport io.grpc.reflection.v1alpha.ServerReflectionRequest;\r\nimport io.grpc.reflection.v1alpha.ServerReflectionResponse;\r\nimport io.grpc.stub.ClientCalls;\r\nimport io.grpc.stub.StreamObserver;\r\nimport lombok.SneakyThrows;\r\nimport lombok.extern.slf4j.Slf4j;\r\n\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Objects;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.util.stream.Collectors;\r\n\r\n@Slf4j\r\npublic class ReflectionCall {\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        // 反射方法的格式只支持 package.service.method 或者 package.service\r\n        String methodSymbol = &quot;io.github.helloworlde.grpc.HelloService.SayHello&quot;;\r\n        String requestContent = &quot;{\\&quot;message\\&quot;: \\&quot;Reflection\\&quot;}&quot;;\r\n\r\n        // 构建 Channel\r\n        ManagedChannel channel = ManagedChannelBuilder.forAddress(&quot;127.0.0.1&quot;, 9090)\r\n                                                      .usePlaintext()\r\n                                                      .build();\r\n        // 使用 Channel 构建 BlockingStub\r\n        ServerReflectionGrpc.ServerReflectionStub reflectionStub = ServerReflectionGrpc.newStub(channel);\r\n        // 响应观察器\r\n        StreamObserver&lt;ServerReflectionResponse&gt; streamObserver = new StreamObserver&lt;ServerReflectionResponse&gt;() {\r\n            @Override\r\n            public void onNext(ServerReflectionResponse response) {\r\n                try {\r\n                    // 只需要关注文件描述类型的响应\r\n                    if (response.getMessageResponseCase() == ServerReflectionResponse.MessageResponseCase.FILE_DESCRIPTOR_RESPONSE) {\r\n                        List&lt;ByteString&gt; fileDescriptorProtoList = response.getFileDescriptorResponse().getFileDescriptorProtoList();\r\n                        handleResponse(fileDescriptorProtoList, channel, methodSymbol, requestContent);\r\n                    } else {\r\n                        log.warn(&quot;未知响应类型: &quot; + response.getMessageResponseCase());\r\n                    }\r\n                } catch (Exception e) {\r\n                    log.error(&quot;处理响应失败: {}&quot;, e.getMessage(), e);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onError(Throwable t) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCompleted() {\r\n                log.info(&quot;Complete&quot;);\r\n            }\r\n        };\r\n        // 请求观察器\r\n        StreamObserver&lt;ServerReflectionRequest&gt; requestStreamObserver = reflectionStub.serverReflectionInfo(streamObserver);\r\n\r\n        // 构建并发送获取方法文件描述请求\r\n        ServerReflectionRequest getFileContainingSymbolRequest = ServerReflectionRequest.newBuilder()\r\n                                                                                        .setFileContainingSymbol(methodSymbol)\r\n                                                                                        .build();\r\n        requestStreamObserver.onNext(getFileContainingSymbolRequest);\r\n        channel.awaitTermination(10, TimeUnit.SECONDS);\r\n    }\r\n\r\n    /**\r\n     * 处理响应\r\n     */\r\n    private static void handleResponse(List&lt;ByteString&gt; fileDescriptorProtoList,\r\n                                       ManagedChannel channel,\r\n                                       String methodFullName,\r\n                                       String requestContent) {\r\n        try {\r\n            // 解析方法和服务名称\r\n            String fullServiceName = extraPrefix(methodFullName);\r\n            String methodName = extraSuffix(methodFullName);\r\n            String packageName = extraPrefix(fullServiceName);\r\n            String serviceName = extraSuffix(fullServiceName);\r\n\r\n            // 根据响应解析 FileDescriptor\r\n            Descriptors.FileDescriptor fileDescriptor = getFileDescriptor(fileDescriptorProtoList, packageName, serviceName);\r\n\r\n            // 查找服务描述\r\n            Descriptors.ServiceDescriptor serviceDescriptor = fileDescriptor.getFile().findServiceByName(serviceName);\r\n            // 查找方法描述\r\n            Descriptors.MethodDescriptor methodDescriptor = serviceDescriptor.findMethodByName(methodName);\r\n\r\n            // 发起请求\r\n            executeCall(channel, fileDescriptor, methodDescriptor, requestContent);\r\n        } catch (Exception e) {\r\n            log.error(e.getMessage(), e);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 解析并查找方法对应的文件描述\r\n     */\r\n    private static Descriptors.FileDescriptor getFileDescriptor(List&lt;ByteString&gt; fileDescriptorProtoList,\r\n                                                                String packageName,\r\n                                                                String serviceName) throws Exception {\r\n\r\n        Map&lt;String, DescriptorProtos.FileDescriptorProto&gt; fileDescriptorProtoMap =\r\n                fileDescriptorProtoList.stream()\r\n                                       .map(bs -&gt; {\r\n                                           try {\r\n                                               return DescriptorProtos.FileDescriptorProto.parseFrom(bs);\r\n                                           } catch (InvalidProtocolBufferException e) {\r\n                                               e.printStackTrace();\r\n                                           }\r\n                                           return null;\r\n                                       })\r\n                                       .filter(Objects::nonNull)\r\n                                       .collect(Collectors.toMap(DescriptorProtos.FileDescriptorProto::getName, f -&gt; f));\r\n\r\n\r\n        if (fileDescriptorProtoMap.isEmpty()) {\r\n            log.error(&quot;服务不存在&quot;);\r\n            throw new IllegalArgumentException(&quot;方法的文件描述不存在&quot;);\r\n        }\r\n\r\n        // 查找服务对应的 Proto 描述\r\n        DescriptorProtos.FileDescriptorProto fileDescriptorProto = findServiceFileDescriptorProto(packageName, serviceName, fileDescriptorProtoMap);\r\n\r\n        // 获取这个 Proto 的依赖\r\n        Descriptors.FileDescriptor[] dependencies = getDependencies(fileDescriptorProto, fileDescriptorProtoMap);\r\n\r\n        // 生成 Proto 的 FileDescriptor\r\n        return Descriptors.FileDescriptor.buildFrom(fileDescriptorProto, dependencies);\r\n    }\r\n\r\n\r\n    /**\r\n     * 根据包名和服务名查找相应的文件描述\r\n     */\r\n    private static DescriptorProtos.FileDescriptorProto findServiceFileDescriptorProto(String packageName,\r\n                                                                                       String serviceName,\r\n                                                                                       Map&lt;String, DescriptorProtos.FileDescriptorProto&gt; fileDescriptorProtoMap) {\r\n        for (DescriptorProtos.FileDescriptorProto proto : fileDescriptorProtoMap.values()) {\r\n            if (proto.getPackage().equals(packageName)) {\r\n                boolean exist = proto.getServiceList()\r\n                                     .stream()\r\n                                     .anyMatch(s -&gt; serviceName.equals(s.getName()));\r\n                if (exist) {\r\n                    return proto;\r\n                }\r\n            }\r\n        }\r\n\r\n        throw new IllegalArgumentException(&quot;服务不存在&quot;);\r\n    }\r\n\r\n    /**\r\n     * 获取前缀\r\n     */\r\n    private static String extraPrefix(String content) {\r\n        int index = content.lastIndexOf(&quot;.&quot;);\r\n        return content.substring(0, index);\r\n    }\r\n\r\n    /**\r\n     * 获取后缀\r\n     */\r\n    private static String extraSuffix(String content) {\r\n        int index = content.lastIndexOf(&quot;.&quot;);\r\n        return content.substring(index + 1);\r\n    }\r\n\r\n    /**\r\n     * 获取依赖类型\r\n     */\r\n    private static Descriptors.FileDescriptor[] getDependencies(DescriptorProtos.FileDescriptorProto proto,\r\n                                                                Map&lt;String, DescriptorProtos.FileDescriptorProto&gt; finalDescriptorProtoMap) {\r\n        return proto.getDependencyList()\r\n                    .stream()\r\n                    .map(finalDescriptorProtoMap::get)\r\n                    .map(f -&gt; toFileDescriptor(f, getDependencies(f, finalDescriptorProtoMap)))\r\n                    .toArray(Descriptors.FileDescriptor[]::new);\r\n    }\r\n\r\n    /**\r\n     * 将 FileDescriptorProto 转为 FileDescriptor\r\n     */\r\n    @SneakyThrows\r\n    private static Descriptors.FileDescriptor toFileDescriptor(DescriptorProtos.FileDescriptorProto fileDescriptorProto,\r\n                                                               Descriptors.FileDescriptor[] dependencies) {\r\n        return Descriptors.FileDescriptor.buildFrom(fileDescriptorProto, dependencies);\r\n    }\r\n\r\n\r\n    /**\r\n     * 执行方法调用\r\n     */\r\n    private static void executeCall(ManagedChannel channel,\r\n                                    Descriptors.FileDescriptor fileDescriptor,\r\n                                    Descriptors.MethodDescriptor originMethodDescriptor,\r\n                                    String requestContent) throws Exception {\r\n\r\n        // 重新生成 MethodDescriptor\r\n        MethodDescriptor&lt;DynamicMessage, DynamicMessage&gt; methodDescriptor = generateMethodDescriptor(originMethodDescriptor);\r\n\r\n        CallOptions callOptions = CallOptions.DEFAULT;\r\n\r\n        TypeRegistry registry = TypeRegistry.newBuilder()\r\n                                            .add(fileDescriptor.getMessageTypes())\r\n                                            .build();\r\n\r\n        // 将请求内容由 JSON 字符串转为相应的类型\r\n        JsonFormat.Parser parser = JsonFormat.parser().usingTypeRegistry(registry);\r\n        DynamicMessage.Builder messageBuilder = DynamicMessage.newBuilder(originMethodDescriptor.getInputType());\r\n        parser.merge(requestContent, messageBuilder);\r\n        DynamicMessage requestMessage = messageBuilder.build();\r\n\r\n        // 调用，调用方式可以通过 originMethodDescriptor.isClientStreaming() 和 originMethodDescriptor.isServerStreaming() 推断\r\n        DynamicMessage response = ClientCalls.blockingUnaryCall(channel, methodDescriptor, callOptions, requestMessage);\r\n\r\n        // 将响应解析为 JSON 字符串\r\n        JsonFormat.Printer printer = JsonFormat.printer()\r\n                                               .usingTypeRegistry(registry)\r\n                                               .includingDefaultValueFields();\r\n        String responseContent = printer.print(response);\r\n\r\n        log.info(&quot;响应: {}&quot;, responseContent);\r\n    }\r\n\r\n    /**\r\n     * 重新生成方法描述\r\n     */\r\n    private static MethodDescriptor&lt;DynamicMessage, DynamicMessage&gt; generateMethodDescriptor(Descriptors.MethodDescriptor originMethodDescriptor) {\r\n        // 生成方法全名\r\n        String fullMethodName = MethodDescriptor.generateFullMethodName(originMethodDescriptor.getService().getFullName(), originMethodDescriptor.getName());\r\n        // 请求和响应类型\r\n        MethodDescriptor.Marshaller&lt;DynamicMessage&gt; inputTypeMarshaller = ProtoUtils.marshaller(DynamicMessage.newBuilder(originMethodDescriptor.getInputType())\r\n                                                                                                              .buildPartial());\r\n        MethodDescriptor.Marshaller&lt;DynamicMessage&gt; outputTypeMarshaller = ProtoUtils.marshaller(DynamicMessage.newBuilder(originMethodDescriptor.getOutputType())\r\n                                                                                                               .buildPartial());\r\n\r\n        // 生成方法描述, originMethodDescriptor 的 fullMethodName 不正确\r\n        return MethodDescriptor.&lt;DynamicMessage, DynamicMessage&gt;newBuilder()\r\n                .setFullMethodName(fullMethodName)\r\n                .setRequestMarshaller(inputTypeMarshaller)\r\n                .setResponseMarshaller(outputTypeMarshaller)\r\n                // 使用 UNKNOWN，自动修改\r\n                .setType(MethodDescriptor.MethodType.UNKNOWN)\r\n                .build();\r\n    }\r\n}\r\n```","title":"How to create GRPC client directly from protobuf without compiling it into java code","body":"<p>I did it in Java, and the step is:</p>\n<ol>\n<li>Call reflection service to get <code>FileDescriptorProto</code> list by method name</li>\n<li>Get <code>FileDescriptor</code> of method from <code>FileDescriptorProto</code> list by package name, service name</li>\n<li>Get <code>MethodDescriptor</code> from <code>ServiceDescriptor</code> which get from the <code>FileDescriptor</code></li>\n<li>Generate a <code>MethodDescriptor&lt;DynamicMessage, DynamicMessage&gt;</code> by <code>MethodDescriptor</code></li>\n<li>Build request <code>DynamicMessage</code> from content like JSON or others</li>\n<li>Call method</li>\n<li>Parse response content to JSON from <code>DynamicMessage</code> response</li>\n</ol>\n<p>You can reference the full sample in project <a href=\"https://github.com/helloworlde/grpc-java-sample/blob/main/reflection/src/main/java/io/github/helloworlde/grpc/ReflectionCall.java\" rel=\"nofollow noreferrer\">helloworlde/grpc-java-sample#reflection</a></p>\n<hr />\n<p>And proto is:</p>\n<pre class=\"lang-proto prettyprint-override\"><code>syntax = &quot;proto3&quot;;\n\npackage io.github.helloworlde.grpc;\n\noption go_package = &quot;api;grpc_gateway&quot;;\noption java_package = &quot;io.github.helloworlde.grpc&quot;;\noption java_multiple_files = true;\noption java_outer_classname = &quot;HelloWorldGrpc&quot;;\n\nservice HelloService{\n  rpc SayHello(HelloMessage) returns (HelloResponse){\n  }\n}\n\nmessage HelloMessage {\n  string message = 2;\n}\n\nmessage HelloResponse {\n  string message = 1;\n}\n</code></pre>\n<p>Start server for this proto by yourself, and the full code in Java just like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.protobuf.ByteString;\nimport com.google.protobuf.DescriptorProtos;\nimport com.google.protobuf.Descriptors;\nimport com.google.protobuf.DynamicMessage;\nimport com.google.protobuf.InvalidProtocolBufferException;\nimport com.google.protobuf.TypeRegistry;\nimport com.google.protobuf.util.JsonFormat;\nimport io.grpc.CallOptions;\nimport io.grpc.ManagedChannel;\nimport io.grpc.ManagedChannelBuilder;\nimport io.grpc.MethodDescriptor;\nimport io.grpc.protobuf.ProtoUtils;\nimport io.grpc.reflection.v1alpha.ServerReflectionGrpc;\nimport io.grpc.reflection.v1alpha.ServerReflectionRequest;\nimport io.grpc.reflection.v1alpha.ServerReflectionResponse;\nimport io.grpc.stub.ClientCalls;\nimport io.grpc.stub.StreamObserver;\nimport lombok.SneakyThrows;\nimport lombok.extern.slf4j.Slf4j;\n\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Objects;\nimport java.util.concurrent.TimeUnit;\nimport java.util.stream.Collectors;\n\n@Slf4j\npublic class ReflectionCall {\n\n    public static void main(String[] args) throws InterruptedException {\n        // 反射方法的格式只支持 package.service.method 或者 package.service\n        String methodSymbol = &quot;io.github.helloworlde.grpc.HelloService.SayHello&quot;;\n        String requestContent = &quot;{\\&quot;message\\&quot;: \\&quot;Reflection\\&quot;}&quot;;\n\n        // 构建 Channel\n        ManagedChannel channel = ManagedChannelBuilder.forAddress(&quot;127.0.0.1&quot;, 9090)\n                                                      .usePlaintext()\n                                                      .build();\n        // 使用 Channel 构建 BlockingStub\n        ServerReflectionGrpc.ServerReflectionStub reflectionStub = ServerReflectionGrpc.newStub(channel);\n        // 响应观察器\n        StreamObserver&lt;ServerReflectionResponse&gt; streamObserver = new StreamObserver&lt;ServerReflectionResponse&gt;() {\n            @Override\n            public void onNext(ServerReflectionResponse response) {\n                try {\n                    // 只需要关注文件描述类型的响应\n                    if (response.getMessageResponseCase() == ServerReflectionResponse.MessageResponseCase.FILE_DESCRIPTOR_RESPONSE) {\n                        List&lt;ByteString&gt; fileDescriptorProtoList = response.getFileDescriptorResponse().getFileDescriptorProtoList();\n                        handleResponse(fileDescriptorProtoList, channel, methodSymbol, requestContent);\n                    } else {\n                        log.warn(&quot;未知响应类型: &quot; + response.getMessageResponseCase());\n                    }\n                } catch (Exception e) {\n                    log.error(&quot;处理响应失败: {}&quot;, e.getMessage(), e);\n                }\n            }\n\n            @Override\n            public void onError(Throwable t) {\n\n            }\n\n            @Override\n            public void onCompleted() {\n                log.info(&quot;Complete&quot;);\n            }\n        };\n        // 请求观察器\n        StreamObserver&lt;ServerReflectionRequest&gt; requestStreamObserver = reflectionStub.serverReflectionInfo(streamObserver);\n\n        // 构建并发送获取方法文件描述请求\n        ServerReflectionRequest getFileContainingSymbolRequest = ServerReflectionRequest.newBuilder()\n                                                                                        .setFileContainingSymbol(methodSymbol)\n                                                                                        .build();\n        requestStreamObserver.onNext(getFileContainingSymbolRequest);\n        channel.awaitTermination(10, TimeUnit.SECONDS);\n    }\n\n    /**\n     * 处理响应\n     */\n    private static void handleResponse(List&lt;ByteString&gt; fileDescriptorProtoList,\n                                       ManagedChannel channel,\n                                       String methodFullName,\n                                       String requestContent) {\n        try {\n            // 解析方法和服务名称\n            String fullServiceName = extraPrefix(methodFullName);\n            String methodName = extraSuffix(methodFullName);\n            String packageName = extraPrefix(fullServiceName);\n            String serviceName = extraSuffix(fullServiceName);\n\n            // 根据响应解析 FileDescriptor\n            Descriptors.FileDescriptor fileDescriptor = getFileDescriptor(fileDescriptorProtoList, packageName, serviceName);\n\n            // 查找服务描述\n            Descriptors.ServiceDescriptor serviceDescriptor = fileDescriptor.getFile().findServiceByName(serviceName);\n            // 查找方法描述\n            Descriptors.MethodDescriptor methodDescriptor = serviceDescriptor.findMethodByName(methodName);\n\n            // 发起请求\n            executeCall(channel, fileDescriptor, methodDescriptor, requestContent);\n        } catch (Exception e) {\n            log.error(e.getMessage(), e);\n        }\n    }\n\n    /**\n     * 解析并查找方法对应的文件描述\n     */\n    private static Descriptors.FileDescriptor getFileDescriptor(List&lt;ByteString&gt; fileDescriptorProtoList,\n                                                                String packageName,\n                                                                String serviceName) throws Exception {\n\n        Map&lt;String, DescriptorProtos.FileDescriptorProto&gt; fileDescriptorProtoMap =\n                fileDescriptorProtoList.stream()\n                                       .map(bs -&gt; {\n                                           try {\n                                               return DescriptorProtos.FileDescriptorProto.parseFrom(bs);\n                                           } catch (InvalidProtocolBufferException e) {\n                                               e.printStackTrace();\n                                           }\n                                           return null;\n                                       })\n                                       .filter(Objects::nonNull)\n                                       .collect(Collectors.toMap(DescriptorProtos.FileDescriptorProto::getName, f -&gt; f));\n\n\n        if (fileDescriptorProtoMap.isEmpty()) {\n            log.error(&quot;服务不存在&quot;);\n            throw new IllegalArgumentException(&quot;方法的文件描述不存在&quot;);\n        }\n\n        // 查找服务对应的 Proto 描述\n        DescriptorProtos.FileDescriptorProto fileDescriptorProto = findServiceFileDescriptorProto(packageName, serviceName, fileDescriptorProtoMap);\n\n        // 获取这个 Proto 的依赖\n        Descriptors.FileDescriptor[] dependencies = getDependencies(fileDescriptorProto, fileDescriptorProtoMap);\n\n        // 生成 Proto 的 FileDescriptor\n        return Descriptors.FileDescriptor.buildFrom(fileDescriptorProto, dependencies);\n    }\n\n\n    /**\n     * 根据包名和服务名查找相应的文件描述\n     */\n    private static DescriptorProtos.FileDescriptorProto findServiceFileDescriptorProto(String packageName,\n                                                                                       String serviceName,\n                                                                                       Map&lt;String, DescriptorProtos.FileDescriptorProto&gt; fileDescriptorProtoMap) {\n        for (DescriptorProtos.FileDescriptorProto proto : fileDescriptorProtoMap.values()) {\n            if (proto.getPackage().equals(packageName)) {\n                boolean exist = proto.getServiceList()\n                                     .stream()\n                                     .anyMatch(s -&gt; serviceName.equals(s.getName()));\n                if (exist) {\n                    return proto;\n                }\n            }\n        }\n\n        throw new IllegalArgumentException(&quot;服务不存在&quot;);\n    }\n\n    /**\n     * 获取前缀\n     */\n    private static String extraPrefix(String content) {\n        int index = content.lastIndexOf(&quot;.&quot;);\n        return content.substring(0, index);\n    }\n\n    /**\n     * 获取后缀\n     */\n    private static String extraSuffix(String content) {\n        int index = content.lastIndexOf(&quot;.&quot;);\n        return content.substring(index + 1);\n    }\n\n    /**\n     * 获取依赖类型\n     */\n    private static Descriptors.FileDescriptor[] getDependencies(DescriptorProtos.FileDescriptorProto proto,\n                                                                Map&lt;String, DescriptorProtos.FileDescriptorProto&gt; finalDescriptorProtoMap) {\n        return proto.getDependencyList()\n                    .stream()\n                    .map(finalDescriptorProtoMap::get)\n                    .map(f -&gt; toFileDescriptor(f, getDependencies(f, finalDescriptorProtoMap)))\n                    .toArray(Descriptors.FileDescriptor[]::new);\n    }\n\n    /**\n     * 将 FileDescriptorProto 转为 FileDescriptor\n     */\n    @SneakyThrows\n    private static Descriptors.FileDescriptor toFileDescriptor(DescriptorProtos.FileDescriptorProto fileDescriptorProto,\n                                                               Descriptors.FileDescriptor[] dependencies) {\n        return Descriptors.FileDescriptor.buildFrom(fileDescriptorProto, dependencies);\n    }\n\n\n    /**\n     * 执行方法调用\n     */\n    private static void executeCall(ManagedChannel channel,\n                                    Descriptors.FileDescriptor fileDescriptor,\n                                    Descriptors.MethodDescriptor originMethodDescriptor,\n                                    String requestContent) throws Exception {\n\n        // 重新生成 MethodDescriptor\n        MethodDescriptor&lt;DynamicMessage, DynamicMessage&gt; methodDescriptor = generateMethodDescriptor(originMethodDescriptor);\n\n        CallOptions callOptions = CallOptions.DEFAULT;\n\n        TypeRegistry registry = TypeRegistry.newBuilder()\n                                            .add(fileDescriptor.getMessageTypes())\n                                            .build();\n\n        // 将请求内容由 JSON 字符串转为相应的类型\n        JsonFormat.Parser parser = JsonFormat.parser().usingTypeRegistry(registry);\n        DynamicMessage.Builder messageBuilder = DynamicMessage.newBuilder(originMethodDescriptor.getInputType());\n        parser.merge(requestContent, messageBuilder);\n        DynamicMessage requestMessage = messageBuilder.build();\n\n        // 调用，调用方式可以通过 originMethodDescriptor.isClientStreaming() 和 originMethodDescriptor.isServerStreaming() 推断\n        DynamicMessage response = ClientCalls.blockingUnaryCall(channel, methodDescriptor, callOptions, requestMessage);\n\n        // 将响应解析为 JSON 字符串\n        JsonFormat.Printer printer = JsonFormat.printer()\n                                               .usingTypeRegistry(registry)\n                                               .includingDefaultValueFields();\n        String responseContent = printer.print(response);\n\n        log.info(&quot;响应: {}&quot;, responseContent);\n    }\n\n    /**\n     * 重新生成方法描述\n     */\n    private static MethodDescriptor&lt;DynamicMessage, DynamicMessage&gt; generateMethodDescriptor(Descriptors.MethodDescriptor originMethodDescriptor) {\n        // 生成方法全名\n        String fullMethodName = MethodDescriptor.generateFullMethodName(originMethodDescriptor.getService().getFullName(), originMethodDescriptor.getName());\n        // 请求和响应类型\n        MethodDescriptor.Marshaller&lt;DynamicMessage&gt; inputTypeMarshaller = ProtoUtils.marshaller(DynamicMessage.newBuilder(originMethodDescriptor.getInputType())\n                                                                                                              .buildPartial());\n        MethodDescriptor.Marshaller&lt;DynamicMessage&gt; outputTypeMarshaller = ProtoUtils.marshaller(DynamicMessage.newBuilder(originMethodDescriptor.getOutputType())\n                                                                                                               .buildPartial());\n\n        // 生成方法描述, originMethodDescriptor 的 fullMethodName 不正确\n        return MethodDescriptor.&lt;DynamicMessage, DynamicMessage&gt;newBuilder()\n                .setFullMethodName(fullMethodName)\n                .setRequestMarshaller(inputTypeMarshaller)\n                .setResponseMarshaller(outputTypeMarshaller)\n                // 使用 UNKNOWN，自动修改\n                .setType(MethodDescriptor.MethodType.UNKNOWN)\n                .build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13135685,"reputation":91,"user_id":9488752,"display_name":"mtSiniChi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10520,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":4,"score":9,"last_activity_date":1667052105,"creation_date":1586488759,"question_id":61133529,"body_markdown":"When working with gRPC, we need to generate the gRPC client and server interfaces from our .proto service definition via protocol buffer compiler (protoc) or using Gradle or Maven protoc build plugin.\r\n\r\n    Flow now: protobuf file -&gt; java code -&gt; gRPC client.\r\n\r\nSo, is there any way to skip this step?\r\n\r\nHow to create a generic gRPC client that can call the server directly from the protobuf file without compile into java code?\r\nOr, is there a way to Generated Code at runtime?\r\n\r\n    Flow expect: protobuf file -&gt; gRPC client.\r\n\r\nI want to build a generic gRPC client system with the input are protobuf files along with description of method, package, message request ... without having to compile again for each protobuf.\r\n\r\nThank you very much.","title":"How to create GRPC client directly from protobuf without compiling it into java code","body":"<p>When working with gRPC, we need to generate the gRPC client and server interfaces from our .proto service definition via protocol buffer compiler (protoc) or using Gradle or Maven protoc build plugin.</p>\n<pre><code>Flow now: protobuf file -&gt; java code -&gt; gRPC client.\n</code></pre>\n<p>So, is there any way to skip this step?</p>\n<p>How to create a generic gRPC client that can call the server directly from the protobuf file without compile into java code?\nOr, is there a way to Generated Code at runtime?</p>\n<pre><code>Flow expect: protobuf file -&gt; gRPC client.\n</code></pre>\n<p>I want to build a generic gRPC client system with the input are protobuf files along with description of method, package, message request ... without having to compile again for each protobuf.</p>\n<p>Thank you very much.</p>\n"},{"tags":["java","android","gradle","admob"],"answers":[{"comments":[{"owner":{"account_id":17083164,"reputation":48,"user_id":12361104,"display_name":"Neldison"},"score":0,"creation_date":1667077213,"post_id":74245944,"comment_id":131086750,"body_markdown":"Thanks for replying my post. the plugin `apply plugin: &#39;com.google.gms.google-services&#39;` is for firebase and not for admob ads.","body":"Thanks for replying my post. the plugin <code>apply plugin: &#39;com.google.gms.google-services&#39;</code> is for firebase and not for admob ads."},{"owner":{"account_id":20192524,"reputation":149,"user_id":14810367,"display_name":"Talha Chaudhry"},"score":0,"creation_date":1667144764,"post_id":74245944,"comment_id":131096226,"body_markdown":"The block in which you placed it is neither recommended nor suitable","body":"The block in which you placed it is neither recommended nor suitable"}],"tags":[],"owner":{"account_id":20192524,"reputation":149,"user_id":14810367,"display_name":"Talha Chaudhry"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667052086,"creation_date":1667052086,"answer_id":74245944,"question_id":74241996,"body_markdown":"Firstly you have added \r\n\r\n     apply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\nat the wrong place, it must be in the block of plugins at the top where your \r\n\r\n\r\n    id &#39;com.android.application&#39;\r\n\r\nis place. \r\n\r\nNext thing I&#39;ll suggest you have a detailed look over the documentation everything is well explained in the documentation \r\n\r\nhttps://developers.google.com/admob/android/quick-start\r\n","title":"How To Solve Admob Ads Dependency Problem In Android Studio","body":"<p>Firstly you have added</p>\n<pre><code> apply plugin: 'com.google.gms.google-services'\n</code></pre>\n<p>at the wrong place, it must be in the block of plugins at the top where your</p>\n<pre><code>id 'com.android.application'\n</code></pre>\n<p>is place.</p>\n<p>Next thing I'll suggest you have a detailed look over the documentation everything is well explained in the documentation</p>\n<p><a href=\"https://developers.google.com/admob/android/quick-start\" rel=\"nofollow noreferrer\">https://developers.google.com/admob/android/quick-start</a></p>\n"}],"owner":{"account_id":17083164,"reputation":48,"user_id":12361104,"display_name":"Neldison"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":509,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667052086,"creation_date":1667002461,"question_id":74241996,"body_markdown":"For days now I have been trying to integrate admob ads in my app but all my efforts were in vain. the project work fine without admob dependency. the build stops at `app:mergeExtDexDebug` and displays series of error messages in the logcat that i don&#39;t even understand. I have search online to know if I will see any similar problem but none of the solutions provided work for me. I will be very much happy if anybody can help me.\r\n\r\n**WHAT I HAVE DONE**\r\n\r\n**1:** I have upgraded my gradle plugin\r\n\r\n**2:** I have clean build my project\r\n\r\nI have done these two things but the error persist. I will be happy if someone can help me solve this problem.\r\n\r\n**Android Studio setup is as below**\r\n\r\n```\r\nclasspath &#39;com.android.tools.build:gradle:3.4.3&#39; //change from 3.4.0 to 3.4.3\r\nclasspath &#39;com.google.gms:google-services:4.0.1&#39; // firebase classPath\r\n```\r\n\r\n\r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-5.1.1-all.zip // from gradle-wrapper\r\n```\r\n\r\n\r\n```\r\nandroid{\r\n\r\n    compileSdkVersion 28\r\n    buildToolsVersion &quot;30.0.2&quot;\r\n    defaultConfig {\r\n        applicationId &quot;com.example.project&quot;\r\n        minSdkVersion 22\r\n        targetSdkVersion 28\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    }\r\n```\r\n\r\n**Dependencies**\r\n\r\n```\r\ndependencies {\r\n\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &#39;androidx.appcompat:appcompat:1.0.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n    implementation &#39;com.google.firebase:firebase-core:11.8.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:11.8.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-storage:11.8.0&#39;\r\n    implementation &#39;com.firebaseui:firebase-ui-database:3.2.2&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:11.8.0&#39;\r\n    //implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n    //implementation &#39;com.firebaseui:firebase-ui-auth:7.2.0&#39;\r\n    implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n    implementation &#39;com.github.rey5137:material:1.2.5&#39;\r\n    implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n    implementation &#39;androidx.viewpager2:viewpager2:1.0.0&#39;\r\n    implementation &#39;androidx.recyclerview:recyclerview:1.0.0&#39;\r\n    implementation &#39;io.paperdb:paperdb:2.6&#39;\r\n    implementation &#39;de.hdodenhof:circleimageview:2.2.0&#39;\r\n    implementation &#39;com.theartofdev.edmodo:android-image-cropper:2.8.0&#39;\r\n    implementation &#39;com.cepheuen.elegant-number-button:lib:1.0.2&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.0.0&#39;\r\n    implementation &#39;com.pierfrancescosoffritti.androidyoutubeplayer:core:10.0.3&#39;\r\n    implementation files(&#39;libs/YouTubeAndroidPlayerApi.jar&#39;)\r\n    //implementation &#39;com.google.firebase:firebase-analytics:17.3.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-ads:20.5.0&#39; // for admob ads\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;androidx.test:runner:1.1.0&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.1.0&#39;\r\n    }\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n```\r\n\r\n**Logcat Error Messages**\r\n```\r\norg.gradle.execution.MultipleBuildFailures: Build completed with 1 failures.\r\n\tat org.gradle.initialization.DefaultGradleLauncher$ExecuteTasks.run(DefaultGradleLauncher.java:386)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:301)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:293)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:91)\r\n\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.runTasks(DefaultGradleLauncher.java:247)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:159)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:134)\r\n\tat org.gradle.internal.invocation.GradleBuildController$1.execute(GradleBuildController.java:58)\r\n\tat org.gradle.internal.invocation.GradleBuildController$1.execute(GradleBuildController.java:55)\r\n\tat org.gradle.internal.invocation.GradleBuildController$3.create(GradleBuildController.java:82)\r\n\tat org.gradle.internal.invocation.GradleBuildController$3.create(GradleBuildController.java:75)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:183)\r\n\tat org.gradle.internal.work.StopShieldingWorkerLeaseService.withLocks(StopShieldingWorkerLeaseService.java:40)\r\n\tat org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:75)\r\n\tat org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:55)\r\n\tat org.gradle.tooling.internal.provider.runner.ClientProvidedBuildActionRunner.run(ClientProvidedBuildActionRunner.java:55)\r\n\tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n\tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n\tat org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:58)\r\n\tat org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\r\n\tat org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:39)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:49)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:44)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:315)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:305)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:101)\r\n\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:44)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:49)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:46)\r\n\tat org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:78)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:46)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:31)\r\n\tat org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:42)\r\n\tat org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:28)\r\n\tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:78)\r\n\tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:52)\r\n\tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:59)\r\n\tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:36)\r\n\tat org.gradle.tooling.internal.provider.SessionScopeBuildActionExecuter.execute(SessionScopeBuildActionExecuter.java:68)\r\n\tat org.gradle.tooling.internal.provider.SessionScopeBuildActionExecuter.execute(SessionScopeBuildActionExecuter.java:38)\r\n\tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:37)\r\n\tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:26)\r\n\tat org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\r\n\tat org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:60)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:32)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:55)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:41)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:48)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:32)\r\n\tat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\r\n\tat org.gradle.util.Swapper.swap(Swapper.java:38)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:81)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\r\n\tat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:mergeExtDexDebug&#39;.\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:38)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:67)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:49)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:315)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:305)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:101)\r\n\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:49)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:43)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:355)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker$1.execute(DefaultPlanExecutor.java:134)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker$1.execute(DefaultPlanExecutor.java:129)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:202)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:193)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:129)\r\n\t... 6 more\r\nCaused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.\r\n\tat org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.rethrowFailure(DefaultConfiguration.java:1175)\r\n\tat org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.access$2100(DefaultConfiguration.java:135)\r\n\tat org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$ConfigurationFileCollection.getFiles(DefaultConfiguration.java:1150)\r\n\tat org.gradle.api.internal.file.AbstractFileCollection.iterator(AbstractFileCollection.java:72)\r\n\tat org.gradle.api.internal.file.collections.DefaultFileCollectionResolveContext$FileTreeConverter.convertInto(DefaultFileCollectionResolveContext.java:209)\r\n\tat org.gradle.api.internal.file.collections.DefaultFileCollectionResolveContext.doResolve(DefaultFileCollectionResolveContext.java:114)\r\n\tat org.gradle.api.internal.file.collections.DefaultFileCollectionResolveContext.resolveAsFileTrees(DefaultFileCollectionResolveContext.java:85)\r\n\tat org.gradle.api.internal.file.AbstractFileCollection$2.visitContents(AbstractFileCollection.java:171)\r\n\tat org.gradle.api.internal.file.CompositeFileCollection.getSourceCollections(CompositeFileCollection.java:191)\r\n\tat org.gradle.api.internal.file.CompositeFileTree.getSourceCollections(CompositeFileTree.java:39)\r\n\tat org.gradle.api.internal.file.CompositeFileCollection$2.visitContents(CompositeFileCollection.java:150)\r\n\tat org.gradle.api.internal.file.collections.DefaultFileCollectionResolveContext.resolveNested(DefaultFileCollectionResolveContext.java:144)\r\n\tat org.gradle.api.internal.file.collections.DefaultFileCollectionResolveContext.doResolve(DefaultFileCollectionResolveContext.java:112)\r\n\tat org.gradle.api.internal.file.collections.DefaultFileCollectionResolveContext.resolveAsFileCollections(DefaultFileCollectionResolveContext.java:92)\r\n\tat org.gradle.api.internal.file.collections.DefaultFileCollectionResolveContext$FileCollectionConverter.convertInto(DefaultFileCollectionResolveContext.java:164)\r\n\tat org.gradle.api.internal.file.collections.DefaultFileCollectionResolveContext.doResolve(DefaultFileCollectionResolveContext.java:109)\r\n\tat org.gradle.api.internal.file.collections.DefaultFileCollectionResolveContext.resolveAsFileCollections(DefaultFileCollectionResolveContext.java:92)\r\n\tat org.gradle.api.internal.file.CompositeFileCollection.getSourceCollections(CompositeFileCollection.java:192)\r\n\tat org.gradle.api.internal.file.CompositeFileCollection.visitLeafCollections(CompositeFileCollection.java:204)\r\n\tat org.gradle.internal.snapshot.impl.DefaultFileSystemSnapshotter.snapshot(DefaultFileSystemSnapshotter.java:126)\r\n\tat org.gradle.internal.fingerprint.impl.AbstractFileCollectionFingerprinter.fingerprint(AbstractFileCollectionFingerprinter.java:47)\r\n\tat org.gradle.internal.fingerprint.impl.AbstractPathOnlyFileCollectionFingerprinter.fingerprint(AbstractPathOnlyFileCollectionFingerprinter.java:36)\r\n\tat org.gradle.api.internal.changedetection.changes.TaskFingerprintUtil.fingerprintTaskFiles(TaskFingerprintUtil.java:82)\r\n\tat org.gradle.api.internal.changedetection.state.CacheBackedTaskHistoryRepository.createExecution(CacheBackedTaskHistoryRepository.java:123)\r\n\tat org.gradle.api.internal.changedetection.state.CacheBackedTaskHistoryRepository.access$100(CacheBackedTaskHistoryRepository.java:46)\r\n\tat org.gradle.api.internal.changedetection.state.CacheBackedTaskHistoryRepository$1.getBeforeExecutionState(CacheBackedTaskHistoryRepository.java:86)\r\n\tat org.gradle.api.internal.changedetection.changes.DefaultTaskArtifactStateRepository$TaskArtifactStateImpl.getExecutionStateChanges(DefaultTaskArtifactStateRepository.java:189)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.getChangesSincePreviousExecution(ExecuteActionsTaskExecuter.java:182)\r\n\tat org.gradle.internal.execution.impl.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:52)\r\n\tat org.gradle.internal.execution.impl.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:36)\r\n\tat org.gradle.internal.execution.impl.DefaultWorkExecutor.execute(DefaultWorkExecutor.java:34)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:91)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:91)\r\n\tat org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:119)\r\n\tat org.gradle.api.internal.tasks.execution.ResolvePreviousStateExecuter.execute(ResolvePreviousStateExecuter.java:43)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:93)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:45)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:94)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:56)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\t... 25 more\r\nCaused by: org.gradle.api.artifacts.transform.ArtifactTransformException: Failed to transform artifact &#39;core.aar (androidx.core:core:1.6.0)&#39; to match attributes {artifactType=android-dex, dexing-is-debuggable=true, dexing-min-sdk=22}\r\n\tat org.gradle.api.internal.artifacts.transform.TransformingArtifactVisitor.visitArtifact(TransformingArtifactVisitor.java:53)\r\n\tat org.gradle.api.internal.artifacts.ivyservice.resolveengine.artifact.ArtifactBackedResolvedVariant$SingleArtifactSet.visit(ArtifactBackedResolvedVariant.java:112)\r\n\tat org.gradle.api.internal.artifacts.transform.TransformCompletion.visit(TransformCompletion.java:42)\r\n\tat org.gradle.api.internal.artifacts.ivyservice.resolveengine.artifact.CompositeResolvedArtifactSet$CompositeResult.visit(CompositeResolvedArtifactSet.java:83)\r\n\tat org.gradle.api.internal.artifacts.ivyservice.resolveengine.artifact.ParallelResolveArtifactSet$VisitingSet.visit(ParallelResolveArtifactSet.java:64)\r\n\tat org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration.visitArtifacts(DefaultLenientConfiguration.java:256)\r\n\tat org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration.access$500(DefaultLenientConfiguration.java:69)\r\n\tat org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$2.run(DefaultLenientConfiguration.java:231)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:301)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:293)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:91)\r\n\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\r\n\tat org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration.visitArtifactsWithBuildOperation(DefaultLenientConfiguration.java:228)\r\n\tat org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration.access$200(DefaultLenientConfiguration.java:69)\r\n\tat org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$1.visitArtifacts(DefaultLenientConfiguration.java:133)\r\n\tat org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$ConfigurationFileCollection.getFiles(DefaultConfiguration.java:1147)\r\n\t... 64 more\r\nCaused by: org.gradle.internal.execution.ExecutionException: Execution failed for DexingTransform: C:\\Users\\Name\\.gradle\\caches\\transforms-2\\files-2.1\\789a8d5fd3984ecc130fdf5c38d59598\\jetified-classes.jar.\r\n\tat org.gradle.internal.execution.impl.steps.CatchExceptionStep.execute(CatchExceptionStep.java:35)\r\n\tat org.gradle.internal.execution.impl.steps.CreateOutputsStep.execute(CreateOutputsStep.java:50)\r\n\tat org.gradle.internal.execution.impl.steps.SnapshotOutputStep.execute(SnapshotOutputStep.java:43)\r\n\tat org.gradle.internal.execution.impl.steps.SnapshotOutputStep.execute(SnapshotOutputStep.java:29)\r\n\tat org.gradle.internal.execution.impl.steps.CacheStep.executeWithoutCache(CacheStep.java:134)\r\n\tat org.gradle.internal.execution.impl.steps.CacheStep.lambda$execute$3(CacheStep.java:83)\r\n\tat java.util.Optional.orElseGet(Optional.java:267)","title":"How To Solve Admob Ads Dependency Problem In Android Studio","body":"<p>For days now I have been trying to integrate admob ads in my app but all my efforts were in vain. the project work fine without admob dependency. the build stops at <code>app:mergeExtDexDebug</code> and displays series of error messages in the logcat that i don't even understand. I have search online to know if I will see any similar problem but none of the solutions provided work for me. I will be very much happy if anybody can help me.</p>\n<p><strong>WHAT I HAVE DONE</strong></p>\n<p><strong>1:</strong> I have upgraded my gradle plugin</p>\n<p><strong>2:</strong> I have clean build my project</p>\n<p>I have done these two things but the error persist. I will be happy if someone can help me solve this problem.</p>\n<p><strong>Android Studio setup is as below</strong></p>\n<pre><code>classpath 'com.android.tools.build:gradle:3.4.3' //change from 3.4.0 to 3.4.3\nclasspath 'com.google.gms:google-services:4.0.1' // firebase classPath\n</code></pre>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-5.1.1-all.zip // from gradle-wrapper\n</code></pre>\n<pre><code>android{\n\n    compileSdkVersion 28\n    buildToolsVersion &quot;30.0.2&quot;\n    defaultConfig {\n        applicationId &quot;com.example.project&quot;\n        minSdkVersion 22\n        targetSdkVersion 28\n        versionCode 1\n        versionName &quot;1.0&quot;\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    }\n</code></pre>\n<p><strong>Dependencies</strong></p>\n<pre><code>dependencies {\n\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'androidx.appcompat:appcompat:1.0.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'com.google.firebase:firebase-core:11.8.0'\n    implementation 'com.google.firebase:firebase-database:11.8.0'\n    implementation 'com.google.firebase:firebase-storage:11.8.0'\n    implementation 'com.firebaseui:firebase-ui-database:3.2.2'\n    implementation 'com.google.firebase:firebase-auth:11.8.0'\n    //implementation 'com.google.android.material:material:1.4.0'\n    //implementation 'com.firebaseui:firebase-ui-auth:7.2.0'\n    implementation 'com.squareup.picasso:picasso:2.71828'\n    implementation 'com.github.rey5137:material:1.2.5'\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation 'androidx.viewpager2:viewpager2:1.0.0'\n    implementation 'androidx.recyclerview:recyclerview:1.0.0'\n    implementation 'io.paperdb:paperdb:2.6'\n    implementation 'de.hdodenhof:circleimageview:2.2.0'\n    implementation 'com.theartofdev.edmodo:android-image-cropper:2.8.0'\n    implementation 'com.cepheuen.elegant-number-button:lib:1.0.2'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'com.google.android.material:material:1.0.0'\n    implementation 'com.pierfrancescosoffritti.androidyoutubeplayer:core:10.0.3'\n    implementation files('libs/YouTubeAndroidPlayerApi.jar')\n    //implementation 'com.google.firebase:firebase-analytics:17.3.0'\n    implementation 'com.google.android.gms:play-services-ads:20.5.0' // for admob ads\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:runner:1.1.0'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.0'\n    }\n    apply plugin: 'com.google.gms.google-services'\n</code></pre>\n<p><strong>Logcat Error Messages</strong></p>\n<pre><code>org.gradle.execution.MultipleBuildFailures: Build completed with 1 failures.\n    at org.gradle.initialization.DefaultGradleLauncher$ExecuteTasks.run(DefaultGradleLauncher.java:386)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:301)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:293)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:91)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n    at org.gradle.initialization.DefaultGradleLauncher.runTasks(DefaultGradleLauncher.java:247)\n    at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:159)\n    at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:134)\n    at org.gradle.internal.invocation.GradleBuildController$1.execute(GradleBuildController.java:58)\n    at org.gradle.internal.invocation.GradleBuildController$1.execute(GradleBuildController.java:55)\n    at org.gradle.internal.invocation.GradleBuildController$3.create(GradleBuildController.java:82)\n    at org.gradle.internal.invocation.GradleBuildController$3.create(GradleBuildController.java:75)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:183)\n    at org.gradle.internal.work.StopShieldingWorkerLeaseService.withLocks(StopShieldingWorkerLeaseService.java:40)\n    at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:75)\n    at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:55)\n    at org.gradle.tooling.internal.provider.runner.ClientProvidedBuildActionRunner.run(ClientProvidedBuildActionRunner.java:55)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:58)\n    at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\n    at org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:39)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:49)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:44)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:315)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:305)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:101)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:44)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:49)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:46)\n    at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:78)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:46)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:31)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:42)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:28)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:78)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:52)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:59)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:36)\n    at org.gradle.tooling.internal.provider.SessionScopeBuildActionExecuter.execute(SessionScopeBuildActionExecuter.java:68)\n    at org.gradle.tooling.internal.provider.SessionScopeBuildActionExecuter.execute(SessionScopeBuildActionExecuter.java:38)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:37)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:26)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:60)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:32)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:55)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:41)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:48)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:32)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\n    at org.gradle.util.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:81)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:mergeExtDexDebug'.\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:38)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:67)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:49)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:315)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:305)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:101)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:49)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:43)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:355)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker$1.execute(DefaultPlanExecutor.java:134)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker$1.execute(DefaultPlanExecutor.java:129)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:202)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:193)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:129)\n    ... 6 more\nCaused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration ':app:debugRuntimeClasspath'.\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.rethrowFailure(DefaultConfiguration.java:1175)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.access$2100(DefaultConfiguration.java:135)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$ConfigurationFileCollection.getFiles(DefaultConfiguration.java:1150)\n    at org.gradle.api.internal.file.AbstractFileCollection.iterator(AbstractFileCollection.java:72)\n    at org.gradle.api.internal.file.collections.DefaultFileCollectionResolveContext$FileTreeConverter.convertInto(DefaultFileCollectionResolveContext.java:209)\n    at org.gradle.api.internal.file.collections.DefaultFileCollectionResolveContext.doResolve(DefaultFileCollectionResolveContext.java:114)\n    at org.gradle.api.internal.file.collections.DefaultFileCollectionResolveContext.resolveAsFileTrees(DefaultFileCollectionResolveContext.java:85)\n    at org.gradle.api.internal.file.AbstractFileCollection$2.visitContents(AbstractFileCollection.java:171)\n    at org.gradle.api.internal.file.CompositeFileCollection.getSourceCollections(CompositeFileCollection.java:191)\n    at org.gradle.api.internal.file.CompositeFileTree.getSourceCollections(CompositeFileTree.java:39)\n    at org.gradle.api.internal.file.CompositeFileCollection$2.visitContents(CompositeFileCollection.java:150)\n    at org.gradle.api.internal.file.collections.DefaultFileCollectionResolveContext.resolveNested(DefaultFileCollectionResolveContext.java:144)\n    at org.gradle.api.internal.file.collections.DefaultFileCollectionResolveContext.doResolve(DefaultFileCollectionResolveContext.java:112)\n    at org.gradle.api.internal.file.collections.DefaultFileCollectionResolveContext.resolveAsFileCollections(DefaultFileCollectionResolveContext.java:92)\n    at org.gradle.api.internal.file.collections.DefaultFileCollectionResolveContext$FileCollectionConverter.convertInto(DefaultFileCollectionResolveContext.java:164)\n    at org.gradle.api.internal.file.collections.DefaultFileCollectionResolveContext.doResolve(DefaultFileCollectionResolveContext.java:109)\n    at org.gradle.api.internal.file.collections.DefaultFileCollectionResolveContext.resolveAsFileCollections(DefaultFileCollectionResolveContext.java:92)\n    at org.gradle.api.internal.file.CompositeFileCollection.getSourceCollections(CompositeFileCollection.java:192)\n    at org.gradle.api.internal.file.CompositeFileCollection.visitLeafCollections(CompositeFileCollection.java:204)\n    at org.gradle.internal.snapshot.impl.DefaultFileSystemSnapshotter.snapshot(DefaultFileSystemSnapshotter.java:126)\n    at org.gradle.internal.fingerprint.impl.AbstractFileCollectionFingerprinter.fingerprint(AbstractFileCollectionFingerprinter.java:47)\n    at org.gradle.internal.fingerprint.impl.AbstractPathOnlyFileCollectionFingerprinter.fingerprint(AbstractPathOnlyFileCollectionFingerprinter.java:36)\n    at org.gradle.api.internal.changedetection.changes.TaskFingerprintUtil.fingerprintTaskFiles(TaskFingerprintUtil.java:82)\n    at org.gradle.api.internal.changedetection.state.CacheBackedTaskHistoryRepository.createExecution(CacheBackedTaskHistoryRepository.java:123)\n    at org.gradle.api.internal.changedetection.state.CacheBackedTaskHistoryRepository.access$100(CacheBackedTaskHistoryRepository.java:46)\n    at org.gradle.api.internal.changedetection.state.CacheBackedTaskHistoryRepository$1.getBeforeExecutionState(CacheBackedTaskHistoryRepository.java:86)\n    at org.gradle.api.internal.changedetection.changes.DefaultTaskArtifactStateRepository$TaskArtifactStateImpl.getExecutionStateChanges(DefaultTaskArtifactStateRepository.java:189)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.getChangesSincePreviousExecution(ExecuteActionsTaskExecuter.java:182)\n    at org.gradle.internal.execution.impl.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:52)\n    at org.gradle.internal.execution.impl.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:36)\n    at org.gradle.internal.execution.impl.DefaultWorkExecutor.execute(DefaultWorkExecutor.java:34)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:91)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:91)\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:119)\n    at org.gradle.api.internal.tasks.execution.ResolvePreviousStateExecuter.execute(ResolvePreviousStateExecuter.java:43)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:93)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:45)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:94)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    ... 25 more\nCaused by: org.gradle.api.artifacts.transform.ArtifactTransformException: Failed to transform artifact 'core.aar (androidx.core:core:1.6.0)' to match attributes {artifactType=android-dex, dexing-is-debuggable=true, dexing-min-sdk=22}\n    at org.gradle.api.internal.artifacts.transform.TransformingArtifactVisitor.visitArtifact(TransformingArtifactVisitor.java:53)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.artifact.ArtifactBackedResolvedVariant$SingleArtifactSet.visit(ArtifactBackedResolvedVariant.java:112)\n    at org.gradle.api.internal.artifacts.transform.TransformCompletion.visit(TransformCompletion.java:42)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.artifact.CompositeResolvedArtifactSet$CompositeResult.visit(CompositeResolvedArtifactSet.java:83)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.artifact.ParallelResolveArtifactSet$VisitingSet.visit(ParallelResolveArtifactSet.java:64)\n    at org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration.visitArtifacts(DefaultLenientConfiguration.java:256)\n    at org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration.access$500(DefaultLenientConfiguration.java:69)\n    at org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$2.run(DefaultLenientConfiguration.java:231)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:301)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:293)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:91)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n    at org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration.visitArtifactsWithBuildOperation(DefaultLenientConfiguration.java:228)\n    at org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration.access$200(DefaultLenientConfiguration.java:69)\n    at org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$1.visitArtifacts(DefaultLenientConfiguration.java:133)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$ConfigurationFileCollection.getFiles(DefaultConfiguration.java:1147)\n    ... 64 more\nCaused by: org.gradle.internal.execution.ExecutionException: Execution failed for DexingTransform: C:\\Users\\Name\\.gradle\\caches\\transforms-2\\files-2.1\\789a8d5fd3984ecc130fdf5c38d59598\\jetified-classes.jar.\n    at org.gradle.internal.execution.impl.steps.CatchExceptionStep.execute(CatchExceptionStep.java:35)\n    at org.gradle.internal.execution.impl.steps.CreateOutputsStep.execute(CreateOutputsStep.java:50)\n    at org.gradle.internal.execution.impl.steps.SnapshotOutputStep.execute(SnapshotOutputStep.java:43)\n    at org.gradle.internal.execution.impl.steps.SnapshotOutputStep.execute(SnapshotOutputStep.java:29)\n    at org.gradle.internal.execution.impl.steps.CacheStep.executeWithoutCache(CacheStep.java:134)\n    at org.gradle.internal.execution.impl.steps.CacheStep.lambda$execute$3(CacheStep.java:83)\n    at java.util.Optional.orElseGet(Optional.java:267)\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1667024545,"post_id":74242779,"comment_id":131077326,"body_markdown":"RecyclerView does supports [ConcateAdapter](https://medium.com/androiddevelopers/merge-adapters-sequentially-with-mergeadapter-294d2942127a) . AFAIK `ListView` does not .","body":"RecyclerView does supports <a href=\"https://medium.com/androiddevelopers/merge-adapters-sequentially-with-mergeadapter-294d2942127a\" rel=\"nofollow noreferrer\">ConcateAdapter</a> . AFAIK <code>ListView</code> does not ."}],"answers":[{"tags":[],"owner":{"account_id":20192524,"reputation":149,"user_id":14810367,"display_name":"Talha Chaudhry"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667051336,"creation_date":1667051268,"answer_id":74245855,"question_id":74242779,"body_markdown":"One thing you can do is, you can create two view Holders in one adapter.\r\nBy doing so you can Implement different logic for different view holders and it will be more easier and accurate.\r\n\r\n(Preferred to use RecyclerView)","title":"Add two different adapters to one listView in java","body":"<p>One thing you can do is, you can create two view Holders in one adapter.\nBy doing so you can Implement different logic for different view holders and it will be more easier and accurate.</p>\n<p>(Preferred to use RecyclerView)</p>\n"}],"owner":{"account_id":18139105,"reputation":85,"user_id":13193196,"display_name":"nim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667051336,"creation_date":1667016740,"question_id":74242779,"body_markdown":"I want to join two adapter into a one list view in a single page.\r\n\r\n```\r\nLoanApplicationAdapter adapter = new LoanApplicationAdapter(this, R.layout.item_loan, customerLoanApplicationList);\r\n```\r\n```\r\nLoanAdapter adapter = new LoanAdapter(this, R.layout.item_loan,customerLoanList);\r\n        binding.listLoan.setAdapter(adapter);\r\n\r\n```\r\nabove customerLoanApplicationList and customerLanList want to show in a one List view in my android application.Can you tell how can I do it.","title":"Add two different adapters to one listView in java","body":"<p>I want to join two adapter into a one list view in a single page.</p>\n<pre><code>LoanApplicationAdapter adapter = new LoanApplicationAdapter(this, R.layout.item_loan, customerLoanApplicationList);\n</code></pre>\n<pre><code>LoanAdapter adapter = new LoanAdapter(this, R.layout.item_loan,customerLoanList);\n        binding.listLoan.setAdapter(adapter);\n\n</code></pre>\n<p>above customerLoanApplicationList and customerLanList want to show in a one List view in my android application.Can you tell how can I do it.</p>\n"},{"tags":["java","spring-boot","api","rest"],"comments":[{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1667045774,"post_id":74245131,"comment_id":131080450,"body_markdown":"Can you please share your project folder structure?","body":"Can you please share your project folder structure?"},{"owner":{"account_id":23166977,"reputation":61,"user_id":17266758,"display_name":"Plus Ultra"},"score":1,"creation_date":1667047219,"post_id":74245131,"comment_id":131080707,"body_markdown":"I have added the folder structure","body":"I have added the folder structure"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1667047612,"post_id":74245131,"comment_id":131080799,"body_markdown":"What are you trying with `@ComponentScan(&quot;com/ajavacode/HNGBackendStage1/api.profile&quot;)`?","body":"What are you trying with <code>@ComponentScan(&quot;com&#47;ajavacode&#47;HNGBackendStage1&#47;api.profile&quot;)</code>&zwnj;&#8203;?"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1667047759,"post_id":74245131,"comment_id":131080834,"body_markdown":"@PlusUltra - Thanks for sharing folder structure, ComponentScan annotation value is incorrect. please fix it as per my answer.","body":"@PlusUltra - Thanks for sharing folder structure, ComponentScan annotation value is incorrect. please fix it as per my answer."}],"answers":[{"comments":[{"owner":{"account_id":23166977,"reputation":61,"user_id":17266758,"display_name":"Plus Ultra"},"score":0,"creation_date":1667048430,"post_id":74245298,"comment_id":131080974,"body_markdown":"Thanks, but that did not work, I have added the porm file, please have a look","body":"Thanks, but that did not work, I have added the porm file, please have a look"},{"owner":{"account_id":19205336,"reputation":63,"user_id":14032341,"display_name":"xynb"},"score":0,"creation_date":1667050849,"post_id":74245298,"comment_id":131081489,"body_markdown":"What url are you sending request?","body":"What url are you sending request?"}],"tags":[],"owner":{"account_id":19205336,"reputation":63,"user_id":14032341,"display_name":"xynb"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667046818,"creation_date":1667046818,"answer_id":74245298,"question_id":74245131,"body_markdown":"You have to check some items in your code;\r\n\r\n 1. Make sure the endpoint you are sending request , is correct .\r\n 2. Add @RequestMapping(&quot;Profile&quot;) to the controller to avoid repeated endpoint and reduce the ambiguity\r\n 3. Make sure your pom is correct","title":"Springboot Get Api Endpoint returns 404 not found","body":"<p>You have to check some items in your code;</p>\n<ol>\n<li>Make sure the endpoint you are sending request , is correct .</li>\n<li>Add @RequestMapping(&quot;Profile&quot;) to the controller to avoid repeated endpoint and reduce the ambiguity</li>\n<li>Make sure your pom is correct</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":23166977,"reputation":61,"user_id":17266758,"display_name":"Plus Ultra"},"score":0,"creation_date":1667048170,"post_id":74245397,"comment_id":131080905,"body_markdown":"JVM won&#39;t start, it suggests I map to the appropriate class","body":"JVM won&#39;t start, it suggests I map to the appropriate class"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1667048276,"post_id":74245397,"comment_id":131080929,"body_markdown":"you main class is present inside com.ajavacode.HNGBackendStage1 package right?","body":"you main class is present inside com.ajavacode.HNGBackendStage1 package right?"},{"owner":{"account_id":23166977,"reputation":61,"user_id":17266758,"display_name":"Plus Ultra"},"score":0,"creation_date":1667048309,"post_id":74245397,"comment_id":131080941,"body_markdown":"Field profile in com.ajavacode.HNGBackendStage1.api.ProfileController required a bean of type &#39;com.ajavacode.HNGBackendStage1.api.Profile&#39; that could not be found.\n\nthanks for your response","body":"Field profile in com.ajavacode.HNGBackendStage1.api.ProfileController required a bean of type &#39;com.ajavacode.HNGBackendStage1.api.Profile&#39; that could not be found.  thanks for your response"},{"owner":{"account_id":23166977,"reputation":61,"user_id":17266758,"display_name":"Plus Ultra"},"score":1,"creation_date":1667048366,"post_id":74245397,"comment_id":131080956,"body_markdown":"Yes that&#39;s where my Main class is","body":"Yes that&#39;s where my Main class is"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1667048446,"post_id":74245397,"comment_id":131080979,"body_markdown":"you are auto wiring DTO inside controller that is incorrect.","body":"you are auto wiring DTO inside controller that is incorrect."},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1667048454,"post_id":74245397,"comment_id":131080982,"body_markdown":"@Autowired\n    private Profile profile;","body":"@Autowired     private Profile profile;"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1667048481,"post_id":74245397,"comment_id":131080989,"body_markdown":"because Profile class is not a bean.","body":"because Profile class is not a bean."},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1667048530,"post_id":74245397,"comment_id":131081000,"body_markdown":"You should create a Profile class object inside userInfo() method.                  \n Profile profile=new Profile();","body":"You should create a Profile class object inside userInfo() method.                    Profile profile=new Profile();"},{"owner":{"account_id":23166977,"reputation":61,"user_id":17266758,"display_name":"Plus Ultra"},"score":0,"creation_date":1667048799,"post_id":74245397,"comment_id":131081055,"body_markdown":"That didn&#39;t work as well","body":"That didn&#39;t work as well"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1667048831,"post_id":74245397,"comment_id":131081062,"body_markdown":"What is error now? BTW I have updated my answer with ProfileController class fix.","body":"What is error now? BTW I have updated my answer with ProfileController class fix."},{"owner":{"account_id":23166977,"reputation":61,"user_id":17266758,"display_name":"Plus Ultra"},"score":0,"creation_date":1667049348,"post_id":74245397,"comment_id":131081153,"body_markdown":"Same 404 not found error","body":"Same 404 not found error"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1667049521,"post_id":74245397,"comment_id":131081183,"body_markdown":"I can see userInfo() method is private. Can you please make it public and try again","body":"I can see userInfo() method is private. Can you please make it public and try again"},{"owner":{"account_id":23166977,"reputation":61,"user_id":17266758,"display_name":"Plus Ultra"},"score":1,"creation_date":1667050537,"post_id":74245397,"comment_id":131081409,"body_markdown":"Thanks a lot, it worked. when I removed the Autowired  and mapped Componentscan as you suggested, The bug was fixed","body":"Thanks a lot, it worked. when I removed the Autowired  and mapped Componentscan as you suggested, The bug was fixed"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1667050586,"post_id":74245397,"comment_id":131081416,"body_markdown":"Good to know that issue is finally resolved  :)","body":"Good to know that issue is finally resolved  :)"},{"owner":{"account_id":23166977,"reputation":61,"user_id":17266758,"display_name":"Plus Ultra"},"score":0,"creation_date":1667051793,"post_id":74245397,"comment_id":131081709,"body_markdown":"One more thing please,  this returns the reference part but I&#39;m trying to get a String representation of the Variables","body":"One more thing please,  this returns the reference part but I&#39;m trying to get a String representation of the Variables"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1667051956,"post_id":74245397,"comment_id":131081747,"body_markdown":"You can return profile instead of profile.toString()","body":"You can return profile instead of profile.toString()"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1667052080,"post_id":74245397,"comment_id":131081773,"body_markdown":"Method return type should be Profile or ResponseEntity&lt;Profile&gt;","body":"Method return type should be Profile or ResponseEntity&lt;Profile&gt;"},{"owner":{"account_id":23166977,"reputation":61,"user_id":17266758,"display_name":"Plus Ultra"},"score":0,"creation_date":1667052282,"post_id":74245397,"comment_id":131081815,"body_markdown":"Yes, I did that but it displayed as a list, for the task it is to display as a String","body":"Yes, I did that but it displayed as a list, for the task it is to display as a String"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1667052361,"post_id":74245397,"comment_id":131081825,"body_markdown":"Ok Can you share your expected output?","body":"Ok Can you share your expected output?"},{"owner":{"account_id":23166977,"reputation":61,"user_id":17266758,"display_name":"Plus Ultra"},"score":0,"creation_date":1667052759,"post_id":74245397,"comment_id":131081907,"body_markdown":"something like this - {&quot;slackUsername&quot;:&quot;Benrobo&quot;,&quot;backend&quot;:true,&quot;age&quot;:20,&quot;bio&quot;:&quot;I\\&quot;m a chef &#129489;‍&#127859;, who cooks but not in a kitchen. I solve problem for a living using 1&#39;s and 0&#39;s &#129489;‍&#128187;.\\n      Fullstack Software Engineer&quot;}","body":"something like this - {&quot;slackUsername&quot;:&quot;Benrobo&quot;,&quot;backend&quot;:true,&quot;age&quot;:20,&quot;bio&quot;:&quot;I\\&zwnj;&#8203;&quot;m a chef 🧑‍🍳, who cooks but not in a kitchen. I solve problem for a living using 1&#39;s and 0&#39;s 🧑‍💻.\\n      Fullstack Software Engineer&quot;}"}],"tags":[],"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"comment_count":20,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667049681,"creation_date":1667047623,"answer_id":74245397,"question_id":74245131,"body_markdown":"Please fix the value in ```@ComponentScan``` annotation like this and try again.\r\n\r\n```\r\n@SpringBootApplication\r\n@ComponentScan(basePackages = &quot;com.ajavacode.HNGBackendStage1&quot;)\r\npublic class HngBackendStage1Application {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(HngBackendStage1Application.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\nAlso there is an issue in ```ProfileController``` class, you are auto wiring ```Profile``` class inside it. Profile class is not a bean so this is incorrect and userInfo() method is private, it should be public. Here is the fixed version.\r\n\r\n```\r\n@RestController\r\npublic class ProfileController {\r\n\r\n\r\n    @GetMapping(path = &quot;/profile&quot;)\r\n    public ResponseEntity&lt;String&gt; userInfo(){\r\n        Profile profile=new Profile();\r\n        profile.setSlackUsername(&quot;Ajava&quot;);\r\n        profile.setBackend(true);\r\n        profile.setAge(00);\r\n        profile.setBio(&quot;My name is Anakhe Ajayi, I&#39;m learning Java everyday and I love Jesus&quot;);\r\n        return ResponseEntity.ok(profile.toString());\r\n    }\r\n```","title":"Springboot Get Api Endpoint returns 404 not found","body":"<p>Please fix the value in <code>@ComponentScan</code> annotation like this and try again.</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages = &quot;com.ajavacode.HNGBackendStage1&quot;)\npublic class HngBackendStage1Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(HngBackendStage1Application.class, args);\n    }\n\n}\n</code></pre>\n<p>Also there is an issue in <code>ProfileController</code> class, you are auto wiring <code>Profile</code> class inside it. Profile class is not a bean so this is incorrect and userInfo() method is private, it should be public. Here is the fixed version.</p>\n<pre><code>@RestController\npublic class ProfileController {\n\n\n    @GetMapping(path = &quot;/profile&quot;)\n    public ResponseEntity&lt;String&gt; userInfo(){\n        Profile profile=new Profile();\n        profile.setSlackUsername(&quot;Ajava&quot;);\n        profile.setBackend(true);\n        profile.setAge(00);\n        profile.setBio(&quot;My name is Anakhe Ajayi, I'm learning Java everyday and I love Jesus&quot;);\n        return ResponseEntity.ok(profile.toString());\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":23166977,"reputation":61,"user_id":17266758,"display_name":"Plus Ultra"},"score":0,"creation_date":1667052848,"post_id":74245860,"comment_id":131081927,"body_markdown":"Thanks, this was helpful. I have refactored the package name","body":"Thanks, this was helpful. I have refactored the package name"}],"tags":[],"owner":{"account_id":8565960,"reputation":1060,"user_id":6418426,"display_name":"Andreas Siegel"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667051289,"creation_date":1667051289,"answer_id":74245860,"question_id":74245131,"body_markdown":"Looking at your code, there are a few things to mention.\r\n\r\nFirst of all, your package structure looks good (besides the fact that I, personally, would keep everything lowercase).\r\n\r\nWith the package structure that you have in place, you actually don&#39;t need any `@ComponentScan` annotation at all. The annotation `@SpringBootApplication` at your main class by default scans for components with the package of that class as the base package. So you only need to set something if you want to explicitly scan for components in some other package, e.g., either at a higher level or if you want to skip packages in the hierarchy.\r\n\r\nNext thing is the controller. Question here is: What do you actually want to achieve?\r\n\r\nI assume that you want to build an application that provides a `GET /profile` endpoint that returns a response object like the example below:\r\n\r\n```json\r\n{\r\n\r\n  &quot;slackUsername&quot;: &quot;alice&quot;,\r\n  &quot;backend&quot;: false,\r\n  &quot;age&quot;: 42,\r\n  &quot;bio&quot;: &quot;I&#39;m just an example&quot;\r\n}\r\n```\r\n\r\nIf my understanding is correct, there is at least one thing that is a bit odd: Currently, you defined a controller that would return the String representation of the `Profile` object. That isn&#39;t necessarily something as shown in the example above. If you do not override the `toString()` method, the result would be something like `com.ajavacode.HNGBackendStage1.api.Profile@6d06d69c` (see [this Baeldung article][1] for instance). And even if you use Lombok&#39;s `@Data` or `@ToString` annotations, the result will not be a JSON or XML representation but something that is suitable for logging, for instance.\r\n\r\nSpring will already take care of the serialization into JSON (or XML) format. In your controller you can just return the `Profile` object or, alternatively, a `ResponseEntity&lt;Profile&gt;`:\r\n\r\n```java\r\n@GetMapping(path = &quot;/profile&quot;)\r\npublic Profile userInfo(){\r\n  Profile profile=new Profile();\r\n  profile.setSlackUsername(&quot;Ajava&quot;);\r\n  profile.setBackend(true);\r\n  profile.setAge(00);\r\n  profile.setBio(&quot;My name is Anakhe Ajayi, I&#39;m learning Java everyday and I love Jesus&quot;);\r\n  return profile;\r\n}\r\n```\r\n\r\nThe above example would create a response with the profile as the response body and HTTP status code 200 OK. In case you use `ResponseEntity`, you could also adjust the HTTP status code but in your case that probably is not necessary (yet).\r\n\r\nAutowiring the `Profile` class also is not correct, as already mentioned. You only need to autowire classes beans, i.e., classes that are annotated with `@Component`, `@Service`, or `@Repository`. The class you &quot;autowired&quot; is just a POJO class representing some &quot;data object&quot;, nothing that provides any kind of business logic.\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-tostring","title":"Springboot Get Api Endpoint returns 404 not found","body":"<p>Looking at your code, there are a few things to mention.</p>\n<p>First of all, your package structure looks good (besides the fact that I, personally, would keep everything lowercase).</p>\n<p>With the package structure that you have in place, you actually don't need any <code>@ComponentScan</code> annotation at all. The annotation <code>@SpringBootApplication</code> at your main class by default scans for components with the package of that class as the base package. So you only need to set something if you want to explicitly scan for components in some other package, e.g., either at a higher level or if you want to skip packages in the hierarchy.</p>\n<p>Next thing is the controller. Question here is: What do you actually want to achieve?</p>\n<p>I assume that you want to build an application that provides a <code>GET /profile</code> endpoint that returns a response object like the example below:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n\n  &quot;slackUsername&quot;: &quot;alice&quot;,\n  &quot;backend&quot;: false,\n  &quot;age&quot;: 42,\n  &quot;bio&quot;: &quot;I'm just an example&quot;\n}\n</code></pre>\n<p>If my understanding is correct, there is at least one thing that is a bit odd: Currently, you defined a controller that would return the String representation of the <code>Profile</code> object. That isn't necessarily something as shown in the example above. If you do not override the <code>toString()</code> method, the result would be something like <code>com.ajavacode.HNGBackendStage1.api.Profile@6d06d69c</code> (see <a href=\"https://www.baeldung.com/java-tostring\" rel=\"nofollow noreferrer\">this Baeldung article</a> for instance). And even if you use Lombok's <code>@Data</code> or <code>@ToString</code> annotations, the result will not be a JSON or XML representation but something that is suitable for logging, for instance.</p>\n<p>Spring will already take care of the serialization into JSON (or XML) format. In your controller you can just return the <code>Profile</code> object or, alternatively, a <code>ResponseEntity&lt;Profile&gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(path = &quot;/profile&quot;)\npublic Profile userInfo(){\n  Profile profile=new Profile();\n  profile.setSlackUsername(&quot;Ajava&quot;);\n  profile.setBackend(true);\n  profile.setAge(00);\n  profile.setBio(&quot;My name is Anakhe Ajayi, I'm learning Java everyday and I love Jesus&quot;);\n  return profile;\n}\n</code></pre>\n<p>The above example would create a response with the profile as the response body and HTTP status code 200 OK. In case you use <code>ResponseEntity</code>, you could also adjust the HTTP status code but in your case that probably is not necessary (yet).</p>\n<p>Autowiring the <code>Profile</code> class also is not correct, as already mentioned. You only need to autowire classes beans, i.e., classes that are annotated with <code>@Component</code>, <code>@Service</code>, or <code>@Repository</code>. The class you &quot;autowired&quot; is just a POJO class representing some &quot;data object&quot;, nothing that provides any kind of business logic.</p>\n"}],"owner":{"account_id":23166977,"reputation":61,"user_id":17266758,"display_name":"Plus Ultra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":698,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74245397,"answer_count":3,"score":-1,"last_activity_date":1667051289,"creation_date":1667045271,"question_id":74245131,"body_markdown":"I&#39;m trying to create a Springboot Get API endpoint but I get a 404 not found error&#39; here is my code\r\n\r\nprofile.java\r\n```\r\n@Getter\r\n@Setter\r\npublic class Profile {\r\n\r\n    private String slackUsername;\r\n    private Boolean backend;\r\n    private Integer age;\r\n    private  String bio;\r\n```\r\nProfileController\r\n```\r\n@RestController\r\npublic class ProfileController {\r\n\r\n    @Autowired\r\n    private Profile profile;\r\n\r\n    @GetMapping(path = &quot;/profile&quot;)\r\n    private ResponseEntity&lt;String&gt; userInfo(){\r\n\r\n        profile.setSlackUsername(&quot;Ajava&quot;);\r\n        profile.setBackend(true);\r\n        profile.setAge(00);\r\n        profile.setBio(&quot;My name is Anakhe Ajayi, I&#39;m learning Java everyday and I love Jesus&quot;);\r\n        return ResponseEntity.ok(profile.toString());\r\n    }\r\n```\r\nMain\r\n```\r\n@SpringBootApplication\r\n@ComponentScan(&quot;com/ajavacode/HNGBackendStage1/api.profile&quot;)\r\npublic class HngBackendStage1Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(HngBackendStage1Application.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n[![Project folder structur][1]][1]\r\n\r\n\r\nporm.xml\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6Oc9t.png\r\n  [2]: https://i.stack.imgur.com/PQ7XC.png","title":"Springboot Get Api Endpoint returns 404 not found","body":"<p>I'm trying to create a Springboot Get API endpoint but I get a 404 not found error' here is my code</p>\n<p>profile.java</p>\n<pre><code>@Getter\n@Setter\npublic class Profile {\n\n    private String slackUsername;\n    private Boolean backend;\n    private Integer age;\n    private  String bio;\n</code></pre>\n<p>ProfileController</p>\n<pre><code>@RestController\npublic class ProfileController {\n\n    @Autowired\n    private Profile profile;\n\n    @GetMapping(path = &quot;/profile&quot;)\n    private ResponseEntity&lt;String&gt; userInfo(){\n\n        profile.setSlackUsername(&quot;Ajava&quot;);\n        profile.setBackend(true);\n        profile.setAge(00);\n        profile.setBio(&quot;My name is Anakhe Ajayi, I'm learning Java everyday and I love Jesus&quot;);\n        return ResponseEntity.ok(profile.toString());\n    }\n</code></pre>\n<p>Main</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(&quot;com/ajavacode/HNGBackendStage1/api.profile&quot;)\npublic class HngBackendStage1Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(HngBackendStage1Application.class, args);\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/6Oc9t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6Oc9t.png\" alt=\"Project folder structur\" /></a></p>\n<p>porm.xml\n<a href=\"https://i.stack.imgur.com/PQ7XC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PQ7XC.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","image","bufferedimage","graphics2d","javax.imageio"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1667049234,"post_id":74245544,"comment_id":131081130,"body_markdown":"Maybe the image isn&#39;t ready? Maybe you should `cloneG.dispose()` before the call to write. It would help if you had example images, that you know cause the problem.","body":"Maybe the image isn&#39;t ready? Maybe you should <code>cloneG.dispose()</code> before the call to write. It would help if you had example images, that you know cause the problem."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1667049289,"post_id":74245544,"comment_id":131081138,"body_markdown":"So, no exception is thrown? Per the ImageIO API, the `.write(...)` will return false if no appropriate image writer is found for the format name, here &quot;jpg&quot;, which shouldn&#39;t happen.  So, what is returned if you do: `ImageIO.getWriterFormatNames();`? What String array do you see?","body":"So, no exception is thrown? Per the ImageIO API, the <code>.write(...)</code> will return false if no appropriate image writer is found for the format name, here &quot;jpg&quot;, which shouldn&#39;t happen.  So, what is returned if you do: <code>ImageIO.getWriterFormatNames();</code>? What String array do you see?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1667049392,"post_id":74245544,"comment_id":131081162,"body_markdown":"Also, you may be looking in the wrong location for the file, or the directory may not exist. I&#39;d create the file on a separate line and print out its full path to help check this. When code is not working, best to break out your chained code and test each part.","body":"Also, you may be looking in the wrong location for the file, or the directory may not exist. I&#39;d create the file on a separate line and print out its full path to help check this. When code is not working, best to break out your chained code and test each part."},{"owner":{"account_id":18537356,"reputation":40,"user_id":13506708,"display_name":"Dario Sansone"},"score":0,"creation_date":1667050272,"post_id":74245544,"comment_id":131081346,"body_markdown":"If I put jpg in the &quot;formatName&quot; field, false is returned, if I put png instead, true is returned. Can you tell me the reason?\n`ImageIO.getWriterFormatNames();` returns an array of strings, and jpg is present.","body":"If I put jpg in the &quot;formatName&quot; field, false is returned, if I put png instead, true is returned. Can you tell me the reason? <code>ImageIO.getWriterFormatNames();</code> returns an array of strings, and jpg is present."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1667050878,"post_id":74245544,"comment_id":131081496,"body_markdown":"I can&#39;t explain the `false` being returned. In the array, is &quot;jpg&quot; capitalized the same as your own String? Or do you see uncapped and capped?","body":"I can&#39;t explain the <code>false</code> being returned. In the array, is &quot;jpg&quot; capitalized the same as your own String? Or do you see uncapped and capped?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1667051007,"post_id":74245544,"comment_id":131081521,"body_markdown":"It should return both `jpg` and `JPG`","body":"It should return both <code>jpg</code> and <code>JPG</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1667052942,"post_id":74245544,"comment_id":131081950,"body_markdown":"BTW (not THE problem) `drawImage(left, left.getWidth(), ... ` is probably wrong if the images are different sizes... probably meant to be `right.getWidth()`","body":"BTW (not THE problem) <code>drawImage(left, left.getWidth(), ... </code> is probably wrong if the images are different sizes... probably meant to be <code>right.getWidth()</code>"}],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667051203,"creation_date":1667051203,"answer_id":74245845,"question_id":74245544,"body_markdown":"I think it&#39;s because JPEG doesn&#39;t support transparency, and you used ARGB as the image buffer type.  Removing the &quot;A&quot; worked for me.\r\n\r\n     class Merge {\r\n        public static void main(String[] args) throws IOException {\r\n            BufferedImage imgClone = new BufferedImage( 50, 50, BufferedImage.TYPE_INT_RGB);\r\n            // returns &quot;true&quot;\r\n            System.out.println(ImageIO.write(imgClone, &quot;jpg&quot;, File.createTempFile( &quot;Test-&quot;, &quot;jpg&quot;))); \r\n        }\r\n    }","title":"Merge images in Java","body":"<p>I think it's because JPEG doesn't support transparency, and you used ARGB as the image buffer type.  Removing the &quot;A&quot; worked for me.</p>\n<pre><code> class Merge {\n    public static void main(String[] args) throws IOException {\n        BufferedImage imgClone = new BufferedImage( 50, 50, BufferedImage.TYPE_INT_RGB);\n        // returns &quot;true&quot;\n        System.out.println(ImageIO.write(imgClone, &quot;jpg&quot;, File.createTempFile( &quot;Test-&quot;, &quot;jpg&quot;))); \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18537356,"reputation":40,"user_id":13506708,"display_name":"Dario Sansone"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74245845,"answer_count":1,"score":0,"last_activity_date":1667051203,"creation_date":1667048952,"question_id":74245544,"body_markdown":"I am trying to merge two images in Java. The two photos must be positioned horizontally (the first to the left of the second).\r\nI think I have problems in the write method of the ImageIO class.\r\n\r\n\r\n```\r\nimport java.awt.Graphics2D;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.*;\r\nimport javax.imageio.*;\r\n\r\npublic class Merge {\r\n    public static void main(String[] args) throws IOException {\r\n        String p = &quot;../../Desktop/temp/&quot;;\r\n        BufferedImage left = ImageIO.read(new File(p+&quot;006.jpg&quot;));\r\n        BufferedImage right = ImageIO.read(new File(p+&quot;007.jpg&quot;));\r\n        BufferedImage imgClone = new BufferedImage(left.getWidth()+right.getWidth(), left.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n        Graphics2D cloneG = imgClone.createGraphics();\r\n        cloneG.drawImage(right, 0, 0, null);\r\n        cloneG.drawImage(left, left.getWidth(), 0, null);\r\n        System.out.println(ImageIO.write(imgClone, &quot;jpg&quot;, new File(p+&quot;001.jpg&quot;))); //always false\r\n        cloneG.dispose();\r\n    }\r\n}\r\n```\r\n\r\n\r\n`ImageIO.write(imgClone, &quot;jpg&quot;, new File(p+&quot;001.jpg&quot;))` always returns false, I think there is something wrong here but I can&#39;t figure out what.\r\nIf I go into debugging I can see the merged photo, but then it won&#39;t be saved in the folder.\r\n","title":"Merge images in Java","body":"<p>I am trying to merge two images in Java. The two photos must be positioned horizontally (the first to the left of the second).\nI think I have problems in the write method of the ImageIO class.</p>\n<pre><code>import java.awt.Graphics2D;\nimport java.awt.image.BufferedImage;\nimport java.io.*;\nimport javax.imageio.*;\n\npublic class Merge {\n    public static void main(String[] args) throws IOException {\n        String p = &quot;../../Desktop/temp/&quot;;\n        BufferedImage left = ImageIO.read(new File(p+&quot;006.jpg&quot;));\n        BufferedImage right = ImageIO.read(new File(p+&quot;007.jpg&quot;));\n        BufferedImage imgClone = new BufferedImage(left.getWidth()+right.getWidth(), left.getHeight(), BufferedImage.TYPE_INT_ARGB);\n        Graphics2D cloneG = imgClone.createGraphics();\n        cloneG.drawImage(right, 0, 0, null);\n        cloneG.drawImage(left, left.getWidth(), 0, null);\n        System.out.println(ImageIO.write(imgClone, &quot;jpg&quot;, new File(p+&quot;001.jpg&quot;))); //always false\n        cloneG.dispose();\n    }\n}\n</code></pre>\n<p><code>ImageIO.write(imgClone, &quot;jpg&quot;, new File(p+&quot;001.jpg&quot;))</code> always returns false, I think there is something wrong here but I can't figure out what.\nIf I go into debugging I can see the merged photo, but then it won't be saved in the folder.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1667048319,"post_id":74245302,"comment_id":131080943,"body_markdown":"Hi &amp;welcome! The error message complains about &quot;update&quot; statement, you show only code relevant to &quot;insert&quot; so far..?","body":"Hi &amp;welcome! The error message complains about &quot;update&quot; statement, you show only code relevant to &quot;insert&quot; so far..?"},{"owner":{"account_id":26768172,"reputation":1,"user_id":20364988,"display_name":"Dani221029"},"score":0,"creation_date":1667049868,"post_id":74245302,"comment_id":131081255,"body_markdown":"Sorry! I mixed up. The error for &quot;create&quot; and &quot;update&quot; is the same. \nbad SQL grammar [INSERT INTO users (name, surname, year_of_birth, email, password, position_id) VALUES (:name, :surname, :year_of_birth, :email, :password, (SELECT id FROM positions WHERE name = :position))]; nested exception is org.postgresql.util.PSQLException: Can&#39;t infer the SQL type to use for an instance of org.springframework.jdbc.core.namedparam.MapSqlParameterSource. Use setObject() with an explicit Types value to specify the type to use.] with root cause","body":"Sorry! I mixed up. The error for &quot;create&quot; and &quot;update&quot; is the same.  bad SQL grammar [INSERT INTO users (name, surname, year_of_birth, email, password, position_id) VALUES (:name, :surname, :year_of_birth, :email, :password, (SELECT id FROM positions WHERE name = :position))]; nested exception is org.postgresql.util.PSQLException: Can&#39;t infer the SQL type to use for an instance of org.springframework.jdbc.core.namedparam.MapSqlParameterSour&zwnj;&#8203;ce. Use setObject() with an explicit Types value to specify the type to use.] with root cause"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1667050125,"post_id":74245302,"comment_id":131081309,"body_markdown":"Ok, np, thank you! (You can [edit] post;)","body":"Ok, np, thank you! (You can <a href=\"https://stackoverflow.com/posts/74245302/edit\">edit</a> post;)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1667050274,"post_id":74245302,"comment_id":131081347,"body_markdown":"To the problem: [JdbcTemplate#update](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html) has (currently) 7 (6+1) overloads! ..please precise, which you want to use/is suited to your scenario...then use it accordingly!","body":"To the problem: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html\" rel=\"nofollow noreferrer\">JdbcTemplate#update</a> has (currently) 7 (6+1) overloads! ..please precise, which you want to use/is suited to your scenario...then use it accordingly!"}],"owner":{"account_id":26768172,"reputation":1,"user_id":20364988,"display_name":"Dani221029"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":918,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667050854,"creation_date":1667046832,"question_id":74245302,"body_markdown":"I&#39;m trying to create a new user and receive the following error:\r\n\r\n    ERROR 16444 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [INSERT INTO users (name, surname, year_of_birth, email, password, position_id) VALUES (:name, :surname, :year_of_birth, :email, :password, (SELECT id FROM positions WHERE name = :position))]; nested exception is org.postgresql.util.PSQLException: Can&#39;t infer the SQL type to use for an instance of org.springframework.jdbc.core.namedparam.MapSqlParameterSource. Use setObject() with an explicit Types value to specify the type to use.] with root cause\r\n    \r\n    org.postgresql.util.PSQLException: Can&#39;t infer the SQL type to use for an instance of org.springframework.jdbc.core.namedparam.MapSqlParameterSource. Use setObject() with an explicit Types value to specify the type to use.\r\n\r\n\r\nHere is my Controller:\r\n\r\n```\r\n    @PostMapping\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    public String create(Model model, @RequestParam Map&lt;String, Object&gt; parameters) {\r\n        UserDto userDto = new UserDto();\r\n        setParametersForUser(userDto, parameters);\r\n        model.addAttribute(&quot;user&quot;, userService.createUser(userDto));\r\n        return &quot;user&quot;;\r\n    }\r\n\r\n    private void setParametersForUser(UserDto userDto, Map&lt;String, Object&gt; parameters) {\r\n        userDto.setName(parameters.get(&quot;name&quot;).toString());\r\n        userDto.setSurname(parameters.get(&quot;surname&quot;).toString());\r\n        userDto.setYearOfBirth(Integer.valueOf(parameters.get(&quot;year_of_birth&quot;).toString()));\r\n        userDto.setEmail(parameters.get(&quot;email&quot;).toString());\r\n        userDto.setPassword(parameters.get(&quot;password&quot;).toString());\r\n  userDto.setPositionDto(UserDto.PositionDto.valueOf(parameters.get(&quot;position&quot;).toString()));\r\n    }\r\n\r\n```\r\nHere is my Service:\r\n\r\n```\r\n\r\n@Override\r\npublic UserDto createUser(UserDto userDto) {\r\n    User newUser = userDao.createUser(toUser(userDto));\r\n    return toDto(newUser);\r\n}\r\n\r\nprivate User toUser(UserDto userDto) {\r\n    User user = new User();\r\n    user.setId(userDto.getId());\r\n    user.setName(userDto.getName());\r\n    user.setSurname(userDto.getSurname());\r\n    user.setYearOfBirth(userDto.getYearOfBirth());\r\n    user.setEmail(userDto.getEmail());\r\n    user.setPassword(userDto.getPassword());\r\n    user.setPosition(User.Position.valueOf(userDto.getPositionDto().toString()));\r\n    return user;\r\n}\r\nprivate UserDto toDto(User entity) {\r\n    UserDto dto = new UserDto();\r\n    dto.setId(entity.getId());\r\n    dto.setName(entity.getName());\r\n    dto.setSurname(entity.getSurname());\r\n    dto.setYearOfBirth(entity.getYearOfBirth());\r\n    dto.setEmail(entity.getEmail());\r\n    dto.setPassword(entity.getPassword());\r\n    dto.setPositionDto(UserDto.PositionDto.valueOf(entity.getPosition().toString()));\r\n    return dto;\r\n}\r\n\r\n```\r\nHere is Dao:\r\n\r\n\r\n```\r\nprivate static final String INSERT = &quot;INSERT INTO users (name, surname, year_of_birth, email, password, position_id) VALUES (:name, :surname, :year_of_birth, :email, :password, (SELECT id FROM positions WHERE name = : position))&quot;;\r\n\r\n@Override\r\npublic User createUser(User user) {\r\n    KeyHolder keyHolder = new GeneratedKeyHolder();\r\n    Map&lt;String, Object&gt; parameters = getParameters(user);\r\n    SqlParameterSource source = new MapSqlParameterSource(parameters);\r\n    int rowsUpdated = template.update(INSERT, source, keyHolder, new String[]{&quot;id&quot;}); //mistake is here \r\n    if (rowsUpdated != 1) {\r\n        throw new RuntimeException(&quot;Can&#39;t create user&quot;);\r\n    }\r\n    Long id = Optional.ofNullable(keyHolder.getKey()).map(Number::longValue).orElseThrow(() -&gt; new RuntimeException(&quot;Can&#39;t create user&quot;));\r\n    return getUserById(id);\r\n}\r\n\r\nprivate Map&lt;String, Object&gt; getParameters(User user) {\r\n    Map&lt;String, Object&gt; parameters = new HashMap&lt;&gt;();\r\n    parameters.put(&quot;name&quot;, user.getName());\r\n    parameters.put(&quot;surname&quot;, user.getSurname());\r\n    parameters.put(&quot;year_of_birth&quot;, user.getYearOfBirth().toString());\r\n    parameters.put(&quot;email&quot;, user.getEmail());\r\n    parameters.put(&quot;password&quot;, user.getPassword());\r\n    parameters.put(&quot;position&quot;, user.getPosition().toString());\r\n    return parameters;\r\n}\r\n\r\n\r\n```\r\nUser must be as follows:\r\n\r\n```\r\npublic class User\r\nprivate Long id;\r\nprivate String name;\r\nprivate String surname;\r\nprivate Integer yearOfBirth;\r\nprivate String email;\r\nprivate String password;\r\nprivate Position position;\r\n\r\npublic enum Position {\r\n    CEO,\r\n    MANAGER,\r\n    WORKER\r\n}\r\n\r\n```\r\nAnd tables in PostgreSQL:\r\n\r\n```\r\nCREATE TABLE positions (\r\n   id BIGSERIAL PRIMARY KEY,\r\n   name VARCHAR(100)\r\n)\r\n\r\nCREATE TABLE users (\r\n   id BIGSERIAL PRIMARY KEY,\r\n   name VARCHAR(100) NOT NULL,\r\n   surname VARCHAR(100) NOT NULL,\r\n   year_of_birth INTEGER,\r\n   email VARCHAR(100) NOT NULL,\r\n   password VARCHAR(20) NOT NULL,\r\n   position_id BIGINT REFERENCES positions,\r\n   deleted BOOLEAN DEFAULT false NOT NULL\r\n)\r\n\r\nINSERT INTO positions (name)\r\nVALUES (&#39;CEO&#39;),\r\n     (&#39;MANAGER&#39;),\r\n     (&#39;WORKER&#39;);\r\n\r\nINSERT INTO users (name, surname, year_of_birth, email, password, position_id)\r\nVALUES (&#39;Tom&#39;,&#39;Ands&#39;,1999,&#39;Tom@ggg.com&#39;,&#39;R887h24hs&#39;,(SELECT id FROM positions WHERE name = &#39;WORKER&#39;));\r\n\r\n```\r\nWhere can be the problem? Pls help","title":"Java Spring JDBC. PSQLException: Use setObject() with an explicit Types value to specify the type to use","body":"<p>I'm trying to create a new user and receive the following error:</p>\n<pre><code>ERROR 16444 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [INSERT INTO users (name, surname, year_of_birth, email, password, position_id) VALUES (:name, :surname, :year_of_birth, :email, :password, (SELECT id FROM positions WHERE name = :position))]; nested exception is org.postgresql.util.PSQLException: Can't infer the SQL type to use for an instance of org.springframework.jdbc.core.namedparam.MapSqlParameterSource. Use setObject() with an explicit Types value to specify the type to use.] with root cause\n\norg.postgresql.util.PSQLException: Can't infer the SQL type to use for an instance of org.springframework.jdbc.core.namedparam.MapSqlParameterSource. Use setObject() with an explicit Types value to specify the type to use.\n</code></pre>\n<p>Here is my Controller:</p>\n<pre><code>    @PostMapping\n    @ResponseStatus(HttpStatus.CREATED)\n    public String create(Model model, @RequestParam Map&lt;String, Object&gt; parameters) {\n        UserDto userDto = new UserDto();\n        setParametersForUser(userDto, parameters);\n        model.addAttribute(&quot;user&quot;, userService.createUser(userDto));\n        return &quot;user&quot;;\n    }\n\n    private void setParametersForUser(UserDto userDto, Map&lt;String, Object&gt; parameters) {\n        userDto.setName(parameters.get(&quot;name&quot;).toString());\n        userDto.setSurname(parameters.get(&quot;surname&quot;).toString());\n        userDto.setYearOfBirth(Integer.valueOf(parameters.get(&quot;year_of_birth&quot;).toString()));\n        userDto.setEmail(parameters.get(&quot;email&quot;).toString());\n        userDto.setPassword(parameters.get(&quot;password&quot;).toString());\n  userDto.setPositionDto(UserDto.PositionDto.valueOf(parameters.get(&quot;position&quot;).toString()));\n    }\n\n</code></pre>\n<p>Here is my Service:</p>\n<pre><code>\n@Override\npublic UserDto createUser(UserDto userDto) {\n    User newUser = userDao.createUser(toUser(userDto));\n    return toDto(newUser);\n}\n\nprivate User toUser(UserDto userDto) {\n    User user = new User();\n    user.setId(userDto.getId());\n    user.setName(userDto.getName());\n    user.setSurname(userDto.getSurname());\n    user.setYearOfBirth(userDto.getYearOfBirth());\n    user.setEmail(userDto.getEmail());\n    user.setPassword(userDto.getPassword());\n    user.setPosition(User.Position.valueOf(userDto.getPositionDto().toString()));\n    return user;\n}\nprivate UserDto toDto(User entity) {\n    UserDto dto = new UserDto();\n    dto.setId(entity.getId());\n    dto.setName(entity.getName());\n    dto.setSurname(entity.getSurname());\n    dto.setYearOfBirth(entity.getYearOfBirth());\n    dto.setEmail(entity.getEmail());\n    dto.setPassword(entity.getPassword());\n    dto.setPositionDto(UserDto.PositionDto.valueOf(entity.getPosition().toString()));\n    return dto;\n}\n\n</code></pre>\n<p>Here is Dao:</p>\n<pre><code>private static final String INSERT = &quot;INSERT INTO users (name, surname, year_of_birth, email, password, position_id) VALUES (:name, :surname, :year_of_birth, :email, :password, (SELECT id FROM positions WHERE name = : position))&quot;;\n\n@Override\npublic User createUser(User user) {\n    KeyHolder keyHolder = new GeneratedKeyHolder();\n    Map&lt;String, Object&gt; parameters = getParameters(user);\n    SqlParameterSource source = new MapSqlParameterSource(parameters);\n    int rowsUpdated = template.update(INSERT, source, keyHolder, new String[]{&quot;id&quot;}); //mistake is here \n    if (rowsUpdated != 1) {\n        throw new RuntimeException(&quot;Can't create user&quot;);\n    }\n    Long id = Optional.ofNullable(keyHolder.getKey()).map(Number::longValue).orElseThrow(() -&gt; new RuntimeException(&quot;Can't create user&quot;));\n    return getUserById(id);\n}\n\nprivate Map&lt;String, Object&gt; getParameters(User user) {\n    Map&lt;String, Object&gt; parameters = new HashMap&lt;&gt;();\n    parameters.put(&quot;name&quot;, user.getName());\n    parameters.put(&quot;surname&quot;, user.getSurname());\n    parameters.put(&quot;year_of_birth&quot;, user.getYearOfBirth().toString());\n    parameters.put(&quot;email&quot;, user.getEmail());\n    parameters.put(&quot;password&quot;, user.getPassword());\n    parameters.put(&quot;position&quot;, user.getPosition().toString());\n    return parameters;\n}\n\n\n</code></pre>\n<p>User must be as follows:</p>\n<pre><code>public class User\nprivate Long id;\nprivate String name;\nprivate String surname;\nprivate Integer yearOfBirth;\nprivate String email;\nprivate String password;\nprivate Position position;\n\npublic enum Position {\n    CEO,\n    MANAGER,\n    WORKER\n}\n\n</code></pre>\n<p>And tables in PostgreSQL:</p>\n<pre><code>CREATE TABLE positions (\n   id BIGSERIAL PRIMARY KEY,\n   name VARCHAR(100)\n)\n\nCREATE TABLE users (\n   id BIGSERIAL PRIMARY KEY,\n   name VARCHAR(100) NOT NULL,\n   surname VARCHAR(100) NOT NULL,\n   year_of_birth INTEGER,\n   email VARCHAR(100) NOT NULL,\n   password VARCHAR(20) NOT NULL,\n   position_id BIGINT REFERENCES positions,\n   deleted BOOLEAN DEFAULT false NOT NULL\n)\n\nINSERT INTO positions (name)\nVALUES ('CEO'),\n     ('MANAGER'),\n     ('WORKER');\n\nINSERT INTO users (name, surname, year_of_birth, email, password, position_id)\nVALUES ('Tom','Ands',1999,'Tom@ggg.com','R887h24hs',(SELECT id FROM positions WHERE name = 'WORKER'));\n\n</code></pre>\n<p>Where can be the problem? Pls help</p>\n"},{"tags":["java","spring-boot","vaadin"],"answers":[{"comments":[{"owner":{"account_id":11926310,"reputation":627,"user_id":8727518,"display_name":"Michael Kročka"},"score":0,"creation_date":1667051411,"post_id":74245758,"comment_id":131081629,"body_markdown":"Can I get a hint as to what would the URL look like in practice? I have downloaded the images outside of the source folder to a separate directory, created an img tag with src attribute, but not sure what is expected to be passed to the src attribute.","body":"Can I get a hint as to what would the URL look like in practice? I have downloaded the images outside of the source folder to a separate directory, created an img tag with src attribute, but not sure what is expected to be passed to the src attribute."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1667054087,"post_id":74245758,"comment_id":131082184,"body_markdown":"the files must be accessible thought http like: https://yourserver/images/image.png","body":"the files must be accessible thought http like: <a href=\"https://yourserver/images/image.png\" rel=\"nofollow noreferrer\">yourserver/images/image.png</a>"}],"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667050509,"creation_date":1667050509,"answer_id":74245758,"question_id":74245433,"body_markdown":"You are downloading the image in a source folder. This will not work in production as you will have a JAR or WAR.\r\n\r\nYou must download the image to a directory on the server and the create a img tag with a URL to the image on the server.","title":"Images downloaded during runtime show broken link icon, on second startup show correctly","body":"<p>You are downloading the image in a source folder. This will not work in production as you will have a JAR or WAR.</p>\n<p>You must download the image to a directory on the server and the create a img tag with a URL to the image on the server.</p>\n"}],"owner":{"account_id":11926310,"reputation":627,"user_id":8727518,"display_name":"Michael Kročka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667050509,"creation_date":1667047903,"question_id":74245433,"body_markdown":"I have a script that downloads images from a target page when I click on a link in my application. When the images are downloaded I want to show them in the browser as Image components. The images download with no problem and are stored in path `src\\main\\resources\\META-INF\\resources\\images\\`. When I try to show the downloaded images I create an Image component: `add(new Image(&quot;images/img.png&quot;, &quot;&quot;))`. This, however, shows a &quot;image not loaded&quot; icon. When I restart the application server and go to the target URL with the images already downloaded from the previous attempt, they are shown with no problem. What can I do to fix this?","title":"Images downloaded during runtime show broken link icon, on second startup show correctly","body":"<p>I have a script that downloads images from a target page when I click on a link in my application. When the images are downloaded I want to show them in the browser as Image components. The images download with no problem and are stored in path <code>src\\main\\resources\\META-INF\\resources\\images\\</code>. When I try to show the downloaded images I create an Image component: <code>add(new Image(&quot;images/img.png&quot;, &quot;&quot;))</code>. This, however, shows a &quot;image not loaded&quot; icon. When I restart the application server and go to the target URL with the images already downloaded from the previous attempt, they are shown with no problem. What can I do to fix this?</p>\n"},{"tags":["java","android","view","constructor","duplicates"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1667051168,"post_id":74245723,"comment_id":131081556,"body_markdown":"&quot;the constructor of the view is executed two times!&quot; -- that is because you are creating two instances of the `CustomView`.","body":"&quot;the constructor of the view is executed two times!&quot; -- that is because you are creating two instances of the <code>CustomView</code>."}],"answers":[{"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667050446,"creation_date":1667050446,"answer_id":74245746,"question_id":74245723,"body_markdown":"You can put a breakpoint in the constructor to examine the call stack and to learn where it is called exactly.\r\n\r\nThe first invocation comes from `setContentView` when the layout containing your custom view is inflated.\r\n\r\nThe second invocation is your explicit constructor call `new CustomView(...)` in your activity code.","title":"Android Custom View&#39;s constructor is executed twice","body":"<p>You can put a breakpoint in the constructor to examine the call stack and to learn where it is called exactly.</p>\n<p>The first invocation comes from <code>setContentView</code> when the layout containing your custom view is inflated.</p>\n<p>The second invocation is your explicit constructor call <code>new CustomView(...)</code> in your activity code.</p>\n"}],"owner":{"account_id":23674750,"reputation":1,"user_id":17701120,"display_name":"osama zaza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667050446,"creation_date":1667050256,"question_id":74245723,"body_markdown":"I have faced an issue after creating custom view class in android. The issue is simply, when I create an object of the custom view, its constructor is executed multiple times.\r\n\r\n\r\nCode of the main Activity Class\r\n\r\n```\r\npublic class MainActivity2 extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main2);\r\n\r\n\r\n        CustomView customView = new CustomView(this, null);\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nCode of the customView\r\n\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport android.content.Context;\r\nimport android.util.AttributeSet;\r\nimport android.view.View;\r\n\r\nimport androidx.annotation.Nullable;\r\n\r\npublic class CustomView extends View {\r\n\r\n\r\n    public CustomView(Context context, @Nullable AttributeSet attrs) {\r\n        super(context, attrs);\r\n        System.out.println(&quot;Custom View is executed&quot;);\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nCode of main Activity&#39;s xml layout file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:weightSum=&quot;4&quot;\r\n    tools:context=&quot;.MainActivity2&quot;&gt;\r\n\r\n\r\n    &lt;com.example.myapplication.CustomView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;/com.example.myapplication.CustomView&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nThe expected result is: the constructor of the view is executed one time\r\nActual Result: the constructor of the view is executed two times!","title":"Android Custom View&#39;s constructor is executed twice","body":"<p>I have faced an issue after creating custom view class in android. The issue is simply, when I create an object of the custom view, its constructor is executed multiple times.</p>\n<p>Code of the main Activity Class</p>\n<pre><code>public class MainActivity2 extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n\n\n        CustomView customView = new CustomView(this, null);\n\n\n    }\n\n\n}\n\n</code></pre>\n<p>Code of the customView</p>\n<pre><code>package com.example.myapplication;\n\nimport android.content.Context;\nimport android.util.AttributeSet;\nimport android.view.View;\n\nimport androidx.annotation.Nullable;\n\npublic class CustomView extends View {\n\n\n    public CustomView(Context context, @Nullable AttributeSet attrs) {\n        super(context, attrs);\n        System.out.println(&quot;Custom View is executed&quot;);\n    }\n\n\n\n}\n\n</code></pre>\n<p>Code of main Activity's xml layout file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:weightSum=&quot;4&quot;\n    tools:context=&quot;.MainActivity2&quot;&gt;\n\n\n    &lt;com.example.myapplication.CustomView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;/com.example.myapplication.CustomView&gt;\n\n\n\n\n\n\n\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n\n\n\n</code></pre>\n<p>The expected result is: the constructor of the view is executed one time\nActual Result: the constructor of the view is executed two times!</p>\n"},{"tags":["java","spring","postgresql","jpa","hibernate-criteria"],"comments":[{"owner":{"display_name":"user330315"},"score":1,"creation_date":1667044901,"post_id":74245062,"comment_id":131080308,"body_markdown":"The JSON operators `#&gt;` and `@&gt;` are documented [in the manual](https://www.postgresql.org/docs/current/functions-json.html)","body":"The JSON operators <code>#&gt;</code> and <code>@&gt;</code> are documented <a href=\"https://www.postgresql.org/docs/current/functions-json.html\" rel=\"nofollow noreferrer\">in the manual</a>"},{"owner":{"account_id":20621069,"reputation":53,"user_id":15138087,"display_name":"Evgenia Rubanova"},"score":0,"creation_date":1667045237,"post_id":74245062,"comment_id":131080367,"body_markdown":"@a_horse_with_no_name Thank you! For some reason I could not manage to find the explanation for these operators.","body":"@a_horse_with_no_name Thank you! For some reason I could not manage to find the explanation for these operators."}],"answers":[{"tags":[],"owner":{"account_id":20621069,"reputation":53,"user_id":15138087,"display_name":"Evgenia Rubanova"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667049390,"creation_date":1667049390,"answer_id":74245616,"question_id":74245062,"body_markdown":"1) jsonb ***@&gt;*** jsonb → boolean\r\n\r\n****&quot;Does the first JSON value contain the second?&quot;****\r\n\r\n    &#39;{&quot;a&quot;:1, &quot;b&quot;:2}&#39;::jsonb @&gt; &#39;{&quot;b&quot;:2}&#39;::jsonb → true\r\n\r\n2) jsonb **#&gt;** text[] → jsonb\r\n\r\n**Extracts JSON sub-object at the specified path, where path elements can be either field keys or array indexes.**\r\n\r\n    &#39;{&quot;a&quot;: {&quot;b&quot;: [&quot;foo&quot;,&quot;bar&quot;]}}&#39;::json #&gt; &#39;{a,b,1}&#39; → &quot;bar&quot;\r\n\r\n","title":"How does this PostgreSQL request work? (Java CriteriaBuilder)","body":"<ol>\n<li>jsonb <em><strong>@&gt;</strong></em> jsonb → boolean</li>\n</ol>\n<p><strong><strong>&quot;Does the first JSON value contain the second?&quot;</strong></strong></p>\n<pre><code>'{&quot;a&quot;:1, &quot;b&quot;:2}'::jsonb @&gt; '{&quot;b&quot;:2}'::jsonb → true\n</code></pre>\n<ol start=\"2\">\n<li>jsonb <strong>#&gt;</strong> text[] → jsonb</li>\n</ol>\n<p><strong>Extracts JSON sub-object at the specified path, where path elements can be either field keys or array indexes.</strong></p>\n<pre><code>'{&quot;a&quot;: {&quot;b&quot;: [&quot;foo&quot;,&quot;bar&quot;]}}'::json #&gt; '{a,b,1}' → &quot;bar&quot;\n</code></pre>\n"}],"owner":{"account_id":20621069,"reputation":53,"user_id":15138087,"display_name":"Evgenia Rubanova"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667049390,"creation_date":1667044740,"question_id":74245062,"body_markdown":"I&#39;m trying to understand how this works. I have the following **CriteriaBuilder** which works with custom **jsonb_function**:\r\n\r\n```\r\n          builder.equal(\r\n                builder.function(&quot;jsonb_function&quot;,\r\n                        Boolean.class,\r\n                        builder.literal(pathArrayLiteral),\r\n                        root.get(ATTRIBUTE_COMPOSITION),\r\n                        builder.literal(simpleEntries)),\r\n                Boolean.TRUE);\r\n```\r\n\r\nThe **jsonb_function** is:\r\n\r\n    CREATE OR REPLACE FUNCTION jsonb_function(path TEXT, json JSONB, searchSeq TEXT)\r\n        RETURNS BOOLEAN AS\r\n    $BODY$\r\n        BEGIN\r\n        return (json #&gt; cast(path as text[])) @&gt; cast(searchSeq as jsonb);\r\n        END;\r\n    $BODY$\r\n    LANGUAGE plpgsql;\r\n\r\nAn example of the first function argument ***path TEXT*** - {&quot;transitCurrencyAccount&quot;}. The second one ***json JSONB*** is json from DB which root gets (?).\r\nThe third one ***searchSeq TEXT*** - {&quot;accountType&quot;:&quot;12&quot;,&quot;accountNumber&quot;:&quot;718294019284103&quot;}.\r\n\r\nSo I see there is a kind of comparison in this ****jsonb_function**** which returns if the json from DB contains the passed arguments values but I don&#39;t clearly understand how it works. What exactly these parameters **&#39;#&gt;&#39;** and **&#39;@&gt;&#39;** do in plpgsql?\r\n\r\nAfter I manage to understand it, I&#39;ll need to write a similar function with the only difference. It should return true for the *&quot;accountNumber&quot;* for example in all following cases: &quot;718294019284103&quot;, &quot;718&quot;, &quot;71829&quot;, &quot;7182940&quot; etc.","title":"How does this PostgreSQL request work? (Java CriteriaBuilder)","body":"<p>I'm trying to understand how this works. I have the following <strong>CriteriaBuilder</strong> which works with custom <strong>jsonb_function</strong>:</p>\n<pre><code>          builder.equal(\n                builder.function(&quot;jsonb_function&quot;,\n                        Boolean.class,\n                        builder.literal(pathArrayLiteral),\n                        root.get(ATTRIBUTE_COMPOSITION),\n                        builder.literal(simpleEntries)),\n                Boolean.TRUE);\n</code></pre>\n<p>The <strong>jsonb_function</strong> is:</p>\n<pre><code>CREATE OR REPLACE FUNCTION jsonb_function(path TEXT, json JSONB, searchSeq TEXT)\n    RETURNS BOOLEAN AS\n$BODY$\n    BEGIN\n    return (json #&gt; cast(path as text[])) @&gt; cast(searchSeq as jsonb);\n    END;\n$BODY$\nLANGUAGE plpgsql;\n</code></pre>\n<p>An example of the first function argument <em><strong>path TEXT</strong></em> - {&quot;transitCurrencyAccount&quot;}. The second one <em><strong>json JSONB</strong></em> is json from DB which root gets (?).\nThe third one <em><strong>searchSeq TEXT</strong></em> - {&quot;accountType&quot;:&quot;12&quot;,&quot;accountNumber&quot;:&quot;718294019284103&quot;}.</p>\n<p>So I see there is a kind of comparison in this <strong><strong>jsonb_function</strong></strong> which returns if the json from DB contains the passed arguments values but I don't clearly understand how it works. What exactly these parameters <strong>'#&gt;'</strong> and <strong>'@&gt;'</strong> do in plpgsql?</p>\n<p>After I manage to understand it, I'll need to write a similar function with the only difference. It should return true for the <em>&quot;accountNumber&quot;</em> for example in all following cases: &quot;718294019284103&quot;, &quot;718&quot;, &quot;71829&quot;, &quot;7182940&quot; etc.</p>\n"},{"tags":["java","android","if-statement"],"comments":[{"owner":{"account_id":6237073,"reputation":488,"user_id":4852017,"accept_rate":89,"display_name":"ZeldaZach"},"score":2,"creation_date":1498937305,"post_id":44864630,"comment_id":76708631,"body_markdown":"if (counter &gt;= 1) {} or maybe have 2 if&#39;s if (counter &gt; 1) {} else if (counter == 1) {}... trying to figure out what you mean","body":"if (counter &gt;= 1) {} or maybe have 2 if&#39;s if (counter &gt; 1) {} else if (counter == 1) {}... trying to figure out what you mean"},{"owner":{"account_id":10891088,"reputation":876,"user_id":8006847,"accept_rate":81,"display_name":"markharrop"},"score":0,"creation_date":1498937466,"post_id":44864630,"comment_id":76708687,"body_markdown":"does &gt;=1 mean more than = 1? i think that may work.","body":"does &gt;=1 mean more than = 1? i think that may work."},{"owner":{"account_id":6237073,"reputation":488,"user_id":4852017,"accept_rate":89,"display_name":"ZeldaZach"},"score":1,"creation_date":1498937545,"post_id":44864630,"comment_id":76708705,"body_markdown":"&gt;= means &quot;greater than or equal to&quot; ... @markharrop Maybe you should look over common syntax in the Java language to get a better idea of all the cool things you can do!","body":"&gt;= means &quot;greater than or equal to&quot; ... @markharrop Maybe you should look over common syntax in the Java language to get a better idea of all the cool things you can do!"},{"owner":{"account_id":10891088,"reputation":876,"user_id":8006847,"accept_rate":81,"display_name":"markharrop"},"score":0,"creation_date":1498939221,"post_id":44864630,"comment_id":76709176,"body_markdown":"thanks #Zelda im going to have a look now","body":"thanks #Zelda im going to have a look now"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1498940469,"post_id":44864630,"comment_id":76709542,"body_markdown":"@markharrop You should definitely [read this](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html).","body":"@markharrop You should definitely <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html\" rel=\"nofollow noreferrer\">read this</a>."},{"owner":{"account_id":10891088,"reputation":876,"user_id":8006847,"accept_rate":81,"display_name":"markharrop"},"score":0,"creation_date":1498949688,"post_id":44864630,"comment_id":76711532,"body_markdown":"brilliant just what i was after thank you","body":"brilliant just what i was after thank you"}],"answers":[{"comments":[{"owner":{"account_id":10891088,"reputation":876,"user_id":8006847,"accept_rate":81,"display_name":"markharrop"},"score":0,"creation_date":1498939168,"post_id":44864723,"comment_id":76709157,"body_markdown":"im just trying this now","body":"im just trying this now"}],"tags":[],"owner":{"account_id":9772101,"reputation":11,"user_id":7243596,"display_name":"Antun"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498937779,"creation_date":1498937779,"answer_id":44864723,"question_id":44864630,"body_markdown":"To do nothing you can just use return.\r\n\r\n    if(/*number&gt;your counting method*/)return;","title":"How do I stop a number from being lower in an if statement","body":"<p>To do nothing you can just use return.</p>\n\n<pre><code>if(/*number&gt;your counting method*/)return;\n</code></pre>\n"}],"owner":{"account_id":10891088,"reputation":876,"user_id":8006847,"accept_rate":81,"display_name":"markharrop"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667049204,"creation_date":1498937215,"question_id":44864630,"body_markdown":"In my app I have a reward system. It uses Firebase database to release the rewards.\r\n\r\nFor example if a user downloads 2 items and watches a short advert it registers their userid and the number 1 to the database. My app then receives that number and adds the relevant reward. But let&#39;s say I add the number 2 manually to my database for a prize for a competition or something similar, it does add the reward. But then if they download another item it cancels the reward and goes back to the number set by the official counting method I have set up.\r\n\r\nIs there a way to say if the number is higher than the one in the official counting method do nothing?\r\n\r\nThis is my simple code:\r\n    \r\n     }else\r\n        if (counter == 1) {\r\n            mRewards.mstreaming.setBackground( mcontext.getResources().getDrawable(R.drawable.buttonbkground2) );\r\n\r\nIf it already = 2 I don&#39;t want it to go back to the above.\r\n     ","title":"How do I stop a number from being lower in an if statement","body":"<p>In my app I have a reward system. It uses Firebase database to release the rewards.</p>\n<p>For example if a user downloads 2 items and watches a short advert it registers their userid and the number 1 to the database. My app then receives that number and adds the relevant reward. But let's say I add the number 2 manually to my database for a prize for a competition or something similar, it does add the reward. But then if they download another item it cancels the reward and goes back to the number set by the official counting method I have set up.</p>\n<p>Is there a way to say if the number is higher than the one in the official counting method do nothing?</p>\n<p>This is my simple code:</p>\n<pre><code> }else\n    if (counter == 1) {\n        mRewards.mstreaming.setBackground( mcontext.getResources().getDrawable(R.drawable.buttonbkground2) );\n</code></pre>\n<p>If it already = 2 I don't want it to go back to the above.</p>\n"},{"tags":["java","android","android-viewpager"],"answers":[{"tags":[],"owner":{"account_id":10891088,"reputation":876,"user_id":8006847,"accept_rate":81,"display_name":"markharrop"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1521562500,"creation_date":1521562500,"answer_id":49389203,"question_id":49384227,"body_markdown":"ok ive done this dont know if this the proper way to do it but it does work.\r\n\r\n    public CharSequence getPageTitle(int position){\r\n    if (position==0) {\r\n        return &quot;New Releases&quot;;\r\n    }\r\n    return &quot;A-Z&quot;;\r\n}","title":"Changing the tabs text in Android Tabview","body":"<p>ok ive done this dont know if this the proper way to do it but it does work.</p>\n\n<pre><code>public CharSequence getPageTitle(int position){\nif (position==0) {\n    return \"New Releases\";\n}\nreturn \"A-Z\";\n</code></pre>\n\n<p>}</p>\n"}],"owner":{"account_id":10891088,"reputation":876,"user_id":8006847,"accept_rate":81,"display_name":"markharrop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49389203,"answer_count":1,"score":2,"last_activity_date":1667048887,"creation_date":1521548834,"question_id":49384227,"body_markdown":"Today I&#39;m messing with Android&#39;s tabview in an app I&#39;m currently working on. I want to have 2 sections one called New Releases and the other Called A-Z. So I&#39;ve watched a tutorial video because I&#39;ve never tried to use this view before. In the tutorial they use CharSequence getPageTitle(int position) to get the title of the page. But how can I change this to instead say New Releases and A-Z?\r\n\r\nHere is how I&#39;ve set my tabs up at the moment:\r\n\r\nactivity_main.xml\r\n\r\n    &lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;studios.p9p.harrop99.tabproject.MainActivity&quot;&gt;\r\n\r\n\r\n    &lt;android.support.v4.view.ViewPager\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:id=&quot;@+id/view_pager&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/tabs_indicator&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        tools:layout_editor_absoluteX=&quot;8dp&quot; /&gt;\r\n\r\n    &lt;com.hold1.pagertabsindicator.PagerTabsIndicator\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;64dp&quot;\r\n        android:id=&quot;@+id/tabs_indicator&quot;\r\n        android:background=&quot;@android:color/white&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        tools:layout_editor_absoluteX=&quot;0dp&quot;\r\n\r\n        app:tab_indicator=&quot;top_bar&quot;\r\n        app:tab_indicator_scale_type=&quot;centerInside&quot;\r\n        app:tab_lock_expanded=&quot;true&quot;\r\n        /&gt;\r\n    &lt;/android.support.constraint.ConstraintLayout&gt;\r\n\r\nActivityMain class\r\n\r\n    List&lt;Model&gt;  models = new ArrayList&lt;&gt;();\r\n    ViewPager viewpager;\r\n    PagerTabsIndicator tabs;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        initModel();\r\n\r\n        viewpager = (ViewPager)findViewById(R.id.view_pager);\r\n        tabs = (PagerTabsIndicator)findViewById(R.id.tabs_indicator);\r\n        viewpager.setAdapter(new HarropPageAdapter(models,this));\r\n        tabs.setViewPager(viewpager);\r\n    }\r\n\r\n    private void initModel() {\r\n        for(int i = 0;i&lt;2;i++)\r\n\r\n        models.add(new Model(&quot;Page&quot;+(i+i),0));\r\n    }\r\n    }\r\n\r\nModels class\r\n\r\n    public class Model {\r\n    private String title;\r\n    private int id;\r\n    public Model(){\r\n\r\n    }\r\n    public Model (String title, int id){\r\n        this.title = title;\r\n        this.id = id;\r\n    }\r\n    public String getTitle(){\r\n        return title;\r\n    }\r\n    public void setTitle(String title){\r\n        this.title = title;\r\n    }\r\n    public int getId(){\r\n        return id;\r\n    }\r\n    public void setId(int id){\r\n        this.id = id;\r\n    }\r\n    }\r\n\r\nAdapter class\r\n\r\n    public class HarropPageAdapter extends PagerAdapter {\r\n\r\n    List&lt;Model&gt; models;\r\n    Context context;\r\n\r\n     public HarropPageAdapter(List&lt;Model&gt; models,Context context){\r\n     this.models = models;\r\n     this.context = context;\r\n     }\r\n    public CharSequence getPageTitle(int position){\r\n    ;\r\n    return &quot;Page &quot;+ (position+1)  ;\r\n    }\r\n\r\n\r\n    @Override\r\n    public int getCount() {\r\n        return models.size();\r\n    }\r\n\r\n    @Override\r\n    public boolean isViewFromObject(View view, Object object) {\r\n        return view == object;\r\n    }\r\n\r\n    @Override\r\n    public void destroyItem(ViewGroup container, int position, Object object) {\r\n        ((ViewGroup)container).removeView((View)object);\r\n    }\r\n\r\n    @Override\r\n    public Object instantiateItem(ViewGroup container, int position) {\r\n        LayoutInflater inflater =  LayoutInflater.from(context);\r\n        View itemView =inflater.inflate(R.layout.layout_item,container, false);\r\n        TextView textView = itemView.findViewById(R.id.titleapp);\r\n        textView.setText(models.get(position).getTitle());\r\n        container.addView(itemView);\r\n        return itemView;\r\n    }\r\n    }\r\n","title":"Changing the tabs text in Android Tabview","body":"<p>Today I'm messing with Android's tabview in an app I'm currently working on. I want to have 2 sections one called New Releases and the other Called A-Z. So I've watched a tutorial video because I've never tried to use this view before. In the tutorial they use CharSequence getPageTitle(int position) to get the title of the page. But how can I change this to instead say New Releases and A-Z?</p>\n<p>Here is how I've set my tabs up at the moment:</p>\n<p>activity_main.xml</p>\n<pre><code>&lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;studios.p9p.harrop99.tabproject.MainActivity&quot;&gt;\n\n\n&lt;android.support.v4.view.ViewPager\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;0dp&quot;\n    android:id=&quot;@+id/view_pager&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@+id/tabs_indicator&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    tools:layout_editor_absoluteX=&quot;8dp&quot; /&gt;\n\n&lt;com.hold1.pagertabsindicator.PagerTabsIndicator\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;64dp&quot;\n    android:id=&quot;@+id/tabs_indicator&quot;\n    android:background=&quot;@android:color/white&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    tools:layout_editor_absoluteX=&quot;0dp&quot;\n\n    app:tab_indicator=&quot;top_bar&quot;\n    app:tab_indicator_scale_type=&quot;centerInside&quot;\n    app:tab_lock_expanded=&quot;true&quot;\n    /&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n<p>ActivityMain class</p>\n<pre><code>List&lt;Model&gt;  models = new ArrayList&lt;&gt;();\nViewPager viewpager;\nPagerTabsIndicator tabs;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    initModel();\n\n    viewpager = (ViewPager)findViewById(R.id.view_pager);\n    tabs = (PagerTabsIndicator)findViewById(R.id.tabs_indicator);\n    viewpager.setAdapter(new HarropPageAdapter(models,this));\n    tabs.setViewPager(viewpager);\n}\n\nprivate void initModel() {\n    for(int i = 0;i&lt;2;i++)\n\n    models.add(new Model(&quot;Page&quot;+(i+i),0));\n}\n}\n</code></pre>\n<p>Models class</p>\n<pre><code>public class Model {\nprivate String title;\nprivate int id;\npublic Model(){\n\n}\npublic Model (String title, int id){\n    this.title = title;\n    this.id = id;\n}\npublic String getTitle(){\n    return title;\n}\npublic void setTitle(String title){\n    this.title = title;\n}\npublic int getId(){\n    return id;\n}\npublic void setId(int id){\n    this.id = id;\n}\n}\n</code></pre>\n<p>Adapter class</p>\n<pre><code>public class HarropPageAdapter extends PagerAdapter {\n\nList&lt;Model&gt; models;\nContext context;\n\n public HarropPageAdapter(List&lt;Model&gt; models,Context context){\n this.models = models;\n this.context = context;\n }\npublic CharSequence getPageTitle(int position){\n;\nreturn &quot;Page &quot;+ (position+1)  ;\n}\n\n\n@Override\npublic int getCount() {\n    return models.size();\n}\n\n@Override\npublic boolean isViewFromObject(View view, Object object) {\n    return view == object;\n}\n\n@Override\npublic void destroyItem(ViewGroup container, int position, Object object) {\n    ((ViewGroup)container).removeView((View)object);\n}\n\n@Override\npublic Object instantiateItem(ViewGroup container, int position) {\n    LayoutInflater inflater =  LayoutInflater.from(context);\n    View itemView =inflater.inflate(R.layout.layout_item,container, false);\n    TextView textView = itemView.findViewById(R.id.titleapp);\n    textView.setText(models.get(position).getTitle());\n    container.addView(itemView);\n    return itemView;\n}\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","spring-transactions"],"answers":[{"comments":[{"owner":{"account_id":25226419,"reputation":25,"user_id":19062211,"display_name":"Pavel Ryabykh"},"score":0,"creation_date":1667122831,"post_id":74245521,"comment_id":131092125,"body_markdown":"Thank you very much! I will implement your advice and then I will come back with the result :)","body":"Thank you very much! I will implement your advice and then I will come back with the result :)"},{"owner":{"account_id":25226419,"reputation":25,"user_id":19062211,"display_name":"Pavel Ryabykh"},"score":0,"creation_date":1667308552,"post_id":74245521,"comment_id":131133478,"body_markdown":"Thanks a lot! It was the issue :) Your advise helped and now it&#39;s working fine!","body":"Thanks a lot! It was the issue :) Your advise helped and now it&#39;s working fine!"}],"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667048735,"creation_date":1667048735,"answer_id":74245521,"question_id":74244823,"body_markdown":"That pattern:\r\n```java\r\nTransactionStatus tx = transactionManager.getTransaction(...);\r\ntry {\r\n    ...\r\n} catch (Exception e) {\r\n    if (!(e instanceof RuntimeException)) {\r\n        transactionManager.rollback(tx);\r\n    }\r\n    throw e;\r\n}\r\ntry {\r\n    transactionManager.commit(tx);\r\n} catch (Exception e) {\r\n    ...\r\n    throw new TransactionException();\r\n}\r\nreturn savedEntity.getId();\r\n```\r\n\r\nis definitely incorrect, the rule of thumb is: you **must** finish (either commit or rollback) transaction in the same place where you have started it. However in your case that is not true, so you are encountering resource leaks and other related consequences.\r\n\r\nIf you need to cleanup some external resources upon transaction rollback you have following options:\r\n\r\n1. spring-tx way:\r\n\r\n```java\r\nTransactionSynchronizationManager.registerSynchronization(new TransactionSynchronization() {\r\n    @Override\r\n    public void afterCompletion(int status) {\r\n        if (STATUS_ROLLED_BACK== status) {\r\n            // do something\r\n        }\r\n    }\r\n});\r\n```\r\n\r\n2. hibernate way:\r\n\r\n\r\n```\r\nSessionImplementor session = entityManager.unwrap(SessionImplementor.class);\r\nsession.addEventListeners(new BaseSessionEventListener() {\r\n\r\n    @Override\r\n    public void transactionCompletion(boolean success) {\r\n        if (!success) {\r\n            // do something\r\n        }\r\n    }\r\n\r\n});\r\n```\r\n\r\n3. another hibernate way:\r\n\r\n```java\r\nSessionImplementor session = entityManager.unwrap(SessionImplementor.class);\r\nsession.getActionQueue().registerProcess((success, sess) -&gt; {\r\n    if (!success) {\r\n        // do something\r\n    }\r\n});\r\n```","title":"Pre-bound JDBC Connection found! JpaTransactionManager does not support running within DataSourceTransactionManager if told to manage the DataSourc","body":"<p>That pattern:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TransactionStatus tx = transactionManager.getTransaction(...);\ntry {\n    ...\n} catch (Exception e) {\n    if (!(e instanceof RuntimeException)) {\n        transactionManager.rollback(tx);\n    }\n    throw e;\n}\ntry {\n    transactionManager.commit(tx);\n} catch (Exception e) {\n    ...\n    throw new TransactionException();\n}\nreturn savedEntity.getId();\n</code></pre>\n<p>is definitely incorrect, the rule of thumb is: you <strong>must</strong> finish (either commit or rollback) transaction in the same place where you have started it. However in your case that is not true, so you are encountering resource leaks and other related consequences.</p>\n<p>If you need to cleanup some external resources upon transaction rollback you have following options:</p>\n<ol>\n<li>spring-tx way:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>TransactionSynchronizationManager.registerSynchronization(new TransactionSynchronization() {\n    @Override\n    public void afterCompletion(int status) {\n        if (STATUS_ROLLED_BACK== status) {\n            // do something\n        }\n    }\n});\n</code></pre>\n<ol start=\"2\">\n<li>hibernate way:</li>\n</ol>\n<pre><code>SessionImplementor session = entityManager.unwrap(SessionImplementor.class);\nsession.addEventListeners(new BaseSessionEventListener() {\n\n    @Override\n    public void transactionCompletion(boolean success) {\n        if (!success) {\n            // do something\n        }\n    }\n\n});\n</code></pre>\n<ol start=\"3\">\n<li>another hibernate way:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>SessionImplementor session = entityManager.unwrap(SessionImplementor.class);\nsession.getActionQueue().registerProcess((success, sess) -&gt; {\n    if (!success) {\n        // do something\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":25226419,"reputation":25,"user_id":19062211,"display_name":"Pavel Ryabykh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2519,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74245521,"answer_count":1,"score":0,"last_activity_date":1667048735,"creation_date":1667042521,"question_id":74244823,"body_markdown":"I have Spring Boot application which works with PostgreSQL database.\r\n\r\nI have only one datasource which is using for Spring Data JPA operations and for Liquibase migrations (I guess).\r\n\r\n```\r\nspring:\r\n  datasource:\r\n    driver-class-name: org.postgresql.Driver\r\n    url: jdbc:postgresql://*************/*****\r\n    username: *******\r\n    password: *******\r\n    type: com.zaxxer.hikari.HikariDataSource\r\n    connection-test-query: SELECT 1;\r\n    idle-timeout: 30000\r\n    maximum-pool-size: 100\r\n    minimum-idle: 7\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: validate\r\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\r\n    show-sql: false\r\n    properties:\r\n      hibernate:\r\n        default_schema: public\r\n        format_sql: true\r\n        enable_lazy_load_no_trans: true\r\n        generate_statistics: false\r\n        jdbc.batch_size: 100\r\n        order_inserts: true\r\n        order_updates: true\r\n        jdbc.batch_versioned_data: true\r\n        query.fail_on_pagination_over_collection_fetch: true\r\n  liquibase:\r\n    liquibase-schema: public\r\n    default-schema: public\r\n    change-log: classpath:db/changelog/db.changelog-master.xml\r\n```\r\n\r\nI also have Spring Boot configuration class that specifies which one transaction manager I wanna have in my application.\r\n\r\n```\r\n@Configuration\r\npublic class TransactionManagerConfig {\r\n\r\n    @Primary\r\n    @Bean(name = &quot;transactionManager&quot;)\r\n    public PlatformTransactionManager transactionManager(SessionFactory sessionFactory) {\r\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n        transactionManager.setEntityManagerFactory(sessionFactory);\r\n        return transactionManager;\r\n    }\r\n}\r\n```\r\nWhen it comes to using my database, I have to different ways to communicate with my data.\r\nFirst one is using service method annoteted with @Transactional annotation. For example for simple reading I use next approach:\r\n\r\n```\r\n@Transactional(readOnly = true, isolation = Isolation.READ_COMMITTED)\r\npublic List&lt;Dto&gt; fetchAll() {...\r\n```\r\n\r\nAnd another way is a little bit more complicated but still usual. For example for update I am interacting with transaction manually:\r\n\r\n```\r\n@Service\r\npublic class EntityService {\r\n    @Autowired\r\n    private DocumentRepository documentRepository;\r\n\r\n    @Autowired\r\n    private PlatformTransactionManager transactionManager;\r\n\r\n    public Long update(Long id, Entity entity) {\r\n        DefaultTransactionDefinition transForCursor = new DefaultTransactionDefinition();\r\n        transForCursor.setIsolationLevel(TransactionDefinition.ISOLATION_READ_COMMITTED);\r\n        transForCursor.setPropagationBehavior(TransactionDefinition.PROPAGATION_REQUIRED);\r\n        TransactionStatus cursorTransactionStatus = transactionManager.getTransaction(transForCursor);\r\n        try {\r\n            //...\r\n            //here I am interactiong with S3 File storage\r\n            //...\r\n            savedEntity = entityRepository.save(entity);\r\n        } catch (Exception e) {\r\n            //...\r\n            //if I catch any exception I should delete files from S3 File storage\r\n            //which I just uploaded and only then I should rollback database transaction\r\n            //...\r\n            if (!(e instanceof RuntimeException)) {\r\n                transactionManager.rollback(cursorTransactionStatus);\r\n            }\r\n            throw e;\r\n        }\r\n        try {\r\n            transactionManager.commit(cursorTransactionStatus);\r\n        } catch (Exception e) {\r\n            //...\r\n            //if any exception happens when I was trying to commit I still should delete files\r\n            //...\r\n            throw new TransactionException();\r\n        }\r\n        return savedEntity.getId();\r\n    }\r\n}\r\n```\r\nAnd the problem is that sometimes I get this exception when I am calling read or update method:\r\n\r\n```\r\norg.springframework.transaction.IllegalTransactionStateException: Pre-bound JDBC Connection found! JpaTransactionManager does not support running within DataSourceTransactionManager if told to manage the DataSource itself. It is recommended to use a single JpaTransactionManager for all transactions on a single DataSource, no matter whether JPA or JDBC access.\r\n```\r\nBut sometimes it&#39;s just working fine without any errors.\r\nAnd the most incredibly interestion thing here that last time when I got this problem I had this exception **every tenth call** of my read method.\r\n\r\nDoes anyone have any idea why it can be happening and how to fix it?\r\nThank you very much for your time and your answers!\r\n\r\nI tried to fix it by adding @Transactional annotation to my read method. And I added @Primay annotation to my configuration class where I define transaction manager. But unfortunately it didn&#39;t help me. I was try to find the same problem here but I didn&#39;t meet the same conditions.","title":"Pre-bound JDBC Connection found! JpaTransactionManager does not support running within DataSourceTransactionManager if told to manage the DataSourc","body":"<p>I have Spring Boot application which works with PostgreSQL database.</p>\n<p>I have only one datasource which is using for Spring Data JPA operations and for Liquibase migrations (I guess).</p>\n<pre><code>spring:\n  datasource:\n    driver-class-name: org.postgresql.Driver\n    url: jdbc:postgresql://*************/*****\n    username: *******\n    password: *******\n    type: com.zaxxer.hikari.HikariDataSource\n    connection-test-query: SELECT 1;\n    idle-timeout: 30000\n    maximum-pool-size: 100\n    minimum-idle: 7\n  jpa:\n    hibernate:\n      ddl-auto: validate\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\n    show-sql: false\n    properties:\n      hibernate:\n        default_schema: public\n        format_sql: true\n        enable_lazy_load_no_trans: true\n        generate_statistics: false\n        jdbc.batch_size: 100\n        order_inserts: true\n        order_updates: true\n        jdbc.batch_versioned_data: true\n        query.fail_on_pagination_over_collection_fetch: true\n  liquibase:\n    liquibase-schema: public\n    default-schema: public\n    change-log: classpath:db/changelog/db.changelog-master.xml\n</code></pre>\n<p>I also have Spring Boot configuration class that specifies which one transaction manager I wanna have in my application.</p>\n<pre><code>@Configuration\npublic class TransactionManagerConfig {\n\n    @Primary\n    @Bean(name = &quot;transactionManager&quot;)\n    public PlatformTransactionManager transactionManager(SessionFactory sessionFactory) {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(sessionFactory);\n        return transactionManager;\n    }\n}\n</code></pre>\n<p>When it comes to using my database, I have to different ways to communicate with my data.\nFirst one is using service method annoteted with @Transactional annotation. For example for simple reading I use next approach:</p>\n<pre><code>@Transactional(readOnly = true, isolation = Isolation.READ_COMMITTED)\npublic List&lt;Dto&gt; fetchAll() {...\n</code></pre>\n<p>And another way is a little bit more complicated but still usual. For example for update I am interacting with transaction manually:</p>\n<pre><code>@Service\npublic class EntityService {\n    @Autowired\n    private DocumentRepository documentRepository;\n\n    @Autowired\n    private PlatformTransactionManager transactionManager;\n\n    public Long update(Long id, Entity entity) {\n        DefaultTransactionDefinition transForCursor = new DefaultTransactionDefinition();\n        transForCursor.setIsolationLevel(TransactionDefinition.ISOLATION_READ_COMMITTED);\n        transForCursor.setPropagationBehavior(TransactionDefinition.PROPAGATION_REQUIRED);\n        TransactionStatus cursorTransactionStatus = transactionManager.getTransaction(transForCursor);\n        try {\n            //...\n            //here I am interactiong with S3 File storage\n            //...\n            savedEntity = entityRepository.save(entity);\n        } catch (Exception e) {\n            //...\n            //if I catch any exception I should delete files from S3 File storage\n            //which I just uploaded and only then I should rollback database transaction\n            //...\n            if (!(e instanceof RuntimeException)) {\n                transactionManager.rollback(cursorTransactionStatus);\n            }\n            throw e;\n        }\n        try {\n            transactionManager.commit(cursorTransactionStatus);\n        } catch (Exception e) {\n            //...\n            //if any exception happens when I was trying to commit I still should delete files\n            //...\n            throw new TransactionException();\n        }\n        return savedEntity.getId();\n    }\n}\n</code></pre>\n<p>And the problem is that sometimes I get this exception when I am calling read or update method:</p>\n<pre><code>org.springframework.transaction.IllegalTransactionStateException: Pre-bound JDBC Connection found! JpaTransactionManager does not support running within DataSourceTransactionManager if told to manage the DataSource itself. It is recommended to use a single JpaTransactionManager for all transactions on a single DataSource, no matter whether JPA or JDBC access.\n</code></pre>\n<p>But sometimes it's just working fine without any errors.\nAnd the most incredibly interestion thing here that last time when I got this problem I had this exception <strong>every tenth call</strong> of my read method.</p>\n<p>Does anyone have any idea why it can be happening and how to fix it?\nThank you very much for your time and your answers!</p>\n<p>I tried to fix it by adding @Transactional annotation to my read method. And I added @Primay annotation to my configuration class where I define transaction manager. But unfortunately it didn't help me. I was try to find the same problem here but I didn't meet the same conditions.</p>\n"},{"tags":["java","android","android-cardview","android-gridlayout"],"answers":[{"tags":[],"owner":{"account_id":12269473,"reputation":61,"user_id":8955048,"display_name":"Damsith Karunaratna"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519433975,"creation_date":1519433564,"answer_id":48958231,"question_id":48958127,"body_markdown":"You could try using an `onTouchListener` instead of an `onClickListener` to capture the &quot;Motion event&quot; this is an Object used to report movement (mouse, pen, finger, trackball) events.\r\n\r\n    cardview.setOnTouchListener(new OnTouchListener() {\r\n        @Override\r\n        public boolean onTouch(View view, MotionEvent event) {\r\n            if (event.getAction() == MotionEvent.ACTION_DOWN) {\r\n                // set color here\r\n            } else if (event.getAction() == MotionEvent.ACTION_UP) {\r\n                // set other color here\r\n            }\r\n        }\r\n    };\r\n\r\nhere is a list of motion event constants from the android [documentation page](https://developer.android.com/reference/android/view/MotionEvent.html)","title":"How to change the colour of a cardview when selected?clicked","body":"<p>You could try using an <code>onTouchListener</code> instead of an <code>onClickListener</code> to capture the \"Motion event\" this is an Object used to report movement (mouse, pen, finger, trackball) events.</p>\n\n<pre><code>cardview.setOnTouchListener(new OnTouchListener() {\n    @Override\n    public boolean onTouch(View view, MotionEvent event) {\n        if (event.getAction() == MotionEvent.ACTION_DOWN) {\n            // set color here\n        } else if (event.getAction() == MotionEvent.ACTION_UP) {\n            // set other color here\n        }\n    }\n};\n</code></pre>\n\n<p>here is a list of motion event constants from the android <a href=\"https://developer.android.com/reference/android/view/MotionEvent.html\" rel=\"nofollow noreferrer\">documentation page</a></p>\n"},{"comments":[{"owner":{"account_id":2279106,"reputation":9588,"user_id":2004685,"accept_rate":69,"display_name":"user2004685"},"score":1,"creation_date":1519434336,"post_id":48958234,"comment_id":84923493,"body_markdown":"@markharropYou&#39;re Welcome! I&#39;m glad it solved your problem.","body":"@markharropYou&#39;re Welcome! I&#39;m glad it solved your problem."}],"tags":[],"owner":{"account_id":2279106,"reputation":9588,"user_id":2004685,"accept_rate":69,"display_name":"user2004685"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1519433598,"creation_date":1519433598,"answer_id":48958234,"question_id":48958127,"body_markdown":"You can try using `OnTouchListener` with `ACTION_DOWN` and `ACTION_UP` to handle Press/Release events instead of `OnClickListener`.\r\n\r\n**Modified Code**:\r\n\r\n    public void setSingleEvent(GridLayout maingrid) {\r\n        for (int i = 0; i &lt; maingrid.getChildCount(); i++) {\r\n            final CardView cardView = (CardView) maingrid.getChildAt(i);\r\n            final int finalI = i;\r\n\r\n            cardView.setOnTouchListener(new OnTouchListener () {\r\n              public boolean onTouch(View view, MotionEvent event) {\r\n                if (event.getAction() == android.view.MotionEvent.ACTION_DOWN) {\r\n                  Toast.makeText(mcontext, &quot;Button: &quot; + finalI, Toast.LENGTH_SHORT).show();\r\n                  cardView.setCardBackgroundColor(mcontext.getResources().getColor(R.color.buttonPressed));\r\n                  if (finalI == 0) {\r\n                      mcontext.startActivity(new Intent(mcontext, Genre_Streaming.class));\r\n                  }\r\n                } else if (event.getAction() == android.view.MotionEvent.ACTION_UP) {\r\n                  /* Reset Color */\r\n                  cardView.setCardBackgroundColor(mcontext.getResources().getColor(R.color.red));\r\n                }\r\n                return true;\r\n              }\r\n            }\r\n    }\r\n\r\n**Link:** http://developer.android.com/reference/android/view/MotionEvent.html#ACTION_UP","title":"How to change the colour of a cardview when selected?clicked","body":"<p>You can try using <code>OnTouchListener</code> with <code>ACTION_DOWN</code> and <code>ACTION_UP</code> to handle Press/Release events instead of <code>OnClickListener</code>.</p>\n\n<p><strong>Modified Code</strong>:</p>\n\n<pre><code>public void setSingleEvent(GridLayout maingrid) {\n    for (int i = 0; i &lt; maingrid.getChildCount(); i++) {\n        final CardView cardView = (CardView) maingrid.getChildAt(i);\n        final int finalI = i;\n\n        cardView.setOnTouchListener(new OnTouchListener () {\n          public boolean onTouch(View view, MotionEvent event) {\n            if (event.getAction() == android.view.MotionEvent.ACTION_DOWN) {\n              Toast.makeText(mcontext, \"Button: \" + finalI, Toast.LENGTH_SHORT).show();\n              cardView.setCardBackgroundColor(mcontext.getResources().getColor(R.color.buttonPressed));\n              if (finalI == 0) {\n                  mcontext.startActivity(new Intent(mcontext, Genre_Streaming.class));\n              }\n            } else if (event.getAction() == android.view.MotionEvent.ACTION_UP) {\n              /* Reset Color */\n              cardView.setCardBackgroundColor(mcontext.getResources().getColor(R.color.red));\n            }\n            return true;\n          }\n        }\n}\n</code></pre>\n\n<p><strong>Link:</strong> <a href=\"http://developer.android.com/reference/android/view/MotionEvent.html#ACTION_UP\" rel=\"nofollow noreferrer\">http://developer.android.com/reference/android/view/MotionEvent.html#ACTION_UP</a></p>\n"}],"owner":{"account_id":10891088,"reputation":876,"user_id":8006847,"accept_rate":81,"display_name":"markharrop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1880,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":48958234,"answer_count":2,"score":4,"last_activity_date":1667048726,"creation_date":1519432515,"question_id":48958127,"body_markdown":"I&#39;m trying out card view instead of a button, I love the amount of info you can add to them. But I&#39;m trying to make it so if they press the card it changes colour. I want it to change back once they release, so that it works in a similar way to my buttons. \r\n\r\nI can get it so that it changes on click but it stay like that until the activity is destroyed.\r\n\r\nThis is the code I use for changing the colour at the moment:\r\n\r\n    public void setSingleEvent(GridLayout maingrid) {\r\n        for (int i = 0; i &lt; maingrid.getChildCount(); i++) {\r\n            final CardView cardView = (CardView) maingrid.getChildAt(i);\r\n            final int finalI = i;\r\n            cardView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Toast.makeText(mcontext, &quot;Button: &quot; + finalI, Toast.LENGTH_SHORT).show();\r\n                    cardView.setCardBackgroundColor(mcontext.getResources().getColor(R.color.buttonPressed));\r\n                    if (finalI == 0) {\r\n                        mcontext.startActivity(new Intent(mcontext, Genre_Streaming.class));\r\n                    }\r\n                }\r\n            });","title":"How to change the colour of a cardview when selected?clicked","body":"<p>I'm trying out card view instead of a button, I love the amount of info you can add to them. But I'm trying to make it so if they press the card it changes colour. I want it to change back once they release, so that it works in a similar way to my buttons.</p>\n<p>I can get it so that it changes on click but it stay like that until the activity is destroyed.</p>\n<p>This is the code I use for changing the colour at the moment:</p>\n<pre><code>public void setSingleEvent(GridLayout maingrid) {\n    for (int i = 0; i &lt; maingrid.getChildCount(); i++) {\n        final CardView cardView = (CardView) maingrid.getChildAt(i);\n        final int finalI = i;\n        cardView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Toast.makeText(mcontext, &quot;Button: &quot; + finalI, Toast.LENGTH_SHORT).show();\n                cardView.setCardBackgroundColor(mcontext.getResources().getColor(R.color.buttonPressed));\n                if (finalI == 0) {\n                    mcontext.startActivity(new Intent(mcontext, Genre_Streaming.class));\n                }\n            }\n        });\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":280836,"reputation":8517,"user_id":576767,"accept_rate":100,"display_name":"F&#233;lix Adriyel Gagnon-Grenier"},"score":0,"creation_date":1510967767,"post_id":23557870,"comment_id":81675932,"body_markdown":"[discussed on meta](https://meta.stackoverflow.com/questions/254770/what-is-stack-overflow-s-goal)","body":"<a href=\"https://meta.stackoverflow.com/questions/254770/what-is-stack-overflow-s-goal\">discussed on meta</a>"},{"owner":{"account_id":4364678,"reputation":640,"user_id":3560827,"accept_rate":35,"display_name":"user3560827"},"score":0,"creation_date":1524250717,"post_id":23557870,"comment_id":86912726,"body_markdown":"This seems like a valid question, why the down votes?","body":"This seems like a valid question, why the down votes?"},{"owner":{"account_id":2674049,"reputation":93913,"user_id":2310830,"display_name":"RiggsFolly"},"score":1,"creation_date":1531261308,"post_id":23557870,"comment_id":89527548,"body_markdown":"@user3560827 https://meta.stackoverflow.com/questions/260648/stack-overflow-question-checklist","body":"@user3560827 <a href=\"https://meta.stackoverflow.com/questions/260648/stack-overflow-question-checklist\" title=\"stack overflow question checklist\">meta.stackoverflow.com/questions/260648/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":144408,"reputation":2117,"user_id":353434,"display_name":"johncip"},"score":0,"creation_date":1400836231,"post_id":23557939,"comment_id":36655969,"body_markdown":"The regex will only return the first segment for filenames with more than one dot, e.g. &quot;core/pages/viewemployee.jsff.bak&quot;.","body":"The regex will only return the first segment for filenames with more than one dot, e.g. &quot;core/pages/viewemployee.jsff.bak&quot;."},{"owner":{"account_id":3375523,"reputation":919,"user_id":2833718,"display_name":"Mehmet Sedat G&#252;ng&#246;r"},"score":0,"creation_date":1400843527,"post_id":23557939,"comment_id":36660435,"body_markdown":"You&#39;re right but even if that is the case, by this code he gets the filename without the extension. Even if that file is a backup file, he will still get the filename, &quot;viewemployee&quot;, which he desires to get.","body":"You&#39;re right but even if that is the case, by this code he gets the filename without the extension. Even if that file is a backup file, he will still get the filename, &quot;viewemployee&quot;, which he desires to get."},{"owner":{"account_id":144408,"reputation":2117,"user_id":353434,"display_name":"johncip"},"score":0,"creation_date":1400844373,"post_id":23557939,"comment_id":36660951,"body_markdown":"Well, typically, at least for program associations, the extension is whatever follows the last dot, not the first. And outside of those there really isn&#39;t a concept of extension as far as most filesystems are concerned. But I&#39;ll grant you that it&#39;s not really clear what the OP wants.","body":"Well, typically, at least for program associations, the extension is whatever follows the last dot, not the first. And outside of those there really isn&#39;t a concept of extension as far as most filesystems are concerned. But I&#39;ll grant you that it&#39;s not really clear what the OP wants."},{"owner":{"account_id":3375523,"reputation":919,"user_id":2833718,"display_name":"Mehmet Sedat G&#252;ng&#246;r"},"score":0,"creation_date":1465591002,"post_id":23557939,"comment_id":62982909,"body_markdown":"@johncip This answer got upvoted so I came in and saw that you are right, my answer should be updated.","body":"@johncip This answer got upvoted so I came in and saw that you are right, my answer should be updated."}],"tags":[],"owner":{"account_id":3375523,"reputation":919,"user_id":2833718,"display_name":"Mehmet Sedat G&#252;ng&#246;r"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1465591899,"creation_date":1399616807,"answer_id":23557939,"question_id":23557870,"body_markdown":"You can split the string first with &quot;/&quot; so that you can have each folder and the file name got separated. For this example, you will have &quot;core&quot;, &quot;pages&quot; and &quot;viewemployee.jsff&quot;. I assume you need the file name without the extension, so just apply same split action with &quot;.&quot; seperator to the last token. You will have filename without extension.\r\n\r\n\r\n    String myStr = &quot;core/pages/viewemployee.bak.jsff&quot;;\r\n    \r\n    String[] tokens = myStr.split(&quot;/&quot;);\r\n    String[] fileNameTokens = tokens[tokens.length - 1].split(&quot;\\\\.&quot;);\r\n        \r\n    String fileNameStr = &quot;&quot;;\r\n    \r\n    for(int i = 0; i &lt; fileNameTokens.length - 1; i++) {\r\n        fileNameStr += fileNameTokens[i] + &quot;.&quot;;\r\n    }\r\n\r\n    fileNameStr = fileNameStr.substring(0, fileNameStr.length() - 1);\r\n\r\n    System.out.print(fileNameStr) //--&gt; &quot;viewemployee.bak&quot;","title":"How to get the string before .(dot) and after /(last) slash in Java","body":"<p>You can split the string first with \"/\" so that you can have each folder and the file name got separated. For this example, you will have \"core\", \"pages\" and \"viewemployee.jsff\". I assume you need the file name without the extension, so just apply same split action with \".\" seperator to the last token. You will have filename without extension.</p>\n\n<pre><code>String myStr = \"core/pages/viewemployee.bak.jsff\";\n\nString[] tokens = myStr.split(\"/\");\nString[] fileNameTokens = tokens[tokens.length - 1].split(\"\\\\.\");\n\nString fileNameStr = \"\";\n\nfor(int i = 0; i &lt; fileNameTokens.length - 1; i++) {\n    fileNameStr += fileNameTokens[i] + \".\";\n}\n\nfileNameStr = fileNameStr.substring(0, fileNameStr.length() - 1);\n\nSystem.out.print(fileNameStr) //--&gt; \"viewemployee.bak\"\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user508434"},"score":1,"creation_date":1399628444,"post_id":23557958,"comment_id":36153089,"body_markdown":"You need to go through a regex tutorial. The comments field is too little to explain everything. The first part, i.e. &quot;.*/&quot; matches everything until the last /, then comes grouping (\\\\W+)  which means a at least one word-character then it stops at . because dot is not a word character. The last part again .* means everything. In the replacement part I just refer to the group by its number $1. Since there is one group (\\\\w+) I use $1. Here is the regex api for java: http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html","body":"You need to go through a regex tutorial. The comments field is too little to explain everything. The first part, i.e. &quot;.*/&quot; matches everything until the last /, then comes grouping (\\\\W+)  which means a at least one word-character then it stops at . because dot is not a word character. The last part again .* means everything. In the replacement part I just refer to the group by its number $1. Since there is one group (\\\\w+) I use $1. Here is the regex api for java: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":144408,"reputation":2117,"user_id":353434,"display_name":"johncip"},"score":2,"creation_date":1400661700,"post_id":23557958,"comment_id":36567350,"body_markdown":"This will fail on e.g. &quot;foo.exe&quot; (no slash) and &quot;/foo/bar.baz.exe&quot; (two dots).","body":"This will fail on e.g. &quot;foo.exe&quot; (no slash) and &quot;/foo/bar.baz.exe&quot; (two dots)."},{"owner":{"account_id":144408,"reputation":2117,"user_id":353434,"display_name":"johncip"},"score":1,"creation_date":1400836061,"post_id":23557958,"comment_id":36655874,"body_markdown":"...and &quot;/2014-05-23.log&quot; (or anything else with punctuation in the file name)","body":"...and &quot;/2014-05-23.log&quot; (or anything else with punctuation in the file name)"},{"owner":{"display_name":"user508434"},"score":1,"creation_date":1400874824,"post_id":23557958,"comment_id":36679345,"body_markdown":"The answer is to the given example in the question. For numeric and other types of values, you will need to use appropriate character class.","body":"The answer is to the given example in the question. For numeric and other types of values, you will need to use appropriate character class."},{"owner":{"account_id":2331977,"reputation":1709,"user_id":2045169,"accept_rate":91,"display_name":"jr."},"score":0,"creation_date":1447903844,"post_id":23557958,"comment_id":55356155,"body_markdown":"@SuprabhatBiswal - it&#39;s &quot;Regular Expression&quot;, or &quot;Regex&quot;, but certainly not &quot;Regex Expression&quot;. That&#39;s like saying &quot;Regular Expression Expression&quot;.","body":"@SuprabhatBiswal - it&#39;s &quot;Regular Expression&quot;, or &quot;Regex&quot;, but certainly not &quot;Regex Expression&quot;. That&#39;s like saying &quot;Regular Expression Expression&quot;."}],"tags":[],"owner":{"display_name":"user508434"},"comment_count":5,"down_vote_count":4,"up_vote_count":25,"is_accepted":false,"score":21,"last_activity_date":1400874898,"creation_date":1399616910,"answer_id":23557958,"question_id":23557870,"body_markdown":"You can solve this with regex (given you only need a group of word characters between the last &quot;/&quot; and &quot;.&quot;):\r\n\r\n        String str=&quot;core/pages/viewemployee.jsff&quot;;\r\n        str=str.replaceFirst(&quot;.*/(\\\\w+).*&quot;,&quot;$1&quot;);\r\n        System.out.println(str); //prints viewemployee","title":"How to get the string before .(dot) and after /(last) slash in Java","body":"<p>You can solve this with regex (given you only need a group of word characters between the last \"/\" and \".\"):</p>\n\n<pre><code>    String str=\"core/pages/viewemployee.jsff\";\n    str=str.replaceFirst(\".*/(\\\\w+).*\",\"$1\");\n    System.out.println(str); //prints viewemployee\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4270142,"reputation":9864,"user_id":3492139,"display_name":"ngrashia"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1667048265,"creation_date":1399616926,"answer_id":23557965,"question_id":23557870,"body_markdown":"The below will get you **viewemployee.jsff**:\r\n\r\n    int idx = fileName.replaceAll(&quot;\\\\&quot;, &quot;/&quot;).lastIndexOf(&quot;/&quot;);\r\n    String fileNameWithExtn = idx &gt;= 0 ? fileName.substring(idx + 1) : fileName;\r\n\r\nTo remove the file Extension and get only **viewemployee**, similarly:\r\n\r\n    idx = fileNameWithExtn.lastIndexOf(&quot;.&quot;);\r\n    String filename = idx &gt;= 0 ? fileNameWithExtn.substring(0,idx) : fileNameWithExtn;\r\n\r\n","title":"How to get the string before .(dot) and after /(last) slash in Java","body":"<p>The below will get you <strong>viewemployee.jsff</strong>:</p>\n<pre><code>int idx = fileName.replaceAll(&quot;\\\\&quot;, &quot;/&quot;).lastIndexOf(&quot;/&quot;);\nString fileNameWithExtn = idx &gt;= 0 ? fileName.substring(idx + 1) : fileName;\n</code></pre>\n<p>To remove the file Extension and get only <strong>viewemployee</strong>, similarly:</p>\n<pre><code>idx = fileNameWithExtn.lastIndexOf(&quot;.&quot;);\nString filename = idx &gt;= 0 ? fileNameWithExtn.substring(0,idx) : fileNameWithExtn;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3399504,"reputation":1907,"user_id":3531912,"accept_rate":36,"display_name":"Alessandro Suglia"},"comment_count":0,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1667048358,"creation_date":1399616950,"answer_id":23557975,"question_id":23557870,"body_markdown":"Suppose that you have that string saved in a variable named `myString`.\r\n\r\n\r\n    String myString = &quot;core/pages/viewemployee.jsff&quot;;\r\n    String newString = myString.substring(myString.lastIndexOf(&quot;/&quot;)+1, myString.indexOf(&quot;.&quot;));\t\t\r\n\r\nBut you need to make the same control before doing `substring` in this one, because if there aren&#39;t those characters you will get a &quot;-1&quot; from `lastIndexOf()`, or `indexOf()`, and it will break your `substring` invocation.\r\n\r\nI suggest looking for [the Javadoc documentation][1].\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/String.html\r\n","title":"How to get the string before .(dot) and after /(last) slash in Java","body":"<p>Suppose that you have that string saved in a variable named <code>myString</code>.</p>\n<pre><code>String myString = &quot;core/pages/viewemployee.jsff&quot;;\nString newString = myString.substring(myString.lastIndexOf(&quot;/&quot;)+1, myString.indexOf(&quot;.&quot;));      \n</code></pre>\n<p>But you need to make the same control before doing <code>substring</code> in this one, because if there aren't those characters you will get a &quot;-1&quot; from <code>lastIndexOf()</code>, or <code>indexOf()</code>, and it will break your <code>substring</code> invocation.</p>\n<p>I suggest looking for <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\">the Javadoc documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":144408,"reputation":2117,"user_id":353434,"display_name":"johncip"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1667048458,"creation_date":1400662243,"answer_id":23778349,"question_id":23557870,"body_markdown":"These are file paths. Consider using File.getName(), especially if you already have the File object:\r\n\r\n    File file = new File(&quot;core/pages/viewemployee.jsff&quot;);\r\n    String name = file.getName(); // --&gt; &quot;viewemployee.jsff&quot;\r\n\r\nAnd to remove the extension:\r\n\r\n    String res = name.split(&quot;\\\\.[^\\\\.]*$&quot;)[0]; // --&gt; &quot;viewemployee&quot;\r\n\r\nWith this we can handle strings like `&quot;../viewemployee.2.jsff&quot;`.\r\n\r\nThe regex matches the last dot, zero or more non-dots, and the end of the string. Then String.split() treats these as a delimiter, and ignores them. The array will always have one element, unless the original string is `.`.\r\n\r\n\r\n","title":"How to get the string before .(dot) and after /(last) slash in Java","body":"<p>These are file paths. Consider using File.getName(), especially if you already have the File object:</p>\n<pre><code>File file = new File(&quot;core/pages/viewemployee.jsff&quot;);\nString name = file.getName(); // --&gt; &quot;viewemployee.jsff&quot;\n</code></pre>\n<p>And to remove the extension:</p>\n<pre><code>String res = name.split(&quot;\\\\.[^\\\\.]*$&quot;)[0]; // --&gt; &quot;viewemployee&quot;\n</code></pre>\n<p>With this we can handle strings like <code>&quot;../viewemployee.2.jsff&quot;</code>.</p>\n<p>The regex matches the last dot, zero or more non-dots, and the end of the string. Then String.split() treats these as a delimiter, and ignores them. The array will always have one element, unless the original string is <code>.</code>.</p>\n"}],"owner":{"account_id":4445957,"reputation":379,"user_id":3619225,"display_name":"user3619225"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40297,"favorite_count":0,"down_vote_count":42,"up_vote_count":45,"answer_count":5,"score":3,"last_activity_date":1667048458,"creation_date":1399616483,"question_id":23557870,"body_markdown":"I have a string like this:\r\n\r\n    &quot;core/pages/viewemployee.jsff&quot;\r\n\r\nFrom this code, I need to get &quot;viewemployee&quot;. How do I get this using Java?\r\n","title":"How to get the string before .(dot) and after /(last) slash in Java","body":"<p>I have a string like this:</p>\n\n<pre><code>\"core/pages/viewemployee.jsff\"\n</code></pre>\n\n<p>From this code, I need to get \"viewemployee\". How do I get this using Java?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":4,"creation_date":1667032829,"post_id":74243703,"comment_id":131078453,"body_markdown":"_in swing I could use a KeyListener and use event.consume()_ Better to use a [document filter](https://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html#filter). In JavaFX, you should use a [text formatter](https://stackoverflow.com/questions/40472668/numeric-textfield-for-integers-in-javafx-8-with-textformatter-and-or-unaryoperat)","body":"<i>in swing I could use a KeyListener and use event.consume()</i> Better to use a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html#filter\" rel=\"nofollow noreferrer\">document filter</a>. In JavaFX, you should use a <a href=\"https://stackoverflow.com/questions/40472668/numeric-textfield-for-integers-in-javafx-8-with-textformatter-and-or-unaryoperat\">text formatter</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":3,"creation_date":1667033798,"post_id":74243703,"comment_id":131078583,"body_markdown":"JavaFX is not the same as *Swing* and you can&#39;t write JavaFX applications the same way you write *Swing* applications and that includes [event handling](https://docs.oracle.com/javase/8/javafx/events-tutorial/events.htm#JFXED117) code.","body":"JavaFX is not the same as <i>Swing</i> and you can&#39;t write JavaFX applications the same way you write <i>Swing</i> applications and that includes <a href=\"https://docs.oracle.com/javase/8/javafx/events-tutorial/events.htm#JFXED117\" rel=\"nofollow noreferrer\">event handling</a> code."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1667106932,"post_id":74243703,"comment_id":131090142,"body_markdown":"High level nodes (i.e. controls such as `TextField`) already implement fairly complex behavior internally, via event listeners for low-level events such as mouse and key events. Implementing your own listeners for these low-level events is not robust, because it relies on how the internal key handling is implemented. You don&#39;t know if the text field processes `KEY_TYPED`, `KEY_PRESSED`, or `KEY_RELEASED` events, or whether it processes them with event handlers or event filters. On the other hand, the text formatter approach is specified and supported by the API; thus it is the correct approach","body":"High level nodes (i.e. controls such as <code>TextField</code>) already implement fairly complex behavior internally, via event listeners for low-level events such as mouse and key events. Implementing your own listeners for these low-level events is not robust, because it relies on how the internal key handling is implemented. You don&#39;t know if the text field processes <code>KEY_TYPED</code>, <code>KEY_PRESSED</code>, or <code>KEY_RELEASED</code> events, or whether it processes them with event handlers or event filters. On the other hand, the text formatter approach is specified and supported by the API; thus it is the correct approach"}],"owner":{"account_id":4269116,"reputation":91,"user_id":3491432,"accept_rate":33,"display_name":"user3491432"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667048359,"creation_date":1667030217,"question_id":74243703,"body_markdown":"`KeyEvent.consume` does not work in JavaFX.\r\n\r\nI’m new to JavaFX (coming from using *Swing*) and I’m trying to make a program that blocks certain characters from being typed into a `TextField`. Now in *Swing* I could use a `KeyListener` and use `event.consume();` to prevent the event from being processed and typed into the `JTextField`. But in the JavaFX’s `EventHandler` while `KeyEvent` does have a `consume` method it does not work and the character is still typed into the `TextField`. Here is the code for the `TextField` `EventHandler`.\r\n\r\n\tinput1TextField.setOnKeyTyped(new EventHandler&lt;KeyEvent&gt;() {\r\n\r\n\t\t@Override\r\n\t\tpublic void handle(KeyEvent event) {\r\n\t\t\tSystem.out.println(event.getCharacter());\r\n\t\t\tevent.consume();//this does not work\r\n\t\t}\r\n\t});\r\n\r\n","title":"JavaFx how to consume a KeyEvent","body":"<p><code>KeyEvent.consume</code> does not work in JavaFX.</p>\n<p>I’m new to JavaFX (coming from using <em>Swing</em>) and I’m trying to make a program that blocks certain characters from being typed into a <code>TextField</code>. Now in <em>Swing</em> I could use a <code>KeyListener</code> and use <code>event.consume();</code> to prevent the event from being processed and typed into the <code>JTextField</code>. But in the JavaFX’s <code>EventHandler</code> while <code>KeyEvent</code> does have a <code>consume</code> method it does not work and the character is still typed into the <code>TextField</code>. Here is the code for the <code>TextField</code> <code>EventHandler</code>.</p>\n<pre><code>input1TextField.setOnKeyTyped(new EventHandler&lt;KeyEvent&gt;() {\n\n    @Override\n    public void handle(KeyEvent event) {\n        System.out.println(event.getCharacter());\n        event.consume();//this does not work\n    }\n});\n</code></pre>\n"},{"tags":["java","oop","design-patterns","null-object-pattern"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1667047088,"post_id":74245308,"comment_id":131080685,"body_markdown":"Returning an immutable list shouldn&#39;t be a problem since we merge in a mutable `ArrayList`. [Ideone demo](https://ideone.com/SahbCe).","body":"Returning an immutable list shouldn&#39;t be a problem since we merge in a mutable <code>ArrayList</code>. <a href=\"https://ideone.com/SahbCe\" rel=\"nofollow noreferrer\">Ideone demo</a>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1667047486,"post_id":74245308,"comment_id":131080771,"body_markdown":"There is, of course, the possibility to transform all those lists into streams, concatenate the streams and then collect to a list. But this seems over-engineered and gets messy fast. [Ideone demo](https://ideone.com/GhMKMO)","body":"There is, of course, the possibility to transform all those lists into streams, concatenate the streams and then collect to a list. But this seems over-engineered and gets messy fast. <a href=\"https://ideone.com/GhMKMO\" rel=\"nofollow noreferrer\">Ideone demo</a>"},{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1667047684,"post_id":74245308,"comment_id":131080815,"body_markdown":"@Turing85: Good point. I updated my post. I messed up the example","body":"@Turing85: Good point. I updated my post. I messed up the example"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1667047790,"post_id":74245308,"comment_id":131080841,"body_markdown":"Replace `List&lt;Foo&gt; result = getItems(bar, x);` with `ArrayList&lt;Foo&gt; result = new ArrayList&lt;&gt;(getitems(bar, x));` and you&#39;re good to go.","body":"Replace <code>List&lt;Foo&gt; result = getItems(bar, x);</code> with <code>ArrayList&lt;Foo&gt; result = new ArrayList&lt;&gt;(getitems(bar, x));</code> and you&#39;re good to go."},{"owner":{"account_id":14787039,"reputation":5673,"user_id":10678955,"display_name":"root"},"score":2,"creation_date":1667109987,"post_id":74245308,"comment_id":131090445,"body_markdown":"If the caller is going to modify the list, then it makes no sense to &quot;avoid instantiating a new list&quot;. The only question is whether you&#39;re instantiating it in the caller or within `getItems()`. The former is better practice.","body":"If the caller is going to modify the list, then it makes no sense to &quot;avoid instantiating a new list&quot;. The only question is whether you&#39;re instantiating it in the caller or within <code>getItems()</code>. The former is better practice."},{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1667158515,"post_id":74245308,"comment_id":131099359,"body_markdown":"@root: `instantiating it in the caller` what do you mean by this? What Turing85 mentions? Also why is it better practice so I understand it better?","body":"@root: <code>instantiating it in the caller</code> what do you mean by this? What Turing85 mentions? Also why is it better practice so I understand it better?"},{"owner":{"account_id":14787039,"reputation":5673,"user_id":10678955,"display_name":"root"},"score":0,"creation_date":1667176683,"post_id":74245308,"comment_id":131102406,"body_markdown":"Yes, I mean what @Turing85 mentions. And it&#39;s better practice precisely because the function can return immutable objects if it wants to, and new objects get instantiated only if the caller needs new instances.","body":"Yes, I mean what @Turing85 mentions. And it&#39;s better practice precisely because the function can return immutable objects if it wants to, and new objects get instantiated only if the caller needs new instances."}],"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667047666,"creation_date":1667046858,"question_id":74245308,"body_markdown":"I have a method that returns a `List`.  \r\nE.g.  \r\n`List&lt;Foo&gt; getItems(Bar bar, X x)`  \r\n\r\nI don&#39;t want the method to return `null` to avoid null pointer exception and do something like:  \r\n\r\n    List&lt;Foo&gt; getItems(Bar bar, X x) {\r\n       if(!bar.conditionA() || !x.conditionB()) {\r\n         return new ArrayList&lt;&gt;();  \r\n       }\r\n    }\r\n\r\nNote that the calling code uses the returning list to merge it with other lists.  \r\nE.g.  \r\n\r\n    List&lt;Foo&gt; result = getItems(bar, x);\r\n    result.addAll(getFoo());  \r\n    result.addAll(getAll());  \r\n    result.addAll(getItems(bar, x));  \r\n    etc\r\n     \r\nMy question is the following: from what I have seen some think that it is more optimal to return e.g. `Collections.emptyList()` to avoid instantiating a new list, but the issue is that if I change to follow that then the calling code becomes I think more complicated because the `Collections.emptyList()` is immutable so the calling code should be:  \r\n\r\n    List&lt;Foo&gt; result = getItems(bar, x);\r\n    if(!result.isEmpty()) {\r\n       result.addAll(getFoo());  \r\n       result.addAll(getAll());\r\n     }  \r\n    etc\r\n\r\nwhich to me seems a bit more tedius.   \r\n\r\nIs there another way to handle both approaches nice?","title":"Not returning a null list but also not returning an immutable empty one and alternative approaches","body":"<p>I have a method that returns a <code>List</code>.<br />\nE.g.<br />\n<code>List&lt;Foo&gt; getItems(Bar bar, X x)</code></p>\n<p>I don't want the method to return <code>null</code> to avoid null pointer exception and do something like:</p>\n<pre><code>List&lt;Foo&gt; getItems(Bar bar, X x) {\n   if(!bar.conditionA() || !x.conditionB()) {\n     return new ArrayList&lt;&gt;();  \n   }\n}\n</code></pre>\n<p>Note that the calling code uses the returning list to merge it with other lists.<br />\nE.g.</p>\n<pre><code>List&lt;Foo&gt; result = getItems(bar, x);\nresult.addAll(getFoo());  \nresult.addAll(getAll());  \nresult.addAll(getItems(bar, x));  \netc\n \n</code></pre>\n<p>My question is the following: from what I have seen some think that it is more optimal to return e.g. <code>Collections.emptyList()</code> to avoid instantiating a new list, but the issue is that if I change to follow that then the calling code becomes I think more complicated because the <code>Collections.emptyList()</code> is immutable so the calling code should be:</p>\n<pre><code>List&lt;Foo&gt; result = getItems(bar, x);\nif(!result.isEmpty()) {\n   result.addAll(getFoo());  \n   result.addAll(getAll());\n }  \netc\n</code></pre>\n<p>which to me seems a bit more tedius.</p>\n<p>Is there another way to handle both approaches nice?</p>\n"},{"tags":["java","arrays","apache-spark","tuples"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1667050690,"post_id":74245285,"comment_id":131081447,"body_markdown":"Please show us the code you are trying to use to store a double. From your error message, it sounds like you are trying to do something like `Double value = someCodeThatReturnsAList;` which won&#39;t work, instead you need to save the results to a list `List&lt;Double&gt; values = someCodeThatReturnsAList;`","body":"Please show us the code you are trying to use to store a double. From your error message, it sounds like you are trying to do something like <code>Double value = someCodeThatReturnsAList;</code> which won&#39;t work, instead you need to save the results to a list <code>List&lt;Double&gt; values = someCodeThatReturnsAList;</code>"},{"owner":{"account_id":14515757,"reputation":132,"user_id":10484940,"display_name":"vtsimp"},"score":0,"creation_date":1667052927,"post_id":74245285,"comment_id":131081945,"body_markdown":"`List&lt;Double&gt; list = new ArrayList&lt;&gt;(Arrays.asList(r.get(0)._1._1));`\nTried things like these, they all give the same error,\neven `System.out.println(r.get(0)._1._1.getClass());`\ngives the same error","body":"<code>List&lt;Double&gt; list = new ArrayList&lt;&gt;(Arrays.asList(r.get(0)._1._1));</code> Tried things like these, they all give the same error, even <code>System.out.println(r.get(0)._1._1.getClass());</code> gives the same error"},{"owner":{"account_id":14515757,"reputation":132,"user_id":10484940,"display_name":"vtsimp"},"score":0,"creation_date":1667064570,"post_id":74245285,"comment_id":131084439,"body_markdown":"I think it is because `Tuple2` are immutable, I should encapsule my data in an class, and run from there, I will update with a solution","body":"I think it is because <code>Tuple2</code> are immutable, I should encapsule my data in an class, and run from there, I will update with a solution"}],"owner":{"account_id":14515757,"reputation":132,"user_id":10484940,"display_name":"vtsimp"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667046634,"creation_date":1667046634,"question_id":74245285,"body_markdown":"I have created a List with Nested tuples (for computational reasons), and I am unable to properly extract the contents of it. (java newbie as well)\r\n\r\n`List&lt;Tuple2&lt;Tuple2&lt;Double, Integer&gt;, Tuple2&lt;Double, Integer&gt;&gt;&gt; r = cartesian.collect();\r\nSystem.out.println(r.get(0)._1._1);`        \r\n \r\ngives [0.3516409608778351, 0.3516409608778351, 0.3516409608778351, -0.33691648632337207, -0.7180063963101246]\r\n\r\nMy question is how to store this to a Double[] array\r\nSo far I&#39;ve tried a few things, all give me the same error:\r\n`class com.google.common.primitives.Doubles$DoubleArrayAsList cannot be cast to class java.lang.Double`","title":"Extracting nested Double[] array from Tuple2","body":"<p>I have created a List with Nested tuples (for computational reasons), and I am unable to properly extract the contents of it. (java newbie as well)</p>\n<p><code>List&lt;Tuple2&lt;Tuple2&lt;Double, Integer&gt;, Tuple2&lt;Double, Integer&gt;&gt;&gt; r = cartesian.collect(); System.out.println(r.get(0)._1._1);</code></p>\n<p>gives [0.3516409608778351, 0.3516409608778351, 0.3516409608778351, -0.33691648632337207, -0.7180063963101246]</p>\n<p>My question is how to store this to a Double[] array\nSo far I've tried a few things, all give me the same error:\n<code>class com.google.common.primitives.Doubles$DoubleArrayAsList cannot be cast to class java.lang.Double</code></p>\n"},{"tags":["java","flutter","dart","flutter-packages"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667057520,"post_id":74244079,"comment_id":131082889,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667046119,"creation_date":1667046119,"answer_id":74245224,"question_id":74244079,"body_markdown":"If you look at the current [javadocs][1] for `FlutterLoader`, it doesn&#39;t declare a `getInstance()` method anymore.   The method was deprecated and then removed.\r\n\r\nAccording to https://stackoverflow.com/a/64456438/139985, since Flutter 1.22 you need to get hold of a `FlutterLoader` instance using `FlutterInjector`:\r\n\r\n    import io.flutter.FlutterInjector;\r\n    ...\r\n    FlutterLoader loader = FlutterInjector.instance().flutterLoader();\r\n\r\n\r\nSee also: https://stackoverflow.com/questions/25706216\r\n\r\n\r\n  [1]: https://api.flutter.dev/javadoc/io/flutter/embedding/engine/loader/FlutterLoader.html","title":"after adding wallpaper manager package it showing :(","body":"<p>If you look at the current <a href=\"https://api.flutter.dev/javadoc/io/flutter/embedding/engine/loader/FlutterLoader.html\" rel=\"nofollow noreferrer\">javadocs</a> for <code>FlutterLoader</code>, it doesn't declare a <code>getInstance()</code> method anymore.   The method was deprecated and then removed.</p>\n<p>According to <a href=\"https://stackoverflow.com/a/64456438/139985\">https://stackoverflow.com/a/64456438/139985</a>, since Flutter 1.22 you need to get hold of a <code>FlutterLoader</code> instance using <code>FlutterInjector</code>:</p>\n<pre><code>import io.flutter.FlutterInjector;\n...\nFlutterLoader loader = FlutterInjector.instance().flutterLoader();\n</code></pre>\n<p>See also: <a href=\"https://stackoverflow.com/questions/25706216\">What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?</a></p>\n"}],"owner":{"account_id":26081321,"reputation":1,"user_id":19779426,"display_name":"nbz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1667046119,"creation_date":1667034581,"question_id":74244079,"body_markdown":"`\r\n```\r\nC:\\src\\flutter\\.pub-cache\\hosted\\pub.dartlang.org\\wallpaper_manager-1.0.10\\android\\src\\main\\java\\com\\mulgundkar\\wallpaper_manager\\WallpaperManagerPlugin.java:129: error: cannot find symbol\r\n                String assetLookupKey = FlutterLoader.getInstance().getLookupKeyForAsset(assetPath);\r\n                                                     ^\r\n  symbol:   method getInstance()\r\n  location: class FlutterLoader\r\nC:\\src\\flutter\\.pub-cache\\hosted\\pub.dartlang.org\\wallpaper_manager-1.0.10\\android\\src\\main\\java\\com\\mulgundkar\\wallpaper_manager\\WallpaperManagerPlugin.java:152: error: cannot find symbol\r\n                String assetLookupKey = FlutterLoader.getInstance().getLookupKeyForAsset(assetPath);\r\n                                                     ^\r\n\r\n  symbol:   method getInstance()\r\n  location: class FlutterLoader\r\nNote: Some input files use or override a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n2 errors\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:wallpaper_manager:compileDebugJavaWithJavac&#39;.\r\n&gt; Compilation failed; see the compiler error output for details.\r\n```\r\n`\r\n\r\nwallpaper_manager: any\r\nWhen I add the package, the project gives an error. \r\nThere was no problem in the old versions of flutter, but the application does not work anymore, how should I proceed?","title":"after adding wallpaper manager package it showing :(","body":"<p>`</p>\n<pre><code>C:\\src\\flutter\\.pub-cache\\hosted\\pub.dartlang.org\\wallpaper_manager-1.0.10\\android\\src\\main\\java\\com\\mulgundkar\\wallpaper_manager\\WallpaperManagerPlugin.java:129: error: cannot find symbol\n                String assetLookupKey = FlutterLoader.getInstance().getLookupKeyForAsset(assetPath);\n                                                     ^\n  symbol:   method getInstance()\n  location: class FlutterLoader\nC:\\src\\flutter\\.pub-cache\\hosted\\pub.dartlang.org\\wallpaper_manager-1.0.10\\android\\src\\main\\java\\com\\mulgundkar\\wallpaper_manager\\WallpaperManagerPlugin.java:152: error: cannot find symbol\n                String assetLookupKey = FlutterLoader.getInstance().getLookupKeyForAsset(assetPath);\n                                                     ^\n\n  symbol:   method getInstance()\n  location: class FlutterLoader\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n2 errors\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':wallpaper_manager:compileDebugJavaWithJavac'.\n&gt; Compilation failed; see the compiler error output for details.\n</code></pre>\n<p>`</p>\n<p>wallpaper_manager: any\nWhen I add the package, the project gives an error.\nThere was no problem in the old versions of flutter, but the application does not work anymore, how should I proceed?</p>\n"},{"tags":["java","annotations","code-generation","annotation-processing"],"comments":[{"owner":{"account_id":2480204,"reputation":1014,"user_id":2159821,"display_name":"Ahmad Bawaneh"},"score":1,"creation_date":1666766306,"post_id":74197471,"comment_id":131011016,"body_markdown":"You need to provide more context on this, share the error and a little of your code that you use to write the generated sources. using intellij you can also use the debug build process option to trace the errors in your processor code.","body":"You need to provide more context on this, share the error and a little of your code that you use to write the generated sources. using intellij you can also use the debug build process option to trace the errors in your processor code."},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1666823254,"post_id":74197471,"comment_id":131029848,"body_markdown":"Maybe the thing is in old generated files (sources and classes). Do clean compilation. If you use Maven `mvn clean`, `mvn compile`.","body":"Maybe the thing is in old generated files (sources and classes). Do clean compilation. If you use Maven <code>mvn clean</code>, <code>mvn compile</code>."},{"owner":{"account_id":5909280,"reputation":11,"user_id":16940017,"display_name":"Apollo917"},"score":0,"creation_date":1666959035,"post_id":74197471,"comment_id":131063506,"body_markdown":"Yes, as Dmytro suggested, the problem in compiled source code. (I&#39;ve forgot to mention this in my questions) and yes - processors code 100% correct. The questions is: is it common problem for annotation processors? If yes - what the best practices to solve it?","body":"Yes, as Dmytro suggested, the problem in compiled source code. (I&#39;ve forgot to mention this in my questions) and yes - processors code 100% correct. The questions is: is it common problem for annotation processors? If yes - what the best practices to solve it?"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1667278583,"post_id":74197471,"comment_id":131125776,"body_markdown":"@Apollo917 Not only with annotation processors. With auto-generated code it&#39;s a good practice to do clean compilation in order to avoid outdated cached code.","body":"@Apollo917 Not only with annotation processors. With auto-generated code it&#39;s a good practice to do clean compilation in order to avoid outdated cached code."}],"owner":{"account_id":5909280,"reputation":11,"user_id":16940017,"display_name":"Apollo917"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667045860,"creation_date":1666715890,"question_id":74197471,"body_markdown":"I am using annotation processors for compile time validation and code generation (with help of Javapoet), Apache Maven, Intellij Idea.\r\n\r\nWhen I am running my app for the &quot;first time&quot; (when **target** directory not generated yet after it&#39;s removal or mvn clean command execution) everything is works as it should. \r\n\r\nBut, if I&#39;ll change somemething in code, for example to trigger some validation case - it shows random validation errors. If I&#39;ll remove **target** directory - everything works fine.\r\n\r\nLittle bit of context. For example I have such code, with is annotated with my custom annotations:\r\n\r\n```\r\n@ActionSequenceConfiguration(\r\n        name = CAT_WASH_SEQUENCE,\r\n        actions = {\r\n                WATER_SUPPLIER_ACTION,\r\n                SOAP_SUPPLIER_ACTION,\r\n                TOY_SUPPLIER_ACTION,\r\n                WASH_CAT_ACTION\r\n        }\r\n)\r\nActionSequence getCatWashSequence(@InitialParam(CAT_PARAM) Cat cat);\r\n```\r\n\r\nOne of annotation processors checks, if all actions with names provided into **ActionSequenceConfiguration** are exist. So if I will change any code, which is not related to actions and their presence - I&#39;ll get false error (it will not happen if **target** dir doesn&#39;t exists or removed).\r\n\r\nUPD: as suggested in comments, it should be problem in compiled files and classes. Is this problem common for all annotation processors?","title":"Annotation processors works incorrectly when target directory already presents. Is there any solution except remove target dir?","body":"<p>I am using annotation processors for compile time validation and code generation (with help of Javapoet), Apache Maven, Intellij Idea.</p>\n<p>When I am running my app for the &quot;first time&quot; (when <strong>target</strong> directory not generated yet after it's removal or mvn clean command execution) everything is works as it should.</p>\n<p>But, if I'll change somemething in code, for example to trigger some validation case - it shows random validation errors. If I'll remove <strong>target</strong> directory - everything works fine.</p>\n<p>Little bit of context. For example I have such code, with is annotated with my custom annotations:</p>\n<pre><code>@ActionSequenceConfiguration(\n        name = CAT_WASH_SEQUENCE,\n        actions = {\n                WATER_SUPPLIER_ACTION,\n                SOAP_SUPPLIER_ACTION,\n                TOY_SUPPLIER_ACTION,\n                WASH_CAT_ACTION\n        }\n)\nActionSequence getCatWashSequence(@InitialParam(CAT_PARAM) Cat cat);\n</code></pre>\n<p>One of annotation processors checks, if all actions with names provided into <strong>ActionSequenceConfiguration</strong> are exist. So if I will change any code, which is not related to actions and their presence - I'll get false error (it will not happen if <strong>target</strong> dir doesn't exists or removed).</p>\n<p>UPD: as suggested in comments, it should be problem in compiled files and classes. Is this problem common for all annotation processors?</p>\n"},{"tags":["java","arrays","recursion"],"comments":[{"owner":{"account_id":14725244,"reputation":482,"user_id":10634487,"display_name":"Bill Naylor"},"score":2,"creation_date":1667036781,"post_id":74244134,"comment_id":131079042,"body_markdown":"Finding the maximum value of an array does not lend itself to recursion, so I guess this is an exercise you have been set, so I won&#39;t give you the answer, just give you pointers as to how to approach the problem.  \n1/ You will need to pass the `maximumSoFar` as a parameter, as well as the `arrayToCheck`  \n2/ The recursive function really only needs to check the first element, then recursivly call itself with parameters, as the max of the first element, and the `maximumSoFar`, and the cdr(all but the first element) of the array). You may find the Arrays class usefull.","body":"Finding the maximum value of an array does not lend itself to recursion, so I guess this is an exercise you have been set, so I won&#39;t give you the answer, just give you pointers as to how to approach the problem.   1/ You will need to pass the <code>maximumSoFar</code> as a parameter, as well as the <code>arrayToCheck</code>   2/ The recursive function really only needs to check the first element, then recursivly call itself with parameters, as the max of the first element, and the <code>maximumSoFar</code>, and the cdr(all but the first element) of the array). You may find the Arrays class usefull."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667036489,"creation_date":1667036489,"answer_id":74244247,"question_id":74244134,"body_markdown":"I modified the accepted answer to [Finding Max value in an array using recursion][1].\r\n\r\nAs you suggested (i.e. decrease the array length with each recursive method invocation), I create a copy of the method parameter whose length is one less than the parameter and remove the first element. Then I recursively call the method with the array copy.\r\n```java\r\npublic class Main {\r\n\r\n    public static int valorMaxim(int arr[]){\r\n        if (arr.length == 1) {\r\n            return arr[0];\r\n        }\r\n        else {\r\n            int[] tmp = new int[arr.length - 1];\r\n            System.arraycopy(arr, 1, tmp, 0, tmp.length);\r\n            return Math.max(arr[0], valorMaxim(tmp));\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(valorMaxim(new int[]{1, 5, 252, 24, 7, 82, 3}));\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/19590242/finding-max-value-in-an-array-using-recursion","title":"How I could find the maxim value of an array with recursive without having an index?","body":"<p>I modified the accepted answer to <a href=\"https://stackoverflow.com/questions/19590242/finding-max-value-in-an-array-using-recursion\">Finding Max value in an array using recursion</a>.</p>\n<p>As you suggested (i.e. decrease the array length with each recursive method invocation), I create a copy of the method parameter whose length is one less than the parameter and remove the first element. Then I recursively call the method with the array copy.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    public static int valorMaxim(int arr[]){\n        if (arr.length == 1) {\n            return arr[0];\n        }\n        else {\n            int[] tmp = new int[arr.length - 1];\n            System.arraycopy(arr, 1, tmp, 0, tmp.length);\n            return Math.max(arr[0], valorMaxim(tmp));\n        }\n    }\n\n    public static void main(String[] args) {\n        System.out.println(valorMaxim(new int[]{1, 5, 252, 24, 7, 82, 3}));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23978242,"reputation":603,"user_id":17966065,"display_name":"Futarimiti"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667044405,"creation_date":1667039561,"answer_id":74244537,"question_id":74244134,"body_markdown":"Basically, the recursive idea is:\r\n\r\n 1.  If the array has length 1, return the only element;\r\n 2.  Otherwise, split the array into `x` the first element, and `xs` the rest;\r\n 3.  Find the maximum element within `xs`, compare it to `x` and yield the greater.\r\n\r\nThere are two ways to achieve such a &quot;split&quot;:\r\n\r\n1.  Create a new copy of part of the array for `xs`\r\n\r\n    You can either use `System.arraycopy` (see answer by @Abra) or `Arrays.copyOfRange`, which is simpler:\r\n\r\n    ```java\r\n    int x = arr[0];\r\n    int[] xs = Arrays.copyOfRange(arr, 1, arr.length);\r\n    ```\r\n\r\n    And now we lookup the maximum element within `xs` (which is `valorMaxim(xs)`), and compare it to `x` as the final result:\r\n\r\n    ```java\r\n    return Math.max(x, valorMaxim(xs));\r\n    ```\r\n\r\n    Put everything together, and don&#39;t forget to add a length checker:\r\n\r\n    ```java\r\n    public static int valorMaxim(int arr[])\r\n    {\r\n    \tif (arr.length == 1) return arr[0];\r\n\r\n    \tint x = arr[0];\r\n    \tint[] xs = Arrays.copyOfRange(arr, 1, arr.length);\r\n\r\n    \treturn Math.max(x, valorMaxim(xs));\r\n    }\r\n    ```\r\n\r\n    And that&#39;s it! Since we have the length checker in the first place,\r\n    we can safely make sure `xs` would never be empty, and hence `valorMaxim(xs)` would\r\n    never result in `ArrayIndexOutOfBoundsException`.\r\n\r\n2.  Set a boundary for the array\r\n\r\n    You may have found that copying a new array at each time could be time- and memory-consuming.\r\n    Instead of creating a physical copy for `xs`, we can conceptualise the idea\r\n    and use a bounded array instead. We would need to define a helper method to do so:\r\n\r\n    ```java\r\n    private static int findMaxBound(int arr[], int startFrom)\r\n    {\r\n    \t// does &quot;xs&quot; have length 1?\r\n    \tif (startFrom == arr.length - 1) return arr[startFrom];\r\n\r\n    \tint x = arr[startFrom];\r\n    \tint maxInXs = findMaxBound(arr, startFrom + 1);\r\n\r\n    \treturn Math.max(x, maxInXs);\r\n    }\r\n    ```\r\n\r\n    And then we can define `valorMaxim` as\r\n\r\n    ```java\r\n    public static int valorMaxim(int arr[])\r\n    {\r\n    \treturn findMaxBound(arr, 0);\r\n    }\r\n    ```\r\n\r\n    In the end, we did not create any new copies of `arr`\r\n    but uses different ranges of itself and treat them as `xs` throughout the process.","title":"How I could find the maxim value of an array with recursive without having an index?","body":"<p>Basically, the recursive idea is:</p>\n<ol>\n<li>If the array has length 1, return the only element;</li>\n<li>Otherwise, split the array into <code>x</code> the first element, and <code>xs</code> the rest;</li>\n<li>Find the maximum element within <code>xs</code>, compare it to <code>x</code> and yield the greater.</li>\n</ol>\n<p>There are two ways to achieve such a &quot;split&quot;:</p>\n<ol>\n<li><p>Create a new copy of part of the array for <code>xs</code></p>\n<p>You can either use <code>System.arraycopy</code> (see answer by @Abra) or <code>Arrays.copyOfRange</code>, which is simpler:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int x = arr[0];\nint[] xs = Arrays.copyOfRange(arr, 1, arr.length);\n</code></pre>\n<p>And now we lookup the maximum element within <code>xs</code> (which is <code>valorMaxim(xs)</code>), and compare it to <code>x</code> as the final result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return Math.max(x, valorMaxim(xs));\n</code></pre>\n<p>Put everything together, and don't forget to add a length checker:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int valorMaxim(int arr[])\n{\n    if (arr.length == 1) return arr[0];\n\n    int x = arr[0];\n    int[] xs = Arrays.copyOfRange(arr, 1, arr.length);\n\n    return Math.max(x, valorMaxim(xs));\n}\n</code></pre>\n<p>And that's it! Since we have the length checker in the first place,\nwe can safely make sure <code>xs</code> would never be empty, and hence <code>valorMaxim(xs)</code> would\nnever result in <code>ArrayIndexOutOfBoundsException</code>.</p>\n</li>\n<li><p>Set a boundary for the array</p>\n<p>You may have found that copying a new array at each time could be time- and memory-consuming.\nInstead of creating a physical copy for <code>xs</code>, we can conceptualise the idea\nand use a bounded array instead. We would need to define a helper method to do so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static int findMaxBound(int arr[], int startFrom)\n{\n    // does &quot;xs&quot; have length 1?\n    if (startFrom == arr.length - 1) return arr[startFrom];\n\n    int x = arr[startFrom];\n    int maxInXs = findMaxBound(arr, startFrom + 1);\n\n    return Math.max(x, maxInXs);\n}\n</code></pre>\n<p>And then we can define <code>valorMaxim</code> as</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int valorMaxim(int arr[])\n{\n    return findMaxBound(arr, 0);\n}\n</code></pre>\n<p>In the end, we did not create any new copies of <code>arr</code>\nbut uses different ranges of itself and treat them as <code>xs</code> throughout the process.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":25284304,"reputation":35,"user_id":19111628,"display_name":"ERFAKLK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1667044405,"creation_date":1667035327,"question_id":74244134,"body_markdown":"I have that method `valorMaxim([1, 5, 252, 24, 7, 82, 3])` returns 252.\r\nI don&#39;t know how to do it. I have been thinking if I could decrease the array length.\r\n```java\r\npublic static int valorMaxim(int arr[]){\r\n    int max;\r\n\r\n    if(arr.length==1)\r\n        return arr[0];\r\n    for (int i = 0; i &lt; arr.length; i++) {\r\n        if (arr[i] &lt; arr[i+1]) {\r\n            max=arr[i+1];\r\n            return arr[i+1];\r\n        }\r\n    }\r\n    return valorMaxim(arr);\r\n\r\n    //Retorna el valor m&#224;xim en un array no buit d’enters.\r\n}\r\n```\r\n","title":"How I could find the maxim value of an array with recursive without having an index?","body":"<p>I have that method <code>valorMaxim([1, 5, 252, 24, 7, 82, 3])</code> returns 252.\nI don't know how to do it. I have been thinking if I could decrease the array length.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int valorMaxim(int arr[]){\n    int max;\n\n    if(arr.length==1)\n        return arr[0];\n    for (int i = 0; i &lt; arr.length; i++) {\n        if (arr[i] &lt; arr[i+1]) {\n            max=arr[i+1];\n            return arr[i+1];\n        }\n    }\n    return valorMaxim(arr);\n\n    //Retorna el valor màxim en un array no buit d’enters.\n}\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"score":1,"creation_date":1555350204,"post_id":55694629,"comment_id":98071879,"body_markdown":"What&#39;s your Java version?  [`List.of`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html#of(E,E)) was new in Java 9.","body":"What&#39;s your Java version?  <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html#of(E,E)\" rel=\"nofollow noreferrer\"><code>List.of</code></a> was new in Java 9."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1555350219,"post_id":55694629,"comment_id":98071892,"body_markdown":"The `List.of(..)` is available in JDK9+ as far as I know. So my assumption is you are using JDK8...","body":"The <code>List.of(..)</code> is available in JDK9+ as far as I know. So my assumption is you are using JDK8..."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1555350905,"post_id":55694629,"comment_id":98072188,"body_markdown":"You can use `Arrays.asList` in earlier Java versions (`Collections.unmodifableList(Arrays.asList(...))`, if you&#39;re being picky).","body":"You can use <code>Arrays.asList</code> in earlier Java versions (<code>Collections.unmodifableList(Arrays.asList(...))</code>, if you&#39;re being picky)."}],"answers":[{"tags":[],"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1555350375,"creation_date":1555350219,"answer_id":55694664,"question_id":55694629,"body_markdown":"The overloaded [`List.of` methods](https://docs.oracle.com/javase/9/docs/api/java/util/List.html#of--) were introduced in Java 9.\r\n\r\n&gt; **Since:**  \r\n&gt;  9\r\n\r\nYou must be compiling with an older version. Update to Java 9 or later. [Here&#39;s how.](https://stackoverflow.com/questions/18987228/how-do-i-change-the-intellij-idea-default-jdk)","title":"Cannot resolve method &#39;List.of(java.lang.String, java.lang.String)&#39;","body":"<p>The overloaded <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/List.html#of--\" rel=\"noreferrer\"><code>List.of</code> methods</a> were introduced in Java 9.</p>\n\n<blockquote>\n  <p><strong>Since:</strong><br>\n   9</p>\n</blockquote>\n\n<p>You must be compiling with an older version. Update to Java 9 or later. <a href=\"https://stackoverflow.com/questions/18987228/how-do-i-change-the-intellij-idea-default-jdk\">Here's how.</a></p>\n"},{"tags":[],"owner":{"account_id":7032562,"reputation":3009,"user_id":5387729,"accept_rate":65,"display_name":"Rijo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667043902,"creation_date":1667043902,"answer_id":74244969,"question_id":55694629,"body_markdown":"You can use *Arrays.asList*.\r\n\r\nList.of will support java 9 and above","title":"Cannot resolve method &#39;List.of(java.lang.String, java.lang.String)&#39;","body":"<p>You can use <em>Arrays.asList</em>.</p>\n<p>List.of will support java 9 and above</p>\n"}],"owner":{"account_id":13685553,"reputation":137,"user_id":9874733,"display_name":"M.Gumede"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16805,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1667043902,"creation_date":1555350093,"question_id":55694629,"body_markdown":"I&#39;ve been trying to create a simple hello world application with Java and SpringBoot in IntelliJ IDEA, but I get this error and I don&#39;t know how to solve it.\r\n\r\nI get the error at the return. Java doesn&#39;t seem to know how to resolve the `of` method that&#39;s in the `public List&lt;String&gt; getHelloWorld` method.\r\n\r\n```\r\npackage com.myname.SpringApp;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport java.util.List;\r\n\r\n\r\n@RestController\r\npublic class HelloWorldController {\r\n    @RequestMapping(&quot;api/hello-world&quot;)\r\n    @GetMapping\r\n    public List&lt;String&gt; getHelloWorld(){\r\n        return List.of(&quot;Hello&quot;, &quot;World&quot;);\r\n    }\r\n}\r\n\r\n```","title":"Cannot resolve method &#39;List.of(java.lang.String, java.lang.String)&#39;","body":"<p>I've been trying to create a simple hello world application with Java and SpringBoot in IntelliJ IDEA, but I get this error and I don't know how to solve it.</p>\n\n<p>I get the error at the return. Java doesn't seem to know how to resolve the <code>of</code> method that's in the <code>public List&lt;String&gt; getHelloWorld</code> method.</p>\n\n<pre><code>package com.myname.SpringApp;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport java.util.List;\n\n\n@RestController\npublic class HelloWorldController {\n    @RequestMapping(\"api/hello-world\")\n    @GetMapping\n    public List&lt;String&gt; getHelloWorld(){\n        return List.of(\"Hello\", \"World\");\n    }\n}\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":432714,"reputation":166472,"user_id":817643,"accept_rate":90,"display_name":"StoryTeller - Unslander Monica"},"score":0,"creation_date":1380031730,"post_id":18983883,"comment_id":28041497,"body_markdown":"You seem to have a function in-place, what exactly is the problem?","body":"You seem to have a function in-place, what exactly is the problem?"},{"owner":{"account_id":2278116,"reputation":6461,"user_id":2003898,"accept_rate":78,"display_name":"dhein"},"score":0,"creation_date":1380031870,"post_id":18983883,"comment_id":28041595,"body_markdown":"Even if you won&#39;t hit in this case the limit, I like to inform people when I see such big switch cases, that it produces undefined behavior if you have a switch with more then 1023 containing cases.","body":"Even if you won&#39;t hit in this case the limit, I like to inform people when I see such big switch cases, that it produces undefined behavior if you have a switch with more then 1023 containing cases."},{"owner":{"account_id":3271063,"reputation":53,"user_id":2754438,"accept_rate":58,"display_name":"Hayde"},"score":0,"creation_date":1380032354,"post_id":18983883,"comment_id":28041956,"body_markdown":"It&#39;s giving me an error Too few arguments in function call","body":"It&#39;s giving me an error Too few arguments in function call"},{"owner":{"account_id":15786,"reputation":161764,"user_id":33732,"accept_rate":67,"display_name":"Rob Kennedy"},"score":0,"creation_date":1380032548,"post_id":18983883,"comment_id":28042089,"body_markdown":"Were we supposed to *guess* that? Are we now supposed to guess which line that error occurs on? Should we also guess how many arguments are *supposed* to be there? Today&#39;s your lucky day: You&#39;ll learn a bit about programming, *and* you&#39;ll pick up some basic question-asking skills. The later will help you in life more than the former.","body":"Were we supposed to <i>guess</i> that? Are we now supposed to guess which line that error occurs on? Should we also guess how many arguments are <i>supposed</i> to be there? Today&#39;s your lucky day: You&#39;ll learn a bit about programming, <i>and</i> you&#39;ll pick up some basic question-asking skills. The later will help you in life more than the former."},{"owner":{"account_id":3271063,"reputation":53,"user_id":2754438,"accept_rate":58,"display_name":"Hayde"},"score":0,"creation_date":1380032785,"post_id":18983883,"comment_id":28042256,"body_markdown":"I managed to solve that was a stupid miss type, but its not calculating the score.","body":"I managed to solve that was a stupid miss type, but its not calculating the score."},{"owner":{"account_id":432714,"reputation":166472,"user_id":817643,"accept_rate":90,"display_name":"StoryTeller - Unslander Monica"},"score":3,"creation_date":1380032862,"post_id":18983883,"comment_id":28042307,"body_markdown":"You check for uppercase letters only.","body":"You check for uppercase letters only."},{"owner":{"account_id":15786,"reputation":161764,"user_id":33732,"accept_rate":67,"display_name":"Rob Kennedy"},"score":0,"creation_date":1380032878,"post_id":18983883,"comment_id":28042320,"body_markdown":"Without making any changes to the code, you&#39;ve changed the problem from one of compilation to one of run-time behavior. Those are entirely different classes of problems, and if you didn&#39;t change the code, then it&#39;s a major clue that the code shown here is not the (sole) source of the problem. Please show enough code to reproduce the problem. Furthermore, what word did you type in to test with, and what result did you expect from it?","body":"Without making any changes to the code, you&#39;ve changed the problem from one of compilation to one of run-time behavior. Those are entirely different classes of problems, and if you didn&#39;t change the code, then it&#39;s a major clue that the code shown here is not the (sole) source of the problem. Please show enough code to reproduce the problem. Furthermore, what word did you type in to test with, and what result did you expect from it?"}],"answers":[{"comments":[{"owner":{"account_id":15786,"reputation":161764,"user_id":33732,"accept_rate":67,"display_name":"Rob Kennedy"},"score":0,"creation_date":1380032023,"post_id":18983980,"comment_id":28041716,"body_markdown":"How do you know what type the argument should have? Have you read the assignment?","body":"How do you know what type the argument should have? Have you read the assignment?"},{"owner":{"account_id":1554778,"reputation":46862,"user_id":1870232,"accept_rate":81,"display_name":"P0W"},"score":0,"creation_date":1380032185,"post_id":18983980,"comment_id":28041832,"body_markdown":"@RobKennedy Now you&#39;ll say OP can have a `class`  named `String` ?","body":"@RobKennedy Now you&#39;ll say OP can have a <code>class</code>  named <code>String</code> ?"},{"owner":{"account_id":15786,"reputation":161764,"user_id":33732,"accept_rate":67,"display_name":"Rob Kennedy"},"score":0,"creation_date":1380032363,"post_id":18983980,"comment_id":28041962,"body_markdown":"Of course. It&#39;s my impression that custom string classes are pretty common in introductory programming classes.","body":"Of course. It&#39;s my impression that custom string classes are pretty common in introductory programming classes."},{"owner":{"account_id":3271063,"reputation":53,"user_id":2754438,"accept_rate":58,"display_name":"Hayde"},"score":0,"creation_date":1380032692,"post_id":18983980,"comment_id":28042199,"body_markdown":"My function seems to not be calculating the score, it just prints 0 for every word.","body":"My function seems to not be calculating the score, it just prints 0 for every word."},{"owner":{"account_id":1554778,"reputation":46862,"user_id":1870232,"accept_rate":81,"display_name":"P0W"},"score":0,"creation_date":1380032864,"post_id":18983980,"comment_id":28042310,"body_markdown":"@Hayde that&#39;s probably because you need to check for lowercase too","body":"@Hayde that&#39;s probably because you need to check for lowercase too"}],"tags":[],"owner":{"account_id":1554778,"reputation":46862,"user_id":1870232,"accept_rate":81,"display_name":"P0W"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380031830,"creation_date":1380031830,"answer_id":18983980,"question_id":18983883,"body_markdown":"    std::string word;\r\n    std::cin&gt;&gt;word;\r\n    std::cout&lt;&lt;&quot;Your Score :&quot; &lt;&lt; scrabbleScore(word) ;\r\n\r\nAlso,\r\n\r\n    int scrabbleScore(String Word)\r\n                      ^ this should be string from std namespace,\r\n                 \r\n  ","title":"How to calculate Scrabble Score of a word","body":"<pre><code>std::string word;\nstd::cin&gt;&gt;word;\nstd::cout&lt;&lt;\"Your Score :\" &lt;&lt; scrabbleScore(word) ;\n</code></pre>\n\n<p>Also,</p>\n\n<pre><code>int scrabbleScore(String Word)\n                  ^ this should be string from std namespace,\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3271063,"reputation":53,"user_id":2754438,"accept_rate":58,"display_name":"Hayde"},"score":0,"creation_date":1380033674,"post_id":18984607,"comment_id":28042893,"body_markdown":"Seems nice and a lot neater. Let say the word has a &#39;-&#39; in the word, how can I make this word not return any score?","body":"Seems nice and a lot neater. Let say the word has a &#39;-&#39; in the word, how can I make this word not return any score?"},{"owner":{"account_id":72682,"reputation":10774,"user_id":209744,"accept_rate":60,"display_name":"PP."},"score":1,"creation_date":1380033919,"post_id":18984607,"comment_id":28043074,"body_markdown":"This is a nice compact solution for English ASCII. But how does this prepare for multilanguage? If anything it appears to prevent it from other languages as there is an implicit assumption all characters in the alphabet reside contiguously in the ordinal space. But many languages have accents etc that prevent the use of an array index as you&#39;ve done here.","body":"This is a nice compact solution for English ASCII. But how does this prepare for multilanguage? If anything it appears to prevent it from other languages as there is an implicit assumption all characters in the alphabet reside contiguously in the ordinal space. But many languages have accents etc that prevent the use of an array index as you&#39;ve done here."},{"owner":{"account_id":2343612,"reputation":1202,"user_id":2054398,"display_name":"ColdCat"},"score":0,"creation_date":1380034643,"post_id":18984607,"comment_id":28043632,"body_markdown":"@hayde you could treat special character in the else case.","body":"@hayde you could treat special character in the else case."},{"owner":{"account_id":2343612,"reputation":1202,"user_id":2054398,"display_name":"ColdCat"},"score":0,"creation_date":1380034687,"post_id":18984607,"comment_id":28043674,"body_markdown":"@pp yes it&#39;s not perfectly multi language but the idea of table lookup. It could be change at runtime and is adaptable to any language the table will be 256bytes in ANSI and 64kb in unicode. If moving above 26 characters I would prefer creating the lookup table from scrabble score at runtime.","body":"@pp yes it&#39;s not perfectly multi language but the idea of table lookup. It could be change at runtime and is adaptable to any language the table will be 256bytes in ANSI and 64kb in unicode. If moving above 26 characters I would prefer creating the lookup table from scrabble score at runtime."},{"owner":{"account_id":15786,"reputation":161764,"user_id":33732,"accept_rate":67,"display_name":"Rob Kennedy"},"score":0,"creation_date":1380041801,"post_id":18984607,"comment_id":28048115,"body_markdown":"I think you&#39;ve neglected to answer the question. Remember this is Stack Overflow; Code Review is a separate site.","body":"I think you&#39;ve neglected to answer the question. Remember this is Stack Overflow; Code Review is a separate site."}],"tags":[],"owner":{"account_id":2343612,"reputation":1202,"user_id":2054398,"display_name":"ColdCat"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380033395,"creation_date":1380033395,"answer_id":18984607,"question_id":18983883,"body_markdown":"You could make it a bit shorter and prepare for one day multi-language with few modifications.\r\n\r\n    int scrabbleScore(string Word)\r\n    {\r\n    \tint score = 0;\r\n    \tchar EnglishScoreTable[26] = { 1, 3, 3, 2, 1, 4, 2, 4, 1, 8, 5, 1, 3, 1, 1, 3, 10, 1, 1, 1, 1, 4, 4, 8, 4, 10 };\r\n    \tfor (auto Letter : Word)\r\n    \t{\r\n    \t\tif (Letter &gt;= &#39;A&#39; &amp;&amp; Letter &lt;= &#39;Z&#39;)\r\n    \t\t{\r\n    \t\t\tscore += EnglishScoreTable[Letter - &#39;A&#39;];\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\t// error in input \r\n    \t\t}\r\n    \t}\r\n    \treturn score;\r\n    }","title":"How to calculate Scrabble Score of a word","body":"<p>You could make it a bit shorter and prepare for one day multi-language with few modifications.</p>\n\n<pre><code>int scrabbleScore(string Word)\n{\n    int score = 0;\n    char EnglishScoreTable[26] = { 1, 3, 3, 2, 1, 4, 2, 4, 1, 8, 5, 1, 3, 1, 1, 3, 10, 1, 1, 1, 1, 4, 4, 8, 4, 10 };\n    for (auto Letter : Word)\n    {\n        if (Letter &gt;= 'A' &amp;&amp; Letter &lt;= 'Z')\n        {\n            score += EnglishScoreTable[Letter - 'A'];\n        }\n        else\n        {\n            // error in input \n        }\n    }\n    return score;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":72682,"reputation":10774,"user_id":209744,"accept_rate":60,"display_name":"PP."},"score":0,"creation_date":1380033995,"post_id":18984655,"comment_id":28043127,"body_markdown":"What do you mean by &quot;imp&quot;?","body":"What do you mean by &quot;imp&quot;?"},{"owner":{"account_id":2919557,"reputation":7353,"user_id":2502126,"accept_rate":20,"display_name":"Buzz Moschetti"},"score":0,"creation_date":1380036790,"post_id":18984655,"comment_id":28045151,"body_markdown":"Implementation.  Apols for the ambiguous abbrev.  :-)","body":"Implementation.  Apols for the ambiguous abbrev.  :-)"},{"owner":{"account_id":15786,"reputation":161764,"user_id":33732,"accept_rate":67,"display_name":"Rob Kennedy"},"score":1,"creation_date":1380041561,"post_id":18984655,"comment_id":28047987,"body_markdown":"+1 for addressing a problem described in the question, but -1 for implicitly suggesting that the project be re-implemented in an *entirely different language*.","body":"+1 for addressing a problem described in the question, but -1 for implicitly suggesting that the project be re-implemented in an <i>entirely different language</i>."},{"owner":{"account_id":2919557,"reputation":7353,"user_id":2502126,"accept_rate":20,"display_name":"Buzz Moschetti"},"score":0,"creation_date":1380048789,"post_id":18984655,"comment_id":28051900,"body_markdown":"True!   I was on autopilot and just selected all and pasted it into emacs and ran javac.  The obvious syntax clues like std::cout &lt;&lt; &quot;message&quot; were not there and I didn&#39;t see the other example till later.   Completely didn&#39;t think about C++ at first.","body":"True!   I was on autopilot and just selected all and pasted it into emacs and ran javac.  The obvious syntax clues like std::cout &lt;&lt; &quot;message&quot; were not there and I didn&#39;t see the other example till later.   Completely didn&#39;t think about C++ at first."}],"tags":[],"owner":{"account_id":2919557,"reputation":7353,"user_id":2502126,"accept_rate":20,"display_name":"Buzz Moschetti"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380033533,"creation_date":1380033533,"answer_id":18984655,"question_id":18983883,"body_markdown":"Change imp to this:\r\n\r\n    private static int scrabbleScore(String Word) {\r\n        int score = 0;\r\n    \tString upperWord = Word.toUpperCase();\r\n        for (int i = 0; i &lt; upperWord.length(); i++){\r\n            char calculatedLetter = upperWord.charAt(i);\r\n    \t    switch (calculatedLetter) {\r\n\t ","title":"How to calculate Scrabble Score of a word","body":"<p>Change imp to this:</p>\n\n<pre><code>private static int scrabbleScore(String Word) {\n    int score = 0;\n    String upperWord = Word.toUpperCase();\n    for (int i = 0; i &lt; upperWord.length(); i++){\n        char calculatedLetter = upperWord.charAt(i);\n        switch (calculatedLetter) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17695674,"reputation":11,"user_id":12846479,"display_name":"Samiullah Azizi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667043772,"creation_date":1667043772,"answer_id":74244949,"question_id":18983883,"body_markdown":"    export const score = (test) =&gt; {\r\n        test = test.toUpperCase()\r\n        var s = 0\r\n        for (var i = 0; i &lt; test.length; i++) {\r\n            if ([&#39;A&#39;, &#39;E&#39;, &#39;I&#39;, &#39;O&#39;, &#39;U&#39;, &#39;L&#39;, &#39;N&#39;, &#39;R&#39;, &#39;S&#39;, &#39;T&#39;].some(function (v) { return test[i].indexOf(v) &gt;= 0; })) {\r\n                s += 1\r\n            }\r\n            if ([&#39;D&#39;, &#39;G&#39;].some(function (v) { return test[i].indexOf(v) &gt;= 0; })) {\r\n                s += 2\r\n            }\r\n            if ([&#39;F&#39;, &#39;H&#39;, &#39;V&#39;, &#39;W&#39;, &#39;Y&#39;].some(function (v) { return test[i].indexOf(v) &gt;= 0; })) {\r\n                s += 4\r\n            }\r\n            if ([&#39;B&#39;, &#39;C&#39;, &#39;M&#39;, &#39;P&#39;].some(function (v) { return test[i].indexOf(v) &gt;= 0; })) {\r\n                s += 3\r\n            }\r\n            if ([&#39;K&#39;].some(function (v) { return test[i].indexOf(v) &gt;= 0; })) {\r\n                s += 5\r\n            }\r\n            if ([&#39;J&#39;, &#39;X&#39;].some(function (v) { return test[i].indexOf(v) &gt;= 0; })) {\r\n                s += 8\r\n            }\r\n            if ([&#39;Q&#39;, &#39;Z&#39;].some(function (v) { return test[i].indexOf(v) &gt;= 0; })) {\r\n                s += 10\r\n            }\r\n        }\r\n        return s\r\n    };","title":"How to calculate Scrabble Score of a word","body":"<pre><code>export const score = (test) =&gt; {\n    test = test.toUpperCase()\n    var s = 0\n    for (var i = 0; i &lt; test.length; i++) {\n        if (['A', 'E', 'I', 'O', 'U', 'L', 'N', 'R', 'S', 'T'].some(function (v) { return test[i].indexOf(v) &gt;= 0; })) {\n            s += 1\n        }\n        if (['D', 'G'].some(function (v) { return test[i].indexOf(v) &gt;= 0; })) {\n            s += 2\n        }\n        if (['F', 'H', 'V', 'W', 'Y'].some(function (v) { return test[i].indexOf(v) &gt;= 0; })) {\n            s += 4\n        }\n        if (['B', 'C', 'M', 'P'].some(function (v) { return test[i].indexOf(v) &gt;= 0; })) {\n            s += 3\n        }\n        if (['K'].some(function (v) { return test[i].indexOf(v) &gt;= 0; })) {\n            s += 5\n        }\n        if (['J', 'X'].some(function (v) { return test[i].indexOf(v) &gt;= 0; })) {\n            s += 8\n        }\n        if (['Q', 'Z'].some(function (v) { return test[i].indexOf(v) &gt;= 0; })) {\n            s += 10\n        }\n    }\n    return s\n};\n</code></pre>\n"}],"owner":{"account_id":3271063,"reputation":53,"user_id":2754438,"accept_rate":58,"display_name":"Hayde"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6987,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1667043772,"creation_date":1380031565,"question_id":18983883,"body_markdown":"I&#39;m trying to write a program to calculate the score of a word, based on the game Scrabble![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/uQGgn.png\r\n\r\nThe scores are based off the image above.\r\n\r\nI&#39;ve currently coded a function, my ideal goal is to use this and get the user to input a word to calculate the score.\r\n\r\n    int scrabbleScore(String Word) {\r\n            int score = 0;\r\n            for (int i = 0; i &lt; Word.length(); i++){\r\n                char calculatedLetter = Word.at(i);\r\n                switch (calculatedLetter) {\r\n                    case &#39;A&#39;:\r\n                    case &#39;E&#39;:\r\n                    case &#39;I&#39;:\r\n                    case &#39;L&#39;:\r\n                    case &#39;N&#39;:\r\n                    case &#39;O&#39;:\r\n                    case &#39;R&#39;:\r\n                    case &#39;S&#39;:\r\n                    case &#39;T&#39;:\r\n                    case &#39;U&#39;:\r\n                        score +=1; break;\r\n                    case &#39;D&#39;:\r\n                    case &#39;G&#39;:\r\n                        score +=2; break;\r\n                    case &#39;B&#39;:\r\n                    case &#39;C&#39;:\r\n                    case &#39;M&#39;:\r\n                    case &#39;P&#39;:\r\n                        score +=3; break;\r\n                    case &#39;F&#39;:\r\n                    case &#39;H&#39;:\r\n                    case &#39;V&#39;:\r\n                    case &#39;W&#39;:\r\n                    case &#39;Y&#39;:\r\n                        score +=4; break;\r\n                    case &#39;K&#39;:\r\n                        score +=5; break;\r\n                    case &#39;J&#39;:\r\n                    case &#39;X&#39;:\r\n                        score +=8; break;\r\n                    case &#39;Q&#39;:\r\n                    case &#39;Z&#39;:\r\n                        score +=10; break;\r\n                    default: break;\r\n                }\r\n            }\r\n            return score;\r\n\r\nWhy is this giving me a score of 0 for any word?","title":"How to calculate Scrabble Score of a word","body":"<p>I'm trying to write a program to calculate the score of a word, based on the game Scrabble<img src=\"https://i.stack.imgur.com/uQGgn.png\" alt=\"enter image description here\"></p>\n\n<p>The scores are based off the image above.</p>\n\n<p>I've currently coded a function, my ideal goal is to use this and get the user to input a word to calculate the score.</p>\n\n<pre><code>int scrabbleScore(String Word) {\n        int score = 0;\n        for (int i = 0; i &lt; Word.length(); i++){\n            char calculatedLetter = Word.at(i);\n            switch (calculatedLetter) {\n                case 'A':\n                case 'E':\n                case 'I':\n                case 'L':\n                case 'N':\n                case 'O':\n                case 'R':\n                case 'S':\n                case 'T':\n                case 'U':\n                    score +=1; break;\n                case 'D':\n                case 'G':\n                    score +=2; break;\n                case 'B':\n                case 'C':\n                case 'M':\n                case 'P':\n                    score +=3; break;\n                case 'F':\n                case 'H':\n                case 'V':\n                case 'W':\n                case 'Y':\n                    score +=4; break;\n                case 'K':\n                    score +=5; break;\n                case 'J':\n                case 'X':\n                    score +=8; break;\n                case 'Q':\n                case 'Z':\n                    score +=10; break;\n                default: break;\n            }\n        }\n        return score;\n</code></pre>\n\n<p>Why is this giving me a score of 0 for any word?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","unauthorized"],"answers":[{"tags":[],"owner":{"account_id":14327909,"reputation":379,"user_id":10349481,"display_name":"Andre Moraes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607804283,"creation_date":1607804283,"answer_id":65269402,"question_id":65268745,"body_markdown":"My shot it&#39;s related to &quot; .httpBasic();&quot;, looks like you&#39;re expecting a basic authentication when you set this in your properties.","title":"Spring Security - Unauthorized though permitting all requests","body":"<p>My shot it's related to &quot; .httpBasic();&quot;, looks like you're expecting a basic authentication when you set this in your properties.</p>\n"},{"comments":[{"owner":{"account_id":11719768,"reputation":61,"user_id":8579080,"display_name":"Ilya G."},"score":0,"creation_date":1607885618,"post_id":65269545,"comment_id":115406981,"body_markdown":"By mistake I&#39;ve created config package one level upper... Thanks for your help!","body":"By mistake I&#39;ve created config package one level upper... Thanks for your help!"}],"tags":[],"owner":{"account_id":6278449,"reputation":2408,"user_id":4880379,"display_name":"kasptom"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1607805817,"creation_date":1607805303,"answer_id":65269545,"question_id":65268745,"body_markdown":"My shot is that your `WebConfig` is [not placed in the right package](https://docs.spring.io/spring-boot/docs/current/reference/html/using-spring-boot.html#using-boot-structuring-your-code).\r\nIf your `@SpringBootApplication` annotated class is in `com.example.demo`\r\nthen your `WebConfig` class should be placed under the `com.example.demo` package (or other sub-package, e.g: `com.example.demo.config`).\r\n```java\r\npackage com.example.demo.config; // &lt;-- move it to the (not-default) package\r\n\r\n// skipped imports\r\n// ...\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class WebConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n      // config same as in the question&#39;s snippet\r\n      // ...\r\n    }\r\n}\r\n```","title":"Spring Security - Unauthorized though permitting all requests","body":"<p>My shot is that your <code>WebConfig</code> is <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using-spring-boot.html#using-boot-structuring-your-code\" rel=\"nofollow noreferrer\">not placed in the right package</a>.\nIf your <code>@SpringBootApplication</code> annotated class is in <code>com.example.demo</code>\nthen your <code>WebConfig</code> class should be placed under the <code>com.example.demo</code> package (or other sub-package, e.g: <code>com.example.demo.config</code>).</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo.config; // &lt;-- move it to the (not-default) package\n\n// skipped imports\n// ...\n\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n      // config same as in the question's snippet\n      // ...\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16129101,"reputation":189,"user_id":11643193,"display_name":"Jesus Hernandez Barrios"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607813536,"creation_date":1607813536,"answer_id":65270657,"question_id":65268745,"body_markdown":"If you are getting an Unauthorize (401) it means that the authentication failed, regardless of whether you have access to access the resource or not.\r\nYou are using basic auth, and the spring flow has two parts, authentication and authorization, first it authenticates, to know if a user is valid and then it is seen if they have authorization to access the resource. In this case the error is given because it does not have authentication, better known as 401, in case you had authentication and no authorization, you would receive a 403 forbiden","title":"Spring Security - Unauthorized though permitting all requests","body":"<p>If you are getting an Unauthorize (401) it means that the authentication failed, regardless of whether you have access to access the resource or not.\nYou are using basic auth, and the spring flow has two parts, authentication and authorization, first it authenticates, to know if a user is valid and then it is seen if they have authorization to access the resource. In this case the error is given because it does not have authentication, better known as 401, in case you had authentication and no authorization, you would receive a 403 forbiden</p>\n"},{"tags":[],"owner":{"account_id":10706766,"reputation":108,"user_id":7880312,"display_name":"Yodi S."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667043744,"creation_date":1667043744,"answer_id":74244943,"question_id":65268745,"body_markdown":"In my case, I need to remove the context path from the properties file. I removed this:\r\n\r\n    server.servlet.context-path=/api\r\n\r\nafter I removed that value, then everything went right. But, I still don&#39;t know why it won&#39;t work with the context-path.\r\n","title":"Spring Security - Unauthorized though permitting all requests","body":"<p>In my case, I need to remove the context path from the properties file. I removed this:</p>\n<pre><code>server.servlet.context-path=/api\n</code></pre>\n<p>after I removed that value, then everything went right. But, I still don't know why it won't work with the context-path.</p>\n"}],"owner":{"account_id":11719768,"reputation":61,"user_id":8579080,"display_name":"Ilya G."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1365,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":65269545,"answer_count":4,"score":2,"last_activity_date":1667043744,"creation_date":1607799775,"question_id":65268745,"body_markdown":"I have such a web config in Spring Boot App:\r\n        \r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.config.http.SessionCreationPolicy;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class WebConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    .authorizeRequests().anyRequest().permitAll()\r\n            .and()\r\n                    .csrf().disable()\r\n                    .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n            .and()\r\n                    .httpBasic();\r\n        }\r\n    }\r\n\r\nwhen trying to reach one of the urls (localhost:8080/test), I get Unauthorized. What am I doing wrong?","title":"Spring Security - Unauthorized though permitting all requests","body":"<p>I have such a web config in Spring Boot App:</p>\n<pre><code>import org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.http.SessionCreationPolicy;\n\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .authorizeRequests().anyRequest().permitAll()\n        .and()\n                .csrf().disable()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n                .httpBasic();\n    }\n}\n</code></pre>\n<p>when trying to reach one of the urls (localhost:8080/test), I get Unauthorized. What am I doing wrong?</p>\n"},{"tags":["java","process"],"comments":[{"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1510861498,"post_id":47337847,"comment_id":81627797,"body_markdown":"https://docs.oracle.com/javase/7/docs/technotes/tools/share/jps.html","body":"<a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/share/jps.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/technotes/tools/share/jps.html</a>"},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1510863247,"post_id":47337847,"comment_id":81628676,"body_markdown":"It means the first one of your two bullet points.","body":"It means the first one of your two bullet points."}],"answers":[{"comments":[{"owner":{"account_id":52354,"reputation":95730,"user_id":156458,"accept_rate":47,"display_name":"Tim"},"score":0,"creation_date":1510862059,"post_id":47338008,"comment_id":81628077,"body_markdown":"Thanks. What do &quot;JVM processes&quot; mean here?","body":"Thanks. What do &quot;JVM processes&quot; mean here?"}],"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1510862273,"creation_date":1510861900,"answer_id":47338008,"question_id":47337847,"body_markdown":"A running Java Virtual Machine (JVM) instance is materialized by a native process launched by an OS while a `Process` class instance is a native process launched by a running JVM.&lt;br&gt;\r\nAs each Java Virtual Machine is associated to a specific native process, instead of saying a process that runs a JVM, we could so shortcut it by a JVM process.&lt;br&gt; \r\n\r\n","title":"What does &quot;JVM processes&quot; mean?","body":"<p>A running Java Virtual Machine (JVM) instance is materialized by a native process launched by an OS while a <code>Process</code> class instance is a native process launched by a running JVM.<br>\nAs each Java Virtual Machine is associated to a specific native process, instead of saying a process that runs a JVM, we could so shortcut it by a JVM process.<br> </p>\n"},{"tags":[],"owner":{"account_id":2679033,"reputation":27742,"user_id":2314737,"accept_rate":82,"display_name":"user2314737"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667043247,"creation_date":1667043247,"answer_id":74244900,"question_id":47337847,"body_markdown":"**JVM** stands for **J**ava **V**irtual **M**achine. \r\n\r\nIn plain English, a virtual machine (VM) is any piece of software that simulates a real machine. There are two kinds of VMs:\r\n\r\n - system VM\r\n - process VM\r\n\r\nA system virtual machine provides the functionality of a real computer. A process virtual machines allows to execute programs in one specific programming language. The advantage of a process VM (sometimes also called _managed runtime environment_) is that it provides the same environment across different platforms.\r\n\r\n**JVM is the process virtual machine for Java.** \r\n\r\nSince of the main design goals of Java is portability, the Java language code gets compiled to an intermediate representation called _Java bytecode_ that can be executed on a JVM. \r\n\r\nSo, basically **every time you run Java code you start an own JVM process**.\r\n\r\n[![Java bytecode on a Java Virtual Machine][1]][1]\r\n\r\nImage source: [Introduction to Computer Science using Java](https://chortle.ccsu.edu/java5/notes/chap05/ch05_4.html)\r\n\r\nThere are exceptions to that, namely special-purpose processors that can interpret Java bytecode: with such processors Java is executed directly on the hardware without using a virtual machine. An example are ARM processors endowed with the Jazelle DBX direct bytecode execution.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/thIKT.gif","title":"What does &quot;JVM processes&quot; mean?","body":"<p><strong>JVM</strong> stands for <strong>J</strong>ava <strong>V</strong>irtual <strong>M</strong>achine.</p>\n<p>In plain English, a virtual machine (VM) is any piece of software that simulates a real machine. There are two kinds of VMs:</p>\n<ul>\n<li>system VM</li>\n<li>process VM</li>\n</ul>\n<p>A system virtual machine provides the functionality of a real computer. A process virtual machines allows to execute programs in one specific programming language. The advantage of a process VM (sometimes also called <em>managed runtime environment</em>) is that it provides the same environment across different platforms.</p>\n<p><strong>JVM is the process virtual machine for Java.</strong></p>\n<p>Since of the main design goals of Java is portability, the Java language code gets compiled to an intermediate representation called <em>Java bytecode</em> that can be executed on a JVM.</p>\n<p>So, basically <strong>every time you run Java code you start an own JVM process</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/thIKT.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/thIKT.gif\" alt=\"Java bytecode on a Java Virtual Machine\" /></a></p>\n<p>Image source: <a href=\"https://chortle.ccsu.edu/java5/notes/chap05/ch05_4.html\" rel=\"nofollow noreferrer\">Introduction to Computer Science using Java</a></p>\n<p>There are exceptions to that, namely special-purpose processors that can interpret Java bytecode: with such processors Java is executed directly on the hardware without using a virtual machine. An example are ARM processors endowed with the Jazelle DBX direct bytecode execution.</p>\n"}],"owner":{"account_id":52354,"reputation":95730,"user_id":156458,"accept_rate":47,"display_name":"Tim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2387,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"answer_count":2,"score":3,"last_activity_date":1667043247,"creation_date":1510861379,"question_id":47337847,"body_markdown":"From Java In a Nutshell\r\n\r\n&gt; `jps`  provides a list of all active **JVM processes** on the local machine (or a remote machine, if a suitable instance of  `jstatd`  is running on the remote side).\r\n\r\nWhat does &quot;JVM processes&quot; here mean,\r\n\r\n- processes of the underlying OS which run JVM exactly, or \r\n\r\n- processes that are supported by Java via `Process`, `ProcessBuilder` and `Runtime.exec()`...\r\n\r\nThanks.\r\n\r\n","title":"What does &quot;JVM processes&quot; mean?","body":"<p>From Java In a Nutshell</p>\n\n<blockquote>\n  <p><code>jps</code>  provides a list of all active <strong>JVM processes</strong> on the local machine (or a remote machine, if a suitable instance of  <code>jstatd</code>  is running on the remote side).</p>\n</blockquote>\n\n<p>What does \"JVM processes\" here mean,</p>\n\n<ul>\n<li><p>processes of the underlying OS which run JVM exactly, or </p></li>\n<li><p>processes that are supported by Java via <code>Process</code>, <code>ProcessBuilder</code> and <code>Runtime.exec()</code>...</p></li>\n</ul>\n\n<p>Thanks.</p>\n"},{"tags":["java","collections","treeset"],"comments":[{"owner":{"account_id":21175,"reputation":5408,"user_id":51280,"accept_rate":68,"display_name":"opyate"},"score":2,"creation_date":1390562628,"post_id":1090969,"comment_id":32156014,"body_markdown":"Flip the order of ```this``` and ```that``` in the overridden ```compareTo``` so items are inserted in the opposite order.","body":"Flip the order of <code>this</code> and <code>that</code> in the overridden <code>compareTo</code> so items are inserted in the opposite order."}],"answers":[{"comments":[{"owner":{"account_id":42000,"reputation":744,"user_id":122221,"accept_rate":93,"display_name":"Gaurav Saini"},"score":1,"creation_date":1246955405,"post_id":1090981,"comment_id":904960,"body_markdown":"Thanks. descendingIterator() method was introduced in 6.0 and was not there in 5.0","body":"Thanks. descendingIterator() method was introduced in 6.0 and was not there in 5.0"}],"tags":[],"owner":{"account_id":43577,"reputation":54129,"user_id":127479,"accept_rate":95,"display_name":"Adamski"},"comment_count":1,"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1246954441,"creation_date":1246954441,"answer_id":1090981,"question_id":1090969,"body_markdown":"Why do you think this approach won&#39;t be optimized?  The reverse order `Comparator` is simply going to be flipping the sign of the output from the actual `Comparator` (or output from `compareTo` on the `Comparable` objects being inserted) and I would therefore imagine it is very fast.\r\n\r\nAn alternative suggestion: Rather than change the order you store the elements in you could iterate over them in descending order using the `descendingIterator()` method.","title":"Treeset to order elements in descending order","body":"<p>Why do you think this approach won't be optimized?  The reverse order <code>Comparator</code> is simply going to be flipping the sign of the output from the actual <code>Comparator</code> (or output from <code>compareTo</code> on the <code>Comparable</code> objects being inserted) and I would therefore imagine it is very fast.</p>\n\n<p>An alternative suggestion: Rather than change the order you store the elements in you could iterate over them in descending order using the <code>descendingIterator()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":23234,"reputation":34610,"user_id":58082,"accept_rate":78,"display_name":"Pierre"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1559234446,"creation_date":1246954618,"answer_id":1090989,"question_id":1090969,"body_markdown":"    TreeSet&lt;Integer&gt; treeSetObj = new TreeSet&lt;Integer&gt;(new Comparator&lt;Integer&gt;()\r\n      {\r\n      public int compare(Integer i1,Integer i2)\r\n            {\r\n            return i2.compareTo(i1);\r\n            }\r\n      });\r\n\r\nthere is need to flip the result. But I guess this is **just a [micro-optimization][1]**... Do you really need this ?\r\n\r\n\r\n  [1]: https://softwareengineering.stackexchange.com/q/99445/34735","title":"Treeset to order elements in descending order","body":"<pre><code>TreeSet&lt;Integer&gt; treeSetObj = new TreeSet&lt;Integer&gt;(new Comparator&lt;Integer&gt;()\n  {\n  public int compare(Integer i1,Integer i2)\n        {\n        return i2.compareTo(i1);\n        }\n  });\n</code></pre>\n\n<p>there is need to flip the result. But I guess this is <strong>just a <a href=\"https://softwareengineering.stackexchange.com/q/99445/34735\">micro-optimization</a></strong>... Do you really need this ?</p>\n"},{"tags":[],"owner":{"account_id":540,"reputation":13430,"user_id":700,"accept_rate":79,"display_name":"Brian"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1559234940,"creation_date":1274219653,"answer_id":2861428,"question_id":1090969,"body_markdown":"# `TreeSet::descendingSet`\r\n\r\nIn Java 6 and later, there is a method on [`TreeSet`][1] called [`descendingSet()`][2] producing a [`NavigableSet`][3] interface object.\r\n\r\n    \r\n\r\n&gt; public NavigableSet&lt;E&gt; descendingSet()\r\n&gt;     \r\n&gt; The descending set is backed by this\r\n&gt; set, so changes to the set are\r\n&gt; reflected in the descending set, and\r\n&gt; vice-versa. If either set is modified\r\n&gt; while an iteration over either set is\r\n&gt; in progress (except through the\r\n&gt; iterator&#39;s own remove operation), the\r\n&gt; results of the iteration are\r\n&gt; undefined.\r\n&gt;     \r\n&gt;         The returned set has an ordering equivalent to\r\n&gt; Collections.reverseOrder(comparator()).\r\n&gt; The expression\r\n&gt; s.descendingSet().descendingSet()\r\n&gt; returns a view of s essentially\r\n&gt; equivalent to s.\r\n&gt;     \r\n&gt;         Specified by:\r\n&gt;             descendingSet in interface NavigableSet&lt;E&gt;\r\n&gt;     \r\n&gt;         Returns:\r\n&gt;             a reverse order view of this set\r\n&gt;         Since:\r\n&gt;             1.6\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/TreeSet.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/TreeSet.html#descendingSet()\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/NavigableSet.html","title":"Treeset to order elements in descending order","body":"<h1><code>TreeSet::descendingSet</code></h1>\n\n<p>In Java 6 and later, there is a method on <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/TreeSet.html\" rel=\"nofollow noreferrer\"><code>TreeSet</code></a> called <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/TreeSet.html#descendingSet()\" rel=\"nofollow noreferrer\"><code>descendingSet()</code></a> producing a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/NavigableSet.html\" rel=\"nofollow noreferrer\"><code>NavigableSet</code></a> interface object.</p>\n\n<blockquote>\n  <p>public NavigableSet descendingSet()</p>\n  \n  <p>The descending set is backed by this\n  set, so changes to the set are\n  reflected in the descending set, and\n  vice-versa. If either set is modified\n  while an iteration over either set is\n  in progress (except through the\n  iterator's own remove operation), the\n  results of the iteration are\n  undefined.</p>\n\n<pre><code>    The returned set has an ordering equivalent to\n</code></pre>\n  \n  <p>Collections.reverseOrder(comparator()).\n  The expression\n  s.descendingSet().descendingSet()\n  returns a view of s essentially\n  equivalent to s.</p>\n\n<pre><code>    Specified by:\n        descendingSet in interface NavigableSet&lt;E&gt;\n\n    Returns:\n        a reverse order view of this set\n    Since:\n        1.6\n</code></pre>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1559235149,"post_id":53028464,"comment_id":99365225,"body_markdown":"Seems to be a duplicate of the much older [Answer by Pierre](https://stackoverflow.com/a/1090989/642706).","body":"Seems to be a duplicate of the much older <a href=\"https://stackoverflow.com/a/1090989/642706\">Answer by Pierre</a>."}],"tags":[],"owner":{"account_id":14634841,"reputation":11,"user_id":10569363,"display_name":"Ashutosh"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559234679,"creation_date":1540702412,"answer_id":53028464,"question_id":1090969,"body_markdown":"# Reverse `compare`\r\n\r\nYou can reverse the order of the two arguments in the [`compare`][1] method of your [`Comparator`][2]. \r\n\r\n\r\n    TreeSet t = new TreeSet(new MyComparator());\r\n      {\r\n    class MyComparator implements Comparator\r\n    {\r\n      public int compare(Integer i1,Integer i2)\r\n            {\r\n             Integer I1=(Integer)i1;\r\n             Integer I2=(Integer)i2;\r\n             return I2.compareTo(I1);  // return -I1compareTo(I2);\r\n            }\r\n    }\r\n      }\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html#compare(T,T)\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html","title":"Treeset to order elements in descending order","body":"<h1>Reverse <code>compare</code></h1>\n\n<p>You can reverse the order of the two arguments in the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html#compare(T,T)\" rel=\"nofollow noreferrer\"><code>compare</code></a> method of your <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code></a>. </p>\n\n<pre><code>TreeSet t = new TreeSet(new MyComparator());\n  {\nclass MyComparator implements Comparator\n{\n  public int compare(Integer i1,Integer i2)\n        {\n         Integer I1=(Integer)i1;\n         Integer I2=(Integer)i2;\n         return I2.compareTo(I1);  // return -I1compareTo(I2);\n        }\n}\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17043956,"reputation":995,"user_id":12331220,"display_name":"Anupam Haldkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1593857236,"creation_date":1593857236,"answer_id":62727792,"question_id":1090969,"body_markdown":"Using descendingSet method you can reverse existing treeSet in the class \r\n```\r\nimport java.util.TreeSet; \r\n  \r\npublic class TreeSetDescending { \r\n  \r\n    public static void main(String[] args) \r\n    { \r\n        // Declare a treeset \r\n        TreeSet&lt;Object&gt; ints = new TreeSet&lt;Object&gt;(); \r\n        ints.add(2); \r\n        ints.add(20); \r\n        ints.add(10); \r\n        ints.add(5); \r\n        ints.add(7); \r\n        ints.add(3); \r\n  \r\n        // Initialize treeset with predefined set in reverse order \r\n        // using descendingSet() \r\n        TreeSet&lt;Object&gt; intsReverse = (TreeSet&lt;Object&gt;)ints.descendingSet(); \r\n  \r\n        // Print the set \r\n        System.out.println(&quot;Without descendingSet(): &quot; + ints); \r\n        System.out.println(&quot;With descendingSet(): &quot; + intsReverse); \r\n    } \r\n} ","title":"Treeset to order elements in descending order","body":"<p>Using descendingSet method you can reverse existing treeSet in the class</p>\n<pre><code>import java.util.TreeSet; \n  \npublic class TreeSetDescending { \n  \n    public static void main(String[] args) \n    { \n        // Declare a treeset \n        TreeSet&lt;Object&gt; ints = new TreeSet&lt;Object&gt;(); \n        ints.add(2); \n        ints.add(20); \n        ints.add(10); \n        ints.add(5); \n        ints.add(7); \n        ints.add(3); \n  \n        // Initialize treeset with predefined set in reverse order \n        // using descendingSet() \n        TreeSet&lt;Object&gt; intsReverse = (TreeSet&lt;Object&gt;)ints.descendingSet(); \n  \n        // Print the set \n        System.out.println(&quot;Without descendingSet(): &quot; + ints); \n        System.out.println(&quot;With descendingSet(): &quot; + intsReverse); \n    } \n} \n</code></pre>\n"}],"owner":{"account_id":42000,"reputation":744,"user_id":122221,"accept_rate":93,"display_name":"Gaurav Saini"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66751,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":1090981,"answer_count":5,"score":32,"last_activity_date":1667043007,"creation_date":1246954259,"question_id":1090969,"body_markdown":"Here is the piece of code that I have used for Java 5.0\r\n\r\n    TreeSet&lt;Integer&gt; treeSetObj = new TreeSet&lt;Integer&gt;( Collections.reverseOrder() ) ;\r\n\r\n`Collections.reverseOrder()` is used to obtain a comparator in order to reverse the way the elements are stored and iterated. \r\n\r\nIs there a more optimized way of doing it?","title":"Treeset to order elements in descending order","body":"<p>Here is the piece of code that I have used for Java 5.0</p>\n<pre><code>TreeSet&lt;Integer&gt; treeSetObj = new TreeSet&lt;Integer&gt;( Collections.reverseOrder() ) ;\n</code></pre>\n<p><code>Collections.reverseOrder()</code> is used to obtain a comparator in order to reverse the way the elements are stored and iterated.</p>\n<p>Is there a more optimized way of doing it?</p>\n"},{"tags":["java","android","string","random","android-toast"],"comments":[{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1667029410,"post_id":74243593,"comment_id":131077979,"body_markdown":"Well. Maybe you as a human know that the `random` variable must match one of the three comparisons. But the compiler does not know. So, the variable `str` might not be initialized (for the compiler). The solution is ... to simply initialize it: `String str = null;`.","body":"Well. Maybe you as a human know that the <code>random</code> variable must match one of the three comparisons. But the compiler does not know. So, the variable <code>str</code> might not be initialized (for the compiler). The solution is ... to simply initialize it: <code>String str = null;</code>."},{"owner":{"account_id":399349,"reputation":4195,"user_id":764624,"display_name":"Ivan Wooll"},"score":0,"creation_date":1667030571,"post_id":74243593,"comment_id":131078141,"body_markdown":"@Seelenvirtuose or initialise it to a default value that you will see if none of the conditions are met instead of crashing the app?","body":"@Seelenvirtuose or initialise it to a default value that you will see if none of the conditions are met instead of crashing the app?"}],"answers":[{"tags":[],"owner":{"account_id":25182377,"reputation":5871,"user_id":19023745,"display_name":"z.g.y"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667041727,"creation_date":1667032982,"answer_id":74243922,"question_id":74243593,"body_markdown":"Look to your use-case and think &quot;if I cant show &quot;Correct! Try again!&quot; or &quot;Lower!&quot; or &quot;Higher!&quot;, what should I display then?.\r\n\r\n    if(random==intNum)\r\n        {\r\n            str=&quot;Correct! Try again!&quot;;\r\n        }\r\n        else if(random&gt;intNum)\r\n        {\r\n            str=&quot;Lower!&quot;;\r\n        }\r\n        else if(random&lt;intNum)\r\n        {\r\n            str=&quot;Higher!&quot;;\r\n        } else {\r\n             // maybe I can add a default display here?\r\n        }\r\n\r\nOtherwise, just initialize your `str` to an empty string `&quot;&quot;` or `null`\r\n\r\n    String str = &quot;&quot;;\r\n\r\nor\r\n\r\n    String str  = null;\r\n\r\nHowever, setting it to `null` is a guaranteed `NullPointerException` if none of those condition blocks is executed, and `NullPointerException` will crash your app.\r\n\r\nSpecifically, when `Toast` receives a `null` value in its `text` parameter, the system will give you this error log:\r\n\r\n    Caused by: java.lang.IllegalStateException: You must either set a text or a view\r\n\r\n ","title":"String isn&#39;t initialized in Toast (android)","body":"<p>Look to your use-case and think &quot;if I cant show &quot;Correct! Try again!&quot; or &quot;Lower!&quot; or &quot;Higher!&quot;, what should I display then?.</p>\n<pre><code>if(random==intNum)\n    {\n        str=&quot;Correct! Try again!&quot;;\n    }\n    else if(random&gt;intNum)\n    {\n        str=&quot;Lower!&quot;;\n    }\n    else if(random&lt;intNum)\n    {\n        str=&quot;Higher!&quot;;\n    } else {\n         // maybe I can add a default display here?\n    }\n</code></pre>\n<p>Otherwise, just initialize your <code>str</code> to an empty string <code>&quot;&quot;</code> or <code>null</code></p>\n<pre><code>String str = &quot;&quot;;\n</code></pre>\n<p>or</p>\n<pre><code>String str  = null;\n</code></pre>\n<p>However, setting it to <code>null</code> is a guaranteed <code>NullPointerException</code> if none of those condition blocks is executed, and <code>NullPointerException</code> will crash your app.</p>\n<p>Specifically, when <code>Toast</code> receives a <code>null</code> value in its <code>text</code> parameter, the system will give you this error log:</p>\n<pre><code>Caused by: java.lang.IllegalStateException: You must either set a text or a view\n</code></pre>\n"}],"owner":{"account_id":20587099,"reputation":3,"user_id":15111714,"display_name":"Azraf Sami"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74243922,"answer_count":1,"score":-2,"last_activity_date":1667041727,"creation_date":1667028821,"question_id":74243593,"body_markdown":"\r\n```\r\npackage com.example.higherorlower;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport java.util.*;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    public void ClickFunc(View varView)\r\n    {\r\n        EditText num=(EditText) findViewById(R.id.numID);\r\n        int intNum=Integer.parseInt(num.getText().toString());\r\n        int max=20;\r\n        int min=1;\r\n        int random = new Random().nextInt((max - min) + 1) + min;\r\n\r\n        String str;\r\n        if(random==intNum)\r\n        {\r\n            str=&quot;Correct! Try again!&quot;;\r\n        }\r\n        else if(random&gt;intNum)\r\n        {\r\n            str=&quot;Lower!&quot;;\r\n        }\r\n        else if(random&lt;intNum)\r\n        {\r\n            str=&quot;Higher!&quot;;\r\n        }\r\n\r\n        Toast.makeText(MainActivity.this,str,Toast.LENGTH_LONG).show();\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n}\r\n```\r\n\r\n**Problem: Variable &#39;str&#39; might not have been initialized**\r\n\r\nI want to try generate random number and play &#39;guess number&#39; game.But in Toast, it says, str is not initialized! How can I solve this problem? ","title":"String isn&#39;t initialized in Toast (android)","body":"<pre><code>package com.example.higherorlower;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport java.util.*;\n\npublic class MainActivity extends AppCompatActivity {\n\n    public void ClickFunc(View varView)\n    {\n        EditText num=(EditText) findViewById(R.id.numID);\n        int intNum=Integer.parseInt(num.getText().toString());\n        int max=20;\n        int min=1;\n        int random = new Random().nextInt((max - min) + 1) + min;\n\n        String str;\n        if(random==intNum)\n        {\n            str=&quot;Correct! Try again!&quot;;\n        }\n        else if(random&gt;intNum)\n        {\n            str=&quot;Lower!&quot;;\n        }\n        else if(random&lt;intNum)\n        {\n            str=&quot;Higher!&quot;;\n        }\n\n        Toast.makeText(MainActivity.this,str,Toast.LENGTH_LONG).show();\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n}\n</code></pre>\n<p><strong>Problem: Variable 'str' might not have been initialized</strong></p>\n<p>I want to try generate random number and play 'guess number' game.But in Toast, it says, str is not initialized! How can I solve this problem?</p>\n"},{"tags":["java","json","jackson","jackson-databind"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667040284,"post_id":74193262,"comment_id":131079571,"body_markdown":"Sorry, I was wrong. It&#39;s a documented issue of the Jackson&#39;s creator-discovery mechanism (I&#39;ve provided the links in the answer), and it might be fixed in the future.","body":"Sorry, I was wrong. It&#39;s a documented issue of the Jackson&#39;s creator-discovery mechanism (I&#39;ve provided the links in the answer), and it might be fixed in the future."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666704171,"creation_date":1666704171,"answer_id":74194780,"question_id":74193262,"body_markdown":"Until Java 8, the names of method and constructor parameters were not present in compiled byte code. In Java 8 and later, the `-parameters` needs to be explicitly set to get the parameter names in byte code. If the name is not available in byte code, it is not available through reflection; you&#39;d instead get `arg0`, `arg1`, etc.\r\n\r\nSome frameworks have already been updated to use the parameter names, but a lot have not. As far as I know, Jackson belongs to the second group (most likely also to still support older Java versions). You can try to use the `-parameters` flag, but you probably still have to tell Jackson to use the constructor - either using `@JsonProperty` on the constructor parameter, or using `@JsonCreator`.","title":"How to make Jackson recognize constructor field names as properties without explicit JsonProperty?","body":"<p>Until Java 8, the names of method and constructor parameters were not present in compiled byte code. In Java 8 and later, the <code>-parameters</code> needs to be explicitly set to get the parameter names in byte code. If the name is not available in byte code, it is not available through reflection; you'd instead get <code>arg0</code>, <code>arg1</code>, etc.</p>\n<p>Some frameworks have already been updated to use the parameter names, but a lot have not. As far as I know, Jackson belongs to the second group (most likely also to still support older Java versions). You can try to use the <code>-parameters</code> flag, but you probably still have to tell Jackson to use the constructor - either using <code>@JsonProperty</code> on the constructor parameter, or using <code>@JsonCreator</code>.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667041628,"creation_date":1667039922,"answer_id":74244580,"question_id":74193262,"body_markdown":"#  Parameter names module\r\n\r\nTo make Jackson capable of detecting the required constructor based on the number of properties **without** making use of data-binding annotations `@JsonCreator` and `@JsonProperty` you can add a dependency to **Jackson Modules: Java 8** ([a link to the Maven repository](https://mvnrepository.com/artifact/com.fasterxml.jackson.module/jackson-modules-java8/2.13.3)).\r\n\r\nJackson Modules: Java 8 is an umbrella multi-module which includes [Parameter names module](https://github.com/FasterXML/jackson-modules-java8/tree/2.14/parameter-names).\r\n\r\nIf you are using Spring Boot, the only thing needed to register the module is to place `ParameterNamesModule` as a Bean into the Spring&#39;s Context, and it would be grabbed at the application start-up and registred automatically by the [`JacksonAutoConfiguration`](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/jackson/JacksonAutoConfiguration.html) while `ObjectMapper` would be configured.\r\n\r\nAs explained [here](https://github.com/FasterXML/jackson-modules-java8/tree/2.14/parameter-names#delegating-creator) you need to provide `JsonCreator.Mode.PROPERTIES` as argument while instantiating the module.\r\n\r\n    @Bean\r\n    public ParameterNamesModule parameterNamesModule() {\r\n        return new ParameterNamesModule(JsonCreator.Mode.PROPERTIES);\r\n    }\r\n\r\nIf you&#39;re not using Spring in your project, then you would need to configure `ObjectMapper` manually:\r\n\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\nmapper.registerModule(new ParameterNamesModule(JsonCreator.Mode.PROPERTIES));\r\n```\r\n\r\n&lt;h3&gt;Note&lt;/h3&gt;\r\n\r\nThere are **caveats**. Specifically there&#39;s an issue with detecting a *single-arg constructor*. Here&#39;s a quote from the [module-description](https://github.com/FasterXML/jackson-modules-java8/tree/2.14/parameter-names):\r\n\r\n&gt; **Preconditions:**\r\n&gt; \r\n&gt; * class Person must be compiled with Java 8 compliant compiler with option to store formal parameter names turned on (-parameters option).\r\n&gt; For more information about Java 8 API for accessing parameter names at\r\n&gt; runtime see this\r\n&gt; * if there are multiple visible constructors and there is no default constructor, @JsonCreator is required to select constructor for\r\n&gt; deserialization\r\n&gt; * if used with jackson-databind lower than 2.6.0, @JsonCreator is required. In practice, @JsonCreator is also often required with 2.6.0+\r\n&gt; due to issues with constructor discovery that will be resolved in 2.7.\r\n&gt; * if class `Person` has a **single argument constructor**, its argument **needs to be annotated** with `@JsonProperty(&quot;propertyName&quot;)`. This is to\r\n&gt; **preserve legacy behavior**, see FasterXML/jackson-databind/#1498\r\n\r\nSo, to make the Jackson recognize a *single-arg constructor*, we need to apply `@JsonProperty` on the argument.\r\n\r\nHere&#39;s also a mention of this issue [`JsonCreator.Mode.PROPERTIES`](https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonCreator.Mode.html#PROPERTIES) documentation:\r\n\r\n&gt; Mode that indicates that the argument(s) for creator are to be bound from matching properties of incoming Object value, using creator argument names (explicit or implicit) to match incoming Object properties to arguments.\r\n&gt; \r\n&gt; **Note** that this mode is currently (2.5) always used for\r\n&gt; multiple-argument creators; the **only ambiguous case is that of a\r\n&gt; single-argument creator**.\r\n______________________________________________________________\r\n\r\nThis behavior **might be fixed** with Jackson 3 as [mentioned here](https://github.com/FasterXML/jackson-databind/issues/1498#issuecomment-325795788).\r\n\r\n# Java 16 Records\r\n\r\nIf you&#39;re using JDK 16+ in your project, then you can make this final class to be a record.\r\n\r\nRecords **doesn&#39;t** declare a default no-args constructor, instead the compiler generates a so-called *canonical constructor*, declaring all the arguments from the record&#39;s header (*refer to the JLS [8.10.4. Record Constructor Declarations](https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.10.4) for more information*).\r\n\r\nAnd Jackson uses *canonical constructor* as a default creator to instantiate records.\r\n\r\nThe following record would be desirialized without issues:\r\n\r\n```\r\npublic record MyRec(String id) {}\r\n```","title":"How to make Jackson recognize constructor field names as properties without explicit JsonProperty?","body":"<h1>Parameter names module</h1>\n<p>To make Jackson capable of detecting the required constructor based on the number of properties <strong>without</strong> making use of data-binding annotations <code>@JsonCreator</code> and <code>@JsonProperty</code> you can add a dependency to <strong>Jackson Modules: Java 8</strong> (<a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.module/jackson-modules-java8/2.13.3\" rel=\"nofollow noreferrer\">a link to the Maven repository</a>).</p>\n<p>Jackson Modules: Java 8 is an umbrella multi-module which includes <a href=\"https://github.com/FasterXML/jackson-modules-java8/tree/2.14/parameter-names\" rel=\"nofollow noreferrer\">Parameter names module</a>.</p>\n<p>If you are using Spring Boot, the only thing needed to register the module is to place <code>ParameterNamesModule</code> as a Bean into the Spring's Context, and it would be grabbed at the application start-up and registred automatically by the <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/jackson/JacksonAutoConfiguration.html\" rel=\"nofollow noreferrer\"><code>JacksonAutoConfiguration</code></a> while <code>ObjectMapper</code> would be configured.</p>\n<p>As explained <a href=\"https://github.com/FasterXML/jackson-modules-java8/tree/2.14/parameter-names#delegating-creator\" rel=\"nofollow noreferrer\">here</a> you need to provide <code>JsonCreator.Mode.PROPERTIES</code> as argument while instantiating the module.</p>\n<pre><code>@Bean\npublic ParameterNamesModule parameterNamesModule() {\n    return new ParameterNamesModule(JsonCreator.Mode.PROPERTIES);\n}\n</code></pre>\n<p>If you're not using Spring in your project, then you would need to configure <code>ObjectMapper</code> manually:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.registerModule(new ParameterNamesModule(JsonCreator.Mode.PROPERTIES));\n</code></pre>\n<h3>Note</h3>\n<p>There are <strong>caveats</strong>. Specifically there's an issue with detecting a <em>single-arg constructor</em>. Here's a quote from the <a href=\"https://github.com/FasterXML/jackson-modules-java8/tree/2.14/parameter-names\" rel=\"nofollow noreferrer\">module-description</a>:</p>\n<blockquote>\n<p><strong>Preconditions:</strong></p>\n<ul>\n<li>class Person must be compiled with Java 8 compliant compiler with option to store formal parameter names turned on (-parameters option).\nFor more information about Java 8 API for accessing parameter names at\nruntime see this</li>\n<li>if there are multiple visible constructors and there is no default constructor, @JsonCreator is required to select constructor for\ndeserialization</li>\n<li>if used with jackson-databind lower than 2.6.0, @JsonCreator is required. In practice, @JsonCreator is also often required with 2.6.0+\ndue to issues with constructor discovery that will be resolved in 2.7.</li>\n<li>if class <code>Person</code> has a <strong>single argument constructor</strong>, its argument <strong>needs to be annotated</strong> with <code>@JsonProperty(&quot;propertyName&quot;)</code>. This is to\n<strong>preserve legacy behavior</strong>, see FasterXML/jackson-databind/#1498</li>\n</ul>\n</blockquote>\n<p>So, to make the Jackson recognize a <em>single-arg constructor</em>, we need to apply <code>@JsonProperty</code> on the argument.</p>\n<p>Here's also a mention of this issue <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonCreator.Mode.html#PROPERTIES\" rel=\"nofollow noreferrer\"><code>JsonCreator.Mode.PROPERTIES</code></a> documentation:</p>\n<blockquote>\n<p>Mode that indicates that the argument(s) for creator are to be bound from matching properties of incoming Object value, using creator argument names (explicit or implicit) to match incoming Object properties to arguments.</p>\n<p><strong>Note</strong> that this mode is currently (2.5) always used for\nmultiple-argument creators; the <strong>only ambiguous case is that of a\nsingle-argument creator</strong>.</p>\n</blockquote>\n<hr />\n<p>This behavior <strong>might be fixed</strong> with Jackson 3 as <a href=\"https://github.com/FasterXML/jackson-databind/issues/1498#issuecomment-325795788\" rel=\"nofollow noreferrer\">mentioned here</a>.</p>\n<h1>Java 16 Records</h1>\n<p>If you're using JDK 16+ in your project, then you can make this final class to be a record.</p>\n<p>Records <strong>doesn't</strong> declare a default no-args constructor, instead the compiler generates a so-called <em>canonical constructor</em>, declaring all the arguments from the record's header (<em>refer to the JLS <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.10.4\" rel=\"nofollow noreferrer\">8.10.4. Record Constructor Declarations</a> for more information</em>).</p>\n<p>And Jackson uses <em>canonical constructor</em> as a default creator to instantiate records.</p>\n<p>The following record would be desirialized without issues:</p>\n<pre><code>public record MyRec(String id) {}\n</code></pre>\n"}],"owner":{"account_id":3298176,"reputation":7146,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1563,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74244580,"answer_count":2,"score":3,"last_activity_date":1667041628,"creation_date":1666696834,"question_id":74193262,"body_markdown":"There is a simple class with parameterized constructor. I&#39;m looking for a way to apply it for JSON deserialization with minimal annotations usage.\r\n\r\nHow to make Jackson recognize `id` field by its name without explicit `JsonProperty`?\r\n\r\n**Class:**\r\n\r\n    public final class MyRec {\r\n    \r\n        final String id;\r\n    \r\n        public MyRec1(String id) {\r\n            this.id = id;\r\n        }\r\n    }\r\n\r\nDeserialization fails unless annotation `@JsonProperty(&quot;id&quot;)` is present on the field.\r\n    \r\n\r\n**Deserialization attempt:**\r\n\r\n    new ObjectMapper().readValue(&quot;&quot;&quot;{&quot;id&quot;:&quot;abc&quot;}&quot;&quot;&quot;, MyRec.class);\r\n\r\n**Exception:**\r\n\r\n    Cannot construct instance of `sample.MyRec` (although at least one Creator exists): \r\n    cannot deserialize from Object value (no delegate- or property-based Creator)\r\n      at [Source: (String)&quot;{&quot;id&quot;:&quot;abc&quot;}&quot;; line: 1, column: 2]\r\n\r\n    com.fasterxml.jackson.databind.exc.MismatchedInputException:\r\n    Cannot construct instance of `sample.MyRec` (although at least one Creator exists):\r\n      cannot deserialize from Object value (no delegate- or property-based Creator)\r\n      at [Source: (String)&quot;{&quot;id&quot;:&quot;abc&quot;}&quot;; line: 1, column: 2]\r\n      at app//com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:63)","title":"How to make Jackson recognize constructor field names as properties without explicit JsonProperty?","body":"<p>There is a simple class with parameterized constructor. I'm looking for a way to apply it for JSON deserialization with minimal annotations usage.</p>\n<p>How to make Jackson recognize <code>id</code> field by its name without explicit <code>JsonProperty</code>?</p>\n<p><strong>Class:</strong></p>\n<pre><code>public final class MyRec {\n\n    final String id;\n\n    public MyRec1(String id) {\n        this.id = id;\n    }\n}\n</code></pre>\n<p>Deserialization fails unless annotation <code>@JsonProperty(&quot;id&quot;)</code> is present on the field.</p>\n<p><strong>Deserialization attempt:</strong></p>\n<pre><code>new ObjectMapper().readValue(&quot;&quot;&quot;{&quot;id&quot;:&quot;abc&quot;}&quot;&quot;&quot;, MyRec.class);\n</code></pre>\n<p><strong>Exception:</strong></p>\n<pre><code>Cannot construct instance of `sample.MyRec` (although at least one Creator exists): \ncannot deserialize from Object value (no delegate- or property-based Creator)\n  at [Source: (String)&quot;{&quot;id&quot;:&quot;abc&quot;}&quot;; line: 1, column: 2]\n\ncom.fasterxml.jackson.databind.exc.MismatchedInputException:\nCannot construct instance of `sample.MyRec` (although at least one Creator exists):\n  cannot deserialize from Object value (no delegate- or property-based Creator)\n  at [Source: (String)&quot;{&quot;id&quot;:&quot;abc&quot;}&quot;; line: 1, column: 2]\n  at app//com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:63)\n</code></pre>\n"},{"tags":["java","import","deprecated","suppress-warnings"],"comments":[{"owner":{"account_id":65278,"reputation":3062,"user_id":192236,"accept_rate":89,"display_name":"Ed Mazur"},"score":4,"creation_date":1260219640,"post_id":1858021,"comment_id":1758993,"body_markdown":"Yeah that would be ideal, but in this case I am using a library for Hadoop that uses a portion of its API that was recently deprecated, so I don&#39;t really have a choice if I want to use this library. Plus this is just for a school project, not anything that will need to be maintained.","body":"Yeah that would be ideal, but in this case I am using a library for Hadoop that uses a portion of its API that was recently deprecated, so I don&#39;t really have a choice if I want to use this library. Plus this is just for a school project, not anything that will need to be maintained."}],"answers":[{"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1283678637,"creation_date":1260164531,"answer_id":1858028,"question_id":1858021,"body_markdown":"As a hack you can not do the import and use the fully qualified name inside the code.\r\n\r\nYou might also try javac -Xlint:-deprecation not sure if that would address it.","title":"Suppress deprecated import warning in Java","body":"<p>As a hack you can not do the import and use the fully qualified name inside the code.</p>\n\n<p>You might also try javac -Xlint:-deprecation not sure if that would address it.</p>\n"},{"comments":[{"owner":{"account_id":65278,"reputation":3062,"user_id":192236,"accept_rate":89,"display_name":"Ed Mazur"},"score":31,"creation_date":1260219692,"post_id":1858037,"comment_id":1758997,"body_markdown":"Does this work with imports? I&#39;ve used that annotation on methods and such, but it doesn&#39;t seem to be recognized with imports.","body":"Does this work with imports? I&#39;ve used that annotation on methods and such, but it doesn&#39;t seem to be recognized with imports."},{"owner":{"account_id":67322,"reputation":2609,"user_id":197039,"display_name":"craigforster"},"score":2,"creation_date":1260242152,"post_id":1858037,"comment_id":1760720,"body_markdown":"Using the annotation at the class level should cover imports as well.  It does this at least within Eclipse (well, Rational Application Developer) for me but I&#39;m not sure about during command-line compilation.","body":"Using the annotation at the class level should cover imports as well.  It does this at least within Eclipse (well, Rational Application Developer) for me but I&#39;m not sure about during command-line compilation."},{"owner":{"account_id":65278,"reputation":3062,"user_id":192236,"accept_rate":89,"display_name":"Ed Mazur"},"score":0,"creation_date":1260295977,"post_id":1858037,"comment_id":1765952,"body_markdown":"Ah yes, putting it at the class level did the trick (I&#39;m using Eclipse as well). I&#39;d only tried adding it above the imports, which did not work. Thank you!","body":"Ah yes, putting it at the class level did the trick (I&#39;m using Eclipse as well). I&#39;d only tried adding it above the imports, which did not work. Thank you!"},{"owner":{"account_id":97204,"reputation":4979,"user_id":263801,"accept_rate":74,"display_name":"Archie"},"score":23,"creation_date":1310310846,"post_id":1858037,"comment_id":7847239,"body_markdown":"It doesn&#39;t seem to work with command-line &quot;javac&quot; or ant&#39;s &lt;javac&gt; task. Neither does the -Xlint:-deprecation flag. Seems like a javac bug.","body":"It doesn&#39;t seem to work with command-line &quot;javac&quot; or ant&#39;s &lt;javac&gt; task. Neither does the -Xlint:-deprecation flag. Seems like a javac bug."},{"owner":{"account_id":945625,"reputation":2558,"user_id":972932,"accept_rate":66,"display_name":"gyorgyabraham"},"score":0,"creation_date":1450176168,"post_id":1858037,"comment_id":56315492,"body_markdown":"@EdMazur you are right it does not seem to work with imports","body":"@EdMazur you are right it does not seem to work with imports"},{"owner":{"account_id":320554,"reputation":1055,"user_id":638893,"accept_rate":70,"display_name":"mheinzerling"},"score":1,"creation_date":1469772080,"post_id":1858037,"comment_id":64684843,"body_markdown":"Not working if the deprecation is part of an static field and a local SuppressWarnings. Fully qualified class name seems to be the better approach here.","body":"Not working if the deprecation is part of an static field and a local SuppressWarnings. Fully qualified class name seems to be the better approach here."},{"owner":{"account_id":631723,"reputation":2270,"user_id":1046421,"accept_rate":55,"display_name":"Urhixidur"},"score":1,"creation_date":1497279097,"post_id":1858037,"comment_id":75998507,"body_markdown":"Under IntelliJ IDEA (2017.1.3), the annotation suppresses the visual warning but does not remove it from the build messages.","body":"Under IntelliJ IDEA (2017.1.3), the annotation suppresses the visual warning but does not remove it from the build messages."},{"owner":{"account_id":2315538,"reputation":3123,"user_id":2032701,"accept_rate":100,"display_name":"Ruslan"},"score":19,"creation_date":1506435143,"post_id":1858037,"comment_id":79814737,"body_markdown":"The answer shouldn&#39;t be at the top, since the question is about the &quot;import&quot; statement and the fix works only for Eclipse/Intellij (seems so according to the comments), but the ultimate source of truth is javac for which the fix doesn&#39;t work. This answer really answers the question: https://stackoverflow.com/a/20909204/2032701","body":"The answer shouldn&#39;t be at the top, since the question is about the &quot;import&quot; statement and the fix works only for Eclipse/Intellij (seems so according to the comments), but the ultimate source of truth is javac for which the fix doesn&#39;t work. This answer really answers the question: <a href=\"https://stackoverflow.com/a/20909204/2032701\">stackoverflow.com/a/20909204/2032701</a>"}],"tags":[],"owner":{"account_id":67322,"reputation":2609,"user_id":197039,"display_name":"craigforster"},"comment_count":8,"down_vote_count":22,"up_vote_count":177,"is_accepted":false,"score":155,"last_activity_date":1667041115,"creation_date":1260164745,"answer_id":1858037,"question_id":1858021,"body_markdown":"Use this annotation on your class or method:\r\n\r\n    @SuppressWarnings(&quot;deprecation&quot;)\r\n\r\nSince Java 9, you might need to add: \r\n\r\n    @SuppressWarnings(&quot;removal&quot;)\r\n\r\nIf the class was annotated with something like:\r\n\r\n    @Deprecated(since = &quot;3.14&quot;, forRemoval = true)","title":"Suppress deprecated import warning in Java","body":"<p>Use this annotation on your class or method:</p>\n<pre><code>@SuppressWarnings(&quot;deprecation&quot;)\n</code></pre>\n<p>Since Java 9, you might need to add:</p>\n<pre><code>@SuppressWarnings(&quot;removal&quot;)\n</code></pre>\n<p>If the class was annotated with something like:</p>\n<pre><code>@Deprecated(since = &quot;3.14&quot;, forRemoval = true)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1385888,"reputation":841,"user_id":1317961,"display_name":"Swav"},"score":0,"creation_date":1438277212,"post_id":7836855,"comment_id":51396216,"body_markdown":"This combination of &quot;@SuppressWarnings&quot; and &quot;@Deprecated&quot; also works for calling deprecated methods inside your own method.","body":"This combination of &quot;@SuppressWarnings&quot; and &quot;@Deprecated&quot; also works for calling deprecated methods inside your own method."},{"owner":{"display_name":"user5063151"},"score":1,"creation_date":1525713812,"post_id":7836855,"comment_id":87455889,"body_markdown":"I&#39;ve been looking for that explanation for so long. Thank you!","body":"I&#39;ve been looking for that explanation for so long. Thank you!"}],"tags":[],"owner":{"account_id":956701,"reputation":101,"user_id":981870,"display_name":"Per-&#197;ke Minborg"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1611278679,"creation_date":1319118235,"answer_id":7836855,"question_id":1858021,"body_markdown":"Suppose that you are overriding/implementing an interface with a deprecated method (such as the `getUnicodeStream(String columnLabel)` in `java.sql.ResultSet`) then you will not get rid of deprecation warnings just by using the annotation `@SuppressWarnings( &quot;deprecation&quot; )`, unless you also annotate the same new method with the `@Deprecated` annotation. This is logical, because otherwise you could _undeprecate_ a method by just overriding its interface description.","title":"Suppress deprecated import warning in Java","body":"<p>Suppose that you are overriding/implementing an interface with a deprecated method (such as the <code>getUnicodeStream(String columnLabel)</code> in <code>java.sql.ResultSet</code>) then you will not get rid of deprecation warnings just by using the annotation <code>@SuppressWarnings( &quot;deprecation&quot; )</code>, unless you also annotate the same new method with the <code>@Deprecated</code> annotation. This is logical, because otherwise you could <em>undeprecate</em> a method by just overriding its interface description.</p>\n"},{"comments":[{"owner":{"account_id":2176810,"reputation":1464,"user_id":1927303,"display_name":"Arundev"},"score":0,"creation_date":1468233234,"post_id":9923815,"comment_id":64025958,"body_markdown":"Don&#39;t import everything from the whole package. It will affect the performance. Unnecessary compiler will load all the classes will result in serious performance issue. Always make use that unused classes are not present in your import.","body":"Don&#39;t import everything from the whole package. It will affect the performance. Unnecessary compiler will load all the classes will result in serious performance issue. Always make use that unused classes are not present in your import."},{"owner":{"account_id":25389,"reputation":14608,"user_id":65230,"accept_rate":84,"display_name":"Ascalonian"},"score":1,"creation_date":1532524223,"post_id":9923815,"comment_id":90008181,"body_markdown":"Using an encyclopedia as an example here (yes I dated myself) - if you are looking for information about an Orangutan, do you just grab the &#39;O&#39; book or grab all the books?","body":"Using an encyclopedia as an example here (yes I dated myself) - if you are looking for information about an Orangutan, do you just grab the &#39;O&#39; book or grab all the books?"},{"owner":{"account_id":1833481,"reputation":757,"user_id":2004714,"display_name":"Paulo"},"score":0,"creation_date":1587658939,"post_id":9923815,"comment_id":108604492,"body_markdown":"@Arundev, to be clear, what you&#39;re saying is that the compilation could take longer to complete, but at runtime, this will not have any impact on the performance of the execution, right?","body":"@Arundev, to be clear, what you&#39;re saying is that the compilation could take longer to complete, but at runtime, this will not have any impact on the performance of the execution, right?"},{"owner":{"account_id":2176810,"reputation":1464,"user_id":1927303,"display_name":"Arundev"},"score":0,"creation_date":1589981461,"post_id":9923815,"comment_id":109508069,"body_markdown":"@Paulo - thats what am trying to say, it will check for the availability of classes imported, even if its not used. So if you have lot of unused imports always better to remove that.","body":"@Paulo - thats what am trying to say, it will check for the availability of classes imported, even if its not used. So if you have lot of unused imports always better to remove that."}],"tags":[],"owner":{"account_id":1363612,"reputation":479,"user_id":1300507,"display_name":"Tim"},"comment_count":4,"down_vote_count":8,"up_vote_count":19,"is_accepted":false,"score":11,"last_activity_date":1333017931,"creation_date":1333017931,"answer_id":9923815,"question_id":1858021,"body_markdown":"I solved this by changing the import to:\r\n\r\n    import package.*\r\n\r\nthen annotating the method that used the deprecated classes with`@SuppressWarnings(&quot;deprecation&quot;)`","title":"Suppress deprecated import warning in Java","body":"<p>I solved this by changing the import to:</p>\n\n<pre><code>import package.*\n</code></pre>\n\n<p>then annotating the method that used the deprecated classes with<code>@SuppressWarnings(\"deprecation\")</code></p>\n"},{"comments":[{"owner":{"account_id":1686251,"reputation":4392,"user_id":1549476,"accept_rate":88,"display_name":"k_g"},"score":17,"creation_date":1426647867,"post_id":20909204,"comment_id":46455775,"body_markdown":"+1 This should be the accepted answer. It has the benefit of not suppressing deprecations on the entire class.","body":"+1 This should be the accepted answer. It has the benefit of not suppressing deprecations on the entire class."},{"owner":{"account_id":60226,"reputation":2455,"user_id":179962,"display_name":"Alex"},"score":12,"creation_date":1430333641,"post_id":20909204,"comment_id":48025180,"body_markdown":"This is the better answer, `@SuppressWarnings` at the class level does not cover imports","body":"This is the better answer, <code>@SuppressWarnings</code> at the class level does not cover imports"},{"owner":{"account_id":564775,"reputation":2435,"user_id":196405,"display_name":"Christopher"},"score":8,"creation_date":1509575715,"post_id":20909204,"comment_id":81077666,"body_markdown":"This is the best answer until Java 9, where it is finally fixed: https://bugs.openjdk.java.net/browse/JDK-8032211","body":"This is the best answer until Java 9, where it is finally fixed: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8032211\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8032211</a>"}],"tags":[],"owner":{"account_id":430647,"reputation":9051,"user_id":814206,"accept_rate":96,"display_name":"Kasper van den Berg"},"comment_count":3,"down_vote_count":0,"up_vote_count":229,"is_accepted":true,"score":229,"last_activity_date":1388769602,"creation_date":1388769602,"answer_id":20909204,"question_id":1858021,"body_markdown":"To avoid the warning:\r\ndo *not* import the class\r\n\r\n**instead use the fully qualified class name**\r\n\r\nand use it in as few locations as possible.","title":"Suppress deprecated import warning in Java","body":"<p>To avoid the warning:\ndo <em>not</em> import the class</p>\n\n<p><strong>instead use the fully qualified class name</strong></p>\n\n<p>and use it in as few locations as possible.</p>\n"},{"tags":[],"owner":{"account_id":4140732,"reputation":21,"user_id":3396154,"display_name":"Amit"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1394287143,"creation_date":1394285959,"answer_id":22270075,"question_id":1858021,"body_markdown":"you can use: \r\n\r\n&gt; javac FileName.java -Xlint:-deprecation\r\n\r\nBut then this will give you warnings and also tell you the part of the code that is causing deprecation or using deprecated API. Now either you can run your code with these warnings or make appropriate changes in the code. \r\n\r\nIn my case I was using `someListItem.addItem(&quot;red color&quot;)` whereas the compiler wanted me to use `someListItem.add(&quot;red color&quot;);`.","title":"Suppress deprecated import warning in Java","body":"<p>you can use: </p>\n\n<blockquote>\n  <p>javac FileName.java -Xlint:-deprecation</p>\n</blockquote>\n\n<p>But then this will give you warnings and also tell you the part of the code that is causing deprecation or using deprecated API. Now either you can run your code with these warnings or make appropriate changes in the code. </p>\n\n<p>In my case I was using <code>someListItem.addItem(\"red color\")</code> whereas the compiler wanted me to use <code>someListItem.add(\"red color\");</code>.</p>\n"},{"tags":[],"owner":{"account_id":16359843,"reputation":191,"user_id":11815816,"display_name":"Ilja Tarasovs"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618838221,"creation_date":1618838221,"answer_id":67162778,"question_id":1858021,"body_markdown":"If `@SuppressWarnings(&quot;deprecation&quot;)` is not working for you like for me. You can find exact squid number in sonar lint plugin. And then you can simply suppress warning: `@SuppressWarnings(&quot;squid:CallToDeprecatedMethod&quot;)`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i6e9M.png","title":"Suppress deprecated import warning in Java","body":"<p>If <code>@SuppressWarnings(&quot;deprecation&quot;)</code> is not working for you like for me. You can find exact squid number in sonar lint plugin. And then you can simply suppress warning: <code>@SuppressWarnings(&quot;squid:CallToDeprecatedMethod&quot;)</code></p>\n<p><a href=\"https://i.stack.imgur.com/i6e9M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i6e9M.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":65278,"reputation":3062,"user_id":192236,"accept_rate":89,"display_name":"Ed Mazur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98100,"favorite_count":0,"down_vote_count":0,"up_vote_count":137,"accepted_answer_id":20909204,"answer_count":7,"score":137,"last_activity_date":1667041115,"creation_date":1260164220,"question_id":1858021,"body_markdown":"In Java, if you import a deprecated class:\r\n\r\n    import SomeDeprecatedClass;\r\n\r\nYou get this warning: `The type SomeDeprecatedClass is deprecated`\r\n\r\nIs there a way to suppress this warning?","title":"Suppress deprecated import warning in Java","body":"<p>In Java, if you import a deprecated class:</p>\n\n<pre><code>import SomeDeprecatedClass;\n</code></pre>\n\n<p>You get this warning: <code>The type SomeDeprecatedClass is deprecated</code></p>\n\n<p>Is there a way to suppress this warning?</p>\n"},{"tags":["java","spring-boot","jwt"],"comments":[{"owner":{"account_id":14207111,"reputation":332,"user_id":10263321,"display_name":"Aleson"},"score":0,"creation_date":1666231636,"post_id":74123268,"comment_id":130888881,"body_markdown":"what authentication service did you use? if you create your own authentication service you need to store the session to the database so the same user will get the same","body":"what authentication service did you use? if you create your own authentication service you need to store the session to the database so the same user will get the same"},{"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"score":0,"creation_date":1666645295,"post_id":74123268,"comment_id":130982288,"body_markdown":"Your spring security code looks fine, but I don&#39;t think this is a Java / Spring-Boot issue.  I think you need to get App2 to share cookies with App1. I think this is something to solve in React.","body":"Your spring security code looks fine, but I don&#39;t think this is a Java / Spring-Boot issue.  I think you need to get App2 to share cookies with App1. I think this is something to solve in React."}],"answers":[{"tags":[],"owner":{"account_id":1611204,"reputation":650,"user_id":1490061,"display_name":"Stof"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666744973,"creation_date":1666744082,"answer_id":74201481,"question_id":74123268,"body_markdown":"Several things here;\r\n\r\n1. You are exposing the token in cleartext (the iframe url). Even when HTTPS/TLS is used this URL itself is always cleartext and can be seen by anyone on the network at either end, or a middle party along the physical devices that relays network packets from client to server, anyone can see the token who are joined to the same wifi network as an example but the largest concern with exposing sensitive information in the URL is these URLs are logged everywhere, on the same device in unprotected files that other software can access, on all the devices on the network paths along the way (maybe even routed through countries you&#39;re not thinking can read this traffic), and on the server the same logs are created and often not protected either and these logs are almost always also sent of to a logging service like Datadog, SUMO, (hundreds others) who also see this sensitive token in the URL from these logs.\r\n\r\nBottom line, never, ever, send anything sensitive in a URL.\r\n\r\n2. Which JWT scheme are you implementing for the client?\r\n\r\n**a)** Is there a **private key** generated by the client and the public key sent to the server to form a JWT with encryption? Or;\r\n\r\n**b)** Is it using a **HMAC** which is essentially a signature accompanying the data to provide an integrity check, which only ensures data was not modified, this type of JWT has no encryption and therefore the JWT is entirely &#39;readable&#39; by anyone by design\r\n\r\n**c)** There is **no actual authentication** happening on the client at all, the client is provided the JWT **to avoid** having to do it.\r\n\r\n**If (a)** then the client generated a key/pair and it needs to send the public key to the server, not the server share anything with the client.\r\n\r\n**If (b)** then the client needs the shared secret to complete the signing, it will generate the JWT &#39;token&#39; itself new every time it makes a request to the microservices endpoints. \r\n\r\nSo you don&#39;t give a token to a client, the client generates (or rather constructs) it&#39;s own signature (the token) using the shared secret. The server also has the shared secret and can also construct and identical signature (token) on the server without the secret ever being sent over the communications channel with the data.\r\n\r\nYou will need to find an out-of-band method for a client to obtain the shared secret because sending it in the same communication method will defeat the entire purpose if having JWT.\r\n\r\n**If (c)** This is not a use case for JWT. If you do not do actual authentication on the client, then the client-side is not proven to be &#39;authentic&#39; using a security characteristic that is established to be a form of an authentication mechanism. Passing a string to a client endpoints from a server is only an authentication on the server, when the client later communicates using your method it is claiming it is the &#39;authentic&#39; server who &#39;authenticated&#39;, which it is not, it is the client..\r\n\r\nThat&#39;s why JWT is not making sense in this situation. If **you do not** ever what to do the authentication on the client side, then the client must be treated as unauthenticated and don&#39;t need authorisation (JWT) because they have no authentic identity established and are indistinguishable from one another.\r\n\r\nIf **you do** want client side authorisation, you need client side authentication first. Maybe you are having trouble with implementation of Authentication on a client, you may find OIDC easier","title":"How to sync JWT token from container app to child app&#39;s session","body":"<p>Several things here;</p>\n<ol>\n<li>You are exposing the token in cleartext (the iframe url). Even when HTTPS/TLS is used this URL itself is always cleartext and can be seen by anyone on the network at either end, or a middle party along the physical devices that relays network packets from client to server, anyone can see the token who are joined to the same wifi network as an example but the largest concern with exposing sensitive information in the URL is these URLs are logged everywhere, on the same device in unprotected files that other software can access, on all the devices on the network paths along the way (maybe even routed through countries you're not thinking can read this traffic), and on the server the same logs are created and often not protected either and these logs are almost always also sent of to a logging service like Datadog, SUMO, (hundreds others) who also see this sensitive token in the URL from these logs.</li>\n</ol>\n<p>Bottom line, never, ever, send anything sensitive in a URL.</p>\n<ol start=\"2\">\n<li>Which JWT scheme are you implementing for the client?</li>\n</ol>\n<p><strong>a)</strong> Is there a <strong>private key</strong> generated by the client and the public key sent to the server to form a JWT with encryption? Or;</p>\n<p><strong>b)</strong> Is it using a <strong>HMAC</strong> which is essentially a signature accompanying the data to provide an integrity check, which only ensures data was not modified, this type of JWT has no encryption and therefore the JWT is entirely 'readable' by anyone by design</p>\n<p><strong>c)</strong> There is <strong>no actual authentication</strong> happening on the client at all, the client is provided the JWT <strong>to avoid</strong> having to do it.</p>\n<p><strong>If (a)</strong> then the client generated a key/pair and it needs to send the public key to the server, not the server share anything with the client.</p>\n<p><strong>If (b)</strong> then the client needs the shared secret to complete the signing, it will generate the JWT 'token' itself new every time it makes a request to the microservices endpoints.</p>\n<p>So you don't give a token to a client, the client generates (or rather constructs) it's own signature (the token) using the shared secret. The server also has the shared secret and can also construct and identical signature (token) on the server without the secret ever being sent over the communications channel with the data.</p>\n<p>You will need to find an out-of-band method for a client to obtain the shared secret because sending it in the same communication method will defeat the entire purpose if having JWT.</p>\n<p><strong>If (c)</strong> This is not a use case for JWT. If you do not do actual authentication on the client, then the client-side is not proven to be 'authentic' using a security characteristic that is established to be a form of an authentication mechanism. Passing a string to a client endpoints from a server is only an authentication on the server, when the client later communicates using your method it is claiming it is the 'authentic' server who 'authenticated', which it is not, it is the client..</p>\n<p>That's why JWT is not making sense in this situation. If <strong>you do not</strong> ever what to do the authentication on the client side, then the client must be treated as unauthenticated and don't need authorisation (JWT) because they have no authentic identity established and are indistinguishable from one another.</p>\n<p>If <strong>you do</strong> want client side authorisation, you need client side authentication first. Maybe you are having trouble with implementation of Authentication on a client, you may find OIDC easier</p>\n"},{"tags":[],"owner":{"account_id":26711879,"reputation":391,"user_id":20317091,"display_name":"Tim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666745522,"creation_date":1666745522,"answer_id":74201593,"question_id":74123268,"body_markdown":"If App2 is the child, then App1 should dictate the auth expiration protocols. Why not just set your session expiration equal to your token expiration?  Each time a user logs in to App1, decode the JWT and pass the expiration as a variable to App2.\r\n\r\nOr set a timeout equal to moments before expiration and silently pass token refresh requests until both expirations are nearly equal.\r\n\r\nAlso, don&#39;t pass tokens openly in this manner. Instead, pass encrypted headers or cookies. Or hash tokens and save them to a secure database for query or update as needed.","title":"How to sync JWT token from container app to child app&#39;s session","body":"<p>If App2 is the child, then App1 should dictate the auth expiration protocols. Why not just set your session expiration equal to your token expiration?  Each time a user logs in to App1, decode the JWT and pass the expiration as a variable to App2.</p>\n<p>Or set a timeout equal to moments before expiration and silently pass token refresh requests until both expirations are nearly equal.</p>\n<p>Also, don't pass tokens openly in this manner. Instead, pass encrypted headers or cookies. Or hash tokens and save them to a secure database for query or update as needed.</p>\n"},{"tags":[],"owner":{"account_id":24102338,"reputation":876,"user_id":18074007,"display_name":"Ahmed Mohamed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667040125,"creation_date":1667040125,"answer_id":74244607,"question_id":74123268,"body_markdown":"One possible way to sync the JWT token expiration from the container app to the child app&#39;s session is to use a **session listener** on the child app that will **invalidate the session** when the token expires. A session listener is a class that implements the **HttpSessionListener** interface and can perform actions when a session is created or destroyed. You can register a session listener in your child app by adding a **@WebListener** annotation or by declaring it in your **web.xml** file.\r\n\r\nTo invalidate the session when the token expires, you can store the token expiration time as a **session attribute** when you create the session in the **/user** endpoint. Then, in the **sessionDestroyed** method of the session listener, you can compare the current time with the stored expiration time and invalidate the session if the token has expired. This way, the child app will not accept any requests from the session after the token expiration and will require a new token from the container app.\r\n\r\n## Example\r\n\r\nHere is an example of a session listener class that invalidates the session when the token expires:\r\n\r\n```python\r\n@WebListener\r\npublic class TokenExpirationSessionListener implements HttpSessionListener {\r\n\r\n  @Override\r\n  public void sessionCreated(HttpSessionEvent se) {\r\n    // do nothing\r\n  }\r\n\r\n  @Override\r\n  public void sessionDestroyed(HttpSessionEvent se) {\r\n    // get the session and the token expiration time\r\n    HttpSession session = se.getSession();\r\n    Long tokenExpiration = (Long) session.getAttribute(&quot;tokenExpiration&quot;);\r\n\r\n    // check if the token has expired\r\n    if (tokenExpiration != null &amp;&amp; System.currentTimeMillis() &gt; tokenExpiration) {\r\n      // invalidate the session\r\n      session.invalidate();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nHere is an example of how to store the token expiration time as a session attribute in the **/user** endpoint:\r\n\r\n```python\r\n// get the token from the query parameter\r\nString token = request.getParameter(&quot;token&quot;);\r\n\r\n// validate the token with the container app\r\nboolean isValid = validateToken(token);\r\n\r\n// if the token is valid, parse it and create the authentication object\r\nif (isValid) {\r\n  // parse the token and get the expiration time\r\n  Claims claims = Jwts.parser().setSigningKey(secret).parseClaimsJws(token).getBody();\r\n  Long expiration = claims.getExpiration().getTime();\r\n\r\n  // get the username and authorities from the claims\r\n  String username = claims.getSubject();\r\n  List&lt;GrantedAuthority&gt; authorities = getAuthoritiesFromClaims(claims);\r\n\r\n  // create the authentication object and set it to the security context\r\n  Authentication authentication = new UsernamePasswordAuthenticationToken(username, null, authorities);\r\n  SecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\n  // get the session and store the token expiration time as a session attribute\r\n  HttpSession session = request.getSession();\r\n  session.setAttribute(&quot;tokenExpiration&quot;, expiration);\r\n}\r\n```","title":"How to sync JWT token from container app to child app&#39;s session","body":"<p>One possible way to sync the JWT token expiration from the container app to the child app's session is to use a <strong>session listener</strong> on the child app that will <strong>invalidate the session</strong> when the token expires. A session listener is a class that implements the <strong>HttpSessionListener</strong> interface and can perform actions when a session is created or destroyed. You can register a session listener in your child app by adding a <strong>@WebListener</strong> annotation or by declaring it in your <strong>web.xml</strong> file.</p>\n<p>To invalidate the session when the token expires, you can store the token expiration time as a <strong>session attribute</strong> when you create the session in the <strong>/user</strong> endpoint. Then, in the <strong>sessionDestroyed</strong> method of the session listener, you can compare the current time with the stored expiration time and invalidate the session if the token has expired. This way, the child app will not accept any requests from the session after the token expiration and will require a new token from the container app.</p>\n<h2>Example</h2>\n<p>Here is an example of a session listener class that invalidates the session when the token expires:</p>\n<pre class=\"lang-py prettyprint-override\"><code>@WebListener\npublic class TokenExpirationSessionListener implements HttpSessionListener {\n\n  @Override\n  public void sessionCreated(HttpSessionEvent se) {\n    // do nothing\n  }\n\n  @Override\n  public void sessionDestroyed(HttpSessionEvent se) {\n    // get the session and the token expiration time\n    HttpSession session = se.getSession();\n    Long tokenExpiration = (Long) session.getAttribute(&quot;tokenExpiration&quot;);\n\n    // check if the token has expired\n    if (tokenExpiration != null &amp;&amp; System.currentTimeMillis() &gt; tokenExpiration) {\n      // invalidate the session\n      session.invalidate();\n    }\n  }\n}\n</code></pre>\n<p>Here is an example of how to store the token expiration time as a session attribute in the <strong>/user</strong> endpoint:</p>\n<pre class=\"lang-py prettyprint-override\"><code>// get the token from the query parameter\nString token = request.getParameter(&quot;token&quot;);\n\n// validate the token with the container app\nboolean isValid = validateToken(token);\n\n// if the token is valid, parse it and create the authentication object\nif (isValid) {\n  // parse the token and get the expiration time\n  Claims claims = Jwts.parser().setSigningKey(secret).parseClaimsJws(token).getBody();\n  Long expiration = claims.getExpiration().getTime();\n\n  // get the username and authorities from the claims\n  String username = claims.getSubject();\n  List&lt;GrantedAuthority&gt; authorities = getAuthoritiesFromClaims(claims);\n\n  // create the authentication object and set it to the security context\n  Authentication authentication = new UsernamePasswordAuthenticationToken(username, null, authorities);\n  SecurityContextHolder.getContext().setAuthentication(authentication);\n\n  // get the session and store the token expiration time as a session attribute\n  HttpSession session = request.getSession();\n  session.setAttribute(&quot;tokenExpiration&quot;, expiration);\n}\n</code></pre>\n"}],"owner":{"account_id":3141803,"reputation":823,"user_id":2657121,"accept_rate":27,"display_name":"iPhoneJavaDev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1667040125,"creation_date":1666172908,"question_id":74123268,"body_markdown":"We are implementing a microfrontend, microservices architecture.  \r\n\r\nApp1 is the microfrontend app - ui built on React, backend built on spring boot.  It handles the authentication and provides the token to it&#39;s child app.  The token is generated using Jwts as follows:\r\n\r\n    Jwts.build().setClaims(claims).setSubject(username).setExpiration(expirationDate)...\r\n\r\nApp2 is a child app of the microfrontend setup.  It&#39;s ui is built on React, backend built on spring boot.  App1 attaches App2 via react-iframe while passing the token as follows:\r\n\r\n    &lt;Iframe url={`${urlOfApp2}`?token={jwtToken}} ... /&gt;\r\n\r\nApp2 on `useEffect` checks if `window.location.search` has the `token` field and use this to set the Authenticcation in its security context.  This is done by calling endpoint `/user` in App2.  The App2 backend will then call an endpoint `/validate` from App1 to check if the token is valid.  If it is valid, App2 parses the token and creates  an `Authentication` object and saves it to its context as follows:\r\n\r\n    final Authentication authentication = new UsernamePasswordAuthenticationToken(username, null, authorities);\r\n    SecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\nThis will create the JSESSIONID.  So everytime an endpoint from App2 is requested, for example `/someendpoint`, it will check if the request has the required authority as set in the code above.  The security config is as follows:\r\n\r\n    http...\r\n        .antMatchers(&quot;/user&quot;).permitAll()\r\n        .anyRequest().hasAuthority(&quot;SOME_AUTHORITY_PARSED_FROM_THE_TOKEN&quot;)...\r\n\r\nThis works as the `/user` is called once to check if token is valid and a session on App2 is initialized.  So for succeeding requests, it will check if it has the proper authority.\r\n\r\nThe problem is, the session on App2 has different expiration compared to that set on the token.  How can we sync the expiration on the session on App2 with the token provided by App1?","title":"How to sync JWT token from container app to child app&#39;s session","body":"<p>We are implementing a microfrontend, microservices architecture.</p>\n<p>App1 is the microfrontend app - ui built on React, backend built on spring boot.  It handles the authentication and provides the token to it's child app.  The token is generated using Jwts as follows:</p>\n<pre><code>Jwts.build().setClaims(claims).setSubject(username).setExpiration(expirationDate)...\n</code></pre>\n<p>App2 is a child app of the microfrontend setup.  It's ui is built on React, backend built on spring boot.  App1 attaches App2 via react-iframe while passing the token as follows:</p>\n<pre><code>&lt;Iframe url={`${urlOfApp2}`?token={jwtToken}} ... /&gt;\n</code></pre>\n<p>App2 on <code>useEffect</code> checks if <code>window.location.search</code> has the <code>token</code> field and use this to set the Authenticcation in its security context.  This is done by calling endpoint <code>/user</code> in App2.  The App2 backend will then call an endpoint <code>/validate</code> from App1 to check if the token is valid.  If it is valid, App2 parses the token and creates  an <code>Authentication</code> object and saves it to its context as follows:</p>\n<pre><code>final Authentication authentication = new UsernamePasswordAuthenticationToken(username, null, authorities);\nSecurityContextHolder.getContext().setAuthentication(authentication);\n</code></pre>\n<p>This will create the JSESSIONID.  So everytime an endpoint from App2 is requested, for example <code>/someendpoint</code>, it will check if the request has the required authority as set in the code above.  The security config is as follows:</p>\n<pre><code>http...\n    .antMatchers(&quot;/user&quot;).permitAll()\n    .anyRequest().hasAuthority(&quot;SOME_AUTHORITY_PARSED_FROM_THE_TOKEN&quot;)...\n</code></pre>\n<p>This works as the <code>/user</code> is called once to check if token is valid and a session on App2 is initialized.  So for succeeding requests, it will check if it has the proper authority.</p>\n<p>The problem is, the session on App2 has different expiration compared to that set on the token.  How can we sync the expiration on the session on App2 with the token provided by App1?</p>\n"},{"tags":["java","mockito","powermock","powermockito"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":1,"creation_date":1667039959,"post_id":74244545,"comment_id":131079517,"body_markdown":"Just to mention that this is a usually a bad practice. This ties your test to the implementation rather than testing the behaviour, so if an implementation changes, your tests will need to change considerably too. I&#39;m not saying this is always wrong, but it should be used only in extreme rare cases.","body":"Just to mention that this is a usually a bad practice. This ties your test to the implementation rather than testing the behaviour, so if an implementation changes, your tests will need to change considerably too. I&#39;m not saying this is always wrong, but it should be used only in extreme rare cases."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1667075709,"post_id":74244545,"comment_id":131086505,"body_markdown":"Why do you have `@Spy` AND assign `PowerMockito.spy`? Not sure if a dupe: https://stackoverflow.com/q/74027324/112968","body":"Why do you have <code>@Spy</code> AND assign <code>PowerMockito.spy</code>? Not sure if a dupe: <a href=\"https://stackoverflow.com/q/74027324/112968\">stackoverflow.com/q/74027324/112968</a>"},{"owner":{"account_id":25288698,"reputation":1,"user_id":19115194,"display_name":"Yi Zhou"},"score":0,"creation_date":1667180492,"post_id":74244545,"comment_id":131102850,"body_markdown":"@Augusto This is just a demo, i just want to test how to mock private method in InjectMocks decorate&#39;s class","body":"@Augusto This is just a demo, i just want to test how to mock private method in InjectMocks decorate&#39;s class"}],"owner":{"account_id":25288698,"reputation":1,"user_id":19115194,"display_name":"Yi Zhou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667039821,"creation_date":1667039622,"question_id":74244545,"body_markdown":"I try to learn PowerMockitoand write a demo\r\n\r\nThis the parent class A\r\n\r\n```\r\npublic abstract class A {\r\n    protected String getRoot(Long id) {\r\n        if (id == 0) {\r\n            return &quot;root&quot;;\r\n        }\r\n        return &quot;not root&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd this is the childA\r\n```\r\npublic class ChildA extends A {\r\n    private String info;\r\n    public String getRootInfo(Long id) {\r\n        String rootInfo = getRoot(id);\r\n        return rootInfo;\r\n    }\r\n\r\n    private void initRootInfo(String info) {\r\n        this.info = info;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nAnd now i want to mock the method A::initRootInfo，so i write a test case like this\r\n\r\n```\r\n@RunWith(PowerMockRunner.class)\r\n@PrepareForTest({A.class, ChildA.class})\r\npublic class ChildATest {\r\n\r\n    @Spy\r\n    @InjectMocks\r\n    private ChildA childA = PowerMockito.spy(new ChildA());\r\n\r\n    @Test\r\n    public void getRootInfoUT() throws Exception {\r\n        PowerMockito.doNothing().when(childA, &quot;initRootInfo&quot;, Mockito.anyString());\r\n\r\n        String rootInfo = childA.getRootInfo(0L);\r\n        Assertions.assertEquals(&quot;root&quot;, rootInfo);\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhen i run the test case, the PowerMockito call the real method initRootInfo, so that i get a little bit confused why the A::initRootInfo will be called really, shouldn&#39;t it be mock and replaced by PowerMockito? is there have something wrong i use PowerMockito?\r\n\r\n\r\nHow to mock private method by PowerMockito correctly","title":"Why mock private method by use PowerMock.when actually call the real method","body":"<p>I try to learn PowerMockitoand write a demo</p>\n<p>This the parent class A</p>\n<pre><code>public abstract class A {\n    protected String getRoot(Long id) {\n        if (id == 0) {\n            return &quot;root&quot;;\n        }\n        return &quot;not root&quot;;\n    }\n}\n\n</code></pre>\n<p>And this is the childA</p>\n<pre><code>public class ChildA extends A {\n    private String info;\n    public String getRootInfo(Long id) {\n        String rootInfo = getRoot(id);\n        return rootInfo;\n    }\n\n    private void initRootInfo(String info) {\n        this.info = info;\n    }\n}\n\n</code></pre>\n<p>And now i want to mock the method A::initRootInfo，so i write a test case like this</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest({A.class, ChildA.class})\npublic class ChildATest {\n\n    @Spy\n    @InjectMocks\n    private ChildA childA = PowerMockito.spy(new ChildA());\n\n    @Test\n    public void getRootInfoUT() throws Exception {\n        PowerMockito.doNothing().when(childA, &quot;initRootInfo&quot;, Mockito.anyString());\n\n        String rootInfo = childA.getRootInfo(0L);\n        Assertions.assertEquals(&quot;root&quot;, rootInfo);\n    }\n}\n\n</code></pre>\n<p>When i run the test case, the PowerMockito call the real method initRootInfo, so that i get a little bit confused why the A::initRootInfo will be called really, shouldn't it be mock and replaced by PowerMockito? is there have something wrong i use PowerMockito?</p>\n<p>How to mock private method by PowerMockito correctly</p>\n"},{"tags":["java","mysql","database","spring-boot","database-connection"],"answers":[{"comments":[{"owner":{"account_id":26113553,"reputation":196,"user_id":20333579,"display_name":"codeapplied"},"score":1,"creation_date":1667039492,"post_id":74244513,"comment_id":131079430,"body_markdown":"oh wait! did you mean in SpringBoot config? Sorry man... Then try this Custom Connection timeout in SpringBoot: https://stackoverflow.com/questions/55511297/how-to-configure-custom-database-connection-timeout-in-spring-boot-application","body":"oh wait! did you mean in SpringBoot config? Sorry man... Then try this Custom Connection timeout in SpringBoot: <a href=\"https://stackoverflow.com/questions/55511297/how-to-configure-custom-database-connection-timeout-in-spring-boot-application\" title=\"how to configure custom database connection timeout in spring boot application\">stackoverflow.com/questions/55511297/&hellip;</a>"}],"tags":[],"owner":{"account_id":26113553,"reputation":196,"user_id":20333579,"display_name":"codeapplied"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667039310,"creation_date":1667039310,"answer_id":74244513,"question_id":74244347,"body_markdown":"Modifying the MySQL configuration file will do the trick. Lot of bugs just blew up on my screen when I altered /etc/*/my.cnf but may be it might work.\r\n\r\n - Edit the `my.cnf`\r\n\r\n    `sudo vi /etc/mysql/mysql.conf.d/mysqld.cnf`\r\n\r\n - Now try to locate the parameters you want\r\n`\r\n[mysqld]\r\nwait_timeout = [your value]\r\ninteractive_timeout = [value needed]\r\n`\r\n\r\nThen save it and exit\r\n\r\nI suggest to restart the MySQL `sudo /etc/init.d/mysql restart`\r\n\r\nThere is no possibility that you can put these at infinite, or I might be wrong. \r\n\r\n\r\n\r\n","title":"Configuring MySql wait_timeout and interactive_timeout in SpringBoot","body":"<p>Modifying the MySQL configuration file will do the trick. Lot of bugs just blew up on my screen when I altered /etc/*/my.cnf but may be it might work.</p>\n<ul>\n<li><p>Edit the <code>my.cnf</code></p>\n<p><code>sudo vi /etc/mysql/mysql.conf.d/mysqld.cnf</code></p>\n</li>\n<li><p>Now try to locate the parameters you want\n<code>[mysqld] wait_timeout = [your value] interactive_timeout = [value needed]</code></p>\n</li>\n</ul>\n<p>Then save it and exit</p>\n<p>I suggest to restart the MySQL <code>sudo /etc/init.d/mysql restart</code></p>\n<p>There is no possibility that you can put these at infinite, or I might be wrong.</p>\n"}],"owner":{"account_id":16737845,"reputation":1,"user_id":12098414,"display_name":"ALI RAZA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":568,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667039310,"creation_date":1667037632,"question_id":74244347,"body_markdown":"I want to set these two properties:**wait_timeout** and **interactive_timeout** in my SpringBoot project file (application.properties) for database sleep connections problem.\r\nBut I&#39;m unable to find help on this from internet not even from spring configurations appendix.\r\n\r\nI tried setting these properties from MySql command line,it worked there, but want to set in my spring boot configuration file. (application.properties)","title":"Configuring MySql wait_timeout and interactive_timeout in SpringBoot","body":"<p>I want to set these two properties:<strong>wait_timeout</strong> and <strong>interactive_timeout</strong> in my SpringBoot project file (application.properties) for database sleep connections problem.\nBut I'm unable to find help on this from internet not even from spring configurations appendix.</p>\n<p>I tried setting these properties from MySql command line,it worked there, but want to set in my spring boot configuration file. (application.properties)</p>\n"},{"tags":["java","stream","average"],"answers":[{"tags":[],"owner":{"account_id":12038015,"reputation":167,"user_id":8805898,"display_name":"Arifur Rahman Sujon"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667036602,"creation_date":1667036234,"answer_id":74244221,"question_id":74243961,"body_markdown":"After taking input you can follow below code snippet\r\n\r\nWe can make a new map with name as key and average as value instead of calculating average multiple times\r\n\r\n     Map&lt;String, Double&gt; recordsWithAverage = records.entrySet()\r\n                .stream()\r\n                .collect(Collectors.toMap(Map.Entry::getKey, e -&gt; e.getValue().stream().mapToDouble(x -&gt; x).average().getAsDouble()));\r\n\r\n     recordsWithAverage.entrySet()\r\n                .stream()\r\n                .filter(e -&gt; e.getValue() &gt;= 4.50)\r\n                .sorted(Map.Entry.comparingByValue(Comparator.reverseOrder()))\r\n                .forEach(pair -&gt; {\r\n                    System.out.printf(&quot;%s -&gt; %.2f%n&quot;, pair.getKey(), pair.getValue());\r\n                });    ","title":"Java stream API, how to sort by average?","body":"<p>After taking input you can follow below code snippet</p>\n<p>We can make a new map with name as key and average as value instead of calculating average multiple times</p>\n<pre><code> Map&lt;String, Double&gt; recordsWithAverage = records.entrySet()\n            .stream()\n            .collect(Collectors.toMap(Map.Entry::getKey, e -&gt; e.getValue().stream().mapToDouble(x -&gt; x).average().getAsDouble()));\n\n recordsWithAverage.entrySet()\n            .stream()\n            .filter(e -&gt; e.getValue() &gt;= 4.50)\n            .sorted(Map.Entry.comparingByValue(Comparator.reverseOrder()))\n            .forEach(pair -&gt; {\n                System.out.printf(&quot;%s -&gt; %.2f%n&quot;, pair.getKey(), pair.getValue());\n            });    \n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667039241,"creation_date":1667039241,"answer_id":74244505,"question_id":74243961,"body_markdown":"Try this.\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        String input = &quot;5\\r\\n&quot;\r\n            + &quot;John\\r\\n&quot;\r\n            + &quot;5.5\\r\\n&quot;\r\n            + &quot;John\\r\\n&quot;\r\n            + &quot;4.5\\r\\n&quot;\r\n            + &quot;Alice\\r\\n&quot;\r\n            + &quot;6\\r\\n&quot;\r\n            + &quot;Alice\\r\\n&quot;\r\n            + &quot;3\\r\\n&quot;\r\n            + &quot;George\\r\\n&quot;\r\n            + &quot;5\\r\\n&quot;;\r\n        Scanner in = new Scanner(input);\r\n        int size = in.nextInt();\r\n        Map&lt;String, List&lt;Double&gt;&gt; map = new HashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; size; ++i)\r\n            map.computeIfAbsent(in.next(), k -&gt; new ArrayList&lt;&gt;()).add(in.nextDouble());\r\n\r\n        map.entrySet().stream()\r\n            .map(e -&gt; Map.entry(e.getKey(),\r\n                e.getValue().stream().mapToDouble(v -&gt; v).average().getAsDouble()))\r\n            .filter(e -&gt; e.getValue() &gt;= 4.50)\r\n            .sorted(Collections.reverseOrder(Comparator.comparing(Entry::getValue)))\r\n            .forEach(e -&gt; System.out.printf(&quot;%s -&gt; %.2f%n&quot;, e.getKey(), e.getValue()));\r\n    }\r\n\r\noutput:\r\n\r\n    George -&gt; 5.00\r\n    John -&gt; 5.00\r\n    Alice -&gt; 4.50\r\n\r\n","title":"Java stream API, how to sort by average?","body":"<p>Try this.</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    String input = &quot;5\\r\\n&quot;\n        + &quot;John\\r\\n&quot;\n        + &quot;5.5\\r\\n&quot;\n        + &quot;John\\r\\n&quot;\n        + &quot;4.5\\r\\n&quot;\n        + &quot;Alice\\r\\n&quot;\n        + &quot;6\\r\\n&quot;\n        + &quot;Alice\\r\\n&quot;\n        + &quot;3\\r\\n&quot;\n        + &quot;George\\r\\n&quot;\n        + &quot;5\\r\\n&quot;;\n    Scanner in = new Scanner(input);\n    int size = in.nextInt();\n    Map&lt;String, List&lt;Double&gt;&gt; map = new HashMap&lt;&gt;();\n    for (int i = 0; i &lt; size; ++i)\n        map.computeIfAbsent(in.next(), k -&gt; new ArrayList&lt;&gt;()).add(in.nextDouble());\n\n    map.entrySet().stream()\n        .map(e -&gt; Map.entry(e.getKey(),\n            e.getValue().stream().mapToDouble(v -&gt; v).average().getAsDouble()))\n        .filter(e -&gt; e.getValue() &gt;= 4.50)\n        .sorted(Collections.reverseOrder(Comparator.comparing(Entry::getValue)))\n        .forEach(e -&gt; System.out.printf(&quot;%s -&gt; %.2f%n&quot;, e.getKey(), e.getValue()));\n}\n</code></pre>\n<p>output:</p>\n<pre><code>George -&gt; 5.00\nJohn -&gt; 5.00\nAlice -&gt; 4.50\n</code></pre>\n"}],"owner":{"account_id":25436272,"reputation":37,"user_id":19239946,"display_name":"ccc6"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74244221,"answer_count":2,"score":-1,"last_activity_date":1667039241,"creation_date":1667033391,"question_id":74243961,"body_markdown":"Question:\r\n\r\n```\r\nCreate a program that keeps information about some students and their grades.\r\n\r\nYou will receive an integer number - n.\r\n\r\nThen, you will receive 2 \\* n rows of input.\r\n\r\nFirst, you will receive the student&#39;s name. Аfter that, you will receive their grade.\r\n\r\nIf the student does not exist, add them.\r\n\r\nKeep track of all of the grades of each student.\r\n\r\nWhen you finish reading the data, keep only the students which have an average grade higher or equal to 4.50.\r\n\r\nOrder the filtered students by their average grade in descending order.\r\n\r\nPrint the students and their average grade in the following format:\r\n\r\n&quot;{name} -\\&gt; {averageGrade}&quot;\r\n\r\nFormat the average grade to the second decimal place.\r\n```\r\n\r\nTest input:\r\n```\r\n5\r\nJohn\r\n5.5\r\nJohn\r\n4.5\r\nAlice\r\n6\r\nAlice\r\n3\r\nGeorge\r\n5\r\n```\r\n\r\nTest output: \r\n```\r\nJohn -&gt; 5.00\r\nGeorge -&gt; 5.00\r\nAlice -&gt; 4.50\r\n```\r\n\r\n\r\nMy answer:\r\n\r\n```\r\nimport java.util.*;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        int n = Integer.parseInt(scanner.nextLine());\r\n\r\n        Map&lt;String, List&lt;Double&gt;&gt; records = new HashMap&lt;&gt;();\r\n\r\n        while(n &gt; 0){\r\n            String name = scanner.nextLine();\r\n            double grade = Double.parseDouble(scanner.nextLine());\r\n            records.putIfAbsent(name, new ArrayList&lt;&gt;());\r\n            records.get(name).add(grade);\r\n            n--;\r\n        }\r\n\r\n        records.entrySet().stream().filter(item -&gt; {\r\n            double average = item.getValue().stream().mapToDouble(x -&gt; x).average().getAsDouble();\r\n\r\n            return average &gt;= 4.50;\r\n        }).sorted((a, b) -&gt; {\r\n            double average1 = a.getValue().stream().mapToDouble(x -&gt; x).average().getAsDouble();\r\n            double average2 = b.getValue().stream().mapToDouble(x -&gt; x).average().getAsDouble();\r\n\r\n            return (int) (average2 - average1);\r\n        }).forEach(pair -&gt; {\r\n            double average = pair.getValue().stream().mapToDouble(x -&gt; x).average().getAsDouble();\r\n            System.out.printf(&quot;%s -&gt; %.2f%n&quot;, pair.getKey(), average);\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI&#39;m pretty sure I&#39;m not doing the sorting by average part correctly but I can&#39;t seem to find another way to go about it as the sorting requires an int and the average will always be a double?\r\n\r\nAny pointers/explanation will be greatly appreciated!","title":"Java stream API, how to sort by average?","body":"<p>Question:</p>\n<pre><code>Create a program that keeps information about some students and their grades.\n\nYou will receive an integer number - n.\n\nThen, you will receive 2 \\* n rows of input.\n\nFirst, you will receive the student's name. Аfter that, you will receive their grade.\n\nIf the student does not exist, add them.\n\nKeep track of all of the grades of each student.\n\nWhen you finish reading the data, keep only the students which have an average grade higher or equal to 4.50.\n\nOrder the filtered students by their average grade in descending order.\n\nPrint the students and their average grade in the following format:\n\n&quot;{name} -\\&gt; {averageGrade}&quot;\n\nFormat the average grade to the second decimal place.\n</code></pre>\n<p>Test input:</p>\n<pre><code>5\nJohn\n5.5\nJohn\n4.5\nAlice\n6\nAlice\n3\nGeorge\n5\n</code></pre>\n<p>Test output:</p>\n<pre><code>John -&gt; 5.00\nGeorge -&gt; 5.00\nAlice -&gt; 4.50\n</code></pre>\n<p>My answer:</p>\n<pre><code>import java.util.*;\nimport java.util.stream.Collectors;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        int n = Integer.parseInt(scanner.nextLine());\n\n        Map&lt;String, List&lt;Double&gt;&gt; records = new HashMap&lt;&gt;();\n\n        while(n &gt; 0){\n            String name = scanner.nextLine();\n            double grade = Double.parseDouble(scanner.nextLine());\n            records.putIfAbsent(name, new ArrayList&lt;&gt;());\n            records.get(name).add(grade);\n            n--;\n        }\n\n        records.entrySet().stream().filter(item -&gt; {\n            double average = item.getValue().stream().mapToDouble(x -&gt; x).average().getAsDouble();\n\n            return average &gt;= 4.50;\n        }).sorted((a, b) -&gt; {\n            double average1 = a.getValue().stream().mapToDouble(x -&gt; x).average().getAsDouble();\n            double average2 = b.getValue().stream().mapToDouble(x -&gt; x).average().getAsDouble();\n\n            return (int) (average2 - average1);\n        }).forEach(pair -&gt; {\n            double average = pair.getValue().stream().mapToDouble(x -&gt; x).average().getAsDouble();\n            System.out.printf(&quot;%s -&gt; %.2f%n&quot;, pair.getKey(), average);\n        });\n    }\n}\n</code></pre>\n<p>I'm pretty sure I'm not doing the sorting by average part correctly but I can't seem to find another way to go about it as the sorting requires an int and the average will always be a double?</p>\n<p>Any pointers/explanation will be greatly appreciated!</p>\n"},{"tags":["java","intellij-idea","spring-boot"],"comments":[{"owner":{"account_id":1888905,"reputation":15363,"user_id":1707520,"accept_rate":100,"display_name":"sol4me"},"score":3,"creation_date":1419546977,"post_id":27650890,"comment_id":43719558,"body_markdown":"Could you add to your pom `&lt;dependency&gt;\n   &lt;groupId&gt;javax.el&lt;/groupId&gt;\n   &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\n   &lt;version&gt;2.2.4&lt;/version&gt;\n&lt;/dependency&gt;`","body":"Could you add to your pom <code>&lt;dependency&gt;    &lt;groupId&gt;javax.el&lt;&#47;groupId&gt;    &lt;artifactId&gt;javax.el-api&lt;&#47;artifactId&gt;    &lt;version&gt;2.2.4&lt;&#47;version&gt; &lt;&#47;dependency&gt;</code>"},{"owner":{"account_id":22198,"reputation":5757,"user_id":54522,"accept_rate":94,"display_name":"Ariod"},"score":2,"creation_date":1419573570,"post_id":27650890,"comment_id":43723553,"body_markdown":"Unfortunately, if I add the dependency, it starts the application and immediately stops without any errors. It is also strange why it would need this dependency if executed from IDE, if it works when executing the JAR alone.","body":"Unfortunately, if I add the dependency, it starts the application and immediately stops without any errors. It is also strange why it would need this dependency if executed from IDE, if it works when executing the JAR alone."}],"answers":[{"comments":[{"owner":{"account_id":22198,"reputation":5757,"user_id":54522,"accept_rate":94,"display_name":"Ariod"},"score":0,"creation_date":1419622018,"post_id":27658594,"comment_id":43737888,"body_markdown":"Yes, that was the issue. Thanks a lot!","body":"Yes, that was the issue. Thanks a lot!"},{"owner":{"account_id":2352810,"reputation":643,"user_id":2061276,"accept_rate":73,"display_name":"Ashay Thorat"},"score":1,"creation_date":1425178599,"post_id":27658594,"comment_id":45854613,"body_markdown":"Does it cause any issue in war when we don&#39;t have this provided dependency in build.gradle ?","body":"Does it cause any issue in war when we don&#39;t have this provided dependency in build.gradle ?"},{"owner":{"account_id":2225983,"reputation":2712,"user_id":1964750,"accept_rate":59,"display_name":"ravindrab"},"score":2,"creation_date":1445264645,"post_id":27658594,"comment_id":54237904,"body_markdown":"Highly voted, but seems bit cryptic to me. Appreciate if you could you explain little as to what should be left out.","body":"Highly voted, but seems bit cryptic to me. Appreciate if you could you explain little as to what should be left out."},{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":0,"creation_date":1445427198,"post_id":27658594,"comment_id":54317504,"body_markdown":"I meant the tomcat starter. Right now it is included in the dependencies but marked as &quot;provdided&quot;, so it is present when running in an IDE for instance, but not when running from the packaged jar.","body":"I meant the tomcat starter. Right now it is included in the dependencies but marked as &quot;provdided&quot;, so it is present when running in an IDE for instance, but not when running from the packaged jar."},{"owner":{"account_id":2698527,"reputation":2274,"user_id":2622079,"accept_rate":57,"display_name":"fan"},"score":0,"creation_date":1492760884,"post_id":27658594,"comment_id":74125864,"body_markdown":"I would add the el from tomcat, &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;","body":"I would add the el from tomcat, &lt;dependency&gt;             &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;             &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;             &lt;scope&gt;test&lt;/scope&gt;         &lt;/dependency&gt;"}],"tags":[],"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"comment_count":5,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1419605826,"creation_date":1419605826,"answer_id":27658594,"question_id":27650890,"body_markdown":"The problem is probably that the EL implementation is in the Tomcat starter that you marked as &quot;provided&quot;. If it isn&#39;t provided (which it won&#39;t be for a JAR file) maybe you should just leave it out?","title":"Running Spring Boot within IntelliJ results in Unable to load &#39;javax.el.ExpressionFactory&#39;","body":"<p>The problem is probably that the EL implementation is in the Tomcat starter that you marked as \"provided\". If it isn't provided (which it won't be for a JAR file) maybe you should just leave it out?</p>\n"},{"comments":[{"owner":{"account_id":999386,"reputation":4299,"user_id":1014588,"accept_rate":65,"display_name":"Marco Aur&#233;lio Deleu"},"score":1,"creation_date":1445121639,"post_id":33192173,"comment_id":54190440,"body_markdown":"That was already suggested in the comment section of the question.","body":"That was already suggested in the comment section of the question."}],"tags":[],"owner":{"account_id":7140279,"reputation":141,"user_id":5458232,"display_name":"dqromney"},"comment_count":1,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1445120255,"creation_date":1445120255,"answer_id":33192173,"question_id":27650890,"body_markdown":"I had a similar problem when creating a WAR file using the Spring Initializr with Intellij, and by adding the following dependency the application executed without any errors, thank you:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.el&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.4&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Running Spring Boot within IntelliJ results in Unable to load &#39;javax.el.ExpressionFactory&#39;","body":"<p>I had a similar problem when creating a WAR file using the Spring Initializr with Intellij, and by adding the following dependency the application executed without any errors, thank you:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;javax.el&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\n        &lt;version&gt;2.2.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11389854,"reputation":6032,"user_id":8370915,"display_name":"invzbl3"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667039163,"creation_date":1667039163,"answer_id":74244497,"question_id":27650890,"body_markdown":"I&#39;ve reproduced the same issue:\r\n\r\n    Error creating bean with name &#39;org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor&#39;: Invocation of init method failed; nested exception is javax.validation.ValidationException: Unable to instantiate Configuration.\r\n\r\nUsing in `POM` versions of `Java 11` and `Spring Boot 1.3.0.RELEASE` instead of:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.0.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\nto:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n\r\n\r\nAnd working `POM` file was:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springmvc&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n        &lt;name&gt;springmvc&lt;/name&gt;\r\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;\r\n            &lt;!--&lt;version&gt;1.3.0.RELEASE&lt;/version&gt;--&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;11&lt;/java.version&gt;\r\n            &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-validator-annotation-processor&lt;/artifactId&gt;\r\n                &lt;version&gt;4.1.0.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nSo I could even skip any additional dependencies in other answers, which were mentioned above:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.el&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"Running Spring Boot within IntelliJ results in Unable to load &#39;javax.el.ExpressionFactory&#39;","body":"<p>I've reproduced the same issue:</p>\n<pre><code>Error creating bean with name 'org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor': Invocation of init method failed; nested exception is javax.validation.ValidationException: Unable to instantiate Configuration.\n</code></pre>\n<p>Using in <code>POM</code> versions of <code>Java 11</code> and <code>Spring Boot 1.3.0.RELEASE</code> instead of:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.3.0.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>to:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>And working <code>POM</code> file was:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;springmvc&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;springmvc&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;\n        &lt;!--&lt;version&gt;1.3.0.RELEASE&lt;/version&gt;--&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator-annotation-processor&lt;/artifactId&gt;\n            &lt;version&gt;4.1.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>So I could even skip any additional dependencies in other answers, which were mentioned above:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.el&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\n    &lt;version&gt;2.2.4&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":22198,"reputation":5757,"user_id":54522,"accept_rate":94,"display_name":"Ariod"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18862,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":27658594,"answer_count":3,"score":10,"last_activity_date":1667039163,"creation_date":1419543326,"question_id":27650890,"body_markdown":"I am trying to run a simple Spring Boot application that has the following Maven pom.file:\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;start-class&gt;com.ptkonline.EwsdProxyApplication&lt;/start-class&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nIf I package the file using Maven, and run the application through `java -jar application.jar`, the application starts up normally. However, if I run it from IntelliJ by executing the main class, the startup fails with the following error:\r\n\r\n    2014-12-25 22:18:55.831 ERROR 3388 --- [           main] o.s.boot.SpringApplication               : Application startup failed\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor&#39;: Invocation of init method failed; nested exception is javax.validation.ValidationException: Unable to instantiate Configuration.\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1566)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:539)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:302)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:298)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:198)\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:199)\r\n        at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:615)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:465)\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:691)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:961)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:950)\r\n        at com.ptkonline.EwsdProxyApplication.main(EwsdProxyApplication.java:13)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:483)\r\n        at com.intellij.rt.execution.application.AppMain.main(AppMain.java:134)\r\n    Caused by: javax.validation.ValidationException: Unable to instantiate Configuration.\r\n        at javax.validation.Validation$GenericBootstrapImpl.configure(Validation.java:279)\r\n        at org.springframework.validation.beanvalidation.LocalValidatorFactoryBean.afterPropertiesSet(LocalValidatorFactoryBean.java:223)\r\n        at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor$Jsr303ValidatorFactory.run(ConfigurationPropertiesBindingPostProcessor.java:361)\r\n        at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.afterPropertiesSet(ConfigurationPropertiesBindingPostProcessor.java:174)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1625)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1562)\r\n        ... 19 common frames omitted\r\n    Caused by: javax.validation.ValidationException: HV000183: Unable to load &#39;javax.el.ExpressionFactory&#39;. Check that you have the EL dependencies on the classpath\r\n        at org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator.&lt;init&gt;(ResourceBundleMessageInterpolator.java:172)\r\n        at org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator.&lt;init&gt;(ResourceBundleMessageInterpolator.java:118)\r\n        at org.hibernate.validator.internal.engine.ConfigurationImpl.&lt;init&gt;(ConfigurationImpl.java:110)\r\n        at org.hibernate.validator.internal.engine.ConfigurationImpl.&lt;init&gt;(ConfigurationImpl.java:86)\r\n        at org.hibernate.validator.HibernateValidator.createGenericConfiguration(HibernateValidator.java:41)\r\n        at javax.validation.Validation$GenericBootstrapImpl.configure(Validation.java:276)\r\n        ... 24 common frames omitted\r\n\r\nHas anyone been able to run a Spring Boot application directly from IntelliJ? ","title":"Running Spring Boot within IntelliJ results in Unable to load &#39;javax.el.ExpressionFactory&#39;","body":"<p>I am trying to run a simple Spring Boot application that has the following Maven pom.file:</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;start-class&gt;com.ptkonline.EwsdProxyApplication&lt;/start-class&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>If I package the file using Maven, and run the application through <code>java -jar application.jar</code>, the application starts up normally. However, if I run it from IntelliJ by executing the main class, the startup fails with the following error:</p>\n\n<pre><code>2014-12-25 22:18:55.831 ERROR 3388 --- [           main] o.s.boot.SpringApplication               : Application startup failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor': Invocation of init method failed; nested exception is javax.validation.ValidationException: Unable to instantiate Configuration.\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1566)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:539)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:298)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:198)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:199)\n    at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:615)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:465)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:691)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:961)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:950)\n    at com.ptkonline.EwsdProxyApplication.main(EwsdProxyApplication.java:13)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:483)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:134)\nCaused by: javax.validation.ValidationException: Unable to instantiate Configuration.\n    at javax.validation.Validation$GenericBootstrapImpl.configure(Validation.java:279)\n    at org.springframework.validation.beanvalidation.LocalValidatorFactoryBean.afterPropertiesSet(LocalValidatorFactoryBean.java:223)\n    at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor$Jsr303ValidatorFactory.run(ConfigurationPropertiesBindingPostProcessor.java:361)\n    at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.afterPropertiesSet(ConfigurationPropertiesBindingPostProcessor.java:174)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1625)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1562)\n    ... 19 common frames omitted\nCaused by: javax.validation.ValidationException: HV000183: Unable to load 'javax.el.ExpressionFactory'. Check that you have the EL dependencies on the classpath\n    at org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator.&lt;init&gt;(ResourceBundleMessageInterpolator.java:172)\n    at org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator.&lt;init&gt;(ResourceBundleMessageInterpolator.java:118)\n    at org.hibernate.validator.internal.engine.ConfigurationImpl.&lt;init&gt;(ConfigurationImpl.java:110)\n    at org.hibernate.validator.internal.engine.ConfigurationImpl.&lt;init&gt;(ConfigurationImpl.java:86)\n    at org.hibernate.validator.HibernateValidator.createGenericConfiguration(HibernateValidator.java:41)\n    at javax.validation.Validation$GenericBootstrapImpl.configure(Validation.java:276)\n    ... 24 common frames omitted\n</code></pre>\n\n<p>Has anyone been able to run a Spring Boot application directly from IntelliJ? </p>\n"},{"tags":["java","android","kotlin","android-layout","android-view"],"comments":[{"owner":{"account_id":25182377,"reputation":5871,"user_id":19023745,"display_name":"z.g.y"},"score":1,"creation_date":1666860061,"post_id":74219075,"comment_id":131036709,"body_markdown":"Well  based on your error, your `rvMaps` is `ConstraintLayout`, and you are referencing it as a `RecyclerView`, you might wanna check your `xml` if you are really referencing the correct `.id`, or perhaps post your `xml` so we can see it","body":"Well  based on your error, your <code>rvMaps</code> is <code>ConstraintLayout</code>, and you are referencing it as a <code>RecyclerView</code>, you might wanna check your <code>xml</code> if you are really referencing the correct <code>.id</code>, or perhaps post your <code>xml</code> so we can see it"},{"owner":{"account_id":6316309,"reputation":2040,"user_id":4906130,"display_name":"Bhavnik"},"score":0,"creation_date":1666865067,"post_id":74219075,"comment_id":131038505,"body_markdown":"Your error clearly shows that you are providing the wrong references here. I think you should check your `xml` file `id` again.","body":"Your error clearly shows that you are providing the wrong references here. I think you should check your <code>xml</code> file <code>id</code> again."}],"answers":[{"tags":[],"owner":{"account_id":21572641,"reputation":13,"user_id":15905312,"display_name":"FleetAdmiralJakob"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667038684,"creation_date":1667038684,"answer_id":74244457,"question_id":74219075,"body_markdown":"Sorrry now it&#39;s fine I gave the Constraint Layout the id rvMaps and not the recyclerview","title":"ConstraintLayout cannot be cast to RecyclerView","body":"<p>Sorrry now it's fine I gave the Constraint Layout the id rvMaps and not the recyclerview</p>\n"}],"owner":{"account_id":21572641,"reputation":13,"user_id":15905312,"display_name":"FleetAdmiralJakob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74244457,"answer_count":1,"score":-1,"last_activity_date":1667038684,"creation_date":1666859773,"question_id":74219075,"body_markdown":"        val rvMaps = findViewById&lt;RecyclerView&gt;(R.id.rvMaps)\r\n        // Set layout manager on the recycler\r\n        rvMaps.layoutManager = LinearLayoutManager(this)\r\n\r\n How can I solve the problem?","title":"ConstraintLayout cannot be cast to RecyclerView","body":"<pre><code>    val rvMaps = findViewById&lt;RecyclerView&gt;(R.id.rvMaps)\n    // Set layout manager on the recycler\n    rvMaps.layoutManager = LinearLayoutManager(this)\n</code></pre>\n<p>How can I solve the problem?</p>\n"},{"tags":["javascript","java","spring"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1667034262,"post_id":74244006,"comment_id":131078643,"body_markdown":"Have you tried adding `@PostMapping(..., consumes = MediaType.APPLICATION_JSON_VALUE, ...)` to the controller?","body":"Have you tried adding <code>@PostMapping(..., consumes = MediaType.APPLICATION_JSON_VALUE, ...)</code> to the controller?"},{"owner":{"account_id":26214430,"reputation":19,"user_id":19892732,"display_name":"gmma"},"score":0,"creation_date":1667034922,"post_id":74244006,"comment_id":131078767,"body_markdown":"Sadly adding consumes did not fix 415 error..","body":"Sadly adding consumes did not fix 415 error.."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1667036784,"post_id":74244006,"comment_id":131079043,"body_markdown":"415 could also mean (the media type is seemingly correct!) something is &quot;odd&quot; with request body! ...https://stackoverflow.com/a/62289106/592355 ...your DTO is shown &quot;as is&quot;?(..-&gt;constructors?)","body":"415 could also mean (the media type is seemingly correct!) something is &quot;odd&quot; with request body! ...<a href=\"https://stackoverflow.com/a/62289106/592355\">stackoverflow.com/a/62289106/592355</a> ...your DTO is shown &quot;as is&quot;?(..-&gt;constructors?)"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1667036891,"post_id":74244006,"comment_id":131079065,"body_markdown":"Please [edit] the post and provide a [MRE].","body":"Please <a href=\"https://stackoverflow.com/posts/74244006/edit\">edit</a> the post and provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":26214430,"reputation":19,"user_id":19892732,"display_name":"gmma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1667038268,"creation_date":1667033803,"question_id":74244006,"body_markdown":"I&#39;m getting 415 error on spring, I used java script to send request.\r\nI already added jackson dependency to use json, but still not working. also weird thing is that other url with same code works.\r\n\r\nI added suggested code and it&#39;s still not working..\r\n\r\nClient code:\r\n```\r\nlet data = {\r\n  id: category.id,\r\n  act: &quot;addAdmin&quot;,\r\n  target: input,\r\n};\r\n\r\nfetch(&quot;http://localhost:8888/categoryset&quot;, {\r\n  method: &quot;POST&quot;,\r\n  header: {\r\n    &quot;Content-Type&quot;: &quot;application/json&quot;,\r\n  },\r\n  body: JSON.stringify(data),\r\n});\r\n```\r\n\r\nServer code\r\n```\r\n// CategorySetDTO.java\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class CategorySetDTO {\r\n    private String act;\r\n    private int id = -1;\r\n    private String target;\r\n}\r\n\r\n// ApiController.java\r\n@PostMapping(value = &quot;/categoryset&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\r\npublic String updateCategory(HttpServletRequest request, @RequestBody CategorySetDTO data) {\r\n    return pageService.updateCategory(request, data);\r\n}\r\n```","title":"I&#39;m getting 415 error on spring, but same other code works","body":"<p>I'm getting 415 error on spring, I used java script to send request.\nI already added jackson dependency to use json, but still not working. also weird thing is that other url with same code works.</p>\n<p>I added suggested code and it's still not working..</p>\n<p>Client code:</p>\n<pre><code>let data = {\n  id: category.id,\n  act: &quot;addAdmin&quot;,\n  target: input,\n};\n\nfetch(&quot;http://localhost:8888/categoryset&quot;, {\n  method: &quot;POST&quot;,\n  header: {\n    &quot;Content-Type&quot;: &quot;application/json&quot;,\n  },\n  body: JSON.stringify(data),\n});\n</code></pre>\n<p>Server code</p>\n<pre><code>// CategorySetDTO.java\n@Getter\n@Setter\n@NoArgsConstructor\npublic class CategorySetDTO {\n    private String act;\n    private int id = -1;\n    private String target;\n}\n\n// ApiController.java\n@PostMapping(value = &quot;/categoryset&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\npublic String updateCategory(HttpServletRequest request, @RequestBody CategorySetDTO data) {\n    return pageService.updateCategory(request, data);\n}\n</code></pre>\n"},{"tags":["java","selenium","cucumber","extentreports"],"comments":[{"owner":{"account_id":8037196,"reputation":958,"user_id":6059967,"display_name":"Justin Lambert"},"score":0,"creation_date":1594104937,"post_id":62769200,"comment_id":111001122,"body_markdown":"https://www.youtube.com/watch?v=1kYn44-5Fy4 This link will help you create method for failure","body":"<a href=\"https://www.youtube.com/watch?v=1kYn44-5Fy4\" rel=\"nofollow noreferrer\">youtube.com/watch?v=1kYn44-5Fy4</a> This link will help you create method for failure"},{"owner":{"account_id":18486492,"reputation":23,"user_id":13481760,"display_name":"demon sky"},"score":0,"creation_date":1594113007,"post_id":62769200,"comment_id":111004886,"body_markdown":"thanks for your comment! i assumed that is code with testNG, i am asking how can we add screenshots to extent report.","body":"thanks for your comment! i assumed that is code with testNG, i am asking how can we add screenshots to extent report."}],"answers":[{"comments":[{"owner":{"account_id":18486492,"reputation":23,"user_id":13481760,"display_name":"demon sky"},"score":0,"creation_date":1596190205,"post_id":63178977,"comment_id":111739304,"body_markdown":"hi, i have edited my post above by adding Files.copy(screenshot_with_scenario_name.toPath(), destinationPath.toPath()); the result has no changes, still no screenshots from extent report. any advise?","body":"hi, i have edited my post above by adding Files.copy(screenshot_with_scenario_name.toPath(), destinationPath.toPath()); the result has no changes, still no screenshots from extent report. any advise?"},{"owner":{"account_id":18961441,"reputation":11,"user_id":13836855,"display_name":"Sandeep"},"score":0,"creation_date":1596260444,"post_id":63178977,"comment_id":111761310,"body_markdown":"Remove FileUtils.Copyfile and see if that helps.","body":"Remove FileUtils.Copyfile and see if that helps."}],"tags":[],"owner":{"account_id":18961441,"reputation":11,"user_id":13836855,"display_name":"Sandeep"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596133154,"creation_date":1596132791,"answer_id":63178977,"question_id":62769200,"body_markdown":"1. scenario.embed adds screenshot to cucumber default reporting. \n2. This link would solve your issue for attaching screenshot to extent report.\n\nhttps://www.toolsqa.com/selenium-cucumber-framework/cucumber-extent-report/","title":"Cucumber extent report - how to add screenshot of failed case to the extent report","body":"<ol>\n<li>scenario.embed adds screenshot to cucumber default reporting.</li>\n<li>This link would solve your issue for attaching screenshot to extent report.</li>\n</ol>\n<p><a href=\"https://www.toolsqa.com/selenium-cucumber-framework/cucumber-extent-report/\" rel=\"nofollow noreferrer\">https://www.toolsqa.com/selenium-cucumber-framework/cucumber-extent-report/</a></p>\n"},{"tags":[],"owner":{"account_id":5388310,"reputation":64,"user_id":4291594,"display_name":"Ramesh Korla"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667037999,"creation_date":1666677539,"answer_id":74189644,"question_id":62769200,"body_markdown":"Try this below code logic\r\n\r\n        @After(order=1)\r\n    \tpublic void tearDown(Scenario scenario)\r\n    \t{\r\n    \t\tif(scenario.isFailed())\r\n    \t\t{\r\n    \t\t\t//take screenshot\r\n    \t\t\tString screenshotName =scenario.getName().replaceAll(&quot;&quot;, &quot;_&quot;);\r\n    \t\t\tbyte[] sourcepath =((TakesScreenshot)driver).getScreenshotAs(OutputType.BYTES);\r\n    \t\t    scenario.attach(sourcepath, &quot;image/png&quot;, screenshotName);\r\n    \t\t}\t\t\r\n    \t}","title":"Cucumber extent report - how to add screenshot of failed case to the extent report","body":"<p>Try this below code logic</p>\n<pre><code>    @After(order=1)\n    public void tearDown(Scenario scenario)\n    {\n        if(scenario.isFailed())\n        {\n            //take screenshot\n            String screenshotName =scenario.getName().replaceAll(&quot;&quot;, &quot;_&quot;);\n            byte[] sourcepath =((TakesScreenshot)driver).getScreenshotAs(OutputType.BYTES);\n            scenario.attach(sourcepath, &quot;image/png&quot;, screenshotName);\n        }       \n    }\n</code></pre>\n"}],"owner":{"account_id":18486492,"reputation":23,"user_id":13481760,"display_name":"demon sky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5010,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667037999,"creation_date":1594102807,"question_id":62769200,"body_markdown":"I found no solutions for the screenshot of failed case to the extent report in Cucumber (Java). I have look elsewhere in Stack Overflow. Can anyone kindly help me troubleshoot? File `pom.xml` posting my dependencies for Cucumber reports\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.relevantcodes&lt;/groupId&gt;\r\n        &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\r\n        &lt;version&gt;2.41.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n     &lt;groupId&gt;com.vimalselvam&lt;/groupId&gt;\r\n     &lt;artifactId&gt;cucumber-extentsreport&lt;/artifactId&gt;\r\n     &lt;version&gt;3.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\r\n        &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\r\n        &lt;artifactId&gt;extentreports-cucumber4-adapter&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n/*runner class */ plugin and run method   \r\n\r\n         plugin = {&quot;com.cucumber.listener.ExtentCucumberFormatter:target/cucumber-reports/report.html&quot;}\r\n\r\n    public class testRunner{\r\n    \t@AfterClass\r\n    \t public static void writeExtentReport() {\r\n    \t\t Reporter.loadXMLConfig(new File(&quot;C:\\\\Users\\\\User\\\\eclipseworkspace\\\\test\\\\extent-config.xml&quot;));\t\r\n    }\r\n\r\n/* step class */\r\n\r\n      @After\r\n    \t\tpublic void execute_after_every_scenario(Scenario scenario) throws InterruptedException, IOException\r\n    \t\t{\r\n    \t\t\ttestbase.teardown(scenario);\r\n    \t\t}\r\n\r\n/* test base class */\r\nwhat is working are the screenshots saved in output folder\r\n**what is missing are the screenshots in extent report**\r\n\r\n    public static void teardown(Scenario scenario) throws InterruptedException, IOException\r\n    \t{\r\n    \t    Thread.sleep(2000);\r\n    \t    if (scenario.isFailed()) {\r\n    \t    \t   try {\r\n    \t\t    \t   String screenshotName = scenario.getName().replaceAll(&quot; &quot;, &quot;_&quot;); \r\n    \t    \t\t   byte[] screenshot = ((TakesScreenshot)driver).getScreenshotAs(OutputType.BYTES);\r\n    \t    \t    File screenshot_with_scenario_name = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE); \r\n    \t    \t  //  FileUtils.copyFile(screenshot_with_scenario_name, new File(&quot;C:\\\\Users\\\\User\\\\eclipse-workspace\\\\test\\\\testscreenshots\\\\&quot; + screenshotName + &quot;.png&quot;));\r\n    \t    \t  \r\n    \t    \t    System.out.println(&quot;testing pring the screenshot&quot; + screenshotName);\t    \t  \r\n    \r\n                  File destinationPath = new File(&quot;C:\\\\Users\\\\User\\\\eclipse-workspace\\\\test\\\\testscreenshots\\\\&quot; + screenshotName + &quot;.png&quot;);\r\n    \t    \t  \t  \r\n         //Copy taken screenshot from source location to destination location\r\n\t\t\t\t\tFiles.copy(screenshot_with_scenario_name.toPath(), destinationPath.toPath()); \r\n\r\n\t    \t    Reporter.addScreenCaptureFromPath(destinationPath.toString());\r\n                    Reporter.addScenarioLog(screenshotName);\r\n    \t    \t    \r\n    \t    \t    scenario.embed(screenshot, &quot;image/png&quot;);\r\n    \t   \r\n    \t    \t   } catch (IOException somePlatformsDontSupportScreenshots) {\r\n    \t    \t    System.err.println(somePlatformsDontSupportScreenshots.getMessage());\r\n    \t  \t   }  \r\n    \t    \t  }\r\n","title":"Cucumber extent report - how to add screenshot of failed case to the extent report","body":"<p>I found no solutions for the screenshot of failed case to the extent report in Cucumber (Java). I have look elsewhere in Stack Overflow. Can anyone kindly help me troubleshoot? File <code>pom.xml</code> posting my dependencies for Cucumber reports</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.relevantcodes&lt;/groupId&gt;\n    &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\n    &lt;version&gt;2.41.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n &lt;groupId&gt;com.vimalselvam&lt;/groupId&gt;\n &lt;artifactId&gt;cucumber-extentsreport&lt;/artifactId&gt;\n &lt;version&gt;3.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\n    &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\n    &lt;version&gt;3.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\n    &lt;artifactId&gt;extentreports-cucumber4-adapter&lt;/artifactId&gt;\n    &lt;version&gt;1.0.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>/*runner class */ plugin and run method</p>\n<pre><code>     plugin = {&quot;com.cucumber.listener.ExtentCucumberFormatter:target/cucumber-reports/report.html&quot;}\n\npublic class testRunner{\n    @AfterClass\n     public static void writeExtentReport() {\n         Reporter.loadXMLConfig(new File(&quot;C:\\\\Users\\\\User\\\\eclipseworkspace\\\\test\\\\extent-config.xml&quot;));    \n}\n</code></pre>\n<p>/* step class */</p>\n<pre><code>  @After\n        public void execute_after_every_scenario(Scenario scenario) throws InterruptedException, IOException\n        {\n            testbase.teardown(scenario);\n        }\n</code></pre>\n<p>/* test base class */\nwhat is working are the screenshots saved in output folder\n<strong>what is missing are the screenshots in extent report</strong></p>\n<pre><code>public static void teardown(Scenario scenario) throws InterruptedException, IOException\n    {\n        Thread.sleep(2000);\n        if (scenario.isFailed()) {\n               try {\n                   String screenshotName = scenario.getName().replaceAll(&quot; &quot;, &quot;_&quot;); \n                   byte[] screenshot = ((TakesScreenshot)driver).getScreenshotAs(OutputType.BYTES);\n                File screenshot_with_scenario_name = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE); \n              //  FileUtils.copyFile(screenshot_with_scenario_name, new File(&quot;C:\\\\Users\\\\User\\\\eclipse-workspace\\\\test\\\\testscreenshots\\\\&quot; + screenshotName + &quot;.png&quot;));\n              \n                System.out.println(&quot;testing pring the screenshot&quot; + screenshotName);              \n\n              File destinationPath = new File(&quot;C:\\\\Users\\\\User\\\\eclipse-workspace\\\\test\\\\testscreenshots\\\\&quot; + screenshotName + &quot;.png&quot;);\n                  \n     //Copy taken screenshot from source location to destination location\n                Files.copy(screenshot_with_scenario_name.toPath(), destinationPath.toPath()); \n\n            Reporter.addScreenCaptureFromPath(destinationPath.toString());\n                Reporter.addScenarioLog(screenshotName);\n                \n                scenario.embed(screenshot, &quot;image/png&quot;);\n       \n               } catch (IOException somePlatformsDontSupportScreenshots) {\n                System.err.println(somePlatformsDontSupportScreenshots.getMessage());\n           }  \n              }\n</code></pre>\n"},{"tags":["java","python"],"answers":[{"tags":[],"owner":{"account_id":4976,"reputation":2370,"user_id":7759,"accept_rate":83,"display_name":"lud0h"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1591888546,"creation_date":1251268116,"answer_id":1332697,"question_id":1332598,"body_markdown":"You could use the console commands\r\n\r\n    &gt;&gt;&gt;import os\r\n    &gt;&gt;&gt;os.system(&quot;java -version&quot;)\r\n    \r\n    java version &quot;1.5.0_19&quot;\r\n\r\nor see vartec&#39;s answer at \r\nhttps://stackoverflow.com/questions/4760215/running-shell-command-and-capturing-the-output\r\nabout storing the output","title":"How to determine whether java is installed on a system through python?","body":"<p>You could use the console commands</p>\n\n<pre><code>&gt;&gt;&gt;import os\n&gt;&gt;&gt;os.system(\"java -version\")\n\njava version \"1.5.0_19\"\n</code></pre>\n\n<p>or see vartec's answer at \n<a href=\"https://stackoverflow.com/questions/4760215/running-shell-command-and-capturing-the-output\">Running shell command and capturing the output</a>\nabout storing the output</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1251268548,"creation_date":1251268548,"answer_id":1332722,"question_id":1332598,"body_markdown":"There is no 100% reliable / portable way to do this, but the following procedure should give you some confidence that Java has been installed and configured properly (on a Linux):\r\n\r\n 1. Check that the &quot;JAVA_HOME&quot; environment variable has been set and that it points to a directory containing a &quot;bin&quot; directory and that the &quot;bin&quot; directory contains an executable &quot;java&quot; command.\r\n 2. Check that the &quot;java&quot; command found via a search of &quot;PATH&quot; is the one that was found in step 1.\r\n 3. Run the &quot;java&quot; command with &quot;-version&quot; to see if the output looks like a normal Java version stamp.\r\n\r\nThis doesn&#39;t guarantee that the user has not done something weird.\r\n\r\nActually, if it was me, I wouldn&#39;t bother with this.  I&#39;d just try to launch the Java app from Python assuming that the &quot;java&quot; on the user&#39;s path was the right one. If there were errors, I&#39;d report them.","title":"How to determine whether java is installed on a system through python?","body":"<p>There is no 100% reliable / portable way to do this, but the following procedure should give you some confidence that Java has been installed and configured properly (on a Linux):</p>\n\n<ol>\n<li>Check that the \"JAVA_HOME\" environment variable has been set and that it points to a directory containing a \"bin\" directory and that the \"bin\" directory contains an executable \"java\" command.</li>\n<li>Check that the \"java\" command found via a search of \"PATH\" is the one that was found in step 1.</li>\n<li>Run the \"java\" command with \"-version\" to see if the output looks like a normal Java version stamp.</li>\n</ol>\n\n<p>This doesn't guarantee that the user has not done something weird.</p>\n\n<p>Actually, if it was me, I wouldn't bother with this.  I'd just try to launch the Java app from Python assuming that the \"java\" on the user's path was the right one. If there were errors, I'd report them.</p>\n"},{"tags":[],"owner":{"account_id":2679033,"reputation":27742,"user_id":2314737,"accept_rate":82,"display_name":"user2314737"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667037034,"creation_date":1667037034,"answer_id":74244304,"question_id":1332598,"body_markdown":"To **check if Java is installed** use [`shutil.which`](https://docs.python.org/3/library/shutil.html#shutil.which):\r\n\r\n    import shutil\r\n    if shutil.which(&quot;java&quot;):\r\n      print(&quot;Java is installed on the system&quot;)\r\n\r\n    # Out:\r\n    # /usr/bin/java\r\n\r\nTo **get the real path** resolving symbolic links use [`os.path.realpath`](https://docs.python.org/3/library/os.path.html#os.path.realpath):\r\n\r\n    os.path.realpath(shutil.which(&quot;java&quot;))\r\n\r\n    # Out:\r\n    # /usr/lib/jvm/java-11-openjdk-amd64/bin/java\r\n\r\nTo **check which version of Java is installed** use [`subprocess.check_output`](https://docs.python.org/3/library/subprocess.html#subprocess.check_output):\r\n\r\n    from subprocess import check_output, STDOUT\r\n    \r\n    try:\r\n      print(check_output(&quot;java -version&quot;, stderr=STDOUT, shell=True).decode(&#39;utf-8&#39;))\r\n    except OSError:\r\n      print(&quot;java not found on path&quot;)\r\n\r\n    # Out:\r\n    # openjdk version &quot;11.0.16&quot; 2022-07-19\r\n    # OpenJDK Runtime Environment (build 11.0.16+8-post-Ubuntu-0ubuntu118.04)\r\n    # OpenJDK 64-Bit Server VM (build 11.0.16+8-post-Ubuntu-0ubuntu118.04, mixed mode, sharing)\r\n\r\n\r\nNotice the `stderr=STDOUT` (the equivalent of `2&gt;&amp;1`). This is because the shell command `java -version` sends the output to STDERR (see [Why does &#39;java -version&#39; go to stderr?](https://stackoverflow.com/questions/13483443/why-does-java-version-go-to-stderr)).","title":"How to determine whether java is installed on a system through python?","body":"<p>To <strong>check if Java is installed</strong> use <a href=\"https://docs.python.org/3/library/shutil.html#shutil.which\" rel=\"nofollow noreferrer\"><code>shutil.which</code></a>:</p>\n<pre><code>import shutil\nif shutil.which(&quot;java&quot;):\n  print(&quot;Java is installed on the system&quot;)\n\n# Out:\n# /usr/bin/java\n</code></pre>\n<p>To <strong>get the real path</strong> resolving symbolic links use <a href=\"https://docs.python.org/3/library/os.path.html#os.path.realpath\" rel=\"nofollow noreferrer\"><code>os.path.realpath</code></a>:</p>\n<pre><code>os.path.realpath(shutil.which(&quot;java&quot;))\n\n# Out:\n# /usr/lib/jvm/java-11-openjdk-amd64/bin/java\n</code></pre>\n<p>To <strong>check which version of Java is installed</strong> use <a href=\"https://docs.python.org/3/library/subprocess.html#subprocess.check_output\" rel=\"nofollow noreferrer\"><code>subprocess.check_output</code></a>:</p>\n<pre><code>from subprocess import check_output, STDOUT\n\ntry:\n  print(check_output(&quot;java -version&quot;, stderr=STDOUT, shell=True).decode('utf-8'))\nexcept OSError:\n  print(&quot;java not found on path&quot;)\n\n# Out:\n# openjdk version &quot;11.0.16&quot; 2022-07-19\n# OpenJDK Runtime Environment (build 11.0.16+8-post-Ubuntu-0ubuntu118.04)\n# OpenJDK 64-Bit Server VM (build 11.0.16+8-post-Ubuntu-0ubuntu118.04, mixed mode, sharing)\n</code></pre>\n<p>Notice the <code>stderr=STDOUT</code> (the equivalent of <code>2&gt;&amp;1</code>). This is because the shell command <code>java -version</code> sends the output to STDERR (see <a href=\"https://stackoverflow.com/questions/13483443/why-does-java-version-go-to-stderr\">Why does 'java -version' go to stderr?</a>).</p>\n"}],"owner":{"account_id":52948,"reputation":539,"user_id":158310,"accept_rate":80,"display_name":"kush87"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7041,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":1332697,"answer_count":3,"score":6,"last_activity_date":1667037034,"creation_date":1251266352,"question_id":1332598,"body_markdown":"Using Python, I want to know whether Java is installed.","title":"How to determine whether java is installed on a system through python?","body":"<p>Using Python, I want to know whether Java is installed.</p>\n"},{"tags":["java","itext"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1666985420,"post_id":74240004,"comment_id":131072165,"body_markdown":"I think this post should solve your problem. If it does, please let me/us know And we&#39;ll close your question as a duplicate, okay? https://stackoverflow.com/questions/1565388/increase-heap-size-in-java","body":"I think this post should solve your problem. If it does, please let me/us know And we&#39;ll close your question as a duplicate, okay? <a href=\"https://stackoverflow.com/questions/1565388/increase-heap-size-in-java\" title=\"increase heap size in java\">stackoverflow.com/questions/1565388/increase-heap-size-in-ja&zwnj;&#8203;va</a>"},{"owner":{"account_id":10244422,"reputation":599,"user_id":7560684,"display_name":"VKP"},"score":0,"creation_date":1666985692,"post_id":74240004,"comment_id":131072236,"body_markdown":"Unfortunately No , I cant change the heap size . This failing in AWS after deploying the application . Is there any better way to code this method","body":"Unfortunately No , I cant change the heap size . This failing in AWS after deploying the application . Is there any better way to code this method"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1666986568,"post_id":74240004,"comment_id":131072461,"body_markdown":"I believe you can change your heap size on AWS. I found this: https://stackoverflow.com/questions/63773664/how-to-increase-java-heap-size-in-aws-ecs as well as another post on SO about how to solve this.","body":"I believe you can change your heap size on AWS. I found this: <a href=\"https://stackoverflow.com/questions/63773664/how-to-increase-java-heap-size-in-aws-ecs\" title=\"how to increase java heap size in aws ecs\">stackoverflow.com/questions/63773664/&hellip;</a> as well as another post on SO about how to solve this."},{"owner":{"account_id":25694056,"reputation":101,"user_id":19461429,"display_name":"RohithPg"},"score":0,"creation_date":1666987071,"post_id":74240004,"comment_id":131072601,"body_markdown":"I think you can improve it by marking each of the inputStream from your list, for garbage collection(inputStream=null) once you already add it to your copy of the pdf.","body":"I think you can improve it by marking each of the inputStream from your list, for garbage collection(inputStream=null) once you already add it to your copy of the pdf."}],"answers":[{"comments":[{"owner":{"account_id":10244422,"reputation":599,"user_id":7560684,"display_name":"VKP"},"score":0,"creation_date":1666989404,"post_id":74240280,"comment_id":131073172,"body_markdown":"i am trying to save the file in to DB . The data type in Oracle is BLOB and the entity type is byte[].","body":"i am trying to save the file in to DB . The data type in Oracle is BLOB and the entity type is byte[]."},{"owner":{"account_id":5953740,"reputation":6324,"user_id":4681060,"accept_rate":75,"display_name":"Krzysztof Cichocki"},"score":0,"creation_date":1667036452,"post_id":74240280,"comment_id":131078984,"body_markdown":"Then you can use BlobOutputStream https://docs.oracle.com/database/121/IMJVC/oracle/ord/media/jai/io/BlobOutputStream.html","body":"Then you can use BlobOutputStream <a href=\"https://docs.oracle.com/database/121/IMJVC/oracle/ord/media/jai/io/BlobOutputStream.html\" rel=\"nofollow noreferrer\">docs.oracle.com/database/121/IMJVC/oracle/ord/media/jai/io/&hellip;</a>"}],"tags":[],"owner":{"account_id":5953740,"reputation":6324,"user_id":4681060,"accept_rate":75,"display_name":"Krzysztof Cichocki"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666987395,"creation_date":1666986844,"answer_id":74240280,"question_id":74240004,"body_markdown":"If you send it somwhere to OutputStream (eg. thru http - which seems to be true as you don&#39;t want to store it on disk) then instead of using intermediate ByteArrayOutpuStream (which is the RAM hog) - send it to the OutputStream directly - pass the OutputStream to the method creating the pdf, in this way you&#39;ll avoid holding it in memory at all.\r\n\r\n","title":"OutofMemory Java Heap Space When merging PDF using itext","body":"<p>If you send it somwhere to OutputStream (eg. thru http - which seems to be true as you don't want to store it on disk) then instead of using intermediate ByteArrayOutpuStream (which is the RAM hog) - send it to the OutputStream directly - pass the OutputStream to the method creating the pdf, in this way you'll avoid holding it in memory at all.</p>\n"}],"owner":{"account_id":10244422,"reputation":599,"user_id":7560684,"display_name":"VKP"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74240280,"answer_count":1,"score":0,"last_activity_date":1667036676,"creation_date":1666984826,"question_id":74240004,"body_markdown":"I am trying to merge around 15 pdfs into a single PDF. It&#39;s working most of the time but sometimes getting OutofMemory Java Heap Space  error. I want to avoid temp file creation. Below is my code .\r\n```java\r\npublic static byte[] mergePdf(List &lt; InputStream &gt; inputStreams) {\r\n    Document document = new Document();\r\n    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n    PdfCopy copy = new PdfSmartCopy(document, byteArrayOutputStream);\r\n    document.open();\r\n    for (InputStream inputStream: inputStreams) {\r\n        PdfReader pdfReader = new PdfReader(inputStream);\r\n        copy.addDocument(pdfReader);\r\n        copy.freeReader(pdfReader);\r\n        pdfReader.close();\r\n    }\r\n    document.close();\r\n    return byteArrayOutputStream.toByteArray();\r\n}\r\n```","title":"OutofMemory Java Heap Space When merging PDF using itext","body":"<p>I am trying to merge around 15 pdfs into a single PDF. It's working most of the time but sometimes getting OutofMemory Java Heap Space  error. I want to avoid temp file creation. Below is my code .</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static byte[] mergePdf(List &lt; InputStream &gt; inputStreams) {\n    Document document = new Document();\n    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n    PdfCopy copy = new PdfSmartCopy(document, byteArrayOutputStream);\n    document.open();\n    for (InputStream inputStream: inputStreams) {\n        PdfReader pdfReader = new PdfReader(inputStream);\n        copy.addDocument(pdfReader);\n        copy.freeReader(pdfReader);\n        pdfReader.close();\n    }\n    document.close();\n    return byteArrayOutputStream.toByteArray();\n}\n</code></pre>\n"},{"tags":["java","methods","boolean","return"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1665190752,"post_id":73993663,"comment_id":130648868,"body_markdown":"Once you first find a false case you return false. If you never find a false case, return true. You don&#39;t need `a` or the `break`, you can return from inside your loop.","body":"Once you first find a false case you return false. If you never find a false case, return true. You don&#39;t need <code>a</code> or the <code>break</code>, you can return from inside your loop."}],"answers":[{"tags":[],"owner":{"account_id":26560451,"reputation":36,"user_id":20188370,"display_name":"Malak"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665190968,"creation_date":1665190968,"answer_id":73993707,"question_id":73993663,"body_markdown":"You can return false early from the method, if we reached the end without returning false, then return true:\r\n\r\n    public static boolean allMultipleOf(int[] ary, int n) {\r\n        for (int i = 0; i &lt; ary.length; i++) {\r\n            if (ary[i] % n != 0) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }","title":"return statement in boolean method","body":"<p>You can return false early from the method, if we reached the end without returning false, then return true:</p>\n<pre><code>public static boolean allMultipleOf(int[] ary, int n) {\n    for (int i = 0; i &lt; ary.length; i++) {\n        if (ary[i] % n != 0) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26602524,"reputation":1,"user_id":20223939,"display_name":"Ganesh M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667036353,"creation_date":1666757489,"answer_id":74202624,"question_id":73993663,"body_markdown":"It should `return false`, the default of the boolean is print at this place.\r\n\r\nYou can make the return statement within the method. it return true.    \r\n\r\n```\r\npublic static boolean allMultipleOf(int[] ary, int n) {\r\n  boolean a = true;\r\n  for(int i = 0; i &lt; ary.length; i++) {\r\n    if (ary[i] % n == 0) {\r\n      a = true;\r\n      //System.out.println(a);\r\n      break;\r\n    } else {\r\n      a = false;\r\n    }\r\n  } \r\n  return a; \r\n}\r\n```","title":"return statement in boolean method","body":"<p>It should <code>return false</code>, the default of the boolean is print at this place.</p>\n<p>You can make the return statement within the method. it return true.</p>\n<pre><code>public static boolean allMultipleOf(int[] ary, int n) {\n  boolean a = true;\n  for(int i = 0; i &lt; ary.length; i++) {\n    if (ary[i] % n == 0) {\n      a = true;\n      //System.out.println(a);\n      break;\n    } else {\n      a = false;\n    }\n  } \n  return a; \n}\n</code></pre>\n"}],"owner":{"account_id":26560357,"reputation":3,"user_id":20188302,"display_name":"Sikefrikou"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73993707,"answer_count":2,"score":0,"last_activity_date":1667036353,"creation_date":1665190195,"question_id":73993663,"body_markdown":"I do not understand what I should return. My method returns false if the last time it goes \r\nthrough the for-loop it is false. If the last time is true than it returns true. But I want it to return false regardless of where the false occurred.\r\n\r\n\r\n```\r\n    public class test {\r\n        public static void main(String[] args) {\r\n            int number = 4;\r\n            int[] intArray = {4, 8, 12, 16};\r\n            System.out.println(allMultipleOf(intArray, number));\r\n        }\r\n```\r\n\r\n```\r\n        public static boolean allMultipleOf(int[] ary, int n){\r\n            boolean a = true;\r\n            for(int i = 0; i &lt; ary.length; i++){\r\n                if(ary[i] % n == 0){\r\n                    a = true;\r\n                    //System.out.println(a);\r\n                    break;\r\n                } else {\r\n                    a = false;\r\n                }\r\n            }\r\n    }\r\n        return a; //what should I return\r\n}\r\n```\r\n\r\n    ","title":"return statement in boolean method","body":"<p>I do not understand what I should return. My method returns false if the last time it goes\nthrough the for-loop it is false. If the last time is true than it returns true. But I want it to return false regardless of where the false occurred.</p>\n<pre><code>    public class test {\n        public static void main(String[] args) {\n            int number = 4;\n            int[] intArray = {4, 8, 12, 16};\n            System.out.println(allMultipleOf(intArray, number));\n        }\n</code></pre>\n<pre><code>        public static boolean allMultipleOf(int[] ary, int n){\n            boolean a = true;\n            for(int i = 0; i &lt; ary.length; i++){\n                if(ary[i] % n == 0){\n                    a = true;\n                    //System.out.println(a);\n                    break;\n                } else {\n                    a = false;\n                }\n            }\n    }\n        return a; //what should I return\n}\n</code></pre>\n"},{"tags":["java","string","char","uppercase","lowercase"],"answers":[{"comments":[{"owner":{"account_id":4281210,"reputation":1058,"user_id":3500521,"display_name":"Dreamspace President"},"score":0,"creation_date":1667025659,"post_id":74243171,"comment_id":131077480,"body_markdown":"You could add `Character.isLowerCase();` or `Character.isUpperCase();` instead of the rather narrow a/z check.","body":"You could add <code>Character.isLowerCase();</code> or <code>Character.isUpperCase();</code> instead of the rather narrow a/z check."}],"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667023866,"creation_date":1667023866,"answer_id":74243171,"question_id":74243138,"body_markdown":"Your code seems on the righ track, but you need to toggle between both lower and upper case.  Try this version:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String s = &quot;lowerUppercase&quot;;\r\n    StringBuilder output = new StringBuilder();\r\n\r\n    for (int i=0; i &lt; s.length(); i++) {\r\n        if (s.charAt(i) &gt;= &#39;a&#39; &amp;&amp; s.charAt(i) &lt;= &#39;z&#39;) {\r\n            output.append(Character.toUpperCase(s.charAt(i)));\r\n        }\r\n        else {\r\n            output.append(Character.toLowerCase(s.charAt(i)));\r\n        }\r\n    }\r\n\r\n    System.out.println(output.toString());\r\n    // LOWERuPPERCASE\r\n\r\nNote that the above assumes that you would only have lower and upper case English alphabet letters in the input string.  If not, then the answer might have to change.","title":"Convert characters of a string to opposite case","body":"<p>Your code seems on the righ track, but you need to toggle between both lower and upper case.  Try this version:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;lowerUppercase&quot;;\nStringBuilder output = new StringBuilder();\n\nfor (int i=0; i &lt; s.length(); i++) {\n    if (s.charAt(i) &gt;= 'a' &amp;&amp; s.charAt(i) &lt;= 'z') {\n        output.append(Character.toUpperCase(s.charAt(i)));\n    }\n    else {\n        output.append(Character.toLowerCase(s.charAt(i)));\n    }\n}\n\nSystem.out.println(output.toString());\n// LOWERuPPERCASE\n</code></pre>\n<p>Note that the above assumes that you would only have lower and upper case English alphabet letters in the input string.  If not, then the answer might have to change.</p>\n"},{"tags":[],"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667025187,"creation_date":1667024320,"answer_id":74243207,"question_id":74243138,"body_markdown":"Because you are calling the method on the entire string while you only wanna switch the case of the char at position i. Your code example sets the entire string to lowercase if the last letter is lowercase and to Uppercase in the other case.\r\n\r\nAlso String in Java is an immutable object, meaning that you cannot change its value once it&#39;s created, so you need a stringBuilder.\r\n\r\n```\r\n  public static void main(String[] args) {\r\n        String s = &quot;lowerUppercase&quot;;\r\n        StringBuilder sb = new StringBuilder();\r\n\r\n        for (int i = 0; i &lt; s.length() - 1; i++) {\r\n            if (s.charAt(i) &gt;= &#39;a&#39; &amp;&amp; s.charAt(i) &lt;= &#39;z&#39;) {\r\n                sb.append(Character.toUpperCase(s.charAt(i)));\r\n            } else {\r\n                sb.append(Character.toLowerCase(s.charAt(i)));\r\n            }\r\n        }\r\n        System.out.println(sb);\r\n    }\r\n```\r\n\r\nIf you&#39;d like to play with functional programming here&#39;s the functional version (It&#39;s not practical or anything, purely educational) :\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        String s = &quot;lowerUppercase&quot;;\r\n\r\n        StringBuilder out = s.chars()\r\n                .map(i -&gt; {\r\n                    if (Character.isLowerCase(i)) {\r\n                        return Character.toUpperCase(i);\r\n                    } else if (Character.isUpperCase(i)) {\r\n                        return Character.toLowerCase(i);\r\n                    }\r\n                    return i;\r\n                }).collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append);\r\n\r\n        System.out.println(out);\r\n    }","title":"Convert characters of a string to opposite case","body":"<p>Because you are calling the method on the entire string while you only wanna switch the case of the char at position i. Your code example sets the entire string to lowercase if the last letter is lowercase and to Uppercase in the other case.</p>\n<p>Also String in Java is an immutable object, meaning that you cannot change its value once it's created, so you need a stringBuilder.</p>\n<pre><code>  public static void main(String[] args) {\n        String s = &quot;lowerUppercase&quot;;\n        StringBuilder sb = new StringBuilder();\n\n        for (int i = 0; i &lt; s.length() - 1; i++) {\n            if (s.charAt(i) &gt;= 'a' &amp;&amp; s.charAt(i) &lt;= 'z') {\n                sb.append(Character.toUpperCase(s.charAt(i)));\n            } else {\n                sb.append(Character.toLowerCase(s.charAt(i)));\n            }\n        }\n        System.out.println(sb);\n    }\n</code></pre>\n<p>If you'd like to play with functional programming here's the functional version (It's not practical or anything, purely educational) :</p>\n<pre><code>    public static void main(String[] args) {\n        String s = &quot;lowerUppercase&quot;;\n\n        StringBuilder out = s.chars()\n                .map(i -&gt; {\n                    if (Character.isLowerCase(i)) {\n                        return Character.toUpperCase(i);\n                    } else if (Character.isUpperCase(i)) {\n                        return Character.toLowerCase(i);\n                    }\n                    return i;\n                }).collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append);\n\n        System.out.println(out);\n    }\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user17233545"},"score":0,"creation_date":1667030614,"post_id":74243346,"comment_id":131078147,"body_markdown":"Why do you only handle `isAlphabetic`? You may want to target only characters with upper and lower case. But for example `isAlphabetic(&#39;〤&#39;)` is true, but `isLowerCase(&#39;〤&#39;)` and `isUpperCase(&#39;〤&#39;)` are both false. [Character.isAlphabetic()](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Character.html#isAlphabetic(int)) returns true for many characters.","body":"Why do you only handle <code>isAlphabetic</code>? You may want to target only characters with upper and lower case. But for example <code>isAlphabetic(&#39;〤&#39;)</code> is true, but <code>isLowerCase(&#39;〤&#39;)</code> and <code>isUpperCase(&#39;〤&#39;)</code> are both false. <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Character.html#isAlphabetic(int)\" rel=\"nofollow noreferrer\">Character.isAlphabetic()</a> returns true for many characters."},{"owner":{"display_name":"user17233545"},"score":0,"creation_date":1667034741,"post_id":74243346,"comment_id":131078731,"body_markdown":"I prefer no filtering at all or filtering with `isLowerCase(x) ^ isUppcaCase(x)`. `isAlphabetic(x)` is half-baked.","body":"I prefer no filtering at all or filtering with <code>isLowerCase(x) ^ isUppcaCase(x)</code>. <code>isAlphabetic(x)</code> is half-baked."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1667036250,"post_id":74243346,"comment_id":131078953,"body_markdown":"Uhhhh...Now I see what you&#39;re talking about and you are right. Using &#39;isAlphabetic` or anything else here is rather moot. I removed it altogether. Thanks for pointing that out.","body":"Uhhhh...Now I see what you&#39;re talking about and you are right. Using &#39;isAlphabetic` or anything else here is rather moot. I removed it altogether. Thanks for pointing that out."}],"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667036253,"creation_date":1667025828,"answer_id":74243346,"question_id":74243138,"body_markdown":"You now know why. Here is yet another way you could do it:\r\n\r\n    String s = &quot;Lower to UpperCase&quot;;\r\n\r\n    StringBuilder sb = new StringBuilder(&quot;&quot;);\r\n    for (int i = 0; i &lt; s.length(); i++) {\r\n        char c = s.charAt(i);\r\n        if (Character.isLowerCase(c)) {\r\n             sb.append(Character.toUpperCase(c));\r\n        }\r\n        else {\r\n            sb.append(Character.toLowerCase(c));\r\n        }\r\n    }\r\n    s = sb.toString();\r\n    System.out.println(s);\r\n\r\nThis will output to the Console Window:\r\n\r\n    lOWER TO uPPERcASE\r\n","title":"Convert characters of a string to opposite case","body":"<p>You now know why. Here is yet another way you could do it:</p>\n<pre><code>String s = &quot;Lower to UpperCase&quot;;\n\nStringBuilder sb = new StringBuilder(&quot;&quot;);\nfor (int i = 0; i &lt; s.length(); i++) {\n    char c = s.charAt(i);\n    if (Character.isLowerCase(c)) {\n         sb.append(Character.toUpperCase(c));\n    }\n    else {\n        sb.append(Character.toLowerCase(c));\n    }\n}\ns = sb.toString();\nSystem.out.println(s);\n</code></pre>\n<p>This will output to the Console Window:</p>\n<pre><code>lOWER TO uPPERcASE\n</code></pre>\n"}],"owner":{"account_id":26489575,"reputation":3,"user_id":20127653,"display_name":"raghava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":537,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74243171,"answer_count":3,"score":-1,"last_activity_date":1667036253,"creation_date":1667023158,"question_id":74243138,"body_markdown":"\r\n//HERE WHY IS IT CONVERTING TO LOWER CASE BUT NOT TO UPPER CASE \r\n\r\n    public class LowerUpperCase {\r\n        \r\n        public static void main(String[] args) {\r\n            String s=&quot;lowerUppercase&quot;;\r\n           \r\n            \r\n            \r\n            for (int i = 0; i &lt; s.length()-1; i++) {\r\n    \r\n                if(s.charAt(i) &gt;=&#39;a&#39; &amp;&amp; s.charAt(i)&lt;=&#39;z&#39;){  //OR IF DONE THIS NOT WORKING\r\n    ```\r\n       if((s.charAt(i) &gt;=&#39;a&#39; &amp;&amp; s.charAt(i)&lt;=&#39;z&#39; ) || (s.charAt(i) &gt;=&#39;A&#39; &amp;&amp; s.charAt(i)&lt;=&#39;Z&#39;)){\r\n    ```\r\n    \r\n                   \r\n                     s=s.toLowerCase();//here should i go for \r\n    \r\n                }\r\n                else if(s.charAt(i) &gt;=&#39;A&#39; &amp;&amp; s.charAt(i)&lt;=&#39;Z&#39;){\r\n                   \r\n                    s=s.toUpperCase();\r\n    \r\n               }\r\n               \r\n                \r\n            }\r\n            System.out.println(s);\r\n        }\r\n    }\r\n\r\n//I ALWAYS GET OUTPUT LIKE loweruppercase or LOWERUPPERCASE\r\n\r\n\r\n\r\n```\r\nINPUT:LowerUpperCase\r\nOUTPUT:lOWERuPPERcASE  expected\r\n\r\nHERE WHY IS IT CONVERTING TO LOWER CASE BUT NOT TO UPPER CASE \r\n\r\nI ALWAYS GET OUTPUT LIKE loweruppercase or LOWERUPPERCASE\r\n","title":"Convert characters of a string to opposite case","body":"<p>//HERE WHY IS IT CONVERTING TO LOWER CASE BUT NOT TO UPPER CASE</p>\n<pre><code>public class LowerUpperCase {\n    \n    public static void main(String[] args) {\n        String s=&quot;lowerUppercase&quot;;\n       \n        \n        \n        for (int i = 0; i &lt; s.length()-1; i++) {\n\n            if(s.charAt(i) &gt;='a' &amp;&amp; s.charAt(i)&lt;='z'){  //OR IF DONE THIS NOT WORKING\n```\n   if((s.charAt(i) &gt;='a' &amp;&amp; s.charAt(i)&lt;='z' ) || (s.charAt(i) &gt;='A' &amp;&amp; s.charAt(i)&lt;='Z')){\n```\n\n               \n                 s=s.toLowerCase();//here should i go for \n\n            }\n            else if(s.charAt(i) &gt;='A' &amp;&amp; s.charAt(i)&lt;='Z'){\n               \n                s=s.toUpperCase();\n\n           }\n           \n            \n        }\n        System.out.println(s);\n    }\n}\n</code></pre>\n<p>//I ALWAYS GET OUTPUT LIKE loweruppercase or LOWERUPPERCASE</p>\n<pre><code>INPUT:LowerUpperCase\nOUTPUT:lOWERuPPERcASE  expected\n\nHERE WHY IS IT CONVERTING TO LOWER CASE BUT NOT TO UPPER CASE \n\nI ALWAYS GET OUTPUT LIKE loweruppercase or LOWERUPPERCASE\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1666973724,"post_id":74238080,"comment_id":131068692,"body_markdown":"`mod11(7*3 - 30)` == `mod11(-3)` which should be 8, not 9. `(-7+1)/20` is just `0` due to integer arithmetic (unless you can coerce into the `double` call, in which case it&#39;s `-6/20` i.e. `-0.3`, so 10.7 is correct). Lastly, for positive values you can simply use `value % mod`, and negatives can use `mod + (value % mod)` in java, which may be quicker than doing `%` twice.","body":"<code>mod11(7*3 - 30)</code> == <code>mod11(-3)</code> which should be 8, not 9. <code>(-7+1)&#47;20</code> is just <code>0</code> due to integer arithmetic (unless you can coerce into the <code>double</code> call, in which case it&#39;s <code>-6&#47;20</code> i.e. <code>-0.3</code>, so 10.7 is correct). Lastly, for positive values you can simply use <code>value % mod</code>, and negatives can use <code>mod + (value % mod)</code> in java, which may be quicker than doing <code>%</code> twice."},{"owner":{"account_id":23453887,"reputation":43,"user_id":17509682,"display_name":"Mohammad Khaddam"},"score":0,"creation_date":1666974085,"post_id":74238080,"comment_id":131068801,"body_markdown":"thank you for the fast response, but I&#39;m trying to get the below result\ni = ((-7+1)/20) mod 11 = -6/9 mod 11 = 5*5 mod 11 = 3","body":"thank you for the fast response, but I&#39;m trying to get the below result i = ((-7+1)/20) mod 11 = -6/9 mod 11 = 5*5 mod 11 = 3"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1667020447,"post_id":74238080,"comment_id":131076912,"body_markdown":"`-6/20` != `-6/9` != `5*5` , so the laws of mathematics can&#39;t really help you there.","body":"<code>-6&#47;20</code> != <code>-6&#47;9</code> != <code>5*5</code> , so the laws of mathematics can&#39;t really help you there."}],"answers":[{"comments":[{"owner":{"account_id":23453887,"reputation":43,"user_id":17509682,"display_name":"Mohammad Khaddam"},"score":0,"creation_date":1666974521,"post_id":74238183,"comment_id":131068947,"body_markdown":"thank you for the fast response, but I&#39;m trying to get the below result\ni = ((-7+1)/20) mod 11 = -6/9 mod 11 = 5*5 mod 11 = 3","body":"thank you for the fast response, but I&#39;m trying to get the below result i = ((-7+1)/20) mod 11 = -6/9 mod 11 = 5*5 mod 11 = 3"},{"owner":{"account_id":20565897,"reputation":36,"user_id":15095290,"display_name":"timmeh87"},"score":0,"creation_date":1666976885,"post_id":74238183,"comment_id":131069731,"body_markdown":"by the standard definition of mathematical operators, you are presenting an initial equation, &quot;((-7+1)/20) mod 11&quot; that does not equal 3. Each time you change it you seem to randomly pull operators and numbers out of the air... It looks like you are writing -6/9 = 5*5. This still makes no sense to me","body":"by the standard definition of mathematical operators, you are presenting an initial equation, &quot;((-7+1)/20) mod 11&quot; that does not equal 3. Each time you change it you seem to randomly pull operators and numbers out of the air... It looks like you are writing -6/9 = 5*5. This still makes no sense to me"}],"tags":[],"owner":{"account_id":20565897,"reputation":36,"user_id":15095290,"display_name":"timmeh87"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666974046,"creation_date":1666974046,"answer_id":74238183,"question_id":74238080,"body_markdown":"Your question is confusing.. the % operator is already the modulus operator, also known as remainder. ... so   14 % 11 = 3  is the same as mod11(14) = 3. There is no need to implement it as a new function.\r\n\r\nIn your equation, ((-7+1)/20) = -0.3, Its not clear why you would expect 3.\r\n\r\n11 - 0.3 is 10.7, so that is where that answer comes from. ","title":"implementing mod 11 function in Java","body":"<p>Your question is confusing.. the % operator is already the modulus operator, also known as remainder. ... so   14 % 11 = 3  is the same as mod11(14) = 3. There is no need to implement it as a new function.</p>\n<p>In your equation, ((-7+1)/20) = -0.3, Its not clear why you would expect 3.</p>\n<p>11 - 0.3 is 10.7, so that is where that answer comes from.</p>\n"},{"comments":[{"owner":{"account_id":23453887,"reputation":43,"user_id":17509682,"display_name":"Mohammad Khaddam"},"score":0,"creation_date":1666974617,"post_id":74238186,"comment_id":131068982,"body_markdown":"thank you for the response but the requirements is to implement the below operator which is a little bit confuing:\ni = ((-7+1)/20) mod 11 = -6/9 mod 11 = 5*5 mod 11 = 3","body":"thank you for the response but the requirements is to implement the below operator which is a little bit confuing: i = ((-7+1)/20) mod 11 = -6/9 mod 11 = 5*5 mod 11 = 3"},{"owner":{"account_id":8049065,"reputation":804,"user_id":6068297,"display_name":"Level_Up"},"score":0,"creation_date":1666975606,"post_id":74238186,"comment_id":131069303,"body_markdown":"I don&#180;t understand what this mean `i = ((-7+1)/20) mod 11 = -6/9 mod 11 = 5*5 mod 11 = 3` Is it several operation which you need to perform one after another or what is this = for? Are you sure that it is + but not = or some other symbol?","body":"I don&#180;t understand what this mean <code>i = ((-7+1)&#47;20) mod 11 = -6&#47;9 mod 11 = 5*5 mod 11 = 3</code> Is it several operation which you need to perform one after another or what is this = for? Are you sure that it is + but not = or some other symbol?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1667021411,"post_id":74238186,"comment_id":131077000,"body_markdown":"Note that modulo technically does not return negative integers. `-13 mod 10` is `7`, not `-3`. However, Java will print out `-3` (which is convenient in some cases, however...), this must be added to your divisor. It&#39;s better to think of it as a remainder operator.","body":"Note that modulo technically does not return negative integers. <code>-13 mod 10</code> is <code>7</code>, not <code>-3</code>. However, Java will print out <code>-3</code> (which is convenient in some cases, however...), this must be added to your divisor. It&#39;s better to think of it as a remainder operator."}],"tags":[],"owner":{"account_id":8049065,"reputation":804,"user_id":6068297,"display_name":"Level_Up"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667036049,"creation_date":1666974068,"answer_id":74238186,"question_id":74238080,"body_markdown":"I wrote two examples how to use it mathematical mod mathMod method and also default mod faultModCalJava mod. They will give the same result for positive numbers but for negative they have different output. More information here:\r\n\r\nhttps://en.wikipedia.org/wiki/Modulo_operation \r\n\r\n    public class MainClass2 {\r\n\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Math mod:&quot; + mathMod(14, 11));\r\n            System.out.println(&quot;Math mod:&quot; + mathMod((3 * 7 - 30), 11));\r\n            System.out.println(&quot;Math mod:&quot; + mathMod(-13, 10));\r\n\r\n            System.out.println(&quot;Default Java mod: &quot; + defaultModCalJava(14, 11));\r\n            System.out.println(&quot;Default Java mod: &quot; + defaultModCalJava((3 * 7 - 30), 11));\r\n            System.out.println(&quot;Default Java mod:&quot; + defaultModCalJava(-13, 10));\r\n        }\r\n\r\n        private static int mathMod(int a, int m) {\r\n            int positiveM = Math.abs(m);\r\n            int result = a % positiveM;\r\n            if (result &lt; 0) {\r\n                result = result + positiveM;\r\n            }\r\n            return result;\r\n        }\r\n\r\n        private static int defaultModCalJava(int a, int m) {\r\n            return a % m;\r\n        }\r\n    }\r\n\r\n\r\n\r\nOutput:\r\n\r\n    Math mod:3\r\n    Math mod:2\r\n    Math mod:7\r\n    Default Java mod: 3\r\n    Default Java mod: -9\r\n    Default Java mod:-3","title":"implementing mod 11 function in Java","body":"<p>I wrote two examples how to use it mathematical mod mathMod method and also default mod faultModCalJava mod. They will give the same result for positive numbers but for negative they have different output. More information here:</p>\n<p><a href=\"https://en.wikipedia.org/wiki/Modulo_operation\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Modulo_operation</a></p>\n<pre><code>public class MainClass2 {\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Math mod:&quot; + mathMod(14, 11));\n        System.out.println(&quot;Math mod:&quot; + mathMod((3 * 7 - 30), 11));\n        System.out.println(&quot;Math mod:&quot; + mathMod(-13, 10));\n\n        System.out.println(&quot;Default Java mod: &quot; + defaultModCalJava(14, 11));\n        System.out.println(&quot;Default Java mod: &quot; + defaultModCalJava((3 * 7 - 30), 11));\n        System.out.println(&quot;Default Java mod:&quot; + defaultModCalJava(-13, 10));\n    }\n\n    private static int mathMod(int a, int m) {\n        int positiveM = Math.abs(m);\n        int result = a % positiveM;\n        if (result &lt; 0) {\n            result = result + positiveM;\n        }\n        return result;\n    }\n\n    private static int defaultModCalJava(int a, int m) {\n        return a % m;\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Math mod:3\nMath mod:2\nMath mod:7\nDefault Java mod: 3\nDefault Java mod: -9\nDefault Java mod:-3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666991764,"creation_date":1666983189,"answer_id":74239760,"question_id":74238080,"body_markdown":"`%` is **not** a modulus operator. It is a [remainder operator](https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.17.3) and behaves as one would expect a remainder operator to behave.\r\n``` \r\nSystem.out.println(-10 % 3); //  -3 r -1 since 3 * -3 + -1 == -10\r\nSystem.out.println(10 % -3); //  -3 r  1 since -3 * -3 + 1 == 10 \r\nSystem.out.println(-10 % -3);//   3 r -1 since 3 * -3 + -1 == -10\r\nSystem.out.println(10 % 3);  //   3 r 1 since 3 * 3 + 1 == 10\r\n\r\nprints as expected\r\n-1\r\n1\r\n-1\r\n1\r\n```\r\nA true mod function for  `n = x mod(m)` says there is some `k` where `x - n = km`\r\n```\r\nn = 20 mod(3) = 2  and k = 6   20 - 2 = 6*3\r\nn = 20 mod(3) = -1 and k = 7   20 -(-1) = 3*7\r\n```           \r\n\r\nThe complete set of residues for any mod function is infinite and for the above is\r\n`n = x - mk` for any integral value of `k`\r\n           \r\nSo for the above the complete residue set would be `n = 20 - 3k`.  Any value returned would be a legitimate result.  The remainder function is simply a subset of size `one` of the aforementioned set of residues.\r\n\r\nHaving said that, this may help. This mod function simply corrects to the smallest positive value, assuming a positive modulus.\r\n```\r\nMod mod11 = Mod.forModulus(11);\r\nint k = mod11.of(-3);\r\nSystem.out.println(k);\r\n\r\nMod mod121 = Mod.forModulus(121);\r\nk = mod121.of(-12);\r\nSystem.out.println(k);\r\n```\r\nprints\r\n```\r\n8\r\n109\r\n```\r\nHere is a way to create mod function that just takes the target argument.\r\n```\r\n interface Mod {\r\n     int of(int value);\r\n     static Mod forModulus(int mod) {\r\n         return v-&gt; {\r\n             int u = v % mod;\r\n             return u &lt; 0 ? u + mod : u;\r\n         };\r\n     }\r\n }\r\n```\r\nThe above may need some tweaking either because I misunderstood your issue or because the mod function needs to be more complex to satisfy your congruency relationships.\r\n     ","title":"implementing mod 11 function in Java","body":"<p><code>%</code> is <strong>not</strong> a modulus operator. It is a <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.17.3\" rel=\"nofollow noreferrer\">remainder operator</a> and behaves as one would expect a remainder operator to behave.</p>\n<pre><code>System.out.println(-10 % 3); //  -3 r -1 since 3 * -3 + -1 == -10\nSystem.out.println(10 % -3); //  -3 r  1 since -3 * -3 + 1 == 10 \nSystem.out.println(-10 % -3);//   3 r -1 since 3 * -3 + -1 == -10\nSystem.out.println(10 % 3);  //   3 r 1 since 3 * 3 + 1 == 10\n\nprints as expected\n-1\n1\n-1\n1\n</code></pre>\n<p>A true mod function for  <code>n = x mod(m)</code> says there is some <code>k</code> where <code>x - n = km</code></p>\n<pre><code>n = 20 mod(3) = 2  and k = 6   20 - 2 = 6*3\nn = 20 mod(3) = -1 and k = 7   20 -(-1) = 3*7\n</code></pre>\n<p>The complete set of residues for any mod function is infinite and for the above is\n<code>n = x - mk</code> for any integral value of <code>k</code></p>\n<p>So for the above the complete residue set would be <code>n = 20 - 3k</code>.  Any value returned would be a legitimate result.  The remainder function is simply a subset of size <code>one</code> of the aforementioned set of residues.</p>\n<p>Having said that, this may help. This mod function simply corrects to the smallest positive value, assuming a positive modulus.</p>\n<pre><code>Mod mod11 = Mod.forModulus(11);\nint k = mod11.of(-3);\nSystem.out.println(k);\n\nMod mod121 = Mod.forModulus(121);\nk = mod121.of(-12);\nSystem.out.println(k);\n</code></pre>\n<p>prints</p>\n<pre><code>8\n109\n</code></pre>\n<p>Here is a way to create mod function that just takes the target argument.</p>\n<pre><code> interface Mod {\n     int of(int value);\n     static Mod forModulus(int mod) {\n         return v-&gt; {\n             int u = v % mod;\n             return u &lt; 0 ? u + mod : u;\n         };\n     }\n }\n</code></pre>\n<p>The above may need some tweaking either because I misunderstood your issue or because the mod function needs to be more complex to satisfy your congruency relationships.</p>\n"}],"owner":{"account_id":23453887,"reputation":43,"user_id":17509682,"display_name":"Mohammad Khaddam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":459,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1667036049,"creation_date":1666973377,"question_id":74238080,"body_markdown":"good day,\r\nwhat is the best way to implement the below function in java:\r\nmod11(x) which calculates x mod 11, we assume x is either an integer or a formula. For example, mod11(14) returns 3, and mod11(3*7-30) returns 2.\r\nI tried the below but it didn&#39;t work:\r\n`\r\n```\r\npublic static int PositiveMod(int value, int mod)\r\n    {\r\n        return ((value % mod + mod) % mod);\r\n    }\r\n```\r\n`\r\n\r\n`\r\n```\r\npublic static double PositiveMod(double value, double mod)\r\n    {\r\n        return ((value % mod + mod) % mod);\r\n    }\r\n```\r\n`\r\nfor example, i expect ((-7+1)/20) mod 11 to give out 3 but instead it gave me 10.7\r\nlike below\r\ni = ((-7+1)/20) mod 11 = -6/9 mod 11 = 5*5 mod 11 = 3\r\n","title":"implementing mod 11 function in Java","body":"<p>good day,\nwhat is the best way to implement the below function in java:\nmod11(x) which calculates x mod 11, we assume x is either an integer or a formula. For example, mod11(14) returns 3, and mod11(3*7-30) returns 2.\nI tried the below but it didn't work:\n`</p>\n<pre><code>public static int PositiveMod(int value, int mod)\n    {\n        return ((value % mod + mod) % mod);\n    }\n</code></pre>\n<p>`</p>\n<p>`</p>\n<pre><code>public static double PositiveMod(double value, double mod)\n    {\n        return ((value % mod + mod) % mod);\n    }\n</code></pre>\n<p>`\nfor example, i expect ((-7+1)/20) mod 11 to give out 3 but instead it gave me 10.7\nlike below\ni = ((-7+1)/20) mod 11 = -6/9 mod 11 = 5*5 mod 11 = 3</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1667119529,"post_id":74244015,"comment_id":131091647,"body_markdown":"Hey Nithin. Have you tried my solution above, does it work?","body":"Hey Nithin. Have you tried my solution above, does it work?"}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667033907,"creation_date":1667033907,"answer_id":74244015,"question_id":74236566,"body_markdown":"You are getting the following error:\r\n\r\n&gt; ATAL EXCEPTION: main Process: com.example.movies4u, PID: 4783 java.lang.NullPointerException: Attempt to invoke virtual method &#39;com.google.firebase.database.DatabaseReference com.google.firebase.database.DatabaseReference.child(java.lang.String)&#39; on a null object reference\r\n\r\nBecause you are calling the `.child()` method on a `DatabaseReference` object that is null. So most likely you forgot to initialize it. To solve this, please add the following line of code:\r\n\r\n    DatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n\r\nAs a global variable inside the class where you&#39;re having the `addNewUser()` method.","title":"Getting null object reference error while inserting data to Realtime Database","body":"<p>You are getting the following error:</p>\n<blockquote>\n<p>ATAL EXCEPTION: main Process: com.example.movies4u, PID: 4783 java.lang.NullPointerException: Attempt to invoke virtual method 'com.google.firebase.database.DatabaseReference com.google.firebase.database.DatabaseReference.child(java.lang.String)' on a null object reference</p>\n</blockquote>\n<p>Because you are calling the <code>.child()</code> method on a <code>DatabaseReference</code> object that is null. So most likely you forgot to initialize it. To solve this, please add the following line of code:</p>\n<pre><code>DatabaseReference db = FirebaseDatabase.getInstance().getReference();\n</code></pre>\n<p>As a global variable inside the class where you're having the <code>addNewUser()</code> method.</p>\n"}],"owner":{"account_id":26715118,"reputation":21,"user_id":20319818,"display_name":"Nithin reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667035818,"creation_date":1666965979,"question_id":74236566,"body_markdown":"**Problem**\r\n\r\nGetting an error message saying of null object reference:\r\n\r\n**Error**\r\n\r\n&gt; FATAL EXCEPTION: main\r\n                 Process: com.example.movies4u, PID: 4783\r\n                 java.lang.NullPointerException: Attempt to invoke virtual method &#39;com.google.firebase.database.DatabaseReference com.google.firebase.database.DatabaseReference.child(java.lang.String)&#39; on a null object reference\r\n                 \tat com.example.movies4u.activity_register.addNewUser(activity_register.java:242)\r\n                 \tat com.example.movies4u.activity_register.lambda$doRegister$2$com-example-movies4u-activity_register(activity_register.java:141)\r\n                 \tat com.example.movies4u.activity_register$$ExternalSyntheticLambda3.onSuccess(Unknown Source:8)\r\n                 \tat com.google.android.gms.tasks.zzm.run(com.google.android.gms:play-services-tasks@@18.0.1:1)\r\n                 \tat android.os.Handler.handleCallback(Handler.java:873)\r\n                 \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n                 \tat android.os.Looper.loop(Looper.java:224)\r\n                 \tat android.app.ActivityThread.main(ActivityThread.java:7081)\r\n                 \tat java.lang.reflect.Method.invoke(Native Method)\r\n                 \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:604)\r\n                 \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:928)\r\n\r\n**RealtimeDatabase**\r\n\r\n![Text](https://i.ibb.co/TRyCR3S/database.png)\r\n\r\n**javaCode**\r\n\r\n    public void addNewUser(String curr_userId,String email, String username){\r\n            User user=new User(email,username);\r\n            userID=curr_userId;\r\n            if(userID!=null)\r\n            {\r\n                Log.d(TAG, &quot;adding user to database, userid-&quot;+userID+&quot;email-&quot;+email+&quot;username&quot;+username);\r\n    \r\n                myRef.child(activity_register.this.getString(R.string.dbname_users))\r\n                        .child(userID)\r\n                        .setValue(user);\r\n    \r\n                UserAccountSettings settings = new UserAccountSettings(username, username);\r\n                myRef.child(activity_register.this.getString(R.string.dbname_user_account_settings))\r\n                        .child(userID)\r\n                        .setValue(settings);\r\n            }\r\n            else {\r\n                Log.d(TAG, &quot;user is null&quot;);\r\n            }\r\n        }","title":"Getting null object reference error while inserting data to Realtime Database","body":"<p><strong>Problem</strong></p>\n<p>Getting an error message saying of null object reference:</p>\n<p><strong>Error</strong></p>\n<blockquote>\n<p>FATAL EXCEPTION: main\nProcess: com.example.movies4u, PID: 4783\njava.lang.NullPointerException: Attempt to invoke virtual method 'com.google.firebase.database.DatabaseReference com.google.firebase.database.DatabaseReference.child(java.lang.String)' on a null object reference\nat com.example.movies4u.activity_register.addNewUser(activity_register.java:242)\nat com.example.movies4u.activity_register.lambda$doRegister$2$com-example-movies4u-activity_register(activity_register.java:141)\nat com.example.movies4u.activity_register$$ExternalSyntheticLambda3.onSuccess(Unknown Source:8)\nat com.google.android.gms.tasks.zzm.run(com.google.android.gms:play-services-tasks@@18.0.1:1)\nat android.os.Handler.handleCallback(Handler.java:873)\nat android.os.Handler.dispatchMessage(Handler.java:99)\nat android.os.Looper.loop(Looper.java:224)\nat android.app.ActivityThread.main(ActivityThread.java:7081)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:604)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:928)</p>\n</blockquote>\n<p><strong>RealtimeDatabase</strong></p>\n<p><img src=\"https://i.ibb.co/TRyCR3S/database.png\" alt=\"Text\" /></p>\n<p><strong>javaCode</strong></p>\n<pre><code>public void addNewUser(String curr_userId,String email, String username){\n        User user=new User(email,username);\n        userID=curr_userId;\n        if(userID!=null)\n        {\n            Log.d(TAG, &quot;adding user to database, userid-&quot;+userID+&quot;email-&quot;+email+&quot;username&quot;+username);\n\n            myRef.child(activity_register.this.getString(R.string.dbname_users))\n                    .child(userID)\n                    .setValue(user);\n\n            UserAccountSettings settings = new UserAccountSettings(username, username);\n            myRef.child(activity_register.this.getString(R.string.dbname_user_account_settings))\n                    .child(userID)\n                    .setValue(settings);\n        }\n        else {\n            Log.d(TAG, &quot;user is null&quot;);\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":298566,"reputation":537,"user_id":604656,"accept_rate":47,"display_name":"ashish.g"},"score":0,"creation_date":1667020424,"post_id":74242942,"comment_id":131076909,"body_markdown":"How are you testing on the Safari console?","body":"How are you testing on the Safari console?"},{"owner":{"account_id":21449142,"reputation":1,"user_id":15801972,"display_name":"Sophia Okito"},"score":0,"creation_date":1667020590,"post_id":74242942,"comment_id":131076928,"body_markdown":"fetch(&quot;http://localhost:3000/api/v1/userapi/auth/app-status&quot;), I make use of the fetch method. it works fine on postman and swagger.","body":"fetch(&quot;<a href=\"http://localhost:3000/api/v1/userapi/auth/app-status&quot;\" rel=\"nofollow noreferrer\">localhost:3000/api/v1/userapi/auth/app-status&quot;</a>), I make use of the fetch method. it works fine on postman and swagger."},{"owner":{"account_id":298566,"reputation":537,"user_id":604656,"accept_rate":47,"display_name":"ashish.g"},"score":0,"creation_date":1667020831,"post_id":74242942,"comment_id":131076946,"body_markdown":"Effectively you are trying to fetch some content from your API at localhost from within the google.com home page. While that page has CORS restrictions you will not be able to do that and any browser will block you.","body":"Effectively you are trying to fetch some content from your API at localhost from within the google.com home page. While that page has CORS restrictions you will not be able to do that and any browser will block you."},{"owner":{"account_id":21449142,"reputation":1,"user_id":15801972,"display_name":"Sophia Okito"},"score":0,"creation_date":1667023984,"post_id":74242942,"comment_id":131077258,"body_markdown":"Yes, even with the remote server the frontend, using react, is still complaining about having CORS error. He has not been able to consume any API","body":"Yes, even with the remote server the frontend, using react, is still complaining about having CORS error. He has not been able to consume any API"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1667035632,"post_id":74242942,"comment_id":131078859,"body_markdown":"in your first example you have enabled spring cors filter `cors()` and ALSO added a custom corsFilter, why do you need 2 filters for? also where are all your logs? where are your debug logs? where are your browser logs? Please read the spring security CORS chapter before asking on stack overflow","body":"in your first example you have enabled spring cors filter <code>cors()</code> and ALSO added a custom corsFilter, why do you need 2 filters for? also where are all your logs? where are your debug logs? where are your browser logs? Please read the spring security CORS chapter before asking on stack overflow"}],"owner":{"account_id":21449142,"reputation":1,"user_id":15801972,"display_name":"Sophia Okito"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667035551,"creation_date":1667019875,"question_id":74242942,"body_markdown":"My server application built with springboot keeps giving CORS error, I have tried all I can and even downgraded the to java 11 from java 17 but still not working.\r\n\r\nI keep getting this when i try to test with safari console.\r\n\r\n[blocked] The page at https://www.google.com/?client=safari&amp;channel=mac_bm was not allowed to display insecure content from http://localhost:3000/api/v1/userapi/auth/app-status.\r\n\r\nand this\r\n\r\nNot allowed to request resource\r\n\r\nand this \r\n\r\nFetch API cannot load http://localhost:3000/api/v1/userapi/auth/app-status due to access control checks.\r\n\r\nhere is a sample of my web security configuration\r\n\r\n```\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\r\n@RequiredArgsConstructor\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    private final TokenProvider tokenProvider;\r\n\r\n    private final CustomAuthenticationProvider customAuthenticationProvider;\r\n\r\n    private final UserModelDetailsService userModelDetailsService;\r\n    private final MyCORSFilter corsFilter;\r\n    private final JwtAuthenticationEntryPoint authenticationErrorHandler;\r\n    private final JwtAccessDeniedHandler jwtAccessDeniedHandler;\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n    @Override\r\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\r\n        auth.authenticationProvider(new DBAuthenticationProvider(userModelDetailsService));\r\n        auth.authenticationProvider(customAuthenticationProvider);\r\n    }\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) {\r\n        web.ignoring()\r\n                .antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;)\r\n                .antMatchers(&quot;/&quot;, &quot;/*.html&quot;, &quot;/favicon.ico&quot;, &quot;/**/*.html&quot;, &quot;/**/*.css&quot;, &quot;/**/*.js&quot;, &quot;/h2-console/**&quot;);\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity.csrf().disable().cors().configurationSource(corsConfigurationSource()).and()\r\n\r\n                .addFilterBefore(corsFilter, ChannelProcessingFilter.class)\r\n\r\n                .exceptionHandling()\r\n                .authenticationEntryPoint(authenticationErrorHandler)\r\n                .accessDeniedHandler(jwtAccessDeniedHandler)\r\n                .and()\r\n                .headers()\r\n                .frameOptions()\r\n                .sameOrigin()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n\r\n                .and()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/auth/**&quot;).permitAll()\r\n                .antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;).permitAll()\r\n                .antMatchers(&quot;/&quot;, &quot;/*.html&quot;, &quot;/favicon.ico&quot;, &quot;/**/*.html&quot;, &quot;/**/*.css&quot;, &quot;/**/*.js&quot;, &quot;/h2-console/**&quot;).permitAll()\r\n                .antMatchers(&quot;/documentation/**&quot;, &quot;/swagger-resources/**&quot;, &quot;/v3/**&quot;, &quot;/swagger-ui.html&quot;, &quot;/swagger-ui/**&quot;).permitAll()\r\n\r\n                .anyRequest().authenticated()\r\n\r\n                .and()\r\n                .apply(securityConfigurerAdapter());\r\n    }\r\n\r\n    private JWTConfigurer securityConfigurerAdapter() {\r\n        return new JWTConfigurer(tokenProvider);\r\n    }\r\n\r\n    @Override\r\n    @Bean\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n    @Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.addAllowedOrigin(&quot;*&quot;);\r\n        configuration.addAllowedHeader(&quot;*&quot;);\r\n        configuration.addAllowedMethod(&quot;*&quot;);\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n\r\n```\r\n\r\nand also i tried using custom filter, still did not work.\r\n\r\n\r\n```\r\n@Component\r\n@Order(Ordered.HIGHEST_PRECEDENCE)\r\npublic class MyCORSFilter implements Filter {\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws ServletException, IOException {\r\n        HttpServletRequest request = (HttpServletRequest) req;\r\n        HttpServletResponse response = (HttpServletResponse) res;\r\n\r\n        System.out.println(&quot;i am here 000&quot;);\r\n        response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n        response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n        response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS, DELETE, PATCH, PUT, HEAD&quot;);\r\n        response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\r\n        response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;);\r\n\r\n        if (&quot;OPTIONS&quot;.equals(request.getMethod())) {\r\n            response.setStatus(HttpServletResponse.SC_OK);\r\n        } else {\r\n            chain.doFilter(req, res);\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void init(FilterConfig filterConfig) {\r\n    }\r\n\r\n    @Override\r\n    public void destroy() {\r\n    }\r\n```\r\n","title":"Why do I keep Getting CORS Error in Springboot Application After Enabling CORS?","body":"<p>My server application built with springboot keeps giving CORS error, I have tried all I can and even downgraded the to java 11 from java 17 but still not working.</p>\n<p>I keep getting this when i try to test with safari console.</p>\n<p>[blocked] The page at <a href=\"https://www.google.com/?client=safari&amp;channel=mac_bm\" rel=\"nofollow noreferrer\">https://www.google.com/?client=safari&amp;channel=mac_bm</a> was not allowed to display insecure content from http://localhost:3000/api/v1/userapi/auth/app-status.</p>\n<p>and this</p>\n<p>Not allowed to request resource</p>\n<p>and this</p>\n<p>Fetch API cannot load http://localhost:3000/api/v1/userapi/auth/app-status due to access control checks.</p>\n<p>here is a sample of my web security configuration</p>\n<pre><code>@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\n@RequiredArgsConstructor\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private final TokenProvider tokenProvider;\n\n    private final CustomAuthenticationProvider customAuthenticationProvider;\n\n    private final UserModelDetailsService userModelDetailsService;\n    private final MyCORSFilter corsFilter;\n    private final JwtAuthenticationEntryPoint authenticationErrorHandler;\n    private final JwtAccessDeniedHandler jwtAccessDeniedHandler;\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n    @Override\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n\n        auth.authenticationProvider(new DBAuthenticationProvider(userModelDetailsService));\n        auth.authenticationProvider(customAuthenticationProvider);\n    }\n\n    @Override\n    public void configure(WebSecurity web) {\n        web.ignoring()\n                .antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;)\n                .antMatchers(&quot;/&quot;, &quot;/*.html&quot;, &quot;/favicon.ico&quot;, &quot;/**/*.html&quot;, &quot;/**/*.css&quot;, &quot;/**/*.js&quot;, &quot;/h2-console/**&quot;);\n    }\n\n\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity.csrf().disable().cors().configurationSource(corsConfigurationSource()).and()\n\n                .addFilterBefore(corsFilter, ChannelProcessingFilter.class)\n\n                .exceptionHandling()\n                .authenticationEntryPoint(authenticationErrorHandler)\n                .accessDeniedHandler(jwtAccessDeniedHandler)\n                .and()\n                .headers()\n                .frameOptions()\n                .sameOrigin()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n\n                .and()\n                .authorizeRequests()\n                .antMatchers(&quot;/auth/**&quot;).permitAll()\n                .antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;).permitAll()\n                .antMatchers(&quot;/&quot;, &quot;/*.html&quot;, &quot;/favicon.ico&quot;, &quot;/**/*.html&quot;, &quot;/**/*.css&quot;, &quot;/**/*.js&quot;, &quot;/h2-console/**&quot;).permitAll()\n                .antMatchers(&quot;/documentation/**&quot;, &quot;/swagger-resources/**&quot;, &quot;/v3/**&quot;, &quot;/swagger-ui.html&quot;, &quot;/swagger-ui/**&quot;).permitAll()\n\n                .anyRequest().authenticated()\n\n                .and()\n                .apply(securityConfigurerAdapter());\n    }\n\n    private JWTConfigurer securityConfigurerAdapter() {\n        return new JWTConfigurer(tokenProvider);\n    }\n\n    @Override\n    @Bean\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.addAllowedOrigin(&quot;*&quot;);\n        configuration.addAllowedHeader(&quot;*&quot;);\n        configuration.addAllowedMethod(&quot;*&quot;);\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n\n</code></pre>\n<p>and also i tried using custom filter, still did not work.</p>\n<pre><code>@Component\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class MyCORSFilter implements Filter {\n\n    @Override\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws ServletException, IOException {\n        HttpServletRequest request = (HttpServletRequest) req;\n        HttpServletResponse response = (HttpServletResponse) res;\n\n        System.out.println(&quot;i am here 000&quot;);\n        response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n        response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n        response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS, DELETE, PATCH, PUT, HEAD&quot;);\n        response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\n        response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;);\n\n        if (&quot;OPTIONS&quot;.equals(request.getMethod())) {\n            response.setStatus(HttpServletResponse.SC_OK);\n        } else {\n            chain.doFilter(req, res);\n        }\n\n    }\n\n    @Override\n    public void init(FilterConfig filterConfig) {\n    }\n\n    @Override\n    public void destroy() {\n    }\n</code></pre>\n"},{"tags":["java","static"],"comments":[{"owner":{"account_id":13655237,"reputation":1007,"user_id":9851955,"display_name":"arminvanbuuren"},"score":2,"creation_date":1536655395,"post_id":936684,"comment_id":91491124,"body_markdown":"`try{ throw new RuntimeEsception();} catch(RuntimeEcxeption e){return e.getstackTrace()[1].getClassName();`}","body":"<code>try{ throw new RuntimeEsception();} catch(RuntimeEcxeption e){return e.getstackTrace()[1].getClassName();</code>}"}],"answers":[{"comments":[{"owner":{"account_id":1092,"reputation":113958,"user_id":1450,"accept_rate":96,"display_name":"John Topley"},"score":153,"creation_date":1243889141,"post_id":936696,"comment_id":744780,"body_markdown":"If you&#39;re going to hard-code in knowledge of MyClass like that, then you might as well just do String name = &quot;MyClass&quot;; !","body":"If you&#39;re going to hard-code in knowledge of MyClass like that, then you might as well just do String name = &quot;MyClass&quot;; !"},{"owner":{"account_id":15190,"reputation":5491,"user_id":31828,"display_name":"James Van Huis"},"score":120,"creation_date":1243889306,"post_id":936696,"comment_id":744792,"body_markdown":"But then, refactoring the class name in your IDE will not work properly.","body":"But then, refactoring the class name in your IDE will not work properly."},{"owner":{"account_id":2379,"reputation":49909,"user_id":3295,"accept_rate":62,"display_name":"toolkit"},"score":10,"creation_date":1243889416,"post_id":936696,"comment_id":744799,"body_markdown":"True. Although MyClass.class will ensure this line doesn&#39;t get forgotten with a &#39;change class name&#39; refactoring","body":"True. Although MyClass.class will ensure this line doesn&#39;t get forgotten with a &#39;change class name&#39; refactoring"},{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":23,"creation_date":1243917673,"post_id":936696,"comment_id":746043,"body_markdown":"I *wish* &quot;this&quot; worked in a static context to mean the current Class in Java, that that &quot;class.xxx&quot; was allowed in either instance or static code to mean this class! The problem with this is that MyClass is verbose and redundant, in the context. But then as much as I like Java it does seem to lean towards verbosity.","body":"I <i>wish</i> &quot;this&quot; worked in a static context to mean the current Class in Java, that that &quot;class.xxx&quot; was allowed in either instance or static code to mean this class! The problem with this is that MyClass is verbose and redundant, in the context. But then as much as I like Java it does seem to lean towards verbosity."},{"owner":{"account_id":135551,"reputation":10101,"user_id":338479,"accept_rate":80,"display_name":"Edward Falk"},"score":57,"creation_date":1351266565,"post_id":936696,"comment_id":17787250,"body_markdown":"What if I&#39;m calling the static method in a subclass, and I want the subclass name?","body":"What if I&#39;m calling the static method in a subclass, and I want the subclass name?"},{"owner":{"account_id":44511,"reputation":1604,"user_id":130691,"accept_rate":100,"display_name":"JMTyler"},"score":5,"creation_date":1365459905,"post_id":936696,"comment_id":22625696,"body_markdown":"@EdwardFalk That&#39;s exactly what I came here for too!  Very sad it wasn&#39;t even addressed in the least.","body":"@EdwardFalk That&#39;s exactly what I came here for too!  Very sad it wasn&#39;t even addressed in the least."},{"owner":{"account_id":135551,"reputation":10101,"user_id":338479,"accept_rate":80,"display_name":"Edward Falk"},"score":3,"creation_date":1365464987,"post_id":936696,"comment_id":22627102,"body_markdown":"Unfortunately, it seems to not be do-able. In essence, static methods aren&#39;t aware of the class hierarchy.","body":"Unfortunately, it seems to not be do-able. In essence, static methods aren&#39;t aware of the class hierarchy."},{"owner":{"account_id":420494,"reputation":1386,"user_id":798223,"display_name":"GKFX"},"score":0,"creation_date":1405784117,"post_id":936696,"comment_id":38571623,"body_markdown":"@John This is very useful if you think you might change the package name, though. It will handle that sort of change (but nothing else).","body":"@John This is very useful if you think you might change the package name, though. It will handle that sort of change (but nothing else)."},{"owner":{"account_id":2229408,"reputation":865,"user_id":1967402,"accept_rate":33,"display_name":"Micha&#235;l Benjamin Saerens"},"score":0,"creation_date":1429272351,"post_id":936696,"comment_id":47533272,"body_markdown":"@EdwardFalk: Static methods are class level methods. It&#39;s your responsibility as a developer to keep that in mind.","body":"@EdwardFalk: Static methods are class level methods. It&#39;s your responsibility as a developer to keep that in mind."},{"owner":{"account_id":3794269,"reputation":1346,"user_id":3149905,"accept_rate":80,"display_name":"BobDoolittle"},"score":0,"creation_date":1455051861,"post_id":936696,"comment_id":58314543,"body_markdown":"This does not seem to work if you are using generics. I can&#39;t say MyClass&lt;T&gt;.class.getName() for example.","body":"This does not seem to work if you are using generics. I can&#39;t say MyClass&lt;T&gt;.class.getName() for example."},{"owner":{"account_id":47518,"reputation":21228,"user_id":140803,"accept_rate":78,"display_name":"Blessed Geek"},"score":0,"creation_date":1530693004,"post_id":936696,"comment_id":89321064,"body_markdown":"Your simplicity does not allow an abstract routebuilder class in apache camel that &quot;encapsulates&quot; a static method getRouteId(){ return &quot;direct:&quot;+classname; }.","body":"Your simplicity does not allow an abstract routebuilder class in apache camel that &quot;encapsulates&quot; a static method getRouteId(){ return &quot;direct:&quot;+classname; }."},{"owner":{"account_id":4429709,"reputation":355,"user_id":3607125,"display_name":"entreprenr"},"score":2,"creation_date":1589445498,"post_id":936696,"comment_id":109298768,"body_markdown":"In PHP you can use &quot;self&quot; (instead of &quot;this&quot;) in a static method. I wish Java had the same.","body":"In PHP you can use &quot;self&quot; (instead of &quot;this&quot;) in a static method. I wish Java had the same."}],"tags":[],"owner":{"account_id":2379,"reputation":49909,"user_id":3295,"accept_rate":62,"display_name":"toolkit"},"comment_count":12,"down_vote_count":14,"up_vote_count":272,"is_accepted":true,"score":258,"last_activity_date":1393674395,"creation_date":1243889042,"answer_id":936696,"question_id":936684,"body_markdown":"In order to support refactoring correctly (rename class), then you should use either:\r\n\r\n     MyClass.class.getName(); // full name with package\r\n\r\nor (thanks to [@James Van Huis][1]):\r\n\r\n     MyClass.class.getSimpleName(); // class name and no more\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/936684/getting-the-class-name-from-a-static-method-in-java/936715#936715","title":"Getting the class name from a static method in Java","body":"<p>In order to support refactoring correctly (rename class), then you should use either:</p>\n\n<pre><code> MyClass.class.getName(); // full name with package\n</code></pre>\n\n<p>or (thanks to <a href=\"https://stackoverflow.com/questions/936684/getting-the-class-name-from-a-static-method-in-java/936715#936715\">@James Van Huis</a>):</p>\n\n<pre><code> MyClass.class.getSimpleName(); // class name and no more\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15190,"reputation":5491,"user_id":31828,"display_name":"James Van Huis"},"comment_count":0,"down_vote_count":3,"up_vote_count":12,"is_accepted":false,"score":9,"last_activity_date":1243889270,"creation_date":1243889270,"answer_id":936715,"question_id":936684,"body_markdown":"If you want the entire package name with it, call:\r\n\r\n    String name = MyClass.class.getCanonicalName();\r\n\r\nIf you only want the last element, call:\r\n\r\n    String name = MyClass.class.getSimpleName();\r\n\r\n","title":"Getting the class name from a static method in Java","body":"<p>If you want the entire package name with it, call:</p>\n\n<pre><code>String name = MyClass.class.getCanonicalName();\n</code></pre>\n\n<p>If you only want the last element, call:</p>\n\n<pre><code>String name = MyClass.class.getSimpleName();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12306,"reputation":4262,"user_id":24165,"accept_rate":44,"display_name":"Luis Soeiro"},"score":7,"creation_date":1347489246,"post_id":936724,"comment_id":16658165,"body_markdown":"If the class extends another one, this doesn&#39;t return the actual class, only the base class.","body":"If the class extends another one, this doesn&#39;t return the actual class, only the base class."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":1,"creation_date":1347495518,"post_id":936724,"comment_id":16659463,"body_markdown":"@LuisSoeiro I believe it returns the class that the method is defined in. I&#39;m not sure how the base class factors into the static context.","body":"@LuisSoeiro I believe it returns the class that the method is defined in. I&#39;m not sure how the base class factors into the static context."},{"owner":{"account_id":2303833,"reputation":843,"user_id":2023533,"accept_rate":57,"display_name":"mmirwaldt"},"score":8,"creation_date":1376473960,"post_id":936724,"comment_id":26722422,"body_markdown":"I do not understand why getClass() cannot be static.\nThis &quot;idiom&quot; would then not be needed.","body":"I do not understand why getClass() cannot be static. This &quot;idiom&quot; would then not be needed."},{"owner":{"account_id":361030,"reputation":3779,"user_id":703382,"accept_rate":92,"display_name":"Navin"},"score":0,"creation_date":1383446417,"post_id":936724,"comment_id":29347195,"body_markdown":"@mmirwaldt &quot;idiom&quot;? Well, I suppose there are methods to this madness :-/","body":"@mmirwaldt &quot;idiom&quot;? Well, I suppose there are methods to this madness :-/"},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":1,"creation_date":1383483243,"post_id":936724,"comment_id":29353414,"body_markdown":"@mmirwaldt `getClass` returns the runtime type, so can&#39;t be static.","body":"@mmirwaldt <code>getClass</code> returns the runtime type, so can&#39;t be static."},{"owner":{"account_id":1646356,"reputation":1194,"user_id":1517842,"display_name":"PFROLIM"},"score":2,"creation_date":1408654810,"post_id":936724,"comment_id":39684107,"body_markdown":"If I got what @LuisSoeiro meant, this method only works if called from the class that defines it. Polymorphism will break. A subclass calling this same method will not obtain its own name, only parent name. Oh, that &quot;new Throwable().getStackTrace()[0].getClassName()&quot; method is nice and I would rather use it, BUT it will fail as well when used by a subclass.","body":"If I got what @LuisSoeiro meant, this method only works if called from the class that defines it. Polymorphism will break. A subclass calling this same method will not obtain its own name, only parent name. Oh, that &quot;new Throwable().getStackTrace()[0].getClassName()&quot; method is nice and I would rather use it, BUT it will fail as well when used by a subclass."},{"owner":{"account_id":408627,"reputation":22880,"user_id":779408,"accept_rate":70,"display_name":"Bob"},"score":5,"creation_date":1420271986,"post_id":936724,"comment_id":43916701,"body_markdown":"This is the real answer. Because you do not need to write the name of your class in your code yourself.","body":"This is the real answer. Because you do not need to write the name of your class in your code yourself."},{"owner":{"account_id":211203,"reputation":4578,"user_id":463225,"accept_rate":67,"display_name":"WattsInABox"},"score":0,"creation_date":1544542586,"post_id":936724,"comment_id":94308443,"body_markdown":"Why would you answer with &quot;do not do anything like this&quot;? This belongs in a comment not in an answer...","body":"Why would you answer with &quot;do not do anything like this&quot;? This belongs in a comment not in an answer..."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1544545522,"post_id":936724,"comment_id":94310318,"body_markdown":"@WattsInABox I think that&#39;s a highly irresponsible attitude.","body":"@WattsInABox I think that&#39;s a highly irresponsible attitude."},{"owner":{"account_id":211203,"reputation":4578,"user_id":463225,"accept_rate":67,"display_name":"WattsInABox"},"score":0,"creation_date":1544545691,"post_id":936724,"comment_id":94310431,"body_markdown":"You didn’t answer the question, you explicitly answered what not to do. I guess you could link directly to the right answer instead of referencing a username... I disagree that I’m being “irresponsible”. I’m trying to be responsible to make sure answers are as high-quality as possible.","body":"You didn’t answer the question, you explicitly answered what not to do. I guess you could link directly to the right answer instead of referencing a username... I disagree that I’m being “irresponsible”. I’m trying to be responsible to make sure answers are as high-quality as possible."}],"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"comment_count":10,"down_vote_count":4,"up_vote_count":126,"is_accepted":false,"score":122,"last_activity_date":1654874324,"creation_date":1243889418,"answer_id":936724,"question_id":936684,"body_markdown":"Do what @toolkit says. Do not do anything like this:\r\n\r\n    return new Object() { }.getClass().getEnclosingClass();\r\n\r\n(**Edit:** Or if you are using a Java version that came out well after this answer was originally written, use @Rein&#39;s answer.)","title":"Getting the class name from a static method in Java","body":"<p>Do what @toolkit says. Do not do anything like this:</p>\n<pre><code>return new Object() { }.getClass().getEnclosingClass();\n</code></pre>\n<p>(<strong>Edit:</strong> Or if you are using a Java version that came out well after this answer was originally written, use @Rein's answer.)</p>\n"},{"tags":[],"owner":{"account_id":8569,"reputation":12752,"user_id":15514,"accept_rate":95,"display_name":"Christoffer"},"comment_count":0,"down_vote_count":2,"up_vote_count":16,"is_accepted":false,"score":14,"last_activity_date":1243890228,"creation_date":1243890228,"answer_id":936776,"question_id":936684,"body_markdown":"Abuse the SecurityManager\r\n\r\n    System.getSecurityManager().getClassContext()[0].getName();\r\n\r\nOr, if not set, use an inner class that extends it (example below shamefully copied from &lt;a href=&quot;http://www.rgagnon.com/javadetails/java-0402.html&quot;&gt;Real&#39;s HowTo&lt;/a&gt;):\r\n\r\n    public static class CurrentClassGetter extends SecurityManager {\r\n        public String getClassName() {\r\n            return getClassContext()[1].getName(); \r\n        }\r\n    }\r\n","title":"Getting the class name from a static method in Java","body":"<p>Abuse the SecurityManager</p>\n\n<pre><code>System.getSecurityManager().getClassContext()[0].getName();\n</code></pre>\n\n<p>Or, if not set, use an inner class that extends it (example below shamefully copied from <a href=\"http://www.rgagnon.com/javadetails/java-0402.html\" rel=\"noreferrer\">Real's HowTo</a>):</p>\n\n<pre><code>public static class CurrentClassGetter extends SecurityManager {\n    public String getClassName() {\n        return getClassContext()[1].getName(); \n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":260075,"reputation":2033,"user_id":543426,"display_name":"4F2E4A2E"},"score":0,"creation_date":1387316813,"post_id":1577359,"comment_id":30905721,"body_markdown":"Create your own exception class so the jvm wont bother: http://jhocr.googlecode.com/svn/trunk/src/main/java/com/googlecode/jhocr/util/LoggUtilException.java","body":"Create your own exception class so the jvm wont bother: <a href=\"http://jhocr.googlecode.com/svn/trunk/src/main/java/com/googlecode/jhocr/util/LoggUtilException.java\" rel=\"nofollow noreferrer\">jhocr.googlecode.com/svn/trunk/src/main/java/com/googlecode/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":274644,"reputation":1669,"user_id":567000,"accept_rate":50,"display_name":"S&#248;ren Boisen"},"score":1,"creation_date":1433015880,"post_id":1577359,"comment_id":49173503,"body_markdown":"If you are going to suggest something as awful as this solution, please at least relate your pros to the natural solution of using MyClass.class.getName(), instead of another horrible solution like abusing the SecurityManager.","body":"If you are going to suggest something as awful as this solution, please at least relate your pros to the natural solution of using MyClass.class.getName(), instead of another horrible solution like abusing the SecurityManager."},{"owner":{"account_id":9348686,"reputation":764,"user_id":6944068,"accept_rate":100,"display_name":"toolforger"},"score":0,"creation_date":1511872666,"post_id":1577359,"comment_id":82019988,"body_markdown":"More cons: too verbose; slow (this is actually a minor point because it runs only once, when the class is loaded).","body":"More cons: too verbose; slow (this is actually a minor point because it runs only once, when the class is loaded)."}],"tags":[],"owner":{"account_id":563306,"reputation":227,"user_id":191141,"display_name":"count ludwig"},"comment_count":3,"down_vote_count":2,"up_vote_count":23,"is_accepted":false,"score":21,"last_activity_date":1310715306,"creation_date":1255689687,"answer_id":1577359,"question_id":936684,"body_markdown":"I use this to init the Log4j Logger at the top of my classes (or annotate).\r\n\r\nPRO: Throwable is already loaded and you might save resources by not using the &quot;IO heavy&quot; SecurityManager.\r\n\r\nCON: Some question as to whether this will work for all JVMs. \r\n\r\n    // Log4j . Logger --- Get class name in static context by creating an anonymous Throwable and \r\n    // getting the top of its stack-trace. \r\n    // NOTE you must use: getClassName() because getClass() just returns StackTraceElement.class \r\n    static final Logger logger = Logger.getLogger(new Throwable() .getStackTrace()[0].getClassName()); ","title":"Getting the class name from a static method in Java","body":"<p>I use this to init the Log4j Logger at the top of my classes (or annotate).</p>\n\n<p>PRO: Throwable is already loaded and you might save resources by not using the \"IO heavy\" SecurityManager.</p>\n\n<p>CON: Some question as to whether this will work for all JVMs. </p>\n\n<pre><code>// Log4j . Logger --- Get class name in static context by creating an anonymous Throwable and \n// getting the top of its stack-trace. \n// NOTE you must use: getClassName() because getClass() just returns StackTraceElement.class \nstatic final Logger logger = Logger.getLogger(new Throwable() .getStackTrace()[0].getClassName()); \n</code></pre>\n"},{"comments":[{"owner":{"account_id":135067,"reputation":9676,"user_id":337621,"accept_rate":70,"display_name":"G&#225;bor Lipt&#225;k"},"score":5,"creation_date":1352725977,"post_id":2971457,"comment_id":18210518,"body_markdown":"Take care, that it can be really slow. However you can copy paste it.","body":"Take care, that it can be really slow. However you can copy paste it."},{"owner":{"account_id":439169,"reputation":34683,"user_id":827927,"accept_rate":74,"display_name":"Erel Segal-Halevi"},"score":1,"creation_date":1357044364,"post_id":2971457,"comment_id":19525768,"body_markdown":"This has the added benefit of not having to create an Object or a Thread each time you use it.","body":"This has the added benefit of not having to create an Object or a Thread each time you use it."},{"owner":{"account_id":361030,"reputation":3779,"user_id":703382,"accept_rate":92,"display_name":"Navin"},"score":5,"creation_date":1383446637,"post_id":2971457,"comment_id":29347224,"body_markdown":"@ErelSegalHalevi It creates a whole lot of [StackTraceElement](http://docs.oracle.com/javase/7/docs/api/java/lang/StackTraceElement.html)s in the background though :(","body":"@ErelSegalHalevi It creates a whole lot of <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/StackTraceElement.html\" rel=\"nofollow noreferrer\">StackTraceElement</a>s in the background though :("},{"owner":{"account_id":299080,"reputation":2136,"user_id":605471,"accept_rate":100,"display_name":"T-Bull"},"score":4,"creation_date":1384609445,"post_id":2971457,"comment_id":29810058,"body_markdown":"If you look at the source code of `Thread.getStackTrace()` you&#39;ll see that it does nothing else than `return (new Exception()).getStackTrace();` in the case of being called on the `currentThread()`. So the solution of @count ludwig is the more direct way to achieve the same.","body":"If you look at the source code of <code>Thread.getStackTrace()</code> you&#39;ll see that it does nothing else than <code>return (new Exception()).getStackTrace();</code> in the case of being called on the <code>currentThread()</code>. So the solution of @count ludwig is the more direct way to achieve the same."}],"tags":[],"owner":{"account_id":619306,"reputation":447,"user_id":358108,"display_name":"Keksi"},"comment_count":4,"down_vote_count":2,"up_vote_count":45,"is_accepted":false,"score":43,"last_activity_date":1310720357,"creation_date":1275624542,"answer_id":2971457,"question_id":936684,"body_markdown":"This instruction works fine:\r\n\r\n    Thread.currentThread().getStackTrace()[1].getClassName();\r\n","title":"Getting the class name from a static method in Java","body":"<p>This instruction works fine:</p>\n\n<pre><code>Thread.currentThread().getStackTrace()[1].getClassName();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":308177,"reputation":1911,"user_id":619895,"accept_rate":85,"display_name":"ggb667"},"score":0,"creation_date":1396557543,"post_id":6962779,"comment_id":34854936,"body_markdown":"Why is this not built in?","body":"Why is this not built in?"},{"owner":{"account_id":1283282,"reputation":771,"user_id":1236865,"display_name":"Renate"},"score":0,"creation_date":1417264597,"post_id":6962779,"comment_id":42887701,"body_markdown":"Clever, and I appreciate the humor. The fly in the ointment is that the default name of the C function `Java_MyObject_getClassName` has the name embedded. The way around that is to use the JNI `RegisterNatives`. Of course you&#39;d have to feed that with the JNI `FindClass(env, &#39;com/example/MyObject&#39;)`, so no win there either.","body":"Clever, and I appreciate the humor. The fly in the ointment is that the default name of the C function <code>Java_MyObject_getClassName</code> has the name embedded. The way around that is to use the JNI <code>RegisterNatives</code>. Of course you&#39;d have to feed that with the JNI <code>FindClass(env, &#39;com&#47;example&#47;MyObject&#39;)</code>, so no win there either."},{"owner":{"account_id":1532534,"reputation":6611,"user_id":1429390,"accept_rate":70,"display_name":"St&#233;phane Gourichon"},"score":2,"creation_date":1465483589,"post_id":6962779,"comment_id":62929702,"body_markdown":"@Renate, so this whole answer is actually a joke? If so, please make it very explicit because you know, we are supposed to help other people, so let&#39;s not push innocents into traps.","body":"@Renate, so this whole answer is actually a joke? If so, please make it very explicit because you know, we are supposed to help other people, so let&#39;s not push innocents into traps."},{"owner":{"account_id":1283282,"reputation":771,"user_id":1236865,"display_name":"Renate"},"score":0,"creation_date":1467286257,"post_id":6962779,"comment_id":63675279,"body_markdown":"Well, it wasn&#39;t my joke and I pointed out that it was a joke. The use case for this scenario is usually for identify the class in logs. Stripping away all the complexity, it usually boils down to doing either: `private static final String TAG = &quot;MyClass&quot;` or `private static final String TAG = MyClass.class.getSimpleName();` The second is more friendly for global class renaming using an IDE.","body":"Well, it wasn&#39;t my joke and I pointed out that it was a joke. The use case for this scenario is usually for identify the class in logs. Stripping away all the complexity, it usually boils down to doing either: <code>private static final String TAG = &quot;MyClass&quot;</code> or <code>private static final String TAG = MyClass.class.getSimpleName();</code> The second is more friendly for global class renaming using an IDE."}],"tags":[],"owner":{"account_id":791966,"reputation":678,"user_id":1152982,"display_name":"lifelongcoug"},"comment_count":4,"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1312579249,"creation_date":1312579249,"answer_id":6962779,"question_id":936684,"body_markdown":"You could do something really sweet by using JNI like this:\r\n\r\nMyObject.java:\r\n\r\n    public class MyObject\r\n    {\r\n        static\r\n        {\r\n            System.loadLibrary( &quot;classname&quot; );\r\n        }\r\n\r\n        public static native String getClassName();\r\n\r\n        public static void main( String[] args )\r\n        {\r\n            System.out.println( getClassName() );\r\n        }\r\n    }\r\n\r\nthen:\r\n\r\n    javac MyObject.java\r\n    javah -jni MyObject\r\n\r\nthen:\r\n\r\nMyObject.c:\r\n\r\n    #include &quot;MyObject.h&quot;\r\n\r\n    JNIEXPORT jstring JNICALL Java_MyObject_getClassName( JNIEnv *env, jclass cls )\r\n    {\r\n        jclass javaLangClass = (*env)-&gt;FindClass( env, &quot;java/lang/Class&quot; );\r\n        jmethodID getName = (*env)-&gt;GetMethodID( env, javaLangClass, &quot;getName&quot;,\r\n            &quot;()Ljava/lang/String;&quot; );\r\n        return (*env)-&gt;CallObjectMethod( env, cls, getName );\r\n    }\r\n\r\nThen compile the C up into a shared library called `libclassname.so` and run the java!\r\n\r\n*chuckle","title":"Getting the class name from a static method in Java","body":"<p>You could do something really sweet by using JNI like this:</p>\n\n<p>MyObject.java:</p>\n\n<pre><code>public class MyObject\n{\n    static\n    {\n        System.loadLibrary( \"classname\" );\n    }\n\n    public static native String getClassName();\n\n    public static void main( String[] args )\n    {\n        System.out.println( getClassName() );\n    }\n}\n</code></pre>\n\n<p>then:</p>\n\n<pre><code>javac MyObject.java\njavah -jni MyObject\n</code></pre>\n\n<p>then:</p>\n\n<p>MyObject.c:</p>\n\n<pre><code>#include \"MyObject.h\"\n\nJNIEXPORT jstring JNICALL Java_MyObject_getClassName( JNIEnv *env, jclass cls )\n{\n    jclass javaLangClass = (*env)-&gt;FindClass( env, \"java/lang/Class\" );\n    jmethodID getName = (*env)-&gt;GetMethodID( env, javaLangClass, \"getName\",\n        \"()Ljava/lang/String;\" );\n    return (*env)-&gt;CallObjectMethod( env, cls, getName );\n}\n</code></pre>\n\n<p>Then compile the C up into a shared library called <code>libclassname.so</code> and run the java!</p>\n\n<p>*chuckle</p>\n"},{"tags":[],"owner":{"account_id":945079,"reputation":2425,"user_id":972463,"display_name":"Sergey Ushakov"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1372650192,"creation_date":1372650192,"answer_id":17397143,"question_id":936684,"body_markdown":"Verbatim use of caller&#39;s class like `MyClass.class.getName()` actually does the job, but is prone to copy/paste errors if you propagate this code to numerous classes/subclasses where you need this class name.\r\n\r\nAnd [Tom Hawtin&#39;s recipe](https://stackoverflow.com/a/936724/972463) is in fact not bad, one just needs to cook it the right way :)\r\n\r\nIn case you have a base class with a static method that may be called from subclasses, and this static method needs to know the actual caller&#39;s class, this may be achieved like the following:\r\n\r\n    class BaseClass {\r\n      static sharedStaticMethod (String callerClassName, Object... otherArgs) {\r\n        useCallerClassNameAsYouWish (callerClassName);\r\n        // and direct use of &#39;new Object() { }.getClass().getEnclosingClass().getName()&#39;\r\n        // instead of &#39;callerClassName&#39; is not going to help here,\r\n        // as it returns &quot;BaseClass&quot;\r\n      }\r\n    }\r\n\r\n    class SubClass1 extends BaseClass {\r\n      static someSubclassStaticMethod () {\r\n        // this call of the shared method is prone to copy/paste errors\r\n        sharedStaticMethod (SubClass1.class.getName(),\r\n                            other_arguments);\r\n        // and this call is safe to copy/paste\r\n        sharedStaticMethod (new Object() { }.getClass().getEnclosingClass().getName(),\r\n                            other_arguments);\r\n      }\r\n    }\r\n","title":"Getting the class name from a static method in Java","body":"<p>Verbatim use of caller's class like <code>MyClass.class.getName()</code> actually does the job, but is prone to copy/paste errors if you propagate this code to numerous classes/subclasses where you need this class name.</p>\n\n<p>And <a href=\"https://stackoverflow.com/a/936724/972463\">Tom Hawtin's recipe</a> is in fact not bad, one just needs to cook it the right way :)</p>\n\n<p>In case you have a base class with a static method that may be called from subclasses, and this static method needs to know the actual caller's class, this may be achieved like the following:</p>\n\n<pre><code>class BaseClass {\n  static sharedStaticMethod (String callerClassName, Object... otherArgs) {\n    useCallerClassNameAsYouWish (callerClassName);\n    // and direct use of 'new Object() { }.getClass().getEnclosingClass().getName()'\n    // instead of 'callerClassName' is not going to help here,\n    // as it returns \"BaseClass\"\n  }\n}\n\nclass SubClass1 extends BaseClass {\n  static someSubclassStaticMethod () {\n    // this call of the shared method is prone to copy/paste errors\n    sharedStaticMethod (SubClass1.class.getName(),\n                        other_arguments);\n    // and this call is safe to copy/paste\n    sharedStaticMethod (new Object() { }.getClass().getEnclosingClass().getName(),\n                        other_arguments);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1320533,"reputation":427,"user_id":1266464,"accept_rate":71,"display_name":"avalori"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1392215112,"creation_date":1392215112,"answer_id":21730670,"question_id":936684,"body_markdown":"A refactoring-safe, cut&amp;paste-safe solution that avoids the definition of ad-hoc classes below.\r\n\r\nWrite a static method that recover the class name having care to include the class name in the method name:\r\n\r\n    private static String getMyClassName(){\r\n\t  return MyClass.class.getName();\r\n    }\r\n\r\nthen recall it in your static method:\r\n\r\n    public static void myMethod(){\r\n      Tracer.debug(getMyClassName(), &quot;message&quot;);\r\n    }\r\n\r\n\r\nRefactoring safety is given by avoiding the use of strings, cut&amp;paste safety is granted because if you cut&amp;paste the caller method you won&#39;t find the getMyClassName() in the target &quot;MyClass2&quot; class, so you will be forced to redefine and update it.","title":"Getting the class name from a static method in Java","body":"<p>A refactoring-safe, cut&amp;paste-safe solution that avoids the definition of ad-hoc classes below.</p>\n\n<p>Write a static method that recover the class name having care to include the class name in the method name:</p>\n\n<pre><code>private static String getMyClassName(){\n  return MyClass.class.getName();\n}\n</code></pre>\n\n<p>then recall it in your static method:</p>\n\n<pre><code>public static void myMethod(){\n  Tracer.debug(getMyClassName(), \"message\");\n}\n</code></pre>\n\n<p>Refactoring safety is given by avoiding the use of strings, cut&amp;paste safety is granted because if you cut&amp;paste the caller method you won't find the getMyClassName() in the target \"MyClass2\" class, so you will be forced to redefine and update it.</p>\n"},{"comments":[{"owner":{"account_id":3394977,"reputation":678,"user_id":2848844,"accept_rate":76,"display_name":"Shotgun"},"score":1,"creation_date":1433943798,"post_id":29276022,"comment_id":49569363,"body_markdown":"Not only is it bad to use this because of the magic number 2(that could easily result in a NullPointerException), but you are heavily relying on the accuracy of the virtual machine. From the method&#39;s javadoc :     * Some virtual machines may, under some circumstances, omit one or more stack frames from the stack trace. In the extreme case, a virtual machine that has no stack trace information concerning this thread is permitted to return a zero-length array from this method. *","body":"Not only is it bad to use this because of the magic number 2(that could easily result in a NullPointerException), but you are heavily relying on the accuracy of the virtual machine. From the method&#39;s javadoc :     * Some virtual machines may, under some circumstances, omit one or more stack frames from the stack trace. In the extreme case, a virtual machine that has no stack trace information concerning this thread is permitted to return a zero-length array from this method. *"}],"tags":[],"owner":{"account_id":6003397,"reputation":11,"user_id":4715997,"display_name":"phaderer"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1427365307,"creation_date":1427365307,"answer_id":29276022,"question_id":936684,"body_markdown":"I needed the class name in the static methods of multiple classes so I implemented a JavaUtil Class with the following method :\r\n\r\n\r\n    public static String getClassName() {\r\n        String className = Thread.currentThread().getStackTrace()[2].getClassName();\r\n        int lastIndex = className.lastIndexOf(&#39;.&#39;);\r\n        return className.substring(lastIndex + 1);\r\n    }\r\n\r\nHope it will help !","title":"Getting the class name from a static method in Java","body":"<p>I needed the class name in the static methods of multiple classes so I implemented a JavaUtil Class with the following method :</p>\n\n<pre><code>public static String getClassName() {\n    String className = Thread.currentThread().getStackTrace()[2].getClassName();\n    int lastIndex = className.lastIndexOf('.');\n    return className.substring(lastIndex + 1);\n}\n</code></pre>\n\n<p>Hope it will help !</p>\n"},{"comments":[{"owner":{"account_id":455040,"reputation":1485,"user_id":853015,"display_name":"Foumpie"},"score":0,"creation_date":1451170507,"post_id":29477085,"comment_id":56693749,"body_markdown":"I was gonna say `Reflection.getCallerClass()`. But it gives a warning about being in the &#39;sun&#39; packages. So this might be a better solution.","body":"I was gonna say <code>Reflection.getCallerClass()</code>. But it gives a warning about being in the &#39;sun&#39; packages. So this might be a better solution."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1486475679,"post_id":29477085,"comment_id":71353439,"body_markdown":"@Foumpie: Java&#160;9 is going to introduce an official API that will supersede this unofficial `Reflection.getCallerClass()` thing. It’s a bit complicated for his trivial operation, i.e. `Optional&lt;Class&lt;?&gt;&gt; myself = StackWalker.getInstance(StackWalker.Option.RETAIN_CLASS_REFERENCE) .walk(s -&gt; s.map(StackWalker.StackFrame::getDeclaringClass) .findFirst());`, but of course, that’s connected to the fact that it will be much more powerful.","body":"@Foumpie: Java 9 is going to introduce an official API that will supersede this unofficial <code>Reflection.getCallerClass()</code> thing. It’s a bit complicated for his trivial operation, i.e. <code>Optional&lt;Class&lt;?&gt;&gt; myself = StackWalker.getInstance(StackWalker.Option.RETAIN_CLASS_REFE&zwnj;&#8203;RENCE) .walk(s -&gt; s.map(StackWalker.StackFrame::getDeclaringClass) .findFirst());</code>, but of course, that’s connected to the fact that it will be much more powerful."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":8,"creation_date":1515475528,"post_id":29477085,"comment_id":83303130,"body_markdown":"This is easily the best solution. It avoids the need to specify the actual class name, it&#39;s not obscure, it&#39;s not a hack and according to Artyom Krivolapov&#39;s post below it&#39;s also by far the fastest approach.","body":"This is easily the best solution. It avoids the need to specify the actual class name, it&#39;s not obscure, it&#39;s not a hack and according to Artyom Krivolapov&#39;s post below it&#39;s also by far the fastest approach."},{"owner":{"account_id":166232,"reputation":20445,"user_id":390227,"accept_rate":71,"display_name":"Glide"},"score":3,"creation_date":1521591775,"post_id":29477085,"comment_id":85794273,"body_markdown":"@Rein Is there a way get the runtime class if this was called in the base class?","body":"@Rein Is there a way get the runtime class if this was called in the base class?"},{"owner":{"account_id":241748,"reputation":623,"user_id":512757,"accept_rate":75,"display_name":"Ajoy Bhatia"},"score":0,"creation_date":1698894980,"post_id":29477085,"comment_id":136463427,"body_markdown":"Quite late to add this insight in reply to @Glide&#39;s question above. The question is invalid. There is no base class and runtime class (I presume you mean a class extending base class), because this would imply an instance. The question is about getting the class name (or .class object) from **static** code. There is no instance and static code is not &quot;inherited&quot;.","body":"Quite late to add this insight in reply to @Glide&#39;s question above. The question is invalid. There is no base class and runtime class (I presume you mean a class extending base class), because this would imply an instance. The question is about getting the class name (or .class object) from <b>static</b> code. There is no instance and static code is not &quot;inherited&quot;."}],"tags":[],"owner":{"account_id":45368,"reputation":2517,"user_id":133702,"display_name":"Rein"},"comment_count":5,"down_vote_count":2,"up_vote_count":139,"is_accepted":false,"score":137,"last_activity_date":1428345231,"creation_date":1428344488,"answer_id":29477085,"question_id":936684,"body_markdown":"In Java 7+ you can do this in static method/fields:\r\n\r\n    MethodHandles.lookup().lookupClass()","title":"Getting the class name from a static method in Java","body":"<p>In Java 7+ you can do this in static method/fields:</p>\n\n<pre><code>MethodHandles.lookup().lookupClass()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":558770,"reputation":16438,"user_id":755804,"accept_rate":20,"display_name":"18446744073709551615"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1434552615,"creation_date":1429528498,"answer_id":29746323,"question_id":936684,"body_markdown":"Since the question https://stackoverflow.com/questions/29492993/something-like-this-class-instead-of-classname-class is marked as a duplicate for this one (which is arguable because that question is about the class rather than class name), I&#39;m posting the answer here:\r\n\r\n    class MyService {\r\n        private static Class thisClass = MyService.class;\r\n        // or:\r\n        //private static Class thisClass = new Object() { }.getClass().getEnclosingClass();\r\n        ...\r\n        static void startService(Context context) {\r\n            Intent i = new Intent(context, thisClass);\r\n            context.startService(i);\r\n        }\r\n    }\r\n\r\nIt is important to define `thisClass` as **private** because:&lt;br/&gt;\r\n1) it must not be inherited: derived classes must either define their own `thisClass` or produce an error message&lt;br/&gt;\r\n2) references from other classes should be done as `ClassName.class` rather than `ClassName.thisClass`.\r\n\r\nWith `thisClass` defined, access to the class name becomes:\r\n\r\n    thisClass.getName()","title":"Getting the class name from a static method in Java","body":"<p>Since the question <a href=\"https://stackoverflow.com/questions/29492993/something-like-this-class-instead-of-classname-class\">Something like `this.class` instead of `ClassName.class`?</a> is marked as a duplicate for this one (which is arguable because that question is about the class rather than class name), I'm posting the answer here:</p>\n\n<pre><code>class MyService {\n    private static Class thisClass = MyService.class;\n    // or:\n    //private static Class thisClass = new Object() { }.getClass().getEnclosingClass();\n    ...\n    static void startService(Context context) {\n        Intent i = new Intent(context, thisClass);\n        context.startService(i);\n    }\n}\n</code></pre>\n\n<p>It is important to define <code>thisClass</code> as <strong>private</strong> because:<br/>\n1) it must not be inherited: derived classes must either define their own <code>thisClass</code> or produce an error message<br/>\n2) references from other classes should be done as <code>ClassName.class</code> rather than <code>ClassName.thisClass</code>.</p>\n\n<p>With <code>thisClass</code> defined, access to the class name becomes:</p>\n\n<pre><code>thisClass.getName()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":3,"creation_date":1467920567,"post_id":30786054,"comment_id":63929106,"body_markdown":"And how will you know what is: &quot;class name&quot; ? :)","body":"And how will you know what is: &quot;class name&quot; ? :)"},{"owner":{"account_id":3298570,"reputation":468,"user_id":2775220,"display_name":"Sergey Irisov"},"score":1,"creation_date":1473838479,"post_id":30786054,"comment_id":66287999,"body_markdown":"Having `Class.forName(&quot;class name&quot;)` already give you a class. Why do you want to retrieve it via Method?","body":"Having <code>Class.forName(&quot;class name&quot;)</code> already give you a class. Why do you want to retrieve it via Method?"}],"tags":[],"owner":{"account_id":1378183,"reputation":1194,"user_id":1311732,"display_name":"Franz&#233; Jr."},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1434039090,"creation_date":1434039090,"answer_id":30786054,"question_id":936684,"body_markdown":"If you are using reflection, you can get the Method object and then:\r\n\r\n    method.getDeclaringClass().getName()\r\nTo get the Method itself, you can probably use:\r\n\r\n    Class&lt;?&gt; c = Class.forName(&quot;class name&quot;);\r\n    Method  method = c.getDeclaredMethod (&quot;method name&quot;, parameterTypes)","title":"Getting the class name from a static method in Java","body":"<p>If you are using reflection, you can get the Method object and then:</p>\n\n<pre><code>method.getDeclaringClass().getName()\n</code></pre>\n\n<p>To get the Method itself, you can probably use:</p>\n\n<pre><code>Class&lt;?&gt; c = Class.forName(\"class name\");\nMethod  method = c.getDeclaredMethod (\"method name\", parameterTypes)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1660817172,"post_id":47112323,"comment_id":129624502,"body_markdown":"Excellent answer, but the Javadoc of your final example function doesn&#39;t match its behaviour (it doesn&#39;t throw).","body":"Excellent answer, but the Javadoc of your final example function doesn&#39;t match its behaviour (it doesn&#39;t throw)."},{"owner":{"account_id":2033286,"reputation":3281,"user_id":1816338,"display_name":"Artyom Krivolapov"},"score":1,"creation_date":1660917312,"post_id":47112323,"comment_id":129653765,"body_markdown":"@k314159 yeah, you right, thank you! Fixed.  Javadoc was from the older version of this function.","body":"@k314159 yeah, you right, thank you! Fixed.  Javadoc was from the older version of this function."}],"tags":[],"owner":{"account_id":2033286,"reputation":3281,"user_id":1816338,"display_name":"Artyom Krivolapov"},"comment_count":2,"down_vote_count":0,"up_vote_count":95,"is_accepted":false,"score":95,"last_activity_date":1667035419,"creation_date":1509809374,"answer_id":47112323,"question_id":936684,"body_markdown":"So, we have a situation when we need to statically get class object or a class full/simple name without an explicit usage of `MyClass.class` syntax.\r\n\r\nIt can be really handy in some cases, e.g. logger instance for the [tag:kotlin] upper-level functions (in this case kotlin creates a static Java class not accessible from the kotlin code).\r\n\r\nWe have a few different variants for getting this info:\r\n\r\n 1. &lt;!-- language: java --&gt;\r\n    ```new Object(){}.getClass().getEnclosingClass();```&lt;br&gt;\r\n    noted by [Tom Hawtin - tackline](https://stackoverflow.com/a/936724/1816338)\r\n\r\n 2. &lt;!-- language: java --&gt;\r\n    ```getClassContext()[0].getName();``` from the `SecurityManager`&lt;br&gt;\r\n    noted by [Christoffer](https://stackoverflow.com/a/936776/1816338)\r\n\r\n 3. &lt;!-- language: java --&gt;\r\n    ```new Throwable().getStackTrace()[0].getClassName();```&lt;br&gt;\r\n    by [count ludwig](https://stackoverflow.com/a/1577359/1816338)\r\n\r\n 4. &lt;!-- language: java --&gt;\r\n    ```Thread.currentThread().getStackTrace()[1].getClassName();```&lt;br&gt;\r\n    from [Keksi](https://stackoverflow.com/a/2971457/1816338)\r\n\r\n 5. and finally awesome&lt;br&gt;\r\n    &lt;!-- language: java --&gt;\r\n    ```MethodHandles.lookup().lookupClass();```&lt;br&gt;\r\n    from [Rein](https://stackoverflow.com/a/29477085/1816338)\r\n\r\n&lt;br&gt;\r\nI&#39;ve prepared a [tag:JMH] benchmark for all variants and results are:\r\n\r\n    # Run complete. Total time: 00:04:18\r\n    \r\n    Benchmark                                                      Mode  Cnt      Score     Error  Units\r\n    StaticClassLookup.MethodHandles_lookup_lookupClass             avgt   30      3.630 &#177;   0.024  ns/op\r\n    StaticClassLookup.AnonymousObject_getClass_enclosingClass      avgt   30    282.486 &#177;   1.980  ns/op\r\n    StaticClassLookup.SecurityManager_classContext_1               avgt   30    680.385 &#177;  21.665  ns/op\r\n    StaticClassLookup.Thread_currentThread_stackTrace_1_className  avgt   30  11179.460 &#177; 286.293  ns/op\r\n    StaticClassLookup.Throwable_stackTrace_0_className             avgt   30  10221.209 &#177; 176.847  ns/op\r\n&lt;br&gt;\r\n\r\n### Conclusions\r\n\r\n 1. **Best variant to use**, rather clean and monstrously fast.&lt;br&gt;\r\n    **Available only since Java 7 and Android API 26!**\r\n \r\n &lt;!-- language: java --&gt;\r\n     \r\n     MethodHandles.lookup().lookupClass();\r\n\r\n 2. In case you need this functionality for Android or Java 6, you can use the second best variant. It&#39;s rather fast too, **but creates an anonymous class in each place of usage** :(\r\n \r\n &lt;!-- language: java --&gt;\r\n     \r\n     new Object(){}.getClass().getEnclosingClass();\r\n\r\n 3. If you need it in many places and don&#39;t want your bytecode to bloat due to tons of anonymous classes – `SecurityManager` is your friend (third best option).\r\n\r\n But you can&#39;t just call `getClassContext()` – it&#39;s protected in the `SecurityManager` class. You will need some helper class like this:\r\n \r\n &lt;!-- language: java --&gt;\r\n     \r\n     // Helper class\r\n     public final class CallerClassGetter extends SecurityManager\r\n     {\r\n     \tprivate static final CallerClassGetter INSTANCE = new CallerClassGetter();\r\n     \tprivate CallerClassGetter() {}\r\n     \r\n     \tpublic static Class&lt;?&gt; getCallerClass() {\r\n     \t\treturn INSTANCE.getClassContext()[1];\r\n     \t}\r\n     }\r\n     \r\n     // Usage example:\r\n     class FooBar\r\n     {\r\n     \tstatic final Logger LOGGER = LoggerFactory.getLogger(CallerClassGetter.getCallerClass())\r\n     }\r\n\r\n 4. You probably don&#39;t ever need to use last two variants based on the `getStackTrace()` from exception or the `Thread.currentThread()`. **Very** inefficient and can return only the class name as a `String`, not the `Class&lt;*&gt;` instance.\r\n\r\n&lt;br&gt;\r\n\r\n### P.S.\r\n\r\nIf you want to create a logger instance for static kotlin utils (like me :), you can use this helper:\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    import org.slf4j.Logger\r\n    import org.slf4j.LoggerFactory\r\n    \r\n    // Should be inlined to get an actual class instead of the one where this helper declared\r\n    // Will work only since Java 7 and Android API 26!\r\n    @Suppress(&quot;NOTHING_TO_INLINE&quot;)\r\n    inline fun loggerFactoryStatic(): Logger\r\n        = LoggerFactory.getLogger(MethodHandles.lookup().lookupClass())\r\n\r\n\r\nUsage example:\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    private val LOGGER = loggerFactoryStatic()\r\n    \r\n    /**\r\n     * Returns a pseudo-random, uniformly distributed value between the\r\n     * given least value (inclusive) and bound (exclusive).\r\n     *\r\n     * @param min the least value returned\r\n     * @param max the upper bound (exclusive)\r\n     *\r\n     * @return the next value\r\n     * @see java.util.concurrent.ThreadLocalRandom.nextDouble(double, double)\r\n     */\r\n    fun Random.nextDouble(min: Double = .0, max: Double = 1.0): Double {\r\n    \tif (min &gt;= max) {\r\n    \t\tif (min == max) return max\r\n    \t\tLOGGER.warn(&quot;nextDouble: min $min &gt; max $max&quot;)\r\n    \t\treturn min\r\n    \t}\r\n    \treturn nextDouble() * (max - min) + min\r\n    }","title":"Getting the class name from a static method in Java","body":"<p>So, we have a situation when we need to statically get class object or a class full/simple name without an explicit usage of <code>MyClass.class</code> syntax.</p>\n<p>It can be really handy in some cases, e.g. logger instance for the <a href=\"/questions/tagged/kotlin\" class=\"post-tag\" title=\"show questions tagged &#39;kotlin&#39;\" aria-label=\"show questions tagged &#39;kotlin&#39;\" rel=\"tag\" aria-labelledby=\"kotlin-container\">kotlin</a> upper-level functions (in this case kotlin creates a static Java class not accessible from the kotlin code).</p>\n<p>We have a few different variants for getting this info:</p>\n<ol>\n<li><p><code>new Object(){}.getClass().getEnclosingClass();</code><br>\nnoted by <a href=\"https://stackoverflow.com/a/936724/1816338\">Tom Hawtin - tackline</a></p>\n</li>\n<li><p><code>getClassContext()[0].getName();</code> from the <code>SecurityManager</code><br>\nnoted by <a href=\"https://stackoverflow.com/a/936776/1816338\">Christoffer</a></p>\n</li>\n<li><p><code>new Throwable().getStackTrace()[0].getClassName();</code><br>\nby <a href=\"https://stackoverflow.com/a/1577359/1816338\">count ludwig</a></p>\n</li>\n<li><p><code>Thread.currentThread().getStackTrace()[1].getClassName();</code><br>\nfrom <a href=\"https://stackoverflow.com/a/2971457/1816338\">Keksi</a></p>\n</li>\n<li><p>and finally awesome<br></p>\n<p><code>MethodHandles.lookup().lookupClass();</code><br>\nfrom <a href=\"https://stackoverflow.com/a/29477085/1816338\">Rein</a></p>\n</li>\n</ol>\n<br>\nI've prepared a <a href=\"/questions/tagged/jmh\" class=\"post-tag\" title=\"show questions tagged &#39;jmh&#39;\" aria-label=\"show questions tagged &#39;jmh&#39;\" rel=\"tag\" aria-labelledby=\"jmh-container\">jmh</a> benchmark for all variants and results are:\n<pre><code># Run complete. Total time: 00:04:18\n\nBenchmark                                                      Mode  Cnt      Score     Error  Units\nStaticClassLookup.MethodHandles_lookup_lookupClass             avgt   30      3.630 ±   0.024  ns/op\nStaticClassLookup.AnonymousObject_getClass_enclosingClass      avgt   30    282.486 ±   1.980  ns/op\nStaticClassLookup.SecurityManager_classContext_1               avgt   30    680.385 ±  21.665  ns/op\nStaticClassLookup.Thread_currentThread_stackTrace_1_className  avgt   30  11179.460 ± 286.293  ns/op\nStaticClassLookup.Throwable_stackTrace_0_className             avgt   30  10221.209 ± 176.847  ns/op\n</code></pre>\n<br>\n<h3>Conclusions</h3>\n<ol>\n<li><strong>Best variant to use</strong>, rather clean and monstrously fast.<br>\n<strong>Available only since Java 7 and Android API 26!</strong></li>\n</ol>\n <pre class=\"lang-java prettyprint-override\"><code> MethodHandles.lookup().lookupClass();\n</code></pre>\n<ol start=\"2\">\n<li>In case you need this functionality for Android or Java 6, you can use the second best variant. It's rather fast too, <strong>but creates an anonymous class in each place of usage</strong> :(</li>\n</ol>\n <pre class=\"lang-java prettyprint-override\"><code> new Object(){}.getClass().getEnclosingClass();\n</code></pre>\n<ol start=\"3\">\n<li>If you need it in many places and don't want your bytecode to bloat due to tons of anonymous classes – <code>SecurityManager</code> is your friend (third best option).</li>\n</ol>\n<p>But you can't just call <code>getClassContext()</code> – it's protected in the <code>SecurityManager</code> class. You will need some helper class like this:</p>\n <pre class=\"lang-java prettyprint-override\"><code> // Helper class\n public final class CallerClassGetter extends SecurityManager\n {\n    private static final CallerClassGetter INSTANCE = new CallerClassGetter();\n    private CallerClassGetter() {}\n \n    public static Class&lt;?&gt; getCallerClass() {\n        return INSTANCE.getClassContext()[1];\n    }\n }\n \n // Usage example:\n class FooBar\n {\n    static final Logger LOGGER = LoggerFactory.getLogger(CallerClassGetter.getCallerClass())\n }\n</code></pre>\n<ol start=\"4\">\n<li>You probably don't ever need to use last two variants based on the <code>getStackTrace()</code> from exception or the <code>Thread.currentThread()</code>. <strong>Very</strong> inefficient and can return only the class name as a <code>String</code>, not the <code>Class&lt;*&gt;</code> instance.</li>\n</ol>\n<br>\n<h3>P.S.</h3>\n<p>If you want to create a logger instance for static kotlin utils (like me :), you can use this helper:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import org.slf4j.Logger\nimport org.slf4j.LoggerFactory\n\n// Should be inlined to get an actual class instead of the one where this helper declared\n// Will work only since Java 7 and Android API 26!\n@Suppress(&quot;NOTHING_TO_INLINE&quot;)\ninline fun loggerFactoryStatic(): Logger\n    = LoggerFactory.getLogger(MethodHandles.lookup().lookupClass())\n</code></pre>\n<p>Usage example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private val LOGGER = loggerFactoryStatic()\n\n/**\n * Returns a pseudo-random, uniformly distributed value between the\n * given least value (inclusive) and bound (exclusive).\n *\n * @param min the least value returned\n * @param max the upper bound (exclusive)\n *\n * @return the next value\n * @see java.util.concurrent.ThreadLocalRandom.nextDouble(double, double)\n */\nfun Random.nextDouble(min: Double = .0, max: Double = 1.0): Double {\n    if (min &gt;= max) {\n        if (min == max) return max\n        LOGGER.warn(&quot;nextDouble: min $min &gt; max $max&quot;)\n        return min\n    }\n    return nextDouble() * (max - min) + min\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4703500,"reputation":18590,"user_id":3806413,"accept_rate":0,"display_name":"0xAliHn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513950923,"creation_date":1513950923,"answer_id":47942701,"question_id":936684,"body_markdown":"I have used these two approach for both `static` and `non static` scenario:\r\n\r\n**Main class:**\r\n\r\n    //For non static approach\r\n    public AndroidLogger(Object classObject) {\r\n        mClassName = classObject.getClass().getSimpleName();\r\n    }\r\n\r\n    //For static approach\r\n    public AndroidLogger(String className) {\r\n        mClassName = className;\r\n    }\r\n\r\n\r\nHow to provide class name:\r\n\r\n**non static way:**\r\n\r\n    private AndroidLogger mLogger = new AndroidLogger(this);\r\n\r\n**Static way:**\r\n\r\n    private static AndroidLogger mLogger = new AndroidLogger(Myclass.class.getSimpleName());\r\n\r\n","title":"Getting the class name from a static method in Java","body":"<p>I have used these two approach for both <code>static</code> and <code>non static</code> scenario:</p>\n\n<p><strong>Main class:</strong></p>\n\n<pre><code>//For non static approach\npublic AndroidLogger(Object classObject) {\n    mClassName = classObject.getClass().getSimpleName();\n}\n\n//For static approach\npublic AndroidLogger(String className) {\n    mClassName = className;\n}\n</code></pre>\n\n<p>How to provide class name:</p>\n\n<p><strong>non static way:</strong></p>\n\n<pre><code>private AndroidLogger mLogger = new AndroidLogger(this);\n</code></pre>\n\n<p><strong>Static way:</strong></p>\n\n<pre><code>private static AndroidLogger mLogger = new AndroidLogger(Myclass.class.getSimpleName());\n</code></pre>\n"}],"owner":{"account_id":2772,"reputation":7970,"user_id":3898,"accept_rate":86,"display_name":"Miles D"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219484,"favorite_count":0,"down_vote_count":0,"up_vote_count":292,"accepted_answer_id":936696,"answer_count":15,"score":292,"last_activity_date":1667035419,"creation_date":1243888936,"question_id":936684,"body_markdown":"How can one get the name of the class from a static method in that class. For example\r\n\r\n    public class MyClass {\r\n        public static String getClassName() {\r\n            String name = ????; // what goes here so the string &quot;MyClass&quot; is returned\r\n            return name;\r\n        }\r\n    }\r\n\r\nTo put it in context, I actually want to return the class name as part of a message in an exception.","title":"Getting the class name from a static method in Java","body":"<p>How can one get the name of the class from a static method in that class. For example</p>\n\n<pre><code>public class MyClass {\n    public static String getClassName() {\n        String name = ????; // what goes here so the string \"MyClass\" is returned\n        return name;\n    }\n}\n</code></pre>\n\n<p>To put it in context, I actually want to return the class name as part of a message in an exception.</p>\n"},{"tags":["java","memory-leaks"],"comments":[{"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"score":0,"creation_date":1346653532,"post_id":12242904,"comment_id":16409861,"body_markdown":"Anything the EDT holds onto, anything managed by a framework etc, instances held by the starting point of your app.","body":"Anything the EDT holds onto, anything managed by a framework etc, instances held by the starting point of your app."},{"owner":{"account_id":460181,"reputation":1363,"user_id":861114,"display_name":"cat916"},"score":0,"creation_date":1346653626,"post_id":12242904,"comment_id":16409889,"body_markdown":"Because java classes inherited from the only one class Object so this class was persist through java app","body":"Because java classes inherited from the only one class Object so this class was persist through java app"},{"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"score":0,"creation_date":1346653774,"post_id":12242904,"comment_id":16409922,"body_markdown":"@Geek EDT is the event dispatch thread, the background stuff that handles Swing/AWT. http://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html","body":"@Geek EDT is the event dispatch thread, the background stuff that handles Swing/AWT. <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/concurrency/&hellip;</a>"},{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":0,"creation_date":1346653867,"post_id":12242904,"comment_id":16409945,"body_markdown":"Isn&#39;t it application dependent? How can you generalize this? You application may have class X and my application have class Y, so I feel answer for this question would be application dependent.","body":"Isn&#39;t it application dependent? How can you generalize this? You application may have class X and my application have class Y, so I feel answer for this question would be application dependent."}],"answers":[{"tags":[],"owner":{"account_id":496815,"reputation":27747,"user_id":1163019,"accept_rate":57,"display_name":"auselen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667034215,"creation_date":1346653680,"answer_id":12242950,"question_id":12242904,"body_markdown":"What you are asking is also called Garbage Collection Roots. From [Yourkit&#39;s documentation of GC roots](https://www.yourkit.com/docs/java/help/gc_roots.jsp):\r\n\r\n&gt;    There are several kinds of GC roots. One object can belong to more than one kind of root. The root kinds are:\r\n    \r\n&gt;    Class - class loaded by system class loader. Such classes can never be unloaded. They    can hold objects via static fields. Please note that classes loaded by custom class loaders are not roots, unless corresponding instances of java.lang.Class happen to be roots of other kind(s).  \r\n\r\n&gt;    Thread - live thread \r\n\r\n&gt;   Stack Local - local variable or parameter of Java method\r\n\r\n&gt;    JNI Local - local variable or parameter of JNI method\r\n\r\n&gt;    JNI Global - global JNI reference\r\n\r\n&gt;    Monitor Used - objects used as a monitor for synchronization\r\n\r\n&gt;    Held by JVM - objects held from garbage collection by JVM for its purposes. Actually the list of such objects depends on JVM implementation. Possible known cases are: the system class loader, a few important exception classes which the JVM knows about, a few pre-allocated objects for exception handling, and custom class loaders when they are in the process of loading classes. Unfortunately, JVM provides absolutely no additional detail for such objects. Thus it is up to the analyst to decide to which case a certain &quot;Held by JVM&quot; belongs.\r\n\r\nYou can also read it from [The Truth About Garbage Collection](http://java.sun.com/docs/books/performance/1st_edition/html/JPAppGC.fm.html) (dated).","title":"Understanding memory leaks in Java . What are the classes that persist through out the life of a Java application? ","body":"<p>What you are asking is also called Garbage Collection Roots. From <a href=\"https://www.yourkit.com/docs/java/help/gc_roots.jsp\" rel=\"nofollow noreferrer\">Yourkit's documentation of GC roots</a>:</p>\n<blockquote>\n<p>There are several kinds of GC roots. One object can belong to more than one kind of root. The root kinds are:</p>\n</blockquote>\n<blockquote>\n<p>Class - class loaded by system class loader. Such classes can never be unloaded. They    can hold objects via static fields. Please note that classes loaded by custom class loaders are not roots, unless corresponding instances of java.lang.Class happen to be roots of other kind(s).</p>\n</blockquote>\n<blockquote>\n<p>Thread - live thread</p>\n</blockquote>\n<blockquote>\n<p>Stack Local - local variable or parameter of Java method</p>\n</blockquote>\n<blockquote>\n<p>JNI Local - local variable or parameter of JNI method</p>\n</blockquote>\n<blockquote>\n<p>JNI Global - global JNI reference</p>\n</blockquote>\n<blockquote>\n<p>Monitor Used - objects used as a monitor for synchronization</p>\n</blockquote>\n<blockquote>\n<p>Held by JVM - objects held from garbage collection by JVM for its purposes. Actually the list of such objects depends on JVM implementation. Possible known cases are: the system class loader, a few important exception classes which the JVM knows about, a few pre-allocated objects for exception handling, and custom class loaders when they are in the process of loading classes. Unfortunately, JVM provides absolutely no additional detail for such objects. Thus it is up to the analyst to decide to which case a certain &quot;Held by JVM&quot; belongs.</p>\n</blockquote>\n<p>You can also read it from <a href=\"http://java.sun.com/docs/books/performance/1st_edition/html/JPAppGC.fm.html\" rel=\"nofollow noreferrer\">The Truth About Garbage Collection</a> (dated).</p>\n"},{"tags":[],"owner":{"account_id":1737481,"reputation":13912,"user_id":1589700,"accept_rate":75,"display_name":"Stephen Connolly"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1346653986,"creation_date":1346653986,"answer_id":12243000,"question_id":12242904,"body_markdown":"There is no &quot;universal&quot; answer to your question. Each program will only retain the &quot;active&quot; classes (assuming the program runs long enough under enough memory pressure to force inactive classes out)\r\n\r\nWhen your java program starts up, java will load your class containing the public static void main(String []) method... Any classes and objects it instantiated or references will be loaded on demand as you follow the chain of execution.\r\n\r\nIf the main class forks any threads that will create parallel live paths of execution.\r\n\r\nEach path of execution has an associated call stack.\r\n\r\nEvery class and object referenced by every call stack represents the starting point for the initial live set in java. Follow every reference from that live set and you will have found all the live objects. The JVM spec guarantees that all the live objects and classes will be retained. (that does not mean the others will not be retained by a lazy JVM, but they are not reachable so who cares)","title":"Understanding memory leaks in Java . What are the classes that persist through out the life of a Java application? ","body":"<p>There is no \"universal\" answer to your question. Each program will only retain the \"active\" classes (assuming the program runs long enough under enough memory pressure to force inactive classes out)</p>\n\n<p>When your java program starts up, java will load your class containing the public static void main(String []) method... Any classes and objects it instantiated or references will be loaded on demand as you follow the chain of execution.</p>\n\n<p>If the main class forks any threads that will create parallel live paths of execution.</p>\n\n<p>Each path of execution has an associated call stack.</p>\n\n<p>Every class and object referenced by every call stack represents the starting point for the initial live set in java. Follow every reference from that live set and you will have found all the live objects. The JVM spec guarantees that all the live objects and classes will be retained. (that does not mean the others will not be retained by a lazy JVM, but they are not reachable so who cares)</p>\n"}],"owner":{"account_id":1658137,"reputation":26719,"user_id":1527084,"accept_rate":81,"display_name":"Geek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":12242950,"answer_count":2,"score":0,"last_activity_date":1667034215,"creation_date":1346653332,"question_id":12242904,"body_markdown":"From this [IBM article on handling memory leaks in Java][1] :\r\n\r\n&gt; The garbage collector starts at the root nodes, classes that persist\r\n&gt; throughout the life of a Java application, and sweeps through all of\r\n&gt; the nodes that are referenced. As it traverses the nodes, it keeps\r\n&gt; track of which objects are actively being referenced. Any classes that\r\n&gt; are no longer being referenced are then eligible to be garbage\r\n&gt; collected. The memory resources used by these objects can be returned\r\n&gt; to the Java virtual machine (JVM) when the objects are deleted.\r\n\r\nWhat are the classes that persist through out the life of a Java application ? \r\n\r\n[1]:http://www.ibm.com/developerworks/library/j-leaks/","title":"Understanding memory leaks in Java . What are the classes that persist through out the life of a Java application? ","body":"<p>From this <a href=\"http://www.ibm.com/developerworks/library/j-leaks/\" rel=\"nofollow\">IBM article on handling memory leaks in Java</a> :</p>\n\n<blockquote>\n  <p>The garbage collector starts at the root nodes, classes that persist\n  throughout the life of a Java application, and sweeps through all of\n  the nodes that are referenced. As it traverses the nodes, it keeps\n  track of which objects are actively being referenced. Any classes that\n  are no longer being referenced are then eligible to be garbage\n  collected. The memory resources used by these objects can be returned\n  to the Java virtual machine (JVM) when the objects are deleted.</p>\n</blockquote>\n\n<p>What are the classes that persist through out the life of a Java application ? </p>\n"},{"tags":["java","spring","spring-boot","unit-testing"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1666681604,"post_id":74190175,"comment_id":130988439,"body_markdown":"You shouldn&#39;t be injecting the config into your `UserService` but rather a `PasswordEncoder` and mock that.","body":"You shouldn&#39;t be injecting the config into your <code>UserService</code> but rather a <code>PasswordEncoder</code> and mock that."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1666682092,"post_id":74190175,"comment_id":130988567,"body_markdown":"That being said, `webConfig.passwordEncoder()` returns `null` because you haven&#39;t registered any behavior for that and the default is to return `null`. As that leads to `null` you are trying to invoke `encode` on `null` and that will obviously lead to a `NullPointerException`. But as stated in my initial comment, you shouldb&#39;t be injecting that configuration class into your service, but rather a `PasswordEncoder` and mock that.","body":"That being said, <code>webConfig.passwordEncoder()</code> returns <code>null</code> because you haven&#39;t registered any behavior for that and the default is to return <code>null</code>. As that leads to <code>null</code> you are trying to invoke <code>encode</code> on <code>null</code> and that will obviously lead to a <code>NullPointerException</code>. But as stated in my initial comment, you shouldb&#39;t be injecting that configuration class into your service, but rather a <code>PasswordEncoder</code> and mock that."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667033999,"creation_date":1666682607,"answer_id":74190391,"question_id":74190175,"body_markdown":"\r\n```java\r\nwhen(webConfig.passwordEncoder().encode(any())).thenReturn(userUpdated.getPassword());\r\n```\r\n\r\nThis line is the problem (or more broadly your design but more on that later). `webConfig` is a mock, which means it will intercept all method calls and excert the registered behavior or the default if none. `webConfig.passwordEncoder()` is the first call on yuor mock and you haven&#39;t told the mock what to do, hence it will do the default which is to return `null`. You go then on by mocking the `encode` call on the return value, which will fail. \r\n\r\nYou should either tell Mockito to do something else by default (`@Mock(answer = Answers.RETURNS_DEEP_STUBS` instead of plain `@Mock`) or explicitly mock the call to `webConfig.passwordEncoder()` and return a mocked `PasswordEncoder` and then mock behavior on that for `encode`.\r\n\r\nHowever the fact that you inject the `WebConfig` and not a `PasswordEncoder` in your `UserService` is the actual problem (or the problem in your design). You should inject a `PasswordEncoder`. \r\n\r\n```java\r\n@Service\r\npublic class UserService {\r\n            \r\n    private final SecurityService securityService;\r\n    private final IUserRepository userRepository;\r\n    private final PasswordEncoder encoder;\r\n            \r\n    public UserService(SecurityService securityService, IUserRepository userRepository, PasswordEncoder encoder) {\r\n      this.securityService=securityService;\r\n      this.userRepository=userRepository;\r\n      this.encoder=encoder;\r\n    }\r\n\r\n    public User updateProfile (UserProfileDTO userProfileDTO) {\r\n        User user = userRepository.findByEmail(securityService.getLoggedUser());\r\n        user.setFirstName(userProfileDTO.getFirstName());\r\n        user.setLastName(userProfileDTO.getLastName());\r\n        user.setEmail(securityService.getLoggedUser());\r\n        if(!userProfileDTO.getConfirmPassword().equals(userProfileDTO.getPassword())){\r\n            throw new PasswordException(&quot;Password confirmation not match&quot;);\r\n        }\r\n        user.setPassword(encoder.encode(userProfileDTO.getPassword()));\r\n        return userRepository.save(user);\r\n    }\r\n}\r\n```\r\n\r\nNow you can modify your test as well. \r\n\r\n```java \r\n@ExtendWith(MockitoExtension.class)\r\npublic class Test {\r\n            \r\n    @Mock\r\n    SecurityService securityService;\r\n            \r\n    @Mock\r\n    IUserRepository userRepository;\r\n            \r\n    @Mock\r\n    PasswordEncoder encoder;\r\n            \r\n    @InjectMocks\r\n    UserService userService;\r\n                   \r\n    @Test\r\n    public void updateProfileTest() {\r\n        UserProfileDTO userDTO = new UserProfileDTO();\r\n        userDTO.setEmail(&quot;john@simons&quot;);\r\n        userDTO.setFirstName(&quot;John&quot;);\r\n        userDTO.setLastName(&quot;Simons&quot;);\r\n        userDTO.setPassword(&quot;pass&quot;);\r\n        userDTO.setConfirmPassword(&quot;pass&quot;);\r\n            \r\n        User userForUpdate = new User();\r\n        userForUpdate.setFirstName(&quot;Joo&quot;);\r\n        userForUpdate.setLastName(&quot;Sim&quot;);\r\n        userForUpdate.setBalance(242.20);\r\n        userForUpdate.setEmail(&quot;john@simons&quot;);\r\n        userForUpdate.setPassword(&quot;pass&quot;);\r\n        userForUpdate.setRole(&quot;ROLE_USER&quot;);\r\n            \r\n        User userUpdated = new User();\r\n        userUpdated.setFirstName(&quot;John&quot;);\r\n        userUpdated.setLastName(&quot;Simons&quot;);\r\n        userUpdated.setBalance(242.20);\r\n        userUpdated.setEmail(&quot;john@simons&quot;);\r\n        userUpdated.setPassword(&quot;pass&quot;);\r\n        userUpdated.setRole(&quot;ROLE_USER&quot;);\r\n\r\n        when(userRepository.findByEmail(any())).thenReturn(userForUpdate);\r\n        when(encoder.encode(any())).thenReturn(userUpdated.getPassword());\r\n        when(userRepository.save(any())).thenReturn(userUpdated);\r\n            \r\n        User test = userService.updateProfile(userDTO);\r\n        assertEquals(&quot;john@simons&quot;,test.getEmail());\r\n    }\r\n}\r\n```\r\n\r\nNow your service just depends on the classes it needs instead of knowing something about the configuration. ","title":"Problem with password encoder in the test","body":"<pre class=\"lang-java prettyprint-override\"><code>when(webConfig.passwordEncoder().encode(any())).thenReturn(userUpdated.getPassword());\n</code></pre>\n<p>This line is the problem (or more broadly your design but more on that later). <code>webConfig</code> is a mock, which means it will intercept all method calls and excert the registered behavior or the default if none. <code>webConfig.passwordEncoder()</code> is the first call on yuor mock and you haven't told the mock what to do, hence it will do the default which is to return <code>null</code>. You go then on by mocking the <code>encode</code> call on the return value, which will fail.</p>\n<p>You should either tell Mockito to do something else by default (<code>@Mock(answer = Answers.RETURNS_DEEP_STUBS</code> instead of plain <code>@Mock</code>) or explicitly mock the call to <code>webConfig.passwordEncoder()</code> and return a mocked <code>PasswordEncoder</code> and then mock behavior on that for <code>encode</code>.</p>\n<p>However the fact that you inject the <code>WebConfig</code> and not a <code>PasswordEncoder</code> in your <code>UserService</code> is the actual problem (or the problem in your design). You should inject a <code>PasswordEncoder</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class UserService {\n            \n    private final SecurityService securityService;\n    private final IUserRepository userRepository;\n    private final PasswordEncoder encoder;\n            \n    public UserService(SecurityService securityService, IUserRepository userRepository, PasswordEncoder encoder) {\n      this.securityService=securityService;\n      this.userRepository=userRepository;\n      this.encoder=encoder;\n    }\n\n    public User updateProfile (UserProfileDTO userProfileDTO) {\n        User user = userRepository.findByEmail(securityService.getLoggedUser());\n        user.setFirstName(userProfileDTO.getFirstName());\n        user.setLastName(userProfileDTO.getLastName());\n        user.setEmail(securityService.getLoggedUser());\n        if(!userProfileDTO.getConfirmPassword().equals(userProfileDTO.getPassword())){\n            throw new PasswordException(&quot;Password confirmation not match&quot;);\n        }\n        user.setPassword(encoder.encode(userProfileDTO.getPassword()));\n        return userRepository.save(user);\n    }\n}\n</code></pre>\n<p>Now you can modify your test as well.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\npublic class Test {\n            \n    @Mock\n    SecurityService securityService;\n            \n    @Mock\n    IUserRepository userRepository;\n            \n    @Mock\n    PasswordEncoder encoder;\n            \n    @InjectMocks\n    UserService userService;\n                   \n    @Test\n    public void updateProfileTest() {\n        UserProfileDTO userDTO = new UserProfileDTO();\n        userDTO.setEmail(&quot;john@simons&quot;);\n        userDTO.setFirstName(&quot;John&quot;);\n        userDTO.setLastName(&quot;Simons&quot;);\n        userDTO.setPassword(&quot;pass&quot;);\n        userDTO.setConfirmPassword(&quot;pass&quot;);\n            \n        User userForUpdate = new User();\n        userForUpdate.setFirstName(&quot;Joo&quot;);\n        userForUpdate.setLastName(&quot;Sim&quot;);\n        userForUpdate.setBalance(242.20);\n        userForUpdate.setEmail(&quot;john@simons&quot;);\n        userForUpdate.setPassword(&quot;pass&quot;);\n        userForUpdate.setRole(&quot;ROLE_USER&quot;);\n            \n        User userUpdated = new User();\n        userUpdated.setFirstName(&quot;John&quot;);\n        userUpdated.setLastName(&quot;Simons&quot;);\n        userUpdated.setBalance(242.20);\n        userUpdated.setEmail(&quot;john@simons&quot;);\n        userUpdated.setPassword(&quot;pass&quot;);\n        userUpdated.setRole(&quot;ROLE_USER&quot;);\n\n        when(userRepository.findByEmail(any())).thenReturn(userForUpdate);\n        when(encoder.encode(any())).thenReturn(userUpdated.getPassword());\n        when(userRepository.save(any())).thenReturn(userUpdated);\n            \n        User test = userService.updateProfile(userDTO);\n        assertEquals(&quot;john@simons&quot;,test.getEmail());\n    }\n}\n</code></pre>\n<p>Now your service just depends on the classes it needs instead of knowing something about the configuration.</p>\n"}],"owner":{"account_id":26724163,"reputation":11,"user_id":20327490,"display_name":"person"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667033999,"creation_date":1666681287,"question_id":74190175,"body_markdown":"When trying to test a method, I&#39;m getting a `NullPointerException` in this line of code:\r\n\r\n```java\r\nwhen(webConfig.passwordEncoder().encode(any())).thenReturn(userUpdated.getPassword());\r\n```\r\n\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder.encode(java.lang.CharSequence)&quot; because the return value of &quot;com.example.paymybuddy.security.WebConfig.passwordEncoder()&quot; is null \r\n```\r\n\r\nI have provided a mock of `WebConfig` class but it looks like still missing something. Thank you for your help in advance. \r\n\r\nMy code:\r\n\r\n```java\r\n@ExtendWith(MockitoExtension.class)\r\npublic class Test {\r\n            \r\n    @Mock\r\n    SecurityService securityService;\r\n            \r\n    @Mock\r\n    IUserRepository userRepository;\r\n            \r\n    @Mock\r\n    WebConfig webConfig;\r\n            \r\n    @InjectMocks\r\n    UserService userService;\r\n                   \r\n    @Test\r\n    public void updateProfileTest() {\r\n        UserProfileDTO userDTO = new UserProfileDTO();\r\n        userDTO.setEmail(&quot;john@simons&quot;);\r\n        userDTO.setFirstName(&quot;John&quot;);\r\n        userDTO.setLastName(&quot;Simons&quot;);\r\n        userDTO.setPassword(&quot;pass&quot;);\r\n        userDTO.setConfirmPassword(&quot;pass&quot;);\r\n            \r\n        User userForUpdate = new User();\r\n        userForUpdate.setFirstName(&quot;Joo&quot;);\r\n        userForUpdate.setLastName(&quot;Sim&quot;);\r\n        userForUpdate.setBalance(242.20);\r\n        userForUpdate.setEmail(&quot;john@simons&quot;);\r\n        userForUpdate.setPassword(&quot;pass&quot;);\r\n        userForUpdate.setRole(&quot;ROLE_USER&quot;);\r\n            \r\n        User userUpdated = new User();\r\n        userUpdated.setFirstName(&quot;John&quot;);\r\n        userUpdated.setLastName(&quot;Simons&quot;);\r\n        userUpdated.setBalance(242.20);\r\n        userUpdated.setEmail(&quot;john@simons&quot;);\r\n        userUpdated.setPassword(&quot;pass&quot;);\r\n        userUpdated.setRole(&quot;ROLE_USER&quot;);\r\n\r\n        when(userRepository.findByEmail(any())).thenReturn(userForUpdate);\r\n        when(webConfig.passwordEncoder().encode(any())).thenReturn(userUpdated.getPassword());\r\n        when(userRepository.save(any())).thenReturn(userUpdated);\r\n            \r\n        User test = userService.updateProfile(userDTO);\r\n        assertEquals(&quot;john@simons&quot;,test.getEmail());\r\n    }\r\n}\r\n```\r\n```java                \r\n@Service\r\npublic class UserService {\r\n            \r\n    @Autowired\r\n    private SecurityService securityService;\r\n            \r\n    @Autowired\r\n    private IUserRepository userRepository;\r\n            \r\n    @Autowired\r\n    private WebConfig webConfig;\r\n            \r\n    public User updateProfile (UserProfileDTO userProfileDTO) {\r\n        User user = userRepository.findByEmail(securityService.getLoggedUser());\r\n        user.setFirstName(userProfileDTO.getFirstName());\r\n        user.setLastName(userProfileDTO.getLastName());\r\n        user.setEmail(securityService.getLoggedUser());\r\n        if(!userProfileDTO.getConfirmPassword().equals(userProfileDTO.getPassword())){\r\n            throw new PasswordException(&quot;Password confirmation not match&quot;);\r\n        }\r\n              user.setPassword(webConfig.passwordEncoder().encode(userProfileDTO.getPassword()));\r\n        return userRepository.save(user);\r\n    }\r\n}\r\n```            \r\n```java       \r\n@Configuration\r\npublic class WebConfig implements WebMvcConfigurer {\r\n        \r\n    @Bean\r\n    public BCryptPasswordEncoder passwordEncoder() {\r\n        BCryptPasswordEncoder bCryptPasswordEncoder = new BCryptPasswordEncoder();\r\n        return bCryptPasswordEncoder;\r\n    }\r\n        \r\n    @Bean\r\n    RequestRejectedHandler requestRejectedHandler() {\r\n        return new HttpStatusRequestRejectedHandler();\r\n    }\r\n}\r\n```\r\n","title":"Problem with password encoder in the test","body":"<p>When trying to test a method, I'm getting a <code>NullPointerException</code> in this line of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>when(webConfig.passwordEncoder().encode(any())).thenReturn(userUpdated.getPassword());\n</code></pre>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder.encode(java.lang.CharSequence)&quot; because the return value of &quot;com.example.paymybuddy.security.WebConfig.passwordEncoder()&quot; is null \n</code></pre>\n<p>I have provided a mock of <code>WebConfig</code> class but it looks like still missing something. Thank you for your help in advance.</p>\n<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\npublic class Test {\n            \n    @Mock\n    SecurityService securityService;\n            \n    @Mock\n    IUserRepository userRepository;\n            \n    @Mock\n    WebConfig webConfig;\n            \n    @InjectMocks\n    UserService userService;\n                   \n    @Test\n    public void updateProfileTest() {\n        UserProfileDTO userDTO = new UserProfileDTO();\n        userDTO.setEmail(&quot;john@simons&quot;);\n        userDTO.setFirstName(&quot;John&quot;);\n        userDTO.setLastName(&quot;Simons&quot;);\n        userDTO.setPassword(&quot;pass&quot;);\n        userDTO.setConfirmPassword(&quot;pass&quot;);\n            \n        User userForUpdate = new User();\n        userForUpdate.setFirstName(&quot;Joo&quot;);\n        userForUpdate.setLastName(&quot;Sim&quot;);\n        userForUpdate.setBalance(242.20);\n        userForUpdate.setEmail(&quot;john@simons&quot;);\n        userForUpdate.setPassword(&quot;pass&quot;);\n        userForUpdate.setRole(&quot;ROLE_USER&quot;);\n            \n        User userUpdated = new User();\n        userUpdated.setFirstName(&quot;John&quot;);\n        userUpdated.setLastName(&quot;Simons&quot;);\n        userUpdated.setBalance(242.20);\n        userUpdated.setEmail(&quot;john@simons&quot;);\n        userUpdated.setPassword(&quot;pass&quot;);\n        userUpdated.setRole(&quot;ROLE_USER&quot;);\n\n        when(userRepository.findByEmail(any())).thenReturn(userForUpdate);\n        when(webConfig.passwordEncoder().encode(any())).thenReturn(userUpdated.getPassword());\n        when(userRepository.save(any())).thenReturn(userUpdated);\n            \n        User test = userService.updateProfile(userDTO);\n        assertEquals(&quot;john@simons&quot;,test.getEmail());\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class UserService {\n            \n    @Autowired\n    private SecurityService securityService;\n            \n    @Autowired\n    private IUserRepository userRepository;\n            \n    @Autowired\n    private WebConfig webConfig;\n            \n    public User updateProfile (UserProfileDTO userProfileDTO) {\n        User user = userRepository.findByEmail(securityService.getLoggedUser());\n        user.setFirstName(userProfileDTO.getFirstName());\n        user.setLastName(userProfileDTO.getLastName());\n        user.setEmail(securityService.getLoggedUser());\n        if(!userProfileDTO.getConfirmPassword().equals(userProfileDTO.getPassword())){\n            throw new PasswordException(&quot;Password confirmation not match&quot;);\n        }\n              user.setPassword(webConfig.passwordEncoder().encode(userProfileDTO.getPassword()));\n        return userRepository.save(user);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n        \n    @Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n        BCryptPasswordEncoder bCryptPasswordEncoder = new BCryptPasswordEncoder();\n        return bCryptPasswordEncoder;\n    }\n        \n    @Bean\n    RequestRejectedHandler requestRejectedHandler() {\n        return new HttpStatusRequestRejectedHandler();\n    }\n}\n</code></pre>\n"},{"tags":["java","c++","c","optimization"],"comments":[{"owner":{"account_id":294495,"reputation":32500,"user_id":598420,"accept_rate":91,"display_name":"Anirudha"},"score":3,"creation_date":1378977873,"post_id":18760256,"comment_id":27654567,"body_markdown":"With today&#39;s processors there&#39;s hardly any need to optimize..focus on your business logic..you can later optimize your code if that&#39;s really needed","body":"With today&#39;s processors there&#39;s hardly any need to optimize..focus on your business logic..you can later optimize your code if that&#39;s really needed"},{"owner":{"account_id":1123615,"reputation":16073,"user_id":1111371,"accept_rate":30,"display_name":"ugoren"},"score":0,"creation_date":1378978997,"post_id":18760256,"comment_id":27655280,"body_markdown":"Easy. Compare a well implemented Java data structure with a naive (but compiled with optimization) C equivalent.","body":"Easy. Compare a well implemented Java data structure with a naive (but compiled with optimization) C equivalent."},{"owner":{"account_id":3274305,"reputation":881,"user_id":2756827,"accept_rate":75,"display_name":"Antonio"},"score":0,"creation_date":1379063153,"post_id":18760256,"comment_id":27692785,"body_markdown":"I just want to mention that I were not asking for code nor is an specific coding problem. I know that I can write a program in Java which runs faster than the same program in C++ (Not Optimized) e.g. [link](http://stackoverflow.com/questions/2260157/why-java-is-running-faster-than-c-here). But I cannot figure out how to make a program in Java faster than its version (optimized) in C++. @Rekin and @Cyan draws insights about my question, But I would like to leave it open for a  while, or someone shows JVM runtime optimizations which are not applicable when compiling the C++ code, i.e. `gcc -O3`.","body":"I just want to mention that I were not asking for code nor is an specific coding problem. I know that I can write a program in Java which runs faster than the same program in C++ (Not Optimized) e.g. <a href=\"http://stackoverflow.com/questions/2260157/why-java-is-running-faster-than-c-here\">link</a>. But I cannot figure out how to make a program in Java faster than its version (optimized) in C++. @Rekin and @Cyan draws insights about my question, But I would like to leave it open for a  while, or someone shows JVM runtime optimizations which are not applicable when compiling the C++ code, i.e. <code>gcc -O3</code>."}],"answers":[{"comments":[{"owner":{"account_id":118311,"reputation":9801,"user_id":309259,"accept_rate":100,"display_name":"Rekin"},"score":2,"creation_date":1378978522,"post_id":18760307,"comment_id":27654994,"body_markdown":"I once read, that there are some very aggressive optimizations the JVM can make. The end result is high-performing machine code. So, once it gets there it can compete. The thing is: to know what and when to compile a hot-spots need to be determined. That implies constant profiling. That&#39;s a significant overhead, but it gets worse: the algorithms which determine if the optimization is feasible has Big-Oh O(N^2) or even O(N^3) complexity. I read it from a blog of a JVM Engineer. See if I can find the source...","body":"I once read, that there are some very aggressive optimizations the JVM can make. The end result is high-performing machine code. So, once it gets there it can compete. The thing is: to know what and when to compile a hot-spots need to be determined. That implies constant profiling. That&#39;s a significant overhead, but it gets worse: the algorithms which determine if the optimization is feasible has Big-Oh O(N^2) or even O(N^3) complexity. I read it from a blog of a JVM Engineer. See if I can find the source..."},{"owner":{"account_id":8519,"reputation":175107,"user_id":15416,"accept_rate":63,"display_name":"MSalters"},"score":1,"creation_date":1378983843,"post_id":18760307,"comment_id":27658158,"body_markdown":"Keep in mind that just _finding_ the hotspots is already a non-trivial amount of work.","body":"Keep in mind that just <i>finding</i> the hotspots is already a non-trivial amount of work."},{"owner":{"account_id":1657795,"reputation":2619,"user_id":2771718,"display_name":"Piotr Kołaczkowski"},"score":1,"creation_date":1429538266,"post_id":18760307,"comment_id":47632122,"body_markdown":"&quot;According to studies, it is necessary to have available about 5x the amount of strictly necessary memory to make sure garbage collector works with minimal overhead.&quot; there was only *one* such study [1]  and it was not using state-of-the-art JVM like the one from Oracle and state-of-the-art GCs but a *simulation* instead. This paper contradicts empirical experience - many applications run with no noticeable GC overhead with only as little as 1.5x the live memory. Considering manual C++ allocators have some fragmentation as well, that&#39;s not something I&#39;d call a &quot;large cost&quot;.","body":"&quot;According to studies, it is necessary to have available about 5x the amount of strictly necessary memory to make sure garbage collector works with minimal overhead.&quot; there was only <i>one</i> such study [1]  and it was not using state-of-the-art JVM like the one from Oracle and state-of-the-art GCs but a <i>simulation</i> instead. This paper contradicts empirical experience - many applications run with no noticeable GC overhead with only as little as 1.5x the live memory. Considering manual C++ allocators have some fragmentation as well, that&#39;s not something I&#39;d call a &quot;large cost&quot;."},{"owner":{"account_id":1657795,"reputation":2619,"user_id":2771718,"display_name":"Piotr Kołaczkowski"},"score":0,"creation_date":1429538281,"post_id":18760307,"comment_id":47632139,"body_markdown":"[1] https://people.cs.umass.edu/~emery/pubs/gcvsmalloc.pdf","body":"[1] <a href=\"https://people.cs.umass.edu/~emery/pubs/gcvsmalloc.pdf\" rel=\"nofollow noreferrer\">people.cs.umass.edu/~emery/pubs/gcvsmalloc.pdf</a>"},{"owner":{"account_id":1657795,"reputation":2619,"user_id":2771718,"display_name":"Piotr Kołaczkowski"},"score":0,"creation_date":1429538508,"post_id":18760307,"comment_id":47632317,"body_markdown":"O(N^3) complexity matters only if n is large. Many of the optimization algorithms work with very small &quot;N&quot;s, because N is often a number of variables or branches per method call, etc.","body":"O(N^3) complexity matters only if n is large. Many of the optimization algorithms work with very small &quot;N&quot;s, because N is often a number of variables or branches per method call, etc."},{"owner":{"account_id":325643,"reputation":13388,"user_id":646947,"accept_rate":85,"display_name":"Cyan"},"score":0,"creation_date":1429629436,"post_id":18760307,"comment_id":47682965,"body_markdown":"That&#39;s a very good point Piotr. GC cost should be better evaluated.\nThere are unfortunately not a lot more reasons to believe a manufacturer&#39;s claim with commercial interest at stake than a .edu study with limited tooling. I&#39;m afraid that this issue might turn political to some, and I guess that it&#39;s relatively simple to create a scenario which is relatively friendly, or relatively nasty, to GC performance.\n\nTherefore, with limited trustable information source, maybe we could just use the careful words &quot;GC needs more memory than strictly necessary to work properly&quot;.","body":"That&#39;s a very good point Piotr. GC cost should be better evaluated. There are unfortunately not a lot more reasons to believe a manufacturer&#39;s claim with commercial interest at stake than a .edu study with limited tooling. I&#39;m afraid that this issue might turn political to some, and I guess that it&#39;s relatively simple to create a scenario which is relatively friendly, or relatively nasty, to GC performance.  Therefore, with limited trustable information source, maybe we could just use the careful words &quot;GC needs more memory than strictly necessary to work properly&quot;."}],"tags":[],"owner":{"account_id":325643,"reputation":13388,"user_id":646947,"accept_rate":85,"display_name":"Cyan"},"comment_count":6,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1378991323,"creation_date":1378977668,"answer_id":18760307,"question_id":18760256,"body_markdown":"In theory, yes.\r\nIn practice, it is highly unlikely.\r\n\r\nOne of the fundamental assumption is that C/C++ is compiled once for a binary opcode target, and that Java is compiled for the specific machine it is running on. This should give an edge to Java. But the reality is that even C/C++ can have several optimization path, dynamically selected at run time, and get most of the benefit of specific-target compilation.\r\n\r\nConversely, as stated by Rekin, the Java JVM needs to dynamically profile the Java program to know what to optimize and how. Profiling is an expensive operation in itself, and that overhead can&#39;t be taken off Java JVM. On the other hand, selecting the right set of optimization for the current workload can give an edge. In practice, most C programs (but not all :) are well tuned for their task, and there is little left to optimize using profiling techniques.\r\n\r\nThere are other effects in Java which completely dwarf these compilation issues. Probably at first position is the Garbage Collector.\r\n\r\nGarbage collector first mission is to ease programming, take care of, and avoiding one of the most nasty recurrent bug of C/C++, memory leaks. This feature alone justify the large use of Java in many industrial environment.\r\n\r\nHowever, it has a cost. A very large one. According to studies, it is necessary to have available about 5x the amount of strictly necessary memory to make sure garbage collector works with minimal overhead. So, whenever such amount of memory is lacking, GC overhead starts to become significant, putting performance to a crawl.\r\n\r\nAdversely, it may happen, in some circumstances, that freeing the algorithm of memory allocation charge may allow to *change the algorithm*, and adopt a better, faster one. In such a circumstance, Java can get the edge, and be faster than a C program.\r\n\r\nBut as you can guess, this is uncommon...\r\n","title":"Is it possible to get a Java program faster than the same program (optimized) in C?","body":"<p>In theory, yes.\nIn practice, it is highly unlikely.</p>\n\n<p>One of the fundamental assumption is that C/C++ is compiled once for a binary opcode target, and that Java is compiled for the specific machine it is running on. This should give an edge to Java. But the reality is that even C/C++ can have several optimization path, dynamically selected at run time, and get most of the benefit of specific-target compilation.</p>\n\n<p>Conversely, as stated by Rekin, the Java JVM needs to dynamically profile the Java program to know what to optimize and how. Profiling is an expensive operation in itself, and that overhead can't be taken off Java JVM. On the other hand, selecting the right set of optimization for the current workload can give an edge. In practice, most C programs (but not all :) are well tuned for their task, and there is little left to optimize using profiling techniques.</p>\n\n<p>There are other effects in Java which completely dwarf these compilation issues. Probably at first position is the Garbage Collector.</p>\n\n<p>Garbage collector first mission is to ease programming, take care of, and avoiding one of the most nasty recurrent bug of C/C++, memory leaks. This feature alone justify the large use of Java in many industrial environment.</p>\n\n<p>However, it has a cost. A very large one. According to studies, it is necessary to have available about 5x the amount of strictly necessary memory to make sure garbage collector works with minimal overhead. So, whenever such amount of memory is lacking, GC overhead starts to become significant, putting performance to a crawl.</p>\n\n<p>Adversely, it may happen, in some circumstances, that freeing the algorithm of memory allocation charge may allow to <em>change the algorithm</em>, and adopt a better, faster one. In such a circumstance, Java can get the edge, and be faster than a C program.</p>\n\n<p>But as you can guess, this is uncommon...</p>\n"},{"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1378981295,"post_id":18760379,"comment_id":27656702,"body_markdown":"+1 The JVM tends to be better at optimising away code which does do anything useful.  Having access to dynamic compilation means it can optimise based on things only know at runtime.","body":"+1 The JVM tends to be better at optimising away code which does do anything useful.  Having access to dynamic compilation means it can optimise based on things only know at runtime."}],"tags":[],"owner":{"account_id":3262791,"reputation":5531,"user_id":2748004,"accept_rate":50,"display_name":"Gyanendra Dwivedi"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667033816,"creation_date":1378977899,"answer_id":18760379,"question_id":18760256,"body_markdown":"The fact that C/C++ programs are specifically written for a specific platform and directly compiled into machine code, they are bound to be more closer to the software/hardware platform they are running. Hence they would be faster.\r\n\r\nJava optimization is built into JVM and best optimization (in terms of how fast program would be executed) is achieved with just in time (JIT) way of processing bytecode. Though JIT proved to be more memory intensive. \r\n\r\nSo, comparing these strategy clearly shows that C/C++ native code would be faster; as JVM still have some overhead to convert bytecode into native even with JIT.\r\n\r\n\r\nBut this is the price paid for platform in dependency and java being more portable. \r\n\r\nTaken from [https://stackoverflow.com/questions/4516778/when-is-java-faster-than-c-or-when-is-jit-faster-then-precompiled][1], I found some of the scenario&#39;s when Java execution could outperform C/C++\r\n\r\n&gt; Lots of little memory allocations/deallocations. The major JVMs have\r\n&gt; extremely efficient memory subsystems, and garbage collection can be\r\n&gt; more efficient than requiring explicit freeing (plus it can shift\r\n&gt; memory addresses and such if it really wants to).\r\n&gt; \r\n&gt; Efficient access through deep hierarchies of method calls. The JVM is\r\n&gt; very good at eliding anything that is not necessary, usually better in\r\n&gt; my experience than most C++ compilers (including gcc and icc). In part\r\n&gt; this is because it can do dynamic analysis at runtime (i.e. it can\r\n&gt; overoptimize and only deoptimize if it detects a problem).\r\n&gt; \r\n&gt; Encapsulation of functionality into small short-lived objects.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4516778/when-is-java-faster-than-c-or-when-is-jit-faster-then-precompiled","title":"Is it possible to get a Java program faster than the same program (optimized) in C?","body":"<p>The fact that C/C++ programs are specifically written for a specific platform and directly compiled into machine code, they are bound to be more closer to the software/hardware platform they are running. Hence they would be faster.</p>\n<p>Java optimization is built into JVM and best optimization (in terms of how fast program would be executed) is achieved with just in time (JIT) way of processing bytecode. Though JIT proved to be more memory intensive.</p>\n<p>So, comparing these strategy clearly shows that C/C++ native code would be faster; as JVM still have some overhead to convert bytecode into native even with JIT.</p>\n<p>But this is the price paid for platform in dependency and java being more portable.</p>\n<p>Taken from <a href=\"https://stackoverflow.com/questions/4516778/when-is-java-faster-than-c-or-when-is-jit-faster-then-precompiled\">when is java faster than c++ (or when is JIT faster then precompiled)?</a>, I found some of the scenario's when Java execution could outperform C/C++</p>\n<blockquote>\n<p>Lots of little memory allocations/deallocations. The major JVMs have\nextremely efficient memory subsystems, and garbage collection can be\nmore efficient than requiring explicit freeing (plus it can shift\nmemory addresses and such if it really wants to).</p>\n<p>Efficient access through deep hierarchies of method calls. The JVM is\nvery good at eliding anything that is not necessary, usually better in\nmy experience than most C++ compilers (including gcc and icc). In part\nthis is because it can do dynamic analysis at runtime (i.e. it can\noveroptimize and only deoptimize if it detects a problem).</p>\n<p>Encapsulation of functionality into small short-lived objects.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":1,"creation_date":1379031022,"post_id":18760785,"comment_id":27682780,"body_markdown":"You first paragraph is mainly relevant if somebody tried to write  programs running for a fraction of second (like e.g. `/bin/ls`) in Java. A typical server runs for days or years, so what....","body":"You first paragraph is mainly relevant if somebody tried to write  programs running for a fraction of second (like e.g. <code>&#47;bin&#47;ls</code>) in Java. A typical server runs for days or years, so what...."}],"tags":[],"owner":{"account_id":2047743,"reputation":7324,"user_id":1827457,"accept_rate":80,"display_name":"LtWorf"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1378979057,"creation_date":1378979057,"answer_id":18760785,"question_id":18760256,"body_markdown":"The overhead of the JVM is huge. It has to load several classes, which live inside zip (jar) files and need to be extracted.\r\n\r\nFor every class loaded, some static analysis methods will be run on it, to see if there is unreachable code, operand stack type problems and other things.\r\n\r\nThen, a profiler runs all the time to decide which parts of code are worth optimize, and usually this means that those methods need to be called a few thousand of times before they are optimized.\r\n\r\nBesides all that, you also get the garbage collector.\r\n\r\nI can&#39;t really imagine a properly written C program, compiled for the platform it&#39;s running on, being outperformed by a Java equivalent. Perhaps only if you hit some rare corner-case where the JVM has some optimization and the C compiler doesn&#39;t have that specific optimization implemented.","title":"Is it possible to get a Java program faster than the same program (optimized) in C?","body":"<p>The overhead of the JVM is huge. It has to load several classes, which live inside zip (jar) files and need to be extracted.</p>\n\n<p>For every class loaded, some static analysis methods will be run on it, to see if there is unreachable code, operand stack type problems and other things.</p>\n\n<p>Then, a profiler runs all the time to decide which parts of code are worth optimize, and usually this means that those methods need to be called a few thousand of times before they are optimized.</p>\n\n<p>Besides all that, you also get the garbage collector.</p>\n\n<p>I can't really imagine a properly written C program, compiled for the platform it's running on, being outperformed by a Java equivalent. Perhaps only if you hit some rare corner-case where the JVM has some optimization and the C compiler doesn't have that specific optimization implemented.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1378981607,"creation_date":1378981607,"answer_id":18761738,"question_id":18760256,"body_markdown":"Where I have seen Java run faster than C is when there is limited resources and time to market is more important.  In this situation, you don&#39;t have as much time to write the code as efficiently as you could as in C and C++ you can end up doing things which are less efficient than what the JVM does for you. i.e. if you need the sort of things the JVM does already, it can be faster.\r\n\r\nIf you have a machines with enough resources, the developer time is more expensive/critical and you can end up with a working, stable system in less time and have time to profile/optimise while a C team might still be fixing all the core dumps.  Your mileage will vary.\r\n\r\nFor resources limited devices, C still dominates because you have control over resource allocation.  BTW Most mobile phone now run Java (or objective-C) fine.","title":"Is it possible to get a Java program faster than the same program (optimized) in C?","body":"<p>Where I have seen Java run faster than C is when there is limited resources and time to market is more important.  In this situation, you don't have as much time to write the code as efficiently as you could as in C and C++ you can end up doing things which are less efficient than what the JVM does for you. i.e. if you need the sort of things the JVM does already, it can be faster.</p>\n\n<p>If you have a machines with enough resources, the developer time is more expensive/critical and you can end up with a working, stable system in less time and have time to profile/optimise while a C team might still be fixing all the core dumps.  Your mileage will vary.</p>\n\n<p>For resources limited devices, C still dominates because you have control over resource allocation.  BTW Most mobile phone now run Java (or objective-C) fine.</p>\n"}],"owner":{"account_id":3274305,"reputation":881,"user_id":2756827,"accept_rate":75,"display_name":"Antonio"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1757,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"closed_date":1379015374,"answer_count":4,"score":5,"last_activity_date":1667033816,"creation_date":1378977568,"question_id":18760256,"body_markdown":"Regarding the fact that C/C++ optimization are produced at compilation time, and Java optimizations are produced at runtime. Is it possible to get a Java program faster than the same program (optimized) in C?\r\n\r\nI understand that runtime optimizations can be better than compilation time. Hence I am wondering if the gain of these optimization can be compared to the overhead of running the JVM.","title":"Is it possible to get a Java program faster than the same program (optimized) in C?","body":"<p>Regarding the fact that C/C++ optimization are produced at compilation time, and Java optimizations are produced at runtime. Is it possible to get a Java program faster than the same program (optimized) in C?</p>\n\n<p>I understand that runtime optimizations can be better than compilation time. Hence I am wondering if the gain of these optimization can be compared to the overhead of running the JVM.</p>\n"},{"tags":["java","spring","amazon-s3","spring-webflux"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666957283,"post_id":74234580,"comment_id":131062943,"body_markdown":"(0. How to/who converts `Flux` parameter ??) 1. Why is it `@RequestBody`? (and not `@RequestPart` ..according to `consumes`) 2. Why `key=&#39;&#39;` (empty string)?","body":"(0. How to/who converts <code>Flux</code> parameter ??) 1. Why is it <code>@RequestBody</code>? (and not <code>@RequestPart</code> ..according to <code>consumes</code>) 2. Why <code>key=&#39;&#39;</code> (empty string)?"},{"owner":{"account_id":21624444,"reputation":51,"user_id":15948953,"display_name":"Argun"},"score":0,"creation_date":1666957834,"post_id":74234580,"comment_id":131063141,"body_markdown":"can&#39;t change to `List&lt;MultiPartFile&gt;`, change to `@RequestPart` and send key say    _&quot;message&quot;: &quot;Content type &#39;image/tiff&#39; not supported for bodyType=software.amazon.awssdk.services.s3.model.Part&quot;_","body":"can&#39;t change to <code>List&lt;MultiPartFile&gt;</code>, change to <code>@RequestPart</code> and send key say    <i>&quot;message&quot;: &quot;Content type &#39;image/tiff&#39; not supported for bodyType=software.amazon.awssdk.services.s3.model.Part&quot;</i>"}],"answers":[{"tags":[],"owner":{"account_id":21624444,"reputation":51,"user_id":15948953,"display_name":"Argun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666969835,"creation_date":1666969835,"answer_id":74237365,"question_id":74234580,"body_markdown":"Change `@RequestBody Flux&lt;Part&gt; parts` to `@RequestPart(&quot;file&quot;) Flux&lt;FilePart&gt; parts` fix all of this","title":"AWS S3 with Java – Reactive","body":"<p>Change <code>@RequestBody Flux&lt;Part&gt; parts</code> to <code>@RequestPart(&quot;file&quot;) Flux&lt;FilePart&gt; parts</code> fix all of this</p>\n"}],"owner":{"account_id":21624444,"reputation":51,"user_id":15948953,"display_name":"Argun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74237365,"answer_count":1,"score":0,"last_activity_date":1667033594,"creation_date":1666955882,"question_id":74234580,"body_markdown":"I want to upload multipart file like here [article](https://github.com/eugenp/tutorials/tree/master/aws-modules/aws-reactive). \r\nHere is my code\r\n\r\n\r\n```\r\n@RequestMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE, method = {RequestMethod.POST, RequestMethod.PUT})\r\npublic Mono&lt;ResponseEntity&lt;UploadResult&gt;&gt; multipartUploadHandler(@RequestHeader HttpHeaders headers, @RequestBody Flux&lt;Part&gt; parts) {\r\n\r\n    return parts\r\n            .ofType(FilePart.class) // We&#39;ll ignore other data for now\r\n            .flatMap((part) -&gt; saveFile(headers, s3config.getBucket(), part))\r\n            .collect(Collectors.toList())\r\n            .map((keys) -&gt; ResponseEntity.status(HttpStatus.CREATED)\r\n                    .body(new UploadResult(HttpStatus.CREATED, keys)));\r\n}\r\n```\r\nBut when I send a request, i get 415\r\n\r\n[![Postman](https://i.stack.imgur.com/YC6ED.png)](https://i.stack.imgur.com/YC6ED.png)\r\n\r\nWhat could be the problem?","title":"AWS S3 with Java – Reactive","body":"<p>I want to upload multipart file like here <a href=\"https://github.com/eugenp/tutorials/tree/master/aws-modules/aws-reactive\" rel=\"nofollow noreferrer\">article</a>.\nHere is my code</p>\n<pre><code>@RequestMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE, method = {RequestMethod.POST, RequestMethod.PUT})\npublic Mono&lt;ResponseEntity&lt;UploadResult&gt;&gt; multipartUploadHandler(@RequestHeader HttpHeaders headers, @RequestBody Flux&lt;Part&gt; parts) {\n\n    return parts\n            .ofType(FilePart.class) // We'll ignore other data for now\n            .flatMap((part) -&gt; saveFile(headers, s3config.getBucket(), part))\n            .collect(Collectors.toList())\n            .map((keys) -&gt; ResponseEntity.status(HttpStatus.CREATED)\n                    .body(new UploadResult(HttpStatus.CREATED, keys)));\n}\n</code></pre>\n<p>But when I send a request, i get 415</p>\n<p><a href=\"https://i.stack.imgur.com/YC6ED.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YC6ED.png\" alt=\"Postman\" /></a></p>\n<p>What could be the problem?</p>\n"},{"tags":["java","android","maven","kotlin","gradle"],"owner":{"account_id":7814869,"reputation":595,"user_id":5909910,"display_name":"Vahid Garousi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1667033504,"creation_date":1666949808,"question_id":74233376,"body_markdown":"How can i publish unitTest and androidTest source sets to maven repository?\r\n\r\nI want to put the shared classes, utilities, composeTestRule extensions and … that I wrote for testing in the test source set of an android library and publish it.\r\n\r\nAnd finally, I will use the rest of the modules of my other projects as follows:\r\n\r\n\r\n```\r\ntestImplementation &quot;groupId:artifactId:version&quot;\r\nandroidTestImplementation &quot;groupId:artifactId:version&quot;\r\n```\r\n\r\n\r\n\r\nThe Gradle codes I have written for publication:\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.library&#39;\r\n    id &#39;org.jetbrains.kotlin.android&#39;\r\n    id &#39;maven-publish&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;cip.android.framework.compose_testing&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        minSdk 23\r\n        targetSdk 33\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        consumerProguardFiles &quot;consumer-rules.pro&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n    publishing {\r\n        singleVariant(&quot;release&quot;) {\r\n            withSourcesJar()\r\n            withJavadocJar()\r\n        }\r\n        singleVariant(&quot;debug&quot;) {\r\n            withSourcesJar()\r\n            withJavadocJar()\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.core:core-ktx:1.9.0&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-runtime-ktx:2.5.1&#39;\r\n    implementation &#39;androidx.activity:activity-compose:1.6.1&#39;\r\n    implementation &quot;androidx.compose.ui:ui:$compose_ui_version&quot;\r\n    implementation &quot;androidx.compose.ui:ui-tooling-preview:$compose_ui_version&quot;\r\n    implementation &#39;androidx.compose.material:material:1.3.0&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    androidTestImplementation &quot;androidx.compose.ui:ui-test-junit4:$compose_ui_version&quot;\r\n    debugImplementation &quot;androidx.compose.ui:ui-tooling:$compose_ui_version&quot;\r\n    debugImplementation &quot;androidx.compose.ui:ui-test-manifest:$compose_ui_version&quot;\r\n\r\n}\r\n\r\n\r\nafterEvaluate {\r\n    publishing {\r\n        publications {\r\n            // Creates a Maven publication called &quot;release&quot;.\r\n            release(MavenPublication) {\r\n                // Applies the component for the release build variant.\r\n                from components.release\r\n\r\n                // You can then customize attributes of the publication as shown below.\r\n                groupId = &#39;com.example.MyLibrary&#39;\r\n                artifactId = &#39;final&#39;\r\n                version = &#39;1.0&#39;\r\n            }\r\n            // Creates a Maven publication called “debug”.\r\n            debug(MavenPublication) {\r\n                // Applies the component for the debug build variant.\r\n                from components.debug\r\n\r\n                groupId = &#39;com.example.MyLibrary&#39;\r\n                artifactId = &#39;final-debug&#39;\r\n                version = &#39;1.0&#39;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nHow can I achieve this?\r\n\r\n","title":"How can i publish unitTest and androidTest source sets to maven repository?","body":"<p>How can i publish unitTest and androidTest source sets to maven repository?</p>\n<p>I want to put the shared classes, utilities, composeTestRule extensions and … that I wrote for testing in the test source set of an android library and publish it.</p>\n<p>And finally, I will use the rest of the modules of my other projects as follows:</p>\n<pre><code>testImplementation &quot;groupId:artifactId:version&quot;\nandroidTestImplementation &quot;groupId:artifactId:version&quot;\n</code></pre>\n<p>The Gradle codes I have written for publication:</p>\n<pre><code>plugins {\n    id 'com.android.library'\n    id 'org.jetbrains.kotlin.android'\n    id 'maven-publish'\n}\n\nandroid {\n    namespace 'cip.android.framework.compose_testing'\n    compileSdk 33\n\n    defaultConfig {\n        minSdk 23\n        targetSdk 33\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        consumerProguardFiles &quot;consumer-rules.pro&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n    publishing {\n        singleVariant(&quot;release&quot;) {\n            withSourcesJar()\n            withJavadocJar()\n        }\n        singleVariant(&quot;debug&quot;) {\n            withSourcesJar()\n            withJavadocJar()\n        }\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.core:core-ktx:1.9.0'\n    implementation 'androidx.lifecycle:lifecycle-runtime-ktx:2.5.1'\n    implementation 'androidx.activity:activity-compose:1.6.1'\n    implementation &quot;androidx.compose.ui:ui:$compose_ui_version&quot;\n    implementation &quot;androidx.compose.ui:ui-tooling-preview:$compose_ui_version&quot;\n    implementation 'androidx.compose.material:material:1.3.0'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    androidTestImplementation &quot;androidx.compose.ui:ui-test-junit4:$compose_ui_version&quot;\n    debugImplementation &quot;androidx.compose.ui:ui-tooling:$compose_ui_version&quot;\n    debugImplementation &quot;androidx.compose.ui:ui-test-manifest:$compose_ui_version&quot;\n\n}\n\n\nafterEvaluate {\n    publishing {\n        publications {\n            // Creates a Maven publication called &quot;release&quot;.\n            release(MavenPublication) {\n                // Applies the component for the release build variant.\n                from components.release\n\n                // You can then customize attributes of the publication as shown below.\n                groupId = 'com.example.MyLibrary'\n                artifactId = 'final'\n                version = '1.0'\n            }\n            // Creates a Maven publication called “debug”.\n            debug(MavenPublication) {\n                // Applies the component for the debug build variant.\n                from components.debug\n\n                groupId = 'com.example.MyLibrary'\n                artifactId = 'final-debug'\n                version = '1.0'\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>How can I achieve this?</p>\n"},{"tags":["java","scala","intellij-idea"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1666962796,"post_id":74235760,"comment_id":131064768,"body_markdown":"`@SuppressWarnings(&quot;deprecation&quot;)`. If used in combination with others, use array literal syntax: `@SupressWarnings({ &quot;serial&quot;, &quot;deprecation&quot; })`. Always try to use the smallest possible scope - variable / field before method / constructor before entire class.","body":"<code>@SuppressWarnings(&quot;deprecation&quot;)</code>. If used in combination with others, use array literal syntax: <code>@SupressWarnings({ &quot;serial&quot;, &quot;deprecation&quot; })</code>. Always try to use the smallest possible scope - variable / field before method / constructor before entire class."},{"owner":{"account_id":26759297,"reputation":13,"user_id":20357502,"display_name":"StaticallyTyped"},"score":0,"creation_date":1666963695,"post_id":74235760,"comment_id":131065054,"body_markdown":"I have tried that method, restarted and built the editor, but it still warns me.","body":"I have tried that method, restarted and built the editor, but it still warns me."}],"answers":[{"tags":[],"owner":{"account_id":3908845,"reputation":11548,"user_id":3314107,"accept_rate":80,"display_name":"stefanobaghino"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667031243,"creation_date":1667030889,"answer_id":74243760,"question_id":74235760,"body_markdown":"In Scala you can use the [`@nowarn`][1] annotation to this end. You can see a very nice rundown of how to use both this annotation locally or other options on the overall project [on this blog post by Lukas Rytz][2].\r\n\r\nIn your case, I believe you can use the following annotation:\r\n\r\n    @nowarn(&quot;cat=deprecation&amp;origin=your\\.package\\.YourDeprecatedClass&quot;)\r\n\r\nYou can see an example of how I used this on [this commit][3].\r\n\r\nAs you can see, the annotation can be applied even to individual expression via type ascription, but you can also apply it to methods. In general, I like to keep my `@nowarn`s as specific and fine-scoped as possible. You can also tell the compiler to warn you when a `@nowarn` is not doing anything, so that you don&#39;t have to keep unused annotations around the code.\r\n\r\nIf you have deprecated APIs that you need to use (e.g. even though they are deprecated, you still need to test them) and the usages are all over the place, you might want to evaluate the option of configuring the warning suppression as a compiler option with something like\r\n\r\n    -Wconf:cat=deprecation&amp;origin=your\\.package\\.YourDeprecatedClass\r\n\r\npassed to the compiler. [Here][4] is an example of this as well (we use Bazel instead of SBT but I&#39;m fairly sure that setting up SBT for this is quite simple).\r\n\r\nFor any other information, the blog post I linked above is an excellent source.\r\n\r\n\r\n  [1]: https://www.scala-lang.org/api/2.13.2/scala/annotation/nowarn.html\r\n  [2]: https://www.scala-lang.org/2021/01/12/configuring-and-suppressing-warnings.html\r\n  [3]: https://github.com/digital-asset/daml/commit/0579ebdd770ab0f6a8cbbd45a09726dc79e9daa7\r\n  [4]: https://github.com/digital-asset/daml/commit/aec3390904ccc341648f4a9dc1761efb723d41b2#diff-c6df9dda4e353500adcf6736eeadbfd2d1053932e64675e96974bc69cf31e1b7R54","title":"I want to suppress deprecated API usage","body":"<p>In Scala you can use the <a href=\"https://www.scala-lang.org/api/2.13.2/scala/annotation/nowarn.html\" rel=\"nofollow noreferrer\"><code>@nowarn</code></a> annotation to this end. You can see a very nice rundown of how to use both this annotation locally or other options on the overall project <a href=\"https://www.scala-lang.org/2021/01/12/configuring-and-suppressing-warnings.html\" rel=\"nofollow noreferrer\">on this blog post by Lukas Rytz</a>.</p>\n<p>In your case, I believe you can use the following annotation:</p>\n<pre><code>@nowarn(&quot;cat=deprecation&amp;origin=your\\.package\\.YourDeprecatedClass&quot;)\n</code></pre>\n<p>You can see an example of how I used this on <a href=\"https://github.com/digital-asset/daml/commit/0579ebdd770ab0f6a8cbbd45a09726dc79e9daa7\" rel=\"nofollow noreferrer\">this commit</a>.</p>\n<p>As you can see, the annotation can be applied even to individual expression via type ascription, but you can also apply it to methods. In general, I like to keep my <code>@nowarn</code>s as specific and fine-scoped as possible. You can also tell the compiler to warn you when a <code>@nowarn</code> is not doing anything, so that you don't have to keep unused annotations around the code.</p>\n<p>If you have deprecated APIs that you need to use (e.g. even though they are deprecated, you still need to test them) and the usages are all over the place, you might want to evaluate the option of configuring the warning suppression as a compiler option with something like</p>\n<pre><code>-Wconf:cat=deprecation&amp;origin=your\\.package\\.YourDeprecatedClass\n</code></pre>\n<p>passed to the compiler. <a href=\"https://github.com/digital-asset/daml/commit/aec3390904ccc341648f4a9dc1761efb723d41b2#diff-c6df9dda4e353500adcf6736eeadbfd2d1053932e64675e96974bc69cf31e1b7R54\" rel=\"nofollow noreferrer\">Here</a> is an example of this as well (we use Bazel instead of SBT but I'm fairly sure that setting up SBT for this is quite simple).</p>\n<p>For any other information, the blog post I linked above is an excellent source.</p>\n"}],"owner":{"account_id":26759297,"reputation":13,"user_id":20357502,"display_name":"StaticallyTyped"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74243760,"answer_count":1,"score":1,"last_activity_date":1667031243,"creation_date":1666961800,"question_id":74235760,"body_markdown":"Environment: IntelliJ IDEA Ultimate 2022.2 Build 222.3345.118\r\n\r\nI have overridden the method with @Deprecated annotation.\r\nI want to suppress deprecated API usage on certain methods. But the Option+Enter action has only useless suggestions.\r\n\r\n\r\n[![enter image description here](https://i.stack.imgur.com/oOhmC.png)](https://i.stack.imgur.com/oOhmC.png)\r\n\r\nWe tried to suppress it by means of SupressWornings and //noinspection ScalaDeprecation. I would like to disable Inspection as a last resort because there are some warnings that I want to suppress and others that I do not want to.","title":"I want to suppress deprecated API usage","body":"<p>Environment: IntelliJ IDEA Ultimate 2022.2 Build 222.3345.118</p>\n<p>I have overridden the method with @Deprecated annotation.\nI want to suppress deprecated API usage on certain methods. But the Option+Enter action has only useless suggestions.</p>\n<p><a href=\"https://i.stack.imgur.com/oOhmC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oOhmC.png\" alt=\"enter image description here\" /></a></p>\n<p>We tried to suppress it by means of SupressWornings and //noinspection ScalaDeprecation. I would like to disable Inspection as a last resort because there are some warnings that I want to suppress and others that I do not want to.</p>\n"},{"tags":["java","database","hibernate","hsqldb"],"answers":[{"comments":[{"owner":{"account_id":1098762,"reputation":1373,"user_id":1091733,"accept_rate":77,"display_name":"polmarex"},"score":0,"creation_date":1343082488,"post_id":11621360,"comment_id":15389502,"body_markdown":"I added session.flush() before commit() as you suggested, but nothing changed - database is still empty","body":"I added session.flush() before commit() as you suggested, but nothing changed - database is still empty"}],"tags":[],"owner":{"account_id":170362,"reputation":8745,"user_id":397016,"display_name":"John Watts"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343081747,"creation_date":1343081747,"answer_id":11621360,"question_id":11621086,"body_markdown":"Some of these can happen automatically under some circumstances, but unless you are configured to do them automatically, you need to do all three of them in this order:\r\n\r\n1. `Session.save()` updates Hibernate&#39;s view of the object from inside the JVM.\r\n2. `Session.flush()` updates the database&#39;s view of the object by issuing SQL statements.\r\n3. `Session.getTransaction().commit()` commits the transaction in the database.\r\n\r\nSee http://docs.jboss.org/hibernate/orm/4.1/javadocs/org/hibernate/Session.html#flush()","title":"Data is not being inserted into HSQLDB database using Hibernate","body":"<p>Some of these can happen automatically under some circumstances, but unless you are configured to do them automatically, you need to do all three of them in this order:</p>\n\n<ol>\n<li><code>Session.save()</code> updates Hibernate's view of the object from inside the JVM.</li>\n<li><code>Session.flush()</code> updates the database's view of the object by issuing SQL statements.</li>\n<li><code>Session.getTransaction().commit()</code> commits the transaction in the database.</li>\n</ol>\n\n<p>See <a href=\"http://docs.jboss.org/hibernate/orm/4.1/javadocs/org/hibernate/Session.html#flush\" rel=\"nofollow\">http://docs.jboss.org/hibernate/orm/4.1/javadocs/org/hibernate/Session.html#flush</a>()</p>\n"},{"comments":[{"owner":{"account_id":1098762,"reputation":1373,"user_id":1091733,"accept_rate":77,"display_name":"polmarex"},"score":0,"creation_date":1343084260,"post_id":11621534,"comment_id":15389982,"body_markdown":"I changed my code as you suggested but it didn&#39;t help. No idea what&#39;s going on.","body":"I changed my code as you suggested but it didn&#39;t help. No idea what&#39;s going on."},{"owner":{"account_id":307266,"reputation":3397,"user_id":618467,"accept_rate":67,"display_name":"Tiago Farias"},"score":0,"creation_date":1343093685,"post_id":11621534,"comment_id":15391837,"body_markdown":"Ok. Could you edit your post with some more detail? Maybe post your xml config as well would be good.","body":"Ok. Could you edit your post with some more detail? Maybe post your xml config as well would be good."},{"owner":{"account_id":1098762,"reputation":1373,"user_id":1091733,"accept_rate":77,"display_name":"polmarex"},"score":0,"creation_date":1343410264,"post_id":11621534,"comment_id":15504857,"body_markdown":"Sorry for such late response, but I had a little time recently and I discovered that the problem is a bit more complex than I described. And also, I couldn&#39;t figure out what you mean by &#39;connection string&#39;, I tried many combinations with `&lt;property name=&quot;connection.url&quot;&gt;jdbc:hsqldb:file:/db/;shutdown=true;hsqldb.write_delay=false\n&lt;/property&gt;` or something like that but with no effect.","body":"Sorry for such late response, but I had a little time recently and I discovered that the problem is a bit more complex than I described. And also, I couldn&#39;t figure out what you mean by &#39;connection string&#39;, I tried many combinations with <code>&lt;property name=&quot;connection.url&quot;&gt;jdbc:hsqldb:file:&#47;db&#47;;shutdown=true;hs&zwnj;&#8203;qldb.write_delay=fal&zwnj;&#8203;se &lt;&#47;property&gt;</code> or something like that but with no effect."}],"tags":[],"owner":{"account_id":307266,"reputation":3397,"user_id":618467,"accept_rate":67,"display_name":"Tiago Farias"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343096604,"creation_date":1343083011,"answer_id":11621534,"question_id":11621086,"body_markdown":"You probably forgot to save your objects to the database using a **session.flush()** BEFORE commiting to the database (`session.getTransaction().commit()`).\r\nAs the Hibernate reference itself states:\r\n\r\n&gt; Force this session to flush. Must be called at the end of a unit of\r\n&gt; work, before committing the transaction and closing the session\r\n&gt; (depending on flush-mode, Transaction.commit() calls this method).\r\n\r\nAnd also:\r\n\r\n&gt; \r\n&gt; &quot;Flushing is the process of synchronizing the underlying persistent\r\n&gt; store with persistable state held in memory.&quot;\r\n\r\n**Edit:**\r\n\r\nAfter reading a little bit about HSQLDB I saw some things that could be happening to you:\r\n\r\n1 - Because HSQLDB is not **Durable** by default (the D from &#39;ACID&#39;), it will not persist data to the disk immediately. I know. Not so cute. So you have to &quot;force&quot; the write of your changes when the last connection is finished, setting the property `shutdown=true`;\r\nFrom the user guide: \r\n\r\n&gt; You can use the shutdown=true connection property to ensure the\r\n&gt; database is persisted fully after the connections are closed.\r\n\r\n2 - To make your changes be written immediately to disk use the property `hsqldb.write_delay=false`;\r\n\r\nSo, you&#39;ll end up with something like this in your connection string:\r\n\r\n    ;shutdown=true;hsqldb.write_delay=false;\r\n  \r\n\r\nHope it helps!","title":"Data is not being inserted into HSQLDB database using Hibernate","body":"<p>You probably forgot to save your objects to the database using a <strong>session.flush()</strong> BEFORE commiting to the database (<code>session.getTransaction().commit()</code>).\nAs the Hibernate reference itself states:</p>\n\n<blockquote>\n  <p>Force this session to flush. Must be called at the end of a unit of\n  work, before committing the transaction and closing the session\n  (depending on flush-mode, Transaction.commit() calls this method).</p>\n</blockquote>\n\n<p>And also:</p>\n\n<blockquote>\n  <p>\"Flushing is the process of synchronizing the underlying persistent\n  store with persistable state held in memory.\"</p>\n</blockquote>\n\n<p><strong>Edit:</strong></p>\n\n<p>After reading a little bit about HSQLDB I saw some things that could be happening to you:</p>\n\n<p>1 - Because HSQLDB is not <strong>Durable</strong> by default (the D from 'ACID'), it will not persist data to the disk immediately. I know. Not so cute. So you have to \"force\" the write of your changes when the last connection is finished, setting the property <code>shutdown=true</code>;\nFrom the user guide: </p>\n\n<blockquote>\n  <p>You can use the shutdown=true connection property to ensure the\n  database is persisted fully after the connections are closed.</p>\n</blockquote>\n\n<p>2 - To make your changes be written immediately to disk use the property <code>hsqldb.write_delay=false</code>;</p>\n\n<p>So, you'll end up with something like this in your connection string:</p>\n\n<pre><code>;shutdown=true;hsqldb.write_delay=false;\n</code></pre>\n\n<p>Hope it helps!</p>\n"},{"comments":[{"owner":{"account_id":307266,"reputation":3397,"user_id":618467,"accept_rate":67,"display_name":"Tiago Farias"},"score":0,"creation_date":1343415925,"post_id":11692777,"comment_id":15507043,"body_markdown":"But that&#39;s exactly what I mentioned, or not? Just with the property name wrong: hibernate.connection.url. C&#39;mon.","body":"But that&#39;s exactly what I mentioned, or not? Just with the property name wrong: hibernate.connection.url. C&#39;mon."},{"owner":{"account_id":1098762,"reputation":1373,"user_id":1091733,"accept_rate":77,"display_name":"polmarex"},"score":0,"creation_date":1343419810,"post_id":11692777,"comment_id":15508548,"body_markdown":"Not really, I just had to add Thread.sleep(1000) because JVM was closing too fast.","body":"Not really, I just had to add Thread.sleep(1000) because JVM was closing too fast."},{"owner":{"account_id":307266,"reputation":3397,"user_id":618467,"accept_rate":67,"display_name":"Tiago Farias"},"score":0,"creation_date":1343420458,"post_id":11692777,"comment_id":15508751,"body_markdown":"Oops, sorry. I thought you said the answer was in the &quot;first answer&quot; but it&#39;s &quot;in the first comment&quot;.","body":"Oops, sorry. I thought you said the answer was in the &quot;first answer&quot; but it&#39;s &quot;in the first comment&quot;."}],"tags":[],"owner":{"account_id":1098762,"reputation":1373,"user_id":1091733,"accept_rate":77,"display_name":"polmarex"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343410413,"creation_date":1343410413,"answer_id":11692777,"question_id":11621086,"body_markdown":"The solution to my problem is described in the first comment under question in this thread [link](https://stackoverflow.com/questions/8105618/entitymanager-does-not-write-to-database)","title":"Data is not being inserted into HSQLDB database using Hibernate","body":"<p>The solution to my problem is described in the first comment under question in this thread <a href=\"https://stackoverflow.com/questions/8105618/entitymanager-does-not-write-to-database\">link</a></p>\n"},{"tags":[],"owner":{"account_id":20445496,"reputation":26,"user_id":15001405,"display_name":"hades"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612073249,"creation_date":1612037726,"answer_id":65972686,"question_id":11621086,"body_markdown":"Sometimes adding `;shutdown=true` to your connection string does not help when making changes through code.\r\n\r\nSo, every time you make changes (insert, delete, update, etc.) through code in the HSQLDB, just run the query &quot;SHUTDOWN SCRIPT&quot; manually from your code. This will shut down HSQLDB properly and will save the changes in the `.properties` and `.script` files instantly. \r\n\r\nYour query should look like this:\r\n```\r\nSQLQuery query = session.createSQLQuery(&quot;SHUTDOWN SCRIPT&quot;);\r\n```","title":"Data is not being inserted into HSQLDB database using Hibernate","body":"<p>Sometimes adding <code>;shutdown=true</code> to your connection string does not help when making changes through code.</p>\n<p>So, every time you make changes (insert, delete, update, etc.) through code in the HSQLDB, just run the query &quot;SHUTDOWN SCRIPT&quot; manually from your code. This will shut down HSQLDB properly and will save the changes in the <code>.properties</code> and <code>.script</code> files instantly.</p>\n<p>Your query should look like this:</p>\n<pre><code>SQLQuery query = session.createSQLQuery(&quot;SHUTDOWN SCRIPT&quot;);\n</code></pre>\n"}],"owner":{"account_id":1098762,"reputation":1373,"user_id":1091733,"accept_rate":77,"display_name":"polmarex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7679,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1667030600,"creation_date":1343080231,"question_id":11621086,"body_markdown":"I took care of commiting transaction, but database remains empty after saving object. No errors, hibernate even shows SQL command of inserting. Everything is ok when I add `&lt;property name=&quot;hibernate.connection.autocommit&quot;&gt;true&lt;/property&gt;` line to my hibernate config xml, but I heard that this is not a good practice. I&#39;m using HSQLDB database. \r\n\r\nHere&#39;s piece of my code that inserts data.\r\n\r\n    \tSession session = HibernateUtil.getSessionFactory().getCurrentSession();\r\n\t\tsession.beginTransaction();\r\n\t\tClient c = new Client();\r\n\t\tc.setImie(&quot;John&quot;);\r\n\t\tc.setNazwisko(&quot;Kennedy&quot;); \r\n\t\tsession.save(c);\r\n\t\tsession.getTransaction().commit();\r\n\t\tsession.close();\r\n\r\n","title":"Data is not being inserted into HSQLDB database using Hibernate","body":"<p>I took care of commiting transaction, but database remains empty after saving object. No errors, hibernate even shows SQL command of inserting. Everything is ok when I add <code>&lt;property name=\"hibernate.connection.autocommit\"&gt;true&lt;/property&gt;</code> line to my hibernate config xml, but I heard that this is not a good practice. I'm using HSQLDB database. </p>\n\n<p>Here's piece of my code that inserts data.</p>\n\n<pre><code>    Session session = HibernateUtil.getSessionFactory().getCurrentSession();\n    session.beginTransaction();\n    Client c = new Client();\n    c.setImie(\"John\");\n    c.setNazwisko(\"Kennedy\"); \n    session.save(c);\n    session.getTransaction().commit();\n    session.close();\n</code></pre>\n"},{"tags":["java","arrays","methods"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1667027391,"post_id":74243439,"comment_id":131077705,"body_markdown":"In its current form, the question is too broad. Please [edit] the post and add a focused questoin.","body":"In its current form, the question is too broad. Please <a href=\"https://stackoverflow.com/posts/74243439/edit\">edit</a> the post and add a focused questoin."},{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1667029245,"post_id":74243439,"comment_id":131077955,"body_markdown":"What about something simple as `Arrays.stream(ar).distinct().toArray()`?","body":"What about something simple as <code>Arrays.stream(ar).distinct().toArray()</code>?"}],"answers":[{"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1667027265,"post_id":74243462,"comment_id":131077686,"body_markdown":"This answre uses javasciprt, OP is in java.","body":"This answre uses javasciprt, OP is in java."},{"owner":{"account_id":26489664,"reputation":31,"user_id":20127748,"display_name":"Dilshan Dekumpitiya"},"score":0,"creation_date":1667027452,"post_id":74243462,"comment_id":131077715,"body_markdown":"Can I know the what is the submehtod for this","body":"Can I know the what is the submehtod for this"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1667028138,"post_id":74243462,"comment_id":131077794,"body_markdown":"[The code does not compile](https://ideone.com/rr4kBY). --- I heavily recommend to not remove the optional `{` and `}` around the one-line body of the loop. This can be a nasty bug.","body":"<a href=\"https://ideone.com/rr4kBY\" rel=\"nofollow noreferrer\">The code does not compile</a>. --- I heavily recommend to not remove the optional <code>{</code> and <code>}</code> around the one-line body of the loop. This can be a nasty bug."},{"owner":{"account_id":9226704,"reputation":58,"user_id":12148763,"display_name":"Manish Purohit"},"score":0,"creation_date":1667028807,"post_id":74243462,"comment_id":131077892,"body_markdown":"@Turing85 Agree thanks, This can be a nasty bug. I&#39;ve made some more edits to make this \n[work](https://ideone.com/6Dze3N)","body":"@Turing85 Agree thanks, This can be a nasty bug. I&#39;ve made some more edits to make this  <a href=\"https://ideone.com/6Dze3N\" rel=\"nofollow noreferrer\">work</a>"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1667028963,"post_id":74243462,"comment_id":131077911,"body_markdown":"Not really. Specification is to return an `int[]`. The code provided returns an `Integer[]`.","body":"Not really. Specification is to return an <code>int[]</code>. The code provided returns an <code>Integer[]</code>."},{"owner":{"account_id":9226704,"reputation":58,"user_id":12148763,"display_name":"Manish Purohit"},"score":0,"creation_date":1667029885,"post_id":74243462,"comment_id":131078044,"body_markdown":"in that case. :/","body":"in that case. :/"},{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":2,"creation_date":1667030043,"post_id":74243462,"comment_id":131078062,"body_markdown":"If already using streams ... why also throw in a linked hash set and a for-each loop? Simply do `return Arrays.stream(ar).distinct().toArray()`, that&#39;s it.","body":"If already using streams ... why also throw in a linked hash set and a for-each loop? Simply do <code>return Arrays.stream(ar).distinct().toArray()</code>, that&#39;s it."},{"owner":{"account_id":9226704,"reputation":58,"user_id":12148763,"display_name":"Manish Purohit"},"score":0,"creation_date":1667030287,"post_id":74243462,"comment_id":131078101,"body_markdown":"Awesome @Seelenvirtuose didn&#39;t knew about it. Thanks. I&#39;ve edited the answer","body":"Awesome @Seelenvirtuose didn&#39;t knew about it. Thanks. I&#39;ve edited the answer"}],"tags":[],"owner":{"account_id":9226704,"reputation":58,"user_id":12148763,"display_name":"Manish Purohit"},"comment_count":8,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667030253,"creation_date":1667027244,"answer_id":74243462,"question_id":74243439,"body_markdown":"Remove duplicates from the array:\r\n\r\n\r\n     public static int[] removeDuplicates(int[] a){\r\n       return Arrays.stream(a).distinct().toArray();\r\n    }\r\n","title":"What is the removeDuplicates(ar) sub method in Java?","body":"<p>Remove duplicates from the array:</p>\n<pre><code> public static int[] removeDuplicates(int[] a){\n   return Arrays.stream(a).distinct().toArray();\n}\n</code></pre>\n"}],"owner":{"account_id":26489664,"reputation":31,"user_id":20127748,"display_name":"Dilshan Dekumpitiya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1667027691,"answer_count":1,"score":-3,"last_activity_date":1667030253,"creation_date":1667026915,"question_id":74243439,"body_markdown":"**Code :**\r\n\r\n```\r\nclass Example{\r\n\tpublic static void main(String []args) {\r\n\t\tint[] ar={54,67,98,12,43,58,91,98,29,99,54,61};\r\n\t\tint[] newArray=removeDuplicates(ar);\r\n\t\t\r\n\t\tSystem.out.println(Arrays.toString(ar));//[54,67,98,12,43,58,91,98,29,99,54,61]\r\n\t\tSystem.out.println(Arrays.toString(newArray));//[54,67,98,12,43,58,91,29,99,61]\r\n\t}\r\n}\r\n```\r\n\r\nI want that what is the sub-method for this code in Java.","title":"What is the removeDuplicates(ar) sub method in Java?","body":"<p><strong>Code :</strong></p>\n<pre><code>class Example{\n    public static void main(String []args) {\n        int[] ar={54,67,98,12,43,58,91,98,29,99,54,61};\n        int[] newArray=removeDuplicates(ar);\n        \n        System.out.println(Arrays.toString(ar));//[54,67,98,12,43,58,91,98,29,99,54,61]\n        System.out.println(Arrays.toString(newArray));//[54,67,98,12,43,58,91,29,99,61]\n    }\n}\n</code></pre>\n<p>I want that what is the sub-method for this code in Java.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1666616108,"post_id":74181247,"comment_id":130972259,"body_markdown":"Have you checked whether your `CLASSPATH` environment variable contains anything that points to a specific jdk?","body":"Have you checked whether your <code>CLASSPATH</code> environment variable contains anything that points to a specific jdk?"},{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1666617833,"post_id":74181247,"comment_id":130972894,"body_markdown":"Fredericos comment is a good point to start. The `ClassFormatError` indicates that some class (i.e. an already compiled code) cannot be read by the JVM. So there seems to be some mismatch on your machine, when the JDK 10 compiler wants to read some already compiled classes and fails.","body":"Fredericos comment is a good point to start. The <code>ClassFormatError</code> indicates that some class (i.e. an already compiled code) cannot be read by the JVM. So there seems to be some mismatch on your machine, when the JDK 10 compiler wants to read some already compiled classes and fails."},{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1666617896,"post_id":74181247,"comment_id":130972922,"body_markdown":"I also directly tested the exact steps you have shown us. Works on my machine. Thumbs up (btw) for the well written question.","body":"I also directly tested the exact steps you have shown us. Works on my machine. Thumbs up (btw) for the well written question."},{"owner":{"account_id":18772166,"reputation":653,"user_id":13688761,"display_name":"Miguel Alorda"},"score":1,"creation_date":1666619784,"post_id":74181247,"comment_id":130973723,"body_markdown":"@FedericoklezCulloca Thank you for the comment, I did not know of that env variable. However, it is not set `env | grep CLASSPATH` prints empty output","body":"@FedericoklezCulloca Thank you for the comment, I did not know of that env variable. However, it is not set <code>env | grep CLASSPATH</code> prints empty output"},{"owner":{"account_id":18772166,"reputation":653,"user_id":13688761,"display_name":"Miguel Alorda"},"score":0,"creation_date":1666620003,"post_id":74181247,"comment_id":130973813,"body_markdown":"@Seelenvirtuose, I do not think the problem is reproducible in another machine. Its most likely a problem regarding my machine configuration that I do not know how to find. As I have tested it on another machine and a VM.","body":"@Seelenvirtuose, I do not think the problem is reproducible in another machine. Its most likely a problem regarding my machine configuration that I do not know how to find. As I have tested it on another machine and a VM."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1666620481,"post_id":74181247,"comment_id":130974007,"body_markdown":"What happens when you build with Java 11 and pass `-target 10` to `javac`?","body":"What happens when you build with Java 11 and pass <code>-target 10</code> to <code>javac</code>?"},{"owner":{"account_id":18772166,"reputation":653,"user_id":13688761,"display_name":"Miguel Alorda"},"score":0,"creation_date":1666620961,"post_id":74181247,"comment_id":130974201,"body_markdown":"@ElliottFrisch good suggestions. It seems I can build and run the sample with java 11 providing the target (getting the warning `warning: target release 10 conflicts with default source release 11`). Though I am not sure how I could use that to build the actual legacy system I need to work on. It uses gradle","body":"@ElliottFrisch good suggestions. It seems I can build and run the sample with java 11 providing the target (getting the warning <code>warning: target release 10 conflicts with default source release 11</code>). Though I am not sure how I could use that to build the actual legacy system I need to work on. It uses gradle"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1666621131,"post_id":74181247,"comment_id":130974269,"body_markdown":"@MiguelAlorda Like [this](https://stackoverflow.com/a/44263437/2970947).","body":"@MiguelAlorda Like <a href=\"https://stackoverflow.com/a/44263437/2970947\">this</a>."},{"owner":{"account_id":18772166,"reputation":653,"user_id":13688761,"display_name":"Miguel Alorda"},"score":0,"creation_date":1666621930,"post_id":74181247,"comment_id":130974603,"body_markdown":"@ElliottFrisch I just realised we do have the `sourceCompatibility` and `targetCompatibility` set to java 10, but I cannot simply run with java 11 as [gradle version (4.x) is not compatible with java 11](https://stackoverflow.com/questions/54358107/gradle-could-not-determine-java-version-from-11-0-2). That is yet another migration that is needed on the legacy project","body":"@ElliottFrisch I just realised we do have the <code>sourceCompatibility</code> and <code>targetCompatibility</code> set to java 10, but I cannot simply run with java 11 as <a href=\"https://stackoverflow.com/questions/54358107/gradle-could-not-determine-java-version-from-11-0-2\">gradle version (4.x) is not compatible with java 11</a>. That is yet another migration that is needed on the legacy project"}],"answers":[{"comments":[{"owner":{"account_id":18772166,"reputation":653,"user_id":13688761,"display_name":"Miguel Alorda"},"score":0,"creation_date":1666620392,"post_id":74182222,"comment_id":130973974,"body_markdown":"Thank you for your answer. I have already checked the integrity of the java download, and checked with different java 10 installers (Also checked java `10.0`, `10.0.1` and `10.0.2`). I do not think its a hardware problem neither as all other programs seem to run just fine. I suspect it is a corrupted/incompatibility with a system library, but I don&#39;t know how to track it (already tried with `apt-get update &amp;&amp; apt-get upgrade`). I may end up building inside a docker container (in which java 10 does work)","body":"Thank you for your answer. I have already checked the integrity of the java download, and checked with different java 10 installers (Also checked java <code>10.0</code>, <code>10.0.1</code> and <code>10.0.2</code>). I do not think its a hardware problem neither as all other programs seem to run just fine. I suspect it is a corrupted/incompatibility with a system library, but I don&#39;t know how to track it (already tried with <code>apt-get update &amp;&amp; apt-get upgrade</code>). I may end up building inside a docker container (in which java 10 does work)"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1666620609,"post_id":74182222,"comment_id":130974056,"body_markdown":"A fresh / clean OS install may be the answer.  But if it was me, I&#39;d be dropping Java 10.  It is (IMO) extremely doubtful that building with Java 10 is going to be of significant value to your efforts.  You certainly shouldn&#39;t be running on Java 10.","body":"A fresh / clean OS install may be the answer.  But if it was me, I&#39;d be dropping Java 10.  It is (IMO) extremely doubtful that building with Java 10 is going to be of significant value to your efforts.  You certainly shouldn&#39;t be running on Java 10."},{"owner":{"account_id":18772166,"reputation":653,"user_id":13688761,"display_name":"Miguel Alorda"},"score":0,"creation_date":1666620632,"post_id":74182222,"comment_id":130974067,"body_markdown":"The only thing I can think of that I have installed up to the kernel level is [Kaspersky](https://www.kaspersky.co.uk/home-security) an antivirus and monitoring program required by company policies. It does cause some issues with signed certificates, for example, as it proxies all internet connections. But I have been able to deal with that so far and have not noticed any other problems about it. Also, as long a integrity hashes match, that should not be an issue","body":"The only thing I can think of that I have installed up to the kernel level is <a href=\"https://www.kaspersky.co.uk/home-security\" rel=\"nofollow noreferrer\">Kaspersky</a> an antivirus and monitoring program required by company policies. It does cause some issues with signed certificates, for example, as it proxies all internet connections. But I have been able to deal with that so far and have not noticed any other problems about it. Also, as long a integrity hashes match, that should not be an issue"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1666620742,"post_id":74182222,"comment_id":130974110,"body_markdown":"Kapersky could conceivably interfere with files as they are being extracted from a (non-corrupt) installer or written to disk.","body":"Kapersky could conceivably interfere with files as they are being extracted from a (non-corrupt) installer or written to disk."},{"owner":{"account_id":18772166,"reputation":653,"user_id":13688761,"display_name":"Miguel Alorda"},"score":0,"creation_date":1666621049,"post_id":74182222,"comment_id":130974240,"body_markdown":"That is true. But how come it only interferes with java 10 and does it reliably no matter the minor version or the installer/distributable used?","body":"That is true. But how come it only interferes with java 10 and does it reliably no matter the minor version or the installer/distributable used?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1666627655,"post_id":74182222,"comment_id":130976807,"body_markdown":"It could be looking for a virus signature and be detecting a false positive in some .class file that happens to be unchanged across a few minor versions.  (Though it is not distinct .class files.  Rather it is ... whatever representation they now use for the standard libraries since Java 9.) But is is only one of a few theories.","body":"It could be looking for a virus signature and be detecting a false positive in some .class file that happens to be unchanged across a few minor versions.  (Though it is not distinct .class files.  Rather it is ... whatever representation they now use for the standard libraries since Java 9.) But is is only one of a few theories."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666620231,"creation_date":1666619776,"answer_id":74182222,"question_id":74181247,"body_markdown":"So the problem is clearly not in the code you are compiling.  According to the stack trace, it is happening while loading and initializing the compiler.  The compiler hasn&#39;t actually started compiling anything yet.\r\n\r\nThe only things that I can think of to explain this are:\r\n\r\n  - Your (original) Java 10 download was corrupted&lt;sup&gt;1&lt;/sup&gt; resulting in an installation with a subtly corrupted Java compiler; e.g. a bit flip in one of the .class files in the compiler.\r\n\r\n  - Some critical library on your system is subtly corrupted, or has a subtle bug in it.\r\n\r\n  - It is a hardware (mother board, CPU, RAM) problem.  Or a firmware problem.\r\n\r\n  - It is some weird side-effect of a hacked system.\r\n\r\nIt might be worth trying to fetch a copy of the Java 10 installer another way and compare it with the installer that you have been installing.  Also, it is worth checking that the checksums (MD5, SHA256) for the download match the checksums that Oracle says they should be.\r\n\r\nIf those don&#39;t help, it is going to be difficult to track this down.  And IMO not worth the effort.\r\n\r\nMy advice would be to remove Java 10 from the list of platforms that you build and test for.  (And &quot;support&quot; if you are still trying to do that.)  And if you *really* need to build with Java 10, get hold of a different machine (with reliable hardware) and reinstall everything from scratch using known good downloads.\r\n\r\n-----------------------\r\n\r\n&lt;sup&gt;1 - Without getting too &quot;tin foil hat&quot; about it, such a corruption could be caused by an undetected network transmission error, faulty hardware, or the interference of a &quot;deep packet inspection&quot; appliance.  Repeating the download *may* result in the same corruption.  However, the fact that other people report that they cannot reproduce this *suggests* that this is not simply due to a corrupted copy on the download server.&lt;/sup&gt;","title":"Cannot compile with openjdk10, but can with openjdk11 and openjdk9","body":"<p>So the problem is clearly not in the code you are compiling.  According to the stack trace, it is happening while loading and initializing the compiler.  The compiler hasn't actually started compiling anything yet.</p>\n<p>The only things that I can think of to explain this are:</p>\n<ul>\n<li><p>Your (original) Java 10 download was corrupted<sup>1</sup> resulting in an installation with a subtly corrupted Java compiler; e.g. a bit flip in one of the .class files in the compiler.</p>\n</li>\n<li><p>Some critical library on your system is subtly corrupted, or has a subtle bug in it.</p>\n</li>\n<li><p>It is a hardware (mother board, CPU, RAM) problem.  Or a firmware problem.</p>\n</li>\n<li><p>It is some weird side-effect of a hacked system.</p>\n</li>\n</ul>\n<p>It might be worth trying to fetch a copy of the Java 10 installer another way and compare it with the installer that you have been installing.  Also, it is worth checking that the checksums (MD5, SHA256) for the download match the checksums that Oracle says they should be.</p>\n<p>If those don't help, it is going to be difficult to track this down.  And IMO not worth the effort.</p>\n<p>My advice would be to remove Java 10 from the list of platforms that you build and test for.  (And &quot;support&quot; if you are still trying to do that.)  And if you <em>really</em> need to build with Java 10, get hold of a different machine (with reliable hardware) and reinstall everything from scratch using known good downloads.</p>\n<hr />\n<p><sup>1 - Without getting too &quot;tin foil hat&quot; about it, such a corruption could be caused by an undetected network transmission error, faulty hardware, or the interference of a &quot;deep packet inspection&quot; appliance.  Repeating the download <em>may</em> result in the same corruption.  However, the fact that other people report that they cannot reproduce this <em>suggests</em> that this is not simply due to a corrupted copy on the download server.</sup></p>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666627811,"creation_date":1666627811,"answer_id":74183941,"question_id":74181247,"body_markdown":"I have reasons to believe that something related with security on your system is getting involved here and breaks the process.\r\n\r\nReason 1 \r\n\r\n    $ jdk-10.0.2/bin/javac Test.java\r\n    Exception in thread &quot;main&quot; java.lang.ClassFormatError: Ille in class file &lt;Unknown&gt;\r\n\r\n`Ille` is very weird and 99% the process tried to write a message in the form of  `Illegal some description` but got interupted in the middle of it.\r\n\r\nReason 2\r\n\r\n \r\n\r\n    at java.base/jdk.internal.misc.Unsafe.defineAnonymousClass0(Native Method)\r\n        at java.base/jdk.internal.misc.Unsafe.defineAnonymousClass(Unsafe.java:1223)\r\n\r\nWhy does it even mention `Unsafe` here, there should not be any reason for it.","title":"Cannot compile with openjdk10, but can with openjdk11 and openjdk9","body":"<p>I have reasons to believe that something related with security on your system is getting involved here and breaks the process.</p>\n<p>Reason 1</p>\n<pre><code>$ jdk-10.0.2/bin/javac Test.java\nException in thread &quot;main&quot; java.lang.ClassFormatError: Ille in class file &lt;Unknown&gt;\n</code></pre>\n<p><code>Ille</code> is very weird and 99% the process tried to write a message in the form of  <code>Illegal some description</code> but got interupted in the middle of it.</p>\n<p>Reason 2</p>\n<pre><code>at java.base/jdk.internal.misc.Unsafe.defineAnonymousClass0(Native Method)\n    at java.base/jdk.internal.misc.Unsafe.defineAnonymousClass(Unsafe.java:1223)\n</code></pre>\n<p>Why does it even mention <code>Unsafe</code> here, there should not be any reason for it.</p>\n"},{"tags":[],"owner":{"account_id":18772166,"reputation":653,"user_id":13688761,"display_name":"Miguel Alorda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667029966,"creation_date":1667029966,"answer_id":74243683,"question_id":74181247,"body_markdown":"# Self answer\r\n\r\nFor anyone who comes across a similar issue, I did not manage to fix it. I have tried all solutions suggested above.\r\n\r\nStill, as a temporary solution until we migrate to a Java long term support version, I ended up using a development container.\r\n\r\nFrom an alpine, I installed git, jdk 10 and some other development tools, mounted the source as volumes and ended up working inside the container.\r\n\r\nCurrently I just use it for building and running the software, as I am using IntelliJ as an IDE. Still, since it cannot build the software correctly, it&#39;s Intellisense suggestions are not good enough. I might end up moving into a full blown [VSCode devcontainter](https://code.visualstudio.com/docs/devcontainers/containers).","title":"Cannot compile with openjdk10, but can with openjdk11 and openjdk9","body":"<h1>Self answer</h1>\n<p>For anyone who comes across a similar issue, I did not manage to fix it. I have tried all solutions suggested above.</p>\n<p>Still, as a temporary solution until we migrate to a Java long term support version, I ended up using a development container.</p>\n<p>From an alpine, I installed git, jdk 10 and some other development tools, mounted the source as volumes and ended up working inside the container.</p>\n<p>Currently I just use it for building and running the software, as I am using IntelliJ as an IDE. Still, since it cannot build the software correctly, it's Intellisense suggestions are not good enough. I might end up moving into a full blown <a href=\"https://code.visualstudio.com/docs/devcontainers/containers\" rel=\"nofollow noreferrer\">VSCode devcontainter</a>.</p>\n"}],"owner":{"account_id":18772166,"reputation":653,"user_id":13688761,"display_name":"Miguel Alorda"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1667029966,"creation_date":1666615323,"question_id":74181247,"body_markdown":"# The problem\r\n\r\nI need to use JDK10 to compile a legacy project I have to work on. I know it is a short-term support release whose lifetime has ended. But before the project is updated to a newer Java version I need to be able to build and run it on my development machine.\r\n\r\n&gt; Note: The project does build correctly on its CI pipeline and does run on the production environment. The problem is not related to the project but to my machine.\r\n\r\nThe problem I am running into is I **cannot compile any java code with JDK10**, but **other JDKs** such as 8, 9, 11, 12 and 17 **do work**.\r\n\r\n# Reproduce the problem\r\n\r\nTo showcase my problem, I am trying to compile a simple hello world program `Test.java`:\r\n\r\n```java\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello, world!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI am using the prebuilt JDK from [OpenJDK][openjdk-archive], but I have also tried and reproduced this problem with the [Zulu][zulu-downloads] distribution.\r\n\r\nI can consistently reproduce the problem with:\r\n\r\n```shell\r\n$ wget https://download.java.net/java/GA/jdk10/10.0.2/19aef61b38124481863b1413dce1855f/13/openjdk-10.0.2_linux-x64_bin.tar.gz\r\n...\r\n2022-10-24 14:10:31 (11,1 MB/s) - ‘openjdk-10.0.2_linux-x64_bin.tar.gz’ saved [204892533/204892533]\r\n$ tar -xzf openjdk-10.0.2_linux-x64_bin.tar.gz\r\n$ jdk-10.0.2/bin/java -version \r\nopenjdk version &quot;10.0.2&quot; 2018-07-17\r\nOpenJDK Runtime Environment 18.3 (build 10.0.2+13)\r\nOpenJDK 64-Bit Server VM 18.3 (build 10.0.2+13, mixed mode)\r\n$ jdk-10.0.2/bin/javac -version                             \r\njavac 10.0.2\r\n$ jdk-10.0.2/bin/javac Test.java\r\nException in thread &quot;main&quot; java.lang.ClassFormatError: Ille in class file &lt;Unknown&gt;\r\n\tat java.base/jdk.internal.misc.Unsafe.defineAnonymousClass0(Native Method)\r\n\tat java.base/jdk.internal.misc.Unsafe.defineAnonymousClass(Unsafe.java:1223)\r\n\tat java.base/java.lang.invoke.InnerClassLambdaMetafactory.spinInnerClass(InnerClassLambdaMetafactory.java:320)\r\n\tat java.base/java.lang.invoke.InnerClassLambdaMetafactory.buildCallSite(InnerClassLambdaMetafactory.java:188)\r\n\tat java.base/java.lang.invoke.LambdaMetafactory.metafactory(LambdaMetafactory.java:317)\r\n\tat java.base/java.lang.invoke.CallSite.makeSite(CallSite.java:330)\r\n\tat java.base/java.lang.invoke.MethodHandleNatives.linkCallSiteImpl(MethodHandleNatives.java:250)\r\n\tat java.base/java.lang.invoke.MethodHandleNatives.linkCallSite(MethodHandleNatives.java:240)\r\n\tat jdk.compiler/com.sun.tools.javac.code.Symtab.doEnterClass(Symtab.java:700)\r\n\tat jdk.compiler/com.sun.tools.javac.code.Symtab.enterClass(Symtab.java:714)\r\n\tat jdk.compiler/com.sun.tools.javac.code.Symtab.enterClass(Symtab.java:275)\r\n\tat jdk.compiler/com.sun.tools.javac.code.Symtab.&lt;init&gt;(Symtab.java:485)\r\n\tat jdk.compiler/com.sun.tools.javac.code.Symtab.instance(Symtab.java:89)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.&lt;init&gt;(Attr.java:128)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.instance(Attr.java:119)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Annotate.&lt;init&gt;(Annotate.java:109)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Annotate.instance(Annotate.java:84)\r\n\tat jdk.compiler/com.sun.tools.javac.jvm.ClassReader.&lt;init&gt;(ClassReader.java:235)\r\n\tat jdk.compiler/com.sun.tools.javac.jvm.ClassReader.instance(ClassReader.java:228)\r\n\tat jdk.compiler/com.sun.tools.javac.code.ClassFinder.&lt;init&gt;(ClassFinder.java:180)\r\n\tat jdk.compiler/com.sun.tools.javac.code.ClassFinder.instance(ClassFinder.java:173)\r\n\tat jdk.compiler/com.sun.tools.javac.main.JavaCompiler.&lt;init&gt;(JavaCompiler.java:386)\r\n\tat jdk.compiler/com.sun.tools.javac.main.JavaCompiler.instance(JavaCompiler.java:115)\r\n\tat jdk.compiler/com.sun.tools.javac.main.Main.compile(Main.java:291)\r\n\tat jdk.compiler/com.sun.tools.javac.main.Main.compile(Main.java:165)\r\n\tat jdk.compiler/com.sun.tools.javac.Main.compile(Main.java:57)\r\n\tat jdk.compiler/com.sun.tools.javac.Main.main(Main.java:43)\r\n```\r\n\r\n# Already checked\r\n\r\n## Other JDKs\r\n\r\nWith java 11 it works:\r\n\r\n```shell\r\n$ wget https://download.java.net/java/GA/jdk11/9/GPL/openjdk-11.0.2_linux-x64_bin.tar.gz\r\n...\r\n2022-10-24 14:08:42 (10,6 MB/s) - ‘openjdk-11.0.2_linux-x64_bin.tar.gz’ saved [187513052/187513052]\r\n\r\n$ tar -xzf openjdk-11.0.2_linux-x64_bin.tar.gz\r\n$ jdk-11.0.2/bin/java -version \r\nopenjdk version &quot;11.0.2&quot; 2019-01-15\r\nOpenJDK Runtime Environment 18.9 (build 11.0.2+9)\r\nOpenJDK 64-Bit Server VM 18.9 (build 11.0.2+9, mixed mode)\r\n$ jdk-11.0.2/bin/javac -version                             \r\njavac 11.0.2\r\n$ jdk-11.0.2/bin/javac Test.java\r\n$ jdk-11.0.2/bin/java Test\r\nHello, world!\r\n```\r\n\r\nIt also works with java 9:\r\n\r\n```shell\r\n$ wget https://download.java.net/java/GA/jdk9/9.0.4/binaries/openjdk-9.0.4_linux-x64_bin.tar.gz\r\n...\r\n2022-10-24 14:31:05 (11,0 MB/s) - ‘openjdk-9.0.4_linux-x64_bin.tar.gz’ saved [206018615/206018615]\r\n$ tar -xzf openjdk-9.0.4_linux-x64_bin.tar.gz\r\n$ jdk-9.0.4/bin/java -version \r\nopenjdk version &quot;9.0.4&quot;\r\nOpenJDK Runtime Environment (build 9.0.4+11)\r\nOpenJDK 64-Bit Server VM (build 9.0.4+11, mixed mode)\r\n$ jdk-9.0.4/bin/javac -version\r\njavac 9.0.4\r\n$ jdk-9.0.4/bin/javac Test.java\r\n$ jdk-9.0.4/bin/java Test     \r\nHello, world!\r\n```\r\n\r\nSame goes with java 8, 12 and 17.\r\n\r\nI have also tried the [Zulu distributions][zulu-downloads].\r\n\r\n## Fresh install\r\n\r\nI have tried installing a fresh [Ubuntu 22.04 Desktop image][ubuntu-22-04-download] on a VirtualBox. The problem cannot be reproduced. When downloading openjdk 10 and compiling/running the simple `Test.java` file, it does work as expected. It has to be related to my machine configuration.\r\n\r\n# OS information\r\n\r\nHere are some details about my OS:\r\n\r\n```shell\r\n$ cat /etc/os-release\r\nPRETTY_NAME=&quot;Ubuntu 22.04.1 LTS&quot;\r\nNAME=&quot;Ubuntu&quot;\r\nVERSION_ID=&quot;22.04&quot;\r\nVERSION=&quot;22.04.1 LTS (Jammy Jellyfish)&quot;\r\nVERSION_CODENAME=jammy\r\nID=ubuntu\r\nID_LIKE=debian\r\nHOME_URL=&quot;https://www.ubuntu.com/&quot;\r\nSUPPORT_URL=&quot;https://help.ubuntu.com/&quot;\r\nBUG_REPORT_URL=&quot;https://bugs.launchpad.net/ubuntu/&quot;\r\nPRIVACY_POLICY_URL=&quot;https://www.ubuntu.com/legal/terms-and-policies/privacy-policy&quot;\r\nUBUNTU_CODENAME=jammy\r\n$ uname --all                        \r\nLinux Work-Miguel 5.15.0-52-generic #58-Ubuntu SMP Thu Oct 13 08:03:55 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux\r\n```\r\n\r\n[openjdk-archive]: https://jdk.java.net/archive/\r\n[zulu-downloads]: https://www.azul.com/downloads/?os=ubuntu&amp;architecture=x86-64-bit&amp;package=jdk&amp;show-old-builds=true\r\n[ubuntu-22-04-download]: https://releases.ubuntu.com/22.04/","title":"Cannot compile with openjdk10, but can with openjdk11 and openjdk9","body":"<h1>The problem</h1>\n<p>I need to use JDK10 to compile a legacy project I have to work on. I know it is a short-term support release whose lifetime has ended. But before the project is updated to a newer Java version I need to be able to build and run it on my development machine.</p>\n<blockquote>\n<p>Note: The project does build correctly on its CI pipeline and does run on the production environment. The problem is not related to the project but to my machine.</p>\n</blockquote>\n<p>The problem I am running into is I <strong>cannot compile any java code with JDK10</strong>, but <strong>other JDKs</strong> such as 8, 9, 11, 12 and 17 <strong>do work</strong>.</p>\n<h1>Reproduce the problem</h1>\n<p>To showcase my problem, I am trying to compile a simple hello world program <code>Test.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello, world!&quot;);\n    }\n}\n</code></pre>\n<p>I am using the prebuilt JDK from <a href=\"https://jdk.java.net/archive/\" rel=\"nofollow noreferrer\">OpenJDK</a>, but I have also tried and reproduced this problem with the <a href=\"https://www.azul.com/downloads/?os=ubuntu&amp;architecture=x86-64-bit&amp;package=jdk&amp;show-old-builds=true\" rel=\"nofollow noreferrer\">Zulu</a> distribution.</p>\n<p>I can consistently reproduce the problem with:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ wget https://download.java.net/java/GA/jdk10/10.0.2/19aef61b38124481863b1413dce1855f/13/openjdk-10.0.2_linux-x64_bin.tar.gz\n...\n2022-10-24 14:10:31 (11,1 MB/s) - ‘openjdk-10.0.2_linux-x64_bin.tar.gz’ saved [204892533/204892533]\n$ tar -xzf openjdk-10.0.2_linux-x64_bin.tar.gz\n$ jdk-10.0.2/bin/java -version \nopenjdk version &quot;10.0.2&quot; 2018-07-17\nOpenJDK Runtime Environment 18.3 (build 10.0.2+13)\nOpenJDK 64-Bit Server VM 18.3 (build 10.0.2+13, mixed mode)\n$ jdk-10.0.2/bin/javac -version                             \njavac 10.0.2\n$ jdk-10.0.2/bin/javac Test.java\nException in thread &quot;main&quot; java.lang.ClassFormatError: Ille in class file &lt;Unknown&gt;\n    at java.base/jdk.internal.misc.Unsafe.defineAnonymousClass0(Native Method)\n    at java.base/jdk.internal.misc.Unsafe.defineAnonymousClass(Unsafe.java:1223)\n    at java.base/java.lang.invoke.InnerClassLambdaMetafactory.spinInnerClass(InnerClassLambdaMetafactory.java:320)\n    at java.base/java.lang.invoke.InnerClassLambdaMetafactory.buildCallSite(InnerClassLambdaMetafactory.java:188)\n    at java.base/java.lang.invoke.LambdaMetafactory.metafactory(LambdaMetafactory.java:317)\n    at java.base/java.lang.invoke.CallSite.makeSite(CallSite.java:330)\n    at java.base/java.lang.invoke.MethodHandleNatives.linkCallSiteImpl(MethodHandleNatives.java:250)\n    at java.base/java.lang.invoke.MethodHandleNatives.linkCallSite(MethodHandleNatives.java:240)\n    at jdk.compiler/com.sun.tools.javac.code.Symtab.doEnterClass(Symtab.java:700)\n    at jdk.compiler/com.sun.tools.javac.code.Symtab.enterClass(Symtab.java:714)\n    at jdk.compiler/com.sun.tools.javac.code.Symtab.enterClass(Symtab.java:275)\n    at jdk.compiler/com.sun.tools.javac.code.Symtab.&lt;init&gt;(Symtab.java:485)\n    at jdk.compiler/com.sun.tools.javac.code.Symtab.instance(Symtab.java:89)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.&lt;init&gt;(Attr.java:128)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.instance(Attr.java:119)\n    at jdk.compiler/com.sun.tools.javac.comp.Annotate.&lt;init&gt;(Annotate.java:109)\n    at jdk.compiler/com.sun.tools.javac.comp.Annotate.instance(Annotate.java:84)\n    at jdk.compiler/com.sun.tools.javac.jvm.ClassReader.&lt;init&gt;(ClassReader.java:235)\n    at jdk.compiler/com.sun.tools.javac.jvm.ClassReader.instance(ClassReader.java:228)\n    at jdk.compiler/com.sun.tools.javac.code.ClassFinder.&lt;init&gt;(ClassFinder.java:180)\n    at jdk.compiler/com.sun.tools.javac.code.ClassFinder.instance(ClassFinder.java:173)\n    at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.&lt;init&gt;(JavaCompiler.java:386)\n    at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.instance(JavaCompiler.java:115)\n    at jdk.compiler/com.sun.tools.javac.main.Main.compile(Main.java:291)\n    at jdk.compiler/com.sun.tools.javac.main.Main.compile(Main.java:165)\n    at jdk.compiler/com.sun.tools.javac.Main.compile(Main.java:57)\n    at jdk.compiler/com.sun.tools.javac.Main.main(Main.java:43)\n</code></pre>\n<h1>Already checked</h1>\n<h2>Other JDKs</h2>\n<p>With java 11 it works:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ wget https://download.java.net/java/GA/jdk11/9/GPL/openjdk-11.0.2_linux-x64_bin.tar.gz\n...\n2022-10-24 14:08:42 (10,6 MB/s) - ‘openjdk-11.0.2_linux-x64_bin.tar.gz’ saved [187513052/187513052]\n\n$ tar -xzf openjdk-11.0.2_linux-x64_bin.tar.gz\n$ jdk-11.0.2/bin/java -version \nopenjdk version &quot;11.0.2&quot; 2019-01-15\nOpenJDK Runtime Environment 18.9 (build 11.0.2+9)\nOpenJDK 64-Bit Server VM 18.9 (build 11.0.2+9, mixed mode)\n$ jdk-11.0.2/bin/javac -version                             \njavac 11.0.2\n$ jdk-11.0.2/bin/javac Test.java\n$ jdk-11.0.2/bin/java Test\nHello, world!\n</code></pre>\n<p>It also works with java 9:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ wget https://download.java.net/java/GA/jdk9/9.0.4/binaries/openjdk-9.0.4_linux-x64_bin.tar.gz\n...\n2022-10-24 14:31:05 (11,0 MB/s) - ‘openjdk-9.0.4_linux-x64_bin.tar.gz’ saved [206018615/206018615]\n$ tar -xzf openjdk-9.0.4_linux-x64_bin.tar.gz\n$ jdk-9.0.4/bin/java -version \nopenjdk version &quot;9.0.4&quot;\nOpenJDK Runtime Environment (build 9.0.4+11)\nOpenJDK 64-Bit Server VM (build 9.0.4+11, mixed mode)\n$ jdk-9.0.4/bin/javac -version\njavac 9.0.4\n$ jdk-9.0.4/bin/javac Test.java\n$ jdk-9.0.4/bin/java Test     \nHello, world!\n</code></pre>\n<p>Same goes with java 8, 12 and 17.</p>\n<p>I have also tried the <a href=\"https://www.azul.com/downloads/?os=ubuntu&amp;architecture=x86-64-bit&amp;package=jdk&amp;show-old-builds=true\" rel=\"nofollow noreferrer\">Zulu distributions</a>.</p>\n<h2>Fresh install</h2>\n<p>I have tried installing a fresh <a href=\"https://releases.ubuntu.com/22.04/\" rel=\"nofollow noreferrer\">Ubuntu 22.04 Desktop image</a> on a VirtualBox. The problem cannot be reproduced. When downloading openjdk 10 and compiling/running the simple <code>Test.java</code> file, it does work as expected. It has to be related to my machine configuration.</p>\n<h1>OS information</h1>\n<p>Here are some details about my OS:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ cat /etc/os-release\nPRETTY_NAME=&quot;Ubuntu 22.04.1 LTS&quot;\nNAME=&quot;Ubuntu&quot;\nVERSION_ID=&quot;22.04&quot;\nVERSION=&quot;22.04.1 LTS (Jammy Jellyfish)&quot;\nVERSION_CODENAME=jammy\nID=ubuntu\nID_LIKE=debian\nHOME_URL=&quot;https://www.ubuntu.com/&quot;\nSUPPORT_URL=&quot;https://help.ubuntu.com/&quot;\nBUG_REPORT_URL=&quot;https://bugs.launchpad.net/ubuntu/&quot;\nPRIVACY_POLICY_URL=&quot;https://www.ubuntu.com/legal/terms-and-policies/privacy-policy&quot;\nUBUNTU_CODENAME=jammy\n$ uname --all                        \nLinux Work-Miguel 5.15.0-52-generic #58-Ubuntu SMP Thu Oct 13 08:03:55 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux\n</code></pre>\n"},{"tags":["java","android","android-fragments","android-recyclerview"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1667001508,"post_id":74241602,"comment_id":131075248,"body_markdown":"`setContentView(R.layout.product_list_fragment);` – You&#39;re setting the `Activity`&#39;s layout to the `Fragment`&#39;s layout – which is the `&lt;RecyclerView&gt;` – and then trying to transact a `Fragment` into that `RecyclerView`. That&#39;s where it&#39;s throwing, when `LayoutInflater` asks the `Activity`&#39;s `RecyclerView` for `LayoutParams` in the `Fragment`&#39;s `onCreateView()`. Do you have a separate `Activity` layout that you meant to use there? Like something with an empty `&lt;FrameLayout&gt;` that&#39;s meant to hold the `Fragment`? In any case, you don&#39;t want to use the `Fragment`&#39;s.","body":"<code>setContentView(R.layout.product_list_fragment);</code> – You&#39;re setting the <code>Activity</code>&#39;s layout to the <code>Fragment</code>&#39;s layout – which is the <code>&lt;RecyclerView&gt;</code> – and then trying to transact a <code>Fragment</code> into that <code>RecyclerView</code>. That&#39;s where it&#39;s throwing, when <code>LayoutInflater</code> asks the <code>Activity</code>&#39;s <code>RecyclerView</code> for <code>LayoutParams</code> in the <code>Fragment</code>&#39;s <code>onCreateView()</code>. Do you have a separate <code>Activity</code> layout that you meant to use there? Like something with an empty <code>&lt;FrameLayout&gt;</code> that&#39;s meant to hold the <code>Fragment</code>? In any case, you don&#39;t want to use the <code>Fragment</code>&#39;s."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1667001943,"post_id":74241602,"comment_id":131075289,"body_markdown":"Looking again, I think you meant for `super(R.layout.main);` in the constructor to set the layout, so you can just get rid of the `setContentView()` call. You need to make sure, though, that the `R.id` in the `.add(R.id.productlist_recycler, …)` call is the right `android:id` for some `&lt;ViewGroup&gt;` in the `main` layout that the `Fragment` can be placed into.","body":"Looking again, I think you meant for <code>super(R.layout.main);</code> in the constructor to set the layout, so you can just get rid of the <code>setContentView()</code> call. You need to make sure, though, that the <code>R.id</code> in the <code>.add(R.id.productlist_recycler, …)</code> call is the right <code>android:id</code> for some <code>&lt;ViewGroup&gt;</code> in the <code>main</code> layout that the <code>Fragment</code> can be placed into."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1667002253,"post_id":74241602,"comment_id":131075333,"body_markdown":"Also, you need to `return v;` instead from `ProductListFragment`&#39;s `onCreateView()`.","body":"Also, you need to <code>return v;</code> instead from <code>ProductListFragment</code>&#39;s <code>onCreateView()</code>."},{"owner":{"account_id":24217927,"reputation":13,"user_id":18173525,"display_name":"ShinyStar MaybeNot"},"score":1,"creation_date":1667030201,"post_id":74241602,"comment_id":131078085,"body_markdown":"@MikeM. Thanks a lot. I do have a layout.main that has an FragmentContainerView. I thought the RecyclerView would function the same as it. Now my App doesn&#39;t give me the error anymore. It doesn&#39;t show the correct layout though, but I can fix that. Thanks a lot again.","body":"@MikeM. Thanks a lot. I do have a layout.main that has an FragmentContainerView. I thought the RecyclerView would function the same as it. Now my App doesn&#39;t give me the error anymore. It doesn&#39;t show the correct layout though, but I can fix that. Thanks a lot again."}],"owner":{"account_id":24217927,"reputation":13,"user_id":18173525,"display_name":"ShinyStar MaybeNot"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667029771,"creation_date":1666997518,"question_id":74241602,"body_markdown":"In my task I have to make for the Recycle View it&#39;s own xml file. But now I get the error of &quot;RecyclerView has no LayoutManager&quot; at the point I inflate it.\r\n\r\nEven so my task states that I have to include the Fragment part and service like this:\r\n   1. Create a single instance of the MusicStoreService in the MainActivity and provide a getter method.\r\n   2. In the ProductListFragment use (MainActivity) getActivity() to access the parent activity and from there the service.\r\n   3. Pass the service on to the ProductListAdapter&#39;s constructor\r\n\r\nHere are the files:\r\n\r\nMain.java\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    MusicStoreService music;\r\n    public MainActivity() {\r\n        super(R.layout.main);\r\n        System.out.println(&quot;MS2021: MainActivity/&quot;+&quot;MainActivity&quot;.hashCode()+&quot;: MainActivity() - created&quot;);\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        music = new MusicStoreServiceMock();\r\n     \r\n        setContentView(R.layout.product_list_fragment);\r\n\r\n        if (savedInstanceState == null) {\r\n            System.out.println(&quot;MS2021: MainActivity/&quot; + &quot;MainActivity&quot;.hashCode() + &quot; onCreate()&quot;);\r\n            getSupportFragmentManager().beginTransaction()\r\n                    .setReorderingAllowed(true)\r\n                    .add(R.id.productlist_recycler, ProductListFragment.class, null)\r\n                    .commit();\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n    public MusicStoreService getMusic() {\r\n        return music;\r\n    }\r\n```\r\n\r\nProductListFragement.java\r\n```\r\npublic class ProductListFragment extends Fragment {\r\n    RecyclerView  recyclerView;\r\n\r\n    @Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View v = inflater.inflate(R.layout.product_list_fragment, container, false);\r\n        recyclerView = (RecyclerView) v.findViewById(R.id.productlist_recycler);\r\n\r\n        recyclerView.setHasFixedSize(true);\r\n        RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(getContext());\r\n        recyclerView.setLayoutManager(layoutManager);\r\n\r\n        try {\r\n            recyclerView.setAdapter(new ProductListAdapter(((MainActivity) getActivity()).getMusic()));\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return super.onCreateView(inflater, container, savedInstanceState);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        ProductListAdapter pld = null;\r\n        try {\r\n            pld = new ProductListAdapter(new MusicStoreServiceMock());\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n        recyclerView.setAdapter(pld);\r\n    }\r\n}\r\n```\r\nProductListAdapter.java\r\n```\r\npublic class ProductListAdapter extends RecyclerView.Adapter&lt;ProductListAdapter.ViewHolder&gt;{\r\n\r\n    private List&lt;Product&gt; products;\r\n\r\n    public static class ViewHolder extends RecyclerView.ViewHolder {\r\n        private TextView produzer;\r\n        private TextView productName;\r\n        private TextView priceNumber;\r\n\r\n        public ViewHolder(View view,TextView produzer, TextView productName, TextView price) {\r\n            super(view);\r\n            this.produzer = produzer;\r\n            this.productName = productName;\r\n            this.priceNumber = price;\r\n        }\r\n\r\n        public TextView getProduzer() {\r\n            return produzer;\r\n        }\r\n\r\n        public TextView getProductName() {\r\n            return productName;\r\n        }\r\n\r\n        public TextView getPriceNumber() {\r\n            return priceNumber;\r\n        }\r\n\r\n        public void setProduzer(TextView produzer) {\r\n            this.produzer = produzer;\r\n        }\r\n\r\n        public void setProductName(TextView productName) {\r\n            this.productName = productName;\r\n        }\r\n\r\n        public void setPriceNumber(TextView priceNumber) {\r\n            this.priceNumber = priceNumber;\r\n        }\r\n    }\r\n\r\n\r\n    public ProductListAdapter(MusicStoreService dataSet) throws FileNotFoundException {\r\n        products = dataSet.getProducts();\r\n    }\r\n\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(ViewGroup viewGroup, int viewType) {\r\n\r\n        View view = LayoutInflater.from(viewGroup.getContext())\r\n                .inflate(R.layout\r\n                        .product_list_layout, viewGroup, false);\r\n\r\n        return new ViewHolder(view,view.findViewById(R.id.produzer),view.findViewById(R.id.productName),view.findViewById(R.id.priceNumber));\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onBindViewHolder(ViewHolder viewHolder, final int position) {\r\n        NumberFormat format = NumberFormat.getCurrencyInstance();\r\n        format.setCurrency(Currency.getInstance(&quot;EUR&quot;));\r\n        String price = format.format(products.get(position).getPrice().doubleValue());\r\n\r\n        viewHolder.getProduzer().setText(products.get(position).getManufacturer());\r\n        viewHolder.getProductName().setText(products.get(position).getName());\r\n        viewHolder.getPriceNumber().setText(price);\r\n    }\r\n\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return products.size();\r\n    }\r\n}\r\n```\r\n\r\nproduct_list_fragment.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.recyclerview.widget.RecyclerView\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:id=&quot;@+id/productlist_recycler&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:scrollbars=&quot;vertical&quot; /&gt;\r\n```\r\n\r\nproduct_list_layout.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:id=&quot;@+id/listLayout&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:padding=&quot;7dp&quot;\r\n\r\n        tools:ignore=&quot;MissingConstraints&quot;&gt;\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            &gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/produzer&quot;\r\n                android:layout_width=&quot;201dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:text=&quot;Hoi&quot;\r\n\r\n                /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/productName&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Hoisss&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                android:textSize=&quot;16dp&quot;\r\n                /&gt;\r\n        &lt;/LinearLayout&gt;\r\n        &lt;TextView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:id=&quot;@+id/priceNumber&quot;\r\n            android:text=&quot;HoiNumber&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:textAlignment=&quot;textEnd&quot;\r\n            android:textSize=&quot;20dp&quot;\r\n            tools:ignore=&quot;RtlCompat&quot; /&gt;\r\n\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nMusicStoreService is an interface which is implemented in MusicStoreServiceMock.\r\n\r\nThe error from Logcat:\r\n```\r\nandroid.view.InflateException: Binary XML file line #2 in at.hlpinkafeld.android.musicstore:layout/product_list_fragment: RecyclerView has no LayoutManager androidx.recyclerview.widget.RecyclerView{f251fbc VFED.V... ......I. 0,0-0,0 #7f0901ed app:id/productlist_recycler}, adapter:null, layout:null, context:at.hlpinkafeld.android.musicstore.MainActivity@c57a6e8\r\n    Caused by: java.lang.IllegalStateException: RecyclerView has no LayoutManager androidx.recyclerview.widget.RecyclerView{f251fbc VFED.V... ......I. 0,0-0,0 #7f0901ed app:id/productlist_recycler}, adapter:null, layout:null, context:at.hlpinkafeld.android.musicstore.MainActivity@c57a6e8\r\n        at androidx.recyclerview.widget.RecyclerView.generateLayoutParams(RecyclerView.java:4514)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:673)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:538)\r\n        at at.hlpinkafeld.android.musicstore.fragments.ProductListFragment.onCreateView(ProductListFragment.java:32)\r\n        at androidx.fragment.app.Fragment.performCreateView(Fragment.java:3104)\r\n        at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:524)\r\n        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261)\r\n        at androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:1899)\r\n        at androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:1823)\r\n        at androidx.fragment.app.FragmentManager.execPendingActions(FragmentManager.java:1760)\r\n        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:2985)\r\n        at androidx.fragment.app.FragmentManager.dispatchActivityCreated(FragmentManager.java:2895)\r\n        at androidx.fragment.app.FragmentController.dispatchActivityCreated(FragmentController.java:263)\r\n        at androidx.fragment.app.FragmentActivity.onStart(FragmentActivity.java:351)\r\n        at androidx.appcompat.app.AppCompatActivity.onStart(AppCompatActivity.java:248)\r\n        at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1455)\r\n        at android.app.Activity.performStart(Activity.java:8076)\r\n        at android.app.ActivityThread.handleStartActivity(ActivityThread.java:3660)\r\n        at android.app.servertransaction.TransactionExecutor.performLifecycleSequence(TransactionExecutor.java:221)\r\n        at android.app.servertransaction.TransactionExecutor.cycleToPath(TransactionExecutor.java:201)\r\n        at android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:173)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:97)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2210)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loopOnce(Looper.java:201)\r\n        at android.os.Looper.loop(Looper.java:288)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7839)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\r\n```\r\n\r\nI really apperiate any help or an explaination why the way I have it now won&#39;t work. \r\nAny help is really apperiated.\r\n","title":"How do I inflate a RecylerView? Why do I get an RecyclerView has no LayoutManager error?","body":"<p>In my task I have to make for the Recycle View it's own xml file. But now I get the error of &quot;RecyclerView has no LayoutManager&quot; at the point I inflate it.</p>\n<p>Even so my task states that I have to include the Fragment part and service like this:</p>\n<ol>\n<li>Create a single instance of the MusicStoreService in the MainActivity and provide a getter method.</li>\n<li>In the ProductListFragment use (MainActivity) getActivity() to access the parent activity and from there the service.</li>\n<li>Pass the service on to the ProductListAdapter's constructor</li>\n</ol>\n<p>Here are the files:</p>\n<p>Main.java</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    MusicStoreService music;\n    public MainActivity() {\n        super(R.layout.main);\n        System.out.println(&quot;MS2021: MainActivity/&quot;+&quot;MainActivity&quot;.hashCode()+&quot;: MainActivity() - created&quot;);\n    }\n\n    @Nullable\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        music = new MusicStoreServiceMock();\n     \n        setContentView(R.layout.product_list_fragment);\n\n        if (savedInstanceState == null) {\n            System.out.println(&quot;MS2021: MainActivity/&quot; + &quot;MainActivity&quot;.hashCode() + &quot; onCreate()&quot;);\n            getSupportFragmentManager().beginTransaction()\n                    .setReorderingAllowed(true)\n                    .add(R.id.productlist_recycler, ProductListFragment.class, null)\n                    .commit();\n            System.out.println();\n        }\n    }\n\n    public MusicStoreService getMusic() {\n        return music;\n    }\n</code></pre>\n<p>ProductListFragement.java</p>\n<pre><code>public class ProductListFragment extends Fragment {\n    RecyclerView  recyclerView;\n\n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    }\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View v = inflater.inflate(R.layout.product_list_fragment, container, false);\n        recyclerView = (RecyclerView) v.findViewById(R.id.productlist_recycler);\n\n        recyclerView.setHasFixedSize(true);\n        RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(getContext());\n        recyclerView.setLayoutManager(layoutManager);\n\n        try {\n            recyclerView.setAdapter(new ProductListAdapter(((MainActivity) getActivity()).getMusic()));\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n        return super.onCreateView(inflater, container, savedInstanceState);\n    }\n\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        ProductListAdapter pld = null;\n        try {\n            pld = new ProductListAdapter(new MusicStoreServiceMock());\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n        recyclerView.setAdapter(pld);\n    }\n}\n</code></pre>\n<p>ProductListAdapter.java</p>\n<pre><code>public class ProductListAdapter extends RecyclerView.Adapter&lt;ProductListAdapter.ViewHolder&gt;{\n\n    private List&lt;Product&gt; products;\n\n    public static class ViewHolder extends RecyclerView.ViewHolder {\n        private TextView produzer;\n        private TextView productName;\n        private TextView priceNumber;\n\n        public ViewHolder(View view,TextView produzer, TextView productName, TextView price) {\n            super(view);\n            this.produzer = produzer;\n            this.productName = productName;\n            this.priceNumber = price;\n        }\n\n        public TextView getProduzer() {\n            return produzer;\n        }\n\n        public TextView getProductName() {\n            return productName;\n        }\n\n        public TextView getPriceNumber() {\n            return priceNumber;\n        }\n\n        public void setProduzer(TextView produzer) {\n            this.produzer = produzer;\n        }\n\n        public void setProductName(TextView productName) {\n            this.productName = productName;\n        }\n\n        public void setPriceNumber(TextView priceNumber) {\n            this.priceNumber = priceNumber;\n        }\n    }\n\n\n    public ProductListAdapter(MusicStoreService dataSet) throws FileNotFoundException {\n        products = dataSet.getProducts();\n    }\n\n    @Override\n    public ViewHolder onCreateViewHolder(ViewGroup viewGroup, int viewType) {\n\n        View view = LayoutInflater.from(viewGroup.getContext())\n                .inflate(R.layout\n                        .product_list_layout, viewGroup, false);\n\n        return new ViewHolder(view,view.findViewById(R.id.produzer),view.findViewById(R.id.productName),view.findViewById(R.id.priceNumber));\n    }\n\n\n    @Override\n    public void onBindViewHolder(ViewHolder viewHolder, final int position) {\n        NumberFormat format = NumberFormat.getCurrencyInstance();\n        format.setCurrency(Currency.getInstance(&quot;EUR&quot;));\n        String price = format.format(products.get(position).getPrice().doubleValue());\n\n        viewHolder.getProduzer().setText(products.get(position).getManufacturer());\n        viewHolder.getProductName().setText(products.get(position).getName());\n        viewHolder.getPriceNumber().setText(price);\n    }\n\n\n    @Override\n    public int getItemCount() {\n        return products.size();\n    }\n}\n</code></pre>\n<p>product_list_fragment.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.recyclerview.widget.RecyclerView\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:id=&quot;@+id/productlist_recycler&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:scrollbars=&quot;vertical&quot; /&gt;\n</code></pre>\n<p>product_list_layout.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:id=&quot;@+id/listLayout&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;\n        android:padding=&quot;7dp&quot;\n\n        tools:ignore=&quot;MissingConstraints&quot;&gt;\n        &lt;LinearLayout\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:orientation=&quot;vertical&quot;\n            &gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/produzer&quot;\n                android:layout_width=&quot;201dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;\n                android:text=&quot;Hoi&quot;\n\n                /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/productName&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Hoisss&quot;\n                android:textStyle=&quot;bold&quot;\n                android:textSize=&quot;16dp&quot;\n                /&gt;\n        &lt;/LinearLayout&gt;\n        &lt;TextView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:id=&quot;@+id/priceNumber&quot;\n            android:text=&quot;HoiNumber&quot;\n            android:gravity=&quot;center&quot;\n            android:textAlignment=&quot;textEnd&quot;\n            android:textSize=&quot;20dp&quot;\n            tools:ignore=&quot;RtlCompat&quot; /&gt;\n\n\n    &lt;/LinearLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>MusicStoreService is an interface which is implemented in MusicStoreServiceMock.</p>\n<p>The error from Logcat:</p>\n<pre><code>android.view.InflateException: Binary XML file line #2 in at.hlpinkafeld.android.musicstore:layout/product_list_fragment: RecyclerView has no LayoutManager androidx.recyclerview.widget.RecyclerView{f251fbc VFED.V... ......I. 0,0-0,0 #7f0901ed app:id/productlist_recycler}, adapter:null, layout:null, context:at.hlpinkafeld.android.musicstore.MainActivity@c57a6e8\n    Caused by: java.lang.IllegalStateException: RecyclerView has no LayoutManager androidx.recyclerview.widget.RecyclerView{f251fbc VFED.V... ......I. 0,0-0,0 #7f0901ed app:id/productlist_recycler}, adapter:null, layout:null, context:at.hlpinkafeld.android.musicstore.MainActivity@c57a6e8\n        at androidx.recyclerview.widget.RecyclerView.generateLayoutParams(RecyclerView.java:4514)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:673)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:538)\n        at at.hlpinkafeld.android.musicstore.fragments.ProductListFragment.onCreateView(ProductListFragment.java:32)\n        at androidx.fragment.app.Fragment.performCreateView(Fragment.java:3104)\n        at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:524)\n        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261)\n        at androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:1899)\n        at androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:1823)\n        at androidx.fragment.app.FragmentManager.execPendingActions(FragmentManager.java:1760)\n        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:2985)\n        at androidx.fragment.app.FragmentManager.dispatchActivityCreated(FragmentManager.java:2895)\n        at androidx.fragment.app.FragmentController.dispatchActivityCreated(FragmentController.java:263)\n        at androidx.fragment.app.FragmentActivity.onStart(FragmentActivity.java:351)\n        at androidx.appcompat.app.AppCompatActivity.onStart(AppCompatActivity.java:248)\n        at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1455)\n        at android.app.Activity.performStart(Activity.java:8076)\n        at android.app.ActivityThread.handleStartActivity(ActivityThread.java:3660)\n        at android.app.servertransaction.TransactionExecutor.performLifecycleSequence(TransactionExecutor.java:221)\n        at android.app.servertransaction.TransactionExecutor.cycleToPath(TransactionExecutor.java:201)\n        at android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:173)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:97)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2210)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loopOnce(Looper.java:201)\n        at android.os.Looper.loop(Looper.java:288)\n        at android.app.ActivityThread.main(ActivityThread.java:7839)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\n</code></pre>\n<p>I really apperiate any help or an explaination why the way I have it now won't work.\nAny help is really apperiated.</p>\n"},{"tags":["java","string","split","substring"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1667006595,"post_id":74242187,"comment_id":131075754,"body_markdown":"What do you mean by &quot;efficient&quot;?","body":"What do you mean by &quot;efficient&quot;?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1667006776,"post_id":74242187,"comment_id":131075775,"body_markdown":"See https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java/4480774#4480774","body":"See <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java/4480774#4480774\" title=\"how do i write a correct micro benchmark in java\">stackoverflow.com/questions/504103/&hellip;</a>"},{"owner":{"account_id":7073901,"reputation":558,"user_id":5414637,"accept_rate":50,"display_name":"AutoTester999"},"score":0,"creation_date":1667006898,"post_id":74242187,"comment_id":131075789,"body_markdown":"Just any piece of code that works. I meant shorter rather than efficient.","body":"Just any piece of code that works. I meant shorter rather than efficient."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1667007172,"post_id":74242187,"comment_id":131075819,"body_markdown":"Just use `split`. Which is neither time nor space efficient, as it uses a regex and makes copies of parts of the string you con&#39;t care about.","body":"Just use <code>split</code>. Which is neither time nor space efficient, as it uses a regex and makes copies of parts of the string you con&#39;t care about."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1667007964,"post_id":74242187,"comment_id":131075887,"body_markdown":"Your examples all have the part you want to extract in position 9.  Is that always going to be the case?  Or will it vary? `abcd:e:fghijk:123:trwe` for example?","body":"Your examples all have the part you want to extract in position 9.  Is that always going to be the case?  Or will it vary? <code>abcd:e:fghijk:123:trwe</code> for example?"},{"owner":{"account_id":4281210,"reputation":1058,"user_id":3500521,"display_name":"Dreamspace President"},"score":0,"creation_date":1667020326,"post_id":74242187,"comment_id":131076902,"body_markdown":"&quot;What is a short way in Java using string functions to extract it?&quot; - The call to a dedicated method. I mean, if the correct abstraction of your requirement is indeed &quot;extract the string between the 3rd colon and the 4th colon&quot;, and you want to write fast efficient code, it&#39;s gonna be a few lines in said method.","body":"&quot;What is a short way in Java using string functions to extract it?&quot; - The call to a dedicated method. I mean, if the correct abstraction of your requirement is indeed &quot;extract the string between the 3rd colon and the 4th colon&quot;, and you want to write fast efficient code, it&#39;s gonna be a few lines in said method."}],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1667029172,"post_id":74242285,"comment_id":131077946,"body_markdown":"Note to readers: To collect results, replace `.forEach` with `.toList`.","body":"Note to readers: To collect results, replace <code>.forEach</code> with <code>.toList</code>."}],"tags":[],"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1667029038,"creation_date":1667007554,"answer_id":74242285,"question_id":74242187,"body_markdown":"You can just split by &quot;:&quot; and get the fourth element:\r\n\r\nsomething like:\r\n\r\n```\r\nStream.of(&quot;ab:ab:ab:1:ab&quot;, &quot;ac:ac:ac:2:ac&quot;, &quot;ad:ad:ad:3:ad&quot;)\r\n      .map(s -&gt; s.split(&quot;:&quot;)[3])\r\n      .forEach(System.out::println);\r\n\r\n```\r\nOutput:\r\n```\r\n1\r\n2\r\n3","title":"Get substring between 3rd colon and 4th colon","body":"<p>You can just split by &quot;:&quot; and get the fourth element:</p>\n<p>something like:</p>\n<pre><code>Stream.of(&quot;ab:ab:ab:1:ab&quot;, &quot;ac:ac:ac:2:ac&quot;, &quot;ad:ad:ad:3:ad&quot;)\n      .map(s -&gt; s.split(&quot;:&quot;)[3])\n      .forEach(System.out::println);\n\n</code></pre>\n<p>Output:</p>\n<pre><code>1\n2\n3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667016321,"creation_date":1667016321,"answer_id":74242749,"question_id":74242187,"body_markdown":"And as an alternative, replace the entire string with the desired item via a capture.\r\n- `(?:.*?:){3}` - non capturing group of three reluctant strings followed by a `:`\r\n- `(.*?)` - the capture of the target between 3rd and 4th colon.\r\n- `.*$` - the rest of the string to the end.\r\n- `$1` - the reference to the first (and only) capture group\r\n```\r\nString[] data = { &quot;ab:ab:ab:1:ab&quot;,\r\n &quot;ac:ac:ac:2:ac&quot;,\r\n &quot;ad:ad:ad:3:ad&quot;};\r\n\r\nfor (String str : data) {\r\n    System.out.println(str.replaceAll(&quot;(?:.*?:){3}(.*?):.*$&quot;,&quot;$1&quot;));\r\n}\r\n```\r\nprints\r\n```\r\n1\r\n2\r\n3","title":"Get substring between 3rd colon and 4th colon","body":"<p>And as an alternative, replace the entire string with the desired item via a capture.</p>\n<ul>\n<li><code>(?:.*?:){3}</code> - non capturing group of three reluctant strings followed by a <code>:</code></li>\n<li><code>(.*?)</code> - the capture of the target between 3rd and 4th colon.</li>\n<li><code>.*$</code> - the rest of the string to the end.</li>\n<li><code>$1</code> - the reference to the first (and only) capture group</li>\n</ul>\n<pre><code>String[] data = { &quot;ab:ab:ab:1:ab&quot;,\n &quot;ac:ac:ac:2:ac&quot;,\n &quot;ad:ad:ad:3:ad&quot;};\n\nfor (String str : data) {\n    System.out.println(str.replaceAll(&quot;(?:.*?:){3}(.*?):.*$&quot;,&quot;$1&quot;));\n}\n</code></pre>\n<p>prints</p>\n<pre><code>1\n2\n3\n</code></pre>\n"}],"owner":{"account_id":7073901,"reputation":558,"user_id":5414637,"accept_rate":50,"display_name":"AutoTester999"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74242285,"answer_count":2,"score":0,"last_activity_date":1667029038,"creation_date":1667005892,"question_id":74242187,"body_markdown":"I have strings in the below pattern:\r\n\r\n    ab:ab:ab:1:ab\r\n    ac:ac:ac:2:ac\r\n    ad:ad:ad:3:ad\r\n\r\nI have to extract the string between the `3rd colon` and the `4th colon`.\r\n\r\nFor the above example strings, the results would be `&quot;1&quot;`, `&quot;2&quot;` and `&quot;3&quot;`.\r\n\r\nWhat is a short way in Java using string functions to extract it?\r\n","title":"Get substring between 3rd colon and 4th colon","body":"<p>I have strings in the below pattern:</p>\n<pre><code>ab:ab:ab:1:ab\nac:ac:ac:2:ac\nad:ad:ad:3:ad\n</code></pre>\n<p>I have to extract the string between the <code>3rd colon</code> and the <code>4th colon</code>.</p>\n<p>For the above example strings, the results would be <code>&quot;1&quot;</code>, <code>&quot;2&quot;</code> and <code>&quot;3&quot;</code>.</p>\n<p>What is a short way in Java using string functions to extract it?</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":1,"creation_date":1666984439,"post_id":74239099,"comment_id":131071936,"body_markdown":"In your client code call at first `generateData()` and afterwards call `saveToAnotherRepository()` when you need them both in a series. Your nesting of method calls, in particular each with a different transaction type, makes no sense to me and will fail as well.","body":"In your client code call at first <code>generateData()</code> and afterwards call <code>saveToAnotherRepository()</code> when you need them both in a series. Your nesting of method calls, in particular each with a different transaction type, makes no sense to me and will fail as well."},{"owner":{"account_id":4417609,"reputation":83,"user_id":3598686,"display_name":"adnan.mujkic"},"score":0,"creation_date":1667028385,"post_id":74239099,"comment_id":131077834,"body_markdown":"In the `generateData()` method, a large zip file is created, and therefore it needs to be in a read only transaction, because I get a Server Time-out otherwise. The `saveToAnotherMethod()` writes information about that zip itself, an thus thay can’t be called in two separate calls.","body":"In the <code>generateData()</code> method, a large zip file is created, and therefore it needs to be in a read only transaction, because I get a Server Time-out otherwise. The <code>saveToAnotherMethod()</code> writes information about that zip itself, an thus thay can’t be called in two separate calls."},{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1667065799,"post_id":74239099,"comment_id":131084673,"body_markdown":"It can; collect these information while you&#39;re in `generateData()` and utilize it afterwards in `saveToAnotherRepository(Map&lt;String, Object&gt; ids)` where it&#39;s needed.","body":"It can; collect these information while you&#39;re in <code>generateData()</code> and utilize it afterwards in <code>saveToAnotherRepository(Map&lt;String, Object&gt; ids)</code> where it&#39;s needed."}],"owner":{"account_id":4417609,"reputation":83,"user_id":3598686,"display_name":"adnan.mujkic"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667028942,"creation_date":1666979126,"question_id":74239099,"body_markdown":"I have a method, which has to be read only for performance reasons. Inside that method i have to performe an repository update by calling another method which is not read only. \r\n\r\n````\r\n@Transactional(readOnly = true) \r\nvoid generateData(){\r\n    //...generating data and adding result to informationAboutGeneratedData\r\n\tsaveToAnotherRepository(informationAboutGeneratedData);\r\n}\r\n\r\n@Transactional(readOnly = false)\r\nvoid saveToAnotherRepository(informationAboutGeneratedData){\r\n\t// save entity to repository\r\n    AnotherRepository.save(informationAboutGeneratedData);\r\n}\r\n\r\n````\r\n\r\nis there a way to do that?\r\n\r\n","title":"Save entity to repository in a read only transaction","body":"<p>I have a method, which has to be read only for performance reasons. Inside that method i have to performe an repository update by calling another method which is not read only.</p>\n<pre><code>@Transactional(readOnly = true) \nvoid generateData(){\n    //...generating data and adding result to informationAboutGeneratedData\n    saveToAnotherRepository(informationAboutGeneratedData);\n}\n\n@Transactional(readOnly = false)\nvoid saveToAnotherRepository(informationAboutGeneratedData){\n    // save entity to repository\n    AnotherRepository.save(informationAboutGeneratedData);\n}\n\n</code></pre>\n<p>is there a way to do that?</p>\n"},{"tags":["java","bufferedreader"],"answers":[{"comments":[{"owner":{"account_id":10757515,"reputation":103,"user_id":7915012,"display_name":"papi3301"},"score":0,"creation_date":1666991460,"post_id":74240824,"comment_id":131073633,"body_markdown":"Hi Oleg, thanks for your reply, but actually i would like to catch all the content in the only one string. My purpose is show the content in another program saving the code indent as well.","body":"Hi Oleg, thanks for your reply, but actually i would like to catch all the content in the only one string. My purpose is show the content in another program saving the code indent as well."}],"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667028482,"creation_date":1666990557,"answer_id":74240824,"question_id":74240771,"body_markdown":"```java\r\npublic static String getContentFromFile(Path file) throws IOException {\r\n    StringBuilder buf = new StringBuilder();\r\n    boolean add = false;\r\n\r\n    for (String line : Files.readAllLines(file)) {\r\n        if (&quot;end.&quot;.equalsIgnoreCase(line.trim()))\r\n            break;\r\n        if (add)\r\n            buf.append(line).append(System.lineSeparator());\r\n        else if (&quot;procedure something:&quot;.equalsIgnoreCase(line.trim()))\r\n            add = true;\r\n    }\r\n\r\n    return buf.toString();\r\n}\r\n```","title":"Get range of lines in file","body":"<pre class=\"lang-java prettyprint-override\"><code>public static String getContentFromFile(Path file) throws IOException {\n    StringBuilder buf = new StringBuilder();\n    boolean add = false;\n\n    for (String line : Files.readAllLines(file)) {\n        if (&quot;end.&quot;.equalsIgnoreCase(line.trim()))\n            break;\n        if (add)\n            buf.append(line).append(System.lineSeparator());\n        else if (&quot;procedure something:&quot;.equalsIgnoreCase(line.trim()))\n            add = true;\n    }\n\n    return buf.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4281210,"reputation":1058,"user_id":3500521,"display_name":"Dreamspace President"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666990994,"creation_date":1666990994,"answer_id":74240887,"question_id":74240771,"body_markdown":"    final StringBuilder sb = new StringBuilder();\r\n    try (final BufferedReader br = Files.newBufferedReader(file.toPath(), StandardCharsets.UTF_8)) {\r\n        String line;\r\n        boolean rememberStuff = false;\r\n        while ((line = br.readLine()) != null) {\r\n            if (line.startsWith(&quot;procedure &quot;)) {\r\n                rememberStuff = true;\r\n            } else if (line.startsWith(&quot;end.&quot;)) {\r\n                rememberStuff = false;\r\n            } else if (rememberStuff) {\r\n                sb.append(line).append(&#39;\\n&#39;);\r\n            }\r\n        }\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n    System.err.println(&quot;Lines found between procedure and end:&quot;);\r\n    System.err.println(sb);\r\n\r\n","title":"Get range of lines in file","body":"<pre><code>final StringBuilder sb = new StringBuilder();\ntry (final BufferedReader br = Files.newBufferedReader(file.toPath(), StandardCharsets.UTF_8)) {\n    String line;\n    boolean rememberStuff = false;\n    while ((line = br.readLine()) != null) {\n        if (line.startsWith(&quot;procedure &quot;)) {\n            rememberStuff = true;\n        } else if (line.startsWith(&quot;end.&quot;)) {\n            rememberStuff = false;\n        } else if (rememberStuff) {\n            sb.append(line).append('\\n');\n        }\n    }\n} catch (IOException e) {\n    e.printStackTrace();\n}\nSystem.err.println(&quot;Lines found between procedure and end:&quot;);\nSystem.err.println(sb);\n</code></pre>\n"}],"owner":{"account_id":10757515,"reputation":103,"user_id":7915012,"display_name":"papi3301"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74240887,"answer_count":2,"score":0,"last_activity_date":1667028482,"creation_date":1666990229,"question_id":74240771,"body_markdown":"i would like to save in a string multiple lines from reading file, eg: I am reading one file.txt with the following content:\r\n\r\n```\r\ndef var x as int.\r\ndef var y as char.\r\n\r\nprocedure something:\r\n\t//here some content\r\nend.\r\n```\r\n\r\nI would like to catch content between &quot;procedure&quot; and &quot;end&quot;.\r\n\r\n```\r\npublic static void main(String[] args) {\r\n        String piContent = &quot;&quot;;\r\n        try (BufferedReader br = new BufferedReader(new FileReader(&quot;file.txt&quot;))) {\r\n            String line;\r\n            while ((line = br.readLine()) != null) {\r\n                if(line.contains(&quot;procedure&quot;)){\r\n                    piContent = line;\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n}\r\n```\r\n\r\nI appreciate any help.","title":"Get range of lines in file","body":"<p>i would like to save in a string multiple lines from reading file, eg: I am reading one file.txt with the following content:</p>\n<pre><code>def var x as int.\ndef var y as char.\n\nprocedure something:\n    //here some content\nend.\n</code></pre>\n<p>I would like to catch content between &quot;procedure&quot; and &quot;end&quot;.</p>\n<pre><code>public static void main(String[] args) {\n        String piContent = &quot;&quot;;\n        try (BufferedReader br = new BufferedReader(new FileReader(&quot;file.txt&quot;))) {\n            String line;\n            while ((line = br.readLine()) != null) {\n                if(line.contains(&quot;procedure&quot;)){\n                    piContent = line;\n                }\n            }\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n}\n</code></pre>\n<p>I appreciate any help.</p>\n"},{"tags":["java","postgresql","hibernate","spring-boot","jpa"],"comments":[{"owner":{"account_id":3861784,"reputation":8519,"user_id":3199351,"accept_rate":35,"display_name":"Abdeali Chandanwala"},"score":0,"creation_date":1673253623,"post_id":61981787,"comment_id":132448281,"body_markdown":"this is a problem with H2 database as well. I was getting incorrect SQL syntax errors and hours later I found this and tried it and it started working. Good Question","body":"this is a problem with H2 database as well. I was getting incorrect SQL syntax errors and hours later I found this and tried it and it started working. Good Question"}],"answers":[{"tags":[],"owner":{"account_id":9150413,"reputation":4837,"user_id":6805190,"display_name":"dassum"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1590296825,"creation_date":1590296825,"answer_id":61981879,"question_id":61981787,"body_markdown":"user is a reserved word in SQL and Postgres. To avoid this, either you change the table name or define the table name as ```@Table(name=&quot;`user`&quot;)```\r\n\r\nplease check \r\nhttps://github.com/hibernate/hibernate-orm/blob/master/hibernate-core/src/test/java/org/hibernate/test/quote/User.java#L31","title":"Is there a rule that forbids to name its entity class &quot;User&quot; when working with PostgreSQL and Spring Boot?","body":"<p>user is a reserved word in SQL and Postgres. To avoid this, either you change the table name or define the table name as <code>@Table(name=\"`user`\")</code></p>\n\n<p>please check \n<a href=\"https://github.com/hibernate/hibernate-orm/blob/master/hibernate-core/src/test/java/org/hibernate/test/quote/User.java#L31\" rel=\"noreferrer\">https://github.com/hibernate/hibernate-orm/blob/master/hibernate-core/src/test/java/org/hibernate/test/quote/User.java#L31</a></p>\n"},{"tags":[],"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"comment_count":0,"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1590297136,"creation_date":1590296827,"answer_id":61981880,"question_id":61981787,"body_markdown":"In PostgreSQL `user` is a reserved keyword. Use quotes like `&quot;user&quot;` for table name using `@Table`\r\n\r\n    @Table(name = &quot;\\&quot;user\\&quot;&quot;)\r\n    public class User {\r\n\r\nBetter naming for table name is to use a plural form like `users`.\r\n\r\n    @Table(name = &quot;users&quot;)\r\n    public class User {\r\n\r\n","title":"Is there a rule that forbids to name its entity class &quot;User&quot; when working with PostgreSQL and Spring Boot?","body":"<p>In PostgreSQL <code>user</code> is a reserved keyword. Use quotes like <code>\"user\"</code> for table name using <code>@Table</code></p>\n\n<pre><code>@Table(name = \"\\\"user\\\"\")\npublic class User {\n</code></pre>\n\n<p>Better naming for table name is to use a plural form like <code>users</code>.</p>\n\n<pre><code>@Table(name = \"users\")\npublic class User {\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10540128,"reputation":967,"user_id":7766525,"accept_rate":88,"display_name":"wei"},"score":0,"creation_date":1667361019,"post_id":74243523,"comment_id":131146953,"body_markdown":"Duplicated, same as accepted answer.","body":"Duplicated, same as accepted answer."}],"tags":[],"owner":{"account_id":17139376,"reputation":21,"user_id":12403754,"display_name":"Vyankatesh kulkarni"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667028102,"creation_date":1667028102,"answer_id":74243523,"question_id":61981787,"body_markdown":"I was using `user` as a table name. changing it to `@Table(name=&quot;users&quot;)` worked for me.","title":"Is there a rule that forbids to name its entity class &quot;User&quot; when working with PostgreSQL and Spring Boot?","body":"<p>I was using <code>user</code> as a table name. changing it to <code>@Table(name=&quot;users&quot;)</code> worked for me.</p>\n"}],"owner":{"account_id":15024828,"reputation":193,"user_id":10845042,"display_name":"Emmanuel Arthur Mandeng"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12971,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":61981880,"answer_count":3,"score":19,"last_activity_date":1667028102,"creation_date":1590295920,"question_id":61981787,"body_markdown":"guys. I&#39;m having a problem with a Spring boot 2.3.0  and PostgreSQL 12 project. I have an entity class I called User whose code is as follows:\r\n\r\n    @Entity\r\n    @NoArgsConstructor\r\n    @Data\r\n    @AllArgsConstructor\r\n    @Builder\r\n    public class User {\r\n        @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String username;\r\n        private String email;\r\n        private String firstName;\r\n        private String lastName;\r\n        private int age;\r\n    }\r\nAnd my application.properties file looks like this:\r\n\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n    spring.jpa.hibernate.show-sql=true\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/dbname\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=*********\r\nThe concern is that when I execute my project I get a mistake like this:\r\n\r\n    org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;drop table if exists user cascade&quot; via JDBC Statement\r\n    \tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:241) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:314) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1249) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) [spring-orm-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) [spring-orm-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391) [spring-orm-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_252]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_252]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_252]\r\n    \tat java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_252]\r\n    Caused by: org.postgresql.util.PSQLException: ERREUR: erreur de syntaxe sur ou pr&#232;s de &#171; user &#187;\r\n      Position&#160;: 22\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2533) ~[postgresql-42.2.12.jar:42.2.12]\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2268) ~[postgresql-42.2.12.jar:42.2.12]\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:313) ~[postgresql-42.2.12.jar:42.2.12]\r\n    \tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:448) ~[postgresql-42.2.12.jar:42.2.12]\r\n    \tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:369) ~[postgresql-42.2.12.jar:42.2.12]\r\n    \tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:310) ~[postgresql-42.2.12.jar:42.2.12]\r\n    \tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:296) ~[postgresql-42.2.12.jar:42.2.12]\r\n    \tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:273) ~[postgresql-42.2.12.jar:42.2.12]\r\n    \tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:268) ~[postgresql-42.2.12.jar:42.2.12]\r\n    \tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-3.4.5.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-3.4.5.jar:na]\r\n    \tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \t... 18 common frames omitted\r\n    \r\n    2020-05-24 06:16:33.429  WARN 13636 --- [         task-1] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;create table user (id int8 generated by default as identity, age int4 not null, email varchar(255), first_name varchar(255), last_name varchar(255), username varchar(255), primary key (id))&quot; via JDBC Statement\r\n    \r\n    org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table user (id int8 generated by default as identity, age int4 not null, email varchar(255), first_name varchar(255), last_name varchar(255), username varchar(255), primary key (id))&quot; via JDBC Statement\r\n    \tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:423) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:314) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:166) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:314) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1249) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) [spring-orm-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) [spring-orm-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391) [spring-orm-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_252]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_252]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_252]\r\n    \tat java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_252]\r\n    Caused by: org.postgresql.util.PSQLException: ERREUR: erreur de syntaxe sur ou pr&#232;s de &#171; user &#187;\r\n      Position&#160;: 14\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2533) ~[postgresql-42.2.12.jar:42.2.12]\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2268) ~[postgresql-42.2.12.jar:42.2.12]\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:313) ~[postgresql-42.2.12.jar:42.2.12]\r\n    \tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:448) ~[postgresql-42.2.12.jar:42.2.12]\r\n    \tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:369) ~[postgresql-42.2.12.jar:42.2.12]\r\n    \tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:310) ~[postgresql-42.2.12.jar:42.2.12]\r\n    \tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:296) ~[postgresql-42.2.12.jar:42.2.12]\r\n    \tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:273) ~[postgresql-42.2.12.jar:42.2.12]\r\n    \tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:268) ~[postgresql-42.2.12.jar:42.2.12]\r\n    \tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-3.4.5.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-3.4.5.jar:na]\r\n    \tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \t... 18 common frames omitted\r\n However when I change the name of my class e.g. to Person \r\n   \r\n\r\n    @Entity\r\n    @NoArgsConstructor\r\n    @Data\r\n    @AllArgsConstructor\r\n    @Builder\r\n    public class Person {\r\n        @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String username;\r\n        private String email;\r\n        private String firstName;\r\n        private String lastName;\r\n        private int age;\r\n    }\r\nI don&#39;t get any errors. Could someone help me with this in the following way or at least explain me what is wrong with the entity class User.\r\nI would also like to add that when in doubt I tested this code with MySQL as an alternative to PostgreSQL and got no errors.","title":"Is there a rule that forbids to name its entity class &quot;User&quot; when working with PostgreSQL and Spring Boot?","body":"<p>guys. I'm having a problem with a Spring boot 2.3.0  and PostgreSQL 12 project. I have an entity class I called User whose code is as follows:</p>\n\n<pre><code>@Entity\n@NoArgsConstructor\n@Data\n@AllArgsConstructor\n@Builder\npublic class User {\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String username;\n    private String email;\n    private String firstName;\n    private String lastName;\n    private int age;\n}\n</code></pre>\n\n<p>And my application.properties file looks like this:</p>\n\n<pre><code>spring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.hibernate.show-sql=true\nspring.datasource.url=jdbc:postgresql://localhost:5432/dbname\nspring.datasource.username=postgres\nspring.datasource.password=*********\n</code></pre>\n\n<p>The concern is that when I execute my project I get a mistake like this:</p>\n\n<pre><code>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL \"drop table if exists user cascade\" via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:241) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:314) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1249) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) [spring-orm-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) [spring-orm-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391) [spring-orm-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_252]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_252]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_252]\n    at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_252]\nCaused by: org.postgresql.util.PSQLException: ERREUR: erreur de syntaxe sur ou près de « user »\n  Position : 22\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2533) ~[postgresql-42.2.12.jar:42.2.12]\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2268) ~[postgresql-42.2.12.jar:42.2.12]\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:313) ~[postgresql-42.2.12.jar:42.2.12]\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:448) ~[postgresql-42.2.12.jar:42.2.12]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:369) ~[postgresql-42.2.12.jar:42.2.12]\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:310) ~[postgresql-42.2.12.jar:42.2.12]\n    at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:296) ~[postgresql-42.2.12.jar:42.2.12]\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:273) ~[postgresql-42.2.12.jar:42.2.12]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:268) ~[postgresql-42.2.12.jar:42.2.12]\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-3.4.5.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-3.4.5.jar:na]\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    ... 18 common frames omitted\n\n2020-05-24 06:16:33.429  WARN 13636 --- [         task-1] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL \"create table user (id int8 generated by default as identity, age int4 not null, email varchar(255), first_name varchar(255), last_name varchar(255), username varchar(255), primary key (id))\" via JDBC Statement\n\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL \"create table user (id int8 generated by default as identity, age int4 not null, email varchar(255), first_name varchar(255), last_name varchar(255), username varchar(255), primary key (id))\" via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:423) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:314) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:166) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:314) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1249) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) [spring-orm-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) [spring-orm-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391) [spring-orm-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_252]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_252]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_252]\n    at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_252]\nCaused by: org.postgresql.util.PSQLException: ERREUR: erreur de syntaxe sur ou près de « user »\n  Position : 14\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2533) ~[postgresql-42.2.12.jar:42.2.12]\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2268) ~[postgresql-42.2.12.jar:42.2.12]\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:313) ~[postgresql-42.2.12.jar:42.2.12]\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:448) ~[postgresql-42.2.12.jar:42.2.12]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:369) ~[postgresql-42.2.12.jar:42.2.12]\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:310) ~[postgresql-42.2.12.jar:42.2.12]\n    at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:296) ~[postgresql-42.2.12.jar:42.2.12]\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:273) ~[postgresql-42.2.12.jar:42.2.12]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:268) ~[postgresql-42.2.12.jar:42.2.12]\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-3.4.5.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-3.4.5.jar:na]\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    ... 18 common frames omitted\n</code></pre>\n\n<p>However when I change the name of my class e.g. to Person </p>\n\n<pre><code>@Entity\n@NoArgsConstructor\n@Data\n@AllArgsConstructor\n@Builder\npublic class Person {\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String username;\n    private String email;\n    private String firstName;\n    private String lastName;\n    private int age;\n}\n</code></pre>\n\n<p>I don't get any errors. Could someone help me with this in the following way or at least explain me what is wrong with the entity class User.\nI would also like to add that when in doubt I tested this code with MySQL as an alternative to PostgreSQL and got no errors.</p>\n"},{"tags":["java","arrays","apache-spark","pyspark","apache-spark-sql"],"comments":[{"owner":{"account_id":10559728,"reputation":686,"user_id":7779865,"display_name":"Artem Astashov"},"score":0,"creation_date":1632832057,"post_id":69361583,"comment_id":122595204,"body_markdown":"Do you have fixed amount of elements in map or it can be changed?","body":"Do you have fixed amount of elements in map or it can be changed?"},{"owner":{"account_id":14770323,"reputation":610,"user_id":10666991,"display_name":"Ofir"},"score":0,"creation_date":1632832680,"post_id":69361583,"comment_id":122595506,"body_markdown":"@ArtemAstashov The number is not fixed but it can be blocked with a large number if needed","body":"@ArtemAstashov The number is not fixed but it can be blocked with a large number if needed"}],"answers":[{"tags":[],"owner":{"account_id":5270084,"reputation":9870,"user_id":4307136,"display_name":"ggordon"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1632853579,"creation_date":1632853579,"answer_id":69366797,"question_id":69361583,"body_markdown":"The following approach will work on variable length lists in `array_column`. The approach uses `explode` to expand the list of string elements in `array_column` before splitting each string element using `:` into two different columns `col_name` and `col_val` respectively. Finally a pivot is used with a group by to transpose the data into the desired format.\r\n\r\nThe following example uses the pyspark api but can easily be translated to the java/scala apis as they are similar. I assumed your dataset is in a dataframe named `input_df`\r\n\r\n```python\r\nfrom pyspark.sql import functions as F\r\n\r\noutput_df = (\r\n    input_df.select(&quot;id&quot;,F.explode(&quot;array_column&quot;).alias(&quot;acol&quot;))\r\n            .select(\r\n                &quot;id&quot;,\r\n                F.split(&quot;acol&quot;,&quot;:&quot;)[0].alias(&quot;col_name&quot;),\r\n                F.split(&quot;acol&quot;,&quot;:&quot;)[1].cast(&quot;integer&quot;).alias(&quot;col_val&quot;)\r\n            )\r\n            .groupBy(&quot;id&quot;)\r\n            .pivot(&quot;col_name&quot;)\r\n            .max(&quot;col_val&quot;)\r\n)\r\n```\r\n\r\nLet me know if this works for you.","title":"Spark explode array of string to columns","body":"<p>The following approach will work on variable length lists in <code>array_column</code>. The approach uses <code>explode</code> to expand the list of string elements in <code>array_column</code> before splitting each string element using <code>:</code> into two different columns <code>col_name</code> and <code>col_val</code> respectively. Finally a pivot is used with a group by to transpose the data into the desired format.</p>\n<p>The following example uses the pyspark api but can easily be translated to the java/scala apis as they are similar. I assumed your dataset is in a dataframe named <code>input_df</code></p>\n<pre class=\"lang-py prettyprint-override\"><code>from pyspark.sql import functions as F\n\noutput_df = (\n    input_df.select(&quot;id&quot;,F.explode(&quot;array_column&quot;).alias(&quot;acol&quot;))\n            .select(\n                &quot;id&quot;,\n                F.split(&quot;acol&quot;,&quot;:&quot;)[0].alias(&quot;col_name&quot;),\n                F.split(&quot;acol&quot;,&quot;:&quot;)[1].cast(&quot;integer&quot;).alias(&quot;col_val&quot;)\n            )\n            .groupBy(&quot;id&quot;)\n            .pivot(&quot;col_name&quot;)\n            .max(&quot;col_val&quot;)\n)\n</code></pre>\n<p>Let me know if this works for you.</p>\n"},{"tags":[],"owner":{"account_id":2441365,"reputation":13988,"user_id":2129801,"display_name":"werner"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1632854176,"creation_date":1632854176,"answer_id":69366917,"question_id":69361583,"body_markdown":"A very similar approach like ggordon&#39;s answer in Java:\r\n```lang-java\r\nimport static org.apache.spark.sql.functions.*;\r\n\r\nDataset&lt;Row&gt; df = ...\r\n\r\ndf.withColumn(&quot;array_column&quot;, explode(col(&quot;array_column&quot;)))\r\n        .withColumn(&quot;array_column&quot;, split(col(&quot;array_column&quot;), &quot;:&quot;))\r\n        .withColumn(&quot;key&quot;, col(&quot;array_column&quot;).getItem(0))\r\n        .withColumn(&quot;value&quot;, col(&quot;array_column&quot;).getItem(1))\r\n        .groupBy(col(&quot;id&quot;))\r\n        .pivot(col(&quot;key&quot;))\r\n        .agg(first(&quot;value&quot;)) //1\r\n        .show();\r\n```\r\nOutput:\r\n```lang-none\r\n+---+---+---+---+\r\n| id|  a|  b|  c|\r\n+---+---+---+---+\r\n| 12|456|225|126|\r\n| 11|123|125|456|\r\n+---+---+---+---+\r\n```\r\nI assume that the combination of `id` and and the key field in the array is unique. That&#39;s why the aggregation function used at `//1` is `first`. If this combination is not unique, the aggregation function could be changed to `collect_list` in order to get an array of all matching values.","title":"Spark explode array of string to columns","body":"<p>A very similar approach like ggordon's answer in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.apache.spark.sql.functions.*;\n\nDataset&lt;Row&gt; df = ...\n\ndf.withColumn(&quot;array_column&quot;, explode(col(&quot;array_column&quot;)))\n        .withColumn(&quot;array_column&quot;, split(col(&quot;array_column&quot;), &quot;:&quot;))\n        .withColumn(&quot;key&quot;, col(&quot;array_column&quot;).getItem(0))\n        .withColumn(&quot;value&quot;, col(&quot;array_column&quot;).getItem(1))\n        .groupBy(col(&quot;id&quot;))\n        .pivot(col(&quot;key&quot;))\n        .agg(first(&quot;value&quot;)) //1\n        .show();\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>+---+---+---+---+\n| id|  a|  b|  c|\n+---+---+---+---+\n| 12|456|225|126|\n| 11|123|125|456|\n+---+---+---+---+\n</code></pre>\n<p>I assume that the combination of <code>id</code> and and the key field in the array is unique. That's why the aggregation function used at <code>//1</code> is <code>first</code>. If this combination is not unique, the aggregation function could be changed to <code>collect_list</code> in order to get an array of all matching values.</p>\n"},{"comments":[{"owner":{"account_id":3392888,"reputation":3881,"user_id":2847330,"display_name":"Azhar Khan"},"score":1,"creation_date":1667008713,"post_id":73194452,"comment_id":131075953,"body_markdown":"very clever trick with converting to JSON and rebuilding dataframe from schema. ++ for that.","body":"very clever trick with converting to JSON and rebuilding dataframe from schema. ++ for that."}],"tags":[],"owner":{"account_id":3269897,"reputation":22672,"user_id":2753501,"accept_rate":75,"display_name":"ZygD"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667027758,"creation_date":1659360521,"answer_id":73194452,"question_id":69361583,"body_markdown":"Extracting column names from strings inside columns:\r\n\r\n- create a proper JSON string (with quote symbols around json objects and values)\r\n- create schema using this column\r\n- create struct and explode it into columns\r\n\r\nInput example:\r\n\r\n```python\r\nfrom pyspark.sql import functions as F\r\ndf = spark.createDataFrame(\r\n    [(12, [&#39;a:123&#39;, &#39;b:125&#39;, &#39;c:456&#39;]),\r\n     (13, [&#39;a:443&#39;, &#39;b:225&#39;, &#39;c:126&#39;])],\r\n    [&#39;id&#39;, &#39;array_col&#39;])\r\n\r\ndf.show(truncate=0)\r\n# +---+---------------------+\r\n# |id |array_col            |\r\n# +---+---------------------+\r\n# |12 |[a:123, b:125, c:456]|\r\n# |13 |[a:443, b:225, c:126]|\r\n# +---+---------------------+\r\n```\r\n\r\nScript:\r\n\r\n```python\r\ndf = df.withColumn(&quot;array_col&quot;, F.expr(&quot;to_json(str_to_map(array_join(array_col, &#39;,&#39;)))&quot;))\r\njson_schema = spark.read.json(df.rdd.map(lambda row: row.array_col)).schema\r\ndf = df.withColumn(&quot;array_col&quot;, F.from_json(&quot;array_col&quot;, json_schema))\r\ndf = df.select(&quot;*&quot;, &quot;array_col.*&quot;).drop(&quot;array_col&quot;)\r\n\r\ndf.show()\r\n# +---+---+---+---+\r\n# | id|  a|  b|  c|\r\n# +---+---+---+---+\r\n# | 12|123|125|456|\r\n# | 13|443|225|126|\r\n# +---+---+---+---+\r\n```","title":"Spark explode array of string to columns","body":"<p>Extracting column names from strings inside columns:</p>\n<ul>\n<li>create a proper JSON string (with quote symbols around json objects and values)</li>\n<li>create schema using this column</li>\n<li>create struct and explode it into columns</li>\n</ul>\n<p>Input example:</p>\n<pre class=\"lang-py prettyprint-override\"><code>from pyspark.sql import functions as F\ndf = spark.createDataFrame(\n    [(12, ['a:123', 'b:125', 'c:456']),\n     (13, ['a:443', 'b:225', 'c:126'])],\n    ['id', 'array_col'])\n\ndf.show(truncate=0)\n# +---+---------------------+\n# |id |array_col            |\n# +---+---------------------+\n# |12 |[a:123, b:125, c:456]|\n# |13 |[a:443, b:225, c:126]|\n# +---+---------------------+\n</code></pre>\n<p>Script:</p>\n<pre class=\"lang-py prettyprint-override\"><code>df = df.withColumn(&quot;array_col&quot;, F.expr(&quot;to_json(str_to_map(array_join(array_col, ',')))&quot;))\njson_schema = spark.read.json(df.rdd.map(lambda row: row.array_col)).schema\ndf = df.withColumn(&quot;array_col&quot;, F.from_json(&quot;array_col&quot;, json_schema))\ndf = df.select(&quot;*&quot;, &quot;array_col.*&quot;).drop(&quot;array_col&quot;)\n\ndf.show()\n# +---+---+---+---+\n# | id|  a|  b|  c|\n# +---+---+---+---+\n# | 12|123|125|456|\n# | 13|443|225|126|\n# +---+---+---+---+\n</code></pre>\n"}],"owner":{"account_id":14770323,"reputation":610,"user_id":10666991,"display_name":"Ofir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5803,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":69366797,"answer_count":3,"score":9,"last_activity_date":1667027758,"creation_date":1632831324,"question_id":69361583,"body_markdown":"I am using Spark with Java and I have a dataframe like this: \r\n```none\r\nid  | array_column\r\n-------------------\r\n12  | [a:123, b:125, c:456]\r\n13  | [a:443, b:225, c:126]\r\n```\r\n\r\nI want to explode `array_column` with the same id, however `explode` doesn&#39;t work, because I want dataframe to become:\r\n```none\r\nid  | a  | b  | c\r\n-------------------\r\n12  |123 |125 | 456 \r\n13  |443 |225 | 126\r\n```\r\n\r\n ","title":"Spark explode array of string to columns","body":"<p>I am using Spark with Java and I have a dataframe like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>id  | array_column\n-------------------\n12  | [a:123, b:125, c:456]\n13  | [a:443, b:225, c:126]\n</code></pre>\n<p>I want to explode <code>array_column</code> with the same id, however <code>explode</code> doesn't work, because I want dataframe to become:</p>\n<pre class=\"lang-none prettyprint-override\"><code>id  | a  | b  | c\n-------------------\n12  |123 |125 | 456 \n13  |443 |225 | 126\n</code></pre>\n"},{"tags":["java","sql","postgresql","stored-procedures","plpgsql"],"answers":[{"tags":[],"owner":{"account_id":904738,"reputation":617095,"user_id":939860,"accept_rate":100,"display_name":"Erwin Brandstetter"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1667026090,"creation_date":1363632215,"answer_id":15484437,"question_id":15483219,"body_markdown":"### Problems\r\n\r\n- Most importantly, the query in the `LOOP` is nonsense. You select rows from `carinstance`, but all conditions are on `rec`. This select *all* rows multiple times.\r\n\r\n- One `END` too many. `FOR` has no `END`, only `LOOP` has.\r\n\r\n- Whenever you feel the temptation to work with an explicit cursor in plpgsql, stop right there. Chances are, you are doing it wrong. A `FOR` loop has an implicit cursor anyway.\r\n\r\n- Don&#39;t mess with [mixed case identifiers without double quotes][1]. I converted all identifiers to lower case.\r\n\r\n- You use one simple query, spread out over a cursor and another query. This can all be much simpler.\r\n\r\n### Solution\r\n\r\nTry this simple SQL function instead:\r\n\r\n~~~pgsql\r\nCREATE OR REPLACE FUNCTION car_inst(_cname text, _loc text) \r\n  RETURNS TABLE (license_plate text)\r\n  LANGUAGE sql AS\r\n$func$\r\nSELECT DISTINCT ci.license_plate\r\nFROM   carmodel    cm\r\nJOIN   carinstance ci USING (mid)\r\nWHERE  cm.category_name  = $1\r\nAND    ci.lname = $2\r\n$func$;\r\n~~~\r\n\r\nCall:\r\n\r\n    SELECT license_plate AS test FROM car_inst(\r\n             (SELECT category_name FROM reservation WHERE rid = ?)\r\n           , (SELECT lname FROM reservation WHERE rid = ?)\r\n           );  \r\n\r\nOr build it all into your function:\r\n\r\n~~~pgsql\r\nCREATE OR REPLACE FUNCTION car_inst(_cname text, _loc text) \r\n  RETURNS TABLE (license_plate text)\r\n  LANGUAGE sql AS\r\n$func$\r\nSELECT DISTINCT ci.license_plate\r\nFROM   carmodel    cm\r\nJOIN   carinstance ci USING (mid)\r\nJOIN   reservation r1 ON r1.category_name = cm.category_name\r\nJOIN   reservation r2 ON r2.lname = ci.lname\r\nWHERE  r1.rid = $1\r\nAND    r2.rid = $2;\r\n$func$;\r\n~~~\r\n\r\nCall:\r\n\r\n    &quot;SELECT license_plate AS test FROM car_inst(? , ?)&quot;;  \r\n\r\n**Remember:** The `OUT` parameter `license_plate` is visible anywhere in the body of the function. Therefore you must table-qualify the column of the same name at all times to prevent a naming collision.\r\n\r\n`DISTINCT` may or may not be redundant.\r\n\r\n\r\n  [1]: https://www.postgresql.org/docs/current/sql-syntax-lexical.html#SQL-SYNTAX-IDENTIFIERS","title":"Calling a PostgreSQL function from Java","body":"<h3>Problems</h3>\n<ul>\n<li><p>Most importantly, the query in the <code>LOOP</code> is nonsense. You select rows from <code>carinstance</code>, but all conditions are on <code>rec</code>. This select <em>all</em> rows multiple times.</p>\n</li>\n<li><p>One <code>END</code> too many. <code>FOR</code> has no <code>END</code>, only <code>LOOP</code> has.</p>\n</li>\n<li><p>Whenever you feel the temptation to work with an explicit cursor in plpgsql, stop right there. Chances are, you are doing it wrong. A <code>FOR</code> loop has an implicit cursor anyway.</p>\n</li>\n<li><p>Don't mess with <a href=\"https://www.postgresql.org/docs/current/sql-syntax-lexical.html#SQL-SYNTAX-IDENTIFIERS\" rel=\"nofollow noreferrer\">mixed case identifiers without double quotes</a>. I converted all identifiers to lower case.</p>\n</li>\n<li><p>You use one simple query, spread out over a cursor and another query. This can all be much simpler.</p>\n</li>\n</ul>\n<h3>Solution</h3>\n<p>Try this simple SQL function instead:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE OR REPLACE FUNCTION car_inst(_cname text, _loc text) \n  RETURNS TABLE (license_plate text)\n  LANGUAGE sql AS\n$func$\nSELECT DISTINCT ci.license_plate\nFROM   carmodel    cm\nJOIN   carinstance ci USING (mid)\nWHERE  cm.category_name  = $1\nAND    ci.lname = $2\n$func$;\n</code></pre>\n<p>Call:</p>\n<pre><code>SELECT license_plate AS test FROM car_inst(\n         (SELECT category_name FROM reservation WHERE rid = ?)\n       , (SELECT lname FROM reservation WHERE rid = ?)\n       );  \n</code></pre>\n<p>Or build it all into your function:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE OR REPLACE FUNCTION car_inst(_cname text, _loc text) \n  RETURNS TABLE (license_plate text)\n  LANGUAGE sql AS\n$func$\nSELECT DISTINCT ci.license_plate\nFROM   carmodel    cm\nJOIN   carinstance ci USING (mid)\nJOIN   reservation r1 ON r1.category_name = cm.category_name\nJOIN   reservation r2 ON r2.lname = ci.lname\nWHERE  r1.rid = $1\nAND    r2.rid = $2;\n$func$;\n</code></pre>\n<p>Call:</p>\n<pre><code>&quot;SELECT license_plate AS test FROM car_inst(? , ?)&quot;;  \n</code></pre>\n<p><strong>Remember:</strong> The <code>OUT</code> parameter <code>license_plate</code> is visible anywhere in the body of the function. Therefore you must table-qualify the column of the same name at all times to prevent a naming collision.</p>\n<p><code>DISTINCT</code> may or may not be redundant.</p>\n"}],"owner":{"account_id":1637717,"reputation":1023,"user_id":1510751,"accept_rate":30,"display_name":"ueg1990"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4211,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":15484437,"answer_count":1,"score":2,"last_activity_date":1667026167,"creation_date":1363628104,"question_id":15483219,"body_markdown":"I have written a function that I would like to call in Java. But I don&#39;t think it is able to do anything with the query that I passed. Following is my code from java:\r\n\r\n    String QUERY_LOCATION = &quot;select (license_plate) as test from carInst( (select     category_name from reservation where rid = ?) , (select lname from reservation where rid =  ?))&quot;;  \r\n\t\t\t//PreparedStatement check_location = null;\r\n\t\t\tPreparedStatement check_location = connection.prepareStatement(QUERY_LOCATION);\r\n\t\t\tcheck_location.setInt(1, rid);\r\n\t\t\tcheck_location.setInt(2, rid);\r\n\t\t\trs = check_location.executeQuery();\r\n\t\t\tif (rs.next()) {\r\n\t\t\t\tSystem.out.print(&quot;Car found: &quot;+rs.getString(&quot;test&quot;)+&quot;\\n&quot;);\r\n\t\t\t\tlicense_plate = rs.getString(&quot;test&quot;);\r\n\t\t\t\tupdate_reservation.setString(5, license_plate);\r\n\t\t\t\t\r\n\t\t\t\tbool = false;\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out\r\n\t\t\t\t\t\t.print(&quot;There is no car available\\n&quot;);\r\n\t\t\t}\r\n\r\nAnd following is my stored procedure written in PL/pgSQL (PostgreSQL): \r\n\r\n    CREATE OR REPLACE FUNCTION carInst(cname varchar(20), loc varchar(20) ) \r\n\tRETURNS TABLE (license_plate varchar(6) ) AS $$\r\n\tBEGIN \r\n\t\tDECLARE cur CURSOR \r\n\t\t\tFOR SELECT carinstance.license_plate, carmodel.category_name, carinstance.lname FROM carinstance,carmodel \r\n\t\t\t\tWHERE carinstance.mid = carmodel.mid ;\t\t\t\t\t\r\n\tBEGIN \r\n\t\tFOR rec IN cur LOOP\r\n\t\t\tRETURN QUERY SELECT distinct carinstance.license_plate FROM Carinstance \r\n\t\t\t\tWHERE rec.category_name  = cname\r\n\t\t\t\t\tAND rec.lname = loc\r\n\t\t\t\t\tAND rec.license_plate=carinstance.license_plate;\r\n\t    \tEND LOOP;\r\n\t    END; \r\n    END;\r\n    $$ LANGUAGE plpgsql;\r\n\r\nWhen I run the code in Java, the print statement prints a null value for Car found. I would really appreciate some help here. ","title":"Calling a PostgreSQL function from Java","body":"<p>I have written a function that I would like to call in Java. But I don't think it is able to do anything with the query that I passed. Following is my code from java:</p>\n<pre><code>String QUERY_LOCATION = &quot;select (license_plate) as test from carInst( (select     category_name from reservation where rid = ?) , (select lname from reservation where rid =  ?))&quot;;  \n        //PreparedStatement check_location = null;\n        PreparedStatement check_location = connection.prepareStatement(QUERY_LOCATION);\n        check_location.setInt(1, rid);\n        check_location.setInt(2, rid);\n        rs = check_location.executeQuery();\n        if (rs.next()) {\n            System.out.print(&quot;Car found: &quot;+rs.getString(&quot;test&quot;)+&quot;\\n&quot;);\n            license_plate = rs.getString(&quot;test&quot;);\n            update_reservation.setString(5, license_plate);\n            \n            bool = false;\n        } else {\n            System.out\n                    .print(&quot;There is no car available\\n&quot;);\n        }\n</code></pre>\n<p>And following is my stored procedure written in PL/pgSQL (PostgreSQL):</p>\n<pre><code>CREATE OR REPLACE FUNCTION carInst(cname varchar(20), loc varchar(20) ) \nRETURNS TABLE (license_plate varchar(6) ) AS $$\nBEGIN \n    DECLARE cur CURSOR \n        FOR SELECT carinstance.license_plate, carmodel.category_name, carinstance.lname FROM carinstance,carmodel \n            WHERE carinstance.mid = carmodel.mid ;                  \nBEGIN \n    FOR rec IN cur LOOP\n        RETURN QUERY SELECT distinct carinstance.license_plate FROM Carinstance \n            WHERE rec.category_name  = cname\n                AND rec.lname = loc\n                AND rec.license_plate=carinstance.license_plate;\n        END LOOP;\n    END; \nEND;\n$$ LANGUAGE plpgsql;\n</code></pre>\n<p>When I run the code in Java, the print statement prints a null value for Car found. I would really appreciate some help here.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":1,"creation_date":1667024531,"post_id":74243177,"comment_id":131077325,"body_markdown":"Can you post the stacktrace as well? However it also possible that the crash is due to `binding.refreshView.setRefreshing(false);` in `doInBackground`. Move that to `onPreExecute()` maybe.","body":"Can you post the stacktrace as well? However it also possible that the crash is due to <code>binding.refreshView.setRefreshing(false);</code> in <code>doInBackground</code>. Move that to <code>onPreExecute()</code> maybe."},{"owner":{"account_id":9716431,"reputation":1,"user_id":19144451,"display_name":"SHAW"},"score":0,"creation_date":1667024966,"post_id":74243177,"comment_id":131077385,"body_markdown":"i did it. Please take a look","body":"i did it. Please take a look"},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1667025414,"post_id":74243177,"comment_id":131077451,"body_markdown":"1. I still don&#39;t see the stacktrace. 2. Did you try moving the said line from `doInBackground` to `onPreExecute`?","body":"1. I still don&#39;t see the stacktrace. 2. Did you try moving the said line from <code>doInBackground</code> to <code>onPreExecute</code>?"},{"owner":{"account_id":9716431,"reputation":1,"user_id":19144451,"display_name":"SHAW"},"score":0,"creation_date":1667025541,"post_id":74243177,"comment_id":131077468,"body_markdown":"https://i.stack.imgur.com/gi1r7.png","body":"<a href=\"https://i.stack.imgur.com/gi1r7.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/gi1r7.png</a>"},{"owner":{"account_id":9716431,"reputation":1,"user_id":19144451,"display_name":"SHAW"},"score":0,"creation_date":1667025675,"post_id":74243177,"comment_id":131077482,"body_markdown":"yes i moved the said line","body":"yes i moved the said line"},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1667025728,"post_id":74243177,"comment_id":131077489,"body_markdown":"Your `list` variable is `null`. Did you initialise it like `ArrayList&lt;satusModal&gt; list = new ArrayList()`?","body":"Your <code>list</code> variable is <code>null</code>. Did you initialise it like <code>ArrayList&lt;satusModal&gt; list = new ArrayList()</code>?"},{"owner":{"account_id":9716431,"reputation":1,"user_id":19144451,"display_name":"SHAW"},"score":0,"creation_date":1667025794,"post_id":74243177,"comment_id":131077497,"body_markdown":"yes. how can i send you full code","body":"yes. how can i send you full code"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":2,"creation_date":1667026725,"post_id":74243177,"comment_id":131077622,"body_markdown":"Do not create a new adapter for every file added to the list. Makes no sense to do that in onProgressUpdate. Instead you should do that once in onPostExecute.","body":"Do not create a new adapter for every file added to the list. Makes no sense to do that in onProgressUpdate. Instead you should do that once in onPostExecute."},{"owner":{"account_id":9716431,"reputation":1,"user_id":19144451,"display_name":"SHAW"},"score":0,"creation_date":1667041008,"post_id":74243177,"comment_id":131079698,"body_markdown":"@blackapps i want to show the image same time it is loaded for better UI.","body":"@blackapps i want to show the image same time it is loaded for better UI."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667059283,"post_id":74243177,"comment_id":131083263,"body_markdown":"You are on the wrong way. Design your app better. Images should be loaded lazy anyway so what you try to do makes no sense.","body":"You are on the wrong way. Design your app better. Images should be loaded lazy anyway so what you try to do makes no sense."},{"owner":{"account_id":9716431,"reputation":1,"user_id":19144451,"display_name":"SHAW"},"score":0,"creation_date":1667135655,"post_id":74243177,"comment_id":131094400,"body_markdown":"how would i do that","body":"how would i do that"}],"owner":{"account_id":9716431,"reputation":1,"user_id":19144451,"display_name":"SHAW"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667025884,"creation_date":1667024008,"question_id":74243177,"body_markdown":"I want to get photos from external storage and app breaks when refresh is done very fastly works fine with slow refreshing.\r\n\r\n`java.lang.RuntimeException: An error occurred while executing doInBackground()` is shown\r\n\r\n\r\n```\r\nnew AsyncTask&lt;Void, Void, Void&gt;()\r\n{\r\n    @Override\r\n    protected Void doInBackground(Void... voids) {\r\n\r\n        binding.refreshView.setRefreshing(false);\r\n\r\n        for (int i = 0; i &lt; allFiles.length; i++) {\r\n            File file = allFiles[i];\r\n\r\n            if (Uri.fromFile(file).toString().endsWith(&quot;.jpeg&quot;) || Uri.fromFile(file).toString().endsWith(&quot;.gif&quot;)\r\n                    || Uri.fromFile(file).toString().endsWith(&quot;.jpg&quot;) || Uri.fromFile(file).toString().endsWith(&quot;.png&quot;)) {\r\n                satusModal  modal = new satusModal(file.getAbsolutePath(), file.getName(), &quot;whats&quot; + i, Uri.fromFile(file));\r\n                list.add(modal);\r\n            }\r\n            publishProgress();\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onPreExecute() {\r\n        super.onPreExecute();\r\n        binding.progressBar.setVisibility(View.VISIBLE);\r\n    }\r\n\r\n    @Override\r\n    protected void onProgressUpdate(Void... values) {\r\n        super.onProgressUpdate(values);\r\n        //\r\n        binding.progressBar.setVisibility(View.GONE);\r\n        if(list.size()&gt;=1) {\r\n\r\n            adapter = new WhatsAppAdapter(list,getContext());\r\n            binding.recyclerViewFromImagesFragment.setAdapter(adapter);}\r\n    }\r\n\r\n    @Override\r\n    protected void onPostExecute(Void unused) {\r\n        super.onPostExecute(unused);\r\n\r\n        binding.progressBar.setVisibility(View.GONE);\r\n        if(list.size()&gt;=1) {\r\n\r\n\r\n            adapter = new WhatsAppAdapter(list,getContext());\r\n            binding.recyclerViewFromImagesFragment.setAdapter(adapter);}\r\n        else binding.warningNoStatus.setVisibility(View.VISIBLE);\r\n    }\r\n}.execute();\r\n```\r\n[Stacktrace][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gi1r7.png","title":"why does my app break when i try to get images from external storage with async task in android","body":"<p>I want to get photos from external storage and app breaks when refresh is done very fastly works fine with slow refreshing.</p>\n<p><code>java.lang.RuntimeException: An error occurred while executing doInBackground()</code> is shown</p>\n<pre><code>new AsyncTask&lt;Void, Void, Void&gt;()\n{\n    @Override\n    protected Void doInBackground(Void... voids) {\n\n        binding.refreshView.setRefreshing(false);\n\n        for (int i = 0; i &lt; allFiles.length; i++) {\n            File file = allFiles[i];\n\n            if (Uri.fromFile(file).toString().endsWith(&quot;.jpeg&quot;) || Uri.fromFile(file).toString().endsWith(&quot;.gif&quot;)\n                    || Uri.fromFile(file).toString().endsWith(&quot;.jpg&quot;) || Uri.fromFile(file).toString().endsWith(&quot;.png&quot;)) {\n                satusModal  modal = new satusModal(file.getAbsolutePath(), file.getName(), &quot;whats&quot; + i, Uri.fromFile(file));\n                list.add(modal);\n            }\n            publishProgress();\n        }\n        return null;\n    }\n\n\n    @Override\n    protected void onPreExecute() {\n        super.onPreExecute();\n        binding.progressBar.setVisibility(View.VISIBLE);\n    }\n\n    @Override\n    protected void onProgressUpdate(Void... values) {\n        super.onProgressUpdate(values);\n        //\n        binding.progressBar.setVisibility(View.GONE);\n        if(list.size()&gt;=1) {\n\n            adapter = new WhatsAppAdapter(list,getContext());\n            binding.recyclerViewFromImagesFragment.setAdapter(adapter);}\n    }\n\n    @Override\n    protected void onPostExecute(Void unused) {\n        super.onPostExecute(unused);\n\n        binding.progressBar.setVisibility(View.GONE);\n        if(list.size()&gt;=1) {\n\n\n            adapter = new WhatsAppAdapter(list,getContext());\n            binding.recyclerViewFromImagesFragment.setAdapter(adapter);}\n        else binding.warningNoStatus.setVisibility(View.VISIBLE);\n    }\n}.execute();\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/gi1r7.png\" rel=\"nofollow noreferrer\">Stacktrace</a></p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":20213056,"reputation":5,"user_id":14824774,"display_name":"cvhvx"},"score":0,"creation_date":1667057286,"post_id":74243327,"comment_id":131082839,"body_markdown":"Great way of doing it. Is there an alternative way of approaching this without using Math.min() ?","body":"Great way of doing it. Is there an alternative way of approaching this without using Math.min() ?"},{"owner":{"display_name":"user17233545"},"score":0,"creation_date":1667057551,"post_id":74243327,"comment_id":131082894,"body_markdown":"`Math.min(a, b)` -&gt; `(a &lt; b ? a : b)`","body":"<code>Math.min(a, b)</code> -&gt; <code>(a &lt; b ? a : b)</code>"}],"tags":[],"owner":{"display_name":"user17233545"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667025635,"creation_date":1667025635,"answer_id":74243327,"question_id":74243228,"body_markdown":"You should use `i += 2` or `i += 3` instead of `i++`.\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        String s=&quot;4458709584234185639039774928229&quot;;\r\n        int length = s.length();\r\n        int step = 2;\r\n        if (length &gt; 30) step = 3;\r\n        for (int i = 0; i &lt; length; i += step)\r\n            System.out.println(&quot;Group: &quot; + s.substring(i, Math.min(length, i + step)));\r\n    }\r\n\r\noutput\r\n\r\n    Group: 445\r\n    Group: 870\r\n    Group: 958\r\n    Group: 423\r\n    Group: 418\r\n    Group: 563\r\n    Group: 903\r\n    Group: 977\r\n    Group: 492\r\n    Group: 822\r\n    Group: 9\r\n\r\n","title":"Grouping string into substring based on randomized length","body":"<p>You should use <code>i += 2</code> or <code>i += 3</code> instead of <code>i++</code>.</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    String s=&quot;4458709584234185639039774928229&quot;;\n    int length = s.length();\n    int step = 2;\n    if (length &gt; 30) step = 3;\n    for (int i = 0; i &lt; length; i += step)\n        System.out.println(&quot;Group: &quot; + s.substring(i, Math.min(length, i + step)));\n}\n</code></pre>\n<p>output</p>\n<pre><code>Group: 445\nGroup: 870\nGroup: 958\nGroup: 423\nGroup: 418\nGroup: 563\nGroup: 903\nGroup: 977\nGroup: 492\nGroup: 822\nGroup: 9\n</code></pre>\n"}],"owner":{"account_id":20213056,"reputation":5,"user_id":14824774,"display_name":"cvhvx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74243327,"answer_count":1,"score":0,"last_activity_date":1667025635,"creation_date":1667024508,"question_id":74243228,"body_markdown":"Using math.random(), I have to generate a string made up of numbers from 0-9 (inclusive) based off a random length from 25-50 (inclusive). I do this in the method stringAdd(). Then with the generated string, I have to essentially &quot;group&quot; it based on the length so that eventually I can add it to a total. If the length is above 30, I would group it by 3, otherwise, just group by 2. I need to use substring for this.\r\n\r\nThe first thing I do is make a loop for the generated string:\r\n```\r\nString randomString = &quot;&quot;;\r\nfor(int i = 0; i &lt; length; i++)\r\n{\r\n   int numbers = (int)(Math.random()*10);\r\n   randomString = randomString + numbers;\r\n}\r\nSystem.out.println(&quot;Generated string: &quot; + randomString);\r\n```\r\n\r\nlength is the parameter of the method. I pass in randomLength (int randomLength = (int)(Math.random() * (50 - 25) + 1) + 25;) in main. Upon running it, the randomized length was 30.\r\n\r\n```\r\nGenerated string: 445870958423418563903977492822\r\n```\r\n\r\nThen I make a loop for &quot;grouping&quot; the string, but this is where I&#39;m stuck. The output I want would be something like...\r\n\r\n```\r\nGroup: 44\r\nGroup: 58\r\nGroup: 70\r\nGroup: 95\r\n```\r\n...and so on...\r\n\r\nBut I&#39;m not too sure how to go on about it. I try this:\r\n```\r\nfor (int i = 0; i &lt;= length ;i++)\r\n{\r\n   if(length &gt; 30)\r\n      System.out.println(&quot;Group: &quot; + randomString.substring(i, 3));\r\n   else\r\n      System.out.println(&quot;Group: &quot; + randomString.substring(i, 2));\r\n}\r\n```\r\n\r\nBut then the output is this:\r\n```\r\nGroup: 0175\r\nGroup: 175\r\nGroup: 75\r\nGroup: 5\r\nGroup: \r\n```\r\nuntil it goes into an out of bounds exception.\r\n\r\nIs there a simple way of doing this without anything too advanced?","title":"Grouping string into substring based on randomized length","body":"<p>Using math.random(), I have to generate a string made up of numbers from 0-9 (inclusive) based off a random length from 25-50 (inclusive). I do this in the method stringAdd(). Then with the generated string, I have to essentially &quot;group&quot; it based on the length so that eventually I can add it to a total. If the length is above 30, I would group it by 3, otherwise, just group by 2. I need to use substring for this.</p>\n<p>The first thing I do is make a loop for the generated string:</p>\n<pre><code>String randomString = &quot;&quot;;\nfor(int i = 0; i &lt; length; i++)\n{\n   int numbers = (int)(Math.random()*10);\n   randomString = randomString + numbers;\n}\nSystem.out.println(&quot;Generated string: &quot; + randomString);\n</code></pre>\n<p>length is the parameter of the method. I pass in randomLength (int randomLength = (int)(Math.random() * (50 - 25) + 1) + 25;) in main. Upon running it, the randomized length was 30.</p>\n<pre><code>Generated string: 445870958423418563903977492822\n</code></pre>\n<p>Then I make a loop for &quot;grouping&quot; the string, but this is where I'm stuck. The output I want would be something like...</p>\n<pre><code>Group: 44\nGroup: 58\nGroup: 70\nGroup: 95\n</code></pre>\n<p>...and so on...</p>\n<p>But I'm not too sure how to go on about it. I try this:</p>\n<pre><code>for (int i = 0; i &lt;= length ;i++)\n{\n   if(length &gt; 30)\n      System.out.println(&quot;Group: &quot; + randomString.substring(i, 3));\n   else\n      System.out.println(&quot;Group: &quot; + randomString.substring(i, 2));\n}\n</code></pre>\n<p>But then the output is this:</p>\n<pre><code>Group: 0175\nGroup: 175\nGroup: 75\nGroup: 5\nGroup: \n</code></pre>\n<p>until it goes into an out of bounds exception.</p>\n<p>Is there a simple way of doing this without anything too advanced?</p>\n"},{"tags":["java","struct"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1667013344,"post_id":74242357,"comment_id":131076313,"body_markdown":"You haven&#39;t asked a question. Please read [ask].","body":"You haven&#39;t asked a question. Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667021542,"creation_date":1667021542,"answer_id":74243033,"question_id":74242357,"body_markdown":"You can get `InputStream` using `ByteArrayOutputStream` and `ByteArrayInputStream`. You don&#39;t need to create the file.\r\n\r\n    ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n    try (Writer writer = new OutputStreamWriter(bos)) {\r\n        writer.write(business.toString());\r\n        writer.write(position.toString());\r\n    }\r\n    InputStream inputStream = new ByteArrayInputStream(bos.toByteArray());\r\n","title":"how to create a file on fly in java structs","body":"<p>You can get <code>InputStream</code> using <code>ByteArrayOutputStream</code> and <code>ByteArrayInputStream</code>. You don't need to create the file.</p>\n<pre><code>ByteArrayOutputStream bos = new ByteArrayOutputStream();\ntry (Writer writer = new OutputStreamWriter(bos)) {\n    writer.write(business.toString());\n    writer.write(position.toString());\n}\nInputStream inputStream = new ByteArrayInputStream(bos.toByteArray());\n</code></pre>\n"}],"owner":{"account_id":16627925,"reputation":11,"user_id":20341878,"display_name":"Kannuri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1667021542,"creation_date":1667008837,"question_id":74242357,"body_markdown":"i need to create a csv file based on array list values and how to upload it to ftp server i need file to get created on fly and pass it ftp method so it gets uploaded to ftp server\r\n\r\n```\r\npublic ActionForward generatePayroll(ActionMapping mapping, ActionForm form,\r\n                       HttpServletRequest request, HttpServletResponse response) {\r\n   SessionInfoForm _form = (SessionInfoForm) form;\r\n   SisTransactionsSession _config = _form.getSisTransactionsSession();\r\n   String loggedInUser = _form.getLoggedinEmployeeDVO().getLoginId().toUpperCase();\r\n   String[] business = request.getParameterValues(&quot;selectedBusinessValues&quot;);\r\n   String[] position = request.getParameterValues(&quot;selectedPositionValues&quot;);\r\n   File file= new File(&quot;PAYROLL_PRM.csv&quot;);\r\n   InputStream isFixedValue = null;\r\n   try {\r\n      // create FileWriter object with file as parameter\r\n      FileWriter fileWriter = new FileWriter(file);\r\n      // add data to csv\r\n      fileWriter.write(business.toString());\r\n      fileWriter.write(position.toString());\r\n\r\n      // closing writer connection\r\n      //fileWriter.flush();\r\n      isFixedValue = new BufferedInputStream(fileWriter.getInputStream());\r\n      fileWriter.close();\r\n   }\r\n   catch (IOException e) {\r\n      // TODO Auto-generated catch block\r\n      e.printStackTrace();\r\n   }\r\n   return mapping.findForward(&quot;success&quot;);\r\n}\r\n```\r\n\r\nthe below method works to upload file to ftp server\r\n\r\n```\r\nprivate boolean fileUpload(InputStream isUploadFile, String dirName, String loggedInUser,  String fileName){\r\n     boolean storeRetVal = false;\r\n  String fileType = fileName.substring(fileName.lastIndexOf(&quot;.&quot;) + 1, fileName.length());\r\n     storeRetVal = SISSFTPManager.getInstance().put(isUploadFile, dirName, fileName);\r\n     if (storeRetVal)\r\n     {\r\n         try {\r\n        if (fileType.trim().equalsIgnoreCase(&quot;csv&quot;)){\r\n           ICSAPI.getInstance().getSIMSOrderManager().createFileAudit(loggedInUser, fileName);\r\n        } else {\r\n\r\n        }\r\n   } catch (RemoteException e) {\r\n      // TODO Auto-generated catch block\r\n      e.printStackTrace();\r\n   } catch (SystemException e) {\r\n      // TODO Auto-generated catch block\r\n      e.printStackTrace();\r\n   } catch (ApplicationException e) {\r\n      // TODO Auto-generated catch block\r\n      e.printStackTrace();\r\n   }\r\n     logger.info(&quot;BulkUploadAction:fileUpload SFTP Transfer file successfully!&quot;);\r\n     } else {\r\n         logger.error(&quot;BulkUploadAction:fileUpload SFTP Transfer file FAILED!&quot;);          \r\n     }       \r\n    \r\n  return storeRetVal;\r\n }\r\n```","title":"how to create a file on fly in java structs","body":"<p>i need to create a csv file based on array list values and how to upload it to ftp server i need file to get created on fly and pass it ftp method so it gets uploaded to ftp server</p>\n<pre><code>public ActionForward generatePayroll(ActionMapping mapping, ActionForm form,\n                       HttpServletRequest request, HttpServletResponse response) {\n   SessionInfoForm _form = (SessionInfoForm) form;\n   SisTransactionsSession _config = _form.getSisTransactionsSession();\n   String loggedInUser = _form.getLoggedinEmployeeDVO().getLoginId().toUpperCase();\n   String[] business = request.getParameterValues(&quot;selectedBusinessValues&quot;);\n   String[] position = request.getParameterValues(&quot;selectedPositionValues&quot;);\n   File file= new File(&quot;PAYROLL_PRM.csv&quot;);\n   InputStream isFixedValue = null;\n   try {\n      // create FileWriter object with file as parameter\n      FileWriter fileWriter = new FileWriter(file);\n      // add data to csv\n      fileWriter.write(business.toString());\n      fileWriter.write(position.toString());\n\n      // closing writer connection\n      //fileWriter.flush();\n      isFixedValue = new BufferedInputStream(fileWriter.getInputStream());\n      fileWriter.close();\n   }\n   catch (IOException e) {\n      // TODO Auto-generated catch block\n      e.printStackTrace();\n   }\n   return mapping.findForward(&quot;success&quot;);\n}\n</code></pre>\n<p>the below method works to upload file to ftp server</p>\n<pre><code>private boolean fileUpload(InputStream isUploadFile, String dirName, String loggedInUser,  String fileName){\n     boolean storeRetVal = false;\n  String fileType = fileName.substring(fileName.lastIndexOf(&quot;.&quot;) + 1, fileName.length());\n     storeRetVal = SISSFTPManager.getInstance().put(isUploadFile, dirName, fileName);\n     if (storeRetVal)\n     {\n         try {\n        if (fileType.trim().equalsIgnoreCase(&quot;csv&quot;)){\n           ICSAPI.getInstance().getSIMSOrderManager().createFileAudit(loggedInUser, fileName);\n        } else {\n\n        }\n   } catch (RemoteException e) {\n      // TODO Auto-generated catch block\n      e.printStackTrace();\n   } catch (SystemException e) {\n      // TODO Auto-generated catch block\n      e.printStackTrace();\n   } catch (ApplicationException e) {\n      // TODO Auto-generated catch block\n      e.printStackTrace();\n   }\n     logger.info(&quot;BulkUploadAction:fileUpload SFTP Transfer file successfully!&quot;);\n     } else {\n         logger.error(&quot;BulkUploadAction:fileUpload SFTP Transfer file FAILED!&quot;);          \n     }       \n    \n  return storeRetVal;\n }\n</code></pre>\n"},{"tags":["java","javascript","angularjs","oauth","spring-boot"],"comments":[{"owner":{"account_id":1136595,"reputation":1803,"user_id":1121547,"display_name":"Jes&#250;s Quintana"},"score":0,"creation_date":1434879946,"post_id":30963165,"comment_id":49958451,"body_markdown":"You add the url oauth/auth to anonymous permission in Spring?","body":"You add the url oauth/auth to anonymous permission in Spring?"},{"owner":{"account_id":369208,"reputation":3085,"user_id":716456,"display_name":"Michael"},"score":0,"creation_date":1434882093,"post_id":30963165,"comment_id":49958925,"body_markdown":"Add &#39;Authorization&#39; header to the **Access-Control-Allow-Headers** list","body":"Add &#39;Authorization&#39; header to the <b>Access-Control-Allow-Headers</b> list"},{"owner":{"account_id":5499814,"reputation":305,"user_id":4369495,"accept_rate":33,"display_name":"karthik pamidimarri"},"score":0,"creation_date":1434882862,"post_id":30963165,"comment_id":49959092,"body_markdown":"@Michael I already added in the code these **Access-Control-Allow-Headers list** please see once, my credentials are not adding to request when i seen in browser console in the network.","body":"@Michael I already added in the code these <b>Access-Control-Allow-Headers list</b> please see once, my credentials are not adding to request when i seen in browser console in the network."},{"owner":{"account_id":369208,"reputation":3085,"user_id":716456,"display_name":"Michael"},"score":0,"creation_date":1434883220,"post_id":30963165,"comment_id":49959188,"body_markdown":"The OPTION request was sent from the browser to check access permission - not from angular. Not sure about the solution, but you should google for `CORS with credentials `","body":"The OPTION request was sent from the browser to check access permission - not from angular. Not sure about the solution, but you should google for <code>CORS with credentials </code>"}],"answers":[{"comments":[{"owner":{"account_id":5499814,"reputation":305,"user_id":4369495,"accept_rate":33,"display_name":"karthik pamidimarri"},"score":0,"creation_date":1434968449,"post_id":30973718,"comment_id":49985376,"body_markdown":"I added your code still the application is not working  still I am getting this following error in my browser console &quot;XMLHttpRequest cannot load http://localhost:8080/oauth/token. Request header field Access-Control-Allow-Origin is not allowed by Access-Control-Allow-Headers&quot;","body":"I added your code still the application is not working  still I am getting this following error in my browser console &quot;XMLHttpRequest cannot load <a href=\"http://localhost:8080/oauth/token\" rel=\"nofollow noreferrer\">localhost:8080/oauth/token</a>. Request header field Access-Control-Allow-Origin is not allowed by Access-Control-Allow-Headers&quot;"},{"owner":{"account_id":6858,"reputation":6636,"user_id":11662,"accept_rate":50,"display_name":"Vilmantas Baranauskas"},"score":0,"creation_date":1434970897,"post_id":30973718,"comment_id":49986824,"body_markdown":"The client should not send &quot;Access-Control-Allow-Origin&quot; header, it is sent by the server to client! Remove it from your JS code.","body":"The client should not send &quot;Access-Control-Allow-Origin&quot; header, it is sent by the server to client! Remove it from your JS code."}],"tags":[],"owner":{"account_id":6858,"reputation":6636,"user_id":11662,"accept_rate":50,"display_name":"Vilmantas Baranauskas"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1434956262,"creation_date":1434956262,"answer_id":30973718,"question_id":30963165,"body_markdown":"In case of OPTIONS request, you should not do further processing, i.e. skip the call to `chain.doFilter(req, res)`, e.g.:\r\n\r\n        HttpServletRequest request = (HttpServletRequest) req;\r\n        HttpServletResponse response = (HttpServletResponse) resp;\r\n\r\n        response.addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n\r\n        if (&quot;OPTIONS&quot;.equalsIgnoreCase(request.getMethod())) {\r\n    \t\tresponse.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST,GET,DELETE&quot;);\r\n\t\t    response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\r\n     \t\tresponse.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;content-type,access-control-request-headers,access-control-request-method,accept,origin,authorization,x-requested-with&quot;);\r\n            response.setStatus(HttpServletResponse.SC_OK);\r\n        } else {\r\n            chain.doFilter(req, resp);\r\n        }\r\n\r\n","title":"getting 401 to access http://localhost:8080/oauth/token","body":"<p>In case of OPTIONS request, you should not do further processing, i.e. skip the call to <code>chain.doFilter(req, res)</code>, e.g.:</p>\n\n<pre><code>    HttpServletRequest request = (HttpServletRequest) req;\n    HttpServletResponse response = (HttpServletResponse) resp;\n\n    response.addHeader(\"Access-Control-Allow-Origin\", \"*\");\n\n    if (\"OPTIONS\".equalsIgnoreCase(request.getMethod())) {\n        response.setHeader(\"Access-Control-Allow-Methods\", \"POST,GET,DELETE\");\n        response.setHeader(\"Access-Control-Max-Age\", \"3600\");\n        response.setHeader(\"Access-Control-Allow-Headers\", \"content-type,access-control-request-headers,access-control-request-method,accept,origin,authorization,x-requested-with\");\n        response.setStatus(HttpServletResponse.SC_OK);\n    } else {\n        chain.doFilter(req, resp);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11196620,"reputation":586,"user_id":8215084,"display_name":"Tanmay Naik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667018037,"creation_date":1667018037,"answer_id":74242844,"question_id":30963165,"body_markdown":"For Oauth2 you will be having this configuration class which extends `AuthorizationServerConfigurerAdapter`. In this class you can add this code\r\n\r\n    @Configuration\r\n    @EnableAuthorizationServer\r\n    public static class AuthServerConfiguration extends AuthorizationServerConfigurerAdapter {\r\n       \r\n    \r\n        @Override\r\n        public void configure(AuthorizationServerSecurityConfigurer security) {\r\n            \r\n    \r\n            UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n            CorsConfiguration config = new CorsConfiguration();\r\n            config.applyPermitDefaultValues();\r\n    \r\n           AuthorizationServerEndpointsConfigurer \r\n            source.registerCorsConfiguration(&quot;/oauth/token&quot;, config);\r\n            CorsFilter filter = new CorsFilter(source);\r\n            security.addTokenEndpointAuthenticationFilter(filter);\r\n        }\r\n    }\r\n\r\nThis will add the configs of cors for Oauth\r\n","title":"getting 401 to access http://localhost:8080/oauth/token","body":"<p>For Oauth2 you will be having this configuration class which extends <code>AuthorizationServerConfigurerAdapter</code>. In this class you can add this code</p>\n<pre><code>@Configuration\n@EnableAuthorizationServer\npublic static class AuthServerConfiguration extends AuthorizationServerConfigurerAdapter {\n   \n\n    @Override\n    public void configure(AuthorizationServerSecurityConfigurer security) {\n        \n\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        CorsConfiguration config = new CorsConfiguration();\n        config.applyPermitDefaultValues();\n\n       AuthorizationServerEndpointsConfigurer \n        source.registerCorsConfiguration(&quot;/oauth/token&quot;, config);\n        CorsFilter filter = new CorsFilter(source);\n        security.addTokenEndpointAuthenticationFilter(filter);\n    }\n}\n</code></pre>\n<p>This will add the configs of cors for Oauth</p>\n"}],"owner":{"account_id":5499814,"reputation":305,"user_id":4369495,"accept_rate":33,"display_name":"karthik pamidimarri"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4664,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":30973718,"answer_count":2,"score":2,"last_activity_date":1667018037,"creation_date":1434879752,"question_id":30963165,"body_markdown":"I am hitting one end point from my angularjs client app to login when I am doing that one I am getting the following ERROR in browser console\r\n\r\nOPTIONS http://localhost:8080/oauth/token \r\nXMLHttpRequest cannot load http://localhost:8080/oauth/token. Invalid HTTP status code 401\r\n\r\nIt&#39;s server side code to accept CORS from the client.\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    @Component\r\n    public class SimpleCORSFilter implements Filter {\r\n\r\n    \tpublic void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\r\n    \t\tHttpServletResponse response = (HttpServletResponse) res;\r\n    \t\tresponse.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n    \t\tresponse.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS, DELETE&quot;);\r\n    \t\tresponse.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\r\n    \t\tresponse.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;x-requested-with&quot;);\r\n    \t\tchain.doFilter(req, res);\r\n    \t}\r\n\r\n    \tpublic void init(FilterConfig filterConfig) {}\r\n\r\n    \tpublic void destroy() {}\r\n\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIt&#39;s client side code which calling the http://localhost:8080/oauth/token\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    angular.module(&#39;frontendApp&#39;)\r\n      .factory(&#39;AuthServerProvider&#39;, function loginService($http, localStorageService, Base64, API_SERVER) {\r\n        return {\r\n          login: function (credentials) {\r\n            var data = &quot;username=&quot; + credentials.username + &quot;&amp;password=&quot;\r\n              + credentials.password + &quot;&amp;grant_type=password&amp;scope=read%20write&amp;&quot; +\r\n              &quot;client_secret=123456&amp;client_id=clientapp&quot;;\r\n            return $http.post(API_SERVER + &#39;oauth/token&#39;, data, {\r\n              headers: {\r\n                &quot;Content-Type&quot;: &quot;application/x-www-form-urlencoded&quot;,\r\n                &quot;Accept&quot;: &quot;application/json&quot;,\r\n                &quot;Access-Control-Allow-Origin&quot;: &quot;*&quot;,\r\n                &quot;Authorization&quot;: &quot;Basic &quot; + Base64.encode(&quot;clientapp&quot; + &#39;:&#39; + &quot;123456&quot;)\r\n              }\r\n            }).success(function (response) {\r\n              var expiredAt = new Date();\r\n              expiredAt.setSeconds(expiredAt.getSeconds() + response.expires_in);\r\n              response.expires_at = expiredAt.getTime();\r\n              localStorageService.set(&#39;token&#39;, response);\r\n              return response;\r\n            });\r\n          },\r\n          logout: function () {\r\n            // logout from the server\r\n            $http.post(&#39;api/logout&#39;).then(function () {\r\n              localStorageService.clearAll();\r\n            });\r\n          },\r\n          getToken: function () {\r\n            return localStorageService.get(&#39;token&#39;);\r\n          },\r\n          hasValidToken: function () {\r\n            var token = this.getToken();\r\n            return token &amp;&amp; token.expires_at &amp;&amp; token.expires_at &gt; new Date().getTime();\r\n          }\r\n        };\r\n      });\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"getting 401 to access http://localhost:8080/oauth/token","body":"<p>I am hitting one end point from my angularjs client app to login when I am doing that one I am getting the following ERROR in browser console</p>\n\n<p>OPTIONS <a href=\"http://localhost:8080/oauth/token\" rel=\"nofollow\">http://localhost:8080/oauth/token</a> \nXMLHttpRequest cannot load <a href=\"http://localhost:8080/oauth/token\" rel=\"nofollow\">http://localhost:8080/oauth/token</a>. Invalid HTTP status code 401</p>\n\n<p>It's server side code to accept CORS from the client.\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@Component\r\npublic class SimpleCORSFilter implements Filter {\r\n\r\n\tpublic void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\r\n\t\tHttpServletResponse response = (HttpServletResponse) res;\r\n\t\tresponse.setHeader(\"Access-Control-Allow-Origin\", \"*\");\r\n\t\tresponse.setHeader(\"Access-Control-Allow-Methods\", \"POST, GET, OPTIONS, DELETE\");\r\n\t\tresponse.setHeader(\"Access-Control-Max-Age\", \"3600\");\r\n\t\tresponse.setHeader(\"Access-Control-Allow-Headers\", \"x-requested-with\");\r\n\t\tchain.doFilter(req, res);\r\n\t}\r\n\r\n\tpublic void init(FilterConfig filterConfig) {}\r\n\r\n\tpublic void destroy() {}\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>It's client side code which calling the <a href=\"http://localhost:8080/oauth/token\" rel=\"nofollow\">http://localhost:8080/oauth/token</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>angular.module('frontendApp')\r\n  .factory('AuthServerProvider', function loginService($http, localStorageService, Base64, API_SERVER) {\r\n    return {\r\n      login: function (credentials) {\r\n        var data = \"username=\" + credentials.username + \"&amp;password=\"\r\n          + credentials.password + \"&amp;grant_type=password&amp;scope=read%20write&amp;\" +\r\n          \"client_secret=123456&amp;client_id=clientapp\";\r\n        return $http.post(API_SERVER + 'oauth/token', data, {\r\n          headers: {\r\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n            \"Accept\": \"application/json\",\r\n            \"Access-Control-Allow-Origin\": \"*\",\r\n            \"Authorization\": \"Basic \" + Base64.encode(\"clientapp\" + ':' + \"123456\")\r\n          }\r\n        }).success(function (response) {\r\n          var expiredAt = new Date();\r\n          expiredAt.setSeconds(expiredAt.getSeconds() + response.expires_in);\r\n          response.expires_at = expiredAt.getTime();\r\n          localStorageService.set('token', response);\r\n          return response;\r\n        });\r\n      },\r\n      logout: function () {\r\n        // logout from the server\r\n        $http.post('api/logout').then(function () {\r\n          localStorageService.clearAll();\r\n        });\r\n      },\r\n      getToken: function () {\r\n        return localStorageService.get('token');\r\n      },\r\n      hasValidToken: function () {\r\n        var token = this.getToken();\r\n        return token &amp;&amp; token.expires_at &amp;&amp; token.expires_at &gt; new Date().getTime();\r\n      }\r\n    };\r\n  });</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":3368850,"reputation":3589,"user_id":2828651,"accept_rate":56,"display_name":"صلي علي محمد - Atef Farouk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667017894,"creation_date":1667017894,"answer_id":74242836,"question_id":74027300,"body_markdown":"in Manifest:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\r\n\r\nThis is how to request and check results for runtime for api13\r\n\r\n     private void request_notification_api13_permission() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {\r\n            if (this.checkSelfPermission(Manifest.permission.POST_NOTIFICATIONS) != PackageManager.PERMISSION_GRANTED) {\r\n\r\n                ActivityCompat.requestPermissions(this,new String[]{Manifest.permission.POST_NOTIFICATIONS}, 22);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n        if (requestCode == 22) {\r\n            if (grantResults.length &gt; 0)\r\n                if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n\r\n                   // permission granted, perform required code\r\n\r\n                } else {\r\n                    // not granted\r\n                }\r\n        }\r\n    }\r\n\r\n\r\ncalling function will be like this:\r\n\r\n    request_notification_api13_permission();","title":"Android 13 (Tiramisu) Emulator Debug App Notification can&#39;t be turn on","body":"<p>in Manifest:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\n</code></pre>\n<p>This is how to request and check results for runtime for api13</p>\n<pre><code> private void request_notification_api13_permission() {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {\n        if (this.checkSelfPermission(Manifest.permission.POST_NOTIFICATIONS) != PackageManager.PERMISSION_GRANTED) {\n\n            ActivityCompat.requestPermissions(this,new String[]{Manifest.permission.POST_NOTIFICATIONS}, 22);\n        }\n    }\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n    if (requestCode == 22) {\n        if (grantResults.length &gt; 0)\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n\n               // permission granted, perform required code\n\n            } else {\n                // not granted\n            }\n    }\n}\n</code></pre>\n<p>calling function will be like this:</p>\n<pre><code>request_notification_api13_permission();\n</code></pre>\n"}],"owner":{"account_id":1384549,"reputation":1703,"user_id":1316842,"accept_rate":100,"display_name":"JR Tan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74242836,"answer_count":1,"score":0,"last_activity_date":1667017894,"creation_date":1665487304,"question_id":74027300,"body_markdown":"Any idea how to enable the permission on the app? the permission was disabled by default on Android 13 Emulator. It was working on other emulator, just not Android 13 Emulator. By default, adding Firebase Messaging will add the Manifest.permission.POST_NOTIFICATIONS into the Manifest.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bi8NN.jpg\r\n\r\nrequestPermissionLauncher.launch(android.Manifest.permission.POST_NOTIFICATIONS);\r\n\r\nauto return isGranted = false","title":"Android 13 (Tiramisu) Emulator Debug App Notification can&#39;t be turn on","body":"<p>Any idea how to enable the permission on the app? the permission was disabled by default on Android 13 Emulator. It was working on other emulator, just not Android 13 Emulator. By default, adding Firebase Messaging will add the Manifest.permission.POST_NOTIFICATIONS into the Manifest.</p>\n<p><a href=\"https://i.stack.imgur.com/bi8NN.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bi8NN.jpg\" alt=\"enter image description here\" /></a></p>\n<p>requestPermissionLauncher.launch(android.Manifest.permission.POST_NOTIFICATIONS);</p>\n<p>auto return isGranted = false</p>\n"},{"tags":["java","algorithm","sorting"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1666998794,"post_id":74241689,"comment_id":131074928,"body_markdown":"Use a `TreeMap`?","body":"Use a <code>TreeMap</code>?"},{"owner":{"account_id":8706192,"reputation":577,"user_id":7543388,"accept_rate":48,"display_name":"daniel"},"score":0,"creation_date":1666999010,"post_id":74241689,"comment_id":131074957,"body_markdown":"The thing is that I have to sort by a but then find the nearest element by b. Is there a way to sort by using two values?","body":"The thing is that I have to sort by a but then find the nearest element by b. Is there a way to sort by using two values?"},{"owner":{"account_id":15106724,"reputation":508,"user_id":16163044,"display_name":"Sandro J"},"score":1,"creation_date":1666999013,"post_id":74241689,"comment_id":131074958,"body_markdown":"You must do `O(n)` operations to build something, even can be `O(n logn)` if it&#39;s some kind of tree structure. I think doing the iteration is the solution. If it&#39;s already sorted, you can do binary search and you will have `O(log n)` time complexity which is pretty good.","body":"You must do <code>O(n)</code> operations to build something, even can be <code>O(n logn)</code> if it&#39;s some kind of tree structure. I think doing the iteration is the solution. If it&#39;s already sorted, you can do binary search and you will have <code>O(log n)</code> time complexity which is pretty good."},{"owner":{"account_id":8706192,"reputation":577,"user_id":7543388,"accept_rate":48,"display_name":"daniel"},"score":0,"creation_date":1666999263,"post_id":74241689,"comment_id":131074988,"body_markdown":"In terms of computing time, will be there any different between log(n) or n if n = 1000?. Data is stored in memory.","body":"In terms of computing time, will be there any different between log(n) or n if n = 1000?. Data is stored in memory."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1666999322,"post_id":74241689,"comment_id":131074995,"body_markdown":"If the list is effectively sorted on `b`, you can use `Collections.binarySearch(x, Comparator.comparingInt(row -&gt; row.b))` to get the nearest index.","body":"If the list is effectively sorted on <code>b</code>, you can use <code>Collections.binarySearch(x, Comparator.comparingInt(row -&gt; row.b))</code> to get the nearest index."},{"owner":{"account_id":15106724,"reputation":508,"user_id":16163044,"display_name":"Sandro J"},"score":0,"creation_date":1666999854,"post_id":74241689,"comment_id":131075066,"body_markdown":"@daniel If you are doing it once, it won&#39;t be noticeable, otherwise it may be. Depends on the type of program.","body":"@daniel If you are doing it once, it won&#39;t be noticeable, otherwise it may be. Depends on the type of program."},{"owner":{"account_id":8706192,"reputation":577,"user_id":7543388,"accept_rate":48,"display_name":"daniel"},"score":0,"creation_date":1667230684,"post_id":74241689,"comment_id":131115541,"body_markdown":"@SandroJ I am doing it once per transaction","body":"@SandroJ I am doing it once per transaction"}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667008667,"creation_date":1667002374,"answer_id":74241984,"question_id":74241689,"body_markdown":"The simplest way to do this is by starting from a sorted list. Once the list is sorted, you can use a binary search to reduce the possible value down to 2, instead of finding an exact match like you would normally do when searching.\r\n\r\nAnother thing you will need to do is establish two base cases which will help you avoid index out of bound issues: The two cases are,\r\n\r\n - If the value is less than or equal to than the smallest number in the list, return list(0).\r\n - If the value is greater than or equal to the largest number in the list, return list(size - 1).\r\n\r\nOnce the bases cases are tried, then simply use binary search to reduce your choices to two values. Then all you need to do is compare the absolute values of the difference between the actual value and the number stored in the indices of the two choices in the list.\r\n\r\n```\r\npublic class ClosestInteger {\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tList&lt;Integer&gt; values = List.of(-23, -21, -3, 0, 1, 2, 3, 5, 8, 13, 44);\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; 10; i++) {\r\n\t\t\tRandom rand = new Random();\r\n\t\t\tint value = rand.nextInt(-50, 50);\r\n\t\t\tSystem.out.println(&quot;Closest value to &quot; + value + &quot;: &quot; + closestValue(values, value));\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static int closestValue(List&lt;Integer&gt; list, int value) {\r\n\t\tif (list== null || list.isEmpty()) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;List cannot be null or empty&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tif (value &lt;= list.get(0)) {\r\n\t\t\treturn list.get(0);\r\n\t\t}\r\n\t\t\r\n\t\tif (value &gt;= list.get(list.size() - 1)) {\r\n\t\t\treturn list.get(list.size() - 1);\r\n\t\t}\r\n\t\t\r\n\t\tint left = 0, right = list.size() - 1, mid = 0;\r\n\t\t\r\n\t\twhile (left &lt;= right) {\r\n\t\t\tmid = left + (right - left) / 2;\r\n\r\n\t\t\tif (list.get(mid) == value)\r\n\t\t\t\treturn value;\r\n\r\n\t\t\tif (list.get(mid) &lt; value) {\r\n\t\t\t\tleft = mid + 1;\r\n\t\t\t}\r\n\r\n\t\t\telse {\r\n\t\t\t\tright = mid - 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn  Math.abs(value - list.get(left)) &lt;= Math.abs(value - list.get(right)) ? list.get(left) : list.get(right);\r\n\t}\r\n}\r\n```\r\nI came up with the following lambda function to find the closest integer (albeit, it might be slower than the one above - O(n)?) \r\n```\r\nprivate static int closestValue(List&lt;Integer&gt; list, int value) {\r\n\treturn list.stream()\r\n\t\t.sorted(Comparator.comparingInt(i -&gt; Math.abs(i - value)))\r\n\t\t.limit(1).findFirst().get();\r\n}\r\n```\r\n\r\n----------\r\nSample runs:\r\n```\r\nClosest value to 17: 13\r\nClosest value to 28: 13\r\nClosest value to -26: -23\r\nClosest value to 22: 13\r\nClosest value to 0: 0\r\nClosest value to -10: -3\r\nClosest value to -11: -3\r\nClosest value to -24: -23\r\nClosest value to -33: -23\r\nClosest value to -40: -23\r\n```\r\n----------\r\n```\r\nClosest value to 15: 13\r\nClosest value to 3: 3\r\nClosest value to -26: -23\r\nClosest value to -13: -21\r\nClosest value to -6: -3\r\nClosest value to 12: 13\r\nClosest value to 43: 44\r\nClosest value to -37: -23\r\nClosest value to 1: 1\r\nClosest value to 4: 5\r\n```\r\n----------\r\n\r\n```\r\nClosest value to 10: 8\r\nClosest value to 22: 13\r\nClosest value to 7: 8\r\nClosest value to -50: -23\r\nClosest value to -20: -21\r\nClosest value to -50: -23\r\nClosest value to 25: 13\r\nClosest value to 20: 13\r\nClosest value to -31: -23\r\nClosest value to -41: -23\r\n```","title":"How can you find the nearest value in a list in the following case?","body":"<p>The simplest way to do this is by starting from a sorted list. Once the list is sorted, you can use a binary search to reduce the possible value down to 2, instead of finding an exact match like you would normally do when searching.</p>\n<p>Another thing you will need to do is establish two base cases which will help you avoid index out of bound issues: The two cases are,</p>\n<ul>\n<li>If the value is less than or equal to than the smallest number in the list, return list(0).</li>\n<li>If the value is greater than or equal to the largest number in the list, return list(size - 1).</li>\n</ul>\n<p>Once the bases cases are tried, then simply use binary search to reduce your choices to two values. Then all you need to do is compare the absolute values of the difference between the actual value and the number stored in the indices of the two choices in the list.</p>\n<pre><code>public class ClosestInteger {\n    public static void main(String[] args) {\n\n        List&lt;Integer&gt; values = List.of(-23, -21, -3, 0, 1, 2, 3, 5, 8, 13, 44);\n        \n        for (int i = 0; i &lt; 10; i++) {\n            Random rand = new Random();\n            int value = rand.nextInt(-50, 50);\n            System.out.println(&quot;Closest value to &quot; + value + &quot;: &quot; + closestValue(values, value));\n        }\n    }\n\n    private static int closestValue(List&lt;Integer&gt; list, int value) {\n        if (list== null || list.isEmpty()) {\n            throw new IllegalArgumentException(&quot;List cannot be null or empty&quot;);\n        }\n        \n        if (value &lt;= list.get(0)) {\n            return list.get(0);\n        }\n        \n        if (value &gt;= list.get(list.size() - 1)) {\n            return list.get(list.size() - 1);\n        }\n        \n        int left = 0, right = list.size() - 1, mid = 0;\n        \n        while (left &lt;= right) {\n            mid = left + (right - left) / 2;\n\n            if (list.get(mid) == value)\n                return value;\n\n            if (list.get(mid) &lt; value) {\n                left = mid + 1;\n            }\n\n            else {\n                right = mid - 1;\n            }\n        }\n        \n        return  Math.abs(value - list.get(left)) &lt;= Math.abs(value - list.get(right)) ? list.get(left) : list.get(right);\n    }\n}\n</code></pre>\n<p>I came up with the following lambda function to find the closest integer (albeit, it might be slower than the one above - O(n)?)</p>\n<pre><code>private static int closestValue(List&lt;Integer&gt; list, int value) {\n    return list.stream()\n        .sorted(Comparator.comparingInt(i -&gt; Math.abs(i - value)))\n        .limit(1).findFirst().get();\n}\n</code></pre>\n<hr />\n<p>Sample runs:</p>\n<pre><code>Closest value to 17: 13\nClosest value to 28: 13\nClosest value to -26: -23\nClosest value to 22: 13\nClosest value to 0: 0\nClosest value to -10: -3\nClosest value to -11: -3\nClosest value to -24: -23\nClosest value to -33: -23\nClosest value to -40: -23\n</code></pre>\n<hr />\n<pre><code>Closest value to 15: 13\nClosest value to 3: 3\nClosest value to -26: -23\nClosest value to -13: -21\nClosest value to -6: -3\nClosest value to 12: 13\nClosest value to 43: 44\nClosest value to -37: -23\nClosest value to 1: 1\nClosest value to 4: 5\n</code></pre>\n<hr />\n<pre><code>Closest value to 10: 8\nClosest value to 22: 13\nClosest value to 7: 8\nClosest value to -50: -23\nClosest value to -20: -21\nClosest value to -50: -23\nClosest value to 25: 13\nClosest value to 20: 13\nClosest value to -31: -23\nClosest value to -41: -23\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667017066,"creation_date":1667017066,"answer_id":74242796,"question_id":74241689,"body_markdown":"You can use `Collections.binarySearch()` like this.\r\n\r\n    static class Row {\r\n        int a, b; \r\n        public int getA() { return a; } \r\n        public int getB() { return b; } \r\n        Row(int a, int b) { this.a = a; this.b = b; } \r\n        @Override public String toString() { return &quot;Row(&quot; + a + &quot;, &quot; + b + &quot;)&quot;; }\r\n    }\r\n\r\n    static final Comparator&lt;Row&gt; ORDER_BY_B = Comparator.comparing(Row::getB);\r\n\r\n    static Row find(int x, List&lt;Row&gt; rows) {\r\n        int size = rows.size();\r\n        int i = Collections.binarySearch(rows, new Row(0, x), ORDER_BY_B);\r\n        int index = i &gt;= 0 ? i : i &lt;= -size - 1 ? size - 1 : -i - 1;\r\n        return rows.get(index);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Row&gt; rows = Arrays.asList(\r\n            new Row(20, 2),\r\n            new Row(40, 4),\r\n            new Row(50, 5),\r\n            new Row(70, 7));\r\n        List&lt;Row&gt; orderByB = rows.stream().sorted(ORDER_BY_B).collect(Collectors.toList());\r\n        for (int i = 0; i &lt; 9; ++i)\r\n            System.out.println(&quot;find &quot; + i + &quot; : &quot; + find(i, orderByB));\r\n    }\r\n\r\noutput:\r\n\r\n    find 0 : Row(20, 2)\r\n    find 1 : Row(20, 2)\r\n    find 2 : Row(20, 2)\r\n    find 3 : Row(40, 4)\r\n    find 4 : Row(40, 4)\r\n    find 5 : Row(50, 5)\r\n    find 6 : Row(70, 7)\r\n    find 7 : Row(70, 7)\r\n    find 8 : Row(70, 7)\r\n\r\n","title":"How can you find the nearest value in a list in the following case?","body":"<p>You can use <code>Collections.binarySearch()</code> like this.</p>\n<pre><code>static class Row {\n    int a, b; \n    public int getA() { return a; } \n    public int getB() { return b; } \n    Row(int a, int b) { this.a = a; this.b = b; } \n    @Override public String toString() { return &quot;Row(&quot; + a + &quot;, &quot; + b + &quot;)&quot;; }\n}\n\nstatic final Comparator&lt;Row&gt; ORDER_BY_B = Comparator.comparing(Row::getB);\n\nstatic Row find(int x, List&lt;Row&gt; rows) {\n    int size = rows.size();\n    int i = Collections.binarySearch(rows, new Row(0, x), ORDER_BY_B);\n    int index = i &gt;= 0 ? i : i &lt;= -size - 1 ? size - 1 : -i - 1;\n    return rows.get(index);\n}\n\npublic static void main(String[] args) {\n    List&lt;Row&gt; rows = Arrays.asList(\n        new Row(20, 2),\n        new Row(40, 4),\n        new Row(50, 5),\n        new Row(70, 7));\n    List&lt;Row&gt; orderByB = rows.stream().sorted(ORDER_BY_B).collect(Collectors.toList());\n    for (int i = 0; i &lt; 9; ++i)\n        System.out.println(&quot;find &quot; + i + &quot; : &quot; + find(i, orderByB));\n}\n</code></pre>\n<p>output:</p>\n<pre><code>find 0 : Row(20, 2)\nfind 1 : Row(20, 2)\nfind 2 : Row(20, 2)\nfind 3 : Row(40, 4)\nfind 4 : Row(40, 4)\nfind 5 : Row(50, 5)\nfind 6 : Row(70, 7)\nfind 7 : Row(70, 7)\nfind 8 : Row(70, 7)\n</code></pre>\n"}],"owner":{"account_id":8706192,"reputation":577,"user_id":7543388,"accept_rate":48,"display_name":"daniel"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74242796,"answer_count":2,"score":-2,"last_activity_date":1667017066,"creation_date":1666998623,"question_id":74241689,"body_markdown":"Let&#39;s assume that I have a list of the following objects:\r\n\r\n    class Row{\r\n       int a;\r\n       int b;\r\n    }\r\n\r\nData is set up in a way in which if sorted by a, the data automatically gets sorted by b. I need to write a function that takes in the parameters `(int x, List&lt;Row&gt; rows)` which finds the row whose b comes right after x. The number of records is 1000 so the basic and easy way to do it is to sort by a and then find the nearest element by using iteration. Is there another way to structure data in way in which I don&#39;t have to iterate through the entire list?","title":"How can you find the nearest value in a list in the following case?","body":"<p>Let's assume that I have a list of the following objects:</p>\n<pre><code>class Row{\n   int a;\n   int b;\n}\n</code></pre>\n<p>Data is set up in a way in which if sorted by a, the data automatically gets sorted by b. I need to write a function that takes in the parameters <code>(int x, List&lt;Row&gt; rows)</code> which finds the row whose b comes right after x. The number of records is 1000 so the basic and easy way to do it is to sort by a and then find the nearest element by using iteration. Is there another way to structure data in way in which I don't have to iterate through the entire list?</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1666964780,"post_id":74236305,"comment_id":131065463,"body_markdown":"Your examples have 1 and 2 trailing zeroes, respectively. What determines the number of trailing zeroes?","body":"Your examples have 1 and 2 trailing zeroes, respectively. What determines the number of trailing zeroes?"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":7,"creation_date":1666964783,"post_id":74236305,"comment_id":131065464,"body_markdown":"a `double` does not preserve trailing zeros after the comma. `123.400` and `123.4` is exactly the same and not stored differently.","body":"a <code>double</code> does not preserve trailing zeros after the comma. <code>123.400</code> and <code>123.4</code> is exactly the same and not stored differently."},{"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1666965313,"post_id":74236305,"comment_id":131065633,"body_markdown":"In other words, the compiler doesn&#39;t see any difference between these. It will use the closest binary Double equivalent which has no information about number of decimal places from the original decimal representation that you typed in code.","body":"In other words, the compiler doesn&#39;t see any difference between these. It will use the closest binary Double equivalent which has no information about number of decimal places from the original decimal representation that you typed in code."},{"owner":{"account_id":13722742,"reputation":16988,"user_id":10134209,"display_name":"gidds"},"score":0,"creation_date":1666981135,"post_id":74236305,"comment_id":131071043,"body_markdown":"Obligatory link to [Is floating point math broken?](/questions/588004), which OP should read if they think that either of those doubles is _actually_ the same as the decimal numbers in the code.","body":"Obligatory link to <a href=\"/questions/588004\">Is floating point math broken?</a>, which OP should read if they think that either of those doubles is <i>actually</i> the same as the decimal numbers in the code."}],"answers":[{"comments":[{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1666985473,"post_id":74236386,"comment_id":131072181,"body_markdown":"The OP doesn&#39;t want three fixed places though, that&#39;s what they&#39;re trying to avoid. They want to be able to express a Double with an arbitrary number of trailing zeroes, and have that number show up when it&#39;s printed","body":"The OP doesn&#39;t want three fixed places though, that&#39;s what they&#39;re trying to avoid. They want to be able to express a Double with an arbitrary number of trailing zeroes, and have that number show up when it&#39;s printed"}],"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666965058,"creation_date":1666965058,"answer_id":74236386,"question_id":74236305,"body_markdown":"You could simply use `String.format(String, Double)` here and make the three decimal places fixed via pattern:\r\n\r\n```kotlin\r\nfun main() {\r\n    val a: Double = 123.400\r\n    val b: Double = 567.800\r\n\r\n    val aStr: String = String.format(&quot;%.3f&quot;, a)\r\n    val bStr: String = String.format(&quot;%.3f&quot;, b)\r\n\r\n    println(&quot;${a.toString()} and ${b.toString()}&quot;)\r\n    println(&quot;$aStr and $bStr&quot;)\r\n}\r\n```\r\n\r\nThis will output\r\n\r\n```none\r\n123.4 and 567.8\r\n123.400 and 567.800\r\n```","title":"How to convert double to string with no zero absent in kotlin?","body":"<p>You could simply use <code>String.format(String, Double)</code> here and make the three decimal places fixed via pattern:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun main() {\n    val a: Double = 123.400\n    val b: Double = 567.800\n\n    val aStr: String = String.format(&quot;%.3f&quot;, a)\n    val bStr: String = String.format(&quot;%.3f&quot;, b)\n\n    println(&quot;${a.toString()} and ${b.toString()}&quot;)\n    println(&quot;$aStr and $bStr&quot;)\n}\n</code></pre>\n<p>This will output</p>\n<pre class=\"lang-none prettyprint-override\"><code>123.4 and 567.8\n123.400 and 567.800\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666985198,"creation_date":1666985198,"answer_id":74240058,"question_id":74236305,"body_markdown":"Like people are saying in the comments, `Double`s don&#39;t actually *store* a specific number of trailing zeroes - *1.230000000000* and *1.23* are stored the same way. Even if you specify a certain number of zeroes, that info is lost.\r\n\r\nIf you need to store those numbers with an arbitrary number of trailing zeroes, you should probably store them as `String`s - that way they&#39;ll display correctly when you print them. Just convert them to `Double`s when you want to actually use them as numbers\r\n\r\n````\r\nval numberOne = &quot;123.400&quot;\r\nval numberTwo = &quot;567.80&quot;\r\n\r\n// just print them to get the formatting you want\r\nprintln(numberOne)\r\n// convert to Double to use it\r\nnumberOne.toDouble() * 2\r\n````\r\n\r\n----\r\n\r\nYour other option is to create a class that handles this extra data. A simple one would be\r\n\r\n````\r\ndata class TrailingDouble(private val asString: String) {\r\n    val value = asString.toDouble()\r\n    override fun toString() = asString\r\n}\r\n````\r\n\r\nwhere you expose a `value` property instead of the caller having to call `toDouble` all the time.\r\n\r\nOr you could do something a bit safer\r\n\r\n````\r\nclass TrailingDouble private constructor(private val asString: String) {\r\n    // validation done in the instance getters, which are the only thing\r\n    // that can instantiate one of these objects\r\n    val value = asString.toDouble()\r\n    override fun toString() = asString\r\n    \r\n    // override equals etc\r\n    \r\n    companion object {\r\n        fun newInstance(doubleString: String) =\r\n            if (doubleString.toDoubleOrNull() != null) TrailingDouble(doubleString) else null\r\n        // or if you like\r\n        fun String.toTrailingDoubleOrNull() =\r\n            toDoubleOrNull()?.let { TrailingDouble(this) }\r\n    }\r\n}\r\n````\r\n\r\nBy using a private constructor, you can guarantee only valid instances of `TrailingDouble` can be created. That means you can&#39;t really use a *data class* though (you can get around private constructors with the generated `copy` function) so you&#39;d have to write your own `equals` and `hashCode` functions.\r\n\r\n----\r\n\r\nAnd you can do the same approach with an actual `Double` if you like, specifying the number of trailing zeroes you want:\r\n\r\n````\r\nclass TrailingDouble(val value: Double, trailingZeroes: Int) {\r\n    private val asString: String\r\n    \r\n    init {\r\n        val decimalFormat = List(trailingZeroes.coerceAtLeast(1)) { &#39;0&#39; }.joinToString(&quot;&quot;)\r\n        asString = DecimalFormat(&quot;#,###.$decimalFormat&quot;).format(value)\r\n    }\r\n    \r\n    override fun toString() = asString\r\n    // equals etc\r\n}\r\n````\r\n\r\nBasically you pass in your double (no need for validation) and the number of trailing zeroes you want, and it produces the appropriate format string to create the string representation.\r\n\r\nThis one&#39;s a lot simpler, but it does require you know how many trailing zeroes you need for a particular `Double` (again, that information is not contained in the `Double` itself, it&#39;s separate). If you&#39;re starting with `String`s, the versions that work with a `String` are probably easier to actually *use*","title":"How to convert double to string with no zero absent in kotlin?","body":"<p>Like people are saying in the comments, <code>Double</code>s don't actually <em>store</em> a specific number of trailing zeroes - <em>1.230000000000</em> and <em>1.23</em> are stored the same way. Even if you specify a certain number of zeroes, that info is lost.</p>\n<p>If you need to store those numbers with an arbitrary number of trailing zeroes, you should probably store them as <code>String</code>s - that way they'll display correctly when you print them. Just convert them to <code>Double</code>s when you want to actually use them as numbers</p>\n<pre><code>val numberOne = &quot;123.400&quot;\nval numberTwo = &quot;567.80&quot;\n\n// just print them to get the formatting you want\nprintln(numberOne)\n// convert to Double to use it\nnumberOne.toDouble() * 2\n</code></pre>\n<hr />\n<p>Your other option is to create a class that handles this extra data. A simple one would be</p>\n<pre><code>data class TrailingDouble(private val asString: String) {\n    val value = asString.toDouble()\n    override fun toString() = asString\n}\n</code></pre>\n<p>where you expose a <code>value</code> property instead of the caller having to call <code>toDouble</code> all the time.</p>\n<p>Or you could do something a bit safer</p>\n<pre><code>class TrailingDouble private constructor(private val asString: String) {\n    // validation done in the instance getters, which are the only thing\n    // that can instantiate one of these objects\n    val value = asString.toDouble()\n    override fun toString() = asString\n    \n    // override equals etc\n    \n    companion object {\n        fun newInstance(doubleString: String) =\n            if (doubleString.toDoubleOrNull() != null) TrailingDouble(doubleString) else null\n        // or if you like\n        fun String.toTrailingDoubleOrNull() =\n            toDoubleOrNull()?.let { TrailingDouble(this) }\n    }\n}\n</code></pre>\n<p>By using a private constructor, you can guarantee only valid instances of <code>TrailingDouble</code> can be created. That means you can't really use a <em>data class</em> though (you can get around private constructors with the generated <code>copy</code> function) so you'd have to write your own <code>equals</code> and <code>hashCode</code> functions.</p>\n<hr />\n<p>And you can do the same approach with an actual <code>Double</code> if you like, specifying the number of trailing zeroes you want:</p>\n<pre><code>class TrailingDouble(val value: Double, trailingZeroes: Int) {\n    private val asString: String\n    \n    init {\n        val decimalFormat = List(trailingZeroes.coerceAtLeast(1)) { '0' }.joinToString(&quot;&quot;)\n        asString = DecimalFormat(&quot;#,###.$decimalFormat&quot;).format(value)\n    }\n    \n    override fun toString() = asString\n    // equals etc\n}\n</code></pre>\n<p>Basically you pass in your double (no need for validation) and the number of trailing zeroes you want, and it produces the appropriate format string to create the string representation.</p>\n<p>This one's a lot simpler, but it does require you know how many trailing zeroes you need for a particular <code>Double</code> (again, that information is not contained in the <code>Double</code> itself, it's separate). If you're starting with <code>String</code>s, the versions that work with a <code>String</code> are probably easier to actually <em>use</em></p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667016664,"creation_date":1667016664,"answer_id":74242773,"question_id":74236305,"body_markdown":"&gt; I have two Double value but different decimal places.\r\n\r\nDoubles don&#39;t store that information. In fact, they don&#39;t even store decimals. Computers are binary after all. Here&#39;s a secret:\r\n\r\n```\r\ndouble d = 0.1;\r\n```\r\n\r\nThat line, __is a total lie__. It does not store 0.1 in `d`. That is because it is __impossible to store this number__.\r\n\r\nBefore that makes you go: What.. the? Think about it: I divide 1 by 3 and ask you to write that down on a piece of paper. So, you start, 0.33333333.... and where do you end? See? As a human using decimal, you __cannot store this number__ on a piece of paper in decimal format.\r\n\r\nComputers don&#39;t do decimal, they do binary. They can store `0.5` perfectly. `0.25` is no problem either. But `0.1`? No, no can do. a tenth works out in decimal really nice, but in binary it doesn&#39;t (nothing does, except factors of 2, obviously). So, where in decimal you can write &#39;1/10&#39; on a piece of paper perfectly, but you cannot write &#39;1/3&#39; on a piece of paper perfectly, computers can only write X/Y where Y is a factor of 2 perfectly. 1/65536 - no problem. 1/10? Nope.\r\n\r\nSo why does the above compile? Because double/float math will round to the nearest representable number, and each mathematical operation is similarly rounded. Everything rounds, everywhere, at all times, silently, with no way to know how much error this rounding introduces.\r\n\r\nLet&#39;s see it in action!\r\n\r\n```\r\ndouble d = 0;\r\nfor (int i = 0; i &lt; 8; i++) d += 0.1;\r\ndouble e = 0.8;\r\nSystem.out.println(d == e); // prints... f... false? What?\r\nSystem.out.println(e); // prints &quot;0.8&quot;\r\nSystem.out.println(d); // prints &quot;0.7999999999999999&quot;\r\n```\r\n\r\nThus, when talking about &#39;formatting&#39; a double in the sense of &#39;I want x digits&#39;, this is __completely misleading__, because the thing that is in that variable has digits written out in binary and not in decimal, and is rounded to something that doesn&#39;t even make sense in decimal.\r\n\r\nThe simple upshot is that __all doubles are slightly wrong__ and if you are writing systems or applications where this slight error is not acceptable (trivial example: __Everything financial - you do NOT want to lose a random cent due to impossible to predict rounding errors!!__), then __you cannot use `double`__.\r\n\r\nThere are 2 broad solutions to this problem:\r\n\r\n1. Use atoms, in `int` or `long`.\r\n\r\nFor example, do not store an item that costs a buck and a half as `double price = 1.50`. Store it as `int price = 150;` - in other words, find the atomary (smallest hard/impossible to divide unit) for whatever it is you are attempting to store perfectly and store _that_. Given that there is such a thing as an atomary, when asked to divide you&#39;re hosed anyway and you need to think about it, there is no one set way to do it. For example, if I am a bank and I need to levy a transaction charge of €100,- to a partnership of 3 companies that are equal partners, then what do I do? Charge each €33,34? Charge each €33,33 and eat the cent? Roll some dice, charge one partner at random €33,34, and the other two €33,33? Demand that the parties involved appoint a main account, which gets charged all of it, or if not, the €33,34? Track in each account a residual charge of 0.33333333333333333333333 cents (tossing the remainder away as a rounding error that truly nobody is ever going to care about), even though generally in financial systems, you cannot convey the notion of fractional cents?\r\n\r\nThere is no right or wrong answer to this question, which means, `a / b` __cannot possibly work here__ - how could that ever know which of those 5 different things you wanted?\r\n\r\n2. Use the `java.math.BigDecimal` class, which stores in decimal, and stores perfectly. But note that if you ask BigDecimal to divide 1 by 3, it throws an exception, because that is not possible, so, apply caution.\r\n","title":"How to convert double to string with no zero absent in kotlin?","body":"<blockquote>\n<p>I have two Double value but different decimal places.</p>\n</blockquote>\n<p>Doubles don't store that information. In fact, they don't even store decimals. Computers are binary after all. Here's a secret:</p>\n<pre><code>double d = 0.1;\n</code></pre>\n<p>That line, <strong>is a total lie</strong>. It does not store 0.1 in <code>d</code>. That is because it is <strong>impossible to store this number</strong>.</p>\n<p>Before that makes you go: What.. the? Think about it: I divide 1 by 3 and ask you to write that down on a piece of paper. So, you start, 0.33333333.... and where do you end? See? As a human using decimal, you <strong>cannot store this number</strong> on a piece of paper in decimal format.</p>\n<p>Computers don't do decimal, they do binary. They can store <code>0.5</code> perfectly. <code>0.25</code> is no problem either. But <code>0.1</code>? No, no can do. a tenth works out in decimal really nice, but in binary it doesn't (nothing does, except factors of 2, obviously). So, where in decimal you can write '1/10' on a piece of paper perfectly, but you cannot write '1/3' on a piece of paper perfectly, computers can only write X/Y where Y is a factor of 2 perfectly. 1/65536 - no problem. 1/10? Nope.</p>\n<p>So why does the above compile? Because double/float math will round to the nearest representable number, and each mathematical operation is similarly rounded. Everything rounds, everywhere, at all times, silently, with no way to know how much error this rounding introduces.</p>\n<p>Let's see it in action!</p>\n<pre><code>double d = 0;\nfor (int i = 0; i &lt; 8; i++) d += 0.1;\ndouble e = 0.8;\nSystem.out.println(d == e); // prints... f... false? What?\nSystem.out.println(e); // prints &quot;0.8&quot;\nSystem.out.println(d); // prints &quot;0.7999999999999999&quot;\n</code></pre>\n<p>Thus, when talking about 'formatting' a double in the sense of 'I want x digits', this is <strong>completely misleading</strong>, because the thing that is in that variable has digits written out in binary and not in decimal, and is rounded to something that doesn't even make sense in decimal.</p>\n<p>The simple upshot is that <strong>all doubles are slightly wrong</strong> and if you are writing systems or applications where this slight error is not acceptable (trivial example: <strong>Everything financial - you do NOT want to lose a random cent due to impossible to predict rounding errors!!</strong>), then <strong>you cannot use <code>double</code></strong>.</p>\n<p>There are 2 broad solutions to this problem:</p>\n<ol>\n<li>Use atoms, in <code>int</code> or <code>long</code>.</li>\n</ol>\n<p>For example, do not store an item that costs a buck and a half as <code>double price = 1.50</code>. Store it as <code>int price = 150;</code> - in other words, find the atomary (smallest hard/impossible to divide unit) for whatever it is you are attempting to store perfectly and store <em>that</em>. Given that there is such a thing as an atomary, when asked to divide you're hosed anyway and you need to think about it, there is no one set way to do it. For example, if I am a bank and I need to levy a transaction charge of €100,- to a partnership of 3 companies that are equal partners, then what do I do? Charge each €33,34? Charge each €33,33 and eat the cent? Roll some dice, charge one partner at random €33,34, and the other two €33,33? Demand that the parties involved appoint a main account, which gets charged all of it, or if not, the €33,34? Track in each account a residual charge of 0.33333333333333333333333 cents (tossing the remainder away as a rounding error that truly nobody is ever going to care about), even though generally in financial systems, you cannot convey the notion of fractional cents?</p>\n<p>There is no right or wrong answer to this question, which means, <code>a / b</code> <strong>cannot possibly work here</strong> - how could that ever know which of those 5 different things you wanted?</p>\n<ol start=\"2\">\n<li>Use the <code>java.math.BigDecimal</code> class, which stores in decimal, and stores perfectly. But note that if you ask BigDecimal to divide 1 by 3, it throws an exception, because that is not possible, so, apply caution.</li>\n</ol>\n"}],"owner":{"account_id":3354707,"reputation":147,"user_id":2817936,"accept_rate":71,"display_name":"Barbiyong"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1341,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1667016664,"creation_date":1666964506,"question_id":74236305,"body_markdown":"I have two Double value but different decimal places.\r\n```\r\n123.400 // three decimal places\r\n567.80 // two decimal places\r\n```\r\nI try to convert Double value to String by using DecimalFormat\r\n```\r\nval stringFormat = DecimalFormat(&quot;#,###.000&quot;)\r\nprintln(stringFormat.format(123.400))\r\nprintln(stringFormat.format(567.80))\r\n    \r\nval stringFormatZeroAbsent = DecimalFormat(&quot;#,###.###&quot;)\r\nprintln(stringFormatZeroAbsent.format(123.400))\r\nprintln(stringFormatZeroAbsent.format(567.80))\r\n```\r\nSince &quot;0&quot; mean Digit and &quot;#&quot; mean Digit with zero shows as absent, so outputs are:\r\n```\r\n123.400\r\n567.800\r\n123.4\r\n567.8\r\n```\r\nThe actual result i want are:\r\n```\r\n123.400\r\n567.80\r\n```\r\nThat the zero not absent.","title":"How to convert double to string with no zero absent in kotlin?","body":"<p>I have two Double value but different decimal places.</p>\n<pre><code>123.400 // three decimal places\n567.80 // two decimal places\n</code></pre>\n<p>I try to convert Double value to String by using DecimalFormat</p>\n<pre><code>val stringFormat = DecimalFormat(&quot;#,###.000&quot;)\nprintln(stringFormat.format(123.400))\nprintln(stringFormat.format(567.80))\n    \nval stringFormatZeroAbsent = DecimalFormat(&quot;#,###.###&quot;)\nprintln(stringFormatZeroAbsent.format(123.400))\nprintln(stringFormatZeroAbsent.format(567.80))\n</code></pre>\n<p>Since &quot;0&quot; mean Digit and &quot;#&quot; mean Digit with zero shows as absent, so outputs are:</p>\n<pre><code>123.400\n567.800\n123.4\n567.8\n</code></pre>\n<p>The actual result i want are:</p>\n<pre><code>123.400\n567.80\n</code></pre>\n<p>That the zero not absent.</p>\n"},{"tags":["java","spring-boot","generics"],"answers":[{"tags":[],"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667013830,"creation_date":1667011286,"answer_id":74242471,"question_id":74242325,"body_markdown":"If you override a method you cannot have a different signature, If the method you override requires a DTOManager.CreateRequest you cannot use a child class within the override method.\r\n\r\nYou have to &quot;support&quot; all types of input that the parent method could take.\r\n\r\nI believe that you need this because the permission validation relies on methods or fields of the child class. If so you should implement it inside the child class.\r\n","title":"Cannot override method that takes in parameter of inner class of generic","body":"<p>If you override a method you cannot have a different signature, If the method you override requires a DTOManager.CreateRequest you cannot use a child class within the override method.</p>\n<p>You have to &quot;support&quot; all types of input that the parent method could take.</p>\n<p>I believe that you need this because the permission validation relies on methods or fields of the child class. If so you should implement it inside the child class.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667016011,"creation_date":1667016011,"answer_id":74242729,"question_id":74242325,"body_markdown":"&gt;```java\r\n&gt; class ApplicationController&lt;\r\n&gt;        AppEntity extends ApplicationEntity,\r\n&gt; ```\r\n\r\nNo, stop right there. This is declaring a __type variable__ with the bound rules: &quot;Must be either `ApplicationEntity` or any subtype thereof&quot; and you named it `AppEntity`. This is going to make your head go in circles when you read the code later, &#39;I keep confusing reified types with type variables&#39; comprises 95% of all confusion about generics. I know it seems unreadable, but there really is just only one way to go about it, and that is to use __single capital letters__ for _all_ your type vars. So let&#39;s fix that right now:\r\n\r\n```\r\npublic abstract class ApplicationController&lt;\r\n        E extends ApplicationEntity,\r\n        S extends ApplicationService&lt;E&gt;,\r\n        M extends ApplicationDTOManager&gt; {\r\n```\r\n\r\nWhich then immediately lets us see a big problem in the next line:\r\n\r\n&gt; ```java\r\n&gt; public boolean hasCreatePermissions(M.CreationRequest requestBody) {}\r\n&gt; ```\r\n\r\nOf course that can&#39;t work. `M` is a type variable, at compile time the compiler has no idea what type it is. It could be bound to some type that doesn&#39;t even exist yet right now. You can&#39;t ask for a reified inner type on a type variable. You _can_ of course simply talk about `ApplicationDTOManager.CreationRequest` and that&#39;s presumably what you want.\r\n\r\nAlternatively, you&#39;re thinking that subtypes of ApplicationDTOManager may _also_ want to subclass `ApplicationDTOManager.CreationRequest`. This is possible, but then all ApplicationDTOManager types need to carry their associated CreationRequest type as a type variable. We thus fix a few things:\r\n\r\n```\r\npublic class ApplicationDTOManager&lt;R extends ApplicationDTOManager.CreationRequest&gt; {\r\n  public static class CreationRequest {}\r\n}\r\n```\r\n\r\nYou may have a non-static inner class named CreationRequest. I&#39;m going to stop you again on that - non-static inners have an invisible inner field of their outer&#39;s type, and combining that invisible voodoo magic with generics just doesn&#39;t work. Don&#39;t do it. You can explicitly make that field if you must have it, and make a constructor that takes it. This is what javac generates for you if you don&#39;t add `static` to your inner classes. But by making it explicit, you take control of the generics, which you have to here, and avoid confusion which given the nature of the question seems pertinent.\r\n\r\n&gt; I&#39;m told that this does not override any super class methods. Why?\r\n\r\nJava&#39;s method names __include all their erased types__. The name of this method:\r\n\r\n```\r\nclass List&lt;T extends Number&gt; {\r\n  int hello(String name, boolean[] hi, T arg) throws SQLException {}\r\n}\r\n```\r\n\r\nis, as far as the JVM is concerned, `hello(Ljava/lang/String;[ZLjava/lang/Number;)I`.\r\n\r\nYeah, no, really. `javap -c -v` a class file and you&#39;ll see it. (`I` is integer, `[` is array, `Z` is boolean, and `Ltxt;` encodes ref type names in JVM style, e.g. with slashes and dollars instead of dots). It&#39;s written `name(params)ret`.\r\n\r\nIf you then subtype something and introduce a method whose erased JVM name is __identical__, you&#39;re overriding. If you don&#39;t, it is not an override. Merely an overload. Overrides are dynamically dispatched. __But overloads are not__ - The names are all linked up __at compile time__. However, for any given &#39;JVM method name&#39;, the lookup is done dynamically based on the receiver type. In other words:\r\n\r\n```\r\nclass Fruit {\r\n  void hi(Fruit f) { System.out.println(&quot;Fruit Fruit&quot;); }\r\n  void hi(Apple a) { System.out.println(&quot;Fruit Apple&quot;); }\r\n}\r\n\r\nclass Apple extends Fruit {\r\n  void hi(Fruit f) { System.out.println(&quot;Apple Fruit&quot;); }\r\n  void hi(Apple a) { System.out.println(&quot;Apple Apple&quot;); }\r\n}\r\n\r\nFruit f = new Fruit();\r\nFruit a = new Apple();\r\na.hi(a);\r\n```\r\n\r\nWill print `Apple Fruit`. You&#39;d think it should print `Apple Apple` perhaps - we are calling apple&#39;s `hi` passing an apple, no? But the invocation `a.hi(a)` is invoking the method named `hi(Lfruit;)V` (because the type of `a` is Fruit). The receiver variable (`a`) has compile time type `Fruit`, but its real type is `Apple`. So, which of the `hi(Lfruit;)V` methods is chosen is done with dynamic dispatch - you get apple&#39;s `hi(Fruit)`. Deciding between going with `hi(Fruit)` and `hi(Apple)` __is done by the compiler only__. Given that the type of the expression `a` is Fruit, you get `hi(Fruit)`. The fact that if you resolve this expression, you get an object whose `.getClass()` returns `Apple.class`, doesn&#39;t change this.\r\n\r\nHence, what you wrote, does not override. Different name, even if you erase.\r\n\r\nToss generics in the mix and it gets funky. But you can do this.\r\n\r\n\r\n```\r\npublic abstract class ApplicationDTOManager&lt;I extends CreationRequest, O extends CreationResponse&gt; {\r\n\r\n    public abstract static class CreationRequest {}\r\n\r\n    public abstract static class CreationResponse {}\r\n\r\n}\r\n\r\npublic abstract class ApplicationController&lt;\r\n        E extends ApplicationEntity,\r\n        S extends ApplicationService&lt;AppEntity&gt;,\r\n        I extends CreationRequest,\r\n        O extends CreationResponse,\r\n        M extends ApplicationDTOManager&lt;I, O&gt;\r\n    &gt;\r\n// heck that&#39;s probably too many, at some point generics aren&#39;t worth it\r\n\r\n{\r\n  public abstract boolean hasCreatePermissions(I requestBody);\r\n}\r\n\r\n@RestController\r\npublic class UserResource extends ApplicationController&lt;\r\n    User,\r\n//     UserService&lt;User&gt;, // this seems wrong!\r\n    UserService, // UserService should extends ApplicationService&lt;User&gt;\r\n    UserDTOManager.CreationRequest,\r\n    UserDTOManager.CreationResponse,\r\n    UserDTOManager&gt; {\r\n    \r\n    @Override\r\n    public boolean hasCreatePermissions(UserDTOManager.CreationRequest requestBody, Optional&lt;UUID&gt; requestingUser) {\r\n        // Stuff\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nNot sure all this is worth the pain, but, _if_ you insist on linking all this together with generics, the above is the only way. You cannot express the notion &#39;has an inner type that is a subtype of CreationRequest&#39; is a generics bound.\r\n","title":"Cannot override method that takes in parameter of inner class of generic","body":"<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>class ApplicationController&lt;\n       AppEntity extends ApplicationEntity,\n</code></pre>\n</blockquote>\n<p>No, stop right there. This is declaring a <strong>type variable</strong> with the bound rules: &quot;Must be either <code>ApplicationEntity</code> or any subtype thereof&quot; and you named it <code>AppEntity</code>. This is going to make your head go in circles when you read the code later, 'I keep confusing reified types with type variables' comprises 95% of all confusion about generics. I know it seems unreadable, but there really is just only one way to go about it, and that is to use <strong>single capital letters</strong> for <em>all</em> your type vars. So let's fix that right now:</p>\n<pre><code>public abstract class ApplicationController&lt;\n        E extends ApplicationEntity,\n        S extends ApplicationService&lt;E&gt;,\n        M extends ApplicationDTOManager&gt; {\n</code></pre>\n<p>Which then immediately lets us see a big problem in the next line:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean hasCreatePermissions(M.CreationRequest requestBody) {}\n</code></pre>\n</blockquote>\n<p>Of course that can't work. <code>M</code> is a type variable, at compile time the compiler has no idea what type it is. It could be bound to some type that doesn't even exist yet right now. You can't ask for a reified inner type on a type variable. You <em>can</em> of course simply talk about <code>ApplicationDTOManager.CreationRequest</code> and that's presumably what you want.</p>\n<p>Alternatively, you're thinking that subtypes of ApplicationDTOManager may <em>also</em> want to subclass <code>ApplicationDTOManager.CreationRequest</code>. This is possible, but then all ApplicationDTOManager types need to carry their associated CreationRequest type as a type variable. We thus fix a few things:</p>\n<pre><code>public class ApplicationDTOManager&lt;R extends ApplicationDTOManager.CreationRequest&gt; {\n  public static class CreationRequest {}\n}\n</code></pre>\n<p>You may have a non-static inner class named CreationRequest. I'm going to stop you again on that - non-static inners have an invisible inner field of their outer's type, and combining that invisible voodoo magic with generics just doesn't work. Don't do it. You can explicitly make that field if you must have it, and make a constructor that takes it. This is what javac generates for you if you don't add <code>static</code> to your inner classes. But by making it explicit, you take control of the generics, which you have to here, and avoid confusion which given the nature of the question seems pertinent.</p>\n<blockquote>\n<p>I'm told that this does not override any super class methods. Why?</p>\n</blockquote>\n<p>Java's method names <strong>include all their erased types</strong>. The name of this method:</p>\n<pre><code>class List&lt;T extends Number&gt; {\n  int hello(String name, boolean[] hi, T arg) throws SQLException {}\n}\n</code></pre>\n<p>is, as far as the JVM is concerned, <code>hello(Ljava/lang/String;[ZLjava/lang/Number;)I</code>.</p>\n<p>Yeah, no, really. <code>javap -c -v</code> a class file and you'll see it. (<code>I</code> is integer, <code>[</code> is array, <code>Z</code> is boolean, and <code>Ltxt;</code> encodes ref type names in JVM style, e.g. with slashes and dollars instead of dots). It's written <code>name(params)ret</code>.</p>\n<p>If you then subtype something and introduce a method whose erased JVM name is <strong>identical</strong>, you're overriding. If you don't, it is not an override. Merely an overload. Overrides are dynamically dispatched. <strong>But overloads are not</strong> - The names are all linked up <strong>at compile time</strong>. However, for any given 'JVM method name', the lookup is done dynamically based on the receiver type. In other words:</p>\n<pre><code>class Fruit {\n  void hi(Fruit f) { System.out.println(&quot;Fruit Fruit&quot;); }\n  void hi(Apple a) { System.out.println(&quot;Fruit Apple&quot;); }\n}\n\nclass Apple extends Fruit {\n  void hi(Fruit f) { System.out.println(&quot;Apple Fruit&quot;); }\n  void hi(Apple a) { System.out.println(&quot;Apple Apple&quot;); }\n}\n\nFruit f = new Fruit();\nFruit a = new Apple();\na.hi(a);\n</code></pre>\n<p>Will print <code>Apple Fruit</code>. You'd think it should print <code>Apple Apple</code> perhaps - we are calling apple's <code>hi</code> passing an apple, no? But the invocation <code>a.hi(a)</code> is invoking the method named <code>hi(Lfruit;)V</code> (because the type of <code>a</code> is Fruit). The receiver variable (<code>a</code>) has compile time type <code>Fruit</code>, but its real type is <code>Apple</code>. So, which of the <code>hi(Lfruit;)V</code> methods is chosen is done with dynamic dispatch - you get apple's <code>hi(Fruit)</code>. Deciding between going with <code>hi(Fruit)</code> and <code>hi(Apple)</code> <strong>is done by the compiler only</strong>. Given that the type of the expression <code>a</code> is Fruit, you get <code>hi(Fruit)</code>. The fact that if you resolve this expression, you get an object whose <code>.getClass()</code> returns <code>Apple.class</code>, doesn't change this.</p>\n<p>Hence, what you wrote, does not override. Different name, even if you erase.</p>\n<p>Toss generics in the mix and it gets funky. But you can do this.</p>\n<pre><code>public abstract class ApplicationDTOManager&lt;I extends CreationRequest, O extends CreationResponse&gt; {\n\n    public abstract static class CreationRequest {}\n\n    public abstract static class CreationResponse {}\n\n}\n\npublic abstract class ApplicationController&lt;\n        E extends ApplicationEntity,\n        S extends ApplicationService&lt;AppEntity&gt;,\n        I extends CreationRequest,\n        O extends CreationResponse,\n        M extends ApplicationDTOManager&lt;I, O&gt;\n    &gt;\n// heck that's probably too many, at some point generics aren't worth it\n\n{\n  public abstract boolean hasCreatePermissions(I requestBody);\n}\n\n@RestController\npublic class UserResource extends ApplicationController&lt;\n    User,\n//     UserService&lt;User&gt;, // this seems wrong!\n    UserService, // UserService should extends ApplicationService&lt;User&gt;\n    UserDTOManager.CreationRequest,\n    UserDTOManager.CreationResponse,\n    UserDTOManager&gt; {\n    \n    @Override\n    public boolean hasCreatePermissions(UserDTOManager.CreationRequest requestBody, Optional&lt;UUID&gt; requestingUser) {\n        // Stuff\n    }\n\n\n}\n\n</code></pre>\n<p>Not sure all this is worth the pain, but, <em>if</em> you insist on linking all this together with generics, the above is the only way. You cannot express the notion 'has an inner type that is a subtype of CreationRequest' is a generics bound.</p>\n"}],"owner":{"account_id":21743569,"reputation":25,"user_id":16050570,"display_name":"Mansehaj Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74242729,"answer_count":2,"score":0,"last_activity_date":1667016011,"creation_date":1667008309,"question_id":74242325,"body_markdown":"Ok, I&#39;ll try to explain this as cleanly as I can.\r\n\r\nI&#39;ve created a generic abstract controller class that has a method `hasCreatePermissions` that looks something like this: \r\n\r\n\r\n```\r\npublic abstract class ApplicationController&lt;\r\n        AppEntity extends ApplicationEntity,\r\n        AppService extends ApplicationService&lt;AppEntity&gt;,\r\n        DTOManager extends ApplicationDTOManager\r\n&gt; {\r\n\r\n    // Other methods, properties, etc...\r\n    \r\n    public boolean hasCreatePermissions(DTOManager.CreationRequest requestBody, Optional&lt;UUID&gt; requestingUser) {\r\n        return false;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nEssentially, I want any class that overrides this method to be able to use its own DTOManager class as the parameter when it overrides this method.\r\n\r\nThe generic ApplicationDTOManager class looks like \r\n\r\n```\r\npublic abstract class ApplicationDTOManager {\r\n\r\n    public abstract class CreationRequest {}\r\n\r\n    public abstract class CreationResponse {}\r\n\r\n}\r\n```\r\n\r\nand any class that inherits ApplicationDTOManager can add classes that extend CreationRequest and CreationResponse for their own implementation of respective DTOs.\r\n\r\n\r\nHowever, lets say I try to extend it with a UserResource class (assume UserDTOManager exists with an implementation for CreationRequest):\r\n\r\n```\r\n@RestController\r\npublic class UserResource extends ApplicationController&lt;\r\n    User,\r\n    UserService&lt;User&gt;,\r\n    UserDTOManager\r\n&gt; {\r\n    \r\n    @Override\r\n    public boolean hasCreatePermissions(UserDTOManager.CreationRequest requestBody, Optional&lt;UUID&gt; requestingUser) {\r\n        // Stuff\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nI&#39;m told that this does not override any super class methods. Why? Is there any way to achieve this as I did not want to pass too many generics to my ApplicationController class, but also cannot have a constructor.","title":"Cannot override method that takes in parameter of inner class of generic","body":"<p>Ok, I'll try to explain this as cleanly as I can.</p>\n<p>I've created a generic abstract controller class that has a method <code>hasCreatePermissions</code> that looks something like this:</p>\n<pre><code>public abstract class ApplicationController&lt;\n        AppEntity extends ApplicationEntity,\n        AppService extends ApplicationService&lt;AppEntity&gt;,\n        DTOManager extends ApplicationDTOManager\n&gt; {\n\n    // Other methods, properties, etc...\n    \n    public boolean hasCreatePermissions(DTOManager.CreationRequest requestBody, Optional&lt;UUID&gt; requestingUser) {\n        return false;\n    }\n\n\n}\n</code></pre>\n<p>Essentially, I want any class that overrides this method to be able to use its own DTOManager class as the parameter when it overrides this method.</p>\n<p>The generic ApplicationDTOManager class looks like</p>\n<pre><code>public abstract class ApplicationDTOManager {\n\n    public abstract class CreationRequest {}\n\n    public abstract class CreationResponse {}\n\n}\n</code></pre>\n<p>and any class that inherits ApplicationDTOManager can add classes that extend CreationRequest and CreationResponse for their own implementation of respective DTOs.</p>\n<p>However, lets say I try to extend it with a UserResource class (assume UserDTOManager exists with an implementation for CreationRequest):</p>\n<pre><code>@RestController\npublic class UserResource extends ApplicationController&lt;\n    User,\n    UserService&lt;User&gt;,\n    UserDTOManager\n&gt; {\n    \n    @Override\n    public boolean hasCreatePermissions(UserDTOManager.CreationRequest requestBody, Optional&lt;UUID&gt; requestingUser) {\n        // Stuff\n    }\n\n\n}\n</code></pre>\n<p>I'm told that this does not override any super class methods. Why? Is there any way to achieve this as I did not want to pass too many generics to my ApplicationController class, but also cannot have a constructor.</p>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"comments":[{"owner":{"account_id":25870378,"reputation":37,"user_id":19601380,"display_name":"Paranoia"},"score":0,"creation_date":1666952409,"post_id":74231822,"comment_id":131061477,"body_markdown":"Thank you I have tried the first one and its working!","body":"Thank you I have tried the first one and its working!"}],"tags":[],"owner":{"account_id":15448309,"reputation":36,"user_id":11144554,"display_name":"Masoud Sarabadani"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666941349,"creation_date":1666941349,"answer_id":74231822,"question_id":74231667,"body_markdown":"The question is not quiet clear but you have 2 ways to interact with your adapter class\r\n\r\n(this is not the right way but it works in this situation)\r\n1. just pass the instance of your dialog to the constructor of your Adapter Class \r\nand inside onbind method use that dialog instance to dismiss it\r\n\r\n2. create an interface, take it as a constructor argument in your adapter class,\r\ncall the function whenever your activity/fragment to be notified,\r\nand then when ever you want to create an instance of your adapter class, let the class implement the interface by passing &quot;this&quot; instead of that interface to your adapter instance.","title":"How to closed BottomSheetDialog when user click item in RecyclerView?","body":"<p>The question is not quiet clear but you have 2 ways to interact with your adapter class</p>\n<p>(this is not the right way but it works in this situation)</p>\n<ol>\n<li><p>just pass the instance of your dialog to the constructor of your Adapter Class\nand inside onbind method use that dialog instance to dismiss it</p>\n</li>\n<li><p>create an interface, take it as a constructor argument in your adapter class,\ncall the function whenever your activity/fragment to be notified,\nand then when ever you want to create an instance of your adapter class, let the class implement the interface by passing &quot;this&quot; instead of that interface to your adapter instance.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":25870378,"reputation":37,"user_id":19601380,"display_name":"Paranoia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74231822,"answer_count":1,"score":2,"last_activity_date":1667014403,"creation_date":1666940320,"question_id":74231667,"body_markdown":"I&#39;m working with project where user can redirect to another page by selecting item in bottomsheet.\r\n\r\nThis is sample code for ```Fragment.java```\r\n\r\n```\r\nprivate BottomSheetDialog bottomsheet;\r\n\r\nprivate void displayBottomSheet(){\r\n   bottomsheet.show\r\n   View view = getLayoutInflater().inflate(R.layout.bottom_sheet, null, false);\r\n   RecyclerView recyclerView = view.findViewById(R.id.RecyclerView);\r\n\r\n   LinearLayoutManager linearLayoutManager = new \r\n   LinearLayoutManager(getContext().getApplicationContext());\r\n   recyclerView.setLayoutManager(linearLayoutManager);\r\n   RecyclerViewAdapter recyclerViewAdapter = new RecyclerViewAdapter(getContext(), \r\n   ..., ..., ...);\r\n   recyclerView.setAdapter(recyclerViewAdapter);\r\n\r\n   bottomsheet.setContentView(view);\r\n}\r\n```\r\nThis is sample code for my `RecyclerViewAdapter`\r\n\r\n```\r\nprivate void openFragmentScreen(int position, View view) {\r\n  // This is where the recyclerview item click listener to redirect in another fragment\r\n}\r\n```\r\n\r\n**I have done:**\r\n- ```recyclerview.onClickListener``` but its not working\r\n\r\n*Is there a way to call bottomsheetdialog in adapter class so I can easily use `bottomsheet.dismiss()` in my `openFragmentScreen()`?*","title":"How to closed BottomSheetDialog when user click item in RecyclerView?","body":"<p>I'm working with project where user can redirect to another page by selecting item in bottomsheet.</p>\n<p>This is sample code for <code>Fragment.java</code></p>\n<pre><code>private BottomSheetDialog bottomsheet;\n\nprivate void displayBottomSheet(){\n   bottomsheet.show\n   View view = getLayoutInflater().inflate(R.layout.bottom_sheet, null, false);\n   RecyclerView recyclerView = view.findViewById(R.id.RecyclerView);\n\n   LinearLayoutManager linearLayoutManager = new \n   LinearLayoutManager(getContext().getApplicationContext());\n   recyclerView.setLayoutManager(linearLayoutManager);\n   RecyclerViewAdapter recyclerViewAdapter = new RecyclerViewAdapter(getContext(), \n   ..., ..., ...);\n   recyclerView.setAdapter(recyclerViewAdapter);\n\n   bottomsheet.setContentView(view);\n}\n</code></pre>\n<p>This is sample code for my <code>RecyclerViewAdapter</code></p>\n<pre><code>private void openFragmentScreen(int position, View view) {\n  // This is where the recyclerview item click listener to redirect in another fragment\n}\n</code></pre>\n<p><strong>I have done:</strong></p>\n<ul>\n<li><code>recyclerview.onClickListener</code> but its not working</li>\n</ul>\n<p><em>Is there a way to call bottomsheetdialog in adapter class so I can easily use <code>bottomsheet.dismiss()</code> in my <code>openFragmentScreen()</code>?</em></p>\n"},{"tags":["java","arraylist","append"],"comments":[{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":4,"creation_date":1395667027,"post_id":22610526,"comment_id":34427630,"body_markdown":"Use `stringList.add`. And it&#39;s &quot;appended&quot; to the end..","body":"Use <code>stringList.add</code>. And it&#39;s &quot;appended&quot; to the end.."},{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":4,"creation_date":1395667045,"post_id":22610526,"comment_id":34427643,"body_markdown":"What do you think this - `ArrayList.add(random);` will do? To which arraylist will it add?","body":"What do you think this - <code>ArrayList.add(random);</code> will do? To which arraylist will it add?"},{"owner":{"account_id":265464,"reputation":38253,"user_id":552438,"display_name":"Anthony Grist"},"score":1,"creation_date":1395667140,"post_id":22610526,"comment_id":34427711,"body_markdown":"If you want something that works like a stack, why not use a Stack?","body":"If you want something that works like a stack, why not use a Stack?"},{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":1,"creation_date":1395667203,"post_id":22610526,"comment_id":34427765,"body_markdown":"@AnthonyGrist He&#39;s trying to implement a `Stack` that&#39;s backed by an `ArrayList`.","body":"@AnthonyGrist He&#39;s trying to implement a <code>Stack</code> that&#39;s backed by an <code>ArrayList</code>."},{"owner":{"account_id":3944591,"reputation":1835,"user_id":3257736,"accept_rate":66,"display_name":"Nora"},"score":0,"creation_date":1395667284,"post_id":22610526,"comment_id":34427825,"body_markdown":"@RohitJain I see now that it was wrong, I am new to programming and thought that you have to use the method &quot;add&quot; on an ArrayList, because the method belongs to that class, and then I thought that if you write &quot;random&quot; it will attach the string &quot;random&quot; to the ArrayList, but of course, that makes little sense because how would the computer know to add it to &quot;stringList&quot;, right?","body":"@RohitJain I see now that it was wrong, I am new to programming and thought that you have to use the method &quot;add&quot; on an ArrayList, because the method belongs to that class, and then I thought that if you write &quot;random&quot; it will attach the string &quot;random&quot; to the ArrayList, but of course, that makes little sense because how would the computer know to add it to &quot;stringList&quot;, right?"},{"owner":{"account_id":3944591,"reputation":1835,"user_id":3257736,"accept_rate":66,"display_name":"Nora"},"score":0,"creation_date":1395667343,"post_id":22610526,"comment_id":34427875,"body_markdown":"@AnthonyGrist I am doing this for a school exercise, and they want us to implement the stack ourselves, in order to get a better understanding of what a stack is","body":"@AnthonyGrist I am doing this for a school exercise, and they want us to implement the stack ourselves, in order to get a better understanding of what a stack is"},{"owner":{"account_id":3944591,"reputation":1835,"user_id":3257736,"accept_rate":66,"display_name":"Nora"},"score":0,"creation_date":1395667455,"post_id":22610526,"comment_id":34427963,"body_markdown":"@MarounMaroun Thank you!! Of course, I stupidly got confused by that you have to create an object of a class type and then use the methods on the object, and not use methods directly on the class...","body":"@MarounMaroun Thank you!! Of course, I stupidly got confused by that you have to create an object of a class type and then use the methods on the object, and not use methods directly on the class..."}],"answers":[{"tags":[],"owner":{"account_id":3183512,"reputation":2784,"user_id":3444376,"display_name":"Edwin Torres"},"comment_count":0,"down_vote_count":0,"up_vote_count":59,"is_accepted":true,"score":59,"last_activity_date":1395672241,"creation_date":1395672241,"answer_id":22612588,"question_id":22610526,"body_markdown":"Here is the syntax, along with some other methods you might find useful:\r\n\r\n        //add to the end of the list\r\n        stringList.add(random);\r\n        \r\n        //add to the beginning of the list\r\n        stringList.add(0,  random);\r\n        \r\n        //replace the element at index 4 with random\r\n        stringList.set(4, random);\r\n        \r\n        //remove the element at index 5\r\n        stringList.remove(5);\r\n        \r\n        //remove all elements from the list\r\n        stringList.clear();","title":"How to append elements at the end of ArrayList in Java?","body":"<p>Here is the syntax, along with some other methods you might find useful:</p>\n\n<pre><code>    //add to the end of the list\n    stringList.add(random);\n\n    //add to the beginning of the list\n    stringList.add(0,  random);\n\n    //replace the element at index 4 with random\n    stringList.set(4, random);\n\n    //remove the element at index 5\n    stringList.remove(5);\n\n    //remove all elements from the list\n    stringList.clear();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9284974,"reputation":2973,"user_id":6895166,"accept_rate":40,"display_name":"SamHoque"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1509190818,"creation_date":1509190818,"answer_id":46989301,"question_id":22610526,"body_markdown":"I know this is an old question, but I wanted to make an answer of my own. here is another way to do this if you &quot;really&quot; want to add to the end of the list instead of using ```list.add(str)``` you can do it this way, but I don&#39;t recommend.\r\n\r\n     String[] items = new String[]{&quot;Hello&quot;, &quot;World&quot;};\r\n            ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n            Collections.addAll(list, items);\r\n            int endOfList = list.size();\r\n            list.add(endOfList, &quot;This goes end of list&quot;);\r\n            System.out.println(Collections.singletonList(list));\r\n\r\n*this is the &#39;Compact&#39; way of adding the item to the end of list.\r\nhere is a safer way to do this, with null checking and more.*\r\n\r\n    String[] items = new String[]{&quot;Hello&quot;, &quot;World&quot;};\r\n            ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n            Collections.addAll(list, items);\r\n            addEndOfList(list, &quot;Safer way&quot;);\r\n            System.out.println(Collections.singletonList(list));\r\n\r\n     private static void addEndOfList(List&lt;String&gt; list, String item){\r\n                try{\r\n                    list.add(getEndOfList(list), item);\r\n                } catch (IndexOutOfBoundsException e){\r\n                    System.out.println(e.toString());\r\n                }\r\n            }\r\n\r\n       private static int getEndOfList(List&lt;String&gt; list){\r\n            if(list != null) {\r\n                return list.size();\r\n            }\r\n            return -1;\r\n        }\r\n\r\nHeres another way to add items to the end of list, happy coding :)","title":"How to append elements at the end of ArrayList in Java?","body":"<p>I know this is an old question, but I wanted to make an answer of my own. here is another way to do this if you \"really\" want to add to the end of the list instead of using <code>list.add(str)</code> you can do it this way, but I don't recommend.</p>\n\n<pre><code> String[] items = new String[]{\"Hello\", \"World\"};\n        ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\n        Collections.addAll(list, items);\n        int endOfList = list.size();\n        list.add(endOfList, \"This goes end of list\");\n        System.out.println(Collections.singletonList(list));\n</code></pre>\n\n<p><em>this is the 'Compact' way of adding the item to the end of list.\nhere is a safer way to do this, with null checking and more.</em></p>\n\n<pre><code>String[] items = new String[]{\"Hello\", \"World\"};\n        ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\n        Collections.addAll(list, items);\n        addEndOfList(list, \"Safer way\");\n        System.out.println(Collections.singletonList(list));\n\n private static void addEndOfList(List&lt;String&gt; list, String item){\n            try{\n                list.add(getEndOfList(list), item);\n            } catch (IndexOutOfBoundsException e){\n                System.out.println(e.toString());\n            }\n        }\n\n   private static int getEndOfList(List&lt;String&gt; list){\n        if(list != null) {\n            return list.size();\n        }\n        return -1;\n    }\n</code></pre>\n\n<p>Heres another way to add items to the end of list, happy coding :)</p>\n"},{"tags":[],"owner":{"account_id":15181110,"reputation":25,"user_id":10954358,"display_name":"KEERTHAN SHETTY"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556623131,"creation_date":1556623131,"answer_id":55919772,"question_id":22610526,"body_markdown":"    import java.util.*;\r\n    \r\n    \r\n    public class matrixcecil {\r\n        public static void main(String args[]){\r\n            List&lt;Integer&gt; k1=new ArrayList&lt;Integer&gt;(10);\r\n            k1.add(23);\r\n            k1.add(10);\r\n            k1.add(20);\r\n            k1.add(24);\r\n            int i=0;\r\n            while(k1.size()&lt;10){\r\n                if(i==(k1.get(k1.size()-1))){\r\n                    \r\n                }\r\n                 i=k1.get(k1.size()-1);\r\n                 k1.add(30);\r\n                 i++;\r\n                 break;\r\n            }\r\n            System.out.println(k1);\r\n        }\r\n        \r\n    }\r\n\r\nI think this example will help you for better solution.\r\n","title":"How to append elements at the end of ArrayList in Java?","body":"<pre><code>import java.util.*;\n\n\npublic class matrixcecil {\n    public static void main(String args[]){\n        List&lt;Integer&gt; k1=new ArrayList&lt;Integer&gt;(10);\n        k1.add(23);\n        k1.add(10);\n        k1.add(20);\n        k1.add(24);\n        int i=0;\n        while(k1.size()&lt;10){\n            if(i==(k1.get(k1.size()-1))){\n\n            }\n             i=k1.get(k1.size()-1);\n             k1.add(30);\n             i++;\n             break;\n        }\n        System.out.println(k1);\n    }\n\n}\n</code></pre>\n\n<p>I think this example will help you for better solution.</p>\n"},{"tags":[],"owner":{"account_id":8644224,"reputation":361,"user_id":6471931,"display_name":"Ambrown"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1575509492,"creation_date":1575509492,"answer_id":59186938,"question_id":22610526,"body_markdown":"I ran into a similar problem and just passed the end of the array to the `ArrayList.add()` index param like so:\r\n```\r\npublic class Stack {\r\n\r\n    private ArrayList&lt;String&gt; stringList = new ArrayList&lt;String&gt;();\r\n\r\n    RandomStringGenerator rsg = new RandomStringGenerator();\r\n\r\n    private void push(){\r\n        String random = rsg.randomStringGenerator();\r\n        stringList.add(stringList.size(), random);\r\n    }\r\n\r\n}\r\n```\r\n","title":"How to append elements at the end of ArrayList in Java?","body":"<p>I ran into a similar problem and just passed the end of the array to the <code>ArrayList.add()</code> index param like so:</p>\n\n<pre><code>public class Stack {\n\n    private ArrayList&lt;String&gt; stringList = new ArrayList&lt;String&gt;();\n\n    RandomStringGenerator rsg = new RandomStringGenerator();\n\n    private void push(){\n        String random = rsg.randomStringGenerator();\n        stringList.add(stringList.size(), random);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":3944591,"reputation":1835,"user_id":3257736,"accept_rate":66,"display_name":"Nora"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159263,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":22612588,"answer_count":4,"score":34,"last_activity_date":1667012644,"creation_date":1395666990,"question_id":22610526,"body_markdown":"I am wondering, how do I append an element to the end of an ArrayList in Java? Here is the code I have so far: \r\n\r\n    public class Stack {\r\n\r\n\t    private ArrayList&lt;String&gt; stringList = new ArrayList&lt;String&gt;();\r\n\t\r\n\t    RandomStringGenerator rsg = new RandomStringGenerator();\r\n\r\n\t    private void push(){\r\n\t\t    String random = rsg.randomStringGenerator();\r\n\t\t    ArrayList.add(random);\r\n\t    }\r\n\t\r\n    }\r\n\r\n`randomStringGenerator` is a method which generates a random String. \r\n\r\nI basically want to always append the random string at the end of the ArrayList, much like a stack (Hence the name &quot;push&quot;).","title":"How to append elements at the end of ArrayList in Java?","body":"<p>I am wondering, how do I append an element to the end of an ArrayList in Java? Here is the code I have so far:</p>\n<pre><code>public class Stack {\n\n    private ArrayList&lt;String&gt; stringList = new ArrayList&lt;String&gt;();\n\n    RandomStringGenerator rsg = new RandomStringGenerator();\n\n    private void push(){\n        String random = rsg.randomStringGenerator();\n        ArrayList.add(random);\n    }\n\n}\n</code></pre>\n<p><code>randomStringGenerator</code> is a method which generates a random String.</p>\n<p>I basically want to always append the random string at the end of the ArrayList, much like a stack (Hence the name &quot;push&quot;).</p>\n"},{"tags":["java","tomcat","deployment"],"comments":[{"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"score":0,"creation_date":1367923147,"post_id":16416832,"comment_id":23538704,"body_markdown":"can you share the file content where these variable are defined","body":"can you share the file content where these variable are defined"},{"owner":{"account_id":1495268,"reputation":841,"user_id":1401370,"accept_rate":65,"display_name":"John Smith"},"score":0,"creation_date":1367923421,"post_id":16416832,"comment_id":23538842,"body_markdown":"&#39;service.bat&#39;, it&#39;s original and is placed in bin directory","body":"&#39;service.bat&#39;, it&#39;s original and is placed in bin directory"},{"owner":{"account_id":1495268,"reputation":841,"user_id":1401370,"accept_rate":65,"display_name":"John Smith"},"score":0,"creation_date":1367924936,"post_id":16416832,"comment_id":23539719,"body_markdown":"edited console output","body":"edited console output"},{"owner":{"account_id":1495268,"reputation":841,"user_id":1401370,"accept_rate":65,"display_name":"John Smith"},"score":0,"creation_date":1367927894,"post_id":16416832,"comment_id":23541483,"body_markdown":"4g of ram installed :)","body":"4g of ram installed :)"}],"answers":[{"tags":[],"owner":{"account_id":1495268,"reputation":841,"user_id":1401370,"accept_rate":65,"display_name":"John Smith"},"comment_count":0,"down_vote_count":2,"up_vote_count":3,"is_accepted":true,"score":1,"last_activity_date":1367934094,"creation_date":1367934094,"answer_id":16420604,"question_id":16416832,"body_markdown":"got the correct parameters(JAVA_OPTS) from [here][1]. I&#39;ve set them in setenv.bat.\r\n\r\n\r\n  [1]: http://www.mkyong.com/tomcat/tomcat-javalangoutofmemoryerror-permgen-space/","title":"Invalid initial heap size. Could not create the Java virtual machine","body":"<p>got the correct parameters(JAVA_OPTS) from <a href=\"http://www.mkyong.com/tomcat/tomcat-javalangoutofmemoryerror-permgen-space/\" rel=\"nofollow\">here</a>. I've set them in setenv.bat.</p>\n"},{"tags":[],"owner":{"account_id":1811316,"reputation":9110,"user_id":1647320,"accept_rate":85,"display_name":"sapy"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1524101521,"creation_date":1497940051,"answer_id":44645367,"question_id":16416832,"body_markdown":"This is your problem \r\n`Invalid initial heap size: -Xms256m -Xmx512m -XX:MaxPermSize=256m`\r\n\r\nSome systems ( May be windows JRE) understands `Xms` and `Xmx` values given in small letters. here 256m and 512m denotes 256MB and 512MB respectively .\r\n\r\nSome machine(JDK 1.7 on Ubuntu ) doesn&#39;t understand `small m for MB` . So when I changed Xms256m -Xmx512m , `to =&gt;` *Xms256**M** -Xmx512**M*** , it started working .\r\n\r\n&gt; P.S -&gt; I got this error while installing IntelliJ on Ubuntu 15 ( JDK\r\n&gt; 1.7) , I edited `/bin/idea.vmoptions` file of intelliJ and It started working.\r\n&gt; \r\n&gt; [Here is a list][1] of error you can get for wrongly setting **Xmx** and\r\n&gt; **Xms** values  -\r\n\r\n\r\n\r\n**java -Xmx4056M -Xms4056M HelloWorld**\r\n\r\nIssue:  Error occurred during initialization of VM , The size of the object heap + VM data exceeds the maximum representable size\r\n\r\n*Cause:  the value of either -Xms or -Xmx is higher than or close to the size of physical memory, as my machine has 4GB memory.*\r\n\r\n**java -Xmx1056M -Xms2056M HelloWorld**\r\n\r\nIssue:  Error occurred during initialization of VM , Incompatible minimum, and maximum heap sizes specified\r\n\r\n*Cause:  value of -Xms is higher than -Xmx*\r\n\r\n**java -Xms2056M HelloWorld**\r\n\r\nIssue: Error occurred during initialization of VM , Could not reserve enough space for object heap\r\n\r\n*Cause: Only -Xms was provided and -Xmx was not provided. you will also get this error if you have a typo and instead of -Xmx you have specified -Xms two times*\r\n\r\n\r\n**java -Xms1024 M -Xmx1024M HelloWorld**\r\n\r\nIssue: Error occurred during initialization of VM , Too small initial heap\r\n\r\n*Cause: If you had space between 1024 and M than JVM assumes the size of -Xms as 1024 bytes only and print error that it&#39;s too small for JVM to start*\r\n\r\n\r\n  [1]: http://javarevisited.blogspot.com/2012/12/invalid-initial-and-maximum-heap-size.html#ixzz4kWNUGAbF","title":"Invalid initial heap size. Could not create the Java virtual machine","body":"<p>This is your problem \n<code>Invalid initial heap size: -Xms256m -Xmx512m -XX:MaxPermSize=256m</code></p>\n\n<p>Some systems ( May be windows JRE) understands <code>Xms</code> and <code>Xmx</code> values given in small letters. here 256m and 512m denotes 256MB and 512MB respectively .</p>\n\n<p>Some machine(JDK 1.7 on Ubuntu ) doesn't understand <code>small m for MB</code> . So when I changed Xms256m -Xmx512m , <code>to =&gt;</code> <em>Xms256<strong>M</strong> -Xmx512<strong>M</em></strong> , it started working .</p>\n\n<blockquote>\n  <p>P.S -> I got this error while installing IntelliJ on Ubuntu 15 ( JDK\n  1.7) , I edited <code>/bin/idea.vmoptions</code> file of intelliJ and It started working.</p>\n  \n  <p><a href=\"http://javarevisited.blogspot.com/2012/12/invalid-initial-and-maximum-heap-size.html#ixzz4kWNUGAbF\" rel=\"noreferrer\">Here is a list</a> of error you can get for wrongly setting <strong>Xmx</strong> and\n  <strong>Xms</strong> values  -</p>\n</blockquote>\n\n<p><strong>java -Xmx4056M -Xms4056M HelloWorld</strong></p>\n\n<p>Issue:  Error occurred during initialization of VM , The size of the object heap + VM data exceeds the maximum representable size</p>\n\n<p><em>Cause:  the value of either -Xms or -Xmx is higher than or close to the size of physical memory, as my machine has 4GB memory.</em></p>\n\n<p><strong>java -Xmx1056M -Xms2056M HelloWorld</strong></p>\n\n<p>Issue:  Error occurred during initialization of VM , Incompatible minimum, and maximum heap sizes specified</p>\n\n<p><em>Cause:  value of -Xms is higher than -Xmx</em></p>\n\n<p><strong>java -Xms2056M HelloWorld</strong></p>\n\n<p>Issue: Error occurred during initialization of VM , Could not reserve enough space for object heap</p>\n\n<p><em>Cause: Only -Xms was provided and -Xmx was not provided. you will also get this error if you have a typo and instead of -Xmx you have specified -Xms two times</em></p>\n\n<p><strong>java -Xms1024 M -Xmx1024M HelloWorld</strong></p>\n\n<p>Issue: Error occurred during initialization of VM , Too small initial heap</p>\n\n<p><em>Cause: If you had space between 1024 and M than JVM assumes the size of -Xms as 1024 bytes only and print error that it's too small for JVM to start</em></p>\n"},{"tags":[],"owner":{"account_id":4526662,"reputation":2542,"user_id":3678249,"accept_rate":88,"display_name":"BartBiczBoży"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547137451,"creation_date":1547137451,"answer_id":54132942,"question_id":16416832,"body_markdown":"And in my case reason was to have `-Xms` option before `-javaagent`. Executing it in right order `java -javaagent:xxx -Xms256m` did the trick.","title":"Invalid initial heap size. Could not create the Java virtual machine","body":"<p>And in my case reason was to have <code>-Xms</code> option before <code>-javaagent</code>. Executing it in right order <code>java -javaagent:xxx -Xms256m</code> did the trick.</p>\n"},{"comments":[{"owner":{"account_id":4817944,"reputation":656,"user_id":3889486,"accept_rate":50,"display_name":"user3889486"},"score":0,"creation_date":1600709946,"post_id":55031263,"comment_id":113167201,"body_markdown":"Worked thanks! My problem is I forgot to put the letter G","body":"Worked thanks! My problem is I forgot to put the letter G"}],"tags":[],"owner":{"account_id":14416320,"reputation":91,"user_id":10413681,"display_name":"Job Kavoya"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551902302,"creation_date":1551902302,"answer_id":55031263,"question_id":16416832,"body_markdown":"I got the same error when initializing h2o for deep learning in R. Removed space between the set minimum memory size: \r\n\r\nh2o.init(min_mem_size = &quot;10 G&quot;) I got error:\r\n\r\nError occurred during initialization of VM\r\nToo small initial heap\r\n\r\nAfter removing space between 10 and G it worked:\r\n\r\nh2o.init(min_mem_size = &quot;10G&quot;)","title":"Invalid initial heap size. Could not create the Java virtual machine","body":"<p>I got the same error when initializing h2o for deep learning in R. Removed space between the set minimum memory size: </p>\n\n<p>h2o.init(min_mem_size = \"10 G\") I got error:</p>\n\n<p>Error occurred during initialization of VM\nToo small initial heap</p>\n\n<p>After removing space between 10 and G it worked:</p>\n\n<p>h2o.init(min_mem_size = \"10G\")</p>\n"},{"tags":[],"owner":{"account_id":1385848,"reputation":25317,"user_id":1317944,"accept_rate":79,"display_name":"The Quantum Physicist"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1569855847,"creation_date":1569855847,"answer_id":58170578,"question_id":16416832,"body_markdown":"This problem happened to me while trying to run Cassandra.\r\n\r\nUninstalling Java 32-bit and installing Java 64-bit solved this problem for me. ","title":"Invalid initial heap size. Could not create the Java virtual machine","body":"<p>This problem happened to me while trying to run Cassandra.</p>\n\n<p>Uninstalling Java 32-bit and installing Java 64-bit solved this problem for me. </p>\n"},{"tags":[],"owner":{"account_id":5969204,"reputation":12693,"user_id":4692049,"display_name":"avivamg"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667012584,"creation_date":1590498407,"answer_id":62022874,"question_id":16416832,"body_markdown":"**The problem** : You try to initial the minimum and maximum heap size of your application though appears that you&#39;re having some syntax issue. You need to set it properly. Pay attention that you minimum and maximum size points are supported related to your machine memory that your application is running.\r\n\r\nFrom **Oracle [Documentation][1]**: \r\n\r\n    -Xms\r\n    The -Xms option sets the initial and minimum Java heap size.\r\n    The Java heap (the “heap”) is the part of the memory where blocks of memory\r\n    are allocated to objects and freed during garbage collection.\r\n \r\n    Note:\t-Xms does not limit the total amount of memory that the JVM can use.\r\n    Format: -Xms&lt;size&gt;[g|G|m|M|k|K]\r\n\r\n\r\n    -Xmx\r\n    This option sets the maximum Java heap size.\r\n    The Java heap (the “heap”) is the part of the memory where blocks of memory \r\n    are allocated to objects and freed during garbage collection.\r\n    Depending upon the kind of operating system you are running,\r\n    the maximum value you can set for the Java heap can vary.\r\n    \r\n    Note:\t-Xmx does not limit the total amount of memory that the JVM can use.\r\n    Operation\r\n    Format: -Xmx&lt;size&gt;[g|G|m|M|k|K]\r\n\r\n**Examples**: \r\n\r\nOn **java cli** `java -Xms:64m -Xmx:1g -jar app.jar`\r\n\r\nOn **docker-compose.yml** example (different syntax): \r\n\r\n    version: &#39;3&#39;\r\n    services:\r\n      jenkins:\r\n        image: jenkins/jenkins:lts\r\n        container_name: jenkins\r\n        user: jenkins\r\n        environment:\r\n          - JAVA_OPTS=-Xms512m -Xmx2048m \r\n        ports:\r\n          - &quot;0.0.0.0:8080:8080&quot;\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/E13150_01/jrockit_jvm/jrockit/jrdocs/refman/optionX.html","title":"Invalid initial heap size. Could not create the Java virtual machine","body":"<p><strong>The problem</strong> : You try to initial the minimum and maximum heap size of your application though appears that you're having some syntax issue. You need to set it properly. Pay attention that you minimum and maximum size points are supported related to your machine memory that your application is running.</p>\n<p>From <strong>Oracle <a href=\"https://docs.oracle.com/cd/E13150_01/jrockit_jvm/jrockit/jrdocs/refman/optionX.html\" rel=\"nofollow noreferrer\">Documentation</a></strong>:</p>\n<pre><code>-Xms\nThe -Xms option sets the initial and minimum Java heap size.\nThe Java heap (the “heap”) is the part of the memory where blocks of memory\nare allocated to objects and freed during garbage collection.\n\nNote:   -Xms does not limit the total amount of memory that the JVM can use.\nFormat: -Xms&lt;size&gt;[g|G|m|M|k|K]\n\n\n-Xmx\nThis option sets the maximum Java heap size.\nThe Java heap (the “heap”) is the part of the memory where blocks of memory \nare allocated to objects and freed during garbage collection.\nDepending upon the kind of operating system you are running,\nthe maximum value you can set for the Java heap can vary.\n\nNote:   -Xmx does not limit the total amount of memory that the JVM can use.\nOperation\nFormat: -Xmx&lt;size&gt;[g|G|m|M|k|K]\n</code></pre>\n<p><strong>Examples</strong>:</p>\n<p>On <strong>java cli</strong> <code>java -Xms:64m -Xmx:1g -jar app.jar</code></p>\n<p>On <strong>docker-compose.yml</strong> example (different syntax):</p>\n<pre><code>version: '3'\nservices:\n  jenkins:\n    image: jenkins/jenkins:lts\n    container_name: jenkins\n    user: jenkins\n    environment:\n      - JAVA_OPTS=-Xms512m -Xmx2048m \n    ports:\n      - &quot;0.0.0.0:8080:8080&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6593027,"reputation":428,"user_id":5093657,"display_name":"Balkrushna Patil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593005011,"creation_date":1593005011,"answer_id":62556145,"question_id":16416832,"body_markdown":"You may get this issue even after physical memory available in the system.\r\nOn most 32-bit java version the maximum heap size will range from 1.4G to 1.6G. For more details Please got through on this [link][1]\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/hotspotfaq.html#:~:text=The%20maximum%20theoretical%20heap%20limit,1.4G%20to%201.6G.\r\n\r\nIf you have to initialise JVM more than 1.4G to 1.6G of heap memory then you should install 64 bit java version.","title":"Invalid initial heap size. Could not create the Java virtual machine","body":"<p>You may get this issue even after physical memory available in the system.\nOn most 32-bit java version the maximum heap size will range from 1.4G to 1.6G. For more details Please got through on this <a href=\"https://www.oracle.com/java/technologies/hotspotfaq.html#:%7E:text=The%20maximum%20theoretical%20heap%20limit,1.4G%20to%201.6G.\" rel=\"nofollow noreferrer\">link</a></p>\n<p>If you have to initialise JVM more than 1.4G to 1.6G of heap memory then you should install 64 bit java version.</p>\n"}],"owner":{"account_id":1495268,"reputation":841,"user_id":1401370,"accept_rate":65,"display_name":"John Smith"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88949,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":16420604,"answer_count":7,"score":19,"last_activity_date":1667012584,"creation_date":1367922712,"question_id":16416832,"body_markdown":"I&#39;ve faced the next problem:\r\nI&#39;m trying to start Tomcat manually via startup.bat, but it seems not to show any results, then I&#39;ve tried to run shutdown.bat and the console shows next:\r\n\r\n   \r\n\r\n     D:\\apache-tomcat-7.0.35\\bin&gt;startup.bat\r\n    Using CATALINA_BASE:   &quot;D:\\apache-tomcat-7.0.35&quot;\r\n    Using CATALINA_HOME:   &quot;D:\\apache-tomcat-7.0.35&quot;\r\n    Using CATALINA_TMPDIR: &quot;D:\\apache-tomcat-7.0.35\\temp&quot;\r\n    Using JRE_HOME:        &quot;C:\\Program Files\\Java\\jdk1.6.0_31&quot;\r\n    Using CLASSPATH:       &quot;D:\\apache-tomcat-7.0.35\\bin\\bootstrap.jar;D:\\apache-tomcat-7.0.35\\bin\\tomcat-juli.jar&quot;\r\n    D:\\apache-tomcat-7.0.35\\bin&gt;shutdown.bat\r\n    Using CATALINA_BASE:   &quot;D:\\apache-tomcat-7.0.35&quot;\r\n    Using CATALINA_HOME:   &quot;D:\\apache-tomcat-7.0.35&quot;\r\n    Using CATALINA_TMPDIR: &quot;D:\\apache-tomcat-7.0.35\\temp&quot;\r\n    Using JRE_HOME:        &quot;C:\\Program Files\\Java\\jdk1.6.0_31&quot;\r\n    Using CLASSPATH:       &quot;D:\\apache-tomcat-7.0.35\\bin\\bootstrap.jar;D:\\apache-tomcat-7.0.35\\bin\\tomcat-juli.jar&quot;\r\n    Invalid initial heap size: -Xms256m -Xmx512m -XX:MaxPermSize=256m\r\n    Could not create the Java virtual machine.\r\n\r\ncatalina.bat is original, also I&#39;ve checked all pathes and opts(i.e. JAVA_HOME, JRE_HOME, CATALINA_BASE, CATALINA_HOME, CATALINA_TMPDIR).\r\ntomcat version is 7.0.35\r\njava v 1.6\r\n","title":"Invalid initial heap size. Could not create the Java virtual machine","body":"<p>I've faced the next problem:\nI'm trying to start Tomcat manually via startup.bat, but it seems not to show any results, then I've tried to run shutdown.bat and the console shows next:</p>\n\n<pre><code> D:\\apache-tomcat-7.0.35\\bin&gt;startup.bat\nUsing CATALINA_BASE:   \"D:\\apache-tomcat-7.0.35\"\nUsing CATALINA_HOME:   \"D:\\apache-tomcat-7.0.35\"\nUsing CATALINA_TMPDIR: \"D:\\apache-tomcat-7.0.35\\temp\"\nUsing JRE_HOME:        \"C:\\Program Files\\Java\\jdk1.6.0_31\"\nUsing CLASSPATH:       \"D:\\apache-tomcat-7.0.35\\bin\\bootstrap.jar;D:\\apache-tomcat-7.0.35\\bin\\tomcat-juli.jar\"\nD:\\apache-tomcat-7.0.35\\bin&gt;shutdown.bat\nUsing CATALINA_BASE:   \"D:\\apache-tomcat-7.0.35\"\nUsing CATALINA_HOME:   \"D:\\apache-tomcat-7.0.35\"\nUsing CATALINA_TMPDIR: \"D:\\apache-tomcat-7.0.35\\temp\"\nUsing JRE_HOME:        \"C:\\Program Files\\Java\\jdk1.6.0_31\"\nUsing CLASSPATH:       \"D:\\apache-tomcat-7.0.35\\bin\\bootstrap.jar;D:\\apache-tomcat-7.0.35\\bin\\tomcat-juli.jar\"\nInvalid initial heap size: -Xms256m -Xmx512m -XX:MaxPermSize=256m\nCould not create the Java virtual machine.\n</code></pre>\n\n<p>catalina.bat is original, also I've checked all pathes and opts(i.e. JAVA_HOME, JRE_HOME, CATALINA_BASE, CATALINA_HOME, CATALINA_TMPDIR).\ntomcat version is 7.0.35\njava v 1.6</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1999826,"reputation":4154,"user_id":2058757,"accept_rate":60,"display_name":"Sharp Edge"},"score":1,"creation_date":1666987715,"post_id":74240386,"comment_id":131072759,"body_markdown":"Is this your homework assignment ?","body":"Is this your homework assignment ?"}],"answers":[{"tags":[],"owner":{"account_id":25694056,"reputation":101,"user_id":19461429,"display_name":"RohithPg"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666988398,"creation_date":1666988116,"answer_id":74240456,"question_id":74240386,"body_markdown":"Isn&#39;t this your problem?\r\n\r\n    inputFile = new Scanner(filename);\r\n\r\nIt should be \r\n\r\n    inputFile = new Scanner(fileObj);\r\n\r\nYou should read from the file object and not from the String filename. You have used it correctly for the first method where you count all the lines.","title":"Java word counter doesn&#39;t count all the words","body":"<p>Isn't this your problem?</p>\n<pre><code>inputFile = new Scanner(filename);\n</code></pre>\n<p>It should be</p>\n<pre><code>inputFile = new Scanner(fileObj);\n</code></pre>\n<p>You should read from the file object and not from the String filename. You have used it correctly for the first method where you count all the lines.</p>\n"},{"comments":[{"owner":{"account_id":4281210,"reputation":1058,"user_id":3500521,"display_name":"Dreamspace President"},"score":1,"creation_date":1666991638,"post_id":74240526,"comment_id":131073671,"body_markdown":"That wastes memory.","body":"That wastes memory."}],"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666988953,"creation_date":1666988650,"answer_id":74240526,"question_id":74240386,"body_markdown":"**BE SIMPLE!!!**\r\n```java\r\npublic final class FileStats {\r\n\r\n    private final Path file;\r\n\r\n    public FileStats(String pathname) {\r\n        file = Paths.get(pathname);\r\n    }\r\n\r\n    public int getNumLines() throws IOException {\r\n        return Files.readAllLines(file).size();\r\n    }\r\n\r\n    public int getNumLinesThatContain(String key) throws IOException {\r\n        String lowerCaseKey = key.toLowerCase();\r\n\r\n        return (int)Files.readAllLines(file).stream()\r\n                         .map(String::toLowerCase)\r\n                         .filter(line -&gt; line.contains(lowerCaseKey))\r\n                         .count();\r\n    }\r\n\r\n}\r\n```","title":"Java word counter doesn&#39;t count all the words","body":"<p><strong>BE SIMPLE!!!</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class FileStats {\n\n    private final Path file;\n\n    public FileStats(String pathname) {\n        file = Paths.get(pathname);\n    }\n\n    public int getNumLines() throws IOException {\n        return Files.readAllLines(file).size();\n    }\n\n    public int getNumLinesThatContain(String key) throws IOException {\n        String lowerCaseKey = key.toLowerCase();\n\n        return (int)Files.readAllLines(file).stream()\n                         .map(String::toLowerCase)\n                         .filter(line -&gt; line.contains(lowerCaseKey))\n                         .count();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4281210,"reputation":1058,"user_id":3500521,"display_name":"Dreamspace President"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666991675,"creation_date":1666991675,"answer_id":74240989,"question_id":74240386,"body_markdown":"If you do it like this, you can write ONE method that does BOTH: If the argument is null, all lines are counted. If the argument is a String (Case doesn&#39;t matter.), only lines are counted that contain that String.\r\n\r\n    final String keyLowerCase = key == null ? null : key.toLowerCase();\r\n    int amountOfLines = 0;\r\n    try (final BufferedReader br = Files.newBufferedReader(file.toPath(), StandardCharsets.UTF_8)) {\r\n        String line;\r\n        while ((line = br.readLine()) != null) {\r\n            if (keyLowerCase == null || line.toLowerCase().contains(keyLowerCase)) {\r\n                amountOfLines++;\r\n            }\r\n        }\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n","title":"Java word counter doesn&#39;t count all the words","body":"<p>If you do it like this, you can write ONE method that does BOTH: If the argument is null, all lines are counted. If the argument is a String (Case doesn't matter.), only lines are counted that contain that String.</p>\n<pre><code>final String keyLowerCase = key == null ? null : key.toLowerCase();\nint amountOfLines = 0;\ntry (final BufferedReader br = Files.newBufferedReader(file.toPath(), StandardCharsets.UTF_8)) {\n    String line;\n    while ((line = br.readLine()) != null) {\n        if (keyLowerCase == null || line.toLowerCase().contains(keyLowerCase)) {\n            amountOfLines++;\n        }\n    }\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1667517173,"post_id":74241430,"comment_id":131191692,"body_markdown":"That&#39;s a nice example of usage `mark()` and `reset()` can be useful for those who are learning how to work with IO API. I would advise adding one more caution: `Integer.MAX_VALUE` - it&#39;s an extremely large buffer, an attempt to allocate an array of size which is close to that number would trigger an `OutOfMemoryError`. This technic would work well with files that are moderate in size. With large files, it would be better to open (and then close) a new stream with each method call.","body":"That&#39;s a nice example of usage <code>mark()</code> and <code>reset()</code> can be useful for those who are learning how to work with IO API. I would advise adding one more caution: <code>Integer.MAX_VALUE</code> - it&#39;s an extremely large buffer, an attempt to allocate an array of size which is close to that number would trigger an <code>OutOfMemoryError</code>. This technic would work well with files that are moderate in size. With large files, it would be better to open (and then close) a new stream with each method call."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667010136,"creation_date":1666995702,"answer_id":74241430,"question_id":74240386,"body_markdown":"This uses a `BufferedReader` to read in the lines as a stream. The `mark` and `reset` methods are used to essentially rewind the file for each method call. \r\n```\r\npublic class FileStatsTest {\r\n    public static void main(String[] args) {\r\n        String searchString = &quot;to&quot;;\r\n        String fileName = &quot;some file&quot;;\r\n        FileStats fs = new FileStats(fileName);\r\n        System.out.println(fs.getNumLines());\r\n        System.out.println(fs.getNumLinesThatContain(searchString));\r\n    }\r\n}\r\n\r\nclass FileStats {\r\n    private File file;\r\n    BufferedReader br;\r\n\r\n    public FileStats(String fileName) {\r\n        file = new File(fileName);\r\n        try {\r\n            br = new BufferedReader(new FileReader(file));\r\n            br.mark((int) file.length() + 1); // just file.length() won&#39;t work\r\n        } catch (IOException ioe) {\r\n            ioe.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public int getNumLines() {\r\n        try {\r\n            br.reset(); // effectively reset to start of file\r\n        } catch (IOException ioe) {\r\n            ioe.printStackTrace();\r\n        }\r\n\r\n        return (int) br.lines().count();\r\n    }\r\n\r\n    public int getNumLinesThatContain(String key) {\r\n        String keyLC = key.toLowerCase();\r\n        try {\r\n            br.reset(); // effectively reset to start of file\r\n        } catch (IOException ioe) {\r\n            ioe.printStackTrace();\r\n        }\r\n        return (int) br.lines().filter(str -&gt; str.toLowerCase().contains(key))\r\n                .count();\r\n    }\r\n}\r\n```\r\n**Limitations**\r\n\r\n- This won&#39;t work for files larger than `Integer.MAX_VALUE-1` as mark only accepts an integer value.\r\n- the returned `count` is a `long` and cast to an `int`.  Not a problem since mark would fail long before the high order word of count is masked off from the cast. ","title":"Java word counter doesn&#39;t count all the words","body":"<p>This uses a <code>BufferedReader</code> to read in the lines as a stream. The <code>mark</code> and <code>reset</code> methods are used to essentially rewind the file for each method call.</p>\n<pre><code>public class FileStatsTest {\n    public static void main(String[] args) {\n        String searchString = &quot;to&quot;;\n        String fileName = &quot;some file&quot;;\n        FileStats fs = new FileStats(fileName);\n        System.out.println(fs.getNumLines());\n        System.out.println(fs.getNumLinesThatContain(searchString));\n    }\n}\n\nclass FileStats {\n    private File file;\n    BufferedReader br;\n\n    public FileStats(String fileName) {\n        file = new File(fileName);\n        try {\n            br = new BufferedReader(new FileReader(file));\n            br.mark((int) file.length() + 1); // just file.length() won't work\n        } catch (IOException ioe) {\n            ioe.printStackTrace();\n        }\n    }\n\n    public int getNumLines() {\n        try {\n            br.reset(); // effectively reset to start of file\n        } catch (IOException ioe) {\n            ioe.printStackTrace();\n        }\n\n        return (int) br.lines().count();\n    }\n\n    public int getNumLinesThatContain(String key) {\n        String keyLC = key.toLowerCase();\n        try {\n            br.reset(); // effectively reset to start of file\n        } catch (IOException ioe) {\n            ioe.printStackTrace();\n        }\n        return (int) br.lines().filter(str -&gt; str.toLowerCase().contains(key))\n                .count();\n    }\n}\n</code></pre>\n<p><strong>Limitations</strong></p>\n<ul>\n<li>This won't work for files larger than <code>Integer.MAX_VALUE-1</code> as mark only accepts an integer value.</li>\n<li>the returned <code>count</code> is a <code>long</code> and cast to an <code>int</code>.  Not a problem since mark would fail long before the high order word of count is masked off from the cast.</li>\n</ul>\n"}],"owner":{"account_id":26744491,"reputation":11,"user_id":20344740,"display_name":"Lizzie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1667010136,"creation_date":1666987593,"question_id":74240386,"body_markdown":"This is the program I need to make,\r\n\r\nMake a class that represents a file. This class will have the ability to calculate the number of lines in that file and the ability to search through the file.\r\nThe getNumLinesThatContain method will take a bit of text and determine how many lines contain that text. Make the comparison not care about case.\r\nExample: if the user is searching for hello and a line contains the text hello hello hello then this counts as one. Use the contains method defined on Strings to help with this.\r\nClass Name\r\nFileStats\r\nFields\r\n- filename : String\r\nMethods\r\n+ FileStats(filename : String)\r\n+ getNumLinesThatContain(key : String) : int\r\n+ getNumLines() : int\r\n\r\nThis is what I have so far,\r\n \r\n    \r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.util.Objects;\r\n    import java.util.Scanner;\r\n\r\n    public class FileStats {\r\n        private String filename;\r\n        Scanner inputFile;\r\n\r\n\r\n        public FileStats(String f) {\r\n            filename = f;\r\n        }\r\n\r\n        public int getNumLines() throws FileNotFoundException {\r\n            //make a variable to hold the filename\r\n            File fileObj = new File(filename);\r\n            inputFile = new Scanner(fileObj);\r\n            //keep track of the number lines\r\n            int numLines = 0;\r\n            //while there&#39;s more stuff to read...\r\n            while (inputFile.hasNext()) {\r\n                //read a line\r\n                String line = inputFile.nextLine();\r\n                //keep track of that line\r\n                numLines++;\r\n            }\r\n            //close the file\r\n            inputFile.close();\r\n            //return the result\r\n            return numLines;\r\n        }\r\n        public int getNumLinesThatContain(String key){\r\n            // variable to keep track of file name\r\n            File fileObj = new File(filename);\r\n            inputFile = new Scanner(filename);\r\n            //keep track of the number lines\r\n            int numLines = 0;\r\n\r\n            //while there is more stuff to read\r\n            while (inputFile.hasNext()){\r\n                //read a line\r\n                String line = inputFile.nextLine();\r\n                //keep track of the line if word\r\n                //this is where I think the problem is\r\n                if(line.toUpperCase().contains(key.toUpperCase())) {\r\n                    numLines++;\r\n                }\r\n            }\r\n            inputFile.close();\r\n            return numLines;\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\nFor the method getNumLinesThatContain I just get 1s and 0s when I run the file. I have tried changing the if statement to one that compares line and key, to one that sees if they are equal, and the one shown checks to see if the line contains the key. I can&#39;t seem to figure out how to get the counter to count the lines that contain the key correctly. Please help.","title":"Java word counter doesn&#39;t count all the words","body":"<p>This is the program I need to make,</p>\n<p>Make a class that represents a file. This class will have the ability to calculate the number of lines in that file and the ability to search through the file.\nThe getNumLinesThatContain method will take a bit of text and determine how many lines contain that text. Make the comparison not care about case.\nExample: if the user is searching for hello and a line contains the text hello hello hello then this counts as one. Use the contains method defined on Strings to help with this.\nClass Name\nFileStats\nFields</p>\n<ul>\n<li>filename : String\nMethods</li>\n</ul>\n<ul>\n<li>FileStats(filename : String)</li>\n<li>getNumLinesThatContain(key : String) : int</li>\n<li>getNumLines() : int</li>\n</ul>\n<p>This is what I have so far,</p>\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.Objects;\nimport java.util.Scanner;\n\npublic class FileStats {\n    private String filename;\n    Scanner inputFile;\n\n\n    public FileStats(String f) {\n        filename = f;\n    }\n\n    public int getNumLines() throws FileNotFoundException {\n        //make a variable to hold the filename\n        File fileObj = new File(filename);\n        inputFile = new Scanner(fileObj);\n        //keep track of the number lines\n        int numLines = 0;\n        //while there's more stuff to read...\n        while (inputFile.hasNext()) {\n            //read a line\n            String line = inputFile.nextLine();\n            //keep track of that line\n            numLines++;\n        }\n        //close the file\n        inputFile.close();\n        //return the result\n        return numLines;\n    }\n    public int getNumLinesThatContain(String key){\n        // variable to keep track of file name\n        File fileObj = new File(filename);\n        inputFile = new Scanner(filename);\n        //keep track of the number lines\n        int numLines = 0;\n\n        //while there is more stuff to read\n        while (inputFile.hasNext()){\n            //read a line\n            String line = inputFile.nextLine();\n            //keep track of the line if word\n            //this is where I think the problem is\n            if(line.toUpperCase().contains(key.toUpperCase())) {\n                numLines++;\n            }\n        }\n        inputFile.close();\n        return numLines;\n    }\n\n}\n</code></pre>\n<p>For the method getNumLinesThatContain I just get 1s and 0s when I run the file. I have tried changing the if statement to one that compares line and key, to one that sees if they are equal, and the one shown checks to see if the line contains the key. I can't seem to figure out how to get the counter to count the lines that contain the key correctly. Please help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7052,"reputation":48090,"user_id":12048,"accept_rate":94,"display_name":"finnw"},"score":1,"creation_date":1295433313,"post_id":4734108,"comment_id":5231723,"body_markdown":"Closely related: http://stackoverflow.com/questions/794227/how-to-know-about-outofmemory-or-stackoverflow-errors-ahead-of-time","body":"Closely related: <a href=\"http://stackoverflow.com/questions/794227/how-to-know-about-outofmemory-or-stackoverflow-errors-ahead-of-time\" title=\"how to know about outofmemory or stackoverflow errors ahead of time\">stackoverflow.com/questions/794227/&hellip;</a>"},{"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"score":0,"creation_date":1295436504,"post_id":4734108,"comment_id":5232262,"body_markdown":"Since this is a good question, I&#39;ve updated the title to something I feel is more clearly associated with the meaning.  (Previously I thought you might be referring to the depth of a *particular* stack you&#39;d captured at runtime, for example).  Feel free to change it back if you disagree.","body":"Since this is a good question, I&#39;ve updated the title to something I feel is more clearly associated with the meaning.  (Previously I thought you might be referring to the depth of a <i>particular</i> stack you&#39;d captured at runtime, for example).  Feel free to change it back if you disagree."}],"answers":[{"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":14,"creation_date":1295432814,"post_id":4734125,"comment_id":5231640,"body_markdown":"And perhaps the size of the stack frames you&#39;re putting on it?","body":"And perhaps the size of the stack frames you&#39;re putting on it?"},{"owner":{"account_id":111215,"reputation":4304,"user_id":293933,"display_name":"Jarek Przyg&#243;dzki"},"score":1,"creation_date":1367679029,"post_id":4734125,"comment_id":23467140,"body_markdown":"The limit also depends on the stack usage in the function.","body":"The limit also depends on the stack usage in the function."},{"owner":{"account_id":192966,"reputation":5703,"user_id":434408,"accept_rate":51,"display_name":"a3.14_Infinity"},"score":2,"creation_date":1467618729,"post_id":4734125,"comment_id":63785725,"body_markdown":"if we don&#39;t mention the Xss, then?","body":"if we don&#39;t mention the Xss, then?"}],"tags":[],"owner":{"account_id":7052,"reputation":48090,"user_id":12048,"accept_rate":94,"display_name":"finnw"},"comment_count":3,"down_vote_count":0,"up_vote_count":66,"is_accepted":true,"score":66,"last_activity_date":1295433052,"creation_date":1295432746,"answer_id":4734125,"question_id":4734108,"body_markdown":"It depends on the amount of virtual memory allocated to the stack.\r\n\r\nhttp://www.odi.ch/weblog/posting.php?posting=411  \r\n\r\nYou can tune this with the `-Xss` VM parameter or with the &lt;code&gt;[Thread(ThreadGroup, Runnable, String, long)](http://download.oracle.com/javase/6/docs/api/java/lang/Thread.html#Thread%28java.lang.ThreadGroup,%20java.lang.Runnable,%20java.lang.String,%20long%29)&lt;/code&gt; constructor.","title":"What is the maximum depth of the java call stack?","body":"<p>It depends on the amount of virtual memory allocated to the stack.</p>\n\n<p><a href=\"http://www.odi.ch/weblog/posting.php?posting=411\" rel=\"noreferrer\">http://www.odi.ch/weblog/posting.php?posting=411</a>  </p>\n\n<p>You can tune this with the <code>-Xss</code> VM parameter or with the <code><a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Thread.html#Thread%28java.lang.ThreadGroup,%20java.lang.Runnable,%20java.lang.String,%20long%29\" rel=\"noreferrer\">Thread(ThreadGroup, Runnable, String, long)</a></code> constructor.</p>\n"},{"comments":[{"owner":{"account_id":6710,"reputation":1416,"user_id":11409,"accept_rate":86,"display_name":"mcveat"},"score":4,"creation_date":1295437995,"post_id":4734321,"comment_id":5232502,"body_markdown":"+1 for second paragraph. One should always remember about that.","body":"+1 for second paragraph. One should always remember about that."},{"owner":{"account_id":113402,"reputation":11890,"user_id":298664,"accept_rate":76,"display_name":"Norswap"},"score":6,"creation_date":1364209055,"post_id":4734321,"comment_id":22143888,"body_markdown":"Using eclipse, I only get 1024 recursive calls.","body":"Using eclipse, I only get 1024 recursive calls."},{"owner":{"account_id":2394625,"reputation":8444,"user_id":2093695,"accept_rate":100,"display_name":"Brian McCutchon"},"score":3,"creation_date":1502945954,"post_id":4734321,"comment_id":78411111,"body_markdown":"@Norswap Are you determining that by the size of the stack trace? That appears to be limited to 1024 regardless of the actual size of the stack.","body":"@Norswap Are you determining that by the size of the stack trace? That appears to be limited to 1024 regardless of the actual size of the stack."}],"tags":[],"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"comment_count":3,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1295433990,"creation_date":1295433990,"answer_id":4734321,"question_id":4734108,"body_markdown":"The stack size can be set with the `-Xss` command line switch but as a rule of thumb, it is deep enough, hundreds if not thousands of calls deep. (The default is platform dependent, but at least 256k in most platforms.)\r\n\r\nIf you get a stack overflow, 99% of the time it&#39;s caused by an error in the code.","title":"What is the maximum depth of the java call stack?","body":"<p>The stack size can be set with the <code>-Xss</code> command line switch but as a rule of thumb, it is deep enough, hundreds if not thousands of calls deep. (The default is platform dependent, but at least 256k in most platforms.)</p>\n\n<p>If you get a stack overflow, 99% of the time it's caused by an error in the code.</p>\n"},{"comments":[{"owner":{"account_id":118852,"reputation":946,"user_id":310162,"accept_rate":62,"display_name":"arya"},"score":18,"creation_date":1423968423,"post_id":24594045,"comment_id":45361839,"body_markdown":"Isn&#39;t it the case that this is tail recursive and shouldn&#39;t ever overflow?    Edit: Sorry.  In Java it crashed at 8027;  in Scala it got up to 8594755 before I got bored.","body":"Isn&#39;t it the case that this is tail recursive and shouldn&#39;t ever overflow?    Edit: Sorry.  In Java it crashed at 8027;  in Scala it got up to 8594755 before I got bored."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":11,"creation_date":1424476670,"post_id":24594045,"comment_id":45579610,"body_markdown":"@arya an important part of the JVM semantics is that tail recursion is not supported.  This gives a lot of interesting problems for those who want to implement languages with tail recursion on the JVM.","body":"@arya an important part of the JVM semantics is that tail recursion is not supported.  This gives a lot of interesting problems for those who want to implement languages with tail recursion on the JVM."},{"owner":{"account_id":2546833,"reputation":3087,"user_id":2211479,"accept_rate":92,"display_name":"Felype"},"score":2,"creation_date":1427129117,"post_id":24594045,"comment_id":46640768,"body_markdown":"`public foo() { try { foo(); } finally { foo(); } }`\ncan run &#39;virtually&#39; forever, in java only though.","body":"<code>public foo() { try { foo(); } finally { foo(); } }</code> can run &#39;virtually&#39; forever, in java only though."},{"owner":{"account_id":4510911,"reputation":471,"user_id":5488162,"display_name":"ericdemo07"},"score":0,"creation_date":1480921875,"post_id":24594045,"comment_id":69146761,"body_markdown":"for me, `StackOverflowError` occurs after after 8792","body":"for me, <code>StackOverflowError</code> occurs after after 8792"},{"owner":{"account_id":4859,"reputation":40443,"user_id":7512,"accept_rate":75,"display_name":"slim"},"score":3,"creation_date":1502894929,"post_id":24594045,"comment_id":78391493,"body_markdown":"@Thorbj&#248;rnRavnAndersen tail recursion **optimisation** is not supported. Rather obviously you can have tail recursion. It just doesn&#39;t optimise it to not grow the call stack.","body":"@Thorbj&#248;rnRavnAndersen tail recursion <b>optimisation</b> is not supported. Rather obviously you can have tail recursion. It just doesn&#39;t optimise it to not grow the call stack."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1502895184,"post_id":24594045,"comment_id":78391693,"body_markdown":"@slim Of course, or it wouldn&#39;t be interesting.  Feel free to write a full answer explaining this in detail.","body":"@slim Of course, or it wouldn&#39;t be interesting.  Feel free to write a full answer explaining this in detail."}],"tags":[],"owner":{"account_id":3617892,"reputation":704,"user_id":3017330,"accept_rate":50,"display_name":"troy"},"comment_count":6,"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1470818823,"creation_date":1404635389,"answer_id":24594045,"question_id":4734108,"body_markdown":"I tested on my system and didn&#39;t find any constant value, sometimes stack overflow occurs after 8900 calls, sometimes only after 7700, random numbers.\r\n\r\n    \r\n    public class MainClass {\r\n    \t\r\n\t\tprivate static long depth=0L;\r\n\t\t\t\r\n\t\tpublic static void main(String[] args){\r\n\t\t\tdeep(); \r\n\t\t}\r\n\t\t\r\n\t\tprivate static void deep(){\r\n\t\t\tSystem.err.println(++depth);\r\n\t\t\tdeep();\r\n\t\t}\r\n\r\n    }","title":"What is the maximum depth of the java call stack?","body":"<p>I tested on my system and didn't find any constant value, sometimes stack overflow occurs after 8900 calls, sometimes only after 7700, random numbers.</p>\n\n<pre><code>public class MainClass {\n\n    private static long depth=0L;\n\n    public static void main(String[] args){\n        deep(); \n    }\n\n    private static void deep(){\n        System.err.println(++depth);\n        deep();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8593046,"reputation":1177,"user_id":6447563,"accept_rate":96,"display_name":"sixtytrees"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1470816409,"creation_date":1468206002,"answer_id":38298536,"question_id":4734108,"body_markdown":"Compare these two calls:   \r\n(1) Static method:\r\n\r\n    public static void main(String[] args) {\r\n        int i = 14400; \r\n        while(true){   \r\n            int myResult = testRecursion(i);\r\n            System.out.println(myResult);\r\n            i++;\r\n        }\r\n    }\r\n    \r\n    public static int testRecursion(int number) {\r\n        if (number == 1) {\r\n            return 1;\r\n        } else {\r\n            int result = 1 + testRecursion(number - 1);\r\n            return result;\r\n        }    \r\n    }\r\n     //Exception in thread &quot;main&quot; java.lang.StackOverflowError after 62844\r\n\r\n   \r\n(2) Non-static method using a different class:\r\n\r\n    public static void main(String[] args) {\r\n        int i = 14400;\r\n        while(true){       \r\n            TestRecursion tr = new TestRecursion ();\r\n            int myResult = tr.testRecursion(i);\r\n            System.out.println(myResult);\r\n            i++;\r\n        }\r\n    } \r\n\t//Exception in thread &quot;main&quot; java.lang.StackOverflowError after 14002\r\n\r\nTest recursion class has `public int testRecursion(int number) {` as the only method.","title":"What is the maximum depth of the java call stack?","body":"<p>Compare these two calls:<br>\n(1) Static method:</p>\n\n<pre><code>public static void main(String[] args) {\n    int i = 14400; \n    while(true){   \n        int myResult = testRecursion(i);\n        System.out.println(myResult);\n        i++;\n    }\n}\n\npublic static int testRecursion(int number) {\n    if (number == 1) {\n        return 1;\n    } else {\n        int result = 1 + testRecursion(number - 1);\n        return result;\n    }    \n}\n //Exception in thread \"main\" java.lang.StackOverflowError after 62844\n</code></pre>\n\n<p>(2) Non-static method using a different class:</p>\n\n<pre><code>public static void main(String[] args) {\n    int i = 14400;\n    while(true){       \n        TestRecursion tr = new TestRecursion ();\n        int myResult = tr.testRecursion(i);\n        System.out.println(myResult);\n        i++;\n    }\n} \n//Exception in thread \"main\" java.lang.StackOverflowError after 14002\n</code></pre>\n\n<p>Test recursion class has <code>public int testRecursion(int number) {</code> as the only method.</p>\n"},{"tags":[],"owner":{"account_id":9094789,"reputation":3313,"user_id":6769119,"display_name":"Mukundhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667008940,"creation_date":1667008940,"answer_id":74242362,"question_id":4734108,"body_markdown":"While traversing a tree with huge depth, we could face this\r\n\r\n\r\n```\r\n\r\n/**\r\n * -Xss10M\r\n * max call stack count 92766\r\n * -Xss100M\r\n * max call stack count 2148286\r\n */\r\npublic class MaxCallStack {\r\n    private Integer stackCount = 0;\r\n\r\n    public static void main(String[] args) {\r\n        MaxCallStack maxStack = new MaxCallStack();\r\n        maxStack.evaluate();\r\n    }\r\n\r\n    private void evaluate() {\r\n        try {\r\n            Tree tree = new Tree();\r\n            tree.left = tree;\r\n            traverse(tree);\r\n        } catch (StackOverflowError e) {\r\n            System.out.println(String.format(&quot;max call stack count %s&quot;, stackCount));\r\n        }\r\n    }\r\n\r\n    private void traverse(Tree tree) {\r\n        stackCount++;\r\n        if (tree.left != null) {\r\n            traverse(tree.left);\r\n        }\r\n        if (tree.right != null) {\r\n            traverse(tree.right);\r\n        }\r\n    }\r\n\r\n    private class Tree {\r\n        Tree left;\r\n        Tree right;\r\n    }\r\n}\r\n\r\n```","title":"What is the maximum depth of the java call stack?","body":"<p>While traversing a tree with huge depth, we could face this</p>\n<pre><code>\n/**\n * -Xss10M\n * max call stack count 92766\n * -Xss100M\n * max call stack count 2148286\n */\npublic class MaxCallStack {\n    private Integer stackCount = 0;\n\n    public static void main(String[] args) {\n        MaxCallStack maxStack = new MaxCallStack();\n        maxStack.evaluate();\n    }\n\n    private void evaluate() {\n        try {\n            Tree tree = new Tree();\n            tree.left = tree;\n            traverse(tree);\n        } catch (StackOverflowError e) {\n            System.out.println(String.format(&quot;max call stack count %s&quot;, stackCount));\n        }\n    }\n\n    private void traverse(Tree tree) {\n        stackCount++;\n        if (tree.left != null) {\n            traverse(tree.left);\n        }\n        if (tree.right != null) {\n            traverse(tree.right);\n        }\n    }\n\n    private class Tree {\n        Tree left;\n        Tree right;\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":6636,"reputation":224532,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77780,"favorite_count":0,"down_vote_count":0,"up_vote_count":118,"accepted_answer_id":4734125,"answer_count":5,"score":118,"last_activity_date":1667008940,"creation_date":1295432656,"question_id":4734108,"body_markdown":"How deep do I need to go into the call stack before I get a StackOverflowError? Is the answer platform dependent?","title":"What is the maximum depth of the java call stack?","body":"<p>How deep do I need to go into the call stack before I get a StackOverflowError? Is the answer platform dependent?</p>\n"},{"tags":["java","eclipse","maven","m2eclipse"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1664000274,"post_id":73832953,"comment_id":130375773,"body_markdown":"Is &quot;Maven Integration for WTP&quot; also installed?","body":"Is &quot;Maven Integration for WTP&quot; also installed?"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1664015264,"post_id":73832953,"comment_id":130377886,"body_markdown":"If you use maven you should only add libraries as maven dependencies and not change the deployment assembly yourself","body":"If you use maven you should only add libraries as maven dependencies and not change the deployment assembly yourself"},{"owner":{"account_id":1383500,"reputation":917,"user_id":1316011,"accept_rate":12,"display_name":"Thad"},"score":0,"creation_date":1664019725,"post_id":73832953,"comment_id":130378656,"body_markdown":"@nitind Yes, m2e-wtp (1.5.2.20220906-1452) is installed.","body":"@nitind Yes, m2e-wtp (1.5.2.20220906-1452) is installed."},{"owner":{"account_id":1383500,"reputation":917,"user_id":1316011,"accept_rate":12,"display_name":"Thad"},"score":0,"creation_date":1664020336,"post_id":73832953,"comment_id":130378760,"body_markdown":"@Thorbj&#248;rnRavnAndersen The libraries are in the pom.xml. Opening the project&#39;s Properties, they are in the Java Build Path, Libraries tab, and in the Run Configuration, Source tab, under Default. All without action on my part. However they do not appear in `wtpwebapps/myapp/WEB-INF/lib` without being in the Deployment Assembly and this is not happening unless I put them  there myself with Add -&gt; Java Build Path Entries -&gt; Maven Dependencies.","body":"@Thorbj&#248;rnRavnAndersen The libraries are in the pom.xml. Opening the project&#39;s Properties, they are in the Java Build Path, Libraries tab, and in the Run Configuration, Source tab, under Default. All without action on my part. However they do not appear in <code>wtpwebapps&#47;myapp&#47;WEB-INF&#47;lib</code> without being in the Deployment Assembly and this is not happening unless I put them  there myself with Add -&gt; Java Build Path Entries -&gt; Maven Dependencies."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1664029728,"post_id":73832953,"comment_id":130380385,"body_markdown":"I see.  Can you make this public on GitHub or similar for experimentation, or create a minimal viable project showing this behavior?","body":"I see.  Can you make this public on GitHub or similar for experimentation, or create a minimal viable project showing this behavior?"},{"owner":{"account_id":1383500,"reputation":917,"user_id":1316011,"accept_rate":12,"display_name":"Thad"},"score":0,"creation_date":1664034916,"post_id":73832953,"comment_id":130381459,"body_markdown":"@Thorbj&#248;rnRavnAndersen I cannot put it on GitHub because it and many of its libraries are proprietary/commercial. I can try to duplicate it next week, but in 15 years I&#39;ve found duplicating anything of that size in Eclipse nigh impossible. It actually works on my MacBook, and I&#39;ve compared every dialog and library I can think but no luck. I don&#39;t understand how the same install steps on two different machines can create two different installations, or require updating different plugins.","body":"@Thorbj&#248;rnRavnAndersen I cannot put it on GitHub because it and many of its libraries are proprietary/commercial. I can try to duplicate it next week, but in 15 years I&#39;ve found duplicating anything of that size in Eclipse nigh impossible. It actually works on my MacBook, and I&#39;ve compared every dialog and library I can think but no luck. I don&#39;t understand how the same install steps on two different machines can create two different installations, or require updating different plugins."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1664036885,"post_id":73832953,"comment_id":130381822,"body_markdown":"@thad different versions of eclipse perhaps?","body":"@thad different versions of eclipse perhaps?"},{"owner":{"account_id":1383500,"reputation":917,"user_id":1316011,"accept_rate":12,"display_name":"Thad"},"score":0,"creation_date":1664040408,"post_id":73832953,"comment_id":130382506,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/248324/discussion-between-thad-and-thorbjorn-ravn-andersen).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/248324/discussion-between-thad-and-thorbjorn-ravn-andersen\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":15633136,"reputation":51,"user_id":11278896,"display_name":"motte"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666867925,"creation_date":1666867925,"answer_id":74220923,"question_id":73832953,"body_markdown":"Upgrade to latest udpate-site https://download.eclipse.org/m2e-wtp/releases/latest/ and update m2e-wtp. \r\nI had the same problem, the update solved it!","title":"Eclipse / M2E reset Deployment Assembly on each Update Maven Project","body":"<p>Upgrade to latest udpate-site <a href=\"https://download.eclipse.org/m2e-wtp/releases/latest/\" rel=\"nofollow noreferrer\">https://download.eclipse.org/m2e-wtp/releases/latest/</a> and update m2e-wtp.\nI had the same problem, the update solved it!</p>\n"},{"tags":[],"owner":{"account_id":26491454,"reputation":1,"user_id":20129659,"display_name":"Justin Hsieh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667008746,"creation_date":1667008585,"answer_id":74242336,"question_id":73832953,"body_markdown":"I am using Eclipse 2021-03(4.19) and having the same problem(missing Maven dependencies in Eclipse&#39;s &quot;Deployment Assembly&quot; tab after &quot;Maven --&gt; update project&quot;). However, when I update the pom.xml to use\r\n\r\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\r\n, the Maven dependencies in Eclipse&#39;s &quot;Deployment Assembly&quot; tab WON&#39;T be removed after &quot;Maven --&gt; update project&quot; !\r\n\r\nI then try restoring original pom.xml settings as\r\n\r\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n\r\n, the Maven dependencies in Eclipse&#39;s &quot;Deployment Assembly&quot; tab again WILL be removed after &quot;Maven --&gt; update project&quot; !\r\n\r\n\r\nNot sure what happend inside Eclipse or m2e-wtp, but for your reference.","title":"Eclipse / M2E reset Deployment Assembly on each Update Maven Project","body":"<p>I am using Eclipse 2021-03(4.19) and having the same problem(missing Maven dependencies in Eclipse's &quot;Deployment Assembly&quot; tab after &quot;Maven --&gt; update project&quot;). However, when I update the pom.xml to use</p>\n<pre><code>&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n</code></pre>\n<p>, the Maven dependencies in Eclipse's &quot;Deployment Assembly&quot; tab WON'T be removed after &quot;Maven --&gt; update project&quot; !</p>\n<p>I then try restoring original pom.xml settings as</p>\n<pre><code>&lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n&lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n</code></pre>\n<p>, the Maven dependencies in Eclipse's &quot;Deployment Assembly&quot; tab again WILL be removed after &quot;Maven --&gt; update project&quot; !</p>\n<p>Not sure what happend inside Eclipse or m2e-wtp, but for your reference.</p>\n"}],"owner":{"account_id":1383500,"reputation":917,"user_id":1316011,"accept_rate":12,"display_name":"Thad"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667008746,"creation_date":1663966983,"question_id":73832953,"body_markdown":"I have been having numerous problems with Eclipse on two different Macs since Eclipse upgraded to 2022-09 (4.25.0). After many fresh installs and imports, I am still having an issue with with the Maven plugin and Maven dependencies.\r\n\r\nMaven Integration for Eclipse (2.0.4.20220904-1703) is installed. Eclipse is launched with Java 17, a requirement for M2E 2.0.1 and above. The Maven Nature is present. The facet Dynamic Web Module 4.0 is enabled with Tomcat 9.0 as its runtime. I added Maven Dependencies equal to `WEB-INF/lib` to the Deployment Assembly. Doing so adds `&lt;attribute name=&quot;org.eclipse.jst.component.dependency&quot; value=&quot;/WEB-INF/lib&quot;/&gt;` to the `MAVEN2_CLASSPATH_CONTAINER` `&lt;classpathentry&gt;` in my project&#39;s `.classpath` file.\r\n\r\nHowever, if I select Project -&gt; Update Maven Project, Eclipse (or M2E) removes Maven Dependencies from the Deployment Assembly, removes the `org.eclipse.jst.component.dependency` attribute from `MAVEN2_CLASSPATH_CONTAINER`, and deletes the *.jar files from my project in Tomcat `wtpwebapps/myapp/WEB-INF/lib`. Of course my app will not deploy properly if I start the server.\r\n\r\nThe workaround I&#39;ve hit on is to open `./classpath` in a text editor and add `&lt;attribute name=&quot;org.eclipse.jst.component.dependency&quot; value=&quot;/WEB-INF/lib&quot;/&gt;` to `MAVEN2_CLASSPATH_CONTAINER`. Then when the server starts the correct *.jar files are copied to `wtpwebapps/myapp/WEB-INF/lib` and my app runs.\r\n\r\nThese steps are perfectly repeatable--I&#39;ve done it many times. I&#39;ve tried different combinations of Maven preferences, and still it happens exactly this way. The project&#39;s `pom.xml` is complete; it compiles, tests, and packages the project perfectly. Why is this Eclipse error happening? Why is M2E resetting the Deployment Attributes, and how can I stop this from happening? I&#39;ve tried setting `.classpath` to read-only, but then Maven will not update my project. It insists on stomping the correct settings.\r\n\r\nBTW, I see this problem *frequently* described here, but for much older versions of Eclipse and M2E (some going back over 10 years). I&#39;ve exhausted myself trying various recommendations. The closest I&#39;ve come is the workaround described above.","title":"Eclipse / M2E reset Deployment Assembly on each Update Maven Project","body":"<p>I have been having numerous problems with Eclipse on two different Macs since Eclipse upgraded to 2022-09 (4.25.0). After many fresh installs and imports, I am still having an issue with with the Maven plugin and Maven dependencies.</p>\n<p>Maven Integration for Eclipse (2.0.4.20220904-1703) is installed. Eclipse is launched with Java 17, a requirement for M2E 2.0.1 and above. The Maven Nature is present. The facet Dynamic Web Module 4.0 is enabled with Tomcat 9.0 as its runtime. I added Maven Dependencies equal to <code>WEB-INF/lib</code> to the Deployment Assembly. Doing so adds <code>&lt;attribute name=&quot;org.eclipse.jst.component.dependency&quot; value=&quot;/WEB-INF/lib&quot;/&gt;</code> to the <code>MAVEN2_CLASSPATH_CONTAINER</code> <code>&lt;classpathentry&gt;</code> in my project's <code>.classpath</code> file.</p>\n<p>However, if I select Project -&gt; Update Maven Project, Eclipse (or M2E) removes Maven Dependencies from the Deployment Assembly, removes the <code>org.eclipse.jst.component.dependency</code> attribute from <code>MAVEN2_CLASSPATH_CONTAINER</code>, and deletes the *.jar files from my project in Tomcat <code>wtpwebapps/myapp/WEB-INF/lib</code>. Of course my app will not deploy properly if I start the server.</p>\n<p>The workaround I've hit on is to open <code>./classpath</code> in a text editor and add <code>&lt;attribute name=&quot;org.eclipse.jst.component.dependency&quot; value=&quot;/WEB-INF/lib&quot;/&gt;</code> to <code>MAVEN2_CLASSPATH_CONTAINER</code>. Then when the server starts the correct *.jar files are copied to <code>wtpwebapps/myapp/WEB-INF/lib</code> and my app runs.</p>\n<p>These steps are perfectly repeatable--I've done it many times. I've tried different combinations of Maven preferences, and still it happens exactly this way. The project's <code>pom.xml</code> is complete; it compiles, tests, and packages the project perfectly. Why is this Eclipse error happening? Why is M2E resetting the Deployment Attributes, and how can I stop this from happening? I've tried setting <code>.classpath</code> to read-only, but then Maven will not update my project. It insists on stomping the correct settings.</p>\n<p>BTW, I see this problem <em>frequently</em> described here, but for much older versions of Eclipse and M2E (some going back over 10 years). I've exhausted myself trying various recommendations. The closest I've come is the workaround described above.</p>\n"},{"tags":["java","spring","service","hosting"],"comments":[{"owner":{"account_id":5826684,"reputation":2011,"user_id":4592796,"accept_rate":70,"display_name":"harry-potter"},"score":0,"creation_date":1666996514,"post_id":74241457,"comment_id":131074556,"body_markdown":"You should take a look at: https://spring.io/guides/gs/spring-boot-docker/","body":"You should take a look at: <a href=\"https://spring.io/guides/gs/spring-boot-docker/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/spring-boot-docker</a>"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1666996829,"post_id":74241457,"comment_id":131074608,"body_markdown":"What operation system do you have? What you need is create service. You can google how to do it for your specific OS, it is platform dependent.","body":"What operation system do you have? What you need is create service. You can google how to do it for your specific OS, it is platform dependent."},{"owner":{"account_id":16832969,"reputation":11,"user_id":12170437,"display_name":"James"},"score":0,"creation_date":1666998524,"post_id":74241457,"comment_id":131074890,"body_markdown":"Thank you guys for the answer! I use win 10, as I said above, sadly I can&#39;t use docker because of the hyper-v","body":"Thank you guys for the answer! I use win 10, as I said above, sadly I can&#39;t use docker because of the hyper-v"}],"answers":[{"tags":[],"owner":{"account_id":17094621,"reputation":114,"user_id":12369894,"display_name":"Lucas Favaro Borsatto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667007736,"creation_date":1667007736,"answer_id":74242297,"question_id":74241457,"body_markdown":"There are 2 steps:\r\n1) Get command line of execution of your application runned by IntelliJ. To do so:\r\n[![enter image description here][1]][1]\r\n\r\n2) You have to create a file with extension &quot;.bat&quot; (batch file) with the contents of the command copied above, than  follow the steps bellow to define it to run in the startup configuration of the windows 10:\r\nRun a batch file at loading of Windows 8 and 10 Once the shortcut is created, right-click the shortcut file and select Cut. Press Start, type Run, and press Enter . In the Run window, type shell:startup to open the Startup folder.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5zqix.png","title":"How can I host my Springboot application in my own computer like a background service?","body":"<p>There are 2 steps:</p>\n<ol>\n<li><p>Get command line of execution of your application runned by IntelliJ. To do so:\n<a href=\"https://i.stack.imgur.com/5zqix.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5zqix.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>You have to create a file with extension &quot;.bat&quot; (batch file) with the contents of the command copied above, than  follow the steps bellow to define it to run in the startup configuration of the windows 10:\nRun a batch file at loading of Windows 8 and 10 Once the shortcut is created, right-click the shortcut file and select Cut. Press Start, type Run, and press Enter . In the Run window, type shell:startup to open the Startup folder.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":16832969,"reputation":11,"user_id":12170437,"display_name":"James"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74242297,"answer_count":1,"score":0,"last_activity_date":1667007736,"creation_date":1666995941,"question_id":74241457,"body_markdown":"I want to host my springboot application on my on PC, I want it to start with the computer, just like databases do. But I can&#39;t find anything related (probably because I am asking the &#39;wrong&#39; way). **There is any way to start the springboot application with my pc in the background, with no CMD showing or having to keep intelijj open?**\r\n\r\nI tried to search how to host the application, but didn&#39;t found any thing &#39;locally&#39; based, everything was how to host in X cloud or Y domain/host. What I want is to my application run on the background of my PC so I can use it as a personal system, but don&#39;t want to keep a cmd open or intelijj\r\n\r\nAlso I can&#39;t really use docker.. that was the way I was trying before, but I can&#39;t let Hyper-v active..","title":"How can I host my Springboot application in my own computer like a background service?","body":"<p>I want to host my springboot application on my on PC, I want it to start with the computer, just like databases do. But I can't find anything related (probably because I am asking the 'wrong' way). <strong>There is any way to start the springboot application with my pc in the background, with no CMD showing or having to keep intelijj open?</strong></p>\n<p>I tried to search how to host the application, but didn't found any thing 'locally' based, everything was how to host in X cloud or Y domain/host. What I want is to my application run on the background of my PC so I can use it as a personal system, but don't want to keep a cmd open or intelijj</p>\n<p>Also I can't really use docker.. that was the way I was trying before, but I can't let Hyper-v active..</p>\n"},{"tags":["java","spring-boot","hashmap","java-stream","collectors"],"comments":[{"owner":{"account_id":20361092,"reputation":11,"user_id":14935397,"display_name":"Jha"},"score":0,"creation_date":1666897189,"post_id":74226990,"comment_id":131049892,"body_markdown":"i tried i got Map&lt;Stream&lt;String&gt;,List&lt;Trip&gt;&gt; but i want something like Map&lt;String,List&lt;Trip&gt;&gt;","body":"i tried i got Map&lt;Stream&lt;String&gt;,List&lt;Trip&gt;&gt; but i want something like Map&lt;String,List&lt;Trip&gt;&gt;"},{"owner":{"account_id":20361092,"reputation":11,"user_id":14935397,"display_name":"Jha"},"score":0,"creation_date":1666897511,"post_id":74226990,"comment_id":131049978,"body_markdown":"`Map&lt;Stream&lt;String&gt;, List&lt;Trip&gt;&gt; empMap = trip.stream().collect(\n   Collectors.groupingBy(t -&gt; t.getEmployee().stream().map(EMPLOYEE::getempid)))`","body":"<code>Map&lt;Stream&lt;String&gt;, List&lt;Trip&gt;&gt; empMap = trip.stream().collect(    Collectors.groupingBy(t -&gt; t.getEmployee().stream().map(EMPLOYEE::getempid)))</code>"},{"owner":{"account_id":20361092,"reputation":11,"user_id":14935397,"display_name":"Jha"},"score":0,"creation_date":1666899409,"post_id":74226990,"comment_id":131050509,"body_markdown":"I posted the code","body":"I posted the code"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666899694,"post_id":74226990,"comment_id":131050573,"body_markdown":"Better, instead of image, compile the code and post the compilation error as a text. See [Why should I not upload images of code/data/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question)","body":"Better, instead of image, compile the code and post the compilation error as a text. See <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question\">Why should I not upload images of code/data/errors when asking a question?</a>"},{"owner":{"account_id":20361092,"reputation":11,"user_id":14935397,"display_name":"Jha"},"score":0,"creation_date":1666901081,"post_id":74226990,"comment_id":131051001,"body_markdown":"Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \n        Type mismatch: cannot convert from Map&lt;Object,List&lt;Trip&gt;&gt; to Map&lt;String,List&lt;Trip&gt;&gt;","body":"Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem:          Type mismatch: cannot convert from Map&lt;Object,List&lt;Trip&gt;&gt; to Map&lt;String,List&lt;Trip&gt;&gt;"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666905176,"post_id":74226990,"comment_id":131052134,"body_markdown":"Since you&#39;re using JDK 8, I&#39;ve added a [Java 8 compliant solution](https://www.jdoodle.com/ia/ybt)","body":"Since you&#39;re using JDK 8, I&#39;ve added a <a href=\"https://www.jdoodle.com/ia/ybt\" rel=\"nofollow noreferrer\">Java 8 compliant solution</a>"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666905451,"post_id":74226990,"comment_id":131052197,"body_markdown":"As I&#39;ve said in the answer, you can use a plain `class` instead of a record. To avoid dialing with the boilerplate code, sprinkle it with Lombok annotations, like you&#39;ve done with your domain classes.","body":"As I&#39;ve said in the answer, you can use a plain <code>class</code> instead of a record. To avoid dialing with the boilerplate code, sprinkle it with Lombok annotations, like you&#39;ve done with your domain classes."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666904586,"creation_date":1666899601,"answer_id":74227463,"question_id":74226990,"body_markdown":"To group the data by the property of a nested object and at the same time preserve a link to the enclosing object, you need to flatten the stream using an ***auxiliary object*** that would hold references to both *employee id* and enclosing `Trip` instance.\r\n\r\nA Java 16 [`record`](https://docs.oracle.com/en/java/javase/17/language/records.html) would fit into this role perfectly well. If you&#39;re using an earlier JDK version, you can implement it a plain `class` (*a quick and dirty way would be to use* `Map.Entry`*, but it decreases the readability, because of the faceless methods* `getKey()` *and* `getValue()` *require more effort to reason about the code*). I will go with a `record`, because this option is the most convenient.\r\n\r\nThe following line is all we need (*the rest would be automatically generated by the compiler*):\r\n\r\n```\r\npublic record TripEmployee(String empId, Trip trip) {}\r\n```\r\n\r\nThe first step is to flatten the stream data and turn the `Stream&lt;Trip&gt;` into `Stream&lt;TripEmployee&gt;`. Since it&#39;s *one-to-many* transformation, we need to use `flatMap()` operation to turn each `Employee` instance into a `TripEmployee`.\r\n\r\nAnd then we need to apply collect. In order to generate the resulting Map, we can make use of the collector [`groupingBy()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function,java.util.stream.Collector)) with collector [`mapping()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#mapping(java.util.function.Function,java.util.stream.Collector)) as a *downstream*. In collector `mapping` always requires a *downstream collector* and this case we need to provide `toList()`.\r\n\r\n```\r\nList&lt;Trip&gt; trips = // initializing the list\r\n        \r\nMap&lt;String, List&lt;Trip&gt;&gt; empMap = trips.stream()\r\n    .flatMap(trip -&gt; trip.getEmpList().stream()\r\n        .map(emp -&gt; new TripEmployee(emp.getEmpId(), trip))\r\n    )\r\n    .collect(Collectors.groupingBy(\r\n        TripEmployee::empId,\r\n        Collectors.mapping(TripEmployee::trip,\r\n            Collectors.toList())\r\n    ));\r\n```\r\n\r\n[*A Java 8 compliant solution is available via this Link*](https://www.jdoodle.com/ia/ybt)","title":"Generate Map using list of list using stream in Java 8","body":"<p>To group the data by the property of a nested object and at the same time preserve a link to the enclosing object, you need to flatten the stream using an <em><strong>auxiliary object</strong></em> that would hold references to both <em>employee id</em> and enclosing <code>Trip</code> instance.</p>\n<p>A Java 16 <a href=\"https://docs.oracle.com/en/java/javase/17/language/records.html\" rel=\"nofollow noreferrer\"><code>record</code></a> would fit into this role perfectly well. If you're using an earlier JDK version, you can implement it a plain <code>class</code> (<em>a quick and dirty way would be to use</em> <code>Map.Entry</code><em>, but it decreases the readability, because of the faceless methods</em> <code>getKey()</code> <em>and</em> <code>getValue()</code> <em>require more effort to reason about the code</em>). I will go with a <code>record</code>, because this option is the most convenient.</p>\n<p>The following line is all we need (<em>the rest would be automatically generated by the compiler</em>):</p>\n<pre><code>public record TripEmployee(String empId, Trip trip) {}\n</code></pre>\n<p>The first step is to flatten the stream data and turn the <code>Stream&lt;Trip&gt;</code> into <code>Stream&lt;TripEmployee&gt;</code>. Since it's <em>one-to-many</em> transformation, we need to use <code>flatMap()</code> operation to turn each <code>Employee</code> instance into a <code>TripEmployee</code>.</p>\n<p>And then we need to apply collect. In order to generate the resulting Map, we can make use of the collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function,java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>groupingBy()</code></a> with collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#mapping(java.util.function.Function,java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>mapping()</code></a> as a <em>downstream</em>. In collector <code>mapping</code> always requires a <em>downstream collector</em> and this case we need to provide <code>toList()</code>.</p>\n<pre><code>List&lt;Trip&gt; trips = // initializing the list\n        \nMap&lt;String, List&lt;Trip&gt;&gt; empMap = trips.stream()\n    .flatMap(trip -&gt; trip.getEmpList().stream()\n        .map(emp -&gt; new TripEmployee(emp.getEmpId(), trip))\n    )\n    .collect(Collectors.groupingBy(\n        TripEmployee::empId,\n        Collectors.mapping(TripEmployee::trip,\n            Collectors.toList())\n    ));\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/ybt\" rel=\"nofollow noreferrer\"><em>A Java 8 compliant solution is available via this Link</em></a></p>\n"},{"comments":[{"owner":{"account_id":20361092,"reputation":11,"user_id":14935397,"display_name":"Jha"},"score":0,"creation_date":1666902358,"post_id":74227727,"comment_id":131051397,"body_markdown":"Yeah I am using java 8 and  trying to group whole List&lt;Trip&gt; which i get against the empid in a Map.","body":"Yeah I am using java 8 and  trying to group whole List&lt;Trip&gt; which i get against the empid in a Map."},{"owner":{"account_id":2358516,"reputation":1085,"user_id":2065799,"display_name":"Vivek"},"score":0,"creation_date":1666976354,"post_id":74227727,"comment_id":131069549,"body_markdown":"@Jha - hope the answer helps then.","body":"@Jha - hope the answer helps then."},{"owner":{"account_id":2358516,"reputation":1085,"user_id":2065799,"display_name":"Vivek"},"score":0,"creation_date":1666976536,"post_id":74227727,"comment_id":131069604,"body_markdown":"@Jha : I noticed you accepted the answer but then unaccepted it, did it not work? Anything you&#39;re stuck at, let me know if I can help?","body":"@Jha : I noticed you accepted the answer but then unaccepted it, did it not work? Anything you&#39;re stuck at, let me know if I can help?"}],"tags":[],"owner":{"account_id":2358516,"reputation":1085,"user_id":2065799,"display_name":"Vivek"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666901057,"creation_date":1666901057,"answer_id":74227727,"question_id":74226990,"body_markdown":"Not sure which Java version you are using but since you have mentioned Stream, I will assume Java 8 at least.\r\n\r\nSecond assumption, not sure why but looking at your code (using `groupingBy` ) you want the whole `List&lt;Trip&gt;` which you get against an `empId` in a `Map`.\r\n\r\nTo have the better understanding first look at this code (without `Stream`): \r\n\r\n```\r\npublic Map&lt;String, List&lt;Trip&gt;&gt; doSomething(List&lt;Trip&gt; listTrip) {\r\n\r\n    List&lt;Employee&gt; employeeList = new ArrayList&lt;&gt;();\r\n    for (Trip trip : listTrip) {\r\n        employeeList.addAll(trip.getEmployee());\r\n    }\r\n\r\n    Map&lt;String, List&lt;Trip&gt;&gt; stringListMap = new HashMap&lt;&gt;();\r\n\r\n    for (Employee employee : employeeList) {\r\n        stringListMap.put(employee.getEmpId(), listTrip);\r\n    }\r\n    return stringListMap;\r\n}\r\n\r\n```\r\n\r\nYou can see I pulled an `employeeList` first , reason being your use case. And now you can see how easy was to create a map out of it.\r\nYou may use `Set` instead of `List` if you&#39;re worried about the duplicates.\r\n\r\nSo with `StreamApi` above code could be:\r\n\r\n```\r\n   public Map&lt;String, List&lt;Trip&gt;&gt; doSomethingInStream(List&lt;Trip&gt; listTrip) {\r\n\r\n        List&lt;Employee&gt; employeeList = listTrip.stream().flatMap(e -&gt; e.getEmployee().stream()).collect(Collectors.toList());\r\n\r\n        return employeeList.stream().collect(Collectors.toMap(Employee::getEmpId, employee -&gt; listTrip));\r\n    }\r\n\r\n```\r\n\r\nYou can take care of duplicates while creating map as well, as:\r\n\r\n```\r\npublic Map&lt;String, List&lt;Trip&gt;&gt; doSomething3(List&lt;Trip&gt; listTrip) {\r\n\r\n    List&lt;Employee&gt; employeeList = listTrip.stream().flatMap(e -&gt; e.getEmployee().stream()).collect(Collectors.toList());\r\n\r\n    return employeeList.stream().collect(Collectors.toMap(Employee::getEmpId, employee -&gt; listTrip, (oldValue, newValue) -&gt; newValue));\r\n}\r\n\r\n```\r\n\r\nLike the first answer says, if you are Java 16+ using `record` will ease your task a lot in terms of model definition.\r\n","title":"Generate Map using list of list using stream in Java 8","body":"<p>Not sure which Java version you are using but since you have mentioned Stream, I will assume Java 8 at least.</p>\n<p>Second assumption, not sure why but looking at your code (using <code>groupingBy</code> ) you want the whole <code>List&lt;Trip&gt;</code> which you get against an <code>empId</code> in a <code>Map</code>.</p>\n<p>To have the better understanding first look at this code (without <code>Stream</code>):</p>\n<pre><code>public Map&lt;String, List&lt;Trip&gt;&gt; doSomething(List&lt;Trip&gt; listTrip) {\n\n    List&lt;Employee&gt; employeeList = new ArrayList&lt;&gt;();\n    for (Trip trip : listTrip) {\n        employeeList.addAll(trip.getEmployee());\n    }\n\n    Map&lt;String, List&lt;Trip&gt;&gt; stringListMap = new HashMap&lt;&gt;();\n\n    for (Employee employee : employeeList) {\n        stringListMap.put(employee.getEmpId(), listTrip);\n    }\n    return stringListMap;\n}\n\n</code></pre>\n<p>You can see I pulled an <code>employeeList</code> first , reason being your use case. And now you can see how easy was to create a map out of it.\nYou may use <code>Set</code> instead of <code>List</code> if you're worried about the duplicates.</p>\n<p>So with <code>StreamApi</code> above code could be:</p>\n<pre><code>   public Map&lt;String, List&lt;Trip&gt;&gt; doSomethingInStream(List&lt;Trip&gt; listTrip) {\n\n        List&lt;Employee&gt; employeeList = listTrip.stream().flatMap(e -&gt; e.getEmployee().stream()).collect(Collectors.toList());\n\n        return employeeList.stream().collect(Collectors.toMap(Employee::getEmpId, employee -&gt; listTrip));\n    }\n\n</code></pre>\n<p>You can take care of duplicates while creating map as well, as:</p>\n<pre><code>public Map&lt;String, List&lt;Trip&gt;&gt; doSomething3(List&lt;Trip&gt; listTrip) {\n\n    List&lt;Employee&gt; employeeList = listTrip.stream().flatMap(e -&gt; e.getEmployee().stream()).collect(Collectors.toList());\n\n    return employeeList.stream().collect(Collectors.toMap(Employee::getEmpId, employee -&gt; listTrip, (oldValue, newValue) -&gt; newValue));\n}\n\n</code></pre>\n<p>Like the first answer says, if you are Java 16+ using <code>record</code> will ease your task a lot in terms of model definition.</p>\n"},{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667007548,"creation_date":1667007180,"answer_id":74242266,"question_id":74226990,"body_markdown":"**Using Java 8 stream**\r\n\r\nYou can use the below approach to get the desired results using stream function `groupingBy`.\r\n*Since you have mentioned above to use java 8, so my solution is inclined to java 8 itself.*\r\n\r\n\r\n**Logic:**\r\n\r\n*Here,*\r\n\r\n - First I have created an additional list of `EmployeeTripMapping` object\r\n   with `Trip` data corresponding to the `empId` by iterating the\r\n   `listOfTrips`.\r\n - I have used `Collectors.groupingBy` on the `List&lt;EmployeeTripMapping&gt;`\r\n   and grouped the data based on the `empId` and using `Collectors.mapping`\r\n   collect the list of Trip corresponding to the empId.\r\n\r\n\r\n**Few Suggestions:**\r\n\r\n    \r\n\r\n 1. **Records in java 14 :** As I can see in your problem statement, you \r\n          are using lombok\r\n         annotations to create getters, setters and constructors, so instead of\r\n         that we can replace our data classes\r\n         with records. Records are immutable classes that require only the type\r\n        and name of fields. We do not need to create constructor, getters,\r\n         setters, override toString() methods, override hashcode and equals\r\n         methods. [Here][1]\r\n\r\n 1. **JavaTimeAPI in java 8:** Instead of Date, you can use LocalDateTime available in java time API in java 8. [Here][2]\r\n\r\n**Code:**\r\n\r\n        public class Test {\r\n            public static void main(String[] args) {\r\n    \r\n            Trip t1 = new Trip(LocalDateTime.of(2022,10,28,9,00,00),\r\n                      LocalDateTime.of(2022,10,28,18,00,00),\r\n                      Arrays.asList(new Employee(&quot;emp1&quot;,&quot;id1&quot;)));\r\n            Trip t2 = new Trip(LocalDateTime.of(2021,10,28,9,00,00),\r\n                      LocalDateTime.of(2021,10,28,18,00,00),\r\n                      Arrays.asList(new Employee(&quot;emp1&quot;,&quot;id1&quot;)));\r\n            Trip t3 = new Trip(LocalDateTime.of(2020,10,28,9,00,00),\r\n                      LocalDateTime.of(2020,10,28,18,00,00),\r\n                      Arrays.asList(new Employee(&quot;emp2&quot;,&quot;id2&quot;)));\r\n            Trip t4 = new Trip(LocalDateTime.of(2019,10,28,9,00,00),\r\n                      LocalDateTime.of(2019,10,28,18,00,00),\r\n                      Arrays.asList(new Employee(&quot;emp2&quot;,&quot;id2&quot;)));\r\n    \r\n            List&lt;Trip&gt; listOfTrips = Arrays.asList(t1,t2,t3,t4);\r\n    \r\n            List&lt;EmployeeTripMapping&gt; empWithTripMapping = new ArrayList&lt;&gt;();\r\n            listOfTrips.forEach(x -&gt; x.getEmpList().forEach(y -&gt;\r\n                    empWithTripMapping.add(new EmployeeTripMapping(y.getEmpId(),x))));\r\n    \r\n            Map&lt;String,List&lt;Trip&gt;&gt; employeeTripGrouping = empWithTripMapping.stream()\r\n                .collect(Collectors.groupingBy(EmployeeTripMapping::getEmpId,\r\n                            Collectors.mapping(EmployeeTripMapping::getTrip,\r\n                                                     Collectors.toList())));\r\n            System.out.println(employeeTripGrouping);\r\n        }\r\n    }\r\n\r\n**EmployeeTripMapping.java**\r\n\r\n    public class EmployeeTripMapping {\r\n    \r\n        private String empId;\r\n        private Trip trip;\r\n    \r\n        //getters and setters\r\n    }\r\n\r\n**Output:**\r\n\r\n    {emp2=[Trip{startTime=2020-10-28T09:00, endTime=2020-10-28T18:00, empList=[Employee{empId=&#39;emp2&#39;, name=&#39;id2&#39;}]}, Trip{startTime=2019-10-28T09:00, endTime=2019-10-28T18:00, empList=[Employee{empId=&#39;emp2&#39;, name=&#39;id2&#39;}]}], \r\n     emp1=[Trip{startTime=2022-10-28T09:00, endTime=2022-10-28T18:00, empList=[Employee{empId=&#39;emp1&#39;, name=&#39;id1&#39;}]}, Trip{startTime=2021-10-28T09:00, endTime=2021-10-28T18:00, empList=[Employee{empId=&#39;emp1&#39;, name=&#39;id1&#39;}]}]}\r\n\r\n\r\n\r\n[1]: https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/Record.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n\r\n\r\n\r\n\r\n\r\n","title":"Generate Map using list of list using stream in Java 8","body":"<p><strong>Using Java 8 stream</strong></p>\n<p>You can use the below approach to get the desired results using stream function <code>groupingBy</code>.\n<em>Since you have mentioned above to use java 8, so my solution is inclined to java 8 itself.</em></p>\n<p><strong>Logic:</strong></p>\n<p><em>Here,</em></p>\n<ul>\n<li>First I have created an additional list of <code>EmployeeTripMapping</code> object\nwith <code>Trip</code> data corresponding to the <code>empId</code> by iterating the\n<code>listOfTrips</code>.</li>\n<li>I have used <code>Collectors.groupingBy</code> on the <code>List&lt;EmployeeTripMapping&gt;</code>\nand grouped the data based on the <code>empId</code> and using <code>Collectors.mapping</code>\ncollect the list of Trip corresponding to the empId.</li>\n</ul>\n<p><strong>Few Suggestions:</strong></p>\n<ol>\n<li><p><strong>Records in java 14 :</strong> As I can see in your problem statement, you\nare using lombok\nannotations to create getters, setters and constructors, so instead of\nthat we can replace our data classes\nwith records. Records are immutable classes that require only the type\nand name of fields. We do not need to create constructor, getters,\nsetters, override toString() methods, override hashcode and equals\nmethods. <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/Record.html\" rel=\"nofollow noreferrer\">Here</a></p>\n</li>\n<li><p><strong>JavaTimeAPI in java 8:</strong> Instead of Date, you can use LocalDateTime available in java time API in java 8. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">Here</a></p>\n</li>\n</ol>\n<p><strong>Code:</strong></p>\n<pre><code>    public class Test {\n        public static void main(String[] args) {\n\n        Trip t1 = new Trip(LocalDateTime.of(2022,10,28,9,00,00),\n                  LocalDateTime.of(2022,10,28,18,00,00),\n                  Arrays.asList(new Employee(&quot;emp1&quot;,&quot;id1&quot;)));\n        Trip t2 = new Trip(LocalDateTime.of(2021,10,28,9,00,00),\n                  LocalDateTime.of(2021,10,28,18,00,00),\n                  Arrays.asList(new Employee(&quot;emp1&quot;,&quot;id1&quot;)));\n        Trip t3 = new Trip(LocalDateTime.of(2020,10,28,9,00,00),\n                  LocalDateTime.of(2020,10,28,18,00,00),\n                  Arrays.asList(new Employee(&quot;emp2&quot;,&quot;id2&quot;)));\n        Trip t4 = new Trip(LocalDateTime.of(2019,10,28,9,00,00),\n                  LocalDateTime.of(2019,10,28,18,00,00),\n                  Arrays.asList(new Employee(&quot;emp2&quot;,&quot;id2&quot;)));\n\n        List&lt;Trip&gt; listOfTrips = Arrays.asList(t1,t2,t3,t4);\n\n        List&lt;EmployeeTripMapping&gt; empWithTripMapping = new ArrayList&lt;&gt;();\n        listOfTrips.forEach(x -&gt; x.getEmpList().forEach(y -&gt;\n                empWithTripMapping.add(new EmployeeTripMapping(y.getEmpId(),x))));\n\n        Map&lt;String,List&lt;Trip&gt;&gt; employeeTripGrouping = empWithTripMapping.stream()\n            .collect(Collectors.groupingBy(EmployeeTripMapping::getEmpId,\n                        Collectors.mapping(EmployeeTripMapping::getTrip,\n                                                 Collectors.toList())));\n        System.out.println(employeeTripGrouping);\n    }\n}\n</code></pre>\n<p><strong>EmployeeTripMapping.java</strong></p>\n<pre><code>public class EmployeeTripMapping {\n\n    private String empId;\n    private Trip trip;\n\n    //getters and setters\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>{emp2=[Trip{startTime=2020-10-28T09:00, endTime=2020-10-28T18:00, empList=[Employee{empId='emp2', name='id2'}]}, Trip{startTime=2019-10-28T09:00, endTime=2019-10-28T18:00, empList=[Employee{empId='emp2', name='id2'}]}], \n emp1=[Trip{startTime=2022-10-28T09:00, endTime=2022-10-28T18:00, empList=[Employee{empId='emp1', name='id1'}]}, Trip{startTime=2021-10-28T09:00, endTime=2021-10-28T18:00, empList=[Employee{empId='emp1', name='id1'}]}]}\n</code></pre>\n"}],"owner":{"account_id":20361092,"reputation":11,"user_id":14935397,"display_name":"Jha"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1667007548,"creation_date":1666896958,"question_id":74226990,"body_markdown":"I have the following domain classes `Trip` and `Employee`:\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Trip {\r\n    private Date startTime;\r\n    private Date endTime;\r\n    List&lt;Employee&gt; empList;\r\n    \r\n}\r\n```\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Employee {\r\n    private String name;\r\n    private String empId;\r\n}\r\n```\r\nI have a list of `Trip` instances. And I want to create a map of type `Map&lt;String,List&lt;Trip&gt;&gt;` associating *id* of each *employee* `empId` with a list of *trips* using Stream API.\r\n\r\n*Here&#39;s my attempt:*\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        List&lt;Trip&gt; trips = new ArrayList&lt;&gt;();\r\n        Map&lt;Stream&lt;String&gt;, List&lt;Trip&gt;&gt; x = trips.stream()\r\n            .collect(Collectors.groupingBy(t -&gt; t.getEmpList()\r\n                .stream().map(Employee::getEmpId)\r\n            ));\r\n    }\r\n\r\nHow can I generate the map of the required type?\r\n\r\nWhen the type of map is `Map&lt;String,List&lt;Trip&gt;&gt;` it gives me a compilation error:\r\n\r\n```\r\nUnresolved compilation problem: Type mismatch:\r\ncannot convert from Map&lt;Object,List&lt;Trip&gt;&gt; to Map&lt;String,List&lt;Trip&gt;&gt;\r\n```","title":"Generate Map using list of list using stream in Java 8","body":"<p>I have the following domain classes <code>Trip</code> and <code>Employee</code>:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Trip {\n    private Date startTime;\n    private Date endTime;\n    List&lt;Employee&gt; empList;\n    \n}\n</code></pre>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Employee {\n    private String name;\n    private String empId;\n}\n</code></pre>\n<p>I have a list of <code>Trip</code> instances. And I want to create a map of type <code>Map&lt;String,List&lt;Trip&gt;&gt;</code> associating <em>id</em> of each <em>employee</em> <code>empId</code> with a list of <em>trips</em> using Stream API.</p>\n<p><em>Here's my attempt:</em></p>\n<pre><code>public static void main(String[] args) {\n    \n    List&lt;Trip&gt; trips = new ArrayList&lt;&gt;();\n    Map&lt;Stream&lt;String&gt;, List&lt;Trip&gt;&gt; x = trips.stream()\n        .collect(Collectors.groupingBy(t -&gt; t.getEmpList()\n            .stream().map(Employee::getEmpId)\n        ));\n}\n</code></pre>\n<p>How can I generate the map of the required type?</p>\n<p>When the type of map is <code>Map&lt;String,List&lt;Trip&gt;&gt;</code> it gives me a compilation error:</p>\n<pre><code>Unresolved compilation problem: Type mismatch:\ncannot convert from Map&lt;Object,List&lt;Trip&gt;&gt; to Map&lt;String,List&lt;Trip&gt;&gt;\n</code></pre>\n"},{"tags":["java","database","oracle","ojdbc"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1667004584,"post_id":74242057,"comment_id":131075579,"body_markdown":"Delete that `Class.forName(&quot;oracle.jdbc.OracleDriver&quot;);` line. You don&#39;t need it - the driver loads itself. (And, anyway, that is the wrong class name.) See what error (if any) you get after making that change.","body":"Delete that <code>Class.forName(&quot;oracle.jdbc.OracleDriver&quot;);</code> line. You don&#39;t need it - the driver loads itself. (And, anyway, that is the wrong class name.) See what error (if any) you get after making that change."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1667004975,"post_id":74242057,"comment_id":131075613,"body_markdown":"Related: [JDBC Class.forName vs DriverManager.registerDriver](https://stackoverflow.com/q/5484227/12567365) and [Class.forName still seems necessary](https://stackoverflow.com/q/37876684/12567365)","body":"Related: <a href=\"https://stackoverflow.com/q/5484227/12567365\">JDBC Class.forName vs DriverManager.registerDriver</a> and <a href=\"https://stackoverflow.com/q/37876684/12567365\">Class.forName still seems necessary</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1667005310,"post_id":74242057,"comment_id":131075644,"body_markdown":"What&#39;s the right class name? https://stackoverflow.com/questions/6202653/difference-between-oracle-jdbc-driver-classes","body":"What&#39;s the right class name? <a href=\"https://stackoverflow.com/questions/6202653/difference-between-oracle-jdbc-driver-classes\" title=\"difference between oracle jdbc driver classes\">stackoverflow.com/questions/6202653/&hellip;</a>"},{"owner":{"account_id":26539115,"reputation":1082,"user_id":20170164,"display_name":"rainbow.gekota"},"score":0,"creation_date":1667081093,"post_id":74242057,"comment_id":131087368,"body_markdown":"Please [edit] to convert your images of text into actual text. [See here](https://meta.stackoverflow.com/a/285557/20170164) for why.","body":"Please <a href=\"https://stackoverflow.com/posts/74242057/edit\">edit</a> to convert your images of text into actual text. <a href=\"https://meta.stackoverflow.com/a/285557/20170164\">See here</a> for why."}],"owner":{"account_id":25291510,"reputation":23,"user_id":19117499,"display_name":"Mohammed Akif"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":563,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667005172,"creation_date":1667003382,"question_id":74242057,"body_markdown":"I&#39;m trying to connect to an Oracle database but I keep getting this error:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.ClassNotFoundException: oracle.jdbc.OracleDriver\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n        at java.base/java.lang.Class.forName0(Native Method)\r\n        at java.base/java.lang.Class.forName(Class.java:383)\r\n        at java.base/java.lang.Class.forName(Class.java:376)\r\n```\r\n\r\nI have downloaded the `ojdbc8.jar` file and added this line of code:\r\n\r\n```\r\nClass.forName(&quot;oracle.jdbc.OracleDriver&quot;); \r\n```\r\n\r\nbut it is still not working. \r\n\r\nThis is my code:\r\n\r\n```\r\nClass.forName(&quot;oracle.jdbc.OracleDriver&quot;); \r\nConnection conn = DriverManager.getConnection(&quot;jdbc:oracle:thin:@localhost:1521:XE&quot;,&quot;system&quot;,&quot;moe&quot;);\r\nStatement stat = conn.createStatement();\r\n```\r\n\r\n\r\n[![some images that might help](https://i.stack.imgur.com/DtzmF.png)](https://i.stack.imgur.com/DtzmF.png)\r\n\r\n\r\nI&#39;m trying to connect to a database.\r\n\r\nI&#39;m using:\r\n \r\n- Java JDK 18.0.1.1\r\n- ojdbc8.jar\r\n- Visual Studio IDE \r\n- Oracle Database\r\n\r\n","title":"Connect Java to Oracle database in VSCode","body":"<p>I'm trying to connect to an Oracle database but I keep getting this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: oracle.jdbc.OracleDriver\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n        at java.base/java.lang.Class.forName0(Native Method)\n        at java.base/java.lang.Class.forName(Class.java:383)\n        at java.base/java.lang.Class.forName(Class.java:376)\n</code></pre>\n<p>I have downloaded the <code>ojdbc8.jar</code> file and added this line of code:</p>\n<pre><code>Class.forName(&quot;oracle.jdbc.OracleDriver&quot;); \n</code></pre>\n<p>but it is still not working.</p>\n<p>This is my code:</p>\n<pre><code>Class.forName(&quot;oracle.jdbc.OracleDriver&quot;); \nConnection conn = DriverManager.getConnection(&quot;jdbc:oracle:thin:@localhost:1521:XE&quot;,&quot;system&quot;,&quot;moe&quot;);\nStatement stat = conn.createStatement();\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/DtzmF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DtzmF.png\" alt=\"some images that might help\" /></a></p>\n<p>I'm trying to connect to a database.</p>\n<p>I'm using:</p>\n<ul>\n<li>Java JDK 18.0.1.1</li>\n<li>ojdbc8.jar</li>\n<li>Visual Studio IDE</li>\n<li>Oracle Database</li>\n</ul>\n"},{"tags":["java","multithreading","kernel"],"comments":[{"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"score":2,"creation_date":1376672069,"post_id":18278425,"comment_id":26812234,"body_markdown":"What&#39;s the point of multithreading if one blocked thread blocks the entire process?","body":"What&#39;s the point of multithreading if one blocked thread blocks the entire process?"},{"owner":{"account_id":158625,"reputation":3575,"user_id":377398,"accept_rate":95,"display_name":"fredcrs"},"score":0,"creation_date":1376672228,"post_id":18278425,"comment_id":26812308,"body_markdown":"User space threads consume less resources since they do not have to lod program counter, stack, etc... of the kernel thread","body":"User space threads consume less resources since they do not have to lod program counter, stack, etc... of the kernel thread"},{"owner":{"account_id":395272,"reputation":24521,"user_id":758133,"accept_rate":100,"display_name":"Martin James"},"score":0,"creation_date":1376673380,"post_id":18278425,"comment_id":26812878,"body_markdown":"@fredcrs yes, but they don&#39;t actually work at all well.","body":"@fredcrs yes, but they don&#39;t actually work at all well."},{"owner":{"account_id":158625,"reputation":3575,"user_id":377398,"accept_rate":95,"display_name":"fredcrs"},"score":0,"creation_date":1376673655,"post_id":18278425,"comment_id":26813017,"body_markdown":"maybe they can be usefull when both theads are 100% CPU bound. So kernel would not spend time switching context","body":"maybe they can be usefull when both theads are 100% CPU bound. So kernel would not spend time switching context"},{"owner":{"account_id":395272,"reputation":24521,"user_id":758133,"accept_rate":100,"display_name":"Martin James"},"score":0,"creation_date":1376675652,"post_id":18278425,"comment_id":26813994,"body_markdown":"Context-switching overhead only becomes noticeable under rare circumstances - more ready threads than cores and those threads use so much data that much of the L1 cache needs to be flushed.  Not all them many apps like that.","body":"Context-switching overhead only becomes noticeable under rare circumstances - more ready threads than cores and those threads use so much data that much of the L1 cache needs to be flushed.  Not all them many apps like that."}],"answers":[{"tags":[],"owner":{"account_id":23827,"reputation":16963,"user_id":60020,"accept_rate":85,"display_name":"Samuel"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1376672369,"creation_date":1376672041,"answer_id":18278459,"question_id":18278425,"body_markdown":"Java threads are &quot;user&quot; threads, but under the hood, the Java Virtual Machine is using kernel threads and delegating the user threads CPU time on each kernel thread in its kernel thread pool. See [this question][1] for a better explanation. It seems that threading is JVM-vendor specific, and my understanding might not hold for all JVM implementations.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2653458/understanding-javas-native-threads-and-the-jvm","title":"Are Java threads created in user space or kernel space?","body":"<p>Java threads are \"user\" threads, but under the hood, the Java Virtual Machine is using kernel threads and delegating the user threads CPU time on each kernel thread in its kernel thread pool. See <a href=\"https://stackoverflow.com/questions/2653458/understanding-javas-native-threads-and-the-jvm\">this question</a> for a better explanation. It seems that threading is JVM-vendor specific, and my understanding might not hold for all JVM implementations.</p>\n"},{"tags":[],"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1376673205,"creation_date":1376672359,"answer_id":18278547,"question_id":18278425,"body_markdown":"Most JVMs implement threads with native, OS level threads, including the Oracle reference implementation based on OpenJDK. \r\n\r\nI imagine the JVMs that use &#39;green threads&#39; (user space simulation of threads) would use preemptive scheduling so that an infinite loop in one thread doesn&#39;t block the other threads, but without knowledge of a particular implementation this is just speculation.","title":"Are Java threads created in user space or kernel space?","body":"<p>Most JVMs implement threads with native, OS level threads, including the Oracle reference implementation based on OpenJDK. </p>\n\n<p>I imagine the JVMs that use 'green threads' (user space simulation of threads) would use preemptive scheduling so that an infinite loop in one thread doesn't block the other threads, but without knowledge of a particular implementation this is just speculation.</p>\n"},{"tags":[],"owner":{"account_id":1479215,"reputation":2511,"user_id":1388943,"accept_rate":48,"display_name":"stdout"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1526768666,"creation_date":1526768666,"answer_id":50430023,"question_id":18278425,"body_markdown":"Java threads are user threads for sure but eventually they&#39;re mapped to kernel-level threads before getting executed for real. This mapping probably depends on particular JVM implementation (or [the mapping model][1]).\r\n\r\nScheduling wise, kernel threads are scheduled at the os level by an alarm clock that interrupts the kernel periodically. IMO, when that happens, your JVM thread(potentially multiple) may get to execute it&#39;s code, or may spawn another thread (which could cause the os to create another kernel thread or block it depending on the mapping model), or may run it&#39;s own particular scheduling algorithm to decide which thread which were previously blocked on the same lock will be context-switched next etc.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Thread_(computing)#Models","title":"Are Java threads created in user space or kernel space?","body":"<p>Java threads are user threads for sure but eventually they're mapped to kernel-level threads before getting executed for real. This mapping probably depends on particular JVM implementation (or <a href=\"https://en.wikipedia.org/wiki/Thread_(computing)#Models\" rel=\"nofollow noreferrer\">the mapping model</a>).</p>\n\n<p>Scheduling wise, kernel threads are scheduled at the os level by an alarm clock that interrupts the kernel periodically. IMO, when that happens, your JVM thread(potentially multiple) may get to execute it's code, or may spawn another thread (which could cause the os to create another kernel thread or block it depending on the mapping model), or may run it's own particular scheduling algorithm to decide which thread which were previously blocked on the same lock will be context-switched next etc.</p>\n"},{"tags":[],"owner":{"account_id":11307230,"reputation":47,"user_id":8291448,"display_name":"Ibrahim Mohammed"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667004709,"creation_date":1667004709,"answer_id":74242124,"question_id":18278425,"body_markdown":"Starting from Java 19, virtual threads will be part of Java(as a preview feature). \r\n\r\nUnlike Java classic threads (aka, platform threads, which are just wrappers around OS threads), virtual threads are managed by the JVM. They are super lightweight, take less memory, have less creation overhead, and can make good use of non-blocking libraries, so they don&#39;t get to block the actual OS threads on I/O operations. read more about [Project Loom][1]\r\n\r\n\r\n  [1]: https://www.infoq.com/articles/java-virtual-threads/","title":"Are Java threads created in user space or kernel space?","body":"<p>Starting from Java 19, virtual threads will be part of Java(as a preview feature).</p>\n<p>Unlike Java classic threads (aka, platform threads, which are just wrappers around OS threads), virtual threads are managed by the JVM. They are super lightweight, take less memory, have less creation overhead, and can make good use of non-blocking libraries, so they don't get to block the actual OS threads on I/O operations. read more about <a href=\"https://www.infoq.com/articles/java-virtual-threads/\" rel=\"nofollow noreferrer\">Project Loom</a></p>\n"}],"owner":{"account_id":158625,"reputation":3575,"user_id":377398,"accept_rate":95,"display_name":"fredcrs"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15503,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":18278459,"answer_count":4,"score":13,"last_activity_date":1667004709,"creation_date":1376671925,"question_id":18278425,"body_markdown":"Check this code out\r\n\r\n        Thread t1 = new Thread(new Runnable() {\r\n\r\n            @Override\r\n            public void run() \r\n            {\r\n                try\r\n                {\r\n                    System.out.println(&quot;STARTING SERVER...&quot;);\r\n                    ServerSocket s = new ServerSocket(2544);\r\n                    System.out.println(&quot;SERVER BLOCKED ON ACCEPT&quot;);\r\n                    Socket ss = s.accept();\r\n                    System.out.println(&quot;SERVER NOT BLOCKED ANYMORE&quot;);\r\n                }\r\n                catch(Exception ex)\r\n                {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n        t1.start();\r\n        \r\n        \r\n        \r\n        Thread t2 = new Thread(new Runnable() {\r\n\r\n            @Override\r\n            public void run() \r\n            {\r\n                try\r\n                {\r\n                    while(true)\r\n                    {\r\n                        Thread.sleep(1000);\r\n                        System.out.println(&quot;Hello&quot;);\r\n                    }\r\n                }\r\n                catch(Exception ex)\r\n                {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n        t2.start();\r\n\r\n\r\n**Outputs:**\r\n\r\n    STARTING SERVER...\r\n    SERVER BLOCKED ON ACCEPT\r\n    Hello\r\n    Hello\r\n    Hello\r\n    Hello\r\n    Hello\r\n    Hello\r\n    Hello\r\n    ...\r\n\r\nJava threads should be user space threads, right? So one blocked thread should block the entire process...thats not what happened. What is happening them?","title":"Are Java threads created in user space or kernel space?","body":"<p>Check this code out</p>\n\n<pre><code>    Thread t1 = new Thread(new Runnable() {\n\n        @Override\n        public void run() \n        {\n            try\n            {\n                System.out.println(\"STARTING SERVER...\");\n                ServerSocket s = new ServerSocket(2544);\n                System.out.println(\"SERVER BLOCKED ON ACCEPT\");\n                Socket ss = s.accept();\n                System.out.println(\"SERVER NOT BLOCKED ANYMORE\");\n            }\n            catch(Exception ex)\n            {\n                ex.printStackTrace();\n            }\n        }\n    });\n    t1.start();\n\n\n\n    Thread t2 = new Thread(new Runnable() {\n\n        @Override\n        public void run() \n        {\n            try\n            {\n                while(true)\n                {\n                    Thread.sleep(1000);\n                    System.out.println(\"Hello\");\n                }\n            }\n            catch(Exception ex)\n            {\n                ex.printStackTrace();\n            }\n        }\n    });\n    t2.start();\n</code></pre>\n\n<p><strong>Outputs:</strong></p>\n\n<pre><code>STARTING SERVER...\nSERVER BLOCKED ON ACCEPT\nHello\nHello\nHello\nHello\nHello\nHello\nHello\n...\n</code></pre>\n\n<p>Java threads should be user space threads, right? So one blocked thread should block the entire process...thats not what happened. What is happening them?</p>\n"},{"tags":["java","jwt","wso2","wso2-api-manager"],"answers":[{"comments":[{"owner":{"account_id":26696474,"reputation":1,"user_id":20304241,"display_name":"Yerson Quintana"},"score":0,"creation_date":1666892565,"post_id":74217379,"comment_id":131048464,"body_markdown":"I have downloaded the API 4.0.0 again. and I&#39;ve downloaded the sample code, and performed the suggested steps, but it doesn&#39;t do anything.","body":"I have downloaded the API 4.0.0 again. and I&#39;ve downloaded the sample code, and performed the suggested steps, but it doesn&#39;t do anything."},{"owner":{"account_id":14262691,"reputation":606,"user_id":10302908,"display_name":"Binod Karunanayake"},"score":0,"creation_date":1666892878,"post_id":74217379,"comment_id":131048562,"body_markdown":"Did you try enabling default `CustomJWTGenerator` using apim.jwt.enable = true in deployment.toml? It should display default attributes.","body":"Did you try enabling default <code>CustomJWTGenerator</code> using apim.jwt.enable = true in deployment.toml? It should display default attributes."},{"owner":{"account_id":26696474,"reputation":1,"user_id":20304241,"display_name":"Yerson Quintana"},"score":0,"creation_date":1666893469,"post_id":74217379,"comment_id":131048780,"body_markdown":"yes, I have enabled it with [apim.jwt]\nenable = true and the java class [apim.jwt.gateway_generator]\nimpl = &quot;org.wso2.carbon.test.CustomGatewayJWTGenerator&quot;. I have edited the question with a screenshot of the deployment.toml","body":"yes, I have enabled it with [apim.jwt] enable = true and the java class [apim.jwt.gateway_generator] impl = &quot;org.wso2.carbon.test.CustomGatewayJWTGenerator&quot;. I have edited the question with a screenshot of the deployment.toml"},{"owner":{"account_id":14262691,"reputation":606,"user_id":10302908,"display_name":"Binod Karunanayake"},"score":0,"creation_date":1666893807,"post_id":74217379,"comment_id":131048894,"body_markdown":"Note that `CustomGatewayJWTGenerator-1.0-SNAPSHOT.jar` should be placed on `dropins` directory. According to your description you have copied it into `libs` directory. Can you also check that?","body":"Note that <code>CustomGatewayJWTGenerator-1.0-SNAPSHOT.jar</code> should be placed on <code>dropins</code> directory. According to your description you have copied it into <code>libs</code> directory. Can you also check that?"},{"owner":{"account_id":26696474,"reputation":1,"user_id":20304241,"display_name":"Yerson Quintana"},"score":0,"creation_date":1666894408,"post_id":74217379,"comment_id":131049069,"body_markdown":"I have checked and it is in the &quot;dropins&quot; folder. I have edited the question with the screenshot.","body":"I have checked and it is in the &quot;dropins&quot; folder. I have edited the question with the screenshot."}],"tags":[],"owner":{"account_id":14262691,"reputation":606,"user_id":10302908,"display_name":"Binod Karunanayake"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666850126,"creation_date":1666850126,"answer_id":74217379,"question_id":74214152,"body_markdown":"You can customize JWT by adding custom claims using a `CustomGatewayJWTGenerator` as in [docs][1]. Follow the steps below to test this.\r\n\r\n1. Get this [sample code][2] and modify the `CustomGatewayJWTGenerator.populateStandardClaims()` class as below.\r\n\r\n```java\r\n@Override\r\npublic Map&lt;String, Object&gt; populateStandardClaims(JWTInfoDto jwtInfoDto) {\r\n    Map&lt;String, Object&gt; claims = super.populateStandardClaims(jwtInfoDto);\r\n    claims.put(&quot;custom-attribute&quot;, &quot;123&quot;);\r\n    return claims;\r\n}\r\n```\r\n\r\n2. Run `mvn clean install` and generate the jar file.\r\n3. Copy `CustomGatewayJWTGenerator-1.0-SNAPSHOT.jar` to `&lt;APIM_HOME&gt;/repository/components/dropins` directory.\r\n4. Add following config to the `&lt;APIM_HOME&gt;/repository/conf/deployment.toml`.\r\n\r\n```toml\r\n[apim.jwt]\r\nenable = true\r\n\r\n[apim.jwt.gateway_generator]\r\nimpl = &quot;org.wso2.carbon.test.CustomGatewayJWTGenerator&quot;\r\n```\r\n\r\n5. Start/Restart the server.\r\n6. Create and publish a sample REST API in Publisher.\r\n7. Subscribe and invoke the created API in Devportal.\r\n8. You can see that the custom attribute is passed to the backend by decoding the JWT.\r\n\r\n```\r\n{\r\n  ...\r\n\r\n  &quot;custom-attribute&quot;: &quot;123&quot;,\r\n\r\n  ...\r\n}\r\n```\r\n\r\n\r\n  [1]: https://apim.docs.wso2.com/en/4.0.0/deploy-and-publish/deploy-on-gateway/api-gateway/passing-enduser-attributes-to-the-backend-via-api-gateway/#jwt-self-contained-access-tokens\r\n  [2]: https://github.com/wso2/samples-apim/tree/master/CustomGatewayJWTGenerator","title":"Customizing JWT generation not working in WSO2 APIM 4.0.0","body":"<p>You can customize JWT by adding custom claims using a <code>CustomGatewayJWTGenerator</code> as in <a href=\"https://apim.docs.wso2.com/en/4.0.0/deploy-and-publish/deploy-on-gateway/api-gateway/passing-enduser-attributes-to-the-backend-via-api-gateway/#jwt-self-contained-access-tokens\" rel=\"nofollow noreferrer\">docs</a>. Follow the steps below to test this.</p>\n<ol>\n<li>Get this <a href=\"https://github.com/wso2/samples-apim/tree/master/CustomGatewayJWTGenerator\" rel=\"nofollow noreferrer\">sample code</a> and modify the <code>CustomGatewayJWTGenerator.populateStandardClaims()</code> class as below.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic Map&lt;String, Object&gt; populateStandardClaims(JWTInfoDto jwtInfoDto) {\n    Map&lt;String, Object&gt; claims = super.populateStandardClaims(jwtInfoDto);\n    claims.put(&quot;custom-attribute&quot;, &quot;123&quot;);\n    return claims;\n}\n</code></pre>\n<ol start=\"2\">\n<li>Run <code>mvn clean install</code> and generate the jar file.</li>\n<li>Copy <code>CustomGatewayJWTGenerator-1.0-SNAPSHOT.jar</code> to <code>&lt;APIM_HOME&gt;/repository/components/dropins</code> directory.</li>\n<li>Add following config to the <code>&lt;APIM_HOME&gt;/repository/conf/deployment.toml</code>.</li>\n</ol>\n<pre class=\"lang-ini prettyprint-override\"><code>[apim.jwt]\nenable = true\n\n[apim.jwt.gateway_generator]\nimpl = &quot;org.wso2.carbon.test.CustomGatewayJWTGenerator&quot;\n</code></pre>\n<ol start=\"5\">\n<li>Start/Restart the server.</li>\n<li>Create and publish a sample REST API in Publisher.</li>\n<li>Subscribe and invoke the created API in Devportal.</li>\n<li>You can see that the custom attribute is passed to the backend by decoding the JWT.</li>\n</ol>\n<pre><code>{\n  ...\n\n  &quot;custom-attribute&quot;: &quot;123&quot;,\n\n  ...\n}\n</code></pre>\n"}],"owner":{"account_id":26696474,"reputation":1,"user_id":20304241,"display_name":"Yerson Quintana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667003543,"creation_date":1666817928,"question_id":74214152,"body_markdown":"I tried to implement the steps given in WSO2 4.0.0 documentation https://apim.docs.wso2.com/en/4.0.0/deploy-and-publish/deploy-on-gateway/api-gateway/passing-enduser-attributes-to-the-backend-via-api-gateway/ for customizing JWT Claims.\r\n\r\nAs given in the documentation, I created the custom JWT generator java class, generated the jar and placed it under WSO2 Home/repository/components/lib folder . Did the necessary configurations in deployment.toml for enabling JWT and restarted the server.\r\n\r\nNeed suggestions on this as i have followed the steps given in the documentation.\r\n\r\nI execute the examples `CustomGatewayJWTGenerator,CustomJWTGenerator` of [repo](https://github.com/wso2/samples-apim) official examples.  \r\n```\r\n{\r\n  &quot;sub&quot;: &quot;xxxx&quot;,\r\n  &quot;aut&quot;: &quot;xxxx&quot;,\r\n  &quot;aud&quot;: &quot;xxx&quot;,\r\n  &quot;nbf&quot;: xxx,\r\n  &quot;azp&quot;: &quot;xxx&quot;,\r\n  &quot;scope&quot;: &quot;xxx&quot;,\r\n  &quot;iss&quot;: &quot;xx://xxx:9443/oauth2/token&quot;,\r\n  &quot;exp&quot;: xxxxx,\r\n  &quot;iat&quot;: xxxxx,\r\n  &quot;jti&quot;: &quot;xxxx-xxxx-xxx-xxxx-xxxxxx&quot;\r\n  //custom\r\n   &quot;name:&quot;xxxxx&quot;,\r\n    &quot;lastname&quot;:&quot;xxxx&quot;\r\n}\r\n```\r\n\r\n[deployment.toml][1]\r\n\r\n\r\n[api-manager.xml][2]\r\n\r\n[repository\\components\\dropins][3]\r\n\r\n[repository\\components\\lib][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XXoCw.png\r\n  [2]: https://i.stack.imgur.com/TF0Rw.png\r\n  [3]: https://i.stack.imgur.com/n7rWM.png\r\n  [4]: https://i.stack.imgur.com/tYUBv.png","title":"Customizing JWT generation not working in WSO2 APIM 4.0.0","body":"<p>I tried to implement the steps given in WSO2 4.0.0 documentation <a href=\"https://apim.docs.wso2.com/en/4.0.0/deploy-and-publish/deploy-on-gateway/api-gateway/passing-enduser-attributes-to-the-backend-via-api-gateway/\" rel=\"nofollow noreferrer\">https://apim.docs.wso2.com/en/4.0.0/deploy-and-publish/deploy-on-gateway/api-gateway/passing-enduser-attributes-to-the-backend-via-api-gateway/</a> for customizing JWT Claims.</p>\n<p>As given in the documentation, I created the custom JWT generator java class, generated the jar and placed it under WSO2 Home/repository/components/lib folder . Did the necessary configurations in deployment.toml for enabling JWT and restarted the server.</p>\n<p>Need suggestions on this as i have followed the steps given in the documentation.</p>\n<p>I execute the examples <code>CustomGatewayJWTGenerator,CustomJWTGenerator</code> of <a href=\"https://github.com/wso2/samples-apim\" rel=\"nofollow noreferrer\">repo</a> official examples.</p>\n<pre><code>{\n  &quot;sub&quot;: &quot;xxxx&quot;,\n  &quot;aut&quot;: &quot;xxxx&quot;,\n  &quot;aud&quot;: &quot;xxx&quot;,\n  &quot;nbf&quot;: xxx,\n  &quot;azp&quot;: &quot;xxx&quot;,\n  &quot;scope&quot;: &quot;xxx&quot;,\n  &quot;iss&quot;: &quot;xx://xxx:9443/oauth2/token&quot;,\n  &quot;exp&quot;: xxxxx,\n  &quot;iat&quot;: xxxxx,\n  &quot;jti&quot;: &quot;xxxx-xxxx-xxx-xxxx-xxxxxx&quot;\n  //custom\n   &quot;name:&quot;xxxxx&quot;,\n    &quot;lastname&quot;:&quot;xxxx&quot;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/XXoCw.png\" rel=\"nofollow noreferrer\">deployment.toml</a></p>\n<p><a href=\"https://i.stack.imgur.com/TF0Rw.png\" rel=\"nofollow noreferrer\">api-manager.xml</a></p>\n<p><a href=\"https://i.stack.imgur.com/n7rWM.png\" rel=\"nofollow noreferrer\">repository\\components\\dropins</a></p>\n<p><a href=\"https://i.stack.imgur.com/tYUBv.png\" rel=\"nofollow noreferrer\">repository\\components\\lib</a></p>\n"},{"tags":["java","spring-boot","eclipse","circular-dependency"],"answers":[{"comments":[{"owner":{"account_id":19225914,"reputation":389,"user_id":14048816,"display_name":"Himanshu Kawale"},"score":0,"creation_date":1667281783,"post_id":74241973,"comment_id":131126227,"body_markdown":"Thanks David, I&#39;ll Check it, and I&#39;ll update if it works","body":"Thanks David, I&#39;ll Check it, and I&#39;ll update if it works"}],"tags":[],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667002241,"creation_date":1667002241,"answer_id":74241973,"question_id":74166105,"body_markdown":"This is something the Spotbugs plugin can find.  I haven&#39;t run it in a while, and I don&#39;t remember where it&#39;s found in the results, but I&#39;ve used this to discover these, and not just to tell me that there is one, but it shows the trace of references.","title":"How to detect cyclic dependencies in compile time, in java spring-boot, in eclipse?","body":"<p>This is something the Spotbugs plugin can find.  I haven't run it in a while, and I don't remember where it's found in the results, but I've used this to discover these, and not just to tell me that there is one, but it shows the trace of references.</p>\n"}],"owner":{"account_id":19225914,"reputation":389,"user_id":14048816,"display_name":"Himanshu Kawale"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667002241,"creation_date":1666463151,"question_id":74166105,"body_markdown":"Is there any way we can detect cyclic dependencies before running the application?\r\n\r\nI&#39;m using eclipse IDE for a spring-boot project. For some reason I can not run my application on my local machine, I need to run it on an external server.\r\n\r\nWhenever any cyclic dependency arrives in code, my maven build gets succeeds, so I get to know about that cyclic dependency only on the server which takes the entire server down which is not affordable.\r\n\r\nPlease suggest a way to detect these evils before they born.\r\n\r\nThanks in advance !\r\n","title":"How to detect cyclic dependencies in compile time, in java spring-boot, in eclipse?","body":"<p>Is there any way we can detect cyclic dependencies before running the application?</p>\n<p>I'm using eclipse IDE for a spring-boot project. For some reason I can not run my application on my local machine, I need to run it on an external server.</p>\n<p>Whenever any cyclic dependency arrives in code, my maven build gets succeeds, so I get to know about that cyclic dependency only on the server which takes the entire server down which is not affordable.</p>\n<p>Please suggest a way to detect these evils before they born.</p>\n<p>Thanks in advance !</p>\n"},{"tags":["java","spring-boot","google-cloud-platform","google-cloud-storage","bucket"],"comments":[{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1666982491,"post_id":74237475,"comment_id":131071409,"body_markdown":"What&#39;s your code? Where are you stuck? Meanwhile you can have a look to ADC on Google Cloud and how the gcp libraries work with it.","body":"What&#39;s your code? Where are you stuck? Meanwhile you can have a look to ADC on Google Cloud and how the gcp libraries work with it."}],"answers":[{"tags":[],"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667001263,"creation_date":1667001263,"answer_id":74241904,"question_id":74237475,"body_markdown":"Maybe this topic can help : [spring controller download file GCS](https://stackoverflow.com/questions/57920135/how-to-download-a-file-from-google-cloud-storage-and-return-it-in-spring-control)\r\n\r\nFor `GOOGLE_APPLICATION_CREDENTIALS` it allows an application to be authenticated on `GCP`.\r\n- Firstly you have to create a service account on `IAM GCP page` with the needed privileges.\r\n- Download a json key for this service account.\r\n- Set the `GOOGLE_APPLICATION_CREDENTIALS` env var that targets on the path of the Service Account json key, before to start `main` and entrypoint of your `Spring Boot` application.","title":"Spring Boot - Download a file from GCP Bucket","body":"<p>Maybe this topic can help : <a href=\"https://stackoverflow.com/questions/57920135/how-to-download-a-file-from-google-cloud-storage-and-return-it-in-spring-control\">spring controller download file GCS</a></p>\n<p>For <code>GOOGLE_APPLICATION_CREDENTIALS</code> it allows an application to be authenticated on <code>GCP</code>.</p>\n<ul>\n<li>Firstly you have to create a service account on <code>IAM GCP page</code> with the needed privileges.</li>\n<li>Download a json key for this service account.</li>\n<li>Set the <code>GOOGLE_APPLICATION_CREDENTIALS</code> env var that targets on the path of the Service Account json key, before to start <code>main</code> and entrypoint of your <code>Spring Boot</code> application.</li>\n</ul>\n"}],"owner":{"account_id":12437064,"reputation":141,"user_id":9057026,"display_name":"Luigi105"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1254,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74241904,"answer_count":1,"score":0,"last_activity_date":1667001263,"creation_date":1666970436,"question_id":74237475,"body_markdown":"I&#39;ve a Spring Boot Application and I have to develop an API to download a file from GCP bucket.\r\nSo I have the download path and the name of the bucket, e.g.\r\n\r\n    my_bucket = &quot;bucketTest&quot;\r\n    download_path = bucketTest + &quot;/file.txt&quot;\r\nBefore I start writing the code for download, what are the preliminary steps? I read that I need a GOOGLE_APPLICATION_CREDENTIALS environment variable, where can I find it?\r\nOnce I set this environment variable, do I just need to write the download code or are there some setup inside the controller function?","title":"Spring Boot - Download a file from GCP Bucket","body":"<p>I've a Spring Boot Application and I have to develop an API to download a file from GCP bucket.\nSo I have the download path and the name of the bucket, e.g.</p>\n<pre><code>my_bucket = &quot;bucketTest&quot;\ndownload_path = bucketTest + &quot;/file.txt&quot;\n</code></pre>\n<p>Before I start writing the code for download, what are the preliminary steps? I read that I need a GOOGLE_APPLICATION_CREDENTIALS environment variable, where can I find it?\nOnce I set this environment variable, do I just need to write the download code or are there some setup inside the controller function?</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","autocloseable"],"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1622216256,"post_id":67741257,"comment_id":119737391,"body_markdown":"When the entire container is closed, everything is destroyed anyway.","body":"When the entire container is closed, everything is destroyed anyway."}],"answers":[{"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1622216223,"post_id":67741746,"comment_id":119737373,"body_markdown":"The documentation you quoted _explicitly_ said to treat them as long-lived.","body":"The documentation you quoted <i>explicitly</i> said to treat them as long-lived."},{"owner":{"account_id":16874158,"reputation":498,"user_id":12201993,"display_name":"kayuapi_my"},"score":1,"creation_date":1622216605,"post_id":67741746,"comment_id":119737521,"body_markdown":"Note the last sentence in the quote: For best practices, explicitly close a client by calling the close method. Lambda can and will close the client even if you&#39;re not closing it explicitly, but that doesn&#39;t mean you should. You should let lambda auto-close it in situations where it&#39;s best to treat the clients as long-lived objects, ie for best performance, because then the client maintains a socket with the service by staying in a reusable connection pool. In that case, the client may be reused when lambda is invoked again.","body":"Note the last sentence in the quote: For best practices, explicitly close a client by calling the close method. Lambda can and will close the client even if you&#39;re not closing it explicitly, but that doesn&#39;t mean you should. You should let lambda auto-close it in situations where it&#39;s best to treat the clients as long-lived objects, ie for best performance, because then the client maintains a socket with the service by staying in a reusable connection pool. In that case, the client may be reused when lambda is invoked again."},{"owner":{"account_id":6926859,"reputation":103,"user_id":5317686,"display_name":"Anastasia Drozhzha"},"score":0,"creation_date":1622557051,"post_id":67741746,"comment_id":119822359,"body_markdown":"@kayuapi_my Thanks for your reply. Maybe you could advice where I can read more about shutdown behavior of Lambda, to understand things better?","body":"@kayuapi_my Thanks for your reply. Maybe you could advice where I can read more about shutdown behavior of Lambda, to understand things better?"},{"owner":{"account_id":16874158,"reputation":498,"user_id":12201993,"display_name":"kayuapi_my"},"score":0,"creation_date":1622596958,"post_id":67741746,"comment_id":119835417,"body_markdown":"Sure, you can find out more about the execution environment here: https://docs.aws.amazon.com/lambda/latest/dg/runtimes-context.html#runtimes-lifecycle-shutdown","body":"Sure, you can find out more about the execution environment here: <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/runtimes-context.html#runtimes-lifecycle-shutdown\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/lambda/latest/dg/&hellip;</a>"}],"tags":[],"owner":{"account_id":16874158,"reputation":498,"user_id":12201993,"display_name":"kayuapi_my"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1622251503,"creation_date":1622215958,"answer_id":67741746,"question_id":67741257,"body_markdown":"For best practice, you should explicitly close the client unless you have reasons not to.\r\n\r\n&gt; Service clients in the SDK are thread-safe. For best performance,\r\n&gt; treat them as long-lived objects. Each client has its own connection\r\n&gt; pool resource that is released when the client is garbage collected.\r\n&gt; The clients in the AWS SDK for Java 2.0 now extend the AutoClosable\r\n&gt; interface. For best practices, explicitly close a client by calling\r\n&gt; the close method.\r\n\r\nReason not to explicitly close the client:\r\n\r\nFor best performance, do not explicitly close the client. This is because unclosed client maintains socket with the service by remaining in a reusable connection pool after it is opened. So, the client may be reused when lambda is invoked again. Lambda can and will close the client for you automatically at a later time even if you&#39;re not closing it explicitly.\r\n\r\nref: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/creating-clients.html","title":"How to close aws client in aws lambda","body":"<p>For best practice, you should explicitly close the client unless you have reasons not to.</p>\n<blockquote>\n<p>Service clients in the SDK are thread-safe. For best performance,\ntreat them as long-lived objects. Each client has its own connection\npool resource that is released when the client is garbage collected.\nThe clients in the AWS SDK for Java 2.0 now extend the AutoClosable\ninterface. For best practices, explicitly close a client by calling\nthe close method.</p>\n</blockquote>\n<p>Reason not to explicitly close the client:</p>\n<p>For best performance, do not explicitly close the client. This is because unclosed client maintains socket with the service by remaining in a reusable connection pool after it is opened. So, the client may be reused when lambda is invoked again. Lambda can and will close the client for you automatically at a later time even if you're not closing it explicitly.</p>\n<p>ref: <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/creating-clients.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/creating-clients.html</a></p>\n"}],"owner":{"account_id":6926859,"reputation":103,"user_id":5317686,"display_name":"Anastasia Drozhzha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1571,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":67741746,"answer_count":1,"score":4,"last_activity_date":1666999604,"creation_date":1622214117,"question_id":67741257,"body_markdown":"I am trying to correctly write an aws lambda using Java that will use aws sdk SqsClient and SnsClient. I see that these clients implement `close()` method, and it is generally a good practice to call this method when client is no longer required. And the best practices for lambda (https://docs.aws.amazon.com/lambda/latest/dg/best-practices.html) advices to \r\n\r\n&gt; Initialize SDK clients and database connections outside of the function handle\r\n\r\nSo, my question is: is aws lambda wise enough to close aws sdk clients automatically, so that I can write something like this, and do not worry about closing the client explicitly when lambda container is closed.\r\n```\r\npublic class SQSProcessingHandler implements RequestHandler&lt;String, String&gt; {\r\n\r\n    private SqsClient sqsClient = SqsClient.create();\r\n\r\n    @Override\r\n    public String handleRequest(final String event, final Context context) {\r\n        ListQueuesResponse response = sqsClient.listQueues();\r\n        return response.queueUrls().stream().collect(Collectors.joining(&quot;,&quot;));\r\n    }\r\n}\r\n```\r\nIf explicit close is still required, could you please help me to find out how can I know that the lambda container is about to close, so that I should call `close()` on the client?","title":"How to close aws client in aws lambda","body":"<p>I am trying to correctly write an aws lambda using Java that will use aws sdk SqsClient and SnsClient. I see that these clients implement <code>close()</code> method, and it is generally a good practice to call this method when client is no longer required. And the best practices for lambda (<a href=\"https://docs.aws.amazon.com/lambda/latest/dg/best-practices.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/lambda/latest/dg/best-practices.html</a>) advices to</p>\n<blockquote>\n<p>Initialize SDK clients and database connections outside of the function handle</p>\n</blockquote>\n<p>So, my question is: is aws lambda wise enough to close aws sdk clients automatically, so that I can write something like this, and do not worry about closing the client explicitly when lambda container is closed.</p>\n<pre><code>public class SQSProcessingHandler implements RequestHandler&lt;String, String&gt; {\n\n    private SqsClient sqsClient = SqsClient.create();\n\n    @Override\n    public String handleRequest(final String event, final Context context) {\n        ListQueuesResponse response = sqsClient.listQueues();\n        return response.queueUrls().stream().collect(Collectors.joining(&quot;,&quot;));\n    }\n}\n</code></pre>\n<p>If explicit close is still required, could you please help me to find out how can I know that the lambda container is about to close, so that I should call <code>close()</code> on the client?</p>\n"},{"tags":["java","groovy","gremlin","amazon-neptune"],"comments":[{"owner":{"account_id":14025132,"reputation":2074,"user_id":10130372,"display_name":"Taylor Riggan"},"score":0,"creation_date":1666977149,"post_id":74238687,"comment_id":131069823,"body_markdown":"When adding the `drop()` step, where are you placing that?  At the very end of the query?","body":"When adding the <code>drop()</code> step, where are you placing that?  At the very end of the query?"},{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1666977435,"post_id":74238687,"comment_id":131069895,"body_markdown":"@TaylorRiggan Added a copy with the `drop()` step included.","body":"@TaylorRiggan Added a copy with the <code>drop()</code> step included."},{"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1666980510,"post_id":74238687,"comment_id":131070881,"body_markdown":"Does it work if you add `.iterate()` to the end after `.drop()`","body":"Does it work if you add <code>.iterate()</code> to the end after <code>.drop()</code>"},{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1666987556,"post_id":74238687,"comment_id":131072718,"body_markdown":"@tim_yates No change, and I wouldn&#39;t expect a change since `drop()` ends its traversers.","body":"@tim_yates No change, and I wouldn&#39;t expect a change since <code>drop()</code> ends its traversers."},{"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1666988025,"post_id":74238687,"comment_id":131072830,"body_markdown":"Sorry, I was going from this https://stackoverflow.com/a/17250723/6509","body":"Sorry, I was going from this <a href=\"https://stackoverflow.com/a/17250723/6509\">stackoverflow.com/a/17250723/6509</a>"},{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1666988824,"post_id":74238687,"comment_id":131073006,"body_markdown":"@tim_yates That seems to be an error on Stephen&#39;s part, as the Gremlin console implicitly iterates over results (though it would in fact be necessary in business code!).","body":"@tim_yates That seems to be an error on Stephen&#39;s part, as the Gremlin console implicitly iterates over results (though it would in fact be necessary in business code!)."}],"answers":[{"tags":[],"owner":{"account_id":7115613,"reputation":14989,"user_id":5442034,"display_name":"Kelvin Lawrence"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666999137,"creation_date":1666998457,"answer_id":74241675,"question_id":74238687,"body_markdown":"I&#39;m taking a deeper look at this, it looks very familiar, but I&#39;m not quite remembering the behavior here. \r\n\r\nI can also reproduce this with just TinkerGraph and Gremlin console.\r\n\r\nFor now, as a work around, try doing `fold().unfold().drop()`\r\n\r\nI&#39;m pretty sure I have seen this before and there may even be a TinkerPop Jira open for it. I&#39;ll do some more research and update this answer if I find anything relevant. Hopefully for now you at least have a workaround.\r\n","title":"Why does my Gremlin query not drop all the vertices I indicate?","body":"<p>I'm taking a deeper look at this, it looks very familiar, but I'm not quite remembering the behavior here.</p>\n<p>I can also reproduce this with just TinkerGraph and Gremlin console.</p>\n<p>For now, as a work around, try doing <code>fold().unfold().drop()</code></p>\n<p>I'm pretty sure I have seen this before and there may even be a TinkerPop Jira open for it. I'll do some more research and update this answer if I find anything relevant. Hopefully for now you at least have a workaround.</p>\n"}],"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666999137,"creation_date":1666976769,"question_id":74238687,"body_markdown":"I am running a Gremlin query against Neptune 1.1.1.0. For development purposes, I&#39;m trying to remove a vertex with a specific phone number along with its related `Subscription` and `Channel` vertices. I have a `union` statement that correctly emits the desired vertices in the Gremlin console, and I can apply `elementMap()` to print out all the properties:\r\n\r\n```\r\ngremlin&gt; g.V()\r\n  .hasLabel(&#39;Identity&#39;).has(&#39;phones&#39;, &#39;+11234567890&#39;))\r\n  .union(\r\n    identity(),\r\n    __.out(&#39;Receives&#39;).hasLabel(&#39;Subscription&#39;), \r\n    __.out(&#39;MemberOf&#39;).hasLabel(&#39;Channel&#39;)\r\n  )\r\n==&gt;v[d5bc0f8a-a5a5-4209-8bbf-43ea1c39a694]\r\n==&gt;v[d0183e2b-74a8-446c-b378-903dcfc5f50f]\r\n==&gt;v[aba2577f-9244-4367-bcb6-209b9fbe4548]\r\n```\r\n\r\n```\r\ngremlin&gt; g.V()\r\n  .hasLabel(&#39;Identity&#39;).has(&#39;phones&#39;, &#39;+11234567890&#39;))\r\n  .union(\r\n    identity(),\r\n    __.out(&#39;Receives&#39;).hasLabel(&#39;Subscription&#39;), \r\n    __.out(&#39;MemberOf&#39;).hasLabel(&#39;Channel&#39;)\r\n  ).elementMap()\r\n==&gt; // prints out properties for each of the 3 vertices\r\n```\r\n\r\nHowever, if I apply `drop()` to the query, the first (`Identity`) vertex is dropped, but not the subsequent ones. I expected that when I had a traversal with multiple matching vertices, all of them would be dropped (e.g., `g.V().hasLabel(&#39;Identity&#39;).has(&#39;phones&#39;, startingWith(&#39;+1&#39;)).drop()` drops all North American vertices). Why is Neptune/Gremlin stopping at the first vertex in this case?\r\n\r\n```\r\ngremlin&gt; g.V()\r\n  .hasLabel(&#39;Identity&#39;).has(&#39;phones&#39;, &#39;+11234567890&#39;))\r\n  .union(\r\n    identity(),\r\n    __.out(&#39;Receives&#39;).hasLabel(&#39;Subscription&#39;), \r\n    __.out(&#39;MemberOf&#39;).hasLabel(&#39;Channel&#39;)\r\n  ).drop()\r\n```\r\n\r\n(I would generally attempt to run an `explain` here to get more information, but I don&#39;t know how to make that work with `drop()` as a final step.)","title":"Why does my Gremlin query not drop all the vertices I indicate?","body":"<p>I am running a Gremlin query against Neptune 1.1.1.0. For development purposes, I'm trying to remove a vertex with a specific phone number along with its related <code>Subscription</code> and <code>Channel</code> vertices. I have a <code>union</code> statement that correctly emits the desired vertices in the Gremlin console, and I can apply <code>elementMap()</code> to print out all the properties:</p>\n<pre><code>gremlin&gt; g.V()\n  .hasLabel('Identity').has('phones', '+11234567890'))\n  .union(\n    identity(),\n    __.out('Receives').hasLabel('Subscription'), \n    __.out('MemberOf').hasLabel('Channel')\n  )\n==&gt;v[d5bc0f8a-a5a5-4209-8bbf-43ea1c39a694]\n==&gt;v[d0183e2b-74a8-446c-b378-903dcfc5f50f]\n==&gt;v[aba2577f-9244-4367-bcb6-209b9fbe4548]\n</code></pre>\n<pre><code>gremlin&gt; g.V()\n  .hasLabel('Identity').has('phones', '+11234567890'))\n  .union(\n    identity(),\n    __.out('Receives').hasLabel('Subscription'), \n    __.out('MemberOf').hasLabel('Channel')\n  ).elementMap()\n==&gt; // prints out properties for each of the 3 vertices\n</code></pre>\n<p>However, if I apply <code>drop()</code> to the query, the first (<code>Identity</code>) vertex is dropped, but not the subsequent ones. I expected that when I had a traversal with multiple matching vertices, all of them would be dropped (e.g., <code>g.V().hasLabel('Identity').has('phones', startingWith('+1')).drop()</code> drops all North American vertices). Why is Neptune/Gremlin stopping at the first vertex in this case?</p>\n<pre><code>gremlin&gt; g.V()\n  .hasLabel('Identity').has('phones', '+11234567890'))\n  .union(\n    identity(),\n    __.out('Receives').hasLabel('Subscription'), \n    __.out('MemberOf').hasLabel('Channel')\n  ).drop()\n</code></pre>\n<p>(I would generally attempt to run an <code>explain</code> here to get more information, but I don't know how to make that work with <code>drop()</code> as a final step.)</p>\n"},{"tags":["java","json","spring","spring-boot","jackson"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1666988453,"post_id":74240442,"comment_id":131072927,"body_markdown":"*@JsonCreator is used to fine tune the constructor or factory method used in deserialization.*","body":"<i>@JsonCreator is used to fine tune the constructor or factory method used in deserialization.</i>"},{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1666988630,"post_id":74240442,"comment_id":131072964,"body_markdown":"Are you compiling your `User` class with Java method parameter names included (and including the Jackson JDK8 module so it knows how to see them)?","body":"Are you compiling your <code>User</code> class with Java method parameter names included (and including the Jackson JDK8 module so it knows how to see them)?"},{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1666995525,"post_id":74240442,"comment_id":131074395,"body_markdown":"Note also that you can set your Lombok configuration to [`lombok.anyConstructor.addConstructorProperties = true`](https://projectlombok.org/features/constructor), which will add an annotation to the constructor with the necessary mappings.","body":"Note also that you can set your Lombok configuration to <a href=\"https://projectlombok.org/features/constructor\" rel=\"nofollow noreferrer\"><code>lombok.anyConstructor.addConstructorProperties = true</code></a>, which will add an annotation to the constructor with the necessary mappings."}],"answers":[{"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1666995436,"post_id":74240573,"comment_id":131074379,"body_markdown":"I didn&#39;t downvote, but the documentation you quote is several versions out of date, and Jackson is quite happy to use a singleton constructor without annotations **if** parameter names are included: https://fasterxml.github.io/jackson-annotations/javadoc/2.13/com/fasterxml/jackson/annotation/JsonCreator.html","body":"I didn&#39;t downvote, but the documentation you quote is several versions out of date, and Jackson is quite happy to use a singleton constructor without annotations <b>if</b> parameter names are included: <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.13/com/fasterxml/jackson/annotation/JsonCreator.html\" rel=\"nofollow noreferrer\">fasterxml.github.io/jackson-annotations/javadoc/2.13/com/&hellip;</a>"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666996959,"post_id":74240573,"comment_id":131074635,"body_markdown":"@chrylis-cautiouslyoptimistic- There&#39;s still an issue with a single-arg constructor even after registering `ParameterNamesModule` (see the quote from the documentation). I&#39;ve tested it exhaustively. If constructor has a least 2 arguments, no data-binding annotations required, but with a single-arg constructor deserialization would fail.","body":"@chrylis-cautiouslyoptimistic- There&#39;s still an issue with a single-arg constructor even after registering <code>ParameterNamesModule</code> (see the quote from the documentation). I&#39;ve tested it exhaustively. If constructor has a least 2 arguments, no data-binding annotations required, but with a single-arg constructor deserialization would fail."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1666998574,"creation_date":1666988935,"answer_id":74240573,"question_id":74240442,"body_markdown":"The property `alias` of your `User` is marked as `final`, which means it can&#39;t be initialized through a setter. Because in order to assign a value to the field through a setter it should be already initialized with the default value (`null`, `0`, `false` depending on the type), but `final` variable **can&#39;t be reassigned**.\r\n\r\n**Reminder:** the mechanism which Jackson uses by default is to instantiate the class using *no-args* constructor and then assign the fields via setters. But it can&#39;t be done if one of the fields is `final`, they such fields need to be provided through constructor, because `final` means - &quot;assign only once&quot;.\r\n\r\n&lt;h3&gt;There are two ways to instruct Jackson to use a parametrized constructor:&lt;/h3&gt;\r\n\r\n**1.** The first option is to point at the constructor explicitly by annotating it with [`@JsonCreator`](https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonCreator.html) and apply `@JsonProperty` on each of the constructor arguments as specified in the documentation.\r\n\r\n**2.** Another option is to add a dependency to *Jackson Modules: Java 8* ([link to Maven repository](https://mvnrepository.com/artifact/com.fasterxml.jackson.module/jackson-modules-java8/2.13.3)), which is an umbrella multi-module that consists of several modules including [Parameter names module](https://github.com/FasterXML/jackson-modules-java8/tree/2.14/parameter-names).\r\n\r\nAnd then you need to configure `ObjectMapper`. For that, you need to place `ParameterNamesModule` as a Bean into the Spring&#39;s Context, and it would be grabbed at the application start-up and applied while `ObjectMapper` would be configured.\r\n\r\n    @Bean\r\n    public ParameterNamesModule parameterNamesModule() {\r\n        return new ParameterNamesModule(JsonCreator.Mode.PROPERTIES);\r\n    }\r\n\r\n\r\n\r\nBut there&#39;s a **caveat**. A quote from the documentation of the [`JsonCreator.Mode.PROPERTIES`](https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonCreator.Mode.html#PROPERTIES):\r\n\r\n&gt; Mode that indicates that the argument(s) for creator are to be bound from matching properties of incoming Object value, using creator argument names (explicit or implicit) to match incoming Object properties to arguments.\r\n&gt; \r\n&gt; **Note** that this mode is currently (2.5) always used for\r\n&gt; multiple-argument creators; the **only ambiguous case is that of a\r\n&gt; single-argument creator**.\r\n\r\nI.e. this option would not work if your constructor has **exactly one** argument.\r\n\r\nTo make the Jackson recognize a *single-arg constructor*, you need to apply `@JsonProperty` on the argument.\r\n\r\nThis behavior explained [here](https://github.com/FasterXML/jackson-modules-java8/tree/2.14/parameter-name) and also mentioned in the [module-description](https://github.com/FasterXML/jackson-modules-java8/tree/2.14/parameter-names) at the very bottom of the page:\r\n\r\n&gt; **Preconditions:**\r\n&gt; \r\n&gt; * if class Person has a single argument constructor, its argument needs to be annotated with `@JsonProperty(&quot;propertyName&quot;)`. This is to\r\n&gt; **preserve legacy behavior**","title":"When is a @JsonCreator method required for parsing?","body":"<p>The property <code>alias</code> of your <code>User</code> is marked as <code>final</code>, which means it can't be initialized through a setter. Because in order to assign a value to the field through a setter it should be already initialized with the default value (<code>null</code>, <code>0</code>, <code>false</code> depending on the type), but <code>final</code> variable <strong>can't be reassigned</strong>.</p>\n<p><strong>Reminder:</strong> the mechanism which Jackson uses by default is to instantiate the class using <em>no-args</em> constructor and then assign the fields via setters. But it can't be done if one of the fields is <code>final</code>, they such fields need to be provided through constructor, because <code>final</code> means - &quot;assign only once&quot;.</p>\n<h3>There are two ways to instruct Jackson to use a parametrized constructor:</h3>\n<p><strong>1.</strong> The first option is to point at the constructor explicitly by annotating it with <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonCreator.html\" rel=\"nofollow noreferrer\"><code>@JsonCreator</code></a> and apply <code>@JsonProperty</code> on each of the constructor arguments as specified in the documentation.</p>\n<p><strong>2.</strong> Another option is to add a dependency to <em>Jackson Modules: Java 8</em> (<a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.module/jackson-modules-java8/2.13.3\" rel=\"nofollow noreferrer\">link to Maven repository</a>), which is an umbrella multi-module that consists of several modules including <a href=\"https://github.com/FasterXML/jackson-modules-java8/tree/2.14/parameter-names\" rel=\"nofollow noreferrer\">Parameter names module</a>.</p>\n<p>And then you need to configure <code>ObjectMapper</code>. For that, you need to place <code>ParameterNamesModule</code> as a Bean into the Spring's Context, and it would be grabbed at the application start-up and applied while <code>ObjectMapper</code> would be configured.</p>\n<pre><code>@Bean\npublic ParameterNamesModule parameterNamesModule() {\n    return new ParameterNamesModule(JsonCreator.Mode.PROPERTIES);\n}\n</code></pre>\n<p>But there's a <strong>caveat</strong>. A quote from the documentation of the <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonCreator.Mode.html#PROPERTIES\" rel=\"nofollow noreferrer\"><code>JsonCreator.Mode.PROPERTIES</code></a>:</p>\n<blockquote>\n<p>Mode that indicates that the argument(s) for creator are to be bound from matching properties of incoming Object value, using creator argument names (explicit or implicit) to match incoming Object properties to arguments.</p>\n<p><strong>Note</strong> that this mode is currently (2.5) always used for\nmultiple-argument creators; the <strong>only ambiguous case is that of a\nsingle-argument creator</strong>.</p>\n</blockquote>\n<p>I.e. this option would not work if your constructor has <strong>exactly one</strong> argument.</p>\n<p>To make the Jackson recognize a <em>single-arg constructor</em>, you need to apply <code>@JsonProperty</code> on the argument.</p>\n<p>This behavior explained <a href=\"https://github.com/FasterXML/jackson-modules-java8/tree/2.14/parameter-name\" rel=\"nofollow noreferrer\">here</a> and also mentioned in the <a href=\"https://github.com/FasterXML/jackson-modules-java8/tree/2.14/parameter-names\" rel=\"nofollow noreferrer\">module-description</a> at the very bottom of the page:</p>\n<blockquote>\n<p><strong>Preconditions:</strong></p>\n<ul>\n<li>if class Person has a single argument constructor, its argument needs to be annotated with <code>@JsonProperty(&quot;propertyName&quot;)</code>. This is to\n<strong>preserve legacy behavior</strong></li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":11655491,"reputation":361,"user_id":8543252,"accept_rate":100,"display_name":"IDK"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1264,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74240573,"answer_count":1,"score":1,"last_activity_date":1666998694,"creation_date":1666987987,"question_id":74240442,"body_markdown":"When I try to parse the following object:\r\n\r\n```\r\n@Data\r\npublic final class User implements Serializable {\r\n    @JsonProperty(&quot;alias&quot;)\r\n    private final String alias;\r\n}\r\n```\r\n\r\nI get the error\r\n\r\n```\r\norg.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `microservices.book.multiplication.domain.User` (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `microservices.book.multiplication.domain.User` (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator)&lt;EOL&gt; at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 10]\r\n```\r\n\r\nAnd I solved this by adding a creator to the User class like this:\r\n\r\n```\r\n@Data\r\npublic final class User implements Serializable {\r\n    @JsonProperty(&quot;alias&quot;)\r\n    private final String alias;\r\n\r\n\r\n    @JsonCreator\r\n    public User(@JsonProperty(&quot;alias&quot;) String alias){\r\n        this.alias = alias;\r\n    }\r\n}\r\n\r\n```\r\n\r\nThis works fine. \r\n\r\n\r\n\r\nSo now I go and parse the following object:\r\n\r\n\r\n```\r\n@Data\r\npublic final class Multiplication implements Serializable {\r\n    @JsonProperty(&quot;factorA&quot;)\r\n    private final Integer factorA;\r\n    @JsonProperty(&quot;factorB&quot;)\r\n    private final Integer factorB;\r\n}\r\n```\r\n\r\nand I don&#39;t get an error... why? why it doesn&#39;t require me to use a constructor here?\r\n\r\nHere&#39;s the class where the parsing takes place\r\n\r\n```\r\npackage microservices.book.multiplication.controller;\r\n\r\n\r\nimport com.fasterxml.jackson.core.JsonParser;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport microservices.book.multiplication.domain.Multiplication;\r\nimport microservices.book.multiplication.domain.MultiplicationResultAttempt;\r\nimport microservices.book.multiplication.controller.MultiplicationResultAttemptController.ResultResponse;\r\nimport microservices.book.multiplication.domain.User;\r\nimport microservices.book.multiplication.service.MultiplicationService;\r\nimport org.junit.jupiter.api.BeforeAll;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.TestInstance;\r\nimport org.junit.runner.RunWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\nimport org.springframework.boot.test.json.JacksonTester;\r\nimport org.springframework.boot.test.mock.mockito.MockBean;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.mock.web.MockHttpServletResponse;\r\nimport org.springframework.test.context.junit4.SpringRunner;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\n\r\n\r\n\r\nimport static org.mockito.ArgumentMatchers.any;\r\nimport static org.mockito.BDDMockito.given;\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\n\r\n@RunWith(SpringRunner.class)\r\n@WebMvcTest(MultiplicationResultAttemptController.class)\r\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\npublic class MultiplicationResultAttemptControllerTest {\r\n\r\n    @MockBean\r\n    MultiplicationService multiplicationService;\r\n\r\n    @Autowired\r\n    private MockMvc mvc;\r\n\r\n    private JacksonTester&lt;MultiplicationResultAttempt&gt; jsonResult;\r\n    private JacksonTester&lt;ResultResponse&gt; jsonResponse;\r\n\r\n    @BeforeAll\r\n    void initAll(){\r\n        JacksonTester.initFields(this, new ObjectMapper());\r\n    }\r\n\r\n    @Test\r\n    public void postResultReturnCorrect() throws Exception{\r\n        genericParameterizedTest(true);\r\n    }\r\n\r\n    @Test\r\n    public void postResultReturnNotCorrect() throws Exception{\r\n        genericParameterizedTest(true);\r\n    }\r\n\r\n    void genericParameterizedTest(final Boolean correct) throws Exception{\r\n        given(multiplicationService.checkAttempt(any(MultiplicationResultAttempt.class))).willReturn(correct);\r\n        User user = new User(&quot;Smith&quot;);\r\n        Multiplication multiplication = new Multiplication(50,70);\r\n        MultiplicationResultAttempt attempt = new MultiplicationResultAttempt(user, multiplication, 3500);\r\n\r\n        // when\r\n        MockHttpServletResponse response = mvc.perform(\r\n                post(&quot;/results&quot;).contentType(MediaType.APPLICATION_JSON).\r\n                        content(jsonResult.write(attempt).getJson())).\r\n                andReturn().getResponse();\r\n\r\n        // then\r\n        assertThat(response.getStatus()).isEqualTo(HttpStatus.OK.value());\r\n        assertThat(response.getContentAsString()).isEqualTo(\r\n                jsonResponse.write(new ResultResponse(correct)).getJson());\r\n    }\r\n}\r\n\r\n```","title":"When is a @JsonCreator method required for parsing?","body":"<p>When I try to parse the following object:</p>\n<pre><code>@Data\npublic final class User implements Serializable {\n    @JsonProperty(&quot;alias&quot;)\n    private final String alias;\n}\n</code></pre>\n<p>I get the error</p>\n<pre><code>org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `microservices.book.multiplication.domain.User` (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `microservices.book.multiplication.domain.User` (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator)&lt;EOL&gt; at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 10]\n</code></pre>\n<p>And I solved this by adding a creator to the User class like this:</p>\n<pre><code>@Data\npublic final class User implements Serializable {\n    @JsonProperty(&quot;alias&quot;)\n    private final String alias;\n\n\n    @JsonCreator\n    public User(@JsonProperty(&quot;alias&quot;) String alias){\n        this.alias = alias;\n    }\n}\n\n</code></pre>\n<p>This works fine.</p>\n<p>So now I go and parse the following object:</p>\n<pre><code>@Data\npublic final class Multiplication implements Serializable {\n    @JsonProperty(&quot;factorA&quot;)\n    private final Integer factorA;\n    @JsonProperty(&quot;factorB&quot;)\n    private final Integer factorB;\n}\n</code></pre>\n<p>and I don't get an error... why? why it doesn't require me to use a constructor here?</p>\n<p>Here's the class where the parsing takes place</p>\n<pre><code>package microservices.book.multiplication.controller;\n\n\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport microservices.book.multiplication.domain.Multiplication;\nimport microservices.book.multiplication.domain.MultiplicationResultAttempt;\nimport microservices.book.multiplication.controller.MultiplicationResultAttemptController.ResultResponse;\nimport microservices.book.multiplication.domain.User;\nimport microservices.book.multiplication.service.MultiplicationService;\nimport org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.TestInstance;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.boot.test.json.JacksonTester;\nimport org.springframework.boot.test.mock.mockito.MockBean;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.mock.web.MockHttpServletResponse;\nimport org.springframework.test.context.junit4.SpringRunner;\nimport org.springframework.test.web.servlet.MockMvc;\n\n\n\nimport static org.mockito.ArgumentMatchers.any;\nimport static org.mockito.BDDMockito.given;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;\nimport static org.assertj.core.api.Assertions.assertThat;\n\n@RunWith(SpringRunner.class)\n@WebMvcTest(MultiplicationResultAttemptController.class)\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\npublic class MultiplicationResultAttemptControllerTest {\n\n    @MockBean\n    MultiplicationService multiplicationService;\n\n    @Autowired\n    private MockMvc mvc;\n\n    private JacksonTester&lt;MultiplicationResultAttempt&gt; jsonResult;\n    private JacksonTester&lt;ResultResponse&gt; jsonResponse;\n\n    @BeforeAll\n    void initAll(){\n        JacksonTester.initFields(this, new ObjectMapper());\n    }\n\n    @Test\n    public void postResultReturnCorrect() throws Exception{\n        genericParameterizedTest(true);\n    }\n\n    @Test\n    public void postResultReturnNotCorrect() throws Exception{\n        genericParameterizedTest(true);\n    }\n\n    void genericParameterizedTest(final Boolean correct) throws Exception{\n        given(multiplicationService.checkAttempt(any(MultiplicationResultAttempt.class))).willReturn(correct);\n        User user = new User(&quot;Smith&quot;);\n        Multiplication multiplication = new Multiplication(50,70);\n        MultiplicationResultAttempt attempt = new MultiplicationResultAttempt(user, multiplication, 3500);\n\n        // when\n        MockHttpServletResponse response = mvc.perform(\n                post(&quot;/results&quot;).contentType(MediaType.APPLICATION_JSON).\n                        content(jsonResult.write(attempt).getJson())).\n                andReturn().getResponse();\n\n        // then\n        assertThat(response.getStatus()).isEqualTo(HttpStatus.OK.value());\n        assertThat(response.getContentAsString()).isEqualTo(\n                jsonResponse.write(new ResultResponse(correct)).getJson());\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","amazon-s3","junit"],"comments":[{"owner":{"account_id":1901481,"reputation":2745,"user_id":1717259,"accept_rate":100,"display_name":"user1717259"},"score":0,"creation_date":1666193582,"post_id":74127371,"comment_id":130879200,"body_markdown":"You&#39;ll get more information if you add the causing Exception to the RuntimeException: `throw new RuntimeException(&quot;Failed to convert multipartFile to File&quot;, e);`","body":"You&#39;ll get more information if you add the causing Exception to the RuntimeException: <code>throw new RuntimeException(&quot;Failed to convert multipartFile to File&quot;, e);</code>"},{"owner":{"account_id":1901481,"reputation":2745,"user_id":1717259,"accept_rate":100,"display_name":"user1717259"},"score":0,"creation_date":1666193783,"post_id":74127371,"comment_id":130879282,"body_markdown":"We need to see what exception is thrown when that line is called.","body":"We need to see what exception is thrown when that line is called."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1666194067,"post_id":74127371,"comment_id":130879397,"body_markdown":"@user1717259 I also defined `MockMultipartFile uploadFile = new MockMultipartFile(&quot;json&quot;,\n                &quot;&quot;,\n                &quot;application/json&quot;,\n                &quot;{\\&quot;image\\&quot;: \\&quot;C:\\\\Users\\\\MyUsername\\\\Pictures\\\\Sample Pictures\\\\Penguins.jpg\\&quot;}&quot;.getBytes()\n        );` But it didn&#39;t work.","body":"@user1717259 I also defined <code>MockMultipartFile uploadFile = new MockMultipartFile(&quot;json&quot;,                 &quot;&quot;,                 &quot;application&#47;json&quot;,                 &quot;{\\&quot;image\\&quot;: \\&quot;C:\\\\Users\\\\MyUsername\\\\Pictures\\\\Sample Pictures\\\\Penguins.jpg\\&quot;}&quot;.getBytes()         );</code> But it didn&#39;t work."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1666198088,"post_id":74127371,"comment_id":130880794,"body_markdown":"@user1717259 How can I mock `service.saveImage(bookId, uploadImg)`","body":"@user1717259 How can I mock <code>service.saveImage(bookId, uploadImg)</code>"}],"answers":[{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666997554,"creation_date":1666997554,"answer_id":74241604,"question_id":74127371,"body_markdown":"Here is the solution shown below.\r\n\r\n    @Test\r\n        void itShouldGetImagePath_WhenValidBookIdAndFile() throws Exception{\r\n    \r\n            // given - precondition or setup\r\n            String bookId = &quot;1&quot;;\r\n            String imagePath = &quot;amazon-imagepath&quot;;\r\n            String baseUrl = String.format(imagePath + &quot;/%s&quot;, bookId);\r\n    \r\n            Long bookIdValue = 1L;\r\n    \r\n            String fileName = &quot;sample.png&quot;;\r\n            MockMultipartFile uploadFile =\r\n                    new MockMultipartFile(&quot;file&quot;, fileName, &quot;image/png&quot;, &quot;Some bytes&quot;.getBytes());\r\n    \r\n            // when -  action or the behaviour that we are going test\r\n            when(imageStoreService.uploadImg(convert(uploadFile), bookIdValue)).thenReturn(baseUrl);\r\n            doNothing().when(bookSaveService).saveImage(bookIdValue,baseUrl);\r\n    \r\n            // then - verify the output\r\n            mvc.perform(MockMvcRequestBuilders.multipart(&quot;/api/v1/bookImage&quot;)\r\n                            .file(uploadFile)\r\n                            .param(&quot;bookId&quot;, bookId))\r\n                    .andDo(print())\r\n                    .andExpect(status().isOk())\r\n                    .andExpect(jsonPath(&quot;$&quot;).value(baseUrl))\r\n                    .andExpect(content().string(baseUrl));\r\n    \r\n        }","title":"How to write JUnit Test for uploading Image in Amazon S3 in Spring Boot","body":"<p>Here is the solution shown below.</p>\n<pre><code>@Test\n    void itShouldGetImagePath_WhenValidBookIdAndFile() throws Exception{\n\n        // given - precondition or setup\n        String bookId = &quot;1&quot;;\n        String imagePath = &quot;amazon-imagepath&quot;;\n        String baseUrl = String.format(imagePath + &quot;/%s&quot;, bookId);\n\n        Long bookIdValue = 1L;\n\n        String fileName = &quot;sample.png&quot;;\n        MockMultipartFile uploadFile =\n                new MockMultipartFile(&quot;file&quot;, fileName, &quot;image/png&quot;, &quot;Some bytes&quot;.getBytes());\n\n        // when -  action or the behaviour that we are going test\n        when(imageStoreService.uploadImg(convert(uploadFile), bookIdValue)).thenReturn(baseUrl);\n        doNothing().when(bookSaveService).saveImage(bookIdValue,baseUrl);\n\n        // then - verify the output\n        mvc.perform(MockMvcRequestBuilders.multipart(&quot;/api/v1/bookImage&quot;)\n                        .file(uploadFile)\n                        .param(&quot;bookId&quot;, bookId))\n                .andDo(print())\n                .andExpect(status().isOk())\n                .andExpect(jsonPath(&quot;$&quot;).value(baseUrl))\n                .andExpect(content().string(baseUrl));\n\n    }\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":562,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74241604,"answer_count":1,"score":0,"last_activity_date":1666997554,"creation_date":1666190605,"question_id":74127371,"body_markdown":"I have a problem about writing a test to upload Image in Amazon s3 in Spring Boot.\r\n\r\nI tried to write its test method but I got an error shown below.\r\n\r\nHow can I fix it?\r\n\r\nHere is the method of Rest controller\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/v1/bookImage&quot;)\r\n    @RequiredArgsConstructor\r\n    public class ImageRestController {\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;String&gt; uploadImage(@RequestParam(&quot;bookId&quot;) Long bookId, @RequestParam(&quot;file&quot;) MultipartFile file) {\r\n        final String uploadImg = imageStoreService.uploadImg(convert(file), bookId);\r\n        service.saveImage(bookId, uploadImg);\r\n        return ResponseEntity.ok(uploadImg);\r\n    }\r\n    \r\n    private File convert(final MultipartFile multipartFile) {\r\n       // convert multipartFile to File\r\n       File file = new File(Objects.requireNonNull(multipartFile.getOriginalFilename()));\r\n       try (FileOutputStream fos = new FileOutputStream(file)) {\r\n           fos.write(multipartFile.getBytes());\r\n           return file;\r\n       } catch (IOException e) {\r\n          throw new RuntimeException(&quot;Failed to convert multipartFile to File&quot;);\r\n       }\r\n    }\r\n\r\n\r\nHere is the method of imageService.\r\n\r\n    public String uploadImg(File file, Long bookId) {\r\n       s3amazon.putObject(BUCKET_NAME, bookId.toString(), file);\r\n       return baseUrl + bookId;\r\n    }\r\n\r\n\r\nHere is the test method shown below.\r\n\r\n    @Test\r\n        void itShouldGetImagePath_WhenValidBookIdAndFile() throws Exception{\r\n    \r\n            // given - precondition or setup\r\n            String bookId = &quot;1&quot;;\r\n            String imagePath = &quot;amazon-imagepath&quot;;\r\n            String baseUrl = String.format(imagePath + &quot;/%s&quot;, bookId);\r\n    \r\n            Long bookIdValue = 1L;\r\n    \r\n            MockMultipartFile uploadFile = new MockMultipartFile(&quot;file&quot;, new byte[1]);\r\n    \r\n    \r\n            // when -  action or the behaviour that we are going test\r\n            when(imageStoreService.uploadImg(convert(uploadFile), bookIdValue)).thenReturn(baseUrl); -&gt; HERE IS THE ERROR\r\n    \r\n            // then - verify the output\r\n            mvc.perform(MockMvcRequestBuilders.multipart(&quot;/api/v1/bookImage&quot;)\r\n                            .file(uploadFile)\r\n                            .param(&quot;bookId&quot;, bookId))\r\n                    .andExpect((ResultMatcher) content().string(baseUrl))\r\n                    .andExpect(status().isOk());\r\n    \r\n        }\r\n    \r\n        private File convert(final MultipartFile multipartFile) {\r\n            // convert multipartFile to File\r\n            File file = new File(Objects.requireNonNull(multipartFile.getOriginalFilename()));\r\n            try (FileOutputStream fos = new FileOutputStream(file)) {\r\n                fos.write(multipartFile.getBytes());\r\n                return file;\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(&quot;Failed to convert multipartFile to File&quot;);\r\n            }\r\n        }\r\n\r\nHere is the error : `Failed to convert multipartFile to File (java.lang.RuntimeException: Failed to convert multipartFile to Filejava.io.FileNotFoundException:  )`\r\n\r\nHow can I fix it?","title":"How to write JUnit Test for uploading Image in Amazon S3 in Spring Boot","body":"<p>I have a problem about writing a test to upload Image in Amazon s3 in Spring Boot.</p>\n<p>I tried to write its test method but I got an error shown below.</p>\n<p>How can I fix it?</p>\n<p>Here is the method of Rest controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v1/bookImage&quot;)\n@RequiredArgsConstructor\npublic class ImageRestController {\n\n@PostMapping\npublic ResponseEntity&lt;String&gt; uploadImage(@RequestParam(&quot;bookId&quot;) Long bookId, @RequestParam(&quot;file&quot;) MultipartFile file) {\n    final String uploadImg = imageStoreService.uploadImg(convert(file), bookId);\n    service.saveImage(bookId, uploadImg);\n    return ResponseEntity.ok(uploadImg);\n}\n\nprivate File convert(final MultipartFile multipartFile) {\n   // convert multipartFile to File\n   File file = new File(Objects.requireNonNull(multipartFile.getOriginalFilename()));\n   try (FileOutputStream fos = new FileOutputStream(file)) {\n       fos.write(multipartFile.getBytes());\n       return file;\n   } catch (IOException e) {\n      throw new RuntimeException(&quot;Failed to convert multipartFile to File&quot;);\n   }\n}\n</code></pre>\n<p>Here is the method of imageService.</p>\n<pre><code>public String uploadImg(File file, Long bookId) {\n   s3amazon.putObject(BUCKET_NAME, bookId.toString(), file);\n   return baseUrl + bookId;\n}\n</code></pre>\n<p>Here is the test method shown below.</p>\n<pre><code>@Test\n    void itShouldGetImagePath_WhenValidBookIdAndFile() throws Exception{\n\n        // given - precondition or setup\n        String bookId = &quot;1&quot;;\n        String imagePath = &quot;amazon-imagepath&quot;;\n        String baseUrl = String.format(imagePath + &quot;/%s&quot;, bookId);\n\n        Long bookIdValue = 1L;\n\n        MockMultipartFile uploadFile = new MockMultipartFile(&quot;file&quot;, new byte[1]);\n\n\n        // when -  action or the behaviour that we are going test\n        when(imageStoreService.uploadImg(convert(uploadFile), bookIdValue)).thenReturn(baseUrl); -&gt; HERE IS THE ERROR\n\n        // then - verify the output\n        mvc.perform(MockMvcRequestBuilders.multipart(&quot;/api/v1/bookImage&quot;)\n                        .file(uploadFile)\n                        .param(&quot;bookId&quot;, bookId))\n                .andExpect((ResultMatcher) content().string(baseUrl))\n                .andExpect(status().isOk());\n\n    }\n\n    private File convert(final MultipartFile multipartFile) {\n        // convert multipartFile to File\n        File file = new File(Objects.requireNonNull(multipartFile.getOriginalFilename()));\n        try (FileOutputStream fos = new FileOutputStream(file)) {\n            fos.write(multipartFile.getBytes());\n            return file;\n        } catch (IOException e) {\n            throw new RuntimeException(&quot;Failed to convert multipartFile to File&quot;);\n        }\n    }\n</code></pre>\n<p>Here is the error : <code>Failed to convert multipartFile to File (java.lang.RuntimeException: Failed to convert multipartFile to Filejava.io.FileNotFoundException:  )</code></p>\n<p>How can I fix it?</p>\n"},{"tags":["java","constructor"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1666996985,"post_id":74241531,"comment_id":131074640,"body_markdown":"When you call the one that takes no arguments, that one calls the one that takes 2 arguments, via `this(0, 0)`. So `new BankAccount()` ends up incrementing the count twice. Remove `numberOfAccounts++;` from the first constructor, then it will work how you expect","body":"When you call the one that takes no arguments, that one calls the one that takes 2 arguments, via <code>this(0, 0)</code>. So <code>new BankAccount()</code> ends up incrementing the count twice. Remove <code>numberOfAccounts++;</code> from the first constructor, then it will work how you expect"},{"owner":{"account_id":14989806,"reputation":11,"user_id":10821328,"display_name":"Jamal Harb"},"score":0,"creation_date":1666997653,"post_id":74241531,"comment_id":131074758,"body_markdown":"@Michael Now I understand the problem. Thanks. It worked as expected.","body":"@Michael Now I understand the problem. Thanks. It worked as expected."}],"answers":[{"tags":[],"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666997020,"creation_date":1666997020,"answer_id":74241559,"question_id":74241531,"body_markdown":"This is your problem:\r\n\r\n    public BankAccount() {\r\n        this(0, 0);\r\n        numberOfAccounts++; // &lt;&lt;&lt;&lt;&lt;\r\n    }\r\n\r\nThe explicit call to the other constructor `BankAccount(double, double)` increments `numberOfAccounts`.  Then you increment it again.\r\n\r\nDelete the line marked &#39;&lt;&lt;&lt;&lt;&#39;.\r\n\r\nIn answer to the question in the title:\r\n\r\n&gt; How many times is a constructor called when it&#39;s overloaded?\r\n\r\nThere is an explicit call to a constructor in your main program - so &#39;once&#39;.  But you then wrote code in that constructor to call another constructor.  That is entirely under your control.\r\n","title":"How many times is a constructor called when it&#39;s overloaded?","body":"<p>This is your problem:</p>\n<pre><code>public BankAccount() {\n    this(0, 0);\n    numberOfAccounts++; // &lt;&lt;&lt;&lt;&lt;\n}\n</code></pre>\n<p>The explicit call to the other constructor <code>BankAccount(double, double)</code> increments <code>numberOfAccounts</code>.  Then you increment it again.</p>\n<p>Delete the line marked '&lt;&lt;&lt;&lt;'.</p>\n<p>In answer to the question in the title:</p>\n<blockquote>\n<p>How many times is a constructor called when it's overloaded?</p>\n</blockquote>\n<p>There is an explicit call to a constructor in your main program - so 'once'.  But you then wrote code in that constructor to call another constructor.  That is entirely under your control.</p>\n"},{"comments":[{"owner":{"account_id":14989806,"reputation":11,"user_id":10821328,"display_name":"Jamal Harb"},"score":0,"creation_date":1666998169,"post_id":74241573,"comment_id":131074832,"body_markdown":"You are right in this case. But what if I want to assign other values than 0? The main problem is `numberOfAccounts++` in the constructor with no arguments. Thanks anyway.","body":"You are right in this case. But what if I want to assign other values than 0? The main problem is <code>numberOfAccounts++</code> in the constructor with no arguments. Thanks anyway."}],"tags":[],"owner":{"account_id":19006905,"reputation":64,"user_id":18322491,"display_name":"MatErW3len"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666997178,"creation_date":1666997178,"answer_id":74241573,"question_id":74241531,"body_markdown":"The ```this()``` refers to a constructor of the class itself. You can use ```this()``` to call the constructor from within the class. In your example, your constructor of signature ```BankAccount()``` can be referred from within the class as ```this()``` and ```BankAccount(double, double)``` from ```this(double, double)``` signatures. When you instantiate a BankAccount object with ```BankAccount()``` it calls the ```BankAccount(double, double)``` which increments numberOfAccounts. Then your caller ```BankAccount()``` also increments numberOfAccounts. To fix this, simply remove ```this(0,0)``` from the first constructor. You do not need to initialize the members to 0 because Java does that for you","title":"How many times is a constructor called when it&#39;s overloaded?","body":"<p>The <code>this()</code> refers to a constructor of the class itself. You can use <code>this()</code> to call the constructor from within the class. In your example, your constructor of signature <code>BankAccount()</code> can be referred from within the class as <code>this()</code> and <code>BankAccount(double, double)</code> from <code>this(double, double)</code> signatures. When you instantiate a BankAccount object with <code>BankAccount()</code> it calls the <code>BankAccount(double, double)</code> which increments numberOfAccounts. Then your caller <code>BankAccount()</code> also increments numberOfAccounts. To fix this, simply remove <code>this(0,0)</code> from the first constructor. You do not need to initialize the members to 0 because Java does that for you</p>\n"}],"owner":{"account_id":14989806,"reputation":11,"user_id":10821328,"display_name":"Jamal Harb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74241559,"answer_count":2,"score":-1,"last_activity_date":1666997178,"creation_date":1666996751,"question_id":74241531,"body_markdown":"`BankAccount.java`\r\n```\r\npublic class BankAccount {\r\n    private double checkingBalance;\r\n    private double savingBalance;\r\n    private static int numberOfAccounts;\r\n\r\n    public BankAccount() {\r\n        this(0, 0);\r\n        numberOfAccounts++;\r\n    }\r\n    public BankAccount(double checkingInitial, double savingInitial) {\r\n        this.checkingBalance = checkingInitial;\r\n        this.savingBalance = savingInitial;\r\n        numberOfAccounts++;\r\n    }\r\n\r\n    public static int getNumberOfAccounts() {\r\n        return numberOfAccounts;\r\n    }\r\n ```\r\n`Test.java`\r\n```\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        BankAccount account1 = new BankAccount(50, 50);\r\n        BankAccount account2 = new BankAccount(100, 80);\r\n        BankAccount account3 = new BankAccount();\r\n\r\n        System.out.println(&quot;number of accounts is &quot; + BankAccount.getNumberOfAccounts());\r\n```\r\nI should get `number of accounts is 3` but I&#39;m getting 4. If I instantiate all accounts with the parametrized constuctor, I get 3. If I add `BankAccount account4 = new BankAccount();`, I get 6. Is the default constructor called twice?","title":"How many times is a constructor called when it&#39;s overloaded?","body":"<p><code>BankAccount.java</code></p>\n<pre><code>public class BankAccount {\n    private double checkingBalance;\n    private double savingBalance;\n    private static int numberOfAccounts;\n\n    public BankAccount() {\n        this(0, 0);\n        numberOfAccounts++;\n    }\n    public BankAccount(double checkingInitial, double savingInitial) {\n        this.checkingBalance = checkingInitial;\n        this.savingBalance = savingInitial;\n        numberOfAccounts++;\n    }\n\n    public static int getNumberOfAccounts() {\n        return numberOfAccounts;\n    }\n</code></pre>\n<p><code>Test.java</code></p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        BankAccount account1 = new BankAccount(50, 50);\n        BankAccount account2 = new BankAccount(100, 80);\n        BankAccount account3 = new BankAccount();\n\n        System.out.println(&quot;number of accounts is &quot; + BankAccount.getNumberOfAccounts());\n</code></pre>\n<p>I should get <code>number of accounts is 3</code> but I'm getting 4. If I instantiate all accounts with the parametrized constuctor, I get 3. If I add <code>BankAccount account4 = new BankAccount();</code>, I get 6. Is the default constructor called twice?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":23665009,"reputation":88,"user_id":17692595,"display_name":"Roggi"},"score":0,"creation_date":1666993945,"post_id":74240938,"comment_id":131074150,"body_markdown":"Have you tried to use `entityManager.getTransaction().beginTransaction()`?","body":"Have you tried to use <code>entityManager.getTransaction().beginTransaction()</code>?"},{"owner":{"account_id":26496663,"reputation":33,"user_id":20134306,"display_name":"Rosh343"},"score":0,"creation_date":1666994399,"post_id":74240938,"comment_id":131074214,"body_markdown":"I did, but I didn&#39;t know where to put the rest of the code, for example the create query, it is giving me an error saying `void cannot be dereferenced: `  I&#39;m putting it like this: `entityManager.getTransaction().begin()\n                .createNativeQuery(query)\n                .setParameter(&quot;tableName&quot;, tableName)\n                .executeUpdate();`","body":"I did, but I didn&#39;t know where to put the rest of the code, for example the create query, it is giving me an error saying <code>void cannot be dereferenced: </code>  I&#39;m putting it like this: <code>entityManager.getTransaction().begin()                 .createNativeQuery(query)                 .setParameter(&quot;tableName&quot;, tableName)                 .executeUpdate();</code>"},{"owner":{"account_id":11389854,"reputation":6032,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1666997995,"post_id":74240938,"comment_id":131074808,"body_markdown":"Also could you provide full stacktrace, please?","body":"Also could you provide full stacktrace, please?"},{"owner":{"account_id":26496663,"reputation":33,"user_id":20134306,"display_name":"Rosh343"},"score":1,"creation_date":1666999734,"post_id":74240938,"comment_id":131075048,"body_markdown":"It is just starting the SpringBoot application and then verify a user from the database, and then, it prints the system out print I put on the method above and after that I get the error, after adding some lines: `Table name: t_cdr_1666971034226\n2022-10-28 18:24:39.164 ERROR 25188 --- [nio-8080-exec-4] c.s.t.c.f.CustomAuthorizationFilter      : Error logging in: Request processing failed; nested exception is java.lang.IllegalStateEx`","body":"It is just starting the SpringBoot application and then verify a user from the database, and then, it prints the system out print I put on the method above and after that I get the error, after adding some lines: <code>Table name: t_cdr_1666971034226 2022-10-28 18:24:39.164 ERROR 25188 --- [nio-8080-exec-4] c.s.t.c.f.CustomAuthorizationFilter      : Error logging in: Request processing failed; nested exception is java.lang.IllegalStateEx</code>"},{"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"score":0,"creation_date":1667041292,"post_id":74240938,"comment_id":131079747,"body_markdown":"I guess, that your architecture is not good. You should never drop/create a table in a normal workflow. Consider to delete all rows instead or use foreign keys with cascade delete.","body":"I guess, that your architecture is not good. You should never drop/create a table in a normal workflow. Consider to delete all rows instead or use foreign keys with cascade delete."},{"owner":{"account_id":26496663,"reputation":33,"user_id":20134306,"display_name":"Rosh343"},"score":0,"creation_date":1667074493,"post_id":74240938,"comment_id":131086305,"body_markdown":"what happens is that we need to delete some tables from the database as there is a process for downloading some .xls files that create a table every time the file is generated, what I&#39;m trying to do when I delete the row of a table is to also DROP the tables that have been created on the database that can be a lot of them. @akop","body":"what happens is that we need to delete some tables from the database as there is a process for downloading some .xls files that create a table every time the file is generated, what I&#39;m trying to do when I delete the row of a table is to also DROP the tables that have been created on the database that can be a lot of them. @akop"},{"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"score":0,"creation_date":1667114301,"post_id":74240938,"comment_id":131090910,"body_markdown":"It also doesn&#39;t  sounds right, that a download creates a table. This will not scale very well and has the potential to cause more problems, because databases are not designed to change their schema so often.","body":"It also doesn&#39;t  sounds right, that a download creates a table. This will not scale very well and has the potential to cause more problems, because databases are not designed to change their schema so often."},{"owner":{"account_id":26496663,"reputation":33,"user_id":20134306,"display_name":"Rosh343"},"score":0,"creation_date":1667173313,"post_id":74240938,"comment_id":131101969,"body_markdown":"Oh I see, that&#39;s good to know! But in the case that you need to do it, how would you answer the question above?","body":"Oh I see, that&#39;s good to know! But in the case that you need to do it, how would you answer the question above?"}],"answers":[{"comments":[{"owner":{"account_id":26496663,"reputation":33,"user_id":20134306,"display_name":"Rosh343"},"score":0,"creation_date":1666997028,"post_id":74241296,"comment_id":131074649,"body_markdown":"So it means that by using native query, I can perform any action into the database from anywhere just by declaring the statement with the Entity Manager?\n\nI&#39;m trying the SQL string in that way and it is giving me the following error: `nested exception is java.lang.IllegalArgumentException: Could not locate named parameter [tableName], expecting one of []`","body":"So it means that by using native query, I can perform any action into the database from anywhere just by declaring the statement with the Entity Manager?  I&#39;m trying the SQL string in that way and it is giving me the following error: <code>nested exception is java.lang.IllegalArgumentException: Could not locate named parameter [tableName], expecting one of []</code>"},{"owner":{"account_id":11389854,"reputation":6032,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1666998778,"post_id":74241296,"comment_id":131074927,"body_markdown":"The ideal way to do so is create a repository for the entity/table and autowire it in the targeted class.\n\nComing to the native query part, you need to use below annotation in the repository above the method. `@Query(isNativeQuery=true, &quot;Normal sql query&quot;)`","body":"The ideal way to do so is create a repository for the entity/table and autowire it in the targeted class.  Coming to the native query part, you need to use below annotation in the repository above the method. <code>@Query(isNativeQuery=true, &quot;Normal sql query&quot;)</code>"},{"owner":{"account_id":26496663,"reputation":33,"user_id":20134306,"display_name":"Rosh343"},"score":0,"creation_date":1666999424,"post_id":74241296,"comment_id":131075006,"body_markdown":"Yeah, what happens is that we need to delete some tables from the database as there is a process for downloading some .xls files that create a table every time the file is generated, what I&#39;m trying to do when I delete the row of a table is to also DROP the tables that have been created, but I&#39;m not sure if I can delete any table from the Database within the repository of a single table entity, or is there a better way perform this action to drop tables from the database?","body":"Yeah, what happens is that we need to delete some tables from the database as there is a process for downloading some .xls files that create a table every time the file is generated, what I&#39;m trying to do when I delete the row of a table is to also DROP the tables that have been created, but I&#39;m not sure if I can delete any table from the Database within the repository of a single table entity, or is there a better way perform this action to drop tables from the database?"},{"owner":{"account_id":11389854,"reputation":6032,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1667003435,"post_id":74241296,"comment_id":131075441,"body_markdown":"If you write :tableName your database expects a parameter called &quot;tableName&quot; but you don&#39;t provide it, so just append the tableName to the string without the : or provide the parameter (don&#39;t know the API method for this)","body":"If you write :tableName your database expects a parameter called &quot;tableName&quot; but you don&#39;t provide it, so just append the tableName to the string without the : or provide the parameter (don&#39;t know the API method for this)"},{"owner":{"account_id":26496663,"reputation":33,"user_id":20134306,"display_name":"Rosh343"},"score":0,"creation_date":1667004756,"post_id":74241296,"comment_id":131075595,"body_markdown":"Oh, I see! If I&#39;m trying to pass the name of the table I want to drop through an argument, should I append it or pass it as a parameter? the statement would be: DROP TABLE (name of the table), I&#39;m trying to pass the name of the table I want to drop to that part of the sql sentence.","body":"Oh, I see! If I&#39;m trying to pass the name of the table I want to drop through an argument, should I append it or pass it as a parameter? the statement would be: DROP TABLE (name of the table), I&#39;m trying to pass the name of the table I want to drop to that part of the sql sentence."}],"tags":[],"owner":{"account_id":11389854,"reputation":6032,"user_id":8370915,"display_name":"invzbl3"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666995265,"creation_date":1666994269,"answer_id":74241296,"question_id":74240938,"body_markdown":"A native query literally means &quot;execute this SQL statement on the database&quot;, but you are trying to use JPL or something else with variable expansion.\r\n\r\nyour SQL string is invalid, try:\r\n\r\n    String query = &quot;DROP TABLE &quot; + tablename;\r\n    \r\n    entityManager.executeNativeQuery(query);","title":"How can I execute a native query to the database from any class in a Java SpringBoot project?","body":"<p>A native query literally means &quot;execute this SQL statement on the database&quot;, but you are trying to use JPL or something else with variable expansion.</p>\n<p>your SQL string is invalid, try:</p>\n<pre><code>String query = &quot;DROP TABLE &quot; + tablename;\n\nentityManager.executeNativeQuery(query);\n</code></pre>\n"}],"owner":{"account_id":26496663,"reputation":33,"user_id":20134306,"display_name":"Rosh343"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":319,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1666995265,"creation_date":1666991312,"question_id":74240938,"body_markdown":"I&#39;m trying to drop a table when deleting a record in the database, but it is giving me the following error: \r\n\r\n    Error logging in: Request processing failed; nested exception is javax.persistence.TransactionRequiredException: Executing an update/delete query\r\n\r\nI have read couple of articles and even some questions in Stack overflow, this one [Question about the error][1]but none of the answers are working, the one I see that might help the most is adding the note `@Transactional` which I put over the method `executeDropTable()` but it is giving me the same error., this is my code:\r\n\r\n    package com.ssc.test.cb3.service;\r\n\r\n    import com.ssc.test.cb3.dto.ReportRequestDTO;\r\n    import com.ssc.test.cb3.dto.mapper.ReportRequestMapper;\r\n    import com.ssc.test.cb3.repository.ReportRequestRepository;\r\n    import java.util.List;\r\n    import org.springframework.stereotype.Service;\r\n    import com.ssc.test.cb3.model.ReportRequest;\r\n    import com.ssc.test.cb3.repository.ReportTableRepository;\r\n    import java.util.Map;\r\n    import javax.persistence.EntityManager;\r\n    import lombok.RequiredArgsConstructor;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n\r\n\r\n    /**\r\n     * Class to prepare the services to be dispatched to the database upon request.\r\n     *\r\n     * @author ssc\r\n     */\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    @Slf4j\r\n    public class ReportRequestService {\r\n\r\n        private final ReportRequestRepository reportRequestRepository;\r\n        private final EntityManager entityManager;\r\n        private final ReportTableRepository reportTableRepository;\r\n        private static String SERVER_LOCATION = &quot;D:\\\\JavaProjectsNetBeans\\\\sscb3Test\\\\src\\\\main\\\\resources\\\\&quot;;\r\n\r\n        \r\n        /**\r\n         * Function to delete a report from the database\r\n         *\r\n         * @param id from the report request objet to identify what is the specific\r\n         * report\r\n         */\r\n        public void delete(int id) {\r\n\r\n            ReportRequest reportRequest = reportRequestRepository.findById(id).orElse(null);\r\n            ReportTable reportTable = \r\n            String fileName = reportRequest.getFileName();\r\n            if (reportRequest == null || reportRequest.getStatus() == 1) {\r\n                log.error(&quot;It was not possible to delete the selected report as it hasn&#39;t been processed yet or it was not found&quot;);\r\n            } else {\r\n                reportRequestRepository.deleteById(id);\r\n                log.info(&quot;The report request {} was successfully deleted&quot;, id);\r\n                new File(SERVER_LOCATION + reportRequest.getFileName()).delete(); // Delete file\r\n                log.info(&quot;The file {} was successfully deleted from the server&quot;, fileName);\r\n                // DROP created tables with file name without extention\r\n                executeDropTable(fileName);\r\n                log.info(&quot;The table {} was successfully deleted from the data base&quot;, fileName);\r\n                \r\n\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Service to Drop report request tables created on the database when a\r\n         * report request is generated and serviced to be downloaded This method\r\n         * will be called when a user deletes in the fron-end a report request in\r\n         * finished status.\r\n         *\r\n         * @param tableName will be the name of the table that was created on the\r\n         * database\r\n         */\r\n        @Transactional\r\n        public void executeDropTable(String tableName) {\r\n            int substract = 4;\r\n            tableName = tableName.substring(0, tableName.length() - substract);\r\n            System.out.println(&quot;Table name: &quot; + tableName);\r\n\r\n            String query = &quot;DROP TABLE :tableName&quot;; // IF EXISTS\r\n            entityManager.createNativeQuery(query)\r\n                    .setParameter(&quot;tableName&quot;, tableName)\r\n                    .executeUpdate();\r\n        }\r\n\r\n    }\r\n\r\nCan anyone please help me to sort this out?\r\n\r\n  [1]: https://stackoverflow.com/questions/25821579/transactionrequiredexception-executing-an-update-delete-query","title":"How can I execute a native query to the database from any class in a Java SpringBoot project?","body":"<p>I'm trying to drop a table when deleting a record in the database, but it is giving me the following error:</p>\n<pre><code>Error logging in: Request processing failed; nested exception is javax.persistence.TransactionRequiredException: Executing an update/delete query\n</code></pre>\n<p>I have read couple of articles and even some questions in Stack overflow, this one <a href=\"https://stackoverflow.com/questions/25821579/transactionrequiredexception-executing-an-update-delete-query\">Question about the error</a>but none of the answers are working, the one I see that might help the most is adding the note <code>@Transactional</code> which I put over the method <code>executeDropTable()</code> but it is giving me the same error., this is my code:</p>\n<pre><code>package com.ssc.test.cb3.service;\n\nimport com.ssc.test.cb3.dto.ReportRequestDTO;\nimport com.ssc.test.cb3.dto.mapper.ReportRequestMapper;\nimport com.ssc.test.cb3.repository.ReportRequestRepository;\nimport java.util.List;\nimport org.springframework.stereotype.Service;\nimport com.ssc.test.cb3.model.ReportRequest;\nimport com.ssc.test.cb3.repository.ReportTableRepository;\nimport java.util.Map;\nimport javax.persistence.EntityManager;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.transaction.annotation.Transactional;\n\n\n/**\n * Class to prepare the services to be dispatched to the database upon request.\n *\n * @author ssc\n */\n@Service\n@RequiredArgsConstructor\n@Slf4j\npublic class ReportRequestService {\n\n    private final ReportRequestRepository reportRequestRepository;\n    private final EntityManager entityManager;\n    private final ReportTableRepository reportTableRepository;\n    private static String SERVER_LOCATION = &quot;D:\\\\JavaProjectsNetBeans\\\\sscb3Test\\\\src\\\\main\\\\resources\\\\&quot;;\n\n    \n    /**\n     * Function to delete a report from the database\n     *\n     * @param id from the report request objet to identify what is the specific\n     * report\n     */\n    public void delete(int id) {\n\n        ReportRequest reportRequest = reportRequestRepository.findById(id).orElse(null);\n        ReportTable reportTable = \n        String fileName = reportRequest.getFileName();\n        if (reportRequest == null || reportRequest.getStatus() == 1) {\n            log.error(&quot;It was not possible to delete the selected report as it hasn't been processed yet or it was not found&quot;);\n        } else {\n            reportRequestRepository.deleteById(id);\n            log.info(&quot;The report request {} was successfully deleted&quot;, id);\n            new File(SERVER_LOCATION + reportRequest.getFileName()).delete(); // Delete file\n            log.info(&quot;The file {} was successfully deleted from the server&quot;, fileName);\n            // DROP created tables with file name without extention\n            executeDropTable(fileName);\n            log.info(&quot;The table {} was successfully deleted from the data base&quot;, fileName);\n            \n\n        }\n    }\n\n    /**\n     * Service to Drop report request tables created on the database when a\n     * report request is generated and serviced to be downloaded This method\n     * will be called when a user deletes in the fron-end a report request in\n     * finished status.\n     *\n     * @param tableName will be the name of the table that was created on the\n     * database\n     */\n    @Transactional\n    public void executeDropTable(String tableName) {\n        int substract = 4;\n        tableName = tableName.substring(0, tableName.length() - substract);\n        System.out.println(&quot;Table name: &quot; + tableName);\n\n        String query = &quot;DROP TABLE :tableName&quot;; // IF EXISTS\n        entityManager.createNativeQuery(query)\n                .setParameter(&quot;tableName&quot;, tableName)\n                .executeUpdate();\n    }\n\n}\n</code></pre>\n<p>Can anyone please help me to sort this out?</p>\n"},{"tags":["java","android","image","location"],"answers":[{"comments":[{"owner":{"account_id":19627285,"reputation":3,"user_id":14366355,"display_name":"Batflash"},"score":0,"creation_date":1666891069,"post_id":74225862,"comment_id":131047941,"body_markdown":"Yeah, it now makes sense that the EXIF didn&#39;t work. What if I set exif tags to the image when it&#39;s being saved, then get the tags, would that work?","body":"Yeah, it now makes sense that the EXIF didn&#39;t work. What if I set exif tags to the image when it&#39;s being saved, then get the tags, would that work?"},{"owner":{"account_id":19627285,"reputation":3,"user_id":14366355,"display_name":"Batflash"},"score":0,"creation_date":1666891172,"post_id":74225862,"comment_id":131047966,"body_markdown":"Or what if I still use the current location and hve that saved with the image name, so the location would be of the phone now, and would be saved, so when displaying it, the saved location would be visible, am I making sense?","body":"Or what if I still use the current location and hve that saved with the image name, so the location would be of the phone now, and would be saved, so when displaying it, the saved location would be visible, am I making sense?"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1666891241,"post_id":74225862,"comment_id":131047989,"body_markdown":"@Batflash Yes, setting the EXIF tags on the image would work, as long as you have write access to the file.  More or less you&#39;d be doing what the camera app would have if location was turned on for it.","body":"@Batflash Yes, setting the EXIF tags on the image would work, as long as you have write access to the file.  More or less you&#39;d be doing what the camera app would have if location was turned on for it."},{"owner":{"account_id":19627285,"reputation":3,"user_id":14366355,"display_name":"Batflash"},"score":0,"creation_date":1666980893,"post_id":74225862,"comment_id":131070976,"body_markdown":"Thank you for your guidance, I tried to work around it and I kind of managed to do it, thank you","body":"Thank you for your guidance, I tried to work around it and I kind of managed to do it, thank you"}],"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666890754,"creation_date":1666890754,"answer_id":74225862,"question_id":74225718,"body_markdown":"EXIF location is an optional interface-  most images won&#39;t have one.  In fact many (most?) camera apps have stopped using it by default to protect user privacy.  You can try it, but don&#39;t expect it to be there.\r\n\r\nYour location code-  lastLocation will return null unless location was already up and running (generally because another app was using it).  You&#39;d need to request location updates, rather than rely on lastLocation.  Please note that this gets the location of the phone *now* not the location when a photo was taken.  So this only works if you run it when you take the photo (the exif data gets the location where the photo was taken, if its there at all).","title":"Getting geographical location of captured image - Android java","body":"<p>EXIF location is an optional interface-  most images won't have one.  In fact many (most?) camera apps have stopped using it by default to protect user privacy.  You can try it, but don't expect it to be there.</p>\n<p>Your location code-  lastLocation will return null unless location was already up and running (generally because another app was using it).  You'd need to request location updates, rather than rely on lastLocation.  Please note that this gets the location of the phone <em>now</em> not the location when a photo was taken.  So this only works if you run it when you take the photo (the exif data gets the location where the photo was taken, if its there at all).</p>\n"}],"owner":{"account_id":19627285,"reputation":3,"user_id":14366355,"display_name":"Batflash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74225862,"answer_count":1,"score":0,"last_activity_date":1666994969,"creation_date":1666890036,"question_id":74225718,"body_markdown":"I&#39;m new to android developement and I&#39;m supposed to use Java as the programming language. I have an app where I&#39;m supposed to be able to capture images and the geographical location of the captured images and display these details. I am displaying the image in an imageView. I have a text file where I&#39;m storing image links as well as the captured images. So, I basically have image links and captured images that are stored in an arraylist then to a text file.\r\nPlease feel free to ask for anything that I may have missed out in the question.\r\n\r\n\r\nI tried using EXIFInterface method I found on a Stack Overflow response, I tried using Location provider but to no avail. Maybe where I&#39;m placing the code is incorrect, as I said, I&#39;m new to this. I tried watching YT videos and did some research online and I&#39;m more confused than ever at this point. Another approach I tried using was capturing the current location of the device to an invisible textView then calling it to where the image name is being stored but this did not work either.\r\n\r\nThe EXIF method I tried:\r\n`\r\n```\r\n        try {\r\n\r\n            ExifInterface exifInterface = new ExifInterface(direct); //Direct is the filepath\r\n            Log.d(&quot;Latitude&quot;, exifInterface.getAttribute(ExifInterface.TAG_GPS_LATITUDE));\r\n            Log.d(&quot;Longitude&quot;, exifInterface.getAttribute(ExifInterface.TAG_GPS_LONGITUDE));\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n```\r\n`\r\n\r\nLocation Provider method\r\n\r\n\r\n\r\n```\r\n@SuppressLint(&quot;MissingPermission&quot;)\r\nprivate void showLocation() {\r\n\r\n    locationProvider.getLastLocation().addOnSuccessListener(this,\r\n            new OnSuccessListener&lt;Location&gt;() {\r\n                @Override\r\n                public void onSuccess(Location location) {\r\n                    if (location != null) {\r\n                        hiddenLoc.setText(&quot;Current location is: Lat:&quot; + location.getLatitude()\r\n                                + &quot;Lon: &quot; + location.getLongitude());\r\n                     \r\n                    }\r\n                }\r\n            });\r\n\r\n}\r\n```\r\n`\r\n","title":"Getting geographical location of captured image - Android java","body":"<p>I'm new to android developement and I'm supposed to use Java as the programming language. I have an app where I'm supposed to be able to capture images and the geographical location of the captured images and display these details. I am displaying the image in an imageView. I have a text file where I'm storing image links as well as the captured images. So, I basically have image links and captured images that are stored in an arraylist then to a text file.\nPlease feel free to ask for anything that I may have missed out in the question.</p>\n<p>I tried using EXIFInterface method I found on a Stack Overflow response, I tried using Location provider but to no avail. Maybe where I'm placing the code is incorrect, as I said, I'm new to this. I tried watching YT videos and did some research online and I'm more confused than ever at this point. Another approach I tried using was capturing the current location of the device to an invisible textView then calling it to where the image name is being stored but this did not work either.</p>\n<p>The EXIF method I tried:\n`</p>\n<pre><code>        try {\n\n            ExifInterface exifInterface = new ExifInterface(direct); //Direct is the filepath\n            Log.d(&quot;Latitude&quot;, exifInterface.getAttribute(ExifInterface.TAG_GPS_LATITUDE));\n            Log.d(&quot;Longitude&quot;, exifInterface.getAttribute(ExifInterface.TAG_GPS_LONGITUDE));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>`</p>\n<p>Location Provider method</p>\n<pre><code>@SuppressLint(&quot;MissingPermission&quot;)\nprivate void showLocation() {\n\n    locationProvider.getLastLocation().addOnSuccessListener(this,\n            new OnSuccessListener&lt;Location&gt;() {\n                @Override\n                public void onSuccess(Location location) {\n                    if (location != null) {\n                        hiddenLoc.setText(&quot;Current location is: Lat:&quot; + location.getLatitude()\n                                + &quot;Lon: &quot; + location.getLongitude());\n                     \n                    }\n                }\n            });\n\n}\n</code></pre>\n<p>`</p>\n"},{"tags":["java","joptionpane"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1666996191,"post_id":74241290,"comment_id":131074513,"body_markdown":"You might also consider something like [Java – Display double in 2 decimal places](https://mkyong.com/java/java-display-double-in-2-decimal-points/) or any of the other numerous examples which are around.  The question is not unique nor is it uncommon.  Due diligence is an expectation - if you&#39;ve done research, show us what you&#39;ve learnt and reasons why it&#39;s not working for you - otherwise, we&#39;re wasting each others time","body":"You might also consider something like <a href=\"https://mkyong.com/java/java-display-double-in-2-decimal-points/\" rel=\"nofollow noreferrer\">Java – Display double in 2 decimal places</a> or any of the other numerous examples which are around.  The question is not unique nor is it uncommon.  Due diligence is an expectation - if you&#39;ve done research, show us what you&#39;ve learnt and reasons why it&#39;s not working for you - otherwise, we&#39;re wasting each others time"}],"answers":[{"tags":[],"owner":{"account_id":4281210,"reputation":1058,"user_id":3500521,"display_name":"Dreamspace President"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666994765,"creation_date":1666994765,"answer_id":74241345,"question_id":74241290,"body_markdown":"The first example is a formatter that always produces two decimal places. The second one only produces as many decimal places (up to 2) as needed. Usage: `DF_TWOPLACES.format(average);`\r\n\r\n    final private static DecimalFormat DF_TWOPLACES = new DecimalFormat(&quot;0.00&quot;, DecimalFormatSymbols.getInstance(Locale.US));\r\n    final private static DecimalFormat DF_TWOPLACES = new DecimalFormat(&quot;0.##&quot;, DecimalFormatSymbols.getInstance(Locale.US));","title":"How can I display a float value to 2 decimal place in JAVA using JOptionpane?","body":"<p>The first example is a formatter that always produces two decimal places. The second one only produces as many decimal places (up to 2) as needed. Usage: <code>DF_TWOPLACES.format(average);</code></p>\n<pre><code>final private static DecimalFormat DF_TWOPLACES = new DecimalFormat(&quot;0.00&quot;, DecimalFormatSymbols.getInstance(Locale.US));\nfinal private static DecimalFormat DF_TWOPLACES = new DecimalFormat(&quot;0.##&quot;, DecimalFormatSymbols.getInstance(Locale.US));\n</code></pre>\n"}],"owner":{"account_id":21549017,"reputation":1,"user_id":15885425,"display_name":"THEMBA Mabuza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666996067,"answer_count":1,"score":0,"last_activity_date":1666994765,"creation_date":1666994222,"question_id":74241290,"body_markdown":"I was given a task to calculate the average mark of unknown number of tests in JAVA, I was able to solve the problem but not thoroughly because my output has more than 2 decimal point. May I please be helped to only show my output rounded off to two decimal places. (I am a first year students and I don&#39;t know much in JAVA). Here&#39;s a snippet of my code.\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\nimport javax.swing.JOptionPane;\r\n\r\npublic class number2 {\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        int number_Of_Tests = 0;\r\n        int total_marks = 0;\r\n        int mark;\r\n        System.out.print(&quot;Enter the test mark: &quot;);\r\n        mark = scan.nextInt();\r\n        while (mark &gt;= 0) {\r\n            number_Of_Tests = number_Of_Tests + 1;\r\n            total_marks = total_marks + mark;\r\n            System.out.print(&quot;Enter the test mark: &quot;);\r\n            mark = scan.nextInt();\r\n        }\r\n        float average = total_marks / (float) number_Of_Tests;\r\n\r\n         JOptionPane.showMessageDialog(null, &quot;The average is: &quot;  + average, &quot;AVERAGE&quot;,1);\r\n        \r\n        scan.close();\r\n    }\r\n\r\n}\r\n\r\n```\r\nlet&#39;s say my input is: 25 , 26 and 28 then 0, my output should be 26.34 but instead I get 26.333334\r\n\r\n```\r\nimport java.util.Scanner;\r\nimport javax.swing.JOptionPane;\r\n\r\npublic class number2 {\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        int number_Of_Tests = 0;\r\n        int total_marks = 0;\r\n        int mark;\r\n        System.out.print(&quot;Enter the test mark: &quot;);\r\n        mark = scan.nextInt();\r\n        while (mark &gt;= 0) {\r\n            number_Of_Tests = number_Of_Tests + 1;\r\n            total_marks = total_marks + mark;\r\n            System.out.print(&quot;Enter the test mark: &quot;);\r\n            mark = scan.nextInt();\r\n        }\r\n        float average = total_marks / (float) number_Of_Tests;\r\n\r\n         JOptionPane.showMessageDialog(null, &quot;The average is: &quot; +&quot;% .2f&quot; + average, &quot;AVERAGE&quot;,1);\r\n        \r\n        scan.close();\r\n    }\r\n\r\n}\r\n\r\n```\r\n","title":"How can I display a float value to 2 decimal place in JAVA using JOptionpane?","body":"<p>I was given a task to calculate the average mark of unknown number of tests in JAVA, I was able to solve the problem but not thoroughly because my output has more than 2 decimal point. May I please be helped to only show my output rounded off to two decimal places. (I am a first year students and I don't know much in JAVA). Here's a snippet of my code.</p>\n<pre><code>import java.util.Scanner;\nimport javax.swing.JOptionPane;\n\npublic class number2 {\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        int number_Of_Tests = 0;\n        int total_marks = 0;\n        int mark;\n        System.out.print(&quot;Enter the test mark: &quot;);\n        mark = scan.nextInt();\n        while (mark &gt;= 0) {\n            number_Of_Tests = number_Of_Tests + 1;\n            total_marks = total_marks + mark;\n            System.out.print(&quot;Enter the test mark: &quot;);\n            mark = scan.nextInt();\n        }\n        float average = total_marks / (float) number_Of_Tests;\n\n         JOptionPane.showMessageDialog(null, &quot;The average is: &quot;  + average, &quot;AVERAGE&quot;,1);\n        \n        scan.close();\n    }\n\n}\n\n</code></pre>\n<p>let's say my input is: 25 , 26 and 28 then 0, my output should be 26.34 but instead I get 26.333334</p>\n<pre><code>import java.util.Scanner;\nimport javax.swing.JOptionPane;\n\npublic class number2 {\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        int number_Of_Tests = 0;\n        int total_marks = 0;\n        int mark;\n        System.out.print(&quot;Enter the test mark: &quot;);\n        mark = scan.nextInt();\n        while (mark &gt;= 0) {\n            number_Of_Tests = number_Of_Tests + 1;\n            total_marks = total_marks + mark;\n            System.out.print(&quot;Enter the test mark: &quot;);\n            mark = scan.nextInt();\n        }\n        float average = total_marks / (float) number_Of_Tests;\n\n         JOptionPane.showMessageDialog(null, &quot;The average is: &quot; +&quot;% .2f&quot; + average, &quot;AVERAGE&quot;,1);\n        \n        scan.close();\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","database","jpa","jparepository"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1666996941,"post_id":74241301,"comment_id":131074631,"body_markdown":"What do you mean by &quot;it goes to TokenEntity&quot;?","body":"What do you mean by &quot;it goes to TokenEntity&quot;?"},{"owner":{"account_id":2739549,"reputation":594,"user_id":2361379,"display_name":"fauzimh"},"score":0,"creation_date":1667016035,"post_id":74241301,"comment_id":131076531,"body_markdown":"your question is unclear. Where is the code that does what you explained? i.e. the query then saving. I only see the methods supposedly called, but not the caller.","body":"your question is unclear. Where is the code that does what you explained? i.e. the query then saving. I only see the methods supposedly called, but not the caller."}],"owner":{"account_id":19487712,"reputation":63,"user_id":14256662,"display_name":"Lftbrito"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666994306,"creation_date":1666994306,"question_id":74241301,"body_markdown":"Im trying to do a query from TokenEntity and after a save on HistoricoTituloEntity but when I try to save the HistoricoTituloEntity it goes to TokenEntity.\r\n\r\n        public interface TokenJPARepositoryTest extends JpaRepository&lt;TokenEntity, Integer&gt;{\r\n    \t\r\n    \t@Query(&quot; select t FROM TokenEntity t  WHERE t.codBanco = ?1 &quot;)\r\n    \tTokenEntity obterToken(Integer codBanco);\r\n    \r\n    }\r\n        @Service\r\n    public class HistoricoTituloServiceImpl implements HistoricoService{\r\n    \t\r\n    \t@Autowired\r\n    \tHistoricoTituloRepository historicoTituloRepository;\r\n    \t\r\n    \tpublic Integer salvaHistoricoTitulo(HistoricoTituloEntity historicoTituloEntity) {\t\r\n    \t\thistoricoTituloRepository.save(historicoTituloEntity);\r\n    \t\treturn historicoTituloEntity.getIdHistTitulo();\r\n    \t}\r\n\r\nDoes anyone knows why this is happening ?\r\n","title":"JPARepository trying to save a Entity on another .save after a @Query","body":"<p>Im trying to do a query from TokenEntity and after a save on HistoricoTituloEntity but when I try to save the HistoricoTituloEntity it goes to TokenEntity.</p>\n<pre><code>    public interface TokenJPARepositoryTest extends JpaRepository&lt;TokenEntity, Integer&gt;{\n    \n    @Query(&quot; select t FROM TokenEntity t  WHERE t.codBanco = ?1 &quot;)\n    TokenEntity obterToken(Integer codBanco);\n\n}\n    @Service\npublic class HistoricoTituloServiceImpl implements HistoricoService{\n    \n    @Autowired\n    HistoricoTituloRepository historicoTituloRepository;\n    \n    public Integer salvaHistoricoTitulo(HistoricoTituloEntity historicoTituloEntity) {  \n        historicoTituloRepository.save(historicoTituloEntity);\n        return historicoTituloEntity.getIdHistTitulo();\n    }\n</code></pre>\n<p>Does anyone knows why this is happening ?</p>\n"},{"tags":["java","android","multithreading","runnable"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1666995337,"post_id":74241271,"comment_id":131074364,"body_markdown":"Have the Bluetooth communications be managed by a singleton (e.g., one set up via Dagger/Hilt). That singleton can have background threads for timing as needed (e.g., `ScheduledExecutorService`, RxJava). Have that singleton expose a reactive API (e.g., RxJava) that your UI layer consumes (e.g., via a Jetpack `ViewModel`), so it can react to incoming messages as needed. That singleton can also expose an API for sending messages that the UI layer can invoke when needed.","body":"Have the Bluetooth communications be managed by a singleton (e.g., one set up via Dagger/Hilt). That singleton can have background threads for timing as needed (e.g., <code>ScheduledExecutorService</code>, RxJava). Have that singleton expose a reactive API (e.g., RxJava) that your UI layer consumes (e.g., via a Jetpack <code>ViewModel</code>), so it can react to incoming messages as needed. That singleton can also expose an API for sending messages that the UI layer can invoke when needed."},{"owner":{"account_id":4470685,"reputation":21,"user_id":3993887,"display_name":"Gerald Eberhardt"},"score":0,"creation_date":1667002521,"post_id":74241271,"comment_id":131075358,"body_markdown":"@CommonsWare thank you for the reply, but I’m new to Android coding. So I apologize for having to ask for more clarification. What is a Dagger/Hilt and Jetpak?","body":"@CommonsWare thank you for the reply, but I’m new to Android coding. So I apologize for having to ask for more clarification. What is a Dagger/Hilt and Jetpak?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1667045524,"post_id":74241271,"comment_id":131080413,"body_markdown":"&quot;I’m new to Android coding&quot; -- what book did you read, or what course did you take, to learn Android app development? If you did neither of those things... you might consider trying that. If it helps, I have [several free books on Android app development](https://commonsware.com/catalog). I cover a number of Jetpack libraries, including `ViewModel`. I also cover dependency inversion frameworks, of which [Dagger/Hilt](https://developer.android.com/training/dependency-injection) is one, though I focus on a simpler Kotlin option called Koin.","body":"&quot;I’m new to Android coding&quot; -- what book did you read, or what course did you take, to learn Android app development? If you did neither of those things... you might consider trying that. If it helps, I have <a href=\"https://commonsware.com/catalog\" rel=\"nofollow noreferrer\">several free books on Android app development</a>. I cover a number of Jetpack libraries, including <code>ViewModel</code>. I also cover dependency inversion frameworks, of which <a href=\"https://developer.android.com/training/dependency-injection\" rel=\"nofollow noreferrer\">Dagger/Hilt</a> is one, though I focus on a simpler Kotlin option called Koin."},{"owner":{"account_id":4470685,"reputation":21,"user_id":3993887,"display_name":"Gerald Eberhardt"},"score":0,"creation_date":1667192313,"post_id":74241271,"comment_id":131104288,"body_markdown":"@CommonsWare\nBesides all the normal online examples and a Java book from a one of my undergrad classes I have taken one on-line course from www.udemy. The &quot;Android App Development Master Course with Java | Android&quot; course a great refresher of Java and a OK introduction to Android coding.","body":"@CommonsWare Besides all the normal online examples and a Java book from a one of my undergrad classes I have taken one on-line course from www.udemy. The &quot;Android App Development Master Course with Java | Android&quot; course a great refresher of Java and a OK introduction to Android coding."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1667214804,"post_id":74241271,"comment_id":131109719,"body_markdown":"I cannot speak to the content of that Udemy course, but most of their marketing materials have not been updated in years, based on the terminology that they used. And, if they did not reference &quot;Jetpack&quot;, then the content itself has not been updated in years, either. For example, the &quot;Architecture Components&quot; were replaced by Jetpack in May 2018.","body":"I cannot speak to the content of that Udemy course, but most of their marketing materials have not been updated in years, based on the terminology that they used. And, if they did not reference &quot;Jetpack&quot;, then the content itself has not been updated in years, either. For example, the &quot;Architecture Components&quot; were replaced by Jetpack in May 2018."}],"owner":{"account_id":4470685,"reputation":21,"user_id":3993887,"display_name":"Gerald Eberhardt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666994065,"creation_date":1666994065,"question_id":74241271,"body_markdown":"I’m working on a small project that sends and receives data via Bluetooth between an Android Tablet and an Arduino board.\r\n\r\nMy application has two separate Activities (Configure and Operate) that needs to have access to the Bluetooth send and receive messages.\r\n\r\nCurrently I have a Message Handler with Runnable Delay Loop in the Operate Activity, but I’m running into issues with when trying to send and receive date from the Configure Activity.\r\n\r\nMy thought is to put the Message Handler with Runnable Delay Loop in a background thread and then send messages to that thread from the Activities (Configure and Operate). That thread send out the messages the two Activities and handle the response from the Arduino board.\r\n\r\nWhat is a good way to go about this? \r\n","title":"android timer loop in a thread to be accessible multiple activities","body":"<p>I’m working on a small project that sends and receives data via Bluetooth between an Android Tablet and an Arduino board.</p>\n<p>My application has two separate Activities (Configure and Operate) that needs to have access to the Bluetooth send and receive messages.</p>\n<p>Currently I have a Message Handler with Runnable Delay Loop in the Operate Activity, but I’m running into issues with when trying to send and receive date from the Configure Activity.</p>\n<p>My thought is to put the Message Handler with Runnable Delay Loop in a background thread and then send messages to that thread from the Activities (Configure and Operate). That thread send out the messages the two Activities and handle the response from the Arduino board.</p>\n<p>What is a good way to go about this?</p>\n"},{"tags":["java","primes"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1666972724,"post_id":74237880,"comment_id":131068331,"body_markdown":"Square root of 2 and 3 is less than 2.","body":"Square root of 2 and 3 is less than 2."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666973640,"creation_date":1666972720,"answer_id":74237940,"question_id":74237880,"body_markdown":"You need to do a little rearranging. Move the second print statement outside the loop so all values are checked before determining primality.  And do a return, not a break so the second print is not executed in case `n` is a composite number.\r\n```\r\npublic class PrimeOrNot\r\n{\r\n    public static void main(String[] args) {\r\n        Scanner sc  = new Scanner(System.in);\r\n        System.out.print(&quot;Enter any number:&quot;);\r\n        int n = sc.nextInt();\r\n\r\n        for (int i = 2;i&lt;=Math.sqrt(n);i++){\r\n            if(n%i==0){\r\n                System.out.println(n+&quot; is NOT prime&quot;);\r\n                return;\r\n            }\r\n        }\r\n        System.out.println(n+ &quot; IS prime&quot;);\r\n    }\r\n}\r\n```\r\nAnd here is a tip.  Check for divisibility by 2 first.  Then use the loop to check starting with 3 incrementing by 2 (for all odd divisors).  Or combine both tests in the same loop.\r\n```\r\nfor (int i = 2; i&lt;=Math.sqrt(n); i+=(i &gt;= 3) ? 2 : 1 ){...}\r\n```\r\n","title":"Following code for prime or not is not working for 2 and 3","body":"<p>You need to do a little rearranging. Move the second print statement outside the loop so all values are checked before determining primality.  And do a return, not a break so the second print is not executed in case <code>n</code> is a composite number.</p>\n<pre><code>public class PrimeOrNot\n{\n    public static void main(String[] args) {\n        Scanner sc  = new Scanner(System.in);\n        System.out.print(&quot;Enter any number:&quot;);\n        int n = sc.nextInt();\n\n        for (int i = 2;i&lt;=Math.sqrt(n);i++){\n            if(n%i==0){\n                System.out.println(n+&quot; is NOT prime&quot;);\n                return;\n            }\n        }\n        System.out.println(n+ &quot; IS prime&quot;);\n    }\n}\n</code></pre>\n<p>And here is a tip.  Check for divisibility by 2 first.  Then use the loop to check starting with 3 incrementing by 2 (for all odd divisors).  Or combine both tests in the same loop.</p>\n<pre><code>for (int i = 2; i&lt;=Math.sqrt(n); i+=(i &gt;= 3) ? 2 : 1 ){...}\n</code></pre>\n"}],"owner":{"account_id":26651416,"reputation":11,"user_id":20265655,"display_name":"xyz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1666993855,"creation_date":1666972474,"question_id":74237880,"body_markdown":"1) The code for prime or not, is not working for 2 and 3. If in the same code instead of printing prime or not right there, we assign a boolean and later use the boolean to print prime or not, it works. I want to know why.\r\n\r\n\r\n```\r\npackage Loops;\r\n\r\nimport java.util.*;\r\n\r\npublic class PrimeOrNot\r\n{\r\n    public static void main(String[] args) {\r\n        Scanner sc  = new Scanner(System.in);\r\n        System.out.print(&quot;Enter any number:&quot;);\r\n        int n = sc.nextInt();\r\n\r\n        for (int i = 2;i&lt;=Math.sqrt(n);i++){\r\n            if(n%i==0){\r\n                System.out.println(n+&quot; is NOT prime&quot;);\r\n                break;\r\n            }\r\n            System.out.println(n+ &quot; IS prime&quot;);\r\n            break;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n","title":"Following code for prime or not is not working for 2 and 3","body":"<ol>\n<li>The code for prime or not, is not working for 2 and 3. If in the same code instead of printing prime or not right there, we assign a boolean and later use the boolean to print prime or not, it works. I want to know why.</li>\n</ol>\n<pre><code>package Loops;\n\nimport java.util.*;\n\npublic class PrimeOrNot\n{\n    public static void main(String[] args) {\n        Scanner sc  = new Scanner(System.in);\n        System.out.print(&quot;Enter any number:&quot;);\n        int n = sc.nextInt();\n\n        for (int i = 2;i&lt;=Math.sqrt(n);i++){\n            if(n%i==0){\n                System.out.println(n+&quot; is NOT prime&quot;);\n                break;\n            }\n            System.out.println(n+ &quot; IS prime&quot;);\n            break;\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["python","java","postgresql","pgadmin-4"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1666987777,"post_id":74240284,"comment_id":131072778,"body_markdown":"Stop using `SimpleDateFormat`. Switch to the new `java.time` API","body":"Stop using <code>SimpleDateFormat</code>. Switch to the new <code>java.time</code> API"},{"owner":{"account_id":26663896,"reputation":79,"user_id":20276298,"display_name":"layman"},"score":0,"creation_date":1667036835,"post_id":74240284,"comment_id":131079052,"body_markdown":"Thanks. I removed java part of the Q, not to confuse others. SimpleDateFormat doesn&#39;t take +99 was my question back then.","body":"Thanks. I removed java part of the Q, not to confuse others. SimpleDateFormat doesn&#39;t take +99 was my question back then."}],"answers":[{"comments":[{"owner":{"account_id":26663896,"reputation":79,"user_id":20276298,"display_name":"layman"},"score":0,"creation_date":1667028078,"post_id":74241244,"comment_id":131077783,"body_markdown":"Oh, this is embarrassing. Is there a document for this?","body":"Oh, this is embarrassing. Is there a document for this?"},{"owner":{"account_id":26663896,"reputation":79,"user_id":20276298,"display_name":"layman"},"score":0,"creation_date":1667035864,"post_id":74241244,"comment_id":131078899,"body_markdown":"Also, do you know what the %f in the python code generates? Is it an offset value, or a millisecond. datetime.utcnow().strftime(&#39;%Y-%m-%d %H:%M:%S+%f&#39;)","body":"Also, do you know what the %f in the python code generates? Is it an offset value, or a millisecond. datetime.utcnow().strftime(&#39;%Y-%m-%d %H:%M:%S+%f&#39;)"},{"owner":{"account_id":1018432,"reputation":21783,"user_id":1029453,"accept_rate":100,"display_name":"Richard Huxton"},"score":0,"creation_date":1667037362,"post_id":74241244,"comment_id":131079124,"body_markdown":"https://docs.python.org/3/library/datetime.html which links to https://docs.python.org/3/library/datetime.html#strftime-strptime-behavior - you&#39;ll want to get familiar with how to find the documentation for libraries you are using","body":"<a href=\"https://docs.python.org/3/library/datetime.html\" rel=\"nofollow noreferrer\">docs.python.org/3/library/datetime.html</a> which links to <a href=\"https://docs.python.org/3/library/datetime.html#strftime-strptime-behavior\" rel=\"nofollow noreferrer\">docs.python.org/3/library/&hellip;</a> - you&#39;ll want to get familiar with how to find the documentation for libraries you are using"}],"tags":[],"owner":{"account_id":1018432,"reputation":21783,"user_id":1029453,"accept_rate":100,"display_name":"Richard Huxton"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666993710,"creation_date":1666993710,"answer_id":74241244,"question_id":74240284,"body_markdown":"The part after &quot;+&quot; is not milliseconds though, is it. That is how you represent the tine-zone. Which can&#39;t be an offset of 45 hours. \r\n","title":"How to fix postgres error; time zone displacement out of range?","body":"<p>The part after &quot;+&quot; is not milliseconds though, is it. That is how you represent the tine-zone. Which can't be an offset of 45 hours.</p>\n"}],"owner":{"account_id":26663896,"reputation":79,"user_id":20276298,"display_name":"layman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2176,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74241244,"answer_count":1,"score":3,"last_activity_date":1666993710,"creation_date":1666986886,"question_id":74240284,"body_markdown":"CurrentTimeStamp (timestamp with time zone not null) column&#39;s Date-Time Records in BOOKS postgres db table are stored in the format:\r\n&gt; 2022-10-29 00:00:00+00\r\n\r\nThere&#39;s a java API which fetches records from this table, using the CurrentTimeStamp column,\r\nPrior to that, there&#39;s a python API which provides a timestamp in the above format to the java API, and for the time field, it internally fetches the current time:\r\n\r\n```\r\ndatetime.utcnow().strftime(&#39;%Y-%m-%d %H:%M:%S+%f&#39;)[0:22]\r\n```\r\n\r\n\r\nQuerying the table, using pgAdmin:\r\n\r\n```\r\nSELECT * FROM BOOKS WHERE CurrentTimeStamp BETWEEN &#39;2022-10-29 10:00:00+00&#39; and &#39;2022-10-29 11:00:00+45&#39;;\r\n```\r\n\r\n&gt; ERROR: time zone displacement out of range: &quot;2022-10-29 00:00:00+45&quot;\r\n&gt; SQL state: 22009\r\n\r\n\r\nThe issue is in the millisecond part of the timestamp, that is, after the plus(+) symbol. Keeping that as 00, works perfectly. It also works till the value is 15.\r\n\r\nThis is part of very busy banking microservices, which are going to be hit every hour, to fetch half a million records. So, this millisecond part is important, and cannot be hardcoded to 00.\r\n\r\n**Is there a way out?**\r\n\r\n\r\n","title":"How to fix postgres error; time zone displacement out of range?","body":"<p>CurrentTimeStamp (timestamp with time zone not null) column's Date-Time Records in BOOKS postgres db table are stored in the format:</p>\n<blockquote>\n<p>2022-10-29 00:00:00+00</p>\n</blockquote>\n<p>There's a java API which fetches records from this table, using the CurrentTimeStamp column,\nPrior to that, there's a python API which provides a timestamp in the above format to the java API, and for the time field, it internally fetches the current time:</p>\n<pre><code>datetime.utcnow().strftime('%Y-%m-%d %H:%M:%S+%f')[0:22]\n</code></pre>\n<p>Querying the table, using pgAdmin:</p>\n<pre><code>SELECT * FROM BOOKS WHERE CurrentTimeStamp BETWEEN '2022-10-29 10:00:00+00' and '2022-10-29 11:00:00+45';\n</code></pre>\n<blockquote>\n<p>ERROR: time zone displacement out of range: &quot;2022-10-29 00:00:00+45&quot;\nSQL state: 22009</p>\n</blockquote>\n<p>The issue is in the millisecond part of the timestamp, that is, after the plus(+) symbol. Keeping that as 00, works perfectly. It also works till the value is 15.</p>\n<p>This is part of very busy banking microservices, which are going to be hit every hour, to fetch half a million records. So, this millisecond part is important, and cannot be hardcoded to 00.</p>\n<p><strong>Is there a way out?</strong></p>\n"},{"tags":["java","gradle","sonarqube","sonarqube-scan"],"comments":[{"owner":{"account_id":3709715,"reputation":1145,"user_id":3412545,"accept_rate":100,"display_name":"jojo"},"score":1,"creation_date":1669862662,"post_id":74241213,"comment_id":131741654,"body_markdown":"You are most likely using the https://github.com/SonarOpenCommunity/sonar-cxx plugin. You should check their forums or raise an issue with the maintainers of that plugin.\n\n```text\n    at org.sonar.cxx.sensors.squid.CxxSquidSensor.saveMeasures(CxxSquidSensor.java:234)\n    at org.sonar.cxx.sensors.squid.CxxSquidSensor.save(CxxSquidSensor.java:219)\n    at org.sonar.cxx.sensors.squid.CxxSquidSensor.execute(CxxSquidSensor.java:159)\n```\n\nSonar has its own forums where you probably can get better answer rate: https://community.sonarsource.com/","body":"You are most likely using the <a href=\"https://github.com/SonarOpenCommunity/sonar-cxx\" rel=\"nofollow noreferrer\">github.com/SonarOpenCommunity/sonar-cxx</a> plugin. You should check their forums or raise an issue with the maintainers of that plugin.  <code>text     at org.sonar.cxx.sensors.squid.CxxSquidSensor.saveMeasures(CxxS&zwnj;&#8203;quidSensor.java:234)     at org.sonar.cxx.sensors.squid.CxxSquidSensor.save(CxxSquidSens&zwnj;&#8203;or.java:219)     at org.sonar.cxx.sensors.squid.CxxSquidSensor.execute(CxxSquidS&zwnj;&#8203;ensor.java:159) </code>  Sonar has its own forums where you probably can get better answer rate: <a href=\"https://community.sonarsource.com/\" rel=\"nofollow noreferrer\">community.sonarsource.com</a>"}],"owner":{"account_id":5973669,"reputation":6765,"user_id":4695271,"accept_rate":69,"display_name":"x80486"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":724,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1666993500,"creation_date":1666993500,"question_id":74241213,"body_markdown":"I have a `Java` `8.x` project that uses `Gradle` `7.5`. The `SonarQube` plugin version is `3.5.0.2730`. The `SonarQube` server is running `Community Edition 8.9.7 (build 52159)` version.\r\n\r\nProblem I&#39;m facing is that the scan always fails with `Metric &#39;files&#39; should not be computed by a Sensor`:\r\n\r\n```shell\r\n&gt; Task :sonar\r\nMetric &#39;comment_lines_data&#39; is deprecated. Provided value is ignored.\r\n\r\n&gt; Task :sonar FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:sonar&#39;.\r\n&gt; Metric &#39;files&#39; should not be computed by a Sensor\r\n\r\n* Try:\r\n&gt; Run with --info or --debug option to get more log output.\r\n\r\n* Exception is:\r\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:sonar&#39;.\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:142)\r\n\tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:140)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:420)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:342)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\nCaused by: java.lang.UnsupportedOperationException: Metric &#39;files&#39; should not be computed by a Sensor\r\n\tat org.sonar.scanner.sensor.DefaultSensorStorage.saveMeasure(DefaultSensorStorage.java:173)\r\n\tat org.sonar.scanner.sensor.DefaultSensorStorage.store(DefaultSensorStorage.java:137)\r\n\tat org.sonar.api.batch.sensor.measure.internal.DefaultMeasure.doSave(DefaultMeasure.java:96)\r\n\tat org.sonar.api.batch.sensor.internal.DefaultStorable.save(DefaultStorable.java:45)\r\n\tat org.sonar.cxx.sensors.squid.CxxSquidSensor.saveMeasures(CxxSquidSensor.java:234)\r\n\tat org.sonar.cxx.sensors.squid.CxxSquidSensor.save(CxxSquidSensor.java:219)\r\n\tat org.sonar.cxx.sensors.squid.CxxSquidSensor.execute(CxxSquidSensor.java:159)\r\n\tat org.sonar.scanner.sensor.AbstractSensorWrapper.analyse(AbstractSensorWrapper.java:48)\r\n\tat org.sonar.scanner.sensor.ModuleSensorsExecutor.execute(ModuleSensorsExecutor.java:85)\r\n\tat org.sonar.scanner.sensor.ModuleSensorsExecutor.lambda$execute$1(ModuleSensorsExecutor.java:59)\r\n\tat org.sonar.scanner.sensor.ModuleSensorsExecutor.withModuleStrategy(ModuleSensorsExecutor.java:77)\r\n\tat org.sonar.scanner.sensor.ModuleSensorsExecutor.execute(ModuleSensorsExecutor.java:59)\r\n\tat org.sonar.scanner.scan.ModuleScanContainer.doAfterStart(ModuleScanContainer.java:82)\r\n\tat org.sonar.core.platform.ComponentContainer.startComponents(ComponentContainer.java:137)\r\n\tat org.sonar.core.platform.ComponentContainer.execute(ComponentContainer.java:123)\r\n\tat org.sonar.scanner.scan.ProjectScanContainer.scan(ProjectScanContainer.java:392)\r\n\tat org.sonar.scanner.scan.ProjectScanContainer.scanRecursively(ProjectScanContainer.java:388)\r\n\tat org.sonar.scanner.scan.ProjectScanContainer.doAfterStart(ProjectScanContainer.java:357)\r\n\tat org.sonar.core.platform.ComponentContainer.startComponents(ComponentContainer.java:137)\r\n\tat org.sonar.core.platform.ComponentContainer.execute(ComponentContainer.java:123)\r\n\tat org.sonar.scanner.bootstrap.GlobalContainer.doAfterStart(GlobalContainer.java:150)\r\n\tat org.sonar.core.platform.ComponentContainer.startComponents(ComponentContainer.java:137)\r\n\tat org.sonar.core.platform.ComponentContainer.execute(ComponentContainer.java:123)\r\n\tat org.sonar.batch.bootstrapper.Batch.doExecute(Batch.java:72)\r\n\tat org.sonar.batch.bootstrapper.Batch.execute(Batch.java:66)\r\n\tat org.sonarsource.scanner.api.internal.batch.BatchIsolatedLauncher.execute(BatchIsolatedLauncher.java:46)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.sonarsource.scanner.api.internal.IsolatedLauncherProxy.invoke(IsolatedLauncherProxy.java:60)\r\n\tat com.sun.proxy.$Proxy117.execute(Unknown Source)\r\n\tat org.sonarsource.scanner.api.EmbeddedScanner.doExecute(EmbeddedScanner.java:189)\r\n\tat org.sonarsource.scanner.api.EmbeddedScanner.execute(EmbeddedScanner.java:138)\r\n\tat org.sonarqube.gradle.SonarTask.run(SonarTask.java:128)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:125)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:58)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:236)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:221)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:204)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:187)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:165)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\r\n\tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\r\n\tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\r\n\tat org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.executeDelegateBroadcastingChanges(CaptureStateAfterExecutionStep.java:124)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:80)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:58)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:181)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:71)\r\n\tat org.gradle.internal.Either$Right.fold(Either.java:175)\r\n\tat org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:69)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:47)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:110)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:254)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:91)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:56)\r\n\tat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\r\n\tat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\r\n\tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\r\n\tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:281)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\r\n\tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\r\n\tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\r\n\tat org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:139)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:420)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:342)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 7m 21s\r\n8 actionable tasks: 8 executed\r\n\r\nThe build scan was not published due to a configuration problem.\r\n\r\nThe Gradle Terms of Service have not been agreed to.\r\n\r\nFor more information, please see https://gradle.com/help/plugin-terms-of-service.\r\n\r\nAlternatively, if you are using Gradle Enterprise, specify the server location.\r\nFor more information, please see https://gradle.com/help/plugin-enterprise-config\r\n```\r\n\r\nThe `Gradle` build script is configured like:\r\n\r\n```groovy\r\nsonarqube {\r\n  properties {\r\n    property &quot;sonar.dependencyCheck.htmlReportPath&quot;, &quot;${project.buildDir}/reports/dependency-check/dependency-check-report.html&quot;\r\n    property &quot;sonar.dependencyCheck.xmlReportPath&quot;, &quot;${project.buildDir}/reports/dependency-check/dependency-check-report.xml&quot;\r\n    property &quot;sonar.projectDescription&quot;, &quot;${project.description}&quot;\r\n    property &quot;sonar.projectKey&quot;, &quot;global:group:${project.name}&quot;\r\n    property &quot;sonar.projectName&quot;, &quot;global::${project.name}&quot;\r\n  }\r\n}\r\n```\r\n\r\n...and the scan is triggered via: `./gradlew test jacocoTestReport dependencyCheckAnalyze sonar -Dsonar.host.url=https://sonar.host.tld/sonarqube -Dsonar.login=the_token -Dsonar.verbose=true --stacktrace`\r\n\r\nI&#39;ve researched this and the resolution always boils down to upgrade to the newest version, but this time I&#39;m on the latest on everything. So I wonder if there is a way to overcome this issue by configuring something in the `Gradle` configuration, or if there is a way to skip this `files` *core metric* or something around those lines.","title":"SonarQube scan fails Gradle project with Metric &#39;files&#39; should not be computed by a Sensor","body":"<p>I have a <code>Java</code> <code>8.x</code> project that uses <code>Gradle</code> <code>7.5</code>. The <code>SonarQube</code> plugin version is <code>3.5.0.2730</code>. The <code>SonarQube</code> server is running <code>Community Edition 8.9.7 (build 52159)</code> version.</p>\n<p>Problem I'm facing is that the scan always fails with <code>Metric 'files' should not be computed by a Sensor</code>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>&gt; Task :sonar\nMetric 'comment_lines_data' is deprecated. Provided value is ignored.\n\n&gt; Task :sonar FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':sonar'.\n&gt; Metric 'files' should not be computed by a Sensor\n\n* Try:\n&gt; Run with --info or --debug option to get more log output.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':sonar'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:142)\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:140)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:420)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:342)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: java.lang.UnsupportedOperationException: Metric 'files' should not be computed by a Sensor\n    at org.sonar.scanner.sensor.DefaultSensorStorage.saveMeasure(DefaultSensorStorage.java:173)\n    at org.sonar.scanner.sensor.DefaultSensorStorage.store(DefaultSensorStorage.java:137)\n    at org.sonar.api.batch.sensor.measure.internal.DefaultMeasure.doSave(DefaultMeasure.java:96)\n    at org.sonar.api.batch.sensor.internal.DefaultStorable.save(DefaultStorable.java:45)\n    at org.sonar.cxx.sensors.squid.CxxSquidSensor.saveMeasures(CxxSquidSensor.java:234)\n    at org.sonar.cxx.sensors.squid.CxxSquidSensor.save(CxxSquidSensor.java:219)\n    at org.sonar.cxx.sensors.squid.CxxSquidSensor.execute(CxxSquidSensor.java:159)\n    at org.sonar.scanner.sensor.AbstractSensorWrapper.analyse(AbstractSensorWrapper.java:48)\n    at org.sonar.scanner.sensor.ModuleSensorsExecutor.execute(ModuleSensorsExecutor.java:85)\n    at org.sonar.scanner.sensor.ModuleSensorsExecutor.lambda$execute$1(ModuleSensorsExecutor.java:59)\n    at org.sonar.scanner.sensor.ModuleSensorsExecutor.withModuleStrategy(ModuleSensorsExecutor.java:77)\n    at org.sonar.scanner.sensor.ModuleSensorsExecutor.execute(ModuleSensorsExecutor.java:59)\n    at org.sonar.scanner.scan.ModuleScanContainer.doAfterStart(ModuleScanContainer.java:82)\n    at org.sonar.core.platform.ComponentContainer.startComponents(ComponentContainer.java:137)\n    at org.sonar.core.platform.ComponentContainer.execute(ComponentContainer.java:123)\n    at org.sonar.scanner.scan.ProjectScanContainer.scan(ProjectScanContainer.java:392)\n    at org.sonar.scanner.scan.ProjectScanContainer.scanRecursively(ProjectScanContainer.java:388)\n    at org.sonar.scanner.scan.ProjectScanContainer.doAfterStart(ProjectScanContainer.java:357)\n    at org.sonar.core.platform.ComponentContainer.startComponents(ComponentContainer.java:137)\n    at org.sonar.core.platform.ComponentContainer.execute(ComponentContainer.java:123)\n    at org.sonar.scanner.bootstrap.GlobalContainer.doAfterStart(GlobalContainer.java:150)\n    at org.sonar.core.platform.ComponentContainer.startComponents(ComponentContainer.java:137)\n    at org.sonar.core.platform.ComponentContainer.execute(ComponentContainer.java:123)\n    at org.sonar.batch.bootstrapper.Batch.doExecute(Batch.java:72)\n    at org.sonar.batch.bootstrapper.Batch.execute(Batch.java:66)\n    at org.sonarsource.scanner.api.internal.batch.BatchIsolatedLauncher.execute(BatchIsolatedLauncher.java:46)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.sonarsource.scanner.api.internal.IsolatedLauncherProxy.invoke(IsolatedLauncherProxy.java:60)\n    at com.sun.proxy.$Proxy117.execute(Unknown Source)\n    at org.sonarsource.scanner.api.EmbeddedScanner.doExecute(EmbeddedScanner.java:189)\n    at org.sonarsource.scanner.api.EmbeddedScanner.execute(EmbeddedScanner.java:138)\n    at org.sonarqube.gradle.SonarTask.run(SonarTask.java:128)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:125)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:58)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\n    at org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:236)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:221)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:204)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:187)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:165)\n    at org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\n    at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\n    at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\n    at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\n    at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.executeDelegateBroadcastingChanges(CaptureStateAfterExecutionStep.java:124)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:80)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:58)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\n    at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:181)\n    at org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:71)\n    at org.gradle.internal.Either$Right.fold(Either.java:175)\n    at org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:69)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:47)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:110)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:254)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:91)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:56)\n    at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\n    at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\n    at org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:281)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\n    at org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:139)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:420)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:342)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 7m 21s\n8 actionable tasks: 8 executed\n\nThe build scan was not published due to a configuration problem.\n\nThe Gradle Terms of Service have not been agreed to.\n\nFor more information, please see https://gradle.com/help/plugin-terms-of-service.\n\nAlternatively, if you are using Gradle Enterprise, specify the server location.\nFor more information, please see https://gradle.com/help/plugin-enterprise-config\n</code></pre>\n<p>The <code>Gradle</code> build script is configured like:</p>\n<pre><code>sonarqube {\n  properties {\n    property &quot;sonar.dependencyCheck.htmlReportPath&quot;, &quot;${project.buildDir}/reports/dependency-check/dependency-check-report.html&quot;\n    property &quot;sonar.dependencyCheck.xmlReportPath&quot;, &quot;${project.buildDir}/reports/dependency-check/dependency-check-report.xml&quot;\n    property &quot;sonar.projectDescription&quot;, &quot;${project.description}&quot;\n    property &quot;sonar.projectKey&quot;, &quot;global:group:${project.name}&quot;\n    property &quot;sonar.projectName&quot;, &quot;global::${project.name}&quot;\n  }\n}\n</code></pre>\n<p>...and the scan is triggered via: <code>./gradlew test jacocoTestReport dependencyCheckAnalyze sonar -Dsonar.host.url=https://sonar.host.tld/sonarqube -Dsonar.login=the_token -Dsonar.verbose=true --stacktrace</code></p>\n<p>I've researched this and the resolution always boils down to upgrade to the newest version, but this time I'm on the latest on everything. So I wonder if there is a way to overcome this issue by configuring something in the <code>Gradle</code> configuration, or if there is a way to skip this <code>files</code> <em>core metric</em> or something around those lines.</p>\n"},{"tags":["java","reflection"],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1397239914,"creation_date":1397239914,"answer_id":23019771,"question_id":23019482,"body_markdown":"`out` is a `static` field of the `java.lang.System` class.\r\n\r\nYou can use the `Field` class to refer to it\r\n\r\n\tClass&lt;?&gt; systemClass = java.lang.Class.forName(&quot;java.lang.System&quot;);\r\n\tField outField = systemClass.getDeclaredField(&quot;out&quot;);\r\n\r\nThe type of that field is `PrintStream`. You don&#39;t need to know that really, but you do need to retrieve the corresponding `Class` object for it.\r\n\r\n\tClass&lt;?&gt; printStreamClass = outField.getType();\r\n\r\nWe know it has a `println(String)` method, so we can retrieve that too\r\n\r\n\tMethod printlnMethod = printStreamClass.getDeclaredMethod(&quot;println&quot;, String.class);\r\n\r\nNow, since [`println(String)`][1] is an instance method, we need to invoke it on an instance. Which instance? The one referenced by the `out` field. That `out` field is `static` so we can get it by passing `null` to [`Field#get(object)`][2].\r\n\r\n\tObject object = outField.get(null);\r\n\r\nThen we invoke the method\r\n\r\n\tprintlnMethod.invoke(object, &quot;Hi!&quot;);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/PrintStream.html#println%28java.lang.String%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Field.html#get%28java.lang.Object%29","title":"java reflection System.out.println","body":"<p><code>out</code> is a <code>static</code> field of the <code>java.lang.System</code> class.</p>\n\n<p>You can use the <code>Field</code> class to refer to it</p>\n\n<pre><code>Class&lt;?&gt; systemClass = java.lang.Class.forName(\"java.lang.System\");\nField outField = systemClass.getDeclaredField(\"out\");\n</code></pre>\n\n<p>The type of that field is <code>PrintStream</code>. You don't need to know that really, but you do need to retrieve the corresponding <code>Class</code> object for it.</p>\n\n<pre><code>Class&lt;?&gt; printStreamClass = outField.getType();\n</code></pre>\n\n<p>We know it has a <code>println(String)</code> method, so we can retrieve that too</p>\n\n<pre><code>Method printlnMethod = printStreamClass.getDeclaredMethod(\"println\", String.class);\n</code></pre>\n\n<p>Now, since <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/PrintStream.html#println%28java.lang.String%29\" rel=\"noreferrer\"><code>println(String)</code></a> is an instance method, we need to invoke it on an instance. Which instance? The one referenced by the <code>out</code> field. That <code>out</code> field is <code>static</code> so we can get it by passing <code>null</code> to <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Field.html#get%28java.lang.Object%29\" rel=\"noreferrer\"><code>Field#get(object)</code></a>.</p>\n\n<pre><code>Object object = outField.get(null);\n</code></pre>\n\n<p>Then we invoke the method</p>\n\n<pre><code>printlnMethod.invoke(object, \"Hi!\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24158055,"reputation":1,"user_id":18122018,"display_name":"Aidan Farhi"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666993411,"creation_date":1666993411,"answer_id":74241202,"question_id":23019482,"body_markdown":"I came across this same challenge while working through &quot;Core Java for the Impatient&quot; by Cay S. Horstmann (Excellent read btw).\r\n\r\nhttps://horstmann.com/javaimpatient/\r\n\r\nFirst, obtain a Field object using the reflective `getField` method.\r\n\r\n    Field f = System.class.getField(&quot;out&quot;)\r\n\r\nNow obtain a `Method` object from the underlying value of the `Field` object. In this case, it is the static field `out` of the `System` class. You are able to pass in `null` as the argument due to it being a static field.\r\n\r\n    Method m = f.get(null).getClass().getMethod(&quot;println&quot;, String.class);\r\n\r\nFinally, invoke the method using the underlying value of the `Field` object.\r\n\r\n    m.invoke(f.get(null), &quot;Hello, World&quot;);","title":"java reflection System.out.println","body":"<p>I came across this same challenge while working through &quot;Core Java for the Impatient&quot; by Cay S. Horstmann (Excellent read btw).</p>\n<p><a href=\"https://horstmann.com/javaimpatient/\" rel=\"nofollow noreferrer\">https://horstmann.com/javaimpatient/</a></p>\n<p>First, obtain a Field object using the reflective <code>getField</code> method.</p>\n<pre><code>Field f = System.class.getField(&quot;out&quot;)\n</code></pre>\n<p>Now obtain a <code>Method</code> object from the underlying value of the <code>Field</code> object. In this case, it is the static field <code>out</code> of the <code>System</code> class. You are able to pass in <code>null</code> as the argument due to it being a static field.</p>\n<pre><code>Method m = f.get(null).getClass().getMethod(&quot;println&quot;, String.class);\n</code></pre>\n<p>Finally, invoke the method using the underlying value of the <code>Field</code> object.</p>\n<pre><code>m.invoke(f.get(null), &quot;Hello, World&quot;);\n</code></pre>\n"}],"owner":{"account_id":3994213,"reputation":181,"user_id":3292218,"accept_rate":75,"display_name":"Nik theGeeK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1948,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":23019771,"answer_count":2,"score":2,"last_activity_date":1666993411,"creation_date":1397239040,"question_id":23019482,"body_markdown":"I m learning java reflection.\r\nI tried\r\n\r\n&lt;pre&gt;\r\nSystem.exit(3);\r\nClass.forName(&quot;java.lang.System&quot;).getMethod(&quot;exit&quot;, Integer.TYPE).invoke(null, 3);\r\n&lt;/pre&gt;\r\n\r\nand it works. I successfully also ran\r\n&lt;pre&gt;\r\nSystem.out.println(Class.forName(&quot;java.lang.System&quot;).getMethod(&quot;currentTimeMillis&quot;).invoke(null)); &lt;/pre&gt;\r\n\r\nNow how can i invoke System.out.println reflectively\r\n&lt;pre&gt;\r\njava.lang.Class.forName(&quot;java.lang.System&quot;).getMethod(&quot;out.println&quot;, String.class).invoke(null, &quot;Hi!&quot;); &lt;/pre&gt;\r\n\r\nis giving error.\r\nI know System does not have out function. So suggest a way to call System.out.println reflectively\r\n\r\nHere is the complete example\r\n\r\n    public class ReflectionDemo1 {\r\n    public static void main(String[] args) throws Exception {\r\n    // java.lang.System.exit(3);\r\n    // java.lang.Class.forName(&quot;java.lang.System&quot;).getMethod(&quot;exit&quot;, Integer.TYPE).invoke(null, 3);\r\n    // java.lang.System.currentTimeMillis()\r\n    // System.out.println(Class.forName(&quot;java.lang.System&quot;).getMethod(&quot;currentTimeMillis&quot;).invoke(null));\r\n    // System.out.println(&quot;Hi!&quot;);\r\n    java.lang.Class.forName(&quot;java.lang.System&quot;).getMethod(&quot;out.println&quot;, String.class).invoke(null, &quot;Hi!&quot;);\r\n    }\r\n    }\r\n\r\n","title":"java reflection System.out.println","body":"<p>I m learning java reflection.\nI tried</p>\n\n<pre>\nSystem.exit(3);\nClass.forName(\"java.lang.System\").getMethod(\"exit\", Integer.TYPE).invoke(null, 3);\n</pre>\n\n<p>and it works. I successfully also ran</p>\n\n<pre>\nSystem.out.println(Class.forName(\"java.lang.System\").getMethod(\"currentTimeMillis\").invoke(null)); </pre>\n\n<p>Now how can i invoke System.out.println reflectively</p>\n\n<pre>\njava.lang.Class.forName(\"java.lang.System\").getMethod(\"out.println\", String.class).invoke(null, \"Hi!\"); </pre>\n\n<p>is giving error.\nI know System does not have out function. So suggest a way to call System.out.println reflectively</p>\n\n<p>Here is the complete example</p>\n\n<pre><code>public class ReflectionDemo1 {\npublic static void main(String[] args) throws Exception {\n// java.lang.System.exit(3);\n// java.lang.Class.forName(\"java.lang.System\").getMethod(\"exit\", Integer.TYPE).invoke(null, 3);\n// java.lang.System.currentTimeMillis()\n// System.out.println(Class.forName(\"java.lang.System\").getMethod(\"currentTimeMillis\").invoke(null));\n// System.out.println(\"Hi!\");\njava.lang.Class.forName(\"java.lang.System\").getMethod(\"out.println\", String.class).invoke(null, \"Hi!\");\n}\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9298,"page":925,"page_size":100}
