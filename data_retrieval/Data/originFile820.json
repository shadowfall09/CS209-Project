{"items":[{"tags":["java","freemarker"],"answers":[{"tags":[],"owner":{"account_id":328052,"reputation":7064,"user_id":650784,"accept_rate":57,"display_name":"Zipper"},"down_vote_count":1,"up_vote_count":67,"is_accepted":true,"score":66,"last_activity_date":1528754833,"creation_date":1421439637,"answer_id":27992179,"question_id":27991964,"body_markdown":"Try:\r\n\r\n    &lt;#if node.attachments?size != 0&gt;\r\n\r\nOr:\r\n\r\n    &lt;#if node.attachments?has_content&gt;\r\n","title":"freemarker templates check if sequence is empty","body":"<p>Try:</p>\n\n<pre><code>&lt;#if node.attachments?size != 0&gt;\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>&lt;#if node.attachments?has_content&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":909086,"reputation":25,"user_id":2984762,"display_name":"John Lillard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670625468,"creation_date":1670625468,"answer_id":74748907,"question_id":27991964,"body_markdown":"I suggest checking against size of zero. I do NOT suggest using ?has_content becasue of the following:\r\n\r\n    &lt;#assign new_hash=[]&gt;\r\n    Check if the hash has content: \r\n    &lt;#if new_hash?has_content&gt;\r\n        True - it is empty\r\n    &lt;#else&gt;\r\n        False - something is there\r\n    &lt;/#if&gt;\r\n\r\nResults in:\r\n\r\n    Check if the hash has content: False - something is there","title":"freemarker templates check if sequence is empty","body":"<p>I suggest checking against size of zero. I do NOT suggest using ?has_content becasue of the following:</p>\n<pre><code>&lt;#assign new_hash=[]&gt;\nCheck if the hash has content: \n&lt;#if new_hash?has_content&gt;\n    True - it is empty\n&lt;#else&gt;\n    False - something is there\n&lt;/#if&gt;\n</code></pre>\n<p>Results in:</p>\n<pre><code>Check if the hash has content: False - something is there\n</code></pre>\n"}],"owner":{"account_id":1391767,"reputation":8763,"user_id":1322427,"accept_rate":62,"display_name":"SeanPlusPlus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34012,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":27992179,"answer_count":2,"score":35,"last_activity_date":1670625468,"creation_date":1421438757,"question_id":27991964,"body_markdown":"I would like to check if a sequence is empty in a freemarker template.\r\n\r\nThis snippet works to check if a sequence ***contains*** a value:\r\n\r\n    &lt;#if node.attachments?seq_contains(&quot;blue&quot;)&gt;\r\n      &lt;pre&gt;hello&lt;/pre&gt;\r\n    &lt;/#if&gt;\r\n\r\nHowever, if ```node.attachments``` is empty i would like to do something else.\r\n\r\nThat is the syntax for this?","title":"freemarker templates check if sequence is empty","body":"<p>I would like to check if a sequence is empty in a freemarker template.</p>\n\n<p>This snippet works to check if a sequence <strong><em>contains</em></strong> a value:</p>\n\n<pre><code>&lt;#if node.attachments?seq_contains(\"blue\")&gt;\n  &lt;pre&gt;hello&lt;/pre&gt;\n&lt;/#if&gt;\n</code></pre>\n\n<p>However, if <code>node.attachments</code> is empty i would like to do something else.</p>\n\n<p>That is the syntax for this?</p>\n"},{"tags":["java","tostring"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":3,"creation_date":1670624267,"post_id":74748764,"comment_id":131924255,"body_markdown":"If you want to be able to access them in a subclass then use protected rather than private. Could also add a toString in Vehicle and call that from Car, and append it to the end of Car&#39;s string, by calling super.toString()","body":"If you want to be able to access them in a subclass then use protected rather than private. Could also add a toString in Vehicle and call that from Car, and append it to the end of Car&#39;s string, by calling super.toString()"},{"owner":{"account_id":8220273,"reputation":166,"user_id":6185065,"accept_rate":100,"display_name":"Rick J"},"score":1,"creation_date":1670624420,"post_id":74748764,"comment_id":131924275,"body_markdown":"To add on Michael’s comment. Private means that the properties or methods are only accessible to the class they are in. Protected means (correct me if im wrong) that classes and subclasses of said classes can access these methods and properties. Public is open access for everything which has an instance of said class","body":"To add on Michael’s comment. Private means that the properties or methods are only accessible to the class they are in. Protected means (correct me if im wrong) that classes and subclasses of said classes can access these methods and properties. Public is open access for everything which has an instance of said class"},{"owner":{"account_id":21498264,"reputation":49,"user_id":15842933,"display_name":"Marouane Sharry"},"score":0,"creation_date":1670624624,"post_id":74748764,"comment_id":131924318,"body_markdown":"Thank you for your answer , it&#39;s working now . But still super method is supposed to call all my private attributes in the vehicle class ? So they are private in my car class ?","body":"Thank you for your answer , it&#39;s working now . But still super method is supposed to call all my private attributes in the vehicle class ? So they are private in my car class ?"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1670626048,"post_id":74748764,"comment_id":131924567,"body_markdown":"@MarouaneSharry Side note: Class names should begin in uppercase, so they don&#39;t get confused with variable names, which start in lowercase.","body":"@MarouaneSharry Side note: Class names should begin in uppercase, so they don&#39;t get confused with variable names, which start in lowercase."}],"answers":[{"tags":[],"owner":{"account_id":13470989,"reputation":183,"user_id":9719505,"display_name":"Matt Pasta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670625340,"creation_date":1670625340,"answer_id":74748894,"question_id":74748764,"body_markdown":"Private members are only accessible in objects that are that exact class. Subclasses can&#39;t access them. The way to think about it is that private members should be used for functionality that only that exact class needs to do; if you want a subclass to do it, it can&#39;t be private.\r\n&lt;br&gt;&lt;br&gt;\r\nThat&#39;s where another visibility can come in: protected. Protected fields can be accessed by objects of the class or a subclass. So one solution would be to change your fields in the parent class to\r\n```\r\nprotected String imatriculation; \r\nprotected int nb_chevaux; \r\nprotected double consomation; \r\n```\r\nThis would be the recommended approach if you expect that you will need to be using this fields quite a bit in your subclass. However, it is often the case that you can encapsulate everything you need them for in the parent class. For instance, here you could refactor your `toString()` method so that it doesn&#39;t need access to those fields, by giving the parent class a public `toString()` method and calling that, like so:\r\n```\r\npublic abstract class vehicle {\r\n    \r\n    ...\r\n\r\n    @Override\r\n    public String toString() {\r\n        return imatriculation + &quot; &quot; + nb_chevaux + &quot; &quot; + consomation;\r\n    }\r\n\r\n}\r\n\r\npublic class car extends vehicle {\r\n\r\n    ...\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;car &quot; + super.toString();\r\n    }\r\n\r\n}\r\n```\r\nI would recommend this second approach when you are able to avoid using protected fields as it takes advantage of object-oriented design rather than trying to get around it. Circumventing OOP in such an OOP-centric language is asking for a headache.","title":"How to use toString method with private attributes in different classes?","body":"<p>Private members are only accessible in objects that are that exact class. Subclasses can't access them. The way to think about it is that private members should be used for functionality that only that exact class needs to do; if you want a subclass to do it, it can't be private.\n<br><br>\nThat's where another visibility can come in: protected. Protected fields can be accessed by objects of the class or a subclass. So one solution would be to change your fields in the parent class to</p>\n<pre><code>protected String imatriculation; \nprotected int nb_chevaux; \nprotected double consomation; \n</code></pre>\n<p>This would be the recommended approach if you expect that you will need to be using this fields quite a bit in your subclass. However, it is often the case that you can encapsulate everything you need them for in the parent class. For instance, here you could refactor your <code>toString()</code> method so that it doesn't need access to those fields, by giving the parent class a public <code>toString()</code> method and calling that, like so:</p>\n<pre><code>public abstract class vehicle {\n    \n    ...\n\n    @Override\n    public String toString() {\n        return imatriculation + &quot; &quot; + nb_chevaux + &quot; &quot; + consomation;\n    }\n\n}\n\npublic class car extends vehicle {\n\n    ...\n\n    @Override\n    public String toString() {\n        return &quot;car &quot; + super.toString();\n    }\n\n}\n</code></pre>\n<p>I would recommend this second approach when you are able to avoid using protected fields as it takes advantage of object-oriented design rather than trying to get around it. Circumventing OOP in such an OOP-centric language is asking for a headache.</p>\n"}],"owner":{"account_id":21498264,"reputation":49,"user_id":15842933,"display_name":"Marouane Sharry"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74748894,"answer_count":1,"score":1,"last_activity_date":1670625340,"creation_date":1670624088,"question_id":74748764,"body_markdown":"Let the vehicle class a mother class and car class a extend of the vehicle class : \r\n\r\nThe mother class : \r\n  \r\n\r\n``` \r\n\r\npublic abstract class vehicle {\r\n    private String imatriculation ; \r\n    private  int  nb_chevaux ; \r\n    private  double consomation ; \r\n    \r\n    public vehicle(String imatriculation , int nb_chevaux , double consomation){ \r\n\r\n        this.imatriculation = imatriculation ;\r\n        this.nb_chevaux = nb_chevaux ;\r\n        this.consomation = consomation ;\r\n    }\r\n    \r\n    public abstract void setconsomation(int conso_input );     \r\n}\r\n```\r\nCar inherit from vehicle  : \r\n\r\n```\r\npublic class car extends vehicle {\r\n    \r\n    public car(String imatriculation,int nb_chevaux,double consomation){\r\n    super(imatriculation ,nb_chevaux , consomation ) ; \r\n    }     \r\n    @Override \r\n    public void setconsomation(int conso_input ){\r\n        this.consomation = conso_input ; \r\n    } \r\n    @Override \r\n    public String toString(){\r\n        return &quot;car&quot; + this.imatriculation + &quot; &quot; + this.nb_chevaux + &quot; &quot; + this.consomation ; \r\n    }\r\n}\r\n```\r\nWhen compiling I get and error in the toString method because the attributes of vehicle  are private. \r\n\r\nBut using super isn&#39;t supposed to fix this problem ? \r\n\r\nHow can I fix this ? Am I obliged to use getters ?\r\n \r\nThanks!","title":"How to use toString method with private attributes in different classes?","body":"<p>Let the vehicle class a mother class and car class a extend of the vehicle class :</p>\n<p>The mother class :</p>\n<pre><code>\npublic abstract class vehicle {\n    private String imatriculation ; \n    private  int  nb_chevaux ; \n    private  double consomation ; \n    \n    public vehicle(String imatriculation , int nb_chevaux , double consomation){ \n\n        this.imatriculation = imatriculation ;\n        this.nb_chevaux = nb_chevaux ;\n        this.consomation = consomation ;\n    }\n    \n    public abstract void setconsomation(int conso_input );     \n}\n</code></pre>\n<p>Car inherit from vehicle  :</p>\n<pre><code>public class car extends vehicle {\n    \n    public car(String imatriculation,int nb_chevaux,double consomation){\n    super(imatriculation ,nb_chevaux , consomation ) ; \n    }     \n    @Override \n    public void setconsomation(int conso_input ){\n        this.consomation = conso_input ; \n    } \n    @Override \n    public String toString(){\n        return &quot;car&quot; + this.imatriculation + &quot; &quot; + this.nb_chevaux + &quot; &quot; + this.consomation ; \n    }\n}\n</code></pre>\n<p>When compiling I get and error in the toString method because the attributes of vehicle  are private.</p>\n<p>But using super isn't supposed to fix this problem ?</p>\n<p>How can I fix this ? Am I obliged to use getters ?</p>\n<p>Thanks!</p>\n"},{"tags":["java","iterator","resultset","finalizer","autocloseable"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1426102114,"post_id":28994628,"comment_id":46239410,"body_markdown":"No. If your `Iterator` goes out of scope, the `ResultSet` will as well. So let the maintainer of the `ResultSet` (e.g. JDBC driver implementer) decide whether to track `ResultSet` instances or not. It’s not the responsibility of your `Iterator`.","body":"No. If your <code>Iterator</code> goes out of scope, the <code>ResultSet</code> will as well. So let the maintainer of the <code>ResultSet</code> (e.g. JDBC driver implementer) decide whether to track <code>ResultSet</code> instances or not. It’s not the responsibility of your <code>Iterator</code>."}],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1670625333,"creation_date":1426099478,"answer_id":28994858,"question_id":28994628,"body_markdown":"This kind of cleanup generally isn&#39;t done in a Java `finalize()` method. Failing to ensure proper disposal of a resource is a programming error; trying to clean up after bad programming is *enabling* the continuation of bad practices.\r\n\r\nWhat is more common is a debugging option to help developers who&#39;ve acknowledged they have a problem. Usually this isn&#39;t enabled by default, because of the overhead involved, but when the right flag is turned on, a stack trace is created when the resource is allocated. If `finalize()` is invoked without the resource being destroyed properly, the stack is logged to show the location of the leak.\r\n\r\nThere are a number of caveats around `finalize()`, and you should generally avoid it. One of the main problems in this case is that there&#39;s no guarantee it will ever be invoked, and even if it is, it may not be in time to help.","title":"Should AutoCloseable Iterator to a ResultSet call close from finalizer?","body":"<p>This kind of cleanup generally isn't done in a Java <code>finalize()</code> method. Failing to ensure proper disposal of a resource is a programming error; trying to clean up after bad programming is <em>enabling</em> the continuation of bad practices.</p>\n<p>What is more common is a debugging option to help developers who've acknowledged they have a problem. Usually this isn't enabled by default, because of the overhead involved, but when the right flag is turned on, a stack trace is created when the resource is allocated. If <code>finalize()</code> is invoked without the resource being destroyed properly, the stack is logged to show the location of the leak.</p>\n<p>There are a number of caveats around <code>finalize()</code>, and you should generally avoid it. One of the main problems in this case is that there's no guarantee it will ever be invoked, and even if it is, it may not be in time to help.</p>\n"}],"owner":{"account_id":1314561,"reputation":771,"user_id":1261751,"display_name":"amdmax"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":839,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670625333,"creation_date":1426098694,"question_id":28994628,"body_markdown":"I have an Iterator backed by a ResultSet. I need that for a row-level post-processing. The iterator implements AutoCloseable inteface. \r\nThe connection remains open up until we iterate through all the rows / iteration interrupted by the user. And everything is fine if the consumer of the iterator calls close() method explicitly or is wrapping the use of the iterator in a Java7 try block. However, if the consumer doesn&#39;t do so I can&#39;t guarantee that the connection will be returned to the pool. In C# world we would do a finalizer and call Dispose(bool) from the finalizer as a fallback option. Should we do the same in Java?","title":"Should AutoCloseable Iterator to a ResultSet call close from finalizer?","body":"<p>I have an Iterator backed by a ResultSet. I need that for a row-level post-processing. The iterator implements AutoCloseable inteface. \nThe connection remains open up until we iterate through all the rows / iteration interrupted by the user. And everything is fine if the consumer of the iterator calls close() method explicitly or is wrapping the use of the iterator in a Java7 try block. However, if the consumer doesn't do so I can't guarantee that the connection will be returned to the pool. In C# world we would do a finalizer and call Dispose(bool) from the finalizer as a fallback option. Should we do the same in Java?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":1,"creation_date":1670677079,"post_id":74748779,"comment_id":131930980,"body_markdown":"You have some semantic contradiction here: &quot;notBlacklistedFromClientBySalesforceId&quot; and &quot;return isUserBlacklistedForClient&quot;\ntypo or bug?","body":"You have some semantic contradiction here: &quot;notBlacklistedFromClientBySalesforceId&quot; and &quot;return isUserBlacklistedForClient&quot; typo or bug?"}],"owner":{"account_id":27205914,"reputation":1,"user_id":20737466,"display_name":"tylerzisk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670625250,"creation_date":1670624247,"question_id":74748779,"body_markdown":"Upgraded our entire microservice to the latest Spring 3.0 release, updated our JWT and FilterChain implementations to the new syntax (e.g removing WebSecurityConfigurerAdapter). Most of our endpoints continued to work, but notably every endpoint containing a `@PreAuthorize` annotation are no longer working. \r\n\r\nOne endpoint we have contains the following expression, and it has failed:\r\n```\r\n@PreAuthorize(\r\n    &quot;&quot;&quot;\r\n    hasAuthority(&#39;COGNITO_ADMIN&#39;)\r\n    or ( hasAuthority(&#39;COGNITO_PMO&#39;)\r\n      and @authorizationService.notBlacklistedFromClientBySalesforceId(#baseQuestionnaireCreateRequestV1.salesforceClientId)\r\n    )\r\n    or ( hasAuthority(&#39;COGNITO_RESEARCHER&#39;)\r\n      and @authorizationService.notBlacklistedFromClientBySalesforceId(#baseQuestionnaireCreateRequestV1.salesforceClientId)\r\n    )\r\n&quot;&quot;&quot;)\r\n```\r\n\r\nHowever, I have reduced this down to just this, and it will fail as well. \r\n```\r\n@PreAuthorize(&quot;hasAuthority(&#39;COGNITO_ADMIN&#39;)&quot;)\r\n```\r\n\r\nEach time this will fail with a `AuthenticationCredentialsNotFoundException`, as it appears the default `AuthorizationManagerBeforeMethodInterceptor` pulls out a null context here:\r\n\r\n```\r\nprivate Supplier&lt;Authentication&gt; getAuthentication(SecurityContextHolderStrategy strategy) {\r\n  return () -&gt; {\r\n    Authentication authentication = strategy.getContext().getAuthentication();\r\n    if (authentication == null) {\r\n      throw new AuthenticationCredentialsNotFoundException(&quot;An Authentication object was not found in the SecurityContext&quot;);\r\n    } else {\r\n      return authentication;\r\n    }\r\n  };\r\n}\r\n```\r\n\r\nAt a loss as to why this is failing only for `@PreAuthorize` annotated endpoints. All other endpoints authorize correctly and authentication is set correctly. \r\n\r\n\r\n\r\nCurrent Implementations\r\n\r\nAuthorizationService\r\n\r\n```\r\n@Aspect\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class AuthorizationService {\r\n\r\n  public boolean notBlacklistedFromClientBySalesforceId(String salesForceId) {\r\n\r\n    var client = clientService.getClientBySalesforceId(salesForceId);\r\n\r\n    return isUserBlacklistedForClient(client.getId());\r\n  }\r\n\r\n  ...\r\n}\r\n\r\n```\r\n\r\nSecurityConfig\r\n```\r\n@EnableWebSecurity\r\n@Configuration\r\n@ConfigurationProperties(prefix = &quot;security&quot;)\r\n@Setter\r\n@Validated\r\npublic class OAuth2ResourceServerSecurityConfiguration {\r\n\r\n  @NotNull private String jwkSetUri;\r\n\r\n  @Bean\r\n  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    String cognitoAdmin = ADMIN.toCognitoGroup();\r\n    String cognitoPmo = PMO.toCognitoGroup();\r\n    String cognitoResearcher = RESEARCHER.toCognitoGroup();\r\n    String cognitoContractor = CONTRACTOR.toCognitoGroup();\r\n\r\n    http.cors()\r\n        .and()\r\n        .authorizeHttpRequests()\r\n\r\n        // Restrict client restriction endpoints to admins/pmo only\r\n        .requestMatchers(&quot;/clientBlacklist&quot;, &quot;/clientBlacklist/*&quot;)\r\n        .hasAnyAuthority(cognitoAdmin, cognitoPmo)\r\n\r\n        // Restrict tag POST, PUT, DELETE endpoints to admins only\r\n        .requestMatchers(HttpMethod.GET, &quot;/tags&quot;)\r\n        .hasAnyAuthority(cognitoAdmin, cognitoPmo, cognitoResearcher, cognitoContractor)\r\n        .requestMatchers(HttpMethod.POST, &quot;/tags&quot;)\r\n        .hasAnyAuthority(cognitoAdmin)\r\n        .requestMatchers(HttpMethod.PUT, &quot;/tags/*&quot;)\r\n        .hasAnyAuthority(cognitoAdmin)\r\n        .requestMatchers(HttpMethod.DELETE, &quot;/tags/*&quot;)\r\n        .hasAnyAuthority(cognitoAdmin)\r\n\r\n        // Restrict questionnaireWhitelist endpoint to admin, pmo, and researcher only\r\n        .requestMatchers(&quot;/questionnaireWhitelist&quot;, &quot;/questionnaireWhitelist/*&quot;)\r\n        .hasAnyAuthority(cognitoAdmin, cognitoPmo, cognitoResearcher)\r\n\r\n        // Restrict creating/deleting questionnaires to admin, pmo, and researcher only\r\n        .requestMatchers(HttpMethod.POST, &quot;/questionnaires&quot;)\r\n        .hasAnyAuthority(cognitoAdmin, cognitoPmo, cognitoResearcher)\r\n        .requestMatchers(HttpMethod.DELETE, &quot;/questionnaires/*&quot;)\r\n        .hasAnyAuthority(cognitoAdmin, cognitoPmo, cognitoResearcher)\r\n\r\n        // Restrict updating/deleting templates to admins/pmo only\r\n        .requestMatchers(HttpMethod.PUT, &quot;/templates/*&quot;)\r\n        .hasAnyAuthority(cognitoAdmin)\r\n        .requestMatchers(HttpMethod.DELETE, &quot;/templates/*&quot;)\r\n        .hasAnyAuthority(cognitoAdmin, cognitoPmo)\r\n\r\n        // Restrict clients to admin, pmo, and researcher only\r\n        .requestMatchers(&quot;/clients&quot;, &quot;/clients/*&quot;)\r\n        .hasAnyAuthority(cognitoAdmin, cognitoPmo, cognitoResearcher)\r\n\r\n        // Allows only ADMIN, PMO, CONTRACTOR, AND RESEARCHER roles to hit endpoints (restricts\r\n        // UNASSIGNED)\r\n        .anyRequest()\r\n        .hasAnyAuthority(cognitoAdmin, cognitoPmo, cognitoResearcher, CONTRACTOR.toCognitoGroup())\r\n        .and()\r\n        .oauth2ResourceServer()\r\n        .jwt()\r\n        .jwtAuthenticationConverter(new CognitoJwtAuthenticationConverter());\r\n\r\n    return http.build();\r\n  }\r\n```\r\n\r\nApplication.java\r\n```\r\n@EnableCaching\r\n@EnableMongoAuditing\r\n@ConfigurationPropertiesScan\r\n@EnableMethodSecurity\r\n@SpringBootApplication\r\npublic class QnrBldrApplication {\r\n\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(QnrBldrApplication.class, args);\r\n  }\r\n}\r\n```\r\n\r\n","title":"@PreAuthorize not working after upgrading to Spring 3.0","body":"<p>Upgraded our entire microservice to the latest Spring 3.0 release, updated our JWT and FilterChain implementations to the new syntax (e.g removing WebSecurityConfigurerAdapter). Most of our endpoints continued to work, but notably every endpoint containing a <code>@PreAuthorize</code> annotation are no longer working.</p>\n<p>One endpoint we have contains the following expression, and it has failed:</p>\n<pre><code>@PreAuthorize(\n    &quot;&quot;&quot;\n    hasAuthority('COGNITO_ADMIN')\n    or ( hasAuthority('COGNITO_PMO')\n      and @authorizationService.notBlacklistedFromClientBySalesforceId(#baseQuestionnaireCreateRequestV1.salesforceClientId)\n    )\n    or ( hasAuthority('COGNITO_RESEARCHER')\n      and @authorizationService.notBlacklistedFromClientBySalesforceId(#baseQuestionnaireCreateRequestV1.salesforceClientId)\n    )\n&quot;&quot;&quot;)\n</code></pre>\n<p>However, I have reduced this down to just this, and it will fail as well.</p>\n<pre><code>@PreAuthorize(&quot;hasAuthority('COGNITO_ADMIN')&quot;)\n</code></pre>\n<p>Each time this will fail with a <code>AuthenticationCredentialsNotFoundException</code>, as it appears the default <code>AuthorizationManagerBeforeMethodInterceptor</code> pulls out a null context here:</p>\n<pre><code>private Supplier&lt;Authentication&gt; getAuthentication(SecurityContextHolderStrategy strategy) {\n  return () -&gt; {\n    Authentication authentication = strategy.getContext().getAuthentication();\n    if (authentication == null) {\n      throw new AuthenticationCredentialsNotFoundException(&quot;An Authentication object was not found in the SecurityContext&quot;);\n    } else {\n      return authentication;\n    }\n  };\n}\n</code></pre>\n<p>At a loss as to why this is failing only for <code>@PreAuthorize</code> annotated endpoints. All other endpoints authorize correctly and authentication is set correctly.</p>\n<p>Current Implementations</p>\n<p>AuthorizationService</p>\n<pre><code>@Aspect\n@Component\n@RequiredArgsConstructor\npublic class AuthorizationService {\n\n  public boolean notBlacklistedFromClientBySalesforceId(String salesForceId) {\n\n    var client = clientService.getClientBySalesforceId(salesForceId);\n\n    return isUserBlacklistedForClient(client.getId());\n  }\n\n  ...\n}\n\n</code></pre>\n<p>SecurityConfig</p>\n<pre><code>@EnableWebSecurity\n@Configuration\n@ConfigurationProperties(prefix = &quot;security&quot;)\n@Setter\n@Validated\npublic class OAuth2ResourceServerSecurityConfiguration {\n\n  @NotNull private String jwkSetUri;\n\n  @Bean\n  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    String cognitoAdmin = ADMIN.toCognitoGroup();\n    String cognitoPmo = PMO.toCognitoGroup();\n    String cognitoResearcher = RESEARCHER.toCognitoGroup();\n    String cognitoContractor = CONTRACTOR.toCognitoGroup();\n\n    http.cors()\n        .and()\n        .authorizeHttpRequests()\n\n        // Restrict client restriction endpoints to admins/pmo only\n        .requestMatchers(&quot;/clientBlacklist&quot;, &quot;/clientBlacklist/*&quot;)\n        .hasAnyAuthority(cognitoAdmin, cognitoPmo)\n\n        // Restrict tag POST, PUT, DELETE endpoints to admins only\n        .requestMatchers(HttpMethod.GET, &quot;/tags&quot;)\n        .hasAnyAuthority(cognitoAdmin, cognitoPmo, cognitoResearcher, cognitoContractor)\n        .requestMatchers(HttpMethod.POST, &quot;/tags&quot;)\n        .hasAnyAuthority(cognitoAdmin)\n        .requestMatchers(HttpMethod.PUT, &quot;/tags/*&quot;)\n        .hasAnyAuthority(cognitoAdmin)\n        .requestMatchers(HttpMethod.DELETE, &quot;/tags/*&quot;)\n        .hasAnyAuthority(cognitoAdmin)\n\n        // Restrict questionnaireWhitelist endpoint to admin, pmo, and researcher only\n        .requestMatchers(&quot;/questionnaireWhitelist&quot;, &quot;/questionnaireWhitelist/*&quot;)\n        .hasAnyAuthority(cognitoAdmin, cognitoPmo, cognitoResearcher)\n\n        // Restrict creating/deleting questionnaires to admin, pmo, and researcher only\n        .requestMatchers(HttpMethod.POST, &quot;/questionnaires&quot;)\n        .hasAnyAuthority(cognitoAdmin, cognitoPmo, cognitoResearcher)\n        .requestMatchers(HttpMethod.DELETE, &quot;/questionnaires/*&quot;)\n        .hasAnyAuthority(cognitoAdmin, cognitoPmo, cognitoResearcher)\n\n        // Restrict updating/deleting templates to admins/pmo only\n        .requestMatchers(HttpMethod.PUT, &quot;/templates/*&quot;)\n        .hasAnyAuthority(cognitoAdmin)\n        .requestMatchers(HttpMethod.DELETE, &quot;/templates/*&quot;)\n        .hasAnyAuthority(cognitoAdmin, cognitoPmo)\n\n        // Restrict clients to admin, pmo, and researcher only\n        .requestMatchers(&quot;/clients&quot;, &quot;/clients/*&quot;)\n        .hasAnyAuthority(cognitoAdmin, cognitoPmo, cognitoResearcher)\n\n        // Allows only ADMIN, PMO, CONTRACTOR, AND RESEARCHER roles to hit endpoints (restricts\n        // UNASSIGNED)\n        .anyRequest()\n        .hasAnyAuthority(cognitoAdmin, cognitoPmo, cognitoResearcher, CONTRACTOR.toCognitoGroup())\n        .and()\n        .oauth2ResourceServer()\n        .jwt()\n        .jwtAuthenticationConverter(new CognitoJwtAuthenticationConverter());\n\n    return http.build();\n  }\n</code></pre>\n<p>Application.java</p>\n<pre><code>@EnableCaching\n@EnableMongoAuditing\n@ConfigurationPropertiesScan\n@EnableMethodSecurity\n@SpringBootApplication\npublic class QnrBldrApplication {\n\n  public static void main(String[] args) {\n    SpringApplication.run(QnrBldrApplication.class, args);\n  }\n}\n</code></pre>\n"},{"tags":["java","gradle","annotation-processing"],"comments":[{"owner":{"account_id":6406447,"reputation":3104,"user_id":4967497,"accept_rate":83,"display_name":"JojOatXGME"},"score":0,"creation_date":1672014132,"post_id":74748689,"comment_id":132208091,"body_markdown":"Very nice description of your problem. :) First of all, you should be able to completly remove the `sourceSets` block. The source sets should support annotation processors by default. Besides that, your first srcDir for the test block (the one without the `\\\\test` suffix) was wrong anyway. I think you should also use forward slashes instead of backward slashes in Gradle. Finally, I noticed that the generated files are generated in `generated.myproject`, but the error message reports an issue with `gen.myproj`; Probably just a copy&amp;paste-error when you prepared this example? How is it going?","body":"Very nice description of your problem. :) First of all, you should be able to completly remove the <code>sourceSets</code> block. The source sets should support annotation processors by default. Besides that, your first srcDir for the test block (the one without the <code>\\\\test</code> suffix) was wrong anyway. I think you should also use forward slashes instead of backward slashes in Gradle. Finally, I noticed that the generated files are generated in <code>generated.myproject</code>, but the error message reports an issue with <code>gen.myproj</code>; Probably just a copy&amp;paste-error when you prepared this example? How is it going?"},{"owner":{"account_id":6406447,"reputation":3104,"user_id":4967497,"accept_rate":83,"display_name":"JojOatXGME"},"score":0,"creation_date":1672014796,"post_id":74748689,"comment_id":132208158,"body_markdown":"Maybe the issue had the same root cause as [this other question of you](https://stackoverflow.com/q/74749264/4967497)?","body":"Maybe the issue had the same root cause as <a href=\"https://stackoverflow.com/q/74749264/4967497\">this other question of you</a>?"}],"owner":{"account_id":20985221,"reputation":119,"user_id":15419185,"display_name":"I was in the neighborhood"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670624329,"creation_date":1670623545,"question_id":74748689,"body_markdown":"Banging my head against this for hours... \r\n\r\n1. I have an annotation processor which outputs new java source files. \r\n2. Those files are written to the standard Gradle (7.4.2) location e.g. `build/sources/annotationProcessor/java` \r\n3. Files generated for classes annotated in the **main** package get put in `annotationProcessor/java/main`. Files generated for classes annotated in the **test** package get put into `annotationProcessor/java/test`\r\n\r\n**The problem:** I can only use the java files output to `annotationProcessor/main` when compiling my tests. Any attempts to reference files generated in `annotationProcessor/test` cause `cannot find symbol` errors at build time. \r\n\r\n**Setup:**\r\n\r\nI&#39;m using a completely stock Gradle 7.4.2 multi-projcest setup as created by `init`. \r\n\r\n**Directory Structure:**\r\n\r\n```\r\n├── lib                           &lt;-- this is where I&#39;m using the annotation\r\n│   ...\r\n│   └── src/main/com/myproject\r\n│         └── MyPojo.java         &lt;-- this has an annotation on it\r\n│   └── src/test/com/myproject\r\n│         └── MyOtherPojo.java    &lt;-- this has an annotation on it\r\n│         └── MyTest.java         &lt;-- Where I&#39;m running the test\r\n│   └── build.gradle.kts\r\n├── processor                     &lt;-- Where my annotation processor code lives\r\n│   ...\r\n│   └── build.gradle.kts\r\n└── settings.gradle.kts\r\n```\r\n\r\nThe `build.gradle` for `lib` is similarly stock _with one exception_: I&#39;ve manually added the `build` dirs to my source sets: \r\n\r\n**build.gradle:** \r\n\r\n```\r\nplugins {\r\n    // Apply the java-library plugin for API and implementation separation.\r\n    id(&quot;java&quot;)\r\n}\r\n\r\ngroup = &quot;myproject&quot;\r\nversion = &quot;0.1&quot;\r\n\r\n\r\nrepositories {\r\n    // Use Maven Central for resolving dependencies.\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    // Use JUnit Jupiter for testing.\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter:5.8.1&quot;)\r\n\r\n    compileOnly(&quot;org.projectlombok:lombok:1.18.24&quot;)\r\n    annotationProcessor(&quot;org.projectlombok:lombok:1.18.24&quot;)\r\n\r\n    testCompileOnly(&quot;org.projectlombok:lombok:1.18.24&quot;)\r\n    testAnnotationProcessor(&quot;org.projectlombok:lombok:1.18.24&quot;)\r\n\r\n    // this is my annotation processor\r\n    implementation(project(&quot;:processor&quot;))\r\n    annotationProcessor(project(&quot;:processor&quot;))\r\n    testAnnotationProcessor(project(&quot;:processor&quot;))\r\n}\r\n\r\n// NEW! \r\n// To read the annotation generated files at all, I&#39;ve had \r\n// to manually add the build dir to my source sets. \r\nsourceSets {\r\n    main {\r\n        java {\r\n            srcDir(&quot;path\\\\to\\\\lib\\\\build\\\\generated\\\\sources\\\\annotationProcessor\\\\java\\\\main&quot;)\r\n        }\r\n\r\n    }\r\n    test {\r\n        java {\r\n            srcDir(&quot;path\\\\to\\\\lib\\\\build\\\\generated\\\\sources\\\\annotationProcessor\\\\java&quot;)\r\n        }\r\n    }\r\n}\r\n\r\ntasks.named&lt;Test&gt;(&quot;test&quot;) {\r\n    // Use JUnit Platform for unit tests.\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\n**What&#39;s happening:**\r\n\r\nWhen I run a test: my annotation processor kicks in. Finds the `MyPojo` (from main) and `MyOtherPOJO` (from test) classes that are annotated with my annotation, and generates a new helper files for each. They&#39;re put into `annotationProcessor/main` and `annotationProcessor/test` respectively. \r\n\r\nLike this: \r\n\r\n```\r\n├── lib                           \r\n│   ...\r\n│   └── build/generated/sources/annotationProcessor/java\r\n│         └── MyPojoHelper.java         &lt;-- my generated class\r\n│   └── build/generated/sources/annotationProcessor/test\r\n│         └── MyOtherPojoHelper.java    &lt;-- my generated class\r\n│   └── src\r\n│       ...\r\n```\r\n\r\nSo far so good.  \r\n\r\nI can use the generated files in `annotationProcessor/main` with no issue in my test file. \r\n\r\n```\r\n@Test\r\npublic void myTest() {\r\n    generated.myproject.MyPojoHelper.someMethod(&quot;foo&quot;); // works! \r\n}\r\n```\r\n\r\nHowever, if I try to do the exact same thing, but referencing a generated file in `annotationProcessor/test`, I fail while compiling the test package. \r\n\r\n\r\n```\r\n@Test\r\npublic void myTest() {\r\n    generated.myproject.MyOtherPojoHelper.someMethod(&quot;foo&quot;); // compile failure! \r\n}\r\n```\r\n\r\n**Error:**\r\n\r\n```\r\nerror: package gen.myproj does not exist\r\n        gen.myproj.MyOtherPojoHelper.someMethood(&quot;foo&quot;);\r\n                  ^\r\n```\r\n\r\n\r\n**Explicitly adding the `annotationProcessor/test` to source sets does not fix the problem:** \r\n\r\nThis is the recommended solution in this [SO Question](https://stackoverflow.com/questions/54547390/generated-test-sources-not-getting-invoked-as-part-of-the-build). \r\n\r\n\r\n```\r\nsourceSets {\r\n    main {\r\n        java {\r\n            srcDir(&quot;path\\\\to\\\\lib\\\\build\\\\generated\\\\sources\\\\annotationProcessor\\\\java\\\\main&quot;)\r\n        }\r\n\r\n    }\r\n    test {\r\n        java {\r\n            srcDir(&quot;path\\\\to\\\\lib\\\\build\\\\generated\\\\sources\\\\annotationProcessor\\\\java&quot;)\r\n        }\r\n    }\r\n    // NEW! \r\n    // Adding the test path explicitly\r\n    test {\r\n        java {\r\n            srcDir(&quot;path\\\\to\\\\lib\\\\build\\\\generated\\\\sources\\\\annotationProcessor\\\\java\\\\test&quot;)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nSame behavior while running the tests. For some reason, these files cannot be recognized. \r\n\r\n**I am completely stumped**. ","title":"Unable to read a source file generated during annotation processing only when its in the test package","body":"<p>Banging my head against this for hours...</p>\n<ol>\n<li>I have an annotation processor which outputs new java source files.</li>\n<li>Those files are written to the standard Gradle (7.4.2) location e.g. <code>build/sources/annotationProcessor/java</code></li>\n<li>Files generated for classes annotated in the <strong>main</strong> package get put in <code>annotationProcessor/java/main</code>. Files generated for classes annotated in the <strong>test</strong> package get put into <code>annotationProcessor/java/test</code></li>\n</ol>\n<p><strong>The problem:</strong> I can only use the java files output to <code>annotationProcessor/main</code> when compiling my tests. Any attempts to reference files generated in <code>annotationProcessor/test</code> cause <code>cannot find symbol</code> errors at build time.</p>\n<p><strong>Setup:</strong></p>\n<p>I'm using a completely stock Gradle 7.4.2 multi-projcest setup as created by <code>init</code>.</p>\n<p><strong>Directory Structure:</strong></p>\n<pre><code>├── lib                           &lt;-- this is where I'm using the annotation\n│   ...\n│   └── src/main/com/myproject\n│         └── MyPojo.java         &lt;-- this has an annotation on it\n│   └── src/test/com/myproject\n│         └── MyOtherPojo.java    &lt;-- this has an annotation on it\n│         └── MyTest.java         &lt;-- Where I'm running the test\n│   └── build.gradle.kts\n├── processor                     &lt;-- Where my annotation processor code lives\n│   ...\n│   └── build.gradle.kts\n└── settings.gradle.kts\n</code></pre>\n<p>The <code>build.gradle</code> for <code>lib</code> is similarly stock <em>with one exception</em>: I've manually added the <code>build</code> dirs to my source sets:</p>\n<p><strong>build.gradle:</strong></p>\n<pre><code>plugins {\n    // Apply the java-library plugin for API and implementation separation.\n    id(&quot;java&quot;)\n}\n\ngroup = &quot;myproject&quot;\nversion = &quot;0.1&quot;\n\n\nrepositories {\n    // Use Maven Central for resolving dependencies.\n    mavenCentral()\n}\n\ndependencies {\n    // Use JUnit Jupiter for testing.\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter:5.8.1&quot;)\n\n    compileOnly(&quot;org.projectlombok:lombok:1.18.24&quot;)\n    annotationProcessor(&quot;org.projectlombok:lombok:1.18.24&quot;)\n\n    testCompileOnly(&quot;org.projectlombok:lombok:1.18.24&quot;)\n    testAnnotationProcessor(&quot;org.projectlombok:lombok:1.18.24&quot;)\n\n    // this is my annotation processor\n    implementation(project(&quot;:processor&quot;))\n    annotationProcessor(project(&quot;:processor&quot;))\n    testAnnotationProcessor(project(&quot;:processor&quot;))\n}\n\n// NEW! \n// To read the annotation generated files at all, I've had \n// to manually add the build dir to my source sets. \nsourceSets {\n    main {\n        java {\n            srcDir(&quot;path\\\\to\\\\lib\\\\build\\\\generated\\\\sources\\\\annotationProcessor\\\\java\\\\main&quot;)\n        }\n\n    }\n    test {\n        java {\n            srcDir(&quot;path\\\\to\\\\lib\\\\build\\\\generated\\\\sources\\\\annotationProcessor\\\\java&quot;)\n        }\n    }\n}\n\ntasks.named&lt;Test&gt;(&quot;test&quot;) {\n    // Use JUnit Platform for unit tests.\n    useJUnitPlatform()\n}\n</code></pre>\n<p><strong>What's happening:</strong></p>\n<p>When I run a test: my annotation processor kicks in. Finds the <code>MyPojo</code> (from main) and <code>MyOtherPOJO</code> (from test) classes that are annotated with my annotation, and generates a new helper files for each. They're put into <code>annotationProcessor/main</code> and <code>annotationProcessor/test</code> respectively.</p>\n<p>Like this:</p>\n<pre><code>├── lib                           \n│   ...\n│   └── build/generated/sources/annotationProcessor/java\n│         └── MyPojoHelper.java         &lt;-- my generated class\n│   └── build/generated/sources/annotationProcessor/test\n│         └── MyOtherPojoHelper.java    &lt;-- my generated class\n│   └── src\n│       ...\n</code></pre>\n<p>So far so good.</p>\n<p>I can use the generated files in <code>annotationProcessor/main</code> with no issue in my test file.</p>\n<pre><code>@Test\npublic void myTest() {\n    generated.myproject.MyPojoHelper.someMethod(&quot;foo&quot;); // works! \n}\n</code></pre>\n<p>However, if I try to do the exact same thing, but referencing a generated file in <code>annotationProcessor/test</code>, I fail while compiling the test package.</p>\n<pre><code>@Test\npublic void myTest() {\n    generated.myproject.MyOtherPojoHelper.someMethod(&quot;foo&quot;); // compile failure! \n}\n</code></pre>\n<p><strong>Error:</strong></p>\n<pre><code>error: package gen.myproj does not exist\n        gen.myproj.MyOtherPojoHelper.someMethood(&quot;foo&quot;);\n                  ^\n</code></pre>\n<p><strong>Explicitly adding the <code>annotationProcessor/test</code> to source sets does not fix the problem:</strong></p>\n<p>This is the recommended solution in this <a href=\"https://stackoverflow.com/questions/54547390/generated-test-sources-not-getting-invoked-as-part-of-the-build\">SO Question</a>.</p>\n<pre><code>sourceSets {\n    main {\n        java {\n            srcDir(&quot;path\\\\to\\\\lib\\\\build\\\\generated\\\\sources\\\\annotationProcessor\\\\java\\\\main&quot;)\n        }\n\n    }\n    test {\n        java {\n            srcDir(&quot;path\\\\to\\\\lib\\\\build\\\\generated\\\\sources\\\\annotationProcessor\\\\java&quot;)\n        }\n    }\n    // NEW! \n    // Adding the test path explicitly\n    test {\n        java {\n            srcDir(&quot;path\\\\to\\\\lib\\\\build\\\\generated\\\\sources\\\\annotationProcessor\\\\java\\\\test&quot;)\n        }\n    }\n}\n</code></pre>\n<p>Same behavior while running the tests. For some reason, these files cannot be recognized.</p>\n<p><strong>I am completely stumped</strong>.</p>\n"},{"tags":["java","spring","spring-boot","yaml"],"comments":[{"owner":{"account_id":1986559,"reputation":9239,"user_id":1781611,"accept_rate":55,"display_name":"Jay"},"score":0,"creation_date":1445249494,"post_id":33211654,"comment_id":54227653,"body_markdown":"Would properties file format be simpler than YAML ?","body":"Would properties file format be simpler than YAML ?"},{"owner":{"account_id":1432415,"reputation":10687,"user_id":1354537,"accept_rate":83,"display_name":"Marged"},"score":0,"creation_date":1445250179,"post_id":33211654,"comment_id":54228043,"body_markdown":"It seems this has not been fixed in Spring and there are no plans to do: https://github.com/spring-projects/spring-framework/pull/747","body":"It seems this has not been fixed in Spring and there are no plans to do: <a href=\"https://github.com/spring-projects/spring-framework/pull/747\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/pull/747</a>"},{"owner":{"account_id":4638674,"reputation":73,"user_id":3759136,"display_name":"Tetragramato"},"score":0,"creation_date":1445253196,"post_id":33211654,"comment_id":54229844,"body_markdown":"Too bad, because the way to make it works is very tricky. Maybe i&#39;m going to make my list as String with comma, even if i think this is not a good way :/","body":"Too bad, because the way to make it works is very tricky. Maybe i&#39;m going to make my list as String with comma, even if i think this is not a good way :/"}],"answers":[{"tags":[],"owner":{"account_id":160253,"reputation":154,"user_id":2309066,"display_name":"mark"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1455578346,"creation_date":1455578346,"answer_id":35420905,"question_id":33211654,"body_markdown":"According to this documentation you can do a list in yaml.\r\nhttp://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-yaml\r\n\r\nYAML lists are represented as property keys with [index] dereferencers, for example this YAML:\r\n\r\n    my:\r\n       servers:\r\n           - dev.bar.com\r\n           - foo.bar.com\r\n\r\nWould be transformed into these properties:\r\n\r\n    my.servers[0]=dev.bar.com\r\n    my.servers[1]=foo.bar.com\r\n\r\nTo bind to properties like that using the Spring DataBinder utilities (which is what @ConfigurationProperties does) you need to have a property in the target bean of type java.util.List (or Set) and you either need to provide a setter, or initialize it with a mutable value, e.g. this will bind to the properties above\r\n\r\n    @ConfigurationProperties(prefix=&quot;my&quot;)\r\n    public class Config {\r\n    \r\n        private List&lt;String&gt; servers = new ArrayList&lt;String&gt;();\r\n    \r\n        public List&lt;String&gt; getServers() {\r\n            return this.servers;\r\n        }\r\n    }","title":"Spring Boot YAML config and list","body":"<p>According to this documentation you can do a list in yaml.\n<a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-yaml\" rel=\"nofollow\">http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-yaml</a></p>\n\n<p>YAML lists are represented as property keys with [index] dereferencers, for example this YAML:</p>\n\n<pre><code>my:\n   servers:\n       - dev.bar.com\n       - foo.bar.com\n</code></pre>\n\n<p>Would be transformed into these properties:</p>\n\n<pre><code>my.servers[0]=dev.bar.com\nmy.servers[1]=foo.bar.com\n</code></pre>\n\n<p>To bind to properties like that using the Spring DataBinder utilities (which is what @ConfigurationProperties does) you need to have a property in the target bean of type java.util.List (or Set) and you either need to provide a setter, or initialize it with a mutable value, e.g. this will bind to the properties above</p>\n\n<pre><code>@ConfigurationProperties(prefix=\"my\")\npublic class Config {\n\n    private List&lt;String&gt; servers = new ArrayList&lt;String&gt;();\n\n    public List&lt;String&gt; getServers() {\n        return this.servers;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10245141,"reputation":69,"user_id":7561154,"display_name":"Vanka Manikanth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625106593,"creation_date":1625106593,"answer_id":68203563,"question_id":33211654,"body_markdown":"    https://www.youtube.com/watch?v=d6Scea1JdMg&amp;t=9s\r\n\r\n\r\nPlease refer to the above link. Maybe it helps, shown how to read different data types in application.yml in the Spring Boot.","title":"Spring Boot YAML config and list","body":"<pre><code>https://www.youtube.com/watch?v=d6Scea1JdMg&amp;t=9s\n</code></pre>\n<p>Please refer to the above link. Maybe it helps, shown how to read different data types in application.yml in the Spring Boot.</p>\n"},{"tags":[],"owner":{"account_id":25167589,"reputation":340,"user_id":19010882,"display_name":"Prectron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670624036,"creation_date":1670624036,"answer_id":74748759,"question_id":33211654,"body_markdown":"There is a related GitHub thread: [@Value annotation should be able to inject List&lt;String&gt; from YAML properties][1]. The issue has been closed, and according to [a comment in a duplicate issue][2], they&#39;re not considering implementing the support now. It will be reopened once they decide to work on it.\r\n\r\nUntil then, you can go the way described in @mark&#39;s answer, using `@ConfigurationProperties`, also mentioned on GitHub.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/issues/16381\r\n  [2]: https://github.com/spring-projects/spring-framework/issues/28018#issuecomment-1032424556","title":"Spring Boot YAML config and list","body":"<p>There is a related GitHub thread: <a href=\"https://github.com/spring-projects/spring-framework/issues/16381\" rel=\"nofollow noreferrer\">@Value annotation should be able to inject List from YAML properties</a>. The issue has been closed, and according to <a href=\"https://github.com/spring-projects/spring-framework/issues/28018#issuecomment-1032424556\" rel=\"nofollow noreferrer\">a comment in a duplicate issue</a>, they're not considering implementing the support now. It will be reopened once they decide to work on it.</p>\n<p>Until then, you can go the way described in @mark's answer, using <code>@ConfigurationProperties</code>, also mentioned on GitHub.</p>\n"}],"owner":{"account_id":4638674,"reputation":73,"user_id":3759136,"display_name":"Tetragramato"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2569,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1670624036,"creation_date":1445249012,"question_id":33211654,"body_markdown":"I have to integrate a list in a YAML config file in Spring Boot, and don&#39;t see how to proceed.\r\n\r\nI already saw other questions related : https://stackoverflow.com/questions/26699385/spring-boot-yaml-configuration-for-a-list-of-strings\r\n\r\nAnd have the same issue.\r\n\r\nI applied the solution and worked around, and found the solution a little tricky.\r\n\r\nIs there a way to make lists work with the @Value ?\r\n\r\nAnd if not now, is it expected in future ?\r\n\r\nThanks a lot.  ","title":"Spring Boot YAML config and list","body":"<p>I have to integrate a list in a YAML config file in Spring Boot, and don't see how to proceed.</p>\n\n<p>I already saw other questions related : <a href=\"https://stackoverflow.com/questions/26699385/spring-boot-yaml-configuration-for-a-list-of-strings\">Spring Boot yaml configuration for a list of strings</a></p>\n\n<p>And have the same issue.</p>\n\n<p>I applied the solution and worked around, and found the solution a little tricky.</p>\n\n<p>Is there a way to make lists work with the @Value ?</p>\n\n<p>And if not now, is it expected in future ?</p>\n\n<p>Thanks a lot.  </p>\n"},{"tags":["java","r","xlsx"],"comments":[{"owner":{"account_id":8003299,"reputation":5966,"user_id":6037369,"display_name":"Yifu Yan"},"score":0,"creation_date":1568217623,"post_id":57892782,"comment_id":102207213,"body_markdown":"Possible duplicate of [How can I install rJava for use with 64bit R on a 64 bit Windows computer?](https://stackoverflow.com/questions/9120270/how-can-i-install-rjava-for-use-with-64bit-r-on-a-64-bit-windows-computer)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/9120270/how-can-i-install-rjava-for-use-with-64bit-r-on-a-64-bit-windows-computer\">How can I install rJava for use with 64bit R on a 64 bit Windows computer?</a>"},{"owner":{"account_id":2753188,"reputation":198476,"user_id":2372064,"accept_rate":100,"display_name":"MrFlick"},"score":0,"creation_date":1568217629,"post_id":57892782,"comment_id":102207223,"body_markdown":"Have you properly installed `rJava` on that machine? These tips might help: https://cimentadaj.github.io/blog/2018-05-25-installing-rjava-on-windows-10/installing-rjava-on-windows-10/","body":"Have you properly installed <code>rJava</code> on that machine? These tips might help: <a href=\"https://cimentadaj.github.io/blog/2018-05-25-installing-rjava-on-windows-10/installing-rjava-on-windows-10/\" rel=\"nofollow noreferrer\">cimentadaj.github.io/blog/&hellip;</a>"},{"owner":{"account_id":16481441,"reputation":4203,"user_id":11908107,"display_name":"slava-kohut"},"score":1,"creation_date":1568217720,"post_id":57892782,"comment_id":102207277,"body_markdown":"Do you have the `RJava` package installed and the `JAVA HOME` environment variable set? I suggest that you try the `openxlsx` package if you want to manipulate xlsx files in R. It does not rely on Java.","body":"Do you have the <code>RJava</code> package installed and the <code>JAVA HOME</code> environment variable set? I suggest that you try the <code>openxlsx</code> package if you want to manipulate xlsx files in R. It does not rely on Java."},{"owner":{"account_id":16481441,"reputation":4203,"user_id":11908107,"display_name":"slava-kohut"},"score":0,"creation_date":1568232306,"post_id":57892782,"comment_id":102213461,"body_markdown":"Simply try:\n\n    install.packages(&#39;openxlsx&#39;)\n\nYou can achieve many tasks you need `xlsx` for with `openxlsx`, but the latter removes the dependency on Java while providing the same speed.","body":"Simply try:      install.packages(&#39;openxlsx&#39;)  You can achieve many tasks you need <code>xlsx</code> for with <code>openxlsx</code>, but the latter removes the dependency on Java while providing the same speed."},{"owner":{"account_id":2211545,"reputation":1513,"user_id":1953250,"display_name":"ozturkib"},"score":0,"creation_date":1591693549,"post_id":57892782,"comment_id":110144993,"body_markdown":"If you would like to fully uninstall then clean reinstall R and RStudio, follow the steps here: https://stackoverflow.com/a/61187094/1953250","body":"If you would like to fully uninstall then clean reinstall R and RStudio, follow the steps here: <a href=\"https://stackoverflow.com/a/61187094/1953250\">stackoverflow.com/a/61187094/1953250</a>"}],"answers":[{"tags":[],"owner":{"account_id":212359,"reputation":9126,"user_id":465139,"accept_rate":27,"display_name":"Andr&#225;s Asz&#243;di"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598888948,"creation_date":1598888948,"answer_id":63674031,"question_id":57892782,"body_markdown":"Unless you have no compelling reason to use `xlsx`, I would suggest you consider [`readxl`][1] because it has no external dependencies.\r\n\r\n\r\n  [1]: https://readxl.tidyverse.org","title":"Cannot install xlsx package for R","body":"<p>Unless you have no compelling reason to use <code>xlsx</code>, I would suggest you consider <a href=\"https://readxl.tidyverse.org\" rel=\"nofollow noreferrer\"><code>readxl</code></a> because it has no external dependencies.</p>\n"}],"owner":{"account_id":16677987,"reputation":67,"user_id":12053904,"display_name":"Fred"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1577,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670623695,"creation_date":1568217143,"question_id":57892782,"body_markdown":"Cannot install R package xlsx. \r\n\r\nI have previously used the package on other PCs and had no trouble with it whatsoever, but am having difficulty with a new PC. From what I can tell the issue is something to do with Java. Currently tried: \r\n\r\n- Downloading Java Development Kit\r\n- Downloading JRE \r\n- Editing environment variables to point to the right Java (for both of the above)\r\n- Running through the R console (both 32 and 64 bit) \r\n- Uninstalling and reinstalling Rstudio / R \r\n\r\n\r\n\r\n&gt; install.packages(&quot;xlsx&quot;)&lt;br/&gt;\r\n`Installing package into ‘C:/Users/Fred Goktas/Documents/R/win-library/3.3’&lt;br/&gt;\r\n(as ‘lib’ is unspecified) &lt;br/&gt;\r\n  There is a binary version available but the source version is later:&lt;br/&gt;\r\n     binary source needs_compilation&lt;br/&gt;\r\nxlsx  0.5.7  0.6.1             FALSE&lt;br/&gt;\r\ninstalling the source package ‘xlsx’&lt;br/&gt;\r\ntrying URL &#39;https://cran.rstudio.com/src/contrib/xlsx_0.6.1.tar.gz&#39;&lt;br/&gt;\r\nContent type &#39;application/x-gzip&#39; length 315441 bytes (308 KB)&lt;br/&gt;\r\ndownloaded 308 KB&lt;br/&gt;\r\n* installing *source* package &#39;xlsx&#39; ...&lt;br/&gt;\r\n** package &#39;xlsx&#39; successfully unpacked and MD5 sums checked&lt;br/&gt;\r\n** R&lt;br/&gt;\r\n** inst&lt;br/&gt;\r\n** preparing package for lazy loading&lt;br/&gt;\r\n** help&lt;br/&gt;\r\n*** installing help indices&lt;br/&gt;\r\n** building package indices&lt;br/&gt;\r\n** installing vignettes&lt;br/&gt;\r\n** testing if installed package can be loaded&lt;br/&gt;\r\n*** arch - i386&lt;br/&gt;\r\nError : .onLoad failed in loadNamespace() for &#39;rJava&#39;, details:&lt;br/&gt;\r\n  call: inDL(x, as.logical(local), as.logical(now), ...)&lt;br/&gt;\r\n  error: unable to load shared object &#39;C:/Users/Fred Goktas/Documents/R/win-library/3.3/rJava/libs/i386/rJava.dll&#39;:&lt;br/&gt;\r\n  LoadLibrary failure:  %1 is not a valid Win32 application.&lt;br/&gt;\r\nError: loading failed&lt;br/&gt;\r\nExecution halted&lt;br/&gt;\r\n*** arch - x64&lt;br/&gt;\r\nERROR: loading failed for &#39;i386&#39;&lt;br/&gt;\r\n* removing &#39;C:/Users/Fred Goktas/Documents/R/win-library/3.3/xlsx&#39;&lt;br/&gt;\r\nWarning in install.packages :&lt;br/&gt;\r\n  running command &#39;&quot;C:/PROGRA~1/R/R-33~1.3/bin/x64/R&quot; CMD INSTALL -l &lt;br/&gt;&quot;C:\\Users\\Fred Goktas\\Documents\\R\\win-library\\3.3&quot; &lt;br/&gt;C:\\Users\\FREDGO~1\\AppData\\Local\\Temp\\RtmpYLz0xk/downloaded_packages/xlsx_0.6.1.tar.gz&#39; had status 1&lt;br/&gt;\r\nWarning in install.packages :&lt;br/&gt;\r\n  installation of package ‘xlsx’ had non-zero exit status&lt;br/&gt;\r\n\r\nPackage should install without any troubles.","title":"Cannot install xlsx package for R","body":"<p>Cannot install R package xlsx. </p>\n\n<p>I have previously used the package on other PCs and had no trouble with it whatsoever, but am having difficulty with a new PC. From what I can tell the issue is something to do with Java. Currently tried: </p>\n\n<ul>\n<li>Downloading Java Development Kit</li>\n<li>Downloading JRE </li>\n<li>Editing environment variables to point to the right Java (for both of the above)</li>\n<li>Running through the R console (both 32 and 64 bit) </li>\n<li>Uninstalling and reinstalling Rstudio / R </li>\n</ul>\n\n<blockquote>\n  <p>install.packages(\"xlsx\")<br/>\n  `Installing package into ‘C:/Users/Fred Goktas/Documents/R/win-library/3.3’<br/>\n  (as ‘lib’ is unspecified) <br/>\n    There is a binary version available but the source version is later:<br/>\n       binary source needs_compilation<br/>\n  xlsx  0.5.7  0.6.1             FALSE<br/>\n  installing the source package ‘xlsx’<br/>\n  trying URL '<a href=\"https://cran.rstudio.com/src/contrib/xlsx_0.6.1.tar.gz\" rel=\"nofollow noreferrer\">https://cran.rstudio.com/src/contrib/xlsx_0.6.1.tar.gz</a>'<br/>\n  Content type 'application/x-gzip' length 315441 bytes (308 KB)<br/>\n  downloaded 308 KB<br/>\n  * installing <em>source</em> package 'xlsx' ...<br/>\n  ** package 'xlsx' successfully unpacked and MD5 sums checked<br/>\n  ** R<br/>\n  ** inst<br/>\n  ** preparing package for lazy loading<br/>\n  ** help<br/>\n  <strong>* installing help indices<br/>\n  ** building package indices<br/>\n  ** installing vignettes<br/>\n  ** testing if installed package can be loaded<br/>\n  *</strong> arch - i386<br/>\n  Error : .onLoad failed in loadNamespace() for 'rJava', details:<br/>\n    call: inDL(x, as.logical(local), as.logical(now), ...)<br/>\n    error: unable to load shared object 'C:/Users/Fred Goktas/Documents/R/win-library/3.3/rJava/libs/i386/rJava.dll':<br/>\n    LoadLibrary failure:  %1 is not a valid Win32 application.<br/>\n  Error: loading failed<br/>\n  Execution halted<br/>\n  *** arch - x64<br/>\n  ERROR: loading failed for 'i386'<br/>\n  * removing 'C:/Users/Fred Goktas/Documents/R/win-library/3.3/xlsx'<br/>\n  Warning in install.packages :<br/>\n    running command '\"C:/PROGRA~1/R/R-33~1.3/bin/x64/R\" CMD INSTALL -l <br/>\"C:\\Users\\Fred Goktas\\Documents\\R\\win-library\\3.3\" <br/>C:\\Users\\FREDGO~1\\AppData\\Local\\Temp\\RtmpYLz0xk/downloaded_packages/xlsx_0.6.1.tar.gz' had status 1<br/>\n  Warning in install.packages :<br/>\n    installation of package ‘xlsx’ had non-zero exit status<br/></p>\n</blockquote>\n\n<p>Package should install without any troubles.</p>\n"},{"tags":["java","arraylist","hashmap","string-comparison"],"comments":[{"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"score":0,"creation_date":1670626942,"post_id":74748479,"comment_id":131924711,"body_markdown":"Both @maveriq and @Wahid have pointed out the issue. Best way to handle is to ensure the input is consistent either by changing the input string or by manually trimming the spaces. \n\nOne quick and dirty &#39;hack&#39; is to include the extra space after comma as your delimiter for split `List&lt;String&gt; csvList = Arrays.asList(csv.split(&quot;, &quot;));` (note there is a space after the comma)","body":"Both @maveriq and @Wahid have pointed out the issue. Best way to handle is to ensure the input is consistent either by changing the input string or by manually trimming the spaces.   One quick and dirty &#39;hack&#39; is to include the extra space after comma as your delimiter for split <code>List&lt;String&gt; csvList = Arrays.asList(csv.split(&quot;, &quot;));</code> (note there is a space after the comma)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1670638206,"post_id":74748479,"comment_id":131926143,"body_markdown":"The best way to have diagnosed this would have been to step through the code with the debugger, carefully looking at the values in csvList.","body":"The best way to have diagnosed this would have been to step through the code with the debugger, carefully looking at the values in csvList."}],"answers":[{"tags":[],"owner":{"account_id":12566813,"reputation":476,"user_id":9272947,"display_name":"maveriq"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1670622170,"creation_date":1670622170,"answer_id":74748564,"question_id":74748479,"body_markdown":"The issue is in your input string:\r\n\r\n    String csv = &quot;Apple, Google, Samsung&quot;;\r\n\r\nWhen parsing, spaces are not automatically truncated, so later `retainAll` interprets them as different strings, like `Google` and ` Google`.\r\n\r\nYou can either remove your spaces from the input string or trim them manually.\r\n\r\nCorrect output for your inputs would be:\r\n\r\n    [Apple, Google]","title":"Find common elements in two string list java","body":"<p>The issue is in your input string:</p>\n<pre><code>String csv = &quot;Apple, Google, Samsung&quot;;\n</code></pre>\n<p>When parsing, spaces are not automatically truncated, so later <code>retainAll</code> interprets them as different strings, like <code>Google</code> and <code> Google</code>.</p>\n<p>You can either remove your spaces from the input string or trim them manually.</p>\n<p>Correct output for your inputs would be:</p>\n<pre><code>[Apple, Google]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":213898,"reputation":908,"user_id":467545,"display_name":"Wahid Sadik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670622214,"creation_date":1670622214,"answer_id":74748567,"question_id":74748479,"body_markdown":"Take a look at this: `String csv = &quot;Apple, Google, Samsung&quot;;`\r\n\r\nAfter the split, the second and third elements will be ` Google` and ` Samsung`, which are different from `Google` and `Samsung`.","title":"Find common elements in two string list java","body":"<p>Take a look at this: <code>String csv = &quot;Apple, Google, Samsung&quot;;</code></p>\n<p>After the split, the second and third elements will be <code> Google</code> and <code> Samsung</code>, which are different from <code>Google</code> and <code>Samsung</code>.</p>\n"}],"owner":{"account_id":24280012,"reputation":123,"user_id":18226690,"display_name":"ln3106"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1670622214,"creation_date":1670621413,"question_id":74748479,"body_markdown":"i have two  String list in java and i want to get common element of two list.\r\nI use the retainAll method but it doesn&#39;t work\r\n\r\n    String csv = &quot;Apple, Google, Samsung&quot;;\r\n    List&lt;String&gt; csvList = Arrays.asList(csv.split(&quot;,&quot;));\r\n    ArrayList&lt;String&gt; list0= new ArrayList&lt;String&gt;(csvList);\r\n    ArrayList&lt;String&gt; list1 = new ArrayList&lt;String&gt;();\r\n    list1.add(&quot;Apple&quot;);\r\n    list1.add(&quot;Asus&quot;);\r\n    list1.add(&quot;Lenovo&quot;); \r\n    list1.add(&quot;Google&quot;);\r\n    list1.retainAll(list0);\r\n\r\nlist1.retainAll(list0); return list1 empty . list1 must return ==&gt;  &quot;Apple, Google, Samsung&quot;\r\n\r\nhow can i return a list of common element in two string list please help. \r\n","title":"Find common elements in two string list java","body":"<p>i have two  String list in java and i want to get common element of two list.\nI use the retainAll method but it doesn't work</p>\n<pre><code>String csv = &quot;Apple, Google, Samsung&quot;;\nList&lt;String&gt; csvList = Arrays.asList(csv.split(&quot;,&quot;));\nArrayList&lt;String&gt; list0= new ArrayList&lt;String&gt;(csvList);\nArrayList&lt;String&gt; list1 = new ArrayList&lt;String&gt;();\nlist1.add(&quot;Apple&quot;);\nlist1.add(&quot;Asus&quot;);\nlist1.add(&quot;Lenovo&quot;); \nlist1.add(&quot;Google&quot;);\nlist1.retainAll(list0);\n</code></pre>\n<p>list1.retainAll(list0); return list1 empty . list1 must return ==&gt;  &quot;Apple, Google, Samsung&quot;</p>\n<p>how can i return a list of common element in two string list please help.</p>\n"},{"tags":["java","spring","spring-boot","rest","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":20099597,"reputation":446,"user_id":14738350,"display_name":"devblack.exe"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670621066,"creation_date":1670621066,"answer_id":74748429,"question_id":74706556,"body_markdown":"If you want to avoid creating JVM memory issues while uploading large files, you can use the **streaming method** rather than reading the file directly into memory. \r\n\r\nTo follow this approach you have to use the `Flux.fromStream` operation to create a flux of ByteBuffer object from `InputSteam` which will read the uploaded file.\r\n\r\nWith this approach, you can *(let&#39;s say)* &quot;split&quot; the file into small pieces instead of loading the whole file into JVM&#39;s memory.\r\n\r\nHere is an example of reading the file into a flux:\r\n\r\n```java\r\nWebClient webClient = WebClient.builder()\r\n    .baseUrl(myBaseUrl)\r\n    .defaultHeaders(httpHeaders -&gt; {\r\n        httpHeaders.setContentType(MediaType.APPLICATION_JSON);\r\n        ...\r\n    })\r\n    .clientConnector(new ReactorClientHttpConnector(client))\r\n    .build();\r\n\r\n// read the uploading file into Flux\r\nFlux &lt; ByteBuffer &gt; fileContent = Flux.fromStream(() -&gt; new FileInputStream(uploadFile))\r\n    .map(buf -&gt; ByteBuffer.wrap(buf))\r\n    .doOnTerminate(() -&gt; fileInputStream.close());\r\n\r\n// use the flux for uploadPojo\r\nUploadPojo uploadPojo = new UploadPojo();\r\nuploadPojo.setMetadata(fileMetadata);\r\nuploadPojo.setData(fileContent);\r\n\r\nwebClient.post()\r\n    .uri(&quot;endpoint&quot;)\r\n    .body(Mono.just(uploadPojo), UploadPojo.class)\r\n    .retrieve()\r\n    .bodyToMono(ResponsePojo.class);\r\n```\r\n\r\nI would suggest reading about [WebFlux][1] before going with this method. Since it has its [drawbacks][2]. For example, it is way slower than just simply reading the entire file in JVM&#39;s memory. \r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-webflux\r\n  [2]: https://blog.pragmatists.com/unobvious-traps-of-spring-webflux-16924a0d76d5","title":"Is it possible to use Spring Webclient to post files to an endpoint expecting application/json without reading the files into memory?","body":"<p>If you want to avoid creating JVM memory issues while uploading large files, you can use the <strong>streaming method</strong> rather than reading the file directly into memory.</p>\n<p>To follow this approach you have to use the <code>Flux.fromStream</code> operation to create a flux of ByteBuffer object from <code>InputSteam</code> which will read the uploaded file.</p>\n<p>With this approach, you can <em>(let's say)</em> &quot;split&quot; the file into small pieces instead of loading the whole file into JVM's memory.</p>\n<p>Here is an example of reading the file into a flux:</p>\n<pre class=\"lang-java prettyprint-override\"><code>WebClient webClient = WebClient.builder()\n    .baseUrl(myBaseUrl)\n    .defaultHeaders(httpHeaders -&gt; {\n        httpHeaders.setContentType(MediaType.APPLICATION_JSON);\n        ...\n    })\n    .clientConnector(new ReactorClientHttpConnector(client))\n    .build();\n\n// read the uploading file into Flux\nFlux &lt; ByteBuffer &gt; fileContent = Flux.fromStream(() -&gt; new FileInputStream(uploadFile))\n    .map(buf -&gt; ByteBuffer.wrap(buf))\n    .doOnTerminate(() -&gt; fileInputStream.close());\n\n// use the flux for uploadPojo\nUploadPojo uploadPojo = new UploadPojo();\nuploadPojo.setMetadata(fileMetadata);\nuploadPojo.setData(fileContent);\n\nwebClient.post()\n    .uri(&quot;endpoint&quot;)\n    .body(Mono.just(uploadPojo), UploadPojo.class)\n    .retrieve()\n    .bodyToMono(ResponsePojo.class);\n</code></pre>\n<p>I would suggest reading about <a href=\"https://www.baeldung.com/spring-webflux\" rel=\"nofollow noreferrer\">WebFlux</a> before going with this method. Since it has its <a href=\"https://blog.pragmatists.com/unobvious-traps-of-spring-webflux-16924a0d76d5\" rel=\"nofollow noreferrer\">drawbacks</a>. For example, it is way slower than just simply reading the entire file in JVM's memory.</p>\n"}],"owner":{"account_id":8373638,"reputation":77,"user_id":6451842,"accept_rate":57,"display_name":"billoot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1670621066,"creation_date":1670346798,"question_id":74706556,"body_markdown":"I&#39;m trying to POST to an endpoint that looks like this:\r\n\r\n    @PostMapping(&quot;/endpoint&quot;, consumes=&quot;application/json&quot;)\r\n    public ResponsePojo post(final @RequestBody UploadPojo uploadPojo) {\r\n        ...\r\n    }\r\n\r\nWhere the request body looks like this:\r\n\r\n    public class UploadPojo {\r\n        private String metadata;\r\n        private List&lt;InnerClass&gt;;\r\n    }\r\n    \r\n    public class InnerClass {\r\n        private String metadata;\r\n        private byte[] data;\r\n    }\r\n\r\nMy current code to achieve this is using Spring `WebClient`, and it looks something like this:\r\n\r\n    //Create the base webClient\r\n    WebClient webClient = WebClient.builder()\r\n        .baseUrl(myBaseUrl)\r\n        .defaultHeaders(httpHeaders -&gt; {\r\n            httpHeaders.setContentType(MediaType.APPLICATION_JSON);\r\n            ...\r\n        })\r\n        .clientConnector(new ReactorClientHttpConnector(client))\r\n        .build();\r\n        \r\n    //Perform the upload\r\n    webClient.post()\r\n        .uri(&quot;endpoint&quot;)\r\n        .body(Mono.just(UploadPojo), UploadPojo.class)\r\n        .retrieve()\r\n        .bodyToMono(ResponsePojo.class);\r\n\r\nThe issue really comes in because to call the above code I need to have an UploadPojo, which means I need to load the upload file contents into its internal byte[] in memory, which is not only feels like a slow extra step but also can cause JVM memory issues with larger uploads.\r\n\r\nIf I&#39;m unable to change the endpoint, are there any possible changes I could make to avoid reading the file contents into byte[] memory?","title":"Is it possible to use Spring Webclient to post files to an endpoint expecting application/json without reading the files into memory?","body":"<p>I'm trying to POST to an endpoint that looks like this:</p>\n<pre><code>@PostMapping(&quot;/endpoint&quot;, consumes=&quot;application/json&quot;)\npublic ResponsePojo post(final @RequestBody UploadPojo uploadPojo) {\n    ...\n}\n</code></pre>\n<p>Where the request body looks like this:</p>\n<pre><code>public class UploadPojo {\n    private String metadata;\n    private List&lt;InnerClass&gt;;\n}\n\npublic class InnerClass {\n    private String metadata;\n    private byte[] data;\n}\n</code></pre>\n<p>My current code to achieve this is using Spring <code>WebClient</code>, and it looks something like this:</p>\n<pre><code>//Create the base webClient\nWebClient webClient = WebClient.builder()\n    .baseUrl(myBaseUrl)\n    .defaultHeaders(httpHeaders -&gt; {\n        httpHeaders.setContentType(MediaType.APPLICATION_JSON);\n        ...\n    })\n    .clientConnector(new ReactorClientHttpConnector(client))\n    .build();\n    \n//Perform the upload\nwebClient.post()\n    .uri(&quot;endpoint&quot;)\n    .body(Mono.just(UploadPojo), UploadPojo.class)\n    .retrieve()\n    .bodyToMono(ResponsePojo.class);\n</code></pre>\n<p>The issue really comes in because to call the above code I need to have an UploadPojo, which means I need to load the upload file contents into its internal byte[] in memory, which is not only feels like a slow extra step but also can cause JVM memory issues with larger uploads.</p>\n<p>If I'm unable to change the endpoint, are there any possible changes I could make to avoid reading the file contents into byte[] memory?</p>\n"},{"tags":["java","parameters","prepared-statement","influxdb"],"answers":[{"tags":[],"owner":{"account_id":4236992,"reputation":1377,"user_id":3467894,"accept_rate":42,"display_name":"Michal Špondr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601018724,"creation_date":1601018724,"answer_id":64059680,"question_id":64046750,"body_markdown":"The problem was that I didn&#39;t set the database after connect:\r\n\r\n    influxDB.setDatabase(&quot;my_database&quot;);\r\n\r\nAfter that it started working. InfluxDB log still does not contain bound parameter, only &quot;lbs&quot; string, but the parameter has been passed.\r\n","title":"How to bind parameters in query with influxdb-java","body":"<p>The problem was that I didn't set the database after connect:</p>\n<pre><code>influxDB.setDatabase(&quot;my_database&quot;);\n</code></pre>\n<p>After that it started working. InfluxDB log still does not contain bound parameter, only &quot;lbs&quot; string, but the parameter has been passed.</p>\n"}],"owner":{"account_id":4236992,"reputation":1377,"user_id":3467894,"accept_rate":42,"display_name":"Michal Špondr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":765,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670620628,"creation_date":1600951561,"question_id":64046750,"body_markdown":"I am not able to bind parameters in this code:\r\n\r\n    import org.influxdb.InfluxDB;\r\n    import org.influxdb.InfluxDBFactory;\r\n    import org.influxdb.dto.BoundParameterQuery;\r\n    import org.influxdb.dto.Query;\r\n    import org.influxdb.dto.QueryResult;\r\n    \r\n    public class BindTest {\r\n        public static void main(String[] args) {\r\n            InfluxDB influxDB = InfluxDBFactory.connect(&quot;http://127.0.0.1:8086&quot;);\r\n            String s = &quot;SELECT LAST(*) FROM batch_assembly_monitoring WHERE last_batch_start = $lbs&quot;;\r\n            Query query = BoundParameterQuery.QueryBuilder.newQuery(s)\r\n                    .bind(&quot;lbs&quot;, 234567890)\r\n                    .create();\r\n            System.out.println(query.getCommand());\r\n            QueryResult result = influxDB.query(query);\r\n        }\r\n    }\r\n\r\nThe output I get at stdout:\r\n\r\n`SELECT LAST(*) FROM batch_assembly_monitoring WHERE last_batch_start = $lbs`\r\n\r\nand also InfluxDB log contains this:\r\n\r\n&gt; [httpd] 172.17.0.1 - - [24/Sep/2020:12:40:29 +0000] &quot;POST\r\n&gt; /query?params=%7B%22lbs%22%3A234567890%7D&amp;q=SELECT+LAST%28%2A%29+FROM+batch_assembly_monitoring+WHERE+last_batch_start+%3D+%24lbs\r\n&gt; HTTP/1.1&quot; 200 89 &quot;-&quot; &quot;okhttp/4.8.1&quot;\r\n&gt; 20fe610d-fe63-11ea-81ba-0242ac110002 271\r\n\r\nIt seems binding parameters are not bound and a placeholder string is used in query instead of value 234567890.\r\n\r\nWhat did I do wrong?","title":"How to bind parameters in query with influxdb-java","body":"<p>I am not able to bind parameters in this code:</p>\n<pre><code>import org.influxdb.InfluxDB;\nimport org.influxdb.InfluxDBFactory;\nimport org.influxdb.dto.BoundParameterQuery;\nimport org.influxdb.dto.Query;\nimport org.influxdb.dto.QueryResult;\n\npublic class BindTest {\n    public static void main(String[] args) {\n        InfluxDB influxDB = InfluxDBFactory.connect(&quot;http://127.0.0.1:8086&quot;);\n        String s = &quot;SELECT LAST(*) FROM batch_assembly_monitoring WHERE last_batch_start = $lbs&quot;;\n        Query query = BoundParameterQuery.QueryBuilder.newQuery(s)\n                .bind(&quot;lbs&quot;, 234567890)\n                .create();\n        System.out.println(query.getCommand());\n        QueryResult result = influxDB.query(query);\n    }\n}\n</code></pre>\n<p>The output I get at stdout:</p>\n<p><code>SELECT LAST(*) FROM batch_assembly_monitoring WHERE last_batch_start = $lbs</code></p>\n<p>and also InfluxDB log contains this:</p>\n<blockquote>\n<p>[httpd] 172.17.0.1 - - [24/Sep/2020:12:40:29 +0000] &quot;POST\n/query?params=%7B%22lbs%22%3A234567890%7D&amp;q=SELECT+LAST%28%2A%29+FROM+batch_assembly_monitoring+WHERE+last_batch_start+%3D+%24lbs\nHTTP/1.1&quot; 200 89 &quot;-&quot; &quot;okhttp/4.8.1&quot;\n20fe610d-fe63-11ea-81ba-0242ac110002 271</p>\n</blockquote>\n<p>It seems binding parameters are not bound and a placeholder string is used in query instead of value 234567890.</p>\n<p>What did I do wrong?</p>\n"},{"tags":["java","spring-mvc","modelattribute"],"comments":[{"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":52,"creation_date":1281093908,"post_id":3423262,"comment_id":3563561,"body_markdown":"Read the documentation: http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/mvc.html#mvc-ann-modelattrib and http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/bind/annotation/ModelAttribute.html","body":"Read the documentation: <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/mvc.html#mvc-ann-modelattrib\" rel=\"nofollow noreferrer\">static.springsource.org/spring/docs/3.0.x/&hellip;</a> and <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/bind/annotation/ModelAttribute.html\" rel=\"nofollow noreferrer\">static.springsource.org/spring/docs/3.0.x/javadoc-api/org/&hellip;</a>"},{"owner":{"account_id":291702,"reputation":989,"user_id":1232197,"accept_rate":73,"display_name":"anton1980"},"score":51,"creation_date":1409088293,"post_id":3423262,"comment_id":39832432,"body_markdown":"I think this is a useful question, because it allows readers to get more information (including examples) than official Spring documentation provides.","body":"I think this is a useful question, because it allows readers to get more information (including examples) than official Spring documentation provides."},{"owner":{"account_id":1085313,"reputation":359,"user_id":1081150,"accept_rate":67,"display_name":"praveenj"},"score":4,"creation_date":1435185914,"post_id":3423262,"comment_id":50100723,"body_markdown":"Check this writeup here. http://thespringthing.blogspot.com/2010/11/how-does-modelattribute-work.html","body":"Check this writeup here. <a href=\"http://thespringthing.blogspot.com/2010/11/how-does-modelattribute-work.html\" rel=\"nofollow noreferrer\">thespringthing.blogspot.com/2010/11/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":83902,"reputation":17582,"user_id":234922,"accept_rate":91,"display_name":"fasseg"},"down_vote_count":1,"up_vote_count":439,"is_accepted":true,"score":438,"last_activity_date":1567591981,"creation_date":1281095788,"answer_id":3423501,"question_id":3423262,"body_markdown":"[`@ModelAttribute`][1] refers to a property of the Model object (the M in MVC ;)\r\nso let&#39;s say we have a form with a form backing object that is called &quot;Person&quot;\r\nThen you can have Spring MVC supply this object to a Controller method by using the `@ModelAttribute` annotation:\r\n\r\n    public String processForm(@ModelAttribute(&quot;person&quot;) Person person){\r\n        person.getStuff();\r\n    }\r\n\r\nOn the other hand the annotation is used to define objects which should be part of a Model.\r\nSo if you want to have a Person object referenced in the Model you can use the following method:\r\n\r\n    @ModelAttribute(&quot;person&quot;)\r\n    public Person getPerson(){\r\n        return new Person();\r\n    }\r\n\r\nThis annotated method will allow access to the Person object in your View, since it gets automatically added to the Models by Spring. \r\n\r\nSee [&quot;Using @ModelAttribute&quot;][2].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/ModelAttribute.html\r\n  [2]: https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-ann-modelattrib-method-args","title":"What is @ModelAttribute in Spring MVC?","body":"<p><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/ModelAttribute.html\" rel=\"noreferrer\"><code>@ModelAttribute</code></a> refers to a property of the Model object (the M in MVC ;)\nso let's say we have a form with a form backing object that is called \"Person\"\nThen you can have Spring MVC supply this object to a Controller method by using the <code>@ModelAttribute</code> annotation:</p>\n\n<pre><code>public String processForm(@ModelAttribute(\"person\") Person person){\n    person.getStuff();\n}\n</code></pre>\n\n<p>On the other hand the annotation is used to define objects which should be part of a Model.\nSo if you want to have a Person object referenced in the Model you can use the following method:</p>\n\n<pre><code>@ModelAttribute(\"person\")\npublic Person getPerson(){\n    return new Person();\n}\n</code></pre>\n\n<p>This annotated method will allow access to the Person object in your View, since it gets automatically added to the Models by Spring. </p>\n\n<p>See <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-ann-modelattrib-method-args\" rel=\"noreferrer\">\"Using @ModelAttribute\"</a>.</p>\n"},{"tags":[],"owner":{"account_id":2017799,"reputation":3789,"user_id":1804661,"accept_rate":50,"display_name":"Christopher Yang"},"down_vote_count":1,"up_vote_count":154,"is_accepted":false,"score":153,"last_activity_date":1391471325,"creation_date":1359593948,"answer_id":14616749,"question_id":3423262,"body_markdown":"I know this is an old thread, but I thought I throw my hat in the ring and see if I can muddy the water a little bit more :)\r\n\r\nI found my initial struggle to understand `@ModelAttribute` was a result of Spring&#39;s decision to combine several annotations into one. It became clearer once I split it into several smaller annotations:\r\n\r\nFor parameter annotations, think of `@ModelAttribute` as the equivalent of `@Autowired + @Qualifier` i.e. it tries to retrieve a bean with the given name from the Spring managed model. If the named bean is not found, instead of throwing an error or returning `null`, it implicitly takes on the role of `@Bean` i.e. Create a new instance using the default constructor and add the bean to the model.\r\n\r\nFor method annotations, think of `@ModelAttribute` as the equivalent of `@Bean + @Before`, i.e. it puts the bean constructed by user&#39;s code in the model and it&#39;s always called before a request handling method.\r\n\r\nFiguratively, I see `@ModelAttribute` as the following (please don&#39;t take it literally!!):\r\n\r\n    @Bean(&quot;person&quot;)\r\n    @Before\r\n    public Person createPerson(){\r\n      return new Person();\r\n    }\r\n    \r\n    @RequestMapping(...)\r\n    public xxx handlePersonRequest( (@Autowired @Qualifier(&quot;person&quot;) | @Bean(&quot;person&quot;)) Person person, xxx){\r\n      ...\r\n    }\r\n\r\nAs you can see, Spring made the right decision to make `@ModelAttribute` an all-encompassing annotation; no one wants to see an annotation smorgasbord.","title":"What is @ModelAttribute in Spring MVC?","body":"<p>I know this is an old thread, but I thought I throw my hat in the ring and see if I can muddy the water a little bit more :)</p>\n\n<p>I found my initial struggle to understand <code>@ModelAttribute</code> was a result of Spring's decision to combine several annotations into one. It became clearer once I split it into several smaller annotations:</p>\n\n<p>For parameter annotations, think of <code>@ModelAttribute</code> as the equivalent of <code>@Autowired + @Qualifier</code> i.e. it tries to retrieve a bean with the given name from the Spring managed model. If the named bean is not found, instead of throwing an error or returning <code>null</code>, it implicitly takes on the role of <code>@Bean</code> i.e. Create a new instance using the default constructor and add the bean to the model.</p>\n\n<p>For method annotations, think of <code>@ModelAttribute</code> as the equivalent of <code>@Bean + @Before</code>, i.e. it puts the bean constructed by user's code in the model and it's always called before a request handling method.</p>\n\n<p>Figuratively, I see <code>@ModelAttribute</code> as the following (please don't take it literally!!):</p>\n\n<pre><code>@Bean(\"person\")\n@Before\npublic Person createPerson(){\n  return new Person();\n}\n\n@RequestMapping(...)\npublic xxx handlePersonRequest( (@Autowired @Qualifier(\"person\") | @Bean(\"person\")) Person person, xxx){\n  ...\n}\n</code></pre>\n\n<p>As you can see, Spring made the right decision to make <code>@ModelAttribute</code> an all-encompassing annotation; no one wants to see an annotation smorgasbord.</p>\n"},{"tags":[],"owner":{"account_id":7464894,"reputation":41,"user_id":5674861,"display_name":"Chethan D"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1450101832,"creation_date":1450101832,"answer_id":34268947,"question_id":3423262,"body_markdown":"@ModelAttribute can be used as the method arguments / parameter or before the method declaration.\r\n The primary objective of this annotation to bind the request parameters or form fields to an model object\r\n\r\nRef. http://www.javabeat.net/modelattribute-spring-mvc/\r\n","title":"What is @ModelAttribute in Spring MVC?","body":"<p>@ModelAttribute can be used as the method arguments / parameter or before the method declaration.\n The primary objective of this annotation to bind the request parameters or form fields to an model object</p>\n\n<p>Ref. <a href=\"http://www.javabeat.net/modelattribute-spring-mvc/\" rel=\"nofollow\">http://www.javabeat.net/modelattribute-spring-mvc/</a></p>\n"},{"tags":[],"owner":{"account_id":4123109,"reputation":1156,"user_id":3382927,"accept_rate":18,"display_name":"Leang Socheat"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1451530220,"creation_date":1451530220,"answer_id":34540334,"question_id":3423262,"body_markdown":"For my style, I always use @ModelAttribute to catch object from spring form jsp. for example, I design form on jsp page, that form exist with commandName\r\n\r\n    &lt;form:form commandName=&quot;Book&quot; action=&quot;&quot; methon=&quot;post&quot;&gt;\r\n          &lt;form:input type=&quot;text&quot; path=&quot;title&quot;&gt;&lt;/form:input&gt;\r\n    &lt;/form:form&gt;\r\n\r\nand I catch the object on controller with follow code\r\n\r\n    public String controllerPost(@ModelAttribute(&quot;Book&quot;) Book book)\r\n\r\nand every field name of book must be match with path in sub-element of form \r\n","title":"What is @ModelAttribute in Spring MVC?","body":"<p>For my style, I always use @ModelAttribute to catch object from spring form jsp. for example, I design form on jsp page, that form exist with commandName</p>\n\n<pre><code>&lt;form:form commandName=\"Book\" action=\"\" methon=\"post\"&gt;\n      &lt;form:input type=\"text\" path=\"title\"&gt;&lt;/form:input&gt;\n&lt;/form:form&gt;\n</code></pre>\n\n<p>and I catch the object on controller with follow code</p>\n\n<pre><code>public String controllerPost(@ModelAttribute(\"Book\") Book book)\n</code></pre>\n\n<p>and every field name of book must be match with path in sub-element of form </p>\n"},{"tags":[],"owner":{"account_id":7726241,"reputation":11,"user_id":5850783,"display_name":"Gagan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453976228,"creation_date":1453967430,"answer_id":35055625,"question_id":3423262,"body_markdown":"`@ModelAttribute` will create a attribute  with the name specified by you `(@ModelAttribute(&quot;Testing&quot;) Test test) as Testing`  in the given example ,Test being the bean test being the reference to the bean and Testing will be available in model so that you can further use it on jsp pages for retrieval of values that you stored in you `ModelAttribute`.","title":"What is @ModelAttribute in Spring MVC?","body":"<p><code>@ModelAttribute</code> will create a attribute  with the name specified by you <code>(@ModelAttribute(\"Testing\") Test test) as Testing</code>  in the given example ,Test being the bean test being the reference to the bean and Testing will be available in model so that you can further use it on jsp pages for retrieval of values that you stored in you <code>ModelAttribute</code>.</p>\n"},{"tags":[],"owner":{"account_id":8317456,"reputation":1353,"user_id":6250244,"display_name":"0gam"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1523349277,"creation_date":1461576214,"answer_id":36836531,"question_id":3423262,"body_markdown":"Annotation that binds a method parameter or method return value to a named model attribute, exposed to a web view. \r\n\r\n    public String add(@ModelAttribute(&quot;specified&quot;) Model model) {\r\n        ...\r\n    }\r\n","title":"What is @ModelAttribute in Spring MVC?","body":"<p>Annotation that binds a method parameter or method return value to a named model attribute, exposed to a web view. </p>\n\n<pre><code>public String add(@ModelAttribute(\"specified\") Model model) {\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3841248,"reputation":41,"user_id":3184239,"display_name":"Awais"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1472023571,"creation_date":1472022339,"answer_id":39116550,"question_id":3423262,"body_markdown":"This is used for data binding purposes in Spring `MVC`. Let you have a jsp having a form element in it e.g\r\n\r\n&gt; on `JSP`\r\n\r\n`&lt;form:form  action=&quot;test-example&quot; method=&quot;POST&quot;\tcommandName=&quot;testModelAttribute&quot;&gt; &lt;/form:form&gt;`\r\n\r\n (Spring Form method, Simple form element can also be used)\r\n&gt;On Controller Side\r\n\r\n    @RequestMapping(value = &quot;/test-example&quot;, method = RequestMethod.POST)\r\n    public ModelAndView testExample(@ModelAttribute(&quot;testModelAttribute&quot;) TestModel testModel, Map&lt;String, Object&gt; map,...) {\r\n    \r\n    }\r\nNow when you will submit the form the form fields values will be available to you.","title":"What is @ModelAttribute in Spring MVC?","body":"<p>This is used for data binding purposes in Spring <code>MVC</code>. Let you have a jsp having a form element in it e.g</p>\n\n<blockquote>\n  <p>on <code>JSP</code></p>\n</blockquote>\n\n<p><code>&lt;form:form  action=\"test-example\" method=\"POST\"    commandName=\"testModelAttribute\"&gt; &lt;/form:form&gt;</code></p>\n\n<p>(Spring Form method, Simple form element can also be used)</p>\n\n<blockquote>\n  <p>On Controller Side</p>\n</blockquote>\n\n<pre><code>@RequestMapping(value = \"/test-example\", method = RequestMethod.POST)\npublic ModelAndView testExample(@ModelAttribute(\"testModelAttribute\") TestModel testModel, Map&lt;String, Object&gt; map,...) {\n\n}\n</code></pre>\n\n<p>Now when you will submit the form the form fields values will be available to you.</p>\n"},{"tags":[],"owner":{"account_id":1921531,"reputation":16820,"user_id":1732936,"accept_rate":66,"display_name":"Xelian"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1670620097,"creation_date":1481487119,"answer_id":41090655,"question_id":3423262,"body_markdown":"So I will try to explain it in simpler way. Let&#39;s have:\r\n\r\n    public class Person {\r\n\t\tprivate String name;\r\n\r\n\t\tpublic String getName() {\r\n\t\t\treturn name;\r\n\t\t}\r\n\r\n\t\tpublic void setName(final String name) {\r\n\t\t\tthis.name = name;\r\n\t\t}\r\n\t}\r\n\r\nAs described in the Spring MVC documentation - the **@ModelAttribute** annotation can be used on **methods** or on **method arguments**. And of course we can have both use at the same time in one controller.\r\n\r\n   **1.Method annotation**\r\n\r\n    @ModelAttribute(&quot;cities&quot;)\r\n     public List&lt;String&gt; checkOptions(){\r\n     return new Arrays.asList(new[]{&quot;Sofia&quot;,&quot;Pleven&quot;,&quot;Ruse&quot;});//and so on\r\n    }\r\n\r\nPurpose of such method is to add attribute in the model. So in our case **cities** key will have the list `new Arrays.asList(new[]{&quot;Sofia&quot;,&quot;Pleven&quot;,&quot;Ruse&quot;})` as value in the Model (you can think of Model as map(key:value)).  **@ModelAttribute** methods in a controller are invoked before **@RequestMapping** methods, within the same controller. \r\n\r\n   Here we want to add to the Model common information which will be used in the form to display to the user. For example it can be used to fill a HTML select:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n   **2.Method argument**\r\n\r\n    public String findPerson(@ModelAttriute(value=&quot;person&quot;) Person person) {\r\n        //..Some logic with person\r\n   \t\treturn &quot;person.jsp&quot;;\r\n   \t}\r\n\r\nAn @ModelAttribute on a method argument indicates the argument should be retrieved from the model. So in this case we expect that we have in the Model  **person** object as key and we want to get its value and put it to the method argument **Person person**. If such does not exists or (sometimes you misspell the (value=&quot;persson&quot;)) then Spring will not find it in the Model and will create empty Person object using its defaults. Then will take the request parameters and try to data bind them in the Person object using their names.\r\n\r\n    name=&quot;Dmitrij&quot;&amp;countries=Lesoto&amp;sponsor.organization=&quot;SilkRoad&quot;&amp;authorizedFunds=&amp;authorizedHours=&amp;\r\n\r\nSo we have name and it will be bind to Person.name using setName(String name). So in \r\n\r\n    //..Some logic with person\r\n\r\nwe have access to this filled name with value &quot;Dimitrij&quot;.\r\n\r\nOf course Spring can bind more complex objects like Lists, Maps, List of Sets of Maps and so on but behind the scene it makes the data binding magic.\r\n\r\n3. We can have at the same time model annotated method and request method handler with @ModelAttribute in the arguments. Then we have to union the rules. \r\n\r\n4. Of course we have tons of different situations - @ModelAttribute methods can also be defined in an @ControllerAdvice and so on...\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/huLxb.png\r\n","title":"What is @ModelAttribute in Spring MVC?","body":"<p>So I will try to explain it in simpler way. Let's have:</p>\n<pre><code>public class Person {\n    private String name;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(final String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<p>As described in the Spring MVC documentation - the <strong>@ModelAttribute</strong> annotation can be used on <strong>methods</strong> or on <strong>method arguments</strong>. And of course we can have both use at the same time in one controller.</p>\n<p><strong>1.Method annotation</strong></p>\n<pre><code>@ModelAttribute(&quot;cities&quot;)\n public List&lt;String&gt; checkOptions(){\n return new Arrays.asList(new[]{&quot;Sofia&quot;,&quot;Pleven&quot;,&quot;Ruse&quot;});//and so on\n}\n</code></pre>\n<p>Purpose of such method is to add attribute in the model. So in our case <strong>cities</strong> key will have the list <code>new Arrays.asList(new[]{&quot;Sofia&quot;,&quot;Pleven&quot;,&quot;Ruse&quot;})</code> as value in the Model (you can think of Model as map(key:value)).  <strong>@ModelAttribute</strong> methods in a controller are invoked before <strong>@RequestMapping</strong> methods, within the same controller.</p>\n<p>Here we want to add to the Model common information which will be used in the form to display to the user. For example it can be used to fill a HTML select:</p>\n<p><a href=\"https://i.stack.imgur.com/huLxb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/huLxb.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>2.Method argument</strong></p>\n<pre><code>public String findPerson(@ModelAttriute(value=&quot;person&quot;) Person person) {\n    //..Some logic with person\n    return &quot;person.jsp&quot;;\n}\n</code></pre>\n<p>An @ModelAttribute on a method argument indicates the argument should be retrieved from the model. So in this case we expect that we have in the Model  <strong>person</strong> object as key and we want to get its value and put it to the method argument <strong>Person person</strong>. If such does not exists or (sometimes you misspell the (value=&quot;persson&quot;)) then Spring will not find it in the Model and will create empty Person object using its defaults. Then will take the request parameters and try to data bind them in the Person object using their names.</p>\n<pre><code>name=&quot;Dmitrij&quot;&amp;countries=Lesoto&amp;sponsor.organization=&quot;SilkRoad&quot;&amp;authorizedFunds=&amp;authorizedHours=&amp;\n</code></pre>\n<p>So we have name and it will be bind to Person.name using setName(String name). So in</p>\n<pre><code>//..Some logic with person\n</code></pre>\n<p>we have access to this filled name with value &quot;Dimitrij&quot;.</p>\n<p>Of course Spring can bind more complex objects like Lists, Maps, List of Sets of Maps and so on but behind the scene it makes the data binding magic.</p>\n<ol start=\"3\">\n<li><p>We can have at the same time model annotated method and request method handler with @ModelAttribute in the arguments. Then we have to union the rules.</p>\n</li>\n<li><p>Of course we have tons of different situations - @ModelAttribute methods can also be defined in an @ControllerAdvice and so on...</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5359788,"reputation":711,"user_id":4271421,"display_name":"Majid Ali Khan"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1636896857,"creation_date":1510246813,"answer_id":47207619,"question_id":3423262,"body_markdown":"I know I am late to the party, but I&#39;ll quote like they say,\r\n&quot;better be late than never&quot;. So let us get going,\r\nEverybody has their own ways to explain things, let me try to sum it up and simple it up for you in a few steps with an example;\r\nSuppose you have a simple form, `form.jsp`:\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n    &lt;form:form action=&quot;processForm&quot; modelAttribute=&quot;student&quot;&gt;\r\n      First Name : &lt;form:input path=&quot;firstName&quot; /&gt; \r\n      &lt;br/&gt;&lt;br/&gt;\r\n      Last Name : &lt;form:input path=&quot;lastName&quot; /&gt;\r\n      &lt;br/&gt;&lt;br/&gt;\r\n      &lt;input type=&quot;submit&quot; value=&quot;submit&quot;/&gt;\r\n    &lt;/form:form&gt;\r\n\r\n`&lt;form:input path=&quot;firstName&quot; /&gt;` `&lt;form:input path=&quot;lastName&quot; /&gt;` These are the fields/properties in the Student class. When the form is called/initialized their getters are invoked. On form submit their setters are invoked, and their values are transferred in the bean that was indicated with `modelAttribute=&quot;student&quot;` in the form tag.\r\n\r\nWe have `StudentController` that includes the following methods:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n    @RequestMapping(&quot;/showForm&quot;)\r\n    // `Model` is used to pass data between controllers and views\r\n    public String showForm(Model theModel) {\r\n        // attribute name, value\r\n        theModel.addAttribute(&quot;student&quot;, new Student());\r\n        return &quot;form&quot;;\r\n    }\r\n       \r\n    @RequestMapping(&quot;/processForm&quot;)\r\n    public String processForm(@ModelAttribute(&quot;student&quot;) Student theStudent) {\r\n        System.out.println(&quot;theStudent :&quot;+ theStudent.getLastName());\r\n        return &quot;form-details&quot;;\r\n    }\r\n\r\n    //@ModelAttribute(&quot;student&quot;) Student theStudent\r\n    //Spring automatically populates the object data with form data \r\n    //all behind the scenes\r\n\r\nNow finally we have a `form-details.jsp`:\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n    &lt;b&gt;Student Information&lt;/b&gt;\r\n    ${student.firstName}\r\n    ${student.lastName}\r\n\r\n\r\nSo back to the question What is `@ModelAttribute` in Spring MVC?\r\nA sample definition from the source for you,\r\n[http://www.baeldung.com/spring-mvc-and-the-modelattribute-annotation][1]\r\nThe `@ModelAttribute` is an annotation that binds a method parameter or method return value to a named model attribute and then exposes it to a web view.\r\n\r\nWhat actually happens is it gets all the values of your form those were submitted by it and then holds them for you to bind or assign them to the object. It works like the `@RequestParameter` where we only get a parameter and assign the value to some method argument. \r\nThe difference is that `@ModelAttribute` holds all form data rather than a single parameter. It creates a bean for you which holds the data submitted in the form.\r\n\r\nTo recap the whole thing:\r\n\r\nStep 1:&lt;br/&gt;\r\nA request is sent and our method `showForm()` runs and a model, a temporary bean, is set with the name `student` and forwarded to the form:&lt;br/&gt;\r\n`theModel.addAttribute(&quot;student&quot;, new Student());`\r\n\r\nStep 2:&lt;br/&gt;\r\nForm attribute `modelAttribute=&quot;student&quot;` defines that on form submission the model will update the student and will hold all parameters of the form.\r\n\r\nStep 3:&lt;br/&gt;\r\nOn form submission the `processForm()` method is invoked with parameter `@ModelAttribute(&quot;student&quot;) Student theStudent`: the values being hold in the form with `modelAttribute=&quot;student&quot;` were fetched and assigned to the fields in the `Student` object.\r\n\r\nStep 4:&lt;br/&gt;\r\nAnd then we use it as we bid, just like showing it on the page etc like I did\r\n\r\nI hope it helps you to understand the concept. Thanks\r\n\r\n  [1]: http://www.baeldung.com/spring-mvc-and-the-modelattribute-annotation","title":"What is @ModelAttribute in Spring MVC?","body":"<p>I know I am late to the party, but I'll quote like they say,\n&quot;better be late than never&quot;. So let us get going,\nEverybody has their own ways to explain things, let me try to sum it up and simple it up for you in a few steps with an example;\nSuppose you have a simple form, <code>form.jsp</code>:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form:form action=&quot;processForm&quot; modelAttribute=&quot;student&quot;&gt;\n  First Name : &lt;form:input path=&quot;firstName&quot; /&gt; \n  &lt;br/&gt;&lt;br/&gt;\n  Last Name : &lt;form:input path=&quot;lastName&quot; /&gt;\n  &lt;br/&gt;&lt;br/&gt;\n  &lt;input type=&quot;submit&quot; value=&quot;submit&quot;/&gt;\n&lt;/form:form&gt;\n</code></pre>\n<p><code>&lt;form:input path=&quot;firstName&quot; /&gt;</code> <code>&lt;form:input path=&quot;lastName&quot; /&gt;</code> These are the fields/properties in the Student class. When the form is called/initialized their getters are invoked. On form submit their setters are invoked, and their values are transferred in the bean that was indicated with <code>modelAttribute=&quot;student&quot;</code> in the form tag.</p>\n<p>We have <code>StudentController</code> that includes the following methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(&quot;/showForm&quot;)\n// `Model` is used to pass data between controllers and views\npublic String showForm(Model theModel) {\n    // attribute name, value\n    theModel.addAttribute(&quot;student&quot;, new Student());\n    return &quot;form&quot;;\n}\n   \n@RequestMapping(&quot;/processForm&quot;)\npublic String processForm(@ModelAttribute(&quot;student&quot;) Student theStudent) {\n    System.out.println(&quot;theStudent :&quot;+ theStudent.getLastName());\n    return &quot;form-details&quot;;\n}\n\n//@ModelAttribute(&quot;student&quot;) Student theStudent\n//Spring automatically populates the object data with form data \n//all behind the scenes\n</code></pre>\n<p>Now finally we have a <code>form-details.jsp</code>:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;b&gt;Student Information&lt;/b&gt;\n${student.firstName}\n${student.lastName}\n</code></pre>\n<p>So back to the question What is <code>@ModelAttribute</code> in Spring MVC?\nA sample definition from the source for you,\n<a href=\"http://www.baeldung.com/spring-mvc-and-the-modelattribute-annotation\" rel=\"noreferrer\">http://www.baeldung.com/spring-mvc-and-the-modelattribute-annotation</a>\nThe <code>@ModelAttribute</code> is an annotation that binds a method parameter or method return value to a named model attribute and then exposes it to a web view.</p>\n<p>What actually happens is it gets all the values of your form those were submitted by it and then holds them for you to bind or assign them to the object. It works like the <code>@RequestParameter</code> where we only get a parameter and assign the value to some method argument.\nThe difference is that <code>@ModelAttribute</code> holds all form data rather than a single parameter. It creates a bean for you which holds the data submitted in the form.</p>\n<p>To recap the whole thing:</p>\n<p>Step 1:<br/>\nA request is sent and our method <code>showForm()</code> runs and a model, a temporary bean, is set with the name <code>student</code> and forwarded to the form:<br/>\n<code>theModel.addAttribute(&quot;student&quot;, new Student());</code></p>\n<p>Step 2:<br/>\nForm attribute <code>modelAttribute=&quot;student&quot;</code> defines that on form submission the model will update the student and will hold all parameters of the form.</p>\n<p>Step 3:<br/>\nOn form submission the <code>processForm()</code> method is invoked with parameter <code>@ModelAttribute(&quot;student&quot;) Student theStudent</code>: the values being hold in the form with <code>modelAttribute=&quot;student&quot;</code> were fetched and assigned to the fields in the <code>Student</code> object.</p>\n<p>Step 4:<br/>\nAnd then we use it as we bid, just like showing it on the page etc like I did</p>\n<p>I hope it helps you to understand the concept. Thanks</p>\n"},{"tags":[],"owner":{"account_id":6754165,"reputation":19,"user_id":5203245,"display_name":"Ragu Venkatesan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525195971,"creation_date":1525195971,"answer_id":50121060,"question_id":3423262,"body_markdown":"@ModelAttribute simply binds the value from jsp fields to Pojo calss to perform our logic in controller class. If you are familiar with struts, then this is like populating the formbean object upon submission.","title":"What is @ModelAttribute in Spring MVC?","body":"<p>@ModelAttribute simply binds the value from jsp fields to Pojo calss to perform our logic in controller class. If you are familiar with struts, then this is like populating the formbean object upon submission.</p>\n"},{"tags":[],"owner":{"account_id":13513248,"reputation":474,"user_id":9748774,"display_name":"ismael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549109264,"creation_date":1549109264,"answer_id":54492940,"question_id":3423262,"body_markdown":"The ModelAttribute annotation is used as part of a Spring MVC Web application and can be used in two scenarios.\r\n\r\nFirst of all, it can be used to inject data into a pre-JSP load model. This is especially useful in ensuring that a JSP is required to display all the data itself. An injection is obtained by connecting one method to the model.\r\n\r\nSecond, it can be used to read data from an existing model and assign it to the parameters of the coach&#39;s method.\r\n\r\nrefrence https://dzone.com/articles/using-spring-mvc%E2%80%99s\r\n","title":"What is @ModelAttribute in Spring MVC?","body":"<p>The ModelAttribute annotation is used as part of a Spring MVC Web application and can be used in two scenarios.</p>\n\n<p>First of all, it can be used to inject data into a pre-JSP load model. This is especially useful in ensuring that a JSP is required to display all the data itself. An injection is obtained by connecting one method to the model.</p>\n\n<p>Second, it can be used to read data from an existing model and assign it to the parameters of the coach's method.</p>\n\n<p>refrence <a href=\"https://dzone.com/articles/using-spring-mvc%E2%80%99s\" rel=\"nofollow noreferrer\">https://dzone.com/articles/using-spring-mvc%E2%80%99s</a></p>\n"},{"tags":[],"owner":{"account_id":9753219,"reputation":584,"user_id":7230799,"accept_rate":50,"display_name":"Nithin Prasad"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1551430152,"creation_date":1551430152,"answer_id":54940953,"question_id":3423262,"body_markdown":"Take any web application whether it is Gmail or Facebook or Instagram or any other web application, it&#39;s all about exchanging data or information between the end user and the application or the UI and the back end application. Even in Spring MVC world there are two ways to exchange data:\r\n\r\n1. from the Controller to the UI, and \r\n2. from the UI to the Controller.\r\n\r\nWhat we are interested here is how the data is communicated from the UI to Controller. This can also be done in 2 ways:\r\n\r\n1. Using an HTML Form\r\n2. Using Query Parameters.\r\n\r\nUsing an HTML Form:\r\nConsider the below scenario, \r\n\r\n[![Form Submission Representation][1]][1]\r\n\r\nWhen we submit the form data from the web browser, we can access that data in our Controller class as an object. When we submit an HTML form, the Spring Container does four things. It will,\r\n\r\n1. first read all the data that is submitted that comes in the request using the **request.getParameter** method.\r\n2. once it reads them, it will convert them into the appropriate Java type using **integer.parseInt**, **double.parseDouble** and all the other parse methods that are available based on the data type of the data. \r\n3. once parsed, it will create a object of the model class that we created. For example, in this scenario, it is the user information that is being submitted and we create a class called User, which the Container will create an object of and it will set all the values that come in automatically into that object.  \r\n4. it will then handover that object by setting the values to the Controller.\r\n\r\nTo get this whole thing to work, we&#39;ll have to follow certain steps.\r\n\r\n[![Internal working][2]][2]\r\n\r\nWe first need to define a model class, like User, in which the number of fields should exactly match the number of fields in the HTML form. Also, the names that we use in the HTML form should match the names that we have in the Java class. These two are very important. Names should match, the number of fields in the form should match the number of fields in the class that we create. Once we do that, the Container will automatically read the data that comes in, creates an object of this model, sets the values and it hands it over to the Controller. To read those values inside the Controller, we use the **@ModelAttribute** annotation on the method parameters. When we create methods in the Controller, we are going to use the @ModelAttribute and add a parameter to it which will automatically have this object given by the Container.\r\n\r\nHere is an example code for registering an user:\r\n\r\n    @RequestMapping(value = &quot;registerUser&quot;, method = RequestMethod.POST)\r\n\tpublic String registerUser(@ModelAttribute(&quot;user&quot;) User user, ModelMap model) {\r\n\t\tmodel.addAttribute(&quot;user&quot;, user);\r\n\t\treturn &quot;regResult&quot;;\r\n\t}\r\n\r\nHope this diagrammatic explanation helped!\r\n\r\n  [1]: https://i.stack.imgur.com/fLdHj.jpg\r\n  [2]: https://i.stack.imgur.com/38qzM.png","title":"What is @ModelAttribute in Spring MVC?","body":"<p>Take any web application whether it is Gmail or Facebook or Instagram or any other web application, it's all about exchanging data or information between the end user and the application or the UI and the back end application. Even in Spring MVC world there are two ways to exchange data:</p>\n\n<ol>\n<li>from the Controller to the UI, and </li>\n<li>from the UI to the Controller.</li>\n</ol>\n\n<p>What we are interested here is how the data is communicated from the UI to Controller. This can also be done in 2 ways:</p>\n\n<ol>\n<li>Using an HTML Form</li>\n<li>Using Query Parameters.</li>\n</ol>\n\n<p>Using an HTML Form:\nConsider the below scenario, </p>\n\n<p><a href=\"https://i.stack.imgur.com/fLdHj.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/fLdHj.jpg\" alt=\"Form Submission Representation\"></a></p>\n\n<p>When we submit the form data from the web browser, we can access that data in our Controller class as an object. When we submit an HTML form, the Spring Container does four things. It will,</p>\n\n<ol>\n<li>first read all the data that is submitted that comes in the request using the <strong>request.getParameter</strong> method.</li>\n<li>once it reads them, it will convert them into the appropriate Java type using <strong>integer.parseInt</strong>, <strong>double.parseDouble</strong> and all the other parse methods that are available based on the data type of the data. </li>\n<li>once parsed, it will create a object of the model class that we created. For example, in this scenario, it is the user information that is being submitted and we create a class called User, which the Container will create an object of and it will set all the values that come in automatically into that object.  </li>\n<li>it will then handover that object by setting the values to the Controller.</li>\n</ol>\n\n<p>To get this whole thing to work, we'll have to follow certain steps.</p>\n\n<p><a href=\"https://i.stack.imgur.com/38qzM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/38qzM.png\" alt=\"Internal working\"></a></p>\n\n<p>We first need to define a model class, like User, in which the number of fields should exactly match the number of fields in the HTML form. Also, the names that we use in the HTML form should match the names that we have in the Java class. These two are very important. Names should match, the number of fields in the form should match the number of fields in the class that we create. Once we do that, the Container will automatically read the data that comes in, creates an object of this model, sets the values and it hands it over to the Controller. To read those values inside the Controller, we use the <strong>@ModelAttribute</strong> annotation on the method parameters. When we create methods in the Controller, we are going to use the @ModelAttribute and add a parameter to it which will automatically have this object given by the Container.</p>\n\n<p>Here is an example code for registering an user:</p>\n\n<pre><code>@RequestMapping(value = \"registerUser\", method = RequestMethod.POST)\npublic String registerUser(@ModelAttribute(\"user\") User user, ModelMap model) {\n    model.addAttribute(\"user\", user);\n    return \"regResult\";\n}\n</code></pre>\n\n<p>Hope this diagrammatic explanation helped!</p>\n"},{"tags":[],"owner":{"account_id":11363440,"reputation":42,"user_id":12850352,"display_name":"Vivek Srivastava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572433946,"creation_date":1572432778,"answer_id":58623777,"question_id":3423262,"body_markdown":"  At the Method Level\r\n\r\n1.When the annotation is used at the method level it indicates the purpose of that \r\n   method is to add one or more model attributes\r\n\r\n    @ModelAttribute\r\n    public void addAttributes(Model model) {\r\n    model.addAttribute(&quot;india&quot;, &quot;india&quot;);\r\n    }\r\n   At the Method Argument\r\n 1. When used as a method argument, it indicates the argument should be retrieved from the model. When not present and  should be first instantiated and then added to the model and once present in the model, the arguments fields should be populated from all  request parameters that have matching names So, it binds the form data with a bean.\r\n\r\n \r\n\r\n     @RequestMapping(value = &quot;/addEmployee&quot;, method = RequestMethod.POST)\r\n      public String submit(@ModelAttribute(&quot;employee&quot;) Employee employee) {\r\n      return &quot;employeeView&quot;;\r\n      }","title":"What is @ModelAttribute in Spring MVC?","body":"<p>At the Method Level</p>\n\n<p>1.When the annotation is used at the method level it indicates the purpose of that \n   method is to add one or more model attributes</p>\n\n<pre><code>@ModelAttribute\npublic void addAttributes(Model model) {\nmodel.addAttribute(\"india\", \"india\");\n}\n</code></pre>\n\n<p>At the Method Argument\n 1. When used as a method argument, it indicates the argument should be retrieved from the model. When not present and  should be first instantiated and then added to the model and once present in the model, the arguments fields should be populated from all  request parameters that have matching names So, it binds the form data with a bean.</p>\n\n<pre><code> @RequestMapping(value = \"/addEmployee\", method = RequestMethod.POST)\n  public String submit(@ModelAttribute(\"employee\") Employee employee) {\n  return \"employeeView\";\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18491426,"reputation":586,"user_id":13470912,"display_name":"nicolass"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663314201,"creation_date":1663314201,"answer_id":73741509,"question_id":3423262,"body_markdown":"First of all, Models are used in MVC Spring (MVC = Model, View, Controller). This said, **models are used together with &quot;views&quot;**. \r\n\r\nWhat are these views? ***Views can be though as &quot;html pages that are generated by our backend framework (Spring in our case) with some variable data in some parts of the html page&quot;.*** \r\n\r\nSo we have the model, which is an entity containing the data do be &quot;injected&quot; into the view. \r\n\r\nThere are several &quot;view&quot; libraries that you can work with Spring: among which, JSP, Thymeleaf, Mustache and others. \r\n\r\nFor example, let us assume we are using Thymeleaf (they are all similar. What&#39;s more, Spring does not even know, except for JSP, with which view libraries he is working with. All the models are served through the Servlet of Spring. This means that the Spring code will be the same for all these view libraries. The only thing you need to change is the syntax of such html pages, which are located in resources/static/templates)\r\n\r\n    resources/static/templates   //All our view web pages are here\r\n\r\nA Controller takes care of the routes. Let&#39;s say for example we have our site hosted on localhost:8080. We want a route (URL) showing us the students. Let us say that this is available at localhost:8080/students. The controller that will do this is StudentController:\r\n\r\n    @Controller  //Not @RestController\r\n       public class StudentController {\r\n    \r\n       @GetMapping(/students)\r\n       public String getStudentView() {\r\n           return &quot;student&quot;;\r\n       }\r\n    }\r\n\r\nWhat this code does, is saying that, if we are going to \r\n\r\n&gt; localhost:8080/students\r\n\r\nthen the method getStudentView() is called. But notice it should return a String. However, when working with a view library, and the controller is annotated with @Controller (and not @RestController), what spring does is looking for an html view page with the name of the String that the method returns, in our case it will look for the view at\r\n\r\n&gt; /resources/static/templates/student.html\r\n\r\nThis is good enough for static pages without data. However, if we need a dynamic page with some data, Spring offers another big advantage: the method above getStudentView(), will also pass, under the hood, a model to our view &quot;student.html&quot;. Our model will contain data that we can access in the file &quot;student.html&quot; using the specific syntax from our view library. E.g., with thymeleaf: \r\n\r\n    &lt;div th:text=&quot;${attribute1}&quot;&gt; &lt;/div&gt;\r\n\r\nThis will access the attribute &quot;attribute1&quot; of our model. \r\n**We can pass different data through our model. This is done by assigning it various attributes. There are different ways of assigning attributes, with @ModelAttribute:**\r\n\r\n    @Controller  //Not @RestController\r\n       public class StudentController {\r\n\r\n       @ModelAttribute(name = &quot;attribute1&quot;)\r\n       public int assignAttribute1() {\r\n          return 123454321\r\n       }   // Think it as &quot;model.attribute1 = 123454321&quot;\r\n    \r\n       @GetMapping(/students)\r\n       public String getStudentView() {\r\n           return &quot;student&quot;;\r\n       }\r\n    }\r\n\r\n\r\nThe code above will assign to the model (created under the hood), an attribute with name &quot;attribute1&quot; (think it as of a key), with value 12354321. Something like &quot;model.attribute1 = 123454321&quot;.\r\n\r\n\r\nFinally, the model is passed to the view when we go to the url\r\n\r\n&gt; localhost:8080/students\r\n\r\nNotice: all the methods annotated with @ModelAttribute are invoked before a view is returned. The model, once all the attributes are created, is passed to our view. simply put, after the method getStudentView() is called, all the method with @ModelAttribute are called.\r\n\r\nThis being said, the html code written above, will be viewed from the browser as:\r\n\r\n    &lt;div&gt; 123454321 &lt;/div&gt; // th:text is a command of \r\n    //THymeleaf, and says to substitute the text\r\n    // between the tags with the attribute &quot;attribute1&quot; \r\n    // of our model passed to this view.\r\n\r\nThis is the basic usage of @ModelAttribute. \r\n\r\nThere is also another important use case:\r\n\r\nThe model might be needed in the opposite direction: i.e., from the view to the controller. In the case described above, the model is passed from the controller to the view. However, let us say that the user, from our html page, sends back some data. We can catch it with out model attributes, @ModelAttribute. This has already been described by others\r\n","title":"What is @ModelAttribute in Spring MVC?","body":"<p>First of all, Models are used in MVC Spring (MVC = Model, View, Controller). This said, <strong>models are used together with &quot;views&quot;</strong>.</p>\n<p>What are these views? <em><strong>Views can be though as &quot;html pages that are generated by our backend framework (Spring in our case) with some variable data in some parts of the html page&quot;.</strong></em></p>\n<p>So we have the model, which is an entity containing the data do be &quot;injected&quot; into the view.</p>\n<p>There are several &quot;view&quot; libraries that you can work with Spring: among which, JSP, Thymeleaf, Mustache and others.</p>\n<p>For example, let us assume we are using Thymeleaf (they are all similar. What's more, Spring does not even know, except for JSP, with which view libraries he is working with. All the models are served through the Servlet of Spring. This means that the Spring code will be the same for all these view libraries. The only thing you need to change is the syntax of such html pages, which are located in resources/static/templates)</p>\n<pre><code>resources/static/templates   //All our view web pages are here\n</code></pre>\n<p>A Controller takes care of the routes. Let's say for example we have our site hosted on localhost:8080. We want a route (URL) showing us the students. Let us say that this is available at localhost:8080/students. The controller that will do this is StudentController:</p>\n<pre><code>@Controller  //Not @RestController\n   public class StudentController {\n\n   @GetMapping(/students)\n   public String getStudentView() {\n       return &quot;student&quot;;\n   }\n}\n</code></pre>\n<p>What this code does, is saying that, if we are going to</p>\n<blockquote>\n<p>localhost:8080/students</p>\n</blockquote>\n<p>then the method getStudentView() is called. But notice it should return a String. However, when working with a view library, and the controller is annotated with @Controller (and not @RestController), what spring does is looking for an html view page with the name of the String that the method returns, in our case it will look for the view at</p>\n<blockquote>\n<p>/resources/static/templates/student.html</p>\n</blockquote>\n<p>This is good enough for static pages without data. However, if we need a dynamic page with some data, Spring offers another big advantage: the method above getStudentView(), will also pass, under the hood, a model to our view &quot;student.html&quot;. Our model will contain data that we can access in the file &quot;student.html&quot; using the specific syntax from our view library. E.g., with thymeleaf:</p>\n<pre><code>&lt;div th:text=&quot;${attribute1}&quot;&gt; &lt;/div&gt;\n</code></pre>\n<p>This will access the attribute &quot;attribute1&quot; of our model.\n<strong>We can pass different data through our model. This is done by assigning it various attributes. There are different ways of assigning attributes, with @ModelAttribute:</strong></p>\n<pre><code>@Controller  //Not @RestController\n   public class StudentController {\n\n   @ModelAttribute(name = &quot;attribute1&quot;)\n   public int assignAttribute1() {\n      return 123454321\n   }   // Think it as &quot;model.attribute1 = 123454321&quot;\n\n   @GetMapping(/students)\n   public String getStudentView() {\n       return &quot;student&quot;;\n   }\n}\n</code></pre>\n<p>The code above will assign to the model (created under the hood), an attribute with name &quot;attribute1&quot; (think it as of a key), with value 12354321. Something like &quot;model.attribute1 = 123454321&quot;.</p>\n<p>Finally, the model is passed to the view when we go to the url</p>\n<blockquote>\n<p>localhost:8080/students</p>\n</blockquote>\n<p>Notice: all the methods annotated with @ModelAttribute are invoked before a view is returned. The model, once all the attributes are created, is passed to our view. simply put, after the method getStudentView() is called, all the method with @ModelAttribute are called.</p>\n<p>This being said, the html code written above, will be viewed from the browser as:</p>\n<pre><code>&lt;div&gt; 123454321 &lt;/div&gt; // th:text is a command of \n//THymeleaf, and says to substitute the text\n// between the tags with the attribute &quot;attribute1&quot; \n// of our model passed to this view.\n</code></pre>\n<p>This is the basic usage of @ModelAttribute.</p>\n<p>There is also another important use case:</p>\n<p>The model might be needed in the opposite direction: i.e., from the view to the controller. In the case described above, the model is passed from the controller to the view. However, let us say that the user, from our html page, sends back some data. We can catch it with out model attributes, @ModelAttribute. This has already been described by others</p>\n"}],"owner":{"account_id":179953,"reputation":6537,"user_id":412957,"accept_rate":77,"display_name":"Mohammad Adnan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":446729,"favorite_count":0,"down_vote_count":5,"up_vote_count":439,"accepted_answer_id":3423501,"answer_count":14,"score":434,"last_activity_date":1670620097,"creation_date":1281093630,"question_id":3423262,"body_markdown":"What is the purpose and usage of `@ModelAttribute` in Spring MVC?","title":"What is @ModelAttribute in Spring MVC?","body":"<p>What is the purpose and usage of <code>@ModelAttribute</code> in Spring MVC?</p>\n"},{"tags":["java","lambda","imagemagick","jmagick"],"comments":[{"owner":{"account_id":43619,"reputation":4727,"user_id":127602,"accept_rate":53,"display_name":"Zaid Amir"},"score":0,"creation_date":1511424374,"post_id":45037691,"comment_id":81855488,"body_markdown":"Were you able to solve this?","body":"Were you able to solve this?"}],"owner":{"account_id":11278848,"reputation":33,"user_id":8272051,"display_name":"Muhammad Ali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1670620054,"creation_date":1499783940,"question_id":45037691,"body_markdown":"I am trying to use Jmagick in my AWS Lambda Java code. So far I have done following:\r\n\r\n1. Compiled ImageMagick and Jmagick source on Amazon Linux EC2 and generated .so libraries.\r\n3. Wrote following code for my Java Lambda on my Windows PC (using ImageMagick and Jmagick for windows).\r\n\r\n        public String handleRequest(Object input, Context context) \r\n        {\r\n        System.setProperty(&quot;jmagick.systemclassloader&quot;,&quot;false&quot;);\r\n        try {\r\n          ImageInfo newImageiInfo=new ImageInfo();\r\n          newImageiInfo.setFileName(&quot;/tmp/oldImage.jpg&quot;);\r\n          newImageiInfo.setSize(&quot;512x512&quot;);\r\n          newImageiInfo.setUnits(ResolutionType.PixelsPerInchResolution);\r\n          newImageiInfo.setColorspace(ColorspaceType.RGBColorspace);\r\n          newImageiInfo.setBorderColor(PixelPacket.queryColorDatabase(&quot;red&quot;));\r\n          newImageiInfo.setDepth(8);\r\n\r\n          MagickImage addTextImage = new MagickImage();\r\n          addTextImage.allocateImage(newImageiInfo);\r\n          addTextImage.setYResolution(480);\r\n          addTextImage.setXResolution(640);\r\n          addTextImage.writeImage(newImageiInfo);\r\n          DrawInfo aInfo = new DrawInfo(newImageiInfo);\r\n          aInfo.setFont(&quot;Arial&quot;);\r\n          aInfo.setTextAntialias(true);\r\n          aInfo.setText(&quot;JMagick Tutorial&quot;);\r\n          addTextImage.annotateImage(aInfo);\r\n          addTextImage.setFileName(&quot;/tmp/newImage.jpg&quot;);\r\n          addTextImage.writeImage(newImageiInfo);\r\n         }catch (MagickException e) {\r\n          e.printStackTrace();\r\n         }\r\n         UploadtoS3(&quot;/tmp/newImage.jpg&quot;); // a simple method for Uploading\r\n         return &quot;Hello from Lambda!&quot;;\r\n         }\r\n5. Packaged the .so libraries into Lambda deployment package (I am using jar as deployment package).\r\n6. The code works fine on my PC, but on Lambda it is not generating any image file. Logically there should be one generated at /tmp/newImage.jpg. Also I cannot see any Exception/error in the Lambda logs which.\r\n\r\nIs there anything I am doing wrong? What can I do further? If anyone especially with experience in `ImagaMagick` and Lambda could help, I will be thankful.","title":"Java AWS Lambda - Jmagick","body":"<p>I am trying to use Jmagick in my AWS Lambda Java code. So far I have done following:</p>\n<ol>\n<li><p>Compiled ImageMagick and Jmagick source on Amazon Linux EC2 and generated .so libraries.</p>\n</li>\n<li><p>Wrote following code for my Java Lambda on my Windows PC (using ImageMagick and Jmagick for windows).</p>\n<pre><code> public String handleRequest(Object input, Context context) \n {\n System.setProperty(&quot;jmagick.systemclassloader&quot;,&quot;false&quot;);\n try {\n   ImageInfo newImageiInfo=new ImageInfo();\n   newImageiInfo.setFileName(&quot;/tmp/oldImage.jpg&quot;);\n   newImageiInfo.setSize(&quot;512x512&quot;);\n   newImageiInfo.setUnits(ResolutionType.PixelsPerInchResolution);\n   newImageiInfo.setColorspace(ColorspaceType.RGBColorspace);\n   newImageiInfo.setBorderColor(PixelPacket.queryColorDatabase(&quot;red&quot;));\n   newImageiInfo.setDepth(8);\n\n   MagickImage addTextImage = new MagickImage();\n   addTextImage.allocateImage(newImageiInfo);\n   addTextImage.setYResolution(480);\n   addTextImage.setXResolution(640);\n   addTextImage.writeImage(newImageiInfo);\n   DrawInfo aInfo = new DrawInfo(newImageiInfo);\n   aInfo.setFont(&quot;Arial&quot;);\n   aInfo.setTextAntialias(true);\n   aInfo.setText(&quot;JMagick Tutorial&quot;);\n   addTextImage.annotateImage(aInfo);\n   addTextImage.setFileName(&quot;/tmp/newImage.jpg&quot;);\n   addTextImage.writeImage(newImageiInfo);\n  }catch (MagickException e) {\n   e.printStackTrace();\n  }\n  UploadtoS3(&quot;/tmp/newImage.jpg&quot;); // a simple method for Uploading\n  return &quot;Hello from Lambda!&quot;;\n  }\n</code></pre>\n</li>\n<li><p>Packaged the .so libraries into Lambda deployment package (I am using jar as deployment package).</p>\n</li>\n<li><p>The code works fine on my PC, but on Lambda it is not generating any image file. Logically there should be one generated at /tmp/newImage.jpg. Also I cannot see any Exception/error in the Lambda logs which.</p>\n</li>\n</ol>\n<p>Is there anything I am doing wrong? What can I do further? If anyone especially with experience in <code>ImagaMagick</code> and Lambda could help, I will be thankful.</p>\n"},{"tags":["java","spring","oracle","hibernate","jpa"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1670587770,"post_id":74742604,"comment_id":131913977,"body_markdown":"Try saving the answer first OR add cascade to the relation, e.g. `@OneToOne(cascade = CascadeType.ALL)`.","body":"Try saving the answer first OR add cascade to the relation, e.g. <code>@OneToOne(cascade = CascadeType.ALL)</code>."},{"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"score":0,"creation_date":1670610619,"post_id":74742604,"comment_id":131921274,"body_markdown":"It works but could you please explain why Cascade is required? Also why am i experiencing this and not the instructor in the video.","body":"It works but could you please explain why Cascade is required? Also why am i experiencing this and not the instructor in the video."}],"answers":[{"tags":[],"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670619825,"creation_date":1670619825,"answer_id":74748306,"question_id":74742604,"body_markdown":"The way you have created and configured your entities, `Question` has the foreign key to `Answer`. *This is perfectly fine.* The exception thrown is because you ask JPA to save a question, which contains a FK to an answer that is not yet saved. The error message and the logs are a bit confusing I must admit, but this should be the reason.\r\n\r\nOne solution is to save the answer before the question manually. The other solution is to use the `cascade` instruction to the JPS one-to-one relation, so that *JPA will save the answer before the question for you*. Either of these should work:\r\n\r\n```java\r\n@OneToOne(cascade = CascadeType.ALL) // cascade all operations\r\n// -OR-\r\n@OneToOne(cascade = CascadeType.PERSIST) // cascade the persist operation only\r\n// -OR you can even specify many types\r\n@OneToOne(cascade = {CascadeType.PERSIST,CascadeType.DELETE})\r\n```\r\n\r\nI haven&#39;t seen the video, but I am sure that if you check the details, there will be a subtle difference.","title":"Mapping objects in database","body":"<p>The way you have created and configured your entities, <code>Question</code> has the foreign key to <code>Answer</code>. <em>This is perfectly fine.</em> The exception thrown is because you ask JPA to save a question, which contains a FK to an answer that is not yet saved. The error message and the logs are a bit confusing I must admit, but this should be the reason.</p>\n<p>One solution is to save the answer before the question manually. The other solution is to use the <code>cascade</code> instruction to the JPS one-to-one relation, so that <em>JPA will save the answer before the question for you</em>. Either of these should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@OneToOne(cascade = CascadeType.ALL) // cascade all operations\n// -OR-\n@OneToOne(cascade = CascadeType.PERSIST) // cascade the persist operation only\n// -OR you can even specify many types\n@OneToOne(cascade = {CascadeType.PERSIST,CascadeType.DELETE})\n</code></pre>\n<p>I haven't seen the video, but I am sure that if you check the details, there will be a subtle difference.</p>\n"}],"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74748306,"answer_count":1,"score":0,"last_activity_date":1670619825,"creation_date":1670585893,"question_id":74742604,"body_markdown":"I am trying to learn hibernate and going through a tutorial i was trying to implement OneToOne mapping. I have a Question and an Answer class/entity. I have mapped an Answer for a Question, below is the source code.\r\n\r\nQuestion.java\r\n\r\n    package com.map;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.OneToOne;\r\n    \r\n    @Entity\r\n    public class Question {\r\n    \r\n    \t@Id\r\n    \t@Column(name=&quot;question_id&quot;)\r\n    \tprivate int questionId;\r\n    \tprivate String question;\r\n    \t@OneToOne\r\n    \tprivate Answer answer;\r\n    \t\r\n    \tpublic int getQuestionId() {\r\n    \t\treturn questionId;\r\n    \t}\r\n    \tpublic void setQuestionId(int questionId) {\r\n    \t\tthis.questionId = questionId;\r\n    \t}\r\n    \tpublic String getQuestion() {\r\n    \t\treturn question;\r\n    \t}\r\n    \tpublic void setQuestion(String question) {\r\n    \t\tthis.question = question;\r\n    \t}\r\n    \tpublic Answer getAnswer() {\r\n    \t\treturn answer;\r\n    \t}\r\n    \tpublic void setAnswer(Answer answer) {\r\n    \t\tthis.answer = answer;\r\n    \t}\r\n    \tpublic Question(int questionId, String question, Answer answer) {\r\n    \t\tsuper();\r\n    \t\tthis.questionId = questionId;\r\n    \t\tthis.question = question;\r\n    \t\tthis.answer = answer;\r\n    \t}\r\n    \tpublic Question() {\r\n    \t\tsuper();\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Question [questionId=&quot; + questionId + &quot;, question=&quot; + question + &quot;, answer=&quot; + answer + &quot;]&quot;;\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    }\r\n\r\nAnswer.java\r\n\r\n\r\n    package com.map;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    \r\n    @Entity\r\n    public class Answer {\r\n    \r\n    \t@Id\r\n    \t@Column(name=&quot;answer_id&quot;)\r\n    \tprivate int answerId;\r\n    \tprivate String answer;\r\n    \tpublic int getAnswerId() {\r\n    \t\treturn answerId;\r\n    \t}\r\n    \tpublic void setAnswerId(int answerId) {\r\n    \t\tthis.answerId = answerId;\r\n    \t}\r\n    \tpublic String getAnswer() {\r\n    \t\treturn answer;\r\n    \t}\r\n    \tpublic void setAnswer(String answer) {\r\n    \t\tthis.answer = answer;\r\n    \t}\r\n    \tpublic Answer() {\r\n    \t\tsuper();\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \tpublic Answer(int answerId, String answer) {\r\n    \t\tsuper();\r\n    \t\tthis.answerId = answerId;\r\n    \t\tthis.answer = answer;\r\n    \t}\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Answer [answerId=&quot; + answerId + &quot;, answer=&quot; + answer + &quot;]&quot;;\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\n\r\nBelow is the MapDemo class to run the program.\r\n\r\n    package com.map;\r\n    \r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.Transaction;\r\n    import org.hibernate.cfg.Configuration;\r\n    \r\n    public class MapDemo {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tConfiguration cfg = new Configuration();\r\n        \tcfg.configure(&quot;hibernate.cfg.xml&quot;);\r\n            SessionFactory factory = cfg.buildSessionFactory();\r\n            \r\n            Question q1 = new Question();\r\n            q1.setQuestionId(1212);\r\n            q1.setQuestion(&quot;What is Java&quot;);\r\n            Answer answer = new Answer();\r\n            answer.setAnswerId(343);\r\n            answer.setAnswer(&quot;Java is programming laguage&quot;);\r\n            q1.setAnswer(answer);\r\n            \r\n            Session s = factory.openSession();\r\n            Transaction t = s.beginTransaction();\r\n            s.save(q1);\r\n            t.commit();\r\n            s.close(); \r\n            \r\n            \r\n            factory.close();\r\n    \t}\r\n    }\r\n\r\nhibernate-cfg.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC \r\n    \t&quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\r\n    \t&quot;http://hibernate.sourceforge.net/hibernate-configuration.dtd&quot;&gt;\r\n    \t&lt;hibernate-configuration&gt;\r\n    \t\t&lt;session-factory&gt;\r\n    \t\t\t&lt;property name=&quot;connection.driver_class&quot;&gt;oracle.jdbc.driver.OracleDriver&lt;/property&gt;\r\n    \t\t\t&lt;property name=&quot;connection.url&quot;&gt;jdbc:oracle:thin:@localhost:1521:xe&lt;/property&gt;\r\n    \t\t\t&lt;property name=&quot;connection.username&quot;&gt;system&lt;/property&gt;\r\n    \t\t\t&lt;property name=&quot;connection.password&quot;&gt;system&lt;/property&gt;\r\n    \t\t\t&lt;property name=&quot;hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n    \t\t\t&lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n    \t\t\t&lt;mapping class=&quot;com.tut.Student&quot;&gt;&lt;/mapping&gt;\r\n    \t\t\t&lt;mapping class=&quot;com.tut.Address&quot;&gt;&lt;/mapping&gt;\t\t\r\n    \t\t\t&lt;mapping class=&quot;com.map.Question&quot;&gt;&lt;/mapping&gt;\r\n    \t\t\t&lt;mapping class=&quot;com.map.Answer&quot;&gt;&lt;/mapping&gt;\t\t\r\n    \t\t&lt;/session-factory&gt;\r\n    \t&lt;/hibernate-configuration&gt;\r\n\r\nWhen i try to run the program the error i see in logs is that the foreign key gets violated in Question entity which refers to an Answer but i set the Answer object in Question class object before trying to persist it. Does hibernate understand that it first needs to create entry in Answer table then refer it in question table? I am not sure how it works, I get this error but in tutorial the instructor did not. He is using MySQL and i am using Oracle database. Please advise.\r\n\r\nLogs for the exception:\r\n\r\n    Dec 09, 2022 4:50:48 PM org.hibernate.Version logVersion\r\n    INFO: HHH000412: Hibernate ORM core version 5.6.10.Final\r\n    Dec 09, 2022 4:50:48 PM org.hibernate.boot.jaxb.internal.stax.LocalXmlResourceResolver resolveEntity\r\n    WARN: HHH90000012: Recognized obsolete hibernate namespace http://hibernate.sourceforge.net/hibernate-configuration. Use namespace http://www.hibernate.org/dtd/hibernate-configuration instead.  Support for obsolete DTD/XSD namespaces may be removed at any time.\r\n    Dec 09, 2022 4:50:48 PM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\r\n    INFO: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n    Dec 09, 2022 4:50:48 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\n    WARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\r\n    Dec 09, 2022 4:50:48 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001005: using driver [oracle.jdbc.driver.OracleDriver] at URL [jdbc:oracle:thin:@localhost:1521:xe]\r\n    Dec 09, 2022 4:50:48 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001001: Connection properties: {password=****, user=system}\r\n    Dec 09, 2022 4:50:48 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001003: Autocommit mode: false\r\n    Dec 09, 2022 4:50:48 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\r\n    INFO: HHH000115: Hibernate connection pool size: 20 (min=1)\r\n    Dec 09, 2022 4:50:49 PM org.hibernate.dialect.Dialect &lt;init&gt;\r\n    INFO: HHH000400: Using dialect: org.hibernate.dialect.Oracle12cDialect\r\n    Hibernate: drop table Answer cascade constraints\r\n    Dec 09, 2022 4:50:49 PM org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection\r\n    INFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@74b86971] for (non-JTA) DDL execution was not in auto-commit mode; the Connection &#39;local transaction&#39; will be committed and the Connection will be set into auto-commit mode.\r\n    Hibernate: drop table Question cascade constraints\r\n    Hibernate: drop table Student cascade constraints\r\n    Hibernate: drop table student_address cascade constraints\r\n    Hibernate: create table Answer (answer_id number(10,0) not null, answer varchar2(255 char), primary key (answer_id))\r\n    Dec 09, 2022 4:50:49 PM org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection\r\n    INFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7a1b8a46] for (non-JTA) DDL execution was not in auto-commit mode; the Connection &#39;local transaction&#39; will be committed and the Connection will be set into auto-commit mode.\r\n    Hibernate: create table Question (question_id number(10,0) not null, question varchar2(255 char), answer_answer_id number(10,0), primary key (question_id))\r\n    Hibernate: create table Student (id number(10,0) not null, course varchar2(255 char), duration varchar2(255 char), city varchar2(255 char), name varchar2(255 char), primary key (id))\r\n    Hibernate: create table student_address (address_id number(10,0) generated as identity, addedDate date, CITY varchar2(100 char), image blob, IS_OPEN number(1,0), STREET varchar2(50 char), primary key (address_id))\r\n    Hibernate: alter table Question add constraint FKs6ghcwuovtcp489oo5dy7rvk5 foreign key (answer_answer_id) references Answer\r\n    Dec 09, 2022 4:50:49 PM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\r\n    INFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    Hibernate: select answer_.answer_id, answer_.answer as answer2_0_ from Answer answer_ where answer_.answer_id=?\r\n    Hibernate: insert into Question (answer_answer_id, question, question_id) values (?, ?, ?)\r\n    Hibernate: update Question set answer_answer_id=?, question=? where question_id=?\r\n    Dec 09, 2022 4:50:49 PM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\r\n    WARN: SQL Error: 2291, SQLState: 23000\r\n    Dec 09, 2022 4:50:49 PM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\r\n    ERROR: ORA-02291: integrity constraint (SYSTEM.FKS6GHCWUOVTCP489OO5DY7RVK5) violated - parent key not found\r\n    \r\n    Dec 09, 2022 4:50:49 PM org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl release\r\n    INFO: HHH000010: On release of batch it still contained JDBC statements\r\n    Exception in thread &quot;main&quot; javax.persistence.PersistenceException: org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n    \tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\r\n    \tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\r\n    \tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\r\n    \tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1411)\r\n    \tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489)\r\n    \tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3290)\r\n    \tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2425)\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\r\n    \tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\r\n    \tat com.map.MapDemo.main(MapDemo.java:25)\r\n    Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n    \tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:59)\r\n    \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\r\n    \tat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:46)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3571)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3438)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3852)\r\n    \tat org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:202)\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\r\n    \tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\r\n    \tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:723)\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\r\n    \tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344)\r\n    \tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\r\n    \tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n    \tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407)\r\n    \t... 9 more\r\n    Caused by: java.sql.SQLIntegrityConstraintViolationException: ORA-02291: integrity constraint (SYSTEM.FKS6GHCWUOVTCP489OO5DY7RVK5) violated - parent key not found\r\n    \r\n    \tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:629)\r\n    \tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:563)\r\n    \tat oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1150)\r\n    \tat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:770)\r\n    \tat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:298)\r\n    \tat oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:497)\r\n    \tat oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:151)\r\n    \tat oracle.jdbc.driver.T4CPreparedStatement.executeForRows(T4CPreparedStatement.java:1051)\r\n    \tat oracle.jdbc.driver.OracleStatement.executeSQLStatement(OracleStatement.java:1530)\r\n    \tat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1310)\r\n    \tat oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3745)\r\n    \tat oracle.jdbc.driver.OraclePreparedStatement.executeLargeUpdate(OraclePreparedStatement.java:3917)\r\n    \tat oracle.jdbc.driver.OraclePreparedStatement.executeUpdate(OraclePreparedStatement.java:3896)\r\n    \tat oracle.jdbc.driver.OraclePreparedStatementWrapper.executeUpdate(OraclePreparedStatementWrapper.java:991)\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\r\n    \t... 22 more\r\n    Caused by: Error : 2291, Position : 0, Sql = update Question set answer_answer_id=:1 , question=:2  where question_id=:3 , OriginalSql = update Question set answer_answer_id=?, question=? where question_id=?, Error Msg = ORA-02291: integrity constraint (SYSTEM.FKS6GHCWUOVTCP489OO5DY7RVK5) violated - parent key not found\r\n    \r\n    \tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:636)\r\n    \t... 36 more","title":"Mapping objects in database","body":"<p>I am trying to learn hibernate and going through a tutorial i was trying to implement OneToOne mapping. I have a Question and an Answer class/entity. I have mapped an Answer for a Question, below is the source code.</p>\n<p>Question.java</p>\n<pre><code>package com.map;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.OneToOne;\n\n@Entity\npublic class Question {\n\n    @Id\n    @Column(name=&quot;question_id&quot;)\n    private int questionId;\n    private String question;\n    @OneToOne\n    private Answer answer;\n    \n    public int getQuestionId() {\n        return questionId;\n    }\n    public void setQuestionId(int questionId) {\n        this.questionId = questionId;\n    }\n    public String getQuestion() {\n        return question;\n    }\n    public void setQuestion(String question) {\n        this.question = question;\n    }\n    public Answer getAnswer() {\n        return answer;\n    }\n    public void setAnswer(Answer answer) {\n        this.answer = answer;\n    }\n    public Question(int questionId, String question, Answer answer) {\n        super();\n        this.questionId = questionId;\n        this.question = question;\n        this.answer = answer;\n    }\n    public Question() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n    @Override\n    public String toString() {\n        return &quot;Question [questionId=&quot; + questionId + &quot;, question=&quot; + question + &quot;, answer=&quot; + answer + &quot;]&quot;;\n    }\n    \n    \n    \n}\n</code></pre>\n<p>Answer.java</p>\n<pre><code>package com.map;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\n\n@Entity\npublic class Answer {\n\n    @Id\n    @Column(name=&quot;answer_id&quot;)\n    private int answerId;\n    private String answer;\n    public int getAnswerId() {\n        return answerId;\n    }\n    public void setAnswerId(int answerId) {\n        this.answerId = answerId;\n    }\n    public String getAnswer() {\n        return answer;\n    }\n    public void setAnswer(String answer) {\n        this.answer = answer;\n    }\n    public Answer() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n    public Answer(int answerId, String answer) {\n        super();\n        this.answerId = answerId;\n        this.answer = answer;\n    }\n    @Override\n    public String toString() {\n        return &quot;Answer [answerId=&quot; + answerId + &quot;, answer=&quot; + answer + &quot;]&quot;;\n    }\n    \n    \n}\n</code></pre>\n<p>Below is the MapDemo class to run the program.</p>\n<pre><code>package com.map;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport org.hibernate.cfg.Configuration;\n\npublic class MapDemo {\n    public static void main(String[] args) {\n        Configuration cfg = new Configuration();\n        cfg.configure(&quot;hibernate.cfg.xml&quot;);\n        SessionFactory factory = cfg.buildSessionFactory();\n        \n        Question q1 = new Question();\n        q1.setQuestionId(1212);\n        q1.setQuestion(&quot;What is Java&quot;);\n        Answer answer = new Answer();\n        answer.setAnswerId(343);\n        answer.setAnswer(&quot;Java is programming laguage&quot;);\n        q1.setAnswer(answer);\n        \n        Session s = factory.openSession();\n        Transaction t = s.beginTransaction();\n        s.save(q1);\n        t.commit();\n        s.close(); \n        \n        \n        factory.close();\n    }\n}\n</code></pre>\n<p>hibernate-cfg.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;!DOCTYPE hibernate-configuration PUBLIC \n    &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\n    &quot;http://hibernate.sourceforge.net/hibernate-configuration.dtd&quot;&gt;\n    &lt;hibernate-configuration&gt;\n        &lt;session-factory&gt;\n            &lt;property name=&quot;connection.driver_class&quot;&gt;oracle.jdbc.driver.OracleDriver&lt;/property&gt;\n            &lt;property name=&quot;connection.url&quot;&gt;jdbc:oracle:thin:@localhost:1521:xe&lt;/property&gt;\n            &lt;property name=&quot;connection.username&quot;&gt;system&lt;/property&gt;\n            &lt;property name=&quot;connection.password&quot;&gt;system&lt;/property&gt;\n            &lt;property name=&quot;hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\n            &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n            &lt;mapping class=&quot;com.tut.Student&quot;&gt;&lt;/mapping&gt;\n            &lt;mapping class=&quot;com.tut.Address&quot;&gt;&lt;/mapping&gt;     \n            &lt;mapping class=&quot;com.map.Question&quot;&gt;&lt;/mapping&gt;\n            &lt;mapping class=&quot;com.map.Answer&quot;&gt;&lt;/mapping&gt;      \n        &lt;/session-factory&gt;\n    &lt;/hibernate-configuration&gt;\n</code></pre>\n<p>When i try to run the program the error i see in logs is that the foreign key gets violated in Question entity which refers to an Answer but i set the Answer object in Question class object before trying to persist it. Does hibernate understand that it first needs to create entry in Answer table then refer it in question table? I am not sure how it works, I get this error but in tutorial the instructor did not. He is using MySQL and i am using Oracle database. Please advise.</p>\n<p>Logs for the exception:</p>\n<pre><code>Dec 09, 2022 4:50:48 PM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate ORM core version 5.6.10.Final\nDec 09, 2022 4:50:48 PM org.hibernate.boot.jaxb.internal.stax.LocalXmlResourceResolver resolveEntity\nWARN: HHH90000012: Recognized obsolete hibernate namespace http://hibernate.sourceforge.net/hibernate-configuration. Use namespace http://www.hibernate.org/dtd/hibernate-configuration instead.  Support for obsolete DTD/XSD namespaces may be removed at any time.\nDec 09, 2022 4:50:48 PM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\nINFO: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\nDec 09, 2022 4:50:48 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nWARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\nDec 09, 2022 4:50:48 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001005: using driver [oracle.jdbc.driver.OracleDriver] at URL [jdbc:oracle:thin:@localhost:1521:xe]\nDec 09, 2022 4:50:48 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001001: Connection properties: {password=****, user=system}\nDec 09, 2022 4:50:48 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001003: Autocommit mode: false\nDec 09, 2022 4:50:48 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\nINFO: HHH000115: Hibernate connection pool size: 20 (min=1)\nDec 09, 2022 4:50:49 PM org.hibernate.dialect.Dialect &lt;init&gt;\nINFO: HHH000400: Using dialect: org.hibernate.dialect.Oracle12cDialect\nHibernate: drop table Answer cascade constraints\nDec 09, 2022 4:50:49 PM org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection\nINFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@74b86971] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.\nHibernate: drop table Question cascade constraints\nHibernate: drop table Student cascade constraints\nHibernate: drop table student_address cascade constraints\nHibernate: create table Answer (answer_id number(10,0) not null, answer varchar2(255 char), primary key (answer_id))\nDec 09, 2022 4:50:49 PM org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection\nINFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7a1b8a46] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.\nHibernate: create table Question (question_id number(10,0) not null, question varchar2(255 char), answer_answer_id number(10,0), primary key (question_id))\nHibernate: create table Student (id number(10,0) not null, course varchar2(255 char), duration varchar2(255 char), city varchar2(255 char), name varchar2(255 char), primary key (id))\nHibernate: create table student_address (address_id number(10,0) generated as identity, addedDate date, CITY varchar2(100 char), image blob, IS_OPEN number(1,0), STREET varchar2(50 char), primary key (address_id))\nHibernate: alter table Question add constraint FKs6ghcwuovtcp489oo5dy7rvk5 foreign key (answer_answer_id) references Answer\nDec 09, 2022 4:50:49 PM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\nINFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\nHibernate: select answer_.answer_id, answer_.answer as answer2_0_ from Answer answer_ where answer_.answer_id=?\nHibernate: insert into Question (answer_answer_id, question, question_id) values (?, ?, ?)\nHibernate: update Question set answer_answer_id=?, question=? where question_id=?\nDec 09, 2022 4:50:49 PM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\nWARN: SQL Error: 2291, SQLState: 23000\nDec 09, 2022 4:50:49 PM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\nERROR: ORA-02291: integrity constraint (SYSTEM.FKS6GHCWUOVTCP489OO5DY7RVK5) violated - parent key not found\n\nDec 09, 2022 4:50:49 PM org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl release\nINFO: HHH000010: On release of batch it still contained JDBC statements\nException in thread &quot;main&quot; javax.persistence.PersistenceException: org.hibernate.exception.ConstraintViolationException: could not execute statement\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1411)\n    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489)\n    at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3290)\n    at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2425)\n    at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\n    at com.map.MapDemo.main(MapDemo.java:25)\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\n    at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:59)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\n    at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:46)\n    at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3571)\n    at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3438)\n    at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3852)\n    at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:202)\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\n    at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\n    at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:723)\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\n    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344)\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407)\n    ... 9 more\nCaused by: java.sql.SQLIntegrityConstraintViolationException: ORA-02291: integrity constraint (SYSTEM.FKS6GHCWUOVTCP489OO5DY7RVK5) violated - parent key not found\n\n    at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:629)\n    at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:563)\n    at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1150)\n    at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:770)\n    at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:298)\n    at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:497)\n    at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:151)\n    at oracle.jdbc.driver.T4CPreparedStatement.executeForRows(T4CPreparedStatement.java:1051)\n    at oracle.jdbc.driver.OracleStatement.executeSQLStatement(OracleStatement.java:1530)\n    at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1310)\n    at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3745)\n    at oracle.jdbc.driver.OraclePreparedStatement.executeLargeUpdate(OraclePreparedStatement.java:3917)\n    at oracle.jdbc.driver.OraclePreparedStatement.executeUpdate(OraclePreparedStatement.java:3896)\n    at oracle.jdbc.driver.OraclePreparedStatementWrapper.executeUpdate(OraclePreparedStatementWrapper.java:991)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\n    ... 22 more\nCaused by: Error : 2291, Position : 0, Sql = update Question set answer_answer_id=:1 , question=:2  where question_id=:3 , OriginalSql = update Question set answer_answer_id=?, question=? where question_id=?, Error Msg = ORA-02291: integrity constraint (SYSTEM.FKS6GHCWUOVTCP489OO5DY7RVK5) violated - parent key not found\n\n    at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:636)\n    ... 36 more\n</code></pre>\n"},{"tags":["java","spring-boot","certificate","x509"],"comments":[{"owner":{"account_id":15456111,"reputation":319,"user_id":11300553,"display_name":"Sir Muffington"},"score":0,"creation_date":1670436765,"post_id":74727231,"comment_id":131887736,"body_markdown":"Welcome to the community. We generally do not answer programming-related questions, this looks like something for StackOverflow..","body":"Welcome to the community. We generally do not answer programming-related questions, this looks like something for StackOverflow.."}],"owner":{"account_id":26726814,"reputation":29,"user_id":20329827,"display_name":"Sinnedkid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670619406,"creation_date":1670423890,"question_id":74727231,"body_markdown":"i am currently working on an API endpoint with Spring Boot for creating Secretkeys / keypairs.\r\n\r\nThis is my code for generating a keypair:\r\n\r\n    public static KeyPair createKeyPair(final String algorithm, final String cryptoProvider, final int keySize) throws NoSuchAlgorithmException, NoSuchProviderException {\r\n        checkCryptoProvider(cryptoProvider);\r\n        KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(algorithm, cryptoProvider);\r\n        keyPairGenerator.initialize(keySize);\r\n        keyPair = keyPairGenerator.generateKeyPair();\r\n        return keyPair;\r\n    }\r\n\r\nNow if i want to save the private key into a keystore, I need a certificate for that, but i don&#39;t know how to get that. \r\nI saw an example with BouncyCastle which might work, but i wonder if there is a possibility to do so with Sun provider? In the documentation I only found methods for reading and validating some existing certificates from the file system etc.\r\n","title":"How to generate certificates with Java","body":"<p>i am currently working on an API endpoint with Spring Boot for creating Secretkeys / keypairs.</p>\n<p>This is my code for generating a keypair:</p>\n<pre><code>public static KeyPair createKeyPair(final String algorithm, final String cryptoProvider, final int keySize) throws NoSuchAlgorithmException, NoSuchProviderException {\n    checkCryptoProvider(cryptoProvider);\n    KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(algorithm, cryptoProvider);\n    keyPairGenerator.initialize(keySize);\n    keyPair = keyPairGenerator.generateKeyPair();\n    return keyPair;\n}\n</code></pre>\n<p>Now if i want to save the private key into a keystore, I need a certificate for that, but i don't know how to get that.\nI saw an example with BouncyCastle which might work, but i wonder if there is a possibility to do so with Sun provider? In the documentation I only found methods for reading and validating some existing certificates from the file system etc.</p>\n"},{"tags":["java","spring-boot","maven-plugin","properties-file"],"comments":[{"owner":{"account_id":304046,"reputation":4566,"user_id":613339,"accept_rate":81,"display_name":"bsautner"},"score":0,"creation_date":1670619865,"post_id":74748248,"comment_id":131923425,"body_markdown":"It sounds like you&#39;re referring to &quot;Build Variants&quot;.  This is where you may have packages called /release or /debug or /whatever and they can contain alternate code or configurations based on your target variant at compile time.  Something like that?","body":"It sounds like you&#39;re referring to &quot;Build Variants&quot;.  This is where you may have packages called /release or /debug or /whatever and they can contain alternate code or configurations based on your target variant at compile time.  Something like that?"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1670667935,"post_id":74748248,"comment_id":131929465,"body_markdown":"search keywords `maven profile dev prod` , there are more result or examples show how to use different file in different environment.","body":"search keywords <code>maven profile dev prod</code> , there are more result or examples show how to use different file in different environment."},{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":0,"creation_date":1670673907,"post_id":74748248,"comment_id":131930385,"body_markdown":"Try looking for SPI java... You will be able to add  functionalities implementations as dependencies to be used on build","body":"Try looking for SPI java... You will be able to add  functionalities implementations as dependencies to be used on build"}],"owner":{"account_id":9112972,"reputation":540,"user_id":6780959,"display_name":"Galen Howlett"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670619377,"creation_date":1670619377,"question_id":74748248,"body_markdown":"I&#39;m looking for a way to conditionally remove functionality from my Spring Boot app during the build. Whether that is a Maven plugin that strips out the actual Java classes or packages, or just is able to set a variable that cannot be later changed environmentally.\r\n\r\nMy spring boot app has a bunch of reports that can be generated but they shouldn&#39;t all be available in every environment they are deployed in. I would like an easy build config file where I can set which reports are enabled and disabled before build. I need them hard set at build, so someone with control of the environment can&#39;t just go in and update an associated property value and they become enabled again.\r\n\r\nI was looking for some plugin that would remove classes or packages, or that could hardcode the variable value into the compiled class files but couldn&#39;t find anything. I figure there must be some way to make configuration stuck at build time. Have been unsuccessful finding a way to set properties at build that cannot be overridden.","title":"Best Way to Remove Functionality from Java Spring Boot App at Build","body":"<p>I'm looking for a way to conditionally remove functionality from my Spring Boot app during the build. Whether that is a Maven plugin that strips out the actual Java classes or packages, or just is able to set a variable that cannot be later changed environmentally.</p>\n<p>My spring boot app has a bunch of reports that can be generated but they shouldn't all be available in every environment they are deployed in. I would like an easy build config file where I can set which reports are enabled and disabled before build. I need them hard set at build, so someone with control of the environment can't just go in and update an associated property value and they become enabled again.</p>\n<p>I was looking for some plugin that would remove classes or packages, or that could hardcode the variable value into the compiled class files but couldn't find anything. I figure there must be some way to make configuration stuck at build time. Have been unsuccessful finding a way to set properties at build that cannot be overridden.</p>\n"},{"tags":["java","android","mobile","ondestroy","wallpapermanager"],"owner":{"account_id":24864856,"reputation":13,"user_id":18740099,"display_name":"RegisteR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670618598,"creation_date":1670618598,"question_id":74748148,"body_markdown":"The application has 2 functions, save the picture to the phone&#39;s memory and set the picture on the wallpaper.\r\n\r\nThey differ only in that the install button has a call to WallpaperManager.\r\n\r\nWhen you click install on Android 12+, onDestroy is called, and then onCreate immediately. \r\n\r\nWhen you click on the save button, the code works fine, the activity is not destroyed\r\n\r\nTell me how to make sure that the activity is not destroyed?\r\n\r\n\r\n\r\n\r\n```\r\nfinal WallpaperManager wallpaperManager = WallpaperManager.getInstance(getApplicationContext());\r\nswitch (ImageDialog.getWhere()) {\r\n    case 1:\r\n        try {\r\n            wallpaperManager.setBitmap(bitmap);     // to the home screen\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        break;\r\n    case 2:\r\n        try {\r\n            wallpaperManager.setBitmap(bitmap, null, true, WallpaperManager.FLAG_LOCK); // to the lock screen\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        break;\r\n    case 3:\r\n        try {\r\n            wallpaperManager.setBitmap(bitmap); // to the home screen\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        try {\r\n            wallpaperManager.setBitmap(bitmap, null, true, WallpaperManager.FLAG_LOCK); // to the lock screen\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        break;\r\n}\r\n```\r\n\r\n\r\n","title":"Activity unauthorized causes ondestroy and then immediately oncreate","body":"<p>The application has 2 functions, save the picture to the phone's memory and set the picture on the wallpaper.</p>\n<p>They differ only in that the install button has a call to WallpaperManager.</p>\n<p>When you click install on Android 12+, onDestroy is called, and then onCreate immediately.</p>\n<p>When you click on the save button, the code works fine, the activity is not destroyed</p>\n<p>Tell me how to make sure that the activity is not destroyed?</p>\n<pre><code>final WallpaperManager wallpaperManager = WallpaperManager.getInstance(getApplicationContext());\nswitch (ImageDialog.getWhere()) {\n    case 1:\n        try {\n            wallpaperManager.setBitmap(bitmap);     // to the home screen\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        break;\n    case 2:\n        try {\n            wallpaperManager.setBitmap(bitmap, null, true, WallpaperManager.FLAG_LOCK); // to the lock screen\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        break;\n    case 3:\n        try {\n            wallpaperManager.setBitmap(bitmap); // to the home screen\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        try {\n            wallpaperManager.setBitmap(bitmap, null, true, WallpaperManager.FLAG_LOCK); // to the lock screen\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        break;\n}\n</code></pre>\n"},{"tags":["java","sql","oracle","stringbuilder"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1670393760,"post_id":74712456,"comment_id":131863778,"body_markdown":"Some sample data along with an explanation of what the query is supposed to be doing would be helpful here.","body":"Some sample data along with an explanation of what the query is supposed to be doing would be helpful here."},{"owner":{"account_id":12498833,"reputation":135387,"user_id":9097906,"display_name":"Littlefoot"},"score":0,"creation_date":1670395744,"post_id":74712456,"comment_id":131864203,"body_markdown":"@Tim, it splits a comma-separated list of values into rows. Roshi, as far as Oracle is concerned, that query works OK so I presume that it is *something else* (Stringbuilder?) that doesn&#39;t understand the CONNECT BY clause (as it complains about &quot;BY&quot;). I don&#39;t know anything about Java so - just saying. Can&#39;t help much.","body":"@Tim, it splits a comma-separated list of values into rows. Roshi, as far as Oracle is concerned, that query works OK so I presume that it is <i>something else</i> (Stringbuilder?) that doesn&#39;t understand the CONNECT BY clause (as it complains about &quot;BY&quot;). I don&#39;t know anything about Java so - just saying. Can&#39;t help much."},{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1670395992,"post_id":74712456,"comment_id":131864254,"body_markdown":"@Littlefoot Well if the OP is trying to run this as JPQL it won&#39;t work, as it is Oracle specific.  It _might_ run as a native query though.","body":"@Littlefoot Well if the OP is trying to run this as JPQL it won&#39;t work, as it is Oracle specific.  It <i>might</i> run as a native query though."},{"owner":{"account_id":16882330,"reputation":327,"user_id":12208032,"display_name":"RoshiDil"},"score":0,"creation_date":1670396887,"post_id":74712456,"comment_id":131864451,"body_markdown":"@Littlefoot yes the query works fine with Oracle. But the issue comes when I use it in the code.","body":"@Littlefoot yes the query works fine with Oracle. But the issue comes when I use it in the code."}],"answers":[{"tags":[],"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670411942,"creation_date":1670404541,"answer_id":74714219,"question_id":74712456,"body_markdown":"You do not need to split the string to find out if a value is in a delimited list.\r\n\r\nIt will be much faster to check if the complete term (with surrounding delimiter characters) is a sub-string of your delimited list (again, with surrounding delimiter characters):\r\n\r\n```lang-sql\r\nWHERE (SELECT &#39;,&#39; || mdn_list || &#39;,&#39; FROM tableA WHERE id = &#39;1&#39;)\r\n        LIKE  &#39;%,&#39; || your_column || &#39;,%&#39;\r\n```\r\n\r\n[fiddle](https://dbfiddle.uk/C2xLS7F2)\r\n\r\n---\r\n\r\nHowever, your error:\r\n\r\n&gt; Caused by: org.hibernate.hql.ast.QuerySyntaxException: unexpected token: BY near line 3, column 19 .....\r\n\r\nShould not be caused by your code as your code is syntactically valid (as far as Oracle is concerned). But you can remove the use of `CONNECT BY` by filtering on sub-string matches.","title":"How to use &#39;REGEXP_SUBSTR&#39; in oracle inside java code to build a dynamic sql query using StringBuilder?","body":"<p>You do not need to split the string to find out if a value is in a delimited list.</p>\n<p>It will be much faster to check if the complete term (with surrounding delimiter characters) is a sub-string of your delimited list (again, with surrounding delimiter characters):</p>\n<pre class=\"lang-sql prettyprint-override\"><code>WHERE (SELECT ',' || mdn_list || ',' FROM tableA WHERE id = '1')\n        LIKE  '%,' || your_column || ',%'\n</code></pre>\n<p><a href=\"https://dbfiddle.uk/C2xLS7F2\" rel=\"nofollow noreferrer\">fiddle</a></p>\n<hr />\n<p>However, your error:</p>\n<blockquote>\n<p>Caused by: org.hibernate.hql.ast.QuerySyntaxException: unexpected token: BY near line 3, column 19 .....</p>\n</blockquote>\n<p>Should not be caused by your code as your code is syntactically valid (as far as Oracle is concerned). But you can remove the use of <code>CONNECT BY</code> by filtering on sub-string matches.</p>\n"},{"tags":[],"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670618488,"creation_date":1670618488,"answer_id":74748130,"question_id":74712456,"body_markdown":"&quot;org.hibernate.hql.ast.QuerySyntaxException&quot;: this means you pass a native SQL fragment to the HQL parser... so even if the SQL is correct...","title":"How to use &#39;REGEXP_SUBSTR&#39; in oracle inside java code to build a dynamic sql query using StringBuilder?","body":"<p>&quot;org.hibernate.hql.ast.QuerySyntaxException&quot;: this means you pass a native SQL fragment to the HQL parser... so even if the SQL is correct...</p>\n"}],"owner":{"account_id":16882330,"reputation":327,"user_id":12208032,"display_name":"RoshiDil"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1670618488,"creation_date":1670393605,"question_id":74712456,"body_markdown":"I am building a dynamic query in my Java code using StringBuilder. I need to append a SELECT sub query with REGEXP_SUBSTR expression inside an IN clause. Below is what I did.\r\n\r\n```\r\nStringBuilder criteria = new StringBuilder();\r\n\r\ncriteria.append(&quot; IN (SELECT REGEXP_SUBSTR((select tableA.mdn_list from tableA where tableA.id = &#39;1&#39;), &#39;[^,]+&#39;, 1, level)  FROM dual CONNECT BY REGEXP_SUBSTR((select tableA.mdn_list from tableA where tableA.id = &#39;1&#39;), &#39;[^,]+&#39;, 1, level) IS NOT NULL))\r\n```\r\n\r\nBut this gives an error in the terminal. \r\n\r\n&gt; Caused by: org.hibernate.hql.ast.QuerySyntaxException: unexpected\r\n&gt; token: BY near line 3, column 19 .....\r\n\r\nHow to add *REGEXP_SUBSTR* in this code?\r\n\r\nThis question relates with the question here (sample data):\r\nhttps://stackoverflow.com/q/74705757/12208032","title":"How to use &#39;REGEXP_SUBSTR&#39; in oracle inside java code to build a dynamic sql query using StringBuilder?","body":"<p>I am building a dynamic query in my Java code using StringBuilder. I need to append a SELECT sub query with REGEXP_SUBSTR expression inside an IN clause. Below is what I did.</p>\n<pre><code>StringBuilder criteria = new StringBuilder();\n\ncriteria.append(&quot; IN (SELECT REGEXP_SUBSTR((select tableA.mdn_list from tableA where tableA.id = '1'), '[^,]+', 1, level)  FROM dual CONNECT BY REGEXP_SUBSTR((select tableA.mdn_list from tableA where tableA.id = '1'), '[^,]+', 1, level) IS NOT NULL))\n</code></pre>\n<p>But this gives an error in the terminal.</p>\n<blockquote>\n<p>Caused by: org.hibernate.hql.ast.QuerySyntaxException: unexpected\ntoken: BY near line 3, column 19 .....</p>\n</blockquote>\n<p>How to add <em>REGEXP_SUBSTR</em> in this code?</p>\n<p>This question relates with the question here (sample data):\n<a href=\"https://stackoverflow.com/q/74705757/12208032\">How to add comma-separated string value to an &#39;IN&#39; clause as an item list in SQL using sub select query?</a></p>\n"},{"tags":["java","exception","asynchronous","concurrency","java-8"],"comments":[{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1478627157,"post_id":40485398,"comment_id":68230743,"body_markdown":"Couldn&#39;t you simply handle the retry inside `executeMycustomActionHere()`? Maybe just pass a parameter with the number of retries you want.","body":"Couldn&#39;t you simply handle the retry inside <code>executeMycustomActionHere()</code>? Maybe just pass a parameter with the number of retries you want."},{"owner":{"account_id":8790992,"reputation":5110,"user_id":6570821,"accept_rate":67,"display_name":"xmas79"},"score":0,"creation_date":1478642520,"post_id":40485398,"comment_id":68238469,"body_markdown":"@DidierL Sorry I don&#39;t get what I should do. I&#39;d simply move the problem inside that function. Isn&#39;t it?","body":"@DidierL Sorry I don&#39;t get what I should do. I&#39;d simply move the problem inside that function. Isn&#39;t it?"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1478698250,"post_id":40485398,"comment_id":68258522,"body_markdown":"Yes, except you would separate the retry from the handling of `CompletableFuture`, which is not really designed for that.","body":"Yes, except you would separate the retry from the handling of <code>CompletableFuture</code>, which is not really designed for that."}],"answers":[{"tags":[],"owner":{"account_id":9273643,"reputation":122,"user_id":6886879,"display_name":"Alex Fargus"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1478605067,"creation_date":1478604445,"answer_id":40485732,"question_id":40485398,"body_markdown":"I recently solved a similar problem using the [guava-retrying](https://github.com/rholder/guava-retrying) library.\r\n\r\n    Callable&lt;Result&gt; callable = new Callable&lt;Result&gt;() {\r\n        public Result call() throws Exception {\r\n            return executeMycustomActionHere();\r\n        }\r\n    };\r\n    \r\n    Retryer&lt;Boolean&gt; retryer = RetryerBuilder.&lt;Result&gt;newBuilder()\r\n            .retryIfResult(Predicates.&lt;Result&gt;isNull())\r\n            .retryIfExceptionOfType(IOException.class)\r\n            .retryIfRuntimeException()\r\n            .withStopStrategy(StopStrategies.stopAfterAttempt(MAX_RETRIES))\r\n            .build();\r\n\r\n    CompletableFuture.supplyAsync( () -&gt; {\r\n        try {\r\n            retryer.call(callable);\r\n        } catch (RetryException e) {\r\n            e.printStackTrace();\r\n        } catch (ExecutionException e) {\r\n           e.printStackTrace();\r\n        }\r\n    });\r\n","title":"Retry logic with CompletableFuture","body":"<p>I recently solved a similar problem using the <a href=\"https://github.com/rholder/guava-retrying\" rel=\"noreferrer\">guava-retrying</a> library.</p>\n\n<pre><code>Callable&lt;Result&gt; callable = new Callable&lt;Result&gt;() {\n    public Result call() throws Exception {\n        return executeMycustomActionHere();\n    }\n};\n\nRetryer&lt;Boolean&gt; retryer = RetryerBuilder.&lt;Result&gt;newBuilder()\n        .retryIfResult(Predicates.&lt;Result&gt;isNull())\n        .retryIfExceptionOfType(IOException.class)\n        .retryIfRuntimeException()\n        .withStopStrategy(StopStrategies.stopAfterAttempt(MAX_RETRIES))\n        .build();\n\nCompletableFuture.supplyAsync( () -&gt; {\n    try {\n        retryer.call(callable);\n    } catch (RetryException e) {\n        e.printStackTrace();\n    } catch (ExecutionException e) {\n       e.printStackTrace();\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1523426845,"creation_date":1478609291,"answer_id":40487376,"question_id":40485398,"body_markdown":"Chaining subsequent retries can be straight-forward:\r\n\r\n    public CompletableFuture&lt;Result&gt; executeActionAsync() {\r\n        CompletableFuture&lt;Result&gt; f=executeMycustomActionHere();\r\n        for(int i=0; i&lt;MAX_RETRIES; i++) {\r\n            f=f.exceptionally(t -&gt; executeMycustomActionHere().join());\r\n        }\r\n        return f;\r\n    }\r\n&lt;sup&gt;*Read about the drawbacks below*&lt;/sup&gt;  \r\nThis simply chains as many retries as intended, as these subsequent stages won’t do anything in the non-exceptional case.\r\n\r\nOne drawback is that if the first attempt fails immediately, so that `f` is already completed exceptionally when the first `exceptionally` handler is chained, the action will be invoked by the calling thread, removing the asynchronous nature of the request entirely. And generally, `join()` may block a thread (the default executor will start a new compensation thread then, but still, it’s discouraged). Unfortunately, there is neither, an `exceptionallyAsync` or an `exceptionallyCompose` method.\r\n\r\nA solution not invoking `join()` would be\r\n\r\n    public CompletableFuture&lt;Result&gt; executeActionAsync() {\r\n        CompletableFuture&lt;Result&gt; f=executeMycustomActionHere();\r\n        for(int i=0; i&lt;MAX_RETRIES; i++) {\r\n            f=f.thenApply(CompletableFuture::completedFuture)\r\n               .exceptionally(t -&gt; executeMycustomActionHere())\r\n               .thenCompose(Function.identity());\r\n        }\r\n        return f;\r\n    }\r\ndemonstrating how involved combining “compose” and an “exceptionally” handler is.\r\n\r\nFurther, only the last exception will be reported, if all retries failed. A better solution should report the first exception, with subsequent exceptions of the retries added as suppressed exceptions. Such a solution can be build by chaining a recursive call, as hinted by [Gili’s answer](https://stackoverflow.com/a/49093420/2711488), however, in order to use this idea for exception handling, we have to use the steps to combine “compose” and “exceptionally” shown above:\r\n\r\n    public CompletableFuture&lt;Result&gt; executeActionAsync() {\r\n        return executeMycustomActionHere()\r\n            .thenApply(CompletableFuture::completedFuture)\r\n            .exceptionally(t -&gt; retry(t, 0))\r\n            .thenCompose(Function.identity());\r\n    }\r\n    private CompletableFuture&lt;Result&gt; retry(Throwable first, int retry) {\r\n        if(retry &gt;= MAX_RETRIES) return CompletableFuture.failedFuture(first);\r\n        return executeMycustomActionHere()\r\n            .thenApply(CompletableFuture::completedFuture)\r\n            .exceptionally(t -&gt; { first.addSuppressed(t); return retry(first, retry+1); })\r\n            .thenCompose(Function.identity());\r\n    }\r\n\r\n`CompletableFuture.failedFuture` is a Java&#160;9 method, but it would be trivial to add a Java&#160;8 compatible backport to your code if needed:\r\n\r\n    public static &lt;T&gt; CompletableFuture&lt;T&gt; failedFuture(Throwable t) {\r\n        final CompletableFuture&lt;T&gt; cf = new CompletableFuture&lt;&gt;();\r\n        cf.completeExceptionally(t);\r\n        return cf;\r\n    }\r\n","title":"Retry logic with CompletableFuture","body":"<p>Chaining subsequent retries can be straight-forward:</p>\n\n<pre><code>public CompletableFuture&lt;Result&gt; executeActionAsync() {\n    CompletableFuture&lt;Result&gt; f=executeMycustomActionHere();\n    for(int i=0; i&lt;MAX_RETRIES; i++) {\n        f=f.exceptionally(t -&gt; executeMycustomActionHere().join());\n    }\n    return f;\n}\n</code></pre>\n\n<p><sup><em>Read about the drawbacks below</em></sup><br>\nThis simply chains as many retries as intended, as these subsequent stages won’t do anything in the non-exceptional case.</p>\n\n<p>One drawback is that if the first attempt fails immediately, so that <code>f</code> is already completed exceptionally when the first <code>exceptionally</code> handler is chained, the action will be invoked by the calling thread, removing the asynchronous nature of the request entirely. And generally, <code>join()</code> may block a thread (the default executor will start a new compensation thread then, but still, it’s discouraged). Unfortunately, there is neither, an <code>exceptionallyAsync</code> or an <code>exceptionallyCompose</code> method.</p>\n\n<p>A solution not invoking <code>join()</code> would be</p>\n\n<pre><code>public CompletableFuture&lt;Result&gt; executeActionAsync() {\n    CompletableFuture&lt;Result&gt; f=executeMycustomActionHere();\n    for(int i=0; i&lt;MAX_RETRIES; i++) {\n        f=f.thenApply(CompletableFuture::completedFuture)\n           .exceptionally(t -&gt; executeMycustomActionHere())\n           .thenCompose(Function.identity());\n    }\n    return f;\n}\n</code></pre>\n\n<p>demonstrating how involved combining “compose” and an “exceptionally” handler is.</p>\n\n<p>Further, only the last exception will be reported, if all retries failed. A better solution should report the first exception, with subsequent exceptions of the retries added as suppressed exceptions. Such a solution can be build by chaining a recursive call, as hinted by <a href=\"https://stackoverflow.com/a/49093420/2711488\">Gili’s answer</a>, however, in order to use this idea for exception handling, we have to use the steps to combine “compose” and “exceptionally” shown above:</p>\n\n<pre><code>public CompletableFuture&lt;Result&gt; executeActionAsync() {\n    return executeMycustomActionHere()\n        .thenApply(CompletableFuture::completedFuture)\n        .exceptionally(t -&gt; retry(t, 0))\n        .thenCompose(Function.identity());\n}\nprivate CompletableFuture&lt;Result&gt; retry(Throwable first, int retry) {\n    if(retry &gt;= MAX_RETRIES) return CompletableFuture.failedFuture(first);\n    return executeMycustomActionHere()\n        .thenApply(CompletableFuture::completedFuture)\n        .exceptionally(t -&gt; { first.addSuppressed(t); return retry(first, retry+1); })\n        .thenCompose(Function.identity());\n}\n</code></pre>\n\n<p><code>CompletableFuture.failedFuture</code> is a Java 9 method, but it would be trivial to add a Java 8 compatible backport to your code if needed:</p>\n\n<pre><code>public static &lt;T&gt; CompletableFuture&lt;T&gt; failedFuture(Throwable t) {\n    final CompletableFuture&lt;T&gt; cf = new CompletableFuture&lt;&gt;();\n    cf.completeExceptionally(t);\n    return cf;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8790992,"reputation":5110,"user_id":6570821,"accept_rate":67,"display_name":"xmas79"},"down_vote_count":1,"up_vote_count":12,"is_accepted":true,"score":11,"last_activity_date":1478642359,"creation_date":1478642359,"answer_id":40497164,"question_id":40485398,"body_markdown":"I think I was successfully. Here&#39;s an example class I created and the test code:\r\n\r\n----\r\nRetriableTask.java\r\n----\r\n\r\n    public class RetriableTask\r\n    {\r\n        protected static final int MAX_RETRIES = 10;\r\n        protected int retries = 0;\r\n        protected int n = 0;\r\n        protected CompletableFuture&lt;Integer&gt; future = new CompletableFuture&lt;Integer&gt;();\r\n    \r\n        public RetriableTask(int number) {\r\n            n = number;\r\n        }\r\n    \r\n        public CompletableFuture&lt;Integer&gt; executeAsync() {\r\n            // Create a failure within variable timeout\r\n            Duration timeoutInMilliseconds = Duration.ofMillis(1*(int)Math.pow(2, retries));\r\n            CompletableFuture&lt;Integer&gt; timeoutFuture = Utils.failAfter(timeoutInMilliseconds);\r\n    \r\n            // Create a dummy future and complete only if (n &gt; 5 &amp;&amp; retries &gt; 5) so we can test for both completion and timeouts. \r\n            // In real application this should be a real future\r\n            final CompletableFuture&lt;Integer&gt; taskFuture = new CompletableFuture&lt;&gt;();\r\n            if (n &gt; 5 &amp;&amp; retries &gt; 5)\r\n                taskFuture.complete(retries * n);\r\n    \r\n            // Attach the failure future to the task future, and perform a check on completion\r\n            taskFuture.applyToEither(timeoutFuture, Function.identity())\r\n                .whenCompleteAsync((result, exception) -&gt; {\r\n                    if (exception == null) {\r\n                        future.complete(result);\r\n                    } else {\r\n                        retries++;\r\n                        if (retries &gt;= MAX_RETRIES) {\r\n                            future.completeExceptionally(exception);\r\n                        } else {\r\n                            executeAsync();\r\n                        }\r\n                    }\r\n                });\r\n    \r\n            // Return the future    \r\n            return future;\r\n        }\r\n    }\r\n\r\n----\r\nUsage\r\n----\r\n\r\n\tint size = 10;\r\n\tSystem.out.println(&quot;generating...&quot;);\r\n\tList&lt;RetriableTask&gt; tasks = new ArrayList&lt;&gt;();\r\n\tfor (int i = 0; i &lt; size; i++) {\r\n\t\ttasks.add(new RetriableTask(i));\r\n\t}\r\n\r\n\tSystem.out.println(&quot;issuing...&quot;);\r\n\tList&lt;CompletableFuture&lt;Integer&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n\tfor (int i = 0; i &lt; size; i++) {\r\n\t\tfutures.add(tasks.get(i).executeAsync());\r\n\t}\r\n\r\n\tSystem.out.println(&quot;Waiting...&quot;);\r\n\tfor (int i = 0; i &lt; size; i++) {\r\n\t\ttry {\r\n\t\t\tCompletableFuture&lt;Integer&gt; future = futures.get(i);\r\n\t\t\tint result = future.get();\r\n\t\t\tSystem.out.println(i + &quot; result is &quot; + result);\r\n\t\t} catch (Exception ex) {\r\n\t\t\tSystem.out.println(i + &quot; I got exception!&quot;);\r\n\t\t}\r\n\t}\r\n\tSystem.out.println(&quot;Done waiting...&quot;);\r\n\r\n----\r\nOutput\r\n----\r\n\r\n    generating...\r\n    issuing...\r\n    Waiting...\r\n    0 I got exception!\r\n    1 I got exception!\r\n    2 I got exception!\r\n    3 I got exception!\r\n    4 I got exception!\r\n    5 I got exception!\r\n    6 result is 36\r\n    7 result is 42\r\n    8 result is 48\r\n    9 result is 54\r\n    Done waiting...\r\n\r\n-----\r\n\r\nMain idea and some glue code (`failAfter` function) come from [here](http://www.nurkiewicz.com/2014/12/asynchronous-timeouts-with.html). \r\n\r\nAny other suggestions or improvement are welcome.\r\n\r\n\r\n","title":"Retry logic with CompletableFuture","body":"<p>I think I was successfully. Here's an example class I created and the test code:</p>\n\n<hr>\n\n<h2>RetriableTask.java</h2>\n\n<pre><code>public class RetriableTask\n{\n    protected static final int MAX_RETRIES = 10;\n    protected int retries = 0;\n    protected int n = 0;\n    protected CompletableFuture&lt;Integer&gt; future = new CompletableFuture&lt;Integer&gt;();\n\n    public RetriableTask(int number) {\n        n = number;\n    }\n\n    public CompletableFuture&lt;Integer&gt; executeAsync() {\n        // Create a failure within variable timeout\n        Duration timeoutInMilliseconds = Duration.ofMillis(1*(int)Math.pow(2, retries));\n        CompletableFuture&lt;Integer&gt; timeoutFuture = Utils.failAfter(timeoutInMilliseconds);\n\n        // Create a dummy future and complete only if (n &gt; 5 &amp;&amp; retries &gt; 5) so we can test for both completion and timeouts. \n        // In real application this should be a real future\n        final CompletableFuture&lt;Integer&gt; taskFuture = new CompletableFuture&lt;&gt;();\n        if (n &gt; 5 &amp;&amp; retries &gt; 5)\n            taskFuture.complete(retries * n);\n\n        // Attach the failure future to the task future, and perform a check on completion\n        taskFuture.applyToEither(timeoutFuture, Function.identity())\n            .whenCompleteAsync((result, exception) -&gt; {\n                if (exception == null) {\n                    future.complete(result);\n                } else {\n                    retries++;\n                    if (retries &gt;= MAX_RETRIES) {\n                        future.completeExceptionally(exception);\n                    } else {\n                        executeAsync();\n                    }\n                }\n            });\n\n        // Return the future    \n        return future;\n    }\n}\n</code></pre>\n\n<hr>\n\n<h2>Usage</h2>\n\n<pre><code>int size = 10;\nSystem.out.println(\"generating...\");\nList&lt;RetriableTask&gt; tasks = new ArrayList&lt;&gt;();\nfor (int i = 0; i &lt; size; i++) {\n    tasks.add(new RetriableTask(i));\n}\n\nSystem.out.println(\"issuing...\");\nList&lt;CompletableFuture&lt;Integer&gt;&gt; futures = new ArrayList&lt;&gt;();\nfor (int i = 0; i &lt; size; i++) {\n    futures.add(tasks.get(i).executeAsync());\n}\n\nSystem.out.println(\"Waiting...\");\nfor (int i = 0; i &lt; size; i++) {\n    try {\n        CompletableFuture&lt;Integer&gt; future = futures.get(i);\n        int result = future.get();\n        System.out.println(i + \" result is \" + result);\n    } catch (Exception ex) {\n        System.out.println(i + \" I got exception!\");\n    }\n}\nSystem.out.println(\"Done waiting...\");\n</code></pre>\n\n<hr>\n\n<h2>Output</h2>\n\n<pre><code>generating...\nissuing...\nWaiting...\n0 I got exception!\n1 I got exception!\n2 I got exception!\n3 I got exception!\n4 I got exception!\n5 I got exception!\n6 result is 36\n7 result is 42\n8 result is 48\n9 result is 54\nDone waiting...\n</code></pre>\n\n<hr>\n\n<p>Main idea and some glue code (<code>failAfter</code> function) come from <a href=\"http://www.nurkiewicz.com/2014/12/asynchronous-timeouts-with.html\" rel=\"noreferrer\">here</a>. </p>\n\n<p>Any other suggestions or improvement are welcome.</p>\n"},{"tags":[],"owner":{"account_id":8235,"reputation":87010,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1520210329,"creation_date":1520151682,"answer_id":49093420,"question_id":40485398,"body_markdown":"Here is an approach that will work for any `CompletionStage` subclass and does not return a dummy `CompletableFuture` that does nothing more than wait to get updated by other futures.\r\n\r\n\t/**\r\n\t * Sends a request that may run as many times as necessary.\r\n\t *\r\n\t * @param request  a supplier initiates an HTTP request\r\n\t * @param executor the Executor used to run the request\r\n\t * @return the server response\r\n\t */\r\n\tpublic CompletionStage&lt;Response&gt; asyncRequest(Supplier&lt;CompletionStage&lt;Response&gt;&gt; request, Executor executor)\r\n\t{\r\n\t\treturn retry(request, executor, 0);\r\n\t}\r\n\r\n\t/**\r\n\t * Sends a request that may run as many times as necessary.\r\n\t *\r\n\t * @param request  a supplier initiates an HTTP request\r\n\t * @param executor the Executor used to run the request\r\n\t * @param tries    the number of times the operation has been retried\r\n\t * @return the server response\r\n\t */\r\n\tprivate CompletionStage&lt;Response&gt; retry(Supplier&lt;CompletionStage&lt;Response&gt;&gt; request, Executor executor, int tries)\r\n\t{\r\n\t\tif (tries &gt;= MAX_RETRIES)\r\n\t\t\tthrow new CompletionException(new IOException(&quot;Request failed after &quot; + MAX_RETRIES + &quot; tries&quot;));\r\n\t\treturn request.get().thenComposeAsync(response -&gt;\r\n\t\t{\r\n\t\t\tif (response.getStatusInfo().getFamily() != Response.Status.Family.SUCCESSFUL)\r\n\t\t\t\treturn retry(request, executor, tries + 1);\r\n\t\t\treturn CompletableFuture.completedFuture(response);\r\n\t\t}, executor);\r\n\t}","title":"Retry logic with CompletableFuture","body":"<p>Here is an approach that will work for any <code>CompletionStage</code> subclass and does not return a dummy <code>CompletableFuture</code> that does nothing more than wait to get updated by other futures.</p>\n\n<pre><code>/**\n * Sends a request that may run as many times as necessary.\n *\n * @param request  a supplier initiates an HTTP request\n * @param executor the Executor used to run the request\n * @return the server response\n */\npublic CompletionStage&lt;Response&gt; asyncRequest(Supplier&lt;CompletionStage&lt;Response&gt;&gt; request, Executor executor)\n{\n    return retry(request, executor, 0);\n}\n\n/**\n * Sends a request that may run as many times as necessary.\n *\n * @param request  a supplier initiates an HTTP request\n * @param executor the Executor used to run the request\n * @param tries    the number of times the operation has been retried\n * @return the server response\n */\nprivate CompletionStage&lt;Response&gt; retry(Supplier&lt;CompletionStage&lt;Response&gt;&gt; request, Executor executor, int tries)\n{\n    if (tries &gt;= MAX_RETRIES)\n        throw new CompletionException(new IOException(\"Request failed after \" + MAX_RETRIES + \" tries\"));\n    return request.get().thenComposeAsync(response -&gt;\n    {\n        if (response.getStatusInfo().getFamily() != Response.Status.Family.SUCCESSFUL)\n            return retry(request, executor, tries + 1);\n        return CompletableFuture.completedFuture(response);\n    }, executor);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":59354,"reputation":9649,"user_id":177633,"accept_rate":66,"display_name":"theazureshadow"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1538686681,"creation_date":1538686681,"answer_id":52655041,"question_id":40485398,"body_markdown":"Instead of implementing your own retry logic, I recommend using a proven library like [failsafe](https://github.com/jhalterman/failsafe#completablefuture-integration), which has built-in support for futures (and seems more popular than [guava-retrying](https://github.com/rholder/guava-retrying)). For your example, it would look something like:\r\n\r\n    private static RetryPolicy retryPolicy = new RetryPolicy()\r\n        .withMaxRetries(MAX_RETRIES);\r\n\r\n    public CompletableFuture&lt;Result&gt; executeActionAsync() {\r\n        return Failsafe.with(retryPolicy)\r\n            .with(executor)\r\n            .withFallback(null)\r\n            .future(this::executeMycustomActionHere);\r\n    }\r\n\r\nProbably you should avoid `.withFallback(null)` and just have let the returned future&#39;s `.get()` method throw the resulting exception so the caller of your method can handle it specifically, but that&#39;s a design decision you&#39;ll have to make.\r\n\r\nOther things to think about include whether you should retry immediately or wait some period of time between attempts, any sort of recursive backoff (useful when you&#39;re calling a web service that might be down), and whether there are specific exceptions that aren&#39;t worth retrying (e.g. if the parameters to the method are invalid).","title":"Retry logic with CompletableFuture","body":"<p>Instead of implementing your own retry logic, I recommend using a proven library like <a href=\"https://github.com/jhalterman/failsafe#completablefuture-integration\" rel=\"noreferrer\">failsafe</a>, which has built-in support for futures (and seems more popular than <a href=\"https://github.com/rholder/guava-retrying\" rel=\"noreferrer\">guava-retrying</a>). For your example, it would look something like:</p>\n\n<pre><code>private static RetryPolicy retryPolicy = new RetryPolicy()\n    .withMaxRetries(MAX_RETRIES);\n\npublic CompletableFuture&lt;Result&gt; executeActionAsync() {\n    return Failsafe.with(retryPolicy)\n        .with(executor)\n        .withFallback(null)\n        .future(this::executeMycustomActionHere);\n}\n</code></pre>\n\n<p>Probably you should avoid <code>.withFallback(null)</code> and just have let the returned future's <code>.get()</code> method throw the resulting exception so the caller of your method can handle it specifically, but that's a design decision you'll have to make.</p>\n\n<p>Other things to think about include whether you should retry immediately or wait some period of time between attempts, any sort of recursive backoff (useful when you're calling a web service that might be down), and whether there are specific exceptions that aren't worth retrying (e.g. if the parameters to the method are invalid).</p>\n"},{"tags":[],"owner":{"account_id":14740260,"reputation":71,"user_id":10645061,"display_name":"殷振南"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1542194010,"creation_date":1542099077,"answer_id":53277087,"question_id":40485398,"body_markdown":"util class:\r\n\r\n    public class RetryUtil {\r\n\r\n        public static &lt;R&gt; CompletableFuture&lt;R&gt; retry(Supplier&lt;CompletableFuture&lt;R&gt;&gt; supplier, int maxRetries) {\r\n            CompletableFuture&lt;R&gt; f = supplier.get();\r\n            for(int i=0; i&lt;maxRetries; i++) {\r\n                f=f.thenApply(CompletableFuture::completedFuture)\r\n                    .exceptionally(t -&gt; {\r\n                        System.out.println(&quot;retry for: &quot;+t.getMessage());\r\n                        return supplier.get();\r\n                    })\r\n                    .thenCompose(Function.identity());\r\n            }\r\n            return f;\r\n        }\r\n    }\r\n\r\nusage:\r\n\r\n    public CompletableFuture&lt;String&gt; lucky(){\r\n        return CompletableFuture.supplyAsync(()-&gt;{\r\n            double luckNum = Math.random();\r\n            double luckEnough = 0.6;\r\n            if(luckNum &lt; luckEnough){\r\n                throw new RuntimeException(&quot;not luck enough: &quot; + luckNum);\r\n            }\r\n            return &quot;I&#39;m lucky: &quot;+luckNum;\r\n        });\r\n    }\r\n    @Test\r\n    public void testRetry(){\r\n        CompletableFuture&lt;String&gt; retry = RetryUtil.retry(this::lucky, 10);\r\n        System.out.println(&quot;async check&quot;);\r\n        String join = retry.join();\r\n        System.out.println(&quot;lucky? &quot;+join);\r\n    }\r\noutput\r\n\r\n    async check\r\n    retry for: java.lang.RuntimeException: not luck enough: 0.412296354211683\r\n    retry for: java.lang.RuntimeException: not luck enough: 0.4099777199676573\r\n    lucky? I&#39;m lucky: 0.8059089479049389","title":"Retry logic with CompletableFuture","body":"<p>util class:</p>\n\n<pre><code>public class RetryUtil {\n\n    public static &lt;R&gt; CompletableFuture&lt;R&gt; retry(Supplier&lt;CompletableFuture&lt;R&gt;&gt; supplier, int maxRetries) {\n        CompletableFuture&lt;R&gt; f = supplier.get();\n        for(int i=0; i&lt;maxRetries; i++) {\n            f=f.thenApply(CompletableFuture::completedFuture)\n                .exceptionally(t -&gt; {\n                    System.out.println(\"retry for: \"+t.getMessage());\n                    return supplier.get();\n                })\n                .thenCompose(Function.identity());\n        }\n        return f;\n    }\n}\n</code></pre>\n\n<p>usage:</p>\n\n<pre><code>public CompletableFuture&lt;String&gt; lucky(){\n    return CompletableFuture.supplyAsync(()-&gt;{\n        double luckNum = Math.random();\n        double luckEnough = 0.6;\n        if(luckNum &lt; luckEnough){\n            throw new RuntimeException(\"not luck enough: \" + luckNum);\n        }\n        return \"I'm lucky: \"+luckNum;\n    });\n}\n@Test\npublic void testRetry(){\n    CompletableFuture&lt;String&gt; retry = RetryUtil.retry(this::lucky, 10);\n    System.out.println(\"async check\");\n    String join = retry.join();\n    System.out.println(\"lucky? \"+join);\n}\n</code></pre>\n\n<p>output</p>\n\n<pre><code>async check\nretry for: java.lang.RuntimeException: not luck enough: 0.412296354211683\nretry for: java.lang.RuntimeException: not luck enough: 0.4099777199676573\nlucky? I'm lucky: 0.8059089479049389\n</code></pre>\n"},{"tags":[],"owner":{"account_id":388617,"reputation":1480,"user_id":747661,"accept_rate":58,"display_name":"Ali"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1591000083,"creation_date":1591000083,"answer_id":62128247,"question_id":40485398,"body_markdown":"maybe it&#39;s late but hopes someone might find this useful, I recently solved this problem for retrying rest API call on failure. In my case, I have to retry on 500 HTTP status code, below is my rest client code (we are using WSClient from play framework) you can change it to whatever rest-client as per requirement.\r\n\r\n    \r\n   \r\n \r\n\r\n     int MAX_RETRY = 3;\r\n     CompletableFuture&lt;WSResponse&gt; future = new CompletableFuture&lt;&gt;();\r\n        \r\n     private CompletionStage&lt;WSResponse&gt; getWS(Object request,String url, int retry, CompletableFuture future) throws JsonProcessingException {\r\n     ws.url(url)\r\n            .post(Json.parse(mapper.writeValueAsString(request)))\r\n            .whenCompleteAsync((wsResponse, exception) -&gt; {\r\n                if(wsResponse.getStatus() == 500 &amp;&amp; retry &lt; MAX_RETRY) {\r\n                    try {\r\n                        getWS(request, retry+1, future);\r\n                    } catch (IOException e) {\r\n                        throw new Exception(e);\r\n                    }\r\n                }else {\r\n                    future.complete(wsResponse);\r\n                }\r\n            });\r\n\r\n         return future;\r\n    }\r\n\r\n\r\nThis code will return immediately if the status code is 200 or other than 500 whereas if HTTP status is 500 it will retry 3 times.","title":"Retry logic with CompletableFuture","body":"<p>maybe it's late but hopes someone might find this useful, I recently solved this problem for retrying rest API call on failure. In my case, I have to retry on 500 HTTP status code, below is my rest client code (we are using WSClient from play framework) you can change it to whatever rest-client as per requirement.</p>\n\n<pre><code> int MAX_RETRY = 3;\n CompletableFuture&lt;WSResponse&gt; future = new CompletableFuture&lt;&gt;();\n\n private CompletionStage&lt;WSResponse&gt; getWS(Object request,String url, int retry, CompletableFuture future) throws JsonProcessingException {\n ws.url(url)\n        .post(Json.parse(mapper.writeValueAsString(request)))\n        .whenCompleteAsync((wsResponse, exception) -&gt; {\n            if(wsResponse.getStatus() == 500 &amp;&amp; retry &lt; MAX_RETRY) {\n                try {\n                    getWS(request, retry+1, future);\n                } catch (IOException e) {\n                    throw new Exception(e);\n                }\n            }else {\n                future.complete(wsResponse);\n            }\n        });\n\n     return future;\n}\n</code></pre>\n\n<p>This code will return immediately if the status code is 200 or other than 500 whereas if HTTP status is 500 it will retry 3 times.</p>\n"},{"tags":[],"owner":{"account_id":5269741,"reputation":318,"user_id":4208410,"display_name":"Yan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618914508,"creation_date":1618905335,"answer_id":67174720,"question_id":40485398,"body_markdown":"We needed to retry a task based on an error condition.\r\n\r\n    public static &lt;T&gt; CompletableFuture&lt;T&gt; retryOnCondition(Supplier&lt;CompletableFuture&lt;T&gt;&gt; supplier,\r\n\t                                             Predicate&lt;Throwable&gt; retryPredicate, int maxAttempts) {\r\n\t\tif (maxAttempts &lt;= 0) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;maxAttempts can&#39;t be &lt;= 0&quot;);\r\n\t\t}\r\n\t\treturn retryOnCondition(supplier, retryPredicate, null, maxAttempts);\r\n\t}\r\n\r\n\tprivate static &lt;T&gt; CompletableFuture&lt;T&gt; retryOnCondition(\r\n\t\tSupplier&lt;CompletableFuture&lt;T&gt;&gt; supplier, Predicate&lt;Throwable&gt; retryPredicate,\r\n\t\tThrowable lastError, int attemptsLeft) {\r\n\r\n\t\tif (attemptsLeft == 0) {\r\n\t\t\treturn CompletableFuture.failedFuture(lastError);\r\n\t\t}\r\n\r\n\t\treturn supplier.get()\r\n\t\t\t.thenApply(CompletableFuture::completedFuture)\r\n\t\t\t.exceptionally(error -&gt; {\r\n\t\t\t\tboolean doRetry = retryPredicate.test(error);\r\n\t\t\t\tint attempts = doRetry ? attemptsLeft - 1 : 0;\r\n\t\t\t\treturn retryOnCondition(supplier, retryPredicate, error, attempts);\r\n\t\t\t})\r\n\t\t\t.thenCompose(Function.identity());\r\n\t}\r\n\r\nUsage:\r\n\r\n    public static void main(String[] args) {\r\n\t\tretryOnCondition(() -&gt; myTask(), e -&gt; {\r\n\t\t\t//log exception\r\n\t\t\treturn e instanceof MyException;\r\n\t\t}, 3).join();\r\n\t}\r\n","title":"Retry logic with CompletableFuture","body":"<p>We needed to retry a task based on an error condition.</p>\n<pre><code>public static &lt;T&gt; CompletableFuture&lt;T&gt; retryOnCondition(Supplier&lt;CompletableFuture&lt;T&gt;&gt; supplier,\n                                             Predicate&lt;Throwable&gt; retryPredicate, int maxAttempts) {\n    if (maxAttempts &lt;= 0) {\n        throw new IllegalArgumentException(&quot;maxAttempts can't be &lt;= 0&quot;);\n    }\n    return retryOnCondition(supplier, retryPredicate, null, maxAttempts);\n}\n\nprivate static &lt;T&gt; CompletableFuture&lt;T&gt; retryOnCondition(\n    Supplier&lt;CompletableFuture&lt;T&gt;&gt; supplier, Predicate&lt;Throwable&gt; retryPredicate,\n    Throwable lastError, int attemptsLeft) {\n\n    if (attemptsLeft == 0) {\n        return CompletableFuture.failedFuture(lastError);\n    }\n\n    return supplier.get()\n        .thenApply(CompletableFuture::completedFuture)\n        .exceptionally(error -&gt; {\n            boolean doRetry = retryPredicate.test(error);\n            int attempts = doRetry ? attemptsLeft - 1 : 0;\n            return retryOnCondition(supplier, retryPredicate, error, attempts);\n        })\n        .thenCompose(Function.identity());\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>public static void main(String[] args) {\n    retryOnCondition(() -&gt; myTask(), e -&gt; {\n        //log exception\n        return e instanceof MyException;\n    }, 3).join();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4290743,"reputation":143,"user_id":3507197,"display_name":"Ying Cherry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647618090,"creation_date":1647618090,"answer_id":71529590,"question_id":40485398,"body_markdown":"I would suggest using resilience4j for this use case. It&#39;s very handy!!\r\n\r\nIntroduction: [resilience4j-retry][1]  and its Javadoc: [Retry][2]\r\n\r\nThey have method to decorate completionStage directly as below:\r\n\r\n```\r\ndefault &lt;T&gt; java.util.concurrent.CompletionStage&lt;T&gt; executeCompletionStage​(java.util.concurrent.ScheduledExecutorService scheduler,\r\njava.util.function.Supplier&lt;java.util.concurrent.CompletionStage&lt;T&gt;&gt; supplier)\r\n```\r\n\r\n\r\n  [1]: https://resilience4j.readme.io/docs/retry\r\n  [2]: https://javadoc.io/doc/io.github.resilience4j/resilience4j-retry/latest/io/github/resilience4j/retry/Retry.html","title":"Retry logic with CompletableFuture","body":"<p>I would suggest using resilience4j for this use case. It's very handy!!</p>\n<p>Introduction: <a href=\"https://resilience4j.readme.io/docs/retry\" rel=\"nofollow noreferrer\">resilience4j-retry</a>  and its Javadoc: <a href=\"https://javadoc.io/doc/io.github.resilience4j/resilience4j-retry/latest/io/github/resilience4j/retry/Retry.html\" rel=\"nofollow noreferrer\">Retry</a></p>\n<p>They have method to decorate completionStage directly as below:</p>\n<pre><code>default &lt;T&gt; java.util.concurrent.CompletionStage&lt;T&gt; executeCompletionStage​(java.util.concurrent.ScheduledExecutorService scheduler,\njava.util.function.Supplier&lt;java.util.concurrent.CompletionStage&lt;T&gt;&gt; supplier)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12061826,"reputation":624,"user_id":8820559,"display_name":"Linden X. Quan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670618465,"creation_date":1670617825,"answer_id":74748046,"question_id":40485398,"body_markdown":"Inspired by `theazureshadow`&#39;s answer. His or her answer was great but doesn&#39;t work with new version of FailSafe. The below code works with\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;dev.failsafe&lt;/groupId&gt;\r\n      &lt;artifactId&gt;failsafe&lt;/artifactId&gt;\r\n      &lt;version&gt;3.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\nsolution:\r\n\r\n        RetryPolicy&lt;Object&gt; retryPolicy = RetryPolicy.builder()\r\n            .withMaxRetries(MAX_RETRY)\r\n            .withBackoff(INITIAL_DELAY, MAX_DELAY, ChronoUnit.SECONDS)\r\n            .build();\r\n        Fallback&lt;Object&gt; fallback = Fallback.of((AuditEvent) null);\r\n\r\n        public CompletableFuture&lt;Object&gt; executeAsync(Runnable asyncTask) {\r\n        return Failsafe.with(fallback)\r\n                .compose(retryPolicy)\r\n                .with(executorService)\r\n                .onFailure(e -&gt; LOG.error(e.getException().getMessage()))\r\n                .getAsync(() -&gt; asyncTask());\r\n    }","title":"Retry logic with CompletableFuture","body":"<p>Inspired by <code>theazureshadow</code>'s answer. His or her answer was great but doesn't work with new version of FailSafe. The below code works with</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;dev.failsafe&lt;/groupId&gt;\n  &lt;artifactId&gt;failsafe&lt;/artifactId&gt;\n  &lt;version&gt;3.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>solution:</p>\n<pre><code>    RetryPolicy&lt;Object&gt; retryPolicy = RetryPolicy.builder()\n        .withMaxRetries(MAX_RETRY)\n        .withBackoff(INITIAL_DELAY, MAX_DELAY, ChronoUnit.SECONDS)\n        .build();\n    Fallback&lt;Object&gt; fallback = Fallback.of((AuditEvent) null);\n\n    public CompletableFuture&lt;Object&gt; executeAsync(Runnable asyncTask) {\n    return Failsafe.with(fallback)\n            .compose(retryPolicy)\n            .with(executorService)\n            .onFailure(e -&gt; LOG.error(e.getException().getMessage()))\n            .getAsync(() -&gt; asyncTask());\n}\n</code></pre>\n"}],"owner":{"account_id":8790992,"reputation":5110,"user_id":6570821,"accept_rate":67,"display_name":"xmas79"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41318,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":40497164,"answer_count":10,"score":36,"last_activity_date":1670618465,"creation_date":1478603512,"question_id":40485398,"body_markdown":"I need to submit a task in an async framework I&#39;m working on, but I need to catch for exceptions, and retry the same task multiple times before &quot;aborting&quot;.\r\n\r\nThe code I&#39;m working with is:\r\n\r\n    int retries = 0;\r\n\tpublic CompletableFuture&lt;Result&gt; executeActionAsync() {\r\n\r\n        // Execute the action async and get the future\r\n\t\tCompletableFuture&lt;Result&gt; f = executeMycustomActionHere();\r\n\t\t\r\n        // If the future completes with exception:\r\n\t\tf.exceptionally(ex -&gt; {\r\n\t\t\tretries++; // Increment the retry count\r\n\t\t\tif (retries &lt; MAX_RETRIES)\r\n\t\t\t\treturn executeActionAsync();  // &lt;--- Submit one more time\r\n\t\t\t\r\n            // Abort with a null value\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\t\r\n\t\t// Return the future\t\r\n\t\treturn f;\r\n\t}\r\n\r\nThis currently doesn&#39;t compile because the return type of the lambda is wrong: it expects a `Result`, but the `executeActionAsync` returns a `CompletableFuture&lt;Result&gt;`. \r\n\r\nHow can I implement this fully async retry logic?","title":"Retry logic with CompletableFuture","body":"<p>I need to submit a task in an async framework I'm working on, but I need to catch for exceptions, and retry the same task multiple times before \"aborting\".</p>\n\n<p>The code I'm working with is:</p>\n\n<pre><code>int retries = 0;\npublic CompletableFuture&lt;Result&gt; executeActionAsync() {\n\n    // Execute the action async and get the future\n    CompletableFuture&lt;Result&gt; f = executeMycustomActionHere();\n\n    // If the future completes with exception:\n    f.exceptionally(ex -&gt; {\n        retries++; // Increment the retry count\n        if (retries &lt; MAX_RETRIES)\n            return executeActionAsync();  // &lt;--- Submit one more time\n\n        // Abort with a null value\n        return null;\n    });\n\n    // Return the future    \n    return f;\n}\n</code></pre>\n\n<p>This currently doesn't compile because the return type of the lambda is wrong: it expects a <code>Result</code>, but the <code>executeActionAsync</code> returns a <code>CompletableFuture&lt;Result&gt;</code>. </p>\n\n<p>How can I implement this fully async retry logic?</p>\n"},{"tags":["java","json","stream","hashmap","jsonnode"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1670563036,"post_id":74739162,"comment_id":131907833,"body_markdown":"Can you assume the structure of the data up front, or do you have to be able to read arbitrary structures?","body":"Can you assume the structure of the data up front, or do you have to be able to read arbitrary structures?"}],"answers":[{"tags":[],"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670564443,"creation_date":1670563797,"answer_id":74739234,"question_id":74739162,"body_markdown":"If you can assume the basic structure, where the top level is a map (JSONObject) that contains a &#39;message&#39; key with a simple value, and a &#39;results&#39; key with a value that is a collection of key/value pairs, then here&#39;s how to read the structure with `JSON.simple`:\r\n\r\n    import org.json.simple.JSONObject;\r\n    import org.json.simple.parser.JSONParser;\r\n    import org.json.simple.parser.ParseException;\r\n    \r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.io.Reader;\r\n    \r\n    class Test2 {\r\n        public static void main(String[] args) {\r\n            try (Reader reader = new FileReader(&quot;/tmp/test.json&quot;)) {\r\n                JSONObject root = (JSONObject)(new JSONParser()).parse(reader);\r\n                System.out.println(&quot;Message: &quot; + root.get(&quot;message&quot;));\r\n                JSONObject results = (JSONObject) root.get(&quot;results&quot;);\r\n                for (Object key: results.keySet())\r\n                    System.out.println(key + &quot;: &quot; + results.get(key));\r\n            } catch (IOException | ParseException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\nResult:\r\n\r\n    Message: Results field contain api response\r\n    Person 1: USA\r\n    Person 2: India\r\n    People: Germany\r\n    Name 3: Europe\r\n\r\nIf you can&#39;t assume a specific structure, then you&#39;d need to read the root and test its type.  Then, if it&#39;s a JSONObject, iterate over the keys and values in that object.  You&#39;d then have to test the type of each value in the iteration to know what to do with that value.  You would keep going as deep as necessary to parse and process all the values in the structure.  If you need to allow for JSONArray values, you&#39;d to the same thing with those, iterating over the values in the array, repeating the process on each value.  And so on and so on.  A recursive function works great here, where when you find a new JSONObject or JSONArray value, you call the same function you&#39;re in to process that sub-object.\r\n","title":"Traverse a JsonNode","body":"<p>If you can assume the basic structure, where the top level is a map (JSONObject) that contains a 'message' key with a simple value, and a 'results' key with a value that is a collection of key/value pairs, then here's how to read the structure with <code>JSON.simple</code>:</p>\n<pre><code>import org.json.simple.JSONObject;\nimport org.json.simple.parser.JSONParser;\nimport org.json.simple.parser.ParseException;\n\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.io.Reader;\n\nclass Test2 {\n    public static void main(String[] args) {\n        try (Reader reader = new FileReader(&quot;/tmp/test.json&quot;)) {\n            JSONObject root = (JSONObject)(new JSONParser()).parse(reader);\n            System.out.println(&quot;Message: &quot; + root.get(&quot;message&quot;));\n            JSONObject results = (JSONObject) root.get(&quot;results&quot;);\n            for (Object key: results.keySet())\n                System.out.println(key + &quot;: &quot; + results.get(key));\n        } catch (IOException | ParseException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>Result:</p>\n<pre><code>Message: Results field contain api response\nPerson 1: USA\nPerson 2: India\nPeople: Germany\nName 3: Europe\n</code></pre>\n<p>If you can't assume a specific structure, then you'd need to read the root and test its type.  Then, if it's a JSONObject, iterate over the keys and values in that object.  You'd then have to test the type of each value in the iteration to know what to do with that value.  You would keep going as deep as necessary to parse and process all the values in the structure.  If you need to allow for JSONArray values, you'd to the same thing with those, iterating over the values in the array, repeating the process on each value.  And so on and so on.  A recursive function works great here, where when you find a new JSONObject or JSONArray value, you call the same function you're in to process that sub-object.</p>\n"},{"tags":[],"owner":{"account_id":15801712,"reputation":1294,"user_id":11402025,"display_name":"Tanu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670618266,"creation_date":1670618266,"answer_id":74748098,"question_id":74739162,"body_markdown":"\r\nThis worked for me. PersonInfo class will contain getter and setter for person and country.\r\n\r\n```\r\nList&lt;PersonInfo&gt; listOfPersonInfos = new List&lt;PersonInfo&gt;();\r\nresult.get(&quot;results&quot;).fields().forEachRemaining(e -&gt; {\r\n                PersonInfo personInfo = new PersonInfo();\r\n             \r\n                personInfo.setCountry(e.getKey());\r\n                personInfo.setName(e.getValue().textValue());\r\n                listOfPersonInfos.add(personInfo);\r\n            });\r\n```","title":"Traverse a JsonNode","body":"<p>This worked for me. PersonInfo class will contain getter and setter for person and country.</p>\n<pre><code>List&lt;PersonInfo&gt; listOfPersonInfos = new List&lt;PersonInfo&gt;();\nresult.get(&quot;results&quot;).fields().forEachRemaining(e -&gt; {\n                PersonInfo personInfo = new PersonInfo();\n             \n                personInfo.setCountry(e.getKey());\n                personInfo.setName(e.getValue().textValue());\n                listOfPersonInfos.add(personInfo);\n            });\n</code></pre>\n"}],"owner":{"account_id":15801712,"reputation":1294,"user_id":11402025,"display_name":"Tanu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1670618266,"creation_date":1670562890,"question_id":74739162,"body_markdown":"This is how much JsonNode response has different key value pairs, similar to the example below. How can I traverse it to get the response in both key and value pair. Thank you.\r\n\r\n\r\n```\r\n{\r\n    &quot;message&quot;: &quot;Results field contain api response&quot;,\r\n    &quot;results&quot;: {\r\n        &quot;Person 1&quot;: &quot;USA&quot;,\r\n        &quot;Person 2&quot;: &quot;India&quot;,\r\n        &quot;Name 3&quot;: &quot;Europe&quot;,\r\n        &quot;People&quot;: &quot;Germany&quot;\r\n    }\r\n}```","title":"Traverse a JsonNode","body":"<p>This is how much JsonNode response has different key value pairs, similar to the example below. How can I traverse it to get the response in both key and value pair. Thank you.</p>\n<pre><code>{\n    &quot;message&quot;: &quot;Results field contain api response&quot;,\n    &quot;results&quot;: {\n        &quot;Person 1&quot;: &quot;USA&quot;,\n        &quot;Person 2&quot;: &quot;India&quot;,\n        &quot;Name 3&quot;: &quot;Europe&quot;,\n        &quot;People&quot;: &quot;Germany&quot;\n    }\n}```\n</code></pre>\n"},{"tags":["java"],"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1670618681,"answer_count":0,"score":0,"last_activity_date":1670618236,"creation_date":1670618236,"question_id":74748093,"body_markdown":"What I am trying to do is implement a fixed set of converters as abstract enums with individual implementations, and supply different generics per implementation. The below code doesn&#39;t work, but it should indicate what I am trying to do. I am all but certain the answer is &#39;no&#39;. If I remove all generics and use type casting, this will for sure work. But I&#39;d prefer generics\r\n\r\n```java\r\n    public enum Converter implements ValueConverter&lt;I,O&gt; {\r\n        LONG_DOUBLE&lt;Long,Double&gt; {\r\n            @Override\r\n            public Long convertInput(Double value) {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public Double convertOutput(Long value) {\r\n                return null;\r\n            }\r\n        },\r\n        DATE_LOCALDATE&lt;Date,LocalDate&gt; {\r\n            @Override\r\n            public Date convertInput(LocalDate value) {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public LocalDate convertOutput(Date value) {\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n```","title":"Can you declare a Java enum to have variable generic types per instance?","body":"<p>What I am trying to do is implement a fixed set of converters as abstract enums with individual implementations, and supply different generics per implementation. The below code doesn't work, but it should indicate what I am trying to do. I am all but certain the answer is 'no'. If I remove all generics and use type casting, this will for sure work. But I'd prefer generics</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public enum Converter implements ValueConverter&lt;I,O&gt; {\n        LONG_DOUBLE&lt;Long,Double&gt; {\n            @Override\n            public Long convertInput(Double value) {\n                return null;\n            }\n\n            @Override\n            public Double convertOutput(Long value) {\n                return null;\n            }\n        },\n        DATE_LOCALDATE&lt;Date,LocalDate&gt; {\n            @Override\n            public Date convertInput(LocalDate value) {\n                return null;\n            }\n\n            @Override\n            public LocalDate convertOutput(Date value) {\n                return null;\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","jpa","request"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1670618987,"post_id":74748067,"comment_id":131923222,"body_markdown":"What is the query it is executing (Turn SQL logging on if you haven&#39;t already) and what is the parameter used? How are you sure that the email exists? This uses an equality check in the database, so try logging the Email string you are using to make sure it matches exactly what you have in the db - spaces, special characters and all.","body":"What is the query it is executing (Turn SQL logging on if you haven&#39;t already) and what is the parameter used? How are you sure that the email exists? This uses an equality check in the database, so try logging the Email string you are using to make sure it matches exactly what you have in the db - spaces, special characters and all."}],"owner":{"account_id":24015114,"reputation":109,"user_id":20077835,"display_name":"vitoriac"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670617972,"creation_date":1670617972,"question_id":74748067,"body_markdown":"I&#39;ve been trying to create a personalized get request to find an user by email using Jpa Repository and a Controller class but it doesn&#39;t seem to work. Everytime I make a request using an email that exists (!!!!) on the database my method can&#39;t find it! \r\nthis is my interface:\r\n\r\n  \r\n\r\n    @Repository \r\n    @Transactional\r\n    public interface TheUserRepository extends JpaRepository&lt;User, Integer&gt; {\r\n    \t\r\n    \tUser findByEmail(@Param(&quot;email&quot;) String email);\r\n    \r\n    }\r\n\r\nthis is the controllers method:\r\n\r\n    @GetMapping(value=&quot;emails/{email}&quot;)\r\n    \tpublic ResponseEntity&lt;User&gt; findByEmail(String email){\r\n    \t\tUser entity=repo.findByEmail(email);\r\n    \t\tif(entity!=null) {\r\n    \t\t\treturn ResponseEntity.ok().body(entity);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\treturn ResponseEntity.noContent().build();\r\n    \t\t}\r\n    \t}\r\n\r\n\r\nI have tried many other combinations but none of them are working, if anyone has any idea of how to do this request I would appreciate it so much!\r\n\r\n","title":"How can I create a personalized method using JPA?","body":"<p>I've been trying to create a personalized get request to find an user by email using Jpa Repository and a Controller class but it doesn't seem to work. Everytime I make a request using an email that exists (!!!!) on the database my method can't find it!\nthis is my interface:</p>\n<pre><code>@Repository \n@Transactional\npublic interface TheUserRepository extends JpaRepository&lt;User, Integer&gt; {\n    \n    User findByEmail(@Param(&quot;email&quot;) String email);\n\n}\n</code></pre>\n<p>this is the controllers method:</p>\n<pre><code>@GetMapping(value=&quot;emails/{email}&quot;)\n    public ResponseEntity&lt;User&gt; findByEmail(String email){\n        User entity=repo.findByEmail(email);\n        if(entity!=null) {\n            return ResponseEntity.ok().body(entity);\n        }\n        else {\n            return ResponseEntity.noContent().build();\n        }\n    }\n</code></pre>\n<p>I have tried many other combinations but none of them are working, if anyone has any idea of how to do this request I would appreciate it so much!</p>\n"},{"tags":["java","multithreading","concurrency","locking"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":2,"creation_date":1670446903,"post_id":74722715,"comment_id":131880921,"body_markdown":"Code must be in a `synchonized` block in order to do a `notifyAll()` and `wait` calls.","body":"Code must be in a <code>synchonized</code> block in order to do a <code>notifyAll()</code> and <code>wait</code> calls."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1670447226,"post_id":74722715,"comment_id":131880996,"body_markdown":"I would guess that all mutating operations (ie add and remove) should share the same lock. I can&#39;t imagine it is safe to perform an add and a remove concurrently.","body":"I would guess that all mutating operations (ie add and remove) should share the same lock. I can&#39;t imagine it is safe to perform an add and a remove concurrently."},{"owner":{"account_id":26941424,"reputation":3,"user_id":20512174,"display_name":"FaheDevvs"},"score":0,"creation_date":1670448796,"post_id":74722715,"comment_id":131881347,"body_markdown":"@K.Nicholas yes i get that but why we added the `notifyAll()` into a synchronized block  ? we could&#39;ve done that in the first block","body":"@K.Nicholas yes i get that but why we added the <code>notifyAll()</code> into a synchronized block  ? we could&#39;ve done that in the first block"},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1670449103,"post_id":74722715,"comment_id":131881421,"body_markdown":"Synchronized block is specific to object. RTFM.","body":"Synchronized block is specific to object. RTFM."}],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670617210,"creation_date":1670617210,"answer_id":74747955,"question_id":74722715,"body_markdown":"&gt; my question is why in the second implementation of the methods we added a second synchronized block ?\r\n\r\nWhenever you call `wait()` or `notify()` on an object, you must be in a `synchronized` block for that particular object.  So if you want to call `addLock.notifyAll();` you must be inside a `synchronized (addLock)`.  The `synchronized` keyword provides locking and also memory synchronization.\r\n\r\n**WARNING:** More importantly, you have a bug because you are writing to `buffer` while inside the `addLock` synchronized block but reading inside `removeLock`.  A writer could be inside `addLock`, add the item, and increment the `availableObjects` counter while a reader is already inside of `addLock`. This would mean that the reader might _not_ see the updates to `buffer` and might read an element as `null`.  If you are mutating `buffer` and then reading from it later, both should be holding in a `synchronized` block on the same object – you might as well lock on `buffer`.  With this change you can then downgrade `availableObjects` to be a normal `integer`.\r\n\r\n&gt;  `addLock.notifyAll();`\r\n\r\nIf you do this right, you should be able to call `notify()` instead of `notifyAll()` since each element added or removed from the buffer will release at most 1 waiting thread.\r\n\r\n&gt; `  if(availableObjects == size) wait();`\r\n\r\nIt is important to point out that your 2nd implementation is correct to change these from `if` to `while` statements.  It needs to be tested in a `while` loop otherwise you will have race conditions and bugs with multiple publishers and subscribers – also spurious wakeups on some architectures.  See [my page on these race conditions][1].\r\n\r\n  [1]: https://256stuff.com/gray/docs/misc/producer_consumer_race_conditions/","title":"Java concurrency: synchronized method and synchronized block","body":"<blockquote>\n<p>my question is why in the second implementation of the methods we added a second synchronized block ?</p>\n</blockquote>\n<p>Whenever you call <code>wait()</code> or <code>notify()</code> on an object, you must be in a <code>synchronized</code> block for that particular object.  So if you want to call <code>addLock.notifyAll();</code> you must be inside a <code>synchronized (addLock)</code>.  The <code>synchronized</code> keyword provides locking and also memory synchronization.</p>\n<p><strong>WARNING:</strong> More importantly, you have a bug because you are writing to <code>buffer</code> while inside the <code>addLock</code> synchronized block but reading inside <code>removeLock</code>.  A writer could be inside <code>addLock</code>, add the item, and increment the <code>availableObjects</code> counter while a reader is already inside of <code>addLock</code>. This would mean that the reader might <em>not</em> see the updates to <code>buffer</code> and might read an element as <code>null</code>.  If you are mutating <code>buffer</code> and then reading from it later, both should be holding in a <code>synchronized</code> block on the same object – you might as well lock on <code>buffer</code>.  With this change you can then downgrade <code>availableObjects</code> to be a normal <code>integer</code>.</p>\n<blockquote>\n<p><code>addLock.notifyAll();</code></p>\n</blockquote>\n<p>If you do this right, you should be able to call <code>notify()</code> instead of <code>notifyAll()</code> since each element added or removed from the buffer will release at most 1 waiting thread.</p>\n<blockquote>\n<p><code>  if(availableObjects == size) wait();</code></p>\n</blockquote>\n<p>It is important to point out that your 2nd implementation is correct to change these from <code>if</code> to <code>while</code> statements.  It needs to be tested in a <code>while</code> loop otherwise you will have race conditions and bugs with multiple publishers and subscribers – also spurious wakeups on some architectures.  See <a href=\"https://256stuff.com/gray/docs/misc/producer_consumer_race_conditions/\" rel=\"nofollow noreferrer\">my page on these race conditions</a>.</p>\n"}],"owner":{"account_id":26941424,"reputation":3,"user_id":20512174,"display_name":"FaheDevvs"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74747955,"answer_count":1,"score":0,"last_activity_date":1670617210,"creation_date":1670446204,"question_id":74722715,"body_markdown":"i have two methods to add and remove elements from a circular buffer \r\n\r\nthe first implementation : \r\n\r\n\r\n```\r\nsynchronized void add(byte b) throws InterruptedException {\r\n\r\n  if(availableObjects == size) wait();\r\n  buffer[(tail+1)%size] = b ;\r\n  tail++;\r\n  availableObjects++;\r\n  notifyAll();\r\n}\r\n\r\nsynchronized byte remove() throws InterruptedException {\r\n\r\n  if(head==tail) wait();\r\n  Byte element = buffer[head%size];\r\n  head ++ ;\r\n  availableObjects--;\r\n  notifyAll();\r\n  return element;\r\n\r\n}\r\n```\r\nand the second implementation : \r\n\r\n```\r\nprivate final Object addLock= new Object ();\r\nprivate final Object removeLock=new Object ();\r\n\r\nvoid add (byte b) throws InterruptedException{\r\n    synchronized (addLock){\r\n        while (availaibleObjects.get () == size) addLock.wait();\r\n        buffer [tail]= b;\r\n        tail = [tail + 1) % size;\r\n        availaibleObjects.incrementAndGet();}\r\n\r\n    synchronized (removeLock){ // why we added this block ? \r\n        removeLock.notifyAll();}\r\n    }\r\n\r\n\r\n byte remove () throws InterruptedException{\r\n    byte element;\r\n    synchronized (removeLock){\r\n        while (availaibleObjects.get () == 0) removeLock.wait() ;\r\n         element = buffer[head] ;\r\n         head=(head + 1) % size;\r\n         availaibleObjects.decrementAndGet();}\r\n\r\n        synchronized (addLock){ // why we added this block ? \r\n            addLock.notifyAll();}\r\n            return element;}\r\n```\r\n\r\n\r\n\r\nmy question is why in the second implementation of the methods we added a second synchronized block  ? \r\n\r\n\r\n\r\n1. from the first implementation i get that two threads cannot add and remove at the same time  . \r\n2. from the second implementation two threads can add and remove at the same time but i don&#39;t understand why we added the blocks :\r\n\r\n```\r\nsynchronized (removeLock){ // why we added this block ? \r\n        removeLock.notifyAll();}\r\n\r\n\r\n synchronized (addLock){ // why we added this block ? \r\n            addLock.notifyAll();}\r\n            return element;}\r\n\r\n\r\n\r\n\r\n```\r\n\r\n\r\n  ","title":"Java concurrency: synchronized method and synchronized block","body":"<p>i have two methods to add and remove elements from a circular buffer</p>\n<p>the first implementation :</p>\n<pre><code>synchronized void add(byte b) throws InterruptedException {\n\n  if(availableObjects == size) wait();\n  buffer[(tail+1)%size] = b ;\n  tail++;\n  availableObjects++;\n  notifyAll();\n}\n\nsynchronized byte remove() throws InterruptedException {\n\n  if(head==tail) wait();\n  Byte element = buffer[head%size];\n  head ++ ;\n  availableObjects--;\n  notifyAll();\n  return element;\n\n}\n</code></pre>\n<p>and the second implementation :</p>\n<pre><code>private final Object addLock= new Object ();\nprivate final Object removeLock=new Object ();\n\nvoid add (byte b) throws InterruptedException{\n    synchronized (addLock){\n        while (availaibleObjects.get () == size) addLock.wait();\n        buffer [tail]= b;\n        tail = [tail + 1) % size;\n        availaibleObjects.incrementAndGet();}\n\n    synchronized (removeLock){ // why we added this block ? \n        removeLock.notifyAll();}\n    }\n\n\n byte remove () throws InterruptedException{\n    byte element;\n    synchronized (removeLock){\n        while (availaibleObjects.get () == 0) removeLock.wait() ;\n         element = buffer[head] ;\n         head=(head + 1) % size;\n         availaibleObjects.decrementAndGet();}\n\n        synchronized (addLock){ // why we added this block ? \n            addLock.notifyAll();}\n            return element;}\n</code></pre>\n<p>my question is why in the second implementation of the methods we added a second synchronized block  ?</p>\n<ol>\n<li>from the first implementation i get that two threads cannot add and remove at the same time  .</li>\n<li>from the second implementation two threads can add and remove at the same time but i don't understand why we added the blocks :</li>\n</ol>\n<pre><code>synchronized (removeLock){ // why we added this block ? \n        removeLock.notifyAll();}\n\n\n synchronized (addLock){ // why we added this block ? \n            addLock.notifyAll();}\n            return element;}\n\n\n\n\n</code></pre>\n"},{"tags":["java","unit-testing","testing","code-coverage","test-coverage"],"owner":{"account_id":9929781,"reputation":21,"user_id":9018268,"display_name":"Nakhla Rafi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1670616109,"creation_date":1670552676,"question_id":74738328,"body_markdown":"I was trying to get all the lines that a test case covered. For instance, \r\n```\r\norg.apache.commons.lang.text.StrBuilderAppendInsertTest.testAppendFixedWidthPadLeft(org.apache.commons.lang.text.StrBuilderAppendInsertTest)\r\norg.apache.commons.lang.text.StrBuilder:appendFixedWidthPadLeft:1188\r\norg.apache.commons.lang.text.StrBuilder:appendFixedWidthPadLeft:1191\r\norg.apache.commons.lang.text.StrBuilder:appendFixedWidthPadLeft:1194\r\norg.apache.commons.lang.text.StrBuilder:appendFixedWidthPadLeft:1185\r\norg.apache.commons.lang.text.StrBuilder:clear:288\r\norg.apache.commons.lang.text.StrBuilder:clear:287\r\norg.apache.commons.lang.text.StrBuilder:&lt;init&gt;:111\r\norg.apache.commons.lang.text.StrBuilder:&lt;init&gt;:112\r\norg.apache.commons.lang.text.StrBuilder:setNullText:171\r\norg.apache.commons.lang.text.StrBuilder:setNullText:172\r\norg.apache.commons.lang.text.StrBuilderAppendInsertTest:&lt;init&gt;:56\r\norg.apache.commons.lang.text.StrBuilderAppendInsertTest:&lt;init&gt;:55\t\r\n```\r\n\r\nhere `testAppendFixedWidthPadLeft` covered the lines of `StrBuilder` class&#39;s `appendFixedWidthPadLeft` method&#39;s lines 1188, 1191, 1194, and so on. So I am trying to get this information in a text file. Can anyone suggest me something? I tried Cobertura and Jacoco. But couldn&#39;t get anything like that. Thanks.\r\n\r\nI tried Cobertura, Jacoco, Gzoltar.","title":"How can I get the lines that were covered by a particular test method?","body":"<p>I was trying to get all the lines that a test case covered. For instance,</p>\n<pre><code>org.apache.commons.lang.text.StrBuilderAppendInsertTest.testAppendFixedWidthPadLeft(org.apache.commons.lang.text.StrBuilderAppendInsertTest)\norg.apache.commons.lang.text.StrBuilder:appendFixedWidthPadLeft:1188\norg.apache.commons.lang.text.StrBuilder:appendFixedWidthPadLeft:1191\norg.apache.commons.lang.text.StrBuilder:appendFixedWidthPadLeft:1194\norg.apache.commons.lang.text.StrBuilder:appendFixedWidthPadLeft:1185\norg.apache.commons.lang.text.StrBuilder:clear:288\norg.apache.commons.lang.text.StrBuilder:clear:287\norg.apache.commons.lang.text.StrBuilder:&lt;init&gt;:111\norg.apache.commons.lang.text.StrBuilder:&lt;init&gt;:112\norg.apache.commons.lang.text.StrBuilder:setNullText:171\norg.apache.commons.lang.text.StrBuilder:setNullText:172\norg.apache.commons.lang.text.StrBuilderAppendInsertTest:&lt;init&gt;:56\norg.apache.commons.lang.text.StrBuilderAppendInsertTest:&lt;init&gt;:55   \n</code></pre>\n<p>here <code>testAppendFixedWidthPadLeft</code> covered the lines of <code>StrBuilder</code> class's <code>appendFixedWidthPadLeft</code> method's lines 1188, 1191, 1194, and so on. So I am trying to get this information in a text file. Can anyone suggest me something? I tried Cobertura and Jacoco. But couldn't get anything like that. Thanks.</p>\n<p>I tried Cobertura, Jacoco, Gzoltar.</p>\n"},{"tags":["java","spring","jpa","spring-data","auditing"],"comments":[{"owner":{"account_id":1637644,"reputation":5167,"user_id":1510701,"accept_rate":60,"display_name":"We are Borg"},"score":0,"creation_date":1443627768,"post_id":32869190,"comment_id":53572364,"body_markdown":"Won&#39;t getting the row update those values?","body":"Won&#39;t getting the row update those values?"},{"owner":{"account_id":438909,"reputation":23723,"user_id":827480,"accept_rate":61,"display_name":"Eric B."},"score":0,"creation_date":1443629003,"post_id":32869190,"comment_id":53573231,"body_markdown":"@WeareBorg It shouldn&#39;t; if it does, I would see that as a bug.  The audit fields should only updated as the object is being persisted.  And if the object isn&#39;t persisted (because it isn&#39;t dirty), the fields won&#39;t be updated.","body":"@WeareBorg It shouldn&#39;t; if it does, I would see that as a bug.  The audit fields should only updated as the object is being persisted.  And if the object isn&#39;t persisted (because it isn&#39;t dirty), the fields won&#39;t be updated."},{"owner":{"account_id":1637644,"reputation":5167,"user_id":1510701,"accept_rate":60,"display_name":"We are Borg"},"score":0,"creation_date":1443630707,"post_id":32869190,"comment_id":53574292,"body_markdown":"Oh, i thought u just want to update the fields without that problem, well.. Either direct update of the fields or a trigger after getting the object is what I can think of. I hope some users might know better. Good luck.","body":"Oh, i thought u just want to update the fields without that problem, well.. Either direct update of the fields or a trigger after getting the object is what I can think of. I hope some users might know better. Good luck."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1443635771,"post_id":32869190,"comment_id":53577049,"body_markdown":"The fields and annotations serve a different purpose, don&#39;t abuse it for something else as that will only be confusing. If you want `LastAccessedBy` etc. then create annotations/fields for that case but don&#39;t abuse something that isn&#39;t meant for it.","body":"The fields and annotations serve a different purpose, don&#39;t abuse it for something else as that will only be confusing. If you want <code>LastAccessedBy</code> etc. then create annotations/fields for that case but don&#39;t abuse something that isn&#39;t meant for it."},{"owner":{"account_id":304877,"reputation":2815,"user_id":614659,"accept_rate":36,"display_name":"Logemann"},"score":0,"creation_date":1443866161,"post_id":32869190,"comment_id":53669433,"body_markdown":"The problem with changing behavior is that you first would need to modifiy Spring-Data sources. Then, and this is a major issue to me, every other developer looking at your code seeing this annotations expects a certain behavior which doesnt exist anymore. So Martin is right... :-)","body":"The problem with changing behavior is that you first would need to modifiy Spring-Data sources. Then, and this is a major issue to me, every other developer looking at your code seeing this annotations expects a certain behavior which doesnt exist anymore. So Martin is right... :-)"},{"owner":{"account_id":438909,"reputation":23723,"user_id":827480,"accept_rate":61,"display_name":"Eric B."},"score":0,"creation_date":1443886299,"post_id":32869190,"comment_id":53675046,"body_markdown":"@M.Deinum  Fair enough.  Was trying to be a little lazy, I guess. :)","body":"@M.Deinum  Fair enough.  Was trying to be a little lazy, I guess. :)"},{"owner":{"account_id":438909,"reputation":23723,"user_id":827480,"accept_rate":61,"display_name":"Eric B."},"score":0,"creation_date":1443886598,"post_id":32869190,"comment_id":53675126,"body_markdown":"@Marc - Actuallly no.  I wasn&#39;t looking for a way to modify Spring-Data.  But rather for a way to force spring-data to merge an entity even if it wasn&#39;t dirty.  Or, in other words, a way to mark the entity dirty without actually changing any data so that spring-data would pick it up.","body":"@Marc - Actuallly no.  I wasn&#39;t looking for a way to modify Spring-Data.  But rather for a way to force spring-data to merge an entity even if it wasn&#39;t dirty.  Or, in other words, a way to mark the entity dirty without actually changing any data so that spring-data would pick it up."},{"owner":{"account_id":1798288,"reputation":590,"user_id":1637197,"accept_rate":75,"display_name":"Bhushan"},"score":0,"creation_date":1623174795,"post_id":32869190,"comment_id":120001759,"body_markdown":"@EricB. Did you solve this problem?","body":"@EricB. Did you solve this problem?"},{"owner":{"account_id":438909,"reputation":23723,"user_id":827480,"accept_rate":61,"display_name":"Eric B."},"score":0,"creation_date":1623174948,"post_id":32869190,"comment_id":120001840,"body_markdown":"@Bhushan No; if memory serves, I was never able to get around it, and had to change the approach to manage the &quot;lastAccessed&quot; fields I was trying to generate.","body":"@Bhushan No; if memory serves, I was never able to get around it, and had to change the approach to manage the &quot;lastAccessed&quot; fields I was trying to generate."}],"answers":[{"tags":[],"owner":{"account_id":20382503,"reputation":244,"user_id":14952296,"display_name":"stephane brun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634307910,"creation_date":1634300024,"answer_id":69584542,"question_id":32869190,"body_markdown":"For what it worth&#39;s, I set the `lastModifiedDate` myself when I want this column to be updated even if I know that my entity is not dirty.\r\n\r\n    entity.setLastModifiedDate(Instant.now());\r\nThe value will be overridden by the `@LastModifiedDate` annotation, but I least I&#39;ll have what I want.\r\n\r\nMy case is : I have a table to track files on my file system, with some functional rules to handle, and if the user upload a file having the same name that the previous one, if I don&#39;t set manually the `lastModifiedDate` I could not tell what the actually last upload date was.\r\n\r\n(I know I should use the new md5 file to set my entity dirty but this will afraid my manager too much)","title":"Can I force spring-data to update auditable fields even if JPA entity not dirty?","body":"<p>For what it worth's, I set the <code>lastModifiedDate</code> myself when I want this column to be updated even if I know that my entity is not dirty.</p>\n<pre><code>entity.setLastModifiedDate(Instant.now());\n</code></pre>\n<p>The value will be overridden by the <code>@LastModifiedDate</code> annotation, but I least I'll have what I want.</p>\n<p>My case is : I have a table to track files on my file system, with some functional rules to handle, and if the user upload a file having the same name that the previous one, if I don't set manually the <code>lastModifiedDate</code> I could not tell what the actually last upload date was.</p>\n<p>(I know I should use the new md5 file to set my entity dirty but this will afraid my manager too much)</p>\n"},{"tags":[],"owner":{"account_id":3021932,"reputation":1560,"user_id":2562746,"display_name":"Jean Marois"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670616079,"creation_date":1670616079,"answer_id":74747796,"question_id":32869190,"body_markdown":"Try using Spring AuditingHandler https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/auditing/AuditingHandler.html.\r\n\r\n    @Autowired\r\n    private AuditingHandler auditingHandler;\r\n    ...\r\n    auditingHandler.markModified(entity);\r\n\r\nAnd in your unit tests you initialize the AuditingHandler with the following line of code:\r\n\r\n    AuditingHandler auditingHandler = new AuditingHandler(PersistentEntities.of());","title":"Can I force spring-data to update auditable fields even if JPA entity not dirty?","body":"<p>Try using Spring AuditingHandler <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/auditing/AuditingHandler.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/auditing/AuditingHandler.html</a>.</p>\n<pre><code>@Autowired\nprivate AuditingHandler auditingHandler;\n...\nauditingHandler.markModified(entity);\n</code></pre>\n<p>And in your unit tests you initialize the AuditingHandler with the following line of code:</p>\n<pre><code>AuditingHandler auditingHandler = new AuditingHandler(PersistentEntities.of());\n</code></pre>\n"}],"owner":{"account_id":438909,"reputation":23723,"user_id":827480,"accept_rate":61,"display_name":"Eric B."},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2360,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1670616079,"creation_date":1443624566,"question_id":32869190,"body_markdown":"I&#39;m using Spring-data-jpa with auditing.  I essentially want to &quot;touch&quot; my entity - I want to update the @LastModifiedDate and @LastModifiedBy fields even though I have made no changes to the object.\r\n\r\nEssentially, I&#39;m looking to make these two fields work as &quot;LastAccessedBy&quot; and &quot;LastAccessedDate&quot; instead.\r\n\r\nIs there a way to trigger Spring data/JPA to write the entity to the DB (and hence trigger the Spring data auditing module) even if the entity isn&#39;t dirty?  \r\n\r\nOr is my only choice to modify an audit field (ex: @LastModifiedDate) and then have spring override it with an updated value?","title":"Can I force spring-data to update auditable fields even if JPA entity not dirty?","body":"<p>I'm using Spring-data-jpa with auditing.  I essentially want to \"touch\" my entity - I want to update the @LastModifiedDate and @LastModifiedBy fields even though I have made no changes to the object.</p>\n\n<p>Essentially, I'm looking to make these two fields work as \"LastAccessedBy\" and \"LastAccessedDate\" instead.</p>\n\n<p>Is there a way to trigger Spring data/JPA to write the entity to the DB (and hence trigger the Spring data auditing module) even if the entity isn't dirty?  </p>\n\n<p>Or is my only choice to modify an audit field (ex: @LastModifiedDate) and then have spring override it with an updated value?</p>\n"},{"tags":["java","spring","spring-boot","intellij-idea","spring-data"],"comments":[{"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"score":0,"creation_date":1670616403,"post_id":74747349,"comment_id":131922611,"body_markdown":"Spring resource handling - https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/resources.html (Sections 6.3 and 6.4 explain Resources and ResourceLoader)","body":"Spring resource handling - <a href=\"https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/resources.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/3.2.x/&hellip;</a> (Sections 6.3 and 6.4 explain Resources and ResourceLoader)"},{"owner":{"account_id":26576243,"reputation":1,"user_id":20201575,"display_name":"ZoroSenpai"},"score":0,"creation_date":1670656681,"post_id":74747349,"comment_id":131928032,"body_markdown":"Can you please tell me why Line 1? ClassPathResource with the &quot;classpath:&quot; prefix is not working.","body":"Can you please tell me why Line 1? ClassPathResource with the &quot;classpath:&quot; prefix is not working."}],"owner":{"account_id":26576243,"reputation":1,"user_id":20201575,"display_name":"ZoroSenpai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670615984,"creation_date":1670612815,"question_id":74747349,"body_markdown":"Simple Spring boot program to load application.properties from src/main/resource directory:\r\n\r\n```\r\n@SpringBootApplication\r\npublic class PathLearningApplication {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\t// 1.\r\n\t\tInputStream inputStream = new ClassPathResource(&quot;classpath:application.properties&quot;).getInputStream(); \r\n\r\n\t\t// 2.\r\n\t\tInputStream inputStream2 = new ClassPathResource(&quot;application.properties&quot;).getInputStream();\r\n\r\n\t\t// 3.\r\n\t\tResourceLoader resourceLoader = new DefaultResourceLoader();\r\n\r\n\t\tResource resource = resourceLoader.getResource(&quot;classpath:application.properties&quot;);\r\n\t\tresource.getInputStream();\r\n\r\n\t\tSpringApplication.run(PathLearningApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nWhen I tried to run this program locally using Intellij, line number 1. gave me the error:\r\n\r\nError:\r\n\r\n```\r\nException in thread &quot;main&quot; java.io.FileNotFoundException: class path resource [classpath:application.properties] cannot be opened because it does not exist\r\n\tat org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:199)\r\n\tat com.example.PathLearning.PathLearningApplication.main(PathLearningApplication.java:19)\r\n```\r\n\r\nWhile line number 2. (InputStream2) and line number 3. (ResourceLoader works fine).\r\n\r\n\r\nHere is the classPath set in intellij using stackoverflow \r\n&gt; https://stackoverflow.com/questions/854264/how-to-add-directory-to-classpath-in-an-application-run-profile-in-intellij-idea\r\n\r\n[Classpath set in intellij](https://i.stack.imgur.com/Qmdas.png)\r\n\r\n\r\nSo now my questions related to this post are:\r\n1. What is the difference between classpath: prefix and without classpath: prefix in path\r\n2. why line 1 (ClassPathResource) didn&#39;t work while line 3 (ResourceLoader) worked in which I have also used classpath prefix.\r\n3. What is the best way of loading the file? Using the classpath prefix or without it, and what is its purpose?","title":"How to add classpath in Spring Boot when trying to run project locally with IntelliJ","body":"<p>Simple Spring boot program to load application.properties from src/main/resource directory:</p>\n<pre><code>@SpringBootApplication\npublic class PathLearningApplication {\n\n    public static void main(String[] args) throws IOException {\n        // 1.\n        InputStream inputStream = new ClassPathResource(&quot;classpath:application.properties&quot;).getInputStream(); \n\n        // 2.\n        InputStream inputStream2 = new ClassPathResource(&quot;application.properties&quot;).getInputStream();\n\n        // 3.\n        ResourceLoader resourceLoader = new DefaultResourceLoader();\n\n        Resource resource = resourceLoader.getResource(&quot;classpath:application.properties&quot;);\n        resource.getInputStream();\n\n        SpringApplication.run(PathLearningApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>When I tried to run this program locally using Intellij, line number 1. gave me the error:</p>\n<p>Error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.FileNotFoundException: class path resource [classpath:application.properties] cannot be opened because it does not exist\n    at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:199)\n    at com.example.PathLearning.PathLearningApplication.main(PathLearningApplication.java:19)\n</code></pre>\n<p>While line number 2. (InputStream2) and line number 3. (ResourceLoader works fine).</p>\n<p>Here is the classPath set in intellij using stackoverflow</p>\n<blockquote>\n<p><a href=\"https://stackoverflow.com/questions/854264/how-to-add-directory-to-classpath-in-an-application-run-profile-in-intellij-idea\">How to add directory to classpath in an application run profile in IntelliJ IDEA?</a></p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/Qmdas.png\" rel=\"nofollow noreferrer\">Classpath set in intellij</a></p>\n<p>So now my questions related to this post are:</p>\n<ol>\n<li>What is the difference between classpath: prefix and without classpath: prefix in path</li>\n<li>why line 1 (ClassPathResource) didn't work while line 3 (ResourceLoader) worked in which I have also used classpath prefix.</li>\n<li>What is the best way of loading the file? Using the classpath prefix or without it, and what is its purpose?</li>\n</ol>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":2684116,"reputation":2913,"user_id":2318843,"display_name":"RadekJ"},"score":1,"creation_date":1584213435,"post_id":60686384,"comment_id":107369908,"body_markdown":"Try to annotate it with @JvmStatic","body":"Try to annotate it with @JvmStatic"},{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1584213529,"post_id":60686384,"comment_id":107369934,"body_markdown":"@RadekJ Doesn&#39;t work.\n I&#39;ve tried with multiple combinations but can&#39;t get rid of that **unneeded** instance, and thus unneeded object allocation.","body":"@RadekJ Doesn&#39;t work.  I&#39;ve tried with multiple combinations but can&#39;t get rid of that <b>unneeded</b> instance, and thus unneeded object allocation."},{"owner":{"account_id":1353955,"reputation":2623,"user_id":1292745,"display_name":"gpunto"},"score":2,"creation_date":1584216161,"post_id":60686384,"comment_id":107370646,"body_markdown":"Well, that&#39;s the implementation of `object`. It implies creating an object that you can use just like any other object. An object without instance is a contradiction. You can use top-level constants if you don&#39;t want an object. The `MyConstants.CONSTANT` smells like Java to me, as this &quot;pattern&quot; was an effect of the language forcing you to put everything inside classes","body":"Well, that&#39;s the implementation of <code>object</code>. It implies creating an object that you can use just like any other object. An object without instance is a contradiction. You can use top-level constants if you don&#39;t want an object. The <code>MyConstants.CONSTANT</code> smells like Java to me, as this &quot;pattern&quot; was an effect of the language forcing you to put everything inside classes"},{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1584217015,"post_id":60686384,"comment_id":107370849,"body_markdown":"@gpunto even with a class and a companion object it&#39;s the same. And I want clear wrapping and accessing to the constants, that&#39;s why.","body":"@gpunto even with a class and a companion object it&#39;s the same. And I want clear wrapping and accessing to the constants, that&#39;s why."},{"owner":{"account_id":2712514,"reputation":10118,"user_id":2340612,"accept_rate":83,"display_name":"user2340612"},"score":0,"creation_date":1584217687,"post_id":60686384,"comment_id":107371035,"body_markdown":"@LppEdd I guess you&#39;ve already tried, but what about creating a plain Kotlin file with `const val ONE = &quot;One` as its only content?","body":"@LppEdd I guess you&#39;ve already tried, but what about creating a plain Kotlin file with <code>const val ONE = &quot;One</code> as its only content?"},{"owner":{"account_id":2712514,"reputation":10118,"user_id":2340612,"accept_rate":83,"display_name":"user2340612"},"score":0,"creation_date":1584217886,"post_id":60686384,"comment_id":107371073,"body_markdown":"as for the companion object, if you make it `private` it won&#39;t generate any `Companion` static field (actually there&#39;s a bug that generates it anyway, but it will be solved in Kotlin 1.4. More details here: https://youtrack.jetbrains.com/issue/KT-11567)","body":"as for the companion object, if you make it <code>private</code> it won&#39;t generate any <code>Companion</code> static field (actually there&#39;s a bug that generates it anyway, but it will be solved in Kotlin 1.4. More details here: <a href=\"https://youtrack.jetbrains.com/issue/KT-11567\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-11567</a>)"},{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1584218183,"post_id":60686384,"comment_id":107371150,"body_markdown":"@user2340612 but then I can&#39;t access via class name in Kotlin.","body":"@user2340612 but then I can&#39;t access via class name in Kotlin."},{"owner":{"account_id":6357056,"reputation":679,"user_id":4933947,"accept_rate":50,"display_name":"ryfterek"},"score":0,"creation_date":1584302933,"post_id":60686384,"comment_id":107388903,"body_markdown":"@LppEdd sorry in advance - I do not know how to address your issue with solution satisfying your demands. I&#39;m curious however as to why does the presence of the &#39;instance&#39; reference in the bytecode bother you so much? I understand certain redundancy of it in your case, but this smells like high overreaction in memory-management department.","body":"@LppEdd sorry in advance - I do not know how to address your issue with solution satisfying your demands. I&#39;m curious however as to why does the presence of the &#39;instance&#39; reference in the bytecode bother you so much? I understand certain redundancy of it in your case, but this smells like high overreaction in memory-management department."},{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1584351486,"post_id":60686384,"comment_id":107400723,"body_markdown":"@ryfterek Don&#39;t worry, I understand what you mean. However that instance is static and will live (most probably) for the entire VM lifecycle. Yeah, I&#39;m over-optimizing for sure, but I don&#39;t like having non-requested or non-needed bytecode, that&#39;s why","body":"@ryfterek Don&#39;t worry, I understand what you mean. However that instance is static and will live (most probably) for the entire VM lifecycle. Yeah, I&#39;m over-optimizing for sure, but I don&#39;t like having non-requested or non-needed bytecode, that&#39;s why"}],"answers":[{"tags":[],"owner":{"account_id":4261051,"reputation":79,"user_id":3485401,"display_name":"SwaiX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584321814,"creation_date":1584321814,"answer_id":60699306,"question_id":60686384,"body_markdown":"try something like this:\r\n\r\n    \r\n    class MyConstants {\r\n        companion object {\r\n            const val ONE: String = &quot;One&quot;\r\n        }\r\n    }\r\n\r\n    class Test {\r\n        \r\n        fun test(){\r\n           System.out.println(MyConstants.ONE) \r\n        }\r\n    }","title":"Avoid generating static instance of object in Kotlin","body":"<p>try something like this:</p>\n\n<pre><code>class MyConstants {\n    companion object {\n        const val ONE: String = \"One\"\n    }\n}\n\nclass Test {\n\n    fun test(){\n       System.out.println(MyConstants.ONE) \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15063667,"reputation":383,"user_id":10871558,"display_name":"Mohmmaed-Amleh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636552938,"creation_date":1636552938,"answer_id":69914655,"question_id":60686384,"body_markdown":" \r\n    object MyConstants {\r\n    @JvmStatic\r\n     val ONE: String = &quot;One&quot;\r\n    }\r\n\r\n@JvmStatic will not use the INSTANCE","title":"Avoid generating static instance of object in Kotlin","body":"<pre><code>object MyConstants {\n@JvmStatic\n val ONE: String = &quot;One&quot;\n}\n</code></pre>\n<p>@JvmStatic will not use the INSTANCE</p>\n"},{"tags":[],"owner":{"account_id":10580983,"reputation":420,"user_id":7794806,"display_name":"Jes&#250;s Barrera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670615666,"creation_date":1670615666,"answer_id":74747735,"question_id":60686384,"body_markdown":"It seems you need something like this:\r\n\r\n    @file:JvmName(&quot;Constantestest&quot;)\r\n    package com.grupomacro.macropay.models\r\n\r\n    const val A = 1\r\n    const val B = 2\r\n\r\n\r\nFrom java, these are accessed just as:\r\n\r\n    int a = Constantestest.A;\r\n\r\n\r\nAnd the INSTANCE reference is not available anymore.\r\n\r\nCheck the answer to this related question: \r\nhttps://stackoverflow.com/questions/56237695/hiding-kotlin-objects-instance-field-from-java-and-kotlin","title":"Avoid generating static instance of object in Kotlin","body":"<p>It seems you need something like this:</p>\n<pre><code>@file:JvmName(&quot;Constantestest&quot;)\npackage com.grupomacro.macropay.models\n\nconst val A = 1\nconst val B = 2\n</code></pre>\n<p>From java, these are accessed just as:</p>\n<pre><code>int a = Constantestest.A;\n</code></pre>\n<p>And the INSTANCE reference is not available anymore.</p>\n<p>Check the answer to this related question:\n<a href=\"https://stackoverflow.com/questions/56237695/hiding-kotlin-objects-instance-field-from-java-and-kotlin\">Hiding Kotlin object&#39;s INSTANCE field from Java (and Kotlin)</a></p>\n"}],"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":580,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1670615666,"creation_date":1584212943,"question_id":60686384,"body_markdown":"Let&#39;s say we have an `object` such as\r\n\r\n    object MyConstants {\r\n       const val ONE: String = &quot;One&quot;\r\n    }\r\n\r\nThe generated bytecode resembles \r\n\r\n    public final class MyConstants {\r\n       @NotNull\r\n       public static final String ONE = &quot;One&quot;;\r\n       public static final MyConstants INSTANCE;\r\n    \r\n       private MyConstants() {}\r\n    \r\n       static {\r\n          MyConstants var0 = new MyConstants();\r\n          INSTANCE = var0;\r\n       }\r\n    }\r\n\r\nIs there a way to avoid generating the `INSTANCE` field while maintaining the same code layout? That means accessing fields through class both in Kotlin and Java\r\n\r\n    MyConstants.ONE","title":"Avoid generating static instance of object in Kotlin","body":"<p>Let's say we have an <code>object</code> such as</p>\n\n<pre><code>object MyConstants {\n   const val ONE: String = \"One\"\n}\n</code></pre>\n\n<p>The generated bytecode resembles </p>\n\n<pre><code>public final class MyConstants {\n   @NotNull\n   public static final String ONE = \"One\";\n   public static final MyConstants INSTANCE;\n\n   private MyConstants() {}\n\n   static {\n      MyConstants var0 = new MyConstants();\n      INSTANCE = var0;\n   }\n}\n</code></pre>\n\n<p>Is there a way to avoid generating the <code>INSTANCE</code> field while maintaining the same code layout? That means accessing fields through class both in Kotlin and Java</p>\n\n<pre><code>MyConstants.ONE\n</code></pre>\n"},{"tags":["java","concurrency","queue","blockingqueue"],"comments":[{"owner":{"account_id":3138298,"reputation":988,"user_id":2654334,"accept_rate":50,"display_name":"Karthikeyan Sukkoor"},"score":1,"creation_date":1398832687,"post_id":23379623,"comment_id":35814784,"body_markdown":"as per my experience, the thread is best way to produce/consume message into blockingqueue.","body":"as per my experience, the thread is best way to produce/consume message into blockingqueue."},{"owner":{"account_id":6247383,"reputation":1271,"user_id":4858751,"accept_rate":8,"display_name":"davidchoo12"},"score":0,"creation_date":1468329613,"post_id":23379623,"comment_id":64074637,"body_markdown":"how can java have a while loop with an assignment statement as the condition?","body":"how can java have a while loop with an assignment statement as the condition?"},{"owner":{"account_id":4515020,"reputation":1735,"user_id":3670143,"accept_rate":43,"display_name":"Renan"},"score":0,"creation_date":1510631497,"post_id":23379623,"comment_id":81505705,"body_markdown":"&quot;Efficient&quot; can be a lot of things: lower latency, higher throughput, less energy consuming (mobile), etc. You&#39;ll get better suited answers if you provide more background information.","body":"&quot;Efficient&quot; can be a lot of things: lower latency, higher throughput, less energy consuming (mobile), etc. You&#39;ll get better suited answers if you provide more background information."},{"owner":{"account_id":1199784,"reputation":18304,"user_id":1170677,"accept_rate":54,"display_name":"Adelin"},"score":0,"creation_date":1586636251,"post_id":23379623,"comment_id":108202134,"body_markdown":"how does &quot;while (value = queue.take()) { doSomething(value); }&quot; works ?","body":"how does &quot;while (value = queue.take()) { doSomething(value); }&quot; works ?"}],"answers":[{"tags":[],"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"down_vote_count":0,"up_vote_count":65,"is_accepted":true,"score":65,"last_activity_date":1398832170,"creation_date":1398832170,"answer_id":23379710,"question_id":23379623,"body_markdown":"Blocking is likely more efficient. In the background, the thread that initially calls `take()` goes to sleep if there is no element available, letting other threads do whatever they need to do. The methods that add elements to the Queue will then wake up waiting threads when an element is added, so minimal time is spent checking the queue over and over again for whether an element is available.","title":"Java BlockingQueue take() vs poll()","body":"<p>Blocking is likely more efficient. In the background, the thread that initially calls <code>take()</code> goes to sleep if there is no element available, letting other threads do whatever they need to do. The methods that add elements to the Queue will then wake up waiting threads when an element is added, so minimal time is spent checking the queue over and over again for whether an element is available.</p>\n"},{"tags":[],"owner":{"account_id":12244281,"reputation":37,"user_id":8936373,"display_name":"P Kumar"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1510635462,"creation_date":1510631080,"answer_id":47277299,"question_id":23379623,"body_markdown":"Be careful when you use `take()`. If you are using `take()` from a service and service has db connection. \r\n\r\nIf `take()` is returned after stale connection time out period then it will throw Stale connection exception.\r\n\r\nUse poll for predefined waiting time and add null check for returned object.","title":"Java BlockingQueue take() vs poll()","body":"<p>Be careful when you use <code>take()</code>. If you are using <code>take()</code> from a service and service has db connection. </p>\n\n<p>If <code>take()</code> is returned after stale connection time out period then it will throw Stale connection exception.</p>\n\n<p>Use poll for predefined waiting time and add null check for returned object.</p>\n"}],"owner":{"account_id":940012,"reputation":21855,"user_id":968244,"accept_rate":58,"display_name":"isapir"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46092,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":23379710,"answer_count":2,"score":39,"last_activity_date":1670615582,"creation_date":1398831577,"question_id":23379623,"body_markdown":"When consuming values from a Queue in an infinite loop -- what would be more efficient:\r\n\r\n1. Blocking on the Queue until a value is available via take()\r\n\r\n       while (value = queue.take()) { doSomething(value); }\r\n\r\n2. Sleeping for n milliseconds and checking if an item is available\r\n\r\n       while (true) {\r\n           if ((value = queue.poll()) != null) { doSomething(value); }\r\n           Thread.sleep(1000);\r\n       }","title":"Java BlockingQueue take() vs poll()","body":"<p>When consuming values from a Queue in an infinite loop -- what would be more efficient:</p>\n<ol>\n<li><p>Blocking on the Queue until a value is available via take()</p>\n<pre><code>while (value = queue.take()) { doSomething(value); }\n</code></pre>\n</li>\n<li><p>Sleeping for n milliseconds and checking if an item is available</p>\n<pre><code>while (true) {\n    if ((value = queue.poll()) != null) { doSomething(value); }\n    Thread.sleep(1000);\n}\n</code></pre>\n</li>\n</ol>\n"},{"tags":["java","android","webview"],"owner":{"display_name":"user10771503"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670615355,"creation_date":1670615355,"question_id":74747690,"body_markdown":"I have found it impossible to correctly set the autocompletion of fields in html forms in an android studio webview:\r\n\r\n**activity_main.xml:**\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;ProgressBar\r\n            android:id=&quot;@+id/progressbar_id&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:background=&quot;#FFFFFF&quot; /&gt;\r\n\r\n        &lt;WebView\r\n            android:id=&quot;@+id/webview&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:usesCleartextTraffic=&quot;true&quot; /&gt;\r\n    &lt;/RelativeLayout&gt;\r\n&lt;/android.support.constraint.ConstraintLayout&gt;\r\n```\r\n\r\n**MainActivity.java:**\r\n\r\n\r\n```java\r\npackage com.example.webview;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.graphics.Bitmap;\r\nimport android.os.Bundle;\r\nimport android.support.v7.app.AppCompatActivity;\r\nimport android.view.KeyEvent;\r\nimport android.view.View;\r\nimport android.webkit.WebSettings;\r\nimport android.webkit.WebView;\r\nimport android.webkit.WebViewClient;\r\nimport android.widget.ProgressBar;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private WebView myWebView;\r\n    private ProgressBar progressBar;\r\n\r\n    @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        myWebView = findViewById(R.id.webview);\r\n        progressBar = findViewById(R.id.progressbar_id);\r\n\r\n        WebSettings webSettings = myWebView.getSettings();\r\n        webSettings.setJavaScriptEnabled(true);\r\n        webSettings.setCacheMode(WebSettings.LOAD_CACHE_ELSE_NETWORK);\r\n        webSettings.setGeolocationEnabled(true);\r\n        webSettings.setBuiltInZoomControls(true);\r\n        webSettings.setSaveFormData(true);\r\n        WebViewClient webViewClient = new WebViewClient(){\r\n            @Override\r\n            public void onPageStarted(WebView view, String url, Bitmap favicon) {\r\n                progressBar.setVisibility(View.VISIBLE);\r\n                myWebView.setVisibility(View.GONE);\r\n            }\r\n\r\n            @Override\r\n            public void onPageFinished(WebView view, String url) {\r\n                progressBar.setVisibility(View.GONE);\r\n                myWebView.setVisibility(View.VISIBLE);\r\n            }\r\n        };\r\n\r\n        myWebView.setWebViewClient(webViewClient);\r\n        myWebView.setSoundEffectsEnabled(true);\r\n\r\n\r\n        myWebView.loadUrl(&quot;https://tcg-wallet.ga/home&quot;);\r\n    }\r\n\r\n    @Override\r\n    public boolean onKeyDown(int keyCode, KeyEvent event) {\r\n        // Check if the key event was the Back button and if there&#39;s history\r\n        if ((keyCode == KeyEvent.KEYCODE_BACK) &amp;&amp; myWebView.canGoBack()) {\r\n            myWebView.goBack();\r\n            return true;\r\n        }\r\n        // If it wasn&#39;t the Back key or there&#39;s no web page history, bubble up to the default\r\n        // system behavior (probably exit the activity)\r\n        return super.onKeyDown(keyCode, event);\r\n    }\r\n}\r\n```\r\n\r\n\r\ni have try using: \r\n\r\n```java\r\nwebSettings.setCacheMode(WebSettings.LOAD_CACHE_ELSE_NETWORK);\r\n```\r\n\r\nbut nothing happens there are no suggestions, I expected something like:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/jKX1U.png)](https://i.stack.imgur.com/jKX1U.png)\r\n\r\nI don&#39;t know what I need to add to enable those suggestions!","title":"Autosuggestion is not enable on webview using websetting","body":"<p>I have found it impossible to correctly set the autocompletion of fields in html forms in an android studio webview:</p>\n<p><strong>activity_main.xml:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;RelativeLayout\n        android:id=&quot;@+id/container&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;ProgressBar\n            android:id=&quot;@+id/progressbar_id&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:background=&quot;#FFFFFF&quot; /&gt;\n\n        &lt;WebView\n            android:id=&quot;@+id/webview&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:usesCleartextTraffic=&quot;true&quot; /&gt;\n    &lt;/RelativeLayout&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n<p><strong>MainActivity.java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.webview;\n\nimport android.annotation.SuppressLint;\nimport android.graphics.Bitmap;\nimport android.os.Bundle;\nimport android.support.v7.app.AppCompatActivity;\nimport android.view.KeyEvent;\nimport android.view.View;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.widget.ProgressBar;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private WebView myWebView;\n    private ProgressBar progressBar;\n\n    @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        myWebView = findViewById(R.id.webview);\n        progressBar = findViewById(R.id.progressbar_id);\n\n        WebSettings webSettings = myWebView.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n        webSettings.setCacheMode(WebSettings.LOAD_CACHE_ELSE_NETWORK);\n        webSettings.setGeolocationEnabled(true);\n        webSettings.setBuiltInZoomControls(true);\n        webSettings.setSaveFormData(true);\n        WebViewClient webViewClient = new WebViewClient(){\n            @Override\n            public void onPageStarted(WebView view, String url, Bitmap favicon) {\n                progressBar.setVisibility(View.VISIBLE);\n                myWebView.setVisibility(View.GONE);\n            }\n\n            @Override\n            public void onPageFinished(WebView view, String url) {\n                progressBar.setVisibility(View.GONE);\n                myWebView.setVisibility(View.VISIBLE);\n            }\n        };\n\n        myWebView.setWebViewClient(webViewClient);\n        myWebView.setSoundEffectsEnabled(true);\n\n\n        myWebView.loadUrl(&quot;https://tcg-wallet.ga/home&quot;);\n    }\n\n    @Override\n    public boolean onKeyDown(int keyCode, KeyEvent event) {\n        // Check if the key event was the Back button and if there's history\n        if ((keyCode == KeyEvent.KEYCODE_BACK) &amp;&amp; myWebView.canGoBack()) {\n            myWebView.goBack();\n            return true;\n        }\n        // If it wasn't the Back key or there's no web page history, bubble up to the default\n        // system behavior (probably exit the activity)\n        return super.onKeyDown(keyCode, event);\n    }\n}\n</code></pre>\n<p>i have try using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>webSettings.setCacheMode(WebSettings.LOAD_CACHE_ELSE_NETWORK);\n</code></pre>\n<p>but nothing happens there are no suggestions, I expected something like:</p>\n<p><a href=\"https://i.stack.imgur.com/jKX1U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jKX1U.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't know what I need to add to enable those suggestions!</p>\n"},{"tags":["java","spring","maven","executable-jar","spring-boot"],"comments":[{"owner":{"account_id":161943,"reputation":22096,"user_id":383087,"accept_rate":89,"display_name":"Evgeni Dimitrov"},"score":2,"creation_date":1398165164,"post_id":23217002,"comment_id":35518038,"body_markdown":"java -cp myjar.jar MyClass","body":"java -cp myjar.jar MyClass"},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":4,"creation_date":1398209755,"post_id":23217002,"comment_id":35544444,"body_markdown":"@Evgeni: That&#39;s a runtime flag. It doesn&#39;t get that far. It fails to build.","body":"@Evgeni: That&#39;s a runtime flag. It doesn&#39;t get that far. It fails to build."}],"answers":[{"tags":[],"owner":{"account_id":2423264,"reputation":3907,"user_id":2115767,"accept_rate":65,"display_name":"ludo_rj"},"down_vote_count":1,"up_vote_count":303,"is_accepted":true,"score":302,"last_activity_date":1562689505,"creation_date":1398163282,"answer_id":23217203,"question_id":23217002,"body_markdown":"Add your start class in your pom:\r\n\r\n    &lt;properties&gt;\r\n        &lt;!-- The main class to start by executing java -jar --&gt;\r\n        &lt;start-class&gt;com.mycorp.starter.HelloWorldApplication&lt;/start-class&gt;\r\n    &lt;/properties&gt;\r\n     \r\n\r\nor \r\n\r\n    &lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;             \r\n            &lt;configuration&gt;    \r\n                &lt;mainClass&gt;com.mycorp.starter.HelloWorldApplication&lt;/mainClass&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"How do I tell Spring Boot which main class to use for the executable jar?","body":"<p>Add your start class in your pom:</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;!-- The main class to start by executing java -jar --&gt;\n    &lt;start-class&gt;com.mycorp.starter.HelloWorldApplication&lt;/start-class&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>or </p>\n\n<pre><code>&lt;build&gt;\n&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;             \n        &lt;configuration&gt;    \n            &lt;mainClass&gt;com.mycorp.starter.HelloWorldApplication&lt;/mainClass&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":43036,"reputation":16153,"user_id":125617,"accept_rate":74,"display_name":"Renaud"},"down_vote_count":0,"up_vote_count":72,"is_accepted":false,"score":72,"last_activity_date":1404721367,"creation_date":1404721367,"answer_id":24606025,"question_id":23217002,"body_markdown":"If you do NOT use the spring-boot-starter-parent pom, then from the [Spring documentation][1]:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.3.RELEASE&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;mainClass&gt;my.package.MyStartClass&lt;/mainClass&gt;\r\n            &lt;layout&gt;ZIP&lt;/layout&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;repackage&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/1.0.1.RELEASE/reference/html/build-tool-plugins-maven-plugin.html#build-tool-plugins-maven-packaging-optional-params","title":"How do I tell Spring Boot which main class to use for the executable jar?","body":"<p>If you do NOT use the spring-boot-starter-parent pom, then from the <a href=\"http://docs.spring.io/spring-boot/docs/1.0.1.RELEASE/reference/html/build-tool-plugins-maven-plugin.html#build-tool-plugins-maven-packaging-optional-params\">Spring documentation</a>:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.1.3.RELEASE&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;mainClass&gt;my.package.MyStartClass&lt;/mainClass&gt;\n        &lt;layout&gt;ZIP&lt;/layout&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;repackage&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2150868,"reputation":3882,"user_id":1907282,"display_name":"Marcelo C."},"down_vote_count":0,"up_vote_count":141,"is_accepted":false,"score":141,"last_activity_date":1435202355,"creation_date":1435202355,"answer_id":31040641,"question_id":23217002,"body_markdown":"For those using Gradle (instead of Maven) :\r\n\r\n    springBoot {\r\n        mainClass = &quot;com.example.Main&quot;\r\n    }","title":"How do I tell Spring Boot which main class to use for the executable jar?","body":"<p>For those using Gradle (instead of Maven) :</p>\n\n<pre><code>springBoot {\n    mainClass = \"com.example.Main\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3687479,"reputation":425,"user_id":3070934,"display_name":"mojave"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1453667168,"creation_date":1437863987,"answer_id":31631812,"question_id":23217002,"body_markdown":"If you&#39;re using spring-boot-starter-parent in your pom, you simply add the following to your pom:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\nThen do your mvn package.\r\n\r\nSee [this Spring docs page](http://docs.spring.io/spring-boot/docs/1.2.5.RELEASE/reference/html/getting-started-first-application.html#getting-started-first-application-executable-jar).\r\n\r\nA very important aspect here is to mention that the directory structure has to be src/main/java/nameofyourpackage ","title":"How do I tell Spring Boot which main class to use for the executable jar?","body":"<p>If you're using spring-boot-starter-parent in your pom, you simply add the following to your pom:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Then do your mvn package.</p>\n\n<p>See <a href=\"http://docs.spring.io/spring-boot/docs/1.2.5.RELEASE/reference/html/getting-started-first-application.html#getting-started-first-application-executable-jar\" rel=\"noreferrer\">this Spring docs page</a>.</p>\n\n<p>A very important aspect here is to mention that the directory structure has to be src/main/java/nameofyourpackage </p>\n"},{"tags":[],"owner":{"account_id":5470359,"reputation":2295,"user_id":4349919,"accept_rate":55,"display_name":"Anthony De Smet"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1443709080,"creation_date":1443709080,"answer_id":32889903,"question_id":23217002,"body_markdown":"I had renamed my project and it was still finding the old `Application` class on the build path. I removed it in the &#39;build&#39; folder and all was fine.","title":"How do I tell Spring Boot which main class to use for the executable jar?","body":"<p>I had renamed my project and it was still finding the old <code>Application</code> class on the build path. I removed it in the 'build' folder and all was fine.</p>\n"},{"tags":[],"owner":{"account_id":5828088,"reputation":391,"user_id":4593666,"display_name":"TRIDIB BOSE"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1494057632,"creation_date":1494057632,"answer_id":43818141,"question_id":23217002,"body_markdown":"I tried the following code in pom.xml and it worked for me\r\n\r\n    &lt;build&gt;\r\n  \t&lt;plugins&gt;\r\n  \t\t&lt;plugin&gt;\r\n  \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n  \t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n  \t\t\t&lt;configuration&gt;\r\n  \t\t\t\t&lt;mainClass&gt;myPackage.HelloWorld&lt;/mainClass&gt;\t\r\n  \t\t\t&lt;/configuration&gt;\r\n  \t\t&lt;/plugin&gt;\r\n  \t\t&lt;plugin&gt;\r\n  \t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n  \t\t\t&lt;configuration&gt;\r\n  \t\t\t\t&lt;fork&gt;true&lt;/fork&gt;\r\n  \t\t\t\t&lt;executable&gt;D:\\jdk1.8\\bin\\javaw.exe&lt;/executable&gt;\r\n  \t\t\t&lt;/configuration&gt;\r\n  \t\t&lt;/plugin&gt;\r\n  \t&lt;/plugins&gt;\r\n  &lt;/build&gt;","title":"How do I tell Spring Boot which main class to use for the executable jar?","body":"<p>I tried the following code in pom.xml and it worked for me</p>\n\n<pre><code>&lt;build&gt;\n&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;mainClass&gt;myPackage.HelloWorld&lt;/mainClass&gt; \n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;fork&gt;true&lt;/fork&gt;\n            &lt;executable&gt;D:\\jdk1.8\\bin\\javaw.exe&lt;/executable&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":[],"owner":{"account_id":4200044,"reputation":3510,"user_id":3440376,"display_name":"tan9"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1500367143,"creation_date":1500347912,"answer_id":45156892,"question_id":23217002,"body_markdown":"Since Spring Boot 1.5, you can complete ignore the error-prone string literal in pom or build.gradle. The repackaging tool (via maven or gradle plugin) will pick the one annotated with `@SpringBootApplication` for you. (Refer to this issue for detail: https://github.com/spring-projects/spring-boot/issues/6496 )\r\n","title":"How do I tell Spring Boot which main class to use for the executable jar?","body":"<p>Since Spring Boot 1.5, you can complete ignore the error-prone string literal in pom or build.gradle. The repackaging tool (via maven or gradle plugin) will pick the one annotated with <code>@SpringBootApplication</code> for you. (Refer to this issue for detail: <a href=\"https://github.com/spring-projects/spring-boot/issues/6496\" rel=\"noreferrer\">https://github.com/spring-projects/spring-boot/issues/6496</a> )</p>\n"},{"tags":[],"owner":{"account_id":166288,"reputation":1076,"user_id":1415645,"accept_rate":50,"display_name":"Shane Lu"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1670615293,"creation_date":1523181803,"answer_id":49716696,"question_id":23217002,"body_markdown":"For those using Gradle (instead of Maven), referencing [Spring Boot Gradle Plugin Reference Guide][1] (as of Gradle 7.6 and Spring Boot 3.0.0): \r\n\r\n&gt; The main class can also be configured explicitly using the task’s `mainClass` property:\r\n&gt; \r\n&gt;     tasks.named(&quot;bootJar&quot;) {\r\n&gt;     \tmainClass = &#39;com.example.ExampleApplication&#39;\r\n&gt;     }\r\n&gt; \r\n&gt; Alternatively, the main class name can be configured project-wide using the `mainClass` property of the Spring Boot DSL:\r\n&gt; \r\n&gt;     springBoot {\r\n&gt;     \tmainClass = &#39;com.example.ExampleApplication&#39;\r\n&gt;     }\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/htmlsingle/#packaging-executable.configuring.main-class\r\n","title":"How do I tell Spring Boot which main class to use for the executable jar?","body":"<p>For those using Gradle (instead of Maven), referencing <a href=\"https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/htmlsingle/#packaging-executable.configuring.main-class\" rel=\"nofollow noreferrer\">Spring Boot Gradle Plugin Reference Guide</a> (as of Gradle 7.6 and Spring Boot 3.0.0):</p>\n<blockquote>\n<p>The main class can also be configured explicitly using the task’s <code>mainClass</code> property:</p>\n<pre><code>tasks.named(&quot;bootJar&quot;) {\n  mainClass = 'com.example.ExampleApplication'\n}\n</code></pre>\n<p>Alternatively, the main class name can be configured project-wide using the <code>mainClass</code> property of the Spring Boot DSL:</p>\n<pre><code>springBoot {\n  mainClass = 'com.example.ExampleApplication'\n}\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":74266,"reputation":117,"user_id":5646741,"display_name":"dy10"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537248127,"creation_date":1537248127,"answer_id":52379434,"question_id":23217002,"body_markdown":"Have seen this issue with Java 1.9 and SpringBoot 1.5.x, when main-class is not specified explicitly.\r\n\r\nWith Java 1.8, it is able to find main-class without explicit property and &#39;mvn package&#39; works fine.","title":"How do I tell Spring Boot which main class to use for the executable jar?","body":"<p>Have seen this issue with Java 1.9 and SpringBoot 1.5.x, when main-class is not specified explicitly.</p>\n\n<p>With Java 1.8, it is able to find main-class without explicit property and 'mvn package' works fine.</p>\n"},{"tags":[],"owner":{"account_id":9507708,"reputation":2869,"user_id":7066647,"display_name":"dbaltor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601021041,"creation_date":1599575653,"answer_id":63796139,"question_id":23217002,"body_markdown":"If you are using Grade, it is possible to apply the [&#39;application&#39; plugin](https://docs.gradle.org/current/userguide/application_plugin.html) rather than the &#39;java&#39; plugin. This allows specifying the main class as below without using any Spring Boot Gradle plugin tasks.\r\n\r\n    plugins {\r\n\t  id &#39;org.springframework.boot&#39; version &#39;2.3.3.RELEASE&#39;\r\n\t  id &#39;io.spring.dependency-management&#39; version &#39;1.0.10.RELEASE&#39;\r\n\t  id &#39;application&#39;\r\n    }\r\n    application {\r\n      mainClassName = &#39;com.example.ExampleApplication&#39;\r\n    }\r\nAs a nice benefit, one is able to run the application using `gradle run` with the classpath automatically configured by Gradle. The plugin also packages the application as a TAR and/or ZIP including operating system specific start scripts.","title":"How do I tell Spring Boot which main class to use for the executable jar?","body":"<p>If you are using Grade, it is possible to apply the <a href=\"https://docs.gradle.org/current/userguide/application_plugin.html\" rel=\"nofollow noreferrer\">'application' plugin</a> rather than the 'java' plugin. This allows specifying the main class as below without using any Spring Boot Gradle plugin tasks.</p>\n<pre><code>plugins {\n  id 'org.springframework.boot' version '2.3.3.RELEASE'\n  id 'io.spring.dependency-management' version '1.0.10.RELEASE'\n  id 'application'\n}\napplication {\n  mainClassName = 'com.example.ExampleApplication'\n}\n</code></pre>\n<p>As a nice benefit, one is able to run the application using <code>gradle run</code> with the classpath automatically configured by Gradle. The plugin also packages the application as a TAR and/or ZIP including operating system specific start scripts.</p>\n"},{"tags":[],"owner":{"account_id":5466417,"reputation":393,"user_id":4347122,"display_name":"flashback"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659948280,"creation_date":1659948280,"answer_id":73275099,"question_id":23217002,"body_markdown":"For Kotlin with Gradle:\r\n\r\n    springBoot {\r\n      mainClass.set(&quot;com.example.MainKt&quot;)\r\n    }","title":"How do I tell Spring Boot which main class to use for the executable jar?","body":"<p>For Kotlin with Gradle:</p>\n<pre><code>springBoot {\n  mainClass.set(&quot;com.example.MainKt&quot;)\n}\n</code></pre>\n"}],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228528,"favorite_count":0,"down_vote_count":0,"up_vote_count":212,"accepted_answer_id":23217203,"answer_count":11,"score":212,"last_activity_date":1670615293,"creation_date":1398162681,"question_id":23217002,"body_markdown":"    Execution default of goal \r\n    org.springframework.boot:spring-boot-maven-plugin:1.0.1.RELEASE:repackage \r\n    failed: \r\n    Unable to find a single main class from the following candidates\r\n\r\nMy project has more than one class with a `main` method. How do I tell the Spring Boot Maven plugin which of the classes it should use as the main class?","title":"How do I tell Spring Boot which main class to use for the executable jar?","body":"<pre><code>Execution default of goal \norg.springframework.boot:spring-boot-maven-plugin:1.0.1.RELEASE:repackage \nfailed: \nUnable to find a single main class from the following candidates\n</code></pre>\n\n<p>My project has more than one class with a <code>main</code> method. How do I tell the Spring Boot Maven plugin which of the classes it should use as the main class?</p>\n"},{"tags":["java","spring","spring-boot","maven","cucumber"],"comments":[{"owner":{"account_id":11675408,"reputation":79,"user_id":8549135,"display_name":"user8549135"},"score":1,"creation_date":1670615936,"post_id":74747667,"comment_id":131922521,"body_markdown":"Fixed with: `&lt;dependency&gt;\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.9.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;`","body":"Fixed with: <code>&lt;dependency&gt;             &lt;groupId&gt;org.junit.vintage&lt;&#47;groupId&gt;             &lt;artifactId&gt;junit-vintage-engine&lt;&#47;artifactId&gt;             &lt;version&gt;5.9.0&lt;&#47;version&gt;             &lt;scope&gt;test&lt;&#47;scope&gt;         &lt;&#47;dependency&gt;</code>"}],"owner":{"account_id":11675408,"reputation":79,"user_id":8549135,"display_name":"user8549135"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1670615226,"creation_date":1670615226,"question_id":74747667,"body_markdown":"I have project that runs integration tests apart from my main application. The tests are successfully run by IntelliJ but maven plugin isn&#39;t recognizing any tests. It is recognizing the BackendTests file.\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M7&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/BackendTests.java&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                            &lt;goal&gt;verify&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M7&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/BackendTests.java&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nThese are my other dependencies in pom.xml:\r\n\r\n            &lt;!-- Spring boot --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- Lombok --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;1.18.24&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- Cucumber --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n                &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n                &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\r\n                &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n\r\nThat is my BackendTests file:\r\n\r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n            features = &quot;src/test/resources/features&quot;,\r\n            glue = {&quot;backendtests.step&quot;, &quot;backendtests.table&quot;, &quot;backendtests.config&quot;}\r\n    )\r\n    public class BackendTests {\r\n    }\r\n\r\nI have config directory with two files: AbstractIntegrationTest and SpringCucumberConfiguration.\r\n\r\n    @SpringBootTest\r\n    public class AbstractIntegrationTest {\r\n    }\r\n\r\n    .............\r\n    \r\n    @CucumberContextConfiguration\r\n    @ContextConfiguration(classes = {Application.class, AbstractIntegrationTest.class}, loader = SpringBootContextLoader.class)\r\n    public class SpringCucumberConfiguration {\r\n    }\r\n\r\nAnd my steps are in step.definitions folder. Every step extends AbstractionIntegration test file. When I change `&lt;include&gt;**/BackendTests.java&lt;/include&gt;` to `&lt;include&gt;**/Gibberish.java&lt;/include&gt;` for example I don&#39;t see nothing about tests in the console when I run mvn clean install command. But if the filename is correct `&lt;include&gt;**/BackendTests.java&lt;/include&gt;`, I see:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/R7ajf.png\r\n","title":"Spring with cucumber tests not found by maven surfire or failsafe","body":"<p>I have project that runs integration tests apart from my main application. The tests are successfully run by IntelliJ but maven plugin isn't recognizing any tests. It is recognizing the BackendTests file.</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M7&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/BackendTests.java&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;integration-test&lt;/goal&gt;\n                        &lt;goal&gt;verify&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M7&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/BackendTests.java&lt;/include&gt;\n                &lt;/includes&gt;\n                &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>These are my other dependencies in pom.xml:</p>\n<pre><code>        &lt;!-- Spring boot --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Lombok --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.24&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Cucumber --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>That is my BackendTests file:</p>\n<pre><code>@RunWith(Cucumber.class)\n@CucumberOptions(\n        features = &quot;src/test/resources/features&quot;,\n        glue = {&quot;backendtests.step&quot;, &quot;backendtests.table&quot;, &quot;backendtests.config&quot;}\n)\npublic class BackendTests {\n}\n</code></pre>\n<p>I have config directory with two files: AbstractIntegrationTest and SpringCucumberConfiguration.</p>\n<pre><code>@SpringBootTest\npublic class AbstractIntegrationTest {\n}\n\n.............\n\n@CucumberContextConfiguration\n@ContextConfiguration(classes = {Application.class, AbstractIntegrationTest.class}, loader = SpringBootContextLoader.class)\npublic class SpringCucumberConfiguration {\n}\n</code></pre>\n<p>And my steps are in step.definitions folder. Every step extends AbstractionIntegration test file. When I change <code>&lt;include&gt;**/BackendTests.java&lt;/include&gt;</code> to <code>&lt;include&gt;**/Gibberish.java&lt;/include&gt;</code> for example I don't see nothing about tests in the console when I run mvn clean install command. But if the filename is correct <code>&lt;include&gt;**/BackendTests.java&lt;/include&gt;</code>, I see:</p>\n<p><a href=\"https://i.stack.imgur.com/R7ajf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R7ajf.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","whatsapp"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1670615078,"post_id":74747542,"comment_id":131922322,"body_markdown":"Use your second code snippet, but use `FileProvider` and its `getUriForFile()` method to get the `Uri` to use.","body":"Use your second code snippet, but use <code>FileProvider</code> and its <code>getUriForFile()</code> method to get the <code>Uri</code> to use."}],"owner":{"account_id":26703608,"reputation":13,"user_id":20310230,"display_name":"Unknown_Soldier"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670614449,"creation_date":1670614306,"question_id":74747542,"body_markdown":"I&#39;m working on an app from which you can send audio to whatsapp. However, the codes that I am using are not working.\r\n\r\n```\r\n//This code returns an error and asks to try again to send the audio file\r\nString sharePath = Environment.getExternalStorageDirectory().getPath()\r\n                                + &quot;android.resource://&quot;\r\n                                + wspActivity.this.getPackageName() + &quot;/raw/&quot; + &quot;increible&quot;;\r\n                        Uri uri = Uri.parse(sharePath);\r\n                        Intent share = new Intent(Intent.ACTION_SEND);\r\n                        share.setPackage(&quot;com.whatsapp&quot;);\r\n                        share.setType(&quot;audio/*&quot;);\r\n                        share.putExtra(Intent.EXTRA_STREAM, uri);\r\n                        startActivity(Intent.createChooser(share, &quot;Share Sound File&quot;));\r\n\r\n\r\n//This code indicates that the file is of an incompatible type.\r\nfinal Intent share = new Intent(Intent.ACTION_SEND);\r\n                        share.setType(&quot;audio/mp3&quot;);\r\n                        final String path = copyFiletoExternalStorage(R.raw.increible, &quot;increible.mp3&quot;);\r\n                        final Uri soundUri = Uri.parse(path);\r\n                        share.putExtra(Intent.EXTRA_STREAM, soundUri);\r\n                        startActivity(Intent.createChooser(share, &quot;Compartiendo...&quot;));\r\n```\r\n\r\n```\r\nIf anyone has any idea why this behaviour, I would appreciate it if you could share it :)\r\n```\r\n\r\nI need to improve some of these codes to be able to send audio files from my app through whatsapp","title":"How can I send audio files from my app to Whatsapp?","body":"<p>I'm working on an app from which you can send audio to whatsapp. However, the codes that I am using are not working.</p>\n<pre><code>//This code returns an error and asks to try again to send the audio file\nString sharePath = Environment.getExternalStorageDirectory().getPath()\n                                + &quot;android.resource://&quot;\n                                + wspActivity.this.getPackageName() + &quot;/raw/&quot; + &quot;increible&quot;;\n                        Uri uri = Uri.parse(sharePath);\n                        Intent share = new Intent(Intent.ACTION_SEND);\n                        share.setPackage(&quot;com.whatsapp&quot;);\n                        share.setType(&quot;audio/*&quot;);\n                        share.putExtra(Intent.EXTRA_STREAM, uri);\n                        startActivity(Intent.createChooser(share, &quot;Share Sound File&quot;));\n\n\n//This code indicates that the file is of an incompatible type.\nfinal Intent share = new Intent(Intent.ACTION_SEND);\n                        share.setType(&quot;audio/mp3&quot;);\n                        final String path = copyFiletoExternalStorage(R.raw.increible, &quot;increible.mp3&quot;);\n                        final Uri soundUri = Uri.parse(path);\n                        share.putExtra(Intent.EXTRA_STREAM, soundUri);\n                        startActivity(Intent.createChooser(share, &quot;Compartiendo...&quot;));\n</code></pre>\n<pre><code>If anyone has any idea why this behaviour, I would appreciate it if you could share it :)\n</code></pre>\n<p>I need to improve some of these codes to be able to send audio files from my app through whatsapp</p>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":2,"creation_date":1521594708,"post_id":49396573,"comment_id":85794963,"body_markdown":"The question itself is good, but it lacks research effort. The [documentation](https://docs.oracle.com/javase/9/docs/api/java/nio/file/Files.html#lines-java.nio.file.Path-java.nio.charset.Charset-) of the method clearly explains that the method populates **lazily**. So if you would `limit` the stream, let&#39;s say to `100` elements, it will only read `100` lines. To be fair, you need to follow the method to the more general version to find that note.","body":"The question itself is good, but it lacks research effort. The <a href=\"https://docs.oracle.com/javase/9/docs/api/java/nio/file/Files.html#lines-java.nio.file.Path-java.nio.charset.Charset-\" rel=\"nofollow noreferrer\">documentation</a> of the method clearly explains that the method populates <b>lazily</b>. So if you would <code>limit</code> the stream, let&#39;s say to <code>100</code> elements, it will only read <code>100</code> lines. To be fair, you need to follow the method to the more general version to find that note."}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1521594584,"creation_date":1521594584,"answer_id":49396602,"question_id":49396573,"body_markdown":"No, it doesn&#39;t load the entire file into memory. It internally uses a `BufferedReader` with the default buffer size, repeatedly calling `readLine()`.","title":"Does Files.lines read all lines into memory?","body":"<p>No, it doesn't load the entire file into memory. It internally uses a <code>BufferedReader</code> with the default buffer size, repeatedly calling <code>readLine()</code>.</p>\n"},{"tags":[],"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1521594622,"creation_date":1521594622,"answer_id":49396605,"question_id":49396573,"body_markdown":"Well, the link you provided states it already:\r\n\r\n&gt; Unlike readAllLines, this method does not read all lines into a List, but instead populates lazily as the stream is consumed.\r\n\r\nSo for every time your `for-each` block is called, a new line is read.","title":"Does Files.lines read all lines into memory?","body":"<p>Well, the link you provided states it already:</p>\n\n<blockquote>\n  <p>Unlike readAllLines, this method does not read all lines into a List, but instead populates lazily as the stream is consumed.</p>\n</blockquote>\n\n<p>So for every time your <code>for-each</code> block is called, a new line is read.</p>\n"},{"tags":[],"owner":{"account_id":13188860,"reputation":21,"user_id":9525824,"display_name":"tony"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1521595448,"creation_date":1521595448,"answer_id":49396717,"question_id":49396573,"body_markdown":"A new method lines() has been added since 1.8, it lets BufferedReader returns content as Stream.this method does not read all lines into a List, but instead populates lazily as the stream is consumed.when you call for-each,then a new line is reload. hope can help you!","title":"Does Files.lines read all lines into memory?","body":"<p>A new method lines() has been added since 1.8, it lets BufferedReader returns content as Stream.this method does not read all lines into a List, but instead populates lazily as the stream is consumed.when you call for-each,then a new line is reload. hope can help you!</p>\n"},{"tags":[],"owner":{"account_id":2918180,"reputation":2843,"user_id":2500965,"accept_rate":56,"display_name":"ssindelar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670614437,"creation_date":1670614437,"answer_id":74747562,"question_id":49396573,"body_markdown":"There is an issue with the Spliterator if Files.lines is used with a parallel stream. Than all processed lines will be stored in the Spliterator which makes it unuseable for large files.","title":"Does Files.lines read all lines into memory?","body":"<p>There is an issue with the Spliterator if Files.lines is used with a parallel stream. Than all processed lines will be stored in the Spliterator which makes it unuseable for large files.</p>\n"}],"owner":{"account_id":7082954,"reputation":2194,"user_id":5420686,"accept_rate":49,"display_name":"Jal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4235,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"answer_count":4,"score":12,"last_activity_date":1670614437,"creation_date":1521594375,"question_id":49396573,"body_markdown":"In the [doc](https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html) it says \r\n\r\n&gt; Read all lines from a file as a `Stream`.\r\n\r\n\r\nDoes that necessary mean that it&#39;s loading the entire file? For example:\r\n\r\n    try (Stream&lt;String&gt; stream = Files.lines(Paths.get(&quot;myfilename.txt&quot;))) {\r\n            stream.forEach(x -&gt; {\r\n\r\n\r\nif `myfilename` is *100GB* , will `Files.lines` load the entire *100GB*?\r\n","title":"Does Files.lines read all lines into memory?","body":"<p>In the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html\" rel=\"noreferrer\">doc</a> it says </p>\n\n<blockquote>\n  <p>Read all lines from a file as a <code>Stream</code>.</p>\n</blockquote>\n\n<p>Does that necessary mean that it's loading the entire file? For example:</p>\n\n<pre><code>try (Stream&lt;String&gt; stream = Files.lines(Paths.get(\"myfilename.txt\"))) {\n        stream.forEach(x -&gt; {\n</code></pre>\n\n<p>if <code>myfilename</code> is <em>100GB</em> , will <code>Files.lines</code> load the entire <em>100GB</em>?</p>\n"},{"tags":["java","spring-boot","http","microservices"],"comments":[{"owner":{"account_id":163284,"reputation":17155,"user_id":385326,"accept_rate":48,"display_name":"dotnetstep"},"score":0,"creation_date":1670651172,"post_id":74747545,"comment_id":131927472,"body_markdown":"How you are passing ids ? It seems like you are trying to read from RequestBody","body":"How you are passing ids ? It seems like you are trying to read from RequestBody"},{"owner":{"account_id":26944122,"reputation":1,"user_id":20514378,"display_name":"Balsa Stevovic"},"score":0,"creation_date":1670701150,"post_id":74747545,"comment_id":131935894,"body_markdown":"Class CourseIds request holds a list of ids","body":"Class CourseIds request holds a list of ids"}],"owner":{"account_id":26944122,"reputation":1,"user_id":20514378,"display_name":"Balsa Stevovic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670614318,"creation_date":1670614318,"question_id":74747545,"body_markdown":"Im currently trying to perform a GET method on my &quot;Courses&quot; microservice controller. But when i try to fetch i get a 405 error code.\r\n\r\nThe general idea is that i perform a GET on the &quot;Courses&quot; microservice to get objects by id from the &quot;Purchases&quot; microservice.\r\n\r\n1. Feign class in the purchases where im performing a GET\r\n\r\n\r\n```\r\n@FeignClient(value = &quot;COURSES&quot;, configuration = {\r\n        FeignConfig.class\r\n})\r\npublic interface CourseService {\r\n    @GetMapping(&quot;/courses/all-by-id&quot;)\r\n    CoursesByIdResponse getAllByCourseIds(@RequestBody CourseIdsRequest courseIds);\r\n}\r\n```\r\n\r\n\r\nCourse Controller\r\n\r\n```\r\n@RestController()   \r\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\r\npublic class CourseController {\r\n    \r\n    private final CoursePaginatedService courseService;\r\n\r\n    public CourseController(@Qualifier(&quot;paginatedService&quot;) CoursePaginatedService courseService) {\r\n        this.courseService = courseService;\r\n    }\r\n\r\n\r\n    @GetMapping(&quot;/courses/all-by-id&quot;)\r\n    public ResponseEntity&lt;CoursesByIdResponse&gt; getAllByCourseIds(@RequestBody CourseIdsRequest       courseIds){\r\n         return ResponseEntity.ok(courseService.getAllByCourseIds(courseIds.getCourseIds()));\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nI have more methods in the Course controller that work propperly (200 ok).\r\n\r\n```\r\n@GetMapping(&quot;/courses/course/{id}&quot;) \r\npublic ResponseEntity&lt;CourseByIdResponse&gt; getCourseById(@PathVariable(value = &quot;id&quot;) Long id){\r\n    return ResponseEntity.ok(courseService.getCourseById(id));\r\n}\r\n\r\n```\r\n\r\nMy Request and response classes.\r\n\r\n```\r\n\r\n@Data   \r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class CourseIdsRequest {\r\n    private List&lt;Long&gt; courseIds;\r\n}\r\n\r\n\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\npublic class CoursesByIdResponse {\r\n    List&lt;Course&gt; courses;\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n \r\n\r\nI have no idea what it could be. ","title":"405 during Feign client GET","body":"<p>Im currently trying to perform a GET method on my &quot;Courses&quot; microservice controller. But when i try to fetch i get a 405 error code.</p>\n<p>The general idea is that i perform a GET on the &quot;Courses&quot; microservice to get objects by id from the &quot;Purchases&quot; microservice.</p>\n<ol>\n<li>Feign class in the purchases where im performing a GET</li>\n</ol>\n<pre><code>@FeignClient(value = &quot;COURSES&quot;, configuration = {\n        FeignConfig.class\n})\npublic interface CourseService {\n    @GetMapping(&quot;/courses/all-by-id&quot;)\n    CoursesByIdResponse getAllByCourseIds(@RequestBody CourseIdsRequest courseIds);\n}\n</code></pre>\n<p>Course Controller</p>\n<pre><code>@RestController()   \n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\npublic class CourseController {\n    \n    private final CoursePaginatedService courseService;\n\n    public CourseController(@Qualifier(&quot;paginatedService&quot;) CoursePaginatedService courseService) {\n        this.courseService = courseService;\n    }\n\n\n    @GetMapping(&quot;/courses/all-by-id&quot;)\n    public ResponseEntity&lt;CoursesByIdResponse&gt; getAllByCourseIds(@RequestBody CourseIdsRequest       courseIds){\n         return ResponseEntity.ok(courseService.getAllByCourseIds(courseIds.getCourseIds()));\n    }\n\n}\n\n</code></pre>\n<p>I have more methods in the Course controller that work propperly (200 ok).</p>\n<pre><code>@GetMapping(&quot;/courses/course/{id}&quot;) \npublic ResponseEntity&lt;CourseByIdResponse&gt; getCourseById(@PathVariable(value = &quot;id&quot;) Long id){\n    return ResponseEntity.ok(courseService.getCourseById(id));\n}\n\n</code></pre>\n<p>My Request and response classes.</p>\n<pre><code>\n@Data   \n@AllArgsConstructor\n@NoArgsConstructor\npublic class CourseIdsRequest {\n    private List&lt;Long&gt; courseIds;\n}\n\n\n@AllArgsConstructor\n@NoArgsConstructor\n@Data\npublic class CoursesByIdResponse {\n    List&lt;Course&gt; courses;\n}\n\n</code></pre>\n<p>I have no idea what it could be.</p>\n"},{"tags":["java","string","parsing","java.util.scanner"],"owner":{"account_id":27182797,"reputation":3,"user_id":20717744,"display_name":"Anas Aaquil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670614201,"creation_date":1670614201,"question_id":74747530,"body_markdown":"I am trying to convert a .bib that can contains x number of article into a ACM file with said x number of ACM notation. I&#39;ve written a bit of code but would like help with the rest.\r\n\r\nThe .bib is formatted this way --\\&gt;\r\n\r\n```none\r\n@ARTICLE{\r\n8249726, \r\nauthor={N. Khlif and A. Masmoudi and F. Kammoun and N. Masmoudi}, \r\njournal={IET Image Processing}, \r\ntitle={Secure chaotic dual encryption scheme for H.264/AVC video conferencing protection}, \r\nnumber={1}, \r\nyear={2018}, \r\nvolume={12}, \r\npages={42-52}, \r\nkeywords={adaptive codes;chaotic communication;cryptography;data compression;data protection;variable length codes;video coding;H.264/AVC video conferencing protection;advanced video coding protection;chaos-based crypto-compression scheme;compression ratio;context adaptive variable length coding;decision module;format compliance;inter-prediction encryption;intra-prediction encryption;piecewise linear chaotic maps;pseudorandom bit generators;secure chaotic dual encryption scheme;selective encryption approach;video compression standards}, \r\ndoi={10.1049/iet-ipr.2017.0022}, \r\nISSN={1751-9659}, \r\nmonth={Dec},\r\n}\r\n\r\n@ARTICLE{\r\n8093611, \r\nauthor={W. Wu and H. Mao and Y. Wang and J. Wang and W. Wang and C. Tian}, \r\njournal={IEEE Access}, \r\ntitle={CoolConferencing: Enabling Robust Peer-to-Peer Multi-Party Video Conferencing}, \r\nyear={2017}, \r\npages={25474-25486},\r\nnumber={2},\r\nvolume={5}, \r\nkeywords={Internet;peer-to-peer computing;teleconferencing;video communication;CoolConferencing design;MPVC approach;MPVC platform;any-view support;multirate support;optimal video transmission performance;overlay network;realistic network environments;resilient data-driven principle;robust MPVC system;robust peer-to-peer multiparty video conferencing;robust system;state-of-the-art video;Bandwidth;Delays;Internet;Peer-to-peer computing;Receivers;Robustness;Streaming media;Computer networks;peer to peer computing;streaming media}, \r\ndoi={10.1109/ACCESS.2017.2768798}, \r\nISSN={1751-9659}, \r\nmonth={Dec},\r\n}\r\n```\r\n\r\nNote that the .bib file can have any number of articles, 2 in this case so the .ACM file should have 2 ACM quotation. Also the articles information doesn&#39;t have specific line order.\r\nI can&#39;t use any library that auto convert.\r\n\r\nHere is the code that I have as of now. This code will read each line of 1 latex file and print all the information between { }, and now I need to save each information and then create a method to return the information in ACM format.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    List&lt;String&gt; lines = new ArrayList&lt;&gt;();\r\n    try {\r\n        File myFile = new File(&quot;Latex1.bib&quot;);\r\n        Scanner reader = new Scanner(myFile);\r\n        while (reader.hasNextLine()) {\r\n            Pattern pattern = Pattern.compile(&quot;=\\\\{([^}]*)&quot;);\r\n            Matcher matcher = pattern.matcher(reader.nextLine());\r\n            if (matcher.find()) {\r\n                System.out.println(matcher.group(1));\r\n            }\r\n        }\r\n    } catch (FileNotFoundException e) {\r\n        e.getMessage();\r\n    }\r\n}\r\n```\r\n\r\nCould you please complete it?","title":"Convert .bib file into a new .acm file","body":"<p>I am trying to convert a .bib that can contains x number of article into a ACM file with said x number of ACM notation. I've written a bit of code but would like help with the rest.</p>\n<p>The .bib is formatted this way --&gt;</p>\n<pre class=\"lang-none prettyprint-override\"><code>@ARTICLE{\n8249726, \nauthor={N. Khlif and A. Masmoudi and F. Kammoun and N. Masmoudi}, \njournal={IET Image Processing}, \ntitle={Secure chaotic dual encryption scheme for H.264/AVC video conferencing protection}, \nnumber={1}, \nyear={2018}, \nvolume={12}, \npages={42-52}, \nkeywords={adaptive codes;chaotic communication;cryptography;data compression;data protection;variable length codes;video coding;H.264/AVC video conferencing protection;advanced video coding protection;chaos-based crypto-compression scheme;compression ratio;context adaptive variable length coding;decision module;format compliance;inter-prediction encryption;intra-prediction encryption;piecewise linear chaotic maps;pseudorandom bit generators;secure chaotic dual encryption scheme;selective encryption approach;video compression standards}, \ndoi={10.1049/iet-ipr.2017.0022}, \nISSN={1751-9659}, \nmonth={Dec},\n}\n\n@ARTICLE{\n8093611, \nauthor={W. Wu and H. Mao and Y. Wang and J. Wang and W. Wang and C. Tian}, \njournal={IEEE Access}, \ntitle={CoolConferencing: Enabling Robust Peer-to-Peer Multi-Party Video Conferencing}, \nyear={2017}, \npages={25474-25486},\nnumber={2},\nvolume={5}, \nkeywords={Internet;peer-to-peer computing;teleconferencing;video communication;CoolConferencing design;MPVC approach;MPVC platform;any-view support;multirate support;optimal video transmission performance;overlay network;realistic network environments;resilient data-driven principle;robust MPVC system;robust peer-to-peer multiparty video conferencing;robust system;state-of-the-art video;Bandwidth;Delays;Internet;Peer-to-peer computing;Receivers;Robustness;Streaming media;Computer networks;peer to peer computing;streaming media}, \ndoi={10.1109/ACCESS.2017.2768798}, \nISSN={1751-9659}, \nmonth={Dec},\n}\n</code></pre>\n<p>Note that the .bib file can have any number of articles, 2 in this case so the .ACM file should have 2 ACM quotation. Also the articles information doesn't have specific line order.\nI can't use any library that auto convert.</p>\n<p>Here is the code that I have as of now. This code will read each line of 1 latex file and print all the information between { }, and now I need to save each information and then create a method to return the information in ACM format.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    List&lt;String&gt; lines = new ArrayList&lt;&gt;();\n    try {\n        File myFile = new File(&quot;Latex1.bib&quot;);\n        Scanner reader = new Scanner(myFile);\n        while (reader.hasNextLine()) {\n            Pattern pattern = Pattern.compile(&quot;=\\\\{([^}]*)&quot;);\n            Matcher matcher = pattern.matcher(reader.nextLine());\n            if (matcher.find()) {\n                System.out.println(matcher.group(1));\n            }\n        }\n    } catch (FileNotFoundException e) {\n        e.getMessage();\n    }\n}\n</code></pre>\n<p>Could you please complete it?</p>\n"},{"tags":["java","collections","java-8","hashmap","java-stream"],"comments":[{"owner":{"account_id":9517743,"reputation":706,"user_id":7073537,"display_name":"Maciej Mościcki"},"score":2,"creation_date":1568316580,"post_id":57913300,"comment_id":102245818,"body_markdown":"You want your final map to be `&lt;String,String&gt;` but then you are puting `UserDto`s to it?","body":"You want your final map to be <code>&lt;String,String&gt;</code> but then you are puting <code>UserDto</code>s to it?"},{"owner":{"account_id":14371821,"reputation":413,"user_id":10381368,"display_name":"Srikanth Janapati"},"score":0,"creation_date":1568317262,"post_id":57913300,"comment_id":102246064,"body_markdown":"Sorry it&#39;s typo mistake, finally i want &lt;String,UserDto&gt; generic type map","body":"Sorry it&#39;s typo mistake, finally i want &lt;String,UserDto&gt; generic type map"}],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1568346262,"creation_date":1568316570,"answer_id":57913380,"question_id":57913300,"body_markdown":"You could do that but note that you will get a `Map&lt;String,UserDto&gt;`: \r\n\r\n    Map&lt;String,UsersDTO&gt; finalMap =\r\n            persons.entrySet().stream()\r\n                    .collect(Collectors.toMap(Map.Entry::getValue, e-&gt; users.get(e.getKey())));\r\n\r\nAs suggested by Andreas, if the email doesn&#39;t have a match between the two maps, you could handle that case. For example by ignoring the entry : \r\n\r\n    Map&lt;String, UsersDTO&gt; finalMap =\r\n            persons.entrySet().stream()\r\n                    .filter(e -&gt; users.containsKey(e.getKey()))\r\n                    .collect(Collectors.toMap(Map.Entry::getValue, e -&gt; users.get(e.getKey())));\r\n\r\n","title":"How to filter two maps and make third map by using Lambda expression java 8","body":"<p>You could do that but note that you will get a <code>Map&lt;String,UserDto&gt;</code>: </p>\n\n<pre><code>Map&lt;String,UsersDTO&gt; finalMap =\n        persons.entrySet().stream()\n                .collect(Collectors.toMap(Map.Entry::getValue, e-&gt; users.get(e.getKey())));\n</code></pre>\n\n<p>As suggested by Andreas, if the email doesn't have a match between the two maps, you could handle that case. For example by ignoring the entry : </p>\n\n<pre><code>Map&lt;String, UsersDTO&gt; finalMap =\n        persons.entrySet().stream()\n                .filter(e -&gt; users.containsKey(e.getKey()))\n                .collect(Collectors.toMap(Map.Entry::getValue, e -&gt; users.get(e.getKey())));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568317136,"creation_date":1568316734,"answer_id":57913415,"question_id":57913300,"body_markdown":"I think you mean something like so :\r\n\r\n    Map&lt;String, UsersDTO&gt; finalMap = users.entrySet().stream()\r\n            .collect(Collectors.toMap(user -&gt; persons.get(user.getKey()), Map.Entry::getValue));\r\n\r\n---\r\n\r\nHere is a simple [ideone demo][1] to the expected result.\r\n\r\n---\r\n\r\nAs commented by Andreas, you need another filter to make sure that each entry has a matching :\r\n\r\n    Map&lt;String, UsersDTO&gt; finalMap = users.entrySet().stream()\r\n            .filter(user -&gt; persons.containsKey(user.getKey()))\r\n            .collect(Collectors.toMap(user -&gt; persons.get(user.getKey()), Map.Entry::getValue));\r\n\r\n  [1]: http://www.ideone.com/8YNjDd","title":"How to filter two maps and make third map by using Lambda expression java 8","body":"<p>I think you mean something like so :</p>\n\n<pre><code>Map&lt;String, UsersDTO&gt; finalMap = users.entrySet().stream()\n        .collect(Collectors.toMap(user -&gt; persons.get(user.getKey()), Map.Entry::getValue));\n</code></pre>\n\n<hr>\n\n<p>Here is a simple <a href=\"http://www.ideone.com/8YNjDd\" rel=\"nofollow noreferrer\">ideone demo</a> to the expected result.</p>\n\n<hr>\n\n<p>As commented by Andreas, you need another filter to make sure that each entry has a matching :</p>\n\n<pre><code>Map&lt;String, UsersDTO&gt; finalMap = users.entrySet().stream()\n        .filter(user -&gt; persons.containsKey(user.getKey()))\n        .collect(Collectors.toMap(user -&gt; persons.get(user.getKey()), Map.Entry::getValue));\n</code></pre>\n"}],"owner":{"account_id":14371821,"reputation":413,"user_id":10381368,"display_name":"Srikanth Janapati"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":915,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57913380,"answer_count":2,"score":1,"last_activity_date":1670613831,"creation_date":1568316242,"question_id":57913300,"body_markdown":"```java\r\nMap&lt;String,String&gt; persons = new HashMap&lt;&gt;();\r\npersons.put(&quot;aaaa@testing&quot;,&quot;123456789&quot;);\r\npersons.put(&quot;bbbb@testing&quot;,&quot;987654321&quot;);\r\n\r\nMap&lt;String,UsersDTO&gt; users = new HashMap&lt;&gt;();\r\nusers.put(&quot;aaaa@testing&quot;, UsersDTO1);\r\nusers.put(&quot;bbbb@testing&quot;,UsersDTO2);\r\n\r\n//Below one is the my required final map by using above two maps by using java 8 Lambdas\r\nMap&lt;String,UsersDTO&gt; finalMap = new HashMap&lt;&gt;();\r\nfinalMap.put(&quot;123456789&quot;,UsersDTO1);\r\nfinalMap.put(&quot;987654321&quot;,UsersDTO2);\r\n```\r\n\r\nHow to make `finalMap` by using the two maps above? This type of question might be there but I want to give special focus on this so that&#39;s why I am posting it. How to make by using the lambda expressions?","title":"How to filter two maps and make third map by using Lambda expression java 8","body":"<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String,String&gt; persons = new HashMap&lt;&gt;();\npersons.put(&quot;aaaa@testing&quot;,&quot;123456789&quot;);\npersons.put(&quot;bbbb@testing&quot;,&quot;987654321&quot;);\n\nMap&lt;String,UsersDTO&gt; users = new HashMap&lt;&gt;();\nusers.put(&quot;aaaa@testing&quot;, UsersDTO1);\nusers.put(&quot;bbbb@testing&quot;,UsersDTO2);\n\n//Below one is the my required final map by using above two maps by using java 8 Lambdas\nMap&lt;String,UsersDTO&gt; finalMap = new HashMap&lt;&gt;();\nfinalMap.put(&quot;123456789&quot;,UsersDTO1);\nfinalMap.put(&quot;987654321&quot;,UsersDTO2);\n</code></pre>\n<p>How to make <code>finalMap</code> by using the two maps above? This type of question might be there but I want to give special focus on this so that's why I am posting it. How to make by using the lambda expressions?</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","crud","dynamodb-mapper"],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14475,"user_id":7909676,"display_name":"Leeroy Hannigan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670613781,"creation_date":1670613781,"answer_id":74747467,"question_id":74742605,"body_markdown":"I am going to take a random guess at this one, but I believe the issue is that you have an item (or several) which have stored a value for `timestamp` as a String, perhaps you inserted them into the table manually?\r\n\r\nNow when you read back those items in the `Scan`, DynamoDB Mapper is trying to marshall against your class, which states that `timestamp` should be a `Long`, however, the item is showing a `String`. \r\n\r\nMy suggestion is to take a look through your table to see if such an item exists, which is causing your `Scan` to fail. Another quick way to check is my setting `Limit` on the Scan to 1, and see if there are no exceptions (hopefully the first item isn&#39;t the broken one :-/ )","title":"DynamoDB not fetching all entries in case of two autogenerated attributes","body":"<p>I am going to take a random guess at this one, but I believe the issue is that you have an item (or several) which have stored a value for <code>timestamp</code> as a String, perhaps you inserted them into the table manually?</p>\n<p>Now when you read back those items in the <code>Scan</code>, DynamoDB Mapper is trying to marshall against your class, which states that <code>timestamp</code> should be a <code>Long</code>, however, the item is showing a <code>String</code>.</p>\n<p>My suggestion is to take a look through your table to see if such an item exists, which is causing your <code>Scan</code> to fail. Another quick way to check is my setting <code>Limit</code> on the Scan to 1, and see if there are no exceptions (hopefully the first item isn't the broken one :-/ )</p>\n"}],"owner":{"account_id":25398964,"reputation":95,"user_id":19208792,"display_name":"Gourav Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74747467,"answer_count":1,"score":0,"last_activity_date":1670613781,"creation_date":1670585896,"question_id":74742605,"body_markdown":"I have a crud application which uses DynamoDb, it has a model class containing two autogenerated attributes, one for primary key and another for timestamp.\r\nI am using `scan()` function of DynamoDbMapper to getAll entries from the db but getting below error.\r\n\r\n`com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMappingException: expected N in value {S: 2022-12-09T09:23:52.737Z,}`\r\n\r\n**Employee** \r\n```java\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@DynamoDBTable(tableName = &quot;employee&quot;)\r\npublic class Employee {\r\n\r\n    @DynamoDBHashKey\r\n    @DynamoDBAutoGeneratedKey\r\n    private String employeeId;\r\n\r\n    @DynamoDBAttribute\r\n    private String firstName;\r\n\r\n    @DynamoDBAttribute\r\n    private String lastName;\r\n\r\n    @DynamoDBAttribute\r\n    private String email;\r\n\r\n    @DynamoDBAttribute\r\n    private Department department;\r\n\r\n    @DynamoDBAutoGeneratedTimestamp(strategy = DynamoDBAutoGenerateStrategy.ALWAYS)\r\n    private Long timestamp;\r\n}\r\n\r\n```\r\n**DynamoDbConfiguration**\r\n```java\r\npackage com.dailycodebuffer.config;\r\n\r\nimport com.amazonaws.auth.AWSStaticCredentialsProvider;\r\nimport com.amazonaws.auth.BasicAWSCredentials;\r\nimport com.amazonaws.client.builder.AwsClientBuilder;\r\nimport com.amazonaws.services.dynamodbv2.AmazonDynamoDB;\r\nimport com.amazonaws.services.dynamodbv2.AmazonDynamoDBClientBuilder;\r\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\npublic class DynamoDbConfiguration {\r\n\r\n    @Bean\r\n    public DynamoDBMapper dynamoDBMapper() {\r\n        return new DynamoDBMapper(buildAmazonDynamoDB());\r\n    }\r\n\r\n    private AmazonDynamoDB buildAmazonDynamoDB() {\r\n        return AmazonDynamoDBClientBuilder\r\n                .standard()\r\n                .withEndpointConfiguration(\r\n                        new AwsClientBuilder.EndpointConfiguration(\r\n                                &quot;endpoint&quot;,\r\n                                &quot;region&quot;\r\n                        )\r\n                )\r\n                .withCredentials(\r\n                        new AWSStaticCredentialsProvider(\r\n                                new BasicAWSCredentials(\r\n                                        &quot;access_key&quot;,\r\n                                        &quot;secret_key&quot;\r\n                                )\r\n                        )\r\n                )\r\n                .build();\r\n    }\r\n\r\n}\r\n```\r\nMethod to getAll the entries\r\n```java\r\npublic List&lt;Employee&gt; getAllEmployees() {\r\n        return dynamoDBMapper.scan(Employee.class, new DynamoDBScanExpression());\r\n    }\r\n```\r\n**DynamoDb dependency :**\r\n```xml\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;aws-java-sdk-dynamodb&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.11.857&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\n***Note: If i remove the timestamp, getAll works perfectly fine.***\r\n\r\nI am new to DynamoDb, any help would be appreciated.\r\n\r\n\r\n\r\n","title":"DynamoDB not fetching all entries in case of two autogenerated attributes","body":"<p>I have a crud application which uses DynamoDb, it has a model class containing two autogenerated attributes, one for primary key and another for timestamp.\nI am using <code>scan()</code> function of DynamoDbMapper to getAll entries from the db but getting below error.</p>\n<p><code>com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMappingException: expected N in value {S: 2022-12-09T09:23:52.737Z,}</code></p>\n<p><strong>Employee</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@DynamoDBTable(tableName = &quot;employee&quot;)\npublic class Employee {\n\n    @DynamoDBHashKey\n    @DynamoDBAutoGeneratedKey\n    private String employeeId;\n\n    @DynamoDBAttribute\n    private String firstName;\n\n    @DynamoDBAttribute\n    private String lastName;\n\n    @DynamoDBAttribute\n    private String email;\n\n    @DynamoDBAttribute\n    private Department department;\n\n    @DynamoDBAutoGeneratedTimestamp(strategy = DynamoDBAutoGenerateStrategy.ALWAYS)\n    private Long timestamp;\n}\n\n</code></pre>\n<p><strong>DynamoDbConfiguration</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.dailycodebuffer.config;\n\nimport com.amazonaws.auth.AWSStaticCredentialsProvider;\nimport com.amazonaws.auth.BasicAWSCredentials;\nimport com.amazonaws.client.builder.AwsClientBuilder;\nimport com.amazonaws.services.dynamodbv2.AmazonDynamoDB;\nimport com.amazonaws.services.dynamodbv2.AmazonDynamoDBClientBuilder;\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class DynamoDbConfiguration {\n\n    @Bean\n    public DynamoDBMapper dynamoDBMapper() {\n        return new DynamoDBMapper(buildAmazonDynamoDB());\n    }\n\n    private AmazonDynamoDB buildAmazonDynamoDB() {\n        return AmazonDynamoDBClientBuilder\n                .standard()\n                .withEndpointConfiguration(\n                        new AwsClientBuilder.EndpointConfiguration(\n                                &quot;endpoint&quot;,\n                                &quot;region&quot;\n                        )\n                )\n                .withCredentials(\n                        new AWSStaticCredentialsProvider(\n                                new BasicAWSCredentials(\n                                        &quot;access_key&quot;,\n                                        &quot;secret_key&quot;\n                                )\n                        )\n                )\n                .build();\n    }\n\n}\n</code></pre>\n<p>Method to getAll the entries</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Employee&gt; getAllEmployees() {\n        return dynamoDBMapper.scan(Employee.class, new DynamoDBScanExpression());\n    }\n</code></pre>\n<p><strong>DynamoDb dependency :</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk-dynamodb&lt;/artifactId&gt;\n            &lt;version&gt;1.11.857&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p><em><strong>Note: If i remove the timestamp, getAll works perfectly fine.</strong></em></p>\n<p>I am new to DynamoDb, any help would be appreciated.</p>\n"},{"tags":["java","arrays","prepared-statement"],"answers":[{"tags":[],"owner":{"account_id":6361292,"reputation":668,"user_id":4936713,"display_name":"sudipta06"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433920545,"creation_date":1433920545,"answer_id":30749558,"question_id":30749388,"body_markdown":"Try something like this:\r\n\r\n    String course =&quot;SELECT * FROM courses where name = ?&quot;&quot;;\r\n    PreparedStatement stmt = con.prepareStatement(course);    \r\n    stmt.setString(1,&#39;your input here&#39;);","title":"How to use user input using @QueryParam in SQL Query array","body":"<p>Try something like this:</p>\n\n<pre><code>String course =\"SELECT * FROM courses where name = ?\"\";\nPreparedStatement stmt = con.prepareStatement(course);    \nstmt.setString(1,'your input here');\n</code></pre>\n"}],"owner":{"account_id":4698327,"reputation":347,"user_id":3802633,"accept_rate":25,"display_name":"user3802633"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":711,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670613270,"creation_date":1433920004,"question_id":30749388,"body_markdown":"I am really confused on how will I be able to make the where clause using @QueryParam. All I know is that @QueryParam is used to get the input of the user. I was not able to run it on my code. I have downloaded source code from codezone4 and make it as my trial. In this source code, I want the name to be from the user input. I know set parameter. But it is limited. How will I be able to put on the where clause the input of the user? Please I really need your help. :( here&#39;s the code I&#39;ve downloaded\r\n\r\nAccess.java\r\n  \r\n    package dao;\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.util.ArrayList;\r\n\r\n    import dto.Course;\r\n\r\n    public class Access\r\n    {\r\n\tpublic ArrayList&lt;Course&gt; getCourses(Connection con) throws SQLException\r\n\t{\r\n\t\tArrayList&lt;Course&gt; courseList = new ArrayList&lt;Course&gt;();\r\n\t\tPreparedStatement stmt = con.prepareStatement(&quot;SELECT * FROM courses where name = &#39;based on user&#39;s input&#39;&quot;); //here&#39;s what I want to know and clarify\r\n\t\tResultSet rs = stmt.executeQuery();\r\n\t\ttry\r\n\t\t{\r\n\t\t\twhile(rs.next())\r\n\t\t\t{\r\n\t\t\t\tCourse courseObj = new Course();\r\n\t\t\t\tcourseObj.setId(rs.getInt(&quot;id&quot;));\r\n\t\t\t\tcourseObj.setName(rs.getString(&quot;name&quot;));\r\n\t\t\t\tcourseObj.setDuration(rs.getString(&quot;duration&quot;));\r\n\t\t\t\tcourseObj.setFee(rs.getDouble(&quot;fee&quot;));\r\n\t\t\t\tcourseList.add(courseObj);\r\n\t\t\t}\r\n\t\t} catch (SQLException e)\r\n\t\t{\t\t\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn courseList;\r\n\t\t\r\n\t}\r\n    }\r\n\r\n\r\nDatabase.java\r\n\r\n    package dao;\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n\r\n    public class Database\r\n    {\r\n\tpublic Connection getConnection() throws Exception\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tString connectionURL = &quot;jdbc:mysql://localhost:3306/codezone4&quot;;\r\n\t\t\tConnection connection = null;\r\n\t\t\tClass.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();\r\n\t\t\tconnection = DriverManager.getConnection(connectionURL, &quot;root&quot;, &quot;&quot;);\r\n\t\t\treturn connection;\r\n\t\t} catch (Exception e)\r\n\t\t{\r\n\t\t\tthrow e;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n    } \r\n\r\n\r\nCourse.java\r\n\r\n    package dto;\r\n\r\n    public class Course\r\n    {\r\n\tprivate int id;\r\n\tprivate String name;\r\n\tprivate String duration;\r\n\tprivate double fee;\r\n\r\n\tpublic Course()\r\n\t{\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic Course(int id, String name, String duration, double fee)\r\n\t{\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t\tthis.duration = duration;\r\n\t\tthis.fee = fee;\r\n\t}\r\n\r\n\tpublic int getId()\r\n\t{\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(int id)\r\n\t{\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getName()\r\n\t{\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name)\r\n\t{\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic String getDuration()\r\n\t{\r\n\t\treturn duration;\r\n\t}\r\n\r\n\tpublic void setDuration(String duration)\r\n\t{\r\n\t\tthis.duration = duration;\r\n\t}\r\n\r\n\tpublic double getFee()\r\n\t{\r\n\t\treturn fee;\r\n\t}\r\n\r\n\tpublic void setFee(double fee)\r\n\t{\r\n\t\tthis.fee = fee;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString()\r\n\t{\r\n\t\treturn &quot;Course [id=&quot; + id + &quot;, name=&quot; + name + &quot;, duration=&quot; + duration\r\n\t\t\t\t+ &quot;, fee=&quot; + fee + &quot;]&quot;;\r\n\t}\r\n\r\n    }\r\n\r\n\r\nAccessManager.java\r\n\r\n    package model;\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.SQLException;\r\n    import java.util.ArrayList;\r\n\r\n    import dao.Access;\r\n    import dao.Database;\r\n    import dto.Course;\r\n\r\n    public class AccessManager\r\n    {\r\n\tpublic ArrayList&lt;Course&gt; getCourses() throws Exception\r\n\t{\r\n\t\tArrayList&lt;Course&gt; courseList = new ArrayList&lt;Course&gt;();\r\n\t\tDatabase db = new Database();\r\n\t\tConnection con = db.getConnection();\r\n\t\tAccess access = new Access();\r\n\t\tcourseList = access.getCourses(con);\r\n\t\treturn courseList;\r\n\t}\r\n    }\r\n\r\n\r\nCourseService.java\r\nI this is where the @QueryParam should be used. I&#39;ve tried using it\r\n\r\n    package webService;\r\n\r\n    import java.util.ArrayList;\r\n\r\n    import javax.ws.rs.GET;\r\n    import javax.ws.rs.Path;\r\n    import javax.ws.rs.Produces;\r\n    import javax.ws.rs.QueryParam;\r\n\r\n    import com.google.gson.Gson;\r\n\r\n    import model.AccessManager;\r\n\r\n    import dto.Course;\r\n\r\n    @Path(&quot;/courseService&quot;)\r\n    public class CourseService\r\n    {\r\n\t@GET\r\n\t@Path(&quot;/coursess&quot;)\r\n\t@Produces(&quot;application/json&quot;)\r\n\tpublic String coursess(@QueryParam(&quot;puta&quot;) String courses)\r\n\t{\r\n\t\t\r\n\t\tArrayList&lt;Course&gt; courseList = new ArrayList&lt;Course&gt;();\r\n\t\ttry\r\n\t\t{\r\n\t\t\tcourseList = new AccessManager().getCourses();\r\n\t\t\tGson gson = new Gson();\r\n\t\t\tcourses = gson.toJson(courseList);\r\n\t\t} catch (Exception e)\r\n\t\t{\r\n\t\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn courses;\r\n\t}\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to use user input using @QueryParam in SQL Query array","body":"<p>I am really confused on how will I be able to make the where clause using @QueryParam. All I know is that @QueryParam is used to get the input of the user. I was not able to run it on my code. I have downloaded source code from codezone4 and make it as my trial. In this source code, I want the name to be from the user input. I know set parameter. But it is limited. How will I be able to put on the where clause the input of the user? Please I really need your help. :( here's the code I've downloaded</p>\n\n<p>Access.java</p>\n\n<pre><code>package dao;\n\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\n\nimport dto.Course;\n\npublic class Access\n{\npublic ArrayList&lt;Course&gt; getCourses(Connection con) throws SQLException\n{\n    ArrayList&lt;Course&gt; courseList = new ArrayList&lt;Course&gt;();\n    PreparedStatement stmt = con.prepareStatement(\"SELECT * FROM courses where name = 'based on user's input'\"); //here's what I want to know and clarify\n    ResultSet rs = stmt.executeQuery();\n    try\n    {\n        while(rs.next())\n        {\n            Course courseObj = new Course();\n            courseObj.setId(rs.getInt(\"id\"));\n            courseObj.setName(rs.getString(\"name\"));\n            courseObj.setDuration(rs.getString(\"duration\"));\n            courseObj.setFee(rs.getDouble(\"fee\"));\n            courseList.add(courseObj);\n        }\n    } catch (SQLException e)\n    {       \n        e.printStackTrace();\n    }\n    return courseList;\n\n}\n}\n</code></pre>\n\n<p>Database.java</p>\n\n<pre><code>package dao;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\n\npublic class Database\n{\npublic Connection getConnection() throws Exception\n{\n    try\n    {\n        String connectionURL = \"jdbc:mysql://localhost:3306/codezone4\";\n        Connection connection = null;\n        Class.forName(\"com.mysql.jdbc.Driver\").newInstance();\n        connection = DriverManager.getConnection(connectionURL, \"root\", \"\");\n        return connection;\n    } catch (Exception e)\n    {\n        throw e;\n    }\n\n}\n\n} \n</code></pre>\n\n<p>Course.java</p>\n\n<pre><code>package dto;\n\npublic class Course\n{\nprivate int id;\nprivate String name;\nprivate String duration;\nprivate double fee;\n\npublic Course()\n{\n\n}\n\npublic Course(int id, String name, String duration, double fee)\n{\n    super();\n    this.id = id;\n    this.name = name;\n    this.duration = duration;\n    this.fee = fee;\n}\n\npublic int getId()\n{\n    return id;\n}\n\npublic void setId(int id)\n{\n    this.id = id;\n}\n\npublic String getName()\n{\n    return name;\n}\n\npublic void setName(String name)\n{\n    this.name = name;\n}\n\npublic String getDuration()\n{\n    return duration;\n}\n\npublic void setDuration(String duration)\n{\n    this.duration = duration;\n}\n\npublic double getFee()\n{\n    return fee;\n}\n\npublic void setFee(double fee)\n{\n    this.fee = fee;\n}\n\n@Override\npublic String toString()\n{\n    return \"Course [id=\" + id + \", name=\" + name + \", duration=\" + duration\n            + \", fee=\" + fee + \"]\";\n}\n\n}\n</code></pre>\n\n<p>AccessManager.java</p>\n\n<pre><code>package model;\n\nimport java.sql.Connection;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\n\nimport dao.Access;\nimport dao.Database;\nimport dto.Course;\n\npublic class AccessManager\n{\npublic ArrayList&lt;Course&gt; getCourses() throws Exception\n{\n    ArrayList&lt;Course&gt; courseList = new ArrayList&lt;Course&gt;();\n    Database db = new Database();\n    Connection con = db.getConnection();\n    Access access = new Access();\n    courseList = access.getCourses(con);\n    return courseList;\n}\n}\n</code></pre>\n\n<p>CourseService.java\nI this is where the @QueryParam should be used. I've tried using it</p>\n\n<pre><code>package webService;\n\nimport java.util.ArrayList;\n\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.QueryParam;\n\nimport com.google.gson.Gson;\n\nimport model.AccessManager;\n\nimport dto.Course;\n\n@Path(\"/courseService\")\npublic class CourseService\n{\n@GET\n@Path(\"/coursess\")\n@Produces(\"application/json\")\npublic String coursess(@QueryParam(\"puta\") String courses)\n{\n\n    ArrayList&lt;Course&gt; courseList = new ArrayList&lt;Course&gt;();\n    try\n    {\n        courseList = new AccessManager().getCourses();\n        Gson gson = new Gson();\n        courses = gson.toJson(courseList);\n    } catch (Exception e)\n    {\n            e.printStackTrace();\n    }\n    return courses;\n}\n}\n</code></pre>\n"},{"tags":["java","arrays","web-services"],"answers":[{"tags":[],"owner":{"account_id":6349182,"reputation":3625,"user_id":4928801,"accept_rate":71,"display_name":"Gaurav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433845816,"creation_date":1433845816,"answer_id":30729496,"question_id":30727704,"body_markdown":"@QueryParam is annotation used in rest webservices .\r\nAnd i think here you want to use parameter with your SQL query.\r\n\r\nSo using parameter in PreparedStatement use following code\r\n\r\n\r\n   \r\n\r\n         public class DisplayArrayConnection\r\n             {\r\n        \r\n            public ArrayList&lt;Objects&gt; getDetails(Connection con,String taxiNumber) throws SQLException{\r\n            ArrayList&lt;Objects&gt; taxiDetailsList = new ArrayList&lt;Objects&gt;();\r\n            PreparedStatement stmt = con.prepareStatement(&quot;SELECT * FROM taxi WHERE taxi_plate_no= ?&quot;); \r\n    stmt.addString(1,taxiNumber);\r\n            ResultSet rs = stmt.executeQuery();\r\n            try\r\n            {\r\n                while(rs.next())\r\n                {\r\n                    Objects detailsObject = new Objects();\r\n                    detailsObject.setTaxi_name(rs.getString(&quot;taxi_name&quot;));\r\n                    detailsObject.setTaxi_plate_no(rs.getString(&quot;taxi_plate_no&quot;));\r\n        \r\n                    taxiDetailsList.add(detailsObject);\r\n        \r\n                }\r\n            } catch (SQLException e)\r\n            {       \r\n                e.printStackTrace();\r\n            }\r\n            return taxiDetailsList;\r\n            }\r\n        \r\n        }\r\n\r\n&gt; Note: Use parameter taxiNumber or any other parameter you want to\r\n&gt; retrive data on that parameter\r\n&gt; \r\n&gt; and use setString(position,value); to replace ? with that parameter","title":"How to use @queryparam when using array in Java","body":"<p>@QueryParam is annotation used in rest webservices .\nAnd i think here you want to use parameter with your SQL query.</p>\n\n<p>So using parameter in PreparedStatement use following code</p>\n\n<pre><code>     public class DisplayArrayConnection\n         {\n\n        public ArrayList&lt;Objects&gt; getDetails(Connection con,String taxiNumber) throws SQLException{\n        ArrayList&lt;Objects&gt; taxiDetailsList = new ArrayList&lt;Objects&gt;();\n        PreparedStatement stmt = con.prepareStatement(\"SELECT * FROM taxi WHERE taxi_plate_no= ?\"); \nstmt.addString(1,taxiNumber);\n        ResultSet rs = stmt.executeQuery();\n        try\n        {\n            while(rs.next())\n            {\n                Objects detailsObject = new Objects();\n                detailsObject.setTaxi_name(rs.getString(\"taxi_name\"));\n                detailsObject.setTaxi_plate_no(rs.getString(\"taxi_plate_no\"));\n\n                taxiDetailsList.add(detailsObject);\n\n            }\n        } catch (SQLException e)\n        {       \n            e.printStackTrace();\n        }\n        return taxiDetailsList;\n        }\n\n    }\n</code></pre>\n\n<blockquote>\n  <p>Note: Use parameter taxiNumber or any other parameter you want to\n  retrive data on that parameter</p>\n  \n  <p>and use setString(position,value); to replace ? with that parameter</p>\n</blockquote>\n"}],"owner":{"account_id":4698327,"reputation":347,"user_id":3802633,"accept_rate":25,"display_name":"user3802633"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1336,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670613156,"creation_date":1433841010,"question_id":30727704,"body_markdown":"I am using a restful web service and I was able to display database records using an array. But I am confused on how will I be able to display my desired record. I have here the class where the SQL query is being executed. I am using Advanced Rest Client google chrome application in testing the response and the output. How will I be able to query &#39;select * from taxi where taxi_plate_no=&#39;inputted data&#39;&#39;? I am really confused on how will I be able to do it in an array. Please help me. Thank you! :(\r\n\r\n\r\n  \r\n\r\n    import java.sql.Connection;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    import java.util.ArrayList;\r\n\r\n    import javax.ws.rs.QueryParam;\r\n\r\n    import com.taxisafe.objects.Objects;\r\n\r\n\r\n    public class DisplayArrayConnection\r\n    {\r\n\t\r\n\r\n\t\tpublic ArrayList&lt;Objects&gt; getDetails(Connection con) throws SQLException{\r\n\t\tArrayList&lt;Objects&gt; taxiDetailsList = new ArrayList&lt;Objects&gt;();\r\n\t\tPreparedStatement stmt = con.prepareStatement(&quot;SELECT * FROM taxi&quot;);\r\n\t\tResultSet rs = stmt.executeQuery();\r\n\t\ttry\r\n\t\t{\r\n\t\t\twhile(rs.next())\r\n\t\t\t{\r\n\t\t\t\tObjects detailsObject = new Objects();\r\n\t\t\t\tdetailsObject.setTaxi_name(rs.getString(&quot;taxi_name&quot;));\r\n\t\t\t\tdetailsObject.setTaxi_plate_no(rs.getString(&quot;taxi_plate_no&quot;));\r\n\t\t\t\t\t\r\n\t\t\t\ttaxiDetailsList.add(detailsObject);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t} catch (SQLException e)\r\n\t\t{\t\t\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn taxiDetailsList;\r\n\t\t}\r\n\t}\r\n","title":"How to use @queryparam when using array in Java","body":"<p>I am using a restful web service and I was able to display database records using an array. But I am confused on how will I be able to display my desired record. I have here the class where the SQL query is being executed. I am using Advanced Rest Client google chrome application in testing the response and the output. How will I be able to query 'select * from taxi where taxi_plate_no='inputted data''? I am really confused on how will I be able to do it in an array. Please help me. Thank you! :(</p>\n\n<pre><code>import java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.util.ArrayList;\n\nimport javax.ws.rs.QueryParam;\n\nimport com.taxisafe.objects.Objects;\n\n\npublic class DisplayArrayConnection\n{\n\n\n    public ArrayList&lt;Objects&gt; getDetails(Connection con) throws SQLException{\n    ArrayList&lt;Objects&gt; taxiDetailsList = new ArrayList&lt;Objects&gt;();\n    PreparedStatement stmt = con.prepareStatement(\"SELECT * FROM taxi\");\n    ResultSet rs = stmt.executeQuery();\n    try\n    {\n        while(rs.next())\n        {\n            Objects detailsObject = new Objects();\n            detailsObject.setTaxi_name(rs.getString(\"taxi_name\"));\n            detailsObject.setTaxi_plate_no(rs.getString(\"taxi_plate_no\"));\n\n            taxiDetailsList.add(detailsObject);\n\n        }\n    } catch (SQLException e)\n    {       \n        e.printStackTrace();\n    }\n    return taxiDetailsList;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"display_name":"user6490462"},"score":0,"creation_date":1508783930,"post_id":46896112,"comment_id":80739627,"body_markdown":"If i understand you correctly, you may have to cancel the request you start in `onStop` or `onPause` .","body":"If i understand you correctly, you may have to cancel the request you start in <code>onStop</code> or <code>onPause</code> ."},{"owner":{"account_id":7512762,"reputation":1553,"user_id":5707212,"display_name":"Dmitri Borohhov"},"score":0,"creation_date":1508785112,"post_id":46896112,"comment_id":80740292,"body_markdown":"Not really. I added some code to illustrate.","body":"Not really. I added some code to illustrate."},{"owner":{"account_id":1541213,"reputation":1526,"user_id":2489403,"display_name":"amrro"},"score":0,"creation_date":1508786484,"post_id":46896112,"comment_id":80741036,"body_markdown":"You could use `EventListener` and implement it with some custom class, and trigger what you want with `onEvent()`","body":"You could use <code>EventListener</code> and implement it with some custom class, and trigger what you want with <code>onEvent()</code>"},{"owner":{"account_id":7512762,"reputation":1553,"user_id":5707212,"display_name":"Dmitri Borohhov"},"score":0,"creation_date":1508831715,"post_id":46896112,"comment_id":80756773,"body_markdown":"EventListener will tringger an asyncronous operation, I am specifically asking if there is any way to avoid that.","body":"EventListener will tringger an asyncronous operation, I am specifically asking if there is any way to avoid that."}],"answers":[{"tags":[],"owner":{"account_id":18367,"reputation":1449,"user_id":42037,"display_name":"Dutch Masters"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1509385460,"creation_date":1509384557,"answer_id":47021042,"question_id":46896112,"body_markdown":"You can synchronously load data, because a `DocumentReference.get()` returns a `Task`.\r\nSo you can just wait on that task. \r\n\r\nIf I do something like:\r\n\r\n        val task: Task&lt;DocumentSnapshot&gt; = docRef.get()\r\n\r\nthen I can wait for it to complete by doing \r\n\r\n    val snap: DocumentSnapshot = Tasks.await(task)\r\n\r\nThis is useful when piplining other operations together after the get() with continuations which may take a little while:\r\n\r\n\r\n val task: Task&lt;DocumentSnapshot&gt; = docRef.get().continueWith(executor, continuation)\r\n\r\nAbove, I am running a continuation on a separate executor, and I can wait for it all to complete with `Tasks.await(task)`.\r\n\r\nSee [https://developers.google.com/android/guides/tasks][1]\r\n\r\nNote: You can&#39;t call Tasks.await() on your main thread. The Tasks API specifically checks for this condition and will throw an exception.\r\n\r\nThere is another way to run synchronously, using transactions.\r\nSee [this question.][2]\r\n\r\n\r\n  [1]: https://developers.google.com/android/guides/tasks\r\n  [2]: https://stackoverflow.com/questions/46634746/firestore-runtransaction-and-offline-work","title":"Firebase Firestore retrieve data Synchronously/without callbacks","body":"<p>You can synchronously load data, because a <code>DocumentReference.get()</code> returns a <code>Task</code>.\nSo you can just wait on that task. </p>\n\n<p>If I do something like:</p>\n\n<pre><code>    val task: Task&lt;DocumentSnapshot&gt; = docRef.get()\n</code></pre>\n\n<p>then I can wait for it to complete by doing </p>\n\n<pre><code>val snap: DocumentSnapshot = Tasks.await(task)\n</code></pre>\n\n<p>This is useful when piplining other operations together after the get() with continuations which may take a little while:</p>\n\n<p>val task: Task = docRef.get().continueWith(executor, continuation)</p>\n\n<p>Above, I am running a continuation on a separate executor, and I can wait for it all to complete with <code>Tasks.await(task)</code>.</p>\n\n<p>See <a href=\"https://developers.google.com/android/guides/tasks\" rel=\"noreferrer\">https://developers.google.com/android/guides/tasks</a></p>\n\n<p>Note: You can't call Tasks.await() on your main thread. The Tasks API specifically checks for this condition and will throw an exception.</p>\n\n<p>There is another way to run synchronously, using transactions.\nSee <a href=\"https://stackoverflow.com/questions/46634746/firestore-runtransaction-and-offline-work\">this question.</a></p>\n"},{"tags":[],"owner":{"account_id":4442210,"reputation":5,"user_id":3616506,"display_name":"GN Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527166271,"creation_date":1527165730,"answer_id":50509775,"question_id":46896112,"body_markdown":"Your can do something like this on the **main thread**...\r\n\r\n\r\n    YourObject yourObject = (YourObject)new RunInBackground().\r\n                              execute(&quot;someCollection&quot;,&quot;someDocument&quot;).get()\r\n\r\nAnd the **background thread** is...\r\n\r\n    public class RunInBackground extends AsyncTask {\r\n\r\n      @Override\r\n      protected Object doInBackground(Object[] objects) {\r\n        \r\n        Task&lt;DocumentSnapshot&gt; documentSnapshotTask = FirebaseFirestore.getInstance().\r\n                 collection((String) objects[0]).document((String) objects[1]).get();\r\n        \r\n        YourObject obj=null;\r\n\r\n        try {\r\n            DocumentSnapshot documentSnapshot = Tasks.await(documentSnapshotTask);\r\n\r\n            obj = new YourObject();\r\n            obj.setter(documentSnapshot.get(&quot;your field&quot;));\r\n\r\n        } catch (ExecutionException e) {\r\n            e.printStackTrace();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return obj;\r\n      }\r\n    }","title":"Firebase Firestore retrieve data Synchronously/without callbacks","body":"<p>Your can do something like this on the <strong>main thread</strong>...</p>\n\n<pre><code>YourObject yourObject = (YourObject)new RunInBackground().\n                          execute(\"someCollection\",\"someDocument\").get()\n</code></pre>\n\n<p>And the <strong>background thread</strong> is...</p>\n\n<pre><code>public class RunInBackground extends AsyncTask {\n\n  @Override\n  protected Object doInBackground(Object[] objects) {\n\n    Task&lt;DocumentSnapshot&gt; documentSnapshotTask = FirebaseFirestore.getInstance().\n             collection((String) objects[0]).document((String) objects[1]).get();\n\n    YourObject obj=null;\n\n    try {\n        DocumentSnapshot documentSnapshot = Tasks.await(documentSnapshotTask);\n\n        obj = new YourObject();\n        obj.setter(documentSnapshot.get(\"your field\"));\n\n    } catch (ExecutionException e) {\n        e.printStackTrace();\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n\n    return obj;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10038794,"reputation":802,"user_id":8229399,"display_name":"philoopher97"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670613154,"creation_date":1670601140,"answer_id":74745383,"question_id":46896112,"body_markdown":"If you are using Kotlin, add an extension function:\r\n\r\n```kotlin\r\nprivate suspend fun &lt;TResult&gt; Task&lt;TResult&gt;.await(): TResult? {\r\n   return try {\r\n       Tasks.await(this)\r\n   } catch (e: Exception) {\r\n       null\r\n   }\r\n}\r\n```\r\n\r\nNow you can do\r\n```kotlin\r\nval snapshot = fireStore.collection(USER_ROOT_PATH).document(documentPath)?.get()?.await()\r\n```","title":"Firebase Firestore retrieve data Synchronously/without callbacks","body":"<p>If you are using Kotlin, add an extension function:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private suspend fun &lt;TResult&gt; Task&lt;TResult&gt;.await(): TResult? {\n   return try {\n       Tasks.await(this)\n   } catch (e: Exception) {\n       null\n   }\n}\n</code></pre>\n<p>Now you can do</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val snapshot = fireStore.collection(USER_ROOT_PATH).document(documentPath)?.get()?.await()\n</code></pre>\n"}],"owner":{"account_id":7512762,"reputation":1553,"user_id":5707212,"display_name":"Dmitri Borohhov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11361,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":47021042,"answer_count":3,"score":16,"last_activity_date":1670613154,"creation_date":1508783291,"question_id":46896112,"body_markdown":"I am using Cloud Firestore in a separate thread in my Android app, so I don&#39;t want to use listeners `OnSuccessListener` and `OnFailureListener` to run in yet another thread. Can I just make my thread wait for the result (and catch any exceptions if needed)?\r\n\r\nCurrently the code for querying is something like this:\r\n\r\n    FirebaseFirestore.getInstance().collection(&quot;someCollection&quot;).get().addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n        @Override\r\n        public void onSuccess(QuerySnapshot documentSnapshots) {\r\n             // do something on the UI thread with the retrieved data\r\n             }\r\n        });\r\n\r\nWhat I&#39;d like to have:\r\n\r\n    FirebaseFirestore.getInstance().collection(&quot;someCollection&quot;).getAndWaitForResult();\r\n    //Block the thread and wait for result, no callbacks. \r\n    //getAndWaitForResult() is not a real function, just something to describe my intention.\r\n\r\nI used to work with Parse Server before, and it was quite trivial there.\r\n","title":"Firebase Firestore retrieve data Synchronously/without callbacks","body":"<p>I am using Cloud Firestore in a separate thread in my Android app, so I don't want to use listeners <code>OnSuccessListener</code> and <code>OnFailureListener</code> to run in yet another thread. Can I just make my thread wait for the result (and catch any exceptions if needed)?</p>\n\n<p>Currently the code for querying is something like this:</p>\n\n<pre><code>FirebaseFirestore.getInstance().collection(\"someCollection\").get().addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n    @Override\n    public void onSuccess(QuerySnapshot documentSnapshots) {\n         // do something on the UI thread with the retrieved data\n         }\n    });\n</code></pre>\n\n<p>What I'd like to have:</p>\n\n<pre><code>FirebaseFirestore.getInstance().collection(\"someCollection\").getAndWaitForResult();\n//Block the thread and wait for result, no callbacks. \n//getAndWaitForResult() is not a real function, just something to describe my intention.\n</code></pre>\n\n<p>I used to work with Parse Server before, and it was quite trivial there.</p>\n"},{"tags":["java","selenium-webdriver","page-factory"],"owner":{"account_id":26488734,"reputation":1,"user_id":20126885,"display_name":"JH DR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":865,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670612805,"creation_date":1665125588,"question_id":73983444,"body_markdown":"Help I don&#39;t know what is wrong with my code\r\n\r\n**Displayed Error**\r\n\r\n```\r\nFAILED: test.RegistrationForUserAccount.RegisterUser\r\njava.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.SearchContext.findElement(org.openqa.selenium.By)&quot; because &quot;this.searchContext&quot; is null\r\n```\r\n\r\n\r\n```\r\npublic class BrowserStartAndLandSite {\r\n\t\r\n\tpublic static WebDriver driver;\r\n\t\r\n\tpublic WebDriver StartBrowserWithSite() throws IOException {\r\n\t\t\r\n\t\tProperties obj = new Properties();\r\n\t\tFileInputStream objfile = new FileInputStream(System.getProperty(&quot;user.dir&quot;)+&quot;\\\\src\\\\main\\\\java\\\\resources\\\\browser.properties&quot;);\r\n\t\tobj.load(objfile);\r\n\t\tString browser = obj.getProperty(&quot;browser_name&quot;);\r\n\t\tString url = obj.getProperty(&quot;urlOfSite&quot;);\r\n\t\t\r\n\t\tif(browser.equalsIgnoreCase(&quot;chrome&quot;)) {\r\n\t\t\tWebDriverManager.chromedriver().setup();\r\n\t\t\tdriver = new ChromeDriver();\r\n\t\t\tdriver.get(url);\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\telse if(browser.equalsIgnoreCase(&quot;firefox&quot;)) {\r\n\t\t\tWebDriverManager.firefoxdriver().setup();\r\n\t\t\tdriver = new FirefoxDriver();\r\n\t\t\tdriver.get(url);\r\n\t\t}\r\n\t\t\r\n\t\telse if(browser.equalsIgnoreCase(&quot;edge&quot;)) {\r\n\t\t\tWebDriverManager.edgedriver().setup();\r\n\t\t\tdriver = new EdgeDriver();\r\n\t\t\tdriver.get(url);\r\n\t\t}\r\n\t\t\r\n\t\treturn driver;\r\n\t}\r\n\r\n}\r\n\r\n\r\n\r\npublic class LandingSite {\r\n\t\r\n\tWebDriver driver;\r\n\t\r\n\tpublic LandingSite(WebDriver driver) {\r\n\t\tthis.driver = driver;\r\n\t\tPageFactory.initElements(driver, this);\r\n\t}\r\n\t\r\n\t@FindBy(xpath=&quot;//a[@class=&#39;login&#39;]&quot;)\r\n\tWebElement signInButton;\r\n\t\r\n\t\r\n\tpublic void ClickSignIn() {\r\n\t\tsignInButton.click();\r\n\t}\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\npublic class RegistrationForUserAccount extends BrowserStartAndLandSite {\r\n\t\r\n\t@Test\r\n\tpublic void RegisterUser() throws IOException {\r\n\t\t\r\n\t\t\r\n\t\tLandingSite ls = new LandingSite(driver);\r\n\t\tls.ClickSignIn();\r\n\t}\r\n\r\n}\r\n```","title":"java.lang.NullPointerException: Cannot invoke&quot;org.openqa.selenium.SearchContext.findElement(org.openqa.selenium.By)&quot;because&quot;this.searchContext&quot;is null","body":"<p>Help I don't know what is wrong with my code</p>\n<p><strong>Displayed Error</strong></p>\n<pre><code>FAILED: test.RegistrationForUserAccount.RegisterUser\njava.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.SearchContext.findElement(org.openqa.selenium.By)&quot; because &quot;this.searchContext&quot; is null\n</code></pre>\n<pre><code>public class BrowserStartAndLandSite {\n    \n    public static WebDriver driver;\n    \n    public WebDriver StartBrowserWithSite() throws IOException {\n        \n        Properties obj = new Properties();\n        FileInputStream objfile = new FileInputStream(System.getProperty(&quot;user.dir&quot;)+&quot;\\\\src\\\\main\\\\java\\\\resources\\\\browser.properties&quot;);\n        obj.load(objfile);\n        String browser = obj.getProperty(&quot;browser_name&quot;);\n        String url = obj.getProperty(&quot;urlOfSite&quot;);\n        \n        if(browser.equalsIgnoreCase(&quot;chrome&quot;)) {\n            WebDriverManager.chromedriver().setup();\n            driver = new ChromeDriver();\n            driver.get(url);\n        }\n        \n        \n        else if(browser.equalsIgnoreCase(&quot;firefox&quot;)) {\n            WebDriverManager.firefoxdriver().setup();\n            driver = new FirefoxDriver();\n            driver.get(url);\n        }\n        \n        else if(browser.equalsIgnoreCase(&quot;edge&quot;)) {\n            WebDriverManager.edgedriver().setup();\n            driver = new EdgeDriver();\n            driver.get(url);\n        }\n        \n        return driver;\n    }\n\n}\n\n\n\npublic class LandingSite {\n    \n    WebDriver driver;\n    \n    public LandingSite(WebDriver driver) {\n        this.driver = driver;\n        PageFactory.initElements(driver, this);\n    }\n    \n    @FindBy(xpath=&quot;//a[@class='login']&quot;)\n    WebElement signInButton;\n    \n    \n    public void ClickSignIn() {\n        signInButton.click();\n    }\n\n}\n\n\n\n\n\npublic class RegistrationForUserAccount extends BrowserStartAndLandSite {\n    \n    @Test\n    public void RegisterUser() throws IOException {\n        \n        \n        LandingSite ls = new LandingSite(driver);\n        ls.ClickSignIn();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","python","arrays"],"comments":[{"owner":{"account_id":8415,"reputation":41343,"user_id":15154,"accept_rate":88,"display_name":"John Fouhy"},"score":0,"creation_date":1233707567,"post_id":508657,"comment_id":323858,"body_markdown":"Incidentally, you can get floating point infinity in python as `float(&#39;inf&#39;)`.  It behaves more-or-less as you would expect – most operations just give you inf, and a few give you nan.","body":"Incidentally, you can get floating point infinity in python as <code>float(&#39;inf&#39;)</code>.  It behaves more-or-less as you would expect – most operations just give you inf, and a few give you nan."},{"owner":{"account_id":11975,"reputation":1033812,"user_id":23354,"accept_rate":100,"display_name":"Marc Gravell"},"score":0,"creation_date":1259238147,"post_id":508657,"comment_id":1691505,"body_markdown":"(merged with an earlier question; kept this as the master as a: the OP still exists, b: the question is better-phrased, and c: to avoid lots of necromancers)","body":"(merged with an earlier question; kept this as the master as a: the OP still exists, b: the question is better-phrased, and c: to avoid lots of necromancers)"}],"answers":[{"tags":[],"owner":{"account_id":4350,"reputation":84002,"user_id":6491,"display_name":"gimel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1670612494,"creation_date":1225777679,"answer_id":261008,"question_id":508657,"body_markdown":"For numeric data, [Numpy Arrays][1]:\r\n\r\n    &gt;&gt;&gt; matrix1 = array(([0,1],[1,3]))\r\n    &gt;&gt;&gt; print matrix1\r\n    [[0 1]\r\n    [1 3]]\r\n\r\nFor general data (e.g. strings), you can use a list of lists, list of tuples, ...\r\n\r\n    matrix2 = [[&#39;a&#39;,&#39;b&#39;], [&#39;x&#39;,&#39;y&#39;]]\r\n\r\n  [1]: https://numpy.org/","title":"Multidimensional array in Python","body":"<p>For numeric data, <a href=\"https://numpy.org/\" rel=\"nofollow noreferrer\">Numpy Arrays</a>:</p>\n<pre><code>&gt;&gt;&gt; matrix1 = array(([0,1],[1,3]))\n&gt;&gt;&gt; print matrix1\n[[0 1]\n[1 3]]\n</code></pre>\n<p>For general data (e.g. strings), you can use a list of lists, list of tuples, ...</p>\n<pre><code>matrix2 = [['a','b'], ['x','y']]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1597,"reputation":107406,"user_id":2140,"accept_rate":81,"display_name":"Barry Wark"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1670612496,"creation_date":1225780670,"answer_id":261084,"question_id":508657,"body_markdown":"If you restrict yourself to the Python standard library, then a list of lists is the closest construct:\r\n\r\n    arr = [[1,2],[3,4]]\r\n\r\ngives a 2d-like array. The rows can be accessed as `arr[i]` for `i` in `{0,..,len(arr}`, but column access is difficult.\r\n\r\nIf you are willing to add a library dependency, the [NumPy][1] package is what you really want. You can create a fixed-length array from a list of lists using:\r\n\r\n    import numpy\r\n    arr = numpy.array([[1,2],[3,4]])\r\n\r\nColumn access is the same as for the list-of-lists, but column access is easy: `arr[:,i]` for `i` in `{0,..,arr.shape[1]}` (the number of columns).\r\n\r\nIn fact NumPy arrays can be n-dimensional.\r\n\r\nEmpty arrays can be created with\r\n   \r\n\r\n    numpy.empty(shape)\r\n\r\nwhere `shape` is a tuple of size in each dimension; `shape=(1,3,2)` gives a 3-d array with size 1 in the first dimension, size 3 in the second dimension and 2 in the 3rd dimension.\r\n\r\nIf you want to store objects in a NumPy array, you can do that as well:\r\n\r\n  \r\n\r\n     arr = numpy.empty((1,), dtype=numpy.object)\r\n     arr[0] = &#39;abc&#39;\r\n\r\nFor more info on the NumPy project, check out the [NumPy homepage][2].\r\n\r\n\r\n  [1]: https://numpy.org\r\n  [2]: https://numpy.org","title":"Multidimensional array in Python","body":"<p>If you restrict yourself to the Python standard library, then a list of lists is the closest construct:</p>\n<pre><code>arr = [[1,2],[3,4]]\n</code></pre>\n<p>gives a 2d-like array. The rows can be accessed as <code>arr[i]</code> for <code>i</code> in <code>{0,..,len(arr}</code>, but column access is difficult.</p>\n<p>If you are willing to add a library dependency, the <a href=\"https://numpy.org\" rel=\"nofollow noreferrer\">NumPy</a> package is what you really want. You can create a fixed-length array from a list of lists using:</p>\n<pre><code>import numpy\narr = numpy.array([[1,2],[3,4]])\n</code></pre>\n<p>Column access is the same as for the list-of-lists, but column access is easy: <code>arr[:,i]</code> for <code>i</code> in <code>{0,..,arr.shape[1]}</code> (the number of columns).</p>\n<p>In fact NumPy arrays can be n-dimensional.</p>\n<p>Empty arrays can be created with</p>\n<pre><code>numpy.empty(shape)\n</code></pre>\n<p>where <code>shape</code> is a tuple of size in each dimension; <code>shape=(1,3,2)</code> gives a 3-d array with size 1 in the first dimension, size 3 in the second dimension and 2 in the 3rd dimension.</p>\n<p>If you want to store objects in a NumPy array, you can do that as well:</p>\n<pre><code> arr = numpy.empty((1,), dtype=numpy.object)\n arr[0] = 'abc'\n</code></pre>\n<p>For more info on the NumPy project, check out the <a href=\"https://numpy.org\" rel=\"nofollow noreferrer\">NumPy homepage</a>.</p>\n"},{"tags":[],"owner":{"account_id":4530,"reputation":16848,"user_id":6848,"accept_rate":80,"display_name":"Deestan"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1225791630,"creation_date":1225791265,"answer_id":261340,"question_id":508657,"body_markdown":"To create a standard python array of arrays of arbitrary size:\r\n\r\n    a = [[0]*cols for _ in [0]*rows]\r\n\r\nIt is accessed like this:\r\n\r\n    a[0][1] = 5 # set cell at row 0, col 1 to 5\r\n\r\nA small python gotcha that&#39;s worth mentioning:  It is tempting to just type\r\n\r\n    a = [[0]*cols]*rows\r\n\r\nbut that&#39;ll copy the *same* column array to each row, resulting in unwanted behaviour.  Namely:\r\n\r\n    &gt;&gt;&gt; a[0][0] = 5\r\n    &gt;&gt;&gt; print a[1][0]\r\n    5\r\n\r\n","title":"Multidimensional array in Python","body":"<p>To create a standard python array of arrays of arbitrary size:</p>\n\n<pre><code>a = [[0]*cols for _ in [0]*rows]\n</code></pre>\n\n<p>It is accessed like this:</p>\n\n<pre><code>a[0][1] = 5 # set cell at row 0, col 1 to 5\n</code></pre>\n\n<p>A small python gotcha that's worth mentioning:  It is tempting to just type</p>\n\n<pre><code>a = [[0]*cols]*rows\n</code></pre>\n\n<p>but that'll copy the <em>same</em> column array to each row, resulting in unwanted behaviour.  Namely:</p>\n\n<pre><code>&gt;&gt;&gt; a[0][0] = 5\n&gt;&gt;&gt; print a[1][0]\n5\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6358,"reputation":386072,"user_id":10661,"accept_rate":91,"display_name":"S.Lott"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1225800240,"creation_date":1225800240,"answer_id":261656,"question_id":508657,"body_markdown":"Multidimensional arrays are a little murky.  There are few reasons for using them and many reasons for thinking twice and using something else that more properly reflects what you&#39;re doing.  [Hint. your question was thin on context ;-) ]\r\n\r\nIf you&#39;re doing matrix math, then use `numpy`.\r\n\r\nHowever, some folks have worked with languages that force them to use multi-dimensional arrays because it&#39;s all they&#39;ve got.  If your as old as I am (I started programming in the 70&#39;s) then you may remember the days when multidimensional arrays were the only data structure you had.  Or, your experience may have limited you to languages where you had to morph your problem into multi-dimensional arrays.\r\n\r\nSay you have a collection *n* 3D points.  Each point has an x, y, z, and time value.  Is this an *n* x 4 array?  Or a 4 * *n* array?  Not really.  \r\n\r\nSince each point has 4 fixed values, this is more properly a list of tuples.\r\n\r\n    a = [ ( x, y, z, t ), ( x, y, z, t ), ... ]\r\n\r\nBetter still, we could represent this as a list of objects.\r\n\r\n    class Point( object ):\r\n        def __init__( self, x, y, z, t ):\r\n            self.x, self.y, self.z, self.t = x, y, z, t\r\n\r\n    a = [ Point(x,y,x,t), Point(x,y,z,t), ... ]\r\n","title":"Multidimensional array in Python","body":"<p>Multidimensional arrays are a little murky.  There are few reasons for using them and many reasons for thinking twice and using something else that more properly reflects what you're doing.  [Hint. your question was thin on context ;-) ]</p>\n\n<p>If you're doing matrix math, then use <code>numpy</code>.</p>\n\n<p>However, some folks have worked with languages that force them to use multi-dimensional arrays because it's all they've got.  If your as old as I am (I started programming in the 70's) then you may remember the days when multidimensional arrays were the only data structure you had.  Or, your experience may have limited you to languages where you had to morph your problem into multi-dimensional arrays.</p>\n\n<p>Say you have a collection <em>n</em> 3D points.  Each point has an x, y, z, and time value.  Is this an <em>n</em> x 4 array?  Or a 4 * <em>n</em> array?  Not really.  </p>\n\n<p>Since each point has 4 fixed values, this is more properly a list of tuples.</p>\n\n<pre><code>a = [ ( x, y, z, t ), ( x, y, z, t ), ... ]\n</code></pre>\n\n<p>Better still, we could represent this as a list of objects.</p>\n\n<pre><code>class Point( object ):\n    def __init__( self, x, y, z, t ):\n        self.x, self.y, self.z, self.t = x, y, z, t\n\na = [ Point(x,y,x,t), Point(x,y,z,t), ... ]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6648,"reputation":14544,"user_id":11265,"accept_rate":74,"display_name":"Matthew Trevor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1225870416,"creation_date":1225870416,"answer_id":264562,"question_id":508657,"body_markdown":"Another option is to use a dictionary:\r\n\r\n    &gt;&gt;&gt; from collections import defaultdict\r\n    &gt;&gt;&gt; array = defaultdict(int) # replace int with the default-factory you want\r\n    &gt;&gt;&gt; array[(0,0)]\r\n    0\r\n    &gt;&gt;&gt; array[(99,99)]\r\n    0\r\n\r\nYou&#39;ll need to keep track of the upper &amp; lower bounds as well.","title":"Multidimensional array in Python","body":"<p>Another option is to use a dictionary:</p>\n\n<pre><code>&gt;&gt;&gt; from collections import defaultdict\n&gt;&gt;&gt; array = defaultdict(int) # replace int with the default-factory you want\n&gt;&gt;&gt; array[(0,0)]\n0\n&gt;&gt;&gt; array[(99,99)]\n0\n</code></pre>\n\n<p>You'll need to keep track of the upper &amp; lower bounds as well.</p>\n"},{"tags":[],"owner":{"account_id":12480,"reputation":124576,"user_id":24587,"accept_rate":83,"display_name":"Georg Sch&#246;lly"},"down_vote_count":2,"up_vote_count":15,"is_accepted":true,"score":13,"last_activity_date":1259216811,"creation_date":1233691142,"answer_id":508677,"question_id":508657,"body_markdown":"You can create it using nested lists:\r\n\r\n    matrix = [[a,b],[c,d],[e,f]]\r\n\r\nIf it has to be dynamic it&#39;s more complicated, why not write a small class yourself?\r\n\r\n    class Matrix(object):\r\n        def __init__(self, rows, columns, default=0):\r\n            self.m = []\r\n            for i in range(rows):\r\n                self.m.append([default for j in range(columns)])\r\n        \r\n        def __getitem__(self, index):\r\n            return self.m[index]\r\n\r\nThis can be used like this:\r\n\r\n    m = Matrix(10,5)\r\n    m[3][6] = 7\r\n    print m[3][6] // -&gt; 7\r\n\r\nI&#39;m sure one could implement it much more efficient. :)\r\n\r\nIf you need multidimensional arrays you can either create an array and calculate the offset or you&#39;d use arrays in arrays in arrays, which can be pretty bad for memory. (Could be faster though…) I&#39;ve implemented the first idea like this:\r\n\r\n    class Matrix(object):\r\n        def __init__(self, *dims):\r\n            self._shortcuts = [i for i in self._create_shortcuts(dims)]\r\n            self._li = [None] * (self._shortcuts.pop())\r\n            self._shortcuts.reverse()\r\n        \r\n        def _create_shortcuts(self, dims):\r\n            dimList = list(dims)\r\n            dimList.reverse()\r\n            number = 1\r\n            yield 1\r\n            for i in dimList:\r\n                number *= i\r\n                yield number\r\n        \r\n        def _flat_index(self, index):\r\n            if len(index) != len(self._shortcuts):\r\n                raise TypeError()\r\n            \r\n            flatIndex = 0\r\n            for i, num in enumerate(index):\r\n                flatIndex += num * self._shortcuts[i]\r\n            return flatIndex\r\n            \r\n        def __getitem__(self, index):\r\n            return self._li[self._flat_index(index)]\r\n            \r\n        def __setitem__(self, index, value):\r\n            self._li[self._flat_index(index)] = value\r\n\r\nCan be used like this:\r\n\r\n    m = Matrix(4,5,2,6)\r\n    m[2,3,1,3] = &#39;x&#39;\r\n    m[2,3,1,3] // -&gt; &#39;x&#39;","title":"Multidimensional array in Python","body":"<p>You can create it using nested lists:</p>\n\n<pre><code>matrix = [[a,b],[c,d],[e,f]]\n</code></pre>\n\n<p>If it has to be dynamic it's more complicated, why not write a small class yourself?</p>\n\n<pre><code>class Matrix(object):\n    def __init__(self, rows, columns, default=0):\n        self.m = []\n        for i in range(rows):\n            self.m.append([default for j in range(columns)])\n\n    def __getitem__(self, index):\n        return self.m[index]\n</code></pre>\n\n<p>This can be used like this:</p>\n\n<pre><code>m = Matrix(10,5)\nm[3][6] = 7\nprint m[3][6] // -&gt; 7\n</code></pre>\n\n<p>I'm sure one could implement it much more efficient. :)</p>\n\n<p>If you need multidimensional arrays you can either create an array and calculate the offset or you'd use arrays in arrays in arrays, which can be pretty bad for memory. (Could be faster though…) I've implemented the first idea like this:</p>\n\n<pre><code>class Matrix(object):\n    def __init__(self, *dims):\n        self._shortcuts = [i for i in self._create_shortcuts(dims)]\n        self._li = [None] * (self._shortcuts.pop())\n        self._shortcuts.reverse()\n\n    def _create_shortcuts(self, dims):\n        dimList = list(dims)\n        dimList.reverse()\n        number = 1\n        yield 1\n        for i in dimList:\n            number *= i\n            yield number\n\n    def _flat_index(self, index):\n        if len(index) != len(self._shortcuts):\n            raise TypeError()\n\n        flatIndex = 0\n        for i, num in enumerate(index):\n            flatIndex += num * self._shortcuts[i]\n        return flatIndex\n\n    def __getitem__(self, index):\n        return self._li[self._flat_index(index)]\n\n    def __setitem__(self, index, value):\n        self._li[self._flat_index(index)] = value\n</code></pre>\n\n<p>Can be used like this:</p>\n\n<pre><code>m = Matrix(4,5,2,6)\nm[2,3,1,3] = 'x'\nm[2,3,1,3] // -&gt; 'x'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12256,"reputation":79165,"user_id":24039,"accept_rate":56,"display_name":"Simon"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1670612499,"creation_date":1233691221,"answer_id":508679,"question_id":508657,"body_markdown":"Take a look at [numpy][1]\r\n\r\nhere&#39;s a code snippet for you\r\n\r\n    import numpy as npy\r\n    \r\n    d = npy.zeros((len(x)+1, len(y)+1, len(x)+len(y)+3))\r\n    d[0][0][0] = 0 # although this is unnecessary since zeros initialises to zero\r\n    d[i][j][k] = npy.inf\r\n\r\nI don&#39;t think you need to be implementing a scientific application to justify the use of numpy.  It is faster and more flexible and you can store pretty much anything.  Given that I think it is probably better to try and justify *not* using it.  There are legitimate reasons, but it adds a great deal and costs very little so it deserves consideration.\r\n\r\nP.S. Are your array lengths right?  It looks like a pretty peculiar shaped matrix...\r\n\r\n  [1]: https://numpy.org//\r","title":"Multidimensional array in Python","body":"<p>Take a look at <a href=\"https://numpy.org//\" rel=\"nofollow noreferrer\">numpy</a></p>\n<p>here's a code snippet for you</p>\n<pre><code>import numpy as npy\n\nd = npy.zeros((len(x)+1, len(y)+1, len(x)+len(y)+3))\nd[0][0][0] = 0 # although this is unnecessary since zeros initialises to zero\nd[i][j][k] = npy.inf\n</code></pre>\n<p>I don't think you need to be implementing a scientific application to justify the use of numpy.  It is faster and more flexible and you can store pretty much anything.  Given that I think it is probably better to try and justify <em>not</em> using it.  There are legitimate reasons, but it adds a great deal and costs very little so it deserves consideration.</p>\n<p>P.S. Are your array lengths right?  It looks like a pretty peculiar shaped matrix...</p>\n"},{"tags":[],"owner":{"account_id":6474,"reputation":95175,"user_id":10897,"accept_rate":83,"display_name":"Martin Beckett"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1670612501,"creation_date":1233691238,"answer_id":508681,"question_id":508657,"body_markdown":"Probably not relevant for you but if you are doing serious matrix work see [numpy][1]\r\n\r\n  [1]: https://numpy.org/","title":"Multidimensional array in Python","body":"<p>Probably not relevant for you but if you are doing serious matrix work see <a href=\"https://numpy.org/\" rel=\"nofollow noreferrer\">numpy</a></p>\n"},{"tags":[],"owner":{"account_id":24331,"reputation":2444,"user_id":61815,"accept_rate":89,"display_name":"paprika"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1233691454,"creation_date":1233691454,"answer_id":508700,"question_id":508657,"body_markdown":"If you are OK using sparse arrays, you could use a dict to store your values.  Python&#39;s dicts allow you to use tuples as keys, as such, you could assign to and access elements of the &quot;sparse array&quot; (which is really a dict here) like this:\r\n\r\n    d = {}\r\n    d[0,2,7] = 123 # assign 123 to x=0, y=2, z=7\r\n    v = d[0,2,7]\r\n","title":"Multidimensional array in Python","body":"<p>If you are OK using sparse arrays, you could use a dict to store your values.  Python's dicts allow you to use tuples as keys, as such, you could assign to and access elements of the \"sparse array\" (which is really a dict here) like this:</p>\n\n<pre><code>d = {}\nd[0,2,7] = 123 # assign 123 to x=0, y=2, z=7\nv = d[0,2,7]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7094,"reputation":43636,"user_id":12166,"accept_rate":100,"display_name":"Rafał Dowgird"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1233696856,"creation_date":1233696856,"answer_id":508991,"question_id":508657,"body_markdown":"Here&#39;s a quick way to create a nested 3-dimensional list initialized with zeros:\r\n\r\n    # dim1, dim2, dim3 are the dimensions of the array\r\n    a =[[[0 for _ in range(dim1)] for _ in range(dim2)] for _ in range(dim1) ]\r\n    a[0][0][0] = 1\r\n\r\nthis is a list of lists of lists, a bit more flexible than an array, you can do:\r\n\r\n    a[0][0] = [1,2,3,4]\r\n\r\nto replace a whole row in the array, or even abuse it like that:\r\n\r\n    a[0] = &quot;Ouch&quot;\r\n    print a[0][0] #will print &quot;O&quot;, since strings are indexable the same way as lists\r\n    print a[0][0][0] #will raise an error, since &quot;O&quot; isn&#39;t indexable\r\n\r\nbut if you need performance, then I agree that numpy is the way to go.\r\n\r\nAlso, beware of:\r\n\r\n    a = [[[0] * 5]*5]*5]\r\n\r\nIf you try `a[0][0][0]=7` on the object above, you will see what&#39;s wrong with that.","title":"Multidimensional array in Python","body":"<p>Here's a quick way to create a nested 3-dimensional list initialized with zeros:</p>\n\n<pre><code># dim1, dim2, dim3 are the dimensions of the array\na =[[[0 for _ in range(dim1)] for _ in range(dim2)] for _ in range(dim1) ]\na[0][0][0] = 1\n</code></pre>\n\n<p>this is a list of lists of lists, a bit more flexible than an array, you can do:</p>\n\n<pre><code>a[0][0] = [1,2,3,4]\n</code></pre>\n\n<p>to replace a whole row in the array, or even abuse it like that:</p>\n\n<pre><code>a[0] = \"Ouch\"\nprint a[0][0] #will print \"O\", since strings are indexable the same way as lists\nprint a[0][0][0] #will raise an error, since \"O\" isn't indexable\n</code></pre>\n\n<p>but if you need performance, then I agree that numpy is the way to go.</p>\n\n<p>Also, beware of:</p>\n\n<pre><code>a = [[[0] * 5]*5]*5]\n</code></pre>\n\n<p>If you try <code>a[0][0][0]=7</code> on the object above, you will see what's wrong with that.</p>\n"},{"tags":[],"owner":{"account_id":6497,"reputation":2531,"user_id":2731698,"accept_rate":57,"display_name":"fabiopedrosa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1248795064,"creation_date":1248795064,"answer_id":1194934,"question_id":508657,"body_markdown":"I&#39;ve just stepped into a similar need and coded this:\r\n\r\n    def nDimensionsMatrix(dims, elem_count, ptr=[]):\r\n    \tif (dims &gt; 1):\r\n    \t\tfor i in range(elem_count[dims-1]):\r\n    \t\t\tempty = []\r\n    \t\t\tptr.append(empty)\r\n    \t\t\tnDimensionsMatrix(dims-1, elem_count, empty)\r\n    \t\treturn ptr\r\n    \telif dims == 1:\r\n    \t\tptr.extend([0 for i in range(elem_count[dims])])\r\n    \t\treturn ptr\r\n    \r\n    matrix = nDimensionsMatrix(3, (2,2,2))\r\n\r\nI&#39;m not looking at speed, only funcionality ;)\r\n\r\nI want to create a matrix with N dimensions and initialize with 0 (a *elem_count* number of elements in each dimension).\r\n\r\nHope its helps someone","title":"Multidimensional array in Python","body":"<p>I've just stepped into a similar need and coded this:</p>\n\n<pre><code>def nDimensionsMatrix(dims, elem_count, ptr=[]):\n    if (dims &gt; 1):\n        for i in range(elem_count[dims-1]):\n            empty = []\n            ptr.append(empty)\n            nDimensionsMatrix(dims-1, elem_count, empty)\n        return ptr\n    elif dims == 1:\n        ptr.extend([0 for i in range(elem_count[dims])])\n        return ptr\n\nmatrix = nDimensionsMatrix(3, (2,2,2))\n</code></pre>\n\n<p>I'm not looking at speed, only funcionality ;)</p>\n\n<p>I want to create a matrix with N dimensions and initialize with 0 (a <em>elem_count</em> number of elements in each dimension).</p>\n\n<p>Hope its helps someone</p>\n"},{"tags":[],"owner":{"display_name":"HenryJP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1254284824,"creation_date":1254252579,"answer_id":1494477,"question_id":508657,"body_markdown":"Easy, when using numpy:\r\n\r\n    b = ones((2,3,4)) # creates a 2x3x4 array containing all ones.\r\n\r\n&#39;ones&#39; can be replaced with &#39;zeros&#39;","title":"Multidimensional array in Python","body":"<p>Easy, when using numpy:</p>\n\n<pre><code>b = ones((2,3,4)) # creates a 2x3x4 array containing all ones.\n</code></pre>\n\n<p>'ones' can be replaced with 'zeros'</p>\n"}],"owner":{"account_id":22735,"reputation":4711,"user_id":56376,"accept_rate":77,"display_name":"Christian Stade-Schuldt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22297,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":508677,"answer_count":12,"score":10,"last_activity_date":1670612501,"creation_date":1233690877,"question_id":508657,"body_markdown":"I have a little Java problem I want to translate to Python. Therefor I need a multidimensional array. In Java it looks like:\r\n\t\r\n    double dArray[][][] = new double[x.length()+1][y.length()+1][x.length()+y.length()+3];\r\n    dArray[0][0][0] = 0;\r\n    dArray[0][0][1] = POSITIVE_INFINITY;\r\n\r\nFurther values will be created bei loops and written into the array.\r\n\r\nHow do I instantiate the array?\r\n\r\nPS: There is no matrix multiplication involved...","title":"Multidimensional array in Python","body":"<p>I have a little Java problem I want to translate to Python. Therefor I need a multidimensional array. In Java it looks like:</p>\n\n<pre><code>double dArray[][][] = new double[x.length()+1][y.length()+1][x.length()+y.length()+3];\ndArray[0][0][0] = 0;\ndArray[0][0][1] = POSITIVE_INFINITY;\n</code></pre>\n\n<p>Further values will be created bei loops and written into the array.</p>\n\n<p>How do I instantiate the array?</p>\n\n<p>PS: There is no matrix multiplication involved...</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":1,"creation_date":1670600773,"post_id":74745281,"comment_id":131918240,"body_markdown":"Why did you use `ipcToMFPNameMap.getClass().getName()` in the first place? Why did you assume `getClass()` returns a map __key__ not the __class__ of the object (a map in this case)?","body":"Why did you use <code>ipcToMFPNameMap.getClass().getName()</code> in the first place? Why did you assume <code>getClass()</code> returns a map <b>key</b> not the <b>class</b> of the object (a map in this case)?"},{"owner":{"account_id":9696555,"reputation":191,"user_id":7192797,"display_name":"Njena"},"score":0,"creation_date":1670600933,"post_id":74745281,"comment_id":131918292,"body_markdown":"ipcToMFPNameMap is my map Object and I want to get manufacture price code from it and store it","body":"ipcToMFPNameMap is my map Object and I want to get manufacture price code from it and store it"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1670604168,"post_id":74745281,"comment_id":131919312,"body_markdown":"Did you not think you would have to pass the price code to the map in order to get the manufacturerPriceCode for _that particular price code_?","body":"Did you not think you would have to pass the price code to the map in order to get the manufacturerPriceCode for <i>that particular price code</i>?"}],"answers":[{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670612330,"creation_date":1670612330,"answer_id":74747274,"question_id":74745281,"body_markdown":"Your Map contains `ManufacturerPriceCodes` objects keyed on their `priceCode` which is defined as a String.  So you can get the name of an item in the Map as follows (where `priceCode` is a String).  \r\n\r\n    String manufacturerPriceCodesName = ipcToMFPNameMap.get(priceCode).getName();\r\n\r\nThe `ManufacturerPricesCodes` appears to capture the price code as a String but `Item` has a `List&lt;ItemPriceCode&gt;`.  You&#39;ll have to figure out how to map back and forth.","title":"how to get a particular field value from map object using java","body":"<p>Your Map contains <code>ManufacturerPriceCodes</code> objects keyed on their <code>priceCode</code> which is defined as a String.  So you can get the name of an item in the Map as follows (where <code>priceCode</code> is a String).</p>\n<pre><code>String manufacturerPriceCodesName = ipcToMFPNameMap.get(priceCode).getName();\n</code></pre>\n<p>The <code>ManufacturerPricesCodes</code> appears to capture the price code as a String but <code>Item</code> has a <code>List&lt;ItemPriceCode&gt;</code>.  You'll have to figure out how to map back and forth.</p>\n"}],"owner":{"account_id":9696555,"reputation":191,"user_id":7192797,"display_name":"Njena"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1670612330,"creation_date":1670600546,"question_id":74745281,"body_markdown":"&gt; I am trying to set manufacture price code  ,that value is in my map\r\n&gt; object but when I want to get getName() from map object I am not able\r\n&gt; to get that particular value. If I use\r\n \r\n\r\n    ipcToMFPNameMap.getClass().getName()\r\n\r\n&gt; this line of code to get particular value I get &quot;java.util.HashMap&quot; in\r\n&gt; &gt; my manufacture price code filed for your reference I post my code what I tried to  get the particular result\r\n\r\n    private Item getItemManufacturerPriceCodes(Item item) {\r\n              List&lt;ItemPriceCode&gt; itemPriceCodes = item.getItemPriceCodes();\r\n              List&lt;String&gt; priceCodeList = new ArrayList&lt;String&gt;();\r\n              for (ItemPriceCode ipc : itemPriceCodes) {\r\n                  //get the string value from the list\r\n                   priceCodeList.add(ipc.getPriceCode());\r\n            }\r\n              //pass this string value in query\r\n              List&lt;ManufacturerPriceCodes&gt;mpc = manufacturerPriceCodesRepository.\r\n                     findByManufacturerIDAndPriceCodeInAndRecordDeleted(item.getManufacturerID(),priceCodeList,NOT_DELETED);\r\n              \r\n              //Convert list to map\r\n              Map&lt;String, ManufacturerPriceCodes&gt; ipcToMFPNameMap = mpc.stream().collect(\r\n                        Collectors.toMap(ManufacturerPriceCodes :: getPriceCode,Function.identity()));// Object\r\n    \r\n    \r\n    \r\n             for (ItemPriceCode ipcs : itemPriceCodes) {\r\n                  ipcs.setManufacturerPriceCode(ipcToMFPNameMap.getClass().getName());\r\n            }\r\n              item.getItemPriceCodes()\r\n              .removeIf(ipcs -&gt; DELETED.equals(ipcs.getRecordDeleted()));\r\n          return item;      \r\n          }\r\n\r\n&gt; I got this type of Result\r\n[![enter image description here][1]][1]\r\n\r\n\r\n&gt; But I want this this type of Result\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oKyUj.png\r\n  [2]: https://i.stack.imgur.com/n7Jgr.png\r\n\r\n&gt; I get issue exact at this point\r\n\r\n    ipcs.setManufacturerPriceCode(ipcToMFPNameMap.getClass().getName());\r\n\r\n&gt; my manufacture price code is a string type","title":"how to get a particular field value from map object using java","body":"<blockquote>\n<p>I am trying to set manufacture price code  ,that value is in my map\nobject but when I want to get getName() from map object I am not able\nto get that particular value. If I use</p>\n</blockquote>\n<pre><code>ipcToMFPNameMap.getClass().getName()\n</code></pre>\n<blockquote>\n<p>this line of code to get particular value I get &quot;java.util.HashMap&quot; in</p>\n<blockquote>\n<p>my manufacture price code filed for your reference I post my code what I tried to  get the particular result</p>\n</blockquote>\n</blockquote>\n<pre><code>private Item getItemManufacturerPriceCodes(Item item) {\n          List&lt;ItemPriceCode&gt; itemPriceCodes = item.getItemPriceCodes();\n          List&lt;String&gt; priceCodeList = new ArrayList&lt;String&gt;();\n          for (ItemPriceCode ipc : itemPriceCodes) {\n              //get the string value from the list\n               priceCodeList.add(ipc.getPriceCode());\n        }\n          //pass this string value in query\n          List&lt;ManufacturerPriceCodes&gt;mpc = manufacturerPriceCodesRepository.\n                 findByManufacturerIDAndPriceCodeInAndRecordDeleted(item.getManufacturerID(),priceCodeList,NOT_DELETED);\n          \n          //Convert list to map\n          Map&lt;String, ManufacturerPriceCodes&gt; ipcToMFPNameMap = mpc.stream().collect(\n                    Collectors.toMap(ManufacturerPriceCodes :: getPriceCode,Function.identity()));// Object\n\n\n\n         for (ItemPriceCode ipcs : itemPriceCodes) {\n              ipcs.setManufacturerPriceCode(ipcToMFPNameMap.getClass().getName());\n        }\n          item.getItemPriceCodes()\n          .removeIf(ipcs -&gt; DELETED.equals(ipcs.getRecordDeleted()));\n      return item;      \n      }\n</code></pre>\n<blockquote>\n<p>I got this type of Result\n<a href=\"https://i.stack.imgur.com/oKyUj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oKyUj.png\" alt=\"enter image description here\" /></a></p>\n</blockquote>\n<blockquote>\n<p>But I want this this type of Result\n<a href=\"https://i.stack.imgur.com/n7Jgr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n7Jgr.png\" alt=\"enter image description here\" /></a></p>\n</blockquote>\n<blockquote>\n<p>I get issue exact at this point</p>\n</blockquote>\n<pre><code>ipcs.setManufacturerPriceCode(ipcToMFPNameMap.getClass().getName());\n</code></pre>\n<blockquote>\n<p>my manufacture price code is a string type</p>\n</blockquote>\n"},{"tags":["java","model","jtable","tablemodel"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1670611383,"post_id":74746968,"comment_id":131921478,"body_markdown":"*&quot;I need to manage a data model with thousands of rows&quot;* -- wouldn&#39;t this amount of data be best handled by a database, with the GUI displaying &quot;chunks&quot; of data brought in from the database on an as-needed basis?","body":"<i>&quot;I need to manage a data model with thousands of rows&quot;</i> -- wouldn&#39;t this amount of data be best handled by a database, with the GUI displaying &quot;chunks&quot; of data brought in from the database on an as-needed basis?"},{"owner":{"account_id":27204292,"reputation":1,"user_id":20736094,"display_name":"DrSlamm"},"score":0,"creation_date":1670615114,"post_id":74746968,"comment_id":131922335,"body_markdown":"In effect, my Archive is the database, RAM-resident.  Iterators, filters, sorters, all I need.  Java is like a wet dream, only drier.","body":"In effect, my Archive is the database, RAM-resident.  Iterators, filters, sorters, all I need.  Java is like a wet dream, only drier."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1670619844,"post_id":74746968,"comment_id":131923415,"body_markdown":"That example uses hard coded data so you don&#39;t need to access a database or file to get the data and run the demo.  You should NOT attempt to create a &quot;dynamic&quot; 2D Array of all your data. The internal storage of the DefaultTableModel uses a Vector of Vectors to hold all the data. A Vector is dynamic so it is much more flexible to use than a 2D Array. So there are two approaches to load the data. 1) Create the Vector of Vectors manually and then create the DefaultTableModel using this Vector. For a complete example of this approach check out: https://stackoverflow.com/a/55635012/131872.","body":"That example uses hard coded data so you don&#39;t need to access a database or file to get the data and run the demo.  You should NOT attempt to create a &quot;dynamic&quot; 2D Array of all your data. The internal storage of the DefaultTableModel uses a Vector of Vectors to hold all the data. A Vector is dynamic so it is much more flexible to use than a 2D Array. So there are two approaches to load the data. 1) Create the Vector of Vectors manually and then create the DefaultTableModel using this Vector. For a complete example of this approach check out: <a href=\"https://stackoverflow.com/a/55635012/131872\">stackoverflow.com/a/55635012/131872</a>."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1670620229,"post_id":74746968,"comment_id":131923503,"body_markdown":"2) The other approach is to create a DefaultTableModel with only column headers and no row data. Then you can use the `addRow(...)` method of the DefaultTableModel to dynamically add one row of data at a time. See: https://stackoverflow.com/a/64248188/131872 for an example that uses the `addRow(...)` method.","body":"2) The other approach is to create a DefaultTableModel with only column headers and no row data. Then you can use the <code>addRow(...)</code> method of the DefaultTableModel to dynamically add one row of data at a time. See: <a href=\"https://stackoverflow.com/a/64248188/131872\">stackoverflow.com/a/64248188/131872</a> for an example that uses the <code>addRow(...)</code> method."},{"owner":{"account_id":27204292,"reputation":1,"user_id":20736094,"display_name":"DrSlamm"},"score":0,"creation_date":1671045958,"post_id":74746968,"comment_id":132015340,"body_markdown":"Thx to all, after a bit of wrangling I got my table model and renderers working adequately if not perfectly.  Having fun and this site is fantastic!","body":"Thx to all, after a bit of wrangling I got my table model and renderers working adequately if not perfectly.  Having fun and this site is fantastic!"}],"answers":[{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670612236,"creation_date":1670612236,"answer_id":74747260,"question_id":74746968,"body_markdown":"The initial code created an `Object[][]` array and you created a `String[][]` array, so, storing any non-String value will inevitably crash. You will need to create an `Object[][]` to support `Integer` and `Double` values as well. ","title":"How can I manage columns of varying data types in my JTable data model?","body":"<p>The initial code created an <code>Object[][]</code> array and you created a <code>String[][]</code> array, so, storing any non-String value will inevitably crash. You will need to create an <code>Object[][]</code> to support <code>Integer</code> and <code>Double</code> values as well.</p>\n"}],"owner":{"account_id":27204292,"reputation":1,"user_id":20736094,"display_name":"DrSlamm"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670612236,"creation_date":1670610234,"question_id":74746968,"body_markdown":"Here is sample code I found.  It works because the entire data structure is initialized in one statement.  \r\n```\t\tObject[] columnNames = {&quot;Type&quot;, &quot;Company&quot;, &quot;Shares&quot;, &quot;Price&quot;, &quot;Boolean&quot;};\r\n\t\tObject[][] data =\r\n\t\t{\r\n\t\t\t{&quot;Buy&quot;, &quot;IBM&quot;, new Integer(1000), new Double(80.5), Boolean.TRUE},\r\n\t\t\t{&quot;Sell&quot;, &quot;Dell&quot;, new Integer(2000), new Double(6.25), Boolean.FALSE},\r\n\t\t\t{&quot;Short Sell&quot;, &quot;Apple&quot;, new Integer(3000), new Double(7.35), Boolean.TRUE},\r\n\t\t\t{&quot;Buy&quot;, &quot;MicroSoft&quot;, new Integer(4000), new Double(27.50), Boolean.FALSE},\r\n\t\t\t{&quot;Short Sell&quot;, &quot;Cisco&quot;, new Integer(5000), new Double(20), Boolean.TRUE}\r\n\t\t};\r\n\r\n\t\tDefaultTableModel model = new DefaultTableModel(data, columnNames)\r\n\t\t{\r\n\t\t\tpublic Class getColumnClass(int column)\r\n\t\t\t{\r\n\t\t\t\treturn getValueAt(0, column).getClass();\r\n\t\t\t}\r\n\t\t};\r\n```\r\nI need to manage a data model with thousands of rows.  I have tried five different approaches for loading values (One String, four Integers, and one Double make up a row).  The only way I have been able to get the table to display at all is to treat everything as strings.  This would require a comparator for the Double column as natural String ordering doesn&#39;t cut it.\r\n\r\nBelow I have shown my latest attempt.  The crux of my problem is the ArrayStoreException that happens at the line indicated --&gt;\r\n\r\n\r\n```\r\nclass RankingsDataModel extends DefaultTableModel {\r\n    static final String s = &quot;&quot;;\r\n    static final Integer i = 0;\r\n    static final Double d = 0.0;\r\n    static String[] columnNames = { &quot;Key&quot;, &quot;Net IMPs&quot;, &quot;Count&quot;, &quot;Max IMPs&quot;, &quot;Min IMPs&quot;, &quot;Avg IMPs&quot; };\r\n    static int[] widths = new int[] { 16, 16, 16, 16, 16, 16  };\r\n    Object[][] rows = new Object[S.getCurrentArchive().partnerCensus.size() &gt; 9 ? S.getCurrentArchive().partnerCensus.size() : 9][getColumnCount()];\r\n    public int getColumnCount() { return columnNames.length; }\r\n    public int getRowCount() { return S.getCurrentArchive().partnerCensus.size()  &gt; 9 ? S.getCurrentArchive().partnerCensus.size() : 9; }\r\n    public String getColumnName(int col) { return columnNames[col]; }\r\n    public Object getValueAt(int row, int col) { return rows[row][col]; }\r\n    public Class getColumnClass(int c) { return c == 0 ? s.getClass() : c == 5 ? d.getClass() : i.getClass(); }\r\n    public boolean isCellEditable(int row, int col) { return false; }       \r\n}\r\n    class Row {\r\n        Integer net;\r\n        Integer count;\r\n        Integer max;\r\n        Integer min;\r\n        Double avg;\r\n    }\r\n\r\n    private void loadRankingsTable) {\r\n            int r = 0;\r\n            model.rows = new String[S.getCurrentArchive().partnerCensus.size()][6];\r\n            for (String p : S.getCurrentArchive().partnerCensus) {\r\n                PartnerDealFilter pf = new PartnerDealFilter(p); \r\n                addModelRow(pf, p, r++);\r\n            }\r\n    }\r\n    private void addModelRow(DealFilter f, String key, int r) {\r\n        Archive a = S.getCurrentArchive().getFilteredArchive(f);\r\n        Integer max = -24; Integer min = 24;\r\n        Integer count = 0;\r\n        for (DealNode dn : a.getDeals()) {\r\n            Integer imps = dn.getIMPsVsPar();\r\n            if (imps != null) {\r\n                count++;\r\n                if (imps &lt; min) min = imps;\r\n                if (imps &gt; max) max = imps;\r\n            }\r\n        }\r\n        String[] strings = { key };\r\n        Integer[] integers = { count, a.getNetIMPs(), max, min };\r\n        Double[] doubles = { a.getAvgIMPs() != null ? a.getAvgIMPs() : -24.01 };\r\n--&gt;     model.rows[r][0] = strings[0];\r\n        model.rows[r][1] = Integers[0]);\r\n        model.rows[r][2] = integers[1];\r\n        model.rows[r][3] = integers[2];\r\n        model.rows[r][4] = integers[3];\r\n        model.rows[r][5] = doubles[0];        \r\n    }\r\n\r\n```\r\n    \r\nPrevious attempts involved simpler efforts.  I cannot store my table data in the model.\r\nI know I am missing something simple.  Please help.\r\n\r\nI expected the data model to be loaded.  I received a java.lang.ArrayStoreException in the AWT EventQueue thread.","title":"How can I manage columns of varying data types in my JTable data model?","body":"<p>Here is sample code I found.  It works because the entire data structure is initialized in one statement.</p>\n<pre><code>        Object[][] data =\n        {\n            {&quot;Buy&quot;, &quot;IBM&quot;, new Integer(1000), new Double(80.5), Boolean.TRUE},\n            {&quot;Sell&quot;, &quot;Dell&quot;, new Integer(2000), new Double(6.25), Boolean.FALSE},\n            {&quot;Short Sell&quot;, &quot;Apple&quot;, new Integer(3000), new Double(7.35), Boolean.TRUE},\n            {&quot;Buy&quot;, &quot;MicroSoft&quot;, new Integer(4000), new Double(27.50), Boolean.FALSE},\n            {&quot;Short Sell&quot;, &quot;Cisco&quot;, new Integer(5000), new Double(20), Boolean.TRUE}\n        };\n\n        DefaultTableModel model = new DefaultTableModel(data, columnNames)\n        {\n            public Class getColumnClass(int column)\n            {\n                return getValueAt(0, column).getClass();\n            }\n        };\n</code></pre>\n<p>I need to manage a data model with thousands of rows.  I have tried five different approaches for loading values (One String, four Integers, and one Double make up a row).  The only way I have been able to get the table to display at all is to treat everything as strings.  This would require a comparator for the Double column as natural String ordering doesn't cut it.</p>\n<p>Below I have shown my latest attempt.  The crux of my problem is the ArrayStoreException that happens at the line indicated --&gt;</p>\n<pre><code>class RankingsDataModel extends DefaultTableModel {\n    static final String s = &quot;&quot;;\n    static final Integer i = 0;\n    static final Double d = 0.0;\n    static String[] columnNames = { &quot;Key&quot;, &quot;Net IMPs&quot;, &quot;Count&quot;, &quot;Max IMPs&quot;, &quot;Min IMPs&quot;, &quot;Avg IMPs&quot; };\n    static int[] widths = new int[] { 16, 16, 16, 16, 16, 16  };\n    Object[][] rows = new Object[S.getCurrentArchive().partnerCensus.size() &gt; 9 ? S.getCurrentArchive().partnerCensus.size() : 9][getColumnCount()];\n    public int getColumnCount() { return columnNames.length; }\n    public int getRowCount() { return S.getCurrentArchive().partnerCensus.size()  &gt; 9 ? S.getCurrentArchive().partnerCensus.size() : 9; }\n    public String getColumnName(int col) { return columnNames[col]; }\n    public Object getValueAt(int row, int col) { return rows[row][col]; }\n    public Class getColumnClass(int c) { return c == 0 ? s.getClass() : c == 5 ? d.getClass() : i.getClass(); }\n    public boolean isCellEditable(int row, int col) { return false; }       \n}\n    class Row {\n        Integer net;\n        Integer count;\n        Integer max;\n        Integer min;\n        Double avg;\n    }\n\n    private void loadRankingsTable) {\n            int r = 0;\n            model.rows = new String[S.getCurrentArchive().partnerCensus.size()][6];\n            for (String p : S.getCurrentArchive().partnerCensus) {\n                PartnerDealFilter pf = new PartnerDealFilter(p); \n                addModelRow(pf, p, r++);\n            }\n    }\n    private void addModelRow(DealFilter f, String key, int r) {\n        Archive a = S.getCurrentArchive().getFilteredArchive(f);\n        Integer max = -24; Integer min = 24;\n        Integer count = 0;\n        for (DealNode dn : a.getDeals()) {\n            Integer imps = dn.getIMPsVsPar();\n            if (imps != null) {\n                count++;\n                if (imps &lt; min) min = imps;\n                if (imps &gt; max) max = imps;\n            }\n        }\n        String[] strings = { key };\n        Integer[] integers = { count, a.getNetIMPs(), max, min };\n        Double[] doubles = { a.getAvgIMPs() != null ? a.getAvgIMPs() : -24.01 };\n--&gt;     model.rows[r][0] = strings[0];\n        model.rows[r][1] = Integers[0]);\n        model.rows[r][2] = integers[1];\n        model.rows[r][3] = integers[2];\n        model.rows[r][4] = integers[3];\n        model.rows[r][5] = doubles[0];        \n    }\n\n</code></pre>\n<p>Previous attempts involved simpler efforts.  I cannot store my table data in the model.\nI know I am missing something simple.  Please help.</p>\n<p>I expected the data model to be loaded.  I received a java.lang.ArrayStoreException in the AWT EventQueue thread.</p>\n"},{"tags":["java","mongodb"],"owner":{"account_id":3227749,"reputation":1860,"user_id":2723677,"accept_rate":61,"display_name":"mmar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670612191,"creation_date":1670612191,"question_id":74747253,"body_markdown":"I am trying to connect mongodb enterprise instance in my project with the below statements, but i am getting an connection error. any solution would be appreciated here.\r\n\r\n    try (MongoClient client = MongoClients.create(URI)) {\r\n         MongoIterable&lt;String&gt; dbNames = client.listDatabaseNames();\r\n         dbNames.forEach(name -&gt; System.out.println(name));\r\n         client.close();\r\n    } catch (MongoException ex) {\r\n         System.out.println(&quot;could not connect mongodb :&quot; + ex);\r\n    }\r\n\r\nand the error i get\r\n\r\n    com.mongodb.MongoSecurityException: Failed to login Subject\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator.getSubject(SaslAuthenticator.java:202)\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator.doAsSubject(SaslAuthenticator.java:281)\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator.authenticate(SaslAuthenticator.java:59)\r\n\r\nBTW, i am using `implementation &#39;org.mongodb:mongodb-driver-sync:4.8.1&#39;`","title":"While connecting mongodb getting &#39;com.mongodb.MongoSecurityException: Failed to login Subject&#39;","body":"<p>I am trying to connect mongodb enterprise instance in my project with the below statements, but i am getting an connection error. any solution would be appreciated here.</p>\n<pre><code>try (MongoClient client = MongoClients.create(URI)) {\n     MongoIterable&lt;String&gt; dbNames = client.listDatabaseNames();\n     dbNames.forEach(name -&gt; System.out.println(name));\n     client.close();\n} catch (MongoException ex) {\n     System.out.println(&quot;could not connect mongodb :&quot; + ex);\n}\n</code></pre>\n<p>and the error i get</p>\n<pre><code>com.mongodb.MongoSecurityException: Failed to login Subject\n    at com.mongodb.internal.connection.SaslAuthenticator.getSubject(SaslAuthenticator.java:202)\n    at com.mongodb.internal.connection.SaslAuthenticator.doAsSubject(SaslAuthenticator.java:281)\n    at com.mongodb.internal.connection.SaslAuthenticator.authenticate(SaslAuthenticator.java:59)\n</code></pre>\n<p>BTW, i am using <code>implementation 'org.mongodb:mongodb-driver-sync:4.8.1'</code></p>\n"},{"tags":["java","spring","spring-boot","kotlin"],"owner":{"account_id":7695446,"reputation":598,"user_id":5830152,"accept_rate":75,"display_name":" J.Kennsy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670611813,"creation_date":1670611813,"question_id":74747188,"body_markdown":"I have been trying to create generic json patch mapper, which would:\r\n* take an `targetBean` and convert it to JsonNode\r\n* apply `patch` to it\r\n* convert patched JsonNode back to \r\n\r\nHere is my attempt, but now I&#39;m getting an error saying **Cannot use &#39;T&#39; as reified type parameter. Use a class instead.**\r\nThis error occurs on line where I do return \r\n\r\n&gt; ...treeToValue(patched, T::class.java\r\n\r\nCode:\r\n```\r\nimport com.fasterxml.jackson.databind.JsonNode\r\nimport com.fasterxml.jackson.module.kotlin.jacksonObjectMapper\r\nimport com.github.fge.jsonpatch.JsonPatch\r\nimport org.springframework.stereotype.Component\r\nimport java.util.function.BiFunction\r\n\r\n@Component\r\nclass JsonPatchMapper&lt;T&gt;: BiFunction&lt;T, JsonPatch, T&gt; {\r\n\r\n    private val objectMapper = jacksonObjectMapper()\r\n    \r\n    override fun apply(targetBean: T, patch: JsonPatch): T {\r\n        val target = objectMapper.convertValue(targetBean, JsonNode::class.java)\r\n        val patched = patch.apply(target)\r\n\r\n        return objectMapper.treeToValue(patched, T::class.java)\r\n    }\r\n}\r\n```\r\n\r\nAny help would be appreciated :)","title":"Creating generic JsonPatchMapper in Kotlin","body":"<p>I have been trying to create generic json patch mapper, which would:</p>\n<ul>\n<li>take an <code>targetBean</code> and convert it to JsonNode</li>\n<li>apply <code>patch</code> to it</li>\n<li>convert patched JsonNode back to</li>\n</ul>\n<p>Here is my attempt, but now I'm getting an error saying <strong>Cannot use 'T' as reified type parameter. Use a class instead.</strong>\nThis error occurs on line where I do return</p>\n<blockquote>\n<p>...treeToValue(patched, T::class.java</p>\n</blockquote>\n<p>Code:</p>\n<pre><code>import com.fasterxml.jackson.databind.JsonNode\nimport com.fasterxml.jackson.module.kotlin.jacksonObjectMapper\nimport com.github.fge.jsonpatch.JsonPatch\nimport org.springframework.stereotype.Component\nimport java.util.function.BiFunction\n\n@Component\nclass JsonPatchMapper&lt;T&gt;: BiFunction&lt;T, JsonPatch, T&gt; {\n\n    private val objectMapper = jacksonObjectMapper()\n    \n    override fun apply(targetBean: T, patch: JsonPatch): T {\n        val target = objectMapper.convertValue(targetBean, JsonNode::class.java)\n        val patched = patch.apply(target)\n\n        return objectMapper.treeToValue(patched, T::class.java)\n    }\n}\n</code></pre>\n<p>Any help would be appreciated :)</p>\n"},{"tags":["java","wait","notify"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1670520695,"post_id":74734136,"comment_id":131899251,"body_markdown":"But what&#39;s the error you are seeing? What specifically?","body":"But what&#39;s the error you are seeing? What specifically?"},{"owner":{"account_id":12091451,"reputation":3,"user_id":8837441,"display_name":"Enrique"},"score":0,"creation_date":1670520995,"post_id":74734136,"comment_id":131899348,"body_markdown":"The threads don&#39;t stop on the wait, or just execute 2 prints each thread and app still running but doing nothing, i really dont know how to do it, im literaly 5 hours with that code without understand nothing","body":"The threads don&#39;t stop on the wait, or just execute 2 prints each thread and app still running but doing nothing, i really dont know how to do it, im literaly 5 hours with that code without understand nothing"}],"answers":[{"tags":[],"owner":{"account_id":12091451,"reputation":3,"user_id":8837441,"display_name":"Enrique"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670610932,"creation_date":1670610932,"answer_id":74747057,"question_id":74734136,"body_markdown":"The error was, I was trying to make wait and notify in the wrong class, the Threads needs to be synchronized in methods deposit and extract, to be controlled. I left here the code if some one else need it.\r\n\r\n    package BPA;\r\n\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n\r\n    public class BPA {\r\n    public static void main(String[] args) {\r\n        Cuenta laCuenta = new Cuenta(40, 500);\r\n        Persona Ramon = new Persona(&quot;Ramon&quot;, laCuenta);\r\n        Persona Quique = new Persona(&quot;Quique&quot;, laCuenta);\r\n        Quique.start();\r\n        Ramon.start();\r\n        try {\r\n            Quique.join();\r\n            Ramon.join();\r\n        } catch (InterruptedException ex) {      \r\n         System.out.println(&quot;Interrupted&quot;);\r\n        }\r\n    }// END MAIN\r\n    }//END CLASS BPA\r\n\r\n\r\n\r\n\r\n     package BPA;\r\n    // @author Enrique\r\n\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n\r\n     public class Persona extends Thread {\r\n\r\n    String nombre;\r\n    private Cuenta cuenta;\r\n\r\n    public Persona(String nombre, Cuenta cuenta) {\r\n        this.nombre = nombre;\r\n        this.cuenta = cuenta;\r\n    }\r\n\r\n    @Override\r\n    public synchronized void run() {\r\n        while (true) {\r\n            cuenta.ingreso(nombre, cuenta);\r\n            cuenta.retiro(nombre, cuenta);\r\n            try {\r\n                sleep(1000);\r\n\r\n            } catch (Exception e) {\r\n                System.out.println(&quot; SLEEP QUITAR&quot;);\r\n            }\r\n            notifyAll();\r\n        }// END WHILE\r\n    }// END RUN\r\n    } // END CLASS PERSONA\r\n\r\n\r\n\r\n      package BPA;\r\n     // @author Enrique\r\n\r\n    import java.util.Random;\r\n\r\n    public class Cuenta {\r\n\r\n    private int saldo;\r\n    private int saldoMax = 500;\r\n    private int saldoMin = 1;\r\n\r\n    public Cuenta(int saldo, int saldoMax) {\r\n        this.saldo = saldo;\r\n        this.saldoMax = saldoMax;\r\n    }\r\n\r\n    public synchronized void retiro(String nombre, Cuenta cuenta) {\r\n        int dinero;\r\n        Random rnd = new Random();\r\n        dinero = (int) (rnd.nextDouble() * 350.0);\r\n        if ((saldo - dinero) &gt; saldoMin) {\r\n            this.saldo = this.saldo - dinero;\r\n            System.out.println(&quot;Name: &quot; + nombre + &quot; extract cash: &quot; + dinero + &quot; TOTAL CASH: &quot; + getSaldo());\r\n            notifyAll();\r\n        } else {\r\n            System.out.println(&quot;  ****  There isn&#39;t enough cash &quot; + nombre + &quot; tryed to extract: &quot; + dinero + &quot; Cash now: &quot; + getSaldo() + &quot; ****&quot;);\r\n            System.out.println(&quot; ---- &quot; + nombre + &quot; IS WAITING TO EXTRACT MORE MONEY ---- &quot;);\r\n            try {\r\n                wait();\r\n\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;SALE POR EL CATCH WAIT de QUITAR&quot;);\r\n            }\r\n        }\r\n    }// END METHOD QUITAR\r\n\r\n    public synchronized void ingreso(String nombre, Cuenta cuenta) {\r\n\r\n        int dinero;\r\n        Random rnd = new Random();\r\n        dinero = (int) (rnd.nextDouble() * 350.0);\r\n\r\n        if ((saldo + dinero) &lt; saldoMax) {\r\n            this.saldo = this.saldo + dinero;\r\n            System.out.println(&quot;Name: &quot; + nombre + &quot; deposit cash: &quot; + dinero + &quot; TOTAL CASH: &quot; + getSaldo());\r\n            notifyAll();\r\n        } else {\r\n            System.out.println(&quot; **** The account can&#39;t have more than 500 Euros. &quot; + nombre + &quot; tryed to deposit: &quot; + dinero + &quot; Cash now: &quot; + getSaldo() + &quot; ****&quot;);\r\n            System.out.println(&quot; ---- &quot; + nombre + &quot; IS WAITING TO DEPOSIT MORE MONEY ---- &quot;);\r\n            try {\r\n                wait();\r\n\r\n            } catch (Exception e) {\r\n                System.out.println(&quot; CATCH WAIT PONER&quot;);\r\n            }\r\n        }\r\n    }// END METHOD PONER\r\n\r\n    public int getSaldo() {\r\n        return saldo;\r\n    }\r\n    }// END CLASS CUENTA\r\n\r\n","title":"How to sync account in Java with two persons","body":"<p>The error was, I was trying to make wait and notify in the wrong class, the Threads needs to be synchronized in methods deposit and extract, to be controlled. I left here the code if some one else need it.</p>\n<pre><code>package BPA;\n\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class BPA {\npublic static void main(String[] args) {\n    Cuenta laCuenta = new Cuenta(40, 500);\n    Persona Ramon = new Persona(&quot;Ramon&quot;, laCuenta);\n    Persona Quique = new Persona(&quot;Quique&quot;, laCuenta);\n    Quique.start();\n    Ramon.start();\n    try {\n        Quique.join();\n        Ramon.join();\n    } catch (InterruptedException ex) {      \n     System.out.println(&quot;Interrupted&quot;);\n    }\n}// END MAIN\n}//END CLASS BPA\n\n\n\n\n package BPA;\n// @author Enrique\n\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\n public class Persona extends Thread {\n\nString nombre;\nprivate Cuenta cuenta;\n\npublic Persona(String nombre, Cuenta cuenta) {\n    this.nombre = nombre;\n    this.cuenta = cuenta;\n}\n\n@Override\npublic synchronized void run() {\n    while (true) {\n        cuenta.ingreso(nombre, cuenta);\n        cuenta.retiro(nombre, cuenta);\n        try {\n            sleep(1000);\n\n        } catch (Exception e) {\n            System.out.println(&quot; SLEEP QUITAR&quot;);\n        }\n        notifyAll();\n    }// END WHILE\n}// END RUN\n} // END CLASS PERSONA\n\n\n\n  package BPA;\n // @author Enrique\n\nimport java.util.Random;\n\npublic class Cuenta {\n\nprivate int saldo;\nprivate int saldoMax = 500;\nprivate int saldoMin = 1;\n\npublic Cuenta(int saldo, int saldoMax) {\n    this.saldo = saldo;\n    this.saldoMax = saldoMax;\n}\n\npublic synchronized void retiro(String nombre, Cuenta cuenta) {\n    int dinero;\n    Random rnd = new Random();\n    dinero = (int) (rnd.nextDouble() * 350.0);\n    if ((saldo - dinero) &gt; saldoMin) {\n        this.saldo = this.saldo - dinero;\n        System.out.println(&quot;Name: &quot; + nombre + &quot; extract cash: &quot; + dinero + &quot; TOTAL CASH: &quot; + getSaldo());\n        notifyAll();\n    } else {\n        System.out.println(&quot;  ****  There isn't enough cash &quot; + nombre + &quot; tryed to extract: &quot; + dinero + &quot; Cash now: &quot; + getSaldo() + &quot; ****&quot;);\n        System.out.println(&quot; ---- &quot; + nombre + &quot; IS WAITING TO EXTRACT MORE MONEY ---- &quot;);\n        try {\n            wait();\n\n        } catch (Exception e) {\n            System.out.println(&quot;SALE POR EL CATCH WAIT de QUITAR&quot;);\n        }\n    }\n}// END METHOD QUITAR\n\npublic synchronized void ingreso(String nombre, Cuenta cuenta) {\n\n    int dinero;\n    Random rnd = new Random();\n    dinero = (int) (rnd.nextDouble() * 350.0);\n\n    if ((saldo + dinero) &lt; saldoMax) {\n        this.saldo = this.saldo + dinero;\n        System.out.println(&quot;Name: &quot; + nombre + &quot; deposit cash: &quot; + dinero + &quot; TOTAL CASH: &quot; + getSaldo());\n        notifyAll();\n    } else {\n        System.out.println(&quot; **** The account can't have more than 500 Euros. &quot; + nombre + &quot; tryed to deposit: &quot; + dinero + &quot; Cash now: &quot; + getSaldo() + &quot; ****&quot;);\n        System.out.println(&quot; ---- &quot; + nombre + &quot; IS WAITING TO DEPOSIT MORE MONEY ---- &quot;);\n        try {\n            wait();\n\n        } catch (Exception e) {\n            System.out.println(&quot; CATCH WAIT PONER&quot;);\n        }\n    }\n}// END METHOD PONER\n\npublic int getSaldo() {\n    return saldo;\n}\n}// END CLASS CUENTA\n</code></pre>\n"}],"owner":{"account_id":12091451,"reputation":3,"user_id":8837441,"display_name":"Enrique"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670610932,"creation_date":1670520561,"question_id":74734136,"body_markdown":"You have 1 account, shared by 2 people, they need to extract and deposit money in the same account, methods deposit and extract must be synchronized, the max cash for the account must be 500 €, and the minimum cash must be 1€, the app must have only 3 classes Persona, Cuenta, BPA.\r\n\r\nIf one Thread can&#39;t deposit or extract must use wait, to wait the another thread, and use notify All, when the Thread stopped should continue, the app will need running until both Threads can&#39;t deposit and extract cash.\r\n\r\nThe threads don&#39;t stop on the wait, or just execute 2 prints each thread and app still running but doing nothing, i really don&#39;t know how to do it, I&#39;m literally 5 hours with that code without understand nothing\r\n\r\n\r\n```Java\r\npackage BPA;\r\n\r\n// @author Enrique\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\n\r\npublic class BPA {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Cuenta laCuenta = new Cuenta(40, 500);\r\n\r\n        Persona Ramon = new Persona(&quot;Ramon&quot;, laCuenta);\r\n        Persona Quique = new Persona(&quot;Quique&quot;, laCuenta);\r\n\r\n        Quique.start();\r\n        Ramon.start();\r\n\r\n    }// END MAIN\r\n\r\n}//END CLASS BPA\r\n```\r\n\r\n```Java\r\n\r\npackage BPA;\r\n\r\n// @author Enrique\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\n\r\npublic class Persona extends Thread {\r\n\r\n    String nombre;\r\n    private Cuenta cuenta;\r\n    private static Object cerrojo = new Object();\r\n\r\n    public Persona(String nombre, Cuenta cuenta) {\r\n        this.nombre = nombre;\r\n        this.cuenta = cuenta;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        synchronized (cerrojo) {\r\n            while (true) {\r\n                cuenta.deposit(nombre, cuenta);\r\n                cuenta.extract(nombre, cuenta);\r\n\r\n                try {\r\n                    // if(Persona.interrupted()){\r\n                    cerrojo.wait();\r\n                    System.out.println(&quot;STOPPED&quot;);\r\n                    // }\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                System.out.println(&quot;I&#39;M THE THREAD: &quot; + nombre);\r\n                cerrojo.notifyAll();\r\n            }\r\n       } // END SYNC\r\n    }// END RUN\r\n\r\n}// END CLASS PERSONA\r\n```\r\n\r\n```Java\r\n\r\npackage BPA;\r\n\r\n// @author Enrique\r\nimport java.util.Random;\r\n\r\npublic class Cuenta extends Thread {\r\n\r\n    private int saldo;\r\n    private int saldoMax = 500;\r\n    private int saldoMin = 1;\r\n\r\n    public Cuenta(int saldo, int saldoMax) {\r\n        this.saldo = saldo;\r\n        this.saldoMax = saldoMax;\r\n    }\r\n\r\n    public synchronized void extract(String nombre, Cuenta cuenta) {\r\n        //  while (true) {\r\n        int dinero;\r\n        Random rnd = new Random();\r\n        dinero = (int) (rnd.nextDouble() * 250.0);\r\n        if ((saldo - dinero) &gt; saldoMin) {\r\n            this.saldo = this.saldo - dinero;\r\n            System.out.println(&quot;Name: &quot; + nombre + &quot; extract cash: &quot; + dinero + &quot; TOTAL CASH: &quot; + getSaldo());\r\n        } else {\r\n            System.out.println(&quot;There isn&#39;t enough cash &quot; + nombre + &quot; tryed to extract: &quot; + dinero + &quot; Cash now: &quot; + getSaldo());\r\n            // try {\r\n            // miCuenta.wait();\r\n            // System.out.println(&quot;SE PARA EN EL WAIT DE QUITAR&quot;);\r\n            // } catch (Exception e) {\r\n            // System.out.println(&quot;SALE POR EL CATCH WAIT de QUITAR&quot;);\r\n            // }\r\n            try {\r\n                sleep(500);\r\n            } catch (Exception e) {\r\n                System.out.println(&quot; SLEEP QUITAR&quot;);\r\n            }\r\n        }\r\n        //  miCuenta.notify();\r\n        //  } //END while\r\n\r\n    }// END METHOD QUITAR\r\n\r\n    public synchronized void deposit(String nombre, Cuenta cuenta) {\r\n        //   while (true) {\r\n        int dinero;\r\n        Random rnd = new Random();\r\n        dinero = (int) (rnd.nextDouble() * 250.0);\r\n\r\n        if ((saldo + dinero) &lt; saldoMax) {\r\n            this.saldo = this.saldo + dinero;\r\n            System.out.println(&quot;Name: &quot; + nombre + &quot; deposit cash: &quot; + dinero + &quot; TOTAL CASH: &quot; + getSaldo());\r\n\r\n        } else {\r\n            System.out.println(&quot;The account can&#39;t have more than 500 Euros. &quot; + nombre + &quot; tryed to deposit: &quot; + dinero + &quot; Cash now: &quot; + getSaldo());\r\n                //  try {\r\n                //  miCuenta.wait();\r\n                //  System.out.println(&quot; WAIT PONER&quot;);\r\n                //   } catch (Exception e) {\r\n                //  System.out.println(&quot; CATCH WAIT PONER&quot;);\r\n                //   }\r\n            try {\r\n                sleep(500);\r\n            } catch (Exception e) {\r\n                System.out.println(&quot; SLEEP  PONER&quot;);\r\n            }\r\n        }\r\n        // miCuenta.notify();\r\n        // }// END while\r\n\r\n    }// END METHOD PONER\r\n\r\n        public int getSaldo() {\r\n        return saldo;\r\n    }\r\n\r\n\r\n}// END CLASS CUENTA\r\n\r\n```\r\n\r\n\r\nI can&#39;t make this app run as I want to do. ","title":"How to sync account in Java with two persons","body":"<p>You have 1 account, shared by 2 people, they need to extract and deposit money in the same account, methods deposit and extract must be synchronized, the max cash for the account must be 500 €, and the minimum cash must be 1€, the app must have only 3 classes Persona, Cuenta, BPA.</p>\n<p>If one Thread can't deposit or extract must use wait, to wait the another thread, and use notify All, when the Thread stopped should continue, the app will need running until both Threads can't deposit and extract cash.</p>\n<p>The threads don't stop on the wait, or just execute 2 prints each thread and app still running but doing nothing, i really don't know how to do it, I'm literally 5 hours with that code without understand nothing</p>\n<pre><code>package BPA;\n\n// @author Enrique\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class BPA {\n\n    public static void main(String[] args) {\n\n        Cuenta laCuenta = new Cuenta(40, 500);\n\n        Persona Ramon = new Persona(&quot;Ramon&quot;, laCuenta);\n        Persona Quique = new Persona(&quot;Quique&quot;, laCuenta);\n\n        Quique.start();\n        Ramon.start();\n\n    }// END MAIN\n\n}//END CLASS BPA\n</code></pre>\n<pre><code>\npackage BPA;\n\n// @author Enrique\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class Persona extends Thread {\n\n    String nombre;\n    private Cuenta cuenta;\n    private static Object cerrojo = new Object();\n\n    public Persona(String nombre, Cuenta cuenta) {\n        this.nombre = nombre;\n        this.cuenta = cuenta;\n    }\n\n    @Override\n    public void run() {\n        synchronized (cerrojo) {\n            while (true) {\n                cuenta.deposit(nombre, cuenta);\n                cuenta.extract(nombre, cuenta);\n\n                try {\n                    // if(Persona.interrupted()){\n                    cerrojo.wait();\n                    System.out.println(&quot;STOPPED&quot;);\n                    // }\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                System.out.println(&quot;I'M THE THREAD: &quot; + nombre);\n                cerrojo.notifyAll();\n            }\n       } // END SYNC\n    }// END RUN\n\n}// END CLASS PERSONA\n</code></pre>\n<pre><code>\npackage BPA;\n\n// @author Enrique\nimport java.util.Random;\n\npublic class Cuenta extends Thread {\n\n    private int saldo;\n    private int saldoMax = 500;\n    private int saldoMin = 1;\n\n    public Cuenta(int saldo, int saldoMax) {\n        this.saldo = saldo;\n        this.saldoMax = saldoMax;\n    }\n\n    public synchronized void extract(String nombre, Cuenta cuenta) {\n        //  while (true) {\n        int dinero;\n        Random rnd = new Random();\n        dinero = (int) (rnd.nextDouble() * 250.0);\n        if ((saldo - dinero) &gt; saldoMin) {\n            this.saldo = this.saldo - dinero;\n            System.out.println(&quot;Name: &quot; + nombre + &quot; extract cash: &quot; + dinero + &quot; TOTAL CASH: &quot; + getSaldo());\n        } else {\n            System.out.println(&quot;There isn't enough cash &quot; + nombre + &quot; tryed to extract: &quot; + dinero + &quot; Cash now: &quot; + getSaldo());\n            // try {\n            // miCuenta.wait();\n            // System.out.println(&quot;SE PARA EN EL WAIT DE QUITAR&quot;);\n            // } catch (Exception e) {\n            // System.out.println(&quot;SALE POR EL CATCH WAIT de QUITAR&quot;);\n            // }\n            try {\n                sleep(500);\n            } catch (Exception e) {\n                System.out.println(&quot; SLEEP QUITAR&quot;);\n            }\n        }\n        //  miCuenta.notify();\n        //  } //END while\n\n    }// END METHOD QUITAR\n\n    public synchronized void deposit(String nombre, Cuenta cuenta) {\n        //   while (true) {\n        int dinero;\n        Random rnd = new Random();\n        dinero = (int) (rnd.nextDouble() * 250.0);\n\n        if ((saldo + dinero) &lt; saldoMax) {\n            this.saldo = this.saldo + dinero;\n            System.out.println(&quot;Name: &quot; + nombre + &quot; deposit cash: &quot; + dinero + &quot; TOTAL CASH: &quot; + getSaldo());\n\n        } else {\n            System.out.println(&quot;The account can't have more than 500 Euros. &quot; + nombre + &quot; tryed to deposit: &quot; + dinero + &quot; Cash now: &quot; + getSaldo());\n                //  try {\n                //  miCuenta.wait();\n                //  System.out.println(&quot; WAIT PONER&quot;);\n                //   } catch (Exception e) {\n                //  System.out.println(&quot; CATCH WAIT PONER&quot;);\n                //   }\n            try {\n                sleep(500);\n            } catch (Exception e) {\n                System.out.println(&quot; SLEEP  PONER&quot;);\n            }\n        }\n        // miCuenta.notify();\n        // }// END while\n\n    }// END METHOD PONER\n\n        public int getSaldo() {\n        return saldo;\n    }\n\n\n}// END CLASS CUENTA\n\n</code></pre>\n<p>I can't make this app run as I want to do.</p>\n"},{"tags":["java","android","android-studio","error-handling","android-gradle-plugin"],"comments":[{"owner":{"account_id":9591845,"reputation":1778,"user_id":7122438,"accept_rate":83,"display_name":"Jacob Celestine"},"score":2,"creation_date":1533723856,"post_id":51744192,"comment_id":90448374,"body_markdown":"Click on bottom right corner icon in android studio(probably a smiling face) and uncheck the Power Save Mode. Did you do that or the system power save mode?","body":"Click on bottom right corner icon in android studio(probably a smiling face) and uncheck the Power Save Mode. Did you do that or the system power save mode?"},{"owner":{"account_id":12176013,"reputation":683,"user_id":9155610,"display_name":"Rajesh K"},"score":0,"creation_date":1533739884,"post_id":51744192,"comment_id":90459162,"body_markdown":"@JacobCelestine Thanks for the reply and sorry for the delayed response. Yes I have Disabled the Power saver and also my system/laptop is also not in power saver mode. Any other suggestion?","body":"@JacobCelestine Thanks for the reply and sorry for the delayed response. Yes I have Disabled the Power saver and also my system/laptop is also not in power saver mode. Any other suggestion?"},{"owner":{"account_id":9591845,"reputation":1778,"user_id":7122438,"accept_rate":83,"display_name":"Jacob Celestine"},"score":1,"creation_date":1533742300,"post_id":51744192,"comment_id":90460824,"body_markdown":"Try running inspection manually with Inspect Code on the Analyze menu","body":"Try running inspection manually with Inspect Code on the Analyze menu"},{"owner":{"account_id":12176013,"reputation":683,"user_id":9155610,"display_name":"Rajesh K"},"score":0,"creation_date":1533742380,"post_id":51744192,"comment_id":90460876,"body_markdown":"@JacobCelestine Tried it. But it shows that scanned x files and no errors found. Where as I have some errors in the code.","body":"@JacobCelestine Tried it. But it shows that scanned x files and no errors found. Where as I have some errors in the code."},{"owner":{"account_id":9591845,"reputation":1778,"user_id":7122438,"accept_rate":83,"display_name":"Jacob Celestine"},"score":1,"creation_date":1533742865,"post_id":51744192,"comment_id":90461187,"body_markdown":"Try this then:\nBACK UP your project.\nDelete all .iml files and .idea folder.\nRelaunch Android Studio and import your project.","body":"Try this then: BACK UP your project. Delete all .iml files and .idea folder. Relaunch Android Studio and import your project."},{"owner":{"account_id":12176013,"reputation":683,"user_id":9155610,"display_name":"Rajesh K"},"score":0,"creation_date":1533743024,"post_id":51744192,"comment_id":90461280,"body_markdown":"@JacobCelestine OK. Will try and update very soon.","body":"@JacobCelestine OK. Will try and update very soon."},{"owner":{"account_id":12176013,"reputation":683,"user_id":9155610,"display_name":"Rajesh K"},"score":0,"creation_date":1533744231,"post_id":51744192,"comment_id":90461984,"body_markdown":"@JacobCelestine It gives error &quot;app.iml&quot; not found.","body":"@JacobCelestine It gives error &quot;app.iml&quot; not found."},{"owner":{"account_id":9591845,"reputation":1778,"user_id":7122438,"accept_rate":83,"display_name":"Jacob Celestine"},"score":1,"creation_date":1533744683,"post_id":51744192,"comment_id":90462237,"body_markdown":"Rebuild the project. Build -&gt; Rebuild.","body":"Rebuild the project. Build -&gt; Rebuild."},{"owner":{"account_id":12176013,"reputation":683,"user_id":9155610,"display_name":"Rajesh K"},"score":0,"creation_date":1533745232,"post_id":51744192,"comment_id":90462529,"body_markdown":"This is the error which is given `Error:Failed to complete Gradle execution. Cause:\nWrite access is allowed from event dispatch thread only` @JacobCelestine","body":"This is the error which is given <code>Error:Failed to complete Gradle execution. Cause: Write access is allowed from event dispatch thread only</code> @JacobCelestine"},{"owner":{"account_id":9591845,"reputation":1778,"user_id":7122438,"accept_rate":83,"display_name":"Jacob Celestine"},"score":1,"creation_date":1533745314,"post_id":51744192,"comment_id":90462575,"body_markdown":"refer this: https://stackoverflow.com/questions/39828043/gradle-error-write-access-is-allowed-from-event-dispatch-thread-only-in-androi","body":"refer this: <a href=\"https://stackoverflow.com/questions/39828043/gradle-error-write-access-is-allowed-from-event-dispatch-thread-only-in-androi\" title=\"gradle error write access is allowed from event dispatch thread only in androi\">stackoverflow.com/questions/39828043/&hellip;</a>"},{"owner":{"account_id":12176013,"reputation":683,"user_id":9155610,"display_name":"Rajesh K"},"score":0,"creation_date":1533749972,"post_id":51744192,"comment_id":90465077,"body_markdown":"@JacobCelestine Now It is showing some errors such as repeated Variables but it is also showing errors for `android.os.Bundle` import and many other import also. But the situation is better than before.","body":"@JacobCelestine Now It is showing some errors such as repeated Variables but it is also showing errors for <code>android.os.Bundle</code> import and many other import also. But the situation is better than before."},{"owner":{"account_id":9591845,"reputation":1778,"user_id":7122438,"accept_rate":83,"display_name":"Jacob Celestine"},"score":1,"creation_date":1533750399,"post_id":51744192,"comment_id":90465258,"body_markdown":"that&#39;s out of this questions reach. You&#39;ll have to open another issue for those. Is your problem fixed? If yes I&#39;ll post the answer so can you just accept that?","body":"that&#39;s out of this questions reach. You&#39;ll have to open another issue for those. Is your problem fixed? If yes I&#39;ll post the answer so can you just accept that?"},{"owner":{"account_id":12176013,"reputation":683,"user_id":9155610,"display_name":"Rajesh K"},"score":0,"creation_date":1533752548,"post_id":51744192,"comment_id":90466429,"body_markdown":"@JacobCelestine Yes please post an Answer. You have helped me a lot till now. Will surely create a new Question and post the link. Please post an answer.","body":"@JacobCelestine Yes please post an Answer. You have helped me a lot till now. Will surely create a new Question and post the link. Please post an answer."},{"owner":{"account_id":9591845,"reputation":1778,"user_id":7122438,"accept_rate":83,"display_name":"Jacob Celestine"},"score":0,"creation_date":1533752994,"post_id":51744192,"comment_id":90466657,"body_markdown":"I&#39;ve posted an answer. Please accept and upvote it and close this issue. Thanks!","body":"I&#39;ve posted an answer. Please accept and upvote it and close this issue. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":9591845,"reputation":1778,"user_id":7122438,"accept_rate":83,"display_name":"Jacob Celestine"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1533752954,"creation_date":1533752954,"answer_id":51753421,"question_id":51744192,"body_markdown":"Try running inspection manually with `Inspect Code` on the `Analyze` menu.\r\n\r\nIf that doesn&#39;t work then try doing this:\r\n\r\n 1. BACK UP your project.\r\n 2. Delete all .iml files and .idea folder.\r\n 3. Relaunch Android Studio and import your project","title":"Android Studio not showing Inline Error","body":"<p>Try running inspection manually with <code>Inspect Code</code> on the <code>Analyze</code> menu.</p>\n\n<p>If that doesn't work then try doing this:</p>\n\n<ol>\n<li>BACK UP your project.</li>\n<li>Delete all .iml files and .idea folder.</li>\n<li>Relaunch Android Studio and import your project</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19519736,"reputation":1,"user_id":14282212,"display_name":"Carlos Mazzoli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670610769,"creation_date":1670610769,"answer_id":74747038,"question_id":51744192,"body_markdown":"In my case, deactivate &quot;Power save mode&quot; solve the problem.\r\n\r\nIn menu &quot;File-&gt;Power Save Mode&quot; (just in the end of menu, preview to &quot;Exit&quot; option)\r\n\r\nSlds!","title":"Android Studio not showing Inline Error","body":"<p>In my case, deactivate &quot;Power save mode&quot; solve the problem.</p>\n<p>In menu &quot;File-&gt;Power Save Mode&quot; (just in the end of menu, preview to &quot;Exit&quot; option)</p>\n<p>Slds!</p>\n"}],"owner":{"account_id":12176013,"reputation":683,"user_id":9155610,"display_name":"Rajesh K"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":51753421,"answer_count":2,"score":0,"last_activity_date":1670610769,"creation_date":1533723417,"question_id":51744192,"body_markdown":"I am using Android Studio(3.0) to make an Android App. But suddenly the Android Studio has stopped showing inline errors where as there are still errors which are shown while building the app.\r\n\r\nTill now I have tried the below solution\r\n\r\n1) Clean Project\r\n\r\n2) Rebuild project\r\n\r\n3) Invalidate cache and restart\r\n\r\n4) Check if the power save mode is on\r\n\r\n5) Resync the Gradle\r\n\r\n6) Delete the .gradle and .idea folder\r\n\r\nBut none of them have been useful. This problem has started suddenly.\r\n\r\nAny help would be really appreciated.\r\n ","title":"Android Studio not showing Inline Error","body":"<p>I am using Android Studio(3.0) to make an Android App. But suddenly the Android Studio has stopped showing inline errors where as there are still errors which are shown while building the app.</p>\n\n<p>Till now I have tried the below solution</p>\n\n<p>1) Clean Project</p>\n\n<p>2) Rebuild project</p>\n\n<p>3) Invalidate cache and restart</p>\n\n<p>4) Check if the power save mode is on</p>\n\n<p>5) Resync the Gradle</p>\n\n<p>6) Delete the .gradle and .idea folder</p>\n\n<p>But none of them have been useful. This problem has started suddenly.</p>\n\n<p>Any help would be really appreciated.</p>\n"},{"tags":["java","json","jackson","yaml"],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670610633,"creation_date":1670610633,"answer_id":74747017,"question_id":74743065,"body_markdown":"You can disable the [`YAMLGenerator.Feature#USE_NATIVE_OBJECT_ID`](https://fasterxml.github.io/jackson-dataformats-text/javadoc/yaml/2.12/com/fasterxml/jackson/dataformat/yaml/YAMLGenerator.Feature.html#USE_NATIVE_OBJECT_ID) yaml feature that is enabled by default for indicate types in the serialization. So in the construction of your `ObjectMapper` YAML_MAPPER mapper you can disable this feature like below obtaining the expected result:\r\n\r\n~~~\r\nObjectMapper YAML_MAPPER = YAMLMapper.builder()\r\n                .disable(YAMLGenerator.Feature.WRITE_DOC_START_MARKER) \r\n                .disable(YAMLGenerator.Feature.USE_NATIVE_TYPE_ID)\r\n                .build();\r\n~~~","title":"Unable to remove tag when serializing object to yaml using jackson-dataformat-yaml","body":"<p>You can disable the <a href=\"https://fasterxml.github.io/jackson-dataformats-text/javadoc/yaml/2.12/com/fasterxml/jackson/dataformat/yaml/YAMLGenerator.Feature.html#USE_NATIVE_OBJECT_ID\" rel=\"nofollow noreferrer\"><code>YAMLGenerator.Feature#USE_NATIVE_OBJECT_ID</code></a> yaml feature that is enabled by default for indicate types in the serialization. So in the construction of your <code>ObjectMapper</code> YAML_MAPPER mapper you can disable this feature like below obtaining the expected result:</p>\n<pre><code>ObjectMapper YAML_MAPPER = YAMLMapper.builder()\n                .disable(YAMLGenerator.Feature.WRITE_DOC_START_MARKER) \n                .disable(YAMLGenerator.Feature.USE_NATIVE_TYPE_ID)\n                .build();\n</code></pre>\n"}],"owner":{"account_id":88022,"reputation":26116,"user_id":243755,"accept_rate":60,"display_name":"zjffdu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74747017,"answer_count":1,"score":1,"last_activity_date":1670610660,"creation_date":1670588419,"question_id":74743065,"body_markdown":"I use jackson (jackson-databinder &amp; jackson-dataformat-yaml) to serialize polymorphism classes to both json and yaml. And I use one class property as type resolver. I can remove the class metadata info in json, but in yaml it still contain the class meta info in tag. How can I remove that. Here&#39;s my sample code:\r\n\r\n      @JsonTypeInfo(use = JsonTypeInfo.Id.NAME,\r\n          include = JsonTypeInfo.As.EXISTING_PROPERTY,\r\n          property = &quot;type&quot;)\r\n      @JsonSubTypes({\r\n          @Type(value = Car.class, name = &quot;car&quot;),\r\n          @Type(value = Truck.class, name = &quot;truck&quot;) })\r\n      public interface Vehicle {\r\n    \r\n    \r\n        String getName();\r\n      }\r\n    \r\n      @Value\r\n      public static class Car implements Vehicle {\r\n        String name;\r\n        String type = &quot;car&quot;;\r\n    \r\n        @JsonCreator\r\n        public Car(@JsonProperty(&quot;name&quot;) final String name) {\r\n          this.name = requireNonNull(name);\r\n        }\r\n      }\r\n    \r\n      @Value\r\n      public static class Truck implements Vehicle {\r\n        String name;\r\n        String type = &quot;truck&quot;;\r\n    \r\n        @JsonCreator\r\n        public Truck(@JsonProperty(&quot;name&quot;) final String name) {\r\n          this.name = requireNonNull(name);\r\n        }\r\n      }\r\n    \r\n      @Value\r\n      public static class Vehicles {\r\n        List&lt;Vehicle&gt; vehicles;\r\n    \r\n        @JsonCreator\r\n        public Vehicles(@JsonProperty(&quot;vehicles&quot;) final List&lt;Vehicle&gt; vehicles) {\r\n          super();\r\n          this.vehicles = requireNonNull(vehicles);\r\n        }\r\n      }\r\n\r\n\r\n      public static void main(String[] args) throws JsonProcessingException {\r\n        ObjectMapper MAPPER = new ObjectMapper();\r\n        ObjectMapper YAML_MAPPER = YAMLMapper.builder()\r\n            .disable(YAMLGenerator.Feature.WRITE_DOC_START_MARKER)\r\n            .build();\r\n    \r\n        final Vehicles vehicles = new Vehicles(ImmutableList.of(new Car(&quot;Dodge&quot;), new Truck(&quot;Scania&quot;)));\r\n        final String json = MAPPER.writerWithDefaultPrettyPrinter().writeValueAsString(vehicles);\r\n        System.out.println(json);\r\n    \r\n        final String yaml = YAML_MAPPER.writerWithDefaultPrettyPrinter().writeValueAsString(vehicles);\r\n        System.out.println(yaml);\r\n    \r\n      }\r\n\r\nAnd here&#39;s json and yaml output:\r\n\r\n    {\r\n      &quot;vehicles&quot; : [ {\r\n        &quot;name&quot; : &quot;Dodge&quot;,\r\n        &quot;type&quot; : &quot;car&quot;\r\n      }, {\r\n        &quot;name&quot; : &quot;Scania&quot;,\r\n        &quot;type&quot; : &quot;truck&quot;\r\n      } ]\r\n    }\r\n    vehicles:\r\n    - !&lt;car&gt;\r\n      name: &quot;Dodge&quot;\r\n      type: &quot;car&quot;\r\n    - !&lt;truck&gt;\r\n      name: &quot;Scania&quot;\r\n      type: &quot;truck&quot;\r\n\r\n\r\nThere&#39;s no class meta info in json output. But in yaml, there&#39;re still the tag which contains the class meta info. Is it possible to remove that in yaml as json? Thanks","title":"Unable to remove tag when serializing object to yaml using jackson-dataformat-yaml","body":"<p>I use jackson (jackson-databinder &amp; jackson-dataformat-yaml) to serialize polymorphism classes to both json and yaml. And I use one class property as type resolver. I can remove the class metadata info in json, but in yaml it still contain the class meta info in tag. How can I remove that. Here's my sample code:</p>\n<pre><code>  @JsonTypeInfo(use = JsonTypeInfo.Id.NAME,\n      include = JsonTypeInfo.As.EXISTING_PROPERTY,\n      property = &quot;type&quot;)\n  @JsonSubTypes({\n      @Type(value = Car.class, name = &quot;car&quot;),\n      @Type(value = Truck.class, name = &quot;truck&quot;) })\n  public interface Vehicle {\n\n\n    String getName();\n  }\n\n  @Value\n  public static class Car implements Vehicle {\n    String name;\n    String type = &quot;car&quot;;\n\n    @JsonCreator\n    public Car(@JsonProperty(&quot;name&quot;) final String name) {\n      this.name = requireNonNull(name);\n    }\n  }\n\n  @Value\n  public static class Truck implements Vehicle {\n    String name;\n    String type = &quot;truck&quot;;\n\n    @JsonCreator\n    public Truck(@JsonProperty(&quot;name&quot;) final String name) {\n      this.name = requireNonNull(name);\n    }\n  }\n\n  @Value\n  public static class Vehicles {\n    List&lt;Vehicle&gt; vehicles;\n\n    @JsonCreator\n    public Vehicles(@JsonProperty(&quot;vehicles&quot;) final List&lt;Vehicle&gt; vehicles) {\n      super();\n      this.vehicles = requireNonNull(vehicles);\n    }\n  }\n\n\n  public static void main(String[] args) throws JsonProcessingException {\n    ObjectMapper MAPPER = new ObjectMapper();\n    ObjectMapper YAML_MAPPER = YAMLMapper.builder()\n        .disable(YAMLGenerator.Feature.WRITE_DOC_START_MARKER)\n        .build();\n\n    final Vehicles vehicles = new Vehicles(ImmutableList.of(new Car(&quot;Dodge&quot;), new Truck(&quot;Scania&quot;)));\n    final String json = MAPPER.writerWithDefaultPrettyPrinter().writeValueAsString(vehicles);\n    System.out.println(json);\n\n    final String yaml = YAML_MAPPER.writerWithDefaultPrettyPrinter().writeValueAsString(vehicles);\n    System.out.println(yaml);\n\n  }\n</code></pre>\n<p>And here's json and yaml output:</p>\n<pre><code>{\n  &quot;vehicles&quot; : [ {\n    &quot;name&quot; : &quot;Dodge&quot;,\n    &quot;type&quot; : &quot;car&quot;\n  }, {\n    &quot;name&quot; : &quot;Scania&quot;,\n    &quot;type&quot; : &quot;truck&quot;\n  } ]\n}\nvehicles:\n- !&lt;car&gt;\n  name: &quot;Dodge&quot;\n  type: &quot;car&quot;\n- !&lt;truck&gt;\n  name: &quot;Scania&quot;\n  type: &quot;truck&quot;\n</code></pre>\n<p>There's no class meta info in json output. But in yaml, there're still the tag which contains the class meta info. Is it possible to remove that in yaml as json? Thanks</p>\n"},{"tags":["java","spring","mongodb","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":938578,"reputation":5229,"user_id":4657798,"display_name":"Miloš Milivojević"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1461252755,"creation_date":1461252755,"answer_id":36774240,"question_id":31019139,"body_markdown":"It shouldn&#39;t be possible, the documentation states that the collection field should be collection name, therefore not an expression:\r\nhttp://docs.spring.io/spring-data/data-mongodb/docs/current/api/org/springframework/data/mongodb/core/mapping/Document.html\r\n\r\nAs far as your other question is concerned - even if passing an expression was possible, I would recommend creating a new repository class - code duplication would not be bad and also your microservices may need to perform different queries and the single repository class approach would force you to keep query methods for all microservices within the same interface, which isn&#39;t very clean.\r\n\r\nTake a look at this video, they list some very interesting approaches: http://www.infoq.com/presentations/Micro-Services\r\n\r\n","title":"Specify MongoDb collection name at runtime in Spring boot","body":"<p>It shouldn't be possible, the documentation states that the collection field should be collection name, therefore not an expression:\n<a href=\"http://docs.spring.io/spring-data/data-mongodb/docs/current/api/org/springframework/data/mongodb/core/mapping/Document.html\" rel=\"nofollow\">http://docs.spring.io/spring-data/data-mongodb/docs/current/api/org/springframework/data/mongodb/core/mapping/Document.html</a></p>\n\n<p>As far as your other question is concerned - even if passing an expression was possible, I would recommend creating a new repository class - code duplication would not be bad and also your microservices may need to perform different queries and the single repository class approach would force you to keep query methods for all microservices within the same interface, which isn't very clean.</p>\n\n<p>Take a look at this video, they list some very interesting approaches: <a href=\"http://www.infoq.com/presentations/Micro-Services\" rel=\"nofollow\">http://www.infoq.com/presentations/Micro-Services</a></p>\n"},{"tags":[],"owner":{"account_id":9366757,"reputation":793,"user_id":8031498,"accept_rate":67,"display_name":"Steve Storck"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1606476326,"creation_date":1606476326,"answer_id":65036567,"question_id":31019139,"body_markdown":"This is a really old thread, but I will add some better information here in case someone else finds this discussion, because things are a bit more flexible than what the accepted answer claims.\r\n\r\nYou can use an expression for the collection name because spel is an acceptable way to resolve the collection name.  For example, if you have a property in your application.properties file like this:\r\n\r\n    mongo.collection.name = my_docs\r\n\r\nAnd if you create a spring bean for this property in your configuration class like this:\r\n\r\n    @Bean(&quot;myDocumentCollection&quot;)\r\n    public String mongoCollectionName(@Value(&quot;${mongo.collection.name}&quot;) final String collectionName) {\r\n        return collectionName\r\n    }\r\n\r\nThen you can use that as the collection name for a persistence document model like this:\r\n\r\n    @Document(collection = &quot;#{@myDocumentCollection}&quot;)\r\n    public class SomeModel {\r\n        @Id\r\n        private String id;\r\n        // other members and accessors/mutators\r\n        // omitted for brevity\r\n    }","title":"Specify MongoDb collection name at runtime in Spring boot","body":"<p>This is a really old thread, but I will add some better information here in case someone else finds this discussion, because things are a bit more flexible than what the accepted answer claims.</p>\n<p>You can use an expression for the collection name because spel is an acceptable way to resolve the collection name.  For example, if you have a property in your application.properties file like this:</p>\n<pre><code>mongo.collection.name = my_docs\n</code></pre>\n<p>And if you create a spring bean for this property in your configuration class like this:</p>\n<pre><code>@Bean(&quot;myDocumentCollection&quot;)\npublic String mongoCollectionName(@Value(&quot;${mongo.collection.name}&quot;) final String collectionName) {\n    return collectionName\n}\n</code></pre>\n<p>Then you can use that as the collection name for a persistence document model like this:</p>\n<pre><code>@Document(collection = &quot;#{@myDocumentCollection}&quot;)\npublic class SomeModel {\n    @Id\n    private String id;\n    // other members and accessors/mutators\n    // omitted for brevity\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4980140,"reputation":3385,"user_id":4005379,"accept_rate":64,"display_name":"Alferd Nobel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1670610009,"creation_date":1670610009,"answer_id":74746929,"question_id":31019139,"body_markdown":"I used `@environment.getProperty()` to read from my `application.yml`. Like so :\r\n\r\n*application.yml:*\r\n\r\n    mongodb:\r\n      collections:\r\n        dwr-suffix: dwr\r\n\r\n*Model:*\r\n\r\n    @Document(&quot;Log-#{@environment.getProperty(&#39;mongodb.collections.dwr-suffix&#39;)}&quot;)\r\n    public class Log  {\r\n        @Id\r\n        String logId;\r\n        ...\r\n\r\n","title":"Specify MongoDb collection name at runtime in Spring boot","body":"<p>I used <code>@environment.getProperty()</code> to read from my <code>application.yml</code>. Like so :</p>\n<p><em>application.yml:</em></p>\n<pre><code>mongodb:\n  collections:\n    dwr-suffix: dwr\n</code></pre>\n<p><em>Model:</em></p>\n<pre><code>@Document(&quot;Log-#{@environment.getProperty('mongodb.collections.dwr-suffix')}&quot;)\npublic class Log  {\n    @Id\n    String logId;\n    ...\n</code></pre>\n"}],"owner":{"account_id":5587487,"reputation":307,"user_id":4427674,"accept_rate":75,"display_name":"sm-azure"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10147,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":36774240,"answer_count":3,"score":7,"last_activity_date":1670610009,"creation_date":1435127258,"question_id":31019139,"body_markdown":"I am trying to reuse my existing EmployeeRepository code (see below) in two different microservices to store data in two different collections (in the same database). \r\n\r\n    @Document(collection = &quot;employee&quot;)\r\n    public interface EmployeeRepository extends MongoRepository&lt;Employee, String&gt; \r\n\r\nIs it possible to modify `@Document(collection = &quot;employee&quot;)` to accept runtime parameters? For e.g. something like `@Document(collection = ${COLLECTION_NAME})`. \r\n\r\nWould you recommend this approach or should I create a new Repository?","title":"Specify MongoDb collection name at runtime in Spring boot","body":"<p>I am trying to reuse my existing EmployeeRepository code (see below) in two different microservices to store data in two different collections (in the same database). </p>\n\n<pre><code>@Document(collection = \"employee\")\npublic interface EmployeeRepository extends MongoRepository&lt;Employee, String&gt; \n</code></pre>\n\n<p>Is it possible to modify <code>@Document(collection = \"employee\")</code> to accept runtime parameters? For e.g. something like <code>@Document(collection = ${COLLECTION_NAME})</code>. </p>\n\n<p>Would you recommend this approach or should I create a new Repository?</p>\n"},{"tags":["java","windows","selenium","batch-file","jenkins"],"comments":[{"owner":{"account_id":3411706,"reputation":69943,"user_id":2861476,"display_name":"MC ND"},"score":0,"creation_date":1491319795,"post_id":43211445,"comment_id":73494806,"body_markdown":"Maybe [this](http://stackoverflow.com/a/25440709/2861476) could help.","body":"Maybe <a href=\"http://stackoverflow.com/a/25440709/2861476\">this</a> could help."},{"owner":{"account_id":1215900,"reputation":1981,"user_id":1183506,"accept_rate":100,"display_name":"mrfreester"},"score":0,"creation_date":1491322303,"post_id":43211445,"comment_id":73496545,"body_markdown":"Which directory do you run it from when you run it manually? Have you tried to have Jenkins change to that same directory before running the `.bat` file? My guess is this is a working directory issue with some other file than your `.bat` or `.jar` file.","body":"Which directory do you run it from when you run it manually? Have you tried to have Jenkins change to that same directory before running the <code>.bat</code> file? My guess is this is a working directory issue with some other file than your <code>.bat</code> or <code>.jar</code> file."},{"owner":{"account_id":6482733,"reputation":378,"user_id":5019251,"accept_rate":90,"display_name":"Shreyas SG"},"score":0,"creation_date":1491368217,"post_id":43211445,"comment_id":73514758,"body_markdown":"@mrfreester - I run it from C:/Desktop/QA directory, manually.. in jenkins, under configure build action, i have selected &#39;windows bat file&#39; and have given full path - C:/Desktop/QA/trigger.bat\nAlso, in the bat file, i am setting PATH and CLASSPATH values to C:/ProgramFiles/java/jdk1.7 and C:/Desktop/QA directories, respectively.","body":"@mrfreester - I run it from C:/Desktop/QA directory, manually.. in jenkins, under configure build action, i have selected &#39;windows bat file&#39; and have given full path - C:/Desktop/QA/trigger.bat Also, in the bat file, i am setting PATH and CLASSPATH values to C:/ProgramFiles/java/jdk1.7 and C:/Desktop/QA directories, respectively."},{"owner":{"account_id":1215900,"reputation":1981,"user_id":1183506,"accept_rate":100,"display_name":"mrfreester"},"score":1,"creation_date":1491402760,"post_id":43211445,"comment_id":73538465,"body_markdown":"@ShreyasSG try `Execute Windows Batch Command` instead for your build step. On the first line, put `cd C:/Desktop/QA/`. On your second line try `trigger.bat` or `C:\\Desktop\\QA\\trigger.bat`. Otherwise, you would probably have to figure out what in your script is trying to use the working directory. If that works I&#39;ll put it as an answer, let me know  :)","body":"@ShreyasSG try <code>Execute Windows Batch Command</code> instead for your build step. On the first line, put <code>cd C:&#47;Desktop&#47;QA&#47;</code>. On your second line try <code>trigger.bat</code> or <code>C:\\Desktop\\QA\\trigger.bat</code>. Otherwise, you would probably have to figure out what in your script is trying to use the working directory. If that works I&#39;ll put it as an answer, let me know  :)"},{"owner":{"account_id":1215900,"reputation":1981,"user_id":1183506,"accept_rate":100,"display_name":"mrfreester"},"score":0,"creation_date":1491403194,"post_id":43211445,"comment_id":73538856,"body_markdown":"Something to also consider, are all your dependencies on the Jenkins box? All the web drivers or other files you reference? Is there any more detail in the `cannot find the file` error you&#39;re seeing?","body":"Something to also consider, are all your dependencies on the Jenkins box? All the web drivers or other files you reference? Is there any more detail in the <code>cannot find the file</code> error you&#39;re seeing?"},{"owner":{"account_id":1215900,"reputation":1981,"user_id":1183506,"accept_rate":100,"display_name":"mrfreester"},"score":0,"creation_date":1491403612,"post_id":43211445,"comment_id":73539204,"body_markdown":"Another way to get around this probably would be [to look at this question/answer](http://stackoverflow.com/questions/320542/how-to-get-the-path-of-a-running-jar-file) instead of `.\\ ` in your java code to reference the `.jar` directory instead of the current working directory. This is because `.\\ ` won&#39;t necessarily be the directory your `.jar` file is in:)","body":"Another way to get around this probably would be <a href=\"http://stackoverflow.com/questions/320542/how-to-get-the-path-of-a-running-jar-file\">to look at this question/answer</a> instead of <code>.\\ </code> in your java code to reference the <code>.jar</code> directory instead of the current working directory. This is because <code>.\\ </code> won&#39;t necessarily be the directory your <code>.jar</code> file is in:)"},{"owner":{"account_id":6482733,"reputation":378,"user_id":5019251,"accept_rate":90,"display_name":"Shreyas SG"},"score":0,"creation_date":1491810077,"post_id":43211445,"comment_id":73699291,"body_markdown":"@mrfreester, Tried your 1st option above, was able to progress to an extent. I have page URLs on an excel sheet and that excel is referred by .jar file to launch browser and perform tests. Jenkins is just printing the excel URLs and not launching the browser. That means, Jenkins executed my .jar file ---- 2nd option - What do you mean by &quot;dependencies on Jenkin box&quot;? can you please elaborate? I&#39;m new to this :( ----- 3rd option - I am storing .jar file and excel file and everything in the same location.","body":"@mrfreester, Tried your 1st option above, was able to progress to an extent. I have page URLs on an excel sheet and that excel is referred by .jar file to launch browser and perform tests. Jenkins is just printing the excel URLs and not launching the browser. That means, Jenkins executed my .jar file ---- 2nd option - What do you mean by &quot;dependencies on Jenkin box&quot;? can you please elaborate? I&#39;m new to this :( ----- 3rd option - I am storing .jar file and excel file and everything in the same location."},{"owner":{"account_id":1215900,"reputation":1981,"user_id":1183506,"accept_rate":100,"display_name":"mrfreester"},"score":0,"creation_date":1491834746,"post_id":43211445,"comment_id":73716175,"body_markdown":"@ShreyasSG Basically everything on your local computer that your tests require to run also need to be on the machine Jenkins is running on, preferably in the same location. I&#39;m not sure what WebDrivers you&#39;re using, but you&#39;ll need those on the Jenkins machine as well if you&#39;re using them locally. Are you sure Jenkins is not launching the browser? Do you get an exception? If you run tests through Jenkins, you might not see the browser launch because it&#39;s as a different user on a different desktop, but that doesn&#39;t mean it&#39;s not running the test.","body":"@ShreyasSG Basically everything on your local computer that your tests require to run also need to be on the machine Jenkins is running on, preferably in the same location. I&#39;m not sure what WebDrivers you&#39;re using, but you&#39;ll need those on the Jenkins machine as well if you&#39;re using them locally. Are you sure Jenkins is not launching the browser? Do you get an exception? If you run tests through Jenkins, you might not see the browser launch because it&#39;s as a different user on a different desktop, but that doesn&#39;t mean it&#39;s not running the test."},{"owner":{"account_id":1215900,"reputation":1981,"user_id":1183506,"accept_rate":100,"display_name":"mrfreester"},"score":0,"creation_date":1491834794,"post_id":43211445,"comment_id":73716217,"body_markdown":"To test, you could add a `println` after you navigate to the url in your code. If you see that output you know the browser launched successfully, because it&#39;ll throw an exception if it fails.","body":"To test, you could add a <code>println</code> after you navigate to the url in your code. If you see that output you know the browser launched successfully, because it&#39;ll throw an exception if it fails."},{"owner":{"account_id":6482733,"reputation":378,"user_id":5019251,"accept_rate":90,"display_name":"Shreyas SG"},"score":0,"creation_date":1491844538,"post_id":43211445,"comment_id":73722605,"body_markdown":"The problem was with the installation of Jenkins. A devops engineer solved this for me. Had to install Tomcat and jenkins within that.\nHe said &quot;If Jenkins is installed as UI, it can&#39;t open another UI. Hence we should install .war file on a separate server which creates separate UI for jenkins, and my application UI (firefox) can be launched on the local&quot;.","body":"The problem was with the installation of Jenkins. A devops engineer solved this for me. Had to install Tomcat and jenkins within that. He said &quot;If Jenkins is installed as UI, it can&#39;t open another UI. Hence we should install .war file on a separate server which creates separate UI for jenkins, and my application UI (firefox) can be launched on the local&quot;."},{"owner":{"account_id":1215900,"reputation":1981,"user_id":1183506,"accept_rate":100,"display_name":"mrfreester"},"score":0,"creation_date":1491844730,"post_id":43211445,"comment_id":73722724,"body_markdown":"Sounds like this was 2 problems, the first was the issue with the working directory, and the 2nd, not related to the question, was with the Jenkins installation not setup to be able to open a browser. Glad you got it worked out :)","body":"Sounds like this was 2 problems, the first was the issue with the working directory, and the 2nd, not related to the question, was with the Jenkins installation not setup to be able to open a browser. Glad you got it worked out :)"},{"owner":{"account_id":13114408,"reputation":173,"user_id":9474164,"display_name":"helloworld9"},"score":0,"creation_date":1526499983,"post_id":43211445,"comment_id":87773882,"body_markdown":"You can also try following method mentioned at https://stackoverflow.com/questions/24733917/jenkins-cant-see-mapped-drive?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa","body":"You can also try following method mentioned at <a href=\"https://stackoverflow.com/questions/24733917/jenkins-cant-see-mapped-drive?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\" title=\"jenkins cant see mapped drive\">stackoverflow.com/questions/24733917/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10611690,"reputation":71,"user_id":7815438,"display_name":"Vidyasagar Gayakwad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491322725,"creation_date":1491322725,"answer_id":43212611,"question_id":43211445,"body_markdown":" identify the current dir path where .bat file is placed  and append / add to system path variable. Once done then allow jenkin to execute .bat file.","title":"Jenkins | &quot;The system cannot find the file specified&quot;","body":"<p>identify the current dir path where .bat file is placed  and append / add to system path variable. Once done then allow jenkin to execute .bat file.</p>\n"},{"tags":[],"owner":{"account_id":1215900,"reputation":1981,"user_id":1183506,"accept_rate":100,"display_name":"mrfreester"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491835198,"creation_date":1491835198,"answer_id":43326135,"question_id":43211445,"body_markdown":"This is an issue with your working directory being different when you&#39;re running on Jenkins.\r\n\r\nEasiest fix:\r\nExecute Windows Batch Command instead for your build step. On the first line, put `cd C:/Desktop/QA/` to change your working directory to match what you&#39;re doing locally. On your second line use `trigger.bat` or `C:\\Desktop\\QA\\trigger.bat`.\r\n\r\nMore robust fix:\r\nIn your java code, you&#39;re using `.\\ ` when referencing other files. This basically means current directory, which won&#39;t be what you want if you&#39;re in a different working directory. Instead, you can [look at this question/answer](https://stackoverflow.com/questions/320542/how-to-get-the-path-of-a-running-jar-file) which shows how to reference the directory where your `.jar` file is instead of the working directory. In summary do this:\r\n\r\n    return new File(MyClass.class.getProtectionDomain().getCodeSource()\r\n        .getLocation().toURI().getPath());","title":"Jenkins | &quot;The system cannot find the file specified&quot;","body":"<p>This is an issue with your working directory being different when you're running on Jenkins.</p>\n\n<p>Easiest fix:\nExecute Windows Batch Command instead for your build step. On the first line, put <code>cd C:/Desktop/QA/</code> to change your working directory to match what you're doing locally. On your second line use <code>trigger.bat</code> or <code>C:\\Desktop\\QA\\trigger.bat</code>.</p>\n\n<p>More robust fix:\nIn your java code, you're using <code>.\\</code> when referencing other files. This basically means current directory, which won't be what you want if you're in a different working directory. Instead, you can <a href=\"https://stackoverflow.com/questions/320542/how-to-get-the-path-of-a-running-jar-file\">look at this question/answer</a> which shows how to reference the directory where your <code>.jar</code> file is instead of the working directory. In summary do this:</p>\n\n<pre><code>return new File(MyClass.class.getProtectionDomain().getCodeSource()\n    .getLocation().toURI().getPath());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6482733,"reputation":378,"user_id":5019251,"accept_rate":90,"display_name":"Shreyas SG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1491844647,"creation_date":1491844647,"answer_id":43329234,"question_id":43211445,"body_markdown":"The problem was with the installation of Jenkins. A devops engineer solved this for me. Had to install Tomcat and jenkins within that. He said &quot;If Jenkins is installed as UI, it can&#39;t open another UI. Hence we should install .war file on a separate server which creates separate UI for jenkins, and my application UI (firefox) can be launched on the local&quot;.","title":"Jenkins | &quot;The system cannot find the file specified&quot;","body":"<p>The problem was with the installation of Jenkins. A devops engineer solved this for me. Had to install Tomcat and jenkins within that. He said \"If Jenkins is installed as UI, it can't open another UI. Hence we should install .war file on a separate server which creates separate UI for jenkins, and my application UI (firefox) can be launched on the local\".</p>\n"},{"tags":[],"owner":{"account_id":3289024,"reputation":49,"user_id":2767738,"display_name":"Amit Thakur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629351156,"creation_date":1629281135,"answer_id":68830346,"question_id":43211445,"body_markdown":"It seems while removing the files/folder or copy the files to remote server it may give below error message:\r\n```lang.java\r\nCaused: java.io.IOException: Cannot run program &quot;nohup&quot; (in directory &quot;C:\\Windows\\system32\\config\\systemprofile\\AppData\\Local\\Jenkins\\.jenkins\\workspace\\Test_ssh_Remove&quot;): CreateProcess error=2, The system cannot find the file specified\r\njava.io.IOException: CreateProcess error=2, The system cannot find the file specified\r\n```\r\nTo resolve this issue you must give relative path in source and target instead of absolute path as below. e.g. Here &quot;Program Files&quot; folder inside the C: drive on windows machine (Remote server).\r\n \r\n***Sample :***\r\n```lang.java\r\ndir(&#39;VueAPP&#39;) { // Go to Your Current Directory where build code present to copy at Remote server \r\n\r\n   sshRemove remote: remote, path: &quot;/Program Files/Apache24/htdocs/dist&quot;\r\n\r\n   sshPut remote: remote, from: &#39;dist&#39;, into: &#39;/Program Files/Apache24/htdocs/&#39;\r\n\r\n   sshPut remote: remote, from: &#39;index.html&#39;, into: &#39;/Program Files/Apache24/htdocs/&#39;\r\n\r\n}\r\n```","title":"Jenkins | &quot;The system cannot find the file specified&quot;","body":"<p>It seems while removing the files/folder or copy the files to remote server it may give below error message:</p>\n<pre><code>Caused: java.io.IOException: Cannot run program &quot;nohup&quot; (in directory &quot;C:\\Windows\\system32\\config\\systemprofile\\AppData\\Local\\Jenkins\\.jenkins\\workspace\\Test_ssh_Remove&quot;): CreateProcess error=2, The system cannot find the file specified\njava.io.IOException: CreateProcess error=2, The system cannot find the file specified\n</code></pre>\n<p>To resolve this issue you must give relative path in source and target instead of absolute path as below. e.g. Here &quot;Program Files&quot; folder inside the C: drive on windows machine (Remote server).</p>\n<p><em><strong>Sample :</strong></em></p>\n<pre><code>dir('VueAPP') { // Go to Your Current Directory where build code present to copy at Remote server \n\n   sshRemove remote: remote, path: &quot;/Program Files/Apache24/htdocs/dist&quot;\n\n   sshPut remote: remote, from: 'dist', into: '/Program Files/Apache24/htdocs/'\n\n   sshPut remote: remote, from: 'index.html', into: '/Program Files/Apache24/htdocs/'\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10531337,"reputation":81,"user_id":7760578,"display_name":"badar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633590815,"creation_date":1633590815,"answer_id":69476870,"question_id":43211445,"body_markdown":"For me, there was an extra space in the path of java &quot;C:\\Program Files\\Java\\jdk1.8.0_301/bin/java&quot; I updated and it worked. \r\nManage Jenkins -&gt; GLobal Tool Configuration -&gt; JDK","title":"Jenkins | &quot;The system cannot find the file specified&quot;","body":"<p>For me, there was an extra space in the path of java &quot;C:\\Program Files\\Java\\jdk1.8.0_301/bin/java&quot; I updated and it worked.\nManage Jenkins -&gt; GLobal Tool Configuration -&gt; JDK</p>\n"}],"owner":{"account_id":6482733,"reputation":378,"user_id":5019251,"accept_rate":90,"display_name":"Shreyas SG"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36495,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":43329234,"answer_count":5,"score":2,"last_activity_date":1670609991,"creation_date":1491319534,"question_id":43211445,"body_markdown":"I am using Jenkins to schedule my selenium/java automated tests (test scripts packaged into a `.jar` file).\r\n\r\nI have created a `.bat` file to trigger the `.jar` file and i am calling the `.bat` file from Jenkins.\r\n\r\nWhen I manually trigger the tests, by double clicking on `.bat` file, everything runs smoothly. But when I try to run the same through Jenkins, I am getting the following error for each test case:\r\n\r\n&gt;&quot;The system cannot find the file specified&quot;\r\n\r\nJenkins is calling the `.bat` file successfully, because I can see the test case name (which is present within `.jar` file) displayed on the jenkins console.\r\n\r\nIn my java code, I have used `.\\` to represent the &quot;current directory&quot; where my jar file is present along with an excel file which data drives the automation framework. Even the `.bat` file is present in the same location, and I have given fully qualified path on both `.bat` file and on jenkins.\r\n\r\nI can&#39;t hardcode and will have to use `./` in my java code. And I am running this on Windows Server (not my local machine).","title":"Jenkins | &quot;The system cannot find the file specified&quot;","body":"<p>I am using Jenkins to schedule my selenium/java automated tests (test scripts packaged into a <code>.jar</code> file).</p>\n\n<p>I have created a <code>.bat</code> file to trigger the <code>.jar</code> file and i am calling the <code>.bat</code> file from Jenkins.</p>\n\n<p>When I manually trigger the tests, by double clicking on <code>.bat</code> file, everything runs smoothly. But when I try to run the same through Jenkins, I am getting the following error for each test case:</p>\n\n<blockquote>\n  <p>\"The system cannot find the file specified\"</p>\n</blockquote>\n\n<p>Jenkins is calling the <code>.bat</code> file successfully, because I can see the test case name (which is present within <code>.jar</code> file) displayed on the jenkins console.</p>\n\n<p>In my java code, I have used <code>.\\</code> to represent the \"current directory\" where my jar file is present along with an excel file which data drives the automation framework. Even the <code>.bat</code> file is present in the same location, and I have given fully qualified path on both <code>.bat</code> file and on jenkins.</p>\n\n<p>I can't hardcode and will have to use <code>./</code> in my java code. And I am running this on Windows Server (not my local machine).</p>\n"},{"tags":["java","react-native","gradle","expo","eas"],"comments":[{"owner":{"account_id":3424565,"reputation":53,"user_id":2870728,"display_name":"Abramovick"},"score":1,"creation_date":1662479856,"post_id":73234451,"comment_id":130012921,"body_markdown":"Having the same issue, Did you manage to fix it?","body":"Having the same issue, Did you manage to fix it?"},{"owner":{"account_id":1153366,"reputation":696,"user_id":1779625,"accept_rate":0,"display_name":"Mashpy Rahman"},"score":1,"creation_date":1663059508,"post_id":73234451,"comment_id":130144188,"body_markdown":"I am also facing same problem. Anyone can help?","body":"I am also facing same problem. Anyone can help?"}],"answers":[{"tags":[],"owner":{"account_id":3319649,"reputation":2683,"user_id":2791142,"display_name":"Kirill Novikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670609792,"creation_date":1670609792,"answer_id":74746896,"question_id":73234451,"body_markdown":"Looks like you need to upgrade `expo-intent-launcher` package to version `10.2.0` \r\nhttps://github.com/expo/expo/blob/main/packages/expo-intent-launcher/CHANGELOG.md#1020--2022-04-18\r\n\r\nDetails why it happens in the PR: https://github.com/expo/expo/pull/16941","title":"expo eas build failing Could not target platform: &#39;Java SE 11&#39; using tool chain: &#39;JDK 8 (1.8)&#39;","body":"<p>Looks like you need to upgrade <code>expo-intent-launcher</code> package to version <code>10.2.0</code>\n<a href=\"https://github.com/expo/expo/blob/main/packages/expo-intent-launcher/CHANGELOG.md#1020--2022-04-18\" rel=\"nofollow noreferrer\">https://github.com/expo/expo/blob/main/packages/expo-intent-launcher/CHANGELOG.md#1020--2022-04-18</a></p>\n<p>Details why it happens in the PR: <a href=\"https://github.com/expo/expo/pull/16941\" rel=\"nofollow noreferrer\">https://github.com/expo/expo/pull/16941</a></p>\n"}],"owner":{"account_id":25124639,"reputation":51,"user_id":18972565,"display_name":"hand code 2"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1670609792,"creation_date":1659609571,"question_id":73234451,"body_markdown":"I am building eas build and its failing after some time by showing this error\r\n\r\n* What went wrong:\r\n[stderr] \r\nExecution failed for task &#39;:expo-intent-launcher:compileReleaseJavaWithJavac&#39;.\r\n[stderr] \r\n&gt; Could not target platform: &#39;Java SE 11&#39; using tool chain: &#39;JDK 8 (1.8)&#39;.\r\n[stderr] \r\n* Try:\r\n[stderr] \r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n[stderr] \r\n* Get more help at https://help.gradle.org\r\n\r\nAnd when I add that library by yarn add expo-intent-launcher@specific_version then its showing build fail for next library .so is any way to find out which library will fail and ill add them before building .or any guidance on this please help thanks. ","title":"expo eas build failing Could not target platform: &#39;Java SE 11&#39; using tool chain: &#39;JDK 8 (1.8)&#39;","body":"<p>I am building eas build and its failing after some time by showing this error</p>\n<ul>\n<li>What went wrong:\n[stderr]\nExecution failed for task ':expo-intent-launcher:compileReleaseJavaWithJavac'.\n[stderr]</li>\n</ul>\n<blockquote>\n<p>Could not target platform: 'Java SE 11' using tool chain: 'JDK 8 (1.8)'.\n[stderr]</p>\n</blockquote>\n<ul>\n<li>Try:\n[stderr]\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n[stderr]</li>\n<li>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></li>\n</ul>\n<p>And when I add that library by yarn add expo-intent-launcher@specific_version then its showing build fail for next library .so is any way to find out which library will fail and ill add them before building .or any guidance on this please help thanks.</p>\n"},{"tags":["java","csv","client-server","import-csv"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1670610394,"post_id":74746878,"comment_id":131921208,"body_markdown":"`the GUI (program) freezes` This is almost always from trying to executing long running code on the GUI event thread.  Please show us how `importFromCSV` is called in relation to the GUI code.  To run a task as a background task, look at [SwingWorker](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html)","body":"<code>the GUI (program) freezes</code> This is almost always from trying to executing long running code on the GUI event thread.  Please show us how <code>importFromCSV</code> is called in relation to the GUI code.  To run a task as a background task, look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html\" rel=\"nofollow noreferrer\">SwingWorker</a>"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1670610887,"post_id":74746878,"comment_id":131921337,"body_markdown":"Read this: [The Java™ Tutorials - Lesson: Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/)","body":"Read this: <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/\" rel=\"nofollow noreferrer\">The Java™ Tutorials - Lesson: Concurrency in Swing</a>"}],"owner":{"account_id":27204408,"reputation":1,"user_id":20736196,"display_name":"Nathan428"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670610867,"answer_count":0,"score":0,"last_activity_date":1670609689,"creation_date":1670609689,"question_id":74746878,"body_markdown":"I am creating a marketplace that users can import products into. I need to be able to import the CSV file through a network I/O so with a client-server functionality.\r\n\r\nCurrently when I import the CSV filepath the GUI (program) freezes and I believe it is trying to read something that is not there or something along those lines. \r\n\r\nClient:\r\n\r\n```\r\npublic void importFromCSV(String path) {\r\n    \r\n    try {\r\n        writer.write(path);\r\n        writer.flush();\r\n        int bytes = 0;\r\n        File file = new File(path);\r\n        FileInputStream fis = new FileInputStream(path);\r\n        \r\n        // send file size\r\n        dos.writeLong(file.length());\r\n        // break file into chunks\r\n        byte[] buffer = new byte[4 * 1024];\r\n        while ((bytes = fis.read(buffer)) != -1) {\r\n            dos.write(buffer, 0, bytes);\r\n            dos.flush();\r\n        }\r\n        fis.close();\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\n\r\nServer:\r\n\r\n```\r\npublic static void importCSV(Store store) {\r\n    try {\r\n        int bytes = 0;\r\n        System.out.println(&quot;about to read path&quot;);\r\n        String path = reader.readLine();\r\n        System.out.println(&quot;read path&quot;);\r\n        \r\n        FileOutputStream fos = new FileOutputStream(path);\r\n\r\n        long size = dis.readLong();     // read file size\r\n        byte[] buffer = new byte[4*1024];\r\n        while (size &gt; 0 &amp;&amp; (bytes = dis.read(buffer, 0, (int)Math.min(buffer.length, size))) != -1) {\r\n            fos.write(buffer, 0, bytes);\r\n            size -= bytes;      // read upto file size\r\n        }\r\n        fos.close();\r\n\r\n        store.setProducts(CSVFileWork.CSVToProducts(path));\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n    System.out.println(store.getProducts().size());\r\n}\r\n```","title":"Importing a CSV file in Java","body":"<p>I am creating a marketplace that users can import products into. I need to be able to import the CSV file through a network I/O so with a client-server functionality.</p>\n<p>Currently when I import the CSV filepath the GUI (program) freezes and I believe it is trying to read something that is not there or something along those lines.</p>\n<p>Client:</p>\n<pre><code>public void importFromCSV(String path) {\n    \n    try {\n        writer.write(path);\n        writer.flush();\n        int bytes = 0;\n        File file = new File(path);\n        FileInputStream fis = new FileInputStream(path);\n        \n        // send file size\n        dos.writeLong(file.length());\n        // break file into chunks\n        byte[] buffer = new byte[4 * 1024];\n        while ((bytes = fis.read(buffer)) != -1) {\n            dos.write(buffer, 0, bytes);\n            dos.flush();\n        }\n        fis.close();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Server:</p>\n<pre><code>public static void importCSV(Store store) {\n    try {\n        int bytes = 0;\n        System.out.println(&quot;about to read path&quot;);\n        String path = reader.readLine();\n        System.out.println(&quot;read path&quot;);\n        \n        FileOutputStream fos = new FileOutputStream(path);\n\n        long size = dis.readLong();     // read file size\n        byte[] buffer = new byte[4*1024];\n        while (size &gt; 0 &amp;&amp; (bytes = dis.read(buffer, 0, (int)Math.min(buffer.length, size))) != -1) {\n            fos.write(buffer, 0, bytes);\n            size -= bytes;      // read upto file size\n        }\n        fos.close();\n\n        store.setProducts(CSVFileWork.CSVToProducts(path));\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    System.out.println(store.getProducts().size());\n}\n</code></pre>\n"},{"tags":["java","javafx","tableview"],"comments":[{"owner":{"account_id":6179310,"reputation":2644,"user_id":4815321,"display_name":"mr mcwolf"},"score":0,"creation_date":1670585097,"post_id":74739395,"comment_id":131913247,"body_markdown":"When creating custom image add the `jdk.localedata` module as well","body":"When creating custom image add the <code>jdk.localedata</code> module as well"}],"answers":[{"tags":[],"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670572718,"creation_date":1670572718,"answer_id":74740280,"question_id":74739395,"body_markdown":"You can use `Locale.getDefault()` which, based on the documentation, it will use the locale of the JVM:\r\n\r\n&gt; Gets the current value of the default locale for this instance of the Java Virtual Machine.\r\nThe Java Virtual Machine sets the default locale during startup based on the host environment. It is used by many locale-sensitive methods if no locale is explicitly specified. It can be changed using the setDefault method.","title":"The language of the day is changed when executing the program in my .exe javafx","body":"<p>You can use <code>Locale.getDefault()</code> which, based on the documentation, it will use the locale of the JVM:</p>\n<blockquote>\n<p>Gets the current value of the default locale for this instance of the Java Virtual Machine.\nThe Java Virtual Machine sets the default locale during startup based on the host environment. It is used by many locale-sensitive methods if no locale is explicitly specified. It can be changed using the setDefault method.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":22586504,"reputation":11,"user_id":16770389,"display_name":"JONATAHAN RIOS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670609443,"creation_date":1670609443,"answer_id":74746833,"question_id":74739395,"body_markdown":"The answer was provided to me in the comments, as mentioned by mr mcwolf\r\nI needed to add the jdk.localedata module in the image","title":"The language of the day is changed when executing the program in my .exe javafx","body":"<p>The answer was provided to me in the comments, as mentioned by mr mcwolf\nI needed to add the jdk.localedata module in the image</p>\n"}],"owner":{"account_id":22586504,"reputation":11,"user_id":16770389,"display_name":"JONATAHAN RIOS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74746833,"answer_count":2,"score":-1,"last_activity_date":1670609443,"creation_date":1670565348,"question_id":74739395,"body_markdown":"My program runs everything correctly within the IDE with the language I chose, but when installing the program and running it on the computer, the language of the days changes to English, all this within the column\r\n\r\nThe method to change the format of the column is:\r\n`\r\n```\r\npublic void Formato_fecha_y_hora(){\r\n    Locale locale = new Locale(&quot;es&quot;, &quot;ES&quot;);\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy E&quot;).withLocale(locale);\r\n    Col_FEentrega.setCellFactory(tc -&gt; new TableCell&lt;&gt;() {\r\n        @Override\r\n        protected void updateItem(LocalDate date, boolean empty) {\r\n            super.updateItem(date, empty);\r\n            if (empty) {\r\n                setText(null);\r\n            } else {\r\n                setText(formatter.format(date));\r\n            }\r\n        }\r\n    });\r\n\r\n    DateTimeFormatter formato_hora = DateTimeFormatter.ofPattern(&quot;h:mm a&quot;);\r\n    Col_Hora_entrega.setCellFactory(tc -&gt; new TableCell&lt;&gt;() {\r\n        @Override\r\n        protected void updateItem(LocalTime Time, boolean empty) {\r\n            super.updateItem(Time, empty);\r\n            if (empty) {\r\n                setText(null);\r\n            } else {\r\n                setText(formato_hora.format(Time));\r\n            }\r\n        }\r\n    });\r\n}\r\n```\r\nTo make the installer use the following jpackage:\r\n\r\n`jpackage --type exe --input . --dest . --main-jar .\\Dulceria.jar --main-class com.example.dulceria.HelloApplication --module-path &quot;D:\\Program Files\\Java\\javafx-jmods-18&quot; --add-modules javafx.controls,javafx.fxml,java.sql,java.sql.rowset --win-shortcut --win-menu`\r\n\r\n\r\n\r\n[I get the following form in the .exe](https://i.stack.imgur.com/XVCwS.png)\r\n\r\n\r\n\r\n[I want the names of the days to look like this](https://i.stack.imgur.com/UFYII.png)","title":"The language of the day is changed when executing the program in my .exe javafx","body":"<p>My program runs everything correctly within the IDE with the language I chose, but when installing the program and running it on the computer, the language of the days changes to English, all this within the column</p>\n<p>The method to change the format of the column is:\n`</p>\n<pre><code>public void Formato_fecha_y_hora(){\n    Locale locale = new Locale(&quot;es&quot;, &quot;ES&quot;);\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy E&quot;).withLocale(locale);\n    Col_FEentrega.setCellFactory(tc -&gt; new TableCell&lt;&gt;() {\n        @Override\n        protected void updateItem(LocalDate date, boolean empty) {\n            super.updateItem(date, empty);\n            if (empty) {\n                setText(null);\n            } else {\n                setText(formatter.format(date));\n            }\n        }\n    });\n\n    DateTimeFormatter formato_hora = DateTimeFormatter.ofPattern(&quot;h:mm a&quot;);\n    Col_Hora_entrega.setCellFactory(tc -&gt; new TableCell&lt;&gt;() {\n        @Override\n        protected void updateItem(LocalTime Time, boolean empty) {\n            super.updateItem(Time, empty);\n            if (empty) {\n                setText(null);\n            } else {\n                setText(formato_hora.format(Time));\n            }\n        }\n    });\n}\n</code></pre>\n<p>To make the installer use the following jpackage:</p>\n<p><code>jpackage --type exe --input . --dest . --main-jar .\\Dulceria.jar --main-class com.example.dulceria.HelloApplication --module-path &quot;D:\\Program Files\\Java\\javafx-jmods-18&quot; --add-modules javafx.controls,javafx.fxml,java.sql,java.sql.rowset --win-shortcut --win-menu</code></p>\n<p><a href=\"https://i.stack.imgur.com/XVCwS.png\" rel=\"nofollow noreferrer\">I get the following form in the .exe</a></p>\n<p><a href=\"https://i.stack.imgur.com/UFYII.png\" rel=\"nofollow noreferrer\">I want the names of the days to look like this</a></p>\n"},{"tags":["java","spring-boot","graphql","graphql-java"],"owner":{"account_id":6085757,"reputation":1307,"user_id":4749871,"accept_rate":80,"display_name":"Ant&#243;nio Quadrado"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670608916,"creation_date":1670606481,"question_id":74746363,"body_markdown":"I am using `graphql-java-kickstart` to implement a GraphQL api in a springboot application. One of my resolvers needs to fetch additional data before returning the final type. I am using a `DataLoader` to fetch this data. In order to avoid multiple additional queries to the database, I am using the method `dataLoader.loadMany(ids)` to fetch all records with one query.\r\n\r\nI want to test the resolver behavior mocking the `repository` response. In my test I have injected a `MockBean` for the repository and I am mocking its response with:\r\n\r\n`when(repository.findAllById(List.of(ids))).thenReturn(List.of(mockRecord);`\r\n\r\nThe data loader registry has the mock repository registered for the right type but I cannot make it return the response that I defined. The truth is that I cannot find which repository method the data loader is using to fetch the data but the repository being a `JpaRepository` the only method to fetch multiple objects from a list of ids is the `findAllById`. I have tried to follow the flow with breakpoints but I didn&#39;t manage to find where exactly the repository is being used and which method is being called.\r\n\r\nI am certainly missing something on how the data loader works and how I can mock the responses it gives. Does anyone has any clue what that might me? \r\n\r\nMany thanks\r\n\r\nUPDATE: Running the actual application and putting breakpoints in the class `SimpleJpaRepository` I can actually confirm that the repository method used to resolve the model is the `findAllById` what confuses me even more. If, when running the test, I have the right object (the mock) within the dataloader registry and a defined a return object for that mock&#39;s called method, why does it not work as expected?","title":"How to mock the response of a repository used by a DataLoader in a GraphQLResolver?","body":"<p>I am using <code>graphql-java-kickstart</code> to implement a GraphQL api in a springboot application. One of my resolvers needs to fetch additional data before returning the final type. I am using a <code>DataLoader</code> to fetch this data. In order to avoid multiple additional queries to the database, I am using the method <code>dataLoader.loadMany(ids)</code> to fetch all records with one query.</p>\n<p>I want to test the resolver behavior mocking the <code>repository</code> response. In my test I have injected a <code>MockBean</code> for the repository and I am mocking its response with:</p>\n<p><code>when(repository.findAllById(List.of(ids))).thenReturn(List.of(mockRecord);</code></p>\n<p>The data loader registry has the mock repository registered for the right type but I cannot make it return the response that I defined. The truth is that I cannot find which repository method the data loader is using to fetch the data but the repository being a <code>JpaRepository</code> the only method to fetch multiple objects from a list of ids is the <code>findAllById</code>. I have tried to follow the flow with breakpoints but I didn't manage to find where exactly the repository is being used and which method is being called.</p>\n<p>I am certainly missing something on how the data loader works and how I can mock the responses it gives. Does anyone has any clue what that might me?</p>\n<p>Many thanks</p>\n<p>UPDATE: Running the actual application and putting breakpoints in the class <code>SimpleJpaRepository</code> I can actually confirm that the repository method used to resolve the model is the <code>findAllById</code> what confuses me even more. If, when running the test, I have the right object (the mock) within the dataloader registry and a defined a return object for that mock's called method, why does it not work as expected?</p>\n"},{"tags":["javascript","java","express","https"],"owner":{"account_id":22240746,"reputation":23,"user_id":16475301,"display_name":"Nabin Shrestha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670608483,"creation_date":1670608483,"question_id":74746668,"body_markdown":"In Express.JS, creating a HTTPS server from a private key and certificate is quite simple:\r\n\r\n\r\n```\r\nvar fs = require(&#39;fs&#39;);\r\nvar http = require(&#39;http&#39;);\r\nvar https = require(&#39;https&#39;);\r\nvar privateKey  = fs.readFileSync(&#39;sslcert/server.key&#39;, &#39;utf8&#39;);\r\nvar certificate = fs.readFileSync(&#39;sslcert/server.crt&#39;, &#39;utf8&#39;);\r\n\r\nvar credentials = {key: privateKey, cert: certificate};\r\nvar express = require(&#39;express&#39;);\r\nvar app = express();\r\n\r\nvar httpsServer = https.createServer(credentials, app);\r\n```\r\n\r\nI was wondering if there is a Java equivalent of this code.\r\n\r\nI have been trying to look into creating a HTTPS Server in Java but I get confused with the whole keystore files. Could someone guide me thoroughly?","title":"Express.JS equivalent of Java&#39;s HTTPS Server","body":"<p>In Express.JS, creating a HTTPS server from a private key and certificate is quite simple:</p>\n<pre><code>var fs = require('fs');\nvar http = require('http');\nvar https = require('https');\nvar privateKey  = fs.readFileSync('sslcert/server.key', 'utf8');\nvar certificate = fs.readFileSync('sslcert/server.crt', 'utf8');\n\nvar credentials = {key: privateKey, cert: certificate};\nvar express = require('express');\nvar app = express();\n\nvar httpsServer = https.createServer(credentials, app);\n</code></pre>\n<p>I was wondering if there is a Java equivalent of this code.</p>\n<p>I have been trying to look into creating a HTTPS Server in Java but I get confused with the whole keystore files. Could someone guide me thoroughly?</p>\n"},{"tags":["java","variables","methods","scope","javaparser"],"comments":[{"owner":{"account_id":14781952,"reputation":120,"user_id":10675247,"display_name":"Philippe Fery"},"score":0,"creation_date":1670610107,"post_id":74746614,"comment_id":131921128,"body_markdown":"Have a look here: https://stackoverflow.com/questions/6816951/can-i-get-information-about-the-local-variables-using-java-reflection","body":"Have a look here: <a href=\"https://stackoverflow.com/questions/6816951/can-i-get-information-about-the-local-variables-using-java-reflection\" title=\"can i get information about the local variables using java reflection\">stackoverflow.com/questions/6816951/&hellip;</a>"}],"owner":{"account_id":11493427,"reputation":147,"user_id":10156536,"display_name":"Aditi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670608160,"creation_date":1670608160,"question_id":74746614,"body_markdown":"I have a program that is like this :\r\n\r\n    class A {\r\n    String abc;\r\n\r\n    public void f1(){\r\n        String abc = &#39;test&#39;;\r\n        System.out.println(abc);   \r\n        if (true){\r\n              String abc = &#39;something else&#39;;\r\n              System.out.println(abc);   \r\n        }\r\n    }\r\n\r\n    public void f2(){\r\n        String abc = &#39;something else&#39;;\r\n        System.out.println(abc);   \r\n    }\r\n}\r\n\r\nNow as we can see here we have three different variable declarations of the string abc. I wish to make a dependency matrix which will have slots for all the three declarations , that point to different memory locations. Is there any way I could get the declarations for each variable name along with the parent class or method it belongs to? Or more precisely , can I get the scope of a variable ,I.E whether it is a class variable or a variable that belongs to a method ?\r\n\r\nI have tried using JavaParser but couldn’t find a suitable method that would do the same. Kindly help me out. Thanks a lot!!","title":"Find the actual scope of a variable declared multiple times in Java","body":"<p>I have a program that is like this :</p>\n<pre><code>class A {\nString abc;\n\npublic void f1(){\n    String abc = 'test';\n    System.out.println(abc);   \n    if (true){\n          String abc = 'something else';\n          System.out.println(abc);   \n    }\n}\n\npublic void f2(){\n    String abc = 'something else';\n    System.out.println(abc);   \n}\n</code></pre>\n<p>}</p>\n<p>Now as we can see here we have three different variable declarations of the string abc. I wish to make a dependency matrix which will have slots for all the three declarations , that point to different memory locations. Is there any way I could get the declarations for each variable name along with the parent class or method it belongs to? Or more precisely , can I get the scope of a variable ,I.E whether it is a class variable or a variable that belongs to a method ?</p>\n<p>I have tried using JavaParser but couldn’t find a suitable method that would do the same. Kindly help me out. Thanks a lot!!</p>\n"},{"tags":["java","code-coverage","jacoco","conditional-operator","test-coverage"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1670606811,"post_id":74746284,"comment_id":131920135,"body_markdown":"Are you sure that you accurately describe the actual code? I ask because when you call `functionToTest(Collections.emptyList())` the line `String p0 = filters.get(0)` should throw an `IndexOutOfBoundsException`.","body":"Are you sure that you accurately describe the actual code? I ask because when you call <code>functionToTest(Collections.emptyList())</code> the line <code>String p0 = filters.get(0)</code> should throw an <code>IndexOutOfBoundsException</code>."},{"owner":{"account_id":22387896,"reputation":113,"user_id":16600459,"display_name":"Pommepomme"},"score":0,"creation_date":1670607165,"post_id":74746284,"comment_id":131920255,"body_markdown":"Aaaaaah indeed, I have something else before\n```JAVA\nif (filters.isEmpty()) {\n      // return do stuff\n    }\np0 = filters.get(0) [......]\n```","body":"Aaaaaah indeed, I have something else before <code>JAVA if (filters.isEmpty()) {       &#47;&#47; return do stuff     } p0 = filters.get(0) [......] </code>"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1670607450,"post_id":74746284,"comment_id":131920349,"body_markdown":"That explains the outcome. For full coverage of the ternaries you need to supply once one argument and once 10 arguments.","body":"That explains the outcome. For full coverage of the ternaries you need to supply once one argument and once 10 arguments."},{"owner":{"account_id":22387896,"reputation":113,"user_id":16600459,"display_name":"Pommepomme"},"score":0,"creation_date":1670607669,"post_id":74746284,"comment_id":131920425,"body_markdown":"Yep, I just focused on the yellow parts forgetting the `if empty` before.... My bad!","body":"Yep, I just focused on the yellow parts forgetting the <code>if empty</code> before.... My bad!"}],"answers":[{"tags":[],"owner":{"account_id":22387896,"reputation":113,"user_id":16600459,"display_name":"Pommepomme"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670607831,"creation_date":1670607831,"answer_id":74746575,"question_id":74746284,"body_markdown":"Solved, I was just dumb\r\n\r\nI forgot that I tested if the list was empty before, if it is, I return something else.","title":"Jacoco coverage over ternary operations","body":"<p>Solved, I was just dumb</p>\n<p>I forgot that I tested if the list was empty before, if it is, I return something else.</p>\n"}],"owner":{"account_id":22387896,"reputation":113,"user_id":16600459,"display_name":"Pommepomme"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74746575,"answer_count":1,"score":0,"last_activity_date":1670607831,"creation_date":1670606042,"question_id":74746284,"body_markdown":"I faced a frustrating problem with jacoco and ternary operations in Java.\r\nContext:\r\n\r\nI have a function which take a `List&lt;String&gt;`. The max filters this list can have is 10 and they can be set or not. I choosed to do ternary to fill the filters string.\r\n\r\nIn my JUnit test, I call twice this function: once with 10 filters and once with none. However, jacoco is still telling me that 1 of 2 branches is missed.\r\n\r\n*I voluntarily changed the names / returns of my functions to show only the global scheme*\r\n\r\n```JAVA\r\npublic void functionToTest(List&lt;String&gt; filters){\r\n    String p0 = filters.get(0);\r\n    String p1 = filters.size() &gt;= 2 ? filters.get(1) : &quot;&quot;;\r\n    String p2 = filters.size() &gt;= 3 ? filters.get(2) : &quot;&quot;;\r\n    String p3 = filters.size() &gt;= 4 ? filters.get(3) : &quot;&quot;;\r\n    String p4 = filters.size() &gt;= 5 ? filters.get(4) : &quot;&quot;;\r\n    String p5 = filters.size() &gt;= 6 ? filters.get(5) : &quot;&quot;;\r\n    String p6 = filters.size() &gt;= 7 ? filters.get(6) : &quot;&quot;;\r\n    String p7 = filters.size() &gt;= 8 ? filters.get(7) : &quot;&quot;;\r\n    String p8 = filters.size() &gt;= 9 ? filters.get(8) : &quot;&quot;;\r\n    String p9 = filters.size() &gt;= 10 ? filters.get(9) : &quot;&quot;;\r\n    \r\n    // Do stuff with filters\r\n}\r\n\r\n@Test\r\npublic void testFunction() {\r\n    List&lt;String&gt; filters = //instantiate 10 strings\r\n\r\n    // First call with no filters\r\n    functionToTest(Collections.emptyList());\r\n\r\n    // Second call with filters\r\n    functionToTest(filters);\r\n}\r\n\r\n```\r\n\r\nHere is the result of jacoco saying &quot;1 of 2 branches missed&quot; on yellow lines:\r\n\r\n![jacoco result][1]\r\n\r\nSo my question is: Is there a way to &quot;bypass&quot; or to deal with ternary operations and jacoco ?\r\n\r\nNB: I already know how to solve the coverage but it is ugly, see:\r\n\r\n```JAVA\r\nString p1 = &quot;&quot;\r\nif (filters.size() &gt;=2) {\r\n    p1 = filters.get(1);\r\n}\r\n// etc...\r\n```\r\n\r\n\r\n[1]: https://i.stack.imgur.com/72m9k.png","title":"Jacoco coverage over ternary operations","body":"<p>I faced a frustrating problem with jacoco and ternary operations in Java.\nContext:</p>\n<p>I have a function which take a <code>List&lt;String&gt;</code>. The max filters this list can have is 10 and they can be set or not. I choosed to do ternary to fill the filters string.</p>\n<p>In my JUnit test, I call twice this function: once with 10 filters and once with none. However, jacoco is still telling me that 1 of 2 branches is missed.</p>\n<p><em>I voluntarily changed the names / returns of my functions to show only the global scheme</em></p>\n<pre><code>public void functionToTest(List&lt;String&gt; filters){\n    String p0 = filters.get(0);\n    String p1 = filters.size() &gt;= 2 ? filters.get(1) : &quot;&quot;;\n    String p2 = filters.size() &gt;= 3 ? filters.get(2) : &quot;&quot;;\n    String p3 = filters.size() &gt;= 4 ? filters.get(3) : &quot;&quot;;\n    String p4 = filters.size() &gt;= 5 ? filters.get(4) : &quot;&quot;;\n    String p5 = filters.size() &gt;= 6 ? filters.get(5) : &quot;&quot;;\n    String p6 = filters.size() &gt;= 7 ? filters.get(6) : &quot;&quot;;\n    String p7 = filters.size() &gt;= 8 ? filters.get(7) : &quot;&quot;;\n    String p8 = filters.size() &gt;= 9 ? filters.get(8) : &quot;&quot;;\n    String p9 = filters.size() &gt;= 10 ? filters.get(9) : &quot;&quot;;\n    \n    // Do stuff with filters\n}\n\n@Test\npublic void testFunction() {\n    List&lt;String&gt; filters = //instantiate 10 strings\n\n    // First call with no filters\n    functionToTest(Collections.emptyList());\n\n    // Second call with filters\n    functionToTest(filters);\n}\n\n</code></pre>\n<p>Here is the result of jacoco saying &quot;1 of 2 branches missed&quot; on yellow lines:</p>\n<p><img src=\"https://i.stack.imgur.com/72m9k.png\" alt=\"jacoco result\" /></p>\n<p>So my question is: Is there a way to &quot;bypass&quot; or to deal with ternary operations and jacoco ?</p>\n<p>NB: I already know how to solve the coverage but it is ugly, see:</p>\n<pre><code>String p1 = &quot;&quot;\nif (filters.size() &gt;=2) {\n    p1 = filters.get(1);\n}\n// etc...\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":10808339,"reputation":1271,"user_id":7949704,"display_name":"Alejandro Gonzalez"},"score":0,"creation_date":1624291078,"post_id":68070683,"comment_id":120312675,"body_markdown":"can you share the complete code?","body":"can you share the complete code?"},{"owner":{"account_id":2149059,"reputation":3106,"user_id":1905965,"display_name":"Amin"},"score":0,"creation_date":1624300508,"post_id":68070683,"comment_id":120316248,"body_markdown":"Can you ping your phone from your pc terminal/command line? My router has an issues and when it happens I reboot the access point and everything starts to work","body":"Can you ping your phone from your pc terminal/command line? My router has an issues and when it happens I reboot the access point and everything starts to work"},{"owner":{"account_id":13514033,"reputation":31,"user_id":9749301,"display_name":"Mhb flh"},"score":0,"creation_date":1624352934,"post_id":68070683,"comment_id":120329261,"body_markdown":"https://stackoverflow.com/users/1905965/amin yes I can ping my phone","body":"<a href=\"https://stackoverflow.com/users/1905965/amin\">stackoverflow.com/users/1905965/amin</a> yes I can ping my phone"},{"owner":{"account_id":13514033,"reputation":31,"user_id":9749301,"display_name":"Mhb flh"},"score":0,"creation_date":1624353344,"post_id":68070683,"comment_id":120329415,"body_markdown":"https://stackoverflow.com/users/7949704/alejandro-gonzalez which part?","body":"<a href=\"https://stackoverflow.com/users/7949704/alejandro-gonzalez\">stackoverflow.com/users/7949704/alejandro-gonzalez</a> which part?"}],"answers":[{"tags":[],"owner":{"account_id":17183073,"reputation":380,"user_id":12438210,"display_name":"lance2k"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670607703,"creation_date":1670607703,"answer_id":74746550,"question_id":68070683,"body_markdown":"If you&#39;re using Wifi: Check properties, it should be set to Private to connect.","title":"Connection Error! java.net.socketTimedoutException:failed to connect to /192.168.1.6 (port : 80) from /192.168.1.7 (port : 53030) after 10000 ms","body":"<p>If you're using Wifi: Check properties, it should be set to Private to connect.</p>\n"}],"owner":{"account_id":13514033,"reputation":31,"user_id":9749301,"display_name":"Mhb flh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":561,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1670607703,"creation_date":1624289396,"question_id":68070683,"body_markdown":"I want to connect with my phone to my app database but I keep seeing this error:\r\n```\r\nConnection Error!  java.net.socketTimedoutException:failed to connect to /192.168.1.6 (port : 80) from /192.168.1.7 (port : 53030) after 10000 ms\r\n```\r\n\r\nthis is my API class\r\n```java\r\npublic class API {\r\n    private static final String BASE_URL = &quot;http://192.168.1.6/uni/&quot;;\r\n    public static Retrofit myRetrofit = null;\r\n    public static Retrofit getAPI() {\r\n        if (myRetrofit == null) {\r\n            myRetrofit = new Retrofit.Builder()\r\n                    .baseUrl(BASE_URL)\r\n                    .addConverterFactory(GsonConverterFactory.create())\r\n                    .build();\r\n        }\r\n        return myRetrofit;\r\n    }\r\n}\r\n```\r\nI check firewall and turn off window defender and antiVirus\r\nI check [this ][1] and [this one][2] but none of them solve my issue.\r\nI check the ports in httpd.conf and my app,  also I run my app in emulator and it works fine,  my phone is on the same network as my laptop, so can anyone help me???\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/50246726/java-net-connectexception-failed-to-connect-to-192-168-1-107-port-80-after-1\r\n  [2]: https://stackoverflow.com/questions/42618744/how-to-resolve-failed-to-connect-to-192-168-15-186-port-80-connect-failed-e\r\n","title":"Connection Error! java.net.socketTimedoutException:failed to connect to /192.168.1.6 (port : 80) from /192.168.1.7 (port : 53030) after 10000 ms","body":"<p>I want to connect with my phone to my app database but I keep seeing this error:</p>\n<pre><code>Connection Error!  java.net.socketTimedoutException:failed to connect to /192.168.1.6 (port : 80) from /192.168.1.7 (port : 53030) after 10000 ms\n</code></pre>\n<p>this is my API class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class API {\n    private static final String BASE_URL = &quot;http://192.168.1.6/uni/&quot;;\n    public static Retrofit myRetrofit = null;\n    public static Retrofit getAPI() {\n        if (myRetrofit == null) {\n            myRetrofit = new Retrofit.Builder()\n                    .baseUrl(BASE_URL)\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .build();\n        }\n        return myRetrofit;\n    }\n}\n</code></pre>\n<p>I check firewall and turn off window defender and antiVirus\nI check <a href=\"https://stackoverflow.com/questions/50246726/java-net-connectexception-failed-to-connect-to-192-168-1-107-port-80-after-1\">this </a> and <a href=\"https://stackoverflow.com/questions/42618744/how-to-resolve-failed-to-connect-to-192-168-15-186-port-80-connect-failed-e\">this one</a> but none of them solve my issue.\nI check the ports in httpd.conf and my app,  also I run my app in emulator and it works fine,  my phone is on the same network as my laptop, so can anyone help me???</p>\n"},{"tags":["java","android","android-fragments","fragment","bottomnavigationview"],"comments":[{"owner":{"account_id":15304634,"reputation":627,"user_id":11041834,"display_name":"krupa parekh"},"score":0,"creation_date":1670603024,"post_id":74745299,"comment_id":131918996,"body_markdown":"I will suggest you to implement bottomnavigation with the navigation component. It will get very easy to manage multiple fragments and backstacks of it","body":"I will suggest you to implement bottomnavigation with the navigation component. It will get very easy to manage multiple fragments and backstacks of it"}],"answers":[{"tags":[],"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670607639,"creation_date":1670607639,"answer_id":74746542,"question_id":74745299,"body_markdown":" Try this once you missed one default line    \r\n\r\n&gt; loadfrag(new Home(),false);\r\n\r\n    //Bottom Navigation&#39;s\r\n        BottomNavigationView bnv =findViewById(R.id.bottom_nav);\r\n        bnv.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                int id=item.getItemId();\r\n                if (id == R.id.home) {\r\n                   loadfrag(new Home(),false);\r\n                }else  if (id == R.id.search) {\r\n                    loadfrag(new search(),true);\r\n                }else  if (id == R.id.Fav) {\r\n                    loadfrag(new fav(),true);\r\n                }else  if (id == R.id.Cart) {\r\n                    loadfrag(new Cart(),true);\r\n                }else  if (id == R.id.User) {\r\n                    loadfrag(new Userprofile(),true);\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n       loadfrag(new Home(),false);\r\n    //My first fragment\r\n    bnv.setSelectedItemId(R.id.home);\r\n    }\r\n    //load_fragment method\r\n    public void loadfrag(Fragment fragment,Boolean flag){\r\n        FragmentManager fm=getSupportFragmentManager();\r\n        FragmentTransaction ft=fm.beginTransaction();\r\n        if (!flag) {\r\n            ft.add(R.id.container,fragment);\r\n        }else {\r\n            ft.replace(R.id.container,fragment);\r\n        }\r\n        ft.commit();\r\n    }","title":"In Bottom Navigation Fragment is not load for first time","body":"<p>Try this once you missed one default line</p>\n<blockquote>\n<p>loadfrag(new Home(),false);</p>\n</blockquote>\n<pre><code>//Bottom Navigation's\n    BottomNavigationView bnv =findViewById(R.id.bottom_nav);\n    bnv.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\n        @Override\n        public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n            int id=item.getItemId();\n            if (id == R.id.home) {\n               loadfrag(new Home(),false);\n            }else  if (id == R.id.search) {\n                loadfrag(new search(),true);\n            }else  if (id == R.id.Fav) {\n                loadfrag(new fav(),true);\n            }else  if (id == R.id.Cart) {\n                loadfrag(new Cart(),true);\n            }else  if (id == R.id.User) {\n                loadfrag(new Userprofile(),true);\n            }\n            return true;\n        }\n    });\n   loadfrag(new Home(),false);\n//My first fragment\nbnv.setSelectedItemId(R.id.home);\n}\n//load_fragment method\npublic void loadfrag(Fragment fragment,Boolean flag){\n    FragmentManager fm=getSupportFragmentManager();\n    FragmentTransaction ft=fm.beginTransaction();\n    if (!flag) {\n        ft.add(R.id.container,fragment);\n    }else {\n        ft.replace(R.id.container,fragment);\n    }\n    ft.commit();\n}\n</code></pre>\n"}],"owner":{"account_id":27202145,"reputation":3,"user_id":20734256,"display_name":"Awais"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74746542,"answer_count":1,"score":0,"last_activity_date":1670607639,"creation_date":1670600597,"question_id":74745299,"body_markdown":"I have five fragments in main activity for Bottom_Navigation_view .When I load fragments/MainActivity for the first time. The first fragment (home) not shown for the first time, when I swipe to other three fragments and then get back to the my first fragment(home) then the data/fragment is shown\r\n\r\nI want to load first fragment(Home) for the first time user comes and Bottom Navigation/Main Activity loads\r\n\r\n\r\n```\r\n    //Bottom Navigation&#39;s\r\n    BottomNavigationView bnv =findViewById(R.id.bottom_nav);\r\n    bnv.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\r\n        @Override\r\n        public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n            int id=item.getItemId();\r\n            if (id == R.id.home) {\r\n               loadfrag(new Home(),false);\r\n            }else  if (id == R.id.search) {\r\n                loadfrag(new search(),true);\r\n            }else  if (id == R.id.Fav) {\r\n                loadfrag(new fav(),true);\r\n            }else  if (id == R.id.Cart) {\r\n                loadfrag(new Cart(),true);\r\n            }else  if (id == R.id.User) {\r\n                loadfrag(new Userprofile(),true);\r\n            }\r\n            return true;\r\n        }\r\n    });\r\n//My first fragment\r\nbnv.setSelectedItemId(R.id.home);\r\n}\r\n//load_fragment method\r\npublic void loadfrag(Fragment fragment,Boolean flag){\r\n    FragmentManager fm=getSupportFragmentManager();\r\n    FragmentTransaction ft=fm.beginTransaction();\r\n    if (!flag) {\r\n        ft.add(R.id.container,fragment);\r\n    }else {\r\n        ft.replace(R.id.container,fragment);\r\n    }\r\n    ft.commit();\r\n}\r\n```\r\n","title":"In Bottom Navigation Fragment is not load for first time","body":"<p>I have five fragments in main activity for Bottom_Navigation_view .When I load fragments/MainActivity for the first time. The first fragment (home) not shown for the first time, when I swipe to other three fragments and then get back to the my first fragment(home) then the data/fragment is shown</p>\n<p>I want to load first fragment(Home) for the first time user comes and Bottom Navigation/Main Activity loads</p>\n<pre><code>    //Bottom Navigation's\n    BottomNavigationView bnv =findViewById(R.id.bottom_nav);\n    bnv.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\n        @Override\n        public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n            int id=item.getItemId();\n            if (id == R.id.home) {\n               loadfrag(new Home(),false);\n            }else  if (id == R.id.search) {\n                loadfrag(new search(),true);\n            }else  if (id == R.id.Fav) {\n                loadfrag(new fav(),true);\n            }else  if (id == R.id.Cart) {\n                loadfrag(new Cart(),true);\n            }else  if (id == R.id.User) {\n                loadfrag(new Userprofile(),true);\n            }\n            return true;\n        }\n    });\n//My first fragment\nbnv.setSelectedItemId(R.id.home);\n}\n//load_fragment method\npublic void loadfrag(Fragment fragment,Boolean flag){\n    FragmentManager fm=getSupportFragmentManager();\n    FragmentTransaction ft=fm.beginTransaction();\n    if (!flag) {\n        ft.add(R.id.container,fragment);\n    }else {\n        ft.replace(R.id.container,fragment);\n    }\n    ft.commit();\n}\n</code></pre>\n"},{"tags":["java","spring","spring-security","spring-security-oauth2"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1670617378,"post_id":74746485,"comment_id":131922829,"body_markdown":"and you have enabled debug logging and looked in the logs that tell you exactly why you are getting a 403?","body":"and you have enabled debug logging and looked in the logs that tell you exactly why you are getting a 403?"},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1670677669,"post_id":74746485,"comment_id":131931122,"body_markdown":"HttpSecurity calls to configure the http instance are usually chained, by calling  the method always on the original object you take the risk to loose the previous configuration setup, if any of the configuration method returns a new object...","body":"HttpSecurity calls to configure the http instance are usually chained, by calling  the method always on the original object you take the risk to loose the previous configuration setup, if any of the configuration method returns a new object..."}],"owner":{"account_id":18092811,"reputation":13,"user_id":15607572,"display_name":"StrahSvid19"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670607546,"creation_date":1670607274,"question_id":74746485,"body_markdown":"I am developing a small application with Spring Security configuration and JWT token-based authorization and encountered a problem - when using hasRole() or hasPermission() methods to differentiate access to requests, even if the authorized user has the roles that meet the restrictions, the request still returns a 403 code.\r\n\r\n\r\n**Implementing of UserDetails and UserDetailsService**\r\n\r\n```\r\n@RequiredArgsConstructor\r\npublic class UserDetailsImpl implements UserDetails {\r\n\r\n  private final User user;\r\n\r\n  @Override\r\n  public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n    return user.getRoles();\r\n  }\r\n\r\n  @Override\r\n  public String getPassword() {\r\n    return user.getPassword();\r\n  }\r\n\r\n  @Override\r\n  public String getUsername() {\r\n    return user.getUsername();\r\n  }\r\n\r\n  @Override\r\n  public boolean isAccountNonExpired() {\r\n    return user.getIsEnable();\r\n  }\r\n\r\n  @Override\r\n  public boolean isAccountNonLocked() {\r\n    return user.getIsEnable();\r\n  }\r\n\r\n  @Override\r\n  public boolean isCredentialsNonExpired() {\r\n    return user.getIsEnable();\r\n  }\r\n\r\n  @Override\r\n  public boolean isEnabled() {\r\n    return user.getIsEnable();\r\n  }\r\n}\r\n```\r\n\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class UserDetailsServiceImpl implements UserDetailsService {\r\n  private final UserRepository userRepository;\r\n\r\n  @Override\r\n  public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n    String exceptionMsg = String.format(&quot;User with username &#39;%s&#39; not found&quot;, username);\r\n    return new UserDetailsImpl(userRepository.findUserByUsername(username)\r\n            .orElseThrow(() -&gt; new UsernameNotFoundException(exceptionMsg)));\r\n  }\r\n}\r\n```\r\n\r\n**User entity and Roles**\r\n\r\n\r\n```\r\n@Entity(name = &quot;users&quot;)\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@EqualsAndHashCode(of = {&quot;id&quot;, &quot;username&quot;})\r\npublic class User {\r\n  @Transient\r\n  private final String MAIL_REGEX =\r\n          &quot;^\\\\w+([\\\\.-]?\\\\w+)*@\\\\w+([\\\\.-]?\\\\w+)*(\\\\.\\\\w{2,3})+$&quot;;\r\n\r\n  @Id\r\n  @GeneratedValue(strategy = IDENTITY)\r\n  private Long id;\r\n\r\n  @Column(unique = true, nullable = false)\r\n  @NotBlank(message = &quot;Username cannot be empty&quot;)\r\n  @NotNull(message = &quot;Username cannot be empty&quot;)\r\n  @Size(min = 1, max = 90)\r\n  private String username;\r\n\r\n  @Column(nullable = false)\r\n  @NotBlank(message = &quot;Password cannot be empty&quot;)\r\n  @NotNull(message = &quot;Password cannot be empty&quot;)\r\n  @Size(min = 8, max = 100)\r\n  private String password;\r\n\r\n  @Column(unique = true, nullable = false)\r\n  @Email(message = &quot;Invalid email address&quot;, regexp = MAIL_REGEX)\r\n  @NotBlank(message = &quot;Email cannot be empty&quot;)\r\n  private String email;\r\n\r\n  @ElementCollection(fetch = EAGER)\r\n  private Set&lt;Role&gt; roles = Set.of(Role.USER, Role.ADMIN, Role.SUPER_ADMIN);\r\n\r\n  @Column(nullable = false)\r\n  private Boolean isEnable = true;\r\n}\r\n```\r\n\r\n```\r\npublic enum Role implements GrantedAuthority {\r\n  USER, ADMIN, SUPER_ADMIN;\r\n\r\n  @Override\r\n  public String getAuthority() {\r\n    return name();\r\n  }\r\n}\r\n```\r\n\r\n\r\n\r\n**Security configuration**\r\n\r\n```\r\n@Configuration\r\npublic class SecurityConfig {\r\n  @Value(&quot;${jwt.public.key}&quot;)\r\n  RSAPublicKey publicKey;\r\n\r\n  @Value(&quot;${jwt.private.key}&quot;)\r\n  RSAPrivateKey privateKey;\r\n\r\n  @Bean\r\n  PasswordEncoder encoder() {\r\n    return new BCryptPasswordEncoder(10);\r\n  }\r\n\r\n  @Bean\r\n  public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    http.csrf().disable();\r\n    http.authorizeHttpRequests().requestMatchers(&quot;/login&quot;, &quot;/register&quot;).permitAll();\r\n    http.authorizeHttpRequests().requestMatchers(&quot;/hello&quot;).hasAuthority(&quot;USER&quot;);\r\n    http.httpBasic(Customizer.withDefaults());\r\n    http.oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\r\n    http.sessionManagement(session -&gt;\r\n            session.sessionCreationPolicy(STATELESS));\r\n    http.exceptionHandling()\r\n            .authenticationEntryPoint(new BearerTokenAuthenticationEntryPoint())\r\n            .accessDeniedHandler(new BearerTokenAccessDeniedHandler());\r\n\r\n    return http.build();\r\n  }\r\n\r\n  @Bean\r\n  JwtDecoder jwtDecoder() {\r\n    return NimbusJwtDecoder.withPublicKey(publicKey).build();\r\n  }\r\n\r\n  @Bean\r\n  JwtEncoder jwtEncoder() {\r\n    JWK jwk = new RSAKey.Builder(publicKey).privateKey(privateKey).build();\r\n    JWKSource&lt;SecurityContext&gt; jwkSource = new ImmutableJWKSet&lt;&gt;(new JWKSet(jwk));\r\n    return new NimbusJwtEncoder(jwkSource);\r\n  }\r\n}\r\n```\r\n\r\nIf I try to query the /hello path, it returns a forbidden error, despite the fact that the authorized user has all the possible roles. Can you tell me what could be the problem? A long time ago I did everything exactly as it is now and everything worked without errors.\r\n\r\n\r\n\r\n\r\nTried to add ROLE\\_ prefix, make roles without enum class with clear string format, applied both hasRole() and hasAuthority() methods","title":"Spring Security configuration with role-based access returns a 403 error","body":"<p>I am developing a small application with Spring Security configuration and JWT token-based authorization and encountered a problem - when using hasRole() or hasPermission() methods to differentiate access to requests, even if the authorized user has the roles that meet the restrictions, the request still returns a 403 code.</p>\n<p><strong>Implementing of UserDetails and UserDetailsService</strong></p>\n<pre><code>@RequiredArgsConstructor\npublic class UserDetailsImpl implements UserDetails {\n\n  private final User user;\n\n  @Override\n  public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n    return user.getRoles();\n  }\n\n  @Override\n  public String getPassword() {\n    return user.getPassword();\n  }\n\n  @Override\n  public String getUsername() {\n    return user.getUsername();\n  }\n\n  @Override\n  public boolean isAccountNonExpired() {\n    return user.getIsEnable();\n  }\n\n  @Override\n  public boolean isAccountNonLocked() {\n    return user.getIsEnable();\n  }\n\n  @Override\n  public boolean isCredentialsNonExpired() {\n    return user.getIsEnable();\n  }\n\n  @Override\n  public boolean isEnabled() {\n    return user.getIsEnable();\n  }\n}\n</code></pre>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class UserDetailsServiceImpl implements UserDetailsService {\n  private final UserRepository userRepository;\n\n  @Override\n  public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n    String exceptionMsg = String.format(&quot;User with username '%s' not found&quot;, username);\n    return new UserDetailsImpl(userRepository.findUserByUsername(username)\n            .orElseThrow(() -&gt; new UsernameNotFoundException(exceptionMsg)));\n  }\n}\n</code></pre>\n<p><strong>User entity and Roles</strong></p>\n<pre><code>@Entity(name = &quot;users&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@EqualsAndHashCode(of = {&quot;id&quot;, &quot;username&quot;})\npublic class User {\n  @Transient\n  private final String MAIL_REGEX =\n          &quot;^\\\\w+([\\\\.-]?\\\\w+)*@\\\\w+([\\\\.-]?\\\\w+)*(\\\\.\\\\w{2,3})+$&quot;;\n\n  @Id\n  @GeneratedValue(strategy = IDENTITY)\n  private Long id;\n\n  @Column(unique = true, nullable = false)\n  @NotBlank(message = &quot;Username cannot be empty&quot;)\n  @NotNull(message = &quot;Username cannot be empty&quot;)\n  @Size(min = 1, max = 90)\n  private String username;\n\n  @Column(nullable = false)\n  @NotBlank(message = &quot;Password cannot be empty&quot;)\n  @NotNull(message = &quot;Password cannot be empty&quot;)\n  @Size(min = 8, max = 100)\n  private String password;\n\n  @Column(unique = true, nullable = false)\n  @Email(message = &quot;Invalid email address&quot;, regexp = MAIL_REGEX)\n  @NotBlank(message = &quot;Email cannot be empty&quot;)\n  private String email;\n\n  @ElementCollection(fetch = EAGER)\n  private Set&lt;Role&gt; roles = Set.of(Role.USER, Role.ADMIN, Role.SUPER_ADMIN);\n\n  @Column(nullable = false)\n  private Boolean isEnable = true;\n}\n</code></pre>\n<pre><code>public enum Role implements GrantedAuthority {\n  USER, ADMIN, SUPER_ADMIN;\n\n  @Override\n  public String getAuthority() {\n    return name();\n  }\n}\n</code></pre>\n<p><strong>Security configuration</strong></p>\n<pre><code>@Configuration\npublic class SecurityConfig {\n  @Value(&quot;${jwt.public.key}&quot;)\n  RSAPublicKey publicKey;\n\n  @Value(&quot;${jwt.private.key}&quot;)\n  RSAPrivateKey privateKey;\n\n  @Bean\n  PasswordEncoder encoder() {\n    return new BCryptPasswordEncoder(10);\n  }\n\n  @Bean\n  public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    http.csrf().disable();\n    http.authorizeHttpRequests().requestMatchers(&quot;/login&quot;, &quot;/register&quot;).permitAll();\n    http.authorizeHttpRequests().requestMatchers(&quot;/hello&quot;).hasAuthority(&quot;USER&quot;);\n    http.httpBasic(Customizer.withDefaults());\n    http.oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\n    http.sessionManagement(session -&gt;\n            session.sessionCreationPolicy(STATELESS));\n    http.exceptionHandling()\n            .authenticationEntryPoint(new BearerTokenAuthenticationEntryPoint())\n            .accessDeniedHandler(new BearerTokenAccessDeniedHandler());\n\n    return http.build();\n  }\n\n  @Bean\n  JwtDecoder jwtDecoder() {\n    return NimbusJwtDecoder.withPublicKey(publicKey).build();\n  }\n\n  @Bean\n  JwtEncoder jwtEncoder() {\n    JWK jwk = new RSAKey.Builder(publicKey).privateKey(privateKey).build();\n    JWKSource&lt;SecurityContext&gt; jwkSource = new ImmutableJWKSet&lt;&gt;(new JWKSet(jwk));\n    return new NimbusJwtEncoder(jwkSource);\n  }\n}\n</code></pre>\n<p>If I try to query the /hello path, it returns a forbidden error, despite the fact that the authorized user has all the possible roles. Can you tell me what could be the problem? A long time ago I did everything exactly as it is now and everything worked without errors.</p>\n<p>Tried to add ROLE_ prefix, make roles without enum class with clear string format, applied both hasRole() and hasAuthority() methods</p>\n"},{"tags":["java","unit-testing","serialization"],"answers":[{"tags":[],"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1318466790,"creation_date":1318367006,"answer_id":7732472,"question_id":7732259,"body_markdown":"If serialization is a key part of your app, then include the serialization in your tests. Something like:\r\n\r\n    @Test\r\n    public void aFooSerializesAndDeserializesCorrectly {\r\n        Foo fooBeforeSerialization = new Foo();\r\n        ReflectionUtils.randomlyPopulateFields(foo);\r\n        Foo fooAfterSerialization = Serializer.serializeAndDeserialize(foo);\r\n        assertThat(fooAfterSerialization, hasSameFieldValues(fooBeforeSerialization));\r\n    }\r\n\r\n**Edit:** A trivial implementation of `randomlyPopulateFields`:\r\n\r\n    public static void randomlyPopulateFields(final Object o) {\r\n        ReflectionUtils.doWithFields(o.getClass(), new ReflectionUtils.FieldCallback() {\r\n            public void doWith(Field field) throws IllegalArgumentException, IllegalAccessException {\r\n                ReflectionUtils.makeAccessible(field);\r\n                ReflectionUtils.setField(field, o, randomValueFor(field.getType()));\r\n            }\r\n\r\n            private Random r = new Random();\r\n            private Object randomValueFor(Class&lt;?&gt; type) {\r\n                if (type == String.class) {\r\n                    return String.valueOf(r.nextDouble());\r\n                } else if (type == Boolean.class || type == Boolean.TYPE) {\r\n                    return r.nextBoolean();\r\n                } else if (type == Byte.class || type == Byte.TYPE) {\r\n                    return (byte) r.nextInt();\r\n                } else if (type == Short.class || type == Short.TYPE) {\r\n                    return (short) r.nextInt();\r\n                } else if (type == Integer.class || type == Integer.TYPE) {\r\n                    return r.nextInt();\r\n                } else if (type == Long.class || type == Long.TYPE) {\r\n                    return (long) r.nextInt();\r\n                } else if (Number.class.isAssignableFrom(type) || type.isPrimitive()) {\r\n                    return Byte.valueOf(&quot;1234&quot;);\r\n                } else if (Date.class.isAssignableFrom(type)) {\r\n                    return new Date(r.nextLong());\r\n                } else {\r\n                    System.out.println(&quot;Sorry, I don&#39;t know how to generate values of type &quot; + type);\r\n                    return null;\r\n                }\r\n            }\r\n        });\r\n    }\r\n","title":"Unit Testing serializability for all classes in java project","body":"<p>If serialization is a key part of your app, then include the serialization in your tests. Something like:</p>\n\n<pre><code>@Test\npublic void aFooSerializesAndDeserializesCorrectly {\n    Foo fooBeforeSerialization = new Foo();\n    ReflectionUtils.randomlyPopulateFields(foo);\n    Foo fooAfterSerialization = Serializer.serializeAndDeserialize(foo);\n    assertThat(fooAfterSerialization, hasSameFieldValues(fooBeforeSerialization));\n}\n</code></pre>\n\n<p><strong>Edit:</strong> A trivial implementation of <code>randomlyPopulateFields</code>:</p>\n\n<pre><code>public static void randomlyPopulateFields(final Object o) {\n    ReflectionUtils.doWithFields(o.getClass(), new ReflectionUtils.FieldCallback() {\n        public void doWith(Field field) throws IllegalArgumentException, IllegalAccessException {\n            ReflectionUtils.makeAccessible(field);\n            ReflectionUtils.setField(field, o, randomValueFor(field.getType()));\n        }\n\n        private Random r = new Random();\n        private Object randomValueFor(Class&lt;?&gt; type) {\n            if (type == String.class) {\n                return String.valueOf(r.nextDouble());\n            } else if (type == Boolean.class || type == Boolean.TYPE) {\n                return r.nextBoolean();\n            } else if (type == Byte.class || type == Byte.TYPE) {\n                return (byte) r.nextInt();\n            } else if (type == Short.class || type == Short.TYPE) {\n                return (short) r.nextInt();\n            } else if (type == Integer.class || type == Integer.TYPE) {\n                return r.nextInt();\n            } else if (type == Long.class || type == Long.TYPE) {\n                return (long) r.nextInt();\n            } else if (Number.class.isAssignableFrom(type) || type.isPrimitive()) {\n                return Byte.valueOf(\"1234\");\n            } else if (Date.class.isAssignableFrom(type)) {\n                return new Date(r.nextLong());\n            } else {\n                System.out.println(\"Sorry, I don't know how to generate values of type \" + type);\n                return null;\n            }\n        }\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":445785,"reputation":10573,"user_id":838434,"accept_rate":88,"display_name":"MaDa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1318427447,"creation_date":1318409498,"answer_id":7737466,"question_id":7732259,"body_markdown":"&gt; 1) creating an object. 2) serializing and then 3) deserializing.\r\n\r\nThis list is not complete; you also need initialization. Consider the example:\r\n\r\n&lt;!-- language: language-java --&gt;\r\n\r\n\tclass CanBeSerialized implements Serializable {\r\n\t\tprivate String a; // serializable\r\n\t\tprivate Thread t; // not serializable\r\n\t}\r\n\r\n\tclass CannotBeSerialized implements Serializable {\r\n\t\tprivate String a;                // serializable\r\n\t\tprivate Thread t = new Thread(); // not serializable\r\n\t}\r\n\r\nYou can serialize and deserialize the first one, but you&#39;ll get `NotSerializableException` on the second. To complicate the matter further, if interfaces are used, you can never tell if a class will pass serialization, as it&#39;s the concrete object of the **class** behind this interface that will be streamed:\r\n\r\n&lt;!-- language: language-java --&gt;\r\n\r\n\tclass PerhapsCanBeSerializedButYouNeverKnow implements Serializable {\r\n\t\tprivate Runnable r; // interface type - who knows?\r\n\t}\r\n\r\nProvided that you could guarantee the following for **all your classes and classes used by your classes** to be tested:\r\n\r\n - default constructor exists,\r\n - no interface types in fields,\r\n\r\nthen you could automatically create and initialize them by reflection, and then test serialization. But that is a really hard condition, isn&#39;t it? Otherwise, proper initialization is down to manual work.\r\n\r\nYou could use reflection in a different way: iterating through a list of `Class` objects you want to check, getting the `Field[]` for them, and verifying if they&#39;re transient (`Field.getModifiers()`) or if they implement `Serializable` directly (`Field.getType().getInterfaces()`) or indirectly (via a super interface or class). Also, consider how deep you want to check, depending on how deep your serialization mechanism works.\r\n\r\nAs Ryan pointed out correctly, this static serialization check would fail if the code was evil enough:\r\n\r\n&lt;!-- language: language-java --&gt;\r\n\r\n\tclass SeeminglySerializable implements Serializable {\r\n\t    // ...\r\n            private void writeObject/readObject() {\r\n                 throw new NotSerializableException();\r\n            }\r\n\t}\r\n\r\nor just if `readObject()/writeObject()` were badly implemented. To test against this kind of problems, you need to actually test the serialization process, not the code behind it.","title":"Unit Testing serializability for all classes in java project","body":"<blockquote>\n  <p>1) creating an object. 2) serializing and then 3) deserializing.</p>\n</blockquote>\n\n<p>This list is not complete; you also need initialization. Consider the example:</p>\n\n<pre><code>class CanBeSerialized implements Serializable {\n    private String a; // serializable\n    private Thread t; // not serializable\n}\n\nclass CannotBeSerialized implements Serializable {\n    private String a;                // serializable\n    private Thread t = new Thread(); // not serializable\n}\n</code></pre>\n\n<p>You can serialize and deserialize the first one, but you'll get <code>NotSerializableException</code> on the second. To complicate the matter further, if interfaces are used, you can never tell if a class will pass serialization, as it's the concrete object of the <strong>class</strong> behind this interface that will be streamed:</p>\n\n<pre><code>class PerhapsCanBeSerializedButYouNeverKnow implements Serializable {\n    private Runnable r; // interface type - who knows?\n}\n</code></pre>\n\n<p>Provided that you could guarantee the following for <strong>all your classes and classes used by your classes</strong> to be tested:</p>\n\n<ul>\n<li>default constructor exists,</li>\n<li>no interface types in fields,</li>\n</ul>\n\n<p>then you could automatically create and initialize them by reflection, and then test serialization. But that is a really hard condition, isn't it? Otherwise, proper initialization is down to manual work.</p>\n\n<p>You could use reflection in a different way: iterating through a list of <code>Class</code> objects you want to check, getting the <code>Field[]</code> for them, and verifying if they're transient (<code>Field.getModifiers()</code>) or if they implement <code>Serializable</code> directly (<code>Field.getType().getInterfaces()</code>) or indirectly (via a super interface or class). Also, consider how deep you want to check, depending on how deep your serialization mechanism works.</p>\n\n<p>As Ryan pointed out correctly, this static serialization check would fail if the code was evil enough:</p>\n\n<pre><code>class SeeminglySerializable implements Serializable {\n    // ...\n        private void writeObject/readObject() {\n             throw new NotSerializableException();\n        }\n}\n</code></pre>\n\n<p>or just if <code>readObject()/writeObject()</code> were badly implemented. To test against this kind of problems, you need to actually test the serialization process, not the code behind it.</p>\n"},{"tags":[],"owner":{"account_id":2130100,"reputation":5379,"user_id":1891118,"accept_rate":100,"display_name":"Oleksii K."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656435995,"creation_date":1656435995,"answer_id":72790596,"question_id":7732259,"body_markdown":"Put the classes you want to test inside the method `initParameters()` and run the whole class as JUnit test.\r\n\r\n```java\r\nimport static org.junit.Assert.assertNotNull;\r\nimport static org.junit.Assert.fail;\r\nimport static java.lang.reflect.Modifier.FINAL;\r\nimport static java.lang.reflect.Modifier.STATIC;\r\nimport static java.lang.reflect.Modifier.TRANSIENT;\r\n\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.junit.runners.Parameterized;\r\n\r\nimport java.io.Serializable;\r\nimport java.lang.reflect.Field;\r\nimport java.lang.reflect.GenericArrayType;\r\nimport java.lang.reflect.ParameterizedType;\r\nimport java.lang.reflect.Type;\r\nimport java.util.Arrays;\r\nimport java.util.Collection;\r\nimport java.util.Comparator;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.TreeMap;\r\n\r\n@SuppressWarnings({&quot;rawtypes&quot;})\r\n@RunWith(Parameterized.class)\r\npublic class SerializableTest {\r\n    @Parameterized.Parameter\r\n    public Class clazz;\r\n\r\n    @Parameterized.Parameters(name = &quot;{0}&quot;)\r\n    public static Collection&lt;Object[]&gt; initParameters() {\r\n        return Arrays.asList(new Object[][]{\r\n                // TODO put your classes here\r\n                {YourClassOne.class},\r\n                {YourClassTwo.class},\r\n        });\r\n    }\r\n\r\n    @Test\r\n    @SuppressWarnings(&quot;Convert2Diamond&quot;)\r\n    public void testSerializableHierarchy() throws ReflectiveOperationException {\r\n        performTestSerializableHierarchy(new TreeMap&lt;Class, Boolean&gt;(new Comparator&lt;Class&gt;() {\r\n            @Override\r\n            public int compare(Class o1, Class o2) {\r\n                return o1.getName().compareTo(o2.getName());\r\n            }\r\n        }), new HashMap&lt;Long, Class&gt;(), clazz);\r\n    }\r\n\r\n    @SuppressWarnings(&quot;ConstantConditions&quot;)\r\n    private void performTestSerializableHierarchy(Map&lt;Class, Boolean&gt; classes, Map&lt;Long, Class&gt; uids, Type type) throws IllegalAccessException {\r\n        if (type instanceof GenericArrayType) {\r\n            performTestSerializableHierarchy(classes, uids, ((GenericArrayType) type).getGenericComponentType());\r\n            return;\r\n        } else if (type instanceof ParameterizedType) {\r\n            performTestSerializableHierarchy(classes, uids, ((ParameterizedType) type).getRawType());\r\n\r\n            Type[] types = ((ParameterizedType) type).getActualTypeArguments();\r\n            for (Type parameterType : types) {\r\n                performTestSerializableHierarchy(classes, uids, parameterType);\r\n            }\r\n            return;\r\n        } else if (!(type instanceof Class)) {\r\n            fail(&quot;Invalid type: &quot; + type);\r\n            return;\r\n        }\r\n\r\n        Class clazz = (Class) type;\r\n\r\n        if (clazz.isPrimitive()) {\r\n            return;\r\n        }\r\n\r\n        if (clazz.isEnum()) {\r\n            return;\r\n        }\r\n\r\n        if (clazz.equals(String.class)) {\r\n            return;\r\n        }\r\n\r\n        if (clazz.isArray()) {\r\n            performTestSerializableHierarchy(classes, uids, clazz.getComponentType());\r\n            return;\r\n        }\r\n\r\n        if (Collection.class.isAssignableFrom(clazz)) {\r\n            return;\r\n        }\r\n\r\n        if (Map.class.isAssignableFrom(clazz)) {\r\n            return;\r\n        }\r\n\r\n        if (!Serializable.class.isAssignableFrom(clazz)) {\r\n            fail(clazz + &quot; does not implement &quot; + Serializable.class.getSimpleName());\r\n            return;\r\n        }\r\n\r\n        Boolean status = classes.get(clazz);\r\n        if (status == null) {\r\n            classes.put(clazz, false);\r\n        } else if (status) {\r\n            return;\r\n        }\r\n\r\n        Field uidField = null;\r\n\r\n        try {\r\n            uidField = clazz.getDeclaredField(&quot;serialVersionUID&quot;);\r\n        } catch (NoSuchFieldException ex) {\r\n            fail(clazz + &quot; does not declare field &#39;serialVersionUID&#39;&quot;);\r\n        }\r\n\r\n        assertNotNull(uidField);\r\n\r\n        if ((uidField.getModifiers() &amp; (STATIC | FINAL)) != (STATIC | FINAL) || !uidField.getType().equals(long.class)) {\r\n            fail(clazz + &quot; incorrectly declares field &#39;serialVersionUID&#39;&quot;);\r\n        }\r\n\r\n        uidField.setAccessible(true);\r\n        long uidValue = (long) uidField.get(null);\r\n        if (uidValue == ((int) uidValue)) {\r\n            fail(uidField + &quot; has invalid value: &quot; + uidValue);\r\n        }\r\n\r\n        Class existingClass = uids.get(uidValue);\r\n        if (existingClass != null &amp;&amp; !existingClass.equals(clazz)) {\r\n            fail(existingClass + &quot; has assigned &#39;serialVersionUID&#39; same value as &quot; + clazz);\r\n        }\r\n\r\n        for (Field field : clazz.getDeclaredFields()) {\r\n            if ((field.getModifiers() &amp; (STATIC | TRANSIENT)) == 0) {\r\n                performTestSerializableHierarchy(classes, uids, field.getGenericType());\r\n            }\r\n        }\r\n\r\n        classes.put(clazz, true);\r\n        uids.put(uidValue, clazz);\r\n    }\r\n}\r\n\r\n```","title":"Unit Testing serializability for all classes in java project","body":"<p>Put the classes you want to test inside the method <code>initParameters()</code> and run the whole class as JUnit test.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.junit.Assert.assertNotNull;\nimport static org.junit.Assert.fail;\nimport static java.lang.reflect.Modifier.FINAL;\nimport static java.lang.reflect.Modifier.STATIC;\nimport static java.lang.reflect.Modifier.TRANSIENT;\n\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.junit.runners.Parameterized;\n\nimport java.io.Serializable;\nimport java.lang.reflect.Field;\nimport java.lang.reflect.GenericArrayType;\nimport java.lang.reflect.ParameterizedType;\nimport java.lang.reflect.Type;\nimport java.util.Arrays;\nimport java.util.Collection;\nimport java.util.Comparator;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.TreeMap;\n\n@SuppressWarnings({&quot;rawtypes&quot;})\n@RunWith(Parameterized.class)\npublic class SerializableTest {\n    @Parameterized.Parameter\n    public Class clazz;\n\n    @Parameterized.Parameters(name = &quot;{0}&quot;)\n    public static Collection&lt;Object[]&gt; initParameters() {\n        return Arrays.asList(new Object[][]{\n                // TODO put your classes here\n                {YourClassOne.class},\n                {YourClassTwo.class},\n        });\n    }\n\n    @Test\n    @SuppressWarnings(&quot;Convert2Diamond&quot;)\n    public void testSerializableHierarchy() throws ReflectiveOperationException {\n        performTestSerializableHierarchy(new TreeMap&lt;Class, Boolean&gt;(new Comparator&lt;Class&gt;() {\n            @Override\n            public int compare(Class o1, Class o2) {\n                return o1.getName().compareTo(o2.getName());\n            }\n        }), new HashMap&lt;Long, Class&gt;(), clazz);\n    }\n\n    @SuppressWarnings(&quot;ConstantConditions&quot;)\n    private void performTestSerializableHierarchy(Map&lt;Class, Boolean&gt; classes, Map&lt;Long, Class&gt; uids, Type type) throws IllegalAccessException {\n        if (type instanceof GenericArrayType) {\n            performTestSerializableHierarchy(classes, uids, ((GenericArrayType) type).getGenericComponentType());\n            return;\n        } else if (type instanceof ParameterizedType) {\n            performTestSerializableHierarchy(classes, uids, ((ParameterizedType) type).getRawType());\n\n            Type[] types = ((ParameterizedType) type).getActualTypeArguments();\n            for (Type parameterType : types) {\n                performTestSerializableHierarchy(classes, uids, parameterType);\n            }\n            return;\n        } else if (!(type instanceof Class)) {\n            fail(&quot;Invalid type: &quot; + type);\n            return;\n        }\n\n        Class clazz = (Class) type;\n\n        if (clazz.isPrimitive()) {\n            return;\n        }\n\n        if (clazz.isEnum()) {\n            return;\n        }\n\n        if (clazz.equals(String.class)) {\n            return;\n        }\n\n        if (clazz.isArray()) {\n            performTestSerializableHierarchy(classes, uids, clazz.getComponentType());\n            return;\n        }\n\n        if (Collection.class.isAssignableFrom(clazz)) {\n            return;\n        }\n\n        if (Map.class.isAssignableFrom(clazz)) {\n            return;\n        }\n\n        if (!Serializable.class.isAssignableFrom(clazz)) {\n            fail(clazz + &quot; does not implement &quot; + Serializable.class.getSimpleName());\n            return;\n        }\n\n        Boolean status = classes.get(clazz);\n        if (status == null) {\n            classes.put(clazz, false);\n        } else if (status) {\n            return;\n        }\n\n        Field uidField = null;\n\n        try {\n            uidField = clazz.getDeclaredField(&quot;serialVersionUID&quot;);\n        } catch (NoSuchFieldException ex) {\n            fail(clazz + &quot; does not declare field 'serialVersionUID'&quot;);\n        }\n\n        assertNotNull(uidField);\n\n        if ((uidField.getModifiers() &amp; (STATIC | FINAL)) != (STATIC | FINAL) || !uidField.getType().equals(long.class)) {\n            fail(clazz + &quot; incorrectly declares field 'serialVersionUID'&quot;);\n        }\n\n        uidField.setAccessible(true);\n        long uidValue = (long) uidField.get(null);\n        if (uidValue == ((int) uidValue)) {\n            fail(uidField + &quot; has invalid value: &quot; + uidValue);\n        }\n\n        Class existingClass = uids.get(uidValue);\n        if (existingClass != null &amp;&amp; !existingClass.equals(clazz)) {\n            fail(existingClass + &quot; has assigned 'serialVersionUID' same value as &quot; + clazz);\n        }\n\n        for (Field field : clazz.getDeclaredFields()) {\n            if ((field.getModifiers() &amp; (STATIC | TRANSIENT)) == 0) {\n                performTestSerializableHierarchy(classes, uids, field.getGenericType());\n            }\n        }\n\n        classes.put(clazz, true);\n        uids.put(uidValue, clazz);\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3461870,"reputation":16885,"user_id":2898715,"accept_rate":92,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670607263,"creation_date":1670607263,"answer_id":74746484,"question_id":7732259,"body_markdown":"this unit test finds all the classes in `packageName` that are descendants of `Serializable`, and checks the declared properties of these classes to see if they are also descendants of `Serializable`.\r\n\r\nlibrary dependencies\r\n```gradle\r\ndependencies {\r\n    implementation &#39;io.github.classgraph:classgraph:4.8.151&#39;\r\n}\r\n```\r\n\r\nthe unit test\r\n```kotlin\r\nimport io.github.classgraph.ClassGraph\r\nimport org.junit.Test\r\nimport java.io.Serializable\r\nimport java.util.LinkedHashSet\r\nimport kotlin.reflect.KClass\r\nimport kotlin.reflect.full.declaredMemberProperties\r\nimport kotlin.reflect.full.isSubclassOf\r\nimport kotlin.reflect.jvm.javaField\r\n\r\nclass SerializableTest\r\n{\r\n    @Test\r\n    fun `all properties of Serializable descendants are also Serializable descendants`()\r\n    {\r\n        // change BuildConfig.APPLICATION_ID to be root package of your project, unless you are also android developer! :D\r\n        val packageName = BuildConfig.APPLICATION_ID\r\n\r\n        // this should be okay to keep it as it is as long as you put it in the same package as root of your project\r\n        val classLoader = SerializableTest::class.java.classLoader!!\r\n        val allClasses = tryGetClassesForPackage(packageName,classLoader)\r\n        val nonSerializableMembersOfSerializableSequence = allClasses\r\n            .asSequence()\r\n            .onEach { jClass -&gt; println(&quot;found class in package $packageName: $jClass&quot;) }\r\n            .filter { jClass -&gt; Serializable::class.java.isAssignableFrom(jClass) }\r\n            .onEach { serializableJClass -&gt; println(&quot;found Serializable subclass: $serializableJClass&quot;) }\r\n            .filter { serializableJClass -&gt; serializableJClass.kotlin.simpleName != null }\r\n            .onEach { serializableJClass -&gt; println(&quot;found non-anonymous Serializable subclass: $serializableJClass&quot;) }\r\n            .flatMap()\r\n            { serializableJClass -&gt;\r\n                serializableJClass.kotlin.simpleName\r\n                serializableJClass.kotlin.declaredMemberProperties.asSequence()\r\n                    .onEach { property -&gt; println(&quot;found property of Serializable subclass: ${property.name}&quot;) }\r\n                    .filter { property -&gt; property.javaField != null }\r\n                    .onEach { property -&gt; println(&quot;found java-field-backed property of Serializable subclass: ${property.name}&quot;) }\r\n                    .mapNotNull()\r\n                    { kProperty -&gt;\r\n                        val propertyClass = kProperty.returnType.classifier as? KClass&lt;*&gt;\r\n                        val isMemberNonSerializable = propertyClass?.isSubclassOf(Serializable::class) != true\r\n                        if (isMemberNonSerializable) serializableJClass.canonicalName to kProperty.name else null\r\n                    }\r\n            }\r\n        val nonSerializableMembersOfSerializable = nonSerializableMembersOfSerializableSequence.toSet()\r\n        nonSerializableMembersOfSerializable.onEach { serializableJClass -&gt;\r\n            val serializableClassName = serializableJClass.first\r\n            val nonSerializablePropertyName = serializableJClass.second\r\n            System.err.println(&quot;found Serializable subclass ($serializableClassName) with non-Serializable member: $nonSerializablePropertyName&quot;)\r\n        }\r\n        assert(nonSerializableMembersOfSerializable.isEmpty())\r\n    }\r\n\r\n    private fun tryGetClassesForPackage(packageName:String,loader:ClassLoader):Sequence&lt;Class&lt;*&gt;&gt;\r\n    {\r\n        return ClassGraph().acceptPackages(packageName).enableClassInfo().scan().use { scanResult -&gt;\r\n            scanResult.allClasses.names.asSequence().map { className -&gt; loader.loadClass(className) }\r\n        }\r\n    }\r\n}\r\n```","title":"Unit Testing serializability for all classes in java project","body":"<p>this unit test finds all the classes in <code>packageName</code> that are descendants of <code>Serializable</code>, and checks the declared properties of these classes to see if they are also descendants of <code>Serializable</code>.</p>\n<p>library dependencies</p>\n<pre><code>dependencies {\n    implementation 'io.github.classgraph:classgraph:4.8.151'\n}\n</code></pre>\n<p>the unit test</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import io.github.classgraph.ClassGraph\nimport org.junit.Test\nimport java.io.Serializable\nimport java.util.LinkedHashSet\nimport kotlin.reflect.KClass\nimport kotlin.reflect.full.declaredMemberProperties\nimport kotlin.reflect.full.isSubclassOf\nimport kotlin.reflect.jvm.javaField\n\nclass SerializableTest\n{\n    @Test\n    fun `all properties of Serializable descendants are also Serializable descendants`()\n    {\n        // change BuildConfig.APPLICATION_ID to be root package of your project, unless you are also android developer! :D\n        val packageName = BuildConfig.APPLICATION_ID\n\n        // this should be okay to keep it as it is as long as you put it in the same package as root of your project\n        val classLoader = SerializableTest::class.java.classLoader!!\n        val allClasses = tryGetClassesForPackage(packageName,classLoader)\n        val nonSerializableMembersOfSerializableSequence = allClasses\n            .asSequence()\n            .onEach { jClass -&gt; println(&quot;found class in package $packageName: $jClass&quot;) }\n            .filter { jClass -&gt; Serializable::class.java.isAssignableFrom(jClass) }\n            .onEach { serializableJClass -&gt; println(&quot;found Serializable subclass: $serializableJClass&quot;) }\n            .filter { serializableJClass -&gt; serializableJClass.kotlin.simpleName != null }\n            .onEach { serializableJClass -&gt; println(&quot;found non-anonymous Serializable subclass: $serializableJClass&quot;) }\n            .flatMap()\n            { serializableJClass -&gt;\n                serializableJClass.kotlin.simpleName\n                serializableJClass.kotlin.declaredMemberProperties.asSequence()\n                    .onEach { property -&gt; println(&quot;found property of Serializable subclass: ${property.name}&quot;) }\n                    .filter { property -&gt; property.javaField != null }\n                    .onEach { property -&gt; println(&quot;found java-field-backed property of Serializable subclass: ${property.name}&quot;) }\n                    .mapNotNull()\n                    { kProperty -&gt;\n                        val propertyClass = kProperty.returnType.classifier as? KClass&lt;*&gt;\n                        val isMemberNonSerializable = propertyClass?.isSubclassOf(Serializable::class) != true\n                        if (isMemberNonSerializable) serializableJClass.canonicalName to kProperty.name else null\n                    }\n            }\n        val nonSerializableMembersOfSerializable = nonSerializableMembersOfSerializableSequence.toSet()\n        nonSerializableMembersOfSerializable.onEach { serializableJClass -&gt;\n            val serializableClassName = serializableJClass.first\n            val nonSerializablePropertyName = serializableJClass.second\n            System.err.println(&quot;found Serializable subclass ($serializableClassName) with non-Serializable member: $nonSerializablePropertyName&quot;)\n        }\n        assert(nonSerializableMembersOfSerializable.isEmpty())\n    }\n\n    private fun tryGetClassesForPackage(packageName:String,loader:ClassLoader):Sequence&lt;Class&lt;*&gt;&gt;\n    {\n        return ClassGraph().acceptPackages(packageName).enableClassInfo().scan().use { scanResult -&gt;\n            scanResult.allClasses.names.asSequence().map { className -&gt; loader.loadClass(className) }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":809814,"reputation":401,"user_id":898728,"accept_rate":17,"display_name":"Ros"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5485,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1670607263,"creation_date":1318365859,"question_id":7732259,"body_markdown":"I&#39;ve thousands of classes in our java project. Some of them implements serializable interface.  Now here&#39;s a problem.  It&#39;s possible someone can go in a class, add new variable that is neither transient nor serializable. Code compiles fine however process would blow up at runtime.\r\n\r\nTo illustrate this\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    class Foo implements Serializable {  .... // all good }\r\n\r\n    class Foo implements Serializable \r\n    {  \r\n        // OOps, executorService is not serializable.  It&#39;s not declared as transient either \r\n\r\n        private ExecutorService executorService = ..\r\n    }\r\n\r\nI&#39;m thinking about writing a unit test that would go thru all classes and ensure &quot;true serializability&quot;.   I&#39;ve read some discussions about serialing specific objects. i understand that process but it requires \r\n\r\n \r\n\r\n 1) creating an object.    \r\n 2) serializing and then   \r\n 3) deserializing.\r\n\r\n \r\n\r\nIs there more efficient and practical approach. perhaps to use reflection. Go thru all classes, if class has serializable then all attributes must be serializable or have transient keyword.. \r\n\r\nThoughts ?","title":"Unit Testing serializability for all classes in java project","body":"<p>I've thousands of classes in our java project. Some of them implements serializable interface.  Now here's a problem.  It's possible someone can go in a class, add new variable that is neither transient nor serializable. Code compiles fine however process would blow up at runtime.</p>\n\n<p>To illustrate this</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class Foo implements Serializable {  .... // all good }\n\nclass Foo implements Serializable \n{  \n    // OOps, executorService is not serializable.  It's not declared as transient either \n\n    private ExecutorService executorService = ..\n}\n</code></pre>\n\n<p>I'm thinking about writing a unit test that would go thru all classes and ensure \"true serializability\".   I've read some discussions about serialing specific objects. i understand that process but it requires </p>\n\n<p>1) creating an object.<br>\n 2) serializing and then<br>\n 3) deserializing.</p>\n\n<p>Is there more efficient and practical approach. perhaps to use reflection. Go thru all classes, if class has serializable then all attributes must be serializable or have transient keyword.. </p>\n\n<p>Thoughts ?</p>\n"},{"tags":["java","intellij-idea","cucumber","bdd"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1670608303,"post_id":74746445,"comment_id":131920590,"body_markdown":"Please share the [Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve) on GitHub.","body":"Please share the <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> on GitHub."},{"owner":{"account_id":5746949,"reputation":179,"user_id":4537922,"accept_rate":54,"display_name":"Shafiq Ahmed Khan"},"score":0,"creation_date":1670612099,"post_id":74746445,"comment_id":131921650,"body_markdown":"Please refer to: https://github.com/shafiqahmedkhan/APIFramework","body":"Please refer to: <a href=\"https://github.com/shafiqahmedkhan/APIFramework\" rel=\"nofollow noreferrer\">github.com/shafiqahmedkhan/APIFramework</a>"},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1670621483,"post_id":74746445,"comment_id":131923783,"body_markdown":"Move resources to test root like this: https://i.imgur.com/iK5KUT5.png.","body":"Move resources to test root like this: <a href=\"https://i.imgur.com/iK5KUT5.png\" rel=\"nofollow noreferrer\">i.imgur.com/iK5KUT5.png</a>."},{"owner":{"account_id":5746949,"reputation":179,"user_id":4537922,"accept_rate":54,"display_name":"Shafiq Ahmed Khan"},"score":0,"creation_date":1670623743,"post_id":74746445,"comment_id":131924153,"body_markdown":"I have done this but my feature is still not running: https://imgur.com/a/wSj1tda","body":"I have done this but my feature is still not running: <a href=\"https://imgur.com/a/wSj1tda\" rel=\"nofollow noreferrer\">imgur.com/a/wSj1tda</a>"},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1670626725,"post_id":74746445,"comment_id":131924670,"body_markdown":"Use this configuration: https://i.imgur.com/OR9qwut.png.","body":"Use this configuration: <a href=\"https://i.imgur.com/OR9qwut.png\" rel=\"nofollow noreferrer\">i.imgur.com/OR9qwut.png</a>."},{"owner":{"account_id":5746949,"reputation":179,"user_id":4537922,"accept_rate":54,"display_name":"Shafiq Ahmed Khan"},"score":0,"creation_date":1670627439,"post_id":74746445,"comment_id":131924801,"body_markdown":"So sorry I have tried that configuration but it does not work for me :-( https://imgur.com/4qLktVq","body":"So sorry I have tried that configuration but it does not work for me :-( <a href=\"https://imgur.com/4qLktVq\" rel=\"nofollow noreferrer\">imgur.com/4qLktVq</a>"},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1670632267,"post_id":74746445,"comment_id":131925465,"body_markdown":"Make sure JDK is specified: https://i.imgur.com/DlTnCbE.png\nhttps://i.imgur.com/TiFtoZw.png\nhttps://i.imgur.com/tPYsa2l.png. See https://www.jetbrains.com/help/idea/sdk.html#define-sdk.","body":"Make sure JDK is specified: <a href=\"https://i.imgur.com/DlTnCbE.png\" rel=\"nofollow noreferrer\">i.imgur.com/DlTnCbE.png</a> <a href=\"https://i.imgur.com/TiFtoZw.png\" rel=\"nofollow noreferrer\">i.imgur.com/TiFtoZw.png</a> <a href=\"https://i.imgur.com/tPYsa2l.png\" rel=\"nofollow noreferrer\">i.imgur.com/tPYsa2l.png</a>. See <a href=\"https://www.jetbrains.com/help/idea/sdk.html#define-sdk\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/sdk.html#define-sdk</a>."},{"owner":{"account_id":5746949,"reputation":179,"user_id":4537922,"accept_rate":54,"display_name":"Shafiq Ahmed Khan"},"score":0,"creation_date":1670676598,"post_id":74746445,"comment_id":131930887,"body_markdown":"It&#39;s working now. Thank you so much. I have been stuck on this issue for days and I could not see any solutions anywhere online. Thanks again.","body":"It&#39;s working now. Thank you so much. I have been stuck on this issue for days and I could not see any solutions anywhere online. Thanks again."}],"owner":{"account_id":5746949,"reputation":179,"user_id":4537922,"accept_rate":54,"display_name":"Shafiq Ahmed Khan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670607004,"creation_date":1670607004,"question_id":74746445,"body_markdown":"I am unable to run this feature. Please see screenshot below:\r\n\r\n```package stepDefinition;\r\n\r\nimport io.cucumber.junit.Cucumber;\r\nimport io.cucumber.junit.CucumberOptions;\r\nimport org.junit.runner.RunWith;\r\n\r\n@RunWith(Cucumber.class)\r\n@CucumberOptions(features = &quot;src/main/resources/features&quot;, glue = {&quot;stepDefinition&quot;})\r\npublic class RunCukeTest {\r\n}\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/D5IMa.png\r\n  [2]: https://i.stack.imgur.com/xx1Bx.png","title":"Unable to run feature when tests runner and step definitions are added","body":"<p>I am unable to run this feature. Please see screenshot below:</p>\n<pre><code>\nimport io.cucumber.junit.Cucumber;\nimport io.cucumber.junit.CucumberOptions;\nimport org.junit.runner.RunWith;\n\n@RunWith(Cucumber.class)\n@CucumberOptions(features = &quot;src/main/resources/features&quot;, glue = {&quot;stepDefinition&quot;})\npublic class RunCukeTest {\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/D5IMa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D5IMa.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/xx1Bx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xx1Bx.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","servlets","jersey","cxf"],"owner":{"account_id":24120680,"reputation":17,"user_id":18089908,"display_name":"BigMautone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670606843,"creation_date":1670606843,"question_id":74746420,"body_markdown":"I have to migrate an application deployed with CXF in Jersey, but i don&#39;t know how to do it.\r\n&lt;br&gt;Right now, i&#39;ve just updated my pom into this:\r\n```xml\r\n//other code...\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\r\n            &lt;version&gt;${jersey2.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n            &lt;version&gt;${jersey2.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n            &lt;version&gt;${jersey2.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;${jersey2.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI have to do any kind of code changes or these would be enough?","title":"How to migrate from CXF service to Jersey service","body":"<p>I have to migrate an application deployed with CXF in Jersey, but i don't know how to do it.\n<br>Right now, i've just updated my pom into this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>//other code...\n&lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n            &lt;version&gt;${jersey2.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n            &lt;version&gt;${jersey2.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n            &lt;version&gt;${jersey2.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n            &lt;version&gt;${jersey2.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I have to do any kind of code changes or these would be enough?</p>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670605706,"creation_date":1670605706,"answer_id":74746217,"question_id":74745874,"body_markdown":"The option [generatedSourceOutputDirectory][1] is of type [DirectoryProperty][2]; therefore, to get the value that it holds, you need to call [get()][3].\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/dsl/org.gradle.api.tasks.compile.CompileOptions.html#org.gradle.api.tasks.compile.CompileOptions:generatedSourceOutputDirectory\r\n  [2]: https://docs.gradle.org/current/javadoc/org/gradle/api/file/DirectoryProperty.html\r\n  [3]: https://docs.gradle.org/current/javadoc/org/gradle/api/provider/Provider.html#get--","title":"How do you log all the compiler options being used by Gradle?","body":"<p>The option <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.compile.CompileOptions.html#org.gradle.api.tasks.compile.CompileOptions:generatedSourceOutputDirectory\" rel=\"nofollow noreferrer\">generatedSourceOutputDirectory</a> is of type <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/file/DirectoryProperty.html\" rel=\"nofollow noreferrer\">DirectoryProperty</a>; therefore, to get the value that it holds, you need to call <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/provider/Provider.html#get--\" rel=\"nofollow noreferrer\">get()</a>.</p>\n"}],"owner":{"account_id":20985221,"reputation":119,"user_id":15419185,"display_name":"I was in the neighborhood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74746217,"answer_count":1,"score":1,"last_activity_date":1670605706,"creation_date":1670603800,"question_id":74745874,"body_markdown":"I&#39;m using Gradle 7.4.2. I&#39;m trying to see what it uses for `generatedSourceOutputDirectory` (among other `CompileOptions`. \r\n\r\nI&#39;ve tried: \r\n\r\n```\r\ntasks.compileJava {\r\n    println(options.generatedSourceOutputDirectory.toString())\r\n}\r\n```\r\n\r\nbut this prints an unhelpful: \r\n\r\n```\r\ntask &#39;:lib:compileJava&#39; property &#39;options.generatedSourceOutputDirectory&#39;\r\n```\r\n\r\nSleuthing around the code itself on Github, I see that&#39;s its defaults are (seemingly) mangaged via XML [code here](https://github.com/gradle/gradle/blob/96e5b88f58c263209e83719fba13034c18d99bfb/subprojects/docs/src/docs/dsl/org.gradle.api.tasks.compile.CompileOptions.xml#L85). \r\n\r\nHow can I see what the current compile options are? \r\n","title":"How do you log all the compiler options being used by Gradle?","body":"<p>I'm using Gradle 7.4.2. I'm trying to see what it uses for <code>generatedSourceOutputDirectory</code> (among other <code>CompileOptions</code>.</p>\n<p>I've tried:</p>\n<pre><code>tasks.compileJava {\n    println(options.generatedSourceOutputDirectory.toString())\n}\n</code></pre>\n<p>but this prints an unhelpful:</p>\n<pre><code>task ':lib:compileJava' property 'options.generatedSourceOutputDirectory'\n</code></pre>\n<p>Sleuthing around the code itself on Github, I see that's its defaults are (seemingly) mangaged via XML <a href=\"https://github.com/gradle/gradle/blob/96e5b88f58c263209e83719fba13034c18d99bfb/subprojects/docs/src/docs/dsl/org.gradle.api.tasks.compile.CompileOptions.xml#L85\" rel=\"nofollow noreferrer\">code here</a>.</p>\n<p>How can I see what the current compile options are?</p>\n"},{"tags":["java","java-17","jmock"],"comments":[{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1670536948,"post_id":74734988,"comment_id":131903736,"body_markdown":"Looking at the stack trace the issue is `cglib` which seems to be used by jmock? The [cglib repo](https://github.com/cglib/cglib) also has this note: `IMPORTANT NOTE: cglib is unmaintained and does not work well (or possibly at all?) in newer JDKs, particularly JDK17+`. Though, it seems like jmock can also use ByteBuddy (I think). So, you might be able to solve this be switching to ByteBuddy from cglib.","body":"Looking at the stack trace the issue is <code>cglib</code> which seems to be used by jmock? The <a href=\"https://github.com/cglib/cglib\" rel=\"nofollow noreferrer\">cglib repo</a> also has this note: <code>IMPORTANT NOTE: cglib is unmaintained and does not work well (or possibly at all?) in newer JDKs, particularly JDK17+</code>. Though, it seems like jmock can also use ByteBuddy (I think). So, you might be able to solve this be switching to ByteBuddy from cglib."},{"owner":{"account_id":1138987,"reputation":615,"user_id":1123409,"accept_rate":12,"display_name":"CasaDelGato"},"score":0,"creation_date":1670537831,"post_id":74734988,"comment_id":131903962,"body_markdown":"I had found a few comments that jmock(it,or other variation) could use ByteBuddy.\nI don&#39;t see HOW Jmock can use it, as it references cglib classes directly.\nI also was a bit confused, as I was searching on Maven Central for &quot;ByteBuddy&quot; - and finally figured out I needed to search for &quot;Byte-Buddy&quot;.\nA quick test shows that JMock is definitely using cglib classes, and not ByteBuddy ones.","body":"I had found a few comments that jmock(it,or other variation) could use ByteBuddy. I don&#39;t see HOW Jmock can use it, as it references cglib classes directly. I also was a bit confused, as I was searching on Maven Central for &quot;ByteBuddy&quot; - and finally figured out I needed to search for &quot;Byte-Buddy&quot;. A quick test shows that JMock is definitely using cglib classes, and not ByteBuddy ones."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":2,"creation_date":1670538421,"post_id":74734988,"comment_id":131904082,"body_markdown":"Jmock seems to support different &#39;imposterisers&#39;. There&#39;s also one for ByteBuddey: https://github.com/jmock-developers/jmock-library/blob/master/jmock-imposters/src/main/java/org/jmock/imposters/ByteBuddyClassImposteriser.java It seems from your stack trace that the legacy cglib-based imposteriser is being used. It also seems that the imposteriser can be set through [`Mockery.setImposteriser`](https://github.com/jmock-developers/jmock-library/blob/307f6c213ce21054c55d49311f01fb22dfc65fd2/jmock/src/main/java/org/jmock/Mockery.java#L86). So I think that&#39;s what you&#39;ll have to do.","body":"Jmock seems to support different &#39;imposterisers&#39;. There&#39;s also one for ByteBuddey: <a href=\"https://github.com/jmock-developers/jmock-library/blob/master/jmock-imposters/src/main/java/org/jmock/imposters/ByteBuddyClassImposteriser.java\" rel=\"nofollow noreferrer\">github.com/jmock-developers/jmock-library/blob/master/&hellip;</a> It seems from your stack trace that the legacy cglib-based imposteriser is being used. It also seems that the imposteriser can be set through <a href=\"https://github.com/jmock-developers/jmock-library/blob/307f6c213ce21054c55d49311f01fb22dfc65fd2/jmock/src/main/java/org/jmock/Mockery.java#L86\" rel=\"nofollow noreferrer\"><code>Mockery.setImposteriser</code></a>. So I think that&#39;s what you&#39;ll have to do."},{"owner":{"account_id":1138987,"reputation":615,"user_id":1123409,"accept_rate":12,"display_name":"CasaDelGato"},"score":3,"creation_date":1670541791,"post_id":74734988,"comment_id":131904792,"body_markdown":"Looking good.  After some digging around, I added &quot;jmock-imposters-2.12.0.jar&quot; and &quot;byte-buddy-1.12.19.jar&quot;.  Deleted cglib.  Hmm, probably should delete asm as well.\nAlso changed calls to setImposteriser() to setImposteriser(ByteBuddyClassImposteriser.INSTANCE);\nRunning a test now.","body":"Looking good.  After some digging around, I added &quot;jmock-imposters-2.12.0.jar&quot; and &quot;byte-buddy-1.12.19.jar&quot;.  Deleted cglib.  Hmm, probably should delete asm as well. Also changed calls to setImposteriser() to setImposteriser(ByteBuddyClassImposteriser.INSTANCE); Running a test now."}],"answers":[{"tags":[],"owner":{"account_id":1138987,"reputation":615,"user_id":1123409,"accept_rate":12,"display_name":"CasaDelGato"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670605514,"creation_date":1670605514,"answer_id":74746189,"question_id":74734988,"body_markdown":"Thanks to Jorn Vernee for pointing me in the correct direction.\r\nThe fix was to:\r\nDelete the cglib jar and asm jar files.\r\nAdd &quot;jmock-imposters-2.12.0.jar&quot; and &quot;byte-buddy-1.12.19.jar&quot;.\r\nNow JMock is working.","title":"unable to use JMock after updating to Java 17","body":"<p>Thanks to Jorn Vernee for pointing me in the correct direction.\nThe fix was to:\nDelete the cglib jar and asm jar files.\nAdd &quot;jmock-imposters-2.12.0.jar&quot; and &quot;byte-buddy-1.12.19.jar&quot;.\nNow JMock is working.</p>\n"}],"owner":{"account_id":1138987,"reputation":615,"user_id":1123409,"accept_rate":12,"display_name":"CasaDelGato"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1678,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1670605514,"creation_date":1670525166,"question_id":74734988,"body_markdown":"I&#39;m updating our large old java desktop application from Java 11 to java 17.\r\nI&#39;ve updated all the jars to the latest versions.\r\njmock-2.12.0, cglib-3.3.0, asm-9.4.  Working with JUnit 4 tests.\r\nA LOT of our JUnit tests are failing with a:\r\n\r\n    java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @5ce81285\r\n\r\nFull stack trace:\r\n\r\n    java.lang.ExceptionInInitializerError\r\n    \tat org.jmock.lib.legacy.ClassImposteriser.proxyClass(ClassImposteriser.java:100)\r\n    \tat org.jmock.lib.legacy.ClassImposteriser.imposterise(ClassImposteriser.java:69)\r\n    \tat org.jmock.Mockery.mock(Mockery.java:167)\r\n    \tat com.metrixsoftware.servicebroker.MetrixTestCase.mock(MetrixTestCase.java:95)\r\n    \tat com.metrixsoftware.api.mis.Test_DiecutterToolEdit.setupMetrixMISManager(Test_DiecutterToolEdit.java:125)\r\n    \tat com.metrixsoftware.api.mis.Test_DiecutterToolEdit.setup(Test_DiecutterToolEdit.java:59)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n    \tat org.junit.internal.runners.statements.RunBefores.invokeMethod(RunBefores.java:33)\r\n    \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)\r\n    \tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n    \tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\n    \tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n    \tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n    \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n    \tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n    \tat org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)\r\n    \tat org.junit.rules.RunRules.evaluate(RunRules.java:20)\r\n    \tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:93)\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n    Caused by: net.sf.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @5ce81285\r\n    \tat net.sf.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:464)\r\n    \tat net.sf.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:339)\r\n    \tat net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:96)\r\n    \tat net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:94)\r\n    \tat net.sf.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat net.sf.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\r\n    \tat net.sf.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\r\n    \tat net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:119)\r\n    \tat net.sf.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:294)\r\n    \tat net.sf.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221)\r\n    \tat net.sf.cglib.core.KeyFactory.create(KeyFactory.java:174)\r\n    \tat net.sf.cglib.core.KeyFactory.create(KeyFactory.java:153)\r\n    \tat net.sf.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:73)\r\n    \t... 38 more\r\n    Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @5ce81285\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n    \tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\r\n    \tat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\r\n    \tat net.sf.cglib.core.ReflectUtils$1.run(ReflectUtils.java:61)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\r\n    \tat net.sf.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:52)\r\n    \tat net.sf.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:243)\r\n    \tat net.sf.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\r\n    \tat net.sf.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:332)\r\n    \t... 50 more\r\n\r\n\r\nIs there any way to get our calls to Mockery.mock(class,name) to work?","title":"unable to use JMock after updating to Java 17","body":"<p>I'm updating our large old java desktop application from Java 11 to java 17.\nI've updated all the jars to the latest versions.\njmock-2.12.0, cglib-3.3.0, asm-9.4.  Working with JUnit 4 tests.\nA LOT of our JUnit tests are failing with a:</p>\n<pre><code>java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @5ce81285\n</code></pre>\n<p>Full stack trace:</p>\n<pre><code>java.lang.ExceptionInInitializerError\n    at org.jmock.lib.legacy.ClassImposteriser.proxyClass(ClassImposteriser.java:100)\n    at org.jmock.lib.legacy.ClassImposteriser.imposterise(ClassImposteriser.java:69)\n    at org.jmock.Mockery.mock(Mockery.java:167)\n    at com.metrixsoftware.servicebroker.MetrixTestCase.mock(MetrixTestCase.java:95)\n    at com.metrixsoftware.api.mis.Test_DiecutterToolEdit.setupMetrixMISManager(Test_DiecutterToolEdit.java:125)\n    at com.metrixsoftware.api.mis.Test_DiecutterToolEdit.setup(Test_DiecutterToolEdit.java:59)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.RunBefores.invokeMethod(RunBefores.java:33)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)\n    at org.junit.rules.RunRules.evaluate(RunRules.java:20)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:93)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\nCaused by: net.sf.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @5ce81285\n    at net.sf.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:464)\n    at net.sf.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:339)\n    at net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:96)\n    at net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:94)\n    at net.sf.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at net.sf.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\n    at net.sf.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\n    at net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:119)\n    at net.sf.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:294)\n    at net.sf.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221)\n    at net.sf.cglib.core.KeyFactory.create(KeyFactory.java:174)\n    at net.sf.cglib.core.KeyFactory.create(KeyFactory.java:153)\n    at net.sf.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:73)\n    ... 38 more\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @5ce81285\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\n    at net.sf.cglib.core.ReflectUtils$1.run(ReflectUtils.java:61)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\n    at net.sf.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:52)\n    at net.sf.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:243)\n    at net.sf.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\n    at net.sf.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:332)\n    ... 50 more\n</code></pre>\n<p>Is there any way to get our calls to Mockery.mock(class,name) to work?</p>\n"},{"tags":["java","linux","elasticsearch","sonarqube"],"comments":[{"owner":{"account_id":10812177,"reputation":2398,"user_id":7952453,"display_name":"Gustavo Passini"},"score":0,"creation_date":1571163744,"post_id":58400499,"comment_id":103146370,"body_markdown":"Are you following some tutorial to setup SonarQube?","body":"Are you following some tutorial to setup SonarQube?"},{"owner":{"account_id":9035385,"reputation":451,"user_id":6731596,"accept_rate":86,"display_name":"Denis S."},"score":0,"creation_date":1571164346,"post_id":58400499,"comment_id":103146618,"body_markdown":"Yes, i&#39;m following this one https://developerinsider.co/install-sonarqube-on-ubuntu/","body":"Yes, i&#39;m following this one <a href=\"https://developerinsider.co/install-sonarqube-on-ubuntu/\" rel=\"nofollow noreferrer\">developerinsider.co/install-sonarqube-on-ubuntu</a>"}],"answers":[{"tags":[],"owner":{"account_id":9035385,"reputation":451,"user_id":6731596,"accept_rate":86,"display_name":"Denis S."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571169248,"creation_date":1571169248,"answer_id":58401802,"question_id":58400499,"body_markdown":"ok, i found the solution. All i had to do is to change ```#RUN_AS_USER= in /opt/sonarqube-7.8/bin/linux-x86-64/sonar.sh line 48 to RUN_AS_USER=sonar```","title":"SonarQube stopped and is not running","body":"<p>ok, i found the solution. All i had to do is to change <code>#RUN_AS_USER= in /opt/sonarqube-7.8/bin/linux-x86-64/sonar.sh line 48 to RUN_AS_USER=sonar</code></p>\n"},{"tags":[],"owner":{"account_id":14471970,"reputation":31,"user_id":10453686,"display_name":"Shadow Kill97"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588862868,"creation_date":1588862868,"answer_id":61660761,"question_id":58400499,"body_markdown":"Your solution for me doesn&#39;t works, cause console show me this messagge (after edit to sonar.sh file)\r\n\r\n&gt; groups: &quot;sonar&quot;: no such user\r\nchown: utente non valido: &quot;sonar:sonar&quot;\r\nsu: user sonar does not exist\r\n\r\n","title":"SonarQube stopped and is not running","body":"<p>Your solution for me doesn't works, cause console show me this messagge (after edit to sonar.sh file)</p>\n\n<blockquote>\n  <p>groups: \"sonar\": no such user\n  chown: utente non valido: \"sonar:sonar\"\n  su: user sonar does not exist</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6343194,"reputation":163,"user_id":4924520,"display_name":"baya prakash reddy"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1595405124,"creation_date":1595405124,"answer_id":63029616,"question_id":58400499,"body_markdown":"SOLVED:\r\n\r\nFirst, don&#39;t run sonarqube as the root user\r\n\r\n1) Create user\r\n\r\n    command: **useradd username** (put username as sonaradmin(if you don&#39;t want to change any command)\r\n\r\n2) Create a password command: `passwd username`\r\n\r\n3) goto /opt/ directory \r\n\r\n\r\n3.1) Rename sonarqube.x.x.x to sonarqube command:`sudo mv sonarqube.x.x.x sonarqube`(X.X.X you should change directory name)\r\n\r\n4) Change permissions command:`chmod 775 -R sonarqube`(folder name may change Sonarqube )\r\n\r\n5) Add Created user to sonaradmin group command: chown -R sonaradmin:sonaradmin sonarqube\r\n\r\n6) goto : cd /opt/sonarqube/bin/linux-x86-64/\r\n7) Command:  su sonaradmin\r\n8) Enter password\r\n9) command:`./sonar.sh start`\r\n10) Command:`./sonar.sh status`\r\n\r\nNow goto browser check http://localhost:9000/sonar\r\n\r\nHoping this helps.... I have gone through the same issue,solved\r\n\r\n    ","title":"SonarQube stopped and is not running","body":"<p>SOLVED:</p>\n<p>First, don't run sonarqube as the root user</p>\n<ol>\n<li><p>Create user</p>\n<p>command: <strong>useradd username</strong> (put username as sonaradmin(if you don't want to change any command)</p>\n</li>\n<li><p>Create a password command: <code>passwd username</code></p>\n</li>\n<li><p>goto /opt/ directory</p>\n</li>\n</ol>\n<p>3.1) Rename sonarqube.x.x.x to sonarqube command:<code>sudo mv sonarqube.x.x.x sonarqube</code>(X.X.X you should change directory name)</p>\n<ol start=\"4\">\n<li><p>Change permissions command:<code>chmod 775 -R sonarqube</code>(folder name may change Sonarqube )</p>\n</li>\n<li><p>Add Created user to sonaradmin group command: chown -R sonaradmin:sonaradmin sonarqube</p>\n</li>\n<li><p>goto : cd /opt/sonarqube/bin/linux-x86-64/</p>\n</li>\n<li><p>Command:  su sonaradmin</p>\n</li>\n<li><p>Enter password</p>\n</li>\n<li><p>command:<code>./sonar.sh start</code></p>\n</li>\n<li><p>Command:<code>./sonar.sh status</code></p>\n</li>\n</ol>\n<p>Now goto browser check http://localhost:9000/sonar</p>\n<p>Hoping this helps.... I have gone through the same issue,solved</p>\n"},{"tags":[],"owner":{"account_id":21450582,"reputation":78,"user_id":15803128,"display_name":"Mohamed BEN KHOUYA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635717857,"creation_date":1635717857,"answer_id":69790941,"question_id":58400499,"body_markdown":"if **baya prakash reddy**&#39;s answer doesn&#39;t work, so you can look at the documentation &lt;https://docs.sonarqube.org/latest/requirements/requirements/&gt; where it says that you must ensure that:\r\n  \r\n\r\n&gt;  vm.max_map_count is greater than or equal to 524288\r\n\r\nyo can set it like this: \r\n&gt; sysctl -w vm.max_map_count=524288","title":"SonarQube stopped and is not running","body":"<p>if <strong>baya prakash reddy</strong>'s answer doesn't work, so you can look at the documentation <a href=\"https://docs.sonarqube.org/latest/requirements/requirements/\" rel=\"nofollow noreferrer\">https://docs.sonarqube.org/latest/requirements/requirements/</a> where it says that you must ensure that:</p>\n<blockquote>\n<p>vm.max_map_count is greater than or equal to 524288</p>\n</blockquote>\n<p>yo can set it like this:</p>\n<blockquote>\n<p>sysctl -w vm.max_map_count=524288</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":27203765,"reputation":1,"user_id":20735644,"display_name":"Cold Energy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670604553,"creation_date":1670604530,"answer_id":74746012,"question_id":58400499,"body_markdown":"Ensure your sonarQube server has at least 4GB of RAM. I had this issue after installing SonarQube with 1GB of RAM. Running SonarQube as sonar did not resolve the issue. Once I installed on RHL with 4GB RAM, issue was resolved","title":"SonarQube stopped and is not running","body":"<p>Ensure your sonarQube server has at least 4GB of RAM. I had this issue after installing SonarQube with 1GB of RAM. Running SonarQube as sonar did not resolve the issue. Once I installed on RHL with 4GB RAM, issue was resolved</p>\n"}],"owner":{"account_id":9035385,"reputation":451,"user_id":6731596,"accept_rate":86,"display_name":"Denis S."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18351,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1670604553,"creation_date":1571163413,"question_id":58400499,"body_markdown":"I&#39;m trying to setup SonarQube 7.8 version. Once i start sonar.sh file it is running but after that sonar stops. \r\n```\r\nroot@automation:/opt/sonarqube-7.8/bin/linux-x86-64# ./sonar.sh start\r\nStarting SonarQube...\r\nStarted SonarQube.\r\nroot@automation:/opt/sonarqube-7.8/bin/linux-x86-64# ./sonar.sh status\r\nSonarQube is not running.\r\n```\r\nI checked the logs and this is what i get:\r\n```\r\n--&gt; Wrapper Started as Daemon\r\nLaunching a JVM...\r\nWrapper (Version 3.2.3) http://wrapper.tanukisoftware.org\r\n  Copyright 1999-2006 Tanuki Software, Inc.  All Rights Reserved.\r\n\r\n2019.10.15 21:01:37 INFO  app[][o.s.a.AppFileSystem] Cleaning or creating temp directory /opt/sonarqube-7.8/temp\r\n2019.10.15 21:01:37 INFO  app[][o.s.a.es.EsSettings] Elasticsearch listening on /127.0.0.1:9001\r\n2019.10.15 21:01:37 INFO  app[][o.s.a.ProcessLauncherImpl] Launch process[[key=&#39;es&#39;, ipcIndex=1, logFilenamePrefix=es]] from [/opt/sonarqube-7.8/elasticsearch]: /opt/sonarqube-7.8/elasticsearch/bin/elasticsearch\r\n2019.10.15 21:01:37 INFO  app[][o.s.a.SchedulerImpl] Waiting for Elasticsearch to be up and running\r\n2019.10.15 21:01:38 INFO  app[][o.e.p.PluginsService] no modules loaded\r\n2019.10.15 21:01:38 INFO  app[][o.e.p.PluginsService] loaded plugin [org.elasticsearch.transport.Netty4Plugin]\r\nJava HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.\r\n2019.10.15 21:01:41 WARN  app[][o.s.a.p.AbstractManagedProcess] Process exited with exit value [es]: 1\r\n2019.10.15 21:01:41 INFO  app[][o.s.a.SchedulerImpl] Process[es] is stopped\r\n2019.10.15 21:01:41 INFO  app[][o.s.a.SchedulerImpl] SonarQube is stopped\r\n&lt;-- Wrapper Stopped\r\n```\r\n\r\nes.log file is here :\r\n```\r\n2019.10.15 21:01:41 ERROR es[][o.e.b.Bootstrap] Exception\r\njava.lang.RuntimeException: can not run elasticsearch as root\r\n        at org.elasticsearch.bootstrap.Bootstrap.initializeNatives(Bootstrap.java:103) ~[elasticsearch-6.8.0.jar:6.8.0]\r\n        at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:170) ~[elasticsearch-6.8.0.jar:6.8.0]\r\n        at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:333) [elasticsearch-6.8.0.jar:6.8.0]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:159) [elasticsearch-6.8.0.jar:6.8.0]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:150) [elasticsearch-6.8.0.jar:6.8.0]\r\n        at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86) [elasticsearch-6.8.0.jar:6.8.0]\r\n        at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:124) [elasticsearch-cli-6.8.0.jar:6.8.0]\r\n        at org.elasticsearch.cli.Command.main(Command.java:90) [elasticsearch-cli-6.8.0.jar:6.8.0]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:116) [elasticsearch-6.8.0.jar:6.8.0]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:93) [elasticsearch-6.8.0.jar:6.8.0]\r\n```\r\nI&#39;m not sure why SonarQube stops. Could you help me with that please?","title":"SonarQube stopped and is not running","body":"<p>I'm trying to setup SonarQube 7.8 version. Once i start sonar.sh file it is running but after that sonar stops. </p>\n\n<pre><code>root@automation:/opt/sonarqube-7.8/bin/linux-x86-64# ./sonar.sh start\nStarting SonarQube...\nStarted SonarQube.\nroot@automation:/opt/sonarqube-7.8/bin/linux-x86-64# ./sonar.sh status\nSonarQube is not running.\n</code></pre>\n\n<p>I checked the logs and this is what i get:</p>\n\n<pre><code>--&gt; Wrapper Started as Daemon\nLaunching a JVM...\nWrapper (Version 3.2.3) http://wrapper.tanukisoftware.org\n  Copyright 1999-2006 Tanuki Software, Inc.  All Rights Reserved.\n\n2019.10.15 21:01:37 INFO  app[][o.s.a.AppFileSystem] Cleaning or creating temp directory /opt/sonarqube-7.8/temp\n2019.10.15 21:01:37 INFO  app[][o.s.a.es.EsSettings] Elasticsearch listening on /127.0.0.1:9001\n2019.10.15 21:01:37 INFO  app[][o.s.a.ProcessLauncherImpl] Launch process[[key='es', ipcIndex=1, logFilenamePrefix=es]] from [/opt/sonarqube-7.8/elasticsearch]: /opt/sonarqube-7.8/elasticsearch/bin/elasticsearch\n2019.10.15 21:01:37 INFO  app[][o.s.a.SchedulerImpl] Waiting for Elasticsearch to be up and running\n2019.10.15 21:01:38 INFO  app[][o.e.p.PluginsService] no modules loaded\n2019.10.15 21:01:38 INFO  app[][o.e.p.PluginsService] loaded plugin [org.elasticsearch.transport.Netty4Plugin]\nJava HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.\n2019.10.15 21:01:41 WARN  app[][o.s.a.p.AbstractManagedProcess] Process exited with exit value [es]: 1\n2019.10.15 21:01:41 INFO  app[][o.s.a.SchedulerImpl] Process[es] is stopped\n2019.10.15 21:01:41 INFO  app[][o.s.a.SchedulerImpl] SonarQube is stopped\n&lt;-- Wrapper Stopped\n</code></pre>\n\n<p>es.log file is here :</p>\n\n<pre><code>2019.10.15 21:01:41 ERROR es[][o.e.b.Bootstrap] Exception\njava.lang.RuntimeException: can not run elasticsearch as root\n        at org.elasticsearch.bootstrap.Bootstrap.initializeNatives(Bootstrap.java:103) ~[elasticsearch-6.8.0.jar:6.8.0]\n        at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:170) ~[elasticsearch-6.8.0.jar:6.8.0]\n        at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:333) [elasticsearch-6.8.0.jar:6.8.0]\n        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:159) [elasticsearch-6.8.0.jar:6.8.0]\n        at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:150) [elasticsearch-6.8.0.jar:6.8.0]\n        at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86) [elasticsearch-6.8.0.jar:6.8.0]\n        at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:124) [elasticsearch-cli-6.8.0.jar:6.8.0]\n        at org.elasticsearch.cli.Command.main(Command.java:90) [elasticsearch-cli-6.8.0.jar:6.8.0]\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:116) [elasticsearch-6.8.0.jar:6.8.0]\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:93) [elasticsearch-6.8.0.jar:6.8.0]\n</code></pre>\n\n<p>I'm not sure why SonarQube stops. Could you help me with that please?</p>\n"},{"tags":["java","google-sheets","google-sheets-api"],"comments":[{"owner":{"account_id":12911541,"reputation":9695,"user_id":9337071,"display_name":"tehhowch"},"score":3,"creation_date":1545611938,"post_id":53901194,"comment_id":94661042,"body_markdown":"You can only use the API key for consuming data - if you want to *write*, you will need to use `OAuth`.","body":"You can only use the API key for consuming data - if you want to <i>write</i>, you will need to use <code>OAuth</code>."}],"answers":[{"tags":[],"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1545583625,"creation_date":1545583625,"answer_id":53905369,"question_id":53901194,"body_markdown":"Yes you can, essentially you need something like the following:\r\n\r\n    public NetHttpTransport netHttpTransport() throws GeneralSecurityException, IOException {\r\n        return GoogleNetHttpTransport.newTrustedTransport();\r\n    }\r\n    \r\n    public JacksonFactory jacksonFactory() {\r\n        return JacksonFactory.getDefaultInstance();\r\n    }\r\n    \r\n    private Set&lt;String&gt; googleOAuth2Scopes() {\r\n        Set&lt;String&gt; googleOAuth2Scopes = new HashSet&lt;&gt;();\r\n        googleOAuth2Scopes.add(SheetsScopes.SPREADSHEETS_READONLY);\r\n        return Collections.unmodifiableSet(googleOAuth2Scopes);\r\n    }\r\n    \r\n    public GoogleCredential googleCredential() throws IOException {\r\n        File serviceAccount = new ClassPathResource(&quot;serviceAccount.json&quot;).getFile();\r\n        return GoogleCredential.fromStream(new FileInputStream(serviceAccount))\r\n                .createScoped(googleOAuth2Scopes());\r\n    }\r\n    \r\n    public Sheets googleSheets() {\r\n        return new Sheets(netHttpTransport(), jacksonFactory(), googleCredential());\r\n    }\r\n\r\nYou can read more about the `serviceAccount.json` here: https://cloud.google.com/iam/docs/creating-managing-service-account-keys\r\n\r\n---\r\n\r\nThe above was taken from an example Spring Boot project I did integrating with Google&#39;s APIs: https://github.com/ciscoo/spring-boot-google-apis-example\r\n","title":"Use Google Sheets Java API with API key not OAuth?","body":"<p>Yes you can, essentially you need something like the following:</p>\n\n<pre><code>public NetHttpTransport netHttpTransport() throws GeneralSecurityException, IOException {\n    return GoogleNetHttpTransport.newTrustedTransport();\n}\n\npublic JacksonFactory jacksonFactory() {\n    return JacksonFactory.getDefaultInstance();\n}\n\nprivate Set&lt;String&gt; googleOAuth2Scopes() {\n    Set&lt;String&gt; googleOAuth2Scopes = new HashSet&lt;&gt;();\n    googleOAuth2Scopes.add(SheetsScopes.SPREADSHEETS_READONLY);\n    return Collections.unmodifiableSet(googleOAuth2Scopes);\n}\n\npublic GoogleCredential googleCredential() throws IOException {\n    File serviceAccount = new ClassPathResource(\"serviceAccount.json\").getFile();\n    return GoogleCredential.fromStream(new FileInputStream(serviceAccount))\n            .createScoped(googleOAuth2Scopes());\n}\n\npublic Sheets googleSheets() {\n    return new Sheets(netHttpTransport(), jacksonFactory(), googleCredential());\n}\n</code></pre>\n\n<p>You can read more about the <code>serviceAccount.json</code> here: <a href=\"https://cloud.google.com/iam/docs/creating-managing-service-account-keys\" rel=\"nofollow noreferrer\">https://cloud.google.com/iam/docs/creating-managing-service-account-keys</a></p>\n\n<hr>\n\n<p>The above was taken from an example Spring Boot project I did integrating with Google's APIs: <a href=\"https://github.com/ciscoo/spring-boot-google-apis-example\" rel=\"nofollow noreferrer\">https://github.com/ciscoo/spring-boot-google-apis-example</a></p>\n"},{"tags":[],"owner":{"account_id":2162613,"reputation":9277,"user_id":1916449,"accept_rate":100,"display_name":"arekolek"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1596474411,"creation_date":1596458614,"answer_id":63229676,"question_id":53901194,"body_markdown":"I didn&#39;t find any official way to achieve this, but I was able to do it as described in [Acquiring and using an API key][1]:\r\n\r\n&gt; After you have an API key, your application can append the query parameter `key=yourAPIKey` to all request URLs.\r\n\r\nby using a request interceptor and adding the `key` query parameter manually, like this:\r\n\r\n\r\n    private Sheets getSheets() {\r\n        NetHttpTransport transport = new NetHttpTransport.Builder().build();\r\n        JacksonFactory jsonFactory = JacksonFactory.getDefaultInstance();\r\n        HttpRequestInitializer httpRequestInitializer = request -&gt; {\r\n            request.setInterceptor(intercepted -&gt; intercepted.getUrl().set(&quot;key&quot;, API_KEY));\r\n        };\r\n\r\n        return new Sheets.Builder(transport, jsonFactory, httpRequestInitializer)\r\n                .setApplicationName(APPLICATION_NAME)\r\n                .build();\r\n    }\r\n\r\n    public List&lt;List&lt;Object&gt;&gt; getValues(String spreadsheetId, String range) throws IOException {\r\n        return getSheets()\r\n                .spreadsheets()\r\n                .values()\r\n                .get(spreadsheetId, range)\r\n                .execute()\r\n                .getValues();\r\n    }\r\n\r\n\r\n  [1]: https://developers.google.com/sheets/api/guides/authorizing#APIKey","title":"Use Google Sheets Java API with API key not OAuth?","body":"<p>I didn't find any official way to achieve this, but I was able to do it as described in <a href=\"https://developers.google.com/sheets/api/guides/authorizing#APIKey\" rel=\"noreferrer\">Acquiring and using an API key</a>:</p>\n<blockquote>\n<p>After you have an API key, your application can append the query parameter <code>key=yourAPIKey</code> to all request URLs.</p>\n</blockquote>\n<p>by using a request interceptor and adding the <code>key</code> query parameter manually, like this:</p>\n<pre><code>private Sheets getSheets() {\n    NetHttpTransport transport = new NetHttpTransport.Builder().build();\n    JacksonFactory jsonFactory = JacksonFactory.getDefaultInstance();\n    HttpRequestInitializer httpRequestInitializer = request -&gt; {\n        request.setInterceptor(intercepted -&gt; intercepted.getUrl().set(&quot;key&quot;, API_KEY));\n    };\n\n    return new Sheets.Builder(transport, jsonFactory, httpRequestInitializer)\n            .setApplicationName(APPLICATION_NAME)\n            .build();\n}\n\npublic List&lt;List&lt;Object&gt;&gt; getValues(String spreadsheetId, String range) throws IOException {\n    return getSheets()\n            .spreadsheets()\n            .values()\n            .get(spreadsheetId, range)\n            .execute()\n            .getValues();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22882033,"reputation":1,"user_id":17023497,"display_name":"user17023497"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1632817941,"creation_date":1632817941,"answer_id":69358332,"question_id":53901194,"body_markdown":"you can also use this code:\r\n```\r\nSheets service = new Sheets.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\r\n                .setApplicationName(APPLICATION_NAME)\r\n                .setGoogleClientRequestInitializer(CommonGoogleClientRequestInitializer.newBuilder().setKey(API_KEY).build())\r\n                .build();\r\n```","title":"Use Google Sheets Java API with API key not OAuth?","body":"<p>you can also use this code:</p>\n<pre><code>Sheets service = new Sheets.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\n                .setApplicationName(APPLICATION_NAME)\n                .setGoogleClientRequestInitializer(CommonGoogleClientRequestInitializer.newBuilder().setKey(API_KEY).build())\n                .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6454388,"reputation":101,"user_id":5000320,"accept_rate":57,"display_name":"thenewpotato"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670604344,"creation_date":1670604344,"answer_id":74745981,"question_id":53901194,"body_markdown":"This is possible. Here&#39;s how I initialize an instance of `Sheets` using an API key instead of OAuth:\r\n\r\n    SheetsRequestInitializer REQUEST_INITIALIZER = new SheetsRequestInitializer(API_KEY);\r\n    JsonFactory JSON_FACTORY = GsonFactory.getDefaultInstance();\r\n    HttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\r\n    Sheets service = new Sheets.Builder(httpTransport, JSON_FACTORY, null)\r\n                .setApplicationName(&quot;HelloWorld&quot;)\r\n                .setGoogleClientRequestInitializer(REQUEST_INITIALIZER)\r\n                .build();\r\n\r\n","title":"Use Google Sheets Java API with API key not OAuth?","body":"<p>This is possible. Here's how I initialize an instance of <code>Sheets</code> using an API key instead of OAuth:</p>\n<pre><code>SheetsRequestInitializer REQUEST_INITIALIZER = new SheetsRequestInitializer(API_KEY);\nJsonFactory JSON_FACTORY = GsonFactory.getDefaultInstance();\nHttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\nSheets service = new Sheets.Builder(httpTransport, JSON_FACTORY, null)\n            .setApplicationName(&quot;HelloWorld&quot;)\n            .setGoogleClientRequestInitializer(REQUEST_INITIALIZER)\n            .build();\n</code></pre>\n"}],"owner":{"account_id":6541325,"reputation":1809,"user_id":5058786,"accept_rate":60,"display_name":"Mayank Wadhwa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4007,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":4,"score":11,"last_activity_date":1670604344,"creation_date":1545539256,"question_id":53901194,"body_markdown":"Is there a way to use &quot;Google Sheet Java API&quot; with API key not with OAuth which is given in their examples \r\n\r\nhttps://developers.google.com/sheets/api/quickstart/java\r\n\r\nI know you can use HTTP request to get data with API key but I was thinking if there is a way to do this with the google provided Java API so that I don&#39;t have to parse JSON for every request.\r\n\r\n","title":"Use Google Sheets Java API with API key not OAuth?","body":"<p>Is there a way to use \"Google Sheet Java API\" with API key not with OAuth which is given in their examples </p>\n\n<p><a href=\"https://developers.google.com/sheets/api/quickstart/java\" rel=\"noreferrer\">https://developers.google.com/sheets/api/quickstart/java</a></p>\n\n<p>I know you can use HTTP request to get data with API key but I was thinking if there is a way to do this with the google provided Java API so that I don't have to parse JSON for every request.</p>\n"},{"tags":["java","spring-boot","eclipse"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1670345183,"post_id":74706114,"comment_id":131852944,"body_markdown":"&quot;**FileNotFound**Exception: C:\\Users\\legol\\Documents\\College\\CS305\\Module 7 Workspace\\CS 305 Project Two Code Base.zip_expanded\\ssl-server_student\\Userslegolkeystore.jks&quot; Well, does the file exist or not? Spaces in the path are one possible error. Try renaming the directories.","body":"&quot;<b>FileNotFound</b>Exception: C:\\Users\\legol\\Documents\\College\\CS305\\Module 7 Workspace\\CS 305 Project Two Code Base.zip_expanded\\ssl-server_student\\Userslegolkeystore.jks&quot; Well, does the file exist or not? Spaces in the path are one possible error. Try renaming the directories."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1670345301,"post_id":74706114,"comment_id":131852993,"body_markdown":"Actually, looks like something wrong with this property `server.ssl.key-store=C:\\Users\\legol\\keystore.jks`.  You can see it&#39;s getting squashed on the end of your working dir without any of the special characters.","body":"Actually, looks like something wrong with this property <code>server.ssl.key-store=C:\\Users\\legol\\keystore.jks</code>.  You can see it&#39;s getting squashed on the end of your working dir without any of the special characters."},{"owner":{"account_id":19281318,"reputation":45,"user_id":14093255,"display_name":"BGoetz"},"score":0,"creation_date":1670346394,"post_id":74706114,"comment_id":131853398,"body_markdown":"Thanks, I missed that. I changed the application.properties and moved the file to where it should be. I updated the error Eclipse outputs.","body":"Thanks, I missed that. I changed the application.properties and moved the file to where it should be. I updated the error Eclipse outputs."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1670353974,"post_id":74706114,"comment_id":131855906,"body_markdown":"https://stackoverflow.com/questions/56151272/how-to-resolve-java-io-ioexception-jsse-alias-no-key-entry","body":"<a href=\"https://stackoverflow.com/questions/56151272/how-to-resolve-java-io-ioexception-jsse-alias-no-key-entry\" title=\"how to resolve java io ioexception jsse alias no key entry\">stackoverflow.com/questions/56151272/&hellip;</a>"},{"owner":{"account_id":19281318,"reputation":45,"user_id":14093255,"display_name":"BGoetz"},"score":0,"creation_date":1670512370,"post_id":74706114,"comment_id":131896267,"body_markdown":"Thanks for the link PeterMmm. I took a screenshot of my selfsigned cert and ensured the alias&#39;s match","body":"Thanks for the link PeterMmm. I took a screenshot of my selfsigned cert and ensured the alias&#39;s match"}],"answers":[{"tags":[],"owner":{"account_id":19281318,"reputation":45,"user_id":14093255,"display_name":"BGoetz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670603917,"creation_date":1670603917,"answer_id":74745890,"question_id":74706114,"body_markdown":"After some more research and assistance from classmates I found out the version of Eclipse I was using was too new for the code base provided by the instructor to run properly. I installed a version of Eclipse from 2019 and it started right up. Thanks to all who commented to help.","title":"Cannot run Spring Boot application in Eclipse 2022-09 (Java 19.0.1)","body":"<p>After some more research and assistance from classmates I found out the version of Eclipse I was using was too new for the code base provided by the instructor to run properly. I installed a version of Eclipse from 2019 and it started right up. Thanks to all who commented to help.</p>\n"}],"owner":{"account_id":19281318,"reputation":45,"user_id":14093255,"display_name":"BGoetz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74745890,"answer_count":1,"score":0,"last_activity_date":1670603917,"creation_date":1670344856,"question_id":74706114,"body_markdown":"I am working on a school project and I cannot get the provided Spring Boot application code base to run. I have already emailed the professor and she was no help whatsoever. I am brand new to Spring Boot and am not well versed in Java. Any help would be appreciated.\r\n\r\npom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.snhu&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;ssl-server&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;ssl-server&lt;/name&gt;\r\n    \t&lt;description&gt;ssl-server skeleton for CS-305&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n                \t&lt;groupId&gt;org.owasp&lt;/groupId&gt;\r\n                \t&lt;artifactId&gt;dependency-check-maven&lt;/artifactId&gt;\r\n                \t&lt;version&gt;7.3.2&lt;/version&gt;\r\n                \t&lt;executions&gt;\r\n                      &lt;execution&gt;\r\n                          &lt;goals&gt;\r\n                              &lt;goal&gt;check&lt;/goal&gt;\r\n                          &lt;/goals&gt;\r\n                      &lt;/execution&gt;\r\n                  &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\napplication.properties\r\n\r\n    ## need to add server.  entries to enable HTTPS with SSL keystore, replace &quot;????&quot; with correct entries\r\n    \r\n    server.port=8443\r\n    server.ssl.key-alias=selfsigned\r\n    server.ssl.key-store-password=GH1#er3%\r\n    server.ssl.key-store=keystore.jks\r\n    server.ssl.key-store-type=JKS\r\n\r\n\r\n\r\nSslServerApplication.java\r\n\r\n    package com.snhu.sslserver;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class SslServerApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(SslServerApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\nEclipse error\r\n\r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::        (v2.2.4.RELEASE)\r\n    \r\n    2022-12-06 12:02:26.521  INFO 6012 --- [           main] com.snhu.sslserver.SslServerApplication  : Starting SslServerApplication on DESKTOP-TNRCNL8 with PID 6012 (started by legol in C:\\Users\\legol\\Documents\\College\\CS305\\Module 7 Workspace\\CS 305 Project Two Code Base.zip_expanded\\ssl-server_student)\r\n    2022-12-06 12:02:26.523  INFO 6012 --- [           main] com.snhu.sslserver.SslServerApplication  : No active profile set, falling back to default profiles: default\r\n    2022-12-06 12:02:28.406  INFO 6012 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)\r\n    2022-12-06 12:02:28.414  INFO 6012 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2022-12-06 12:02:28.414  INFO 6012 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.30]\r\n    2022-12-06 12:02:28.489  INFO 6012 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2022-12-06 12:02:28.489  INFO 6012 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1908 ms\r\n    2022-12-06 12:02:29.189  INFO 6012 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;applicationTaskExecutor&#39;\r\n    2022-12-06 12:02:30.520  INFO 6012 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2022-12-06 12:02:30.528  INFO 6012 --- [           main] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2022-12-06 12:02:30.531 ERROR 6012 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:215) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.startWebServer(ServletWebServerApplicationContext.java:297) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.finishRefresh(ServletWebServerApplicationContext.java:163) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:553) ~[spring-context-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n    \tat com.snhu.sslserver.SslServerApplication.main(SslServerApplication.java:16) ~[classes/:na]\r\n    Caused by: java.lang.IllegalArgumentException: standardService.connector.startFailed\r\n    \tat org.apache.catalina.core.StandardService.addConnector(StandardService.java:231) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:278) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:197) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n    \t... 10 common frames omitted\r\n    Caused by: org.apache.catalina.LifecycleException: Protocol handler start failed\r\n    \tat org.apache.catalina.connector.Connector.startInternal(Connector.java:1008) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \tat org.apache.catalina.core.StandardService.addConnector(StandardService.java:227) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \t... 12 common frames omitted\r\n    Caused by: java.lang.IllegalArgumentException: jsse.alias_no_key_entry\r\n    \tat org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:99) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \tat org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:71) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:217) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \tat org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1141) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \tat org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1227) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \tat org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:586) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \tat org.apache.catalina.connector.Connector.startInternal(Connector.java:1005) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \t... 14 common frames omitted\r\n    Caused by: java.io.IOException: jsse.alias_no_key_entry\r\n    \tat org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:328) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \tat org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:247) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \tat org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:97) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \t... 20 common frames omitted\r\n    \r\n    2022-12-06 12:02:30.533  INFO 6012 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService &#39;applicationTaskExecutor&#39;","title":"Cannot run Spring Boot application in Eclipse 2022-09 (Java 19.0.1)","body":"<p>I am working on a school project and I cannot get the provided Spring Boot application code base to run. I have already emailed the professor and she was no help whatsoever. I am brand new to Spring Boot and am not well versed in Java. Any help would be appreciated.</p>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.snhu&lt;/groupId&gt;\n    &lt;artifactId&gt;ssl-server&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ssl-server&lt;/name&gt;\n    &lt;description&gt;ssl-server skeleton for CS-305&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.owasp&lt;/groupId&gt;\n                &lt;artifactId&gt;dependency-check-maven&lt;/artifactId&gt;\n                &lt;version&gt;7.3.2&lt;/version&gt;\n                &lt;executions&gt;\n                  &lt;execution&gt;\n                      &lt;goals&gt;\n                          &lt;goal&gt;check&lt;/goal&gt;\n                      &lt;/goals&gt;\n                  &lt;/execution&gt;\n              &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>application.properties</p>\n<pre><code>## need to add server.  entries to enable HTTPS with SSL keystore, replace &quot;????&quot; with correct entries\n\nserver.port=8443\nserver.ssl.key-alias=selfsigned\nserver.ssl.key-store-password=GH1#er3%\nserver.ssl.key-store=keystore.jks\nserver.ssl.key-store-type=JKS\n</code></pre>\n<p>SslServerApplication.java</p>\n<pre><code>package com.snhu.sslserver;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class SslServerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SslServerApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Eclipse error</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.2.4.RELEASE)\n\n2022-12-06 12:02:26.521  INFO 6012 --- [           main] com.snhu.sslserver.SslServerApplication  : Starting SslServerApplication on DESKTOP-TNRCNL8 with PID 6012 (started by legol in C:\\Users\\legol\\Documents\\College\\CS305\\Module 7 Workspace\\CS 305 Project Two Code Base.zip_expanded\\ssl-server_student)\n2022-12-06 12:02:26.523  INFO 6012 --- [           main] com.snhu.sslserver.SslServerApplication  : No active profile set, falling back to default profiles: default\n2022-12-06 12:02:28.406  INFO 6012 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)\n2022-12-06 12:02:28.414  INFO 6012 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-12-06 12:02:28.414  INFO 6012 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.30]\n2022-12-06 12:02:28.489  INFO 6012 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-12-06 12:02:28.489  INFO 6012 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1908 ms\n2022-12-06 12:02:29.189  INFO 6012 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'\n2022-12-06 12:02:30.520  INFO 6012 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-12-06 12:02:30.528  INFO 6012 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-12-06 12:02:30.531 ERROR 6012 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:215) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.startWebServer(ServletWebServerApplicationContext.java:297) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.finishRefresh(ServletWebServerApplicationContext.java:163) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:553) ~[spring-context-5.2.3.RELEASE.jar:5.2.3.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at com.snhu.sslserver.SslServerApplication.main(SslServerApplication.java:16) ~[classes/:na]\nCaused by: java.lang.IllegalArgumentException: standardService.connector.startFailed\n    at org.apache.catalina.core.StandardService.addConnector(StandardService.java:231) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:278) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:197) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    ... 10 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: Protocol handler start failed\n    at org.apache.catalina.connector.Connector.startInternal(Connector.java:1008) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.catalina.core.StandardService.addConnector(StandardService.java:227) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    ... 12 common frames omitted\nCaused by: java.lang.IllegalArgumentException: jsse.alias_no_key_entry\n    at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:99) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:71) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:217) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1141) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1227) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:586) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.catalina.connector.Connector.startInternal(Connector.java:1005) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    ... 14 common frames omitted\nCaused by: java.io.IOException: jsse.alias_no_key_entry\n    at org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:328) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:247) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:97) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    ... 20 common frames omitted\n\n2022-12-06 12:02:30.533  INFO 6012 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'\n</code></pre>\n"},{"tags":["java","sql","postgresql"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1670511564,"post_id":74732221,"comment_id":131895975,"body_markdown":"`CURRENT_DATE::date` can be simplified to `CURRENT_DATE`","body":"<code>CURRENT_DATE::date</code> can be simplified to <code>CURRENT_DATE</code>"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1670511660,"post_id":74732221,"comment_id":131896019,"body_markdown":"Well the columns that store date &amp; time (I assume you mean that with &quot;date with timestamp&quot;) will be longer, so maybe `where length(&quot;column&quot;) = 10 and cast(...) = current_date`","body":"Well the columns that store date &amp; time (I assume you mean that with &quot;date with timestamp&quot;) will be longer, so maybe <code>where length(&quot;column&quot;) = 10 and cast(...) = current_date</code>"},{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":1,"creation_date":1670514865,"post_id":74732221,"comment_id":131897272,"body_markdown":"1) Mixing two types `date` and `timestamp` in a column of a third type `varchar` is not a good idea. 2) Why does the presence of a time matter? `cast(column as date)` is going to make it a `date`.","body":"1) Mixing two types <code>date</code> and <code>timestamp</code> in a column of a third type <code>varchar</code> is not a good idea. 2) Why does the presence of a time matter? <code>cast(column as date)</code> is going to make it a <code>date</code>."},{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1670515071,"post_id":74732221,"comment_id":131897360,"body_markdown":"If you want to filter out the `timestamps` and keep the `dates` then: `select * from table where column::timestamp  = CURRENT_DATE + time &#39;00:00:00&#39;;`","body":"If you want to filter out the <code>timestamps</code> and keep the <code>dates</code> then: <code>select * from table where column::timestamp  = CURRENT_DATE + time &#39;00:00:00&#39;;</code>"},{"owner":{"account_id":7996961,"reputation":107,"user_id":6032945,"display_name":"anurag1007"},"score":0,"creation_date":1670566049,"post_id":74732221,"comment_id":131908270,"body_markdown":"@a_horse_with_no_name simplifying to current_date also does no help .. It still retrieves me all the columns. \nAlso checking the length of a column will work, but I was looking for a more generic fix may be from the function itself","body":"@a_horse_with_no_name simplifying to current_date also does no help .. It still retrieves me all the columns.  Also checking the length of a column will work, but I was looking for a more generic fix may be from the function itself"},{"owner":{"account_id":7996961,"reputation":107,"user_id":6032945,"display_name":"anurag1007"},"score":0,"creation_date":1670566140,"post_id":74732221,"comment_id":131908288,"body_markdown":"@AdrianKlaver  Ideally cast(column as date) this is making it to date, but its returing all those dates as well which are having timestamps as well .. That is something I want to filter out. I just want exact match with the dates","body":"@AdrianKlaver  Ideally cast(column as date) this is making it to date, but its returing all those dates as well which are having timestamps as well .. That is something I want to filter out. I just want exact match with the dates"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1670566146,"post_id":74732221,"comment_id":131908289,"body_markdown":"I never said that removing the redundant cast would change anything. And yes `select *` will retrieve all columns. If you don&#39;t want that then don&#39;t use `select *`. Without more details this is impossible to answer. Please **[edit]** your question (by clicking on the [edit] link below it) and add some sample data and the expected output based on that data as [formatted text](https://meta.stackoverflow.com/a/251362). See [here](https://meta.stackexchange.com/questions/81852) for some tips on how to create nice looking text tables.","body":"I never said that removing the redundant cast would change anything. And yes <code>select *</code> will retrieve all columns. If you don&#39;t want that then don&#39;t use <code>select *</code>. Without more details this is impossible to answer. Please <b><a href=\"https://stackoverflow.com/posts/74732221/edit\">edit</a></b> your question (by clicking on the <a href=\"https://stackoverflow.com/posts/74732221/edit\">edit</a> link below it) and add some sample data and the expected output based on that data as <a href=\"https://meta.stackoverflow.com/a/251362\">formatted text</a>. See <a href=\"https://meta.stackexchange.com/questions/81852\">here</a> for some tips on how to create nice looking text tables."},{"owner":{"account_id":7996961,"reputation":107,"user_id":6032945,"display_name":"anurag1007"},"score":0,"creation_date":1670587849,"post_id":74732221,"comment_id":131914010,"body_markdown":"@a_horse_with_no_name I have added more details to the query, please let me know your input over it","body":"@a_horse_with_no_name I have added more details to the query, please let me know your input over it"},{"owner":{"display_name":"user330315"},"score":1,"creation_date":1670588818,"post_id":74732221,"comment_id":131914334,"body_markdown":"Well, the query I suggested: `where length(the_column) = 10 and cast(the_column as date) = current_date` works with that example. https://dbfiddle.uk/w2P539AE","body":"Well, the query I suggested: <code>where length(the_column) = 10 and cast(the_column as date) = current_date</code> works with that example. <a href=\"https://dbfiddle.uk/w2P539AE\" rel=\"nofollow noreferrer\">dbfiddle.uk/w2P539AE</a>"}],"answers":[{"tags":[],"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670603529,"creation_date":1670602362,"answer_id":74745610,"question_id":74732221,"body_markdown":"Per my comment:\r\n\r\n```\r\nSELECT\r\n    t.dt_val\r\nFROM (\r\n    VALUES (&#39;2022-12-09&#39;),\r\n        (&#39;2022-12-09 17:38:53.415367&#39;)) AS t (dt_val)\r\nWHERE\r\n    t.dt_val::timestamp = &#39;2022-12-09&#39;::date + &#39;00:00:00&#39;::time;\r\n\r\n dt_val   \r\n------------\r\n 2022-12-09\r\n\r\n```\r\n\r\nI used `&#39;2022-12-09&#39;::date` instead of `current_date` to make the answer relevant in the future. At time of answer `current_date` resolves to `&#39;2022-12-09&#39;::date`.","title":"current_date is give search result with a timestamp column in postgres","body":"<p>Per my comment:</p>\n<pre><code>SELECT\n    t.dt_val\nFROM (\n    VALUES ('2022-12-09'),\n        ('2022-12-09 17:38:53.415367')) AS t (dt_val)\nWHERE\n    t.dt_val::timestamp = '2022-12-09'::date + '00:00:00'::time;\n\n dt_val   \n------------\n 2022-12-09\n\n</code></pre>\n<p>I used <code>'2022-12-09'::date</code> instead of <code>current_date</code> to make the answer relevant in the future. At time of answer <code>current_date</code> resolves to <code>'2022-12-09'::date</code>.</p>\n"}],"owner":{"account_id":7996961,"reputation":107,"user_id":6032945,"display_name":"anurag1007"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670603529,"creation_date":1670511439,"question_id":74732221,"body_markdown":"I have a column of type varchar which stores date with timestamp, and without timestamp in postgres.\r\nWhile trying to hit the below query,\r\n\r\n    select * from table where cast(column as date) = CURRENT_DATE::date\r\n\r\nit is returning those columns also which has date with timestamp also. How can I modify the query to find the exact match of only dates and not with timestamp.\r\n\r\nsample input data:\r\n```none\r\nColumn1\r\n2022-12-09 17:38:53.415367\r\n2022-12-09\r\n```\r\nExpected output: \r\n```none\r\n2022-12-09\r\n```\r\nActual: getting both the columns in the result\r\n```none\r\n2022-12-09 17:38:53.415367\r\n2022-12-09\r\n```\r\n","title":"current_date is give search result with a timestamp column in postgres","body":"<p>I have a column of type varchar which stores date with timestamp, and without timestamp in postgres.\nWhile trying to hit the below query,</p>\n<pre><code>select * from table where cast(column as date) = CURRENT_DATE::date\n</code></pre>\n<p>it is returning those columns also which has date with timestamp also. How can I modify the query to find the exact match of only dates and not with timestamp.</p>\n<p>sample input data:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Column1\n2022-12-09 17:38:53.415367\n2022-12-09\n</code></pre>\n<p>Expected output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2022-12-09\n</code></pre>\n<p>Actual: getting both the columns in the result</p>\n<pre class=\"lang-none prettyprint-override\"><code>2022-12-09 17:38:53.415367\n2022-12-09\n</code></pre>\n"},{"tags":["java","json","serialization","groovy","gson"],"comments":[{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":1,"creation_date":1377702779,"post_id":18491733,"comment_id":27184681,"body_markdown":"How does it know the `otherObject` is empty?","body":"How does it know the <code>otherObject</code> is empty?"}],"answers":[{"tags":[],"owner":{"account_id":399566,"reputation":5316,"user_id":765009,"accept_rate":60,"display_name":"toto2"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1377703100,"creation_date":1377703100,"answer_id":18491942,"question_id":18491733,"body_markdown":"It seems to me the problem is not with gson.  Gson correctly keeps track of the difference between null and an empty string.  Are you sure you want to erase that distinction?  Are you sure all classes that use TestObject don&#39;t care?\r\n\r\nWhat you could do if you don&#39;t care about the difference is to change the empty strings to null within a TestObject before serializing it.  Or better, make the setters in TestObject such that an empty string is set to null; that way you define rigidly within the class that an empty string is the same as null.  You&#39;ll have to make sure the values cannot be set outside the setters.","title":"Gson Serialize field only if not null or not empty","body":"<p>It seems to me the problem is not with gson.  Gson correctly keeps track of the difference between null and an empty string.  Are you sure you want to erase that distinction?  Are you sure all classes that use TestObject don't care?</p>\n\n<p>What you could do if you don't care about the difference is to change the empty strings to null within a TestObject before serializing it.  Or better, make the setters in TestObject such that an empty string is set to null; that way you define rigidly within the class that an empty string is the same as null.  You'll have to make sure the values cannot be set outside the setters.</p>\n"},{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":1,"up_vote_count":24,"is_accepted":true,"score":23,"last_activity_date":1533869737,"creation_date":1377703260,"answer_id":18492010,"question_id":18491733,"body_markdown":"Create your own `TypeAdapter`\r\n\r\n    public class MyTypeAdapter extends TypeAdapter&lt;TestObject&gt;() {\r\n    \r\n    \t@Override\r\n    \tpublic void write(JsonWriter out, TestObject value) throws IOException {\r\n    \t\tout.beginObject();\r\n    \t\tif (!Strings.isNullOrEmpty(value.test1)) {\r\n    \t\t\tout.name(&quot;test1&quot;);\r\n    \t\t\tout.value(value.test1);\r\n    \t\t}\r\n    \r\n    \t\tif (!Strings.isNullOrEmpty(value.test2)) {\r\n    \t\t\tout.name(&quot;test2&quot;);\r\n    \t\t\tout.value(value.test1);\r\n    \t\t}\r\n    \t\t/* similar check for otherObject */    \t\t\r\n    \t\tout.endObject();    \r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic TestObject read(JsonReader in) throws IOException {\r\n    \t\t// do something similar, but the other way around\r\n    \t}\r\n    }\r\n\r\nYou can then register it with `Gson`.\r\n\r\n    Gson gson = new GsonBuilder().registerTypeAdapter(TestObject.class, new MyTypeAdapter()).create();\r\n    TestObject obj = new TestObject();\r\n    obj.test1 = &quot;test1&quot;;\r\n    obj.test2 = &quot;&quot;;\r\n    System.out.println(gson.toJson(obj));\r\n\r\nproduces \r\n\r\n     {&quot;test1&quot;:&quot;test1&quot;}\r\n\r\nThe `GsonBuilder` class has a bunch of methods to create your own serialization/deserialization strategies, register type adapters, and set other parameters.\r\n\r\n`Strings` is a Guava class. You can do your own check if you don&#39;t want that dependency.","title":"Gson Serialize field only if not null or not empty","body":"<p>Create your own <code>TypeAdapter</code></p>\n\n<pre><code>public class MyTypeAdapter extends TypeAdapter&lt;TestObject&gt;() {\n\n    @Override\n    public void write(JsonWriter out, TestObject value) throws IOException {\n        out.beginObject();\n        if (!Strings.isNullOrEmpty(value.test1)) {\n            out.name(\"test1\");\n            out.value(value.test1);\n        }\n\n        if (!Strings.isNullOrEmpty(value.test2)) {\n            out.name(\"test2\");\n            out.value(value.test1);\n        }\n        /* similar check for otherObject */         \n        out.endObject();    \n    }\n\n    @Override\n    public TestObject read(JsonReader in) throws IOException {\n        // do something similar, but the other way around\n    }\n}\n</code></pre>\n\n<p>You can then register it with <code>Gson</code>.</p>\n\n<pre><code>Gson gson = new GsonBuilder().registerTypeAdapter(TestObject.class, new MyTypeAdapter()).create();\nTestObject obj = new TestObject();\nobj.test1 = \"test1\";\nobj.test2 = \"\";\nSystem.out.println(gson.toJson(obj));\n</code></pre>\n\n<p>produces </p>\n\n<pre><code> {\"test1\":\"test1\"}\n</code></pre>\n\n<p>The <code>GsonBuilder</code> class has a bunch of methods to create your own serialization/deserialization strategies, register type adapters, and set other parameters.</p>\n\n<p><code>Strings</code> is a Guava class. You can do your own check if you don't want that dependency.</p>\n"},{"tags":[],"owner":{"account_id":345151,"reputation":6511,"user_id":1811719,"accept_rate":78,"display_name":"Stan"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1538476465,"creation_date":1493368267,"answer_id":43675622,"question_id":18491733,"body_markdown":"What I personally don&#39;t like in `TypeAdapter` using answer is the fact you need to describe every field of your entire class which could have lets say 50 fields (which means 50 `if` blocks in `TypeAdapter`).   \r\nMy solution is based on `Reflection` and a fact `Gson` will not serialize null values fields by default.   \r\nI have a special class which holds data for API to create document called DocumentModel, which has about 50 fields and I don&#39;t like to send `String` fields with &quot;&quot; (empty but not null) values or empty arrays to server. So I created a special method which returns me a copy of my object with all empty fields nulled. Note - by default all arrays in my DocumentModel instance are initialized as empty (zero length) arrays and thus they are never null, you should probably check your arrays for null before checking their length.\r\n\r\n    public DocumentModel getSerializableCopy() {\r\n        Field fields[] = new Field[]{};\r\n        try {\r\n            // returns the array of Field objects representing the public fields\r\n            fields = DocumentModel.class.getDeclaredFields();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        DocumentModel copy = new DocumentModel();\r\n        Object value;\r\n        for (Field field : fields) {\r\n            try {\r\n                value = field.get(this);\r\n                if (value instanceof String &amp;&amp; TextUtils.isEmpty((String) value)) {\r\n                    field.set(copy, null);\r\n                // note: here array is not being checked for null!\r\n                else if (value instanceof Object[] &amp;&amp; ((Object[]) value).length == 0) {\r\n                    field.set(copy, null);\r\n                } else\r\n                    field.set(copy, value);\r\n            } catch (IllegalAccessException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return copy;\r\n    }\r\n\r\nUsing this method I don&#39;t care if some fields was added or removed after this method was written or whatever. The only problem left - is checking custom type fields, which are not `String` or array, but this depends to particular class and should be extra coded in if/else blocks.","title":"Gson Serialize field only if not null or not empty","body":"<p>What I personally don't like in <code>TypeAdapter</code> using answer is the fact you need to describe every field of your entire class which could have lets say 50 fields (which means 50 <code>if</code> blocks in <code>TypeAdapter</code>).<br>\nMy solution is based on <code>Reflection</code> and a fact <code>Gson</code> will not serialize null values fields by default.<br>\nI have a special class which holds data for API to create document called DocumentModel, which has about 50 fields and I don't like to send <code>String</code> fields with \"\" (empty but not null) values or empty arrays to server. So I created a special method which returns me a copy of my object with all empty fields nulled. Note - by default all arrays in my DocumentModel instance are initialized as empty (zero length) arrays and thus they are never null, you should probably check your arrays for null before checking their length.</p>\n\n<pre><code>public DocumentModel getSerializableCopy() {\n    Field fields[] = new Field[]{};\n    try {\n        // returns the array of Field objects representing the public fields\n        fields = DocumentModel.class.getDeclaredFields();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    DocumentModel copy = new DocumentModel();\n    Object value;\n    for (Field field : fields) {\n        try {\n            value = field.get(this);\n            if (value instanceof String &amp;&amp; TextUtils.isEmpty((String) value)) {\n                field.set(copy, null);\n            // note: here array is not being checked for null!\n            else if (value instanceof Object[] &amp;&amp; ((Object[]) value).length == 0) {\n                field.set(copy, null);\n            } else\n                field.set(copy, value);\n        } catch (IllegalAccessException e) {\n            e.printStackTrace();\n        }\n    }\n    return copy;\n}\n</code></pre>\n\n<p>Using this method I don't care if some fields was added or removed after this method was written or whatever. The only problem left - is checking custom type fields, which are not <code>String</code> or array, but this depends to particular class and should be extra coded in if/else blocks.</p>\n"},{"tags":[],"owner":{"account_id":10424544,"reputation":21,"user_id":7686263,"display_name":"Stefan Tataru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670603315,"creation_date":1669852719,"answer_id":74635477,"question_id":18491733,"body_markdown":"**I have ran into the same problem and found 2 distinct solutions**\r\n\r\n------------------------------\r\n1. **Write a custom TypeAdapter for each field class**\r\n\r\n\r\nTypeAdapter example for String class:\r\n\r\n    \r\n    @SuppressWarnings(&quot;rawtypes&quot;)\r\n    public class JSONStringAdapter extends TypeAdapter {\r\n\r\n        @Override\r\n        public String read(JsonReader jsonReader) throws IOException {\r\n                \r\n            String value = jsonReader.nextString();\r\n            if(value == null || value.trim().length() == 0) {\r\n                return null;\r\n            } else {\r\n                return value;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void write(JsonWriter jsonWriter, Object object) throws IOException {\r\n        \r\n            String value = String.valueOf(object);\r\n            if(value == null || value.trim().length() == 0) {    \r\n                jsonWriter.nullValue();\r\n            } else {\r\n                jsonWriter.value(value);\r\n           }\r\n        }\r\n    }\r\n\r\nUse:\r\n\r\n    public class Doggo {\r\n\r\n\t    @JsonAdapter(JSONStringAdapter.class)\r\n\t    private String name;\r\n\r\n\t    public Doggo(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\n    public class Main {\r\n\r\n\t    public static void main(String[] args) {\r\n            Doggo aDoggo = new Doggo(&quot;&quot;);\r\n            String jsonString = new Gson().toJson(aDoggo);\r\n\t    }\r\n    }    \r\n\r\n--------------------------------------------------------------------\r\n2. **Process the object manually before generating the JSON string**\r\n\r\nSeems to work on anything, haven&#39;t tested the performance:\r\n\t\r\n\r\n\tpublic static boolean removeEmpty(JSONObject source) {\r\n\t\t\r\n\t\tif (null == source || source.length() == 0) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t\tboolean isJsonObjectEmpty = false; \r\n\t\r\n\t\tfor (String key : JSONObject.getNames(source)) {\r\n\t\t\tObject value = source.get(key);\r\n\t\t\t\r\n\t\t\tboolean isValueEmpty = isValueEmpty(value);\r\n\t\t\tif(isValueEmpty) {\r\n\t\t\t\tsource.remove(key);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif(source.length() == 0) {\r\n\t\t\tisJsonObjectEmpty = true;\r\n\t\t}\r\n\t\t\r\n\t\treturn isJsonObjectEmpty;\r\n\t}\r\n\t\r\n\tprivate static boolean isValueEmpty(Object value) {\r\n\r\n\t\tif (null == value) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t\tif (value instanceof JSONArray) {\r\n\t\t\t\r\n\t\t\tJSONArray arr =  (JSONArray) value;\r\n\t\t\tif(arr.length() &gt; 0) {\r\n\t\t\t\t\r\n\t\t\t\tList&lt;Integer&gt; indextesToRemove = new ArrayList&lt;&gt;();\r\n\t\t\t\tfor(int i = 0; i&lt; arr.length(); i++) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tboolean isValueEmpty = isValueEmpty(arr.get(i));\r\n\t\t\t\t\tif(isValueEmpty) {\r\n\t\t\t\t\t\tindextesToRemove.add(i);\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tfor(Integer index : indextesToRemove) {\r\n\t\t\t\t\tarr.remove(index);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(arr.length() == 0) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t} else if (value instanceof JSONObject) {\r\n        \r\n\t\t\treturn removeEmpty((JSONObject) value);\r\n\t\t\t \r\n        } else {\r\n        \t\r\n        \tif (JSONObject.NULL.equals(value) \r\n        \t\t|| null == value \r\n        \t\t|| value.toString().trim().length() == 0)\r\n        \t) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n        }\r\n\t\t\r\n\t\treturn false;\r\n\t}\r\n\r\n\r\nUse:\r\n\r\n    public class Doggo {\r\n\r\n        private String name;\r\n\r\n\t    public Doggo(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\n  \r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            Doggo aDoggo = new Doggo(&quot;&quot;);\r\n            \r\n            // if you are not using Type Adapters for your fields\r\n            JSONObject aJSONObject1 = new JSONObject(aDoggo);\r\n            removeEmpty(aJSONObject1);\r\n            String jsonString1 = aJSONObject1.toString();\r\n\r\n            // if you are using Type Adapters for your fields\r\n            Gson gsonParser = new Gson();\r\n            JSONObject aJSONObject2 = new JSONObject(gsonParser .toJson(aDoggo));\r\n            removeEmpty(aJSONObject2);\r\n            String jsonString2 = aJSONObject2.toString();\r\n\t    }\r\n    }        ","title":"Gson Serialize field only if not null or not empty","body":"<p><strong>I have ran into the same problem and found 2 distinct solutions</strong></p>\n<hr />\n<ol>\n<li><strong>Write a custom TypeAdapter for each field class</strong></li>\n</ol>\n<p>TypeAdapter example for String class:</p>\n<pre><code>@SuppressWarnings(&quot;rawtypes&quot;)\npublic class JSONStringAdapter extends TypeAdapter {\n\n    @Override\n    public String read(JsonReader jsonReader) throws IOException {\n            \n        String value = jsonReader.nextString();\n        if(value == null || value.trim().length() == 0) {\n            return null;\n        } else {\n            return value;\n        }\n    }\n\n    @Override\n    public void write(JsonWriter jsonWriter, Object object) throws IOException {\n    \n        String value = String.valueOf(object);\n        if(value == null || value.trim().length() == 0) {    \n            jsonWriter.nullValue();\n        } else {\n            jsonWriter.value(value);\n       }\n    }\n}\n</code></pre>\n<p>Use:</p>\n<pre><code>public class Doggo {\n\n    @JsonAdapter(JSONStringAdapter.class)\n    private String name;\n\n    public Doggo(String name) {\n        this.name = name;\n    }\n}\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Doggo aDoggo = new Doggo(&quot;&quot;);\n        String jsonString = new Gson().toJson(aDoggo);\n    }\n}    \n</code></pre>\n<hr />\n<ol start=\"2\">\n<li><strong>Process the object manually before generating the JSON string</strong></li>\n</ol>\n<p>Seems to work on anything, haven't tested the performance:</p>\n<pre><code>public static boolean removeEmpty(JSONObject source) {\n    \n    if (null == source || source.length() == 0) {\n        return true;\n    }\n    \n    boolean isJsonObjectEmpty = false; \n\n    for (String key : JSONObject.getNames(source)) {\n        Object value = source.get(key);\n        \n        boolean isValueEmpty = isValueEmpty(value);\n        if(isValueEmpty) {\n            source.remove(key);\n        }\n    }\n    \n    if(source.length() == 0) {\n        isJsonObjectEmpty = true;\n    }\n    \n    return isJsonObjectEmpty;\n}\n\nprivate static boolean isValueEmpty(Object value) {\n\n    if (null == value) {\n        return true;\n    }\n    \n    if (value instanceof JSONArray) {\n        \n        JSONArray arr =  (JSONArray) value;\n        if(arr.length() &gt; 0) {\n            \n            List&lt;Integer&gt; indextesToRemove = new ArrayList&lt;&gt;();\n            for(int i = 0; i&lt; arr.length(); i++) {\n                \n                boolean isValueEmpty = isValueEmpty(arr.get(i));\n                if(isValueEmpty) {\n                    indextesToRemove.add(i);\n                };\n            }\n            \n            for(Integer index : indextesToRemove) {\n                arr.remove(index);\n            }\n            \n            if(arr.length() == 0) {\n                return true;\n            }\n            \n        } else {\n            return true;\n        }\n        \n    } else if (value instanceof JSONObject) {\n    \n        return removeEmpty((JSONObject) value);\n         \n    } else {\n        \n        if (JSONObject.NULL.equals(value) \n            || null == value \n            || value.toString().trim().length() == 0)\n        ) {\n            return true;\n        }\n    }\n    \n    return false;\n}\n</code></pre>\n<p>Use:</p>\n<pre><code>public class Doggo {\n\n    private String name;\n\n    public Doggo(String name) {\n        this.name = name;\n    }\n}\n\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Doggo aDoggo = new Doggo(&quot;&quot;);\n        \n        // if you are not using Type Adapters for your fields\n        JSONObject aJSONObject1 = new JSONObject(aDoggo);\n        removeEmpty(aJSONObject1);\n        String jsonString1 = aJSONObject1.toString();\n\n        // if you are using Type Adapters for your fields\n        Gson gsonParser = new Gson();\n        JSONObject aJSONObject2 = new JSONObject(gsonParser .toJson(aDoggo));\n        removeEmpty(aJSONObject2);\n        String jsonString2 = aJSONObject2.toString();\n    }\n}        \n</code></pre>\n"}],"owner":{"account_id":1059676,"reputation":2946,"user_id":1061567,"accept_rate":52,"display_name":"zdesam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46547,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":18492010,"answer_count":4,"score":33,"last_activity_date":1670603315,"creation_date":1377702593,"question_id":18491733,"body_markdown":"I have requirement where I need to convert java object to json.\r\n\r\nI am using Gson for that but i need the converter to only serialize the non null or not empty values.\r\n\r\nFor example:\r\n\r\n    //my java object looks like\r\n    class TestObject{\r\n        String test1;\r\n        String test2;\r\n        OtherObject otherObject = new OtherObject();\r\n    }\r\n\r\nnow my Gson instance to convert this object to json looks like\r\n\r\n    Gson gson = new Gson();\r\n    TestObject obj = new TestObject();\r\n    obj.test1 = &quot;test1&quot;;\r\n    obj.test2 = &quot;&quot;;\r\n\r\n    String jsonStr = gson.toJson(obj);\r\n    println jsonStr;\r\n\r\nIn the above print, the result is \r\n\r\n    {&quot;test1&quot;:&quot;test1&quot;, &quot;test2&quot;:&quot;&quot;, &quot;otherObject&quot;:{}}\r\n\r\nHere i just wanted the result to be \r\n\r\n    {&quot;test1&quot;:&quot;test1&quot;}\r\n\r\nSince the test2 is empty and otherObject is empty, i don&#39;t want them to be serialized to json data.\r\n\r\nBtw, I am using Groovy/Grails so if there is any plugin for this that would be good, if not any suggestion to customize the gson serialization class would be good.\r\n","title":"Gson Serialize field only if not null or not empty","body":"<p>I have requirement where I need to convert java object to json.</p>\n\n<p>I am using Gson for that but i need the converter to only serialize the non null or not empty values.</p>\n\n<p>For example:</p>\n\n<pre><code>//my java object looks like\nclass TestObject{\n    String test1;\n    String test2;\n    OtherObject otherObject = new OtherObject();\n}\n</code></pre>\n\n<p>now my Gson instance to convert this object to json looks like</p>\n\n<pre><code>Gson gson = new Gson();\nTestObject obj = new TestObject();\nobj.test1 = \"test1\";\nobj.test2 = \"\";\n\nString jsonStr = gson.toJson(obj);\nprintln jsonStr;\n</code></pre>\n\n<p>In the above print, the result is </p>\n\n<pre><code>{\"test1\":\"test1\", \"test2\":\"\", \"otherObject\":{}}\n</code></pre>\n\n<p>Here i just wanted the result to be </p>\n\n<pre><code>{\"test1\":\"test1\"}\n</code></pre>\n\n<p>Since the test2 is empty and otherObject is empty, i don't want them to be serialized to json data.</p>\n\n<p>Btw, I am using Groovy/Grails so if there is any plugin for this that would be good, if not any suggestion to customize the gson serialization class would be good.</p>\n"},{"tags":["java","key"],"comments":[{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":0,"creation_date":1670601957,"post_id":74745476,"comment_id":131918639,"body_markdown":"Key bindings and a Swing Timer","body":"Key bindings and a Swing Timer"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1670604290,"post_id":74745476,"comment_id":131919343,"body_markdown":"On a separate note,  you don&#39; t have to test for `booleans` by comparison.  `if (up == true) {` will evaluate to either `true or false` so why test it?  Just use  `if (up) {` for a `true` test and `if (!up) {` for a `false` test.  But your way will still work if it makes more sense to you.","body":"On a separate note,  you don&#39; t have to test for <code>booleans</code> by comparison.  <code>if (up == true) {</code> will evaluate to either <code>true or false</code> so why test it?  Just use  <code>if (up) {</code> for a <code>true</code> test and <code>if (!up) {</code> for a <code>false</code> test.  But your way will still work if it makes more sense to you."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1670606657,"post_id":74745476,"comment_id":131920088,"body_markdown":"Check out the `Keyboard Animation` example found in [Motion Using the Keyboard](https://tips4java.wordpress.com/2013/06/09/motion-using-the-keyboard/). It uses a Swing Timer to schedule the animation.","body":"Check out the <code>Keyboard Animation</code> example found in <a href=\"https://tips4java.wordpress.com/2013/06/09/motion-using-the-keyboard/\" rel=\"nofollow noreferrer\">Motion Using the Keyboard</a>. It uses a Swing Timer to schedule the animation."}],"answers":[{"tags":[],"owner":{"account_id":27168607,"reputation":89,"user_id":20705693,"display_name":"marc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670603300,"creation_date":1670603300,"answer_id":74745795,"question_id":74745476,"body_markdown":"Having a boolean for each direction, that gets updated when keyPressed() and keyReleased() are called is definitely the right approach. The problem is that keyPressed() also contains your code that moves the player and repaints the frame. You have to put that in some kind of method that repeatedly gets called in a fixed delay, and moves the player depending on which of these booleans are `true`. What I mean is something like this:\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        /// ...\r\n\t\twhile(programIsRunning) {\r\n\t\t\tmovePlayer();\r\n\t\t\tframe.repaint();\r\n\t\t\t// let your program sleep here\r\n\t\t}\r\n    }\r\n\t\r\n\tpublic static void movePlayer() {\r\n\t\tif(up == true){\r\n\t        if(Main.y == -100){\r\n\t            return;\r\n\t        }\r\n\t        Main.y -= 20;\r\n\t    }\r\n\t    if(left == true){\r\n\t        if(Main.x == -40){\r\n\t            return;\r\n\t        }\r\n\t        Main.x -= 20;\r\n\t    }\r\n\t    if(down == true){\r\n\t        if(Main.y == 440){\r\n\t            return;\r\n\t        }\r\n\t        Main.y += 20;\r\n\t    }\r\n\t    if(right == true){\r\n\t        if(Main.x == 520){\r\n\t            return;\r\n\t        }\r\n\t        Main.x += 20;\r\n\t    }\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void keyPressed(KeyEvent e) {\r\n\t    if(e.getKeyCode() == KeyEvent.VK_W) up = true;\r\n\t    if(e.getKeyCode() == KeyEvent.VK_A) left = true;\r\n\t    if(e.getKeyCode() == KeyEvent.VK_S) down = true;\r\n\t    if(e.getKeyCode() == KeyEvent.VK_D) right = true;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void keyReleased(KeyEvent e) {\r\n\t    if(e.getKeyCode() == KeyEvent.VK_W) up = false;\r\n\t    if(e.getKeyCode() == KeyEvent.VK_A) left = false;\r\n\t    if(e.getKeyCode() == KeyEvent.VK_S) down = false;\r\n\t    if(e.getKeyCode() == KeyEvent.VK_D) right = false;\r\n\t}\r\n\r\nThat way your player should move a lot smoother","title":"Smoother movement when key is held Keyhandler","body":"<p>Having a boolean for each direction, that gets updated when keyPressed() and keyReleased() are called is definitely the right approach. The problem is that keyPressed() also contains your code that moves the player and repaints the frame. You have to put that in some kind of method that repeatedly gets called in a fixed delay, and moves the player depending on which of these booleans are <code>true</code>. What I mean is something like this:</p>\n<pre><code>public static void main(String[] args)\n{\n    /// ...\n    while(programIsRunning) {\n        movePlayer();\n        frame.repaint();\n        // let your program sleep here\n    }\n}\n\npublic static void movePlayer() {\n    if(up == true){\n        if(Main.y == -100){\n            return;\n        }\n        Main.y -= 20;\n    }\n    if(left == true){\n        if(Main.x == -40){\n            return;\n        }\n        Main.x -= 20;\n    }\n    if(down == true){\n        if(Main.y == 440){\n            return;\n        }\n        Main.y += 20;\n    }\n    if(right == true){\n        if(Main.x == 520){\n            return;\n        }\n        Main.x += 20;\n    }\n}\n\n@Override\npublic void keyPressed(KeyEvent e) {\n    if(e.getKeyCode() == KeyEvent.VK_W) up = true;\n    if(e.getKeyCode() == KeyEvent.VK_A) left = true;\n    if(e.getKeyCode() == KeyEvent.VK_S) down = true;\n    if(e.getKeyCode() == KeyEvent.VK_D) right = true;\n}\n\n@Override\npublic void keyReleased(KeyEvent e) {\n    if(e.getKeyCode() == KeyEvent.VK_W) up = false;\n    if(e.getKeyCode() == KeyEvent.VK_A) left = false;\n    if(e.getKeyCode() == KeyEvent.VK_S) down = false;\n    if(e.getKeyCode() == KeyEvent.VK_D) right = false;\n}\n</code></pre>\n<p>That way your player should move a lot smoother</p>\n"}],"owner":{"account_id":20172033,"reputation":21,"user_id":14794638,"display_name":"Glandorf"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670603300,"creation_date":1670601673,"question_id":74745476,"body_markdown":"Every time when I press for example W, my player moves up by 20. But when I hold W, it goes up by 20, waits a second, and then goes up faster.\r\n\r\nIs it possible to make my player go up that &quot;fast way&quot; immediately without waiting?\r\n\r\nMy code:\r\n\r\n```java\r\n@Override\r\npublic void keyPressed(KeyEvent e) {\r\n    if(e.getKeyCode() == KeyEvent.VK_W) up = true;\r\n    if(e.getKeyCode() == KeyEvent.VK_A) left = true;\r\n    if(e.getKeyCode() == KeyEvent.VK_S) down = true;\r\n    if(e.getKeyCode() == KeyEvent.VK_D) right = true;\r\n\r\n    if(up == true){\r\n        if(Main.y == -100){\r\n            return;\r\n        }\r\n        Main.y -= 20;\r\n\r\n        Main.frame.repaint();\r\n    }\r\n    if(left == true){\r\n        if(Main.x == -40){\r\n            return;\r\n        }\r\n        Main.x -= 20;\r\n        Main.frame.repaint();\r\n    }\r\n    if(down == true){\r\n        if(Main.y == 440){\r\n            return;\r\n        }\r\n        Main.y += 20;\r\n        Main.frame.repaint();\r\n    }\r\n    if(right == true){\r\n        if(Main.x == 520){\r\n            return;\r\n        }\r\n        Main.x += 20;\r\n        Main.frame.repaint();\r\n    }\r\n}\r\n\r\n@Override\r\npublic void keyReleased(KeyEvent e) {\r\n    if(e.getKeyCode() == KeyEvent.VK_W) up = false;\r\n    if(e.getKeyCode() == KeyEvent.VK_A) left = false;\r\n    if(e.getKeyCode() == KeyEvent.VK_S) down = false;\r\n    if(e.getKeyCode() == KeyEvent.VK_D) right = false;\r\n}\r\n```\r\n","title":"Smoother movement when key is held Keyhandler","body":"<p>Every time when I press for example W, my player moves up by 20. But when I hold W, it goes up by 20, waits a second, and then goes up faster.</p>\n<p>Is it possible to make my player go up that &quot;fast way&quot; immediately without waiting?</p>\n<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void keyPressed(KeyEvent e) {\n    if(e.getKeyCode() == KeyEvent.VK_W) up = true;\n    if(e.getKeyCode() == KeyEvent.VK_A) left = true;\n    if(e.getKeyCode() == KeyEvent.VK_S) down = true;\n    if(e.getKeyCode() == KeyEvent.VK_D) right = true;\n\n    if(up == true){\n        if(Main.y == -100){\n            return;\n        }\n        Main.y -= 20;\n\n        Main.frame.repaint();\n    }\n    if(left == true){\n        if(Main.x == -40){\n            return;\n        }\n        Main.x -= 20;\n        Main.frame.repaint();\n    }\n    if(down == true){\n        if(Main.y == 440){\n            return;\n        }\n        Main.y += 20;\n        Main.frame.repaint();\n    }\n    if(right == true){\n        if(Main.x == 520){\n            return;\n        }\n        Main.x += 20;\n        Main.frame.repaint();\n    }\n}\n\n@Override\npublic void keyReleased(KeyEvent e) {\n    if(e.getKeyCode() == KeyEvent.VK_W) up = false;\n    if(e.getKeyCode() == KeyEvent.VK_A) left = false;\n    if(e.getKeyCode() == KeyEvent.VK_S) down = false;\n    if(e.getKeyCode() == KeyEvent.VK_D) right = false;\n}\n</code></pre>\n"},{"tags":["java","json","file","serialization","objectmapper"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1670604872,"post_id":74745703,"comment_id":131919515,"body_markdown":"A custom serializer is probably needed for that. Depending on whether you require the precision to be hard-coded or not, here are  some SO answers to guide you: [hard-coded](https://stackoverflow.com/a/53284909/639520) and [annotation-driven](https://stackoverflow.com/a/44128440/639520).","body":"A custom serializer is probably needed for that. Depending on whether you require the precision to be hard-coded or not, here are  some SO answers to guide you: <a href=\"https://stackoverflow.com/a/53284909/639520\">hard-coded</a> and <a href=\"https://stackoverflow.com/a/44128440/639520\">annotation-driven</a>."}],"owner":{"account_id":20121404,"reputation":25,"user_id":14755840,"display_name":"Stefan Radulescu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670666914,"answer_count":0,"score":0,"last_activity_date":1670602816,"creation_date":1670602816,"question_id":74745703,"body_markdown":"Giving the following code:\r\n```\r\nArrayList&lt;ActionOutput&gt; res = manager.getRes();\r\nObjectWriter objectWriter = objectMapper.writer();\r\nobjectWriter = objectWriter.withDefaultPrettyPrinter();\r\nobjectWriter.writeValue(new File(args[1]), res);\r\n```\r\n\r\nLet&#39;s say a member from **ActionOutput** is a list of objects, and that object contains a **double** instance variable.\r\n\r\nI want to print in a file that double with precision at .00 (13.2 -&gt; 13.20, 14.23423 -&gt; 14.23).\r\n\r\nHow can I configure my objectWriter to write my JSON file this way?\r\n","title":"ObjectWriter print json double with precision","body":"<p>Giving the following code:</p>\n<pre><code>ArrayList&lt;ActionOutput&gt; res = manager.getRes();\nObjectWriter objectWriter = objectMapper.writer();\nobjectWriter = objectWriter.withDefaultPrettyPrinter();\nobjectWriter.writeValue(new File(args[1]), res);\n</code></pre>\n<p>Let's say a member from <strong>ActionOutput</strong> is a list of objects, and that object contains a <strong>double</strong> instance variable.</p>\n<p>I want to print in a file that double with precision at .00 (13.2 -&gt; 13.20, 14.23423 -&gt; 14.23).</p>\n<p>How can I configure my objectWriter to write my JSON file this way?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":5961968,"reputation":1269,"user_id":4686871,"accept_rate":100,"display_name":"Sergei Sirik"},"score":0,"creation_date":1503429769,"post_id":45825088,"comment_id":78609063,"body_markdown":"How are you going to restart it from EDT? Is it user action or what? And what is EDT? For what your thread is waiting to be executed? Common way to deal with threads synchronization is to use synchronization objects. You can check for start this http://tutorials.jenkov.com/java-concurrency/synchronized.html","body":"How are you going to restart it from EDT? Is it user action or what? And what is EDT? For what your thread is waiting to be executed? Common way to deal with threads synchronization is to use synchronization objects. You can check for start this <a href=\"http://tutorials.jenkov.com/java-concurrency/synchronized.html\" rel=\"nofollow noreferrer\">tutorials.jenkov.com/java-concurrency/synchronized.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":1952635,"reputation":1023,"user_id":2482947,"accept_rate":33,"display_name":"hadilq"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1503430772,"creation_date":1503430772,"answer_id":45825727,"question_id":45825088,"body_markdown":"For the waiting and restarting I believe an infinit loop, `wait` and `notify` methods are what you&#39;re looking for. For instance, look at [this guide][1].\r\n\r\n  [1]: https://www.programcreek.com/2009/02/notify-and-wait-example/","title":"How to use volatile boolean to check whether the thread should run?","body":"<p>For the waiting and restarting I believe an infinit loop, <code>wait</code> and <code>notify</code> methods are what you're looking for. For instance, look at <a href=\"https://www.programcreek.com/2009/02/notify-and-wait-example/\" rel=\"nofollow noreferrer\">this guide</a>.</p>\n"}],"owner":{"account_id":11573548,"reputation":634,"user_id":8479618,"accept_rate":100,"display_name":"Jeff"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":45825727,"answer_count":1,"score":0,"last_activity_date":1670602687,"creation_date":1503428442,"question_id":45825088,"body_markdown":"I have a class that extends threads as seen below, and I want it to have a volatile boolean field that it checks to decide whether to continue running or not. The shouldRun() method is called from the EDT of my GUI. \r\n\r\nHow do I get this thread to check the boolean to know whether it should run or wait() from my GUI&#39;s Event Dispatcher Thread?\r\n\r\n\r\n    public class RobotThread extends Thread{\r\n    \t\r\n    \tpublic volatile boolean run; \r\n    \t//if running == true, let thread run\r\n    \t//if running == false, invoke wait() somehow;\r\n    \t\r\n    \tpublic RobotThread(AutoClicker autoClicker) {\r\n    \t\tsuper(autoClicker);\r\n    \t\trun = true;\r\n    \t}\r\n    \t\r\n    \tpublic void setRun(boolean shouldRun) {\r\n    \t\tthis.run = shouldRun;\r\n    \t}\r\n    \t\r\n    \tpublic boolean getRun() {\r\n    \t\treturn run;\r\n    \t}\r\n    }\r\n\r\n\r\nIn general, I just want to be able to get this thread to wait() and restart from the Event Dispatcher Thread of my GUI with button. If there are any better ways to do this I&#39;ll be happy to hear it too.\r\n\r\n","title":"How to use volatile boolean to check whether the thread should run?","body":"<p>I have a class that extends threads as seen below, and I want it to have a volatile boolean field that it checks to decide whether to continue running or not. The shouldRun() method is called from the EDT of my GUI.</p>\n<p>How do I get this thread to check the boolean to know whether it should run or wait() from my GUI's Event Dispatcher Thread?</p>\n<pre><code>public class RobotThread extends Thread{\n    \n    public volatile boolean run; \n    //if running == true, let thread run\n    //if running == false, invoke wait() somehow;\n    \n    public RobotThread(AutoClicker autoClicker) {\n        super(autoClicker);\n        run = true;\n    }\n    \n    public void setRun(boolean shouldRun) {\n        this.run = shouldRun;\n    }\n    \n    public boolean getRun() {\n        return run;\n    }\n}\n</code></pre>\n<p>In general, I just want to be able to get this thread to wait() and restart from the Event Dispatcher Thread of my GUI with button. If there are any better ways to do this I'll be happy to hear it too.</p>\n"},{"tags":["java","mysql","spring","hibernate","spring-mvc"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1487844869,"post_id":42412655,"comment_id":71971281,"body_markdown":"The error message is pretty clear: Your entity defines a column `symfony`, but according to your `create table` statement that column doesn&#39;t exist.","body":"The error message is pretty clear: Your entity defines a column <code>symfony</code>, but according to your <code>create table</code> statement that column doesn&#39;t exist."},{"owner":{"account_id":9713613,"reputation":1,"user_id":7204695,"display_name":"Khue Nguyen"},"score":0,"creation_date":1487909895,"post_id":42412655,"comment_id":72006488,"body_markdown":"thanks you, I fixed it. but now i get another exception: unknown table in field list even though table definitely exists.","body":"thanks you, I fixed it. but now i get another exception: unknown table in field list even though table definitely exists."}],"answers":[{"tags":[],"owner":{"account_id":114470,"reputation":874,"user_id":300978,"accept_rate":80,"display_name":"brohjoe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670602283,"creation_date":1670602283,"answer_id":74745603,"question_id":42412655,"body_markdown":"What worked for me was deleting or commenting out @Table(name=&quot;dotnet&quot;) in the @Entity class.  JPA/Hibernate knows the name of the table, it&#39;s the same as the class name. ","title":"Hibernate: Unknown table &#39; &#39; in field list even though the table definitely exists","body":"<p>What worked for me was deleting or commenting out @Table(name=&quot;dotnet&quot;) in the @Entity class.  JPA/Hibernate knows the name of the table, it's the same as the class name.</p>\n"}],"owner":{"account_id":9713613,"reputation":1,"user_id":7204695,"display_name":"Khue Nguyen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":447,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670602283,"creation_date":1487844629,"question_id":42412655,"body_markdown":"I&#39;m newbee, and I have a problem in hibernate. When I run and it throw an exception: \r\n\r\n&gt; HTTP Status 500 - Request processing failed; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n\r\nError at:\r\n\r\n&gt; com.mysql.jdbc.exceptions.MySQLSyntaxErrorException: Unknown table\r\n&gt; &#39;dotnet0_&#39; in field list\r\n\r\n&lt;br/&gt;Here is my DB.\r\n\r\n        CREATE TABLE `dotnet` (\r\n      `general` double DEFAULT NULL,\r\n      `c#` double DEFAULT NULL,\r\n      `vb` double DEFAULT NULL,\r\n      `asp` double DEFAULT NULL,\r\n      `entityFramework` double DEFAULT NULL,\r\n      `mvc` double DEFAULT NULL,\r\n      `aspNetWebApi` double DEFAULT NULL,\r\n      `ado` double DEFAULT NULL,\r\n      `wpf` double DEFAULT NULL,\r\n      `wcf` double DEFAULT NULL,\r\n      `nunit` double DEFAULT NULL,\r\n      `moq` double DEFAULT NULL,\r\n      `urf` double DEFAULT NULL,\r\n      `id` int(11) NOT NULL,\r\n      PRIMARY KEY (`id`),\r\n      UNIQUE KEY `id_UNIQUE` (`id`)\r\n    ) ENGINE=InnoDB DEFAULT CHARSET=utf8;\r\n\r\nException:\r\n\r\n        org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n    \torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:977)\r\n    \torg.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:867)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:648)\r\n    \torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:841)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    root cause\r\n    org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n    \torg.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:123)\r\n    \torg.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)\r\n    \torg.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)\r\n    \torg.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:112)\r\n    \torg.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:91)\r\n    \torg.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.getResultSet(AbstractLoadPlanBasedLoader.java:449)\r\n    \torg.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeQueryStatement(AbstractLoadPlanBasedLoader.java:202)\r\n    \torg.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:137)\r\n    \torg.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:102)\r\n    \torg.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.load(AbstractLoadPlanBasedEntityLoader.java:186)\r\n    \torg.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4126)\r\n    \torg.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:503)\r\n    \torg.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:468)\r\n    \torg.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:213)\r\n    \torg.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:275)\r\n    \torg.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:151)\r\n    \torg.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1070)\r\n    \torg.hibernate.internal.SessionImpl.access$2000(SessionImpl.java:176)\r\n    \torg.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load(SessionImpl.java:2551)\r\n    \torg.hibernate.internal.SessionImpl.get(SessionImpl.java:955)\r\n    \ta.b.c.dao.AbstractDAO.getByKey(AbstractDAO.java:29)\r\n    \ta.b.c.dao.DotNetDAOImpl.findById(DotNetDAOImpl.java:13)\r\n    \ta.b.c.dao.DotNetDAOImpl.findById(DotNetDAOImpl.java:1)\r\n    \ta.b.c.service.DotNetServiceImpl.save(DotNetServiceImpl.java:27)\r\n    \ta.b.c.service.DotNetServiceImpl.save(DotNetServiceImpl.java:1)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tsun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tjava.lang.reflect.Method.invoke(Unknown Source)\r\n    \torg.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n    \torg.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n    \torg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n    \torg.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n    \torg.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\r\n    \torg.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n    \torg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \torg.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\r\n    \tcom.sun.proxy.$Proxy228.save(Unknown Source)\r\n    \ta.b.c.controller.HomeController.changeValue(HomeController.java:186)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tsun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tjava.lang.reflect.Method.invoke(Unknown Source)\r\n    \torg.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:222)\r\n    \torg.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)\r\n    \torg.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)\r\n    \torg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:775)\r\n    \torg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)\r\n    \torg.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\r\n    \torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:965)\r\n    \torg.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:867)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:648)\r\n    \torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:841)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    root cause\r\n    com.mysql.jdbc.exceptions.MySQLSyntaxErrorException: Unknown table &#39;dotnet0_&#39; in field list\r\n    \tcom.mysql.jdbc.SQLError.createSQLException(SQLError.java:936)\r\n    \tcom.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:2870)\r\n    \tcom.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1573)\r\n    \tcom.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1665)\r\n    \tcom.mysql.jdbc.Connection.execSQL(Connection.java:3176)\r\n    \tcom.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1153)\r\n    \tcom.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1266)\r\n    \torg.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:82)\r\n    \torg.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.getResultSet(AbstractLoadPlanBasedLoader.java:449)\r\n    \torg.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeQueryStatement(AbstractLoadPlanBasedLoader.java:202)\r\n    \torg.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:137)\r\n    \torg.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:102)\r\n    \torg.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.load(AbstractLoadPlanBasedEntityLoader.java:186)\r\n    \torg.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4126)\r\n    \torg.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:503)\r\n    \torg.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:468)\r\n    \torg.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:213)\r\n    \torg.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:275)\r\n    \torg.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:151)\r\n    \torg.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1070)\r\n    \torg.hibernate.internal.SessionImpl.access$2000(SessionImpl.java:176)\r\n    \torg.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load(SessionImpl.java:2551)\r\n    \torg.hibernate.internal.SessionImpl.get(SessionImpl.java:955)\r\n    \ta.b.c.dao.AbstractDAO.getByKey(AbstractDAO.java:29)\r\n    \ta.b.c.dao.DotNetDAOImpl.findById(DotNetDAOImpl.java:13)\r\n    \ta.b.c.dao.DotNetDAOImpl.findById(DotNetDAOImpl.java:1)\r\n    \ta.b.c.service.DotNetServiceImpl.save(DotNetServiceImpl.java:27)\r\n    \ta.b.c.service.DotNetServiceImpl.save(DotNetServiceImpl.java:1)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tsun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tjava.lang.reflect.Method.invoke(Unknown Source)\r\n    \torg.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n    \torg.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n    \torg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n    \torg.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n    \torg.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\r\n    \torg.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n    \torg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \torg.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\r\n    \tcom.sun.proxy.$Proxy228.save(Unknown Source)\r\n    \ta.b.c.controller.HomeController.changeValue(HomeController.java:186)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tsun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tjava.lang.reflect.Method.invoke(Unknown Source)\r\n    \torg.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:222)\r\n    \torg.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)\r\n    \torg.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)\r\n    \torg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:775)\r\n    \torg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)\r\n    \torg.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\r\n    \torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:965)\r\n    \torg.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:867)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:648)\r\n    \torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:841)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\r\nMy code here:\r\n\r\n        @Entity\r\n    @Table(name=&quot;dotnet&quot;)\r\n    public class DotNet {\r\n    \tprivate double general;\r\n    \tprivate int id;\r\n    \r\n    \t// Language\r\n    \tdouble cThang;\r\n    \tdouble vb;\r\n    \tdouble asp;\r\n    \r\n    \t// Framework\r\n    \tprivate double entityFramework;\r\n    \tprivate double mvc;\r\n    \tprivate double aspNetWebAPI;\r\n    \tprivate double ado;\r\n    \tprivate double wpf;\r\n    \tprivate double wcf;\r\n    \tprivate double nunit;\r\n    \tprivate double moq;\r\n    \tprivate double urf;\r\n    \r\n    \tpublic double[] toArray() {\r\n    \t\tdouble[] net = { general, cThang, vb, asp, entityFramework, mvc, aspNetWebAPI, ado, wpf, wcf, nunit, moq, urf };\r\n    \t\treturn net;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;entityframework&quot;, nullable = false)\r\n    \tpublic double getEntityFramework() {\r\n    \t\treturn entityFramework;\r\n    \t}\r\n    \r\n    \tpublic void setEntityFramework(double entityFramework) {\r\n    \t\tthis.entityFramework = entityFramework;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;mvc&quot;, nullable = false)\r\n    \tpublic double getMvc() {\r\n    \t\treturn mvc;\r\n    \t}\r\n    \r\n    \tpublic void setMvc(double mvc) {\r\n    \t\tthis.mvc = mvc;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;aspnetwebapi&quot;, nullable = false)\r\n    \tpublic double getAspNetWebAPI() {\r\n    \t\treturn aspNetWebAPI;\r\n    \t}\r\n    \r\n    \tpublic void setAspNetWebAPI(double aspNetWebAPI) {\r\n    \t\tthis.aspNetWebAPI = aspNetWebAPI;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;ado&quot;, nullable = false)\r\n    \tpublic double getAdo() {\r\n    \t\treturn ado;\r\n    \t}\r\n    \r\n    \tpublic void setAdo(double ado) {\r\n    \t\tthis.ado = ado;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;wpf&quot;, nullable = false)\r\n    \tpublic double getWpf() {\r\n    \t\treturn wpf;\r\n    \t}\r\n    \r\n    \tpublic void setWpf(double wpf) {\r\n    \t\tthis.wpf = wpf;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;nunit&quot;, nullable = false)\r\n    \tpublic double getNunit() {\r\n    \t\treturn nunit;\r\n    \t}\r\n    \r\n    \tpublic void setNunit(double nunit) {\r\n    \t\tthis.nunit = nunit;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;moq&quot;, nullable = false)\r\n    \tpublic double getMoq() {\r\n    \t\treturn moq;\r\n    \t}\r\n    \r\n    \tpublic void setMoq(double moq) {\r\n    \t\tthis.moq = moq;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;URF&quot;, nullable = false)\r\n    \tpublic double getUrf() {\r\n    \t\treturn urf;\r\n    \t}\r\n    \r\n    \tpublic void setUrf(double urf) {\r\n    \t\tthis.urf = urf;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;c#&quot;, nullable = false)\r\n    \tpublic double getcThang() {\r\n    \t\treturn cThang;\r\n    \t}\r\n    \r\n    \tpublic void setcThang(double cThang) {\r\n    \t\tthis.cThang = cThang;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;vb&quot;, nullable = false)\r\n    \tpublic double getVb() {\r\n    \t\treturn vb;\r\n    \t}\r\n    \r\n    \tpublic void setVb(double vb) {\r\n    \t\tthis.vb = vb;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;asp&quot;, nullable = false)\r\n    \tpublic double getAsp() {\r\n    \t\treturn asp;\r\n    \t}\r\n    \r\n    \tpublic void setAsp(double asp) {\r\n    \t\tthis.asp = asp;\r\n    \t}\r\n    \r\n    \t@Id\r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;general&quot;, nullable = false)\r\n    \tpublic double getGeneral() {\r\n    \t\treturn general;\r\n    \t}\r\n    \r\n    \tpublic void setGeneral(double general) {\r\n    \t\tthis.general = general;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;wcf&quot;, nullable = false)\r\n    \tpublic double getWcf() {\r\n    \t\treturn wcf;\r\n    \t}\r\n    \r\n    \tpublic void setWcf(double wcf) {\r\n    \t\tthis.wcf = wcf;\r\n    \t}\r\n    }\r\n\r\n\r\nMy configuration:\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    @ComponentScan(basePackages = &quot;a.b.c&quot;)\r\n    public class AppConfig {\r\n    \t\r\n    \t@Bean\r\n        public ViewResolver viewResolver() {\r\n            InternalResourceViewResolver viewResolver = new InternalResourceViewResolver();\r\n            viewResolver.setViewClass(JstlView.class);\r\n            viewResolver.setPrefix(&quot;/WEB-INF/views/&quot;);\r\n            viewResolver.setSuffix(&quot;.jsp&quot;);\r\n            return viewResolver;\r\n        }\r\n         \r\n        @Bean\r\n        public MessageSource messageSource() {\r\n            ResourceBundleMessageSource messageSource = new ResourceBundleMessageSource();\r\n            messageSource.setBasename(&quot;messages&quot;);\r\n            return messageSource;\r\n        }\r\n    \r\n    }\r\n\r\n    public class AppInitializer implements WebApplicationInitializer {\r\n     \r\n        public void onStartup(ServletContext container) throws ServletException {\r\n     \r\n            AnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();\r\n            ctx.register(AppConfig.class);\r\n            ctx.setServletContext(container);\r\n     \r\n            ServletRegistration.Dynamic servlet = container.addServlet(\r\n                    &quot;dispatcher&quot;, new DispatcherServlet(ctx));\r\n     \r\n            servlet.setLoadOnStartup(1);\r\n            servlet.addMapping(&quot;/&quot;);\r\n        }\r\n     \r\n    }\r\n\r\nhere is hibernate config:\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @ComponentScan({ &quot;a.b.c.configuration&quot; })\r\n    @PropertySource(value = { &quot;classpath:application.properties&quot; })\r\n    \r\n    public class HibernateConfiguration {\r\n    \t \r\n        @Autowired\r\n        private Environment environment;\r\n     \r\n        @Bean\r\n        public LocalSessionFactoryBean sessionFactory() {\r\n            LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\r\n            sessionFactory.setDataSource(dataSource());\r\n            sessionFactory.setPackagesToScan(new String[] { &quot;a.b.c.model&quot; });\r\n            sessionFactory.setHibernateProperties(hibernateProperties());\r\n            return sessionFactory;\r\n         }\r\n         \r\n        @Bean\r\n        public DataSource dataSource() {\r\n            DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n            dataSource.setDriverClassName(environment.getRequiredProperty(&quot;jdbc.driverClassName&quot;));\r\n            dataSource.setUrl(environment.getRequiredProperty(&quot;jdbc.url&quot;));\r\n            dataSource.setUsername(environment.getRequiredProperty(&quot;jdbc.username&quot;));\r\n            dataSource.setPassword(environment.getRequiredProperty(&quot;jdbc.password&quot;));\r\n            \r\n            return dataSource;\r\n        }\r\n         \r\n        private Properties hibernateProperties() {\r\n            Properties properties = new Properties();\r\n            properties.put(&quot;hibernate.dialect&quot;, environment.getRequiredProperty(&quot;hibernate.dialect&quot;));\r\n            properties.put(&quot;hibernate.show_sql&quot;, environment.getRequiredProperty(&quot;hibernate.show_sql&quot;));\r\n            properties.put(&quot;hibernate.format_sql&quot;, environment.getRequiredProperty(&quot;hibernate.format_sql&quot;));\r\n            return properties;        \r\n        }\r\n         \r\n        @Bean\r\n        @Autowired\r\n        public HibernateTransactionManager transactionManager(SessionFactory s) {\r\n           HibernateTransactionManager txManager = new HibernateTransactionManager();\r\n           txManager.setSessionFactory(s);\r\n           return txManager;\r\n        }\r\n    \r\n    }\r\n\r\nand properties:\r\n\r\n    #DB properties:\r\n    jdbc.driverClassName=com.mysql.jdbc.Driver\r\n    jdbc.url=jdbc:mysql://localhost:3306/ntq?autoReconnect=true\r\n    jdbc.username=account\r\n    jdbc.password=password\r\n    \r\n    #Hibernate Configuration:\r\n    hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\r\n    hibernate.show_sql=true\r\n    hibernate.format_sql=true\r\n    #entitymanager.packages.to.scan=com.javacodegeeks\r\n\r\nI&#39;m sorry if it is a duplicate question. I will mark it as duplicate as soon as I have a clue what causes the error. Thank you!","title":"Hibernate: Unknown table &#39; &#39; in field list even though the table definitely exists","body":"<p>I'm newbee, and I have a problem in hibernate. When I run and it throw an exception: </p>\n\n<blockquote>\n  <p>HTTP Status 500 - Request processing failed; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet</p>\n</blockquote>\n\n<p>Error at:</p>\n\n<blockquote>\n  <p>com.mysql.jdbc.exceptions.MySQLSyntaxErrorException: Unknown table\n  'dotnet0_' in field list</p>\n</blockquote>\n\n<p><br/>Here is my DB.</p>\n\n<pre><code>    CREATE TABLE `dotnet` (\n  `general` double DEFAULT NULL,\n  `c#` double DEFAULT NULL,\n  `vb` double DEFAULT NULL,\n  `asp` double DEFAULT NULL,\n  `entityFramework` double DEFAULT NULL,\n  `mvc` double DEFAULT NULL,\n  `aspNetWebApi` double DEFAULT NULL,\n  `ado` double DEFAULT NULL,\n  `wpf` double DEFAULT NULL,\n  `wcf` double DEFAULT NULL,\n  `nunit` double DEFAULT NULL,\n  `moq` double DEFAULT NULL,\n  `urf` double DEFAULT NULL,\n  `id` int(11) NOT NULL,\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `id_UNIQUE` (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n</code></pre>\n\n<p>Exception:</p>\n\n<pre><code>    org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:977)\n    org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:867)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:648)\n    org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:841)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nroot cause\norg.hibernate.exception.SQLGrammarException: could not extract ResultSet\n    org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:123)\n    org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)\n    org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)\n    org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:112)\n    org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:91)\n    org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.getResultSet(AbstractLoadPlanBasedLoader.java:449)\n    org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeQueryStatement(AbstractLoadPlanBasedLoader.java:202)\n    org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:137)\n    org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:102)\n    org.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.load(AbstractLoadPlanBasedEntityLoader.java:186)\n    org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4126)\n    org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:503)\n    org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:468)\n    org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:213)\n    org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:275)\n    org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:151)\n    org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1070)\n    org.hibernate.internal.SessionImpl.access$2000(SessionImpl.java:176)\n    org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load(SessionImpl.java:2551)\n    org.hibernate.internal.SessionImpl.get(SessionImpl.java:955)\n    a.b.c.dao.AbstractDAO.getByKey(AbstractDAO.java:29)\n    a.b.c.dao.DotNetDAOImpl.findById(DotNetDAOImpl.java:13)\n    a.b.c.dao.DotNetDAOImpl.findById(DotNetDAOImpl.java:1)\n    a.b.c.service.DotNetServiceImpl.save(DotNetServiceImpl.java:27)\n    a.b.c.service.DotNetServiceImpl.save(DotNetServiceImpl.java:1)\n    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    java.lang.reflect.Method.invoke(Unknown Source)\n    org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\n    org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\n    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n    org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\n    org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\n    org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\n    com.sun.proxy.$Proxy228.save(Unknown Source)\n    a.b.c.controller.HomeController.changeValue(HomeController.java:186)\n    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    java.lang.reflect.Method.invoke(Unknown Source)\n    org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:222)\n    org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)\n    org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)\n    org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:775)\n    org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)\n    org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\n    org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)\n    org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:965)\n    org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:867)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:648)\n    org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:841)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nroot cause\ncom.mysql.jdbc.exceptions.MySQLSyntaxErrorException: Unknown table 'dotnet0_' in field list\n    com.mysql.jdbc.SQLError.createSQLException(SQLError.java:936)\n    com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:2870)\n    com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1573)\n    com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1665)\n    com.mysql.jdbc.Connection.execSQL(Connection.java:3176)\n    com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1153)\n    com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1266)\n    org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:82)\n    org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.getResultSet(AbstractLoadPlanBasedLoader.java:449)\n    org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeQueryStatement(AbstractLoadPlanBasedLoader.java:202)\n    org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:137)\n    org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:102)\n    org.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.load(AbstractLoadPlanBasedEntityLoader.java:186)\n    org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4126)\n    org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:503)\n    org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:468)\n    org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:213)\n    org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:275)\n    org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:151)\n    org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1070)\n    org.hibernate.internal.SessionImpl.access$2000(SessionImpl.java:176)\n    org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load(SessionImpl.java:2551)\n    org.hibernate.internal.SessionImpl.get(SessionImpl.java:955)\n    a.b.c.dao.AbstractDAO.getByKey(AbstractDAO.java:29)\n    a.b.c.dao.DotNetDAOImpl.findById(DotNetDAOImpl.java:13)\n    a.b.c.dao.DotNetDAOImpl.findById(DotNetDAOImpl.java:1)\n    a.b.c.service.DotNetServiceImpl.save(DotNetServiceImpl.java:27)\n    a.b.c.service.DotNetServiceImpl.save(DotNetServiceImpl.java:1)\n    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    java.lang.reflect.Method.invoke(Unknown Source)\n    org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\n    org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\n    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n    org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\n    org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\n    org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\n    com.sun.proxy.$Proxy228.save(Unknown Source)\n    a.b.c.controller.HomeController.changeValue(HomeController.java:186)\n    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    java.lang.reflect.Method.invoke(Unknown Source)\n    org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:222)\n    org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)\n    org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)\n    org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:775)\n    org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)\n    org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\n    org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)\n    org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:965)\n    org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:867)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:648)\n    org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:841)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n</code></pre>\n\n<p>My code here:</p>\n\n<pre><code>    @Entity\n@Table(name=\"dotnet\")\npublic class DotNet {\n    private double general;\n    private int id;\n\n    // Language\n    double cThang;\n    double vb;\n    double asp;\n\n    // Framework\n    private double entityFramework;\n    private double mvc;\n    private double aspNetWebAPI;\n    private double ado;\n    private double wpf;\n    private double wcf;\n    private double nunit;\n    private double moq;\n    private double urf;\n\n    public double[] toArray() {\n        double[] net = { general, cThang, vb, asp, entityFramework, mvc, aspNetWebAPI, ado, wpf, wcf, nunit, moq, urf };\n        return net;\n    }\n\n    @Column(name = \"entityframework\", nullable = false)\n    public double getEntityFramework() {\n        return entityFramework;\n    }\n\n    public void setEntityFramework(double entityFramework) {\n        this.entityFramework = entityFramework;\n    }\n\n    @Column(name = \"mvc\", nullable = false)\n    public double getMvc() {\n        return mvc;\n    }\n\n    public void setMvc(double mvc) {\n        this.mvc = mvc;\n    }\n\n    @Column(name = \"aspnetwebapi\", nullable = false)\n    public double getAspNetWebAPI() {\n        return aspNetWebAPI;\n    }\n\n    public void setAspNetWebAPI(double aspNetWebAPI) {\n        this.aspNetWebAPI = aspNetWebAPI;\n    }\n\n    @Column(name = \"ado\", nullable = false)\n    public double getAdo() {\n        return ado;\n    }\n\n    public void setAdo(double ado) {\n        this.ado = ado;\n    }\n\n    @Column(name = \"wpf\", nullable = false)\n    public double getWpf() {\n        return wpf;\n    }\n\n    public void setWpf(double wpf) {\n        this.wpf = wpf;\n    }\n\n    @Column(name = \"nunit\", nullable = false)\n    public double getNunit() {\n        return nunit;\n    }\n\n    public void setNunit(double nunit) {\n        this.nunit = nunit;\n    }\n\n    @Column(name = \"moq\", nullable = false)\n    public double getMoq() {\n        return moq;\n    }\n\n    public void setMoq(double moq) {\n        this.moq = moq;\n    }\n\n    @Column(name = \"URF\", nullable = false)\n    public double getUrf() {\n        return urf;\n    }\n\n    public void setUrf(double urf) {\n        this.urf = urf;\n    }\n\n    @Column(name = \"c#\", nullable = false)\n    public double getcThang() {\n        return cThang;\n    }\n\n    public void setcThang(double cThang) {\n        this.cThang = cThang;\n    }\n\n    @Column(name = \"vb\", nullable = false)\n    public double getVb() {\n        return vb;\n    }\n\n    public void setVb(double vb) {\n        this.vb = vb;\n    }\n\n    @Column(name = \"asp\", nullable = false)\n    public double getAsp() {\n        return asp;\n    }\n\n    public void setAsp(double asp) {\n        this.asp = asp;\n    }\n\n    @Id\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    @Column(name = \"general\", nullable = false)\n    public double getGeneral() {\n        return general;\n    }\n\n    public void setGeneral(double general) {\n        this.general = general;\n    }\n\n    @Column(name = \"wcf\", nullable = false)\n    public double getWcf() {\n        return wcf;\n    }\n\n    public void setWcf(double wcf) {\n        this.wcf = wcf;\n    }\n}\n</code></pre>\n\n<p>My configuration:</p>\n\n<pre><code>@Configuration\n@EnableWebMvc\n@ComponentScan(basePackages = \"a.b.c\")\npublic class AppConfig {\n\n    @Bean\n    public ViewResolver viewResolver() {\n        InternalResourceViewResolver viewResolver = new InternalResourceViewResolver();\n        viewResolver.setViewClass(JstlView.class);\n        viewResolver.setPrefix(\"/WEB-INF/views/\");\n        viewResolver.setSuffix(\".jsp\");\n        return viewResolver;\n    }\n\n    @Bean\n    public MessageSource messageSource() {\n        ResourceBundleMessageSource messageSource = new ResourceBundleMessageSource();\n        messageSource.setBasename(\"messages\");\n        return messageSource;\n    }\n\n}\n\npublic class AppInitializer implements WebApplicationInitializer {\n\n    public void onStartup(ServletContext container) throws ServletException {\n\n        AnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();\n        ctx.register(AppConfig.class);\n        ctx.setServletContext(container);\n\n        ServletRegistration.Dynamic servlet = container.addServlet(\n                \"dispatcher\", new DispatcherServlet(ctx));\n\n        servlet.setLoadOnStartup(1);\n        servlet.addMapping(\"/\");\n    }\n\n}\n</code></pre>\n\n<p>here is hibernate config:</p>\n\n<pre><code>@Configuration\n@EnableTransactionManagement\n@ComponentScan({ \"a.b.c.configuration\" })\n@PropertySource(value = { \"classpath:application.properties\" })\n\npublic class HibernateConfiguration {\n\n    @Autowired\n    private Environment environment;\n\n    @Bean\n    public LocalSessionFactoryBean sessionFactory() {\n        LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\n        sessionFactory.setDataSource(dataSource());\n        sessionFactory.setPackagesToScan(new String[] { \"a.b.c.model\" });\n        sessionFactory.setHibernateProperties(hibernateProperties());\n        return sessionFactory;\n     }\n\n    @Bean\n    public DataSource dataSource() {\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n        dataSource.setDriverClassName(environment.getRequiredProperty(\"jdbc.driverClassName\"));\n        dataSource.setUrl(environment.getRequiredProperty(\"jdbc.url\"));\n        dataSource.setUsername(environment.getRequiredProperty(\"jdbc.username\"));\n        dataSource.setPassword(environment.getRequiredProperty(\"jdbc.password\"));\n\n        return dataSource;\n    }\n\n    private Properties hibernateProperties() {\n        Properties properties = new Properties();\n        properties.put(\"hibernate.dialect\", environment.getRequiredProperty(\"hibernate.dialect\"));\n        properties.put(\"hibernate.show_sql\", environment.getRequiredProperty(\"hibernate.show_sql\"));\n        properties.put(\"hibernate.format_sql\", environment.getRequiredProperty(\"hibernate.format_sql\"));\n        return properties;        \n    }\n\n    @Bean\n    @Autowired\n    public HibernateTransactionManager transactionManager(SessionFactory s) {\n       HibernateTransactionManager txManager = new HibernateTransactionManager();\n       txManager.setSessionFactory(s);\n       return txManager;\n    }\n\n}\n</code></pre>\n\n<p>and properties:</p>\n\n<pre><code>#DB properties:\njdbc.driverClassName=com.mysql.jdbc.Driver\njdbc.url=jdbc:mysql://localhost:3306/ntq?autoReconnect=true\njdbc.username=account\njdbc.password=password\n\n#Hibernate Configuration:\nhibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\nhibernate.show_sql=true\nhibernate.format_sql=true\n#entitymanager.packages.to.scan=com.javacodegeeks\n</code></pre>\n\n<p>I'm sorry if it is a duplicate question. I will mark it as duplicate as soon as I have a clue what causes the error. Thank you!</p>\n"},{"tags":["java","button","drop-down-menu","swt","controls"],"answers":[{"tags":[],"owner":{"account_id":1138236,"reputation":1134,"user_id":1122840,"accept_rate":75,"display_name":"Tobias Willig"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1366959214,"creation_date":1366462247,"answer_id":16120568,"question_id":16113313,"body_markdown":"This [snippet][1] shows how to use the described widget in a SWT toolbar. You can set the button text by using the `item.setText()` method.\r\n\r\n\r\n  [1]: http://git.eclipse.org/c/platform/eclipse.platform.swt.git/tree/examples/org.eclipse.swt.snippets/src/org/eclipse/swt/snippets/Snippet67.java","title":"SWT Button Dropdown Control","body":"<p>This <a href=\"http://git.eclipse.org/c/platform/eclipse.platform.swt.git/tree/examples/org.eclipse.swt.snippets/src/org/eclipse/swt/snippets/Snippet67.java\" rel=\"nofollow\">snippet</a> shows how to use the described widget in a SWT toolbar. You can set the button text by using the <code>item.setText()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":1460245,"reputation":3085,"user_id":1374773,"display_name":"sambi reddy"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1366754557,"creation_date":1366741752,"answer_id":16176595,"question_id":16113313,"body_markdown":"I think, this is what you should do get Drop down menu behavior\r\n\r\n1. Create `Menu` with style `SWT.DROP_DOWN`\r\n2. Create `MenuItems` on `Menu`\r\n\r\n\r\nif you want a button \r\n\r\n1. Create a Button with style `SWT.ARROW | SWT.DOWN`\r\n2. add `SelectionListener`\r\n3. In `SelectionListener`, Create a Menu with style `SWT.POP_UP` and position the menu at the button location.\r\n\r\n\r\n\r\n\r\n//code\r\n\r\n\r\n    public static void main(String[] args) {\r\n    \t    Display display = new Display();\r\n    \t    final Shell shell = new Shell(display);\r\n    \t    shell.setSize(300, 200);\r\n    \t    shell.setText(&quot;Button Example&quot;);\r\n    \t    shell.setLayout(new RowLayout());\r\n    \t    \r\n    \t    \r\n    \t    /**\r\n    \t     * \r\n    \t     * Approach1\r\n    \t     * \r\n    \t     */\r\n    \t    final Composite btnCntrl = new Composite(shell, SWT.BORDER);\r\n    \t    btnCntrl.setBackground(display.getSystemColor(SWT.COLOR_WHITE));\r\n    \t    btnCntrl.setBackgroundMode(SWT.INHERIT_FORCE);\r\n    \t    GridLayoutFactory.fillDefaults().numColumns(2).equalWidth(false).spacing(0, 1).applyTo(btnCntrl);\r\n    \t    CLabel lbl = new CLabel(btnCntrl, SWT.NONE);\r\n    \t    lbl.setText(&quot;Animals&quot;);\r\n    \t    Button btn = new Button(btnCntrl, SWT.FLAT|SWT.ARROW|SWT.DOWN);\r\n    \t    btn.setLayoutData(new GridData(GridData.FILL_VERTICAL));\r\n    \t    \r\n    \t    btn.addSelectionListener(new SelectionAdapter() {\r\n    \t    \t@Override\r\n    \t    \tpublic void widgetSelected(SelectionEvent e) {\r\n    \t    \t\tsuper.widgetSelected(e);\r\n    \t    \t\tMenu menu = new Menu(shell, SWT.POP_UP);\r\n    \t    \t\t\r\n    \t    \t\tMenuItem item1 = new MenuItem(menu, SWT.PUSH);\r\n    \t    \t\titem1.setText(&quot;Hare&quot;);\r\n    \t    \t\tMenuItem item2 = new MenuItem(menu, SWT.PUSH);\r\n    \t    \t\titem2.setText(&quot;Fox&quot;);\r\n    \t    \t\tMenuItem item3 = new MenuItem(menu, SWT.PUSH);\r\n    \t    \t\titem3.setText(&quot;Pony&quot;);\r\n    \t    \t\t\r\n    \t    \t\t\r\n    \t    \t\t\r\n    \t    \t\tPoint loc = btnCntrl.getLocation();\r\n    \t    \t\tRectangle rect = btnCntrl.getBounds();\r\n    \t    \t\t\r\n    \t    \t\tPoint mLoc = new Point(loc.x-1, loc.y+rect.height);\r\n    \t    \t\t\r\n    \t    \t\tmenu.setLocation(shell.getDisplay().map(btnCntrl.getParent(), null, mLoc));\r\n    \t    \t\t\r\n    \t    \t\tmenu.setVisible(true);\r\n    \t    \t}\r\n    \t\t});\r\n    \t    \r\n    \t    \r\n    \t    \r\n    \t    /***\r\n    \t     * \r\n    \t     * \r\n    \t     * Approach 2\r\n    \t     * \r\n    \t     */\r\n    \t    \r\n    \t    \r\n    \t    final Composite btnCntrl2 = new Composite(shell, SWT.BORDER);\r\n    \t    btnCntrl2.setBackground(display.getSystemColor(SWT.COLOR_WHITE));\r\n    \t    btnCntrl2.setBackgroundMode(SWT.INHERIT_FORCE);\r\n    \t    GridLayoutFactory.fillDefaults().numColumns(2).equalWidth(false).spacing(0, 1).applyTo(btnCntrl2);\r\n    \t    CLabel lbl2 = new CLabel(btnCntrl2, SWT.NONE);\r\n    \t    lbl2.setText(&quot;Animals&quot;);\r\n    \t    Button btn2 = new Button(btnCntrl2, SWT.FLAT|SWT.ARROW|SWT.DOWN);\r\n    \t    btn2.setLayoutData(new GridData(GridData.FILL_VERTICAL));\r\n    \t    \r\n    \t    btn2.addSelectionListener(new SelectionAdapter() {\r\n    \t    \t@Override\r\n    \t    \tpublic void widgetSelected(SelectionEvent e) {\r\n    \t    \t\tsuper.widgetSelected(e);\r\n    \t    \t\tShell menu = (Shell) btnCntrl2.getData(&quot;subshell&quot;);\r\n    \t    \t\tif(menu != null &amp;&amp; !menu.isDisposed()){\r\n    \t    \t\t\tmenu.dispose();\r\n    \t    \t\t}\r\n    \t    \t\tmenu = new Shell(shell, SWT.NONE);\r\n    \t    \t\tmenu.setLayout(new FillLayout());\r\n    \t    \t\tTable table = new Table(menu, SWT.FULL_SELECTION);\r\n    \t    \t\ttable.addListener(SWT.MeasureItem, new Listener() {\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic void handleEvent(Event event) {\r\n    \t\t\t\t\t\tevent.height = 20; //TODO: determine later\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t    \t\t\r\n    \t    \t\ttable.addListener(SWT.PaintItem, new Listener() {\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic void handleEvent(Event event) {\r\n    \t\t\t\t\t\tRectangle bounds = event.getBounds();\r\n    \t\t\t\t\t\tevent.gc.setBackground(event.display.getSystemColor(SWT.COLOR_BLUE));\r\n    \t\t\t\t\t\tevent.gc.drawLine(bounds.x, bounds.y+bounds.height-1, bounds.x+bounds.width, bounds.y+bounds.height-1);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t    \t\tTableItem tableItem= new TableItem(table, SWT.NONE);\r\n    \t\t\t\ttableItem.setText(0, &quot;Hare&quot;);\r\n    \t\t\t\t\r\n    \t    \t\tTableItem tableItem2= new TableItem(table, SWT.NONE);\r\n    \t\t\t\ttableItem2.setText(0, &quot;Pony&quot; );\r\n    \t\t\t\t\r\n    \t\t\t\tTableItem tableItem3= new TableItem(table, SWT.NONE);\r\n    \t\t\t\ttableItem3.setText(0, &quot;Dog&quot;);\r\n    \t\t\t\t\r\n    \t    \t\t\r\n    \t    \t\tPoint loc = btnCntrl2.getLocation();\r\n    \t    \t\tRectangle rect = btnCntrl2.getBounds();\r\n    \t    \t\t\r\n    \t    \t\tPoint mLoc = new Point(loc.x, loc.y+rect.height);\r\n    \t    \t\t\r\n    \t    \t\tmenu.setLocation(shell.getDisplay().map(btnCntrl2.getParent(), null, mLoc));\r\n    \t    \t\tmenu.pack();\r\n    \t    \t\tmenu.setVisible(true);\r\n    \t    \t\t\r\n    \t    \t\tbtnCntrl2.setData(&quot;subshell&quot;, menu);\r\n    \t    \t\t\r\n    \t    \t}\r\n    \t\t});\r\n    \t    \r\n    \t    display.addFilter(SWT.MouseDown, new Listener() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void handleEvent(Event event) {\r\n    \t\t\t\tShell shell = (Shell) btnCntrl2.getData(&quot;subshell&quot;);\r\n    \t\t\t\tif(shell != null &amp;&amp; !shell.getBounds().contains(event.display.map((Control)event.widget, null, new Point(event.x, event.y)))){\r\n    \t\t\t\t\tshell.dispose();\r\n    \t\t\t\t\tbtnCntrl2.setData(&quot;subshell&quot;, null);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t    \r\n    \t    shell.open();\r\n    \t    while (!shell.isDisposed()) {\r\n    \t      if (!display.readAndDispatch())\r\n    \t        display.sleep();\r\n    \t    }\r\n    \t    display.dispose();\r\n    \t  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"SWT Button Dropdown Control","body":"<p>I think, this is what you should do get Drop down menu behavior</p>\n\n<ol>\n<li>Create <code>Menu</code> with style <code>SWT.DROP_DOWN</code></li>\n<li>Create <code>MenuItems</code> on <code>Menu</code></li>\n</ol>\n\n<p>if you want a button </p>\n\n<ol>\n<li>Create a Button with style <code>SWT.ARROW | SWT.DOWN</code></li>\n<li>add <code>SelectionListener</code></li>\n<li>In <code>SelectionListener</code>, Create a Menu with style <code>SWT.POP_UP</code> and position the menu at the button location.</li>\n</ol>\n\n<p>//code</p>\n\n<pre><code>public static void main(String[] args) {\n        Display display = new Display();\n        final Shell shell = new Shell(display);\n        shell.setSize(300, 200);\n        shell.setText(\"Button Example\");\n        shell.setLayout(new RowLayout());\n\n\n        /**\n         * \n         * Approach1\n         * \n         */\n        final Composite btnCntrl = new Composite(shell, SWT.BORDER);\n        btnCntrl.setBackground(display.getSystemColor(SWT.COLOR_WHITE));\n        btnCntrl.setBackgroundMode(SWT.INHERIT_FORCE);\n        GridLayoutFactory.fillDefaults().numColumns(2).equalWidth(false).spacing(0, 1).applyTo(btnCntrl);\n        CLabel lbl = new CLabel(btnCntrl, SWT.NONE);\n        lbl.setText(\"Animals\");\n        Button btn = new Button(btnCntrl, SWT.FLAT|SWT.ARROW|SWT.DOWN);\n        btn.setLayoutData(new GridData(GridData.FILL_VERTICAL));\n\n        btn.addSelectionListener(new SelectionAdapter() {\n            @Override\n            public void widgetSelected(SelectionEvent e) {\n                super.widgetSelected(e);\n                Menu menu = new Menu(shell, SWT.POP_UP);\n\n                MenuItem item1 = new MenuItem(menu, SWT.PUSH);\n                item1.setText(\"Hare\");\n                MenuItem item2 = new MenuItem(menu, SWT.PUSH);\n                item2.setText(\"Fox\");\n                MenuItem item3 = new MenuItem(menu, SWT.PUSH);\n                item3.setText(\"Pony\");\n\n\n\n                Point loc = btnCntrl.getLocation();\n                Rectangle rect = btnCntrl.getBounds();\n\n                Point mLoc = new Point(loc.x-1, loc.y+rect.height);\n\n                menu.setLocation(shell.getDisplay().map(btnCntrl.getParent(), null, mLoc));\n\n                menu.setVisible(true);\n            }\n        });\n\n\n\n        /***\n         * \n         * \n         * Approach 2\n         * \n         */\n\n\n        final Composite btnCntrl2 = new Composite(shell, SWT.BORDER);\n        btnCntrl2.setBackground(display.getSystemColor(SWT.COLOR_WHITE));\n        btnCntrl2.setBackgroundMode(SWT.INHERIT_FORCE);\n        GridLayoutFactory.fillDefaults().numColumns(2).equalWidth(false).spacing(0, 1).applyTo(btnCntrl2);\n        CLabel lbl2 = new CLabel(btnCntrl2, SWT.NONE);\n        lbl2.setText(\"Animals\");\n        Button btn2 = new Button(btnCntrl2, SWT.FLAT|SWT.ARROW|SWT.DOWN);\n        btn2.setLayoutData(new GridData(GridData.FILL_VERTICAL));\n\n        btn2.addSelectionListener(new SelectionAdapter() {\n            @Override\n            public void widgetSelected(SelectionEvent e) {\n                super.widgetSelected(e);\n                Shell menu = (Shell) btnCntrl2.getData(\"subshell\");\n                if(menu != null &amp;&amp; !menu.isDisposed()){\n                    menu.dispose();\n                }\n                menu = new Shell(shell, SWT.NONE);\n                menu.setLayout(new FillLayout());\n                Table table = new Table(menu, SWT.FULL_SELECTION);\n                table.addListener(SWT.MeasureItem, new Listener() {\n\n                    @Override\n                    public void handleEvent(Event event) {\n                        event.height = 20; //TODO: determine later\n                    }\n                });\n\n                table.addListener(SWT.PaintItem, new Listener() {\n\n                    @Override\n                    public void handleEvent(Event event) {\n                        Rectangle bounds = event.getBounds();\n                        event.gc.setBackground(event.display.getSystemColor(SWT.COLOR_BLUE));\n                        event.gc.drawLine(bounds.x, bounds.y+bounds.height-1, bounds.x+bounds.width, bounds.y+bounds.height-1);\n                    }\n                });\n                TableItem tableItem= new TableItem(table, SWT.NONE);\n                tableItem.setText(0, \"Hare\");\n\n                TableItem tableItem2= new TableItem(table, SWT.NONE);\n                tableItem2.setText(0, \"Pony\" );\n\n                TableItem tableItem3= new TableItem(table, SWT.NONE);\n                tableItem3.setText(0, \"Dog\");\n\n\n                Point loc = btnCntrl2.getLocation();\n                Rectangle rect = btnCntrl2.getBounds();\n\n                Point mLoc = new Point(loc.x, loc.y+rect.height);\n\n                menu.setLocation(shell.getDisplay().map(btnCntrl2.getParent(), null, mLoc));\n                menu.pack();\n                menu.setVisible(true);\n\n                btnCntrl2.setData(\"subshell\", menu);\n\n            }\n        });\n\n        display.addFilter(SWT.MouseDown, new Listener() {\n\n            @Override\n            public void handleEvent(Event event) {\n                Shell shell = (Shell) btnCntrl2.getData(\"subshell\");\n                if(shell != null &amp;&amp; !shell.getBounds().contains(event.display.map((Control)event.widget, null, new Point(event.x, event.y)))){\n                    shell.dispose();\n                    btnCntrl2.setData(\"subshell\", null);\n                }\n            }\n        });\n\n        shell.open();\n        while (!shell.isDisposed()) {\n          if (!display.readAndDispatch())\n            display.sleep();\n        }\n        display.dispose();\n      }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1873009,"reputation":91,"user_id":1694840,"display_name":"Benjamin Wolff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670602073,"creation_date":1670602073,"answer_id":74745563,"question_id":16113313,"body_markdown":"This question is almost 10 years old, but just in case someone is still looking for a solution (like I just did ;) ):\r\n\r\nI achieved a pretty close behaviour of your description using only a `Button` and a `Menu` using this approach: http://eclipseo.blogspot.com/2012/07/show-context-menu-programmatically.html\r\n\r\n```\r\nButton button = new Button(parent, SWT.PUSH);\r\nbutton.setText(&quot;Animals&quot;);\r\n\r\nMenu menu = new Menu(button);\r\nMenuItem item = new MenuItem(menu, SWT.PUSH);\r\nitem.setText(&quot;hare&quot;);\r\n\r\nmenu.addListener(SWT.Show, new Listener() {\r\n    @Override\r\n    public void handleEvent(Event event) {\r\n        menu.setVisible(true);\r\n    }\r\n});\r\n\r\nbutton.addSelectionListener(new SelectionAdapter() {\r\n    @Override\r\n    public void widgetSelected(SelectionEvent e) {\r\n        menu.notifyListeners(SWT.Show, null);\r\n    }\r\n});\r\n```\r\n\r\nThe result is that the menu is shown when you (left) click on the button.\r\n\r\nBonus: to achieve the expand icon at the end, you can add a unicode character for a down triangle in the button text like so:\r\n\r\n```\r\nbutton.setText(&quot;Animals \\u2BC6&quot;);\r\n```\r\n\r\nHTH,\r\nBen","title":"SWT Button Dropdown Control","body":"<p>This question is almost 10 years old, but just in case someone is still looking for a solution (like I just did ;) ):</p>\n<p>I achieved a pretty close behaviour of your description using only a <code>Button</code> and a <code>Menu</code> using this approach: <a href=\"http://eclipseo.blogspot.com/2012/07/show-context-menu-programmatically.html\" rel=\"nofollow noreferrer\">http://eclipseo.blogspot.com/2012/07/show-context-menu-programmatically.html</a></p>\n<pre><code>Button button = new Button(parent, SWT.PUSH);\nbutton.setText(&quot;Animals&quot;);\n\nMenu menu = new Menu(button);\nMenuItem item = new MenuItem(menu, SWT.PUSH);\nitem.setText(&quot;hare&quot;);\n\nmenu.addListener(SWT.Show, new Listener() {\n    @Override\n    public void handleEvent(Event event) {\n        menu.setVisible(true);\n    }\n});\n\nbutton.addSelectionListener(new SelectionAdapter() {\n    @Override\n    public void widgetSelected(SelectionEvent e) {\n        menu.notifyListeners(SWT.Show, null);\n    }\n});\n</code></pre>\n<p>The result is that the menu is shown when you (left) click on the button.</p>\n<p>Bonus: to achieve the expand icon at the end, you can add a unicode character for a down triangle in the button text like so:</p>\n<pre><code>button.setText(&quot;Animals \\u2BC6&quot;);\n</code></pre>\n<p>HTH,\nBen</p>\n"}],"owner":{"account_id":2222816,"reputation":1545,"user_id":1961815,"accept_rate":75,"display_name":"Southpaw Hare"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12050,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1670602073,"creation_date":1366404777,"question_id":16113313,"body_markdown":"Is there a **standard SWT control** that resembles a **button** which **displays an arrow** and **opens a dropdown menu** when pressed and is **not a toolbar-only control**?\r\n\r\nIt would be something like this:\r\n\r\n![enter image description here][1]\r\n\r\nIt is similar to a combo box control, except that the &quot;button&quot; area would act more similarly to an actual button - its text would not change based on your selection, it would appear depressed when clicked, and the items would be used for actions or navigational purposes instead of for selection.  It&#39;s also similar to a control available for toolbars, but I need to use it on a regular composite instead.\r\n\r\nThis is nearly doable simply by using regular button and popup-menu controls - however, I do not believe I can display the arrow next to the text on the button this way.  Anyway, since this kind of control seems fairly common, I assumed there would be a standard way to use these two things as one.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/jbN5f.png","title":"SWT Button Dropdown Control","body":"<p>Is there a <strong>standard SWT control</strong> that resembles a <strong>button</strong> which <strong>displays an arrow</strong> and <strong>opens a dropdown menu</strong> when pressed and is <strong>not a toolbar-only control</strong>?</p>\n\n<p>It would be something like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/jbN5f.png\" alt=\"enter image description here\"></p>\n\n<p>It is similar to a combo box control, except that the \"button\" area would act more similarly to an actual button - its text would not change based on your selection, it would appear depressed when clicked, and the items would be used for actions or navigational purposes instead of for selection.  It's also similar to a control available for toolbars, but I need to use it on a regular composite instead.</p>\n\n<p>This is nearly doable simply by using regular button and popup-menu controls - however, I do not believe I can display the arrow next to the text on the button this way.  Anyway, since this kind of control seems fairly common, I assumed there would be a standard way to use these two things as one.</p>\n"},{"tags":["java","jms","netty"],"comments":[{"owner":{"account_id":1800064,"reputation":4881,"user_id":1638626,"accept_rate":75,"display_name":"Florian"},"score":0,"creation_date":1670576441,"post_id":74733418,"comment_id":131910671,"body_markdown":"Yes, it&#39;s QPID JMS, javax.jms:javax.jms-api:jar:2.0.1 and org.apache.qpid:qpid-jms-client:jar:0.61.0.","body":"Yes, it&#39;s QPID JMS, javax.jms:javax.jms-api:jar:2.0.1 and org.apache.qpid:qpid-jms-client:jar:0.61.0."}],"answers":[{"tags":[],"owner":{"account_id":1800064,"reputation":4881,"user_id":1638626,"accept_rate":75,"display_name":"Florian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670598305,"creation_date":1670598305,"answer_id":74744871,"question_id":74733418,"body_markdown":"We could solve this issue. It was not caused by Netty or JMS at all. Our basis team replaced the garbage collector GC1 in our Virtual Machine with the alternative SerialGC.\r\n\r\nThat garbage collector is much slower in releasing unused memory, hence the stark increase in memory usage. At the same time, a suboptimal configuration caused it to allow memory allocations up to 100%. This left the application zero headroom to deal with recurring side tasks, such that these ran into out of memory situations.\r\n\r\nWe now forced the garbage collector algorithm by running the Java option `-XX:+UseSerialGC`.\r\n\r\nNetty and JMS appear in our Dynatrace chart so prominently because they happen to be the most memory-hungry processes. (Which is okay, because they deal with the main load of the app.) They also hold on to their memory until the messages are sent out, which may mean that their objects survive at least one random garbage collector inspection - hence the slightly misleading classification into the &quot;survivor&quot; space.","title":"What reserves and holds my Java memory when sending out AMQP events from my Spring Boot app?","body":"<p>We could solve this issue. It was not caused by Netty or JMS at all. Our basis team replaced the garbage collector GC1 in our Virtual Machine with the alternative SerialGC.</p>\n<p>That garbage collector is much slower in releasing unused memory, hence the stark increase in memory usage. At the same time, a suboptimal configuration caused it to allow memory allocations up to 100%. This left the application zero headroom to deal with recurring side tasks, such that these ran into out of memory situations.</p>\n<p>We now forced the garbage collector algorithm by running the Java option <code>-XX:+UseSerialGC</code>.</p>\n<p>Netty and JMS appear in our Dynatrace chart so prominently because they happen to be the most memory-hungry processes. (Which is okay, because they deal with the main load of the app.) They also hold on to their memory until the messages are sent out, which may mean that their objects survive at least one random garbage collector inspection - hence the slightly misleading classification into the &quot;survivor&quot; space.</p>\n"}],"owner":{"account_id":1800064,"reputation":4881,"user_id":1638626,"accept_rate":75,"display_name":"Florian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74744871,"answer_count":1,"score":0,"last_activity_date":1670602071,"creation_date":1670516972,"question_id":74733418,"body_markdown":"My Spring Boot application provides some features that perform an action and then send out AMQP events. One of these seems to suffer from a memory leak. Triggering it causes the app&#39;s memory consumption to rise and not come down for several hours.\r\n\r\nI am a bit clueless as to what reserves and holds this memory. My own threads look harmless enough. They do process data (sometimes inefficiently), but they simply pass it on from method to method, without storing it somewhere (object/static attributes).\r\n\r\nMy Dynatrace memory chart looks like this. The hierarchy shows that the leftmost side reserves and holds ~7 GB of main memory (survivor space).\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThere are several entries there that I cannot fathom. I am not aware of actively using Netty, yet it shows up here, so probably an indirect dependency from Spring or JMS. At the bottommost layer, I find things like ByteBufferUtils - does Netty buffer the events I am sending out? Above, I find ByteToMessageDecoder.channelRead - why &quot;read&quot; if I am in a sending process? Further up we find SslHandler.unwrap - SSL is okay, but why should SSL interaction store larger amounts of data?\r\n\r\nCan somebody help shed light on this? Maybe had a similar situation? Or ideas what next steps I could take to analyze this further?\r\n\r\nOur JMS client dependencies are:\r\n - javax.jms:javax.jms-api:jar:2.0.1\r\n - org.apache.qpid:qpid-jms-client:jar:0.61.0\r\n\r\n  [1]: https://i.stack.imgur.com/2hv1n.png","title":"What reserves and holds my Java memory when sending out AMQP events from my Spring Boot app?","body":"<p>My Spring Boot application provides some features that perform an action and then send out AMQP events. One of these seems to suffer from a memory leak. Triggering it causes the app's memory consumption to rise and not come down for several hours.</p>\n<p>I am a bit clueless as to what reserves and holds this memory. My own threads look harmless enough. They do process data (sometimes inefficiently), but they simply pass it on from method to method, without storing it somewhere (object/static attributes).</p>\n<p>My Dynatrace memory chart looks like this. The hierarchy shows that the leftmost side reserves and holds ~7 GB of main memory (survivor space).</p>\n<p><a href=\"https://i.stack.imgur.com/2hv1n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2hv1n.png\" alt=\"enter image description here\" /></a></p>\n<p>There are several entries there that I cannot fathom. I am not aware of actively using Netty, yet it shows up here, so probably an indirect dependency from Spring or JMS. At the bottommost layer, I find things like ByteBufferUtils - does Netty buffer the events I am sending out? Above, I find ByteToMessageDecoder.channelRead - why &quot;read&quot; if I am in a sending process? Further up we find SslHandler.unwrap - SSL is okay, but why should SSL interaction store larger amounts of data?</p>\n<p>Can somebody help shed light on this? Maybe had a similar situation? Or ideas what next steps I could take to analyze this further?</p>\n<p>Our JMS client dependencies are:</p>\n<ul>\n<li>javax.jms:javax.jms-api:jar:2.0.1</li>\n<li>org.apache.qpid:qpid-jms-client:jar:0.61.0</li>\n</ul>\n"},{"tags":["java","audio","java-audio"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670107509,"post_id":74670476,"comment_id":131797503,"body_markdown":"I probably use a scale filter in ffmpeg to scale the whole audio. Then I&#39;d use the same app to splice in the amplified version","body":"I probably use a scale filter in ffmpeg to scale the whole audio. Then I&#39;d use the same app to splice in the amplified version"},{"owner":{"account_id":27128518,"reputation":1,"user_id":20671092,"display_name":"smoovy"},"score":0,"creation_date":1670109783,"post_id":74670476,"comment_id":131797893,"body_markdown":"By ffmpeg are you referring to a program or a library? I installed their GitHub library onto my IDE, however some packages were not found and I couldn&#39;t find any example code to build onto.","body":"By ffmpeg are you referring to a program or a library? I installed their GitHub library onto my IDE, however some packages were not found and I couldn&#39;t find any example code to build onto."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670110849,"post_id":74670476,"comment_id":131798043,"body_markdown":"There&#39;s a Java wrapper as far as I can remember but if you find that problematic you can always use the real thing via `ProcessBuilder`","body":"There&#39;s a Java wrapper as far as I can remember but if you find that problematic you can always use the real thing via <code>ProcessBuilder</code>"},{"owner":{"account_id":27128518,"reputation":1,"user_id":20671092,"display_name":"smoovy"},"score":0,"creation_date":1670157663,"post_id":74670476,"comment_id":131804191,"body_markdown":"@g00se Thanks, will look into that. Yesterday I&#39;ve managed to get cutting a part of the WAV file. I&#39;ve previously found out how to join the two. I just need to get the amplitude part right at this point.","body":"@g00se Thanks, will look into that. Yesterday I&#39;ve managed to get cutting a part of the WAV file. I&#39;ve previously found out how to join the two. I just need to get the amplitude part right at this point."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670161084,"post_id":74670476,"comment_id":131805805,"body_markdown":"It&#39;s not inconceivable that you can configure the filter to just scale part of the file, such that you don&#39;t need to do any splicing","body":"It&#39;s not inconceivable that you can configure the filter to just scale part of the file, such that you don&#39;t need to do any splicing"},{"owner":{"account_id":27128518,"reputation":1,"user_id":20671092,"display_name":"smoovy"},"score":0,"creation_date":1670161476,"post_id":74670476,"comment_id":131805881,"body_markdown":"@g00se that&#39;s also true, I guess I can implement something like that as well. So far what I&#39;ve tried to change the amplitude in half is two covert the bytes into a double array, half the value of each double and then cast it back to a byte array. It had an output, but it basically worked like an audio limiter and then add a bunch of noise as well.","body":"@g00se that&#39;s also true, I guess I can implement something like that as well. So far what I&#39;ve tried to change the amplitude in half is two covert the bytes into a double array, half the value of each double and then cast it back to a byte array. It had an output, but it basically worked like an audio limiter and then add a bunch of noise as well."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670171281,"post_id":74670476,"comment_id":131808092,"body_markdown":"After a great deal of googling and experimentation, I came up with `ffmpeg -i a440.wav -af &quot;volume=0.1:enable=&#39;between(t,2,8)&#39;&quot; a2.wav` Scale the volume down by a factor of 10 in the time region between 2 and 8 seconds","body":"After a great deal of googling and experimentation, I came up with <code>ffmpeg -i a440.wav -af &quot;volume=0.1:enable=&#39;between(t,2,8)&#39;&quot; a2.wav</code> Scale the volume down by a factor of 10 in the time region between 2 and 8 seconds"},{"owner":{"account_id":27128518,"reputation":1,"user_id":20671092,"display_name":"smoovy"},"score":0,"creation_date":1670181703,"post_id":74670476,"comment_id":131810619,"body_markdown":"@g00se Do you do this in the command line or is it that in another programming language? I don&#39;t recognize that syntax","body":"@g00se Do you do this in the command line or is it that in another programming language? I don&#39;t recognize that syntax"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670186153,"post_id":74670476,"comment_id":131811590,"body_markdown":"Command line, yes","body":"Command line, yes"},{"owner":{"account_id":27128518,"reputation":1,"user_id":20671092,"display_name":"smoovy"},"score":0,"creation_date":1670276047,"post_id":74670476,"comment_id":131834714,"body_markdown":"@g00se I took a look around it, it looks like it&#39;s quite an exhaustive library, just not sure how to use it. Hopefully I can figure it out, might take a bit of browsing through it.","body":"@g00se I took a look around it, it looks like it&#39;s quite an exhaustive library, just not sure how to use it. Hopefully I can figure it out, might take a bit of browsing through it."}],"answers":[{"tags":[],"owner":{"account_id":27128518,"reputation":1,"user_id":20671092,"display_name":"smoovy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670602049,"creation_date":1670548938,"answer_id":74737992,"question_id":74670476,"body_markdown":"**Cut the wave file:**\r\n\r\n    double [] music = read(&quot;music.wav&quot;);\r\n    \r\n    int start = 792478*2;\r\n    int end = 1118153*2;\r\n    \r\n    double [] cutMusic = new double [end-start];\r\n    \r\n    for(int i = start; i &lt; end; i++)\r\n    {\r\n        cutMusic [i-start] = music[i];\r\n    }\r\n    \r\n    save(&quot;cutMusic.wav&quot;, cutMusic); //from StdAudio library\r\n\r\n**Change the volume/amplitude:**\r\n\r\n    int multiplier = 0.5; //how much you want to change the volume by\r\n\r\n    for(int i = 0; i &lt; cutMusic.length;i++)\r\n    {\r\n        cutMusic[i] = multiplier * cutMusic[i];\r\n    }\r\n\r\n**Save the audio to a new wav file:**\r\n\r\n    save(&quot;cutmusic.wav&quot;), cutMusic); //from the StdAudio library\r\n    //converts the double array to a byte array\r\n\r\n**Join the two files:**\r\n\r\n    ArrayList &lt;File&gt; joined = new ArrayList&lt;&gt;();\r\n    \r\n    joined.add(new File(&quot;music.wav&quot;));\r\n    joined.add(new File(&quot;cutMusic.wav&quot;));\r\n\r\n    AudioFormat format = new AudioFormat(\r\n    \r\n                    /*AudioFormat.Encoding*/AudioFormat.Encoding.PCM_SIGNED\r\n                    /*float sampleRate*/, sampleRate\r\n                    /*int sampleSizeInBits*/, 16\r\n                    /*int channels*/, 2\r\n                    /*int frameSize*/, 4\r\n                    /*float frameRate*/, 44100,\r\n                    /*boolean bigEndian*/false\r\n\r\n    joinAudioFiles(format, joined, new File(&quot;joined.wav&quot;)); \r\n    //method needed is below\r\n\r\n    public static void joinAudioFiles(AudioFormat audioFormat,\r\n                                          java.util.List&lt;File&gt; audioFiles, File output) throws IOException,\r\n                UnsupportedAudioFileException {\r\n            output.getParentFile().mkdirs();\r\n            output.delete();\r\n            output.createNewFile();\r\n    \r\n            List&lt;AudioInputStream&gt; audioInputStreams = new ArrayList&lt;AudioInputStream&gt;();\r\n            long totalFrameLength = 0;\r\n            for (File audioFile : audioFiles) {\r\n                AudioInputStream fileAudioInputStream = AudioSystem\r\n                        .getAudioInputStream(audioFile);\r\n                audioInputStreams.add(fileAudioInputStream);\r\n                totalFrameLength += fileAudioInputStream.getFrameLength();\r\n            }\r\n    \r\n            AudioInputStream sequenceInputStream = new AudioInputStream(\r\n                    new SequenceInputStream(\r\n                            Collections.enumeration(audioInputStreams)),\r\n                    audioFormat, totalFrameLength);\r\n            AudioSystem.write(sequenceInputStream, AudioFileFormat.Type.WAVE,\r\n                    output);\r\n        }","title":"How do I take a WAV recording and change the amplitude of a part of it in Java?","body":"<p><strong>Cut the wave file:</strong></p>\n<pre><code>double [] music = read(&quot;music.wav&quot;);\n\nint start = 792478*2;\nint end = 1118153*2;\n\ndouble [] cutMusic = new double [end-start];\n\nfor(int i = start; i &lt; end; i++)\n{\n    cutMusic [i-start] = music[i];\n}\n\nsave(&quot;cutMusic.wav&quot;, cutMusic); //from StdAudio library\n</code></pre>\n<p><strong>Change the volume/amplitude:</strong></p>\n<pre><code>int multiplier = 0.5; //how much you want to change the volume by\n\nfor(int i = 0; i &lt; cutMusic.length;i++)\n{\n    cutMusic[i] = multiplier * cutMusic[i];\n}\n</code></pre>\n<p><strong>Save the audio to a new wav file:</strong></p>\n<pre><code>save(&quot;cutmusic.wav&quot;), cutMusic); //from the StdAudio library\n//converts the double array to a byte array\n</code></pre>\n<p><strong>Join the two files:</strong></p>\n<pre><code>ArrayList &lt;File&gt; joined = new ArrayList&lt;&gt;();\n\njoined.add(new File(&quot;music.wav&quot;));\njoined.add(new File(&quot;cutMusic.wav&quot;));\n\nAudioFormat format = new AudioFormat(\n\n                /*AudioFormat.Encoding*/AudioFormat.Encoding.PCM_SIGNED\n                /*float sampleRate*/, sampleRate\n                /*int sampleSizeInBits*/, 16\n                /*int channels*/, 2\n                /*int frameSize*/, 4\n                /*float frameRate*/, 44100,\n                /*boolean bigEndian*/false\n\njoinAudioFiles(format, joined, new File(&quot;joined.wav&quot;)); \n//method needed is below\n\npublic static void joinAudioFiles(AudioFormat audioFormat,\n                                      java.util.List&lt;File&gt; audioFiles, File output) throws IOException,\n            UnsupportedAudioFileException {\n        output.getParentFile().mkdirs();\n        output.delete();\n        output.createNewFile();\n\n        List&lt;AudioInputStream&gt; audioInputStreams = new ArrayList&lt;AudioInputStream&gt;();\n        long totalFrameLength = 0;\n        for (File audioFile : audioFiles) {\n            AudioInputStream fileAudioInputStream = AudioSystem\n                    .getAudioInputStream(audioFile);\n            audioInputStreams.add(fileAudioInputStream);\n            totalFrameLength += fileAudioInputStream.getFrameLength();\n        }\n\n        AudioInputStream sequenceInputStream = new AudioInputStream(\n                new SequenceInputStream(\n                        Collections.enumeration(audioInputStreams)),\n                audioFormat, totalFrameLength);\n        AudioSystem.write(sequenceInputStream, AudioFileFormat.Type.WAVE,\n                output);\n    }\n</code></pre>\n"}],"owner":{"account_id":27128518,"reputation":1,"user_id":20671092,"display_name":"smoovy"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74737992,"answer_count":1,"score":-1,"last_activity_date":1670602049,"creation_date":1670099591,"question_id":74670476,"body_markdown":"Imagine having a recording of something saying &quot;Hi there&quot;\r\n\r\nI&#39;d like to chop/slice the WAV file between &quot;Hi&quot; and &quot;there&quot;\r\n\r\nAt this point, the &quot;Hi&quot; would be on one WAV file and the &quot;there&quot; on another wav file .e.g\r\n\r\nhi.wav\r\nthere.wav\r\n\r\nFrom there, I&#39;d like to change the volume/amplitude of the &quot;there.wav&quot; file.\r\n\r\nLastly, I&#39;d like to merge the two wave files into:\r\n\r\nhi_there.wav\r\n\r\nThink of this as an audio editor, once finishing editing the audio, you would be able to save the edited audio as a brand new audio clip.","title":"How do I take a WAV recording and change the amplitude of a part of it in Java?","body":"<p>Imagine having a recording of something saying &quot;Hi there&quot;</p>\n<p>I'd like to chop/slice the WAV file between &quot;Hi&quot; and &quot;there&quot;</p>\n<p>At this point, the &quot;Hi&quot; would be on one WAV file and the &quot;there&quot; on another wav file .e.g</p>\n<p>hi.wav\nthere.wav</p>\n<p>From there, I'd like to change the volume/amplitude of the &quot;there.wav&quot; file.</p>\n<p>Lastly, I'd like to merge the two wave files into:</p>\n<p>hi_there.wav</p>\n<p>Think of this as an audio editor, once finishing editing the audio, you would be able to save the edited audio as a brand new audio clip.</p>\n"},{"tags":["java","validation","while-loop","directory","path"],"comments":[{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1670600489,"post_id":74745237,"comment_id":131918172,"body_markdown":"You must at least recompute `exists` after reading a new line...","body":"You must at least recompute <code>exists</code> after reading a new line..."}],"answers":[{"tags":[],"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670601865,"creation_date":1670601865,"answer_id":74745520,"question_id":74745237,"body_markdown":"use `do while loop`, do at least once, then while check exit do while loop or contine do next loop.\r\n\r\n\r\n    import java.util.Scanner;\r\n    import java.io.File;\r\n    public class JavaProject {\r\n        public static void main(String[] args){\r\n            boolean isExistingDir = false;\r\n       do {\r\n           System.out.println(&quot;Give me the path of the folder&quot;);\r\n           Scanner input = new Scanner(System.in);\r\n           String dirName = input.nextLine();\r\n           System.out.println(&quot;&gt;&gt;&quot; + dirName);\r\n           File f =new File(dirName);\r\n           if (f.exists()==true) {\r\n               isExistingDir=true;\r\n               System.out.println(&quot;EXISTING &gt;&gt;&quot; + dirName);\r\n           } else {\r\n               System.out.println(&quot;NOT EXISTING &gt;&gt;&quot; + dirName);\r\n               System.out.println(&quot;PLEASE INPUT A EXISTING AGAIN&quot;);\r\n           }\r\n          } while (!isExistingDir);\r\n       } //main\r\n    }\r\n\r\n","title":"Ckecking if a folder from the input exists and asking to type again in java","body":"<p>use <code>do while loop</code>, do at least once, then while check exit do while loop or contine do next loop.</p>\n<pre><code>import java.util.Scanner;\nimport java.io.File;\npublic class JavaProject {\n    public static void main(String[] args){\n        boolean isExistingDir = false;\n   do {\n       System.out.println(&quot;Give me the path of the folder&quot;);\n       Scanner input = new Scanner(System.in);\n       String dirName = input.nextLine();\n       System.out.println(&quot;&gt;&gt;&quot; + dirName);\n       File f =new File(dirName);\n       if (f.exists()==true) {\n           isExistingDir=true;\n           System.out.println(&quot;EXISTING &gt;&gt;&quot; + dirName);\n       } else {\n           System.out.println(&quot;NOT EXISTING &gt;&gt;&quot; + dirName);\n           System.out.println(&quot;PLEASE INPUT A EXISTING AGAIN&quot;);\n       }\n      } while (!isExistingDir);\n   } //main\n}\n</code></pre>\n"}],"owner":{"account_id":25506120,"reputation":13,"user_id":19298558,"display_name":"Lian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74745520,"answer_count":1,"score":0,"last_activity_date":1670601865,"creation_date":1670600288,"question_id":74745237,"body_markdown":"I am trying to read a folder path from the user and check if exists or not.If it does not exist I want to ask from the user to type the path again using a while loop .The problem is that even if the user types a correct path my program asks to type again .I am preety sure that the solution is easy and that the problem is in the loop but I can not see it. Please help me because I am a new programmer in Java.\r\n\r\n\r\n\r\n\r\n```\r\n\r\npublic class JavaProject {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        \r\n        \r\n        //Taking the name of the folder from the user\r\n        System.out.println(&quot;Give me the path of the folder&quot;);\r\n        Scanner fold =new Scanner(System.in);\r\n        String folderName= fold.nextLine();\r\n        File f= new File(folderName);\r\n        \r\n        //Check if the file exists\r\n        \r\n        \r\n        boolean exists = f.exists();\r\n        boolean folderIsValid=true;\r\n        \r\n        while(folderIsValid){\r\n         \r\n         \r\n         if(!exists){\r\n            \r\n            \r\n            System.out.println(&quot;The folder you are searching does not exist :&quot; +exists);\r\n            System.out.println(&quot;Try again!&quot;);\r\n            folderName= fold.nextLine();\r\n            \r\n            \r\n         }else{\r\n            System.out.println(&quot;The folder you are searching exists :&quot; +exists);\r\n            folderIsValid=false;\r\n         }  \r\n            \r\n        }\r\n  }   \r\n}\r\n```\r\n\r\n","title":"Ckecking if a folder from the input exists and asking to type again in java","body":"<p>I am trying to read a folder path from the user and check if exists or not.If it does not exist I want to ask from the user to type the path again using a while loop .The problem is that even if the user types a correct path my program asks to type again .I am preety sure that the solution is easy and that the problem is in the loop but I can not see it. Please help me because I am a new programmer in Java.</p>\n<pre><code>\npublic class JavaProject {\n\n    public static void main(String[] args) throws IOException {\n        \n        \n        //Taking the name of the folder from the user\n        System.out.println(&quot;Give me the path of the folder&quot;);\n        Scanner fold =new Scanner(System.in);\n        String folderName= fold.nextLine();\n        File f= new File(folderName);\n        \n        //Check if the file exists\n        \n        \n        boolean exists = f.exists();\n        boolean folderIsValid=true;\n        \n        while(folderIsValid){\n         \n         \n         if(!exists){\n            \n            \n            System.out.println(&quot;The folder you are searching does not exist :&quot; +exists);\n            System.out.println(&quot;Try again!&quot;);\n            folderName= fold.nextLine();\n            \n            \n         }else{\n            System.out.println(&quot;The folder you are searching exists :&quot; +exists);\n            folderIsValid=false;\n         }  \n            \n        }\n  }   \n}\n</code></pre>\n"},{"tags":["java","kotlin","jackson"],"answers":[{"tags":[],"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670289064,"creation_date":1670289064,"answer_id":74696173,"question_id":74691842,"body_markdown":"`readerForUpdating(obj)` only promises to use the root object you pass\r\n\r\n&gt; Deserialization occurs normally except that the root-level value in JSON is not used for instantiating a new object; instead give updateable object is used as root\r\n\r\nwhereas `fieldTypeA.valueA` is an inner object.\r\n\r\nIt works on a shallow object:\r\n```\r\nval existingModel = FieldTypeA(valueA = &quot;A&quot;)\r\nprintln(existingModel)\r\nval readerForUpdating: ObjectReader = MAPPER.readerForUpdating(existingModel)\r\nval jsonRequest = &quot;{\\&quot;valueB\\&quot;:\\&quot;I am value B\\&quot;}&quot;\r\nval updatedRequest: FieldTypeA = readerForUpdating.readValue(jsonRequest)\r\nprintln(updatedRequest)\r\n```\r\nproduces\r\n```\r\nFieldTypeA(valueA=A, valueB=null)\r\nFieldTypeA(valueA=A, valueB=I am value B)\r\n```\r\n\r\nIt&#39;s hard to see how you could develop a feature like `readerForUpdating()` which would know which fields to adjust in a deep object graph.  If the incoming object&#39;s object&#39;s field had a value, should that indicate an overwrite? but not if they come as nulls?\r\n\r\nIf I had to do this way myself, I might approach it this way:\r\n\r\n1. read the incoming JSON into a traditional JSONObject then walk the keys and set the properties on the target object\r\n2. For setting properties you could use old school [Apache Commons BeanUtils][1] tool, but I am not sure that that is maintained and it has had some vulnerabilities issues, so you could look at [Spring&#39;s BeanWrapperImpl][2]\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-beanutils/javadocs/v1.9.4/apidocs/index.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/BeanWrapperImpl.html","title":"How to stop Jackson ObjectReader overwriting existing data","body":"<p><code>readerForUpdating(obj)</code> only promises to use the root object you pass</p>\n<blockquote>\n<p>Deserialization occurs normally except that the root-level value in JSON is not used for instantiating a new object; instead give updateable object is used as root</p>\n</blockquote>\n<p>whereas <code>fieldTypeA.valueA</code> is an inner object.</p>\n<p>It works on a shallow object:</p>\n<pre><code>val existingModel = FieldTypeA(valueA = &quot;A&quot;)\nprintln(existingModel)\nval readerForUpdating: ObjectReader = MAPPER.readerForUpdating(existingModel)\nval jsonRequest = &quot;{\\&quot;valueB\\&quot;:\\&quot;I am value B\\&quot;}&quot;\nval updatedRequest: FieldTypeA = readerForUpdating.readValue(jsonRequest)\nprintln(updatedRequest)\n</code></pre>\n<p>produces</p>\n<pre><code>FieldTypeA(valueA=A, valueB=null)\nFieldTypeA(valueA=A, valueB=I am value B)\n</code></pre>\n<p>It's hard to see how you could develop a feature like <code>readerForUpdating()</code> which would know which fields to adjust in a deep object graph.  If the incoming object's object's field had a value, should that indicate an overwrite? but not if they come as nulls?</p>\n<p>If I had to do this way myself, I might approach it this way:</p>\n<ol>\n<li>read the incoming JSON into a traditional JSONObject then walk the keys and set the properties on the target object</li>\n<li>For setting properties you could use old school <a href=\"https://commons.apache.org/proper/commons-beanutils/javadocs/v1.9.4/apidocs/index.html\" rel=\"nofollow noreferrer\">Apache Commons BeanUtils</a> tool, but I am not sure that that is maintained and it has had some vulnerabilities issues, so you could look at <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/BeanWrapperImpl.html\" rel=\"nofollow noreferrer\">Spring's BeanWrapperImpl</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1064665,"reputation":1633,"user_id":1065547,"accept_rate":54,"display_name":"maloney"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670601862,"creation_date":1670601862,"answer_id":74745518,"question_id":74691842,"body_markdown":"I&#39;ve fixed my own problem in the following way, in case it helps someone in the future.\r\n\r\nThere was a new feature introduced in [Jackson 2.9][1] which allows deep merging. To do this, the relevant property needs to be tagged with `@JsonMerge`.\r\n\r\nSo in my example question above, the `Model` object would be changed like this: \r\n\r\n    import com.fasterxml.jackson.annotation.JsonMerge\r\n\r\n    data class Model(\r\n      @JsonMerge\r\n      val fieldTypeA: FieldTypeA? = null,\r\n    )\r\n\r\nThis means if the original object contains a field with a value, it does not get overwritten to `null` when the new json comes in.\r\n\r\n\r\n  [1]: https://www.logicbig.com/tutorials/misc/jackson/json-merge-annotation.html","title":"How to stop Jackson ObjectReader overwriting existing data","body":"<p>I've fixed my own problem in the following way, in case it helps someone in the future.</p>\n<p>There was a new feature introduced in <a href=\"https://www.logicbig.com/tutorials/misc/jackson/json-merge-annotation.html\" rel=\"nofollow noreferrer\">Jackson 2.9</a> which allows deep merging. To do this, the relevant property needs to be tagged with <code>@JsonMerge</code>.</p>\n<p>So in my example question above, the <code>Model</code> object would be changed like this:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonMerge\n\ndata class Model(\n  @JsonMerge\n  val fieldTypeA: FieldTypeA? = null,\n)\n</code></pre>\n<p>This means if the original object contains a field with a value, it does not get overwritten to <code>null</code> when the new json comes in.</p>\n"}],"owner":{"account_id":1064665,"reputation":1633,"user_id":1065547,"accept_rate":54,"display_name":"maloney"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74745518,"answer_count":2,"score":0,"last_activity_date":1670601862,"creation_date":1670259937,"question_id":74691842,"body_markdown":"We have a Jackson ObjectReader that is overwriting any original data if it is missing from the json update request. \r\n\r\nThis is what the data structure looks like:\r\n\r\n    data class Model(\r\n      val fieldTypeA: FieldTypeA? = null,\r\n    )\r\n\r\n    data class FieldTypeA(\r\n      val valueA: String? = null,\r\n      val valueB: String? = null,\r\n    )\r\n\r\nWe then read an existing value from a database so that `fieldTypeA.valueA = &quot;Test&quot;`\r\n\r\n    val existingModel = repository.findById(id).getOrNull()\r\n\r\nThen this line reads the existing data into an ObjectReader:\r\n\r\n    val readerForUpdating: ObjectReader = CustomMapper.readerForUpdating(existingEntity)\r\n\r\nThis is where the problem occurs. The `readValue` overwrites the `fieldTypeA.valueA` after this line is executed with a `jsonRequest`: \r\n\r\n    val updatedRequest: Model = readerForUpdating.readValue(jsonRequest)\r\n\r\n`jsonRequest`:\r\n\r\n    {&quot;fieldTypeA&quot;:{&quot;valueB&quot;:&quot;I am value B&quot;}}\r\n\r\nThe `existingEntity` object now only contains `fieldTypeA.valueB`, with `fieldTypeA.valueA` getting overwritten with `null`. \r\n\r\nIs there a way to tell Jackson not to overwrite when a value is missing from the JSON?\r\n","title":"How to stop Jackson ObjectReader overwriting existing data","body":"<p>We have a Jackson ObjectReader that is overwriting any original data if it is missing from the json update request.</p>\n<p>This is what the data structure looks like:</p>\n<pre><code>data class Model(\n  val fieldTypeA: FieldTypeA? = null,\n)\n\ndata class FieldTypeA(\n  val valueA: String? = null,\n  val valueB: String? = null,\n)\n</code></pre>\n<p>We then read an existing value from a database so that <code>fieldTypeA.valueA = &quot;Test&quot;</code></p>\n<pre><code>val existingModel = repository.findById(id).getOrNull()\n</code></pre>\n<p>Then this line reads the existing data into an ObjectReader:</p>\n<pre><code>val readerForUpdating: ObjectReader = CustomMapper.readerForUpdating(existingEntity)\n</code></pre>\n<p>This is where the problem occurs. The <code>readValue</code> overwrites the <code>fieldTypeA.valueA</code> after this line is executed with a <code>jsonRequest</code>:</p>\n<pre><code>val updatedRequest: Model = readerForUpdating.readValue(jsonRequest)\n</code></pre>\n<p><code>jsonRequest</code>:</p>\n<pre><code>{&quot;fieldTypeA&quot;:{&quot;valueB&quot;:&quot;I am value B&quot;}}\n</code></pre>\n<p>The <code>existingEntity</code> object now only contains <code>fieldTypeA.valueB</code>, with <code>fieldTypeA.valueA</code> getting overwritten with <code>null</code>.</p>\n<p>Is there a way to tell Jackson not to overwrite when a value is missing from the JSON?</p>\n"},{"tags":["java","jboss","wildfly","quarkus","activemq-artemis"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1670519241,"post_id":74731136,"comment_id":131898782,"body_markdown":"Can you check the consumer-count of the `prices` queue once you create your consumer? Also, can you check the message-count after you send the message?","body":"Can you check the consumer-count of the <code>prices</code> queue once you create your consumer? Also, can you check the message-count after you send the message?"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1670520045,"post_id":74731136,"comment_id":131899044,"body_markdown":"Have you tried adding `?httpUpgradeEnabled=true` to the URL configured in Quarkus&#39; `application.properties`?","body":"Have you tried adding <code>?httpUpgradeEnabled=true</code> to the URL configured in Quarkus&#39; <code>application.properties</code>?"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1670520115,"post_id":74731136,"comment_id":131899071,"body_markdown":"Why do you suspect the problem is with the user and not something else?","body":"Why do you suspect the problem is with the user and not something else?"},{"owner":{"account_id":27181605,"reputation":3,"user_id":20716778,"display_name":"Benny Dict"},"score":0,"creation_date":1670582603,"post_id":74731136,"comment_id":131912521,"body_markdown":"@JustinBertram Hi, i&#39;ve updated my question with answers to your questions.","body":"@JustinBertram Hi, i&#39;ve updated my question with answers to your questions."}],"owner":{"account_id":27181605,"reputation":3,"user_id":20716778,"display_name":"Benny Dict"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670601815,"creation_date":1670506763,"question_id":74731136,"body_markdown":"I have a WildFly application with an embedded ActiveMQ Artemis and I can&#39;t seem to figure how to debug it. It seems to connect fine since I&#39;m getting no errors in the log, but I&#39;m unable to read any queues. There is no error but nothing is happening.\r\n\r\nI&#39;m running the Quarkus JMS client 1.03 which is using org.apache.activemq &#187; artemis-jms-client 2.19. The server is running WildFly 26.1 with the embedded ActiveMQ Artemis server 2.19.1 so the client and server should be compatible. However, I&#39;m not sure if I&#39;ve configured it correctly. I&#39;m using the `standalone-full.xml`.\r\n\r\nFor testing I&#39;ve added a user `test1`:\r\n```bash\r\nbash-4.4$ ./add-user.sh\r\n\r\nWhat type of user do you wish to add?\r\n a) Management User (mgmt-users.properties)\r\n b) Application User (application-users.properties)\r\n(a): b\r\n\r\nEnter the details of the new user to add.\r\nUsing realm &#39;ApplicationRealm&#39; as discovered from the existing property files.\r\nUsername : test1\r\nPassword recommendations are listed below. To modify these restrictions edit the add-user.properties configuration file.\r\n - The password should be different from the username\r\n - The password should not be one of the following restricted values {root, admin, administrator}\r\n - The password should contain at least 8 characters, 1 alphabetic character(s), 1 digit(s), 1 non-alphanumeric symbol(s)\r\nPassword :\r\nWFLYDM0098: The password should be different from the username\r\nAre you sure you want to use the password entered yes/no? yes\r\nRe-enter Password :\r\nWhat groups do you want this user to belong to? (Please enter a comma separated list, or leave blank for none)[  ]: guest\r\nAbout to add user &#39;test1&#39; for realm &#39;ApplicationRealm&#39;\r\nIs this correct yes/no? yes\r\nIs this new user going to be used for one AS process to connect to another AS process?\r\ne.g. for a slave host controller connecting to the master or for a Remoting connection for server to server Jakarta Enterprise Beans calls.\r\nyes/no? yes\r\nTo represent the user add the following to the server-identities definition &lt;secret value=&quot;dGVzdDE=&quot; /&gt;\r\n```\r\nThis is the log for creating that user. In my `standalone-full.xml` I have the role guest for ActiveMQ Artemis and the queue `prices` set up:\r\n```xml\r\n&lt;subsystem xmlns=&quot;urn:jboss:domain:messaging-activemq:13.1&quot;&gt;\r\n    &lt;server name=&quot;default&quot;&gt;\r\n        ...\r\n        &lt;security-setting name=&quot;#&quot;&gt;\r\n            &lt;role name=&quot;guest&quot; send=&quot;true&quot; consume=&quot;true&quot; create-non-durable-queue=&quot;true&quot; delete-non-durable-queue=&quot;true&quot;/&gt;\r\n        &lt;/security-setting&gt;\r\n        ...\r\n        &lt;address-setting name=&quot;jms.queue.prices&quot; expiry-address=&quot;jms.queue.ExpiryQueue&quot; redelivery-delay=&quot;1000&quot; max-delivery-attempts=&quot;0&quot;/&gt;\r\n        ...\r\n        &lt;jms-queue name=&quot;prices&quot; entries=&quot;java:/jms/queue/prices&quot; durable=&quot;true&quot;/&gt;\r\n        ...\r\n    &lt;/server&gt;\r\n&lt;/subsystem&gt;\r\n```\r\nMy Quarkus client tries to connect with the following:\r\n```\r\nquarkus.artemis.url=tcp://localhost:8080\r\nquarkus.artemis.username=test1\r\nquarkus.artemis.password=test1\r\n```\r\nIt has a consumer:\r\n```java\r\n    @Override\r\n    public void run() {\r\n        try (JMSContext context = connectionFactory.createContext(JMSContext.AUTO_ACKNOWLEDGE)) {\r\n            JMSConsumer consumer = context.createConsumer(context.createQueue(&quot;prices&quot;));\r\n            while (true) {\r\n                Message message = consumer.receive();\r\n                if (message == null) {\r\n                    // receive returns `null` if the JMSConsumer is closed\r\n                    return;\r\n                }\r\n                lastPrice = message.getBody(String.class);\r\n            }\r\n        } catch (JMSException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```\r\nand a producer:\r\n```java\r\n    @Override\r\n    public void run() {\r\n        try (JMSContext context = connectionFactory.createContext(JMSContext.AUTO_ACKNOWLEDGE)) {\r\n            context.createProducer().send(context.createQueue(&quot;prices&quot;), Integer.toString(random.nextInt(100)));\r\n        }\r\n    }\r\n```\r\nIt seem to connect just fine. I can see in the Quarkus log:\r\n```\r\n2022-12-08 14:29:59,596 DEBUG [org.apa.act.art.cor.cli.imp.ClientSessionFactoryImpl] (pool-10-thread-1) Trying reconnection attempt 0/1\r\n2022-12-08 14:29:59,596 DEBUG [org.apa.act.art.cor.cli.imp.ClientSessionFactoryImpl] (pool-10-thread-1) Trying to connect with connectorFactory=org.apache.activemq.artemis.core.remoting.impl.netty.NettyConnectorFactory@6096907d and currentConnectorConfig: TransportConfiguration(name=null, factory=org-apache-activemq-artemis-core-remoting-impl-netty-NettyConnectorFactory) ?port=8080&amp;host=localhost\r\n2022-12-08 14:29:59,596 DEBUG [org.apa.act.art.cor.rem.imp.net.NettyConnector] (pool-10-thread-1) Connector NettyConnector [host=localhost, port=8080, httpEnabled=false, httpUpgradeEnabled=false, useServlet=false, servletPath=/messaging/ActiveMQServlet, sslEnabled=false, useNio=true] using native epoll\r\n2022-12-08 14:29:59,596 DEBUG [org.apa.act.art.cor.client] (pool-10-thread-1) AMQ211002: Started EPOLL Netty Connector version 4.1.82.Final to localhost:8080\r\n2022-12-08 14:29:59,597 DEBUG [org.apa.act.art.cor.rem.imp.net.NettyConnector] (pool-10-thread-1) Remote destination: localhost/127.0.0.1:8080\r\n2022-12-08 14:29:59,598 DEBUG [org.apa.act.art.cor.rem.imp.net.NettyConnector] (Thread-1 (ActiveMQ-client-netty-threads)) Added ActiveMQClientChannelHandler to Channel with id = 6339db8b \r\n2022-12-08 14:29:59,598 DEBUG [org.apa.act.art.cor.cli.imp.ClientSessionFactoryImpl] (pool-10-thread-1) Connected with the currentConnectorConfig=TransportConfiguration(name=null, factory=org-apache-activemq-artemis-core-remoting-impl-netty-NettyConnectorFactory) ?port=8080&amp;host=localhost\r\n2022-12-08 14:29:59,599 DEBUG [org.apa.act.art.cor.cli.imp.ClientSessionFactoryImpl] (pool-10-thread-1) Reconnection successful\r\n```\r\nSo it seems to be working fine, but I can&#39;t seem to send or consume from the queue.\r\n\r\n# Answers to Justin questions in the comments\r\n\r\n## Have you tried adding `?httpUpgradeEnabled=true`\r\nyes no change\r\n\r\n`quarkus.artemis.url=tcp://localhost:8080?httpUpgradeEnabled=true`\r\n\r\n## Can you check the consumer-count\r\nActually there does not even seem to be a session active. I tried to close the connection for my test user but it shown me a dialog &quot;no connection for that user&quot; So maybe it&#39;s not even connecting as I thought\r\n\r\n## Why do you suspect the problem is with the user\r\nI thought it might have something to do with some permission error. I was not sure if I was suppost to add the user to the &quot;guest&quot; group or not\r\n\r\nBut since I have in my config\r\n```xml\r\n        &lt;security-setting name=&quot;#&quot;&gt;\r\n            &lt;role name=&quot;guest&quot; send=&quot;true&quot; consume=&quot;true&quot; create-non-durable-queue=&quot;true&quot; delete-non-durable-queue=&quot;true&quot;/&gt;\r\n        &lt;/security-setting&gt;\r\n```\r\n\r\nEDIT2. Actually I see now in the log that quarkus seems to be missing permission for creating a consumer. So i guess &quot;guest&quot; role is not the correct one.\r\n\r\nI assume that was corrected","title":"How can I add a user that can connect to ActiveMQ Artemis in WildFly via Quarkus JMS?","body":"<p>I have a WildFly application with an embedded ActiveMQ Artemis and I can't seem to figure how to debug it. It seems to connect fine since I'm getting no errors in the log, but I'm unable to read any queues. There is no error but nothing is happening.</p>\n<p>I'm running the Quarkus JMS client 1.03 which is using org.apache.activemq » artemis-jms-client 2.19. The server is running WildFly 26.1 with the embedded ActiveMQ Artemis server 2.19.1 so the client and server should be compatible. However, I'm not sure if I've configured it correctly. I'm using the <code>standalone-full.xml</code>.</p>\n<p>For testing I've added a user <code>test1</code>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>bash-4.4$ ./add-user.sh\n\nWhat type of user do you wish to add?\n a) Management User (mgmt-users.properties)\n b) Application User (application-users.properties)\n(a): b\n\nEnter the details of the new user to add.\nUsing realm 'ApplicationRealm' as discovered from the existing property files.\nUsername : test1\nPassword recommendations are listed below. To modify these restrictions edit the add-user.properties configuration file.\n - The password should be different from the username\n - The password should not be one of the following restricted values {root, admin, administrator}\n - The password should contain at least 8 characters, 1 alphabetic character(s), 1 digit(s), 1 non-alphanumeric symbol(s)\nPassword :\nWFLYDM0098: The password should be different from the username\nAre you sure you want to use the password entered yes/no? yes\nRe-enter Password :\nWhat groups do you want this user to belong to? (Please enter a comma separated list, or leave blank for none)[  ]: guest\nAbout to add user 'test1' for realm 'ApplicationRealm'\nIs this correct yes/no? yes\nIs this new user going to be used for one AS process to connect to another AS process?\ne.g. for a slave host controller connecting to the master or for a Remoting connection for server to server Jakarta Enterprise Beans calls.\nyes/no? yes\nTo represent the user add the following to the server-identities definition &lt;secret value=&quot;dGVzdDE=&quot; /&gt;\n</code></pre>\n<p>This is the log for creating that user. In my <code>standalone-full.xml</code> I have the role guest for ActiveMQ Artemis and the queue <code>prices</code> set up:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;subsystem xmlns=&quot;urn:jboss:domain:messaging-activemq:13.1&quot;&gt;\n    &lt;server name=&quot;default&quot;&gt;\n        ...\n        &lt;security-setting name=&quot;#&quot;&gt;\n            &lt;role name=&quot;guest&quot; send=&quot;true&quot; consume=&quot;true&quot; create-non-durable-queue=&quot;true&quot; delete-non-durable-queue=&quot;true&quot;/&gt;\n        &lt;/security-setting&gt;\n        ...\n        &lt;address-setting name=&quot;jms.queue.prices&quot; expiry-address=&quot;jms.queue.ExpiryQueue&quot; redelivery-delay=&quot;1000&quot; max-delivery-attempts=&quot;0&quot;/&gt;\n        ...\n        &lt;jms-queue name=&quot;prices&quot; entries=&quot;java:/jms/queue/prices&quot; durable=&quot;true&quot;/&gt;\n        ...\n    &lt;/server&gt;\n&lt;/subsystem&gt;\n</code></pre>\n<p>My Quarkus client tries to connect with the following:</p>\n<pre><code>quarkus.artemis.url=tcp://localhost:8080\nquarkus.artemis.username=test1\nquarkus.artemis.password=test1\n</code></pre>\n<p>It has a consumer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public void run() {\n        try (JMSContext context = connectionFactory.createContext(JMSContext.AUTO_ACKNOWLEDGE)) {\n            JMSConsumer consumer = context.createConsumer(context.createQueue(&quot;prices&quot;));\n            while (true) {\n                Message message = consumer.receive();\n                if (message == null) {\n                    // receive returns `null` if the JMSConsumer is closed\n                    return;\n                }\n                lastPrice = message.getBody(String.class);\n            }\n        } catch (JMSException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>and a producer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public void run() {\n        try (JMSContext context = connectionFactory.createContext(JMSContext.AUTO_ACKNOWLEDGE)) {\n            context.createProducer().send(context.createQueue(&quot;prices&quot;), Integer.toString(random.nextInt(100)));\n        }\n    }\n</code></pre>\n<p>It seem to connect just fine. I can see in the Quarkus log:</p>\n<pre><code>2022-12-08 14:29:59,596 DEBUG [org.apa.act.art.cor.cli.imp.ClientSessionFactoryImpl] (pool-10-thread-1) Trying reconnection attempt 0/1\n2022-12-08 14:29:59,596 DEBUG [org.apa.act.art.cor.cli.imp.ClientSessionFactoryImpl] (pool-10-thread-1) Trying to connect with connectorFactory=org.apache.activemq.artemis.core.remoting.impl.netty.NettyConnectorFactory@6096907d and currentConnectorConfig: TransportConfiguration(name=null, factory=org-apache-activemq-artemis-core-remoting-impl-netty-NettyConnectorFactory) ?port=8080&amp;host=localhost\n2022-12-08 14:29:59,596 DEBUG [org.apa.act.art.cor.rem.imp.net.NettyConnector] (pool-10-thread-1) Connector NettyConnector [host=localhost, port=8080, httpEnabled=false, httpUpgradeEnabled=false, useServlet=false, servletPath=/messaging/ActiveMQServlet, sslEnabled=false, useNio=true] using native epoll\n2022-12-08 14:29:59,596 DEBUG [org.apa.act.art.cor.client] (pool-10-thread-1) AMQ211002: Started EPOLL Netty Connector version 4.1.82.Final to localhost:8080\n2022-12-08 14:29:59,597 DEBUG [org.apa.act.art.cor.rem.imp.net.NettyConnector] (pool-10-thread-1) Remote destination: localhost/127.0.0.1:8080\n2022-12-08 14:29:59,598 DEBUG [org.apa.act.art.cor.rem.imp.net.NettyConnector] (Thread-1 (ActiveMQ-client-netty-threads)) Added ActiveMQClientChannelHandler to Channel with id = 6339db8b \n2022-12-08 14:29:59,598 DEBUG [org.apa.act.art.cor.cli.imp.ClientSessionFactoryImpl] (pool-10-thread-1) Connected with the currentConnectorConfig=TransportConfiguration(name=null, factory=org-apache-activemq-artemis-core-remoting-impl-netty-NettyConnectorFactory) ?port=8080&amp;host=localhost\n2022-12-08 14:29:59,599 DEBUG [org.apa.act.art.cor.cli.imp.ClientSessionFactoryImpl] (pool-10-thread-1) Reconnection successful\n</code></pre>\n<p>So it seems to be working fine, but I can't seem to send or consume from the queue.</p>\n<h1>Answers to Justin questions in the comments</h1>\n<h2>Have you tried adding <code>?httpUpgradeEnabled=true</code></h2>\n<p>yes no change</p>\n<p><code>quarkus.artemis.url=tcp://localhost:8080?httpUpgradeEnabled=true</code></p>\n<h2>Can you check the consumer-count</h2>\n<p>Actually there does not even seem to be a session active. I tried to close the connection for my test user but it shown me a dialog &quot;no connection for that user&quot; So maybe it's not even connecting as I thought</p>\n<h2>Why do you suspect the problem is with the user</h2>\n<p>I thought it might have something to do with some permission error. I was not sure if I was suppost to add the user to the &quot;guest&quot; group or not</p>\n<p>But since I have in my config</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;security-setting name=&quot;#&quot;&gt;\n            &lt;role name=&quot;guest&quot; send=&quot;true&quot; consume=&quot;true&quot; create-non-durable-queue=&quot;true&quot; delete-non-durable-queue=&quot;true&quot;/&gt;\n        &lt;/security-setting&gt;\n</code></pre>\n<p>EDIT2. Actually I see now in the log that quarkus seems to be missing permission for creating a consumer. So i guess &quot;guest&quot; role is not the correct one.</p>\n<p>I assume that was corrected</p>\n"},{"tags":["java","javadoc","lotus-domino"],"answers":[{"tags":[],"owner":{"account_id":12791050,"reputation":101,"user_id":9255569,"display_name":"Karsten Lehmann"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670329230,"creation_date":1670329230,"answer_id":74702412,"question_id":74701108,"body_markdown":"Please take a look at the section &quot;Creating your own build&quot; of the README.md file.\r\n\r\nYou need to register a few Notes/Domino JARs before you can run the build.\r\nHere is that part of the documentation:\r\n\r\n## Creating your own build\r\nThe following instructions are only relevant when you want to create your own Domino JNA release version.\r\n\r\n### Registration of local Notes.jar, lwpd.commons.jar and lwpd.domino.napi.jar\r\nThere are three JAR files that are part of every Notes Client installation and that are required to compile the Domino JNA code.\r\n\r\nOn macOS, you can find the files in these locations:\r\n* /Applications/HCL Notes.app/Contents/Resources/jvm/lib/ext/Notes.jar\r\n* /Applications/HCL Notes.app/Contents/Eclipse/shared/eclipse/plugins/com.ibm.commons_-version-/lwpd.commons.jar\r\n* /Applications/HCL Notes.app/Contents/Eclipse/shared/eclipse/plugins/com.ibm.domino.napi_-version-/lwpd.domino.napi.jar\r\n\r\nOn Windows you fine them here:\r\n\r\n* C:\\Program Files (x86)\\HCL\\Notes\\jvm\\lib\\ext\\Notes.jar\r\n* C:\\Program Files (x86)\\HCL\\Notes\\osgi\\shared\\eclipse\\plugins\\com.ibm.commons_-version-\\lwpd.commons.jar\r\n* C:\\Program Files (x86)\\HCL\\Notes\\osgi\\shared\\eclipse\\plugins\\com.ibm.domino.napi_-version-\\lwpd.domino.napi.jar\r\n\r\nThese files need to be registered as Maven artifacts with the right groupId / artifactId on the local machine, because they are not available on Maven Central (com.ibm.commons is there, but outdated).\r\n\r\n**For the Mac, use this syntax (replace &quot;-version-&quot; with the right version on your machine):**\r\n\r\n```\r\nmvn install:install-file -Dfile=&quot;/Applications/HCL Notes.app/Contents/Resources/jvm/lib/ext/Notes.jar&quot; -DgroupId=com.ibm -DartifactId=domino-api-binaries -Dversion=11.0.0 -Dpackaging=jar\r\n\r\nmvn install:install-file -Dfile=&quot;/Applications/HCL Notes.app/Contents/Eclipse/shared/eclipse/plugins/com.ibm.commons_-version-/lwpd.commons.jar&quot; -DgroupId=com.ibm -DartifactId=ibm-commons -Dversion=11.0.0 -Dpackaging=jar\r\n\r\nmvn install:install-file -Dfile=&quot;/Applications/HCL Notes.app/Contents/Eclipse/shared/eclipse/plugins/com.ibm.domino.napi_-version-/lwpd.domino.napi.jar&quot; -DgroupId=com.ibm -DartifactId=napi -Dversion=11.0.0 -Dpackaging=jar\r\n```\r\n\r\n**For Windows, use this syntax (replace &quot;-version-&quot; with the right version on your machine):**\r\n\r\n```\r\nmvn install:install-file -Dfile=&quot;C:\\Program Files (x86)\\HCL\\Notes\\jvm\\lib\\ext\\Notes.jar&quot; -DgroupId=com.ibm -DartifactId=domino-api-binaries -Dversion=11.0.0 -Dpackaging=jar\r\n\r\nmvn install:install-file -Dfile=&quot;C:\\Program Files (x86)\\HCL\\Notes\\osgi\\shared\\eclipse\\plugins\\com.ibm.commons_-version-\\lwpd.commons.jar&quot; -DgroupId=com.ibm -DartifactId=ibm-commons -Dversion=11.0.0 -Dpackaging=jar\r\n\r\nmvn install:install-file -Dfile=&quot;C:\\Program Files (x86)\\HCL\\Notes\\osgi\\shared\\eclipse\\plugins\\com.ibm.domino.napi_-version-\\lwpd.domino.napi.jar&quot; -DgroupId=com.ibm -DartifactId=napi -Dversion=11.0.0 -Dpackaging=jar\r\n```\r\n\r\n### Maven build\r\n\r\n**Mac:**\r\nOn Mac, use this syntax to build Domino JNA against the Notes Client:\r\n\r\n```\r\nmvn -DJVMPARAMS=-d64 -DDOMINOOSGIDIR=/Applications/HCL\\ Notes.app/Contents/MacOS -DDOMINODIR=/Applications/HCL\\ Notes.app/Contents/MacOS -DNOTESINI=~/Library/Preferences/Notes\\ Preferences clean install -Dmaven.test.skip=true\r\n```\r\n\r\n**Windows:**\r\nTo build against the HCL Notes Client on Windows use this syntax:\r\n\r\n```\r\nmvn -DJVMPARAMS= -DDOMINOOSGIDIR=&quot;C:\\Program Files (x86)\\HCL\\Notes\\osgi&quot; -DDOMINODIR=&quot;C:\\Program Files (x86)\\HCL\\Notes&quot; -DNOTESINI=&quot;C:\\Program Files (x86)\\HCL\\Notes\\Notes.ini&quot; clean install -Dmaven.test.skip=true\r\n```\r\n\r\nAfter the build is done, the directory `target/lib` contains all recursive dependencies required to use the library, e.g. JNA and Apache tool libraries.\r\n","title":"Generate javadoc for domino-jna 0.9.2.1 - multiple errors","body":"<p>Please take a look at the section &quot;Creating your own build&quot; of the README.md file.</p>\n<p>You need to register a few Notes/Domino JARs before you can run the build.\nHere is that part of the documentation:</p>\n<h2>Creating your own build</h2>\n<p>The following instructions are only relevant when you want to create your own Domino JNA release version.</p>\n<h3>Registration of local Notes.jar, lwpd.commons.jar and lwpd.domino.napi.jar</h3>\n<p>There are three JAR files that are part of every Notes Client installation and that are required to compile the Domino JNA code.</p>\n<p>On macOS, you can find the files in these locations:</p>\n<ul>\n<li>/Applications/HCL Notes.app/Contents/Resources/jvm/lib/ext/Notes.jar</li>\n<li>/Applications/HCL Notes.app/Contents/Eclipse/shared/eclipse/plugins/com.ibm.commons_-version-/lwpd.commons.jar</li>\n<li>/Applications/HCL Notes.app/Contents/Eclipse/shared/eclipse/plugins/com.ibm.domino.napi_-version-/lwpd.domino.napi.jar</li>\n</ul>\n<p>On Windows you fine them here:</p>\n<ul>\n<li>C:\\Program Files (x86)\\HCL\\Notes\\jvm\\lib\\ext\\Notes.jar</li>\n<li>C:\\Program Files (x86)\\HCL\\Notes\\osgi\\shared\\eclipse\\plugins\\com.ibm.commons_-version-\\lwpd.commons.jar</li>\n<li>C:\\Program Files (x86)\\HCL\\Notes\\osgi\\shared\\eclipse\\plugins\\com.ibm.domino.napi_-version-\\lwpd.domino.napi.jar</li>\n</ul>\n<p>These files need to be registered as Maven artifacts with the right groupId / artifactId on the local machine, because they are not available on Maven Central (com.ibm.commons is there, but outdated).</p>\n<p><strong>For the Mac, use this syntax (replace &quot;-version-&quot; with the right version on your machine):</strong></p>\n<pre><code>mvn install:install-file -Dfile=&quot;/Applications/HCL Notes.app/Contents/Resources/jvm/lib/ext/Notes.jar&quot; -DgroupId=com.ibm -DartifactId=domino-api-binaries -Dversion=11.0.0 -Dpackaging=jar\n\nmvn install:install-file -Dfile=&quot;/Applications/HCL Notes.app/Contents/Eclipse/shared/eclipse/plugins/com.ibm.commons_-version-/lwpd.commons.jar&quot; -DgroupId=com.ibm -DartifactId=ibm-commons -Dversion=11.0.0 -Dpackaging=jar\n\nmvn install:install-file -Dfile=&quot;/Applications/HCL Notes.app/Contents/Eclipse/shared/eclipse/plugins/com.ibm.domino.napi_-version-/lwpd.domino.napi.jar&quot; -DgroupId=com.ibm -DartifactId=napi -Dversion=11.0.0 -Dpackaging=jar\n</code></pre>\n<p><strong>For Windows, use this syntax (replace &quot;-version-&quot; with the right version on your machine):</strong></p>\n<pre><code>mvn install:install-file -Dfile=&quot;C:\\Program Files (x86)\\HCL\\Notes\\jvm\\lib\\ext\\Notes.jar&quot; -DgroupId=com.ibm -DartifactId=domino-api-binaries -Dversion=11.0.0 -Dpackaging=jar\n\nmvn install:install-file -Dfile=&quot;C:\\Program Files (x86)\\HCL\\Notes\\osgi\\shared\\eclipse\\plugins\\com.ibm.commons_-version-\\lwpd.commons.jar&quot; -DgroupId=com.ibm -DartifactId=ibm-commons -Dversion=11.0.0 -Dpackaging=jar\n\nmvn install:install-file -Dfile=&quot;C:\\Program Files (x86)\\HCL\\Notes\\osgi\\shared\\eclipse\\plugins\\com.ibm.domino.napi_-version-\\lwpd.domino.napi.jar&quot; -DgroupId=com.ibm -DartifactId=napi -Dversion=11.0.0 -Dpackaging=jar\n</code></pre>\n<h3>Maven build</h3>\n<p><strong>Mac:</strong>\nOn Mac, use this syntax to build Domino JNA against the Notes Client:</p>\n<pre><code>mvn -DJVMPARAMS=-d64 -DDOMINOOSGIDIR=/Applications/HCL\\ Notes.app/Contents/MacOS -DDOMINODIR=/Applications/HCL\\ Notes.app/Contents/MacOS -DNOTESINI=~/Library/Preferences/Notes\\ Preferences clean install -Dmaven.test.skip=true\n</code></pre>\n<p><strong>Windows:</strong>\nTo build against the HCL Notes Client on Windows use this syntax:</p>\n<pre><code>mvn -DJVMPARAMS= -DDOMINOOSGIDIR=&quot;C:\\Program Files (x86)\\HCL\\Notes\\osgi&quot; -DDOMINODIR=&quot;C:\\Program Files (x86)\\HCL\\Notes&quot; -DNOTESINI=&quot;C:\\Program Files (x86)\\HCL\\Notes\\Notes.ini&quot; clean install -Dmaven.test.skip=true\n</code></pre>\n<p>After the build is done, the directory <code>target/lib</code> contains all recursive dependencies required to use the library, e.g. JNA and Apache tool libraries.</p>\n"}],"owner":{"account_id":17353525,"reputation":5513,"user_id":12571484,"display_name":"Adam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670601518,"creation_date":1670323386,"question_id":74701108,"body_markdown":"I&#39;ve downloaded the latest version of [JNA][1] (this is the first time I&#39;ve looked at it tbh) and I want to generate the javadoc for it. I&#39;m looking to generate the documentation from folder `\\domino-jna-master\\domino-jna\\src\\main\\java\\com\\mindoo\\domino\\jna` which is in a parent folder and using command:\r\n\r\n`javadoc -sourcepath {parent-folder}\\domino-jna-master\\domino-jna\\src\\main\\java\\com\\mindoo\\domino\\jna -d c:\\JNA -subpackages .`\r\n\r\nto put the generated documentation in to the c:\\JNA folder.\r\n\r\nIt&#39;s finding the .java files okay but it&#39;s generating errors like:\r\n\r\n - cannot find symbol\r\n - package lotus.notes does not exist\r\n\r\nIf I use the `-Xdoclint:none` and  `--ignore-source-errors` options to [suppress error generation][2] also does not work with the final error being &#39;no public or protected classes found to document&#39;. \r\n\r\nI&#39;ve also tried this through eclipse but that&#39;s just a wizard for the javadoc command.\r\n\r\nThis is fairly new to me as I find most documentation online so any help you can give me would be appreciated.\r\n\r\n\r\n  [1]: https://github.com/klehmann/domino-jna\r\n  [2]: https://stackoverflow.com/questions/38621202/ignore-minor-errors-using-javadoc\r\n\r\n**added 2022-12-09**\r\n\r\nI&#39;ve tried building it. I&#39;ve had to change the folder location for the lwpd.domino.napi.jar file was located in the \\lib\\ext folder on my build from:\r\n\r\n    mvn install:install-file -Dfile=&quot;C:\\Program Files (x86)\\HCL\\Notes\\osgi\\shared\\eclipse\\plugins\\com.ibm.domino.napi_-version-\\lwpd.domino.napi.jar&quot; -DgroupId=com.ibm -DartifactId=napi -Dversion=11.0.0 -Dpackaging=jar\r\n\r\nto\r\n\r\n    mvn install:install-file -Dfile=&quot;C:\\Program Files\\HCL\\Notes\\jvm\\lib\\ext\\lwpd.domino.napi.jar&quot; -DgroupId=com.ibm -DartifactId=napi -Dversion=12.0.2 -Dpackaging=jar\r\n\r\nI&#39;m getting one error when running the following command: \r\n\r\n    mvn -DJVMPARAMS= -DDOMINOOSGIDIR=&quot;C:\\Program Files\\HCL\\Notes\\osgi&quot; -DDOMINODIR=&quot;C:\\Program Files\\HCL\\Notes&quot; -DNOTESINI=&quot;C:\\Program Files\\HCL\\Notes\\Notes.ini&quot; clean install -Dmaven.test.skip=true\r\n\r\nas follows:\r\n\r\n    [ERROR] Internal error: java.lang.RuntimeException: Could not resolve project dependencies: Missing:\r\n    [ERROR] ----------\r\n    [ERROR] 1) com.ibm:domino-api-binaries:jar:11.0.0\r\n    [ERROR]\r\n    [ERROR]   Try downloading the file manually from the project website.\r\n    [ERROR]\r\n    [ERROR]   Then, install it using the command:\r\n    [ERROR]       mvn install:install-file -DgroupId=com.ibm -DartifactId=domino-api-binaries -Dversion=11.0.0 -Dpackaging=jar -Dfile=/path/to/file","title":"Generate javadoc for domino-jna 0.9.2.1 - multiple errors","body":"<p>I've downloaded the latest version of <a href=\"https://github.com/klehmann/domino-jna\" rel=\"nofollow noreferrer\">JNA</a> (this is the first time I've looked at it tbh) and I want to generate the javadoc for it. I'm looking to generate the documentation from folder <code>\\domino-jna-master\\domino-jna\\src\\main\\java\\com\\mindoo\\domino\\jna</code> which is in a parent folder and using command:</p>\n<p><code>javadoc -sourcepath {parent-folder}\\domino-jna-master\\domino-jna\\src\\main\\java\\com\\mindoo\\domino\\jna -d c:\\JNA -subpackages .</code></p>\n<p>to put the generated documentation in to the c:\\JNA folder.</p>\n<p>It's finding the .java files okay but it's generating errors like:</p>\n<ul>\n<li>cannot find symbol</li>\n<li>package lotus.notes does not exist</li>\n</ul>\n<p>If I use the <code>-Xdoclint:none</code> and  <code>--ignore-source-errors</code> options to <a href=\"https://stackoverflow.com/questions/38621202/ignore-minor-errors-using-javadoc\">suppress error generation</a> also does not work with the final error being 'no public or protected classes found to document'.</p>\n<p>I've also tried this through eclipse but that's just a wizard for the javadoc command.</p>\n<p>This is fairly new to me as I find most documentation online so any help you can give me would be appreciated.</p>\n<p><strong>added 2022-12-09</strong></p>\n<p>I've tried building it. I've had to change the folder location for the lwpd.domino.napi.jar file was located in the \\lib\\ext folder on my build from:</p>\n<pre><code>mvn install:install-file -Dfile=&quot;C:\\Program Files (x86)\\HCL\\Notes\\osgi\\shared\\eclipse\\plugins\\com.ibm.domino.napi_-version-\\lwpd.domino.napi.jar&quot; -DgroupId=com.ibm -DartifactId=napi -Dversion=11.0.0 -Dpackaging=jar\n</code></pre>\n<p>to</p>\n<pre><code>mvn install:install-file -Dfile=&quot;C:\\Program Files\\HCL\\Notes\\jvm\\lib\\ext\\lwpd.domino.napi.jar&quot; -DgroupId=com.ibm -DartifactId=napi -Dversion=12.0.2 -Dpackaging=jar\n</code></pre>\n<p>I'm getting one error when running the following command:</p>\n<pre><code>mvn -DJVMPARAMS= -DDOMINOOSGIDIR=&quot;C:\\Program Files\\HCL\\Notes\\osgi&quot; -DDOMINODIR=&quot;C:\\Program Files\\HCL\\Notes&quot; -DNOTESINI=&quot;C:\\Program Files\\HCL\\Notes\\Notes.ini&quot; clean install -Dmaven.test.skip=true\n</code></pre>\n<p>as follows:</p>\n<pre><code>[ERROR] Internal error: java.lang.RuntimeException: Could not resolve project dependencies: Missing:\n[ERROR] ----------\n[ERROR] 1) com.ibm:domino-api-binaries:jar:11.0.0\n[ERROR]\n[ERROR]   Try downloading the file manually from the project website.\n[ERROR]\n[ERROR]   Then, install it using the command:\n[ERROR]       mvn install:install-file -DgroupId=com.ibm -DartifactId=domino-api-binaries -Dversion=11.0.0 -Dpackaging=jar -Dfile=/path/to/file\n</code></pre>\n"},{"tags":["java","html","web","icons","web-frontend"],"answers":[{"tags":[],"owner":{"account_id":27081840,"reputation":73,"user_id":20630897,"display_name":"wodosharlatan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670578689,"creation_date":1670578689,"answer_id":74741256,"question_id":74740676,"body_markdown":"Google favicon generator and make an icon. Name it favicon.ico and drop it in your webroot.\r\n\r\nSee if this helps.\r\n\r\nAlso here is a tutorial on favicon: https://www.w3.org/2005/10/howto-favicon\r\n","title":"GET http://127.0.0.1:9989/favicon.ico Not Found","body":"<p>Google favicon generator and make an icon. Name it favicon.ico and drop it in your webroot.</p>\n<p>See if this helps.</p>\n<p>Also here is a tutorial on favicon: <a href=\"https://www.w3.org/2005/10/howto-favicon\" rel=\"nofollow noreferrer\">https://www.w3.org/2005/10/howto-favicon</a></p>\n"}],"owner":{"account_id":23624722,"reputation":1,"user_id":17657444,"display_name":"zante"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670601308,"creation_date":1670575501,"question_id":74740676,"body_markdown":"I have the following error:\r\n\r\n     favicon.ico:1  -&gt; GET http://127.0.0.1:9989/favic\r\n\r\n\r\nI have read some question answers about the same problem, but I have a problem finding the HTML (?) file to make changes.\r\n\r\nCould you please help me? What are the steps I have to follow in order to solve this error on my screen? I can&#39;t run my program.\r\n\r\n","title":"GET http://127.0.0.1:9989/favicon.ico Not Found","body":"<p>I have the following error:</p>\n<pre><code> favicon.ico:1  -&gt; GET http://127.0.0.1:9989/favic\n</code></pre>\n<p>I have read some question answers about the same problem, but I have a problem finding the HTML (?) file to make changes.</p>\n<p>Could you please help me? What are the steps I have to follow in order to solve this error on my screen? I can't run my program.</p>\n"},{"tags":["java","spring","spring-security","oauth-2.0","keycloak"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670601118,"creation_date":1670601118,"answer_id":74745382,"question_id":74739505,"body_markdown":"For user authentication, use authorization code flow =&gt; first option. \r\n\r\nFirst option is safer: your app is never aware of user password and, as so, can&#39;t leak it. \r\n\r\nFirst option is also more future proof: if the number of clients increases and authentication requirements evolves (multi factor authentication for instance), then this is handled once on the authorization-server. Same for user registration.\r\n\r\nIf you are connected about the look and feel, refer to Keycloak doc. You&#39;ll find how to provide your own style and even template.\r\n\r\nLast, use an OIDC client library on your client to ease authorization-code flow on your client: `spring-boot-starter-oauth2-client` if it&#39;s a Spring app serving content with Thymeleaf, JSF, etc. Or a lib like what [angular-auth-oidc-client][1] is to Angular (search an equivalent for your own framework) \r\n\r\n\r\n  [1]: https://github.com/damienbod/angular-auth-oidc-client","title":"Spring Boot Oauth2 Redirect to Keycloack Login Page for Authentication Or Generate Access Token in API Gateway with Keycloak Token Creation Post API","body":"<p>For user authentication, use authorization code flow =&gt; first option.</p>\n<p>First option is safer: your app is never aware of user password and, as so, can't leak it.</p>\n<p>First option is also more future proof: if the number of clients increases and authentication requirements evolves (multi factor authentication for instance), then this is handled once on the authorization-server. Same for user registration.</p>\n<p>If you are connected about the look and feel, refer to Keycloak doc. You'll find how to provide your own style and even template.</p>\n<p>Last, use an OIDC client library on your client to ease authorization-code flow on your client: <code>spring-boot-starter-oauth2-client</code> if it's a Spring app serving content with Thymeleaf, JSF, etc. Or a lib like what <a href=\"https://github.com/damienbod/angular-auth-oidc-client\" rel=\"nofollow noreferrer\">angular-auth-oidc-client</a> is to Angular (search an equivalent for your own framework)</p>\n"}],"owner":{"account_id":11129218,"reputation":654,"user_id":8169680,"display_name":"Surya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74745382,"answer_count":1,"score":0,"last_activity_date":1670601118,"creation_date":1670566389,"question_id":74739505,"body_markdown":"I am implementing OAuth2 (Keycloak) for our application. Our Application is combined of multiple Microservices (Rest APIs) and also there is an UI which calls the APIs. We have a API Gateway (Zuul) where we want to implement the Spring Boot OAuth2 with Keycloak. \r\n\r\nAfter checking on the internet I can see there are 2 options while implementing OAuth2 (Keycloak) in Spring Boot.\r\n\r\n1) I can redirect the user to **Keycloak Login page** when the user is not authenticated. Once the User is authenticated with Keycloak, then the user can access the APIs with the access token which it will get from the Keycloak Auth server.\r\n\r\n2) **Instead of** Keycloak Login page, I can have my **Own Login Page** in UI and once the user submits their username &amp; password, the details come to my API Gateway (Spring Boot code - Zuul) and with the given username &amp; password, I can get a access token from Keycloak with their (keycloak) Token Creation POST API and send back the Access Token to the user in the Response Header along with the HOME Page and user will able to use that token for further API calls until the token gets expired.\r\n\r\nWhich option is better to use? Login with Redirect to Keycloak Login page to get the access token or Calling Keycloak POST API for token creation from Spring Boot App?","title":"Spring Boot Oauth2 Redirect to Keycloack Login Page for Authentication Or Generate Access Token in API Gateway with Keycloak Token Creation Post API","body":"<p>I am implementing OAuth2 (Keycloak) for our application. Our Application is combined of multiple Microservices (Rest APIs) and also there is an UI which calls the APIs. We have a API Gateway (Zuul) where we want to implement the Spring Boot OAuth2 with Keycloak.</p>\n<p>After checking on the internet I can see there are 2 options while implementing OAuth2 (Keycloak) in Spring Boot.</p>\n<ol>\n<li><p>I can redirect the user to <strong>Keycloak Login page</strong> when the user is not authenticated. Once the User is authenticated with Keycloak, then the user can access the APIs with the access token which it will get from the Keycloak Auth server.</p>\n</li>\n<li><p><strong>Instead of</strong> Keycloak Login page, I can have my <strong>Own Login Page</strong> in UI and once the user submits their username &amp; password, the details come to my API Gateway (Spring Boot code - Zuul) and with the given username &amp; password, I can get a access token from Keycloak with their (keycloak) Token Creation POST API and send back the Access Token to the user in the Response Header along with the HOME Page and user will able to use that token for further API calls until the token gets expired.</p>\n</li>\n</ol>\n<p>Which option is better to use? Login with Redirect to Keycloak Login page to get the access token or Calling Keycloak POST API for token creation from Spring Boot App?</p>\n"},{"tags":["java","amazon-web-services","amazon-ecs"],"comments":[{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1670608267,"post_id":74745361,"comment_id":131920576,"body_markdown":"What do you mean by: &quot;i am not able to find anywhere this variable ECS_CONTAINER_METADATA_URI_V4&quot;? That variable is available inside the container running on ECS. Can you show what you have tried?","body":"What do you mean by: &quot;i am not able to find anywhere this variable ECS_CONTAINER_METADATA_URI_V4&quot;? That variable is available inside the container running on ECS. Can you show what you have tried?"},{"owner":{"account_id":10429553,"reputation":203,"user_id":7689795,"display_name":"Akash tiwari"},"score":0,"creation_date":1670610658,"post_id":74745361,"comment_id":131921281,"body_markdown":"Hi @MarkB this is my first time of trying this, not sure how to access the container running on fargate launch type. Do i need ecs exec for this..?","body":"Hi @MarkB this is my first time of trying this, not sure how to access the container running on fargate launch type. Do i need ecs exec for this..?"},{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1670611277,"post_id":74745361,"comment_id":131921450,"body_markdown":"Yes you would `ecs exec` in for this. Typically this is for the software running in the container to access the metadata endpoint, not for you to use outside of the container. Why are you needing to access this endpoint?","body":"Yes you would <code>ecs exec</code> in for this. Typically this is for the software running in the container to access the metadata endpoint, not for you to use outside of the container. Why are you needing to access this endpoint?"},{"owner":{"account_id":10429553,"reputation":203,"user_id":7689795,"display_name":"Akash tiwari"},"score":0,"creation_date":1670677523,"post_id":74745361,"comment_id":131931078,"body_markdown":"I think I got it @MarkB. So the spring boot java app that is running inside container can easily access this variable  using maybe system.getenv and i can also use httpclient to get the json response. Will check this","body":"I think I got it @MarkB. So the spring boot java app that is running inside container can easily access this variable  using maybe system.getenv and i can also use httpclient to get the json response. Will check this"},{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1670677648,"post_id":74745361,"comment_id":131931114,"body_markdown":"Yes that&#39;s correct. But again, why do you need this info outside of the container? That same info should be available from the AWS ECS API instead of going through the metadata endpoint.","body":"Yes that&#39;s correct. But again, why do you need this info outside of the container? That same info should be available from the AWS ECS API instead of going through the metadata endpoint."}],"owner":{"account_id":10429553,"reputation":203,"user_id":7689795,"display_name":"Akash tiwari"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670601009,"creation_date":1670601009,"question_id":74745361,"body_markdown":"I have my ecs task running on fargate launch type version 1.4.0 and it is working properly it is using private ECR respository to get the app image. I want to get it&#39;s metadata. It has only private IP and i know this link [ecs fargate metadata][1] but i am not able to find anywhere this variable `ECS_CONTAINER_METADATA_URI_V4`\r\n. My question is how to get the json response mentioned in the link above. Also exec is not enabled on this task. Please help\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AmazonECS/latest/userguide/task-metadata-endpoint-v4-fargate.html","title":"How to get ecs metadata json response","body":"<p>I have my ecs task running on fargate launch type version 1.4.0 and it is working properly it is using private ECR respository to get the app image. I want to get it's metadata. It has only private IP and i know this link <a href=\"https://docs.aws.amazon.com/AmazonECS/latest/userguide/task-metadata-endpoint-v4-fargate.html\" rel=\"nofollow noreferrer\">ecs fargate metadata</a> but i am not able to find anywhere this variable <code>ECS_CONTAINER_METADATA_URI_V4</code>\n. My question is how to get the json response mentioned in the link above. Also exec is not enabled on this task. Please help</p>\n"},{"tags":["java","xml","filenotfoundexception","saxparser"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1670408963,"post_id":74715145,"comment_id":131868192,"body_markdown":"I suspect your xml file references some other files somewhere that cannot be found. Hard to tell without knowing anything about your xml file.","body":"I suspect your xml file references some other files somewhere that cannot be found. Hard to tell without knowing anything about your xml file."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":1,"creation_date":1670411077,"post_id":74715145,"comment_id":131868951,"body_markdown":"So the XML has `&lt;!DOCTYPE preferences SYSTEM &quot;http://java.sun.com/dtd/preferences.dtd&quot;&gt;` meaning an XML parser is trying to read `http://java.sun.com/dtd/preferences.dtd`. How reliable is that? With similar references to e.g. W3C XHTML DTDs people are usually advised to use a catalogue referencing a local copy to the DTDs as the public server might be stalling to cope with too many requests.","body":"So the XML has <code>&lt;!DOCTYPE preferences SYSTEM &quot;http:&#47;&#47;java.sun.com&#47;dtd&#47;preferences.dtd&quot;&gt;</code> meaning an XML parser is trying to read <code>http:&#47;&#47;java.sun.com&#47;dtd&#47;preferences.dtd</code>. How reliable is that? With similar references to e.g. W3C XHTML DTDs people are usually advised to use a catalogue referencing a local copy to the DTDs as the public server might be stalling to cope with too many requests."}],"answers":[{"tags":[],"owner":{"account_id":5684286,"reputation":119,"user_id":4494338,"display_name":"extremecoder85"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670600544,"creation_date":1670600544,"answer_id":74745279,"question_id":74715145,"body_markdown":"I have resolved this issue, it was due to another bug in my own code.\r\nSo it had nothing to do with the SAXParser. Thanks for all the help!","title":"SAXParser gives FileNotFoundException for XML file","body":"<p>I have resolved this issue, it was due to another bug in my own code.\nSo it had nothing to do with the SAXParser. Thanks for all the help!</p>\n"}],"owner":{"account_id":5684286,"reputation":119,"user_id":4494338,"display_name":"extremecoder85"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1670600544,"creation_date":1670408855,"question_id":74715145,"body_markdown":"My Java application gives a FileNotFoundException when trying to parse \r\nan XML file with the SAXParser class. The stack trace is:\r\n\r\n```\r\n    java.base/java.io.FileInputStream.open0(Native Method),\r\n    java.base/java.io.FileInputStream.open(Unknown Source), \r\n    java.base/java.io.FileInputStream.&lt;init&gt;(Unknown Source), \r\n    java.base/java.io.FileInputStream.&lt;init&gt;(Unknown Source), \r\n    java.base/sun.net.www.protocol.file.FileURLConnection.connect(Unknown  Source), \r\n    java.base/sun.net.www.protocol.file.FileURLConnection.getInputStream(Unknown Source),  \r\n    java.xml/com.sun.org.apache.xerces.internal.impl.XMLEntityManager.setupCurrentEntity(Unknown  Source), \r\n    java.xml/com.sun.org.apache.xerces.internal.impl.XMLVersionDetector.determineDocVersion(Unknown   Source), \r\n    java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown  Source), \r\n    java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown   Source), \r\n    java.xml/com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(Unknown Source),  \r\n    java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Unknown Source),  \r\n    java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source), \r\n    java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(Unknown Source),  \r\n    java.xml/javax.xml.parsers.SAXParser.parse(Unknown Source)\r\n```\r\n\r\nI ran the application on Windows and on Linux, on Linux I can reproduce it more \r\nfrequently (I don&#39;t know why...). The problem appears to occur randomly and I am sure the file exists and can be read.\r\n\r\n- JRE release details:\r\n```\r\n    IMPLEMENTOR=&quot;Eclipse Adoptium&quot;\r\n    IMPLEMENTOR_VERSION=&quot;Temurin-17.0.2+8&quot;\r\n    JAVA_VERSION=&quot;17.0.2&quot;\r\n    JAVA_VERSION_DATE=&quot;2022-01-18&quot;\r\n```\r\n\r\n- I checked and removed any redundant SAXParser classes from the classpath.\r\n- I tried different folders as the file source folder (local, samba share).\r\n- I tried with file permissions set to 777.\r\n\r\nThis link suggests it may be an issue related to permissions:\r\nhttps://community.cloudera.com/t5/Support-Questions/CDF-Add-NiFi-CA-Service-Service-to-Cluster/m-p/268975/highlight/true\r\n\r\nBut that does not work for me.\r\n\r\nEDIT: I have pasted the XML file contents here:\r\nhttps://pastebin.com/Q0WE9Y9S\r\n\r\nEDIT: I have configured the SAXParserFactory so it does not load external DTD&#39;s:\r\n\r\n```\r\n    SAXParserFactory factory = SAXParserFactory.newInstance();\r\n    SAXParser parser = factory.newSAXParser();\r\n    factory.setValidating(false);\r\n    factory.setNamespaceAware(false);\r\n    factory.setFeature(&quot;http://apache.org/xml/features/nonvalidating/load-external-dtd&quot;, false);\r\n```\r\n\r\n\r\n\r\n\r\n","title":"SAXParser gives FileNotFoundException for XML file","body":"<p>My Java application gives a FileNotFoundException when trying to parse\nan XML file with the SAXParser class. The stack trace is:</p>\n<pre><code>    java.base/java.io.FileInputStream.open0(Native Method),\n    java.base/java.io.FileInputStream.open(Unknown Source), \n    java.base/java.io.FileInputStream.&lt;init&gt;(Unknown Source), \n    java.base/java.io.FileInputStream.&lt;init&gt;(Unknown Source), \n    java.base/sun.net.www.protocol.file.FileURLConnection.connect(Unknown  Source), \n    java.base/sun.net.www.protocol.file.FileURLConnection.getInputStream(Unknown Source),  \n    java.xml/com.sun.org.apache.xerces.internal.impl.XMLEntityManager.setupCurrentEntity(Unknown  Source), \n    java.xml/com.sun.org.apache.xerces.internal.impl.XMLVersionDetector.determineDocVersion(Unknown   Source), \n    java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown  Source), \n    java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown   Source), \n    java.xml/com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(Unknown Source),  \n    java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Unknown Source),  \n    java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source), \n    java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(Unknown Source),  \n    java.xml/javax.xml.parsers.SAXParser.parse(Unknown Source)\n</code></pre>\n<p>I ran the application on Windows and on Linux, on Linux I can reproduce it more\nfrequently (I don't know why...). The problem appears to occur randomly and I am sure the file exists and can be read.</p>\n<ul>\n<li>JRE release details:</li>\n</ul>\n<pre><code>    IMPLEMENTOR=&quot;Eclipse Adoptium&quot;\n    IMPLEMENTOR_VERSION=&quot;Temurin-17.0.2+8&quot;\n    JAVA_VERSION=&quot;17.0.2&quot;\n    JAVA_VERSION_DATE=&quot;2022-01-18&quot;\n</code></pre>\n<ul>\n<li>I checked and removed any redundant SAXParser classes from the classpath.</li>\n<li>I tried different folders as the file source folder (local, samba share).</li>\n<li>I tried with file permissions set to 777.</li>\n</ul>\n<p>This link suggests it may be an issue related to permissions:\n<a href=\"https://community.cloudera.com/t5/Support-Questions/CDF-Add-NiFi-CA-Service-Service-to-Cluster/m-p/268975/highlight/true\" rel=\"nofollow noreferrer\">https://community.cloudera.com/t5/Support-Questions/CDF-Add-NiFi-CA-Service-Service-to-Cluster/m-p/268975/highlight/true</a></p>\n<p>But that does not work for me.</p>\n<p>EDIT: I have pasted the XML file contents here:\n<a href=\"https://pastebin.com/Q0WE9Y9S\" rel=\"nofollow noreferrer\">https://pastebin.com/Q0WE9Y9S</a></p>\n<p>EDIT: I have configured the SAXParserFactory so it does not load external DTD's:</p>\n<pre><code>    SAXParserFactory factory = SAXParserFactory.newInstance();\n    SAXParser parser = factory.newSAXParser();\n    factory.setValidating(false);\n    factory.setNamespaceAware(false);\n    factory.setFeature(&quot;http://apache.org/xml/features/nonvalidating/load-external-dtd&quot;, false);\n</code></pre>\n"},{"tags":["java","junit5"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1670602109,"post_id":74745024,"comment_id":131918693,"body_markdown":"`@AfterAll` runs after the whole test class finishes, not after each individual test. And your `readLine()` method seems to find the `hello` from the `testJsonParams()` method","body":"<code>@AfterAll</code> runs after the whole test class finishes, not after each individual test. And your <code>readLine()</code> method seems to find the <code>hello</code> from the <code>testJsonParams()</code> method"}],"answers":[{"tags":[],"owner":{"account_id":26671785,"reputation":354,"user_id":20283130,"display_name":"MJG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670600465,"creation_date":1670600465,"answer_id":74745270,"question_id":74745024,"body_markdown":"If it does not throw, it could mean that the file is actually there and has some content. This makes sense, since just calling `PcdsLoggerFactory.getLogger(TestLogger.class)` does not seem to guarantee to delete the logfile then.","title":"Junit 5: Expected exception to be thrown, but nothing was thrown","body":"<p>If it does not throw, it could mean that the file is actually there and has some content. This makes sense, since just calling <code>PcdsLoggerFactory.getLogger(TestLogger.class)</code> does not seem to guarantee to delete the logfile then.</p>\n"}],"owner":{"account_id":25617907,"reputation":11,"user_id":19390241,"display_name":"ale.soft"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670600465,"creation_date":1670599128,"question_id":74745024,"body_markdown":"I have very strange behavior for the following test: \r\n\r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.util.NoSuchElementException;\r\nimport java.util.stream.Stream;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\nimport static org.junit.jupiter.api.Assertions.assertThrows;\r\n\r\npublic class TestLogger {\r\n\tstatic IPcdsLogger logger;\r\n\tstatic Logger LOGGER = LoggerFactory.getLogger(TestLogger.class);\r\n\r\n\t@BeforeEach\r\n\tpublic void setup() {\r\n\t\tlogger = PcdsLoggerFactory.getLogger(TestLogger.class);\r\n\t}\r\n\r\n\t@AfterEach\r\n\tpublic void tearDown() throws IOException {\r\n\t\tPrintWriter writer = new PrintWriter(new File(&quot;src/test/resources/temp/test.log&quot;));\r\n\t\twriter.print(&quot;&quot;);\r\n\t\twriter.close();\r\n\t}\r\n\r\n\t@AfterAll\r\n\tpublic static void deleteFile() throws IOException {\r\n\t\tlogger.close();\r\n\t\tFileUtils.deleteDirectory(new File(&quot;src/test/resources/temp&quot;));\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testJsonParams() throws IOException {\r\n\r\n\t\tlogger.builder()\r\n\t\t\t\t.add(&quot;hello&quot;, &quot;world&quot;)\r\n\t\t\t\t.add(&quot;bob&quot;, &quot;alice&quot;)\r\n\t\t\t\t.debug(&quot;wtf&quot;);\r\n\r\n\r\n\t\tassertEquals(&quot;world&quot;, readLine(0).get(&quot;hello&quot;));\r\n\t\tassertEquals(&quot;alice&quot;, readLine(0).get(&quot;bob&quot;));\r\n\r\n\t}\r\n\r\n\r\n\t@Test\r\n\tpublic void testLogLevelTraceCheck() {\r\n\t\tlogger.traceLevel()\r\n\t\t\t\t.ifPresent(b -&gt; b.add(&quot;hello&quot;, &quot;world&quot;).trace());\r\n\t\tassertThrows(NoSuchElementException.class, () -&gt; readLine(0));\r\n\t}\r\n\r\n\tprivate JSONObject readLine(int lineNo) throws IOException  {\r\n\t\ttry (Stream&lt;String&gt; lines = Files.lines(Paths.get(&quot;src/test/resources/temp/test.log&quot;))) {\r\n\t\t\tString line = lines.skip(lineNo).findFirst().get();\r\n\t\t\treturn new JSONObject(line);\r\n\t\t}\r\n\t}\r\n```\r\n\r\n\r\nWhen I run the test individually, it passes.\r\nWhen I run all the tests, on the second run I get the following error for the testLogLevelTraceCheck:\r\n\r\n    Expected java.util.NoSuchElementException to be thrown, but nothing was thrown.\r\n    org.opentest4j.AssertionFailedError: Expected java.util.NoSuchElementException to be thrown, but nothing was thrown.\r\n    \tat app//org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:71)\r\n    \tat app//org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:37)\r\n    \tat app//org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3082)\r\n\r\n\r\nI thought it was enough to reinstantiate the logger in @BeforeEach, but somehow it doesn&#39;t happen all the time this. \r\nDo you have any suggestions? \r\n\r\n","title":"Junit 5: Expected exception to be thrown, but nothing was thrown","body":"<p>I have very strange behavior for the following test:</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.NoSuchElementException;\nimport java.util.stream.Stream;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.junit.jupiter.api.Assertions.assertThrows;\n\npublic class TestLogger {\n    static IPcdsLogger logger;\n    static Logger LOGGER = LoggerFactory.getLogger(TestLogger.class);\n\n    @BeforeEach\n    public void setup() {\n        logger = PcdsLoggerFactory.getLogger(TestLogger.class);\n    }\n\n    @AfterEach\n    public void tearDown() throws IOException {\n        PrintWriter writer = new PrintWriter(new File(&quot;src/test/resources/temp/test.log&quot;));\n        writer.print(&quot;&quot;);\n        writer.close();\n    }\n\n    @AfterAll\n    public static void deleteFile() throws IOException {\n        logger.close();\n        FileUtils.deleteDirectory(new File(&quot;src/test/resources/temp&quot;));\n    }\n\n    @Test\n    public void testJsonParams() throws IOException {\n\n        logger.builder()\n                .add(&quot;hello&quot;, &quot;world&quot;)\n                .add(&quot;bob&quot;, &quot;alice&quot;)\n                .debug(&quot;wtf&quot;);\n\n\n        assertEquals(&quot;world&quot;, readLine(0).get(&quot;hello&quot;));\n        assertEquals(&quot;alice&quot;, readLine(0).get(&quot;bob&quot;));\n\n    }\n\n\n    @Test\n    public void testLogLevelTraceCheck() {\n        logger.traceLevel()\n                .ifPresent(b -&gt; b.add(&quot;hello&quot;, &quot;world&quot;).trace());\n        assertThrows(NoSuchElementException.class, () -&gt; readLine(0));\n    }\n\n    private JSONObject readLine(int lineNo) throws IOException  {\n        try (Stream&lt;String&gt; lines = Files.lines(Paths.get(&quot;src/test/resources/temp/test.log&quot;))) {\n            String line = lines.skip(lineNo).findFirst().get();\n            return new JSONObject(line);\n        }\n    }\n</code></pre>\n<p>When I run the test individually, it passes.\nWhen I run all the tests, on the second run I get the following error for the testLogLevelTraceCheck:</p>\n<pre><code>Expected java.util.NoSuchElementException to be thrown, but nothing was thrown.\norg.opentest4j.AssertionFailedError: Expected java.util.NoSuchElementException to be thrown, but nothing was thrown.\n    at app//org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:71)\n    at app//org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:37)\n    at app//org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3082)\n</code></pre>\n<p>I thought it was enough to reinstantiate the logger in @BeforeEach, but somehow it doesn't happen all the time this.\nDo you have any suggestions?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":11653603,"reputation":2210,"user_id":8534088,"display_name":"Dmitriy Popov"},"score":0,"creation_date":1670600014,"post_id":74745167,"comment_id":131917994,"body_markdown":"Should you use your `c`, `d`, `e` counters as `int` instead of `double`?","body":"Should you use your <code>c</code>, <code>d</code>, <code>e</code> counters as <code>int</code> instead of <code>double</code>?"}],"answers":[{"tags":[],"owner":{"account_id":22828513,"reputation":344,"user_id":16977407,"display_name":"Gandhi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670600310,"creation_date":1670600310,"answer_id":74745240,"question_id":74745167,"body_markdown":"you use `a`, `i` and `j` as indices of the array `b`, but you are not allowed to use a double variable as an index in java, you have to use integers. You can use `Math.floor()` to convert the doubles to ints","title":"PLus MInus program in java","body":"<p>you use <code>a</code>, <code>i</code> and <code>j</code> as indices of the array <code>b</code>, but you are not allowed to use a double variable as an index in java, you have to use integers. You can use <code>Math.floor()</code> to convert the doubles to ints</p>\n"}],"owner":{"account_id":18151019,"reputation":11,"user_id":13203737,"display_name":"Shivansh Raghav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74745240,"answer_count":1,"score":0,"last_activity_date":1670600310,"creation_date":1670599912,"question_id":74745167,"body_markdown":"Given an array arr of N integers, Calculate the ratios of its elements that are positive, negative, and zero to the array size N.\r\n\r\nPrint the decimal value of each fraction in a new line up to 6 decimal places.\r\nLanguage Java \r\n\r\nInput Format\r\nThe first line contains an integer N, the size of the array.\r\n\r\nThe second line contains N space-separated integers representing the array arr.\r\n\r\nOutput Format\r\nPrint the 3 required ratios up to 6 decimal places.\r\n\r\nExample 1\r\nInput\r\n6\r\n-4 3 -9 -5 4 1\r\n\r\n\r\nOutput\r\n0.500000\r\n0.500000\r\n0.000000\r\n\r\n\r\nI wrote the below code for the mentioned program ,\r\n I keep getting the error error: incompatible types: possible lossy conversion from double to int\r\nI declared everything as a double but still getting the error \r\n\r\n\r\n\r\n```\r\nimport java.util.*;\r\nimport java.lang.*;\r\nimport java.io.*;\r\n\r\npublic class Main\r\n{\r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t\tScanner sc = new Scanner(System.in);\r\n    double a = sc.nextDouble();\r\n    double b[] = new double[a];\r\n    double c=0,d=0,e=0;\r\n    for(double i=0;i&lt;a;i++){\r\n      b[i]= sc.nextDouble();//your code here\r\n\t}\r\n    for(double j=0 ; j&lt;a ;j++){\r\n      if(b[j]&gt;0){\r\n        c++;\r\n      }\r\n      else if(b[j]&lt;0){\r\n        d++;\r\n      }\r\n      else{\r\n        e++;\r\n      }\r\n    } \r\n\r\n    System.out.println(String.format(&quot; %.6f&quot;,(c/a)));\r\n     System.out.println(String.format(&quot; %.6f&quot;,(d/a)));\r\n     System.out.println(String.format(&quot; %.6f&quot;,(e/a)));\r\n}}\r\n```\r\n","title":"PLus MInus program in java","body":"<p>Given an array arr of N integers, Calculate the ratios of its elements that are positive, negative, and zero to the array size N.</p>\n<p>Print the decimal value of each fraction in a new line up to 6 decimal places.\nLanguage Java</p>\n<p>Input Format\nThe first line contains an integer N, the size of the array.</p>\n<p>The second line contains N space-separated integers representing the array arr.</p>\n<p>Output Format\nPrint the 3 required ratios up to 6 decimal places.</p>\n<p>Example 1\nInput\n6\n-4 3 -9 -5 4 1</p>\n<p>Output\n0.500000\n0.500000\n0.000000</p>\n<p>I wrote the below code for the mentioned program ,\nI keep getting the error error: incompatible types: possible lossy conversion from double to int\nI declared everything as a double but still getting the error</p>\n<pre><code>import java.util.*;\nimport java.lang.*;\nimport java.io.*;\n\npublic class Main\n{\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        Scanner sc = new Scanner(System.in);\n    double a = sc.nextDouble();\n    double b[] = new double[a];\n    double c=0,d=0,e=0;\n    for(double i=0;i&lt;a;i++){\n      b[i]= sc.nextDouble();//your code here\n    }\n    for(double j=0 ; j&lt;a ;j++){\n      if(b[j]&gt;0){\n        c++;\n      }\n      else if(b[j]&lt;0){\n        d++;\n      }\n      else{\n        e++;\n      }\n    } \n\n    System.out.println(String.format(&quot; %.6f&quot;,(c/a)));\n     System.out.println(String.format(&quot; %.6f&quot;,(d/a)));\n     System.out.println(String.format(&quot; %.6f&quot;,(e/a)));\n}}\n</code></pre>\n"},{"tags":["java","android","xml","android-styles"],"answers":[{"tags":[],"owner":{"account_id":1039908,"reputation":12848,"user_id":1205368,"accept_rate":83,"display_name":"Salem"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1416175768,"creation_date":1416175768,"answer_id":26962633,"question_id":26958179,"body_markdown":"If I&#39;m not mistaken that code means Android found a reference when it expected a color value or failed to convert reference to color. Looking at your code this line stands out\r\n\r\n    &lt;item name=&quot;android:textColor&quot;&gt;@style/MyActionBarTitleText&lt;/item&gt;\r\n\r\nDespite you can have a reference in textColor I&#39;m not sure you can set it as a style.\r\n\r\nSo try to reference your color directly\r\n\r\n    &lt;item name=&quot;android:textColor&quot;&gt;@color/actionbar_text&lt;/item&gt;\r\n","title":"java.lang.UnsupportedOperationException: Can&#39;t convert to color: type=0x1","body":"<p>If I'm not mistaken that code means Android found a reference when it expected a color value or failed to convert reference to color. Looking at your code this line stands out</p>\n\n<pre><code>&lt;item name=\"android:textColor\"&gt;@style/MyActionBarTitleText&lt;/item&gt;\n</code></pre>\n\n<p>Despite you can have a reference in textColor I'm not sure you can set it as a style.</p>\n\n<p>So try to reference your color directly</p>\n\n<pre><code>&lt;item name=\"android:textColor\"&gt;@color/actionbar_text&lt;/item&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13843389,"reputation":1,"user_id":9993080,"display_name":"Prasad Shirsath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628334894,"creation_date":1628334894,"answer_id":68691880,"question_id":26958179,"body_markdown":"In my case I changed com.github.amlcurran.showcaseview:library:+ to specific version\r\ni.e. com.github.amlcurran.showcaseview:library:5.4.3\r\nAnd it is working fine.","title":"java.lang.UnsupportedOperationException: Can&#39;t convert to color: type=0x1","body":"<p>In my case I changed com.github.amlcurran.showcaseview:library:+ to specific version\ni.e. com.github.amlcurran.showcaseview:library:5.4.3\nAnd it is working fine.</p>\n"},{"tags":[],"owner":{"account_id":25215626,"reputation":71,"user_id":19052779,"display_name":"Reza Asgari"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670600229,"creation_date":1670257910,"answer_id":74691425,"question_id":26958179,"body_markdown":"I have the same error (`Can&#39;t convert value at index 1 to color: type=0x1`) with this code:\r\n\r\n    &lt;item name=&quot;colorPrimary&quot;&gt;@color/material_dynamic_primary20&lt;/item&gt;\r\n    &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/design_default_color_primary_dark&lt;/item&gt;\r\n    &lt;item name=&quot;colorAccent&quot;&gt;@color/slidetoact_defaultAccent&lt;/item&gt;\r\n\r\nIt just needs to be replaced with this &#128071;\r\n\r\n    &lt;item name=&quot;colorPrimary&quot;&gt;#003549&lt;/item&gt;\r\n    &lt;item name=&quot;colorPrimaryDark&quot;&gt;#3700B3&lt;/item&gt;\r\n    &lt;item name=&quot;colorAccent&quot;&gt;#FF4081&lt;/item&gt;","title":"java.lang.UnsupportedOperationException: Can&#39;t convert to color: type=0x1","body":"<p>I have the same error (<code>Can't convert value at index 1 to color: type=0x1</code>) with this code:</p>\n<pre><code>&lt;item name=&quot;colorPrimary&quot;&gt;@color/material_dynamic_primary20&lt;/item&gt;\n&lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/design_default_color_primary_dark&lt;/item&gt;\n&lt;item name=&quot;colorAccent&quot;&gt;@color/slidetoact_defaultAccent&lt;/item&gt;\n</code></pre>\n<p>It just needs to be replaced with this 👇</p>\n<pre><code>&lt;item name=&quot;colorPrimary&quot;&gt;#003549&lt;/item&gt;\n&lt;item name=&quot;colorPrimaryDark&quot;&gt;#3700B3&lt;/item&gt;\n&lt;item name=&quot;colorAccent&quot;&gt;#FF4081&lt;/item&gt;\n</code></pre>\n"}],"owner":{"account_id":943383,"reputation":6188,"user_id":971083,"accept_rate":88,"display_name":"RonnyKnoxville"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14664,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":26962633,"answer_count":3,"score":6,"last_activity_date":1670600229,"creation_date":1416149131,"question_id":26958179,"body_markdown":"I&#39;ve been following throught the myfirstapp guide on Android developers training but I&#39;ve come across a problem where [they do not properly explain how to define colors.][1]\r\n\r\nThey mention that to create a custom theme, you can declare your text colors as such:\r\n\r\nthemes.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;resources&gt;\r\n        &lt;!-- the theme applied to the application or activity --&gt;\r\n        &lt;style name=&quot;CustomActionBarTheme&quot;\r\n            parent=&quot;@android:style/Theme.Holo.Light.DarkActionBar&quot;&gt;\r\n            &lt;item name=&quot;android:actionBarStyle&quot;&gt;@style/MyActionBar&lt;/item&gt;\r\n            &lt;item name=&quot;android:textColor&quot;&gt;@style/MyActionBarTitleText&lt;/item&gt;\r\n            &lt;item name=&quot;android:actionBarTabTextStyle&quot;&gt;@style/MyActionBarTabText&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    \r\n        &lt;!-- ActionBar styles --&gt;\r\n        &lt;style name=&quot;MyActionBar&quot;\r\n            parent=&quot;@android:style/Widget.Holo.Light.ActionBar.Solid.Inverse&quot;&gt;\r\n            &lt;item name=&quot;android:background&quot;&gt;@drawable/actionbar_background&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    \r\n        &lt;!-- ActionBar title text --&gt;\r\n        &lt;style name=&quot;MyActionBarTitleText&quot;\r\n            parent=&quot;@android:style/TextAppearance.Holo.Widget.ActionBar.Title&quot;&gt;\r\n            &lt;item name=&quot;android:textColor&quot;&gt;@color/actionbar_text&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    \r\n        &lt;!-- ActionBar tabs text styles --&gt;\r\n        &lt;style name=&quot;MyActionBarTabText&quot;\r\n            parent=&quot;@android:style/Widget.Holo.ActionBar.TabText&quot;&gt;\r\n            &lt;item name=&quot;android:textColor&quot;&gt;@color/actionbar_text&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    &lt;/resources&gt;\r\n\r\nThey do not mention how to specify `@color/actionbar_text`, but common sense (and some googling) indicates that a colors.xml file is required in the values package:\r\n\r\ncolors.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;resources&gt;\r\n        &lt;color name=&quot;actionbar_text&quot;&gt;#ff355689&lt;/color&gt;\r\n    &lt;/resources&gt;\r\n\r\nHowever, when trying to run the app, it gives an error:\r\n\r\n    Process: com.example.myfirstapp, PID: 25997\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.myfirstapp/com.example.myfirstapp.MainActivity}: java.lang.UnsupportedOperationException: Can&#39;t convert to color: type=0x1\r\n\r\nIf I remove the line from colors.xml, it errors when it can&#39;t find the color reference. Im relatively certain my code is correct, can anyone see any errors?\r\n\r\n![android studio showing error][2]\r\n\r\n**EDIT**\r\n\r\nI just wanted to note that I am actually using slightly different syntax for the themes.xml file as the tutorial ones dont compile. The tutorial uses `@style/Widget.Holo.ActionBar.TabText`, which I found was actually a property of android, so I needed to use `@android:style/Widget.Holo.ActionBar.TabText` instead.\r\n\r\n\r\n  [1]: http://developer.android.com/training/basics/actionbar/styling.html#\r\n  [2]: http://i.stack.imgur.com/1nxyV.png","title":"java.lang.UnsupportedOperationException: Can&#39;t convert to color: type=0x1","body":"<p>I've been following throught the myfirstapp guide on Android developers training but I've come across a problem where <a href=\"http://developer.android.com/training/basics/actionbar/styling.html#\" rel=\"noreferrer\">they do not properly explain how to define colors.</a></p>\n\n<p>They mention that to create a custom theme, you can declare your text colors as such:</p>\n\n<p>themes.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n    &lt;!-- the theme applied to the application or activity --&gt;\n    &lt;style name=\"CustomActionBarTheme\"\n        parent=\"@android:style/Theme.Holo.Light.DarkActionBar\"&gt;\n        &lt;item name=\"android:actionBarStyle\"&gt;@style/MyActionBar&lt;/item&gt;\n        &lt;item name=\"android:textColor\"&gt;@style/MyActionBarTitleText&lt;/item&gt;\n        &lt;item name=\"android:actionBarTabTextStyle\"&gt;@style/MyActionBarTabText&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;!-- ActionBar styles --&gt;\n    &lt;style name=\"MyActionBar\"\n        parent=\"@android:style/Widget.Holo.Light.ActionBar.Solid.Inverse\"&gt;\n        &lt;item name=\"android:background\"&gt;@drawable/actionbar_background&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;!-- ActionBar title text --&gt;\n    &lt;style name=\"MyActionBarTitleText\"\n        parent=\"@android:style/TextAppearance.Holo.Widget.ActionBar.Title\"&gt;\n        &lt;item name=\"android:textColor\"&gt;@color/actionbar_text&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;!-- ActionBar tabs text styles --&gt;\n    &lt;style name=\"MyActionBarTabText\"\n        parent=\"@android:style/Widget.Holo.ActionBar.TabText\"&gt;\n        &lt;item name=\"android:textColor\"&gt;@color/actionbar_text&lt;/item&gt;\n    &lt;/style&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>They do not mention how to specify <code>@color/actionbar_text</code>, but common sense (and some googling) indicates that a colors.xml file is required in the values package:</p>\n\n<p>colors.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n    &lt;color name=\"actionbar_text\"&gt;#ff355689&lt;/color&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>However, when trying to run the app, it gives an error:</p>\n\n<pre><code>Process: com.example.myfirstapp, PID: 25997\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.myfirstapp/com.example.myfirstapp.MainActivity}: java.lang.UnsupportedOperationException: Can't convert to color: type=0x1\n</code></pre>\n\n<p>If I remove the line from colors.xml, it errors when it can't find the color reference. Im relatively certain my code is correct, can anyone see any errors?</p>\n\n<p><img src=\"https://i.stack.imgur.com/1nxyV.png\" alt=\"android studio showing error\"></p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I just wanted to note that I am actually using slightly different syntax for the themes.xml file as the tutorial ones dont compile. The tutorial uses <code>@style/Widget.Holo.ActionBar.TabText</code>, which I found was actually a property of android, so I needed to use <code>@android:style/Widget.Holo.ActionBar.TabText</code> instead.</p>\n"},{"tags":["java","types","tuples"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1670592510,"post_id":74743747,"comment_id":131915499,"body_markdown":"&quot;but seems completely pointless&quot; Exactly! You just reinvented the list. Is there anything special that you want a `Tuple&lt;T&gt;` to do, that a `List&lt;T&gt;` cannot do?","body":"&quot;but seems completely pointless&quot; Exactly! You just reinvented the list. Is there anything special that you want a <code>Tuple&lt;T&gt;</code> to do, that a <code>List&lt;T&gt;</code> cannot do?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1670592616,"post_id":74743747,"comment_id":131915537,"body_markdown":"I guess there should be `accept(t1);` and `accept(t2);` (instead of `accept(t)`).","body":"I guess there should be <code>accept(t1);</code> and <code>accept(t2);</code> (instead of <code>accept(t)</code>)."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1670592685,"post_id":74743747,"comment_id":131915563,"body_markdown":"*&quot;I simply can replace Tuple&lt;T&gt; with List.of()&quot;* - right, `List.of()` is an equivalent of your `TupleN`.","body":"<i>&quot;I simply can replace Tuple&lt;T&gt; with List.of()&quot;</i> - right, <code>List.of()</code> is an equivalent of your <code>TupleN</code>."},{"owner":{"account_id":13430029,"reputation":945,"user_id":9690114,"display_name":"RomanMitasov"},"score":0,"creation_date":1670593747,"post_id":74743747,"comment_id":131915907,"body_markdown":"@Sweeper sure! `List` is a collection, that has its own type hierarchy, has methods `add`, `remove` etc. I want to create clear and straightforward API which tell the user that this particular method accepts exactly tuples, not an `ArrayList` or something. That&#39;s because I called `static` method approach pointless, as it doesn&#39;t include inheritance and `TupleN` is not a subtype of `Tuple`. Example with inheritance on the other hand is a complete opposite of pointlessness.","body":"@Sweeper sure! <code>List</code> is a collection, that has its own type hierarchy, has methods <code>add</code>, <code>remove</code> etc. I want to create clear and straightforward API which tell the user that this particular method accepts exactly tuples, not an <code>ArrayList</code> or something. That&#39;s because I called <code>static</code> method approach pointless, as it doesn&#39;t include inheritance and <code>TupleN</code> is not a subtype of <code>Tuple</code>. Example with inheritance on the other hand is a complete opposite of pointlessness."},{"owner":{"account_id":13430029,"reputation":945,"user_id":9690114,"display_name":"RomanMitasov"},"score":0,"creation_date":1670594321,"post_id":74743747,"comment_id":131916108,"body_markdown":"The problem of using just Lists here and there is that that kind of API does not restrict misusage, e.g. mutation, and sure that misusage will lead to runtime errors. If that problem is unsolvable than I should either really just use `List` with some comments &quot;please do not use `List` as `List`, otherwise everything breaks&quot; or use raw-typed `Tuple` just as marker-interface, also with comment &quot;but here must be only `Number` tuples, otherwise everything breaks&quot;. All I want to know: Is it REALLY unsolvable? =)","body":"The problem of using just Lists here and there is that that kind of API does not restrict misusage, e.g. mutation, and sure that misusage will lead to runtime errors. If that problem is unsolvable than I should either really just use <code>List</code> with some comments &quot;please do not use <code>List</code> as <code>List</code>, otherwise everything breaks&quot; or use raw-typed <code>Tuple</code> just as marker-interface, also with comment &quot;but here must be only <code>Number</code> tuples, otherwise everything breaks&quot;. All I want to know: Is it REALLY unsolvable? =)"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1670594869,"post_id":74743747,"comment_id":131916311,"body_markdown":"Lists created using `List.of` do not allow `add` and `remove`, and the standard library lives with this just fine. I really don&#39;t see a problem here. What *if* I gave your method an `ArrayList`? It wouldn&#39;t and shouldn&#39;t break, right? That&#39;s the whole point of interfaces.","body":"Lists created using <code>List.of</code> do not allow <code>add</code> and <code>remove</code>, and the standard library lives with this just fine. I really don&#39;t see a problem here. What <i>if</i> I gave your method an <code>ArrayList</code>? It wouldn&#39;t and shouldn&#39;t break, right? That&#39;s the whole point of interfaces."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1670616030,"post_id":74743747,"comment_id":131922535,"body_markdown":"There is no generic and useful way to solve this problem.  You have listed all the possibilities.  There is no clever solution that you haven&#39;t thought of yet.","body":"There is no generic and useful way to solve this problem.  You have listed all the possibilities.  There is no clever solution that you haven&#39;t thought of yet."}],"owner":{"account_id":13430029,"reputation":945,"user_id":9690114,"display_name":"RomanMitasov"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670600202,"creation_date":1670592185,"question_id":74743747,"body_markdown":"Let&#39;s say I have class `TupleN&lt;T...&gt;` which I want to derive from some type `Tuple&lt;T&gt;` like so:\r\n\r\n```java\r\n// with Tuple1 that seems okay\r\nclass Tuple1&lt;T&gt; implements Tuple&lt;T&gt; { ... }\r\n\r\n// but what should I put instead of ***?\r\nclass Tuple2&lt;T1, T2&gt; implements Tuple&lt;***&gt; { ... }\r\n```\r\n\r\nWhat I want is a some sort of behaviour that allows me to define methods that accept not any raw typed `Tuple`, but a `Tuple&lt;T&gt;` with some upper bound type restriction (e.g. for heterogeneous container implementation):\r\n\r\n```java\r\nvoid accept(Tuple&lt;Number&gt; tupleOfNumbers) { ... }\r\n\r\n...\r\n\r\nTuple&lt;Integer, Float, Double&gt; t = new Tuple3(123, 12.5f, 43.99d);\r\nTuple&lt;Integer, Float, String&gt; t2 = new Tuple3(123, 12.5f, &quot;43.99&quot;);\r\n\r\n// ... some Tuple logic here\r\n\r\naccept(t); // Okay!\r\naccept(t2); // not okay, common ancestor is not a Number!\r\n```\r\n\r\nI know that conversion from `TupleN` to some homogeneous `Tuple&lt;T&gt;` is possible through static generic methods:\r\n\r\n```java\r\nclass Tuple&lt;T&gt; { ... }\r\n\r\nrecord Tuple2&lt;T1, T2&gt;(T1 val1, T2 val2) {\r\n\r\n  // ...\r\n\r\n static &lt;T, T1 extends T, T2 extends T&gt; Tuple&lt;T&gt; toTuple(Tuple2&lt;T1, T2&gt; t) {\r\n   return new Tuple&lt;T&gt;(t.val1, t.val2);\r\n }\r\n}\r\n\r\n// ... somewhere else\r\nvar t = Tuple2(123, 123f);\r\nTuple&lt;Number&gt; l = Tuple2.toTuple(t); // types T, T1 and T2 are inferred properly and that works!\r\n```\r\n\r\nThat works, but seems completely pointless as I simply can replace `Tuple&lt;T&gt;` with `List.of()`.\r\n\r\nSo I can&#39;t figure out the non-static way of doing this other than adding an explicit third common ancestor type parameter:\r\n\r\n```java\r\nrecord Tuple2&lt;T, T1 extends T, T2 extends T&gt;(T1 val1, T2 val2) implements Tuple&lt;T&gt; {}\r\n```\r\n\r\nMaybe I&#39;m missing some good approach? Please tell me if you have had the same issue.","title":"How to pass the closest common ancestor to superclass type parameter in Java","body":"<p>Let's say I have class <code>TupleN&lt;T...&gt;</code> which I want to derive from some type <code>Tuple&lt;T&gt;</code> like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// with Tuple1 that seems okay\nclass Tuple1&lt;T&gt; implements Tuple&lt;T&gt; { ... }\n\n// but what should I put instead of ***?\nclass Tuple2&lt;T1, T2&gt; implements Tuple&lt;***&gt; { ... }\n</code></pre>\n<p>What I want is a some sort of behaviour that allows me to define methods that accept not any raw typed <code>Tuple</code>, but a <code>Tuple&lt;T&gt;</code> with some upper bound type restriction (e.g. for heterogeneous container implementation):</p>\n<pre class=\"lang-java prettyprint-override\"><code>void accept(Tuple&lt;Number&gt; tupleOfNumbers) { ... }\n\n...\n\nTuple&lt;Integer, Float, Double&gt; t = new Tuple3(123, 12.5f, 43.99d);\nTuple&lt;Integer, Float, String&gt; t2 = new Tuple3(123, 12.5f, &quot;43.99&quot;);\n\n// ... some Tuple logic here\n\naccept(t); // Okay!\naccept(t2); // not okay, common ancestor is not a Number!\n</code></pre>\n<p>I know that conversion from <code>TupleN</code> to some homogeneous <code>Tuple&lt;T&gt;</code> is possible through static generic methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Tuple&lt;T&gt; { ... }\n\nrecord Tuple2&lt;T1, T2&gt;(T1 val1, T2 val2) {\n\n  // ...\n\n static &lt;T, T1 extends T, T2 extends T&gt; Tuple&lt;T&gt; toTuple(Tuple2&lt;T1, T2&gt; t) {\n   return new Tuple&lt;T&gt;(t.val1, t.val2);\n }\n}\n\n// ... somewhere else\nvar t = Tuple2(123, 123f);\nTuple&lt;Number&gt; l = Tuple2.toTuple(t); // types T, T1 and T2 are inferred properly and that works!\n</code></pre>\n<p>That works, but seems completely pointless as I simply can replace <code>Tuple&lt;T&gt;</code> with <code>List.of()</code>.</p>\n<p>So I can't figure out the non-static way of doing this other than adding an explicit third common ancestor type parameter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Tuple2&lt;T, T1 extends T, T2 extends T&gt;(T1 val1, T2 val2) implements Tuple&lt;T&gt; {}\n</code></pre>\n<p>Maybe I'm missing some good approach? Please tell me if you have had the same issue.</p>\n"},{"tags":["java","android","libgdx"],"answers":[{"tags":[],"owner":{"account_id":25909379,"reputation":1,"user_id":19633924,"display_name":"Dave"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670599687,"creation_date":1670599687,"answer_id":74745119,"question_id":74593887,"body_markdown":"```manager.load()``` will queue your asset, not immediately load it.\r\nOnly when ```manager.update()``` returns true will the assets be available.\r\n\r\nLooks like your problem is in SplashScreen\r\n```\r\n        for (int i=1;i&lt;=5;i++){\r\n            manager.load(&quot;bater_1/&quot;+i+&quot;.png&quot;,Texture.class);\r\n        }\r\n        //not allowed\r\n        goku = manager.get(&quot;bater_1/goku2.png&quot;,Texture.class);\r\n```\r\n\r\n\r\nAssetManager is well explained here https://libgdx.com/wiki/managing-your-assets","title":"Problems loading assets in libgdx","body":"<p><code>manager.load()</code> will queue your asset, not immediately load it.\nOnly when <code>manager.update()</code> returns true will the assets be available.</p>\n<p>Looks like your problem is in SplashScreen</p>\n<pre><code>        for (int i=1;i&lt;=5;i++){\n            manager.load(&quot;bater_1/&quot;+i+&quot;.png&quot;,Texture.class);\n        }\n        //not allowed\n        goku = manager.get(&quot;bater_1/goku2.png&quot;,Texture.class);\n</code></pre>\n<p>AssetManager is well explained here <a href=\"https://libgdx.com/wiki/managing-your-assets\" rel=\"nofollow noreferrer\">https://libgdx.com/wiki/managing-your-assets</a></p>\n"}],"owner":{"account_id":27066223,"reputation":1,"user_id":20617546,"display_name":"THIAGO PORTO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670599687,"creation_date":1669584089,"question_id":74593887,"body_markdown":"I&#39;m new to the world of app development, but I already have some specific knowledge. But my issue is the following involving libgdx and Android Studio:\r\n\r\nWhen trying to load a texture through the Assets Manager method, the following error occurs:\r\n`\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: GLThread 593\r\n    Process: br.com.tpgames.dbz, PID: 19495\r\n    com.badlogic.gdx.utils.GdxRuntimeException: Asset not loaded: bater_1/goku2.png\r\n        at com.badlogic.gdx.assets.AssetManager.get(AssetManager.java:172)\r\n        at com.badlogic.gdx.assets.AssetManager.get(AssetManager.java:143)\r\n        at br.com.tpgames.dbz.SplashScreen.&lt;init&gt;(SplashScreen.java:53)\r\n```\r\n`\r\n\r\nMy codes:\r\n\r\nmain class:\r\n\r\n`\r\n```\r\npublic class MainClass extends Game {\r\n\r\n   public AssetManager manager;\r\n\r\n\r\n   public void create () {\r\n\r\n\r\n\r\n\r\n      setScreen(new SplashScreen (this, manager));\r\n\r\n   }\r\n\r\n\r\n}\r\n\r\n```\r\n`\r\n\r\nSplash screen\r\n`\r\n```\r\npublic class SplashScreen implements Screen {\r\n\r\n    private Game game;\r\n    private AssetManager manager;\r\n    private float time = 0;\r\n\r\n\r\n    private SpriteBatch batch;\r\n    private Texture tex;\r\n\r\n    long startime;\r\n\r\n    public Texture goku;\r\n\r\n\r\n\r\n    public SplashScreen(Game game, AssetManager manager){\r\n        this.game = game;\r\n        this.manager = manager;\r\n\r\n        batch = new SpriteBatch();\r\n        tex = new Texture(&quot;logo.png&quot;);\r\n\r\n        startime = TimeUtils.millis();\r\n\r\n        manager = new AssetManager();\r\n        for (int i=1;i&lt;=5;i++){\r\n            manager.load(&quot;bater_1/&quot;+i+&quot;.png&quot;,Texture.class);\r\n        }\r\n\r\n        boolean load = manager.isLoaded(&quot;bater_1/goku1.png&quot;);\r\n        Gdx.app.log(&quot;Log&quot;, String.valueOf(load));\r\n\r\n\r\n        goku = manager.get(&quot;bater_1/goku2.png&quot;,Texture.class);\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void show() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void render(float delta) {\r\n        time+=delta;\r\n\r\n\r\n        if (manager.update() &amp;&amp; time &gt;=2){      //Se o tempo for maior que 2 segundos, vai abrir a tela principal\r\n            game.setScreen(new Tela_Principal(game,manager));\r\n        }\r\n\r\n\r\n        Gdx.gl.glClearColor(1,1,1,1);\r\n        Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\r\n        batch.begin();\r\n        batch.draw(tex, (float) (screenx*0.26), (float) (screeny*0.1), (float) (screenx*0.5), (float) (screeny*0.8));\r\n\r\n        batch.end();\r\n\r\n    }\r\n\r\n    @Override\r\n    public void resize(int width, int height) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void pause() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void resume() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void hide() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void dispose() {\r\n\r\n    }\r\n}\r\n\r\n```\r\n`\r\n\r\n\r\nConstants\r\n`\r\n```\r\npublic class Constantes {\r\n    public static int screenx = Gdx.graphics.getWidth();\r\n    public static int screeny = Gdx.graphics.getHeight();\r\n}\r\n\r\n```\r\n`\r\n\r\n\r\n\r\n```\r\n\r\n\r\nMain screen\r\n\r\n```\r\n`\r\npublic class Tela_Principal implements Screen {\r\n\r\n    private Game game;\r\n    private AssetManager manager;\r\n    private SpriteBatch batch;\r\n\r\n    private SplashScreen splashScreen;\r\n\r\n    // private Texture goku;\r\n\r\n\r\n    public Tela_Principal(Game game, AssetManager manager){\r\n        this.game = game;\r\n        this.manager = manager;\r\n\r\n        splashScreen = new SplashScreen(game,manager);\r\n\r\n\r\n        for (int i=1;i&lt;=5;i++){\r\n            manager.load(&quot;bater_1/goku&quot;+i+&quot;.png&quot;,Texture.class);\r\n        }\r\n\r\n        batch = new SpriteBatch();\r\n        // goku = manager.get(&quot;bater_1/goku1.png&quot;,Texture.class);\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void show() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void render(float delta) {\r\n\r\n\r\n        Gdx.gl.glClearColor(0,1,0,0);\r\n        Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\r\n\r\n        batch.begin();\r\n        batch.draw(splashScreen.goku, (float) (screenx *0.1), (float) (screeny*0.1));\r\n        batch.end();\r\n\r\n    }\r\n\r\n    @Override\r\n    public void resize(int width, int height) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void pause() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void resume() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void hide() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void dispose() {\r\n\r\n    }\r\n}\r\n\r\n```\r\n`\r\n\r\nI thank you for your help!!","title":"Problems loading assets in libgdx","body":"<p>I'm new to the world of app development, but I already have some specific knowledge. But my issue is the following involving libgdx and Android Studio:</p>\n<p>When trying to load a texture through the Assets Manager method, the following error occurs:\n`</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: GLThread 593\n    Process: br.com.tpgames.dbz, PID: 19495\n    com.badlogic.gdx.utils.GdxRuntimeException: Asset not loaded: bater_1/goku2.png\n        at com.badlogic.gdx.assets.AssetManager.get(AssetManager.java:172)\n        at com.badlogic.gdx.assets.AssetManager.get(AssetManager.java:143)\n        at br.com.tpgames.dbz.SplashScreen.&lt;init&gt;(SplashScreen.java:53)\n</code></pre>\n<p>`</p>\n<p>My codes:</p>\n<p>main class:</p>\n<p>`</p>\n<pre><code>public class MainClass extends Game {\n\n   public AssetManager manager;\n\n\n   public void create () {\n\n\n\n\n      setScreen(new SplashScreen (this, manager));\n\n   }\n\n\n}\n\n</code></pre>\n<p>`</p>\n<p>Splash screen\n`</p>\n<pre><code>public class SplashScreen implements Screen {\n\n    private Game game;\n    private AssetManager manager;\n    private float time = 0;\n\n\n    private SpriteBatch batch;\n    private Texture tex;\n\n    long startime;\n\n    public Texture goku;\n\n\n\n    public SplashScreen(Game game, AssetManager manager){\n        this.game = game;\n        this.manager = manager;\n\n        batch = new SpriteBatch();\n        tex = new Texture(&quot;logo.png&quot;);\n\n        startime = TimeUtils.millis();\n\n        manager = new AssetManager();\n        for (int i=1;i&lt;=5;i++){\n            manager.load(&quot;bater_1/&quot;+i+&quot;.png&quot;,Texture.class);\n        }\n\n        boolean load = manager.isLoaded(&quot;bater_1/goku1.png&quot;);\n        Gdx.app.log(&quot;Log&quot;, String.valueOf(load));\n\n\n        goku = manager.get(&quot;bater_1/goku2.png&quot;,Texture.class);\n\n\n\n\n    }\n\n\n    @Override\n    public void show() {\n\n    }\n\n    @Override\n    public void render(float delta) {\n        time+=delta;\n\n\n        if (manager.update() &amp;&amp; time &gt;=2){      //Se o tempo for maior que 2 segundos, vai abrir a tela principal\n            game.setScreen(new Tela_Principal(game,manager));\n        }\n\n\n        Gdx.gl.glClearColor(1,1,1,1);\n        Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\n        batch.begin();\n        batch.draw(tex, (float) (screenx*0.26), (float) (screeny*0.1), (float) (screenx*0.5), (float) (screeny*0.8));\n\n        batch.end();\n\n    }\n\n    @Override\n    public void resize(int width, int height) {\n\n    }\n\n    @Override\n    public void pause() {\n\n    }\n\n    @Override\n    public void resume() {\n\n    }\n\n    @Override\n    public void hide() {\n\n    }\n\n    @Override\n    public void dispose() {\n\n    }\n}\n\n</code></pre>\n<p>`</p>\n<p>Constants\n`</p>\n<pre><code>public class Constantes {\n    public static int screenx = Gdx.graphics.getWidth();\n    public static int screeny = Gdx.graphics.getHeight();\n}\n\n</code></pre>\n<p>`</p>\n<pre><code>\n\nMain screen\n\n</code></pre>\n<p>`\npublic class Tela_Principal implements Screen {</p>\n<pre><code>private Game game;\nprivate AssetManager manager;\nprivate SpriteBatch batch;\n\nprivate SplashScreen splashScreen;\n\n// private Texture goku;\n\n\npublic Tela_Principal(Game game, AssetManager manager){\n    this.game = game;\n    this.manager = manager;\n\n    splashScreen = new SplashScreen(game,manager);\n\n\n    for (int i=1;i&lt;=5;i++){\n        manager.load(&quot;bater_1/goku&quot;+i+&quot;.png&quot;,Texture.class);\n    }\n\n    batch = new SpriteBatch();\n    // goku = manager.get(&quot;bater_1/goku1.png&quot;,Texture.class);\n\n}\n\n\n@Override\npublic void show() {\n\n}\n\n@Override\npublic void render(float delta) {\n\n\n    Gdx.gl.glClearColor(0,1,0,0);\n    Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\n\n    batch.begin();\n    batch.draw(splashScreen.goku, (float) (screenx *0.1), (float) (screeny*0.1));\n    batch.end();\n\n}\n\n@Override\npublic void resize(int width, int height) {\n\n}\n\n@Override\npublic void pause() {\n\n}\n\n@Override\npublic void resume() {\n\n}\n\n@Override\npublic void hide() {\n\n}\n\n@Override\npublic void dispose() {\n\n}\n</code></pre>\n<p>}</p>\n<pre><code>`\n\nI thank you for your help!!\n</code></pre>\n"},{"tags":["java","scala","apache-spark","rdd","hortonworks-data-platform"],"answers":[{"tags":[],"owner":{"account_id":1416173,"reputation":6877,"user_id":1341806,"accept_rate":80,"display_name":"Dan Ciborowski - MSFT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1434390150,"creation_date":1434390150,"answer_id":30851592,"question_id":30851244,"body_markdown":"S3N is not a default file format. You need to build your version of Spark with a version of Hadoop that has the additional libraries used for AWS compatibility. Additional info I found here, https://www.hakkalabs.co/articles/making-your-local-hadoop-more-like-aws-elastic-mapreduce ","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>S3N is not a default file format. You need to build your version of Spark with a version of Hadoop that has the additional libraries used for AWS compatibility. Additional info I found here, <a href=\"https://www.hakkalabs.co/articles/making-your-local-hadoop-more-like-aws-elastic-mapreduce\" rel=\"nofollow\">https://www.hakkalabs.co/articles/making-your-local-hadoop-more-like-aws-elastic-mapreduce</a> </p>\n"},{"tags":[],"owner":{"account_id":332025,"reputation":6449,"user_id":657067,"accept_rate":74,"display_name":"Polymerase"},"down_vote_count":1,"up_vote_count":45,"is_accepted":true,"score":44,"last_activity_date":1474280475,"creation_date":1434392670,"answer_id":30852341,"question_id":30851244,"body_markdown":"Confirmed that this is related to the Spark build against Hadoop 2.60. Just installed [Spark 1.4.0 &quot;Pre built for Hadoop 2.4 and later&quot;](https://spark.apache.org/downloads.html) (instead of Hadoop 2.6). And the code now works OK. \r\n\r\n`sc.textFile(&quot;s3n://bucketname/Filename&quot;)` now raises another error:\r\n\r\n    java.lang.IllegalArgumentException: AWS Access Key ID and Secret Access Key must be specified as the username or password (respectively) of a s3n URL, or by setting the fs.s3n.awsAccessKeyId or fs.s3n.awsSecretAccessKey properties (respectively).\r\n\r\nThe code below uses the S3 URL format to show that Spark can read S3 file. Using dev machine (no Hadoop libs).\r\n\r\n    scala&gt; val lyrics = sc.textFile(&quot;s3n://MyAccessKeyID:MySecretKey@zpub01/SafeAndSound_Lyrics.txt&quot;)\r\n    lyrics: org.apache.spark.rdd.RDD[String] = MapPartitionsRDD[3] at textFile at &lt;console&gt;:21\r\n    \r\n    scala&gt; lyrics.count\r\n    res1: Long = 9\r\n\r\n**Even Better**: the code above with AWS credentials inline in the S3N URI will break if the AWS Secret Key has a forward &quot;/&quot;. Configuring AWS Credentials in SparkContext will fix it. Code works whether the S3 file is public or private.\r\n\r\n    sc.hadoopConfiguration.set(&quot;fs.s3n.awsAccessKeyId&quot;, &quot;BLABLA&quot;)\r\n    sc.hadoopConfiguration.set(&quot;fs.s3n.awsSecretAccessKey&quot;, &quot;....&quot;) // can contain &quot;/&quot;\r\n    val myRDD = sc.textFile(&quot;s3n://myBucket/MyFilePattern&quot;)\r\n    myRDD.count\r\n","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>Confirmed that this is related to the Spark build against Hadoop 2.60. Just installed <a href=\"https://spark.apache.org/downloads.html\" rel=\"noreferrer\">Spark 1.4.0 \"Pre built for Hadoop 2.4 and later\"</a> (instead of Hadoop 2.6). And the code now works OK. </p>\n\n<p><code>sc.textFile(\"s3n://bucketname/Filename\")</code> now raises another error:</p>\n\n<pre><code>java.lang.IllegalArgumentException: AWS Access Key ID and Secret Access Key must be specified as the username or password (respectively) of a s3n URL, or by setting the fs.s3n.awsAccessKeyId or fs.s3n.awsSecretAccessKey properties (respectively).\n</code></pre>\n\n<p>The code below uses the S3 URL format to show that Spark can read S3 file. Using dev machine (no Hadoop libs).</p>\n\n<pre><code>scala&gt; val lyrics = sc.textFile(\"s3n://MyAccessKeyID:MySecretKey@zpub01/SafeAndSound_Lyrics.txt\")\nlyrics: org.apache.spark.rdd.RDD[String] = MapPartitionsRDD[3] at textFile at &lt;console&gt;:21\n\nscala&gt; lyrics.count\nres1: Long = 9\n</code></pre>\n\n<p><strong>Even Better</strong>: the code above with AWS credentials inline in the S3N URI will break if the AWS Secret Key has a forward \"/\". Configuring AWS Credentials in SparkContext will fix it. Code works whether the S3 file is public or private.</p>\n\n<pre><code>sc.hadoopConfiguration.set(\"fs.s3n.awsAccessKeyId\", \"BLABLA\")\nsc.hadoopConfiguration.set(\"fs.s3n.awsSecretAccessKey\", \"....\") // can contain \"/\"\nval myRDD = sc.textFile(\"s3n://myBucket/MyFilePattern\")\nmyRDD.count\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4690392,"reputation":139,"user_id":3796657,"display_name":"kbt"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1474111309,"creation_date":1435510129,"answer_id":31102277,"question_id":30851244,"body_markdown":"This is a sample spark code which can read the files present on s3\r\n\r\n    val hadoopConf = sparkContext.hadoopConfiguration\r\n    hadoopConf.set(&quot;fs.s3.impl&quot;, &quot;org.apache.hadoop.fs.s3native.NativeS3FileSystem&quot;)\r\n    hadoopConf.set(&quot;fs.s3.awsAccessKeyId&quot;, s3Key)\r\n    hadoopConf.set(&quot;fs.s3.awsSecretAccessKey&quot;, s3Secret)\r\n    var jobInput = sparkContext.textFile(&quot;s3://&quot; + s3_location)","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>This is a sample spark code which can read the files present on s3</p>\n\n<pre><code>val hadoopConf = sparkContext.hadoopConfiguration\nhadoopConf.set(\"fs.s3.impl\", \"org.apache.hadoop.fs.s3native.NativeS3FileSystem\")\nhadoopConf.set(\"fs.s3.awsAccessKeyId\", s3Key)\nhadoopConf.set(\"fs.s3.awsSecretAccessKey\", s3Secret)\nvar jobInput = sparkContext.textFile(\"s3://\" + s3_location)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2237054,"reputation":746,"user_id":1973129,"accept_rate":67,"display_name":"pkozlov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437248101,"creation_date":1437248101,"answer_id":31494840,"question_id":30851244,"body_markdown":"You probably have to use s3a:/ scheme instead of s3:/ or s3n:/\r\nHowever, it is not working out of the box (for me) for the spark shell. I see the following stacktrace:\r\n\r\n    java.lang.RuntimeException: java.lang.ClassNotFoundException: Class org.apache.hadoop.fs.s3a.S3AFileSystem not found\r\n            at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2074)\r\n            at org.apache.hadoop.fs.FileSystem.getFileSystemClass(FileSystem.java:2578)\r\n            at org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:2591)\r\n            at org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:91)\r\n            at org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:2630)\r\n            at org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:2612)\r\n            at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:370)\r\n            at org.apache.hadoop.fs.Path.getFileSystem(Path.java:296)\r\n            at org.apache.hadoop.mapred.FileInputFormat.singleThreadedListStatus(FileInputFormat.java:256)\r\n            at org.apache.hadoop.mapred.FileInputFormat.listStatus(FileInputFormat.java:228)\r\n            at org.apache.hadoop.mapred.FileInputFormat.getSplits(FileInputFormat.java:313)\r\n            at org.apache.spark.rdd.HadoopRDD.getPartitions(HadoopRDD.scala:207)\r\n            at org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:219)\r\n            at org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:217)\r\n            at scala.Option.getOrElse(Option.scala:120)\r\n            at org.apache.spark.rdd.RDD.partitions(RDD.scala:217)\r\n            at org.apache.spark.rdd.MapPartitionsRDD.getPartitions(MapPartitionsRDD.scala:32)\r\n            at org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:219)\r\n            at org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:217)\r\n            at scala.Option.getOrElse(Option.scala:120)\r\n            at org.apache.spark.rdd.RDD.partitions(RDD.scala:217)\r\n            at org.apache.spark.SparkContext.runJob(SparkContext.scala:1781)\r\n            at org.apache.spark.rdd.RDD.count(RDD.scala:1099)\r\n            at $iwC$$iwC$$iwC$$iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:24)\r\n            at $iwC$$iwC$$iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:29)\r\n            at $iwC$$iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:31)\r\n            at $iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:33)\r\n            at $iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:35)\r\n            at $iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:37)\r\n            at $iwC$$iwC.&lt;init&gt;(&lt;console&gt;:39)\r\n            at $iwC.&lt;init&gt;(&lt;console&gt;:41)\r\n            at &lt;init&gt;(&lt;console&gt;:43)\r\n            at .&lt;init&gt;(&lt;console&gt;:47)\r\n            at .&lt;clinit&gt;(&lt;console&gt;)\r\n            at .&lt;init&gt;(&lt;console&gt;:7)\r\n            at .&lt;clinit&gt;(&lt;console&gt;)\r\n            at $print(&lt;console&gt;)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:497)\r\n            at org.apache.spark.repl.SparkIMain$ReadEvalPrint.call(SparkIMain.scala:1065)\r\n            at org.apache.spark.repl.SparkIMain$Request.loadAndRun(SparkIMain.scala:1338)\r\n            at org.apache.spark.repl.SparkIMain.loadAndRunReq$1(SparkIMain.scala:840)\r\n            at org.apache.spark.repl.SparkIMain.interpret(SparkIMain.scala:871)\r\n            at org.apache.spark.repl.SparkIMain.interpret(SparkIMain.scala:819)\r\n            at org.apache.spark.repl.SparkILoop.reallyInterpret$1(SparkILoop.scala:857)\r\n            at org.apache.spark.repl.SparkILoop.interpretStartingWith(SparkILoop.scala:902)\r\n            at org.apache.spark.repl.SparkILoop.command(SparkILoop.scala:814)\r\n            at org.apache.spark.repl.SparkILoop.processLine$1(SparkILoop.scala:657)\r\n            at org.apache.spark.repl.SparkILoop.innerLoop$1(SparkILoop.scala:665)\r\n            at org.apache.spark.repl.SparkILoop.org$apache$spark$repl$SparkILoop$$loop(SparkILoop.scala:670)\r\n            at org.apache.spark.repl.SparkILoop$$anonfun$org$apache$spark$repl$SparkILoop$$process$1.apply$mcZ$sp(SparkILoop.scala:997)\r\n            at org.apache.spark.repl.SparkILoop$$anonfun$org$apache$spark$repl$SparkILoop$$process$1.apply(SparkILoop.scala:945)\r\n            at org.apache.spark.repl.SparkILoop$$anonfun$org$apache$spark$repl$SparkILoop$$process$1.apply(SparkILoop.scala:945)\r\n            at scala.tools.nsc.util.ScalaClassLoader$.savingContextLoader(ScalaClassLoader.scala:135)\r\n            at org.apache.spark.repl.SparkILoop.org$apache$spark$repl$SparkILoop$$process(SparkILoop.scala:945)\r\n            at org.apache.spark.repl.SparkILoop.process(SparkILoop.scala:1059)\r\n            at org.apache.spark.repl.Main$.main(Main.scala:31)\r\n            at org.apache.spark.repl.Main.main(Main.scala)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:497)\r\n            at org.apache.spark.deploy.SparkSubmit$.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:665)\r\n            at org.apache.spark.deploy.SparkSubmit$.doRunMain$1(SparkSubmit.scala:170)\r\n            at org.apache.spark.deploy.SparkSubmit$.submit(SparkSubmit.scala:193)\r\n            at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:112)\r\n            at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\r\n    Caused by: java.lang.ClassNotFoundException: Class org.apache.hadoop.fs.s3a.S3AFileSystem not found\r\n            at org.apache.hadoop.conf.Configuration.getClassByName(Configuration.java:1980)\r\n            at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2072)\r\n            ... 68 more\r\n\r\nWhat I think - you have to manually add the hadoop-aws dependency manually http://search.maven.org/#artifactdetails|org.apache.hadoop|hadoop-aws|2.7.1|jar But I have no idea how to add it to spark-shell properly.\r\n\r\n","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>You probably have to use s3a:/ scheme instead of s3:/ or s3n:/\nHowever, it is not working out of the box (for me) for the spark shell. I see the following stacktrace:</p>\n\n<pre><code>java.lang.RuntimeException: java.lang.ClassNotFoundException: Class org.apache.hadoop.fs.s3a.S3AFileSystem not found\n        at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2074)\n        at org.apache.hadoop.fs.FileSystem.getFileSystemClass(FileSystem.java:2578)\n        at org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:2591)\n        at org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:91)\n        at org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:2630)\n        at org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:2612)\n        at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:370)\n        at org.apache.hadoop.fs.Path.getFileSystem(Path.java:296)\n        at org.apache.hadoop.mapred.FileInputFormat.singleThreadedListStatus(FileInputFormat.java:256)\n        at org.apache.hadoop.mapred.FileInputFormat.listStatus(FileInputFormat.java:228)\n        at org.apache.hadoop.mapred.FileInputFormat.getSplits(FileInputFormat.java:313)\n        at org.apache.spark.rdd.HadoopRDD.getPartitions(HadoopRDD.scala:207)\n        at org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:219)\n        at org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:217)\n        at scala.Option.getOrElse(Option.scala:120)\n        at org.apache.spark.rdd.RDD.partitions(RDD.scala:217)\n        at org.apache.spark.rdd.MapPartitionsRDD.getPartitions(MapPartitionsRDD.scala:32)\n        at org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:219)\n        at org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:217)\n        at scala.Option.getOrElse(Option.scala:120)\n        at org.apache.spark.rdd.RDD.partitions(RDD.scala:217)\n        at org.apache.spark.SparkContext.runJob(SparkContext.scala:1781)\n        at org.apache.spark.rdd.RDD.count(RDD.scala:1099)\n        at $iwC$$iwC$$iwC$$iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:24)\n        at $iwC$$iwC$$iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:29)\n        at $iwC$$iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:31)\n        at $iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:33)\n        at $iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:35)\n        at $iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:37)\n        at $iwC$$iwC.&lt;init&gt;(&lt;console&gt;:39)\n        at $iwC.&lt;init&gt;(&lt;console&gt;:41)\n        at &lt;init&gt;(&lt;console&gt;:43)\n        at .&lt;init&gt;(&lt;console&gt;:47)\n        at .&lt;clinit&gt;(&lt;console&gt;)\n        at .&lt;init&gt;(&lt;console&gt;:7)\n        at .&lt;clinit&gt;(&lt;console&gt;)\n        at $print(&lt;console&gt;)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:497)\n        at org.apache.spark.repl.SparkIMain$ReadEvalPrint.call(SparkIMain.scala:1065)\n        at org.apache.spark.repl.SparkIMain$Request.loadAndRun(SparkIMain.scala:1338)\n        at org.apache.spark.repl.SparkIMain.loadAndRunReq$1(SparkIMain.scala:840)\n        at org.apache.spark.repl.SparkIMain.interpret(SparkIMain.scala:871)\n        at org.apache.spark.repl.SparkIMain.interpret(SparkIMain.scala:819)\n        at org.apache.spark.repl.SparkILoop.reallyInterpret$1(SparkILoop.scala:857)\n        at org.apache.spark.repl.SparkILoop.interpretStartingWith(SparkILoop.scala:902)\n        at org.apache.spark.repl.SparkILoop.command(SparkILoop.scala:814)\n        at org.apache.spark.repl.SparkILoop.processLine$1(SparkILoop.scala:657)\n        at org.apache.spark.repl.SparkILoop.innerLoop$1(SparkILoop.scala:665)\n        at org.apache.spark.repl.SparkILoop.org$apache$spark$repl$SparkILoop$$loop(SparkILoop.scala:670)\n        at org.apache.spark.repl.SparkILoop$$anonfun$org$apache$spark$repl$SparkILoop$$process$1.apply$mcZ$sp(SparkILoop.scala:997)\n        at org.apache.spark.repl.SparkILoop$$anonfun$org$apache$spark$repl$SparkILoop$$process$1.apply(SparkILoop.scala:945)\n        at org.apache.spark.repl.SparkILoop$$anonfun$org$apache$spark$repl$SparkILoop$$process$1.apply(SparkILoop.scala:945)\n        at scala.tools.nsc.util.ScalaClassLoader$.savingContextLoader(ScalaClassLoader.scala:135)\n        at org.apache.spark.repl.SparkILoop.org$apache$spark$repl$SparkILoop$$process(SparkILoop.scala:945)\n        at org.apache.spark.repl.SparkILoop.process(SparkILoop.scala:1059)\n        at org.apache.spark.repl.Main$.main(Main.scala:31)\n        at org.apache.spark.repl.Main.main(Main.scala)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:497)\n        at org.apache.spark.deploy.SparkSubmit$.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:665)\n        at org.apache.spark.deploy.SparkSubmit$.doRunMain$1(SparkSubmit.scala:170)\n        at org.apache.spark.deploy.SparkSubmit$.submit(SparkSubmit.scala:193)\n        at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:112)\n        at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\nCaused by: java.lang.ClassNotFoundException: Class org.apache.hadoop.fs.s3a.S3AFileSystem not found\n        at org.apache.hadoop.conf.Configuration.getClassByName(Configuration.java:1980)\n        at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2072)\n        ... 68 more\n</code></pre>\n\n<p>What I think - you have to manually add the hadoop-aws dependency manually <a href=\"http://search.maven.org/#artifactdetails|org.apache.hadoop|hadoop-aws|2.7.1|jar\" rel=\"nofollow\">http://search.maven.org/#artifactdetails|org.apache.hadoop|hadoop-aws|2.7.1|jar</a> But I have no idea how to add it to spark-shell properly.</p>\n"},{"tags":[],"owner":{"account_id":894614,"reputation":56,"user_id":932170,"display_name":"Uster"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1439457001,"creation_date":1439457001,"answer_id":31983999,"question_id":30851244,"body_markdown":"For Spark 1.4.x &quot;Pre built for Hadoop 2.6 and later&quot;:\r\n\r\nI just copied needed S3, S3native packages from hadoop-aws-2.6.0.jar to\r\nspark-assembly-1.4.1-hadoop2.6.0.jar.\r\n\r\nAfter that I restarted spark cluster and it works.\r\nDo not forget to check owner and mode of the assembly jar.\r\n\r\n","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>For Spark 1.4.x \"Pre built for Hadoop 2.6 and later\":</p>\n\n<p>I just copied needed S3, S3native packages from hadoop-aws-2.6.0.jar to\nspark-assembly-1.4.1-hadoop2.6.0.jar.</p>\n\n<p>After that I restarted spark cluster and it works.\nDo not forget to check owner and mode of the assembly jar.</p>\n"},{"tags":[],"owner":{"account_id":2500122,"reputation":1569,"user_id":2175483,"accept_rate":50,"display_name":"Andrew K"},"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1448054740,"creation_date":1448054740,"answer_id":33836325,"question_id":30851244,"body_markdown":"You can add the --packages parameter with the appropriate jar: \r\nto your submission: \r\n\r\n    bin/spark-submit --packages com.amazonaws:aws-java-sdk-pom:1.10.34,org.apache.hadoop:hadoop-aws:2.6.0 code.py","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>You can add the --packages parameter with the appropriate jar: \nto your submission: </p>\n\n<pre><code>bin/spark-submit --packages com.amazonaws:aws-java-sdk-pom:1.10.34,org.apache.hadoop:hadoop-aws:2.6.0 code.py\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4863538,"reputation":683,"user_id":3922517,"display_name":"Sergey Bahchissaraitsev"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1470601654,"creation_date":1470571827,"answer_id":38813994,"question_id":30851244,"body_markdown":"Despite that this question has already an accepted answer, I think that the exact details of why this is happening are still missing. So I think there might be a place for one more answer.\r\n\r\n**If you add the required [hadoop-aws](https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-aws) dependency, your code should work.**\r\n\r\nStarting Hadoop 2.6.0, s3 FS connector has been moved to a separate library called hadoop-aws.\r\nThere is also a Jira for that:\r\n[Move s3-related FS connector code to hadoop-aws](https://issues.apache.org/jira/browse/HADOOP-11074).\r\n\r\nThis means that any version of spark, that has been built against Hadoop 2.6.0 or newer will have to use another external dependency to be able to connect to the S3 File System.&lt;br/&gt;\r\nHere is an sbt example that I have tried and is working as expected using Apache Spark 1.6.2 built against Hadoop 2.6.0:\r\n&gt; libraryDependencies += &quot;org.apache.hadoop&quot; % &quot;hadoop-aws&quot; % &quot;2.6.0&quot;\r\n\r\nIn my case, I encountered some dependencies issues, so I resolved by adding exclusion:\r\n\r\n&gt; libraryDependencies += &quot;org.apache.hadoop&quot; % &quot;hadoop-aws&quot; % &quot;2.6.0&quot; exclude(&quot;tomcat&quot;, &quot;jasper-compiler&quot;) excludeAll ExclusionRule(organization = &quot;javax.servlet&quot;)\r\n\r\nOn other related note, I have yet to try it, but that it is recommended to use &quot;s3a&quot; and not &quot;s3n&quot; filesystem starting Hadoop 2.6.0.\r\n&gt;The third generation, s3a: filesystem. Designed to be a switch in replacement for s3n:, this filesystem binding supports larger files and promises higher performance.\r\n ","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>Despite that this question has already an accepted answer, I think that the exact details of why this is happening are still missing. So I think there might be a place for one more answer.</p>\n\n<p><strong>If you add the required <a href=\"https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-aws\">hadoop-aws</a> dependency, your code should work.</strong></p>\n\n<p>Starting Hadoop 2.6.0, s3 FS connector has been moved to a separate library called hadoop-aws.\nThere is also a Jira for that:\n<a href=\"https://issues.apache.org/jira/browse/HADOOP-11074\">Move s3-related FS connector code to hadoop-aws</a>.</p>\n\n<p>This means that any version of spark, that has been built against Hadoop 2.6.0 or newer will have to use another external dependency to be able to connect to the S3 File System.<br/>\nHere is an sbt example that I have tried and is working as expected using Apache Spark 1.6.2 built against Hadoop 2.6.0:</p>\n\n<blockquote>\n  <p>libraryDependencies += \"org.apache.hadoop\" % \"hadoop-aws\" % \"2.6.0\"</p>\n</blockquote>\n\n<p>In my case, I encountered some dependencies issues, so I resolved by adding exclusion:</p>\n\n<blockquote>\n  <p>libraryDependencies += \"org.apache.hadoop\" % \"hadoop-aws\" % \"2.6.0\" exclude(\"tomcat\", \"jasper-compiler\") excludeAll ExclusionRule(organization = \"javax.servlet\")</p>\n</blockquote>\n\n<p>On other related note, I have yet to try it, but that it is recommended to use \"s3a\" and not \"s3n\" filesystem starting Hadoop 2.6.0.</p>\n\n<blockquote>\n  <p>The third generation, s3a: filesystem. Designed to be a switch in replacement for s3n:, this filesystem binding supports larger files and promises higher performance.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2611206,"reputation":12820,"user_id":2261274,"display_name":"stevel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1476974925,"creation_date":1476974925,"answer_id":40157747,"question_id":30851244,"body_markdown":"There is a Spark JIRA, [SPARK-7481](https://issues.apache.org/jira/browse/SPARK-7481), open as of today, oct 20, 2016, to add a spark-cloud module which includes transitive dependencies on everything s3a and azure wasb: need, along with tests. \r\n\r\nAnd a [Spark PR](https://github.com/apache/spark/pull/12004) to match. This is how I get s3a support into my spark builds\r\n\r\nIf you do it by hand, you must get hadoop-aws JAR of the exact version the rest of your hadoop JARS have, and a version of the AWS JARs 100% in sync with what Hadoop aws was compiled against. For Hadoop 2.7.{1, 2, 3, ...}\r\n\r\n    hadoop-aws-2.7.x.jar \r\n    aws-java-sdk-1.7.4.jar\r\n    joda-time-2.9.3.jar\r\n    + jackson-*-2.6.5.jar\r\n\r\nStick all of these into `SPARK_HOME/jars`. Run spark with your credentials set up in Env vars or in `spark-default.conf`\r\n\r\nthe simplest test is can you do a line count of a CSV File\r\n\r\n    val landsatCSV = &quot;s3a://landsat-pds/scene_list.gz&quot;\r\n    val lines = sc.textFile(landsatCSV)\r\n    val lineCount = lines.count()\r\n\r\nGet a number: all is well. Get a stack trace. Bad news.","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>There is a Spark JIRA, <a href=\"https://issues.apache.org/jira/browse/SPARK-7481\" rel=\"noreferrer\">SPARK-7481</a>, open as of today, oct 20, 2016, to add a spark-cloud module which includes transitive dependencies on everything s3a and azure wasb: need, along with tests. </p>\n\n<p>And a <a href=\"https://github.com/apache/spark/pull/12004\" rel=\"noreferrer\">Spark PR</a> to match. This is how I get s3a support into my spark builds</p>\n\n<p>If you do it by hand, you must get hadoop-aws JAR of the exact version the rest of your hadoop JARS have, and a version of the AWS JARs 100% in sync with what Hadoop aws was compiled against. For Hadoop 2.7.{1, 2, 3, ...}</p>\n\n<pre><code>hadoop-aws-2.7.x.jar \naws-java-sdk-1.7.4.jar\njoda-time-2.9.3.jar\n+ jackson-*-2.6.5.jar\n</code></pre>\n\n<p>Stick all of these into <code>SPARK_HOME/jars</code>. Run spark with your credentials set up in Env vars or in <code>spark-default.conf</code></p>\n\n<p>the simplest test is can you do a line count of a CSV File</p>\n\n<pre><code>val landsatCSV = \"s3a://landsat-pds/scene_list.gz\"\nval lines = sc.textFile(landsatCSV)\nval lineCount = lines.count()\n</code></pre>\n\n<p>Get a number: all is well. Get a stack trace. Bad news.</p>\n"},{"tags":[],"owner":{"account_id":291007,"reputation":79,"user_id":592894,"display_name":"user592894"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1482256884,"creation_date":1482256884,"answer_id":41248587,"question_id":30851244,"body_markdown":"Ran into the same problem in Spark 2.0.2. Resolved it by feeding it the jars. Here&#39;s what I ran:\r\n\r\n    $ spark-shell --jars aws-java-sdk-1.7.4.jar,hadoop-aws-2.7.3.jar,jackson-annotations-2.7.0.jar,jackson-core-2.7.0.jar,jackson-databind-2.7.0.jar,joda-time-2.9.6.jar\r\n \r\n    scala&gt; val hadoopConf = sc.hadoopConfiguration\r\n    scala&gt; hadoopConf.set(&quot;fs.s3.impl&quot;,&quot;org.apache.hadoop.fs.s3native.NativeS3FileSystem&quot;)\r\n    scala&gt; hadoopConf.set(&quot;fs.s3.awsAccessKeyId&quot;,awsAccessKeyId)\r\n    scala&gt; hadoopConf.set(&quot;fs.s3.awsSecretAccessKey&quot;, awsSecretAccessKey)\r\n    scala&gt; val sqlContext = new org.apache.spark.sql.SQLContext(sc)\r\n    scala&gt; sqlContext.read.parquet(&quot;s3://your-s3-bucket/&quot;)\r\n\r\nobviously, you need to have the jars in the path where you&#39;re running spark-shell from","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>Ran into the same problem in Spark 2.0.2. Resolved it by feeding it the jars. Here's what I ran:</p>\n\n<pre><code>$ spark-shell --jars aws-java-sdk-1.7.4.jar,hadoop-aws-2.7.3.jar,jackson-annotations-2.7.0.jar,jackson-core-2.7.0.jar,jackson-databind-2.7.0.jar,joda-time-2.9.6.jar\n\nscala&gt; val hadoopConf = sc.hadoopConfiguration\nscala&gt; hadoopConf.set(\"fs.s3.impl\",\"org.apache.hadoop.fs.s3native.NativeS3FileSystem\")\nscala&gt; hadoopConf.set(\"fs.s3.awsAccessKeyId\",awsAccessKeyId)\nscala&gt; hadoopConf.set(\"fs.s3.awsSecretAccessKey\", awsSecretAccessKey)\nscala&gt; val sqlContext = new org.apache.spark.sql.SQLContext(sc)\nscala&gt; sqlContext.read.parquet(\"s3://your-s3-bucket/\")\n</code></pre>\n\n<p>obviously, you need to have the jars in the path where you're running spark-shell from</p>\n"},{"tags":[],"owner":{"account_id":7294384,"reputation":21,"user_id":5559773,"display_name":"Gaj"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1490799506,"creation_date":1490799506,"answer_id":43097185,"question_id":30851244,"body_markdown":"USe s3a instead of s3n. I had similar issue on a Hadoop job. After switching from s3n to s3a it worked.\r\n\r\ne.g. \r\n\r\n  s3a://myBucket/myFile1.log","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>USe s3a instead of s3n. I had similar issue on a Hadoop job. After switching from s3n to s3a it worked.</p>\n\n<p>e.g. </p>\n\n<p>s3a://myBucket/myFile1.log</p>\n"},{"tags":[],"owner":{"account_id":3174580,"reputation":80,"user_id":5426091,"display_name":"PDerp15"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1503416394,"creation_date":1503416394,"answer_id":45821943,"question_id":30851244,"body_markdown":"I was facing the same issue. It worked fine after setting the value for fs.s3n.impl and adding hadoop-aws dependency. \r\n\r\n    sc.hadoopConfiguration.set(&quot;fs.s3n.awsAccessKeyId&quot;, awsAccessKeyId)\r\n    sc.hadoopConfiguration.set(&quot;fs.s3n.awsSecretAccessKey&quot;, awsSecretAccessKey)\r\n    sc.hadoopConfiguration.set(&quot;fs.s3n.impl&quot;, &quot;org.apache.hadoop.fs.s3native.NativeS3FileSystem&quot;)","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>I was facing the same issue. It worked fine after setting the value for fs.s3n.impl and adding hadoop-aws dependency. </p>\n\n<pre><code>sc.hadoopConfiguration.set(\"fs.s3n.awsAccessKeyId\", awsAccessKeyId)\nsc.hadoopConfiguration.set(\"fs.s3n.awsSecretAccessKey\", awsSecretAccessKey)\nsc.hadoopConfiguration.set(\"fs.s3n.impl\", \"org.apache.hadoop.fs.s3native.NativeS3FileSystem\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1105393,"reputation":1600,"user_id":1096899,"display_name":"James D"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1525965279,"creation_date":1525965279,"answer_id":50276200,"question_id":30851244,"body_markdown":"I had to copy the jar files from a hadoop download into the `$SPARK_HOME/jars` directory. Using the `--jars` flag or the `--packages` flag for spark-submit didn&#39;t work.\r\n\r\n\r\n\r\nDetails:\r\n\r\n * Spark 2.3.0\r\n * Hadoop downloaded was 2.7.6\r\n * Two jar files copied were from `(hadoop dir)/share/hadoop/tools/lib/`\r\n    * aws-java-sdk-1.7.4.jar\r\n    * hadoop-aws-2.7.6.jar\r\n","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>I had to copy the jar files from a hadoop download into the <code>$SPARK_HOME/jars</code> directory. Using the <code>--jars</code> flag or the <code>--packages</code> flag for spark-submit didn't work.</p>\n\n<p>Details:</p>\n\n<ul>\n<li>Spark 2.3.0</li>\n<li>Hadoop downloaded was 2.7.6</li>\n<li>Two jar files copied were from <code>(hadoop dir)/share/hadoop/tools/lib/</code>\n\n<ul>\n<li>aws-java-sdk-1.7.4.jar</li>\n<li>hadoop-aws-2.7.6.jar</li>\n</ul></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2181997,"reputation":1082,"user_id":1931239,"accept_rate":67,"display_name":"Abdul Mannan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575482485,"creation_date":1573731580,"answer_id":58855941,"question_id":30851244,"body_markdown":"1. Download the `hadoop-aws` jar from [maven repository][1] matching your hadoop version.\r\n2. Copy the jar to `$SPARK_HOME/jars` location.\r\n\r\nNow in your Pyspark script, setup AWS Access Key &amp; Secret Access Key. \r\n\r\n    spark.sparkContext._jsc.hadoopConfiguration().set(&quot;fs.s3.awsAccessKeyId&quot;, &quot;ACCESS_KEY&quot;)\r\n    spark.sparkContext._jsc.hadoopConfiguration().set(&quot;fs.s3.awsSecretAccessKey&quot;, &quot;YOUR_SECRET_ACCESSS_KEY&quot;)\r\n\r\n    // where spark is SparkSession instance\r\n\r\n\r\nFor Spark scala:\r\n\r\n    spark.sparkContext.hadoopConfiguration.set(&quot;fs.s3.awsAccessKeyId&quot;, &quot;ACCESS_KEY&quot;)\r\n    spark.sparkContext.hadoopConfiguration.set(&quot;fs.s3.awsSecretAccessKey&quot;, &quot;YOUR_SECRET_ACCESSS_KEY&quot;)\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-aws","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<ol>\n<li>Download the <code>hadoop-aws</code> jar from <a href=\"https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-aws\" rel=\"nofollow noreferrer\">maven repository</a> matching your hadoop version.</li>\n<li>Copy the jar to <code>$SPARK_HOME/jars</code> location.</li>\n</ol>\n\n<p>Now in your Pyspark script, setup AWS Access Key &amp; Secret Access Key. </p>\n\n<pre><code>spark.sparkContext._jsc.hadoopConfiguration().set(\"fs.s3.awsAccessKeyId\", \"ACCESS_KEY\")\nspark.sparkContext._jsc.hadoopConfiguration().set(\"fs.s3.awsSecretAccessKey\", \"YOUR_SECRET_ACCESSS_KEY\")\n\n// where spark is SparkSession instance\n</code></pre>\n\n<p>For Spark scala:</p>\n\n<pre><code>spark.sparkContext.hadoopConfiguration.set(\"fs.s3.awsAccessKeyId\", \"ACCESS_KEY\")\nspark.sparkContext.hadoopConfiguration.set(\"fs.s3.awsSecretAccessKey\", \"YOUR_SECRET_ACCESSS_KEY\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13129492,"reputation":198,"user_id":9484396,"display_name":"Rony Armon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670599430,"creation_date":1670599430,"answer_id":74745072,"question_id":30851244,"body_markdown":"I was able to to read my S3 parquet files (Spark 3.3.1, Hadoop 3) using the configuration proposed [here][1]:\r\n\r\n    spark = SparkSession.builder.appName(&quot;Test_Parquet&quot;).master(&quot;local[*]&quot;)\\\r\n    .config(&quot;spark.hadoop.fs.s3a.impl&quot;,    &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;)\\\r\n    .config(&quot;spark.jars.packages&quot;,\r\n            &quot;org.apache.hadoop:hadoop-aws:3.2.2,&quot;\r\n            &quot;com.amazonaws:aws-java-sdk-bundle:1.12.180&quot;).getOrCreate()\r\n    spark._jsc.hadoopConfiguration().set(&quot;com.amazonaws.services.s3.enableV4&quot;,  &quot;true&quot;)\r\n    spark._jsc.hadoopConfiguration().set(&quot;fs.s3a.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;)\r\n    spark._jsc.hadoopConfiguration().set(&quot;fs.s3a.aws.credentials.provider&quot;,                              &quot;com.amazonaws.auth.InstanceProfileCredentialsProvider,com.amazonaws.auth.DefaultAWSCredentialsProviderChain&quot;)\r\n    spark._jsc.hadoopConfiguration().set(&quot;fs.AbstractFileSystem.s3a.impl&quot;,\\\r\n                                     &quot;org.apache.hadoop.fs.s3a.S3A&quot;)\r\n    df = spark.read.parquet(f&quot;s3a://{bucket_name}/{file_name}&quot;)\r\n\r\n\r\n\r\n  [1]: https://mageswaran1989.medium.com/2022-no-filesystem-for-scheme-s3-cbd72c99a50c","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>I was able to to read my S3 parquet files (Spark 3.3.1, Hadoop 3) using the configuration proposed <a href=\"https://mageswaran1989.medium.com/2022-no-filesystem-for-scheme-s3-cbd72c99a50c\" rel=\"nofollow noreferrer\">here</a>:</p>\n<pre><code>spark = SparkSession.builder.appName(&quot;Test_Parquet&quot;).master(&quot;local[*]&quot;)\\\n.config(&quot;spark.hadoop.fs.s3a.impl&quot;,    &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;)\\\n.config(&quot;spark.jars.packages&quot;,\n        &quot;org.apache.hadoop:hadoop-aws:3.2.2,&quot;\n        &quot;com.amazonaws:aws-java-sdk-bundle:1.12.180&quot;).getOrCreate()\nspark._jsc.hadoopConfiguration().set(&quot;com.amazonaws.services.s3.enableV4&quot;,  &quot;true&quot;)\nspark._jsc.hadoopConfiguration().set(&quot;fs.s3a.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;)\nspark._jsc.hadoopConfiguration().set(&quot;fs.s3a.aws.credentials.provider&quot;,                              &quot;com.amazonaws.auth.InstanceProfileCredentialsProvider,com.amazonaws.auth.DefaultAWSCredentialsProviderChain&quot;)\nspark._jsc.hadoopConfiguration().set(&quot;fs.AbstractFileSystem.s3a.impl&quot;,\\\n                                 &quot;org.apache.hadoop.fs.s3a.S3A&quot;)\ndf = spark.read.parquet(f&quot;s3a://{bucket_name}/{file_name}&quot;)\n</code></pre>\n"}],"owner":{"account_id":332025,"reputation":6449,"user_id":657067,"accept_rate":74,"display_name":"Polymerase"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115998,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":30852341,"answer_count":14,"score":52,"last_activity_date":1670599430,"creation_date":1434389002,"question_id":30851244,"body_markdown":"Trying to read a file located in S3 using spark-shell:\r\n\r\n    scala&gt; val myRdd = sc.textFile(&quot;s3n://myBucket/myFile1.log&quot;)\r\n    lyrics: org.apache.spark.rdd.RDD[String] = s3n://myBucket/myFile1.log MappedRDD[55] at textFile at &lt;console&gt;:12\r\n    \r\n    scala&gt; myRdd.count\r\n    java.io.IOException: No FileSystem for scheme: s3n\r\n    \tat org.apache.hadoop.fs.FileSystem.getFileSystemClass(FileSystem.java:2607)\r\n    \tat org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:2614)\r\n    \tat org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:91)\r\n        ... etc ...\r\n\r\nThe **IOException: No FileSystem for scheme: s3n** error occurred with:\r\n\r\n- Spark 1.31 or 1.40 on dev machine (no Hadoop libs)\r\n- Running from the [Hortonworks Sandbox HDP v2.2.4](http://hortonworks.com/hdp/downloads/) (Hadoop 2.60) which integrates Spark 1.2.1 out of the box\r\n- Using s3:// or s3n:// scheme\r\n\r\nWhat is the cause of this error? Missing dependency, Missing configuration, or mis-use of `sc.textFile()`?\r\n\r\nOr may be this is due to a bug that affects Spark build specific to Hadoop 2.60 as this [post](http://apache-spark-developers-list.1001551.n3.nabble.com/Spark-1-3-1-Hadoop-2-6-package-has-broken-S3-access-td12107.html) seems to suggest. I am going to try Spark for Hadoop 2.40 to see if this solves the issue.","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>Trying to read a file located in S3 using spark-shell:</p>\n\n<pre><code>scala&gt; val myRdd = sc.textFile(\"s3n://myBucket/myFile1.log\")\nlyrics: org.apache.spark.rdd.RDD[String] = s3n://myBucket/myFile1.log MappedRDD[55] at textFile at &lt;console&gt;:12\n\nscala&gt; myRdd.count\njava.io.IOException: No FileSystem for scheme: s3n\n    at org.apache.hadoop.fs.FileSystem.getFileSystemClass(FileSystem.java:2607)\n    at org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:2614)\n    at org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:91)\n    ... etc ...\n</code></pre>\n\n<p>The <strong>IOException: No FileSystem for scheme: s3n</strong> error occurred with:</p>\n\n<ul>\n<li>Spark 1.31 or 1.40 on dev machine (no Hadoop libs)</li>\n<li>Running from the <a href=\"http://hortonworks.com/hdp/downloads/\">Hortonworks Sandbox HDP v2.2.4</a> (Hadoop 2.60) which integrates Spark 1.2.1 out of the box</li>\n<li>Using s3:// or s3n:// scheme</li>\n</ul>\n\n<p>What is the cause of this error? Missing dependency, Missing configuration, or mis-use of <code>sc.textFile()</code>?</p>\n\n<p>Or may be this is due to a bug that affects Spark build specific to Hadoop 2.60 as this <a href=\"http://apache-spark-developers-list.1001551.n3.nabble.com/Spark-1-3-1-Hadoop-2-6-package-has-broken-S3-access-td12107.html\">post</a> seems to suggest. I am going to try Spark for Hadoop 2.40 to see if this solves the issue.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1670575109,"post_id":74739533,"comment_id":131910309,"body_markdown":"If you encounter problems, it&#39;s best to create a [MCVE](https://stackoverflow.com/help/mcve) when posting a question. You posted almost **600** (six hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped.  Please take a moment and read [how to ask a question](https://stackoverflow.com/help/how-to-ask).","body":"If you encounter problems, it&#39;s best to create a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> when posting a question. You posted almost <b>600</b> (six hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped.  Please take a moment and read <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question</a>."},{"owner":{"account_id":18453405,"reputation":13,"user_id":13442885,"display_name":"Lou"},"score":0,"creation_date":1670577987,"post_id":74739533,"comment_id":131911099,"body_markdown":"Yes, you are right i deleted useless parts thank you for the tip !","body":"Yes, you are right i deleted useless parts thank you for the tip !"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1670578353,"post_id":74739533,"comment_id":131911225,"body_markdown":"Are you sure the user is authenticated when you call `.getUid()`? Maybe this [resource](https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336) will help.","body":"Are you sure the user is authenticated when you call <code>.getUid()</code>? Maybe this <a href=\"https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336\" rel=\"nofollow noreferrer\">resource</a> will help."},{"owner":{"account_id":18453405,"reputation":13,"user_id":13442885,"display_name":"Lou"},"score":0,"creation_date":1670598122,"post_id":74739533,"comment_id":131917402,"body_markdown":"When i&#39;m in my MainActivity i can perfectly access to FirebaseAuth.getInstance().getCurrentUser() but when i&#39;m in a fragment or another activity it seems that user isn&#39;t authenticated and i can not access to getCurrentUser() anymore.","body":"When i&#39;m in my MainActivity i can perfectly access to FirebaseAuth.getInstance().getCurrentUser() but when i&#39;m in a fragment or another activity it seems that user isn&#39;t authenticated and i can not access to getCurrentUser() anymore."}],"answers":[{"tags":[],"owner":{"account_id":18453405,"reputation":13,"user_id":13442885,"display_name":"Lou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670599415,"creation_date":1670599415,"answer_id":74745067,"question_id":74739533,"body_markdown":"I found out why it doesn&#39;t work : \r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n    \r\n        // FIREBASE LOGOUT\r\n        FirebaseAuth.getInstance().signOut();\r\n        // GOOGLE LOGOUT\r\n        GoogleSignInOptions gso = new GoogleSignInOptions.\r\n                Builder(GoogleSignInOptions.DEFAULT_SIGN_IN).\r\n                build();\r\n    \r\n        GoogleSignInClient googleSignInClient = GoogleSignIn.getClient(ConnexionActivity.this, gso);\r\n        googleSignInClient.signOut();\r\n        // FACBOOK LOGOUT\r\n        LoginManager.getInstance().logOut();\r\n        super.onDestroy();\r\n    }\r\nIn my ConnectionActivity\r\n\r\nThis disconnected my FirebaseUser when i destroyed ConnexionActivity after each connexion of the user. \r\n\r\nI switch it to my MainActivity which isn&#39;t destroyed until the app crash or the user forces it to close.","title":"Can&#39;t get firebaseAuth.getCurrentUser() from a second activity (or fragments)","body":"<p>I found out why it doesn't work :</p>\n<pre><code>@Override\nprotected void onDestroy() {\n\n    // FIREBASE LOGOUT\n    FirebaseAuth.getInstance().signOut();\n    // GOOGLE LOGOUT\n    GoogleSignInOptions gso = new GoogleSignInOptions.\n            Builder(GoogleSignInOptions.DEFAULT_SIGN_IN).\n            build();\n\n    GoogleSignInClient googleSignInClient = GoogleSignIn.getClient(ConnexionActivity.this, gso);\n    googleSignInClient.signOut();\n    // FACBOOK LOGOUT\n    LoginManager.getInstance().logOut();\n    super.onDestroy();\n}\n</code></pre>\n<p>In my ConnectionActivity</p>\n<p>This disconnected my FirebaseUser when i destroyed ConnexionActivity after each connexion of the user.</p>\n<p>I switch it to my MainActivity which isn't destroyed until the app crash or the user forces it to close.</p>\n"}],"owner":{"account_id":18453405,"reputation":13,"user_id":13442885,"display_name":"Lou"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74745067,"answer_count":1,"score":0,"last_activity_date":1670599415,"creation_date":1670566633,"question_id":74739533,"body_markdown":"I need to get \r\n```\r\nFirebaseAuth.getInstance().getCurrentUser()\r\n```\r\nfrom a second activity &quot;DetailActivity&quot; but i&#39;ve got a Null pointer :\r\nAttempt to invoke virtual method &#39;java.lang.String com.google.firebase.auth.FirebaseUser.getUid()&#39; on a null object reference\r\n\r\nI can access it from the &quot;MainActivity&quot; but not from my bottomnavigationview fragments nor from the second activity &quot;DetailActivity&quot;\r\n\r\nhere is my code : \r\n\r\nConnexion activity\r\n\r\n\r\n\r\n```\r\npublic class ConnexionActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        mBinding = ActivityConnexionBinding.inflate(getLayoutInflater());\r\n        setContentView(mBinding.getRoot());\r\n        mAuth = FirebaseAuth.getInstance();\r\n        setGoogleSignIn();\r\n    }\r\n\r\n    //////////////////////GOOGLE LOGIN\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        // GOOGLE\r\n        if (requestCode == RC_SIGN_IN) {\r\n            Task&lt;GoogleSignInAccount&gt; mAccountTask = GoogleSignIn.getSignedInAccountFromIntent(data);\r\n            try {\r\n                GoogleSignInAccount account = mAccountTask.getResult(ApiException.class);\r\n                FirebaseAuthWithGoogleAccount(account);\r\n            } catch (ApiException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n        } else {\r\n            Log.d(TAG, &quot;OnClick: ERROR ACTIVITY RESULT NOT OK&quot;);\r\n\r\n        }\r\n        // FACEBOOK\r\n        mCallbackManager.onActivityResult(requestCode, resultCode, data);\r\n    }\r\n\r\n\r\n    private void FirebaseAuthWithGoogleAccount(GoogleSignInAccount account) {\r\n        Log.d(TAG, &quot;firebaseauthwithgoogleaccount: begin firebase auth with google account&quot;);\r\n        AuthCredential credential = GoogleAuthProvider.getCredential(account.getIdToken(), null);\r\n        mAuth.signInWithCredential(credential)\r\n                .addOnSuccessListener(new OnSuccessListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onSuccess(AuthResult authResult) {\r\n                        Log.d(TAG, &quot;OnSuccess: Logged in&quot;);\r\n                        // Get logged in user\r\n                        FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\r\n                        // Get user info\r\n                        String uid = firebaseUser.getUid();\r\n                        String email = firebaseUser.getEmail();\r\n                        Log.d(TAG, &quot;OnSuccess: Email&quot; + email);\r\n                        Log.d(TAG, &quot;OnSuccess: uid&quot; + uid);\r\n                        // Check if user is new or existing\r\n                        if (Objects.requireNonNull(authResult.getAdditionalUserInfo()).isNewUser()) {\r\n                            // User is new account created\r\n                            Log.d(TAG, &quot;OnSuccess: Account created...\\n&quot; + email);\r\n                            Toast.makeText(ConnexionActivity.this, &quot;Account created...\\n&quot; + email, Toast.LENGTH_SHORT).show();\r\n                        } else {\r\n                            // Existing user logged in\r\n                            Log.d(TAG, &quot;OnSuccess: Existing user... \\n&quot; + email);\r\n                            Toast.makeText(ConnexionActivity.this, &quot;Existing user...\\n&quot; + email, Toast.LENGTH_SHORT).show();\r\n                        }\r\n\r\n                        // Start MainActivity\r\n                        startActivity(new Intent(ConnexionActivity.this, MainActivity.class));\r\n                        finish();\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Log.d(TAG, &quot;OnFailure: Loggin failed&quot; + e.getMessage());\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void setGoogleSignIn() {\r\n        // Configure google sign in\r\n        GoogleSignInOptions mGoogleSignInOption = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                .requestIdToken(getString(R.string.requestidtoken))\r\n                .requestEmail()\r\n                .build();\r\n        mGoogleSignInClient = GoogleSignIn.getClient(this, mGoogleSignInOption);\r\n\r\n        // Init firebase auth\r\n        mAuth = FirebaseAuth.getInstance();\r\n    }\r\n    //////////////////////GOOGLE END\r\n\r\n    FirebaseAuth.AuthStateListener mAuthListener = new FirebaseAuth.AuthStateListener() {\r\n        @Override\r\n        public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) {\r\n            FirebaseUser user = firebaseAuth.getCurrentUser();\r\n            if (user != null) {\r\n                //Start main activity\r\n                startActivity(new Intent(ConnexionActivity.this, MainActivity.class));\r\n                Toast.makeText(ConnexionActivity.this,\r\n                        &quot;You successfully signed-in &quot;, Toast.LENGTH_SHORT).show();\r\n                finish();\r\n            }\r\n        }\r\n    };\r\n//    @Override\r\n//    protected void onDestroy() {\r\n//\r\n//        // FIREBASE LOGOUT\r\n//        FirebaseAuth.getInstance().signOut();\r\n//        // GOOGLE LOGOUT\r\n//        GoogleSignInOptions gso = new GoogleSignInOptions.\r\n//                Builder(GoogleSignInOptions.DEFAULT_SIGN_IN).\r\n//                build();\r\n//\r\n//        GoogleSignInClient googleSignInClient = GoogleSignIn.getClient(ConnexionActivity.this, gso);\r\n//        googleSignInClient.signOut();\r\n//        // FACBOOK LOGOUT\r\n//        LoginManager.getInstance().logOut();\r\n//        super.onDestroy();\r\n//    }\r\n\r\n```\r\n\r\nMainActivity :\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        mBinding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        View view = mBinding.getRoot();\r\n        setContentView(view);\r\n        mAuth = FirebaseAuth.getInstance();\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        // Check if user is signed in (non-null) and update UI accordingly.\r\n        FirebaseUser currentUser = mAuth.getCurrentUser();\r\n        if(currentUser == null){\r\n            reload();\r\n        }\r\n    }\r\n\r\n    // restart connexion activity if the user isn&#39;t connected\r\n    private void reload(){\r\n            startActivity(new Intent(this, ConnexionActivity.class));\r\n            finish();\r\n    }\r\n\r\n    private void setBottomNavigationView(){\r\n        mBinding.bottomNavigation.setOnNavigationItemSelectedListener(navListener);\r\n        getSupportFragmentManager().beginTransaction().replace(mBinding.fragmentContainer.getId(), new MapFragment()).commit();\r\n    }\r\n\r\n    private final BottomNavigationView.OnNavigationItemSelectedListener navListener = item -&gt; {\r\n\r\n        Fragment selectedFragment = null;\r\n        int itemId = item.getItemId();\r\n        if (itemId == R.id.map_view) {\r\n            selectedFragment = new MapFragment();\r\n        } else if (itemId == R.id.list_view) {\r\n            selectedFragment = new ListViewFragment();\r\n        } else if (itemId == R.id.workmates) {\r\n                selectedFragment = new WorkmatesFragment();\r\n        }\r\n        if (selectedFragment != null) {\r\n            getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container, selectedFragment).commit();\r\n        }\r\n        return true;\r\n    };\r\n\r\n```\r\n\r\nThe fragment adapter where i launch the DetailActivity :\r\n\r\n\r\n```\r\n    @Override\r\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\r\n        final Result restaurant = mRestaurants.get(position);\r\n        ((ListViewViewHolder) holder).itemView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Context context = view.getContext();\r\n                Intent intent = new Intent(context, DetailActivity.class);\r\n                intent.putExtra(&quot;idrestaurant&quot;, restaurant.getPlaceId());\r\n                context.startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\nDetailActivty : \r\n\r\n\r\n```\r\npublic class DetailActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        mBinding = ActivityDetailBinding.inflate(getLayoutInflater());\r\n        View view = mBinding.getRoot();\r\n        setContentView(view);\r\n    }\r\n    private void setClickChosenRestaurantButton(){\r\n        mBinding.fab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                    if (FirebaseAuth.getInstance().getCurrentUser() != null) {\r\n                        Map&lt;String, Object&gt; chosenRestaurant = new HashMap&lt;&gt;();\r\n                        chosenRestaurant.put(&quot;restaurantChosen&quot;, getRestaurantId());\r\n                        FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\r\n                        DocumentReference docRef = UserCallData.getAllUsers().getFirestore().collection(&quot;users&quot;).document(firebaseUser.getUid());\r\n                        docRef.set(chosenRestaurant, SetOptions.merge()).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                            @Override\r\n                            public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                Log.d(&quot;123&quot;, &quot;DocumentSnapshot successfully written!&quot;);\r\n                            }\r\n                        }).addOnFailureListener(new OnFailureListener() {\r\n                            @Override\r\n                            public void onFailure(@NonNull Exception e) {\r\n                                Log.d(&quot;123&quot;, &quot;Error writing document&quot;, e);\r\n                            }\r\n                        });\r\n                    }\r\n                    else {\r\n                        Log.d(&quot;123&quot;, &quot;pb with firebaseauth!&quot;);\r\n                    }\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\nD/123: pb with firebaseauth!\r\n \r\n\r\n\r\n\r\n\r\n\r\n\r\nTo be honest i do not understand in detail the behavior of the Firebase auth system that&#39;s why i&#39;m stuck here.\r\n\r\nAny idea? ","title":"Can&#39;t get firebaseAuth.getCurrentUser() from a second activity (or fragments)","body":"<p>I need to get</p>\n<pre><code>FirebaseAuth.getInstance().getCurrentUser()\n</code></pre>\n<p>from a second activity &quot;DetailActivity&quot; but i've got a Null pointer :\nAttempt to invoke virtual method 'java.lang.String com.google.firebase.auth.FirebaseUser.getUid()' on a null object reference</p>\n<p>I can access it from the &quot;MainActivity&quot; but not from my bottomnavigationview fragments nor from the second activity &quot;DetailActivity&quot;</p>\n<p>here is my code :</p>\n<p>Connexion activity</p>\n<pre><code>public class ConnexionActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        mBinding = ActivityConnexionBinding.inflate(getLayoutInflater());\n        setContentView(mBinding.getRoot());\n        mAuth = FirebaseAuth.getInstance();\n        setGoogleSignIn();\n    }\n\n    //////////////////////GOOGLE LOGIN\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        // GOOGLE\n        if (requestCode == RC_SIGN_IN) {\n            Task&lt;GoogleSignInAccount&gt; mAccountTask = GoogleSignIn.getSignedInAccountFromIntent(data);\n            try {\n                GoogleSignInAccount account = mAccountTask.getResult(ApiException.class);\n                FirebaseAuthWithGoogleAccount(account);\n            } catch (ApiException e) {\n                e.printStackTrace();\n            }\n\n        } else {\n            Log.d(TAG, &quot;OnClick: ERROR ACTIVITY RESULT NOT OK&quot;);\n\n        }\n        // FACEBOOK\n        mCallbackManager.onActivityResult(requestCode, resultCode, data);\n    }\n\n\n    private void FirebaseAuthWithGoogleAccount(GoogleSignInAccount account) {\n        Log.d(TAG, &quot;firebaseauthwithgoogleaccount: begin firebase auth with google account&quot;);\n        AuthCredential credential = GoogleAuthProvider.getCredential(account.getIdToken(), null);\n        mAuth.signInWithCredential(credential)\n                .addOnSuccessListener(new OnSuccessListener&lt;AuthResult&gt;() {\n                    @Override\n                    public void onSuccess(AuthResult authResult) {\n                        Log.d(TAG, &quot;OnSuccess: Logged in&quot;);\n                        // Get logged in user\n                        FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\n                        // Get user info\n                        String uid = firebaseUser.getUid();\n                        String email = firebaseUser.getEmail();\n                        Log.d(TAG, &quot;OnSuccess: Email&quot; + email);\n                        Log.d(TAG, &quot;OnSuccess: uid&quot; + uid);\n                        // Check if user is new or existing\n                        if (Objects.requireNonNull(authResult.getAdditionalUserInfo()).isNewUser()) {\n                            // User is new account created\n                            Log.d(TAG, &quot;OnSuccess: Account created...\\n&quot; + email);\n                            Toast.makeText(ConnexionActivity.this, &quot;Account created...\\n&quot; + email, Toast.LENGTH_SHORT).show();\n                        } else {\n                            // Existing user logged in\n                            Log.d(TAG, &quot;OnSuccess: Existing user... \\n&quot; + email);\n                            Toast.makeText(ConnexionActivity.this, &quot;Existing user...\\n&quot; + email, Toast.LENGTH_SHORT).show();\n                        }\n\n                        // Start MainActivity\n                        startActivity(new Intent(ConnexionActivity.this, MainActivity.class));\n                        finish();\n                    }\n                })\n                .addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        Log.d(TAG, &quot;OnFailure: Loggin failed&quot; + e.getMessage());\n                    }\n                });\n    }\n\n    private void setGoogleSignIn() {\n        // Configure google sign in\n        GoogleSignInOptions mGoogleSignInOption = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n                .requestIdToken(getString(R.string.requestidtoken))\n                .requestEmail()\n                .build();\n        mGoogleSignInClient = GoogleSignIn.getClient(this, mGoogleSignInOption);\n\n        // Init firebase auth\n        mAuth = FirebaseAuth.getInstance();\n    }\n    //////////////////////GOOGLE END\n\n    FirebaseAuth.AuthStateListener mAuthListener = new FirebaseAuth.AuthStateListener() {\n        @Override\n        public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) {\n            FirebaseUser user = firebaseAuth.getCurrentUser();\n            if (user != null) {\n                //Start main activity\n                startActivity(new Intent(ConnexionActivity.this, MainActivity.class));\n                Toast.makeText(ConnexionActivity.this,\n                        &quot;You successfully signed-in &quot;, Toast.LENGTH_SHORT).show();\n                finish();\n            }\n        }\n    };\n//    @Override\n//    protected void onDestroy() {\n//\n//        // FIREBASE LOGOUT\n//        FirebaseAuth.getInstance().signOut();\n//        // GOOGLE LOGOUT\n//        GoogleSignInOptions gso = new GoogleSignInOptions.\n//                Builder(GoogleSignInOptions.DEFAULT_SIGN_IN).\n//                build();\n//\n//        GoogleSignInClient googleSignInClient = GoogleSignIn.getClient(ConnexionActivity.this, gso);\n//        googleSignInClient.signOut();\n//        // FACBOOK LOGOUT\n//        LoginManager.getInstance().logOut();\n//        super.onDestroy();\n//    }\n\n</code></pre>\n<p>MainActivity :</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        mBinding = ActivityMainBinding.inflate(getLayoutInflater());\n        View view = mBinding.getRoot();\n        setContentView(view);\n        mAuth = FirebaseAuth.getInstance();\n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        // Check if user is signed in (non-null) and update UI accordingly.\n        FirebaseUser currentUser = mAuth.getCurrentUser();\n        if(currentUser == null){\n            reload();\n        }\n    }\n\n    // restart connexion activity if the user isn't connected\n    private void reload(){\n            startActivity(new Intent(this, ConnexionActivity.class));\n            finish();\n    }\n\n    private void setBottomNavigationView(){\n        mBinding.bottomNavigation.setOnNavigationItemSelectedListener(navListener);\n        getSupportFragmentManager().beginTransaction().replace(mBinding.fragmentContainer.getId(), new MapFragment()).commit();\n    }\n\n    private final BottomNavigationView.OnNavigationItemSelectedListener navListener = item -&gt; {\n\n        Fragment selectedFragment = null;\n        int itemId = item.getItemId();\n        if (itemId == R.id.map_view) {\n            selectedFragment = new MapFragment();\n        } else if (itemId == R.id.list_view) {\n            selectedFragment = new ListViewFragment();\n        } else if (itemId == R.id.workmates) {\n                selectedFragment = new WorkmatesFragment();\n        }\n        if (selectedFragment != null) {\n            getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container, selectedFragment).commit();\n        }\n        return true;\n    };\n\n</code></pre>\n<p>The fragment adapter where i launch the DetailActivity :</p>\n<pre><code>    @Override\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\n        final Result restaurant = mRestaurants.get(position);\n        ((ListViewViewHolder) holder).itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Context context = view.getContext();\n                Intent intent = new Intent(context, DetailActivity.class);\n                intent.putExtra(&quot;idrestaurant&quot;, restaurant.getPlaceId());\n                context.startActivity(intent);\n            }\n        });\n    }\n}\n</code></pre>\n<p>DetailActivty :</p>\n<pre><code>public class DetailActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        mBinding = ActivityDetailBinding.inflate(getLayoutInflater());\n        View view = mBinding.getRoot();\n        setContentView(view);\n    }\n    private void setClickChosenRestaurantButton(){\n        mBinding.fab.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                    if (FirebaseAuth.getInstance().getCurrentUser() != null) {\n                        Map&lt;String, Object&gt; chosenRestaurant = new HashMap&lt;&gt;();\n                        chosenRestaurant.put(&quot;restaurantChosen&quot;, getRestaurantId());\n                        FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\n                        DocumentReference docRef = UserCallData.getAllUsers().getFirestore().collection(&quot;users&quot;).document(firebaseUser.getUid());\n                        docRef.set(chosenRestaurant, SetOptions.merge()).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                            @Override\n                            public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                                Log.d(&quot;123&quot;, &quot;DocumentSnapshot successfully written!&quot;);\n                            }\n                        }).addOnFailureListener(new OnFailureListener() {\n                            @Override\n                            public void onFailure(@NonNull Exception e) {\n                                Log.d(&quot;123&quot;, &quot;Error writing document&quot;, e);\n                            }\n                        });\n                    }\n                    else {\n                        Log.d(&quot;123&quot;, &quot;pb with firebaseauth!&quot;);\n                    }\n            }\n        });\n    }\n}\n</code></pre>\n<p>D/123: pb with firebaseauth!</p>\n<p>To be honest i do not understand in detail the behavior of the Firebase auth system that's why i'm stuck here.</p>\n<p>Any idea?</p>\n"},{"tags":["java","html","yaml","mustache","dropwizard"],"answers":[{"tags":[],"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1467884117,"creation_date":1467884117,"answer_id":38242094,"question_id":38238880,"body_markdown":"Mustache is logic-less, so you must provide a boolean value in your YAML file:\r\n\r\n    href: false\r\n\r\nYAML also allows `off` and `no` as boolean values that map to `false`. You can then write a mustache file like this:\r\n\r\n    &lt;a{{#href}} href=&quot;example.com&quot;{{/href}}&gt;\r\n\r\nThe Text inside `{{#href}}` … `{{/href}}` will only render if `href` exists and is not `false`. Note that you must set it to `true` for the tag to render.","title":"How can I disable an anchor element in mustache file using YML configuration?","body":"<p>Mustache is logic-less, so you must provide a boolean value in your YAML file:</p>\n\n<pre><code>href: false\n</code></pre>\n\n<p>YAML also allows <code>off</code> and <code>no</code> as boolean values that map to <code>false</code>. You can then write a mustache file like this:</p>\n\n<pre><code>&lt;a{{#href}} href=\"example.com\"{{/href}}&gt;\n</code></pre>\n\n<p>The Text inside <code>{{#href}}</code> … <code>{{/href}}</code> will only render if <code>href</code> exists and is not <code>false</code>. Note that you must set it to <code>true</code> for the tag to render.</p>\n"}],"owner":{"account_id":7680103,"reputation":136,"user_id":5819582,"accept_rate":0,"display_name":"user57"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670599385,"creation_date":1467873345,"question_id":38238880,"body_markdown":"I have to disable a link in mustache file by getting value from YML configuration (in Dropwizard). If the value is disable, it should hide the element in the page so that user should not able to click the link. Is it possible to do this function?","title":"How can I disable an anchor element in mustache file using YML configuration?","body":"<p>I have to disable a link in mustache file by getting value from YML configuration (in Dropwizard). If the value is disable, it should hide the element in the page so that user should not able to click the link. Is it possible to do this function?</p>\n"},{"tags":["java","swing","graphics","3d"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1670604984,"post_id":74745029,"comment_id":131919564,"body_markdown":"To convert x, y, z coordinates to drawing x, y coordinates, you need an observer point.  Draw imaginary lines from the observer point to the vertexes of the cube.  Where those lines intersect the drawing plane is where you draw your cube vertexes.","body":"To convert x, y, z coordinates to drawing x, y coordinates, you need an observer point.  Draw imaginary lines from the observer point to the vertexes of the cube.  Where those lines intersect the drawing plane is where you draw your cube vertexes."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1670614473,"post_id":74745029,"comment_id":131922201,"body_markdown":"I recommend JOGL (Java Open Graphics Library) vs. Swing for doing what you are doing. Swing wasn&#39;t made for doing what you are doing, whereas OGL was :)","body":"I recommend JOGL (Java Open Graphics Library) vs. Swing for doing what you are doing. Swing wasn&#39;t made for doing what you are doing, whereas OGL was :)"},{"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"score":0,"creation_date":1677665700,"post_id":74745029,"comment_id":133381166,"body_markdown":"possible duplicate? https://stackoverflow.com/questions/724219/how-to-convert-a-3d-point-into-2d-perspective-projection","body":"possible duplicate? <a href=\"https://stackoverflow.com/questions/724219/how-to-convert-a-3d-point-into-2d-perspective-projection\" title=\"how to convert a 3d point into 2d perspective projection\">stackoverflow.com/questions/724219/&hellip;</a>"}],"owner":{"account_id":19989112,"reputation":87,"user_id":14780475,"display_name":"annd"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670599171,"creation_date":1670599171,"question_id":74745029,"body_markdown":"I have a cube and there is a need to add a 3D coordinate system to it. \r\n\r\nThere is an example my coordinate system with a cube should approximtely look like:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nUnfortunately, my progress seems so far from this example:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sV3TX.png\r\n  [2]: https://i.stack.imgur.com/aky9p.png\r\n\r\nMaybe, I can find out how to draw X and Y axis, but I have no idea how to add the Z axis.\r\nSo, how to build the right coordinate sytem?\r\n\r\nMy code:\r\n```\r\nimport java.awt.*;\r\nimport static java.lang.Math.*;\r\nimport javax.swing.*;\r\n\r\npublic class Cube extends JPanel {\r\n    double[][] nodes = {{-1, -1, -1}, {-1, -1, 1}, {-1, 1, -1}, {-1, 1, 1},\r\n            {1, -1, -1}, {1, -1, 1}, {1, 1, -1}, {1, 1, 1}};\r\n\r\n    int[][] edges = {{0, 1}, {1, 3}, {3, 2}, {2, 0}, {4, 5}, {5, 7}, {7, 6},\r\n            {6, 4}, {0, 4}, {1, 5}, {2, 6}, {3, 7}};\r\n\r\n    public Cube() {\r\n        setPreferredSize(new Dimension(640, 640));\r\n        setBackground(Color.white);\r\n\r\n        scale(50);\r\n        rotateCube(Math.toRadians(60), Math.toRadians(10), Math.toRadians(0));\r\n    }\r\n\r\n    final void scale(double s) {\r\n        for (double[] node : nodes) {\r\n            node[0] *= s;\r\n            node[1] *= s;\r\n            node[2] *= s;\r\n        }\r\n    }\r\n\r\n    final void rotateCube(double angleX, double angleY, double angleZ) {\r\n        double sinX = sin(angleX);\r\n        double cosX = cos(angleX);\r\n\r\n        double sinY = sin(angleY);\r\n        double cosY = cos(angleY);\r\n\r\n        double sinZ = sin(angleZ);\r\n        double cosZ = cos(angleZ);\r\n\r\n        for (double[] node : nodes) {\r\n            double x = node[0];\r\n            double y = node[1];\r\n            double z = node[2];\r\n\r\n            node[0] = x * cosX - z * sinX;\r\n            node[2] = z * cosX + x * sinX;\r\n\r\n            z = node[2];\r\n\r\n            node[1] = y * cosY - z * sinY;\r\n            node[2] = y * sinY + z * cosY;\r\n\r\n            x = node[0];\r\n            y = node[1];\r\n\r\n            node[0] = x * cosZ + y * sinZ;\r\n            node[1] = y * cosZ - x * sinZ;\r\n        }\r\n    }\r\n\r\n    void drawCube(Graphics2D g) {\r\n        g.translate(getWidth() / 2, getHeight() / 2);\r\n\r\n        g.setColor(Color.BLACK);\r\n        for (int[] edge : edges) {\r\n            double[] xy1 = nodes[edge[0]];\r\n            double[] xy2 = nodes[edge[1]];\r\n            g.drawLine((int) round(xy1[0]), (int) round(xy1[1]),\r\n                    (int) round(xy2[0]), (int) round(xy2[1]));\r\n        }\r\n\r\n        for (double[] node : nodes)\r\n            g.fillOval((int) round(node[0]) - 4, (int) round(node[1]) - 4, 8, 8);\r\n    }\r\n\r\n    void drawAxis(Graphics2D g) {\r\n        int x_c = getWidth() / 2;\r\n        int y_c = getHeight() / 2;\r\n\r\n        // X - axis\r\n        g.setColor(Color.green);\r\n        g.drawLine(round(x_c + 300), round(y_c), round(x_c), round(y_c));\r\n\r\n        // Y- axis\r\n        g.setColor(Color.blue);\r\n        g.drawLine(round(x_c), round(y_c), round(x_c), round(y_c) + 300);\r\n    }\r\n\r\n    @Override\r\n    public void paintComponent(Graphics gg) {\r\n        super.paintComponent(gg);\r\n        Graphics2D g = (Graphics2D) gg;\r\n        g.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\r\n                RenderingHints.VALUE_ANTIALIAS_ON);\r\n\r\n        drawAxis(g);\r\n        drawCube(g);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            JFrame f = new JFrame();\r\n            f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            f.setTitle(&quot;Rotating Cube&quot;);\r\n            f.setResizable(false);\r\n            f.add(new Cube(), BorderLayout.CENTER);\r\n            f.pack();\r\n            f.setLocationRelativeTo(null);\r\n            f.setVisible(true);\r\n        });\r\n    }\r\n} \r\n```","title":"How to draw a cube with a coordinate system in Swing","body":"<p>I have a cube and there is a need to add a 3D coordinate system to it.</p>\n<p>There is an example my coordinate system with a cube should approximtely look like:\n<a href=\"https://i.stack.imgur.com/sV3TX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sV3TX.png\" alt=\"enter image description here\" /></a></p>\n<p>Unfortunately, my progress seems so far from this example:\n<a href=\"https://i.stack.imgur.com/aky9p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aky9p.png\" alt=\"enter image description here\" /></a></p>\n<p>Maybe, I can find out how to draw X and Y axis, but I have no idea how to add the Z axis.\nSo, how to build the right coordinate sytem?</p>\n<p>My code:</p>\n<pre><code>import java.awt.*;\nimport static java.lang.Math.*;\nimport javax.swing.*;\n\npublic class Cube extends JPanel {\n    double[][] nodes = {{-1, -1, -1}, {-1, -1, 1}, {-1, 1, -1}, {-1, 1, 1},\n            {1, -1, -1}, {1, -1, 1}, {1, 1, -1}, {1, 1, 1}};\n\n    int[][] edges = {{0, 1}, {1, 3}, {3, 2}, {2, 0}, {4, 5}, {5, 7}, {7, 6},\n            {6, 4}, {0, 4}, {1, 5}, {2, 6}, {3, 7}};\n\n    public Cube() {\n        setPreferredSize(new Dimension(640, 640));\n        setBackground(Color.white);\n\n        scale(50);\n        rotateCube(Math.toRadians(60), Math.toRadians(10), Math.toRadians(0));\n    }\n\n    final void scale(double s) {\n        for (double[] node : nodes) {\n            node[0] *= s;\n            node[1] *= s;\n            node[2] *= s;\n        }\n    }\n\n    final void rotateCube(double angleX, double angleY, double angleZ) {\n        double sinX = sin(angleX);\n        double cosX = cos(angleX);\n\n        double sinY = sin(angleY);\n        double cosY = cos(angleY);\n\n        double sinZ = sin(angleZ);\n        double cosZ = cos(angleZ);\n\n        for (double[] node : nodes) {\n            double x = node[0];\n            double y = node[1];\n            double z = node[2];\n\n            node[0] = x * cosX - z * sinX;\n            node[2] = z * cosX + x * sinX;\n\n            z = node[2];\n\n            node[1] = y * cosY - z * sinY;\n            node[2] = y * sinY + z * cosY;\n\n            x = node[0];\n            y = node[1];\n\n            node[0] = x * cosZ + y * sinZ;\n            node[1] = y * cosZ - x * sinZ;\n        }\n    }\n\n    void drawCube(Graphics2D g) {\n        g.translate(getWidth() / 2, getHeight() / 2);\n\n        g.setColor(Color.BLACK);\n        for (int[] edge : edges) {\n            double[] xy1 = nodes[edge[0]];\n            double[] xy2 = nodes[edge[1]];\n            g.drawLine((int) round(xy1[0]), (int) round(xy1[1]),\n                    (int) round(xy2[0]), (int) round(xy2[1]));\n        }\n\n        for (double[] node : nodes)\n            g.fillOval((int) round(node[0]) - 4, (int) round(node[1]) - 4, 8, 8);\n    }\n\n    void drawAxis(Graphics2D g) {\n        int x_c = getWidth() / 2;\n        int y_c = getHeight() / 2;\n\n        // X - axis\n        g.setColor(Color.green);\n        g.drawLine(round(x_c + 300), round(y_c), round(x_c), round(y_c));\n\n        // Y- axis\n        g.setColor(Color.blue);\n        g.drawLine(round(x_c), round(y_c), round(x_c), round(y_c) + 300);\n    }\n\n    @Override\n    public void paintComponent(Graphics gg) {\n        super.paintComponent(gg);\n        Graphics2D g = (Graphics2D) gg;\n        g.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n                RenderingHints.VALUE_ANTIALIAS_ON);\n\n        drawAxis(g);\n        drawCube(g);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            JFrame f = new JFrame();\n            f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            f.setTitle(&quot;Rotating Cube&quot;);\n            f.setResizable(false);\n            f.add(new Cube(), BorderLayout.CENTER);\n            f.pack();\n            f.setLocationRelativeTo(null);\n            f.setVisible(true);\n        });\n    }\n} \n</code></pre>\n"},{"tags":["java","spring","junit5","spring-test"],"comments":[{"owner":{"account_id":165479,"reputation":30116,"user_id":388980,"display_name":"Sam Brannen"},"score":0,"creation_date":1670598873,"post_id":74740394,"comment_id":131917638,"body_markdown":"Please describe your use case. In other words, why do you need the test instance lifecycle in a Spring `TestExecutionListener`?","body":"Please describe your use case. In other words, why do you need the test instance lifecycle in a Spring <code>TestExecutionListener</code>?"},{"owner":{"account_id":113283,"reputation":11626,"user_id":298430,"accept_rate":66,"display_name":"smallufo"},"score":0,"creation_date":1670685073,"post_id":74740394,"comment_id":131932562,"body_markdown":"@SamBrannen I want to process something in `afterTestClass` and `afterTestMethod` depending on PER_CLASS or PER_METHOD","body":"@SamBrannen I want to process something in <code>afterTestClass</code> and <code>afterTestMethod</code> depending on PER_CLASS or PER_METHOD"}],"answers":[{"tags":[],"owner":{"account_id":165479,"reputation":30116,"user_id":388980,"display_name":"Sam Brannen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670598830,"creation_date":1670598830,"answer_id":74744962,"question_id":74740394,"body_markdown":"No, you cannot access JUnit Jupiter APIs or features such as the test instance lifecycle from a Spring `TestExecutionListener`.\r\n\r\nThe Spring `TestExecutionListener` and `TestContext` APIs are agnostic of the underlying testing framework (e.g., JUnit, TestNG, etc.).\r\n\r\nIf you need access to JUnit-specific features, you might consider implementing a JUnit Jupiter `Extension` instead of a Spring `TestExecutionListener`. Note that a Spring `TestExecutionListener` can obtain access the Spring `ApplicationContext` via `SpringExtension.getApplicationContext(ExtensionContext)`.","title":"How to get JUnit5&#39;s TestInstance&#39;s LifeCycle in Spring&#39;s TestExectionListener?","body":"<p>No, you cannot access JUnit Jupiter APIs or features such as the test instance lifecycle from a Spring <code>TestExecutionListener</code>.</p>\n<p>The Spring <code>TestExecutionListener</code> and <code>TestContext</code> APIs are agnostic of the underlying testing framework (e.g., JUnit, TestNG, etc.).</p>\n<p>If you need access to JUnit-specific features, you might consider implementing a JUnit Jupiter <code>Extension</code> instead of a Spring <code>TestExecutionListener</code>. Note that a Spring <code>TestExecutionListener</code> can obtain access the Spring <code>ApplicationContext</code> via <code>SpringExtension.getApplicationContext(ExtensionContext)</code>.</p>\n"}],"owner":{"account_id":113283,"reputation":11626,"user_id":298430,"accept_rate":66,"display_name":"smallufo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670598830,"creation_date":1670573551,"question_id":74740394,"body_markdown":"Is there any way to get [TestInstance.LifeCycle](https://junit.org/junit5/docs/5.0.1/api/org/junit/jupiter/api/TestInstance.Lifecycle.html)  (PER_CLASS or PER_METHOD) in SpringTest&#39;s [TestExecutionListener](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/TestExecutionListener.html) ?\r\n\r\nFor example , in method `afterTestMethod(TestContext testContext)` , how to get current TestInstance&#39;s LifeCycle ?\r\n\r\nI looked into TestContext code but seems no related API.\r\n\r\nThen, I tried to traverse `testContext.getTextClass().getDeclaredAnnotations()` , but I think it is not sufficient, as JUnit5 supports declaring default lifecycle in properties or system environment.\r\n\r\nIs there any other way to achieve this ? Thanks.","title":"How to get JUnit5&#39;s TestInstance&#39;s LifeCycle in Spring&#39;s TestExectionListener?","body":"<p>Is there any way to get <a href=\"https://junit.org/junit5/docs/5.0.1/api/org/junit/jupiter/api/TestInstance.Lifecycle.html\" rel=\"nofollow noreferrer\">TestInstance.LifeCycle</a>  (PER_CLASS or PER_METHOD) in SpringTest's <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/TestExecutionListener.html\" rel=\"nofollow noreferrer\">TestExecutionListener</a> ?</p>\n<p>For example , in method <code>afterTestMethod(TestContext testContext)</code> , how to get current TestInstance's LifeCycle ?</p>\n<p>I looked into TestContext code but seems no related API.</p>\n<p>Then, I tried to traverse <code>testContext.getTextClass().getDeclaredAnnotations()</code> , but I think it is not sufficient, as JUnit5 supports declaring default lifecycle in properties or system environment.</p>\n<p>Is there any other way to achieve this ? Thanks.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":1,"creation_date":1584649117,"post_id":60764388,"comment_id":107508991,"body_markdown":"By &#39;the key contains an uppercase&#39;, do you mean &#39;the key is an uppercase letter&#39;? Or is &#39;key&#39; something other than a string containing a single character?","body":"By &#39;the key contains an uppercase&#39;, do you mean &#39;the key is an uppercase letter&#39;? Or is &#39;key&#39; something other than a string containing a single character?"},{"owner":{"account_id":10675972,"reputation":5000,"user_id":7859515,"accept_rate":100,"display_name":"MyStackRunnethOver"},"score":3,"creation_date":1584649261,"post_id":60764388,"comment_id":107509036,"body_markdown":"The answer to such questions is pretty much always &quot;[use a regex](https://www.vogella.com/tutorials/JavaRegularExpressions/article.html)&quot; - they&#39;re a very helpful and powerful tool, I encourage you to learn about them in general to solve your problem","body":"The answer to such questions is pretty much always &quot;<a href=\"https://www.vogella.com/tutorials/JavaRegularExpressions/article.html\" rel=\"nofollow noreferrer\">use a regex</a>&quot; - they&#39;re a very helpful and powerful tool, I encourage you to learn about them in general to solve your problem"}],"answers":[{"tags":[],"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1584648994,"creation_date":1584648994,"answer_id":60764426,"question_id":60764388,"body_markdown":"Just use the proper regex with `matcher.find()` \r\n\r\n    Pattern.compile(&quot;[A-Z]&quot;).matcher(key).find()","title":"How to check if a string contains uppercase java","body":"<p>Just use the proper regex with <code>matcher.find()</code> </p>\n\n<pre><code>Pattern.compile(\"[A-Z]\").matcher(key).find()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1584649256,"creation_date":1584649256,"answer_id":60764473,"question_id":60764388,"body_markdown":"With streams, you can to the following.\r\n\r\n    key.chars().anyMatch(Character::isUpperCase)\r\n\r\nThis is much lighter than regexes in terms of resources.","title":"How to check if a string contains uppercase java","body":"<p>With streams, you can to the following.</p>\n\n<pre><code>key.chars().anyMatch(Character::isUpperCase)\n</code></pre>\n\n<p>This is much lighter than regexes in terms of resources.</p>\n"},{"tags":[],"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1584649612,"creation_date":1584649612,"answer_id":60764547,"question_id":60764388,"body_markdown":"Or you can do it as described by sopheamak here: https://stackoverflow.com/questions/40336374/how-do-i-check-if-a-java-string-contains-at-least-one-capital-letter-lowercase\r\n\r\nIn your example that would be:\r\n\r\n    else if (!key.equals(key.toLowerCase())\r\n\r\nIf one of the letters in key is uppercase it will not match the result of `key.toLowerCase()` and thus return true because of `!`.","title":"How to check if a string contains uppercase java","body":"<p>Or you can do it as described by sopheamak here: <a href=\"https://stackoverflow.com/questions/40336374/how-do-i-check-if-a-java-string-contains-at-least-one-capital-letter-lowercase\">How do I check if a Java String contains at least one capital letter, lowercase letter, and number?</a></p>\n\n<p>In your example that would be:</p>\n\n<pre><code>else if (!key.equals(key.toLowerCase())\n</code></pre>\n\n<p>If one of the letters in key is uppercase it will not match the result of <code>key.toLowerCase()</code> and thus return true because of <code>!</code>.</p>\n"},{"tags":[],"owner":{"account_id":7654654,"reputation":1037,"user_id":5802035,"accept_rate":33,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584651521,"creation_date":1584651521,"answer_id":60764967,"question_id":60764388,"body_markdown":"You can use Apache Commons Lang (https://commons.apache.org/proper/commons-lang/). Is has a method for this:\r\n\r\n    else if (StringUtils.containsAny(key, &quot;QWERTYUIOPASDFGHJKLZXCVBNM&quot;)){\r\n        UI.println(&quot;Invalid, key contains a space, illegal character&quot;);\r\n    }","title":"How to check if a string contains uppercase java","body":"<p>You can use Apache Commons Lang (<a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-lang/</a>). Is has a method for this:</p>\n\n<pre><code>else if (StringUtils.containsAny(key, \"QWERTYUIOPASDFGHJKLZXCVBNM\")){\n    UI.println(\"Invalid, key contains a space, illegal character\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670598756,"creation_date":1584652294,"answer_id":60765112,"question_id":60764388,"body_markdown":"You can use [`String#matches`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#matches(java.lang.String)) with the [regex](https://regex101.com/r/GVEpjf/1), `.*\\p{Lu}.*`. Learn more about `Pattern` from the [documentation](https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/regex/Pattern.html).\r\n\r\n**Demo**:\r\n\r\n    public class Main {\r\n        public static void main(String args[]) {\r\n            String[] keys = { &quot;HELLO&quot;, &quot;Hello&quot;, &quot;hello&quot;, &quot;hello world&quot;, &quot;Hello World&quot; };\r\n            for (String key : keys) {\r\n                if (key.matches(&quot;.*\\\\p{Lu}.*&quot;)) {\r\n                    System.out.println(key + &quot; =&gt; Invalid&quot;);\r\n                } else {\r\n                    System.out.println(key + &quot; =&gt; Valid&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    HELLO =&gt; Invalid\r\n    Hello =&gt; Invalid\r\n    hello =&gt; Valid\r\n    hello world =&gt; Valid\r\n    Hello World =&gt; Invalid\r\n\r\nAlternatively,\r\n--\r\n\r\nYou can check the presence of an uppercase letter using the [regex](https://regex101.com/r/Oh4JhG/1), `\\p{Lu}`.\r\n\r\n**Demo**:\r\n\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Main {\r\n        public static void main(String args[]) {\r\n            String[] keys = { &quot;HELLO&quot;, &quot;Hello&quot;, &quot;hello&quot;, &quot;hello world&quot;, &quot;Hello World&quot; };\r\n            for (String key : keys) {\r\n                if (Pattern.compile(&quot;\\\\p{Lu}&quot;).matcher(key).find()) {\r\n                    System.out.println(key + &quot; =&gt; Invalid&quot;);\r\n                } else {\r\n                    System.out.println(key + &quot; =&gt; Valid&quot;);\r\n                }\r\n            }\r\n        }\r\n    }","title":"How to check if a string contains uppercase java","body":"<p>You can use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#matches(java.lang.String)\" rel=\"nofollow noreferrer\"><code>String#matches</code></a> with the <a href=\"https://regex101.com/r/GVEpjf/1\" rel=\"nofollow noreferrer\">regex</a>, <code>.*\\p{Lu}.*</code>. Learn more about <code>Pattern</code> from the <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>public class Main {\n    public static void main(String args[]) {\n        String[] keys = { &quot;HELLO&quot;, &quot;Hello&quot;, &quot;hello&quot;, &quot;hello world&quot;, &quot;Hello World&quot; };\n        for (String key : keys) {\n            if (key.matches(&quot;.*\\\\p{Lu}.*&quot;)) {\n                System.out.println(key + &quot; =&gt; Invalid&quot;);\n            } else {\n                System.out.println(key + &quot; =&gt; Valid&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>HELLO =&gt; Invalid\nHello =&gt; Invalid\nhello =&gt; Valid\nhello world =&gt; Valid\nHello World =&gt; Invalid\n</code></pre>\n<h2>Alternatively,</h2>\n<p>You can check the presence of an uppercase letter using the <a href=\"https://regex101.com/r/Oh4JhG/1\" rel=\"nofollow noreferrer\">regex</a>, <code>\\p{Lu}</code>.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.util.regex.Pattern;\n\npublic class Main {\n    public static void main(String args[]) {\n        String[] keys = { &quot;HELLO&quot;, &quot;Hello&quot;, &quot;hello&quot;, &quot;hello world&quot;, &quot;Hello World&quot; };\n        for (String key : keys) {\n            if (Pattern.compile(&quot;\\\\p{Lu}&quot;).matcher(key).find()) {\n                System.out.println(key + &quot; =&gt; Invalid&quot;);\n            } else {\n                System.out.println(key + &quot; =&gt; Valid&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584656665,"creation_date":1584656665,"answer_id":60765923,"question_id":60764388,"body_markdown":"If you use Guava, you can get it using the powerful `CharMatcher`:\r\n\r\nFirst compile the matcher as a static member of the class so that it&#39;s done once and you don&#39;t need to recompute it at every call.\r\n\r\n    private static final CharMatcher UPPERCASE_LETTER = CharMatcher.inRange(&#39;A&#39;, &#39;Z&#39;);\r\n\r\nChange it to whatever letters you actually want. For instance if you want some accentuated characters, you can extend the following:\r\n\r\n    private static final CharMatcher UPPERCASE_LETTER = CharMatcher.inRange(&#39;A&#39;, &#39;Z&#39;)\r\n                                                                   .or(CharMatcher.anyOf(&quot;&#193;&#192;&#196;&#194;&#201;&#200;&#203;&#202;&#205;&#204;&#207;&#206;&#211;&#210;&#214;&#212;&#218;&#217;&#220;&#219;&quot;));\r\n\r\nIf you&#39;re lazy and just want to delegate to `Character::isUpperCase`, that&#39;s also possible:\r\n\r\n    private static final CharMatcher UPPERCASE_LETTER = CharMatcher.forPredicate(Character::isUpperCase)\r\n\r\nThen in your code, write the following:\r\n\r\n    if (UPPERCASE_LETTER.matchesAnyOf(key)) {\r\n      // Do what you want\r\n    }","title":"How to check if a string contains uppercase java","body":"<p>If you use Guava, you can get it using the powerful <code>CharMatcher</code>:</p>\n\n<p>First compile the matcher as a static member of the class so that it's done once and you don't need to recompute it at every call.</p>\n\n<pre><code>private static final CharMatcher UPPERCASE_LETTER = CharMatcher.inRange('A', 'Z');\n</code></pre>\n\n<p>Change it to whatever letters you actually want. For instance if you want some accentuated characters, you can extend the following:</p>\n\n<pre><code>private static final CharMatcher UPPERCASE_LETTER = CharMatcher.inRange('A', 'Z')\n                                                               .or(CharMatcher.anyOf(\"ÁÀÄÂÉÈËÊÍÌÏÎÓÒÖÔÚÙÜÛ\"));\n</code></pre>\n\n<p>If you're lazy and just want to delegate to <code>Character::isUpperCase</code>, that's also possible:</p>\n\n<pre><code>private static final CharMatcher UPPERCASE_LETTER = CharMatcher.forPredicate(Character::isUpperCase)\n</code></pre>\n\n<p>Then in your code, write the following:</p>\n\n<pre><code>if (UPPERCASE_LETTER.matchesAnyOf(key)) {\n  // Do what you want\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19141878,"reputation":1,"user_id":13981707,"display_name":"Tobias N&#228;th"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597990919,"creation_date":1597990919,"answer_id":63517519,"question_id":60764388,"body_markdown":"If you took the streams solution of @OlivierGr&#233;goire and want limit it to the Capitals [A-Z] you can get it by also testing the UnicodeBlock as BASIC_LATIN. Where BASIC_LATIN is the ASCII Block of Unicode(see [BASIC_LATIN][1] )  \r\n\r\n            key.chars().anyMatch(this::isBasicLatinCapital)\r\n            ...\r\n            private boolean isBasicLatinCapital( int c) {\r\n            return\r\n                Character.UnicodeBlock.BASIC_LATIN == Character.UnicodeBlock.of(c) &amp;&amp; Character.isUpperCase(c) ;\r\n            } \r\n            \r\n\r\n  \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Basic_Latin_(Unicode_block)","title":"How to check if a string contains uppercase java","body":"<p>If you took the streams solution of @OlivierGrégoire and want limit it to the Capitals [A-Z] you can get it by also testing the UnicodeBlock as BASIC_LATIN. Where BASIC_LATIN is the ASCII Block of Unicode(see <a href=\"https://en.wikipedia.org/wiki/Basic_Latin_(Unicode_block)\" rel=\"nofollow noreferrer\">BASIC_LATIN</a> )</p>\n<pre><code>        key.chars().anyMatch(this::isBasicLatinCapital)\n        ...\n        private boolean isBasicLatinCapital( int c) {\n        return\n            Character.UnicodeBlock.BASIC_LATIN == Character.UnicodeBlock.of(c) &amp;&amp; Character.isUpperCase(c) ;\n        } \n        \n</code></pre>\n"}],"owner":{"account_id":17597999,"reputation":43,"user_id":12768550,"display_name":"louistcooper"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2915,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":60764547,"answer_count":7,"score":3,"last_activity_date":1670598756,"creation_date":1584648805,"question_id":60764388,"body_markdown":"I am working on a program that lets a user input an alphanumeric key, and checks if it is a valid key against some criteria, one of these is whether or not the key contains an uppercase. TThis is what I have tried so far:\r\n\r\n    else if (key.contains(&quot;QWERTYUIOPASDFGHJKLZXCVBNM&quot;)){\r\n        UI.println(&quot;Invalid, key contains a space, illegal character&quot;);\r\n        }\r\n\r\nThis only detects the capital letters if they are written in this order. is there a command such as key.contains i should be using?","title":"How to check if a string contains uppercase java","body":"<p>I am working on a program that lets a user input an alphanumeric key, and checks if it is a valid key against some criteria, one of these is whether or not the key contains an uppercase. TThis is what I have tried so far:</p>\n\n<pre><code>else if (key.contains(\"QWERTYUIOPASDFGHJKLZXCVBNM\")){\n    UI.println(\"Invalid, key contains a space, illegal character\");\n    }\n</code></pre>\n\n<p>This only detects the capital letters if they are written in this order. is there a command such as key.contains i should be using?</p>\n"},{"tags":["java","spring-boot","service","crud"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1670571844,"post_id":74740152,"comment_id":131909417,"body_markdown":"Take care of java naming conventions. Class and Interface names should start with upper case character","body":"Take care of java naming conventions. Class and Interface names should start with upper case character"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1670571902,"post_id":74740152,"comment_id":131909431,"body_markdown":"Read abut `@PostConstruct`, if this is a spring bean","body":"Read abut <code>@PostConstruct</code>, if this is a spring bean"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1670571948,"post_id":74740152,"comment_id":131909441,"body_markdown":"BTW: `@Before` is from junit i guess? If so, do not use it in production code","body":"BTW: <code>@Before</code> is from junit i guess? If so, do not use it in production code"},{"owner":{"account_id":24183247,"reputation":472,"user_id":18570428,"display_name":"Talenel"},"score":0,"creation_date":1670571988,"post_id":74740152,"comment_id":131909453,"body_markdown":"@Jens it is just a pseudo-code","body":"@Jens it is just a pseudo-code"},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1670572401,"post_id":74740152,"comment_id":131909558,"body_markdown":"Another way of solving this would be to have an `abstract class` implementing the interface and extends the children classes with this new class","body":"Another way of solving this would be to have an <code>abstract class</code> implementing the interface and extends the children classes with this new class"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1670572647,"post_id":74740152,"comment_id":131909621,"body_markdown":"@LeonardoEmmanueldeAzevedo How this helps by fullfilling the requirement *class of my service that is executed only once, at the beginning*?","body":"@LeonardoEmmanueldeAzevedo How this helps by fullfilling the requirement <i>class of my service that is executed only once, at the beginning</i>?"},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1670572806,"post_id":74740152,"comment_id":131909679,"body_markdown":"@Jens It doesn&#39;t, I missed that part, apologies. I&#39;d stick with your suggestion, using `@PostConstruct`","body":"@Jens It doesn&#39;t, I missed that part, apologies. I&#39;d stick with your suggestion, using <code>@PostConstruct</code>"}],"answers":[{"tags":[],"owner":{"account_id":12703682,"reputation":104,"user_id":9229654,"display_name":"A. Hajian"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1670572880,"creation_date":1670572880,"answer_id":74740303,"question_id":74740152,"body_markdown":"Using AOP you can call a method in lots of different scenarios including the one you described.\r\nHere is Link to Spring AOP documentation\r\n[Spring AOP][1]\r\n\r\n    @Aspect\r\n    public class BeforeExample {\r\n    \r\n      @Before(&quot;com.xyz.myapp.SystemArchitecture.dataAccessOperation()&quot;)\r\n      public void doAccessCheck() {\r\n        // ...\r\n      }\r\n    \r\n    }\r\nYou can Also define a custom annotation like @Before to do the magic for you. \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/2.5.5/reference/aop.html#:~:text=Aspect-Oriented%20Programming%20(AOP),of%20modularity%20is%20the%20aspect.","title":"Use @Before in service for all methods in Java","body":"<p>Using AOP you can call a method in lots of different scenarios including the one you described.\nHere is Link to Spring AOP documentation\n<a href=\"https://docs.spring.io/spring-framework/docs/2.5.5/reference/aop.html#:%7E:text=Aspect-Oriented%20Programming%20(AOP),of%20modularity%20is%20the%20aspect.\" rel=\"nofollow noreferrer\">Spring AOP</a></p>\n<pre><code>@Aspect\npublic class BeforeExample {\n\n  @Before(&quot;com.xyz.myapp.SystemArchitecture.dataAccessOperation()&quot;)\n  public void doAccessCheck() {\n    // ...\n  }\n\n}\n</code></pre>\n<p>You can Also define a custom annotation like @Before to do the magic for you.</p>\n"},{"tags":[],"owner":{"account_id":13141463,"reputation":116,"user_id":9492915,"display_name":"SputNick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670598407,"creation_date":1670598407,"answer_id":74744889,"question_id":74740152,"body_markdown":"There is a spring lifecycle annotation called as @PostConstruct, write a method in the class and add all the one time execution logic in this method and annotate it with the @PostConstruct annotation and spring would call this method automatically once the bean has been initialized.","title":"Use @Before in service for all methods in Java","body":"<p>There is a spring lifecycle annotation called as @PostConstruct, write a method in the class and add all the one time execution logic in this method and annotate it with the @PostConstruct annotation and spring would call this method automatically once the bean has been initialized.</p>\n"}],"owner":{"account_id":24183247,"reputation":472,"user_id":18570428,"display_name":"Talenel"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":666,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1670600375,"answer_count":2,"score":-1,"last_activity_date":1670598407,"creation_date":1670571706,"question_id":74740152,"body_markdown":"I am implementing a `service` for my controller in java. This service implements an interface with several methods, where each of them performs a different logic. However, they also have a common logic (they must call another @service).\r\nI would like to know if there is any way to refactor this, that is, remove that common logic that they have to a method in the class of my service that is executed only once, at the beginning.\r\n\r\nI&#39;m looking for something similar to the following:\r\n\r\n    public class myClass implements myInterface{\r\n    \r\n    private String stringToFill=&quot;&quot;;\r\n    \r\n    @Before\r\n    public doSomeLogig(){\r\n       // call another service\r\n       stringToFill = &quot;filled&quot;;\r\n    }\r\n    \r\n    public getAll(){\r\n       ...\r\n       //here I should use stringToFill, with value &#39;filled&#39;\r\n    }\r\n    public getId(){\r\n       //here I should use stringToFill, with value &#39;filled&#39;\r\n       ...\r\n    }\r\n    public create(){\r\n       //here I should use stringToFill, with value &#39;filled&#39;\r\n       ...\r\n    }\r\n    \r\n }","title":"Use @Before in service for all methods in Java","body":"<p>I am implementing a <code>service</code> for my controller in java. This service implements an interface with several methods, where each of them performs a different logic. However, they also have a common logic (they must call another @service).\nI would like to know if there is any way to refactor this, that is, remove that common logic that they have to a method in the class of my service that is executed only once, at the beginning.</p>\n<p>I'm looking for something similar to the following:</p>\n<pre><code>public class myClass implements myInterface{\n\nprivate String stringToFill=&quot;&quot;;\n\n@Before\npublic doSomeLogig(){\n   // call another service\n   stringToFill = &quot;filled&quot;;\n}\n\npublic getAll(){\n   ...\n   //here I should use stringToFill, with value 'filled'\n}\npublic getId(){\n   //here I should use stringToFill, with value 'filled'\n   ...\n}\npublic create(){\n   //here I should use stringToFill, with value 'filled'\n   ...\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1670589586,"post_id":74743210,"comment_id":131914575,"body_markdown":"I don&#39;t know about compile error or code solutions, but Eclipse for example has an option for Errors/Warnings called &quot;Unlikely argument type for method equals()&quot; where you can configure if it should ignore, inform or even show an error for that Problem. For example, when activated it will display the Error `&quot;Unlikely argument type for equals(): Long seems to be unrelated to Integer&quot;` for `Objects.equals(Integer.valueOf(1), Long.valueOf(1))`. So maybe whatever IDE you are using has something similar and you can handle it with that.","body":"I don&#39;t know about compile error or code solutions, but Eclipse for example has an option for Errors/Warnings called &quot;Unlikely argument type for method equals()&quot; where you can configure if it should ignore, inform or even show an error for that Problem. For example, when activated it will display the Error <code>&quot;Unlikely argument type for equals(): Long seems to be unrelated to Integer&quot;</code> for <code>Objects.equals(Integer.valueOf(1), Long.valueOf(1))</code>. So maybe whatever IDE you are using has something similar and you can handle it with that."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1670589659,"post_id":74743210,"comment_id":131914606,"body_markdown":"Have you considered `instanceof`, `Class#isInstance`, `Class#isAssignableTo`, and comparing the class types via `==`?","body":"Have you considered <code>instanceof</code>, <code>Class#isInstance</code>, <code>Class#isAssignableTo</code>, and comparing the class types via <code>==</code>?"},{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":0,"creation_date":1670590331,"post_id":74743210,"comment_id":131914837,"body_markdown":"Does this answer your question? [What issues should be considered when overriding equals and hashCode in Java?](https://stackoverflow.com/questions/27581/what-issues-should-be-considered-when-overriding-equals-and-hashcode-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/27581/what-issues-should-be-considered-when-overriding-equals-and-hashcode-in-java\">What issues should be considered when overriding equals and hashCode in Java?</a>"},{"owner":{"account_id":5623697,"reputation":480,"user_id":4452737,"display_name":"markus_"},"score":0,"creation_date":1670590942,"post_id":74743210,"comment_id":131915029,"body_markdown":"@OHGODSPIDERS yes my IDEs does that, but compiling still works","body":"@OHGODSPIDERS yes my IDEs does that, but compiling still works"},{"owner":{"account_id":5623697,"reputation":480,"user_id":4452737,"display_name":"markus_"},"score":0,"creation_date":1670590958,"post_id":74743210,"comment_id":131915038,"body_markdown":"@Rogue that&#39;s not compile time, sorry","body":"@Rogue that&#39;s not compile time, sorry"},{"owner":{"account_id":5623697,"reputation":480,"user_id":4452737,"display_name":"markus_"},"score":0,"creation_date":1670591053,"post_id":74743210,"comment_id":131915068,"body_markdown":"@user16320675 yes, that is what I have done so far and it has the drawback you mentioned, I had to write `MyClass&lt;concreteType&gt;.equals`","body":"@user16320675 yes, that is what I have done so far and it has the drawback you mentioned, I had to write <code>MyClass&lt;concreteType&gt;.equals</code>"},{"owner":{"account_id":5623697,"reputation":480,"user_id":4452737,"display_name":"markus_"},"score":0,"creation_date":1670591109,"post_id":74743210,"comment_id":131915085,"body_markdown":"@Torben your propsed answer is only very loosely coupled to my question, sorry...","body":"@Torben your propsed answer is only very loosely coupled to my question, sorry..."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670594627,"creation_date":1670594627,"answer_id":74744176,"question_id":74743210,"body_markdown":"I think there is no fast solution short of writing a bunch of `equals()` methods. This might be feasible if you have only a limited set of types that you want to use:\r\n\r\n    public class Equals {\r\n    \r\n        public static boolean equals(Integer a, Integer b) {\r\n            return Objects.equals(a, b);\r\n        }\r\n    \r\n        public static boolean equals(Long a, Long b) {\r\n            return Objects.equals(a, b);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            // System.out.println(equals(1, 1L)); doesn&#39;t compile\r\n            System.out.println(equals(1, 1));\r\n            System.out.println(equals(1L, 1L));\r\n        }\r\n    }\r\n","title":"Object-Equals to force same type at runtime","body":"<p>I think there is no fast solution short of writing a bunch of <code>equals()</code> methods. This might be feasible if you have only a limited set of types that you want to use:</p>\n<pre><code>public class Equals {\n\n    public static boolean equals(Integer a, Integer b) {\n        return Objects.equals(a, b);\n    }\n\n    public static boolean equals(Long a, Long b) {\n        return Objects.equals(a, b);\n    }\n\n    public static void main(String[] args) {\n        // System.out.println(equals(1, 1L)); doesn't compile\n        System.out.println(equals(1, 1));\n        System.out.println(equals(1L, 1L));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670598366,"creation_date":1670598065,"answer_id":74744826,"question_id":74743210,"body_markdown":"Just as Thomas already mentioned, I cannot think of a fast solution either.\r\n\r\nYou have several options, some of which you may have already tried:\r\n\r\n* You may use your own `equals` methods, forcing you to pass two arguments of the same type (either both `Integer` or both `Long`). This is [the solution Thomas proposed][1].\r\n\r\n* You may force a certain type by typecasts:\r\n\r\n    ```java\r\n    Objects.equals((Integer) someId, (Integer) foo.getId())\r\n    ```\r\n\r\n    The compiler starts whining if you change the type of either of the arguments.\r\n\r\n* Apply encapsulation. Create a class `Id`, in which you store the actual value, either as a `Long` or as an `Integer`. Then if you return an *id* anywhere, use the `Id` class for it. The problem with directly using a `Long` or `Integer` is that you expose the internal implementation. And when you change the implementation, you change the interface.\r\n\r\n    Whether this option is feasible, depends on your use case.\r\n\r\nIf you don&#39;t want to use a class `Id`, then I suggest you switch to `Long`, and hope you don&#39;t ever need an id greater than 9,223,372,036,854,775,807.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/74744176/507738","title":"Object-Equals to force same type at runtime","body":"<p>Just as Thomas already mentioned, I cannot think of a fast solution either.</p>\n<p>You have several options, some of which you may have already tried:</p>\n<ul>\n<li><p>You may use your own <code>equals</code> methods, forcing you to pass two arguments of the same type (either both <code>Integer</code> or both <code>Long</code>). This is <a href=\"https://stackoverflow.com/a/74744176/507738\">the solution Thomas proposed</a>.</p>\n</li>\n<li><p>You may force a certain type by typecasts:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Objects.equals((Integer) someId, (Integer) foo.getId())\n</code></pre>\n<p>The compiler starts whining if you change the type of either of the arguments.</p>\n</li>\n<li><p>Apply encapsulation. Create a class <code>Id</code>, in which you store the actual value, either as a <code>Long</code> or as an <code>Integer</code>. Then if you return an <em>id</em> anywhere, use the <code>Id</code> class for it. The problem with directly using a <code>Long</code> or <code>Integer</code> is that you expose the internal implementation. And when you change the implementation, you change the interface.</p>\n<p>Whether this option is feasible, depends on your use case.</p>\n</li>\n</ul>\n<p>If you don't want to use a class <code>Id</code>, then I suggest you switch to <code>Long</code>, and hope you don't ever need an id greater than 9,223,372,036,854,775,807.</p>\n"}],"owner":{"account_id":5623697,"reputation":480,"user_id":4452737,"display_name":"markus_"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74744176,"answer_count":2,"score":0,"last_activity_date":1670598366,"creation_date":1670589148,"question_id":74743210,"body_markdown":"I am wondering whether it is possible to add something like Objects.equals() that allows runtime checking of types.  \r\nNote: I know, that is not what you always want to do, but I think it has its use cases. At least for me.  \r\n\r\nExample problem: I have some class, let&#39;s say, an id of type Integer. And I have an entity Foo with `foo.getId()` returns a type Integer. For some reasons I check for equality with `Objects.equals(someId, foo.getId())`.  \r\nNow I refactor my entity, `foo.getId()` will no longer return an Integer but will return Long. Unfortunatelly, there will be no compile time hint at all that `Objects.equals(someId, foo.getId())` will never return true. (Yes, stuff like sonarqube helps you a bit).  \r\n\r\nTo solve that, I thought I write something like\r\n```\r\nprivate static &lt;T&gt; boolean equals(T object1, T object2) {\r\n\treturn Objects.equals(object1, object2);\r\n}\r\n```` \r\nwhich.....just does not work. It still accepts any arbitrary Object. Is there any possible solution in Java for this?\r\n\r\nEdit: Please note, this question has nothing to do with equals and hashCode of an object or overriding equals of an object in general, I am looking for a compile-time solution.","title":"Object-Equals to force same type at runtime","body":"<p>I am wondering whether it is possible to add something like Objects.equals() that allows runtime checking of types.<br />\nNote: I know, that is not what you always want to do, but I think it has its use cases. At least for me.</p>\n<p>Example problem: I have some class, let's say, an id of type Integer. And I have an entity Foo with <code>foo.getId()</code> returns a type Integer. For some reasons I check for equality with <code>Objects.equals(someId, foo.getId())</code>.<br />\nNow I refactor my entity, <code>foo.getId()</code> will no longer return an Integer but will return Long. Unfortunatelly, there will be no compile time hint at all that <code>Objects.equals(someId, foo.getId())</code> will never return true. (Yes, stuff like sonarqube helps you a bit).</p>\n<p>To solve that, I thought I write something like</p>\n<pre><code>private static &lt;T&gt; boolean equals(T object1, T object2) {\n    return Objects.equals(object1, object2);\n}\n</code></pre>\n<p>which.....just does not work. It still accepts any arbitrary Object. Is there any possible solution in Java for this?</p>\n<p>Edit: Please note, this question has nothing to do with equals and hashCode of an object or overriding equals of an object in general, I am looking for a compile-time solution.</p>\n"},{"tags":["java","hibernate","maven","jpa","orm"],"comments":[{"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"score":0,"creation_date":1670346585,"post_id":74706341,"comment_id":131853457,"body_markdown":"It should probably be something like `products.addAll(...)`. The code you shared is not showing the part where you&#39;re trying to add new elements so it&#39;s hard to say what might be happening","body":"It should probably be something like <code>products.addAll(...)</code>. The code you shared is not showing the part where you&#39;re trying to add new elements so it&#39;s hard to say what might be happening"},{"owner":{"account_id":21577429,"reputation":1,"user_id":15909304,"display_name":"Anasyrma"},"score":0,"creation_date":1670350353,"post_id":74706341,"comment_id":131854767,"body_markdown":"Oh, you&#39;re right. I&#39;ve just added the missing piece.","body":"Oh, you&#39;re right. I&#39;ve just added the missing piece."},{"owner":{"account_id":16450692,"reputation":574,"user_id":11884183,"display_name":"Felix Schildmann"},"score":0,"creation_date":1670356515,"post_id":74706341,"comment_id":131856717,"body_markdown":"Try to add the ``@ManyToMany`` relationship on both sides to make it bi-directional. Add an attribute ``productsLists`` to your ``Product`` entity","body":"Try to add the <code>@ManyToMany</code> relationship on both sides to make it bi-directional. Add an attribute <code>productsLists</code> to your <code>Product</code> entity"},{"owner":{"account_id":21577429,"reputation":1,"user_id":15909304,"display_name":"Anasyrma"},"score":0,"creation_date":1670422322,"post_id":74706341,"comment_id":131872874,"body_markdown":"@FelixSchildmann I updated the post with my actual code. The problem with this is that now it&#39;s throwing an exception: &quot;Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: BEFORE_TRANSACTION_COMPLETION&quot;","body":"@FelixSchildmann I updated the post with my actual code. The problem with this is that now it&#39;s throwing an exception: &quot;Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpa&zwnj;&#8203;Configuration.class]&zwnj;&#8203;: BEFORE_TRANSACTION_COMPLETION&quot;"}],"answers":[{"tags":[],"owner":{"account_id":21577429,"reputation":1,"user_id":15909304,"display_name":"Anasyrma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670598112,"creation_date":1670598112,"answer_id":74744838,"question_id":74706341,"body_markdown":"This is the method I used to solve this in my Service:\r\n\r\n     public ListOfProducts addProductToList(Integer idList, Integer idProduct) throws ResourceNotFoundException {\r\n\r\n        ListOfProducts listOriginal = listRepository.findById(idList).orElseThrow(()-&gt; new  ResourceNotFoundException(&quot;The list of products could not be found.&quot;));\r\n        Product product = productRepository.findProductById(idProduct).orElseThrow(()-&gt;new ResourceNotFoundException(&quot;Product not found&quot;));\r\n\r\n        listOriginal.getProducts().add(product);\r\n\r\n        listRepository.save(listOriginal);\r\n        LOGGER.info(String.format(&quot;Product %s was added to the list with id %s &quot;, idProduct, idList));\r\n\r\n        return listOriginal;\r\n    }","title":"How can I add an object to a list of objects and keep all the preexisting ones?","body":"<p>This is the method I used to solve this in my Service:</p>\n<pre><code> public ListOfProducts addProductToList(Integer idList, Integer idProduct) throws ResourceNotFoundException {\n\n    ListOfProducts listOriginal = listRepository.findById(idList).orElseThrow(()-&gt; new  ResourceNotFoundException(&quot;The list of products could not be found.&quot;));\n    Product product = productRepository.findProductById(idProduct).orElseThrow(()-&gt;new ResourceNotFoundException(&quot;Product not found&quot;));\n\n    listOriginal.getProducts().add(product);\n\n    listRepository.save(listOriginal);\n    LOGGER.info(String.format(&quot;Product %s was added to the list with id %s &quot;, idProduct, idList));\n\n    return listOriginal;\n}\n</code></pre>\n"}],"owner":{"account_id":21577429,"reputation":1,"user_id":15909304,"display_name":"Anasyrma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670598112,"creation_date":1670345862,"question_id":74706341,"body_markdown":"I am new to Java and I want to update a List&lt;Product&gt; withous losing the products that already are on the list. I am using JPA\r\n\r\n**Products List:**\r\n```\r\n@Entity\r\n@Table(name = &quot;listOfProducts&quot;)\r\npublic class ProductsList {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(\r\n            name = &quot;products_id&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;id_list&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;id_product&quot;)\r\n    )\r\n    private Set&lt;Product&gt; products;\r\n```\r\n\r\n**Product Entity**\r\n```\r\n@Entity\r\n@Table(name = &quot;product&quot;)\r\npublic class Product {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(\r\n            name = &quot;tabla_id&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;id_product&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;id_list&quot;)\r\n    )\r\n    @JsonIgnore\r\n    private List&lt;ProductsList&gt; productsLists;\r\n\r\n```\r\n\r\n**List Service**\r\n```\r\n// now it only has the CRUD\r\n```\r\n\r\nI couldn&#39;t seem to find anything resolving this. I found ways to update the list, but it always end up deleting all the previous products in my list.\r\n\r\nAlso: for some reason, now it&#39;s also asking me to change ` for (j:listaRepository.findById(id)) {` for ` for (j:listaRepository.findById(id);;) {`","title":"How can I add an object to a list of objects and keep all the preexisting ones?","body":"<p>I am new to Java and I want to update a List withous losing the products that already are on the list. I am using JPA</p>\n<p><strong>Products List:</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;listOfProducts&quot;)\npublic class ProductsList {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n            name = &quot;products_id&quot;,\n            joinColumns = @JoinColumn(name = &quot;id_list&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;id_product&quot;)\n    )\n    private Set&lt;Product&gt; products;\n</code></pre>\n<p><strong>Product Entity</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;product&quot;)\npublic class Product {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n            name = &quot;tabla_id&quot;,\n            joinColumns = @JoinColumn(name = &quot;id_product&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;id_list&quot;)\n    )\n    @JsonIgnore\n    private List&lt;ProductsList&gt; productsLists;\n\n</code></pre>\n<p><strong>List Service</strong></p>\n<pre><code>// now it only has the CRUD\n</code></pre>\n<p>I couldn't seem to find anything resolving this. I found ways to update the list, but it always end up deleting all the previous products in my list.</p>\n<p>Also: for some reason, now it's also asking me to change <code> for (j:listaRepository.findById(id)) {</code> for <code> for (j:listaRepository.findById(id);;) {</code></p>\n"},{"tags":["java","java-8","option-type"],"comments":[{"owner":{"account_id":8463731,"reputation":38757,"user_id":6348498,"accept_rate":92,"display_name":"Gurwinder Singh"},"score":2,"creation_date":1481600870,"post_id":41113406,"comment_id":69431070,"body_markdown":"*why* do you want to use optional? I dont see any use for your case","body":"<i>why</i> do you want to use optional? I dont see any use for your case"},{"owner":{"account_id":6583624,"reputation":2692,"user_id":5087125,"display_name":"pvg"},"score":4,"creation_date":1481600895,"post_id":41113406,"comment_id":69431079,"body_markdown":"That&#39;s not really what `Optional` is for. And you don&#39;t want to be catching NPE. Just use the tertiary although a better design is to say the contract simply does not allow null - then throwing the NPE is what is supposed to happen and happens automatically and your code is much simpler.","body":"That&#39;s not really what <code>Optional</code> is for. And you don&#39;t want to be catching NPE. Just use the tertiary although a better design is to say the contract simply does not allow null - then throwing the NPE is what is supposed to happen and happens automatically and your code is much simpler."},{"owner":{"account_id":246295,"reputation":11636,"user_id":520359,"accept_rate":87,"display_name":"Lachezar Balev"},"score":2,"creation_date":1481609679,"post_id":41113406,"comment_id":69433583,"body_markdown":"Isn&#39;t it `ternary`? :-) IMO there is no need to use Optional in your case. Something like `input != null ? Long.valueOf(input) : null` seems ok. What  @pvg says is also reasonable.","body":"Isn&#39;t it <code>ternary</code>? :-) IMO there is no need to use Optional in your case. Something like <code>input != null ? Long.valueOf(input) : null</code> seems ok. What  @pvg says is also reasonable."}],"answers":[{"tags":[],"owner":{"account_id":4860165,"reputation":27613,"user_id":3920048,"display_name":"Misha"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1481609381,"creation_date":1481609381,"answer_id":41114664,"question_id":41113406,"body_markdown":"Use [`map`][1] to convert from `Optional&lt;String&gt;` to `Optional&lt;Long&gt;`:\r\n\r\n    Optional&lt;String&gt; str = ...;\r\n    Optional&lt;Long&gt; num = str.map(Long::valueOf);\r\n\r\nIf `str` was empty, `num` is also empty.  If `str` had a value, `num` contains the result of `valueOf`.  This would mainly be useful if `Optional&lt;String&gt;` was coming from somewhere else.  Making one just to avoid a ternary operator is questionable, but here&#39;s how you can rewrite your method:\r\n\r\n\tpublic void methodA(String input) {\r\n\t\tSystem.out.println(Optional.ofNullable(input).map(Long::valueOf).orElse(null));\r\n\t}\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#map-java.util.function.Function-","title":"Java 8 Optional Null Check","body":"<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#map-java.util.function.Function-\" rel=\"noreferrer\"><code>map</code></a> to convert from <code>Optional&lt;String&gt;</code> to <code>Optional&lt;Long&gt;</code>:</p>\n\n<pre><code>Optional&lt;String&gt; str = ...;\nOptional&lt;Long&gt; num = str.map(Long::valueOf);\n</code></pre>\n\n<p>If <code>str</code> was empty, <code>num</code> is also empty.  If <code>str</code> had a value, <code>num</code> contains the result of <code>valueOf</code>.  This would mainly be useful if <code>Optional&lt;String&gt;</code> was coming from somewhere else.  Making one just to avoid a ternary operator is questionable, but here's how you can rewrite your method:</p>\n\n<pre><code>public void methodA(String input) {\n    System.out.println(Optional.ofNullable(input).map(Long::valueOf).orElse(null));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7406733,"reputation":633,"user_id":5635466,"display_name":"Danail Tsvetanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670597896,"creation_date":1670597896,"answer_id":74744798,"question_id":41113406,"body_markdown":"In this case, the ternary operator is more readable.\r\n\r\n    public void methodA(String input) {\r\n    System.out.println(input == null ? null : Long.parseLong(input));\r\n}","title":"Java 8 Optional Null Check","body":"<p>In this case, the ternary operator is more readable.</p>\n<pre><code>public void methodA(String input) {\nSystem.out.println(input == null ? null : Long.parseLong(input));\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":6142042,"reputation":504,"user_id":4789157,"accept_rate":75,"display_name":"David"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4228,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":41114664,"answer_count":2,"score":4,"last_activity_date":1670597896,"creation_date":1481600671,"question_id":41113406,"body_markdown":"I am trying to check if the input is null then output should be null\r\nOr if the input is String, then it should convert it to Long\r\n\r\nAssuming input is never &quot;abcd&quot;, input is either null or &quot;12&quot;, &quot;14&quot;, etc.\r\n\r\nThe following code snippet throws null pointer exception, as I am not able to use Java 8 Optional properly. I can catch the null pointer exception or use if/else with tertiary&#39;?&#39; operator but Is there any way to handle this scenario with Optional?\r\n\r\n    public class OptionalClass {\r\n\r\n\tpublic void methodA(String input) {\r\n\t\tSystem.out.println(Long.valueOf(Optional.ofNullable(input).orElse(null)));\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tnew OptionalClass().methodA(&quot;12&quot;);// This works fine\r\n\t\tnew OptionalClass().methodA(null); // This throws null pointer exception\r\n\t}   }\r\n\r\n\r\n","title":"Java 8 Optional Null Check","body":"<p>I am trying to check if the input is null then output should be null\nOr if the input is String, then it should convert it to Long</p>\n\n<p>Assuming input is never \"abcd\", input is either null or \"12\", \"14\", etc.</p>\n\n<p>The following code snippet throws null pointer exception, as I am not able to use Java 8 Optional properly. I can catch the null pointer exception or use if/else with tertiary'?' operator but Is there any way to handle this scenario with Optional?</p>\n\n<pre><code>public class OptionalClass {\n\npublic void methodA(String input) {\n    System.out.println(Long.valueOf(Optional.ofNullable(input).orElse(null)));\n}\n\npublic static void main(String[] args) {\n    new OptionalClass().methodA(\"12\");// This works fine\n    new OptionalClass().methodA(null); // This throws null pointer exception\n}   }\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9172,"page":820,"page_size":100}
