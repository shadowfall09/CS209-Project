{"items":[{"tags":["java","multithreading","concurrency","locking"],"answers":[{"comments":[{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1680623526,"post_id":75930567,"comment_id":133927892,"body_markdown":"i&#39;m not sure why you added the allLocks lock.  it doesn&#39;t actually do anything in your scenario (since you create it inside the method, no other thread can ever use the same lock).","body":"i&#39;m not sure why you added the allLocks lock.  it doesn&#39;t actually do anything in your scenario (since you create it inside the method, no other thread can ever use the same lock)."}],"tags":[],"owner":{"account_id":25573860,"reputation":21,"user_id":19353744,"display_name":"Ravindu Sasanka"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680618311,"creation_date":1680618311,"answer_id":75930567,"question_id":75930239,"body_markdown":"If you have implemented a striped lock to safely and efficiently access a data structure, but the data structure has a method that requires all locks to be acquired at the same time, you can modify your implementation to allow for this. Here are the steps you can follow:\r\n\r\n1. First, create a new lock that will be used to synchronize the access to the data structure when all locks need to be acquired at the same time. You can use a simple ```ReentrantLock``` for this purpose.\r\n\r\n2. Next, modify your striped lock implementation to acquire this new lock in addition to the striped locks when the method that requires all locks to be acquired is called. You can use the ```tryLock()``` method of the ```ReentrantLock``` to try to acquire the lock without blocking. If the lock cannot be acquired, you can release all the previously acquired striped locks and try again.\r\n\r\n3. Once all the locks have been acquired, call the method on the data structure that requires all locks to be acquired.\r\n\r\n4. Release all the locks in reverse order of acquisition, starting with the lock that was acquired last.\r\n\r\nHere&#39;s an example of how the modified striped lock implementation might look like:\r\n\r\n    public class StripedLock {\r\n    private final int numStripes;\r\n    private final ReentrantLock[] locks;\r\n\r\n    // Constructor that creates the striped locks\r\n    public StripedLock(int numStripes) {\r\n        this.numStripes = numStripes;\r\n        this.locks = new ReentrantLock[numStripes];\r\n        for (int i = 0; i &lt; numStripes; i++) {\r\n            this.locks[i] = new ReentrantLock();\r\n        }\r\n    }\r\n\r\n    // Method to acquire all locks at once\r\n    public void acquireAllLocks() {\r\n        List&lt;ReentrantLock&gt; acquiredLocks = new ArrayList&lt;&gt;();\r\n        ReentrantLock allLocks = new ReentrantLock();\r\n\r\n        // Acquire all striped locks\r\n        for (int i = 0; i &lt; numStripes; i++) {\r\n            ReentrantLock lock = locks[i];\r\n            if (lock.tryLock()) {\r\n                acquiredLocks.add(lock);\r\n            } else {\r\n                // Release all previously acquired locks and try again\r\n                for (ReentrantLock acquiredLock : acquiredLocks) {\r\n                    acquiredLock.unlock();\r\n                }\r\n                acquiredLocks.clear();\r\n                i = -1; // start again from the first lock\r\n            }\r\n        }\r\n\r\n        // Acquire the all-locks lock\r\n        allLocks.lock();\r\n\r\n        // Release all striped locks except the last one\r\n        for (int i = acquiredLocks.size() - 2; i &gt;= 0; i--) {\r\n            acquiredLocks.get(i).unlock();\r\n        }\r\n\r\n        // Call the method that requires all locks to be acquired\r\n        dataStructure.methodThatRequiresAllLocks();\r\n\r\n        // Release all locks in reverse order of acquisition\r\n        allLocks.unlock();\r\n        for (int i = acquiredLocks.size() - 1; i &gt;= 0; i--) {\r\n            acquiredLocks.get(i).unlock();\r\n        }\r\n    }\r\n    }\r\n\r\nIn this implementation, the ```acquireAllLocks()``` method tries to acquire all the striped locks first, and if successful, it acquires the all-locks lock and releases all the striped locks except the last one. Then, it calls the method that requires all locks to be acquired, and finally, it releases all the locks in reverse order of acquisition. If any of the striped locks cannot be acquired, it releases all the previously acquired locks and tries again from the first lock.","title":"Safe acquisition of all striped lock at once","body":"<p>If you have implemented a striped lock to safely and efficiently access a data structure, but the data structure has a method that requires all locks to be acquired at the same time, you can modify your implementation to allow for this. Here are the steps you can follow:</p>\n<ol>\n<li><p>First, create a new lock that will be used to synchronize the access to the data structure when all locks need to be acquired at the same time. You can use a simple <code>ReentrantLock</code> for this purpose.</p>\n</li>\n<li><p>Next, modify your striped lock implementation to acquire this new lock in addition to the striped locks when the method that requires all locks to be acquired is called. You can use the <code>tryLock()</code> method of the <code>ReentrantLock</code> to try to acquire the lock without blocking. If the lock cannot be acquired, you can release all the previously acquired striped locks and try again.</p>\n</li>\n<li><p>Once all the locks have been acquired, call the method on the data structure that requires all locks to be acquired.</p>\n</li>\n<li><p>Release all the locks in reverse order of acquisition, starting with the lock that was acquired last.</p>\n</li>\n</ol>\n<p>Here's an example of how the modified striped lock implementation might look like:</p>\n<pre><code>public class StripedLock {\nprivate final int numStripes;\nprivate final ReentrantLock[] locks;\n\n// Constructor that creates the striped locks\npublic StripedLock(int numStripes) {\n    this.numStripes = numStripes;\n    this.locks = new ReentrantLock[numStripes];\n    for (int i = 0; i &lt; numStripes; i++) {\n        this.locks[i] = new ReentrantLock();\n    }\n}\n\n// Method to acquire all locks at once\npublic void acquireAllLocks() {\n    List&lt;ReentrantLock&gt; acquiredLocks = new ArrayList&lt;&gt;();\n    ReentrantLock allLocks = new ReentrantLock();\n\n    // Acquire all striped locks\n    for (int i = 0; i &lt; numStripes; i++) {\n        ReentrantLock lock = locks[i];\n        if (lock.tryLock()) {\n            acquiredLocks.add(lock);\n        } else {\n            // Release all previously acquired locks and try again\n            for (ReentrantLock acquiredLock : acquiredLocks) {\n                acquiredLock.unlock();\n            }\n            acquiredLocks.clear();\n            i = -1; // start again from the first lock\n        }\n    }\n\n    // Acquire the all-locks lock\n    allLocks.lock();\n\n    // Release all striped locks except the last one\n    for (int i = acquiredLocks.size() - 2; i &gt;= 0; i--) {\n        acquiredLocks.get(i).unlock();\n    }\n\n    // Call the method that requires all locks to be acquired\n    dataStructure.methodThatRequiresAllLocks();\n\n    // Release all locks in reverse order of acquisition\n    allLocks.unlock();\n    for (int i = acquiredLocks.size() - 1; i &gt;= 0; i--) {\n        acquiredLocks.get(i).unlock();\n    }\n}\n}\n</code></pre>\n<p>In this implementation, the <code>acquireAllLocks()</code> method tries to acquire all the striped locks first, and if successful, it acquires the all-locks lock and releases all the striped locks except the last one. Then, it calls the method that requires all locks to be acquired, and finally, it releases all the locks in reverse order of acquisition. If any of the striped locks cannot be acquired, it releases all the previously acquired locks and tries again from the first lock.</p>\n"},{"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680623402,"creation_date":1680623402,"answer_id":75931375,"question_id":75930239,"body_markdown":"If you have to acquire multiple locks at the same time, the only way to safely do that (i.e. avoid potential deadlock), is to always acquire the locks in the same order.  as long as you can come up with a consistent order for the locks and always acquire them in that order (and release them in the reverse order), it should work without deadlock.","title":"Safe acquisition of all striped lock at once","body":"<p>If you have to acquire multiple locks at the same time, the only way to safely do that (i.e. avoid potential deadlock), is to always acquire the locks in the same order.  as long as you can come up with a consistent order for the locks and always acquire them in that order (and release them in the reverse order), it should work without deadlock.</p>\n"}],"owner":{"account_id":11291559,"reputation":161,"user_id":9026506,"display_name":"Hivemaster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75931375,"answer_count":2,"score":0,"last_activity_date":1680623402,"creation_date":1680616540,"question_id":75930239,"body_markdown":"Let&#39;s say I&#39;ve implemented a striped lock to safely but efficiently access some data structure, but that structure has a method that requires all locks to be acquired at the same time. What is the most correct way to do this?","title":"Safe acquisition of all striped lock at once","body":"<p>Let's say I've implemented a striped lock to safely but efficiently access some data structure, but that structure has a method that requires all locks to be acquired at the same time. What is the most correct way to do this?</p>\n"},{"tags":["java","alfresco","activiti","bpmn","flowable"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":2,"creation_date":1680623528,"post_id":75930992,"comment_id":133927893,"body_markdown":"That doesn&#39;t sound like a BPMn standard - why would this be needed? How could the model even be visualized?  Why not use message start events and/or gateways with conditionals?","body":"That doesn&#39;t sound like a BPMn standard - why would this be needed? How could the model even be visualized?  Why not use message start events and/or gateways with conditionals?"},{"owner":{"account_id":7501611,"reputation":353,"user_id":5699718,"display_name":"Madhav Kumar Jha"},"score":0,"creation_date":1680623726,"post_id":75930992,"comment_id":133927939,"body_markdown":"Writting a custom error handling, since every step/task  has to have a flow to the exception service task, instead of defining sequence flow for each task , thought if something like could be done or not, its true that it will not be visualized, but since error handaling is at very micro level and technical in nature,  not an issue if its not visualized","body":"Writting a custom error handling, since every step/task  has to have a flow to the exception service task, instead of defining sequence flow for each task , thought if something like could be done or not, its true that it will not be visualized, but since error handaling is at very micro level and technical in nature,  not an issue if its not visualized"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1680624766,"post_id":75930992,"comment_id":133928176,"body_markdown":"Consider using an error boundary event, and a link to the service task that handles the error.","body":"Consider using an error boundary event, and a link to the service task that handles the error."}],"owner":{"account_id":7501611,"reputation":353,"user_id":5699718,"display_name":"Madhav Kumar Jha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680623240,"creation_date":1680620803,"question_id":75930992,"body_markdown":"Is there any way to define targetRef/sourceRef/id of bpmn2 flows as variables. \r\n\r\neg. something like this \r\n\r\n    &lt;sequenceFlow id =&quot;flow1&quot; sourceRef = ${placeholderVariable1}, targetRef = ${placeholderVariable2}&gt;\r\n\r\nSo that , when the process excutes, it dynamicall have sequence flow based on the variable value (id of defined service task in xml file)being set in code.","title":"Activiti bpmn2 file placeholder for tragetRef","body":"<p>Is there any way to define targetRef/sourceRef/id of bpmn2 flows as variables.</p>\n<p>eg. something like this</p>\n<pre><code>&lt;sequenceFlow id =&quot;flow1&quot; sourceRef = ${placeholderVariable1}, targetRef = ${placeholderVariable2}&gt;\n</code></pre>\n<p>So that , when the process excutes, it dynamicall have sequence flow based on the variable value (id of defined service task in xml file)being set in code.</p>\n"},{"tags":["java","payara","javadb"],"comments":[{"owner":{"account_id":15133250,"reputation":1,"user_id":10920455,"display_name":"Sol P"},"score":0,"creation_date":1547615789,"post_id":54210773,"comment_id":95247614,"body_markdown":"i tried to change jdk version to higher &amp; lower, used older payara-micro versions,, but all fail with same reason. end result is it never starts. it has this @ bottom of stacktrace","body":"i tried to change jdk version to higher &amp; lower, used older payara-micro versions,, but all fail with same reason. end result is it never starts. it has this @ bottom of stacktrace"},{"owner":{"account_id":15133250,"reputation":1,"user_id":10920455,"display_name":"Sol P"},"score":0,"creation_date":1547615840,"post_id":54210773,"comment_id":95247627,"body_markdown":"Caused by: java.lang.ClassNotFoundException: javax.xml.bind.JAXBException\n        at java.base/java.net.URLClassLoader.findClass(Unknown Source)\n        at java.base/java.lang.ClassLoader.loadClass(Unknown Source)\n        at java.base/java.lang.ClassLoader.loadClass(Unknown Source)\n        ... 44 more","body":"Caused by: java.lang.ClassNotFoundException: javax.xml.bind.JAXBException         at java.base/java.net.URLClassLoader.findClass(Unknown Source)         at java.base/java.lang.ClassLoader.loadClass(Unknown Source)         at java.base/java.lang.ClassLoader.loadClass(Unknown Source)         ... 44 more"}],"answers":[{"tags":[],"owner":{"account_id":73753,"reputation":4903,"user_id":212224,"display_name":"Mike"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547675597,"creation_date":1547675597,"answer_id":54225965,"question_id":54210773,"body_markdown":"The javadb client file exception is irrelevant to your actual problem. It is an INFO level message to tell you that it has looked in the default place for the Apache Derby database libraries, but hasn&#39;t found them. This default place only applies to Payara Server, not Payara Micro.\r\n\r\nThe actual problem you&#39;re seeing is in your comment. I can see that you are using a version of Java that includes the JPMS (module system). The modularity introduced in Java 9 is not compatible with your version of Payara Micro, so you will need a version of Java no higher than 8.\r\n\r\nYou may be able to start Payara Micro on Java 9+ by explicitly adding the java.se.ee module, but there was no change in 4.181 to allow Payara Micro to actually run correctly with JPMS, so it would almost certainly break if you tried to deploy any kind of complex app.\r\n\r\n----\r\n\r\n**TL;DR**: change to use Java 8 because Payara Micro 4.181 will not run on Java 9 or higher. And the javadb message can be ignored.\r\n\r\n**Note:** Even though you say you are using Java 1.8, the stack trace proves that you are not. Double check your Java installation and make sure to definitely use Java 8.","title":"java -jar payara-micro-4.1.2.181.jar throwing Cannot find javadb client jar file","body":"<p>The javadb client file exception is irrelevant to your actual problem. It is an INFO level message to tell you that it has looked in the default place for the Apache Derby database libraries, but hasn't found them. This default place only applies to Payara Server, not Payara Micro.</p>\n\n<p>The actual problem you're seeing is in your comment. I can see that you are using a version of Java that includes the JPMS (module system). The modularity introduced in Java 9 is not compatible with your version of Payara Micro, so you will need a version of Java no higher than 8.</p>\n\n<p>You may be able to start Payara Micro on Java 9+ by explicitly adding the java.se.ee module, but there was no change in 4.181 to allow Payara Micro to actually run correctly with JPMS, so it would almost certainly break if you tried to deploy any kind of complex app.</p>\n\n<hr>\n\n<p><strong>TL;DR</strong>: change to use Java 8 because Payara Micro 4.181 will not run on Java 9 or higher. And the javadb message can be ignored.</p>\n\n<p><strong>Note:</strong> Even though you say you are using Java 1.8, the stack trace proves that you are not. Double check your Java installation and make sure to definitely use Java 8.</p>\n"}],"owner":{"account_id":15133250,"reputation":1,"user_id":10920455,"display_name":"Sol P"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":554,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680623229,"creation_date":1547615452,"question_id":54210773,"body_markdown":"I am getting the following exceptions\r\n\r\n&gt; running ==&gt;&gt; java -jar payara-micro-4.1.2.181.jar\r\n&gt; [2019-01-15T20:55:37.913-0800] [] [1;92m[INFO][0m []\r\n&gt; [[1;94mfish.payara.micro.boot.runtime.PayaraMicroRuntimeBuilder[0m]\r\n&gt; [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1547614537913]\r\n&gt; [levelValue: 800] Built Payara Micro Runtime\r\n\r\nAnd also \r\n\r\n&gt; [2019-01-15T20:55:43.539-0800] [] [1;92m[INFO][0m [NCLS-CORE-00046]\r\n&gt; [[1;94mjavax.enterprise.system.core[0m] [tid: _ThreadID=1\r\n&gt; _ThreadName=main] [timeMillis: 1547614543539] [levelValue: 800] Cannot find javadb client jar file, derby jdbc driver will not be available\r\n&gt; by default.\r\n\r\nI am using jdk 1.8.","title":"java -jar payara-micro-4.1.2.181.jar throwing Cannot find javadb client jar file","body":"<p>I am getting the following exceptions</p>\n\n<blockquote>\n  <p>running ==>> java -jar payara-micro-4.1.2.181.jar\n  [2019-01-15T20:55:37.913-0800] [] [1;92m[INFO][0m []\n  [[1;94mfish.payara.micro.boot.runtime.PayaraMicroRuntimeBuilder[0m]\n  [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1547614537913]\n  [levelValue: 800] Built Payara Micro Runtime</p>\n</blockquote>\n\n<p>And also </p>\n\n<blockquote>\n  <p>[2019-01-15T20:55:43.539-0800] [] [1;92m[INFO][0m [NCLS-CORE-00046]\n  [[1;94mjavax.enterprise.system.core[0m] [tid: _ThreadID=1\n  _ThreadName=main] [timeMillis: 1547614543539] [levelValue: 800] Cannot find javadb client jar file, derby jdbc driver will not be available\n  by default.</p>\n</blockquote>\n\n<p>I am using jdk 1.8.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":5237756,"reputation":2929,"user_id":4185813,"accept_rate":58,"display_name":"Ajay Kulkarni"},"score":0,"creation_date":1565071219,"post_id":57369684,"comment_id":101224743,"body_markdown":"Why was this downvoted?","body":"Why was this downvoted?"},{"owner":{"account_id":137890,"reputation":8718,"user_id":995052,"accept_rate":56,"display_name":"Kris"},"score":0,"creation_date":1565071271,"post_id":57369684,"comment_id":101224763,"body_markdown":"Not sure on downvote. But does it have anything to do with the response? MismatchedInput signals the data type could have been different for deserialization template.","body":"Not sure on downvote. But does it have anything to do with the response? MismatchedInput signals the data type could have been different for deserialization template."},{"owner":{"account_id":137890,"reputation":8718,"user_id":995052,"accept_rate":56,"display_name":"Kris"},"score":1,"creation_date":1565072500,"post_id":57369684,"comment_id":101225182,"body_markdown":"Possible duplicate of [Can not deserialize instance of java.lang.String out of START\\_OBJECT token](https://stackoverflow.com/questions/19389723/can-not-deserialize-instance-of-java-lang-string-out-of-start-object-token)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/19389723/can-not-deserialize-instance-of-java-lang-string-out-of-start-object-token\">Can not deserialize instance of java.lang.String out of START_OBJECT token</a>"}],"answers":[{"comments":[{"owner":{"account_id":5237756,"reputation":2929,"user_id":4185813,"accept_rate":58,"display_name":"Ajay Kulkarni"},"score":0,"creation_date":1565072053,"post_id":57369793,"comment_id":101225010,"body_markdown":"Doesn&#39;t help, same problem persists","body":"Doesn&#39;t help, same problem persists"},{"owner":{"account_id":5237756,"reputation":2929,"user_id":4185813,"accept_rate":58,"display_name":"Ajay Kulkarni"},"score":0,"creation_date":1565085008,"post_id":57369793,"comment_id":101231397,"body_markdown":"This question is different, I&#39;m trying to make a `http` call to an API.","body":"This question is different, I&#39;m trying to make a <code>http</code> call to an API."}],"tags":[],"owner":{"account_id":137890,"reputation":8718,"user_id":995052,"accept_rate":56,"display_name":"Kris"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565071494,"creation_date":1565071494,"answer_id":57369793,"question_id":57369684,"body_markdown":"Try creating a null entity. This might work\r\n\r\n     HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(null,headers); \r\n\r\nThe JSON content is invalid, so the parser breaks. So this would induce an empty content.","title":"Jackson: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token","body":"<p>Try creating a null entity. This might work</p>\n\n<pre><code> HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(null,headers); \n</code></pre>\n\n<p>The JSON content is invalid, so the parser breaks. So this would induce an empty content.</p>\n"}],"owner":{"account_id":5237756,"reputation":2929,"user_id":4185813,"accept_rate":58,"display_name":"Ajay Kulkarni"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5401,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680622185,"creation_date":1565070835,"question_id":57369684,"body_markdown":"I wrote a micro-service to make a HTTP call to an API. Code is as given below.  \r\n**`Connector Application`**\r\n\r\n    package com.ajay.dashboard.service;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.web.client.RestTemplate;\r\n    \r\n    @SpringBootApplication\r\n    public class DellDashboardConnectorApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DellDashboardConnectorApplication.class, args);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic RestTemplate getRestTemplate() {\r\n    \r\n    \t\treturn new RestTemplate();\r\n    \t}\r\n    }  \r\n**`Connector COntroller`**  \r\n\r\n    package com.ajay.dashboard.service.controller;\r\n    \r\n    import java.io.UnsupportedEncodingException;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    import javax.servlet.http.HttpServletRequest;\r\n    \r\n    import org.apache.http.client.utils.URIBuilder;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.http.HttpEntity;\r\n    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.http.HttpMethod;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.http.converter.HttpMessageConverter;\r\n    import org.springframework.http.converter.json.MappingJackson2HttpMessageConverter;\r\n    import org.springframework.web.bind.annotation.CrossOrigin;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.web.client.RestTemplate;\r\n    \r\n    /*\r\n     * Created by Kulkaa\r\n     */\r\n    \r\n    @RestController\r\n    public class DellDashboardController {\r\n    \r\n    \tprivate static final Logger logger = LoggerFactory.getLogger(DellDashboardController.class);\r\n    \t\r\n    \t@CrossOrigin(origins = &quot;http://localhost:8080&quot;)\r\n    \t@RequestMapping(method = RequestMethod.GET, value = &quot;/incident&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    \tpublic ResponseEntity&lt;?&gt; retrieveAllCircles(HttpServletRequest request) throws UnsupportedEncodingException {\r\n    \t\tlogger.info(&quot;DellDashboardController -&gt; retrieveAllIncidents : invoked.&quot;);\r\n    \t\tRestTemplate restTemplate =new RestTemplate();\r\n    \t\t\r\n    \t\tList&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;HttpMessageConverter&lt;?&gt;&gt;(); \r\n    \t\tMappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\r\n    \t\tconverter.setSupportedMediaTypes(Collections.singletonList(MediaType.ALL));\r\n    \t\tmessageConverters.add(converter);\r\n    \t\trestTemplate.setMessageConverters(messageConverters);\r\n    \t\t    \r\n    \r\n    \t\tString formUrl = &quot;api&quot;;\r\n    \t\tfinal String sysparm_query = &quot;incident_stateNOT%20IN6%2C7%5Eassignment_group%3D4122c7f8f09cc1002283ac3a043ae3e6&quot;;\r\n    \t\tfinal String sysparm_display_value = &quot;true&quot;;\r\n    \t\tfinal String sysparm_exclude_reference_link = &quot;true&quot;;\r\n    \t\ttry {\r\n    \t\t\t\tURIBuilder builder = new URIBuilder(formUrl); \r\n    \t\t\t\tbuilder.addParameter(&quot;sysparm_query&quot;, sysparm_query); \r\n    \t\t\t\tbuilder.addParameter(&quot;sysparm_display_value&quot;, sysparm_display_value);\r\n    \t\t\t\tbuilder.addParameter(&quot;sysparm_exclude_reference_link&quot;, sysparm_exclude_reference_link); \r\n    \t\t\t\tString actualUrl = builder.toString();\r\n    \t\t\tHttpHeaders headers = new HttpHeaders();\r\n    \t\t\theaders.add(&quot;Authorization&quot;, &quot;Basic U2VydmljZV9Nb2JpbGVSZXBvcnRpbmc6U2VydmljZV9Nb2JpbGVSZXBvcnRpbmc=&quot;);\r\n    \t\t\theaders.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\r\n    \t\t\tHttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(headers);\r\n    \t\t\treturn restTemplate.exchange(actualUrl, HttpMethod.GET, entity, String.class);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\t// TODO: handle exception\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn retrieveAllCircles(request);\r\n    \t\t\r\n    \t}\r\n    \r\n    }  \r\nWhen I build it by using `mvn clean install`, it runs perfectly. However, when I run it as SpringBoot app, I get below error:  \r\n\r\n&gt; Caused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token\r\n at [Source: (PushbackInputStream); line: 1, column: 1]  \r\n  \r\nDo I need to deserialize it by using POJO class?  \r\nJSON being mapped is in the format:  \r\n\r\n    {\r\n    \t&quot;result&quot;: [{\r\n    \t\tdata here\r\n    \t}]\r\n    }  \r\nIs it a json object? \r\n\r\n  \r\n","title":"Jackson: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token","body":"<p>I wrote a micro-service to make a HTTP call to an API. Code is as given below.<br>\n<strong><code>Connector Application</code></strong></p>\n\n<pre><code>package com.ajay.dashboard.service;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.web.client.RestTemplate;\n\n@SpringBootApplication\npublic class DellDashboardConnectorApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DellDashboardConnectorApplication.class, args);\n    }\n\n    @Bean\n    public RestTemplate getRestTemplate() {\n\n        return new RestTemplate();\n    }\n}  \n</code></pre>\n\n<p><strong><code>Connector COntroller</code></strong>  </p>\n\n<pre><code>package com.ajay.dashboard.service.controller;\n\nimport java.io.UnsupportedEncodingException;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\n\nimport javax.servlet.http.HttpServletRequest;\n\nimport org.apache.http.client.utils.URIBuilder;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.http.HttpEntity;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.http.converter.HttpMessageConverter;\nimport org.springframework.http.converter.json.MappingJackson2HttpMessageConverter;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.client.RestTemplate;\n\n/*\n * Created by Kulkaa\n */\n\n@RestController\npublic class DellDashboardController {\n\n    private static final Logger logger = LoggerFactory.getLogger(DellDashboardController.class);\n\n    @CrossOrigin(origins = \"http://localhost:8080\")\n    @RequestMapping(method = RequestMethod.GET, value = \"/incident\", produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;?&gt; retrieveAllCircles(HttpServletRequest request) throws UnsupportedEncodingException {\n        logger.info(\"DellDashboardController -&gt; retrieveAllIncidents : invoked.\");\n        RestTemplate restTemplate =new RestTemplate();\n\n        List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;HttpMessageConverter&lt;?&gt;&gt;(); \n        MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\n        converter.setSupportedMediaTypes(Collections.singletonList(MediaType.ALL));\n        messageConverters.add(converter);\n        restTemplate.setMessageConverters(messageConverters);\n\n\n        String formUrl = \"api\";\n        final String sysparm_query = \"incident_stateNOT%20IN6%2C7%5Eassignment_group%3D4122c7f8f09cc1002283ac3a043ae3e6\";\n        final String sysparm_display_value = \"true\";\n        final String sysparm_exclude_reference_link = \"true\";\n        try {\n                URIBuilder builder = new URIBuilder(formUrl); \n                builder.addParameter(\"sysparm_query\", sysparm_query); \n                builder.addParameter(\"sysparm_display_value\", sysparm_display_value);\n                builder.addParameter(\"sysparm_exclude_reference_link\", sysparm_exclude_reference_link); \n                String actualUrl = builder.toString();\n            HttpHeaders headers = new HttpHeaders();\n            headers.add(\"Authorization\", \"Basic U2VydmljZV9Nb2JpbGVSZXBvcnRpbmc6U2VydmljZV9Nb2JpbGVSZXBvcnRpbmc=\");\n            headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\n            HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(headers);\n            return restTemplate.exchange(actualUrl, HttpMethod.GET, entity, String.class);\n        } catch (Exception e) {\n            // TODO: handle exception\n            e.printStackTrace();\n        }\n        return retrieveAllCircles(request);\n\n    }\n\n}  \n</code></pre>\n\n<p>When I build it by using <code>mvn clean install</code>, it runs perfectly. However, when I run it as SpringBoot app, I get below error:  </p>\n\n<blockquote>\n  <p>Caused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of <code>java.lang.String</code> out of START_OBJECT token\n   at [Source: (PushbackInputStream); line: 1, column: 1]  </p>\n</blockquote>\n\n<p>Do I need to deserialize it by using POJO class?<br>\nJSON being mapped is in the format:  </p>\n\n<pre><code>{\n    \"result\": [{\n        data here\n    }]\n}  \n</code></pre>\n\n<p>Is it a json object? </p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"display_name":"user11044402"},"score":0,"creation_date":1564987289,"post_id":57353331,"comment_id":101194100,"body_markdown":"Yes, `sysparm_query` will be URL encoded. That&#39;s a good thing.","body":"Yes, <code>sysparm_query</code> will be URL encoded. That&#39;s a good thing."},{"owner":{"account_id":5237756,"reputation":2929,"user_id":4185813,"accept_rate":58,"display_name":"Ajay Kulkarni"},"score":0,"creation_date":1564987334,"post_id":57353331,"comment_id":101194114,"body_markdown":"But I don&#39;t understand how it gets modified while running the micro-service...","body":"But I don&#39;t understand how it gets modified while running the micro-service..."},{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1564987350,"post_id":57353331,"comment_id":101194118,"body_markdown":"You&#39;re getting double URL encoding. Determine why.","body":"You&#39;re getting double URL encoding. Determine why."},{"owner":{"account_id":5237756,"reputation":2929,"user_id":4185813,"accept_rate":58,"display_name":"Ajay Kulkarni"},"score":0,"creation_date":1564987443,"post_id":57353331,"comment_id":101194160,"body_markdown":"Why was this downvoted?","body":"Why was this downvoted?"}],"answers":[{"comments":[{"owner":{"account_id":5237756,"reputation":2929,"user_id":4185813,"accept_rate":58,"display_name":"Ajay Kulkarni"},"score":0,"creation_date":1564987705,"post_id":57353455,"comment_id":101194277,"body_markdown":"Okay, so I added this line: `String final_sysparm_query = URLEncoder.encode(sysparm_query, &quot;UTF-8&quot;);`","body":"Okay, so I added this line: <code>String final_sysparm_query = URLEncoder.encode(sysparm_query, &quot;UTF-8&quot;);</code>"},{"owner":{"account_id":36556,"reputation":919,"user_id":104315,"accept_rate":71,"display_name":"Ryan"},"score":0,"creation_date":1564987738,"post_id":57353455,"comment_id":101194287,"body_markdown":"Isn&#39;t that going to make it even worse by adding another layer of encoding? Seems like you want to decode instead.","body":"Isn&#39;t that going to make it even worse by adding another layer of encoding? Seems like you want to decode instead."},{"owner":{"account_id":5237756,"reputation":2929,"user_id":4185813,"accept_rate":58,"display_name":"Ajay Kulkarni"},"score":0,"creation_date":1564988024,"post_id":57353455,"comment_id":101194400,"body_markdown":"Then I can use `URIBuilder` which can take parameters as it is.","body":"Then I can use <code>URIBuilder</code> which can take parameters as it is."}],"tags":[],"owner":{"account_id":36556,"reputation":919,"user_id":104315,"accept_rate":71,"display_name":"Ryan"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564987705,"creation_date":1564987657,"answer_id":57353455,"question_id":57353331,"body_markdown":"The URL is being url-encoded by one of the libraries you&#39;re using, `sysparm_query` is already url-encoded, so you&#39;re getting `%` changed `%25` and so on. So you probably want to change `sysparm_query` to not be url-encoded yet.","title":"URL parameter is getting modified","body":"<p>The URL is being url-encoded by one of the libraries you're using, <code>sysparm_query</code> is already url-encoded, so you're getting <code>%</code> changed <code>%25</code> and so on. So you probably want to change <code>sysparm_query</code> to not be url-encoded yet.</p>\n"},{"comments":[{"owner":{"account_id":5237756,"reputation":2929,"user_id":4185813,"accept_rate":58,"display_name":"Ajay Kulkarni"},"score":0,"creation_date":1564987764,"post_id":57353463,"comment_id":101194298,"body_markdown":"But I don&#39;t want to send `%25`. I want to send `%2`","body":"But I don&#39;t want to send <code>%25</code>. I want to send <code>%2</code>"},{"owner":{"account_id":16351522,"reputation":269,"user_id":11809913,"display_name":"Andrzej Jaromin"},"score":0,"creation_date":1564987830,"post_id":57353463,"comment_id":101194327,"body_markdown":"On the other side the `%25` should be encoded back to the `%`.","body":"On the other side the <code>%25</code> should be encoded back to the <code>%</code>."}],"tags":[],"owner":{"account_id":16351522,"reputation":269,"user_id":11809913,"display_name":"Andrzej Jaromin"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564987716,"creation_date":1564987716,"answer_id":57353463,"question_id":57353331,"body_markdown":"The `%25` means that there is an ASCII character of `hex(25)` code - it is the `%` character.\r\n\r\nIt is correct behavior because you have in the `sysparm_query`: &quot;incident_stateNOT%20IN...&quot;, and the `%` character was encoded as `%25` to send it through the url parameters.","title":"URL parameter is getting modified","body":"<p>The <code>%25</code> means that there is an ASCII character of <code>hex(25)</code> code - it is the <code>%</code> character.</p>\n\n<p>It is correct behavior because you have in the <code>sysparm_query</code>: \"incident_stateNOT%20IN...\", and the <code>%</code> character was encoded as <code>%25</code> to send it through the url parameters.</p>\n"}],"owner":{"account_id":5237756,"reputation":2929,"user_id":4185813,"accept_rate":58,"display_name":"Ajay Kulkarni"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1680622160,"creation_date":1564987123,"question_id":57353331,"body_markdown":"I wrote a micro-service to make `http call` to an `API` and then fetch data via Angular 7. Code is as given below.  \r\n**`Connector Application`**  \r\n\r\n    package com.ajay.dashboard.service;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.web.client.RestTemplate;\r\n    \r\n    @SpringBootApplication\r\n    public class DellDashboardConnectorApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DellDashboardConnectorApplication.class, args);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic RestTemplate getRestTemplate() {\r\n    \r\n    \t\treturn new RestTemplate();\r\n    \t}\r\n    }  \r\n**`Connector Controller`**  \r\n\r\n    package com.ajay.dashboard.service.controller;\r\n    \r\n    import java.net.URI;\r\n    import java.util.Arrays;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import javax.servlet.http.HttpServletRequest;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpEntity;\r\n    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.http.HttpMethod;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.web.client.RestTemplate;\r\n    import org.springframework.web.util.UriComponentsBuilder;\r\n    \r\n    /*\r\n     * Created by Kulkaa\r\n     */\r\n    \r\n    @RestController\r\n    public class DellDashboardController {\r\n    \r\n    \tprivate static final Logger logger = LoggerFactory.getLogger(DellDashboardController.class);\r\n    \r\n    \t@Autowired\r\n    \tRestTemplate restTemplate;\r\n    \r\n    \t@RequestMapping(method = RequestMethod.GET, value = &quot;/incident&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    \tpublic ResponseEntity&lt;?&gt; retrieveAllCircles(HttpServletRequest request) {\r\n    \t\tlogger.info(&quot;DellDashboardController -&gt; retrieveAllIncidents : invoked.&quot;);\r\n    \r\n    \t\tString formUrl = &quot;https://&lt;api&gt;/api/now/table/incident&quot;;\r\n    \r\n    \t\tfinal String sysparm_query = &quot;incident_stateNOT%20IN6%2C7%5Eassignment_group%3D4122c7f8f09cc1002283ac3a043ae3e6&quot;;\r\n    \t\tfinal String sysparm_display_value = &quot;true&quot;;\r\n    \t\tfinal String sysparm_exclude_reference_link = &quot;true&quot;;\r\n    \t\ttry {\r\n    \t\t\tMap&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\r\n    \t\t\tURI actualUrl = UriComponentsBuilder.fromUriString(formUrl).buildAndExpand(params).toUri();\r\n    \t\t\tactualUrl = UriComponentsBuilder.fromUri(actualUrl).queryParam(&quot;sysparm_query&quot;, sysparm_query)\r\n    \t\t\t\t\t.queryParam(&quot;sysparm_display_value&quot;, sysparm_display_value)\r\n    \t\t\t\t\t.queryParam(&quot;sysparm_exclude_reference_link&quot;, sysparm_exclude_reference_link)\r\n    \t\t\t\t\t.build().toUri();\r\n    \t\t\tHttpHeaders headers = new HttpHeaders();\r\n    \t\t\theaders.add(&quot;Authorization&quot;, &quot;&lt;authorization code&gt;&quot;);\r\n    \t\t\theaders.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\r\n    \t\t\tHttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(headers);\r\n    \t\t\treturn restTemplate.exchange(actualUrl, HttpMethod.GET, entity, String.class);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\t// TODO: handle exception\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn retrieveAllCircles(request);\r\n    \t\t\r\n    \t}\r\n    \r\n    }  \r\nWhen I run this as a `Spring boot app` in tomcat, `incident_stateNOT%20IN6%2C7%5Eassignment_group%3D4122c7f8f09cc1002283ac3a043ae3e6` gets modified as `incident_stateNOT%2520IN6%252C7%255Eassignment_group%253D4122c7f8f09cc1002283ac3a043ae3e6`. Because of this unwanted modification, I&#39;m unable to connect to my API. I&#39;m unable to figure out what is causing this modification. What is causing this modification? \r\n  \r\nP.S: `mvn clean install` runs perfectly without any errors.","title":"URL parameter is getting modified","body":"<p>I wrote a micro-service to make <code>http call</code> to an <code>API</code> and then fetch data via Angular 7. Code is as given below.<br>\n<strong><code>Connector Application</code></strong>  </p>\n\n<pre><code>package com.ajay.dashboard.service;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.web.client.RestTemplate;\n\n@SpringBootApplication\npublic class DellDashboardConnectorApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DellDashboardConnectorApplication.class, args);\n    }\n\n    @Bean\n    public RestTemplate getRestTemplate() {\n\n        return new RestTemplate();\n    }\n}  \n</code></pre>\n\n<p><strong><code>Connector Controller</code></strong>  </p>\n\n<pre><code>package com.ajay.dashboard.service.controller;\n\nimport java.net.URI;\nimport java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport javax.servlet.http.HttpServletRequest;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpEntity;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.client.RestTemplate;\nimport org.springframework.web.util.UriComponentsBuilder;\n\n/*\n * Created by Kulkaa\n */\n\n@RestController\npublic class DellDashboardController {\n\n    private static final Logger logger = LoggerFactory.getLogger(DellDashboardController.class);\n\n    @Autowired\n    RestTemplate restTemplate;\n\n    @RequestMapping(method = RequestMethod.GET, value = \"/incident\", produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;?&gt; retrieveAllCircles(HttpServletRequest request) {\n        logger.info(\"DellDashboardController -&gt; retrieveAllIncidents : invoked.\");\n\n        String formUrl = \"https://&lt;api&gt;/api/now/table/incident\";\n\n        final String sysparm_query = \"incident_stateNOT%20IN6%2C7%5Eassignment_group%3D4122c7f8f09cc1002283ac3a043ae3e6\";\n        final String sysparm_display_value = \"true\";\n        final String sysparm_exclude_reference_link = \"true\";\n        try {\n            Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\n            URI actualUrl = UriComponentsBuilder.fromUriString(formUrl).buildAndExpand(params).toUri();\n            actualUrl = UriComponentsBuilder.fromUri(actualUrl).queryParam(\"sysparm_query\", sysparm_query)\n                    .queryParam(\"sysparm_display_value\", sysparm_display_value)\n                    .queryParam(\"sysparm_exclude_reference_link\", sysparm_exclude_reference_link)\n                    .build().toUri();\n            HttpHeaders headers = new HttpHeaders();\n            headers.add(\"Authorization\", \"&lt;authorization code&gt;\");\n            headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\n            HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(headers);\n            return restTemplate.exchange(actualUrl, HttpMethod.GET, entity, String.class);\n        } catch (Exception e) {\n            // TODO: handle exception\n            e.printStackTrace();\n        }\n        return retrieveAllCircles(request);\n\n    }\n\n}  \n</code></pre>\n\n<p>When I run this as a <code>Spring boot app</code> in tomcat, <code>incident_stateNOT%20IN6%2C7%5Eassignment_group%3D4122c7f8f09cc1002283ac3a043ae3e6</code> gets modified as <code>incident_stateNOT%2520IN6%252C7%255Eassignment_group%253D4122c7f8f09cc1002283ac3a043ae3e6</code>. Because of this unwanted modification, I'm unable to connect to my API. I'm unable to figure out what is causing this modification. What is causing this modification? </p>\n\n<p>P.S: <code>mvn clean install</code> runs perfectly without any errors.</p>\n"},{"tags":["java","crash","java.util.scanner"],"comments":[{"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"score":0,"creation_date":1443450124,"post_id":32825339,"comment_id":53486232,"body_markdown":"Try declaring 1 `Scanner` object (the one used in main) and pass it to the `getOperation` method.","body":"Try declaring 1 <code>Scanner</code> object (the one used in main) and pass it to the <code>getOperation</code> method."}],"answers":[{"tags":[],"owner":{"account_id":2011141,"reputation":7317,"user_id":1799530,"accept_rate":47,"display_name":"SomeJavaGuy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443450383,"creation_date":1443450383,"answer_id":32825479,"question_id":32825339,"body_markdown":"Try using this tiny code snippet\r\n\r\n    public static void main(String[] args) {\r\n       Scanner s1 = new Scanner(System.in);\r\n       Scanner s2 = new Scanner(System.in);\r\n\t   s2.close();\r\n\t   s1.nextLine();\r\n    }\r\n\r\nThe close function closes the InputStream System.in\r\n\r\nSince you are closing a scanner with `scan.close();` in `getOperation()` a following call on another scanner with the same InputStream will cause the exception that you are running into.","title":"Java app is crashing on nextLine()","body":"<p>Try using this tiny code snippet</p>\n\n<pre><code>public static void main(String[] args) {\n   Scanner s1 = new Scanner(System.in);\n   Scanner s2 = new Scanner(System.in);\n   s2.close();\n   s1.nextLine();\n}\n</code></pre>\n\n<p>The close function closes the InputStream System.in</p>\n\n<p>Since you are closing a scanner with <code>scan.close();</code> in <code>getOperation()</code> a following call on another scanner with the same InputStream will cause the exception that you are running into.</p>\n"},{"tags":[],"owner":{"account_id":943365,"reputation":4244,"user_id":971070,"accept_rate":44,"display_name":"Hong Duan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443452924,"creation_date":1443452924,"answer_id":32826284,"question_id":32825339,"body_markdown":"You don&#39;t need the `Scanner` in main:\r\n\r\n    public static void main(String[] args) {\r\n        String s = new String();\r\n        System.out.print(&quot;Enter string:&quot;);\r\n        int operation = 0;\r\n        operation = getOperation();\r\n        s = &quot;&quot; + operation; // program crashes before I have the chance to input anything\r\n        System.out.println(s);\r\n    }\r\n\r\noutput:\r\n\r\n    Enter string:11\r\n    Please enter valid operation 1-10:1\r\n    1\r\n\r\n","title":"Java app is crashing on nextLine()","body":"<p>You don't need the <code>Scanner</code> in main:</p>\n\n<pre><code>public static void main(String[] args) {\n    String s = new String();\n    System.out.print(\"Enter string:\");\n    int operation = 0;\n    operation = getOperation();\n    s = \"\" + operation; // program crashes before I have the chance to input anything\n    System.out.println(s);\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>Enter string:11\nPlease enter valid operation 1-10:1\n1\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3186389,"reputation":2247,"user_id":2691904,"display_name":"hugh"},"score":0,"creation_date":1681052022,"post_id":75931189,"comment_id":133993629,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/late-answers/34163115)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/late-answers/34163115\">From Review</a>"}],"tags":[],"owner":{"account_id":391568,"reputation":33,"user_id":752313,"display_name":"Mr.T"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680622148,"creation_date":1680622148,"answer_id":75931189,"question_id":32825339,"body_markdown":"for me it was crashing when I used nextLine() after nextInt().\r\nused parallel scanner (I am new to java):","title":"Java app is crashing on nextLine()","body":"<p>for me it was crashing when I used nextLine() after nextInt().\nused parallel scanner (I am new to java):</p>\n"}],"owner":{"account_id":7028138,"reputation":1,"user_id":5384855,"display_name":"guyM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1392,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1680622148,"creation_date":1443449961,"question_id":32825339,"body_markdown":"My application always crashs when it gets to `scan.getLine()` in `main`.\r\nThe error I get is &quot;java.util.NoSuchElementException: No line found&quot;.\r\n\r\nHere is the code:\r\n\r\n    public static void main(String[] args) {\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\tString s = new String();\r\n\t\tint operation=0;\r\n\t\toperation = getOperation();\r\n\t\tSystem.out.print(&quot;Enter string:&quot;);\r\n\t\ts = scan.nextLine();  // program crashes before I have the chance to input anything\r\n\t\tSystem.out.println(s);\r\n\t\tscan.close();\r\n\t\t\t\t\r\n\t}\r\n    public static int getOperation(){ //get operation between 1-10\r\n\t\tScanner scan= new Scanner(System.in);\r\n\t\tboolean input=true;\r\n\t\tint op=0;\r\n\t\twhile (input){ // get correct input from the user\r\n\t\t\tif (scan.hasNextInt())\r\n            {\r\n\t\t\t\top=scan.nextInt();\r\n\t\t\t\tif (op &lt; 1 || op &gt; 10)\r\n\t\t\t\t\tSystem.out.print(&quot;Please enter valid operation 1-10:&quot;);\r\n\t\t\t\telse\r\n\t\t\t\t\tinput=false;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tSystem.out.print(&quot;Please enter valid operation 1-10:&quot;);\r\n\t\t\tscan.nextLine(); // to clear the buffer\r\n\t\t}\r\n\t\tscan.close();\r\n\t\treturn op;\r\n\t}\r\n\r\nThe strange thing is that when I insert before I write `getOperation` function , and the entire `getOperation` was inside `main`, the application worked fine. Only after I moved the code to `getOperation` method , then the `scan.nextLine()` crashes, before I even have a change to enter anything in the console.\r\n","title":"Java app is crashing on nextLine()","body":"<p>My application always crashs when it gets to <code>scan.getLine()</code> in <code>main</code>.\nThe error I get is \"java.util.NoSuchElementException: No line found\".</p>\n\n<p>Here is the code:</p>\n\n<pre><code>public static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    String s = new String();\n    int operation=0;\n    operation = getOperation();\n    System.out.print(\"Enter string:\");\n    s = scan.nextLine();  // program crashes before I have the chance to input anything\n    System.out.println(s);\n    scan.close();\n\n}\npublic static int getOperation(){ //get operation between 1-10\n    Scanner scan= new Scanner(System.in);\n    boolean input=true;\n    int op=0;\n    while (input){ // get correct input from the user\n        if (scan.hasNextInt())\n        {\n            op=scan.nextInt();\n            if (op &lt; 1 || op &gt; 10)\n                System.out.print(\"Please enter valid operation 1-10:\");\n            else\n                input=false;\n        }\n        else\n            System.out.print(\"Please enter valid operation 1-10:\");\n        scan.nextLine(); // to clear the buffer\n    }\n    scan.close();\n    return op;\n}\n</code></pre>\n\n<p>The strange thing is that when I insert before I write <code>getOperation</code> function , and the entire <code>getOperation</code> was inside <code>main</code>, the application worked fine. Only after I moved the code to <code>getOperation</code> method , then the <code>scan.nextLine()</code> crashes, before I even have a change to enter anything in the console.</p>\n"},{"tags":["java","telegram","telegram-bot"],"answers":[{"tags":[],"owner":{"account_id":21906837,"reputation":57,"user_id":16453810,"display_name":"Sergei Lobachev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680621809,"creation_date":1680621809,"answer_id":75931135,"question_id":75923804,"body_markdown":"I&#39;m not 100% sure, but in my opinion this is impossible because we can only request user data when he enters the robot. Anybody have a different opinion on this?","title":"How to get information about any user having only user_id in telegram bot in Java?","body":"<p>I'm not 100% sure, but in my opinion this is impossible because we can only request user data when he enters the robot. Anybody have a different opinion on this?</p>\n"}],"owner":{"account_id":21906837,"reputation":57,"user_id":16453810,"display_name":"Sergei Lobachev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680621809,"creation_date":1680556311,"question_id":75923804,"body_markdown":"I use Java and [telegrambots](https://mvnrepository.com/artifact/org.telegram/telegrambots) library. Using the [keyboardButtonRequestUser](https://core.telegram.org/bots/api#keyboardbuttonrequestuser) method, I can get the user_id of an outside user, but how to collect all the information about outside user with only the user_id?\r\n\r\n\r\n```\r\n    public void onUpdateReceived(Update update) {\r\n\r\n        if (update.hasMessage() &amp;&amp; update.getMessage().hasText()) {\r\n\r\n            String massageText = update.getMessage().getText();\r\n            long chatId = update.getMessage().getChatId();\r\n            User user = update.getMessage().getFrom();\r\n\r\n            if (massageText.equals(&quot;/start&quot;)) {\r\n// UserShared --&gt; UserShared(requestId=732633638, userId=6165875618)\r\n                System.out.println(&quot;OutsideUserId = 6165875618 --&gt; &quot; + &quot;...????&quot;);\r\n\r\n                startCommandReceived(chatId, update.getMessage().getChat().getFirstName());\r\n            } \r\n            else {\r\n                sendMessage(chatId, &quot;Sorry, command was not recognized&quot;);\r\n            }\r\n\r\n        } \r\n        else if (update.hasMessage()){\r\n            long chatId = update.getMessage().getChatId();\r\n            sendMessage(chatId, &quot;UserShared --&gt; &quot;+ update.getMessage().getUserShared());\r\n            sendMessage(chatId, &quot;ChatShared --&gt; &quot;+ update.getMessage().getChatShared());\r\n            sendMessage(chatId, &quot;CurrentChatId --&gt; &quot;+chatId);\r\n        }\r\n    }\r\n```\r\n","title":"How to get information about any user having only user_id in telegram bot in Java?","body":"<p>I use Java and <a href=\"https://mvnrepository.com/artifact/org.telegram/telegrambots\" rel=\"nofollow noreferrer\">telegrambots</a> library. Using the <a href=\"https://core.telegram.org/bots/api#keyboardbuttonrequestuser\" rel=\"nofollow noreferrer\">keyboardButtonRequestUser</a> method, I can get the user_id of an outside user, but how to collect all the information about outside user with only the user_id?</p>\n<pre><code>    public void onUpdateReceived(Update update) {\n\n        if (update.hasMessage() &amp;&amp; update.getMessage().hasText()) {\n\n            String massageText = update.getMessage().getText();\n            long chatId = update.getMessage().getChatId();\n            User user = update.getMessage().getFrom();\n\n            if (massageText.equals(&quot;/start&quot;)) {\n// UserShared --&gt; UserShared(requestId=732633638, userId=6165875618)\n                System.out.println(&quot;OutsideUserId = 6165875618 --&gt; &quot; + &quot;...????&quot;);\n\n                startCommandReceived(chatId, update.getMessage().getChat().getFirstName());\n            } \n            else {\n                sendMessage(chatId, &quot;Sorry, command was not recognized&quot;);\n            }\n\n        } \n        else if (update.hasMessage()){\n            long chatId = update.getMessage().getChatId();\n            sendMessage(chatId, &quot;UserShared --&gt; &quot;+ update.getMessage().getUserShared());\n            sendMessage(chatId, &quot;ChatShared --&gt; &quot;+ update.getMessage().getChatShared());\n            sendMessage(chatId, &quot;CurrentChatId --&gt; &quot;+chatId);\n        }\n    }\n</code></pre>\n"},{"tags":["java","linked-list"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":2,"creation_date":1680588525,"post_id":75925961,"comment_id":133919140,"body_markdown":"Thats because you are making changes to the parameter `ListNode head`. not the class variables `static ListNode head = null;`. You can either remove the ListNode parameter from the method, or use `this` to refer to head inside the method to resolve the issue. This also has to do with Java [pass by value or pass by reference](https://stackoverflow.com/q/40480/16034206), so you should read up on that to find out why `temp.next = head; head = temp;` did not work the way you expect.","body":"Thats because you are making changes to the parameter <code>ListNode head</code>. not the class variables <code>static ListNode head = null;</code>. You can either remove the ListNode parameter from the method, or use <code>this</code> to refer to head inside the method to resolve the issue. This also has to do with Java <a href=\"https://stackoverflow.com/q/40480/16034206\">pass by value or pass by reference</a>, so you should read up on that to find out why <code>temp.next = head; head = temp;</code> did not work the way you expect."}],"answers":[{"tags":[],"owner":{"account_id":3970181,"reputation":109,"user_id":3274968,"display_name":"Md Wahidul Azam"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680591697,"creation_date":1680591697,"answer_id":75926382,"question_id":75925961,"body_markdown":"Here is what you need to do:\r\n\r\n        class ListNode{\r\n      int data;\r\n      ListNode next;\r\n    \r\n      ListNode(int data)\r\n      {\r\n        this.data = data;\r\n        this.next = null;\r\n      }\r\n    }\r\n    \r\n    class Operations{\r\n      static ListNode head = null;\r\n    \r\n      void insertStart(int num)\r\n      {\r\n        ListNode temp = new ListNode(num);\r\n        if (head == null)\r\n        {\r\n          head = temp;\r\n        }\r\n        else{\r\n          temp.next = head;\r\n          head = temp;\r\n        }\r\n      }\r\n    \r\n      void display(ListNode head){\r\n        ListNode temp = head;\r\n        while (temp != null)\r\n        {\r\n          System.out.println(temp.data+&quot;-&gt;&quot;);\r\n          temp = temp.next;\r\n        }\r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n        Operations l1 = new Operations();\r\n        l1.insertStart(5);\r\n        l1.insertStart(4);\r\n        l1.insertStart(3);\r\n        l1.insertStart(2);\r\n        l1.insertStart(1);\r\n        l1.display(head);\r\n      }\r\n    }","title":"Why is the Linked List implementation not working","body":"<p>Here is what you need to do:</p>\n<pre><code>    class ListNode{\n  int data;\n  ListNode next;\n\n  ListNode(int data)\n  {\n    this.data = data;\n    this.next = null;\n  }\n}\n\nclass Operations{\n  static ListNode head = null;\n\n  void insertStart(int num)\n  {\n    ListNode temp = new ListNode(num);\n    if (head == null)\n    {\n      head = temp;\n    }\n    else{\n      temp.next = head;\n      head = temp;\n    }\n  }\n\n  void display(ListNode head){\n    ListNode temp = head;\n    while (temp != null)\n    {\n      System.out.println(temp.data+&quot;-&gt;&quot;);\n      temp = temp.next;\n    }\n  }\n\n  public static void main(String[] args) {\n    Operations l1 = new Operations();\n    l1.insertStart(5);\n    l1.insertStart(4);\n    l1.insertStart(3);\n    l1.insertStart(2);\n    l1.insertStart(1);\n    l1.display(head);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680621182,"creation_date":1680621182,"answer_id":75931054,"question_id":75925961,"body_markdown":"The problem is that you pass `head` as an argument to your `insert` method, and so it is a local variable. Any assignment to a local variable will not be seen by the caller.\r\n\r\nBut, taking a step back, it should not be necessary to pass `head` as argument to a method of your linked list instance. That instance should know &quot;itself&quot; what its head is. And that reveals another problem: `head` should not be a *static* member of your class, but an instance variable: every instance of `Operations` should have its own head.\r\n\r\nNot a problem, but the implementation of `insert` doesn&#39;t really need the `if...else` construct. In either case you can assign `temp.next=head`, and in either case you want to set `head=temp`.\r\n\r\nSo correct your code as follows:\r\n\r\n```\r\nclass ListNode{\r\n  int data;\r\n  ListNode next;\r\n\r\n  ListNode(int data)\r\n  {\r\n    this.data = data;\r\n    this.next = null;\r\n  }\r\n}\r\n\r\nclass Operations{\r\n  ListNode head = null; // Should not be static! Every instance has its own head\r\n\r\n  void insertStart(int num) // head should not be an argument. Use the instance variable.\r\n  {\r\n    ListNode temp = new ListNode(num);\r\n    // No distinction needed between empty list or non-empty list:\r\n    temp.next = head;\r\n    head = temp;\r\n  }\r\n\r\n  void display(){ // head should not be an argument. Use the instance variable.\r\n    ListNode temp = head;\r\n    while (temp != null)\r\n    {\r\n      System.out.print(temp.data+&quot;-&gt;&quot;); // Output on same line\r\n      temp = temp.next;\r\n    }\r\n    System.out.println(&quot;null&quot;); // Terminate the line\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    Operations l1 = new Operations();\r\n    l1.insertStart(5); // Don&#39;t pass the head as argument.\r\n    l1.insertStart(4);\r\n    l1.insertStart(3);\r\n    l1.insertStart(2);\r\n    l1.insertStart(1);\r\n    l1.display();\r\n  }\r\n}\r\n```\r\n","title":"Why is the Linked List implementation not working","body":"<p>The problem is that you pass <code>head</code> as an argument to your <code>insert</code> method, and so it is a local variable. Any assignment to a local variable will not be seen by the caller.</p>\n<p>But, taking a step back, it should not be necessary to pass <code>head</code> as argument to a method of your linked list instance. That instance should know &quot;itself&quot; what its head is. And that reveals another problem: <code>head</code> should not be a <em>static</em> member of your class, but an instance variable: every instance of <code>Operations</code> should have its own head.</p>\n<p>Not a problem, but the implementation of <code>insert</code> doesn't really need the <code>if...else</code> construct. In either case you can assign <code>temp.next=head</code>, and in either case you want to set <code>head=temp</code>.</p>\n<p>So correct your code as follows:</p>\n<pre><code>class ListNode{\n  int data;\n  ListNode next;\n\n  ListNode(int data)\n  {\n    this.data = data;\n    this.next = null;\n  }\n}\n\nclass Operations{\n  ListNode head = null; // Should not be static! Every instance has its own head\n\n  void insertStart(int num) // head should not be an argument. Use the instance variable.\n  {\n    ListNode temp = new ListNode(num);\n    // No distinction needed between empty list or non-empty list:\n    temp.next = head;\n    head = temp;\n  }\n\n  void display(){ // head should not be an argument. Use the instance variable.\n    ListNode temp = head;\n    while (temp != null)\n    {\n      System.out.print(temp.data+&quot;-&gt;&quot;); // Output on same line\n      temp = temp.next;\n    }\n    System.out.println(&quot;null&quot;); // Terminate the line\n  }\n\n  public static void main(String[] args) {\n    Operations l1 = new Operations();\n    l1.insertStart(5); // Don't pass the head as argument.\n    l1.insertStart(4);\n    l1.insertStart(3);\n    l1.insertStart(2);\n    l1.insertStart(1);\n    l1.display();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":28209784,"reputation":11,"user_id":21562262,"display_name":"BeginnerCoder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680621182,"creation_date":1680588216,"question_id":75925961,"body_markdown":"So, im trying to learn the implementation of linked list in java. I created a method to insert in the start but when i run it through main, i don&#39;t see any output returned.\r\n\r\n```\r\nclass ListNode{\r\n  int data;\r\n  ListNode next;\r\n\r\n  ListNode(int data)\r\n  {\r\n    this.data = data;\r\n    this.next = null;\r\n  }\r\n}\r\n\r\nclass Operations{\r\n  static ListNode head = null;\r\n\r\n  void insertStart(int num, ListNode head)\r\n  {\r\n    ListNode temp = new ListNode(num);\r\n    if (head == null)\r\n    {\r\n      head = temp;\r\n    }\r\n    else{\r\n      temp.next = head;\r\n      head = temp;\r\n    }\r\n  }\r\n\r\n  void display(ListNode head){\r\n    ListNode temp = head;\r\n    while (temp != null)\r\n    {\r\n      System.out.println(temp.data+&quot;-&gt;&quot;);\r\n      temp = temp.next;\r\n    }\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    Operations l1 = new Operations();\r\n    l1.insertStart(5,head);\r\n    l1.insertStart(4, head);\r\n    l1.insertStart(3, head);\r\n    l1.insertStart(2, head);\r\n    l1.insertStart(1, head);\r\n    l1.display(head);\r\n  }\r\n}\r\n```\r\n\r\nCan someone please help me, i can&#39;t seem to find the error. Everything seems perfect.","title":"Why is the Linked List implementation not working","body":"<p>So, im trying to learn the implementation of linked list in java. I created a method to insert in the start but when i run it through main, i don't see any output returned.</p>\n<pre><code>class ListNode{\n  int data;\n  ListNode next;\n\n  ListNode(int data)\n  {\n    this.data = data;\n    this.next = null;\n  }\n}\n\nclass Operations{\n  static ListNode head = null;\n\n  void insertStart(int num, ListNode head)\n  {\n    ListNode temp = new ListNode(num);\n    if (head == null)\n    {\n      head = temp;\n    }\n    else{\n      temp.next = head;\n      head = temp;\n    }\n  }\n\n  void display(ListNode head){\n    ListNode temp = head;\n    while (temp != null)\n    {\n      System.out.println(temp.data+&quot;-&gt;&quot;);\n      temp = temp.next;\n    }\n  }\n\n  public static void main(String[] args) {\n    Operations l1 = new Operations();\n    l1.insertStart(5,head);\n    l1.insertStart(4, head);\n    l1.insertStart(3, head);\n    l1.insertStart(2, head);\n    l1.insertStart(1, head);\n    l1.display(head);\n  }\n}\n</code></pre>\n<p>Can someone please help me, i can't seem to find the error. Everything seems perfect.</p>\n"},{"tags":["java","out-of-memory"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":13,"creation_date":1369735879,"post_id":16789288,"comment_id":24193901,"body_markdown":"Operating systems have limits on the number of threads that you can create. Why are you creating more than 32k threads? Your system does most likely not have thousands of processor cores, creating so many threads is not useful. Use a thread pool (`ExecutorService`) instead.","body":"Operating systems have limits on the number of threads that you can create. Why are you creating more than 32k threads? Your system does most likely not have thousands of processor cores, creating so many threads is not useful. Use a thread pool (<code>ExecutorService</code>) instead."},{"owner":{"account_id":2134433,"reputation":1697,"user_id":1894562,"display_name":"Deepak Tewani"},"score":0,"creation_date":1369736869,"post_id":16789288,"comment_id":24194427,"body_markdown":"Thanks for the reply.\n\nWe are using an open source library and trying to load test that. Any that open source library is creating so many threads.\n\nBut what i dont understand, is when &quot;top&quot; is showing 50% free memory then why OutOfMemory Error.","body":"Thanks for the reply.  We are using an open source library and trying to load test that. Any that open source library is creating so many threads.  But what i dont understand, is when &quot;top&quot; is showing 50% free memory then why OutOfMemory Error."},{"owner":{"account_id":2134433,"reputation":1697,"user_id":1894562,"display_name":"Deepak Tewani"},"score":0,"creation_date":1369737119,"post_id":16789288,"comment_id":24194557,"body_markdown":"The open source library that we are using in ICE4j Library","body":"The open source library that we are using in ICE4j Library"},{"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"score":17,"creation_date":1369737412,"post_id":16789288,"comment_id":24194708,"body_markdown":"OutOfMemoryError does **not** necessarily mean heap space, or &quot;general&quot; RAM, was exhausted.  In this case it&#39;s clear that the failure was due to the OS not having the resources to allocate an extra thread.  Having 50% free memory is irrelevant to this particular failure.","body":"OutOfMemoryError does <b>not</b> necessarily mean heap space, or &quot;general&quot; RAM, was exhausted.  In this case it&#39;s clear that the failure was due to the OS not having the resources to allocate an extra thread.  Having 50% free memory is irrelevant to this particular failure."},{"owner":{"account_id":2134433,"reputation":1697,"user_id":1894562,"display_name":"Deepak Tewani"},"score":2,"creation_date":1369737840,"post_id":16789288,"comment_id":24194919,"body_markdown":"What are the other resources required for creating new threads.\n\nWe were under the impression that if we increase the RAM, then we may able to create more threads.\n\nKindly guide us","body":"What are the other resources required for creating new threads.  We were under the impression that if we increase the RAM, then we may able to create more threads.  Kindly guide us"},{"owner":{"account_id":2134433,"reputation":1697,"user_id":1894562,"display_name":"Deepak Tewani"},"score":0,"creation_date":1369744252,"post_id":16789288,"comment_id":24198338,"body_markdown":"We tried using ExecutorService, then also number of threads are 32K, it is because all threads are forever live threads.","body":"We tried using ExecutorService, then also number of threads are 32K, it is because all threads are forever live threads."},{"owner":{"account_id":1617353,"reputation":534,"user_id":1494680,"accept_rate":100,"display_name":"Omer"},"score":0,"creation_date":1530818096,"post_id":16789288,"comment_id":89378596,"body_markdown":"there is seems to be some open source lib which creating threads but not able to finish/stop the threads properly, may be all the threads were created and went into sleep mode.","body":"there is seems to be some open source lib which creating threads but not able to finish/stop the threads properly, may be all the threads were created and went into sleep mode."},{"owner":{"account_id":9216482,"reputation":125,"user_id":6847427,"display_name":"Harshad Chhaiya"},"score":0,"creation_date":1582624515,"post_id":16789288,"comment_id":106832750,"body_markdown":"@DeepakTewani - I am facing a similar issue. Did you get the solution?","body":"@DeepakTewani - I am facing a similar issue. Did you get the solution?"}],"answers":[{"comments":[{"owner":{"account_id":2134433,"reputation":1697,"user_id":1894562,"display_name":"Deepak Tewani"},"score":1,"creation_date":1369737338,"post_id":16789449,"comment_id":24194662,"body_markdown":"Thanks for the reply\n\nWe are using an open source library ICE4j and trying to load test that.\n\nCant we increase the limit of threads in OS when we know that there is 50% memory left on the server.","body":"Thanks for the reply  We are using an open source library ICE4j and trying to load test that.  Cant we increase the limit of threads in OS when we know that there is 50% memory left on the server."},{"owner":{"account_id":2134433,"reputation":1697,"user_id":1894562,"display_name":"Deepak Tewani"},"score":1,"creation_date":1369738881,"post_id":16789449,"comment_id":24195453,"body_markdown":"We are creating 11K clients that uses 32 K threads for reading, writing data on UDP sockets. Out of these 32 K threads, 10K threads are keep alive threads that are used to keep the socket open","body":"We are creating 11K clients that uses 32 K threads for reading, writing data on UDP sockets. Out of these 32 K threads, 10K threads are keep alive threads that are used to keep the socket open"}],"tags":[],"owner":{"account_id":2131420,"reputation":28903,"user_id":1892179,"accept_rate":84,"display_name":"Theodoros Chatzigiannakis"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1369736346,"creation_date":1369736020,"answer_id":16789449,"question_id":16789288,"body_markdown":"It&#39;s likely that your OS does not allow the number of threads you&#39;re trying to create, or you&#39;re hitting some limit in the JVM. Especially if it&#39;s such a round number as 32k, a limit of one kind or another is a very likely culprit.\r\n\r\nAre you sure you truly need 32k threads? Most modern languages have some kind of support for pools of reusable threads - I&#39;m sure Java has something in place too (like `ExecutorService`, as user Jesper mentioned). Perhaps you could request threads from such a pool, instead of manually creating new ones.","title":"&quot;java.lang.OutOfMemoryError : unable to create new native Thread&quot;","body":"<p>It's likely that your OS does not allow the number of threads you're trying to create, or you're hitting some limit in the JVM. Especially if it's such a round number as 32k, a limit of one kind or another is a very likely culprit.</p>\n\n<p>Are you sure you truly need 32k threads? Most modern languages have some kind of support for pools of reusable threads - I'm sure Java has something in place too (like <code>ExecutorService</code>, as user Jesper mentioned). Perhaps you could request threads from such a pool, instead of manually creating new ones.</p>\n"},{"comments":[{"owner":{"account_id":2134433,"reputation":1697,"user_id":1894562,"display_name":"Deepak Tewani"},"score":1,"creation_date":1369738922,"post_id":16789458,"comment_id":24195477,"body_markdown":"We have all already tried that change that is given on that link.\n\nBut result is same :(","body":"We have all already tried that change that is given on that link.  But result is same :("}],"tags":[],"owner":{"account_id":2714847,"reputation":1370,"user_id":2342446,"display_name":"Pavan Kumar K"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680177236,"creation_date":1369736038,"answer_id":16789458,"question_id":16789288,"body_markdown":"If your Job is failing because of `OutOfMemory` on nodes you can tweak the number of max maps and reducers and the JVM opts for each. `mapred.child.java.opts` (the default is `200Xmx`) usually has to be increased based on your data nodes specific hardware.\r\n\r\n[This link](http://www.mastertheboss.com/jboss-monitoring/how-to-solve-javalangoutofmemoryerror-unable-to-create-new-native-thread) might be helpful.","title":"&quot;java.lang.OutOfMemoryError : unable to create new native Thread&quot;","body":"<p>If your Job is failing because of <code>OutOfMemory</code> on nodes you can tweak the number of max maps and reducers and the JVM opts for each. <code>mapred.child.java.opts</code> (the default is <code>200Xmx</code>) usually has to be increased based on your data nodes specific hardware.</p>\n<p><a href=\"http://www.mastertheboss.com/jboss-monitoring/how-to-solve-javalangoutofmemoryerror-unable-to-create-new-native-thread\" rel=\"nofollow noreferrer\">This link</a> might be helpful.</p>\n"},{"comments":[{"owner":{"account_id":2134433,"reputation":1697,"user_id":1894562,"display_name":"Deepak Tewani"},"score":0,"creation_date":1369737435,"post_id":16789621,"comment_id":24194719,"body_markdown":"Thanks for the reply.\n\nWe are using an open source library ICE4j and trying to load test that. Cant we increase the limit of threads in OS when we know that there is 50% memory left on the server.","body":"Thanks for the reply.  We are using an open source library ICE4j and trying to load test that. Cant we increase the limit of threads in OS when we know that there is 50% memory left on the server."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1369737848,"post_id":16789621,"comment_id":24194927,"body_markdown":"Possibly, but I think it will not help you as such.  If you run out of resources when load testing you need to be able to control what happens in your application.  Why do you have 32000 threads active at once?","body":"Possibly, but I think it will not help you as such.  If you run out of resources when load testing you need to be able to control what happens in your application.  Why do you have 32000 threads active at once?"},{"owner":{"account_id":2134433,"reputation":1697,"user_id":1894562,"display_name":"Deepak Tewani"},"score":0,"creation_date":1369738244,"post_id":16789621,"comment_id":24195130,"body_markdown":"We are creating 11K clients that uses 32 K threads for reading, writing data on UDP sockets. Out of these 32 K threads, 10K threads are keep alive threads that are used to keep the socket open","body":"We are creating 11K clients that uses 32 K threads for reading, writing data on UDP sockets. Out of these 32 K threads, 10K threads are keep alive threads that are used to keep the socket open"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1369738887,"post_id":16789621,"comment_id":24195460,"body_markdown":"I believe this problem is solved in modern web servers. Also udp can loose packets - any reason you do not just use a web server?","body":"I believe this problem is solved in modern web servers. Also udp can loose packets - any reason you do not just use a web server?"},{"owner":{"account_id":2134433,"reputation":1697,"user_id":1894562,"display_name":"Deepak Tewani"},"score":0,"creation_date":1369739139,"post_id":16789621,"comment_id":24195585,"body_markdown":"We cant use web servers because, what are we creating are clients that would talk with other clients. Both the clients can be behind symmetric, asymmetric nats .\n\nFor their connectivity , we are using ice4j library.\n\nWhat i am not able to understand is , if server has 50% memory left then what jvm is not able to create more threads","body":"We cant use web servers because, what are we creating are clients that would talk with other clients. Both the clients can be behind symmetric, asymmetric nats .  For their connectivity , we are using ice4j library.  What i am not able to understand is , if server has 50% memory left then what jvm is not able to create more threads"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":10,"creation_date":1369739352,"post_id":16789621,"comment_id":24195681,"body_markdown":"Because OutOfMemory exception should have been named OutOfResources.  The operating system cannot provide the resource you need.  (And it turned out I did not know ice4j)","body":"Because OutOfMemory exception should have been named OutOfResources.  The operating system cannot provide the resource you need.  (And it turned out I did not know ice4j)"},{"owner":{"account_id":2134433,"reputation":1697,"user_id":1894562,"display_name":"Deepak Tewani"},"score":0,"creation_date":1369740145,"post_id":16789621,"comment_id":24196075,"body_markdown":"So , if we use 16GB RAM (double the memory that we are using now), then,are we able to create double number threads then now?","body":"So , if we use 16GB RAM (double the memory that we are using now), then,are we able to create double number threads then now?"},{"owner":{"account_id":2134433,"reputation":1697,"user_id":1894562,"display_name":"Deepak Tewani"},"score":0,"creation_date":1369740938,"post_id":16789621,"comment_id":24196518,"body_markdown":"let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/30753/discussion-between-deepak-tewani-and-thorbjorn-ravn-andersen)","body":"let us <a href=\"http://chat.stackoverflow.com/rooms/30753/discussion-between-deepak-tewani-and-thorbjorn-ravn-andersen\">continue this discussion in chat</a>"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1369747782,"post_id":16789621,"comment_id":24200431,"body_markdown":"You misunderstand.  The reason Linux does not give you more threads is not because it is running out of memory but because you run into a limit set by Linux itself (this can be an arbitrary rule or because the data structure used isn&#39;t any larger).   Note that regardless of how much you raise this limit your application must still be able to cope.  I suggest you revisit your &quot;a thread per connection&quot; design.","body":"You misunderstand.  The reason Linux does not give you more threads is not because it is running out of memory but because you run into a limit set by Linux itself (this can be an arbitrary rule or because the data structure used isn&#39;t any larger).   Note that regardless of how much you raise this limit your application must still be able to cope.  I suggest you revisit your &quot;a thread per connection&quot; design."},{"owner":{"account_id":2134433,"reputation":1697,"user_id":1894562,"display_name":"Deepak Tewani"},"score":0,"creation_date":1369750531,"post_id":16789621,"comment_id":24202238,"body_markdown":"We also tried ExecutorService for thread and then also the application is creating 32K threads. ExecutorService is creating so many threads because all the threads created by application are forever live threads.\n\nI understand that, Linux have a limit of giving threads to an application, but cant we increase this limit?","body":"We also tried ExecutorService for thread and then also the application is creating 32K threads. ExecutorService is creating so many threads because all the threads created by application are forever live threads.  I understand that, Linux have a limit of giving threads to an application, but cant we increase this limit?"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1369760561,"post_id":16789621,"comment_id":24208134,"body_markdown":"Probably, but not something I&#39;ve interested me for so I do not know how.  Consider opening a new question asking that on the Linux SE site.","body":"Probably, but not something I&#39;ve interested me for so I do not know how.  Consider opening a new question asking that on the Linux SE site."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1369760695,"post_id":16789621,"comment_id":24208198,"body_markdown":"Also consider finding out how the ice4j community suggest you should solve this problem.  You might have missed something in the documentation.","body":"Also consider finding out how the ice4j community suggest you should solve this problem.  You might have missed something in the documentation."},{"owner":{"account_id":14410,"reputation":44184,"user_id":29639,"accept_rate":74,"display_name":"T.E.D."},"score":1,"creation_date":1377697404,"post_id":16789621,"comment_id":27180664,"body_markdown":"@DeepakTewani - Perhaps running two or more copies of your program will do what you want? Still, I&#39;d think if you are running the system low on threads and things are still working, most likely your program passed the load test. :-)","body":"@DeepakTewani - Perhaps running two or more copies of your program will do what you want? Still, I&#39;d think if you are running the system low on threads and things are still working, most likely your program passed the load test. :-)"}],"tags":[],"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"comment_count":13,"down_vote_count":0,"up_vote_count":99,"is_accepted":false,"score":99,"last_activity_date":1680620980,"creation_date":1369736546,"answer_id":16789621,"question_id":16789288,"body_markdown":"This is not a memory problem even though the exception name highly suggests so, but an operating system resource problem.  You are running out of native threads, i.e. the amount of threads the operating system will allow your JVM to use.    \r\n\r\nThis is an uncommon problem, because you rarely need that many.  Do you have a lot of unconditional thread spawning where the threads should but doesn&#39;t finish?  \r\n\r\nYou might consider rewriting into using Callable/Runnables under the control of an Executor if at all possible.  There are plenty of standard executors with various behavior which your code can easily control.\r\n\r\n(There are many reasons why the number of threads is limited, but they vary from operating system to operating system)","title":"&quot;java.lang.OutOfMemoryError : unable to create new native Thread&quot;","body":"<p>This is not a memory problem even though the exception name highly suggests so, but an operating system resource problem.  You are running out of native threads, i.e. the amount of threads the operating system will allow your JVM to use.</p>\n<p>This is an uncommon problem, because you rarely need that many.  Do you have a lot of unconditional thread spawning where the threads should but doesn't finish?</p>\n<p>You might consider rewriting into using Callable/Runnables under the control of an Executor if at all possible.  There are plenty of standard executors with various behavior which your code can easily control.</p>\n<p>(There are many reasons why the number of threads is limited, but they vary from operating system to operating system)</p>\n"},{"tags":[],"owner":{"account_id":2094013,"reputation":377,"user_id":1863194,"display_name":"P-H"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1377697581,"creation_date":1377697176,"answer_id":18489590,"question_id":16789288,"body_markdown":"I would recommend to also look at the Thread Stack Size and see if you get more threads created. The default Thread Stack Size for [JRockit 1.5/1.6][1] is 1 MB for 64-bit VM on Linux OS. 32K threads will require a significant amount of physical and virtual memory to honor this requirement. \r\n\r\nTry to reduce the Stack Size to **512 KB** as a starting point and see if it helps creating more threads for your application. I also recommend to explore horizontal scaling e.g. splitting your application processing across more physical or virtual machines.\r\n\r\nWhen using a 64-bit VM, the true limit will depend on the OS physical and virtual memory availability and OS tuning parameters such as ulimitc. I also recommend the following article as a reference:\r\n\r\n[OutOfMemoryError: unable to create new native thread – Problem Demystified][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/cd/E13188_01/jrockit/docs50/tuning/config.html#1010137\r\n  [2]: http://javaeesupportpatterns.blogspot.com/2012/09/outofmemoryerror-unable-to-create-new.html","title":"&quot;java.lang.OutOfMemoryError : unable to create new native Thread&quot;","body":"<p>I would recommend to also look at the Thread Stack Size and see if you get more threads created. The default Thread Stack Size for <a href=\"http://docs.oracle.com/cd/E13188_01/jrockit/docs50/tuning/config.html#1010137\" rel=\"noreferrer\">JRockit 1.5/1.6</a> is 1 MB for 64-bit VM on Linux OS. 32K threads will require a significant amount of physical and virtual memory to honor this requirement. </p>\n\n<p>Try to reduce the Stack Size to <strong>512 KB</strong> as a starting point and see if it helps creating more threads for your application. I also recommend to explore horizontal scaling e.g. splitting your application processing across more physical or virtual machines.</p>\n\n<p>When using a 64-bit VM, the true limit will depend on the OS physical and virtual memory availability and OS tuning parameters such as ulimitc. I also recommend the following article as a reference:</p>\n\n<p><a href=\"http://javaeesupportpatterns.blogspot.com/2012/09/outofmemoryerror-unable-to-create-new.html\" rel=\"noreferrer\">OutOfMemoryError: unable to create new native thread – Problem Demystified</a></p>\n"},{"comments":[{"owner":{"account_id":2646962,"reputation":1172,"user_id":2289441,"accept_rate":67,"display_name":"ftrujillo"},"score":11,"creation_date":1457940372,"post_id":19445921,"comment_id":59616566,"body_markdown":"This is not a solution to the question.","body":"This is not a solution to the question."}],"tags":[],"owner":{"account_id":30705,"reputation":9267,"user_id":83843,"accept_rate":88,"display_name":"Flueras Bogdan"},"comment_count":1,"down_vote_count":10,"up_vote_count":4,"is_accepted":false,"score":-6,"last_activity_date":1382087808,"creation_date":1382087808,"answer_id":19445921,"question_id":16789288,"body_markdown":"First of all I wouldn&#39;t blame that much the OS/VM.. rather the developer who wrote the code that creates ***sooo many Threads***. \r\nBasically somewhere in your code (or 3rd party) ***a lot of threads are created without control***.\r\n \r\nCarefully review the stacktraces/code and control the number of threads that get created. Normally your app shouldn&#39;t need a large amount of threads, if it does it&#39;s a different problem.","title":"&quot;java.lang.OutOfMemoryError : unable to create new native Thread&quot;","body":"<p>First of all I wouldn't blame that much the OS/VM.. rather the developer who wrote the code that creates <strong><em>sooo many Threads</em></strong>. \nBasically somewhere in your code (or 3rd party) <strong><em>a lot of threads are created without control</em></strong>.</p>\n\n<p>Carefully review the stacktraces/code and control the number of threads that get created. Normally your app shouldn't need a large amount of threads, if it does it's a different problem.</p>\n"},{"tags":[],"owner":{"account_id":4132906,"reputation":11,"user_id":3390284,"display_name":"user3390284"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1394143613,"creation_date":1394143613,"answer_id":22237089,"question_id":16789288,"body_markdown":"your JBoss configuration has some issues,\r\n/opt/jrockit-jdk1.6/bin/java -Xms512m -Xmx512m\r\nXms and Xmx are limiting your JBoss memory usage, to the configured value, so from the 8Gb you have the server is only ussing 512M + some extra for his own purpose, increase that number, remember to leave some free for the OS and other stuff running there and may be you get it running despite de unsavoury code.\r\nFixing the code would be nice too, if you can.","title":"&quot;java.lang.OutOfMemoryError : unable to create new native Thread&quot;","body":"<p>your JBoss configuration has some issues,\n/opt/jrockit-jdk1.6/bin/java -Xms512m -Xmx512m\nXms and Xmx are limiting your JBoss memory usage, to the configured value, so from the 8Gb you have the server is only ussing 512M + some extra for his own purpose, increase that number, remember to leave some free for the OS and other stuff running there and may be you get it running despite de unsavoury code.\nFixing the code would be nice too, if you can.</p>\n"},{"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1546985507,"post_id":34406802,"comment_id":95033819,"body_markdown":"How was the method blocking?  Never  returning?","body":"How was the method blocking?  Never  returning?"},{"owner":{"account_id":1533581,"reputation":169,"user_id":1430173,"display_name":"MichaelRom"},"score":0,"creation_date":1637766597,"post_id":34406802,"comment_id":123914593,"body_markdown":"Methods can block in many ways: waiting on some shared, synchronized object (in this case), waiting for a slow network call to timeout, or waiting just on some slow OS service.","body":"Methods can block in many ways: waiting on some shared, synchronized object (in this case), waiting for a slow network call to timeout, or waiting just on some slow OS service."}],"tags":[],"owner":{"account_id":1091302,"reputation":819,"user_id":1085899,"accept_rate":25,"display_name":"Madhu Cheepati"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1518400683,"creation_date":1450745131,"answer_id":34406802,"question_id":16789288,"body_markdown":"I encountered same issue during the load test, the reason is because of JVM is unable to create a new Java thread further. Below is the JVM source code \r\n\r\n\r\n    if (native_thread-&gt;osthread() == NULL) {    \r\n    // No one should hold a reference to the &#39;native_thread&#39;.    \r\n        delete native_thread;   \r\n    if (JvmtiExport::should_post_resource_exhausted()) {      \r\n        JvmtiExport::post_resource_exhausted(        \r\n            JVMTI_RESOURCE_EXHAUSTED_OOM_ERROR | \r\n            JVMTI_RESOURCE_EXHAUSTED_THREADS, \r\n            &quot;unable to create new native thread&quot;);    \r\n        } THROW_MSG(vmSymbols::java_lang_OutOfMemoryError(), &quot;unable to create new native thread&quot;);  \r\n    } Thread::start(native_thread);`\r\n\r\n\r\n&gt; Root cause : JVM throws this exception when\r\n&gt; JVMTI_RESOURCE_EXHAUSTED_OOM_ERROR (resources exhausted (means memory\r\n&gt; exhausted) ) or JVMTI_RESOURCE_EXHAUSTED_THREADS (Threads exhausted).\r\n\r\nIn my case Jboss is creating too many threads , to serve the request, but all the threads are blocked . Because of this, JVM is exhausted with threads as well with memory (each thread holds memory , which is not released , because each thread is blocked). \r\n\r\n Analyzed the java thread dumps observed nearly 61K threads are blocked by one of our method, which is causing this issue . Below is the portion of Thread dump \r\n\r\n    &quot;SimpleAsyncTaskExecutor-16562&quot; #38070 prio=5 os_prio=0 tid=0x00007f9985440000 nid=0x2ca6 waiting for monitor entry [0x00007f9d58c2d000]\r\n       java.lang.Thread.State: BLOCKED (on object monitor)\r\n\r\n","title":"&quot;java.lang.OutOfMemoryError : unable to create new native Thread&quot;","body":"<p>I encountered same issue during the load test, the reason is because of JVM is unable to create a new Java thread further. Below is the JVM source code </p>\n\n<pre><code>if (native_thread-&gt;osthread() == NULL) {    \n// No one should hold a reference to the 'native_thread'.    \n    delete native_thread;   \nif (JvmtiExport::should_post_resource_exhausted()) {      \n    JvmtiExport::post_resource_exhausted(        \n        JVMTI_RESOURCE_EXHAUSTED_OOM_ERROR | \n        JVMTI_RESOURCE_EXHAUSTED_THREADS, \n        \"unable to create new native thread\");    \n    } THROW_MSG(vmSymbols::java_lang_OutOfMemoryError(), \"unable to create new native thread\");  \n} Thread::start(native_thread);`\n</code></pre>\n\n<blockquote>\n  <p>Root cause : JVM throws this exception when\n  JVMTI_RESOURCE_EXHAUSTED_OOM_ERROR (resources exhausted (means memory\n  exhausted) ) or JVMTI_RESOURCE_EXHAUSTED_THREADS (Threads exhausted).</p>\n</blockquote>\n\n<p>In my case Jboss is creating too many threads , to serve the request, but all the threads are blocked . Because of this, JVM is exhausted with threads as well with memory (each thread holds memory , which is not released , because each thread is blocked). </p>\n\n<p>Analyzed the java thread dumps observed nearly 61K threads are blocked by one of our method, which is causing this issue . Below is the portion of Thread dump </p>\n\n<pre><code>\"SimpleAsyncTaskExecutor-16562\" #38070 prio=5 os_prio=0 tid=0x00007f9985440000 nid=0x2ca6 waiting for monitor entry [0x00007f9d58c2d000]\n   java.lang.Thread.State: BLOCKED (on object monitor)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1669838,"reputation":5840,"user_id":1536499,"accept_rate":63,"display_name":"anthonybell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465866915,"creation_date":1465866915,"answer_id":37801491,"question_id":16789288,"body_markdown":"\r\n\r\nI had this same issue and it turned out to be an improper usage of an java API.  I was initializing a builder in a batch processing method that was that not supposed to be initiallized more than once.\r\n\r\nBasically I was doing something like:\r\n\r\n    for (batch in batches) {\r\n        process_batch(batch)\r\n    }\r\n\r\n    def process_batch(batch) {\r\n        var client = TransportClient.builder().build()\r\n        client.processList(batch)\r\n    }\r\n\r\nwhen I should have done this:\r\n\r\n    for (batch in batches) {\r\n        var client = TransportClient.builder().build()\r\n        process_batch(batch, client)\r\n    }\r\n\r\n    def process_batch(batch, client) {\r\n        client.processList(batch)\r\n    }","title":"&quot;java.lang.OutOfMemoryError : unable to create new native Thread&quot;","body":"<p>I had this same issue and it turned out to be an improper usage of an java API.  I was initializing a builder in a batch processing method that was that not supposed to be initiallized more than once.</p>\n\n<p>Basically I was doing something like:</p>\n\n<pre><code>for (batch in batches) {\n    process_batch(batch)\n}\n\ndef process_batch(batch) {\n    var client = TransportClient.builder().build()\n    client.processList(batch)\n}\n</code></pre>\n\n<p>when I should have done this:</p>\n\n<pre><code>for (batch in batches) {\n    var client = TransportClient.builder().build()\n    process_batch(batch, client)\n}\n\ndef process_batch(batch, client) {\n    client.processList(batch)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1089130,"reputation":38502,"user_id":1084174,"accept_rate":89,"display_name":"Sazzad Hissain Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1475430623,"creation_date":1475430623,"answer_id":39819886,"question_id":16789288,"body_markdown":"You have a chance to face the `java.lang.OutOfMemoryError: Unable to create new native thread` whenever the JVM asks for a new thread from the OS. Whenever the underlying OS cannot allocate a new native thread, this OutOfMemoryError will be thrown. The exact limit for native threads is very platform-dependent thus its recommend to find out those limits by running a test similar to the below link example. But, in general, the situation causing `java.lang.OutOfMemoryError: Unable to create new native thread` goes through the following phases:\r\n\r\n 1. A new Java thread is requested by an application running inside the\r\n    JVM \r\n 2. JVM native code proxies the request to create a new native\r\n    thread to the OS The OS tries to create a new native thread which\r\n    requires memory to be allocated to the thread \r\n 3. The OS will refuse\r\n    native memory allocation either because the 32-bit Java process size\r\n    has depleted its memory address space – e.g. (2-4) GB process size\r\n    limit has been hit – or the virtual memory of the OS has been fully\r\n    depleted \r\n 4. The java.lang.OutOfMemoryError: Unable to create new native\r\n    thread error is thrown.\r\n\r\nReference: https://plumbr.eu/outofmemoryerror/unable-to-create-new-native-thread","title":"&quot;java.lang.OutOfMemoryError : unable to create new native Thread&quot;","body":"<p>You have a chance to face the <code>java.lang.OutOfMemoryError: Unable to create new native thread</code> whenever the JVM asks for a new thread from the OS. Whenever the underlying OS cannot allocate a new native thread, this OutOfMemoryError will be thrown. The exact limit for native threads is very platform-dependent thus its recommend to find out those limits by running a test similar to the below link example. But, in general, the situation causing <code>java.lang.OutOfMemoryError: Unable to create new native thread</code> goes through the following phases:</p>\n\n<ol>\n<li>A new Java thread is requested by an application running inside the\nJVM </li>\n<li>JVM native code proxies the request to create a new native\nthread to the OS The OS tries to create a new native thread which\nrequires memory to be allocated to the thread </li>\n<li>The OS will refuse\nnative memory allocation either because the 32-bit Java process size\nhas depleted its memory address space – e.g. (2-4) GB process size\nlimit has been hit – or the virtual memory of the OS has been fully\ndepleted </li>\n<li>The java.lang.OutOfMemoryError: Unable to create new native\nthread error is thrown.</li>\n</ol>\n\n<p>Reference: <a href=\"https://plumbr.eu/outofmemoryerror/unable-to-create-new-native-thread\" rel=\"nofollow\">https://plumbr.eu/outofmemoryerror/unable-to-create-new-native-thread</a></p>\n"},{"tags":[],"owner":{"account_id":11027675,"reputation":166,"user_id":8100016,"display_name":"mac7"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1500992117,"creation_date":1500992117,"answer_id":45305946,"question_id":16789288,"body_markdown":"I had the same problem due to ghost processes that didn&#39;t show up when using top in bash. This prevented the JVM to spawn more threads.\r\n\r\nFor me, it resolved when listing all java processes with [jps][1] (just execute `jps` in your shell) and killed them separately using the `kill -9 pid` bash command for each ghost process.\r\n\r\nThis might help in some scenarios.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/tools/share/jps.html","title":"&quot;java.lang.OutOfMemoryError : unable to create new native Thread&quot;","body":"<p>I had the same problem due to ghost processes that didn't show up when using top in bash. This prevented the JVM to spawn more threads.</p>\n\n<p>For me, it resolved when listing all java processes with <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/share/jps.html\" rel=\"noreferrer\">jps</a> (just execute <code>jps</code> in your shell) and killed them separately using the <code>kill -9 pid</code> bash command for each ghost process.</p>\n\n<p>This might help in some scenarios.</p>\n"},{"tags":[],"owner":{"account_id":1346012,"reputation":21,"user_id":8521771,"display_name":"user8521771"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1518807289,"creation_date":1518807289,"answer_id":48833198,"question_id":16789288,"body_markdown":"To find which processes are creating threads try:\r\n\r\n    ps huH\r\n\r\n\r\nI normally redirect output to a file and analysis the file offline (is thread count for each process is as expected or not) \r\n\r\n","title":"&quot;java.lang.OutOfMemoryError : unable to create new native Thread&quot;","body":"<p>To find which processes are creating threads try:</p>\n\n<pre><code>ps huH\n</code></pre>\n\n<p>I normally redirect output to a file and analysis the file offline (is thread count for each process is as expected or not) </p>\n"},{"tags":[],"owner":{"account_id":2443555,"reputation":638,"user_id":2131439,"display_name":"Maverick"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1547100832,"creation_date":1547100832,"answer_id":54122840,"question_id":16789288,"body_markdown":"This error can surface because of following two reasons:\r\n  \r\n - There is no room in the memory to accommodate new threads.\r\n      \r\n - The number of threads exceeds the Operating System limit.\r\n\r\nI doubt that number of thread have exceeded the limit for the java process\r\n\r\nSo possibly chances are the issue is because of memory\r\nOne point to consider is \r\n\r\n&gt; threads are not created within the JVM heap. They are created outside\r\n&gt; the JVM heap. So if there is less room left in the RAM, after the JVM\r\n&gt; heap allocation, application will run into\r\n&gt; “java.lang.OutOfMemoryError: unable to create new native thread”.\r\n\r\nPossible Solution is to reduce the heap memory or increase the overall ram size ","title":"&quot;java.lang.OutOfMemoryError : unable to create new native Thread&quot;","body":"<p>This error can surface because of following two reasons:</p>\n\n<ul>\n<li><p>There is no room in the memory to accommodate new threads.</p></li>\n<li><p>The number of threads exceeds the Operating System limit.</p></li>\n</ul>\n\n<p>I doubt that number of thread have exceeded the limit for the java process</p>\n\n<p>So possibly chances are the issue is because of memory\nOne point to consider is </p>\n\n<blockquote>\n  <p>threads are not created within the JVM heap. They are created outside\n  the JVM heap. So if there is less room left in the RAM, after the JVM\n  heap allocation, application will run into\n  “java.lang.OutOfMemoryError: unable to create new native thread”.</p>\n</blockquote>\n\n<p>Possible Solution is to reduce the heap memory or increase the overall ram size </p>\n"},{"comments":[{"owner":{"account_id":185535,"reputation":6169,"user_id":422321,"accept_rate":100,"display_name":"sayap"},"score":2,"creation_date":1597132369,"post_id":55606297,"comment_id":112026482,"body_markdown":"To expand on this, if you SSH into a server infected by systemd and then start a java process from CLI, you can also hit the silly tasks limit imposed on the **sshd** service.","body":"To expand on this, if you SSH into a server infected by systemd and then start a java process from CLI, you can also hit the silly tasks limit imposed on the <b>sshd</b> service."},{"owner":{"account_id":2994178,"reputation":388,"user_id":2541030,"display_name":"Ivan Herlambang"},"score":0,"creation_date":1598704782,"post_id":55606297,"comment_id":112548946,"body_markdown":"Thanks! This is one of the solutions for thread problem. There&#39;s also an option called TasksMax (for more isolated settings) for services/systemd that are under\n[Service]\nTasksMax=(value). \nAt SUSE, the default value is 512 (which is very limited for production use). More info https://www.suse.com/support/kb/doc/?id=000015901\nsystemctl daemon-reload, and to check, systemctl show --property DefaultTasksMax (for global) or systemctl status ${serviceName}|grep -e Tasks (for TasksMax)\nThere&#39;s other things that cause &quot;unable to create new native Thread” issues, such as the ulimit setup.","body":"Thanks! This is one of the solutions for thread problem. There&#39;s also an option called TasksMax (for more isolated settings) for services/systemd that are under [Service] TasksMax=(value).  At SUSE, the default value is 512 (which is very limited for production use). More info <a href=\"https://www.suse.com/support/kb/doc/?id=000015901\" rel=\"nofollow noreferrer\">suse.com/support/kb/doc/?id=000015901</a> systemctl daemon-reload, and to check, systemctl show --property DefaultTasksMax (for global) or systemctl status ${serviceName}|grep -e Tasks (for TasksMax) There&#39;s other things that cause &quot;unable to create new native Thread” issues, such as the ulimit setup."}],"tags":[],"owner":{"account_id":6323824,"reputation":1258,"user_id":4910851,"accept_rate":50,"display_name":"Clement.Xu"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1554878730,"creation_date":1554878730,"answer_id":55606297,"question_id":16789288,"body_markdown":"If jvm is started via systemd, there might be a maxTasks per process limit (tasks actually mean threads) in some linux OS.\r\n\r\nYou can check this by running &quot;service &lt;serviceName&gt; status&quot; and check if there is a maxTasks limit. If there is, you can remove it by editing /etc/systemd/system.conf, adding a config: DefaultTasksMax=infinity","title":"&quot;java.lang.OutOfMemoryError : unable to create new native Thread&quot;","body":"<p>If jvm is started via systemd, there might be a maxTasks per process limit (tasks actually mean threads) in some linux OS.</p>\n\n<p>You can check this by running \"service  status\" and check if there is a maxTasks limit. If there is, you can remove it by editing /etc/systemd/system.conf, adding a config: DefaultTasksMax=infinity</p>\n"},{"comments":[{"owner":{"account_id":5588556,"reputation":8451,"user_id":4428471,"accept_rate":46,"display_name":"zhuguowei"},"score":0,"creation_date":1689328160,"post_id":66481644,"comment_id":135201034,"body_markdown":"I didn&#39;t expect that threads are also processes.","body":"I didn&#39;t expect that threads are also processes."}],"tags":[],"owner":{"account_id":9860832,"reputation":408,"user_id":7303912,"display_name":"Jose1755"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1615593960,"creation_date":1614885591,"answer_id":66481644,"question_id":16789288,"body_markdown":"I had the same problem in a centOS/Red Hat machine. You are reaching the threads limit, for the user, process, or an overall limit\r\n\r\nIn my case there was a limit on the number of threads a user can have. Which can be checked with, the line saying max user processes\r\n\r\n`ulimit -a `\r\n\r\nYou can see how many threads are running using this command\r\n\r\n`$ ps -elfT | wc -l`\r\n\r\nTo get how many threads your process is running (you can get your process pid using top or ps aux):\r\n\r\n`$ ps -p &lt;PROCESS_PID&gt; -lfT | wc -l`\r\n\r\nThe /proc/sys/kernel/threads-max file provides a system-wide limit for the number of threads. The root user can change that value\r\n\r\nTo change the limits (in this case to 4096 threads):\r\n\r\n`$ ulimit -u 4096 `\r\n\r\n\r\nYou can find more info here for Red Hat/centOs http://www.mastertheboss.com/jboss-server/jboss-monitoring/how-to-solve-javalangoutofmemoryerror-unable-to-create-new-native-thread\r\n","title":"&quot;java.lang.OutOfMemoryError : unable to create new native Thread&quot;","body":"<p>I had the same problem in a centOS/Red Hat machine. You are reaching the threads limit, for the user, process, or an overall limit</p>\n<p>In my case there was a limit on the number of threads a user can have. Which can be checked with, the line saying max user processes</p>\n<p><code>ulimit -a </code></p>\n<p>You can see how many threads are running using this command</p>\n<p><code>$ ps -elfT | wc -l</code></p>\n<p>To get how many threads your process is running (you can get your process pid using top or ps aux):</p>\n<p><code>$ ps -p &lt;PROCESS_PID&gt; -lfT | wc -l</code></p>\n<p>The /proc/sys/kernel/threads-max file provides a system-wide limit for the number of threads. The root user can change that value</p>\n<p>To change the limits (in this case to 4096 threads):</p>\n<p><code>$ ulimit -u 4096 </code></p>\n<p>You can find more info here for Red Hat/centOs <a href=\"http://www.mastertheboss.com/jboss-server/jboss-monitoring/how-to-solve-javalangoutofmemoryerror-unable-to-create-new-native-thread\" rel=\"noreferrer\">http://www.mastertheboss.com/jboss-server/jboss-monitoring/how-to-solve-javalangoutofmemoryerror-unable-to-create-new-native-thread</a></p>\n"},{"tags":[],"owner":{"account_id":1605316,"reputation":8784,"user_id":1485527,"accept_rate":100,"display_name":"jschnasse"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624609057,"creation_date":1624519492,"answer_id":68111271,"question_id":16789288,"body_markdown":"**Are you starting your java app with system.d? This is for you!**\r\n\r\nI recently stumbled over `DefaultTasksMax` [1] which for some reason was limited to 60 on my machine - not enough for my new keycloak installation. \r\n\r\nKeycloak crashes with `java.lang.OutOfMemoryError : unable to create new native Thread` as soon as it hits the &#39;60&#39; limit (`ps -elfT | grep keycloak|wc -l`).\r\n\r\n**Solution**\r\n \r\n**1. Look up your system.d settings**\r\n\r\n`systemctl show --property DefaultTasksMax`\r\n\r\nIn my case. This printed `60`\r\n \r\n**2. Provide a higher value**\r\n\r\n`editor /etc/systemd/system.conf`\r\n\r\nEdit:\r\n```\r\nDefaultTasksMax=128\r\n```\r\n\r\nYou can also set a similar value `TaskMax` in your Unit-File. See [2].\r\n\r\n**3. Reload, Check, Restart**\r\n\r\n```\r\nsystemctl daemon-reload\r\nsystemctl show --property DefaultTasksMax\r\nsystemctl start keycloak\r\n\r\n```\r\n[1] https://www.freedesktop.org/software/systemd/man/systemd-system.conf.html\r\n\r\n[2] https://www.freedesktop.org/software/systemd/man/systemd.resource-control.html","title":"&quot;java.lang.OutOfMemoryError : unable to create new native Thread&quot;","body":"<p><strong>Are you starting your java app with system.d? This is for you!</strong></p>\n<p>I recently stumbled over <code>DefaultTasksMax</code> [1] which for some reason was limited to 60 on my machine - not enough for my new keycloak installation.</p>\n<p>Keycloak crashes with <code>java.lang.OutOfMemoryError : unable to create new native Thread</code> as soon as it hits the '60' limit (<code>ps -elfT | grep keycloak|wc -l</code>).</p>\n<p><strong>Solution</strong></p>\n<p><strong>1. Look up your system.d settings</strong></p>\n<p><code>systemctl show --property DefaultTasksMax</code></p>\n<p>In my case. This printed <code>60</code></p>\n<p><strong>2. Provide a higher value</strong></p>\n<p><code>editor /etc/systemd/system.conf</code></p>\n<p>Edit:</p>\n<pre><code>DefaultTasksMax=128\n</code></pre>\n<p>You can also set a similar value <code>TaskMax</code> in your Unit-File. See [2].</p>\n<p><strong>3. Reload, Check, Restart</strong></p>\n<pre><code>systemctl daemon-reload\nsystemctl show --property DefaultTasksMax\nsystemctl start keycloak\n\n</code></pre>\n<p>[1] <a href=\"https://www.freedesktop.org/software/systemd/man/systemd-system.conf.html\" rel=\"nofollow noreferrer\">https://www.freedesktop.org/software/systemd/man/systemd-system.conf.html</a></p>\n<p>[2] <a href=\"https://www.freedesktop.org/software/systemd/man/systemd.resource-control.html\" rel=\"nofollow noreferrer\">https://www.freedesktop.org/software/systemd/man/systemd.resource-control.html</a></p>\n"}],"owner":{"account_id":2134433,"reputation":1697,"user_id":1894562,"display_name":"Deepak Tewani"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307053,"favorite_count":0,"down_vote_count":2,"up_vote_count":165,"answer_count":15,"score":163,"last_activity_date":1680620980,"creation_date":1369735485,"question_id":16789288,"body_markdown":"We are getting `&quot;java.lang.OutOfMemoryError : unable to create new native Thread`&quot; on 8GB RAM VM after 32k threads (ps -eLF| grep -c java)\r\n\r\nHowever, `&quot;top&quot; and &quot;free -m&quot; shows 50% free memory available`. JDk is 64 bit and tried with both HotSpot and JRockit.Server has Linux 2.6.18\r\n\r\nWe also tried `OS stack size (ulimit -s)` tweaking and max process(ulimit -u) limits, limit.conf increase but all in vain.\r\n\r\nAlso we tried almost all possible of heap size combinations, keeping it low, high etc.\r\n\r\nThe script we use to run application is \r\n\r\n    /opt/jrockit-jdk1.6/bin/java -Xms512m -Xmx512m -Xss128k -jar JavaNatSimulator.jar /opt/tools/jnatclients/natSimulator.properties\r\n\r\n\r\nWe have tried editing /etc/security/limits.conf  and ulimit but still that same\r\n\r\n    [root@jboss02 ~]# ulimit -a\r\n    core file size          (blocks, -c) 0\r\n    data seg size           (kbytes, -d) unlimited\r\n    scheduling priority             (-e) 0\r\n    file size               (blocks, -f) unlimited\r\n    pending signals                 (-i) 72192\r\n    max locked memory       (kbytes, -l) 32\r\n    max memory size         (kbytes, -m) unlimited\r\n    open files                      (-n) 65535\r\n    pipe size            (512 bytes, -p) 8\r\n    POSIX message queues     (bytes, -q) 819200\r\n    real-time priority              (-r) 0\r\n    stack size              (kbytes, -s) 10240\r\n    cpu time               (seconds, -t) unlimited\r\n    max user processes              (-u) 72192\r\n    virtual memory          (kbytes, -v) unlimited\r\n    file locks                      (-x) unlimited","title":"&quot;java.lang.OutOfMemoryError : unable to create new native Thread&quot;","body":"<p>We are getting <code>&quot;java.lang.OutOfMemoryError : unable to create new native Thread</code>&quot; on 8GB RAM VM after 32k threads (ps -eLF| grep -c java)</p>\n<p>However, <code>&quot;top&quot; and &quot;free -m&quot; shows 50% free memory available</code>. JDk is 64 bit and tried with both HotSpot and JRockit.Server has Linux 2.6.18</p>\n<p>We also tried <code>OS stack size (ulimit -s)</code> tweaking and max process(ulimit -u) limits, limit.conf increase but all in vain.</p>\n<p>Also we tried almost all possible of heap size combinations, keeping it low, high etc.</p>\n<p>The script we use to run application is</p>\n<pre><code>/opt/jrockit-jdk1.6/bin/java -Xms512m -Xmx512m -Xss128k -jar JavaNatSimulator.jar /opt/tools/jnatclients/natSimulator.properties\n</code></pre>\n<p>We have tried editing /etc/security/limits.conf  and ulimit but still that same</p>\n<pre><code>[root@jboss02 ~]# ulimit -a\ncore file size          (blocks, -c) 0\ndata seg size           (kbytes, -d) unlimited\nscheduling priority             (-e) 0\nfile size               (blocks, -f) unlimited\npending signals                 (-i) 72192\nmax locked memory       (kbytes, -l) 32\nmax memory size         (kbytes, -m) unlimited\nopen files                      (-n) 65535\npipe size            (512 bytes, -p) 8\nPOSIX message queues     (bytes, -q) 819200\nreal-time priority              (-r) 0\nstack size              (kbytes, -s) 10240\ncpu time               (seconds, -t) unlimited\nmax user processes              (-u) 72192\nvirtual memory          (kbytes, -v) unlimited\nfile locks                      (-x) unlimited\n</code></pre>\n"},{"tags":["java","amazon-sqs","spring-jms","jmstemplate"],"comments":[{"owner":{"account_id":2264642,"reputation":4169,"user_id":1993709,"accept_rate":36,"display_name":"Adi"},"score":0,"creation_date":1565560189,"post_id":56228658,"comment_id":101382226,"body_markdown":"Did you find a solution?","body":"Did you find a solution?"},{"owner":{"account_id":278046,"reputation":1175,"user_id":572408,"accept_rate":62,"display_name":"Ryan Quinn"},"score":0,"creation_date":1600278555,"post_id":56228658,"comment_id":113040373,"body_markdown":"Also facing this issue, any insights?","body":"Also facing this issue, any insights?"}],"answers":[{"comments":[{"owner":{"account_id":9131190,"reputation":156,"user_id":6792739,"accept_rate":89,"display_name":"Roxcly"},"score":0,"creation_date":1604590712,"post_id":64394381,"comment_id":114398602,"body_markdown":"This worked as far as I have tested it. I am generally not a fan of overriding behaviors like this, in cases of updates and such, but I really couldn&#39;t find any other way or even mentions of this. What am I breaking by doing this override on &quot;rollbackOnExceptionIfNecessary&quot;?","body":"This worked as far as I have tested it. I am generally not a fan of overriding behaviors like this, in cases of updates and such, but I really couldn&#39;t find any other way or even mentions of this. What am I breaking by doing this override on &quot;rollbackOnExceptionIfNecessary&quot;?"},{"owner":{"account_id":3725757,"reputation":3130,"user_id":3099704,"accept_rate":70,"display_name":"Sedat Gokcen"},"score":1,"creation_date":1604598950,"post_id":64394381,"comment_id":114402807,"body_markdown":"I mentioned about this in the answer. You can take a look at `session.recover()` link in the answer. It basically just negative acknowledges the messages, which means setting visibility timeouts to 0.","body":"I mentioned about this in the answer. You can take a look at <code>session.recover()</code> link in the answer. It basically just negative acknowledges the messages, which means setting visibility timeouts to 0."}],"tags":[],"owner":{"account_id":3725757,"reputation":3130,"user_id":3099704,"accept_rate":70,"display_name":"Sedat Gokcen"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1680620948,"creation_date":1602872127,"answer_id":64394381,"question_id":56228658,"body_markdown":"In case of an exception, visibility timeout of the failed message is set to 0 via [ChangeMessageVisibility][1] so SQS will send this message immediately even though queue has a different `visibilityTimeout` setting.\r\n\r\n\r\nHow does that happen?\r\n\r\nAs you can see [here][2], Spring JMS&#39; `AbstractMessageListenerContainer` briefly does this:\r\n\r\n    try {\r\n\t\tinvokeListener(session, message); // This is your @JMSListener method\r\n\t}\r\n\tcatch (JMSException | RuntimeException | Error ex) {\r\n\t\trollbackOnExceptionIfNecessary(session, ex);\r\n\t\tthrow ex;\r\n\t}\r\n\tcommitIfNecessary(session, message);\r\n\r\nOn `rollbackOnExceptionIfNecessary` method, [session.recover()][3] will be invoked because:\r\n\r\n1. `session.getTransacted()` will always be false since SQS does not support transactions. See [here][4].\r\n2. `isClientAcknowledge(session)` will return true because you&#39;re using CLIENT_ACKNOWLEDGE mode.\r\n\r\nAnd lastly [recover() of SQSSession][5] **negative acknowledges** the message, which means setting `visibilityTimeout` of that specific message to 0, causes SQS to try sending that message immediately.\r\n\r\nThe easiest way to override this behavior would be implementing a `CustomJmsListenerContainerFactory` &amp; `CustomMessageListenerContainer` instead of using `DefaultJmsListenerContainerFactory` &amp; `DefaultMessageListenerContainer`.\r\n\r\n    public class CustomMessageListenerContainer extends DefaultMessageListenerContainer {\r\n\r\n        public CustomMessageListenerContainer() {\r\n            super();\r\n        }\r\n\r\n        @Override\r\n        protected void rollbackOnExceptionIfNecessary(Session session, Throwable ex) {\r\n            // do nothing, so that &quot;visibilityTimeout&quot; will stay same\r\n        }\r\n\r\n    }\r\n\r\n    public class CustomJmsListenerContainerFactory extends DefaultJmsListenerContainerFactory {\r\n        \r\n        @Override\r\n\t    protected DefaultMessageListenerContainer createContainerInstance() {\r\n\t\t    return new CustomMessageListenerContainer();\r\n\t    }\r\n    }\r\n\r\nAnd make it a Spring bean either with `@Component` or just like you did in `JmsConfig`:\r\n\r\n    @Bean\r\n    public DefaultJmsListenerContainerFactory jmsListenerContainerFactory(ConnectionFactory connectionFactory) {\r\n        DefaultJmsListenerContainerFactory factory = new CustomJmsListenerContainerFactory();\r\n        factory.setConnectionFactory(connectionFactory);\r\n        // and set other stuff on factory\r\n        return factory;\r\n    }\r\n\r\n**NOTE**:   \r\nIf your application is consuming other type of data sources along SQS with JMS, make sure to use different Container and ContainerFactory for them so that `rollbackOnExceptionIfNecessary` behaves as expected.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AWSSimpleQueueService/latest/APIReference/API_ChangeMessageVisibility.html\r\n  [2]: https://github.com/spring-projects/spring-framework/blob/master/spring-jms/src/main/java/org/springframework/jms/listener/AbstractMessageListenerContainer.java#L663\r\n  [3]: https://github.com/spring-projects/spring-framework/blob/702a05e9264ea2cf67c4028927dfbf55a82ee57b/spring-jms/src/main/java/org/springframework/jms/listener/AbstractMessageListenerContainer.java#L819\r\n  [4]: https://github.com/awslabs/amazon-sqs-java-messaging-lib/blob/master/src/main/java/com/amazon/sqs/javamessaging/SQSSession.java#L733\r\n  [5]: https://github.com/awslabs/amazon-sqs-java-messaging-lib/blob/master/src/main/java/com/amazon/sqs/javamessaging/SQSSession.java#L469","title":"SQS Message visibility timeout being set to 0 when exception is thrown and @JMSListener","body":"<p>In case of an exception, visibility timeout of the failed message is set to 0 via <a href=\"https://docs.aws.amazon.com/AWSSimpleQueueService/latest/APIReference/API_ChangeMessageVisibility.html\" rel=\"nofollow noreferrer\">ChangeMessageVisibility</a> so SQS will send this message immediately even though queue has a different <code>visibilityTimeout</code> setting.</p>\n<p>How does that happen?</p>\n<p>As you can see <a href=\"https://github.com/spring-projects/spring-framework/blob/master/spring-jms/src/main/java/org/springframework/jms/listener/AbstractMessageListenerContainer.java#L663\" rel=\"nofollow noreferrer\">here</a>, Spring JMS' <code>AbstractMessageListenerContainer</code> briefly does this:</p>\n<pre><code>try {\n    invokeListener(session, message); // This is your @JMSListener method\n}\ncatch (JMSException | RuntimeException | Error ex) {\n    rollbackOnExceptionIfNecessary(session, ex);\n    throw ex;\n}\ncommitIfNecessary(session, message);\n</code></pre>\n<p>On <code>rollbackOnExceptionIfNecessary</code> method, <a href=\"https://github.com/spring-projects/spring-framework/blob/702a05e9264ea2cf67c4028927dfbf55a82ee57b/spring-jms/src/main/java/org/springframework/jms/listener/AbstractMessageListenerContainer.java#L819\" rel=\"nofollow noreferrer\">session.recover()</a> will be invoked because:</p>\n<ol>\n<li><code>session.getTransacted()</code> will always be false since SQS does not support transactions. See <a href=\"https://github.com/awslabs/amazon-sqs-java-messaging-lib/blob/master/src/main/java/com/amazon/sqs/javamessaging/SQSSession.java#L733\" rel=\"nofollow noreferrer\">here</a>.</li>\n<li><code>isClientAcknowledge(session)</code> will return true because you're using CLIENT_ACKNOWLEDGE mode.</li>\n</ol>\n<p>And lastly <a href=\"https://github.com/awslabs/amazon-sqs-java-messaging-lib/blob/master/src/main/java/com/amazon/sqs/javamessaging/SQSSession.java#L469\" rel=\"nofollow noreferrer\">recover() of SQSSession</a> <strong>negative acknowledges</strong> the message, which means setting <code>visibilityTimeout</code> of that specific message to 0, causes SQS to try sending that message immediately.</p>\n<p>The easiest way to override this behavior would be implementing a <code>CustomJmsListenerContainerFactory</code> &amp; <code>CustomMessageListenerContainer</code> instead of using <code>DefaultJmsListenerContainerFactory</code> &amp; <code>DefaultMessageListenerContainer</code>.</p>\n<pre><code>public class CustomMessageListenerContainer extends DefaultMessageListenerContainer {\n\n    public CustomMessageListenerContainer() {\n        super();\n    }\n\n    @Override\n    protected void rollbackOnExceptionIfNecessary(Session session, Throwable ex) {\n        // do nothing, so that &quot;visibilityTimeout&quot; will stay same\n    }\n\n}\n\npublic class CustomJmsListenerContainerFactory extends DefaultJmsListenerContainerFactory {\n    \n    @Override\n    protected DefaultMessageListenerContainer createContainerInstance() {\n        return new CustomMessageListenerContainer();\n    }\n}\n</code></pre>\n<p>And make it a Spring bean either with <code>@Component</code> or just like you did in <code>JmsConfig</code>:</p>\n<pre><code>@Bean\npublic DefaultJmsListenerContainerFactory jmsListenerContainerFactory(ConnectionFactory connectionFactory) {\n    DefaultJmsListenerContainerFactory factory = new CustomJmsListenerContainerFactory();\n    factory.setConnectionFactory(connectionFactory);\n    // and set other stuff on factory\n    return factory;\n}\n</code></pre>\n<p><strong>NOTE</strong>:<br />\nIf your application is consuming other type of data sources along SQS with JMS, make sure to use different Container and ContainerFactory for them so that <code>rollbackOnExceptionIfNecessary</code> behaves as expected.</p>\n"}],"owner":{"account_id":2261446,"reputation":171,"user_id":1991430,"display_name":"Robert P"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3530,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":1,"score":11,"last_activity_date":1680620948,"creation_date":1558389323,"question_id":56228658,"body_markdown":"I have a simple Spring Boot service that listens to an AWS SQS queue using JMSTemplate.  Everything works as expected when the message is properly handled. \r\n\r\nI am using CLIENT_ACKNOWLEDGE so when an exception is thrown during processing, the message is received again.  However the Default Visibility Timeout setting on the SQS queue is being ignored and the message is being received again immediately.\r\n\r\nThe SQS queue is configured with a 30 second Default Visibility Timeout and a re-drive policy of 20 receives before putting the message on a DLQ.\r\n\r\nI have disabled the service and used the SQS Console to verify that the Default Visibility Timeout is properly set.  I have also tried adding the JMS Message to the method signature and performing manual validation.\r\n\r\n\r\nHere is code for the JMS Configuration:\r\n```java\r\n@Configuration\r\n@EnableJms\r\nclass JmsConfig\r\n{\r\n\r\n    @Bean\r\n    @Conditional(AWSEnvironmentCondition.class)\r\n    public SQSConnectionFactory connectionFactory(@Value(&quot;${AWS_REGION}&quot;) String awsRegion)\r\n    {\r\n        return new SQSConnectionFactory(\r\n            new ProviderConfiguration(),\r\n            AmazonSQSClientBuilder.standard()\r\n                                  .withRegion(Regions.fromName(awsRegion))\r\n                                  .withCredentials(new DefaultAWSCredentialsProviderChain())\r\n        );\r\n    }\r\n\r\n    @Bean\r\n    public DefaultJmsListenerContainerFactory jmsListenerContainerFactory(ConnectionFactory connectionFactory)\r\n    {\r\n        DefaultJmsListenerContainerFactory factory =\r\n            new DefaultJmsListenerContainerFactory();\r\n        factory.setConnectionFactory(connectionFactory);\r\n        factory.setDestinationResolver(new DynamicDestinationResolver());\r\n        factory.setConcurrency(&quot;3-10&quot;);\r\n        factory.setSessionAcknowledgeMode(Session.CLIENT_ACKNOWLEDGE);\r\n        factory.setErrorHandler(defaultErrorHandler());\r\n        return factory;\r\n    }\r\n\r\n    @Bean\r\n    public ErrorHandler defaultErrorHandler()\r\n    {\r\n        return new ErrorHandler()\r\n        {\r\n            @Override\r\n            public void handleError(Throwable throwable)\r\n            {\r\n                LOG.error(&quot;JMS message listener error: {}&quot;, throwable.getMessage());\r\n            }\r\n        };\r\n    }\r\n\r\n    @Bean\r\n    public JmsTemplate defaultJmsTemplate(ConnectionFactory connectionFactory)\r\n    {\r\n        return new JmsTemplate(connectionFactory);\r\n    }\r\n}\r\n```\r\n\r\nAnd here is code for the Listener:\r\n```java\r\n@Component\r\npublic class MessagingListener\r\n{\r\n    @Autowired\r\n    private MessageService _messageService;\r\n\r\n    @Autowired\r\n    private Validator _validator;\r\n\r\n    @JmsListener(destination = &quot;myqueue&quot;)\r\n    public void receiveMessage(String messageJson)\r\n    {\r\n        try\r\n        {\r\n            LOG.info(&quot;Received message&quot;);\r\n\r\n            // The following line throws an IOException is the message is not JSON.\r\n            MyMessage myMessage = MAPPER.readvalue(messageJson, MyMessage.class);\r\n\r\n            Set&lt;ConstraintViolation&lt;MyMessage&gt;&gt; _validator.validate(myMessage);\r\n            if (CollectionUtils.isNotEmpty(violations))\r\n            {\r\n                String errorMessage = violations.stream()\r\n                        .map(v -&gt; String.join(&quot; : &quot;, v.getPropertyPath().iterator().next().getName(),\r\n                                v.getMessage()))\r\n                LOG.error(&quot;Exception occurred while validating the model, details: {}&quot;, errorMessage)\r\n                throw new ValidationException(errorMessage);\r\n            }\r\n        }\r\n        catch (IOException e)\r\n        {\r\n            LOG.error(&quot;Error parsing message&quot;, e);\r\n            throw new ValidationException(&quot;Error parsing message, details: &quot; + e.getMessage());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen a message is placed on the SQS queue with either invalid JSON or JSON that that does not pass validation, the message is received 20 times very quickly and then ends up on the DLQ.  What needs to be done so that the Default Visibility Timeout setting in SQS is respected?","title":"SQS Message visibility timeout being set to 0 when exception is thrown and @JMSListener","body":"<p>I have a simple Spring Boot service that listens to an AWS SQS queue using JMSTemplate.  Everything works as expected when the message is properly handled. </p>\n\n<p>I am using CLIENT_ACKNOWLEDGE so when an exception is thrown during processing, the message is received again.  However the Default Visibility Timeout setting on the SQS queue is being ignored and the message is being received again immediately.</p>\n\n<p>The SQS queue is configured with a 30 second Default Visibility Timeout and a re-drive policy of 20 receives before putting the message on a DLQ.</p>\n\n<p>I have disabled the service and used the SQS Console to verify that the Default Visibility Timeout is properly set.  I have also tried adding the JMS Message to the method signature and performing manual validation.</p>\n\n<p>Here is code for the JMS Configuration:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableJms\nclass JmsConfig\n{\n\n    @Bean\n    @Conditional(AWSEnvironmentCondition.class)\n    public SQSConnectionFactory connectionFactory(@Value(\"${AWS_REGION}\") String awsRegion)\n    {\n        return new SQSConnectionFactory(\n            new ProviderConfiguration(),\n            AmazonSQSClientBuilder.standard()\n                                  .withRegion(Regions.fromName(awsRegion))\n                                  .withCredentials(new DefaultAWSCredentialsProviderChain())\n        );\n    }\n\n    @Bean\n    public DefaultJmsListenerContainerFactory jmsListenerContainerFactory(ConnectionFactory connectionFactory)\n    {\n        DefaultJmsListenerContainerFactory factory =\n            new DefaultJmsListenerContainerFactory();\n        factory.setConnectionFactory(connectionFactory);\n        factory.setDestinationResolver(new DynamicDestinationResolver());\n        factory.setConcurrency(\"3-10\");\n        factory.setSessionAcknowledgeMode(Session.CLIENT_ACKNOWLEDGE);\n        factory.setErrorHandler(defaultErrorHandler());\n        return factory;\n    }\n\n    @Bean\n    public ErrorHandler defaultErrorHandler()\n    {\n        return new ErrorHandler()\n        {\n            @Override\n            public void handleError(Throwable throwable)\n            {\n                LOG.error(\"JMS message listener error: {}\", throwable.getMessage());\n            }\n        };\n    }\n\n    @Bean\n    public JmsTemplate defaultJmsTemplate(ConnectionFactory connectionFactory)\n    {\n        return new JmsTemplate(connectionFactory);\n    }\n}\n</code></pre>\n\n<p>And here is code for the Listener:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class MessagingListener\n{\n    @Autowired\n    private MessageService _messageService;\n\n    @Autowired\n    private Validator _validator;\n\n    @JmsListener(destination = \"myqueue\")\n    public void receiveMessage(String messageJson)\n    {\n        try\n        {\n            LOG.info(\"Received message\");\n\n            // The following line throws an IOException is the message is not JSON.\n            MyMessage myMessage = MAPPER.readvalue(messageJson, MyMessage.class);\n\n            Set&lt;ConstraintViolation&lt;MyMessage&gt;&gt; _validator.validate(myMessage);\n            if (CollectionUtils.isNotEmpty(violations))\n            {\n                String errorMessage = violations.stream()\n                        .map(v -&gt; String.join(\" : \", v.getPropertyPath().iterator().next().getName(),\n                                v.getMessage()))\n                LOG.error(\"Exception occurred while validating the model, details: {}\", errorMessage)\n                throw new ValidationException(errorMessage);\n            }\n        }\n        catch (IOException e)\n        {\n            LOG.error(\"Error parsing message\", e);\n            throw new ValidationException(\"Error parsing message, details: \" + e.getMessage());\n        }\n    }\n}\n</code></pre>\n\n<p>When a message is placed on the SQS queue with either invalid JSON or JSON that that does not pass validation, the message is received 20 times very quickly and then ends up on the DLQ.  What needs to be done so that the Default Visibility Timeout setting in SQS is respected?</p>\n"},{"tags":["java","github","path"],"comments":[{"owner":{"account_id":1946485,"reputation":291,"user_id":6524124,"accept_rate":43,"display_name":"user1751510"},"score":0,"creation_date":1680620641,"post_id":75903085,"comment_id":133927046,"body_markdown":"This was my bad.\nI thought i was calling the candidate/control with two different lambdas, but i had reverted that change.","body":"This was my bad. I thought i was calling the candidate/control with two different lambdas, but i had reverted that change."}],"answers":[{"tags":[],"owner":{"account_id":1946485,"reputation":291,"user_id":6524124,"accept_rate":43,"display_name":"user1751510"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680620835,"creation_date":1680620835,"answer_id":75930998,"question_id":75903085,"body_markdown":"This was my bad. I thought i was calling the candidate/control with two different lambdas, but i haI do see the mismatch now \r\n\r\n``` \r\nscientist.test-experiment.candidate.exception count = 0 \r\nscientist.test-experiment.mismatch count = 1 \r\n\r\n```\r\n\r\nAdding a new `Callable` for candidate as the second argument and passing in below, fixed my issue\r\n```\r\n\r\ncallWithExperiment(() -&gt; getAnalyticsInfos(startTime, endTime), \r\n() -&gt; getAnalyticsInfos(startTime, startTime),\r\n&quot;Running candidate `getAnalyticsInfoByTime`&quot;);\r\n\r\n```","title":"Scientist4J - Unable to produce a mismatch even when the candidate path is set to null intentionally","body":"<p>This was my bad. I thought i was calling the candidate/control with two different lambdas, but i haI do see the mismatch now</p>\n<pre><code>scientist.test-experiment.candidate.exception count = 0 \nscientist.test-experiment.mismatch count = 1 \n\n</code></pre>\n<p>Adding a new <code>Callable</code> for candidate as the second argument and passing in below, fixed my issue</p>\n<pre><code>\ncallWithExperiment(() -&gt; getAnalyticsInfos(startTime, endTime), \n() -&gt; getAnalyticsInfos(startTime, startTime),\n&quot;Running candidate `getAnalyticsInfoByTime`&quot;);\n\n</code></pre>\n"}],"owner":{"account_id":1946485,"reputation":291,"user_id":6524124,"accept_rate":43,"display_name":"user1751510"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75930998,"answer_count":1,"score":0,"last_activity_date":1680620835,"creation_date":1680300445,"question_id":75903085,"body_markdown":"I am trying to experiment with Scientist4j.  Mostly as a way to check if there is a mismatch in response between the new and old code paths.\r\nBut i cannot seem to trigger a Mismatch. Even if i intentionally sent the response on the candidate path to `null`.\r\nNot sure what i am missing.\r\n\r\nHere is a sample of my code calling the experiment\r\n```\r\n//Calling the candidate path with startTime, startTime(instead of endtime) to see what mismatch would look like\r\n\r\ncallWithExperiment(() -&gt; getAnalyticsInfos(startTime, startTime), &quot;Running candidate `getAnalyticsInfoByTime`&quot;);\r\n\r\nprivate &lt;T&gt; List&lt;T&gt; callWithExperiment(Callable&lt;List&lt;T&gt;&gt; callable, String logMessage) {\r\n        try {\r\n            final DropwizardMetricsProvider dropwizardMetricsProvider = new DropwizardMetricsProvider();\r\n            Experiment&lt;List&lt;T&gt;&gt; experiment = new Experiment&lt;&gt;(&quot;analytics-experiment&quot;, dropwizardMetricsProvider);\r\n            experiment.run(\r\n                    () -&gt; callable.call(),\r\n                    () -&gt; {\r\n                        log.info(logMessage);\r\n                        Random random = new Random();\r\n                        Thread.sleep(random.nextInt(5) * 100);\r\n                        return callable.call();\r\n             });\r\n\r\n              ConsoleReporter reporter = ConsoleReporter.forRegistry((MetricRegistry) experiment.getMetricsProvider().getRegistry())\r\n                .convertRatesTo(TimeUnit.SECONDS)\r\n                .convertDurationsTo(TimeUnit.MILLISECONDS)\r\n                .build();\r\n             reporter.start(10, TimeUnit.MINUTES);\r\n             reporter.report();\r\n             reporter.stop();\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n```\r\n\r\nBelow is where i am trying to introduce a mismatch by setting the analytics result to `null`.\r\n```\r\n private List&lt;AnalyticsInfo&gt; getAnalyticsInfos(long startTime, long endTime) {\r\n        return withClient(client -&gt; {\r\n            GetAnalyticsInfoRequest req = new GetAnalyticsInfoRequest().setStartTime(startTime).setEndTime(endTime);\r\n            GetAnalyticsInfoResponse resp = client.geAnalyticsInfo(req);\r\n            List&lt;AnalyticsInfo&gt; results = resp.getInfo();\r\n//Intentionally setting bad response when startTime == endTime\r\n            if(startTime == endTime){\r\n                log.info(&quot;Updating results to null&quot;);\r\n                results = null;\r\n            }\r\n            if(results != null){\r\n                return results.parallelStream()\r\n                        .map(Transformer::toAnalyticsInfo)\r\n                        .collect(Collectors.toList());\r\n            }\r\n            return null;\r\n        });\r\n    }\r\n```\r\n\r\nHere are the my results from the experiment\r\n\r\n```\r\n3/31/23 9:39:50 PM =============================================================\r\n-- Counters --------------------------------------------------------------------\r\nscientist.analytics-experiment.candidate.exception\r\ncount = 0\r\nscientist.analytics-experiment.mismatch\r\ncount = 0\r\nscientist.analytics-experiment.total\r\ncount = 1\r\n-- Timers ----------------------------------------------------------------------\r\nscientist.analytics-experiment.candidate\r\ncount = 1\r\nsum = 24135238\r\nmean rate = 9.77 calls/second\r\n1-minute rate = 0.00 calls/second\r\n5-minute rate = 0.00 calls/second\r\n15-minute rate = 0.00 calls/second\r\nmin = 24.14 milliseconds\r\nmax = 24.14 milliseconds\r\nmean = 24.14 milliseconds\r\nstddev = 0.00 milliseconds\r\nmedian = 24.14 milliseconds\r\n75% &lt;= 24.14 milliseconds\r\n95% &lt;= 24.14 milliseconds\r\n98% &lt;= 24.14 milliseconds\r\n99% &lt;= 24.14 milliseconds\r\n99.9% &lt;= 24.14 milliseconds\r\nscientist.analytics-experiment.control\r\ncount = 1\r\nsum = 76235890\r\nmean rate = 9.73 calls/second\r\n1-minute rate = 0.00 calls/second\r\n5-minute rate = 0.00 calls/second\r\n15-minute rate = 0.00 calls/second\r\nmin = 76.24 milliseconds\r\nmax = 76.24 milliseconds\r\nmean = 76.24 milliseconds\r\nstddev = 0.00 milliseconds\r\nmedian = 76.24 milliseconds\r\n75% &lt;= 76.24 milliseconds\r\n95% &lt;= 76.24 milliseconds\r\n98% &lt;= 76.24 milliseconds\r\n99% &lt;= 76.24 milliseconds\r\n99.9% &lt;= 76.24 milliseconds\r\n```\r\n\r\nIf someone can let me know if i am missing something that would be great","title":"Scientist4J - Unable to produce a mismatch even when the candidate path is set to null intentionally","body":"<p>I am trying to experiment with Scientist4j.  Mostly as a way to check if there is a mismatch in response between the new and old code paths.\nBut i cannot seem to trigger a Mismatch. Even if i intentionally sent the response on the candidate path to <code>null</code>.\nNot sure what i am missing.</p>\n<p>Here is a sample of my code calling the experiment</p>\n<pre><code>//Calling the candidate path with startTime, startTime(instead of endtime) to see what mismatch would look like\n\ncallWithExperiment(() -&gt; getAnalyticsInfos(startTime, startTime), &quot;Running candidate `getAnalyticsInfoByTime`&quot;);\n\nprivate &lt;T&gt; List&lt;T&gt; callWithExperiment(Callable&lt;List&lt;T&gt;&gt; callable, String logMessage) {\n        try {\n            final DropwizardMetricsProvider dropwizardMetricsProvider = new DropwizardMetricsProvider();\n            Experiment&lt;List&lt;T&gt;&gt; experiment = new Experiment&lt;&gt;(&quot;analytics-experiment&quot;, dropwizardMetricsProvider);\n            experiment.run(\n                    () -&gt; callable.call(),\n                    () -&gt; {\n                        log.info(logMessage);\n                        Random random = new Random();\n                        Thread.sleep(random.nextInt(5) * 100);\n                        return callable.call();\n             });\n\n              ConsoleReporter reporter = ConsoleReporter.forRegistry((MetricRegistry) experiment.getMetricsProvider().getRegistry())\n                .convertRatesTo(TimeUnit.SECONDS)\n                .convertDurationsTo(TimeUnit.MILLISECONDS)\n                .build();\n             reporter.start(10, TimeUnit.MINUTES);\n             reporter.report();\n             reporter.stop();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n</code></pre>\n<p>Below is where i am trying to introduce a mismatch by setting the analytics result to <code>null</code>.</p>\n<pre><code> private List&lt;AnalyticsInfo&gt; getAnalyticsInfos(long startTime, long endTime) {\n        return withClient(client -&gt; {\n            GetAnalyticsInfoRequest req = new GetAnalyticsInfoRequest().setStartTime(startTime).setEndTime(endTime);\n            GetAnalyticsInfoResponse resp = client.geAnalyticsInfo(req);\n            List&lt;AnalyticsInfo&gt; results = resp.getInfo();\n//Intentionally setting bad response when startTime == endTime\n            if(startTime == endTime){\n                log.info(&quot;Updating results to null&quot;);\n                results = null;\n            }\n            if(results != null){\n                return results.parallelStream()\n                        .map(Transformer::toAnalyticsInfo)\n                        .collect(Collectors.toList());\n            }\n            return null;\n        });\n    }\n</code></pre>\n<p>Here are the my results from the experiment</p>\n<pre><code>3/31/23 9:39:50 PM =============================================================\n-- Counters --------------------------------------------------------------------\nscientist.analytics-experiment.candidate.exception\ncount = 0\nscientist.analytics-experiment.mismatch\ncount = 0\nscientist.analytics-experiment.total\ncount = 1\n-- Timers ----------------------------------------------------------------------\nscientist.analytics-experiment.candidate\ncount = 1\nsum = 24135238\nmean rate = 9.77 calls/second\n1-minute rate = 0.00 calls/second\n5-minute rate = 0.00 calls/second\n15-minute rate = 0.00 calls/second\nmin = 24.14 milliseconds\nmax = 24.14 milliseconds\nmean = 24.14 milliseconds\nstddev = 0.00 milliseconds\nmedian = 24.14 milliseconds\n75% &lt;= 24.14 milliseconds\n95% &lt;= 24.14 milliseconds\n98% &lt;= 24.14 milliseconds\n99% &lt;= 24.14 milliseconds\n99.9% &lt;= 24.14 milliseconds\nscientist.analytics-experiment.control\ncount = 1\nsum = 76235890\nmean rate = 9.73 calls/second\n1-minute rate = 0.00 calls/second\n5-minute rate = 0.00 calls/second\n15-minute rate = 0.00 calls/second\nmin = 76.24 milliseconds\nmax = 76.24 milliseconds\nmean = 76.24 milliseconds\nstddev = 0.00 milliseconds\nmedian = 76.24 milliseconds\n75% &lt;= 76.24 milliseconds\n95% &lt;= 76.24 milliseconds\n98% &lt;= 76.24 milliseconds\n99% &lt;= 76.24 milliseconds\n99.9% &lt;= 76.24 milliseconds\n</code></pre>\n<p>If someone can let me know if i am missing something that would be great</p>\n"},{"tags":["java","spring","spring-security","http-headers"],"owner":{"account_id":21556503,"reputation":1,"user_id":15891649,"display_name":"Jo&#227;o Pedro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680620613,"creation_date":1680620613,"question_id":75930962,"body_markdown":"I ran a PCI scan over one app that I have and the report states a vulnerability - HTTP Security Header Not Detected. The report has a very straight forward explanation of what is causing and what the solution could be. Basically I need to set: \r\nX-Content-Type-Options: nosniff\r\nStrict-Transport-Security: &quot;max-age=31536000; includeSubDomains&quot;.\r\n\r\nMy app is a huge spring framework portal with 4 modules. After some research, I tried to adapt the Java Configuration that is described in docs.spring.io, using spring-security. It&#39;s looks like a simple change and that&#39;s why I&#39;m wondering what might be wrong in my solution.\r\n\r\nAfter adding the vulnerability fix I don&#39;t have any errors in the portal. The issue is that the PCI scan result was exactly the same, so my changes did nothing.\r\n\r\n\r\n\r\nSo, I added this java file on each module\r\n..\\src\\main\\java\\src\\is\\compny\\common\\WebSecurityConfig.java\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable();\r\n        http\r\n                .headers()\r\n                .httpStrictTransportSecurity()\r\n                .requestMatcher(AnyRequestMatcher.INSTANCE)\r\n                .includeSubDomains(true)\r\n                .maxAgeInSeconds(31536000);\r\n\r\n    }\r\n}\r\n```\r\nThe `http.csrf().disable();` should fix the X-Content-Type-Options and the rest should fix the Strict-Transport-Security. \r\n\r\nAm I missing something in this solution? Did I add the class on the wrong place? Do I have to call the configure method anywhere?\r\n\r\nThanks in advance!","title":"HTTP Security Header Not Detected - Spring framework","body":"<p>I ran a PCI scan over one app that I have and the report states a vulnerability - HTTP Security Header Not Detected. The report has a very straight forward explanation of what is causing and what the solution could be. Basically I need to set:\nX-Content-Type-Options: nosniff\nStrict-Transport-Security: &quot;max-age=31536000; includeSubDomains&quot;.</p>\n<p>My app is a huge spring framework portal with 4 modules. After some research, I tried to adapt the Java Configuration that is described in docs.spring.io, using spring-security. It's looks like a simple change and that's why I'm wondering what might be wrong in my solution.</p>\n<p>After adding the vulnerability fix I don't have any errors in the portal. The issue is that the PCI scan result was exactly the same, so my changes did nothing.</p>\n<p>So, I added this java file on each module\n..\\src\\main\\java\\src\\is\\compny\\common\\WebSecurityConfig.java</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable();\n        http\n                .headers()\n                .httpStrictTransportSecurity()\n                .requestMatcher(AnyRequestMatcher.INSTANCE)\n                .includeSubDomains(true)\n                .maxAgeInSeconds(31536000);\n\n    }\n}\n</code></pre>\n<p>The <code>http.csrf().disable();</code> should fix the X-Content-Type-Options and the rest should fix the Strict-Transport-Security.</p>\n<p>Am I missing something in this solution? Did I add the class on the wrong place? Do I have to call the configure method anywhere?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2757427,"reputation":2709,"user_id":2375105,"accept_rate":62,"display_name":"traveh"},"score":0,"creation_date":1680589096,"post_id":75923693,"comment_id":133919224,"body_markdown":"I tried &quot;--add-exports java.base/jdk.internal.misc=ALL-UNNAMED&quot; and still got the same error (added it to the question). I&#39;ll try RuntimeMXBean next.","body":"I tried &quot;--add-exports java.base/jdk.internal.misc=ALL-UNNAMED&quot; and still got the same error (added it to the question). I&#39;ll try RuntimeMXBean next."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1680604673,"post_id":75923693,"comment_id":133922752,"body_markdown":"**1.** `--add-exports` also needed for compiling; **2.** virtual machine options (`-D`, `--add-exports`) must come BEFORE the class name when executing `java` (anything after the class name is passed as ARGUMENT to `main` method of your code)","body":"<b>1.</b> <code>--add-exports</code> also needed for compiling; <b>2.</b> virtual machine options (<code>-D</code>, <code>--add-exports</code>) must come BEFORE the class name when executing <code>java</code> (anything after the class name is passed as ARGUMENT to <code>main</code> method of your code)"},{"owner":{"account_id":2757427,"reputation":2709,"user_id":2375105,"accept_rate":62,"display_name":"traveh"},"score":0,"creation_date":1680620391,"post_id":75923693,"comment_id":133926951,"body_markdown":"Oh, you are right... between all the things I tried I apparently mixup up the order... now it works indeed... thanks!","body":"Oh, you are right... between all the things I tried I apparently mixup up the order... now it works indeed... thanks!"}],"owner":{"account_id":2757427,"reputation":2709,"user_id":2375105,"accept_rate":62,"display_name":"traveh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680620412,"creation_date":1680555251,"question_id":75923693,"body_markdown":"How can I check during runtime that `java.lang.Integer.IntegerCache.high` was set to a certain value.\r\n\r\nFor example, lets say that I want to check that the program was executed with `-Djava.lang.Integer.IntegerCache.high=10000`.\r\n\r\nI can&#39;t use `System.getProperty` because apparently Java saves this property to &quot;saved properties&quot;. In Java 19 Integer class the code reads the value with:\r\n\r\n    String integerCacheHighPropValue =\r\n        VM.getSavedProperty(&quot;java.lang.Integer.IntegerCache.high&quot;);\r\n\r\nBut if I import `jdk.internal.misc.VM` I get this error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalAccessError: class percolation.Main (in unnamed module @0x1e80bfe8) cannot access class jdk.internal.misc.VM (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @0x1e80bfe8\r\n    \tat percolation.Main.main(Main.java:14)\r\n","title":"How to check if IntegerCache.high was set?","body":"<p>How can I check during runtime that <code>java.lang.Integer.IntegerCache.high</code> was set to a certain value.</p>\n<p>For example, lets say that I want to check that the program was executed with <code>-Djava.lang.Integer.IntegerCache.high=10000</code>.</p>\n<p>I can't use <code>System.getProperty</code> because apparently Java saves this property to &quot;saved properties&quot;. In Java 19 Integer class the code reads the value with:</p>\n<pre><code>String integerCacheHighPropValue =\n    VM.getSavedProperty(&quot;java.lang.Integer.IntegerCache.high&quot;);\n</code></pre>\n<p>But if I import <code>jdk.internal.misc.VM</code> I get this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalAccessError: class percolation.Main (in unnamed module @0x1e80bfe8) cannot access class jdk.internal.misc.VM (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @0x1e80bfe8\n    at percolation.Main.main(Main.java:14)\n</code></pre>\n"},{"tags":["java","netbeans","netbeans-8.2"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1533308688,"post_id":51674788,"comment_id":90313862,"body_markdown":"AFAIK NetBeans 8.2 is not compatible with Java 9 or higher. You may want to install Java 8.","body":"AFAIK NetBeans 8.2 is not compatible with Java 9 or higher. You may want to install Java 8."},{"owner":{"account_id":12552641,"reputation":124,"user_id":9135969,"display_name":"florian de wulf"},"score":0,"creation_date":1533309063,"post_id":51674788,"comment_id":90314116,"body_markdown":"Oh this was the problem my bad, thanks man.","body":"Oh this was the problem my bad, thanks man."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1533310553,"post_id":51674788,"comment_id":90314973,"body_markdown":"You can run Java 9 and higher with [NetBeans 9](https://netbeans.apache.org/download/nb90/nb90.html) which was released last week. NetBeans 9 can be installed and run concurrently with NetBeans 8.2; the two releases do not impact each other at all.","body":"You can run Java 9 and higher with <a href=\"https://netbeans.apache.org/download/nb90/nb90.html\" rel=\"nofollow noreferrer\">NetBeans 9</a> which was released last week. NetBeans 9 can be installed and run concurrently with NetBeans 8.2; the two releases do not impact each other at all."},{"owner":{"account_id":7502159,"reputation":9977,"user_id":7594961,"accept_rate":57,"display_name":"Bertram Gilfoyle"},"score":0,"creation_date":1549450677,"post_id":51674788,"comment_id":95903810,"body_markdown":"Possible duplicate of [JDK was not found on the computer for NetBeans 6.5](https://stackoverflow.com/questions/13079472/jdk-was-not-found-on-the-computer-for-netbeans-6-5)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/13079472/jdk-was-not-found-on-the-computer-for-netbeans-6-5\">JDK was not found on the computer for NetBeans 6.5</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1549705235,"post_id":51674788,"comment_id":96005452,"body_markdown":"@Anees Given the cause and solution is different, I&#39;m not sure that is an appropriate duplicate.","body":"@Anees Given the cause and solution is different, I&#39;m not sure that is an appropriate duplicate."},{"owner":{"account_id":7502159,"reputation":9977,"user_id":7594961,"accept_rate":57,"display_name":"Bertram Gilfoyle"},"score":0,"creation_date":1549710450,"post_id":51674788,"comment_id":96006452,"body_markdown":"@MarkRotteveel Sorry I don&#39;t understand what you are saying. Can you clarify it? Are you referring to the  comment or the answer I have posted?","body":"@MarkRotteveel Sorry I don&#39;t understand what you are saying. Can you clarify it? Are you referring to the  comment or the answer I have posted?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1549713084,"post_id":51674788,"comment_id":96007045,"body_markdown":"@Anees I&#39;m responding to your proposed duplicate. If it had been a response to your answer, I would have posted my comment on your answer.","body":"@Anees I&#39;m responding to your proposed duplicate. If it had been a response to your answer, I would have posted my comment on your answer."},{"owner":{"account_id":7502159,"reputation":9977,"user_id":7594961,"accept_rate":57,"display_name":"Bertram Gilfoyle"},"score":0,"creation_date":1549715066,"post_id":51674788,"comment_id":96007535,"body_markdown":"Of course that is how you should do it. But your comment &quot;Given the cause and solution is different&quot;  is still confusing me. What solution? You mean the accepted answer in the post I have mentioned?","body":"Of course that is how you should do it. But your comment &quot;Given the cause and solution is different&quot;  is still confusing me. What solution? You mean the accepted answer in the post I have mentioned?"}],"answers":[{"tags":[],"owner":{"account_id":13912420,"reputation":185,"user_id":10045218,"display_name":"sethsource"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1533313221,"creation_date":1533313221,"answer_id":51676636,"question_id":51674788,"body_markdown":"Java 8 is still the standard for now. Uninstall java 10 and install this and reset your env vars.\r\n\r\nhttp://www.oracle.com/technetwork/pt/java/javase/downloads/jdk8-downloads-2133151.html\r\n\r\n","title":"JDK was not found on the computer for netbeans 8.2","body":"<p>Java 8 is still the standard for now. Uninstall java 10 and install this and reset your env vars.</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/pt/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/pt/java/javase/downloads/jdk8-downloads-2133151.html</a></p>\n"},{"tags":[],"owner":{"account_id":11284008,"reputation":54,"user_id":8793845,"display_name":"Tharaka Ratnayake"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533544662,"creation_date":1533544662,"answer_id":51703610,"question_id":51674788,"body_markdown":"Your computer is 64bit. so your jdk should be in Program Files not Program Files(x86)\r\n\r\n    C:\\Users\\admin\\Downloads&gt;netbeans-8.2-windows.exe -javahome &quot;C:\\Program Files\\Java\\jdk-10.0.2&quot;","title":"JDK was not found on the computer for netbeans 8.2","body":"<p>Your computer is 64bit. so your jdk should be in Program Files not Program Files(x86)</p>\n\n<pre><code>C:\\Users\\admin\\Downloads&gt;netbeans-8.2-windows.exe -javahome \"C:\\Program Files\\Java\\jdk-10.0.2\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7502159,"reputation":9977,"user_id":7594961,"accept_rate":57,"display_name":"Bertram Gilfoyle"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549483721,"creation_date":1549449123,"answer_id":54551453,"question_id":51674788,"body_markdown":"JDK 8 was the latest version at time of NetBeans 8.2 is developed. For that reason, **JDK 8 is required for installing and running all NetBeans Bundles of version 8.0 - 8.02**. They do not run on JDK 9 or later.\r\n\r\n[Download JDK 8][1]\r\n&lt;br&gt;[Download latest version of NetBeans][2]\r\n\r\n\r\n  [1]: https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\r\n  [2]: https://netbeans.apache.org/download/index.html","title":"JDK was not found on the computer for netbeans 8.2","body":"<p>JDK 8 was the latest version at time of NetBeans 8.2 is developed. For that reason, <strong>JDK 8 is required for installing and running all NetBeans Bundles of version 8.0 - 8.02</strong>. They do not run on JDK 9 or later.</p>\n\n<p><a href=\"https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow noreferrer\">Download JDK 8</a>\n<br><a href=\"https://netbeans.apache.org/download/index.html\" rel=\"nofollow noreferrer\">Download latest version of NetBeans</a></p>\n"}],"owner":{"account_id":12552641,"reputation":124,"user_id":9135969,"display_name":"florian de wulf"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16850,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":51676636,"answer_count":3,"score":1,"last_activity_date":1680620385,"creation_date":1533306410,"question_id":51674788,"body_markdown":"I got the following message when opening NetBeans that JDK has not been found on this computer. I have got the JDK installed, and set the bin directory in the environment.  Btw, I am using Windows 10 Pro 64 bit.\r\n\r\nI have tried this in the command prompt.\r\n\r\n    C:\\Users\\admin\\Downloads&gt;netbeans-8.2-windows.exe --javahome &quot;C:\\Program Files (x86)\\Java\\jdk-10.0.2&quot;\r\n\r\nBut then I get this message.\r\n\r\n    It&#39;s only the launcher stub.\r\n    OS: x64\r\n\r\nDoes someone know what I can do about this?\r\nThanks.","title":"JDK was not found on the computer for netbeans 8.2","body":"<p>I got the following message when opening NetBeans that JDK has not been found on this computer. I have got the JDK installed, and set the bin directory in the environment.  Btw, I am using Windows 10 Pro 64 bit.</p>\n<p>I have tried this in the command prompt.</p>\n<pre><code>C:\\Users\\admin\\Downloads&gt;netbeans-8.2-windows.exe --javahome &quot;C:\\Program Files (x86)\\Java\\jdk-10.0.2&quot;\n</code></pre>\n<p>But then I get this message.</p>\n<pre><code>It's only the launcher stub.\nOS: x64\n</code></pre>\n<p>Does someone know what I can do about this?\nThanks.</p>\n"},{"tags":["java","xml","android-studio"],"answers":[{"tags":[],"owner":{"account_id":17625096,"reputation":126,"user_id":12790285,"display_name":"ahmednawazCS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611213216,"creation_date":1611213216,"answer_id":65822631,"question_id":65541815,"body_markdown":"Update Material design library to the latest version in build.Gradle(Module:App) file\r\ni.e \r\n\r\n```implementation &#39;com.google.android.material:material:1.3.0-rc01&#39;```","title":"AAPT: error: attribute startIconDrawable not found","body":"<p>Update Material design library to the latest version in build.Gradle(Module:App) file\ni.e</p>\n<p><code>implementation 'com.google.android.material:material:1.3.0-rc01'</code></p>\n"},{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611214868,"creation_date":1611214533,"answer_id":65822921,"question_id":65541815,"body_markdown":"Better use the latest **stable** version - than a release candidate:\r\n\r\n    implementation &quot;com.google.android.material:material:1.2.1&quot;\r\n\r\nAnything later than `1.1.0-alpha05` should work, as it had been added [there](https://github.com/material-components/material-components-android/commit/2642ff2697899791682b1556bb0ea774bd06592f#diff-f9daefe114434ebc5a06997bc6386a9df2496cd2c05e057905fa40e4eea9717aR56).","title":"AAPT: error: attribute startIconDrawable not found","body":"<p>Better use the latest <strong>stable</strong> version - than a release candidate:</p>\n<pre><code>implementation &quot;com.google.android.material:material:1.2.1&quot;\n</code></pre>\n<p>Anything later than <code>1.1.0-alpha05</code> should work, as it had been added <a href=\"https://github.com/material-components/material-components-android/commit/2642ff2697899791682b1556bb0ea774bd06592f#diff-f9daefe114434ebc5a06997bc6386a9df2496cd2c05e057905fa40e4eea9717aR56\" rel=\"nofollow noreferrer\">there</a>.</p>\n"},{"tags":[],"owner":{"account_id":24190667,"reputation":1,"user_id":18149910,"display_name":"Abdullah Kahtan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680620226,"creation_date":1680620226,"answer_id":75930899,"question_id":65541815,"body_markdown":"remove the attribute `app:startIconDrawable=&quot;@drawable/ic_email&quot;`\r\n\r\nthen your code will be like:\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/textinputlayoutCorreo&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\r\n            android:layout_width=&quot;299dp&quot;\r\n            android:layout_height=&quot;80dp&quot;\r\n            android:hint=&quot;Correo&quot;\r\n            android:textColor=&quot;@color/colorNegro&quot;\r\n            app:counterEnabled=&quot;true&quot;\r\n            app:counterMaxLength=&quot;30&quot;\r\n            app:helperText=&quot;Requerido&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/textinputlayoutContrasena&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;&gt;\r\n    \r\n            &lt;com.google.android.material.textfield.TextInputEditText\r\n                android:id=&quot;@+id/editTextcorreo&quot;\r\n                android:layout_width=&quot;300dp&quot;\r\n                android:layout_height=&quot;54dp&quot;\r\n                android:inputType=&quot;textEmailAddress&quot;\r\n                android:textColor=&quot;@color/colorNegro&quot;\r\n                android:maxLength=&quot;30&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\nthen the error will gone","title":"AAPT: error: attribute startIconDrawable not found","body":"<p>remove the attribute <code>app:startIconDrawable=&quot;@drawable/ic_email&quot;</code></p>\n<p>then your code will be like:</p>\n<pre><code>&lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/textinputlayoutCorreo&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\n        android:layout_width=&quot;299dp&quot;\n        android:layout_height=&quot;80dp&quot;\n        android:hint=&quot;Correo&quot;\n        android:textColor=&quot;@color/colorNegro&quot;\n        app:counterEnabled=&quot;true&quot;\n        app:counterMaxLength=&quot;30&quot;\n        app:helperText=&quot;Requerido&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/textinputlayoutContrasena&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        android:layout_marginBottom=&quot;10dp&quot;&gt;\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:id=&quot;@+id/editTextcorreo&quot;\n            android:layout_width=&quot;300dp&quot;\n            android:layout_height=&quot;54dp&quot;\n            android:inputType=&quot;textEmailAddress&quot;\n            android:textColor=&quot;@color/colorNegro&quot;\n            android:maxLength=&quot;30&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n<p>then the error will gone</p>\n"}],"owner":{"account_id":16608415,"reputation":15,"user_id":12004631,"display_name":"JUAN MIGUEL DIAZ HERNANDEZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1680620226,"creation_date":1609607332,"question_id":65541815,"body_markdown":"I have an error:\r\nC: \\ Users \\ juan_ \\ AndroidStudioProjects \\ DermaApp \\ app \\ src \\ main \\ res \\ layout \\ activity_login.xml: 33: AAPT: error: attribute startIconDrawable (aka com.example.example: startIconDrawable) not found.\r\n\r\n\r\nThe error is in this line of the XML :        app:startIconDrawable=&quot;@drawable/ic_email&quot;\r\n\r\n\r\n\r\n\r\n\r\n     &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/textinputlayoutCorreo&quot;\r\n            app:startIconDrawable=&quot;@drawable/ic_email&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\r\n            android:layout_width=&quot;299dp&quot;\r\n            android:layout_height=&quot;80dp&quot;\r\n            android:hint=&quot;Correo&quot;\r\n            android:textColor=&quot;@color/colorNegro&quot;\r\n            app:counterEnabled=&quot;true&quot;\r\n            app:counterMaxLength=&quot;30&quot;\r\n            app:helperText=&quot;Requerido&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/textinputlayoutContrasena&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;&gt;\r\n    \r\n            &lt;com.google.android.material.textfield.TextInputEditText\r\n                android:id=&quot;@+id/editTextcorreo&quot;\r\n                android:layout_width=&quot;300dp&quot;\r\n                android:layout_height=&quot;54dp&quot;\r\n                android:inputType=&quot;textEmailAddress&quot;\r\n                android:textColor=&quot;@color/colorNegro&quot;\r\n                android:maxLength=&quot;30&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;","title":"AAPT: error: attribute startIconDrawable not found","body":"<p>I have an error:\nC: \\ Users \\ juan_ \\ AndroidStudioProjects \\ DermaApp \\ app \\ src \\ main \\ res \\ layout \\ activity_login.xml: 33: AAPT: error: attribute startIconDrawable (aka com.example.example: startIconDrawable) not found.</p>\n<p>The error is in this line of the XML :        app:startIconDrawable=&quot;@drawable/ic_email&quot;</p>\n<pre><code> &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/textinputlayoutCorreo&quot;\n        app:startIconDrawable=&quot;@drawable/ic_email&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\n        android:layout_width=&quot;299dp&quot;\n        android:layout_height=&quot;80dp&quot;\n        android:hint=&quot;Correo&quot;\n        android:textColor=&quot;@color/colorNegro&quot;\n        app:counterEnabled=&quot;true&quot;\n        app:counterMaxLength=&quot;30&quot;\n        app:helperText=&quot;Requerido&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/textinputlayoutContrasena&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        android:layout_marginBottom=&quot;10dp&quot;&gt;\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:id=&quot;@+id/editTextcorreo&quot;\n            android:layout_width=&quot;300dp&quot;\n            android:layout_height=&quot;54dp&quot;\n            android:inputType=&quot;textEmailAddress&quot;\n            android:textColor=&quot;@color/colorNegro&quot;\n            android:maxLength=&quot;30&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":3,"creation_date":1680539243,"post_id":75921684,"comment_id":133911944,"body_markdown":"Well, try out the newer java.time package instead.","body":"Well, try out the newer java.time package instead."},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":4,"creation_date":1680539358,"post_id":75921684,"comment_id":133911965,"body_markdown":"To expand a bit on @JustanotherJavaprogrammer&#39;s comment: `java.util.Calandar` is a poor API, and has been recognized as such for a long time. The `java.time` package is basically &quot;calendar version 2&quot;, and fixes a bunch of issues. So the short answer to your &quot;why&quot; question is: &quot;probably for no good reason, and whoever wrote that code probably regrets it now&quot;. (Time and calendar stuff is generally a lot harder than people first assume, so it&#39;s not surprising that &quot;version 1&quot; didn&#39;t get everything right.)","body":"To expand a bit on @JustanotherJavaprogrammer&#39;s comment: <code>java.util.Calandar</code> is a poor API, and has been recognized as such for a long time. The <code>java.time</code> package is basically &quot;calendar version 2&quot;, and fixes a bunch of issues. So the short answer to your &quot;why&quot; question is: &quot;probably for no good reason, and whoever wrote that code probably regrets it now&quot;. (Time and calendar stuff is generally a lot harder than people first assume, so it&#39;s not surprising that &quot;version 1&quot; didn&#39;t get everything right.)"},{"owner":{"account_id":8734849,"reputation":31,"user_id":6533825,"display_name":"Ronald Bieber"},"score":1,"creation_date":1680540287,"post_id":75921684,"comment_id":133912182,"body_markdown":"I guess I will go with the comments from &quot;Just another Java programmer&quot; and @yshavit . Still frustrating, but not worth the effort to ponder on legacy API.","body":"I guess I will go with the comments from &quot;Just another Java programmer&quot; and @yshavit . Still frustrating, but not worth the effort to ponder on legacy API."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1680542381,"post_id":75921684,"comment_id":133912686,"body_markdown":"[documentation](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Calendar.html#get(int)) of `get()`: &quot;*Returns the value of the given calendar field. ... The normalization and validation are handled by the complete() method, ...*&quot;, `complete()`: &quot;*... Then, the computeFields() method is called to calculate all calendar field values.*&quot; and `isSet()`: &quot;*Determines if the given calendar field has a value set, including cases that the value has been set by internal fields calculations triggered by a get method call.*&quot; (as mentioned above, &quot;a poor API&quot;)","body":"<a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Calendar.html#get(int)\" rel=\"nofollow noreferrer\">documentation</a> of <code>get()</code>: &quot;<i>Returns the value of the given calendar field. ... The normalization and validation are handled by the complete() method, ...</i>&quot;, <code>complete()</code>: &quot;<i>... Then, the computeFields() method is called to calculate all calendar field values.</i>&quot; and <code>isSet()</code>: &quot;<i>Determines if the given calendar field has a value set, including cases that the value has been set by internal fields calculations triggered by a get method call.</i>&quot; (as mentioned above, &quot;a poor API&quot;)"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1680581147,"post_id":75921684,"comment_id":133918242,"body_markdown":"@user16320675 Please make an Answer of your Comment so that we can mark this Question as resolved.","body":"@user16320675 Please make an Answer of your Comment so that we can mark this Question as resolved."}],"answers":[{"comments":[{"owner":{"account_id":8734849,"reputation":31,"user_id":6533825,"display_name":"Ronald Bieber"},"score":2,"creation_date":1680646207,"post_id":75930865,"comment_id":133933091,"body_markdown":"Thank you for the thorough explanation. I switched my code to `java.time` and it was totally worth it! The new code is more compact and more intuitive. Usually I hate it when for a question &quot;how can I make A work&quot; the answer is &quot;you shouldn&#39;t do A, B is much cooler (I think)&quot;, but in this case it is very appropriate.","body":"Thank you for the thorough explanation. I switched my code to <code>java.time</code> and it was totally worth it! The new code is more compact and more intuitive. Usually I hate it when for a question &quot;how can I make A work&quot; the answer is &quot;you shouldn&#39;t do A, B is much cooler (I think)&quot;, but in this case it is very appropriate."}],"tags":[],"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1680620048,"creation_date":1680620048,"answer_id":75930865,"question_id":75921684,"body_markdown":"I do not know &quot;why should it be acceptable for a get-method to change any object&#39;s properties&quot;, but it is working as documented:\r\n\r\n[Documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Calendar.html#get(int)) of `get(int)`:\r\n&gt; Returns the value of the given calendar field. ... The normalization and validation are handled by the [complete()](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Calendar.html#complete()) method, which process is calendar system dependent.\r\n\r\nAnd of `complete()`:\r\n&gt; Fills in any unset fields in the calendar fields. ... Then, the [computeFields()](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Calendar.html#computeFields()) method is called to calculate all calendar field values.\r\n\r\nAlso relevant, [documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Calendar.html#isSet(int)) of `isSet(int)` (emphasis mine):\r\n&gt; Determines if the given calendar field has a value set, **including cases that the value has been set by internal fields calculations triggered by a get method call.**\r\n\r\n---\r\n\r\nPlease note that the `java.util.Date`, `java.util.Calendar`, `java.text.DateFormat` and similar (sub-classes) were outdated by the `java.time` package (and sub-packages) in Java 8 (2014!) - it is recommended to use the new classes!","title":"Why does Calendar.get() set a previously unset value?","body":"<p>I do not know &quot;why should it be acceptable for a get-method to change any object's properties&quot;, but it is working as documented:</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Calendar.html#get(int)\" rel=\"nofollow noreferrer\">Documentation</a> of <code>get(int)</code>:</p>\n<blockquote>\n<p>Returns the value of the given calendar field. ... The normalization and validation are handled by the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Calendar.html#complete()\" rel=\"nofollow noreferrer\">complete()</a> method, which process is calendar system dependent.</p>\n</blockquote>\n<p>And of <code>complete()</code>:</p>\n<blockquote>\n<p>Fills in any unset fields in the calendar fields. ... Then, the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Calendar.html#computeFields()\" rel=\"nofollow noreferrer\">computeFields()</a> method is called to calculate all calendar field values.</p>\n</blockquote>\n<p>Also relevant, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Calendar.html#isSet(int)\" rel=\"nofollow noreferrer\">documentation</a> of <code>isSet(int)</code> (emphasis mine):</p>\n<blockquote>\n<p>Determines if the given calendar field has a value set, <strong>including cases that the value has been set by internal fields calculations triggered by a get method call.</strong></p>\n</blockquote>\n<hr />\n<p>Please note that the <code>java.util.Date</code>, <code>java.util.Calendar</code>, <code>java.text.DateFormat</code> and similar (sub-classes) were outdated by the <code>java.time</code> package (and sub-packages) in Java 8 (2014!) - it is recommended to use the new classes!</p>\n"}],"owner":{"account_id":8734849,"reputation":31,"user_id":6533825,"display_name":"Ronald Bieber"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75930865,"answer_count":1,"score":1,"last_activity_date":1680620048,"creation_date":1680539110,"question_id":75921684,"body_markdown":"It appears that Java&#39;s Calendar.get()-Method has the habit of changing a Calendar&#39;s property when being used on unset values.\r\nExample:\r\n```\r\nimport java.util.Calendar;\r\nimport java.util.GregorianCalendar;\r\n\r\npublic class Spielwiese {\r\n\t\r\n    public static void main(String[] argv) {\r\n\t\tCalendar cal = new GregorianCalendar();\r\n\t\tcal.clear();\r\n\t\tSystem.out.println(\r\n\t\t\t\t&quot;initially: isSet == &quot; + cal.isSet(Calendar.DAY_OF_MONTH) + &quot;\\n&quot; +\r\n\t\t\t\t&quot;asking for value anyway: &quot; + cal.get(Calendar.DAY_OF_MONTH) + &quot;\\n&quot; +\r\n\t\t\t\t&quot;now changed: isSet == &quot; + cal.isSet(Calendar.DAY_OF_MONTH)); \r\n\t}\r\n}\r\n```\r\nOutput:\r\n```\r\ninitially: isSet == false\r\nasking for value anyway: 1\r\nnow changed: isSet == true\r\n```\r\nWhy should it be acceptable for a get-method to change any object&#39;s properties?","title":"Why does Calendar.get() set a previously unset value?","body":"<p>It appears that Java's Calendar.get()-Method has the habit of changing a Calendar's property when being used on unset values.\nExample:</p>\n<pre><code>import java.util.Calendar;\nimport java.util.GregorianCalendar;\n\npublic class Spielwiese {\n    \n    public static void main(String[] argv) {\n        Calendar cal = new GregorianCalendar();\n        cal.clear();\n        System.out.println(\n                &quot;initially: isSet == &quot; + cal.isSet(Calendar.DAY_OF_MONTH) + &quot;\\n&quot; +\n                &quot;asking for value anyway: &quot; + cal.get(Calendar.DAY_OF_MONTH) + &quot;\\n&quot; +\n                &quot;now changed: isSet == &quot; + cal.isSet(Calendar.DAY_OF_MONTH)); \n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>initially: isSet == false\nasking for value anyway: 1\nnow changed: isSet == true\n</code></pre>\n<p>Why should it be acceptable for a get-method to change any object's properties?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"score":3,"creation_date":1530021962,"post_id":51044873,"comment_id":89080883,"body_markdown":"Did you try checking [the source](http://developer.classpath.org/doc/java/lang/Thread-source.html)?","body":"Did you try checking <a href=\"http://developer.classpath.org/doc/java/lang/Thread-source.html\" rel=\"nofollow noreferrer\">the source</a>?"}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1530024828,"creation_date":1530024828,"answer_id":51045853,"question_id":51044873,"body_markdown":"The `Thread` constructor uses the given `Runnable` object as the thread&#39;s _delegate_.\r\n\r\nAll of the magic happens in the `start()` method.  That&#39;s the method that creates a new operating system thread, and arranges for `this.run()` to be called within it.\r\n\r\nIf `this` is a subclass of `Thread`, then `this.run()` calls the subclass&#39;s `run()` method.\r\n\r\nIf `this` is a `Thread` instance with a delegate, then `this.run()` calls the delegate&#39;s `run()` method.\r\n\r\nIf `this` is a `Thread` instance with no delegate, then `this.run()` returns without doing anything, and the new thread immediately terminates.","title":"Implementation of Thread Constructor","body":"<p>The <code>Thread</code> constructor uses the given <code>Runnable</code> object as the thread's <em>delegate</em>.</p>\n\n<p>All of the magic happens in the <code>start()</code> method.  That's the method that creates a new operating system thread, and arranges for <code>this.run()</code> to be called within it.</p>\n\n<p>If <code>this</code> is a subclass of <code>Thread</code>, then <code>this.run()</code> calls the subclass's <code>run()</code> method.</p>\n\n<p>If <code>this</code> is a <code>Thread</code> instance with a delegate, then <code>this.run()</code> calls the delegate's <code>run()</code> method.</p>\n\n<p>If <code>this</code> is a <code>Thread</code> instance with no delegate, then <code>this.run()</code> returns without doing anything, and the new thread immediately terminates.</p>\n"}],"owner":{"account_id":13845729,"reputation":1,"user_id":9994917,"display_name":"n.v.r Srikar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1680618730,"creation_date":1530021898,"question_id":51044873,"body_markdown":"    Thread a = new Thread(new Runnable(){\r\n        @Override         \r\n        Public void run(){\r\n         \r\n        }\r\n    });\r\n\r\nWhen `start()` is invoked on a run method on the anonymous runnable object will be invoked. What might be the implementation in the Thread constructor to make it happen?\r\n\r\nWill it cast the anonymous runnable object to a Thread object in some way and point it to a?\r\n\r\n\r\n","title":"Implementation of Thread Constructor","body":"<pre><code>Thread a = new Thread(new Runnable(){\n    @Override         \n    Public void run(){\n\n    }\n});\n</code></pre>\n\n<p>When <code>start()</code> is invoked on a run method on the anonymous runnable object will be invoked. What might be the implementation in the Thread constructor to make it happen?</p>\n\n<p>Will it cast the anonymous runnable object to a Thread object in some way and point it to a?</p>\n"},{"tags":["java","anylogic"],"answers":[{"comments":[{"owner":{"account_id":16986941,"reputation":43,"user_id":12287482,"display_name":"jiz148"},"score":0,"creation_date":1680622220,"post_id":75930625,"comment_id":133927564,"body_markdown":"Thank you Benjamin,\nThe problem I&#39;m see here is that, for example, the agent being picked up has one property called qty. And at the next block I tried `traceln(agent.contents.get(0).qty)`, I then through me `qty cannot be resolved` error. I printed the typle of `agent.contents.get(0)`, it gives me `combined.A` (assuming the picked up agent type is A)","body":"Thank you Benjamin, The problem I&#39;m see here is that, for example, the agent being picked up has one property called qty. And at the next block I tried <code>traceln(agent.contents.get(0).qty)</code>, I then through me <code>qty cannot be resolved</code> error. I printed the typle of <code>agent.contents.get(0)</code>, it gives me <code>combined.A</code> (assuming the picked up agent type is A)"},{"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1680704018,"post_id":75930625,"comment_id":133943440,"body_markdown":"Please always open new issues for new questions, SOF does not work like a forum. Also, upvote answers when they actually solve the original question. Happy to help with this new issue, just create a new post. Why? See https://benjamin-schumann.squarespace.com/blog/2021/4/1/how-to-win-at-anylogic-on-stackoverflow","body":"Please always open new issues for new questions, SOF does not work like a forum. Also, upvote answers when they actually solve the original question. Happy to help with this new issue, just create a new post. Why? See <a href=\"https://benjamin-schumann.squarespace.com/blog/2021/4/1/how-to-win-at-anylogic-on-stackoverflow\" rel=\"nofollow noreferrer\">benjamin-schumann.squarespace.com/blog/2021/4/1/&hellip;</a>"}],"tags":[],"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680618672,"creation_date":1680618672,"answer_id":75930625,"question_id":75930525,"body_markdown":"Within the pickup object itself, you can use `container.contents()` to get a list of the agents picked up already. `container` refers to the agent picking up.\r\n\r\nAfterwards, the agent that picked up agents can access them using `.contents()`.\r\n\r\nSome examples are in the [help][1]:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://anylogic.help/library-reference-guides/process-modeling-library/pickup.html#pickup\r\n  [2]: https://i.stack.imgur.com/yDC3M.png","title":"Anylogic select agents after Pickup","body":"<p>Within the pickup object itself, you can use <code>container.contents()</code> to get a list of the agents picked up already. <code>container</code> refers to the agent picking up.</p>\n<p>Afterwards, the agent that picked up agents can access them using <code>.contents()</code>.</p>\n<p>Some examples are in the <a href=\"https://anylogic.help/library-reference-guides/process-modeling-library/pickup.html#pickup\" rel=\"nofollow noreferrer\">help</a>:\n<a href=\"https://i.stack.imgur.com/yDC3M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yDC3M.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":16986941,"reputation":43,"user_id":12287482,"display_name":"jiz148"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680618672,"creation_date":1680618089,"question_id":75930525,"body_markdown":"After agent A picked up agents [a, b, c, ...],\r\nhow can I select the picked up agent, for example, c, without using Dropoff?\r\n\r\n\r\nI&#39;m new to Anylogic, so pardon me if the question does not make sense. ","title":"Anylogic select agents after Pickup","body":"<p>After agent A picked up agents [a, b, c, ...],\nhow can I select the picked up agent, for example, c, without using Dropoff?</p>\n<p>I'm new to Anylogic, so pardon me if the question does not make sense.</p>\n"},{"tags":["java","file","nfs","delete-file"],"comments":[{"owner":{"account_id":20130,"reputation":279855,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"score":1,"creation_date":1274310250,"post_id":2870034,"comment_id":2915637,"body_markdown":"You should show some of your code, such as how you&#39;re using FileUtils.  Are you using the file you&#39;re deleting elsewhere?  Also, have you looked at deleteOnExit?","body":"You should show some of your code, such as how you&#39;re using FileUtils.  Are you using the file you&#39;re deleting elsewhere?  Also, have you looked at deleteOnExit?"},{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":0,"creation_date":1274323092,"post_id":2870034,"comment_id":2916328,"body_markdown":"If you want people to anwser your questions in the future, please accept the answers for the questions you have asked.","body":"If you want people to anwser your questions in the future, please accept the answers for the questions you have asked."}],"answers":[{"tags":[],"owner":{"account_id":98074,"reputation":5494,"user_id":265683,"accept_rate":67,"display_name":"RenegadeAndy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1274311044,"creation_date":1274311044,"answer_id":2870091,"question_id":2870034,"body_markdown":"I fixed it.\r\n\r\nI hadnt close a previous buffered reader - meaning the delete couldnt get a lock on the file!","title":"Java file delete on NFS drive","body":"<p>I fixed it.</p>\n\n<p>I hadnt close a previous buffered reader - meaning the delete couldnt get a lock on the file!</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681063070,"post_id":75930592,"comment_id":133995065,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75930592/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26682180,"reputation":1,"user_id":20291988,"display_name":"Kyle Seaman"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680618454,"creation_date":1680618454,"answer_id":75930592,"question_id":2870034,"body_markdown":"I had a similar issue.\r\n\r\nI had a bunch of .nfs files that were busy and couldn&#39;t delete. It was because I had a RandomFileAccess that I never closed. Once I closed it, the resource was no longer busy.","title":"Java file delete on NFS drive","body":"<p>I had a similar issue.</p>\n<p>I had a bunch of .nfs files that were busy and couldn't delete. It was because I had a RandomFileAccess that I never closed. Once I closed it, the resource was no longer busy.</p>\n"}],"owner":{"account_id":98074,"reputation":5494,"user_id":265683,"accept_rate":67,"display_name":"RenegadeAndy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3867,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":2870091,"answer_count":2,"score":0,"last_activity_date":1680618454,"creation_date":1274309968,"question_id":2870034,"body_markdown":"I am trying to delete a file on a NFS drive.\r\n\r\nI have had other problems manipulating files on remote drives such as moving a file - however i got around it by not using the conventional method i.e renameFile but instead properly using input and output streams.\r\n\r\nHowever using the File.delete() returns false , and I have heard suggestions on using the apache commons io FileUtils class - however it just throws an IO exception.\r\n\r\nDoes anybody have any suggestions on a way to delete a file on a network mounted drive using java?\r\n\r\n","title":"Java file delete on NFS drive","body":"<p>I am trying to delete a file on a NFS drive.</p>\n\n<p>I have had other problems manipulating files on remote drives such as moving a file - however i got around it by not using the conventional method i.e renameFile but instead properly using input and output streams.</p>\n\n<p>However using the File.delete() returns false , and I have heard suggestions on using the apache commons io FileUtils class - however it just throws an IO exception.</p>\n\n<p>Does anybody have any suggestions on a way to delete a file on a network mounted drive using java?</p>\n"},{"tags":["java","spring-boot","jwt","token"],"answers":[{"tags":[],"owner":{"account_id":36098,"reputation":813,"user_id":102778,"accept_rate":11,"display_name":"Galkin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680618427,"creation_date":1680618427,"answer_id":75930588,"question_id":75608603,"body_markdown":"I think this can give you an idea how to solve you problem.\r\n\r\nFirstly, you need to generated a JWT token with the roles claim.\r\n\r\n    public String generateToken(Map&lt;String, Object&gt; extraClaims, UserDetails userDetails) {\r\n      List&lt;String&gt; roles = new ArrayList&lt;&gt;();\r\n      Map&lt;String, Object&gt; rolesClaim = new HashMap&lt;&gt;();\r\n      userDetails.getAuthorities().forEach(a -&gt; roles.add(a.getAuthority()));\r\n      rolesClaim.put(&quot;roles&quot;, roles);\r\n    \r\n      return Jwts\r\n              .builder()\r\n              .setClaims(extraClaims)\r\n              .setIssuer(issuer)\r\n              .setAudience(audience)\r\n              .setSubject(userDetails.getUsername())\r\n              .setIssuedAt(new Date(System.currentTimeMillis()))\r\n              .setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 10)) // 10 minutes\r\n              .signWith(getSignInKey(), SignatureAlgorithm.HS256)\r\n              .addClaims(rolesClaim)\r\n              .compact();\r\n    }\r\n\r\nSecondly, you can extract the roles claim.\r\n\r\n    Claims extractAllClaims = Jwts\r\n              .parserBuilder()\r\n              .setSigningKey(getSignInKey())\r\n              .build()\r\n              .parseClaimsJws(token)\r\n              .getBody();\r\n\r\n    List&lt;String&gt; claimRoles = extractAllClaims.get(&quot;roles&quot;, List.class);\r\n    \r\n","title":"Issue with extracting &quot;role&quot; claim from JWT token in Spring API","body":"<p>I think this can give you an idea how to solve you problem.</p>\n<p>Firstly, you need to generated a JWT token with the roles claim.</p>\n<pre><code>public String generateToken(Map&lt;String, Object&gt; extraClaims, UserDetails userDetails) {\n  List&lt;String&gt; roles = new ArrayList&lt;&gt;();\n  Map&lt;String, Object&gt; rolesClaim = new HashMap&lt;&gt;();\n  userDetails.getAuthorities().forEach(a -&gt; roles.add(a.getAuthority()));\n  rolesClaim.put(&quot;roles&quot;, roles);\n\n  return Jwts\n          .builder()\n          .setClaims(extraClaims)\n          .setIssuer(issuer)\n          .setAudience(audience)\n          .setSubject(userDetails.getUsername())\n          .setIssuedAt(new Date(System.currentTimeMillis()))\n          .setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 10)) // 10 minutes\n          .signWith(getSignInKey(), SignatureAlgorithm.HS256)\n          .addClaims(rolesClaim)\n          .compact();\n}\n</code></pre>\n<p>Secondly, you can extract the roles claim.</p>\n<pre><code>Claims extractAllClaims = Jwts\n          .parserBuilder()\n          .setSigningKey(getSignInKey())\n          .build()\n          .parseClaimsJws(token)\n          .getBody();\n\nList&lt;String&gt; claimRoles = extractAllClaims.get(&quot;roles&quot;, List.class);\n</code></pre>\n"}],"owner":{"account_id":27250885,"reputation":1,"user_id":20775364,"display_name":"Amine Frira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1077,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680618427,"creation_date":1677702071,"question_id":75608603,"body_markdown":"I am working on a Spring API that uses JWT authentication. I am trying to extract the &quot;role&quot; claim from the JWT token to determine whether the user is an admin or not. However, even though the JWT token contains the &quot;role&quot; claim, I am still seeing Role extracted from JWT: null in my logs.\r\n\r\nHere&#39;s what I&#39;ve tried so far:\r\n\r\n- Checked that the JWT token being sent in the API request contains the &quot;role&quot; claim. I used an online tool to decode the token and verified that the claim is present, it in fact contains the role &quot;admin&quot; which is what im looking for.\r\n- Added print statements to the code that generates the JWT token to check that the &quot;role&quot; claim is being added to the token correctly. The print statements confirm that the &quot;role&quot; claim is being added with the correct value.\r\n- Added print statements to the JWT parsing code to check that the &quot;role&quot; claim is being extracted correctly. However, the logs still show Role extracted from JWT: null.\r\n- Checked that the JWT token being sent in the API request matches the one being generated by the code. I printed the entire JWT token being sent in the API request and compared it to the one being generated by the code, and they appear to be the same.\r\nHere&#39;s the relevant code:\r\n\r\n```\r\n// Code that generates JWT token\r\n    private String createToken(Map&lt;String, Object&gt; claims , String subject){\r\n        return Jwts.builder()\r\n                .setClaims(claims)\r\n                .setSubject(subject)\r\n                .setIssuedAt(new Date(System.currentTimeMillis()))\r\n                .setExpiration(new Date(System.currentTimeMillis()+1000*60*60*2))\r\n                .signWith(SignatureAlgorithm.HS256,secret).compact();\r\n    }\r\n```\r\n\r\n```\r\n    public boolean isAdmin(){\r\n        System.out.println(&quot;Role extracted from JWT: &quot; + claims.get(&quot;role&quot;));\r\n        return &quot;admin&quot;.equalsIgnoreCase((String) claims.get(&quot;role&quot;));\r\n    }\r\n```\r\n\r\nDoes anyone have any suggestions on what else I could try to resolve this issue?\r\nAny help would be greatly appreciated!","title":"Issue with extracting &quot;role&quot; claim from JWT token in Spring API","body":"<p>I am working on a Spring API that uses JWT authentication. I am trying to extract the &quot;role&quot; claim from the JWT token to determine whether the user is an admin or not. However, even though the JWT token contains the &quot;role&quot; claim, I am still seeing Role extracted from JWT: null in my logs.</p>\n<p>Here's what I've tried so far:</p>\n<ul>\n<li>Checked that the JWT token being sent in the API request contains the &quot;role&quot; claim. I used an online tool to decode the token and verified that the claim is present, it in fact contains the role &quot;admin&quot; which is what im looking for.</li>\n<li>Added print statements to the code that generates the JWT token to check that the &quot;role&quot; claim is being added to the token correctly. The print statements confirm that the &quot;role&quot; claim is being added with the correct value.</li>\n<li>Added print statements to the JWT parsing code to check that the &quot;role&quot; claim is being extracted correctly. However, the logs still show Role extracted from JWT: null.</li>\n<li>Checked that the JWT token being sent in the API request matches the one being generated by the code. I printed the entire JWT token being sent in the API request and compared it to the one being generated by the code, and they appear to be the same.\nHere's the relevant code:</li>\n</ul>\n<pre><code>// Code that generates JWT token\n    private String createToken(Map&lt;String, Object&gt; claims , String subject){\n        return Jwts.builder()\n                .setClaims(claims)\n                .setSubject(subject)\n                .setIssuedAt(new Date(System.currentTimeMillis()))\n                .setExpiration(new Date(System.currentTimeMillis()+1000*60*60*2))\n                .signWith(SignatureAlgorithm.HS256,secret).compact();\n    }\n</code></pre>\n<pre><code>    public boolean isAdmin(){\n        System.out.println(&quot;Role extracted from JWT: &quot; + claims.get(&quot;role&quot;));\n        return &quot;admin&quot;.equalsIgnoreCase((String) claims.get(&quot;role&quot;));\n    }\n</code></pre>\n<p>Does anyone have any suggestions on what else I could try to resolve this issue?\nAny help would be greatly appreciated!</p>\n"},{"tags":["java","intellij-idea","code-coverage"],"comments":[{"owner":{"account_id":169767,"reputation":2742,"user_id":396033,"accept_rate":89,"display_name":"Kamil"},"score":0,"creation_date":1513592920,"post_id":47866274,"comment_id":82697822,"body_markdown":"Could you please share some example names of test classes? It&#39;s hard to guess what kind of regular expression should be used, if an output is unknown.","body":"Could you please share some example names of test classes? It&#39;s hard to guess what kind of regular expression should be used, if an output is unknown."},{"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"score":0,"creation_date":1513609346,"post_id":47866274,"comment_id":82707465,"body_markdown":"I&#39;ve added a name as example.","body":"I&#39;ve added a name as example."}],"answers":[{"tags":[],"owner":{"account_id":7666910,"reputation":61,"user_id":5810389,"display_name":"Robin"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1516615555,"creation_date":1516615555,"answer_id":48378963,"question_id":47866274,"body_markdown":"I have the same issue using a very basic pattern like\r\n\r\n    com.example.myproject.somecode.*\r\n\r\nWhile including works as expected, excluding has no effect at all.\r\n\r\nThis is seems to be a known issue in IntelliJ. See [Code coverage Report includes excluded packages][1]\r\n\r\nIf you don&#39;t have too many packages in your project, you could still do the opposite and include only those packages you want using several active include patterns together.\r\n\r\nAlternatively you can use the now free IntelliJ plugin [Open Clover][2] which offers much better coverage configuration and result browsing than IntelliJ ships with.\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-184699\r\n  [2]: http://openclover.org/\r\n","title":"How to exclude files from IntelliJ code coverage by name pattern?","body":"<p>I have the same issue using a very basic pattern like</p>\n\n<pre><code>com.example.myproject.somecode.*\n</code></pre>\n\n<p>While including works as expected, excluding has no effect at all.</p>\n\n<p>This is seems to be a known issue in IntelliJ. See <a href=\"https://youtrack.jetbrains.com/issue/IDEA-184699\" rel=\"noreferrer\">Code coverage Report includes excluded packages</a></p>\n\n<p>If you don't have too many packages in your project, you could still do the opposite and include only those packages you want using several active include patterns together.</p>\n\n<p>Alternatively you can use the now free IntelliJ plugin <a href=\"http://openclover.org/\" rel=\"noreferrer\">Open Clover</a> which offers much better coverage configuration and result browsing than IntelliJ ships with.</p>\n"},{"comments":[{"owner":{"account_id":18334788,"reputation":49,"user_id":13352424,"display_name":"Rayshaun Thompson"},"score":0,"creation_date":1680618034,"post_id":75930509,"comment_id":133926288,"body_markdown":"I will add that after doing this the one time, it seems impossible to get the test classes for me to show up in the coverage report. I&#39;ve removed the exclusion pattern and they still won&#39;t come back","body":"I will add that after doing this the one time, it seems impossible to get the test classes for me to show up in the coverage report. I&#39;ve removed the exclusion pattern and they still won&#39;t come back"}],"tags":[],"owner":{"account_id":18334788,"reputation":49,"user_id":13352424,"display_name":"Rayshaun Thompson"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680617992,"creation_date":1680617992,"answer_id":75930509,"question_id":47866274,"body_markdown":"As of IntelliJ 2021.1.1, it appears very basic regex is accepted. In my own project, the package `com.foo.bar.service.*` is included in the coverage options. Sadly, this includes all the test classes as well, which I want excluded from the report.\r\n\r\nTo exclude those test classes, add one of them manually. Since my project has a naming standard for test classes, I can edit the text of the exclusion from `com.foo.bar.service.ClassTest` to read `com.foo.bar.service.*Test`. This will exclude all the test classes from the report as well as not include them in coverage calculations.","title":"How to exclude files from IntelliJ code coverage by name pattern?","body":"<p>As of IntelliJ 2021.1.1, it appears very basic regex is accepted. In my own project, the package <code>com.foo.bar.service.*</code> is included in the coverage options. Sadly, this includes all the test classes as well, which I want excluded from the report.</p>\n<p>To exclude those test classes, add one of them manually. Since my project has a naming standard for test classes, I can edit the text of the exclusion from <code>com.foo.bar.service.ClassTest</code> to read <code>com.foo.bar.service.*Test</code>. This will exclude all the test classes from the report as well as not include them in coverage calculations.</p>\n"}],"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10352,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":2,"score":13,"last_activity_date":1680617992,"creation_date":1513592278,"question_id":47866274,"body_markdown":"I&#39;m using IntelliJ 2017.3 to measure the code coverage of my tests. The code base contains some more or less dumb classes that should be excluded from this measurement. I want to exclude all classes which contain `Factory` as part of their name (example: `AverageOperatorFactoy`) and tried it with the patterns `*Factory` and `.*Factory` (although it seems like regex are not used here), but IntelliJ still shows factories in the coverage report.\r\n\r\n**How can I exclude classes with a name pattern?**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qybQ3.png","title":"How to exclude files from IntelliJ code coverage by name pattern?","body":"<p>I'm using IntelliJ 2017.3 to measure the code coverage of my tests. The code base contains some more or less dumb classes that should be excluded from this measurement. I want to exclude all classes which contain <code>Factory</code> as part of their name (example: <code>AverageOperatorFactoy</code>) and tried it with the patterns <code>*Factory</code> and <code>.*Factory</code> (although it seems like regex are not used here), but IntelliJ still shows factories in the coverage report.</p>\n\n<p><strong>How can I exclude classes with a name pattern?</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/qybQ3.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qybQ3.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","junit","junit5"],"answers":[{"tags":[],"owner":{"account_id":9450683,"reputation":1291,"user_id":7027682,"display_name":"Jan Schmitz"},"comment_count":0,"down_vote_count":0,"up_vote_count":71,"is_accepted":true,"score":71,"last_activity_date":1607505797,"creation_date":1607505469,"answer_id":65213835,"question_id":65207427,"body_markdown":"`@CsvSource` has an attribute called `nullValues`.\r\nSee the [documentation][1].\r\n\r\n&gt; A list of strings that should be interpreted as null references.\r\n\r\n    @CsvSource(value= {&quot;null, null&quot;,\r\n                       &quot;foo, bar&quot;}\r\n               , nullValues={&quot;null&quot;})\r\n\r\n----\r\n\r\nThe other option is to simply don&#39;t pass any value as stated in the previously linked documentation.\r\n\r\n&gt; Please note that unquoted empty values will always be converted to null references regardless of the value of this nullValues attribute; whereas, a quoted empty string will be treated as an emptyValue().\r\n\r\n    @CsvSource({&quot;,&quot;,\r\n                &quot;foo, bar&quot;})\r\n\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/api/org.junit.jupiter.params/org/junit/jupiter/params/provider/CsvSource.html#nullValues()","title":"Junit 5 - How to pass in multiple null values for @CsvSource?","body":"<p><code>@CsvSource</code> has an attribute called <code>nullValues</code>.\nSee the <a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.params/org/junit/jupiter/params/provider/CsvSource.html#nullValues()\" rel=\"noreferrer\">documentation</a>.</p>\n<blockquote>\n<p>A list of strings that should be interpreted as null references.</p>\n</blockquote>\n<pre><code>@CsvSource(value= {&quot;null, null&quot;,\n                   &quot;foo, bar&quot;}\n           , nullValues={&quot;null&quot;})\n</code></pre>\n<hr />\n<p>The other option is to simply don't pass any value as stated in the previously linked documentation.</p>\n<blockquote>\n<p>Please note that unquoted empty values will always be converted to null references regardless of the value of this nullValues attribute; whereas, a quoted empty string will be treated as an emptyValue().</p>\n</blockquote>\n<pre><code>@CsvSource({&quot;,&quot;,\n            &quot;foo, bar&quot;})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7533198,"reputation":1546,"user_id":5720532,"display_name":"Abderrazzak Nejeoui"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1643111967,"creation_date":1608460389,"answer_id":65378969,"question_id":65207427,"body_markdown":"You can use nullValues as explained above by @Jan Schmitz, or you can just discard null values like this:\r\n```java\r\n@CsvSource({\r\n  &quot;,&quot;,\r\n  &quot;foo, bar&quot;\r\n})\r\n```","title":"Junit 5 - How to pass in multiple null values for @CsvSource?","body":"<p>You can use nullValues as explained above by @Jan Schmitz, or you can just discard null values like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@CsvSource({\n  &quot;,&quot;,\n  &quot;foo, bar&quot;\n})\n</code></pre>\n"}],"owner":{"account_id":5682834,"reputation":5282,"user_id":4493352,"accept_rate":89,"display_name":"夢のの夢"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25050,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":65213835,"answer_count":2,"score":35,"last_activity_date":1680617973,"creation_date":1607464167,"question_id":65207427,"body_markdown":"I am modifying a test method from single parameter to multiple:\r\n\r\n```\r\n@ParameterizedTest\r\n@NullSource\r\n@ValueSource({&quot;foo&quot;, &quot;bar&quot;..})\r\nvoid shouldReturnFalse(String x) {\r\n  assertThat(someMethod(x)).isFalse();\r\n}\r\n\r\n@ParameterizedTest\r\n@CsvSource({\r\n  &quot;null, null&quot;,\r\n  &quot;foo, bar&quot;\r\n})\r\nvoid shouldReturnFalse(String x, String y) {\r\n  assertThat(someMethod(x, y)).isFalse();\r\n}\r\n```\r\n\r\n`null` here is passed in as a String literal instead of a null literal. As a result, this test fails. This test previously works with single argument with `@NullSource`, but it gives following error when switched to multiple:\r\n\r\n&gt; org.junit.jupiter.api.extension.ParameterResolutionException: No ParameterResolver registered for parameter...\r\n\r\nI couldn&#39;t find a workaround for this and the solutions I saw were rather hacky and cumbersome. Is there a easier way for providing values with `null`?","title":"Junit 5 - How to pass in multiple null values for @CsvSource?","body":"<p>I am modifying a test method from single parameter to multiple:</p>\n<pre><code>@ParameterizedTest\n@NullSource\n@ValueSource({&quot;foo&quot;, &quot;bar&quot;..})\nvoid shouldReturnFalse(String x) {\n  assertThat(someMethod(x)).isFalse();\n}\n\n@ParameterizedTest\n@CsvSource({\n  &quot;null, null&quot;,\n  &quot;foo, bar&quot;\n})\nvoid shouldReturnFalse(String x, String y) {\n  assertThat(someMethod(x, y)).isFalse();\n}\n</code></pre>\n<p><code>null</code> here is passed in as a String literal instead of a null literal. As a result, this test fails. This test previously works with single argument with <code>@NullSource</code>, but it gives following error when switched to multiple:</p>\n<blockquote>\n<p>org.junit.jupiter.api.extension.ParameterResolutionException: No ParameterResolver registered for parameter...</p>\n</blockquote>\n<p>I couldn't find a workaround for this and the solutions I saw were rather hacky and cumbersome. Is there a easier way for providing values with <code>null</code>?</p>\n"},{"tags":["java","plugins","google-calendar-api","refresh-token","oauth-refresh-token"],"owner":{"account_id":28213372,"reputation":1,"user_id":21565258,"display_name":"Mukul Soni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680617753,"creation_date":1680617650,"question_id":75930436,"body_markdown":"I am trying to create a java class for Event Creation using google service account with downloaded json credentials. I have given the Owner permission to the generated gmail id for authentication and have added Calendar Scopes as well. \r\n\r\n**Error Unexpected error refreshing access token**\r\n\r\n```\r\n[com.google.auth.oauth2.OAuth2Credentials.unwrapDirectFuture(OAuth2Credentials.java:323), \r\ncom.google.auth.oauth2.OAuth2Credentials.getRequestMetadata(OAuth2Credentials.java:170),\r\n com.google.auth.oauth2.ServiceAccountCredentials.getRequestMetadata(ServiceAccountCredentials.java:967),\r\n com.google.auth.http.HttpCredentialsAdapter.initialize(HttpCredentialsAdapter.java:96),\r\n com.google.api.client.http.HttpRequestFactory.buildRequest(HttpRequestFactory.java:91),\r\n com.google.api.client.googleapis.services.AbstractGoogleClientRequest.buildHttpRequest(AbstractGoogleClientRequest.java:415),\r\n com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:525),\r\n com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:466),\r\n com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:576)]\r\n```\r\n\r\nHere is code for authentication where the json from json file is being passed. \r\n\r\nAlso, do we need to add code for refresh token when we are passing credentials using service account json creds? \r\n\r\n```\r\nauthenticate(){\r\n     String json; //json credentials. \r\n     json = String.format(jsonFormat, null);\r\n     return GoogleCredentials.fromStream(new ByteArrayInputStream(json.getBytes()))\r\n\t\t\t\t\t.createScoped(scopeList)\r\n\t\t\t.createDelegated((GMAIL_USER));\r\n}\r\n```\r\n\r\n```\r\ncreateEvent(){\r\n  GoogleCredentials credentials = null;\r\n\r\n\r\n\r\ntry {\r\n\t\t\tcredentials = authenticate();\r\n\r\n\t\t\tSystem.out.println(&quot;Got Credentials:  &quot; + credentials);\r\n\t\t\tSystem.out.println(&quot;---------------Got Credentials-----------------------&quot;);\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;Error :&quot;+ e.getMessage());\r\n\r\n\t\t}\r\n\r\n\r\ntry {\r\n\t\t\t\r\n\t\t\t// Connecting to the service\r\n\t\t\tJsonFactory JSON_FACTORY = GsonFactory.getDefaultInstance();\r\n\t\t\tNetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\r\n\t\t\tHttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(credentials);\r\n\t\t\tCalendar service = new Calendar.Builder(HTTP_TRANSPORT, JSON_FACTORY, requestInitializer)\r\n\t\t\t\t\t.setApplicationName(APPLICATION_NAME).build();\r\n\r\n\t\t\tEvent event = new Event().setSummary((E_SUMMARY)).setLocation((E_LOCATION)).setDescription((E_DESC));\r\n\r\n\t\t\tString temp = (E_START_DATE);// local variable\r\n\t\t\tDateTime startDateTime = new DateTime(temp);\r\n\t\t\tEventDateTime start = new EventDateTime().setDateTime(startDateTime).setTimeZone(&quot;America/Los_Angeles&quot;); // Change\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// America/Los_Angeles\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// check\r\n\t\t\tevent.setStart(start);\r\n\r\n\t\t\ttemp = (E_END_DATE);// re-assigned to end time.\r\n\t\t\tDateTime endDateTime = new DateTime(temp);\r\n\t\t\tEventDateTime end = new EventDateTime().setDateTime(endDateTime).setTimeZone(&quot;America/Los_Angeles&quot;);\r\n\t\t\tevent.setEnd(end);\r\n\r\n\t\t\tString[] recurrence = new String[] { &quot;RRULE:FREQ=DAILY;COUNT=2&quot; };\r\n\t\t\tevent.setRecurrence(Arrays.asList(recurrence));\r\n\r\n\t\t\tEventAttendee[] attendees = new EventAttendee[] { new EventAttendee().setEmail(&quot;abc@gmail.com&quot;),\r\n\t\t\t\t\tnew EventAttendee().setEmail(&quot;def@gmail.com&quot;), };\r\n\t\t\tevent.setAttendees(Arrays.asList(attendees));\r\n\r\n\t\t\tEventReminder[] reminderOverrides = new EventReminder[] {\r\n\t\t\t\t\tnew EventReminder().setMethod(&quot;email&quot;).setMinutes(24 * 60),\r\n\t\t\t\t\tnew EventReminder().setMethod(&quot;popup&quot;).setMinutes(10), };\r\n\t\t\tEvent.Reminders reminders = new Event.Reminders().setUseDefault(false)\r\n\t\t\t\t\t.setOverrides(Arrays.asList(reminderOverrides));\r\n\t\t\tevent.setReminders(reminders);\r\n\r\n\t\t\tString calendarId = E_CALENDAR_TYPE;\r\n\t\t\tevent = service.events().insert(calendarId, event).execute();\r\n\t\t\tSystem.out.printf(&quot;Event created: %s\\n&quot;, event.getHtmlLink());\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;--------Inside last catch block --------&quot;);\r\n\t\t\tSystem.out.println(&quot;Error &quot; + e.getMessage());\r\n\t\t\tSystem.out.println(Arrays.toString(e.getStackTrace()));\r\n\t\t\t\r\n\t\t}\r\n}\r\n```\r\n\r\n","title":"Google Service Account: Unexpected error refreshing access token","body":"<p>I am trying to create a java class for Event Creation using google service account with downloaded json credentials. I have given the Owner permission to the generated gmail id for authentication and have added Calendar Scopes as well.</p>\n<p><strong>Error Unexpected error refreshing access token</strong></p>\n<pre><code>[com.google.auth.oauth2.OAuth2Credentials.unwrapDirectFuture(OAuth2Credentials.java:323), \ncom.google.auth.oauth2.OAuth2Credentials.getRequestMetadata(OAuth2Credentials.java:170),\n com.google.auth.oauth2.ServiceAccountCredentials.getRequestMetadata(ServiceAccountCredentials.java:967),\n com.google.auth.http.HttpCredentialsAdapter.initialize(HttpCredentialsAdapter.java:96),\n com.google.api.client.http.HttpRequestFactory.buildRequest(HttpRequestFactory.java:91),\n com.google.api.client.googleapis.services.AbstractGoogleClientRequest.buildHttpRequest(AbstractGoogleClientRequest.java:415),\n com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:525),\n com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:466),\n com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:576)]\n</code></pre>\n<p>Here is code for authentication where the json from json file is being passed.</p>\n<p>Also, do we need to add code for refresh token when we are passing credentials using service account json creds?</p>\n<pre><code>authenticate(){\n     String json; //json credentials. \n     json = String.format(jsonFormat, null);\n     return GoogleCredentials.fromStream(new ByteArrayInputStream(json.getBytes()))\n                    .createScoped(scopeList)\n            .createDelegated((GMAIL_USER));\n}\n</code></pre>\n<pre><code>createEvent(){\n  GoogleCredentials credentials = null;\n\n\n\ntry {\n            credentials = authenticate();\n\n            System.out.println(&quot;Got Credentials:  &quot; + credentials);\n            System.out.println(&quot;---------------Got Credentials-----------------------&quot;);\n        } catch (Exception e) {\n            System.out.println(&quot;Error :&quot;+ e.getMessage());\n\n        }\n\n\ntry {\n            \n            // Connecting to the service\n            JsonFactory JSON_FACTORY = GsonFactory.getDefaultInstance();\n            NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\n            HttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(credentials);\n            Calendar service = new Calendar.Builder(HTTP_TRANSPORT, JSON_FACTORY, requestInitializer)\n                    .setApplicationName(APPLICATION_NAME).build();\n\n            Event event = new Event().setSummary((E_SUMMARY)).setLocation((E_LOCATION)).setDescription((E_DESC));\n\n            String temp = (E_START_DATE);// local variable\n            DateTime startDateTime = new DateTime(temp);\n            EventDateTime start = new EventDateTime().setDateTime(startDateTime).setTimeZone(&quot;America/Los_Angeles&quot;); // Change\n                                                                                                                        // America/Los_Angeles\n                                                                                                                                                                                                                    // check\n            event.setStart(start);\n\n            temp = (E_END_DATE);// re-assigned to end time.\n            DateTime endDateTime = new DateTime(temp);\n            EventDateTime end = new EventDateTime().setDateTime(endDateTime).setTimeZone(&quot;America/Los_Angeles&quot;);\n            event.setEnd(end);\n\n            String[] recurrence = new String[] { &quot;RRULE:FREQ=DAILY;COUNT=2&quot; };\n            event.setRecurrence(Arrays.asList(recurrence));\n\n            EventAttendee[] attendees = new EventAttendee[] { new EventAttendee().setEmail(&quot;abc@gmail.com&quot;),\n                    new EventAttendee().setEmail(&quot;def@gmail.com&quot;), };\n            event.setAttendees(Arrays.asList(attendees));\n\n            EventReminder[] reminderOverrides = new EventReminder[] {\n                    new EventReminder().setMethod(&quot;email&quot;).setMinutes(24 * 60),\n                    new EventReminder().setMethod(&quot;popup&quot;).setMinutes(10), };\n            Event.Reminders reminders = new Event.Reminders().setUseDefault(false)\n                    .setOverrides(Arrays.asList(reminderOverrides));\n            event.setReminders(reminders);\n\n            String calendarId = E_CALENDAR_TYPE;\n            event = service.events().insert(calendarId, event).execute();\n            System.out.printf(&quot;Event created: %s\\n&quot;, event.getHtmlLink());\n\n        } catch (Exception e) {\n            System.out.println(&quot;--------Inside last catch block --------&quot;);\n            System.out.println(&quot;Error &quot; + e.getMessage());\n            System.out.println(Arrays.toString(e.getStackTrace()));\n            \n        }\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","aws-sdk","aws-sts"],"answers":[{"comments":[{"owner":{"account_id":8202545,"reputation":33,"user_id":6173407,"display_name":"Fatboyover"},"score":0,"creation_date":1680627781,"post_id":75930422,"comment_id":133928982,"body_markdown":"Thanks for the reply - however I have updated the `IAM` policy to match the above and it&#39;s still not working. e.g. I&#39;m getting the same error","body":"Thanks for the reply - however I have updated the <code>IAM</code> policy to match the above and it&#39;s still not working. e.g. I&#39;m getting the same error"}],"tags":[],"owner":{"account_id":1329738,"reputation":5834,"user_id":1273882,"accept_rate":39,"display_name":"Ankush Jain"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680617571,"creation_date":1680617571,"answer_id":75930422,"question_id":75927843,"body_markdown":"Trust Policy for `my-query-role` IAM Role in Account 2 is wrong in your case. \r\n\r\nYou should update the **Principal** field to have the ARN of account 1&#39;s IAM Role `account-1-role`.\r\n\r\n### Trust Policy - IAM Role - Account 2\r\n```\r\n{\r\n    &quot;Version&quot;: &quot;2012-10-17&quot;,\r\n    &quot;Statement&quot;: [\r\n        {\r\n            &quot;Effect&quot;: &quot;Allow&quot;,\r\n            &quot;Principal&quot;: {\r\n                &quot;AWS&quot;: [\r\n                    &quot;&lt;THIS SHOULD BE THE ARN OF IAM ROLE IN ACCOUNT 1&gt;&quot;\r\n                ]\r\n            },\r\n            &quot;Action&quot;: &quot;sts:AssumeRole&quot;\r\n        }\r\n    ]\r\n}\r\n```","title":"Cross-Account IAM Access Using AWS SDK via assumed-role giving error","body":"<p>Trust Policy for <code>my-query-role</code> IAM Role in Account 2 is wrong in your case.</p>\n<p>You should update the <strong>Principal</strong> field to have the ARN of account 1's IAM Role <code>account-1-role</code>.</p>\n<h3>Trust Policy - IAM Role - Account 2</h3>\n<pre><code>{\n    &quot;Version&quot;: &quot;2012-10-17&quot;,\n    &quot;Statement&quot;: [\n        {\n            &quot;Effect&quot;: &quot;Allow&quot;,\n            &quot;Principal&quot;: {\n                &quot;AWS&quot;: [\n                    &quot;&lt;THIS SHOULD BE THE ARN OF IAM ROLE IN ACCOUNT 1&gt;&quot;\n                ]\n            },\n            &quot;Action&quot;: &quot;sts:AssumeRole&quot;\n        }\n    ]\n}\n</code></pre>\n"}],"owner":{"account_id":8202545,"reputation":33,"user_id":6173407,"display_name":"Fatboyover"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":571,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680617571,"creation_date":1680601296,"question_id":75927843,"body_markdown":"I am attempting to assume a role in another AWS account through an assumed role, authorising using the `WebIdentityTokenFileCredentialsProvider` via the AWS STS SDK. This is ran on a `k8s` instance, with credentials provided to access a specific role within an account.\r\n\r\ne.g. **Account 1** has credentials on the `k8s` pod for the `account-1-role`, and wants to assume the `my-query-role` role that exists in **Account 2**.\r\n\r\nMy current policy looks like this:\r\n\r\n&lt;b&gt;Account 1 `account-1-role` Permission Policy&lt;/b&gt;\r\n\r\n```code\r\n{\r\n    &quot;Version&quot;: &quot;2012-10-17&quot;,\r\n    &quot;Statement&quot;: [\r\n        {\r\n            &quot;Action&quot;: &quot;sts:AssumeRole&quot;,\r\n            &quot;Effect&quot;: &quot;Allow&quot;,\r\n            &quot;Resource&quot;: [\r\n                &quot;arn:aws:iam::&lt;account_2_id&gt;:role/my-query-role&quot;\r\n            ]\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\n&lt;b&gt;Account 2 `my-query-role` Trust Policy&lt;/b&gt;\r\n\r\n```code\r\n{\r\n    &quot;Version&quot;: &quot;2012-10-17&quot;,\r\n    &quot;Statement&quot;: [\r\n        {\r\n            &quot;Effect&quot;: &quot;Allow&quot;,\r\n            &quot;Principal&quot;: {\r\n                &quot;AWS&quot;: [\r\n                    &quot;arn:aws:iam::&lt;account_1_id&gt;:root&quot;\r\n                ]\r\n            },\r\n            &quot;Action&quot;: &quot;sts:AssumeRole&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\n&lt;b&gt;Java&lt;/b&gt;\r\n\r\n```java\r\nAwsCredentialsProvider awsCredentialsProvider = WebIdentityTokenFileCredentialsProvider.create();\r\n\r\nStsClient stsClient = StsClient.builder()\r\n        .credentialsProvider(awsCredentialsProvider)\r\n        .region(Region.EU_WEST_1)\r\n        .build();\r\n\r\nAssumeRoleRequest assumeRoleRequest = AssumeRoleRequest.builder()\r\n        .roleArn(&quot;arn:aws:iam::&lt;account_2_id&gt;:role/my-query-role&quot;)\r\n        .roleSessionName(MANAGED_PROMETHEUS_ROLE_SESSION)\r\n        .build();\r\n\r\nAssumeRoleResponse assumeRoleResponse = stsClient.assumeRole(assumeRoleRequest);\r\n```\r\n\r\n&lt;b&gt;Problem&lt;/b&gt;\r\n\r\nHowever, then when I attempt to assume through the role through the AWS `StsClient`, I get the following error:\r\n\r\n```code\r\nsoftware.amazon.awssdk.services.sts.model.StsException: User: arn:aws:sts::&lt;account_1_id&gt;:assumed-role/&lt;account_1_role&gt;/aws-sdk-java-1680536628314 \r\nis not authorized to perform: sts:AssumeRole on resource: arn:aws:iam::&lt;account_2_id&gt;:role/my-query-role \r\n(Service: Sts, Status Code: 403, Request ID: 9aa79d21-344f-41b1-a251-8f81bb23af8c)\r\n``` \r\n\r\nMy question is, do I have to provide a separate policy for the `StsClient` to be able to use the permission? I thought from reading the documentation that the assumed-role would have the same policy as the parent role, so would be trusted by &lt;b&gt;Account 2&lt;/b&gt;. However the ARN does seem to be in a different format\r\n\r\ne.g. `arn:aws:sts::&lt;account_1_id&gt;:assumed-role` rather than `arn:aws:sts::&lt;account_1_id&gt;:role`","title":"Cross-Account IAM Access Using AWS SDK via assumed-role giving error","body":"<p>I am attempting to assume a role in another AWS account through an assumed role, authorising using the <code>WebIdentityTokenFileCredentialsProvider</code> via the AWS STS SDK. This is ran on a <code>k8s</code> instance, with credentials provided to access a specific role within an account.</p>\n<p>e.g. <strong>Account 1</strong> has credentials on the <code>k8s</code> pod for the <code>account-1-role</code>, and wants to assume the <code>my-query-role</code> role that exists in <strong>Account 2</strong>.</p>\n<p>My current policy looks like this:</p>\n<p><b>Account 1 <code>account-1-role</code> Permission Policy</b></p>\n<pre><code>{\n    &quot;Version&quot;: &quot;2012-10-17&quot;,\n    &quot;Statement&quot;: [\n        {\n            &quot;Action&quot;: &quot;sts:AssumeRole&quot;,\n            &quot;Effect&quot;: &quot;Allow&quot;,\n            &quot;Resource&quot;: [\n                &quot;arn:aws:iam::&lt;account_2_id&gt;:role/my-query-role&quot;\n            ]\n        }\n    ]\n}\n</code></pre>\n<p><b>Account 2 <code>my-query-role</code> Trust Policy</b></p>\n<pre><code>{\n    &quot;Version&quot;: &quot;2012-10-17&quot;,\n    &quot;Statement&quot;: [\n        {\n            &quot;Effect&quot;: &quot;Allow&quot;,\n            &quot;Principal&quot;: {\n                &quot;AWS&quot;: [\n                    &quot;arn:aws:iam::&lt;account_1_id&gt;:root&quot;\n                ]\n            },\n            &quot;Action&quot;: &quot;sts:AssumeRole&quot;\n        }\n    ]\n}\n</code></pre>\n<p><b>Java</b></p>\n<pre class=\"lang-java prettyprint-override\"><code>AwsCredentialsProvider awsCredentialsProvider = WebIdentityTokenFileCredentialsProvider.create();\n\nStsClient stsClient = StsClient.builder()\n        .credentialsProvider(awsCredentialsProvider)\n        .region(Region.EU_WEST_1)\n        .build();\n\nAssumeRoleRequest assumeRoleRequest = AssumeRoleRequest.builder()\n        .roleArn(&quot;arn:aws:iam::&lt;account_2_id&gt;:role/my-query-role&quot;)\n        .roleSessionName(MANAGED_PROMETHEUS_ROLE_SESSION)\n        .build();\n\nAssumeRoleResponse assumeRoleResponse = stsClient.assumeRole(assumeRoleRequest);\n</code></pre>\n<p><b>Problem</b></p>\n<p>However, then when I attempt to assume through the role through the AWS <code>StsClient</code>, I get the following error:</p>\n<pre><code>software.amazon.awssdk.services.sts.model.StsException: User: arn:aws:sts::&lt;account_1_id&gt;:assumed-role/&lt;account_1_role&gt;/aws-sdk-java-1680536628314 \nis not authorized to perform: sts:AssumeRole on resource: arn:aws:iam::&lt;account_2_id&gt;:role/my-query-role \n(Service: Sts, Status Code: 403, Request ID: 9aa79d21-344f-41b1-a251-8f81bb23af8c)\n</code></pre>\n<p>My question is, do I have to provide a separate policy for the <code>StsClient</code> to be able to use the permission? I thought from reading the documentation that the assumed-role would have the same policy as the parent role, so would be trusted by <b>Account 2</b>. However the ARN does seem to be in a different format</p>\n<p>e.g. <code>arn:aws:sts::&lt;account_1_id&gt;:assumed-role</code> rather than <code>arn:aws:sts::&lt;account_1_id&gt;:role</code></p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","firebaseui"],"answers":[{"comments":[{"owner":{"account_id":22170841,"reputation":29,"user_id":16416275,"display_name":"abhay singh"},"score":0,"creation_date":1680609916,"post_id":75926281,"comment_id":133924021,"body_markdown":"If I remove that line of code new error appears. i got error in line 72 stating: &#39;FirebaseRecyclerPagingAdapter(com.firebase.ui.database.paging.DatabasePagingOptions&lt;com.example.shubhamr.collegesearch.RecyclerViews.searchRecylerView.searchModelClass&gt;)&#39; in &#39;com.firebase.ui.database.paging.FirebaseRecyclerPagingAdapter&#39; cannot be applied to &#39;(com.firebase.ui.database.FirebaseRecyclerOptions&lt;com.example.shubhamr.collegesearch.RecyclerViews.searchRecylerView.searchModelClass&gt;)&#39; . What should I do now?","body":"If I remove that line of code new error appears. i got error in line 72 stating: &#39;FirebaseRecyclerPagingAdapter(com.firebase.ui.database.pagi&zwnj;&#8203;ng.DatabasePagingOpt&zwnj;&#8203;ions&lt;com.example.shu&zwnj;&#8203;bhamr.collegesearch.&zwnj;&#8203;RecyclerViews.search&zwnj;&#8203;RecylerView.searchMo&zwnj;&#8203;delClass&gt;)&#39; in &#39;com.firebase.ui.database.paging.FirebaseRecyclerPagingAdapt&zwnj;&#8203;er&#39; cannot be applied to &#39;(com.firebase.ui.database.FirebaseRecyclerOptions&lt;com.examp&zwnj;&#8203;le.shubhamr.colleges&zwnj;&#8203;earch.RecyclerViews.&zwnj;&#8203;searchRecylerView.se&zwnj;&#8203;archModelClass&gt;)&#39; . What should I do now?"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1680610943,"post_id":75926281,"comment_id":133924329,"body_markdown":"Unfortunately, I cannot debug your entire code. So you have to step through the debugger and see why you have that new error. Or, you can post a new question, here on StackOverflow using its own [MCVE](https://stackoverflow.com/help/mcve), so I and other Firebase developers can help you.","body":"Unfortunately, I cannot debug your entire code. So you have to step through the debugger and see why you have that new error. Or, you can post a new question, here on StackOverflow using its own <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>, so I and other Firebase developers can help you."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1680697969,"post_id":75926281,"comment_id":133941556,"body_markdown":"Hey, abhay. Did my answer help? Can I help you with other information regarding the initial question?","body":"Hey, abhay. Did my answer help? Can I help you with other information regarding the initial question?"},{"owner":{"account_id":22170841,"reputation":29,"user_id":16416275,"display_name":"abhay singh"},"score":0,"creation_date":1680699953,"post_id":75926281,"comment_id":133942238,"body_markdown":"I tried using your answer, but a new error keeps occurring that I am unable to resolve.","body":"I tried using your answer, but a new error keeps occurring that I am unable to resolve."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1680700452,"post_id":75926281,"comment_id":133942377,"body_markdown":"Have you tried Frank&#39;s solution? Does it work?","body":"Have you tried Frank&#39;s solution? Does it work?"},{"owner":{"account_id":22170841,"reputation":29,"user_id":16416275,"display_name":"abhay singh"},"score":0,"creation_date":1680713925,"post_id":75926281,"comment_id":133946349,"body_markdown":"Yes, I tried that, but it didn&#39;t work.","body":"Yes, I tried that, but it didn&#39;t work."}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680590977,"creation_date":1680590977,"answer_id":75926281,"question_id":75925586,"body_markdown":"Your `adapter` object is an object of type `FirebaseRecyclerPagingAdapter`. When you try to call `getCurrentList(position)` on such an object, it&#39;s the expected behavior to get the following error:\r\n\r\n    Cannot resolve method &#39;getCurrentList&#39; in &#39;FirebaseRecyclerOptions&#39;:101\r\n\r\nSince there is no `getCurrentList()` method inside your adapter class. Moreover, if such a method existed, as the name says, it would have returned a list and not a `DatabaseReference` object. So seeing your code, that line of code that produces that error should be removed.","title":"Cannot resolve method &#39;getCurrentList&#39; in &#39;FirebaseRecyclerOptions&#39;","body":"<p>Your <code>adapter</code> object is an object of type <code>FirebaseRecyclerPagingAdapter</code>. When you try to call <code>getCurrentList(position)</code> on such an object, it's the expected behavior to get the following error:</p>\n<pre><code>Cannot resolve method 'getCurrentList' in 'FirebaseRecyclerOptions':101\n</code></pre>\n<p>Since there is no <code>getCurrentList()</code> method inside your adapter class. Moreover, if such a method existed, as the name says, it would have returned a list and not a <code>DatabaseReference</code> object. So seeing your code, that line of code that produces that error should be removed.</p>\n"},{"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680617123,"creation_date":1680617123,"answer_id":75930334,"question_id":75925586,"body_markdown":"Are you looking for `getRef()`? That&#39;d be:\r\n```\r\ndatabaseReference = adapter.getRef(position);\r\n```\r\n\r\nI highly recommend keeping the source code for the class you&#39;re using handy in cases like this, as the entire [`FirebaseAdapter.java` file](https://github.com/firebase/FirebaseUI-Android/blob/master/database/src/main/java/com/firebase/ui/database/FirebaseAdapter.java) is only 47 lines long and can quickly help you find what *does* and what *doesn&#39;t* exist.","title":"Cannot resolve method &#39;getCurrentList&#39; in &#39;FirebaseRecyclerOptions&#39;","body":"<p>Are you looking for <code>getRef()</code>? That'd be:</p>\n<pre><code>databaseReference = adapter.getRef(position);\n</code></pre>\n<p>I highly recommend keeping the source code for the class you're using handy in cases like this, as the entire <a href=\"https://github.com/firebase/FirebaseUI-Android/blob/master/database/src/main/java/com/firebase/ui/database/FirebaseAdapter.java\" rel=\"nofollow noreferrer\"><code>FirebaseAdapter.java</code> file</a> is only 47 lines long and can quickly help you find what <em>does</em> and what <em>doesn't</em> exist.</p>\n"}],"owner":{"account_id":22170841,"reputation":29,"user_id":16416275,"display_name":"abhay singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1680617123,"creation_date":1680583515,"question_id":75925586,"body_markdown":"I am working on a college search app and I am unable to solve this error.\r\n\r\nHere is the code:\r\n\r\n```\r\npublic class searchEngineActivity extends AppCompatActivity {\r\n    public String stateSelected;\r\n    public String courseSelected;\r\n    public RecyclerView searchRecyclerView;\r\n    public WebView webView;\r\n    public FirebaseRecyclerOptions adapter;\r\n    public DatabaseReference databaseReference;\r\n    String queryState, queryCourse;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_search_engine);\r\n\r\n        Window window = getWindow();\r\n        window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n        window.setStatusBarColor(getResources().getColor(R.color.colorPrimaryDark));\r\n        Bundle bundle = getIntent().getExtras();\r\n        stateSelected = bundle.getString(&quot;stateSelected&quot;);\r\n        courseSelected = bundle.getString(&quot;courseSelected&quot;);\r\n        Log.e(&quot;arguments&quot;,stateSelected+courseSelected );\r\n        makeQuery(stateSelected, courseSelected);\r\n        searchRecyclerView = (RecyclerView) findViewById(R.id.searchRecyclerView);\r\n        webView = (WebView) findViewById(R.id.webView);\r\n        searchRecyclerView.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, false));\r\n        setAdapter();\r\n        searchRecyclerView.addItemDecoration(new DividerItemDecoration(this,DividerItemDecoration.HORIZONTAL));\r\n    }\r\n\r\n    public void makeQuery(String q, String c) {\r\n        queryState = q.replaceAll(&quot; &quot;, &quot;-&quot;);\r\n        queryState = queryState.toLowerCase();\r\n        queryCourse = c.toLowerCase();\r\n\r\n    }\r\n\r\n    public void setAdapter() {\r\n        Query query = FirebaseDatabase.getInstance().getReference().child(&quot;searchengines&quot;);\r\n        FirebaseRecyclerOptions&lt;searchModelClass&gt; options = new FirebaseRecyclerOptions.Builder&lt;searchModelClass&gt;().setQuery(query, searchModelClass.class).build();\r\n        adapter = new FirebaseRecyclerPagingAdapter&lt;searchModelClass, androidx.recyclerview.widget.RecyclerView.ViewHolder&gt;(options) {\r\n\r\n            //@Override\r\n            protected void onBindViewHolder(@NonNull searchRecyclerViewHolder holder, final int position, @NonNull searchModelClass model) {\r\n                holder.setSiteImage(model.getImage());\r\n                holder.setSiteName(model.getName());\r\n                holder.setSiteURL(model.getUrl());\r\n            }\r\n\r\n            @Override\r\n            protected void onBindViewHolder(@androidx.annotation.NonNull @NonNull RecyclerView.ViewHolder viewHolder, int position, @androidx.annotation.NonNull @NonNull searchModelClass model) {\r\n            }\r\n\r\n            @Override\r\n            protected void onLoadingStateChanged(@androidx.annotation.NonNull @NonNull LoadingState state) {\r\n            }\r\n\r\n            @NonNull\r\n            //@Override\r\n            public searchRecyclerViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n                View view = LayoutInflater.from(parent.getContext())\r\n                        .inflate(R.layout.search_recycler_view, parent, false);\r\n\r\n                final searchRecyclerViewHolder viewHolder = new searchRecyclerViewHolder(view);\r\n                viewHolder.setOnClickListener(new searchRecyclerViewHolder.ClickListener() {\r\n                    @Override\r\n                    public void onClick(View view, int position) {\r\n                        **databaseReference = adapter.getCurrentList(position);**\r\n                        databaseReference = databaseReference.child(queryCourse);\r\n                        databaseReference.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                            @Override\r\n                            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                                String queryURL = dataSnapshot.getValue(String.class);\r\n                                queryURL = queryURL.replaceAll(&quot;state&quot;, queryState);\r\n                                webView.loadUrl(queryURL);\r\n\r\n                            }\r\n\r\n                            @Override\r\n                            public void onCancelled(DatabaseError databaseError) {\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n                return viewHolder;\r\n            }\r\n        };\r\n        searchRecyclerView.setAdapter(adapter);\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        FirebaseRecyclerPagingAdapter&lt;Object, RecyclerView.ViewHolder&gt; firebaseRecyclerAdapter = null;\r\n        firebaseRecyclerAdapter.startListening();\r\n    } //UPDATING RECYCLER VIEW REGULARLY FROM THE START OF FRAGMENT\r\n}\r\n```\r\nError is:\r\n\r\n&gt; Cannot resolve method &#39;getCurrentList&#39; in &#39;FirebaseRecyclerOptions&#39;:101\r\n\r\nI tried to use other library for recycler view in place of firebase ui library, but then I have to change my whole code. What else I can do?","title":"Cannot resolve method &#39;getCurrentList&#39; in &#39;FirebaseRecyclerOptions&#39;","body":"<p>I am working on a college search app and I am unable to solve this error.</p>\n<p>Here is the code:</p>\n<pre><code>public class searchEngineActivity extends AppCompatActivity {\n    public String stateSelected;\n    public String courseSelected;\n    public RecyclerView searchRecyclerView;\n    public WebView webView;\n    public FirebaseRecyclerOptions adapter;\n    public DatabaseReference databaseReference;\n    String queryState, queryCourse;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_search_engine);\n\n        Window window = getWindow();\n        window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\n        window.setStatusBarColor(getResources().getColor(R.color.colorPrimaryDark));\n        Bundle bundle = getIntent().getExtras();\n        stateSelected = bundle.getString(&quot;stateSelected&quot;);\n        courseSelected = bundle.getString(&quot;courseSelected&quot;);\n        Log.e(&quot;arguments&quot;,stateSelected+courseSelected );\n        makeQuery(stateSelected, courseSelected);\n        searchRecyclerView = (RecyclerView) findViewById(R.id.searchRecyclerView);\n        webView = (WebView) findViewById(R.id.webView);\n        searchRecyclerView.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, false));\n        setAdapter();\n        searchRecyclerView.addItemDecoration(new DividerItemDecoration(this,DividerItemDecoration.HORIZONTAL));\n    }\n\n    public void makeQuery(String q, String c) {\n        queryState = q.replaceAll(&quot; &quot;, &quot;-&quot;);\n        queryState = queryState.toLowerCase();\n        queryCourse = c.toLowerCase();\n\n    }\n\n    public void setAdapter() {\n        Query query = FirebaseDatabase.getInstance().getReference().child(&quot;searchengines&quot;);\n        FirebaseRecyclerOptions&lt;searchModelClass&gt; options = new FirebaseRecyclerOptions.Builder&lt;searchModelClass&gt;().setQuery(query, searchModelClass.class).build();\n        adapter = new FirebaseRecyclerPagingAdapter&lt;searchModelClass, androidx.recyclerview.widget.RecyclerView.ViewHolder&gt;(options) {\n\n            //@Override\n            protected void onBindViewHolder(@NonNull searchRecyclerViewHolder holder, final int position, @NonNull searchModelClass model) {\n                holder.setSiteImage(model.getImage());\n                holder.setSiteName(model.getName());\n                holder.setSiteURL(model.getUrl());\n            }\n\n            @Override\n            protected void onBindViewHolder(@androidx.annotation.NonNull @NonNull RecyclerView.ViewHolder viewHolder, int position, @androidx.annotation.NonNull @NonNull searchModelClass model) {\n            }\n\n            @Override\n            protected void onLoadingStateChanged(@androidx.annotation.NonNull @NonNull LoadingState state) {\n            }\n\n            @NonNull\n            //@Override\n            public searchRecyclerViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n                View view = LayoutInflater.from(parent.getContext())\n                        .inflate(R.layout.search_recycler_view, parent, false);\n\n                final searchRecyclerViewHolder viewHolder = new searchRecyclerViewHolder(view);\n                viewHolder.setOnClickListener(new searchRecyclerViewHolder.ClickListener() {\n                    @Override\n                    public void onClick(View view, int position) {\n                        **databaseReference = adapter.getCurrentList(position);**\n                        databaseReference = databaseReference.child(queryCourse);\n                        databaseReference.addListenerForSingleValueEvent(new ValueEventListener() {\n                            @Override\n                            public void onDataChange(DataSnapshot dataSnapshot) {\n                                String queryURL = dataSnapshot.getValue(String.class);\n                                queryURL = queryURL.replaceAll(&quot;state&quot;, queryState);\n                                webView.loadUrl(queryURL);\n\n                            }\n\n                            @Override\n                            public void onCancelled(DatabaseError databaseError) {\n                            }\n                        });\n                    }\n                });\n                return viewHolder;\n            }\n        };\n        searchRecyclerView.setAdapter(adapter);\n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        FirebaseRecyclerPagingAdapter&lt;Object, RecyclerView.ViewHolder&gt; firebaseRecyclerAdapter = null;\n        firebaseRecyclerAdapter.startListening();\n    } //UPDATING RECYCLER VIEW REGULARLY FROM THE START OF FRAGMENT\n}\n</code></pre>\n<p>Error is:</p>\n<blockquote>\n<p>Cannot resolve method 'getCurrentList' in 'FirebaseRecyclerOptions':101</p>\n</blockquote>\n<p>I tried to use other library for recycler view in place of firebase ui library, but then I have to change my whole code. What else I can do?</p>\n"},{"tags":["java","spring-boot","ssl","grpc"],"answers":[{"tags":[],"owner":{"account_id":12584206,"reputation":542,"user_id":9153802,"display_name":"Balu"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680617063,"creation_date":1680617063,"answer_id":75930326,"question_id":73858429,"body_markdown":"Probably your service cannot find or cannot access the cert file.\r\nCheck if the file path seems right. If it is an integration test that fails, then the file may not be accessible from the test.\r\nFor example when it is placed in the wrong resources folder and does not get copied to the location of the test resources, then you may get this error.","title":"IllegalArgumentException: File does not contain valid certificates:","body":"<p>Probably your service cannot find or cannot access the cert file.\nCheck if the file path seems right. If it is an integration test that fails, then the file may not be accessible from the test.\nFor example when it is placed in the wrong resources folder and does not get copied to the location of the test resources, then you may get this error.</p>\n"}],"owner":{"account_id":24824934,"reputation":43,"user_id":18704852,"display_name":"Nick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":755,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680617063,"creation_date":1664216926,"question_id":73858429,"body_markdown":"I have a Springboot GRPC client which using a cert file to connect to another grpc server.\r\n\r\n```\r\nfile = inputStreamToFile(MyTest.class.getResourceAsStream(&quot;cert.pem&quot;));\r\nSslContext sslContext = GrpcSslContexts.forClient().trustManager(file).build();\r\nManagedChannel channel = NettyChannelBuilder.forAddress(host, port).sslContext(sslContext).build();\r\n```\r\n\r\n\r\nThe implementation works fine as expected in local springboot run via Intellij; tested the interaction with server, works as expected but when i run the application by &quot;mvn clean install&quot;, I got error, how to fix this?\r\n\r\n```\r\nCaused by: java.lang.IllegalArgumentException: File does not contain valid certificates: cert.pem\r\n\r\nCaused by: java.security.cert.CertificateException: found no certificates in input stream\r\n\r\n```","title":"IllegalArgumentException: File does not contain valid certificates:","body":"<p>I have a Springboot GRPC client which using a cert file to connect to another grpc server.</p>\n<pre><code>file = inputStreamToFile(MyTest.class.getResourceAsStream(&quot;cert.pem&quot;));\nSslContext sslContext = GrpcSslContexts.forClient().trustManager(file).build();\nManagedChannel channel = NettyChannelBuilder.forAddress(host, port).sslContext(sslContext).build();\n</code></pre>\n<p>The implementation works fine as expected in local springboot run via Intellij; tested the interaction with server, works as expected but when i run the application by &quot;mvn clean install&quot;, I got error, how to fix this?</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: File does not contain valid certificates: cert.pem\n\nCaused by: java.security.cert.CertificateException: found no certificates in input stream\n\n</code></pre>\n"},{"tags":["java","spring-boot","asynchronous","completable-future"],"comments":[{"owner":{"account_id":27419303,"reputation":83,"user_id":20918006,"display_name":"Sard"},"score":0,"creation_date":1680627283,"post_id":75930047,"comment_id":133928847,"body_markdown":"Have tried reactive, webflux dependecy, works perfecly","body":"Have tried reactive, webflux dependecy, works perfecly"}],"owner":{"account_id":27419303,"reputation":83,"user_id":20918006,"display_name":"Sard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680616908,"creation_date":1680615441,"question_id":75930047,"body_markdown":"Trying out Asychronous in spring boot using @Async before putting in project.\r\n\r\nThe problem is the response of the controller.\r\nAs you can see the log of rest template  response time is short but the response time of controller takes some time.\r\nIs there a way to make the controller to be a seperate thread also, have tried to put @Async on controller but sadly when i request every thing is failing since already have @Async in service.\r\n\r\nI user jMeter to request 500 users concurrenlty.\r\n\r\nTaskExecutor config\r\n```\r\n@Bean(&quot;threadPoolTask&quot;)\r\n\tpublic TaskExecutor aSyncExecutor() {\r\n\t\tThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n\t\texecutor.setCorePoolSize(4);\r\n\t\texecutor.setMaxPoolSize(20);\r\n\t\texecutor.setQueueCapacity(1000);\r\n\t\texecutor.setThreadNamePrefix(&quot;Async-&quot;);\r\n\t\texecutor.initialize();\r\n\t\treturn executor;\r\n\t}\r\n```\r\n\r\nController listner for response time\r\n```\r\npublic class ResponseTimeAdvice  extends AbstractRequestLoggingFilter {\r\n\r\n    @Override\r\n    protected void afterRequest(HttpServletRequest request, String message) {\r\n        long startTime = (Long) request.getAttribute(&quot;startTime&quot;);\r\n        long duration = System.currentTimeMillis() - startTime;\r\n        log.info(&quot;Response time for {} took {} ms&quot;, request.getRequestURI(), duration);\r\n    }\r\n\r\n    @Override\r\n    protected void beforeRequest(HttpServletRequest request, String message) {\r\n        request.setAttribute(&quot;startTime&quot;, System.currentTimeMillis());\r\n    }\r\n}\r\n```\r\n\r\nService with restemplate\r\n```\r\n   @Async(&quot;threadPoolTask&quot;)\r\n    public CompletableFuture&lt;UrlCat&gt; getCat2(){\r\n            HttpHeaders httpHeaders = new HttpHeaders();\r\n            httpHeaders.setContentType(MediaType.APPLICATION_JSON);\r\n            HttpEntity&lt;?&gt; httpEntity = new HttpEntity&lt;&gt;(httpHeaders);\r\n             long startTime = System.currentTimeMillis();\r\n            ResponseEntity&lt;UrlCat&gt; response = restTemplate.exchange(catUrl, HttpMethod.GET,httpEntity,UrlCat.class);\r\n            long elapsedTime = System.currentTimeMillis() - startTime;\r\n            log.info(&quot;Restemplate response time: {} ms&quot;, elapsedTime);\r\n            return  CompletableFuture.completedFuture(response.getBody());\r\n\r\n    }\r\n```\r\n\r\nService impl with db\r\n```\r\n   public CompletableFuture&lt;UrlCat&gt;  catApi5extend()  {\r\n            CompletableFuture&lt;UrlCat&gt; completableFuture2 =   personApiService.getCat2().thenApply\r\n                    (response -&gt; catRepo.save(response) );\r\n            return  CompletableFuture.completedFuture(completableFuture2.join());\r\n    }\r\n\r\n```\r\nController where ServiceImpl connected\r\n```\r\n    @GetMapping(&quot;/cat&quot;)\r\n//    @Async(&quot;threadPoolTask&quot;)\r\n    public CompletableFuture&lt;UrlCat&gt; catController(){\r\n      CompletableFuture&lt;UrlCat&gt; urlCat =  catApi.catApi5extend();\r\n       return CompletableFuture.completedFuture(urlCat.join());\r\n    }\r\n```\r\n\r\nlog for response time of rest template and controller with 500 concurrent users.\r\n\r\nResttemplate: `Restemplate response time:`\r\nController: `Response time for /cat took`\r\n\r\n`Start log`\r\n```\r\n2023-04-04 21:26:10.639  INFO 50576 --- [        Async-4] c.e.C.test.CatApiService                 : Restemplate response time: 1327 ms\r\n2023-04-04 21:26:10.639  INFO 50576 --- [        Async-3] c.e.C.test.CatApiService                 : Restemplate response time: 1328 ms\r\n2023-04-04 21:26:10.639  INFO 50576 --- [        Async-2] c.e.C.test.CatApiService                 : Restemplate response time: 1327 ms\r\n2023-04-04 21:26:10.651  INFO 50576 --- [        Async-1] c.e.C.test.CatApiService                 : Restemplate response time: 1340 ms\r\n2023-04-04 21:26:10.754  INFO 50576 --- [io-8080-exec-87] c.e.C.listener.ResponseTimeAdvice        : Response time for /cat took 1458 ms\r\n2023-04-04 21:26:10.754  INFO 50576 --- [nio-8080-exec-2] c.e.C.listener.ResponseTimeAdvice        : Response time for /cat took 1516 ms\r\n2023-04-04 21:26:10.754  INFO 50576 --- [io-8080-exec-88] c.e.C.listener.ResponseTimeAdvice        : Response time for /cat took 1458 ms\r\n2023-04-04 21:26:10.754  INFO 50576 --- [io-8080-exec-85] c.e.C.listener.ResponseTimeAdvice        : Response time for /cat took 1460 ms\r\n2023-04-04 21:26:10.924  INFO 50576 --- [        Async-3] c.e.C.test.CatApiService                 : Restemplate response time: 225 ms\r\n2023-04-04 21:26:10.924  INFO 50576 --- [        Async-2] c.e.C.test.CatApiService                 : Restemplate response time: 225 ms\r\n2023-04-04 21:26:10.928  INFO 50576 --- [io-8080-exec-86] c.e.C.listener.ResponseTimeAdvice        : Response time for /cat took 1634 ms\r\n2023-04-04 21:26:10.928  INFO 50576 --- [io-8080-exec-89] c.e.C.listener.ResponseTimeAdvice        : Response time for /cat took 1629 ms\r\n2023-04-04 21:26:10.936  INFO 50576 --- [        Async-1] c.e.C.test.CatApiService                 : Restemplate response time: 237 ms\r\n2023-04-04 21:26:10.937  INFO 50576 --- [        Async-4] c.e.C.test.CatApiService                 : Restemplate response time: 238 ms\r\n2023-04-04 21:26:10.939  INFO 50576 --- [io-8080-exec-84] c.e.C.listener.ResponseTimeAdvice        : Response time for /cat took 1649 ms\r\n2023-04-04 21:26:10.940  INFO 50576 --- [nio-8080-exec-4] c.e.C.listener.ResponseTimeAdvice        : Response time for /cat took 1705 ms\r\n```\r\nDid not put all the log, its too long\r\n\r\n`End log`\r\n```\r\n4-04 21:26:46.461  INFO 50576 --- [io-8080-exec-66] c.e.C.listener.ResponseTimeAdvice        : Response time for /cat took 14641 ms\r\n2023-04-04 21:26:46.694  INFO 50576 --- [        Async-2] c.e.C.test.CatApiService                 : Restemplate response time: 234 ms\r\n2023-04-04 21:26:46.694  INFO 50576 --- [        Async-1] c.e.C.test.CatApiService                 : Restemplate response time: 234 ms\r\n2023-04-04 21:26:46.696  INFO 50576 --- [io-8080-exec-94] c.e.C.listener.ResponseTimeAdvice        : Response time for /cat took 14566 ms\r\n2023-04-04 21:26:46.696  INFO 50576 --- [io-8080-exec-95] c.e.C.listener.ResponseTimeAdvice        : Response time for /cat took 14566 ms\r\n2023-04-04 21:26:46.698  INFO 50576 --- [        Async-3] c.e.C.test.CatApiService                 : Restemplate response time: 238 ms\r\n2023-04-04 21:26:46.700  INFO 50576 --- [io-8080-exec-93] c.e.C.listener.ResponseTimeAdvice        : Response time for /cat took 14569 ms\r\n2023-04-04 21:26:46.703  INFO 50576 --- [        Async-4] c.e.C.test.CatApiService                 : Restemplate response time: 243 ms\r\n2023-04-04 21:26:46.705  INFO 50576 --- [io-8080-exec-96] c.e.C.listener.ResponseTimeAdvice        : Response time for /cat took 14576 ms\r\n2023-04-04 21:26:46.969  INFO 50576 --- [        Async-4] c.e.C.test.CatApiService                 : Restemplate response time: 265 ms\r\n2023-04-04 21:26:46.969  INFO 50576 --- [        Async-3] c.e.C.test.CatApiService                 : Restemplate response time: 270 ms\r\n2023-04-04 21:26:46.969  INFO 50576 --- [        Async-1] c.e.C.test.CatApiService                 : Restemplate response time: 274 ms\r\n2023-04-04 21:26:46.969  INFO 50576 --- [        Async-2] c.e.C.test.CatApiService                 : Restemplate response time: 274 ms\r\n2023-04-04 21:26:46.971  INFO 50576 --- [o-8080-exec-100] c.e.C.listener.ResponseTimeAdvice        : Response time for /cat took 14537 ms\r\n2023-04-04 21:26:46.971  INFO 50576 --- [io-8080-exec-97] c.e.C.listener.ResponseTimeAdvice        : Response time for /cat took 14537 ms\r\n2023-04-04 21:26:46.971  INFO 50576 --- [io-8080-exec-99] c.e.C.listener.ResponseTimeAdvice        : Response time for /cat took 14536 ms\r\n2023-04-04 21:26:46.971  INFO 50576 --- [io-8080-exec-98] c.e.C.listener.ResponseTimeAdvice        : Response time for /cat took 14536 ms\r\n```","title":"Spring asychronous separate the thread of controller to make the response will not wait before giving the response","body":"<p>Trying out Asychronous in spring boot using @Async before putting in project.</p>\n<p>The problem is the response of the controller.\nAs you can see the log of rest template  response time is short but the response time of controller takes some time.\nIs there a way to make the controller to be a seperate thread also, have tried to put @Async on controller but sadly when i request every thing is failing since already have @Async in service.</p>\n<p>I user jMeter to request 500 users concurrenlty.</p>\n<p>TaskExecutor config</p>\n<pre><code>@Bean(&quot;threadPoolTask&quot;)\n    public TaskExecutor aSyncExecutor() {\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(4);\n        executor.setMaxPoolSize(20);\n        executor.setQueueCapacity(1000);\n        executor.setThreadNamePrefix(&quot;Async-&quot;);\n        executor.initialize();\n        return executor;\n    }\n</code></pre>\n<p>Controller listner for response time</p>\n<pre><code>public class ResponseTimeAdvice  extends AbstractRequestLoggingFilter {\n\n    @Override\n    protected void afterRequest(HttpServletRequest request, String message) {\n        long startTime = (Long) request.getAttribute(&quot;startTime&quot;);\n        long duration = System.currentTimeMillis() - startTime;\n        log.info(&quot;Response time for {} took {} ms&quot;, request.getRequestURI(), duration);\n    }\n\n    @Override\n    protected void beforeRequest(HttpServletRequest request, String message) {\n        request.setAttribute(&quot;startTime&quot;, System.currentTimeMillis());\n    }\n}\n</code></pre>\n<p>Service with restemplate</p>\n<pre><code>   @Async(&quot;threadPoolTask&quot;)\n    public CompletableFuture&lt;UrlCat&gt; getCat2(){\n            HttpHeaders httpHeaders = new HttpHeaders();\n            httpHeaders.setContentType(MediaType.APPLICATION_JSON);\n            HttpEntity&lt;?&gt; httpEntity = new HttpEntity&lt;&gt;(httpHeaders);\n             long startTime = System.currentTimeMillis();\n            ResponseEntity&lt;UrlCat&gt; response = restTemplate.exchange(catUrl, HttpMethod.GET,httpEntity,UrlCat.class);\n            long elapsedTime = System.currentTimeMillis() - startTime;\n            log.info(&quot;Restemplate response time: {} ms&quot;, elapsedTime);\n            return  CompletableFuture.completedFuture(response.getBody());\n\n    }\n</code></pre>\n<p>Service impl with db</p>\n<pre><code>   public CompletableFuture&lt;UrlCat&gt;  catApi5extend()  {\n            CompletableFuture&lt;UrlCat&gt; completableFuture2 =   personApiService.getCat2().thenApply\n                    (response -&gt; catRepo.save(response) );\n            return  CompletableFuture.completedFuture(completableFuture2.join());\n    }\n\n</code></pre>\n<p>Controller where ServiceImpl connected</p>\n<pre><code>    @GetMapping(&quot;/cat&quot;)\n//    @Async(&quot;threadPoolTask&quot;)\n    public CompletableFuture&lt;UrlCat&gt; catController(){\n      CompletableFuture&lt;UrlCat&gt; urlCat =  catApi.catApi5extend();\n       return CompletableFuture.completedFuture(urlCat.join());\n    }\n</code></pre>\n<p>log for response time of rest template and controller with 500 concurrent users.</p>\n<p>Resttemplate: <code>Restemplate response time:</code>\nController: <code>Response time for /cat took</code></p>\n<p><code>Start log</code></p>\n<pre><code>2023-04-04 21:26:10.639  INFO 50576 --- [        Async-4] c.e.C.test.CatApiService                 : Restemplate response time: 1327 ms\n2023-04-04 21:26:10.639  INFO 50576 --- [        Async-3] c.e.C.test.CatApiService                 : Restemplate response time: 1328 ms\n2023-04-04 21:26:10.639  INFO 50576 --- [        Async-2] c.e.C.test.CatApiService                 : Restemplate response time: 1327 ms\n2023-04-04 21:26:10.651  INFO 50576 --- [        Async-1] c.e.C.test.CatApiService                 : Restemplate response time: 1340 ms\n2023-04-04 21:26:10.754  INFO 50576 --- [io-8080-exec-87] c.e.C.listener.ResponseTimeAdvice        : Response time for /cat took 1458 ms\n2023-04-04 21:26:10.754  INFO 50576 --- [nio-8080-exec-2] c.e.C.listener.ResponseTimeAdvice        : Response time for /cat took 1516 ms\n2023-04-04 21:26:10.754  INFO 50576 --- [io-8080-exec-88] c.e.C.listener.ResponseTimeAdvice        : Response time for /cat took 1458 ms\n2023-04-04 21:26:10.754  INFO 50576 --- [io-8080-exec-85] c.e.C.listener.ResponseTimeAdvice        : Response time for /cat took 1460 ms\n2023-04-04 21:26:10.924  INFO 50576 --- [        Async-3] c.e.C.test.CatApiService                 : Restemplate response time: 225 ms\n2023-04-04 21:26:10.924  INFO 50576 --- [        Async-2] c.e.C.test.CatApiService                 : Restemplate response time: 225 ms\n2023-04-04 21:26:10.928  INFO 50576 --- [io-8080-exec-86] c.e.C.listener.ResponseTimeAdvice        : Response time for /cat took 1634 ms\n2023-04-04 21:26:10.928  INFO 50576 --- [io-8080-exec-89] c.e.C.listener.ResponseTimeAdvice        : Response time for /cat took 1629 ms\n2023-04-04 21:26:10.936  INFO 50576 --- [        Async-1] c.e.C.test.CatApiService                 : Restemplate response time: 237 ms\n2023-04-04 21:26:10.937  INFO 50576 --- [        Async-4] c.e.C.test.CatApiService                 : Restemplate response time: 238 ms\n2023-04-04 21:26:10.939  INFO 50576 --- [io-8080-exec-84] c.e.C.listener.ResponseTimeAdvice        : Response time for /cat took 1649 ms\n2023-04-04 21:26:10.940  INFO 50576 --- [nio-8080-exec-4] c.e.C.listener.ResponseTimeAdvice        : Response time for /cat took 1705 ms\n</code></pre>\n<p>Did not put all the log, its too long</p>\n<p><code>End log</code></p>\n<pre><code>4-04 21:26:46.461  INFO 50576 --- [io-8080-exec-66] c.e.C.listener.ResponseTimeAdvice        : Response time for /cat took 14641 ms\n2023-04-04 21:26:46.694  INFO 50576 --- [        Async-2] c.e.C.test.CatApiService                 : Restemplate response time: 234 ms\n2023-04-04 21:26:46.694  INFO 50576 --- [        Async-1] c.e.C.test.CatApiService                 : Restemplate response time: 234 ms\n2023-04-04 21:26:46.696  INFO 50576 --- [io-8080-exec-94] c.e.C.listener.ResponseTimeAdvice        : Response time for /cat took 14566 ms\n2023-04-04 21:26:46.696  INFO 50576 --- [io-8080-exec-95] c.e.C.listener.ResponseTimeAdvice        : Response time for /cat took 14566 ms\n2023-04-04 21:26:46.698  INFO 50576 --- [        Async-3] c.e.C.test.CatApiService                 : Restemplate response time: 238 ms\n2023-04-04 21:26:46.700  INFO 50576 --- [io-8080-exec-93] c.e.C.listener.ResponseTimeAdvice        : Response time for /cat took 14569 ms\n2023-04-04 21:26:46.703  INFO 50576 --- [        Async-4] c.e.C.test.CatApiService                 : Restemplate response time: 243 ms\n2023-04-04 21:26:46.705  INFO 50576 --- [io-8080-exec-96] c.e.C.listener.ResponseTimeAdvice        : Response time for /cat took 14576 ms\n2023-04-04 21:26:46.969  INFO 50576 --- [        Async-4] c.e.C.test.CatApiService                 : Restemplate response time: 265 ms\n2023-04-04 21:26:46.969  INFO 50576 --- [        Async-3] c.e.C.test.CatApiService                 : Restemplate response time: 270 ms\n2023-04-04 21:26:46.969  INFO 50576 --- [        Async-1] c.e.C.test.CatApiService                 : Restemplate response time: 274 ms\n2023-04-04 21:26:46.969  INFO 50576 --- [        Async-2] c.e.C.test.CatApiService                 : Restemplate response time: 274 ms\n2023-04-04 21:26:46.971  INFO 50576 --- [o-8080-exec-100] c.e.C.listener.ResponseTimeAdvice        : Response time for /cat took 14537 ms\n2023-04-04 21:26:46.971  INFO 50576 --- [io-8080-exec-97] c.e.C.listener.ResponseTimeAdvice        : Response time for /cat took 14537 ms\n2023-04-04 21:26:46.971  INFO 50576 --- [io-8080-exec-99] c.e.C.listener.ResponseTimeAdvice        : Response time for /cat took 14536 ms\n2023-04-04 21:26:46.971  INFO 50576 --- [io-8080-exec-98] c.e.C.listener.ResponseTimeAdvice        : Response time for /cat took 14536 ms\n</code></pre>\n"},{"tags":["java","android","random","okhttp","tls1.2"],"owner":{"account_id":28213356,"reputation":11,"user_id":21565247,"display_name":"Frank M&#252;ller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680616853,"creation_date":1680616853,"question_id":75930286,"body_markdown":"For research purposes I used OkHttp3 as a dependency in my android application and in my native java environment. These are two identical applications which do the same.\r\n\r\nThe idea is simple: I create an instance of the OkHttpClient Class and set the random number generator in the SocketFactoryClass. Here is an example:\r\n\r\n```\r\nOkHttpClient client = new OkHttpClient.Builder()\r\n    .sslSocketFactory(new CustomSSLSocketFactory(null), x509TrustManagers)\r\n    .build();\r\n```\r\n\r\nThe CustomSSLSocketFactory class creates a SSLContext and within this init()-Method the new random number generator is handed over. It&#39;s looking like this:\r\n\r\n```\r\nSSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\nsslContext.init(keyManagers, trustManagers, rand);\r\n```\r\n\r\n`rand` is in this case my own random number generator.\r\n\r\n---\r\n\r\nNext I tested this code on my android mobile application and in my native java environment. For test purposes I set the random value to 0x41.\r\n\r\nSo when I looked at the data packets (send by my java program) I saw the random field filled with bytes of 0x41 (A). But when I tested this application on my android phone, the random value is not a block of 0x41 bytes. I don&#39;t understand this behaviour on android smartphones.\r\n\r\nCan anyone of you tell me why I cannot set the random number generator in android applications.","title":"Unexpected behaviour with OkHttp on Android Devices","body":"<p>For research purposes I used OkHttp3 as a dependency in my android application and in my native java environment. These are two identical applications which do the same.</p>\n<p>The idea is simple: I create an instance of the OkHttpClient Class and set the random number generator in the SocketFactoryClass. Here is an example:</p>\n<pre><code>OkHttpClient client = new OkHttpClient.Builder()\n    .sslSocketFactory(new CustomSSLSocketFactory(null), x509TrustManagers)\n    .build();\n</code></pre>\n<p>The CustomSSLSocketFactory class creates a SSLContext and within this init()-Method the new random number generator is handed over. It's looking like this:</p>\n<pre><code>SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\nsslContext.init(keyManagers, trustManagers, rand);\n</code></pre>\n<p><code>rand</code> is in this case my own random number generator.</p>\n<hr />\n<p>Next I tested this code on my android mobile application and in my native java environment. For test purposes I set the random value to 0x41.</p>\n<p>So when I looked at the data packets (send by my java program) I saw the random field filled with bytes of 0x41 (A). But when I tested this application on my android phone, the random value is not a block of 0x41 bytes. I don't understand this behaviour on android smartphones.</p>\n<p>Can anyone of you tell me why I cannot set the random number generator in android applications.</p>\n"},{"tags":["java","android","firebase-realtime-database","picasso"],"answers":[{"tags":[],"owner":{"account_id":25117461,"reputation":153,"user_id":18966287,"display_name":"Saad Waseem"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680595970,"creation_date":1680595970,"answer_id":75926984,"question_id":75926527,"body_markdown":"You&#39;re reading `userStatus` and loading `userImage`.\r\nYou&#39;re also checking condition on image child and then loading status.","title":"Issue with Picasso library to fetch image from Firebase storage","body":"<p>You're reading <code>userStatus</code> and loading <code>userImage</code>.\nYou're also checking condition on image child and then loading status.</p>\n"}],"owner":{"account_id":28209958,"reputation":1,"user_id":21562403,"display_name":"Abhinav Kashyap"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680616751,"creation_date":1680592778,"question_id":75926527,"body_markdown":"I am trying to display user image from firebase storage to a CircleImageView but Piccaso does not show any image or sometimes the image holder gets disapeared.\r\n\r\nCode to get image:\r\n\r\n    private String receiverUserID;\r\n    private CircleImageView userProfileImage;\r\n    private DatabaseReference UserRef;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_profile);\r\n\r\n        UserRef = FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;);\r\n\r\n        userProfileImage = (CircleImageView) findViewById(R.id.visit_profile_image);\r\n\r\n      \r\n        receiverUserID = getIntent().getExtras().get(&quot;visit_user_id&quot;).toString();\r\n\r\n\r\n        RetrieveUserInfo();\r\n    }\r\n\r\n    private void RetrieveUserInfo()\r\n    {\r\n        UserRef.child(receiverUserID).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot)\r\n            {\r\n                if((dataSnapshot.exists()) &amp;&amp; (dataSnapshot.hasChild(&quot;image&quot;)))\r\n                {\r\n                    String userStatus = dataSnapshot.child(&quot;status&quot;).getValue().toString();\r\n\r\n                                 Picasso.get().load(userImage).placeholder(R.drawable.profile_image).into(userProfileImage);\r\n                }\r\n\r\n\r\n\r\n\r\nNote: (Holder show the default image with no problem). \r\n\r\nI want to get image in circle image view from firebase please help.","title":"Issue with Picasso library to fetch image from Firebase storage","body":"<p>I am trying to display user image from firebase storage to a CircleImageView but Piccaso does not show any image or sometimes the image holder gets disapeared.</p>\n<p>Code to get image:</p>\n<pre><code>private String receiverUserID;\nprivate CircleImageView userProfileImage;\nprivate DatabaseReference UserRef;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_profile);\n\n    UserRef = FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;);\n\n    userProfileImage = (CircleImageView) findViewById(R.id.visit_profile_image);\n\n  \n    receiverUserID = getIntent().getExtras().get(&quot;visit_user_id&quot;).toString();\n\n\n    RetrieveUserInfo();\n}\n\nprivate void RetrieveUserInfo()\n{\n    UserRef.child(receiverUserID).addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot)\n        {\n            if((dataSnapshot.exists()) &amp;&amp; (dataSnapshot.hasChild(&quot;image&quot;)))\n            {\n                String userStatus = dataSnapshot.child(&quot;status&quot;).getValue().toString();\n\n                             Picasso.get().load(userImage).placeholder(R.drawable.profile_image).into(userProfileImage);\n            }\n</code></pre>\n<p>Note: (Holder show the default image with no problem).</p>\n<p>I want to get image in circle image view from firebase please help.</p>\n"},{"tags":["java","android","android-adapter"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1680616987,"post_id":75930260,"comment_id":133925994,"body_markdown":"To be &quot;effectively final&quot; you must not re-assign the variable in question. In this case it is that simple: don&#39;t re-assign to `singleChoiceAdapter` later in the method. Instead, you can pass that `new ...` call to `#setAdapter` directly, make a new variable to hold the new adapter, or even make a &quot;copy&quot; variable before your listener, in order to keep that copy reference as effectively final.","body":"To be &quot;effectively final&quot; you must not re-assign the variable in question. In this case it is that simple: don&#39;t re-assign to <code>singleChoiceAdapter</code> later in the method. Instead, you can pass that <code>new ...</code> call to <code>#setAdapter</code> directly, make a new variable to hold the new adapter, or even make a &quot;copy&quot; variable before your listener, in order to keep that copy reference as effectively final."},{"owner":{"account_id":28213404,"reputation":1,"user_id":21565286,"display_name":"Akshat Agrawal"},"score":0,"creation_date":1680629319,"post_id":75930260,"comment_id":133929402,"body_markdown":"@Rogue Thankyou for replying to my problem.\nYour explanation solves the problem which I asked firstly but now when I run the application it gives the error &quot;Adapters.Single_Choice_Adapter.notifyDataSetChanged()&#39; on a null object reference&quot;. So i researched about it and found that my arraylist could be empty. But I am sure of that it is not empty. Could you help me there?","body":"@Rogue Thankyou for replying to my problem. Your explanation solves the problem which I asked firstly but now when I run the application it gives the error &quot;Adapters.Single_Choice_Adapter.notifyDataSetChanged()&#39; on a null object reference&quot;. So i researched about it and found that my arraylist could be empty. But I am sure of that it is not empty. Could you help me there?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1680639583,"post_id":75930260,"comment_id":133931796,"body_markdown":"At that point you may want to open a new question, since the topic has fundamentally changed (you could comment it here to me). That said, the full error does matter. If you got a NullPointerException, [refer to here](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it). The stacktrace should point to the line that is in error, but I wouldn&#39;t see it happening as a result of what is currently shown. If you find a `null` variable but don&#39;t understand how it became `null`, then you need to debug what set its value and from where.","body":"At that point you may want to open a new question, since the topic has fundamentally changed (you could comment it here to me). That said, the full error does matter. If you got a NullPointerException, <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">refer to here</a>. The stacktrace should point to the line that is in error, but I wouldn&#39;t see it happening as a result of what is currently shown. If you find a <code>null</code> variable but don&#39;t understand how it became <code>null</code>, then you need to debug what set its value and from where."}],"owner":{"account_id":28213404,"reputation":1,"user_id":21565286,"display_name":"Akshat Agrawal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680616656,"creation_date":1680616656,"question_id":75930260,"body_markdown":"I created a function with name setRecyclerViewSingleItems so that i can restrict the user to select only one option from the given options ( those options are stored in arrrayList ). I want to create this function such that i can do this multiple times but without creating the function multiple times.\r\n\r\nWhen i do that for a single type of list by defining their variables inside the function it works but not for every list.\r\n\r\nSo could anyone please explain me how can I solve this issue.\r\n\r\nI tried what the IDE suggesting me by making a another final variable but after that app crashes with null pointer exception.\r\n\r\n\r\n```\r\npublic class employer_after_login_form extends AppCompatActivity{\r\n    RecyclerView typeOfOrgRV, typeOfSectorRV;\r\n    ArrayList&lt;String&gt; typeOfOrgArrList, typeOfSectorArrList;\r\n    Multiple_Choice_Adapter typeOfOrgAdapter;\r\n    Multiple_Choice_Listener typeOfOrgListener;\r\n    Single_Choice_Adapter typeOfSectorAdapter;\r\n    Single_Choice_Listener typeOfSectorListener;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_employer_after_login_form);\r\n\r\n        //[START : type of organization code here]\r\n        typeOfOrgRV = findViewById(R.id.typeOfOrgRV);\r\n        String[] typeOfOrgStr = getResources().getStringArray(R.array.typeOfOrganisation);\r\n        typeOfOrgArrList = setArrayList(typeOfOrgStr);\r\n        setRecyclerViewMultipleItems(typeOfOrgRV, typeOfOrgArrList, typeOfOrgAdapter, typeOfOrgListener);\r\n        //[END]\r\n\r\n\r\n        //[START : industry OR sector choice]\r\n        typeOfSectorRV = findViewById(R.id.typeOfSectorRV);\r\n        String[] typeOfSectorStr = getResources().getStringArray(R.array.typeOfOrganisation);\r\n        typeOfSectorArrList = setArrayList(typeOfSectorStr);\r\n        setRecyclerViewSingleItems(typeOfSectorRV, typeOfSectorArrList, typeOfSectorAdapter, typeOfSectorListener);\r\n        //[END]\r\n    }\r\n\r\n    private void setRecyclerViewSingleItems(RecyclerView recyclerView, ArrayList&lt;String&gt; arrayList, Single_Choice_Adapter singleChoiceAdapter, Single_Choice_Listener singleChoiceListener) {\r\n        singleChoiceListener = new Single_Choice_Listener() {\r\n            @Override\r\n            public void onSingleItemSelected(String s) {\r\n                recyclerView.post(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        singleChoiceAdapter.notifyDataSetChanged();\r\n                    }\r\n                });\r\n                Toast.makeText(employer_after_login_form.this, s, Toast.LENGTH_SHORT).show();\r\n            }\r\n        };\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        singleChoiceAdapter = new Single_Choice_Adapter(this, arrayList, singleChoiceListener);\r\n        recyclerView.setAdapter(singleChoiceAdapter);\r\n    }\r\n\r\n    private void setRecyclerViewMultipleItems(RecyclerView recyclerView, ArrayList&lt;String&gt; arrayList, Multiple_Choice_Adapter multipleChoiceAdapter, Multiple_Choice_Listener multipleChoiceListener) {\r\n        typeOfOrgRV.setHasFixedSize(true);\r\n        typeOfOrgListener = new Multiple_Choice_Listener() {\r\n            @Override\r\n            public void onMultipleItemSelected(ArrayList&lt;String&gt; arrayList) {\r\n                typeOfOrgRV.post(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        typeOfOrgAdapter.notifyDataSetChanged();\r\n                    }\r\n                });\r\n                Toast.makeText(employer_after_login_form.this, arrayList.toString(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        };\r\n        typeOfOrgRV.setLayoutManager(new LinearLayoutManager(this));\r\n        typeOfOrgAdapter = new Multiple_Choice_Adapter(this, typeOfOrgArrList, typeOfOrgListener);\r\n        typeOfOrgRV.setAdapter(typeOfOrgAdapter);\r\n    }\r\n\r\n    private ArrayList&lt;String&gt; setArrayList(String[] stringArray) {\r\n        ArrayList&lt;String&gt; arrayList = new ArrayList&lt;&gt;(Arrays.asList(stringArray));\r\n        return arrayList;\r\n    }\r\n\r\n    /*@Override\r\n    public void onMultipleItemSelected(ArrayList&lt;String&gt; arrayList) {\r\n        Toast.makeText(this, arrayList.toString(), Toast.LENGTH_SHORT).show();\r\n    }*/\r\n}\r\n```\r\n","title":"Variable &#39;singleChoiceAdapter&#39; is accessed from within inner class, needs to be final or effectively final","body":"<p>I created a function with name setRecyclerViewSingleItems so that i can restrict the user to select only one option from the given options ( those options are stored in arrrayList ). I want to create this function such that i can do this multiple times but without creating the function multiple times.</p>\n<p>When i do that for a single type of list by defining their variables inside the function it works but not for every list.</p>\n<p>So could anyone please explain me how can I solve this issue.</p>\n<p>I tried what the IDE suggesting me by making a another final variable but after that app crashes with null pointer exception.</p>\n<pre><code>public class employer_after_login_form extends AppCompatActivity{\n    RecyclerView typeOfOrgRV, typeOfSectorRV;\n    ArrayList&lt;String&gt; typeOfOrgArrList, typeOfSectorArrList;\n    Multiple_Choice_Adapter typeOfOrgAdapter;\n    Multiple_Choice_Listener typeOfOrgListener;\n    Single_Choice_Adapter typeOfSectorAdapter;\n    Single_Choice_Listener typeOfSectorListener;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_employer_after_login_form);\n\n        //[START : type of organization code here]\n        typeOfOrgRV = findViewById(R.id.typeOfOrgRV);\n        String[] typeOfOrgStr = getResources().getStringArray(R.array.typeOfOrganisation);\n        typeOfOrgArrList = setArrayList(typeOfOrgStr);\n        setRecyclerViewMultipleItems(typeOfOrgRV, typeOfOrgArrList, typeOfOrgAdapter, typeOfOrgListener);\n        //[END]\n\n\n        //[START : industry OR sector choice]\n        typeOfSectorRV = findViewById(R.id.typeOfSectorRV);\n        String[] typeOfSectorStr = getResources().getStringArray(R.array.typeOfOrganisation);\n        typeOfSectorArrList = setArrayList(typeOfSectorStr);\n        setRecyclerViewSingleItems(typeOfSectorRV, typeOfSectorArrList, typeOfSectorAdapter, typeOfSectorListener);\n        //[END]\n    }\n\n    private void setRecyclerViewSingleItems(RecyclerView recyclerView, ArrayList&lt;String&gt; arrayList, Single_Choice_Adapter singleChoiceAdapter, Single_Choice_Listener singleChoiceListener) {\n        singleChoiceListener = new Single_Choice_Listener() {\n            @Override\n            public void onSingleItemSelected(String s) {\n                recyclerView.post(new Runnable() {\n                    @Override\n                    public void run() {\n                        singleChoiceAdapter.notifyDataSetChanged();\n                    }\n                });\n                Toast.makeText(employer_after_login_form.this, s, Toast.LENGTH_SHORT).show();\n            }\n        };\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n        singleChoiceAdapter = new Single_Choice_Adapter(this, arrayList, singleChoiceListener);\n        recyclerView.setAdapter(singleChoiceAdapter);\n    }\n\n    private void setRecyclerViewMultipleItems(RecyclerView recyclerView, ArrayList&lt;String&gt; arrayList, Multiple_Choice_Adapter multipleChoiceAdapter, Multiple_Choice_Listener multipleChoiceListener) {\n        typeOfOrgRV.setHasFixedSize(true);\n        typeOfOrgListener = new Multiple_Choice_Listener() {\n            @Override\n            public void onMultipleItemSelected(ArrayList&lt;String&gt; arrayList) {\n                typeOfOrgRV.post(new Runnable() {\n                    @Override\n                    public void run() {\n                        typeOfOrgAdapter.notifyDataSetChanged();\n                    }\n                });\n                Toast.makeText(employer_after_login_form.this, arrayList.toString(), Toast.LENGTH_SHORT).show();\n            }\n        };\n        typeOfOrgRV.setLayoutManager(new LinearLayoutManager(this));\n        typeOfOrgAdapter = new Multiple_Choice_Adapter(this, typeOfOrgArrList, typeOfOrgListener);\n        typeOfOrgRV.setAdapter(typeOfOrgAdapter);\n    }\n\n    private ArrayList&lt;String&gt; setArrayList(String[] stringArray) {\n        ArrayList&lt;String&gt; arrayList = new ArrayList&lt;&gt;(Arrays.asList(stringArray));\n        return arrayList;\n    }\n\n    /*@Override\n    public void onMultipleItemSelected(ArrayList&lt;String&gt; arrayList) {\n        Toast.makeText(this, arrayList.toString(), Toast.LENGTH_SHORT).show();\n    }*/\n}\n</code></pre>\n"},{"tags":["java","cryptography","bouncycastle","x509"],"comments":[{"owner":{"account_id":97438,"reputation":3932,"user_id":264294,"display_name":"Peter Dettman"},"score":0,"creation_date":1354765981,"post_id":13565532,"comment_id":18874059,"body_markdown":"This question seems very confused. If you remove the fwO stuff completely from the given example, it would leave essentially code for writing an X509Certificate to System out in PEM format. The fwO parts are NOT producing DER, for that you would need to call getEncoded instead of toString.","body":"This question seems very confused. If you remove the fwO stuff completely from the given example, it would leave essentially code for writing an X509Certificate to System out in PEM format. The fwO parts are NOT producing DER, for that you would need to call getEncoded instead of toString."}],"answers":[{"comments":[{"owner":{"account_id":191040,"reputation":35091,"user_id":431359,"accept_rate":89,"display_name":"Richard Schneider"},"score":1,"creation_date":1353956628,"post_id":13565691,"comment_id":18595772,"body_markdown":"My apologies @owlstead. I was on my mobile and still can&#39;t type well on it.  Just to old skool.","body":"My apologies @owlstead. I was on my mobile and still can&#39;t type well on it.  Just to old skool."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1353963173,"post_id":13565691,"comment_id":18598557,"body_markdown":"Yeah, I know that feeling. Maybe edit it when you get home, or type it in later. I can type relatively well on mine but I still haven&#39;t found out how I can quickly inline code as the right character is completely missing from the screen keyboard. Rereading and tinkering before posting is certainly required.","body":"Yeah, I know that feeling. Maybe edit it when you get home, or type it in later. I can type relatively well on mine but I still haven&#39;t found out how I can quickly inline code as the right character is completely missing from the screen keyboard. Rereading and tinkering before posting is certainly required."}],"tags":[],"owner":{"account_id":191040,"reputation":35091,"user_id":431359,"accept_rate":89,"display_name":"Richard Schneider"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1353953838,"creation_date":1353935974,"answer_id":13565691,"question_id":13565532,"body_markdown":"I&#39;m not a Java developer, and therefore I cannot show you code or point to a class. PEM is just the Base64 encoding of the binary DER, with a standard header and trailer.\r\n","title":"Convert der to pem through bouncy castle library","body":"<p>I'm not a Java developer, and therefore I cannot show you code or point to a class. PEM is just the Base64 encoding of the binary DER, with a standard header and trailer.</p>\n"},{"tags":[],"owner":{"account_id":256936,"reputation":196,"user_id":537990,"display_name":"Benton"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1360681866,"creation_date":1360681866,"answer_id":14835614,"question_id":13565532,"body_markdown":"Below is a method that will convert various BC objects to PEM string serialized format.  Note this code is for the C# version of BC but should translate to the Java version without much effort.\r\n\r\n    // converts bouncy castle objects of type\r\n    // X509Certificate, X509Crl, AsymmetricCipherKeyPair, AsymmetricKeyParameter,\r\n    // IX509AttributeCertificate, Pkcs10CertificationRequest, Asn1.Cms.ContentInfo \r\n    // to PEM format string\r\n    public string ToPem(object obj)\r\n    {\r\n    \tusing (MemoryStream mem = new MemoryStream())\r\n    \t{\r\n    \t\tStreamWriter writer = new StreamWriter(mem);\r\n    \t\tOrg.BouncyCastle.OpenSsl.PemWriter pem = new Org.BouncyCastle.OpenSsl.PemWriter(writer);\r\n    \t\tpem.WriteObject(obj);\r\n    \t\t// force the pem write to flush it&#39;s data - kind of abnoxious you have to do that\r\n    \t\tpem.Writer.Flush();\r\n    \t\t// create a stream reader to read the data.\r\n    \t\tStreamReader reader = new StreamReader(mem);\r\n    \t\tmem.Position = 0;\r\n    \t\tstring pemStr = reader.ReadToEnd();\r\n    \t\treturn pemStr;\r\n    \t}\r\n    }","title":"Convert der to pem through bouncy castle library","body":"<p>Below is a method that will convert various BC objects to PEM string serialized format.  Note this code is for the C# version of BC but should translate to the Java version without much effort.</p>\n\n<pre><code>// converts bouncy castle objects of type\n// X509Certificate, X509Crl, AsymmetricCipherKeyPair, AsymmetricKeyParameter,\n// IX509AttributeCertificate, Pkcs10CertificationRequest, Asn1.Cms.ContentInfo \n// to PEM format string\npublic string ToPem(object obj)\n{\n    using (MemoryStream mem = new MemoryStream())\n    {\n        StreamWriter writer = new StreamWriter(mem);\n        Org.BouncyCastle.OpenSsl.PemWriter pem = new Org.BouncyCastle.OpenSsl.PemWriter(writer);\n        pem.WriteObject(obj);\n        // force the pem write to flush it's data - kind of abnoxious you have to do that\n        pem.Writer.Flush();\n        // create a stream reader to read the data.\n        StreamReader reader = new StreamReader(mem);\n        mem.Position = 0;\n        string pemStr = reader.ReadToEnd();\n        return pemStr;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29422,"reputation":15283,"user_id":79485,"accept_rate":88,"display_name":"Marcel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680616641,"creation_date":1680616641,"answer_id":75930255,"question_id":13565532,"body_markdown":"Late to the party, but for completeness&#39;s sake, this is way you can read binary DER data into a Bouncy Castle `X509Certificate` (where `derData` is the binary DER certificate):\r\n    \r\n    Org.BouncyCastle.X509.X509Certificate certificate \r\n        = new X509CertificateParser().ReadCertificate(derData);\r\n\r\nUsing this `X509Certificate` you can no use @Benton&#39;s method to the PEM representation:\r\n\r\n     string pemData = ToPem(certificate);\r\n\r\n","title":"Convert der to pem through bouncy castle library","body":"<p>Late to the party, but for completeness's sake, this is way you can read binary DER data into a Bouncy Castle <code>X509Certificate</code> (where <code>derData</code> is the binary DER certificate):</p>\n<pre><code>Org.BouncyCastle.X509.X509Certificate certificate \n    = new X509CertificateParser().ReadCertificate(derData);\n</code></pre>\n<p>Using this <code>X509Certificate</code> you can no use @Benton's method to the PEM representation:</p>\n<pre><code> string pemData = ToPem(certificate);\n</code></pre>\n"}],"owner":{"account_id":1425867,"reputation":622,"user_id":1349407,"accept_rate":76,"display_name":"user1349407"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8516,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":13565691,"answer_count":3,"score":1,"last_activity_date":1680616641,"creation_date":1353935381,"question_id":13565532,"body_markdown":"I found many answers towards convert from *pem* to *der*.\r\n\r\nHowever, I cannot find ways to convert *der* to *pem*.\r\n\r\nfor example, the following codes generates der encoded file *pkcs10.cer*\r\n\r\n\r\n \tpublic static void main(String[] args) throws Exception\r\n \t{\r\n \t\tX509Certificate[] chain = buildChain();\r\n \t\tPEMWriter pemWrt = new PEMWriter(new OutputStreamWriter(System.out));\r\n \t\tpemWrt.writeObject(chain[0]);\r\n\t\t\r\n \t\tFileWriter fwO = new FileWriter(&quot;pkcs10.cer&quot;);\r\n \t\tfwO.write((chain[0]).toString());\r\n \r\n \t\tfwO.close();\r\n \t\tpemWrt.close();\r\n  \t\t\t\r\n \t}\r\n\r\nLike,\r\n  [0]         Version: 3\r\n         SerialNumber: 1353995641265\r\n             IssuerDN: CN=Test Certificate\r\n           Start Date: Mon Nov 26 21:54:01 PST 2012\r\n           Final Date: Mon Nov 26 21:54:51 PST 2012\r\n\r\nHowever, I don&#39;t know how to make pem encoded Certification from der files.\r\n","title":"Convert der to pem through bouncy castle library","body":"<p>I found many answers towards convert from <em>pem</em> to <em>der</em>.</p>\n\n<p>However, I cannot find ways to convert <em>der</em> to <em>pem</em>.</p>\n\n<p>for example, the following codes generates der encoded file <em>pkcs10.cer</em></p>\n\n<pre><code>public static void main(String[] args) throws Exception\n{\n    X509Certificate[] chain = buildChain();\n    PEMWriter pemWrt = new PEMWriter(new OutputStreamWriter(System.out));\n    pemWrt.writeObject(chain[0]);\n\n    FileWriter fwO = new FileWriter(\"pkcs10.cer\");\n    fwO.write((chain[0]).toString());\n\n    fwO.close();\n    pemWrt.close();\n\n}\n</code></pre>\n\n<p>Like,\n  [0]         Version: 3\n         SerialNumber: 1353995641265\n             IssuerDN: CN=Test Certificate\n           Start Date: Mon Nov 26 21:54:01 PST 2012\n           Final Date: Mon Nov 26 21:54:51 PST 2012</p>\n\n<p>However, I don't know how to make pem encoded Certification from der files.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":2,"creation_date":1556580578,"post_id":55911921,"comment_id":98478861,"body_markdown":"It works with Java 9+","body":"It works with Java 9+"},{"owner":{"account_id":15841199,"reputation":31,"user_id":11429658,"display_name":"Pratik Bansal"},"score":0,"creation_date":1556647352,"post_id":55911921,"comment_id":98506535,"body_markdown":"I tested with Amazon Corretto 11 and it works as per @Andreas suggestion.","body":"I tested with Amazon Corretto 11 and it works as per @Andreas suggestion."}],"answers":[{"tags":[],"owner":{"account_id":5819278,"reputation":154,"user_id":4587866,"display_name":"Pim Tegelaar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680616550,"creation_date":1680616550,"answer_id":75930240,"question_id":55911921,"body_markdown":"This was fixed in Java 9.\r\n\r\nYou can try it out:\r\n\r\nhttps://www.tutorialspoint.com/compile_java8_online.php\r\n\r\n\r\n    Matches with canon eq: false\r\n    Matches without canon eq: true\r\n\r\nhttps://www.tutorialspoint.com/online_java_compiler.php\r\n\r\n    Matches with canon eq: true\r\n    Matches without canon eq: true","title":"Predefined Character Classes regex match fails when using CANON_EQ","body":"<p>This was fixed in Java 9.</p>\n<p>You can try it out:</p>\n<p><a href=\"https://www.tutorialspoint.com/compile_java8_online.php\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/compile_java8_online.php</a></p>\n<pre><code>Matches with canon eq: false\nMatches without canon eq: true\n</code></pre>\n<p><a href=\"https://www.tutorialspoint.com/online_java_compiler.php\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/online_java_compiler.php</a></p>\n<pre><code>Matches with canon eq: true\nMatches without canon eq: true\n</code></pre>\n"}],"owner":{"account_id":15841199,"reputation":31,"user_id":11429658,"display_name":"Pratik Bansal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1680616550,"creation_date":1556579462,"question_id":55911921,"body_markdown":"I added code to support Unicode Canonical Equivalence in Regex. However, when I use a precomposed character and one of the Predefined Character Class character like \\s, the match seems to fail.\r\n\r\n```\r\nimport java.util.*;\r\nimport java.lang.*;\r\nimport java.util.regex.*;\r\n\r\nclass Main\r\n{\r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t\tPattern withCE = Pattern.compile(&quot;^a\\u030A\\\\sx$&quot;,Pattern.CANON_EQ);\r\n\t\tPattern withoutCE = Pattern.compile(&quot;^a\\u030A\\\\sx$&quot;);\r\n\t\tString inputWithCE = &quot;\\u00E5 x&quot;;\r\n\t\tString inputWithoutCE = &quot;a\\u030A x&quot;;\r\n\t\t\r\n\t\tSystem.out.println(&quot;Matches with canon eq: &quot; + withCE.matcher(inputWithCE).matches());\r\n\t\tSystem.out.println(&quot;Matches without canon eq: &quot; + withoutCE.matcher(inputWithoutCE).matches());\r\n\t}\r\n}\r\n```\r\n\r\nOutput is:\r\n```\r\nMatches with canon eq: false\r\nMatches without canon eq: true\r\n```\r\nTry it here: https://ideone.com/vBzzL2\r\n\r\nI was expecting the result to be &#39;true&#39; even when used with canonical equivalence option to compile the regex pattern. What am I doing wrong","title":"Predefined Character Classes regex match fails when using CANON_EQ","body":"<p>I added code to support Unicode Canonical Equivalence in Regex. However, when I use a precomposed character and one of the Predefined Character Class character like \\s, the match seems to fail.</p>\n\n<pre><code>import java.util.*;\nimport java.lang.*;\nimport java.util.regex.*;\n\nclass Main\n{\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        Pattern withCE = Pattern.compile(\"^a\\u030A\\\\sx$\",Pattern.CANON_EQ);\n        Pattern withoutCE = Pattern.compile(\"^a\\u030A\\\\sx$\");\n        String inputWithCE = \"\\u00E5 x\";\n        String inputWithoutCE = \"a\\u030A x\";\n\n        System.out.println(\"Matches with canon eq: \" + withCE.matcher(inputWithCE).matches());\n        System.out.println(\"Matches without canon eq: \" + withoutCE.matcher(inputWithoutCE).matches());\n    }\n}\n</code></pre>\n\n<p>Output is:</p>\n\n<pre><code>Matches with canon eq: false\nMatches without canon eq: true\n</code></pre>\n\n<p>Try it here: <a href=\"https://ideone.com/vBzzL2\" rel=\"nofollow noreferrer\">https://ideone.com/vBzzL2</a></p>\n\n<p>I was expecting the result to be 'true' even when used with canonical equivalence option to compile the regex pattern. What am I doing wrong</p>\n"},{"tags":["java","rest","jersey","java-5"],"comments":[{"owner":{"display_name":"user1907906"},"score":0,"creation_date":1384954902,"post_id":20096883,"comment_id":29943691,"body_markdown":"Why JDK1.5? That&#39;s ancient.","body":"Why JDK1.5? That&#39;s ancient."},{"owner":{"account_id":295230,"reputation":14501,"user_id":599528,"accept_rate":95,"display_name":"Jacob"},"score":0,"creation_date":1385009187,"post_id":20096883,"comment_id":29970354,"body_markdown":"@LutzHorn For one of the legacy application server, we have JDK1.5, so  options are limited.","body":"@LutzHorn For one of the legacy application server, we have JDK1.5, so  options are limited."}],"answers":[{"comments":[{"owner":{"account_id":295230,"reputation":14501,"user_id":599528,"accept_rate":95,"display_name":"Jacob"},"score":0,"creation_date":1384953869,"post_id":20097095,"comment_id":29942994,"body_markdown":"You mean `MediaType.TEXT_HTML`, it didn&#39;t help.","body":"You mean <code>MediaType.TEXT_HTML</code>, it didn&#39;t help."},{"owner":{"account_id":317358,"reputation":5187,"user_id":634003,"accept_rate":73,"display_name":"constantlearner"},"score":0,"creation_date":1384953951,"post_id":20097095,"comment_id":29943059,"body_markdown":"Remove the flower bracket","body":"Remove the flower bracket"},{"owner":{"account_id":295230,"reputation":14501,"user_id":599528,"accept_rate":95,"display_name":"Jacob"},"score":0,"creation_date":1385013918,"post_id":20097095,"comment_id":29971976,"body_markdown":"Well your point of verifying whether I have conflicting versions made me think about conflicting jars and there was a spring mvc jar which was causing this issue even though  I am not using Maven for this project. I removed all unwanted and jars which are not being used, recompiled the project and tested again, it worked as expected. Thanks for your suggestion. By the way `@POST` is not relevant for ths, `@GET` is what required.","body":"Well your point of verifying whether I have conflicting versions made me think about conflicting jars and there was a spring mvc jar which was causing this issue even though  I am not using Maven for this project. I removed all unwanted and jars which are not being used, recompiled the project and tested again, it worked as expected. Thanks for your suggestion. By the way <code>@POST</code> is not relevant for ths, <code>@GET</code> is what required."}],"tags":[],"owner":{"account_id":317358,"reputation":5187,"user_id":634003,"accept_rate":73,"display_name":"constantlearner"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1384954372,"creation_date":1384953507,"answer_id":20097095,"question_id":20096883,"body_markdown":"check your annotation\r\n\r\n      @POST\r\n      @Produces(MediaType.TEXT_HTML) also try\r\n\r\nAlso try \r\n\r\nyou are having an incorrect version of asm.jar on your classpath. Make sure:\r\n\r\nyour deployed lib folder contains the same jars as target/app.war/WEB-INF/lib\r\n\r\nyou don&#39;t have two versions of the asm.jar\r\n\r\nyou don&#39;t have conflicting versions in maven","title":"Jersey REST Exception java.lang.ArrayIndexOutOfBoundsException at org.objectweb.asm.ClassReader.readInt","body":"<p>check your annotation</p>\n\n<pre><code>  @POST\n  @Produces(MediaType.TEXT_HTML) also try\n</code></pre>\n\n<p>Also try </p>\n\n<p>you are having an incorrect version of asm.jar on your classpath. Make sure:</p>\n\n<p>your deployed lib folder contains the same jars as target/app.war/WEB-INF/lib</p>\n\n<p>you don't have two versions of the asm.jar</p>\n\n<p>you don't have conflicting versions in maven</p>\n"},{"tags":[],"owner":{"account_id":3524392,"reputation":859,"user_id":2945917,"accept_rate":73,"display_name":"user435421"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593169117,"creation_date":1593169117,"answer_id":62593297,"question_id":20096883,"body_markdown":"In my case I had this code\r\n\r\n    @GET\r\n    @Path(&quot;/get_something&quot;)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public Message&lt;String&gt; getSomething(@QueryParam(&quot;p_item&quot;) String p_item,  @QueryParam(&quot;p_items&quot;) List&lt;String&gt; p_items) throws Exception {\r\n        ...\r\n        p_items.forEach(s -&gt; {\r\n           try {\r\n               // something that throws IOException \r\n           } catch (IOException e) {\r\n               throw new RuntimeException(e);\r\n           }\r\n        });\r\n        ...\r\n    }\r\n\r\nAfter I changed `forEach` to regular loop it worked.","title":"Jersey REST Exception java.lang.ArrayIndexOutOfBoundsException at org.objectweb.asm.ClassReader.readInt","body":"<p>In my case I had this code</p>\n<pre><code>@GET\n@Path(&quot;/get_something&quot;)\n@Produces(MediaType.APPLICATION_JSON)\npublic Message&lt;String&gt; getSomething(@QueryParam(&quot;p_item&quot;) String p_item,  @QueryParam(&quot;p_items&quot;) List&lt;String&gt; p_items) throws Exception {\n    ...\n    p_items.forEach(s -&gt; {\n       try {\n           // something that throws IOException \n       } catch (IOException e) {\n           throw new RuntimeException(e);\n       }\n    });\n    ...\n}\n</code></pre>\n<p>After I changed <code>forEach</code> to regular loop it worked.</p>\n"},{"tags":[],"owner":{"account_id":5771266,"reputation":492,"user_id":4554652,"display_name":"pradip garala"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616064472,"creation_date":1616064472,"answer_id":66689525,"question_id":20096883,"body_markdown":"I was using apache server 8.5.59 and getting same exception.\r\nNow I moved to apacher server version 8.5.12.\r\n\r\nIt is working fine.\r\n\r\nPlease find jar details\r\n  - asm-3.1.jar\r\n  - jersey-bundle-1.1.5.1.jar\r\n\r\nJDK : Zulu 8.36.0.2\r\n\r\nEclipse : Oxygen.2 Release (4.7.2)","title":"Jersey REST Exception java.lang.ArrayIndexOutOfBoundsException at org.objectweb.asm.ClassReader.readInt","body":"<p>I was using apache server 8.5.59 and getting same exception.\nNow I moved to apacher server version 8.5.12.</p>\n<p>It is working fine.</p>\n<p>Please find jar details</p>\n<ul>\n<li>asm-3.1.jar</li>\n<li>jersey-bundle-1.1.5.1.jar</li>\n</ul>\n<p>JDK : Zulu 8.36.0.2</p>\n<p>Eclipse : Oxygen.2 Release (4.7.2)</p>\n"},{"comments":[{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":1,"creation_date":1680988205,"post_id":75930224,"comment_id":133987842,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit](https://stackoverflow.com/posts/75930224/edit) to add additional details that will help others understand how you encountered this issue and how you were able to resolve it. I recommend you visit [the help center](https://stackoverflow.com/help/how-to-answer) and take some inspiration from how the other answers provided some context surrounding their encounter with this issue, so their solutions made more sense","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75930224/edit\">edit</a> to add additional details that will help others understand how you encountered this issue and how you were able to resolve it. I recommend you visit <a href=\"https://stackoverflow.com/help/how-to-answer\">the help center</a> and take some inspiration from how the other answers provided some context surrounding their encounter with this issue, so their solutions made more sense"}],"tags":[],"owner":{"account_id":28211989,"reputation":1,"user_id":21564066,"display_name":"Abdullah Karahan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680616457,"creation_date":1680616457,"answer_id":75930224,"question_id":20096883,"body_markdown":"Some pom dependencies can cause this problem.Remove last added dependencies and try again.When i add log4j dependencies to my pom.xml i had this error.I removed and it solved. ","title":"Jersey REST Exception java.lang.ArrayIndexOutOfBoundsException at org.objectweb.asm.ClassReader.readInt","body":"<p>Some pom dependencies can cause this problem.Remove last added dependencies and try again.When i add log4j dependencies to my pom.xml i had this error.I removed and it solved.</p>\n"}],"owner":{"account_id":295230,"reputation":14501,"user_id":599528,"accept_rate":95,"display_name":"Jacob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9032,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":20097095,"answer_count":4,"score":4,"last_activity_date":1680616457,"creation_date":1384952926,"question_id":20096883,"body_markdown":"I am using Jersey 1.2 for building RESTful services using JDK1.5\r\n\r\nWhen I test REST services, I am getting the following exception.\r\n\r\n   &gt;java.lang.ArrayIndexOutOfBoundsException: 2884779\tat\r\n    org.objectweb.asm.ClassReader.readInt(Unknown Source)\tat\r\n    org.objectweb.asm.ClassReader.accept(Unknown Source)\tat\r\n    org.objectweb.asm.ClassReader.accept(Unknown Source)\tat \r\n    com.sun.jersey.spi.scanning.AnnotationScannerListener.onProcess\r\n    (AnnotationScannerListener.java:130)\tat\r\n    com.sun.jersey.core.spi.scanning.uri.FileSchemeScanner$1.\r\n    f(FileSchemeScanner.java:83)\tat \r\n    com.sun.jersey.core.util.Closing.f(Closing.java:68)\r\n\r\nI have created a simple class for testing\r\n\r\n    @Path(&quot;/employee&quot;)\r\n    public class TestRest {\r\n    \r\n    \r\n        @GET\r\n        @Produces( { MediaType.TEXT_HTML })\r\n        public String getClichedMessage() {\r\n            \r\n            return &quot;Hello Smith&quot;;\r\n        }\r\n    }\r\n\r\n\r\nHow can I resolve this issue?\r\n\r\nMy jar versions \r\n\r\n    jersey-server-1.2.jar\r\n    jersey-core-1.2.jar\r\n    grizzly-servlet-webserver-1.9.18-i.jar\r\n    asm-3.1.jar\r\n    jsr311-api-1.1.jar\r\n\r\n","title":"Jersey REST Exception java.lang.ArrayIndexOutOfBoundsException at org.objectweb.asm.ClassReader.readInt","body":"<p>I am using Jersey 1.2 for building RESTful services using JDK1.5</p>\n\n<p>When I test REST services, I am getting the following exception.</p>\n\n<blockquote>\n  <p>java.lang.ArrayIndexOutOfBoundsException: 2884779   at\n      org.objectweb.asm.ClassReader.readInt(Unknown Source)   at\n      org.objectweb.asm.ClassReader.accept(Unknown Source)    at\n      org.objectweb.asm.ClassReader.accept(Unknown Source)    at \n      com.sun.jersey.spi.scanning.AnnotationScannerListener.onProcess\n      (AnnotationScannerListener.java:130)    at\n      com.sun.jersey.core.spi.scanning.uri.FileSchemeScanner$1.\n      f(FileSchemeScanner.java:83)    at \n      com.sun.jersey.core.util.Closing.f(Closing.java:68)</p>\n</blockquote>\n\n<p>I have created a simple class for testing</p>\n\n<pre><code>@Path(\"/employee\")\npublic class TestRest {\n\n\n    @GET\n    @Produces( { MediaType.TEXT_HTML })\n    public String getClichedMessage() {\n\n        return \"Hello Smith\";\n    }\n}\n</code></pre>\n\n<p>How can I resolve this issue?</p>\n\n<p>My jar versions </p>\n\n<pre><code>jersey-server-1.2.jar\njersey-core-1.2.jar\ngrizzly-servlet-webserver-1.9.18-i.jar\nasm-3.1.jar\njsr311-api-1.1.jar\n</code></pre>\n"},{"tags":["java","intellij-idea","option-type","jetbrains-ide","intellij-inspections"],"owner":{"account_id":17465366,"reputation":29,"user_id":12662212,"display_name":"grandidark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680616184,"creation_date":1680616184,"question_id":75930175,"body_markdown":"I would like to create a custom inspection in IntelliJ. \r\n\r\nI found this official documentation from JetBrains:\r\n- https://www.jetbrains.com/help/idea/creating-custom-inspections.html\r\n- https://www.jetbrains.com/help/idea/search-templates.html\r\n\r\nHowever, I do not found it explicit enough in order to know how to implement a custom inspection.\r\n\r\nAlso, is it possible to check the implementation of an already existing inspection (e.g. **Java | Probable bugs | Optional.get() is called without isPresent() check**)? I would like to implement a similar inspection, and it would be helpful to inspire from this existing one.\r\n","title":"Check implementation of IntelliiJ inspections","body":"<p>I would like to create a custom inspection in IntelliJ.</p>\n<p>I found this official documentation from JetBrains:</p>\n<ul>\n<li><a href=\"https://www.jetbrains.com/help/idea/creating-custom-inspections.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/creating-custom-inspections.html</a></li>\n<li><a href=\"https://www.jetbrains.com/help/idea/search-templates.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/search-templates.html</a></li>\n</ul>\n<p>However, I do not found it explicit enough in order to know how to implement a custom inspection.</p>\n<p>Also, is it possible to check the implementation of an already existing inspection (e.g. <strong>Java | Probable bugs | Optional.get() is called without isPresent() check</strong>)? I would like to implement a similar inspection, and it would be helpful to inspire from this existing one.</p>\n"},{"tags":["java","deb"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1520390876,"post_id":49143270,"comment_id":85292062,"body_markdown":"I just use [webupd8](http://www.webupd8.org/2014/03/how-to-install-oracle-java-8-in-debian.html).","body":"I just use <a href=\"http://www.webupd8.org/2014/03/how-to-install-oracle-java-8-in-debian.html\" rel=\"nofollow noreferrer\">webupd8</a>."},{"owner":{"account_id":938262,"reputation":3687,"user_id":966798,"display_name":"Matt"},"score":0,"creation_date":1520398012,"post_id":49143270,"comment_id":85293772,"body_markdown":"@ElliottFrisch thanks, I&#39;m aware of that option but I was hoping to get the .deb procedure working for consistency with the project I&#39;m working on.","body":"@ElliottFrisch thanks, I&#39;m aware of that option but I was hoping to get the .deb procedure working for consistency with the project I&#39;m working on."}],"answers":[{"tags":[],"owner":{"account_id":5585099,"reputation":1,"user_id":4425743,"display_name":"Roberto Jos&#233; Blandino Cisneros"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680616170,"creation_date":1680497167,"answer_id":75916108,"question_id":49143270,"body_markdown":"1st step as normal user\r\n\r\n    $ make-jpkg jre-8u361-linux-x64.tar.gz\r\n\r\n2nd step as root\r\n\r\n    # dpkg -i  oracle-java8-jre_8u361_amd64.deb\r\n\r\nThen You will get an output with errors:\r\n\r\n    Seleccionando el paquete oracle-java8-jre previamente no seleccionado.\r\n    (Leyendo la base de datos ... 184185 ficheros o directorios instalados actualmente.)\r\n    Preparando para desempaquetar oracle-java8-jre_8u271_amd64.deb ...\r\n    Desempaquetando oracle-java8-jre (8u271) ...\r\n    dpkg: problemas de dependencias impiden la configuraci&#243;n de oracle-java8-jre:\r\n     oracle-java8-jre depende de java-common; sin embargo:\r\n      El paquete `java-common&#39; no est&#225; instalado.\r\n    \r\n    dpkg: error al procesar el paquete oracle-java8-jre (--install):\r\n     problemas de dependencias - se deja sin configurar\r\n    Se encontraron errores al procesar:\r\n     oracle-java8-jre\r\n\r\n3rd Step install all fix broken packages:\r\n\r\n    apt-get --fix-broken install\r\n    Leyendo lista de paquetes... Hecho\r\n    Creando &#225;rbol de dependencias... Hecho\r\n    Leyendo la informaci&#243;n de estado... Hecho\r\n    Corrigiendo dependencias... Listo\r\n    Se instalar&#225;n los siguientes paquetes adicionales:\r\n      java-common\r\n    Paquetes sugeridos:\r\n      default-jre\r\n    Se instalar&#225;n los siguientes paquetes NUEVOS:\r\n      java-common\r\n    0 actualizados, 1 nuevos se instalar&#225;n, 0 para eliminar y 117 no actualizados.\r\n    1 no instalados del todo o eliminados.\r\n    Se necesita descargar 14.5 kB de archivos.\r\n    Se utilizar&#225;n 37.9 kB de espacio de disco adicional despu&#233;s de esta operaci&#243;n.\r\n    &#191;Desea continuar? [S/n] s\r\n","title":"Make .deb for JDK8 with JavaPackage","body":"<p>1st step as normal user</p>\n<pre><code>$ make-jpkg jre-8u361-linux-x64.tar.gz\n</code></pre>\n<p>2nd step as root</p>\n<pre><code># dpkg -i  oracle-java8-jre_8u361_amd64.deb\n</code></pre>\n<p>Then You will get an output with errors:</p>\n<pre><code>Seleccionando el paquete oracle-java8-jre previamente no seleccionado.\n(Leyendo la base de datos ... 184185 ficheros o directorios instalados actualmente.)\nPreparando para desempaquetar oracle-java8-jre_8u271_amd64.deb ...\nDesempaquetando oracle-java8-jre (8u271) ...\ndpkg: problemas de dependencias impiden la configuración de oracle-java8-jre:\n oracle-java8-jre depende de java-common; sin embargo:\n  El paquete `java-common' no está instalado.\n\ndpkg: error al procesar el paquete oracle-java8-jre (--install):\n problemas de dependencias - se deja sin configurar\nSe encontraron errores al procesar:\n oracle-java8-jre\n</code></pre>\n<p>3rd Step install all fix broken packages:</p>\n<pre><code>apt-get --fix-broken install\nLeyendo lista de paquetes... Hecho\nCreando árbol de dependencias... Hecho\nLeyendo la información de estado... Hecho\nCorrigiendo dependencias... Listo\nSe instalarán los siguientes paquetes adicionales:\n  java-common\nPaquetes sugeridos:\n  default-jre\nSe instalarán los siguientes paquetes NUEVOS:\n  java-common\n0 actualizados, 1 nuevos se instalarán, 0 para eliminar y 117 no actualizados.\n1 no instalados del todo o eliminados.\nSe necesita descargar 14.5 kB de archivos.\nSe utilizarán 37.9 kB de espacio de disco adicional después de esta operación.\n¿Desea continuar? [S/n] s\n</code></pre>\n"}],"owner":{"account_id":938262,"reputation":3687,"user_id":966798,"display_name":"Matt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1680616170,"creation_date":1520390597,"question_id":49143270,"body_markdown":"I&#39;m trying to install JDK8 on Debian Stretch. The recommended way is to use [JavaPackage](https://wiki.debian.org/JavaPackage).\r\n\r\nI have successfully packaged JDK6 and JDK7 using this method:\r\n\r\n- Download the JDK archive from [Oracle](http://www.oracle.com/technetwork/java/javase/downloads/index.html)\r\n- `fakeroot make-jpkg jdk-7u55-linux-x64.tar.gz`\r\n- `dpkg -i the-resulting.deb`\r\n\r\nI can successfully create a .deb from the JDK8 archive, but when I install it with `dpkg` I&#39;m missing *a lot* of dependencies.\r\n\r\n    gnome-icon-theme gtk-update-icon-cache java-common libasound2 libasound2-data libatk1.0-0 libatk1.0-data libcroco3 libdrm-amdgpu1 libdrm-intel1 libdrm-nouveau2 libdrm-radeon1 libdrm2 libgail-common libgail18 libgl1-mesa-dri libgl1-mesa-glx libglapi-mesa libgtk2.0-0 libgtk2.0-bin libgtk2.0-common libllvm3.9 libpciaccess0 librsvg2-2 librsvg2-common libtxc-dxtn-s2tc libx11-xcb1 libxcb-dri2-0 libxcb-dri3-0 libxcb-glx0 libxcb-present0 libxcb-sync1 libxcomposite1 libxcursor1 libxdamage1 libxfixes3 libxi6 libxinerama1 libxrandr2 libxshmfence1 libxtst6 libxxf86vm1 x11-common\r\n\r\nI can install them manually but I&#39;m not sure why I didn&#39;t have this dependency problem with the earlier JDKs. I&#39;m writing an install script and it would please me to only install a single .deb rather than having to install all the extra dependencies separately.\r\n\r\n`make-jpkg` supports JDK8 according to its man page.\r\n\r\n&gt;        make-jpkg builds a Debian package from the given Java distribution FILE.\r\n       Supported java binary distributions currently include:\r\n         * Oracle (http://www.oracle.com/technetwork/java/javase/downloads) :\r\n           - The Java Development Kit (JDK), version 6, 7 and 8\r\n           - The Java Runtime Environment (JRE), version 6, 7 and 8\r\n           - The Java API Javadoc, version 6, 7 and 8\r\n         (Choose tar.gz archives or self-extracting archives, do _not_ choose the RPM!)\r\n\r\nCan anyone provide some insight as to why the .deb&#39;s created from earlier JDKs don&#39;t require any extra dependencies. Or perhaps it&#39;s just a case of their dependencies already existing in a stock Debian install.\r\n\r\nEdit: I found this thread at [Server Fault](https://serverfault.com/questions/511346/how-to-install-oracle-java-on-debian-wheezy-with-make-jpkg-and-fakeroot-without) which goes some way to explaining it:\r\n\r\n&gt; The reason this happens is that you are building a deb package from a binary distribution, i.e. a precompiled JDK. Usually, Debian packages are built from source, not from binaries. In order to do so, the person building the package would add all libraries the source depends on to a certain file (debian/control). Without those libraries installed, the source cannot be compiled and therefore would not result in a package.","title":"Make .deb for JDK8 with JavaPackage","body":"<p>I'm trying to install JDK8 on Debian Stretch. The recommended way is to use <a href=\"https://wiki.debian.org/JavaPackage\" rel=\"nofollow noreferrer\">JavaPackage</a>.</p>\n\n<p>I have successfully packaged JDK6 and JDK7 using this method:</p>\n\n<ul>\n<li>Download the JDK archive from <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow noreferrer\">Oracle</a></li>\n<li><code>fakeroot make-jpkg jdk-7u55-linux-x64.tar.gz</code></li>\n<li><code>dpkg -i the-resulting.deb</code></li>\n</ul>\n\n<p>I can successfully create a .deb from the JDK8 archive, but when I install it with <code>dpkg</code> I'm missing <em>a lot</em> of dependencies.</p>\n\n<pre><code>gnome-icon-theme gtk-update-icon-cache java-common libasound2 libasound2-data libatk1.0-0 libatk1.0-data libcroco3 libdrm-amdgpu1 libdrm-intel1 libdrm-nouveau2 libdrm-radeon1 libdrm2 libgail-common libgail18 libgl1-mesa-dri libgl1-mesa-glx libglapi-mesa libgtk2.0-0 libgtk2.0-bin libgtk2.0-common libllvm3.9 libpciaccess0 librsvg2-2 librsvg2-common libtxc-dxtn-s2tc libx11-xcb1 libxcb-dri2-0 libxcb-dri3-0 libxcb-glx0 libxcb-present0 libxcb-sync1 libxcomposite1 libxcursor1 libxdamage1 libxfixes3 libxi6 libxinerama1 libxrandr2 libxshmfence1 libxtst6 libxxf86vm1 x11-common\n</code></pre>\n\n<p>I can install them manually but I'm not sure why I didn't have this dependency problem with the earlier JDKs. I'm writing an install script and it would please me to only install a single .deb rather than having to install all the extra dependencies separately.</p>\n\n<p><code>make-jpkg</code> supports JDK8 according to its man page.</p>\n\n<blockquote>\n<pre><code>   make-jpkg builds a Debian package from the given Java distribution FILE.\n   Supported java binary distributions currently include:\n     * Oracle (http://www.oracle.com/technetwork/java/javase/downloads) :\n       - The Java Development Kit (JDK), version 6, 7 and 8\n       - The Java Runtime Environment (JRE), version 6, 7 and 8\n       - The Java API Javadoc, version 6, 7 and 8\n     (Choose tar.gz archives or self-extracting archives, do _not_ choose the RPM!)\n</code></pre>\n</blockquote>\n\n<p>Can anyone provide some insight as to why the .deb's created from earlier JDKs don't require any extra dependencies. Or perhaps it's just a case of their dependencies already existing in a stock Debian install.</p>\n\n<p>Edit: I found this thread at <a href=\"https://serverfault.com/questions/511346/how-to-install-oracle-java-on-debian-wheezy-with-make-jpkg-and-fakeroot-without\">Server Fault</a> which goes some way to explaining it:</p>\n\n<blockquote>\n  <p>The reason this happens is that you are building a deb package from a binary distribution, i.e. a precompiled JDK. Usually, Debian packages are built from source, not from binaries. In order to do so, the person building the package would add all libraries the source depends on to a certain file (debian/control). Without those libraries installed, the source cannot be compiled and therefore would not result in a package.</p>\n</blockquote>\n"},{"tags":["java","xml","algorithm","digital-signature","rsa-sha256"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1680614254,"post_id":75929669,"comment_id":133925229,"body_markdown":"yes, `http://www.w3.org/2001/04/xmldsig-more#rsa-sha256` appears to be [the right string](http://www.docjar.com/html/api/org/jcp/xml/dsig/internal/dom/DOMSignatureMethod.java.html), have you tried it? Apparently also available as a `RSA_SHA256` named constant.","body":"yes, <code>http:&#47;&#47;www.w3.org&#47;2001&#47;04&#47;xmldsig-more#rsa-sha256</code> appears to be <a href=\"http://www.docjar.com/html/api/org/jcp/xml/dsig/internal/dom/DOMSignatureMethod.java.html\" rel=\"nofollow noreferrer\">the right string</a>, have you tried it? Apparently also available as a <code>RSA_SHA256</code> named constant."},{"owner":{"account_id":10779418,"reputation":21,"user_id":7930358,"display_name":"Daftus"},"score":0,"creation_date":1680615480,"post_id":75929669,"comment_id":133925572,"body_markdown":"Thank you so much ! I used `SignatureMethod.RSA_SHA256` and apparently it worked. I always thought I had to put an actual URI as algorithm, thank you","body":"Thank you so much ! I used <code>SignatureMethod.RSA_SHA256</code> and apparently it worked. I always thought I had to put an actual URI as algorithm, thank you"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1680615948,"post_id":75929669,"comment_id":133925714,"body_markdown":"Great, let&#39;s make that into an answer then.","body":"Great, let&#39;s make that into an answer then."}],"answers":[{"tags":[],"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680615934,"creation_date":1680615934,"answer_id":75930142,"question_id":75929669,"body_markdown":"Looking at the source code at http://www.docjar.com/html/api/org/jcp/xml/dsig/internal/dom/DOMSignatureMethod.java.html\r\n\r\nthe 2001 string is correct `http://www.w3.org/2001/04/xmldsig-more#rsa-sha256` instead of your 2000 one.\r\n\r\nOr you can use the `SignatureMethod.RSA_SHA256` constant which should resolve to the same thing.","title":"W3C RSA-SHA256 algorithm cannot be used, unsupported algorithm","body":"<p>Looking at the source code at <a href=\"http://www.docjar.com/html/api/org/jcp/xml/dsig/internal/dom/DOMSignatureMethod.java.html\" rel=\"nofollow noreferrer\">http://www.docjar.com/html/api/org/jcp/xml/dsig/internal/dom/DOMSignatureMethod.java.html</a></p>\n<p>the 2001 string is correct <code>http://www.w3.org/2001/04/xmldsig-more#rsa-sha256</code> instead of your 2000 one.</p>\n<p>Or you can use the <code>SignatureMethod.RSA_SHA256</code> constant which should resolve to the same thing.</p>\n"}],"owner":{"account_id":10779418,"reputation":21,"user_id":7930358,"display_name":"Daftus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":617,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75930142,"answer_count":1,"score":0,"last_activity_date":1680615934,"creation_date":1680613067,"question_id":75929669,"body_markdown":"Is anyone also having trouble with the W3C RSA-SHA256 algorithm to sign XML ?\r\nI&#39;m using it to do a XML Digital Signature but I&#39;m not able to use it since the page has been moved, see:\r\n[https://www.w3.org/2001/04/xmldsig-more#rsa-sha256](https://stackoverflow.com)\r\n\r\nI&#39;m forced to used the RSA-SHA1 which I don&#39;t want to use because it&#39;s stated as deprecated for my purpose and I cannot validate the crate securely with the SHA1.\r\n\r\nAny solution on how to use the SHA256 ?\r\n\r\nThanks\r\n\r\nI&#39;m using it like this:\r\n`SignedInfo si = fac.newSignedInfo(fac.newCanonicalizationMethod(CanonicalizationMethod.INCLUSIVE_WITH_COMMENTS, (C14NMethodParameterSpec) null),\r\n                            fac.newSignatureMethod(&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha256&quot;, null), references);`\r\n\r\nAnd I get the error `java.security.NoSuchAlgorithmException: unsupported algorithm`.\r\n\r\nI used different sources such as Oracle doc or [https://learn.microsoft.com/en-us/windows/win32/seccrypto/xml-digital-signature-cryptographic-algorithms](https://stackoverflow.com) and as you can see in the last one, many of them are unusable !","title":"W3C RSA-SHA256 algorithm cannot be used, unsupported algorithm","body":"<p>Is anyone also having trouble with the W3C RSA-SHA256 algorithm to sign XML ?\nI'm using it to do a XML Digital Signature but I'm not able to use it since the page has been moved, see:\n<a href=\"https://stackoverflow.com\">https://www.w3.org/2001/04/xmldsig-more#rsa-sha256</a></p>\n<p>I'm forced to used the RSA-SHA1 which I don't want to use because it's stated as deprecated for my purpose and I cannot validate the crate securely with the SHA1.</p>\n<p>Any solution on how to use the SHA256 ?</p>\n<p>Thanks</p>\n<p>I'm using it like this:\n<code>SignedInfo si = fac.newSignedInfo(fac.newCanonicalizationMethod(CanonicalizationMethod.INCLUSIVE_WITH_COMMENTS, (C14NMethodParameterSpec) null), fac.newSignatureMethod(&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha256&quot;, null), references);</code></p>\n<p>And I get the error <code>java.security.NoSuchAlgorithmException: unsupported algorithm</code>.</p>\n<p>I used different sources such as Oracle doc or <a href=\"https://stackoverflow.com\">https://learn.microsoft.com/en-us/windows/win32/seccrypto/xml-digital-signature-cryptographic-algorithms</a> and as you can see in the last one, many of them are unusable !</p>\n"},{"tags":["java","data-structures","tree","time-complexity","space-complexity"],"comments":[{"owner":{"account_id":21178957,"reputation":9,"user_id":15573702,"display_name":"enchante"},"score":0,"creation_date":1680482652,"post_id":75872660,"comment_id":133901192,"body_markdown":"@trincot this is only for a complete binary tree. Let me edit the question","body":"@trincot this is only for a complete binary tree. Let me edit the question"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1680499392,"post_id":75872660,"comment_id":133902761,"body_markdown":"Which definition of complete you use here? Do you mean all leaves are at the bottom level or at the two bottommost levels?","body":"Which definition of complete you use here? Do you mean all leaves are at the bottom level or at the two bottommost levels?"},{"owner":{"account_id":21178957,"reputation":9,"user_id":15573702,"display_name":"enchante"},"score":0,"creation_date":1680589592,"post_id":75872660,"comment_id":133919297,"body_markdown":"All the levels of the tree are filled completely except the lowest level nodes which are filled from as left as possible","body":"All the levels of the tree are filled completely except the lowest level nodes which are filled from as left as possible"}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680615890,"creation_date":1680614797,"answer_id":75929934,"question_id":75872660,"body_markdown":"Your `height` function follows a single path from the current node to a single leaf (either the leftmost, or the rightmost leaf). This has a time complexity of O(ℎ) where ℎ is the height of that node.\r\n\r\nWhen recursion of `countNodes` is needed (because the leftmost leaf is deeper than the rightmost leaf), then we know that in **at most one** of the two recursive calls of `countNodes` this situation will occur again, i.e. where the leftmost leaf is deeper than the rightmost leaf.\r\n\r\nSo in the worst case the recursive calls of `countNodes` will deepen all the way to a leaf. All other recursive calls of `countNodes` will hit the base case immediately (as there `LH` and `RH` are equal), and those represent two more calls of `height` that can be considered work that is part of the work that was done for the parent node. This way we account for work only on a single path from the root to a leaf.\r\n\r\nSo taking this all together we have O(1 + 2 + 3 + 4 + ... + log&#119899;). This is a [triangular number](https://en.wikipedia.org/wiki/1_%2B_2_%2B_3_%2B_4_%2B_%E2%8B%AF), and thus we have O(log&#119899;(1+log&#119899;)/2) = O(log&#178;&#119899;).\r\n\r\nThe space complexity is trivial: each new variable that this code allocates takes constant space, so the recursion stack is the determining factor: O(log&#119899;).","title":"Time and space complexity of this algorithm for counting nodes in a complete binary tree","body":"<p>Your <code>height</code> function follows a single path from the current node to a single leaf (either the leftmost, or the rightmost leaf). This has a time complexity of O(ℎ) where ℎ is the height of that node.</p>\n<p>When recursion of <code>countNodes</code> is needed (because the leftmost leaf is deeper than the rightmost leaf), then we know that in <strong>at most one</strong> of the two recursive calls of <code>countNodes</code> this situation will occur again, i.e. where the leftmost leaf is deeper than the rightmost leaf.</p>\n<p>So in the worst case the recursive calls of <code>countNodes</code> will deepen all the way to a leaf. All other recursive calls of <code>countNodes</code> will hit the base case immediately (as there <code>LH</code> and <code>RH</code> are equal), and those represent two more calls of <code>height</code> that can be considered work that is part of the work that was done for the parent node. This way we account for work only on a single path from the root to a leaf.</p>\n<p>So taking this all together we have O(1 + 2 + 3 + 4 + ... + log𝑛). This is a <a href=\"https://en.wikipedia.org/wiki/1_%2B_2_%2B_3_%2B_4_%2B_%E2%8B%AF\" rel=\"nofollow noreferrer\">triangular number</a>, and thus we have O(log𝑛(1+log𝑛)/2) = O(log²𝑛).</p>\n<p>The space complexity is trivial: each new variable that this code allocates takes constant space, so the recursion stack is the determining factor: O(log𝑛).</p>\n"}],"owner":{"account_id":21178957,"reputation":9,"user_id":15573702,"display_name":"enchante"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":75929934,"answer_count":1,"score":-3,"last_activity_date":1680615890,"creation_date":1680057648,"question_id":75872660,"body_markdown":"I have this below code for calculating the number of nodes in a complete binary tree&lt;sup&gt;*&lt;/sup&gt; without visiting all the nodes.\r\n\r\n```\r\n    public int countNodes(TreeNode root) {\r\n        if(root==null){\r\n            return 0;\r\n        }\r\n        int LH=height(root,false); // depth of leftmost leaf\r\n        int RH=height(root,true);  // depth of rightmost leaf\r\n        if(LH==RH){\r\n            return (int)Math.pow(2,LH)-1;\r\n        }\r\n        else return countNodes(root.left)+countNodes(root.right)+1;\r\n    }\r\n\r\n    int height(TreeNode root,boolean lr){\r\n        if(root==null)\r\n            return 0;\r\n        if(lr==false)\r\n            return 1+height(root.left,lr);\r\n        return 1+height(root.right,lr);\r\n    }\r\n```\r\n\r\nHow can I determine the time complexity here? I&#39;m confused  the nodes are visited more than once. \r\n\r\n&lt;hr&gt;\r\n\r\n&lt;sub&gt;&lt;sup&gt;*&lt;/sup&gt;*Complete binary tree*: all the levels of the tree are filled completely except the lowest level nodes which are filled from as left as possible&lt;/sub&gt;","title":"Time and space complexity of this algorithm for counting nodes in a complete binary tree","body":"<p>I have this below code for calculating the number of nodes in a complete binary tree<sup>*</sup> without visiting all the nodes.</p>\n<pre><code>    public int countNodes(TreeNode root) {\n        if(root==null){\n            return 0;\n        }\n        int LH=height(root,false); // depth of leftmost leaf\n        int RH=height(root,true);  // depth of rightmost leaf\n        if(LH==RH){\n            return (int)Math.pow(2,LH)-1;\n        }\n        else return countNodes(root.left)+countNodes(root.right)+1;\n    }\n\n    int height(TreeNode root,boolean lr){\n        if(root==null)\n            return 0;\n        if(lr==false)\n            return 1+height(root.left,lr);\n        return 1+height(root.right,lr);\n    }\n</code></pre>\n<p>How can I determine the time complexity here? I'm confused  the nodes are visited more than once.</p>\n<hr>\n<p><sub><sup>*</sup><em>Complete binary tree</em>: all the levels of the tree are filled completely except the lowest level nodes which are filled from as left as possible</sub></p>\n"},{"tags":["java","gitlab","gitlab-api"],"answers":[{"tags":[],"owner":{"account_id":20267464,"reputation":93,"user_id":14864319,"display_name":"Cydonia"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680615847,"creation_date":1680615847,"answer_id":75930122,"question_id":75866006,"body_markdown":"The answer is actually quite simple, the documentation if pretty well written (I just missed it somehow) [package files][1]\r\n\r\n\r\n  [1]: https://docs.gitlab.com/ee/api/packages.html#list-package-files","title":"How to see which files are in packages in the package registry on GitLab using GitLab4J?","body":"<p>The answer is actually quite simple, the documentation if pretty well written (I just missed it somehow) <a href=\"https://docs.gitlab.com/ee/api/packages.html#list-package-files\" rel=\"nofollow noreferrer\">package files</a></p>\n"}],"owner":{"account_id":20267464,"reputation":93,"user_id":14864319,"display_name":"Cydonia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680615847,"creation_date":1680004858,"question_id":75866006,"body_markdown":"I&#39;ve managed to get a connection to GitLab API working and I can see the available projects and their respective packages in the package registries. I&#39;m having a problem understanding how to programatically see the files inside of a package, aka how to get the **filename.extension** in my URL: \r\n\r\n.../projectID/packages/generic/packageName/packageVersion/**filename.extension** \r\n\r\nAlso, is there a smarter way of downloading the package files other than using URL and HttpURLConnection in Java?\r\n\r\nI&#39;ve managed to donwload files already with the hardcoded version of the URL (via curl and programatically), where I knew the name and the file extension beforehand. Since I won&#39;t have that option for the actual download, I expect that there is a way to generalize this, I just haven&#39;t found it in the documentation.","title":"How to see which files are in packages in the package registry on GitLab using GitLab4J?","body":"<p>I've managed to get a connection to GitLab API working and I can see the available projects and their respective packages in the package registries. I'm having a problem understanding how to programatically see the files inside of a package, aka how to get the <strong>filename.extension</strong> in my URL:</p>\n<p>.../projectID/packages/generic/packageName/packageVersion/<strong>filename.extension</strong></p>\n<p>Also, is there a smarter way of downloading the package files other than using URL and HttpURLConnection in Java?</p>\n<p>I've managed to donwload files already with the hardcoded version of the URL (via curl and programatically), where I knew the name and the file extension beforehand. Since I won't have that option for the actual download, I expect that there is a way to generalize this, I just haven't found it in the documentation.</p>\n"},{"tags":["java","gson","xtext"],"comments":[{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1680090560,"post_id":75876176,"comment_id":133837332,"body_markdown":"More context is needed. How do you add dependencies to your project? What kind of a project is it? Some code would come a long way. Meanwhile, perhaps this would help you https://stackoverflow.com/questions/4961336/i-am-getting-java-lang-classnotfoundexception-com-google-gson-gson-error-even","body":"More context is needed. How do you add dependencies to your project? What kind of a project is it? Some code would come a long way. Meanwhile, perhaps this would help you <a href=\"https://stackoverflow.com/questions/4961336/i-am-getting-java-lang-classnotfoundexception-com-google-gson-gson-error-even\" title=\"i am getting java lang classnotfoundexception com google gson gson error even\">stackoverflow.com/questions/4961336/&hellip;</a>"},{"owner":{"account_id":899065,"reputation":11808,"user_id":935687,"display_name":"Christian Dietrich"},"score":0,"creation_date":1680498398,"post_id":75876176,"comment_id":133902683,"body_markdown":"this is case you should have added gson simply to the manifest as required bundle. and not as a jar to the project","body":"this is case you should have added gson simply to the manifest as required bundle. and not as a jar to the project"},{"owner":{"account_id":28157220,"reputation":3,"user_id":21517769,"display_name":"Omran"},"score":0,"creation_date":1680593168,"post_id":75876176,"comment_id":133920077,"body_markdown":"@ChristianDietrich thanks, adding gson in manifest fixed the problem.","body":"@ChristianDietrich thanks, adding gson in manifest fixed the problem."}],"answers":[{"tags":[],"owner":{"account_id":899065,"reputation":11808,"user_id":935687,"display_name":"Christian Dietrich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680615762,"creation_date":1680615762,"answer_id":75930111,"question_id":75876176,"body_markdown":"you can add the missing `com.google.gson` bundle to the required bundles in `META-INF/MANIFEST.MF`","title":"GsonBuilder will not be found","body":"<p>you can add the missing <code>com.google.gson</code> bundle to the required bundles in <code>META-INF/MANIFEST.MF</code></p>\n"}],"owner":{"account_id":28157220,"reputation":3,"user_id":21517769,"display_name":"Omran"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75930111,"answer_count":1,"score":0,"last_activity_date":1680615762,"creation_date":1680086672,"question_id":75876176,"body_markdown":"[enter image description here][1]How to resolve this Error?\r\njava.lang.NoClassDefFoundError: com/google/gson/GsonBuilder\r\n\r\n\r\nI&#39;m trying to build a DSL in Xtext in Eclipse IDE and I install the Gson Jar to class-path this project but still does&#39;t work. Any one has the same Problem?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GGLWE.jpg","title":"GsonBuilder will not be found","body":"<p><a href=\"https://i.stack.imgur.com/GGLWE.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>How to resolve this Error?\njava.lang.NoClassDefFoundError: com/google/gson/GsonBuilder</p>\n<p>I'm trying to build a DSL in Xtext in Eclipse IDE and I install the Gson Jar to class-path this project but still does't work. Any one has the same Problem?</p>\n"},{"tags":["java","spring","spring-transactions"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1680609339,"post_id":75928680,"comment_id":133923871,"body_markdown":"`add` isn&#39;t transactional, so each call to `save` is a single transaction, instead of one large transaction. That being said, making your web layer the transactional boundary is a bad idea as you don&#39;t want your transaction to be dependend on the outcome of your web response.","body":"<code>add</code> isn&#39;t transactional, so each call to <code>save</code> is a single transaction, instead of one large transaction. That being said, making your web layer the transactional boundary is a bad idea as you don&#39;t want your transaction to be dependend on the outcome of your web response."}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680608786,"creation_date":1680608786,"answer_id":75928990,"question_id":75928680,"body_markdown":"Solution:  The method allocated with @Transactional must be in a different class.","title":"Java Transaction weird behavior","body":"<p>Solution:  The method allocated with @Transactional must be in a different class.</p>\n"},{"tags":[],"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680615636,"creation_date":1680615636,"answer_id":75930083,"question_id":75928680,"body_markdown":"Since the &quot;correct&quot; answer is already here but has little to no explanation I am going to add the same answer but with explanation. \r\n\r\nFirst of all you have to understand how most Spring annotations work. When spring creates a bean with a @transactional annotation to Autowire it (or in the case of the controller simply to expose the endpoint) what really happens is that Spring creates a proxy around your class. Thus spring is able to add behavior before or after method calls. \r\n\r\nE.g. you have an @Service class called `DummyService` you actually don&#39;t get a DummyService instance when doing this:\r\n\r\n    @Autowired\r\n    private DummyService dummyService;\r\n\r\nThe actual instance is a Proxy around your DummyService. \r\n\r\nNow inside your DummyService you do not (and cannot) see that the instance is actually a Proxy. This means if you call another method inside DummyService you not calling the Proxy but rather the actual instance and you don&#39;t get the additional behavior of the proxy, e.g. you have no Transaction.\r\n\r\nSo let&#39;s look at a few examples: \r\n\r\nFirst our service:\r\n\r\n    @Service\r\n    public class DummyService {\r\n    \r\n       \r\n       public void doStuff() {\r\n           // do stuff\r\n           transaction() //call to DummyService itself. No transaction!\r\n           // do more stuff\r\n       }\r\n    \r\n       @Transactional\r\n       public void transaction() {\r\n           // do stuff\r\n       }\r\n    \r\n    }\r\n\r\nnow a Controller\r\n\r\n    @Service\r\n    public class DummyController {\r\n\r\n       @Autowired\r\n       private DummyService dummyService; // Will hold the proxy instance\r\n    \r\n       \r\n       @GetMapping(path = &quot;/stuff&quot;)\r\n       public void doStuff() {\r\n           // do stuff\r\n           dummyService.transaction() //call to the autowired proxy. We got a transaction!\r\n           transaction() //again no proxy = no transaction!\r\n           // do more stuff\r\n       }\r\n    \r\n       @GetMapping(path = &quot;/transaction&quot;) //Calls to this url get handled by the proxy instance = transaction!\r\n       @Transactional\r\n       public void transaction() {\r\n           // do stuff\r\n       }\r\n\r\n       @GetMapping(path = &quot;/stuff-without-transaction&quot;)\r\n       public void doStuffWithoutTransaction() {\r\n           DummyService dummy2 = new DummyService(); //Creating the service yourself means no proxy\r\n           // do stuff\r\n           dummy2.transaction() //no proxy = no transaction!\r\n           // do more stuff\r\n       }\r\n    \r\n    }\r\n\r\nSo as others said: simple answer is to move the `@Transactional` annotation to a different class, autowire the instance, get the proxy and thus get a transaction. You have to make calls through the Spring proxy instances to make this additional behavior work.\r\n\r\nRule of the thumb: never call `@Transactional` Methods from inside your class to avoid this problem! And never create Instances of classes with `@Transactional` methods yourself.  ","title":"Java Transaction weird behavior","body":"<p>Since the &quot;correct&quot; answer is already here but has little to no explanation I am going to add the same answer but with explanation.</p>\n<p>First of all you have to understand how most Spring annotations work. When spring creates a bean with a @transactional annotation to Autowire it (or in the case of the controller simply to expose the endpoint) what really happens is that Spring creates a proxy around your class. Thus spring is able to add behavior before or after method calls.</p>\n<p>E.g. you have an @Service class called <code>DummyService</code> you actually don't get a DummyService instance when doing this:</p>\n<pre><code>@Autowired\nprivate DummyService dummyService;\n</code></pre>\n<p>The actual instance is a Proxy around your DummyService.</p>\n<p>Now inside your DummyService you do not (and cannot) see that the instance is actually a Proxy. This means if you call another method inside DummyService you not calling the Proxy but rather the actual instance and you don't get the additional behavior of the proxy, e.g. you have no Transaction.</p>\n<p>So let's look at a few examples:</p>\n<p>First our service:</p>\n<pre><code>@Service\npublic class DummyService {\n\n   \n   public void doStuff() {\n       // do stuff\n       transaction() //call to DummyService itself. No transaction!\n       // do more stuff\n   }\n\n   @Transactional\n   public void transaction() {\n       // do stuff\n   }\n\n}\n</code></pre>\n<p>now a Controller</p>\n<pre><code>@Service\npublic class DummyController {\n\n   @Autowired\n   private DummyService dummyService; // Will hold the proxy instance\n\n   \n   @GetMapping(path = &quot;/stuff&quot;)\n   public void doStuff() {\n       // do stuff\n       dummyService.transaction() //call to the autowired proxy. We got a transaction!\n       transaction() //again no proxy = no transaction!\n       // do more stuff\n   }\n\n   @GetMapping(path = &quot;/transaction&quot;) //Calls to this url get handled by the proxy instance = transaction!\n   @Transactional\n   public void transaction() {\n       // do stuff\n   }\n\n   @GetMapping(path = &quot;/stuff-without-transaction&quot;)\n   public void doStuffWithoutTransaction() {\n       DummyService dummy2 = new DummyService(); //Creating the service yourself means no proxy\n       // do stuff\n       dummy2.transaction() //no proxy = no transaction!\n       // do more stuff\n   }\n\n}\n</code></pre>\n<p>So as others said: simple answer is to move the <code>@Transactional</code> annotation to a different class, autowire the instance, get the proxy and thus get a transaction. You have to make calls through the Spring proxy instances to make this additional behavior work.</p>\n<p>Rule of the thumb: never call <code>@Transactional</code> Methods from inside your class to avoid this problem! And never create Instances of classes with <code>@Transactional</code> methods yourself.</p>\n"}],"owner":{"account_id":11305459,"reputation":31,"user_id":8290226,"display_name":"Chouch"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680677393,"answer_count":2,"score":0,"last_activity_date":1680615636,"creation_date":1680606875,"question_id":75928680,"body_markdown":"I am trying to test transactional behaviors. I have made a small application to test, and there is something weird to me.\r\n\r\nWhen I call method add(), the transactional does not work and I get in DB the object myObj, while I expected the transaction to be rollbacked.\r\n\r\nIf I call methdo add2(), the transaction is rollbacked correctly. \r\n\r\n(Just a small precision, MyService is not transactional)\r\n\r\nCould you please help me understand why this behavior?\r\n\r\nThanks a lot\r\n\r\nJulien\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/test&quot;)\r\n    @RequiredArgsConstructor\r\n    public class Test {\r\n        private final IMyService myService;\r\n    \r\n        @GetMapping(path = &quot;/1&quot;)\r\n        public void add() {\r\n            this.transactionalError();\r\n        }\r\n    \r\n        @GetMapping(path = &quot;/2&quot;)\r\n        @Transactional\r\n        public void add2() {\r\n            this.transactionalError();\r\n        }\r\n    \r\n        @Transactional\r\n        public void transactionalError() {\r\n            MyObj myObj = new MyObj();\r\n            myService.save(myObj);\r\n    \r\n            &quot;&quot;.substring(2);\r\n    \r\n            MyObj myObj2 = new MyObj();\r\n            myService.save(myObj2);\r\n        }\r\n    }","title":"Java Transaction weird behavior","body":"<p>I am trying to test transactional behaviors. I have made a small application to test, and there is something weird to me.</p>\n<p>When I call method add(), the transactional does not work and I get in DB the object myObj, while I expected the transaction to be rollbacked.</p>\n<p>If I call methdo add2(), the transaction is rollbacked correctly.</p>\n<p>(Just a small precision, MyService is not transactional)</p>\n<p>Could you please help me understand why this behavior?</p>\n<p>Thanks a lot</p>\n<p>Julien</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/test&quot;)\n@RequiredArgsConstructor\npublic class Test {\n    private final IMyService myService;\n\n    @GetMapping(path = &quot;/1&quot;)\n    public void add() {\n        this.transactionalError();\n    }\n\n    @GetMapping(path = &quot;/2&quot;)\n    @Transactional\n    public void add2() {\n        this.transactionalError();\n    }\n\n    @Transactional\n    public void transactionalError() {\n        MyObj myObj = new MyObj();\n        myService.save(myObj);\n\n        &quot;&quot;.substring(2);\n\n        MyObj myObj2 = new MyObj();\n        myService.save(myObj2);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","h2","jpql"],"owner":{"account_id":13740809,"reputation":29,"user_id":9915969,"display_name":"Clayn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680615562,"creation_date":1680050403,"question_id":75872138,"body_markdown":"I have an entity with fields `id` and `active`. I want to write a query that makes specific entry active and deactiavates other entries. It&#39;s important I use JPQL.\r\n\r\nHowever, for some reason when I use built-in boolean values in any clause, they seem to become of string (or other) type. And so, I get the error\r\n`Value too long for column &quot;ACTIVE CHARACTER(1)&quot;: &quot;TRUE (1)&quot;`\r\n\r\nHere&#39;s my entity:\r\n```\r\nimport jakarta.persistence.*;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport org.hibernate.type.YesNoConverter;\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\npublic class ActiveHolder{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Convert(converter = YesNoConverter.class)\r\n    private boolean active;\r\n}\r\n```\r\nAnd here&#39;s my JPQL in Repository:\r\n```\r\n@Transactional\r\n@Modifying\r\n@Query(&quot;UPDATE ActiveHolder u SET u.active = (u.id = :id) &quot; +\r\n        &quot;WHERE u.id = :id OR u.active = true&quot;)\r\nint activateById(@Param(&quot;id&quot;) Long id); // Doesn&#39;t work\r\n```\r\nSame thing occures when I try to use `CASE WHEN` statement. But it does work when I don&#39;t have an expresion as parameter:\r\n```\r\n@Transactional\r\n@Modifying\r\n@Query(&quot;UPDATE ActiveHolder u SET u.active = true &quot; +\r\n        &quot;WHERE u.id = :id OR u.active = true&quot;)\r\nint activateById(@Param(&quot;id&quot;) Long id); // Works perfectly fine!!!\r\n```\r\nAlso, if it will be of any value, I had the same problem in nativeSql (H2) but have managed to get it to work with multiple casts:\r\n`update active_holder set active=(cast((id = ?) as char)) where ID=? or ACTIVE=cast(TRUE as char);`","title":"Value too long for column &quot;ACTIVE CHARACTER(1)&quot;: &quot;TRUE (1)&quot;","body":"<p>I have an entity with fields <code>id</code> and <code>active</code>. I want to write a query that makes specific entry active and deactiavates other entries. It's important I use JPQL.</p>\n<p>However, for some reason when I use built-in boolean values in any clause, they seem to become of string (or other) type. And so, I get the error\n<code>Value too long for column &quot;ACTIVE CHARACTER(1)&quot;: &quot;TRUE (1)&quot;</code></p>\n<p>Here's my entity:</p>\n<pre><code>import jakarta.persistence.*;\nimport lombok.Getter;\nimport lombok.Setter;\nimport org.hibernate.type.YesNoConverter;\n\n@Entity\n@Getter\n@Setter\npublic class ActiveHolder{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Convert(converter = YesNoConverter.class)\n    private boolean active;\n}\n</code></pre>\n<p>And here's my JPQL in Repository:</p>\n<pre><code>@Transactional\n@Modifying\n@Query(&quot;UPDATE ActiveHolder u SET u.active = (u.id = :id) &quot; +\n        &quot;WHERE u.id = :id OR u.active = true&quot;)\nint activateById(@Param(&quot;id&quot;) Long id); // Doesn't work\n</code></pre>\n<p>Same thing occures when I try to use <code>CASE WHEN</code> statement. But it does work when I don't have an expresion as parameter:</p>\n<pre><code>@Transactional\n@Modifying\n@Query(&quot;UPDATE ActiveHolder u SET u.active = true &quot; +\n        &quot;WHERE u.id = :id OR u.active = true&quot;)\nint activateById(@Param(&quot;id&quot;) Long id); // Works perfectly fine!!!\n</code></pre>\n<p>Also, if it will be of any value, I had the same problem in nativeSql (H2) but have managed to get it to work with multiple casts:\n<code>update active_holder set active=(cast((id = ?) as char)) where ID=? or ACTIVE=cast(TRUE as char);</code></p>\n"},{"tags":["java","mysql","reactjs","typescript"],"owner":{"account_id":28208842,"reputation":9,"user_id":21561455,"display_name":"Pfointno"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680615438,"creation_date":1680579715,"question_id":75925343,"body_markdown":"I am trying to connect my test data to my homepage to display the dummy data I have created. It is supposed to show on the homepage, but I am having quite a few issues trying to figure out how to link the two.\r\n\r\nMy GitHub where my code is located is https://github.com/Senior-Project-2/tsu-software-engineering-react.git . The file with the dummy data is &quot;clientsDb&quot; and the Homepage code is &quot;Home.tsx&quot; in the Views folder. Please any help is appreciated.\r\n\r\n\r\nMy main goal is to get my file &quot;clientsDb&quot; in the Data Constants folder to display on the homepage data, but I am having quite a few issues trying to figure it out. I have an individual page to try to connect it, but have not completely figured out how to connect the pages to link to one another, so I have been trying to use it in the &quot;App.tsx&quot; file to at least make sure my code is running correctly.\r\n\r\nMore assistance please... When I make the changes from the answer down below I am getting this error - &quot;TS2307: Cannot find module &#39;../DataConstants/clientsDb.json&#39; or its corresponding type declarations.&quot;. I will leave a screenshot below. [Error Message Screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SMGSF.png","title":"How to connect an operating homepage to a json file using React and Typescript files?","body":"<p>I am trying to connect my test data to my homepage to display the dummy data I have created. It is supposed to show on the homepage, but I am having quite a few issues trying to figure out how to link the two.</p>\n<p>My GitHub where my code is located is <a href=\"https://github.com/Senior-Project-2/tsu-software-engineering-react.git\" rel=\"nofollow noreferrer\">https://github.com/Senior-Project-2/tsu-software-engineering-react.git</a> . The file with the dummy data is &quot;clientsDb&quot; and the Homepage code is &quot;Home.tsx&quot; in the Views folder. Please any help is appreciated.</p>\n<p>My main goal is to get my file &quot;clientsDb&quot; in the Data Constants folder to display on the homepage data, but I am having quite a few issues trying to figure it out. I have an individual page to try to connect it, but have not completely figured out how to connect the pages to link to one another, so I have been trying to use it in the &quot;App.tsx&quot; file to at least make sure my code is running correctly.</p>\n<p>More assistance please... When I make the changes from the answer down below I am getting this error - &quot;TS2307: Cannot find module '../DataConstants/clientsDb.json' or its corresponding type declarations.&quot;. I will leave a screenshot below. <a href=\"https://i.stack.imgur.com/SMGSF.png\" rel=\"nofollow noreferrer\">Error Message Screenshot</a></p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1421579102,"post_id":28006501,"comment_id":44405836,"body_markdown":"possible duplicate of [Spring Boot Context Root](http://stackoverflow.com/questions/20405474/spring-boot-context-root)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/20405474/spring-boot-context-root\">Spring Boot Context Root</a>"}],"answers":[{"comments":[{"owner":{"account_id":3692156,"reputation":7425,"user_id":3074508,"accept_rate":62,"display_name":"CESCO"},"score":87,"creation_date":1446679738,"post_id":28009154,"comment_id":54849546,"body_markdown":"this adds the prefix to everything, not just the controllers","body":"this adds the prefix to everything, not just the controllers"},{"owner":{"account_id":2442031,"reputation":281,"user_id":2130256,"display_name":"jaseeey"},"score":0,"creation_date":1457561447,"post_id":28009154,"comment_id":59467693,"body_markdown":"Both work great when wanting to add a context path. The two issues that I faced was that creating a DispatcherServelt bean also meant that the /oauth routes were under the context path which falls outside of RESTful standards; and using contextPath in the configuration introduced the same issue as well as CORS and tests not being aware of the context path at all. I ended up adding the @RequestMapping annotation to each controller as necessary.","body":"Both work great when wanting to add a context path. The two issues that I faced was that creating a DispatcherServelt bean also meant that the /oauth routes were under the context path which falls outside of RESTful standards; and using contextPath in the configuration introduced the same issue as well as CORS and tests not being aware of the context path at all. I ended up adding the @RequestMapping annotation to each controller as necessary."},{"owner":{"account_id":1053973,"reputation":9772,"user_id":1057093,"accept_rate":60,"display_name":"Anand"},"score":18,"creation_date":1467117967,"post_id":28009154,"comment_id":63589845,"body_markdown":"It should just be &quot;server.contextPath=/api/&quot; . Having a trailing * is causing error in Spring Boot version 1.3.5","body":"It should just be &quot;server.contextPath=/api/&quot; . Having a trailing * is causing error in Spring Boot version 1.3.5"},{"owner":{"account_id":6323824,"reputation":1258,"user_id":4910851,"accept_rate":50,"display_name":"Clement.Xu"},"score":0,"creation_date":1476417557,"post_id":28009154,"comment_id":67346014,"body_markdown":"&quot;server.context-path=/api/&quot; works for me. Many Thanks!","body":"&quot;server.context-path=/api/&quot; works for me. Many Thanks!"},{"owner":{"account_id":99756,"reputation":1384,"user_id":269292,"display_name":"binary"},"score":1,"creation_date":1510064067,"post_id":28009154,"comment_id":81269667,"body_markdown":"Please note, org.springframework.boot.context.embedded.ServletRegistrationBean was deprecated in 1.4 and its replacement, org.springframework.boot.web.servlet.ServletRegistrationBean, was introduced. The deprecated class was removed in 1.5","body":"Please note, org.springframework.boot.context.embedded.ServletRegistratio&zwnj;&#8203;nBean was deprecated in 1.4 and its replacement, org.springframework.boot.web.servlet.ServletRegistrationBean&zwnj;&#8203;, was introduced. The deprecated class was removed in 1.5"},{"owner":{"account_id":1148819,"reputation":2299,"user_id":1130975,"accept_rate":32,"display_name":"kboom"},"score":0,"creation_date":1523517114,"post_id":28009154,"comment_id":86595175,"body_markdown":"Note that for spring 2.0 it is server.servlet.contextPath: /xxx","body":"Note that for spring 2.0 it is server.servlet.contextPath: /xxx"},{"owner":{"account_id":376000,"reputation":3773,"user_id":727184,"accept_rate":62,"display_name":"GarouDan"},"score":1,"creation_date":1527956755,"post_id":28009154,"comment_id":88327768,"body_markdown":"Is this working for Spring Boot 2.0? It doesn&#39;t seem to.","body":"Is this working for Spring Boot 2.0? It doesn&#39;t seem to."},{"owner":{"account_id":927996,"reputation":12046,"user_id":958373,"accept_rate":63,"display_name":"Stephane"},"score":6,"creation_date":1531483048,"post_id":28009154,"comment_id":89624110,"body_markdown":"The `server.servlet.context-path = /api/*` sitting in the `application.properties` file was giving me the `Error registering Tomcat:type=TomcatEmbeddedWebappClassLoader,host=localhost,context=/api/* - ContextPath must start with &#39;/&#39; and not end with &#39;/&#39;` error. The `server.servlet.context-path = /api` property without quotes was the one required for the application to start.","body":"The <code>server.servlet.context-path = &#47;api&#47;*</code> sitting in the <code>application.properties</code> file was giving me the <code>Error registering Tomcat:type=TomcatEmbeddedWebappClassLoader,host=localhost,c&zwnj;&#8203;ontext=&#47;api&#47;* - ContextPath must start with &#39;&#47;&#39; and not end with &#39;&#47;&#39;</code> error. The <code>server.servlet.context-path = &#47;api</code> property without quotes was the one required for the application to start."},{"owner":{"account_id":6776074,"reputation":856,"user_id":5217790,"display_name":"Halil İbrahim Oymacı"},"score":8,"creation_date":1549294232,"post_id":28009154,"comment_id":95841578,"body_markdown":"For Spring Boot 2.0 it must be like `server.servlet.context-path=/api`.","body":"For Spring Boot 2.0 it must be like <code>server.servlet.context-path=&#47;api</code>."}],"tags":[],"owner":{"account_id":5549428,"reputation":1155,"user_id":4403075,"display_name":"Tomasz Janek"},"comment_count":9,"down_vote_count":7,"up_vote_count":91,"is_accepted":true,"score":84,"last_activity_date":1659561330,"creation_date":1421580379,"answer_id":28009154,"question_id":28006501,"body_markdown":"You can provide a mapping to root context path of your spring boot application to `/api/*` in your custom configuration. \r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    import org.springframework.boot.autoconfigure.web.DispatcherServletAutoConfiguration;\r\n    import org.springframework.boot.context.embedded.ServletRegistrationBean;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.servlet.DispatcherServlet;\r\n    \r\n    @Configuration\r\n    public class DispatcherServletCustomConfiguration {\r\n    \r\n        @Bean\r\n        public DispatcherServlet dispatcherServlet() {\r\n            return new DispatcherServlet();\r\n        }\r\n    \r\n        @Bean\r\n        public ServletRegistrationBean dispatcherServletRegistration() {\r\n            ServletRegistrationBean registration = new ServletRegistrationBean(\r\n                    dispatcherServlet(), &quot;/api/&quot;);\r\n            registration.setName(DispatcherServletAutoConfiguration.DEFAULT_DISPATCHER_SERVLET_REGISTRATION_BEAN_NAME);\r\n            return registration;\r\n        }\r\n    }\r\n\r\nor add this to your `application.properties` in `src\\main\\resources` folder\r\n\r\n    server.contextPath=/api\r\n\r\n**EDIT**\r\n\r\n[As of Spring Boot 2.x the property has been deprecated][1] and should be replaced with\r\n\r\n    server.servlet.contextPath=/api\r\n\r\nMore you find here [Spring Boot Context Root](https://stackoverflow.com/questions/20405474/spring-boot-context-root) and here [Add servlet mapping to DispatcherServlet](http://www.leveluplunch.com/java/tutorials/011-add-servlet-mapping-to-dispatcherservlet-spring-boot/)\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide#servlet-specific-server-properties","title":"How to specify prefix for all controllers in Spring Boot?","body":"<p>You can provide a mapping to root context path of your spring boot application to <code>/api/*</code> in your custom configuration.</p>\n<pre class=\"lang-js prettyprint-override\"><code>import org.springframework.boot.autoconfigure.web.DispatcherServletAutoConfiguration;\nimport org.springframework.boot.context.embedded.ServletRegistrationBean;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.DispatcherServlet;\n\n@Configuration\npublic class DispatcherServletCustomConfiguration {\n\n    @Bean\n    public DispatcherServlet dispatcherServlet() {\n        return new DispatcherServlet();\n    }\n\n    @Bean\n    public ServletRegistrationBean dispatcherServletRegistration() {\n        ServletRegistrationBean registration = new ServletRegistrationBean(\n                dispatcherServlet(), &quot;/api/&quot;);\n        registration.setName(DispatcherServletAutoConfiguration.DEFAULT_DISPATCHER_SERVLET_REGISTRATION_BEAN_NAME);\n        return registration;\n    }\n}\n</code></pre>\n<p>or add this to your <code>application.properties</code> in <code>src\\main\\resources</code> folder</p>\n<pre><code>server.contextPath=/api\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p><a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide#servlet-specific-server-properties\" rel=\"noreferrer\">As of Spring Boot 2.x the property has been deprecated</a> and should be replaced with</p>\n<pre><code>server.servlet.contextPath=/api\n</code></pre>\n<p>More you find here <a href=\"https://stackoverflow.com/questions/20405474/spring-boot-context-root\">Spring Boot Context Root</a> and here <a href=\"http://www.leveluplunch.com/java/tutorials/011-add-servlet-mapping-to-dispatcherservlet-spring-boot/\" rel=\"noreferrer\">Add servlet mapping to DispatcherServlet</a></p>\n"},{"comments":[{"owner":{"account_id":3410182,"reputation":12151,"user_id":2860319,"accept_rate":75,"display_name":"The Gilbert Arenas Dagger"},"score":9,"creation_date":1534014194,"post_id":51182494,"comment_id":90561959,"body_markdown":"Yes, but what if you have a lot of methods in your UserController?  Now you have traded off writing @RequestMapping(&quot;/api/users&quot;) at the class level for prefixing every method&#39;s RequestMapping with &quot;users&quot;.","body":"Yes, but what if you have a lot of methods in your UserController?  Now you have traded off writing @RequestMapping(&quot;/api/users&quot;) at the class level for prefixing every method&#39;s RequestMapping with &quot;users&quot;."},{"owner":{"account_id":1978391,"reputation":156,"user_id":1775623,"accept_rate":57,"display_name":"JimBob"},"score":1,"creation_date":1570800215,"post_id":51182494,"comment_id":103039482,"body_markdown":"Is there a reason why you used @Component for the annotation and alias and not @RestController?","body":"Is there a reason why you used @Component for the annotation and alias and not @RestController?"},{"owner":{"account_id":3568486,"reputation":4276,"user_id":2979435,"accept_rate":42,"display_name":"deFreitas"},"score":0,"creation_date":1570820802,"post_id":51182494,"comment_id":103049381,"body_markdown":"@JimBob no, you can ue `@RestController` as well","body":"@JimBob no, you can ue <code>@RestController</code> as well"}],"tags":[],"owner":{"account_id":3568486,"reputation":4276,"user_id":2979435,"accept_rate":42,"display_name":"deFreitas"},"comment_count":3,"down_vote_count":0,"up_vote_count":63,"is_accepted":false,"score":63,"last_activity_date":1550011716,"creation_date":1530755961,"answer_id":51182494,"question_id":28006501,"body_markdown":"If you want to add prefix just for some controllers I found two others solutions \r\n\r\n### Option 1 - Use spring SpEL to add a prefix variable for your controllers\r\n\r\n    @RestController\r\n    @RequestMapping(path = &quot;${v1API}/users&quot;)\r\n    public class V1FruitsController {\r\n    \r\n    \t@GetMapping(path = &quot;&quot;)\r\n    \t@ResponseBody\r\n    \tpublic String list(){\r\n    \t\treturn &quot;[\\&quot;Joe\\&quot;, \\&quot;Peter\\&quot;]&quot;;\r\n    \t}\r\n    }\r\n\r\n\r\napplication.properties\r\n\r\n    v1API=/api/v1\r\n\r\n\r\n### Option 2 - Create a custom controller annotation\r\n\r\n\r\n    @Target({ElementType.TYPE})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Documented\r\n    @Component\r\n    @RequestMapping(&quot;/api/v1&quot;)\r\n    public @interface V1APIController {\r\n    \t@AliasFor(annotation = Component.class)\r\n    \tString value() default &quot;&quot;;\r\n    }\r\n\r\n\r\n    @V1APIController\r\n    public class UserController {\r\n    \r\n    \t@RequestMapping(&quot;/users&quot;)\r\n        @ReponseBody\r\n    \tpublic String index(){\r\n    \t\treturn &quot;[\\&quot;Joe\\&quot;, \\&quot;Peter\\&quot;]&quot;;\r\n    \t}\r\n    }\r\n\r\nthen test it\r\n\r\n    curl -X GET localhost:8080/api/v1/users","title":"How to specify prefix for all controllers in Spring Boot?","body":"<p>If you want to add prefix just for some controllers I found two others solutions </p>\n\n<h3>Option 1 - Use spring SpEL to add a prefix variable for your controllers</h3>\n\n<pre><code>@RestController\n@RequestMapping(path = \"${v1API}/users\")\npublic class V1FruitsController {\n\n    @GetMapping(path = \"\")\n    @ResponseBody\n    public String list(){\n        return \"[\\\"Joe\\\", \\\"Peter\\\"]\";\n    }\n}\n</code></pre>\n\n<p>application.properties</p>\n\n<pre><code>v1API=/api/v1\n</code></pre>\n\n<h3>Option 2 - Create a custom controller annotation</h3>\n\n<pre><code>@Target({ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Component\n@RequestMapping(\"/api/v1\")\npublic @interface V1APIController {\n    @AliasFor(annotation = Component.class)\n    String value() default \"\";\n}\n\n\n@V1APIController\npublic class UserController {\n\n    @RequestMapping(\"/users\")\n    @ReponseBody\n    public String index(){\n        return \"[\\\"Joe\\\", \\\"Peter\\\"]\";\n    }\n}\n</code></pre>\n\n<p>then test it</p>\n\n<pre><code>curl -X GET localhost:8080/api/v1/users\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12156027,"reputation":13933,"user_id":8874958,"display_name":"Kishan Solanki"},"score":0,"creation_date":1605180777,"post_id":53178140,"comment_id":114574936,"body_markdown":"Thank you. I wanted to add &#39;/api&#39;  prefix and added by server.servlet.context-path=/api","body":"Thank you. I wanted to add &#39;/api&#39;  prefix and added by server.servlet.context-path=/api"}],"tags":[],"owner":{"account_id":3652290,"reputation":2120,"user_id":3044117,"accept_rate":38,"display_name":"Eduardo"},"comment_count":1,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1541530101,"creation_date":1541530101,"answer_id":53178140,"question_id":28006501,"body_markdown":"If you are using spring boot 2 (spring framework 5), there is a replacement of the property in your `application.properties`:\r\n\r\n    server.contextPath\r\n\r\nfor:\r\n\r\n    server.servlet.context-path=","title":"How to specify prefix for all controllers in Spring Boot?","body":"<p>If you are using spring boot 2 (spring framework 5), there is a replacement of the property in your <code>application.properties</code>:</p>\n\n<pre><code>server.contextPath\n</code></pre>\n\n<p>for:</p>\n\n<pre><code>server.servlet.context-path=\n</code></pre>\n"},{"tags":[],"owner":{"account_id":341348,"reputation":99,"user_id":671896,"display_name":"geeves"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1548055353,"creation_date":1548055353,"answer_id":54285132,"question_id":28006501,"body_markdown":"For those interested, here is a Kotlin take on [deFreitas&#39; Option 2 Component][1] as I was unable to use `spring.data.rest.basePath` or `server.servlet.contextPath` in `application.yaml`. (This is with Spring Boot 2.1.2 and Kotlin 1.13.11)\r\n\r\n\r\n    package com.myproject.controller\r\n    \r\n    import org.springframework.core.annotation.AliasFor\r\n    import org.springframework.stereotype.Component\r\n    import org.springframework.web.bind.annotation.RequestMapping\r\n    \r\n    import kotlin.annotation.MustBeDocumented\r\n    import kotlin.annotation.Retention\r\n    import kotlin.annotation.Target\r\n    import kotlin.annotation.AnnotationRetention\r\n    \r\n    @Target(AnnotationTarget.CLASS, AnnotationTarget.FILE)\r\n    @Retention(AnnotationRetention.RUNTIME)\r\n    @MustBeDocumented\r\n    @Component\r\n    @RequestMapping(&quot;/api/v1&quot;)\r\n    annotation class V1ApiController(\r\n        @get:AliasFor(annotation = Component::class)\r\n        val value: String = &quot;&quot;\r\n    )\r\n\r\nIf you&#39;re using IntelliJ, optimizing imports will probably remove the Kotlin annotation imports for brevity.\r\n\r\n[1]: https://stackoverflow.com/a/51182494/671896","title":"How to specify prefix for all controllers in Spring Boot?","body":"<p>For those interested, here is a Kotlin take on <a href=\"https://stackoverflow.com/a/51182494/671896\">deFreitas' Option 2 Component</a> as I was unable to use <code>spring.data.rest.basePath</code> or <code>server.servlet.contextPath</code> in <code>application.yaml</code>. (This is with Spring Boot 2.1.2 and Kotlin 1.13.11)</p>\n\n<pre><code>package com.myproject.controller\n\nimport org.springframework.core.annotation.AliasFor\nimport org.springframework.stereotype.Component\nimport org.springframework.web.bind.annotation.RequestMapping\n\nimport kotlin.annotation.MustBeDocumented\nimport kotlin.annotation.Retention\nimport kotlin.annotation.Target\nimport kotlin.annotation.AnnotationRetention\n\n@Target(AnnotationTarget.CLASS, AnnotationTarget.FILE)\n@Retention(AnnotationRetention.RUNTIME)\n@MustBeDocumented\n@Component\n@RequestMapping(\"/api/v1\")\nannotation class V1ApiController(\n    @get:AliasFor(annotation = Component::class)\n    val value: String = \"\"\n)\n</code></pre>\n\n<p>If you're using IntelliJ, optimizing imports will probably remove the Kotlin annotation imports for brevity.</p>\n"},{"comments":[{"owner":{"account_id":5330414,"reputation":1768,"user_id":4251114,"accept_rate":70,"display_name":"Sinux"},"score":0,"creation_date":1578638963,"post_id":55904385,"comment_id":105511319,"body_markdown":"On my current version spring boot, that property name is  context-path.","body":"On my current version spring boot, that property name is  context-path."}],"tags":[],"owner":{"account_id":10897577,"reputation":1704,"user_id":8010985,"display_name":"Bishal Jaiswal"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1567550337,"creation_date":1556544337,"answer_id":55904385,"question_id":28006501,"body_markdown":"Add your default path in the `application.properties` as:\r\n\r\n    server.servlet.contextPath=/mainPath\r\n\r\nHere `/mainPath` will be the prefix for all the controller\r\n","title":"How to specify prefix for all controllers in Spring Boot?","body":"<p>Add your default path in the <code>application.properties</code> as:</p>\n\n<pre><code>server.servlet.contextPath=/mainPath\n</code></pre>\n\n<p>Here <code>/mainPath</code> will be the prefix for all the controller</p>\n"},{"tags":[],"owner":{"account_id":11538816,"reputation":473,"user_id":8455280,"display_name":"Gary Tessman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565984312,"creation_date":1565984312,"answer_id":57530235,"question_id":28006501,"body_markdown":"```server.servlet.context-path``` is the correct path.  Not ```server.servlet.contextPath```, and unfortunately it doesn&#39;t seem to support lists which you could do in web.xml like this: \r\n```\r\n    &lt;servlet&gt;\r\n        &lt;description&gt;Servlet used by Spring MVC to handle all requests into the application&lt;/description&gt;\r\n        &lt;servlet-name&gt;spring&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n            &lt;param-value&gt;/WEB-INF/spring-servlet.xml&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;spring&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/app1/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;spring&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/app2/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n```","title":"How to specify prefix for all controllers in Spring Boot?","body":"<p><code>server.servlet.context-path</code> is the correct path.  Not <code>server.servlet.contextPath</code>, and unfortunately it doesn't seem to support lists which you could do in web.xml like this: </p>\n\n<pre><code>    &lt;servlet&gt;\n        &lt;description&gt;Servlet used by Spring MVC to handle all requests into the application&lt;/description&gt;\n        &lt;servlet-name&gt;spring&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/spring-servlet.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;spring&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/app1/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;spring&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/app2/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4642777,"reputation":2245,"user_id":3762105,"display_name":"troy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587131176,"creation_date":1587131176,"answer_id":61273169,"question_id":28006501,"body_markdown":"Additional. If you use `.yaml`, you could write it as:\r\n\r\n    server:\r\n      servlet:\r\n        context-path: /api\r\n\r\n ","title":"How to specify prefix for all controllers in Spring Boot?","body":"<p>Additional. If you use <code>.yaml</code>, you could write it as:</p>\n\n<pre><code>server:\n  servlet:\n    context-path: /api\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1833521,"reputation":1246,"user_id":4387162,"display_name":"downeyt"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1594676388,"creation_date":1594676388,"answer_id":62884685,"question_id":28006501,"body_markdown":"In addition to the other comments about changing the application property for the context path, you can also use an application property to set the prefix for the dispatcher servlet alone, in Spring Boot 2.3.1. \r\n\r\n```\r\nspring.mvc.servlet.path=/api\r\n```\r\n\r\nThe request mappings would not change in your controllers. While context path moves the entire application to a different path, servlet path only limits the URLs that are handled by the dispatcher servlet. The servlet path is the equivalent of the servlet mapping in web.xml. Other resources that do not use\r\nthe dispatcher servlet can be accessed from any other URL. \r\n\r\nIf you have other controllers that are not mapped to the ```/api``` prefix, then this will not work, unless you declare a second dispatcher servlet with a different prefix for those controllers.","title":"How to specify prefix for all controllers in Spring Boot?","body":"<p>In addition to the other comments about changing the application property for the context path, you can also use an application property to set the prefix for the dispatcher servlet alone, in Spring Boot 2.3.1.</p>\n<pre><code>spring.mvc.servlet.path=/api\n</code></pre>\n<p>The request mappings would not change in your controllers. While context path moves the entire application to a different path, servlet path only limits the URLs that are handled by the dispatcher servlet. The servlet path is the equivalent of the servlet mapping in web.xml. Other resources that do not use\nthe dispatcher servlet can be accessed from any other URL.</p>\n<p>If you have other controllers that are not mapped to the <code>/api</code> prefix, then this will not work, unless you declare a second dispatcher servlet with a different prefix for those controllers.</p>\n"},{"tags":[],"owner":{"account_id":12046249,"reputation":479,"user_id":8811143,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1608201980,"creation_date":1608201980,"answer_id":65339184,"question_id":28006501,"body_markdown":"In application.yml add this:\r\n\r\n    server:\r\n      servlet:\r\n        context-path: &quot;/contextPath&quot;","title":"How to specify prefix for all controllers in Spring Boot?","body":"<p>In application.yml add this:</p>\n<pre><code>server:\n  servlet:\n    context-path: &quot;/contextPath&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20621322,"reputation":119,"user_id":15138287,"display_name":"S3D"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639777725,"creation_date":1639777725,"answer_id":70399205,"question_id":28006501,"body_markdown":"Add this at **application.properties**\r\n\r\n    server.servlet.context-path=/api/v1/","title":"How to specify prefix for all controllers in Spring Boot?","body":"<p>Add this at <strong>application.properties</strong></p>\n<pre><code>server.servlet.context-path=/api/v1/\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4300640,"reputation":518,"user_id":3514416,"display_name":"NSV"},"score":1,"creation_date":1682243673,"post_id":75930008,"comment_id":134181771,"body_markdown":"Thanks, this is exactly what I needed! Only for classes which are annotated with @RestController. This allows me to separate between a webjar frontend and the api.","body":"Thanks, this is exactly what I needed! Only for classes which are annotated with @RestController. This allows me to separate between a webjar frontend and the api."}],"tags":[],"owner":{"account_id":19476520,"reputation":101,"user_id":14247812,"display_name":"wk."},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1680615221,"creation_date":1680615221,"answer_id":75930008,"question_id":28006501,"body_markdown":"Since **spring-webmvc-5.1.x**\r\n\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.web.method.HandlerTypePredicate;\r\n    import org.springframework.web.servlet.config.annotation.PathMatchConfigurer;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n    \r\n    @Configuration\r\n    public class WebConfiguration implements WebMvcConfigurer {\r\n    \r\n        @Override\r\n        public void configurePathMatch(PathMatchConfigurer configurer) {\r\n            configurer.addPathPrefix(&quot;/api&quot;,\r\n                    HandlerTypePredicate.forAnnotation(RestController.class));\r\n        }\r\n    }","title":"How to specify prefix for all controllers in Spring Boot?","body":"<p>Since <strong>spring-webmvc-5.1.x</strong></p>\n<pre><code>import org.springframework.context.annotation.Configuration;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.method.HandlerTypePredicate;\nimport org.springframework.web.servlet.config.annotation.PathMatchConfigurer;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Configuration\npublic class WebConfiguration implements WebMvcConfigurer {\n\n    @Override\n    public void configurePathMatch(PathMatchConfigurer configurer) {\n        configurer.addPathPrefix(&quot;/api&quot;,\n                HandlerTypePredicate.forAnnotation(RestController.class));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":95089,"reputation":3442,"user_id":2173453,"accept_rate":41,"display_name":"Murali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121861,"favorite_count":0,"down_vote_count":0,"up_vote_count":104,"accepted_answer_id":28009154,"answer_count":11,"score":104,"last_activity_date":1680615221,"creation_date":1421547298,"question_id":28006501,"body_markdown":"I have controller mappings to `/user` and `/order`:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/users&quot;)\r\n    public class UserController {\r\n        ...\r\n    }\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/orders&quot;)\r\n    public class OrderController {\r\n        ...\r\n    }\r\n\r\n\r\nI want to access these by URL at `http://localhost:8080/api/users`  and `http://localhost:8080/api/orders`, respectively.\r\n\r\nHow do I achieve this in Spring Boot? ","title":"How to specify prefix for all controllers in Spring Boot?","body":"<p>I have controller mappings to <code>/user</code> and <code>/order</code>:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/users\")\npublic class UserController {\n    ...\n}\n\n@RestController\n@RequestMapping(\"/orders\")\npublic class OrderController {\n    ...\n}\n</code></pre>\n\n<p>I want to access these by URL at <code>http://localhost:8080/api/users</code>  and <code>http://localhost:8080/api/orders</code>, respectively.</p>\n\n<p>How do I achieve this in Spring Boot? </p>\n"},{"tags":["java","gwt","garbage-collection","heap-dump","permgen"],"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1611780946,"post_id":65927248,"comment_id":116564348,"body_markdown":"there are some DB exceptions, it surely looks like someone is reading a big chunk of data from it.","body":"there are some DB exceptions, it surely looks like someone is reading a big chunk of data from it."},{"owner":{"account_id":2504971,"reputation":134,"user_id":2178964,"accept_rate":43,"display_name":"user2178964"},"score":0,"creation_date":1611825826,"post_id":65927248,"comment_id":116576564,"body_markdown":"Thx, but I can&#39;t make an AWR report on the database (no snapshot), and the JMX stats of the database server are ok at time of outOfMemory...","body":"Thx, but I can&#39;t make an AWR report on the database (no snapshot), and the JMX stats of the database server are ok at time of outOfMemory..."},{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":0,"creation_date":1611842300,"post_id":65927248,"comment_id":116584318,"body_markdown":"It tries to allocate memory but can&#39;t, that&#39;s why it throws an OOME. That the heap currently is 25% used means nothing. My guess would be, as Eugene says, that there is a very big chunk of data being serialised and there isn&#39;t heap space enough for it.","body":"It tries to allocate memory but can&#39;t, that&#39;s why it throws an OOME. That the heap currently is 25% used means nothing. My guess would be, as Eugene says, that there is a very big chunk of data being serialised and there isn&#39;t heap space enough for it."},{"owner":{"account_id":2504971,"reputation":134,"user_id":2178964,"accept_rate":43,"display_name":"user2178964"},"score":0,"creation_date":1611849406,"post_id":65927248,"comment_id":116588239,"body_markdown":"Thank you.\nI have an automatic restart when a OOME happen, in this case is it necessary ? Because it use 25%, so if the allocation could not happen, it&#39;s been blocked, and the rest of application could continue to live no ? How search the &quot;big chunk&quot; of data ? I can log every sql request (hibernate show_sql) but it will flood the logs, and slow the production I think...","body":"Thank you. I have an automatic restart when a OOME happen, in this case is it necessary ? Because it use 25%, so if the allocation could not happen, it&#39;s been blocked, and the rest of application could continue to live no ? How search the &quot;big chunk&quot; of data ? I can log every sql request (hibernate show_sql) but it will flood the logs, and slow the production I think..."},{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":0,"creation_date":1611850420,"post_id":65927248,"comment_id":116588803,"body_markdown":"No, the application cannot live on. There is no way known to me to unrequest a memory request. While you can catch the Error and continue to operate, that is not advisable.\nDo you have any logs on the db side?","body":"No, the application cannot live on. There is no way known to me to unrequest a memory request. While you can catch the Error and continue to operate, that is not advisable. Do you have any logs on the db side?"},{"owner":{"account_id":2504971,"reputation":134,"user_id":2178964,"accept_rate":43,"display_name":"user2178964"},"score":0,"creation_date":1611851629,"post_id":65927248,"comment_id":116589452,"body_markdown":"It seems that is a classic Oracle instance with only Statspack installed. I managed to get a report of today requests, but not at time of error yesterday. Because we have only snapshot of current day, weird. I ask to DBA to change that to keep the 7 days snapshot.","body":"It seems that is a classic Oracle instance with only Statspack installed. I managed to get a report of today requests, but not at time of error yesterday. Because we have only snapshot of current day, weird. I ask to DBA to change that to keep the 7 days snapshot."},{"owner":{"account_id":4503736,"reputation":380,"user_id":3661666,"accept_rate":80,"display_name":"Bishal Gautam"},"score":0,"creation_date":1620065375,"post_id":65927248,"comment_id":119085953,"body_markdown":"did you solve this? i would like to get my hands wet in this.","body":"did you solve this? i would like to get my hands wet in this."}],"answers":[{"comments":[{"owner":{"account_id":2504971,"reputation":134,"user_id":2178964,"accept_rate":43,"display_name":"user2178964"},"score":0,"creation_date":1619645538,"post_id":67308052,"comment_id":118971484,"body_markdown":"Thanks a lot for your answer. I already add the GC log for some weeks now. I&#39;m gonna add example of GC log generated just before the crash.","body":"Thanks a lot for your answer. I already add the GC log for some weeks now. I&#39;m gonna add example of GC log generated just before the crash."},{"owner":{"account_id":2504971,"reputation":134,"user_id":2178964,"accept_rate":43,"display_name":"user2178964"},"score":0,"creation_date":1619647334,"post_id":67308052,"comment_id":118972032,"body_markdown":"I added the files ;)","body":"I added the files ;)"},{"owner":{"account_id":8318014,"reputation":2224,"user_id":6250649,"display_name":"JohannesB"},"score":0,"creation_date":1619682247,"post_id":67308052,"comment_id":118979895,"body_markdown":"Analysis of: `gc-*-2021-04-11-Crash_10h29.log` shows (as speculated) a very sudden increase in memory usage (see A &amp; P graph): https://gceasy.io/my-gc-report.jsp?p=c2hhcmVkLzIwMjEvMDQvMjkvLS1nYy13ZWxkb21fY29tbWFuZGVzLTIwMjEtMDQtMTEtQ3Jhc2hfMTBoMjkubG9nLS02LTQyLTI5&amp;channel=WEB Try analyzing the heapdump with visualvm / jvisualvm and if computing retained sizes take note of: https://stackoverflow.com/questions/8316002","body":"Analysis of: <code>gc-*-2021-04-11-Crash_10h29.log</code> shows (as speculated) a very sudden increase in memory usage (see A &amp; P graph): <a href=\"https://gceasy.io/my-gc-report.jsp?p=c2hhcmVkLzIwMjEvMDQvMjkvLS1nYy13ZWxkb21fY29tbWFuZGVzLTIwMjEtMDQtMTEtQ3Jhc2hfMTBoMjkubG9nLS02LTQyLTI5&amp;channel=WEB\" rel=\"nofollow noreferrer\">gceasy.io/&hellip;</a> Try analyzing the heapdump with visualvm / jvisualvm and if computing retained sizes take note of: <a href=\"https://stackoverflow.com/questions/8316002\">stackoverflow.com/questions/8316002</a>"},{"owner":{"account_id":2504971,"reputation":134,"user_id":2178964,"accept_rate":43,"display_name":"user2178964"},"score":0,"creation_date":1619683762,"post_id":67308052,"comment_id":118980533,"body_markdown":"I disable automatic heap dump because they takes too much disk size. \nEverytime I analyse them, the objects which saturate the memory were string, char. \nThey match data from my database.","body":"I disable automatic heap dump because they takes too much disk size.  Everytime I analyse them, the objects which saturate the memory were string, char.  They match data from my database."},{"owner":{"account_id":2504971,"reputation":134,"user_id":2178964,"accept_rate":43,"display_name":"user2178964"},"score":0,"creation_date":1619683884,"post_id":67308052,"comment_id":118980585,"body_markdown":"But the difficult point is to understand why there is so much of these data suddenly in memory. Analyzing the code doesn’t help, too much complexity everywhere. I need to identify which gwt screen or action is launched but I don’t want to add log.debug everywhere and enable it in production…","body":"But the difficult point is to understand why there is so much of these data suddenly in memory. Analyzing the code doesn’t help, too much complexity everywhere. I need to identify which gwt screen or action is launched but I don’t want to add log.debug everywhere and enable it in production…"},{"owner":{"account_id":8318014,"reputation":2224,"user_id":6250649,"display_name":"JohannesB"},"score":0,"creation_date":1619686999,"post_id":67308052,"comment_id":118982036,"body_markdown":"Those objects form a graph starting at the GC Root (e.g.: stack frames of the request thread) towards the strings, maybe you can find the most import information at the beginning of the graph. I&#39;m no GWT expert but maybe some info can be glanced from lower in the stack, like an HttpServletRequest object, although the ?partial? stacktrace of this question does not tell anything about that","body":"Those objects form a graph starting at the GC Root (e.g.: stack frames of the request thread) towards the strings, maybe you can find the most import information at the beginning of the graph. I&#39;m no GWT expert but maybe some info can be glanced from lower in the stack, like an HttpServletRequest object, although the ?partial? stacktrace of this question does not tell anything about that"},{"owner":{"account_id":2504971,"reputation":134,"user_id":2178964,"accept_rate":43,"display_name":"user2178964"},"score":0,"creation_date":1619698901,"post_id":67308052,"comment_id":118987347,"body_markdown":"I put two reports of analysis of heap dump (google drive files), do you see something here ?","body":"I put two reports of analysis of heap dump (google drive files), do you see something here ?"},{"owner":{"account_id":8318014,"reputation":2224,"user_id":6250649,"display_name":"JohannesB"},"score":0,"creation_date":1619701736,"post_id":67308052,"comment_id":118988715,"body_markdown":"Ah yes, the reports that you uploaded to Google Drive show the complete Stacktraces, and suggest you run your application on JBoss/Tomcat (or similar), this means you may find out more about your issue from any http-access-logfiles you might have, that may help to tell more about the URL, source IP-address, time, HTTP, if you start looking for slow requests with an unsuccesful status code (5xx). See: https://tomcat.apache.org/tomcat-7.0-doc/api/org/apache/catalina/valves/AccessLogValve.html But no, I did not find a complete solution because it does not provide access to variables/references","body":"Ah yes, the reports that you uploaded to Google Drive show the complete Stacktraces, and suggest you run your application on JBoss/Tomcat (or similar), this means you may find out more about your issue from any http-access-logfiles you might have, that may help to tell more about the URL, source IP-address, time, HTTP, if you start looking for slow requests with an unsuccesful status code (5xx). See: <a href=\"https://tomcat.apache.org/tomcat-7.0-doc/api/org/apache/catalina/valves/AccessLogValve.html\" rel=\"nofollow noreferrer\">tomcat.apache.org/tomcat-7.0-doc/api/org/apache/catalina/val&zwnj;&#8203;ves/&hellip;</a> But no, I did not find a complete solution because it does not provide access to variables/references"},{"owner":{"account_id":2504971,"reputation":134,"user_id":2178964,"accept_rate":43,"display_name":"user2178964"},"score":0,"creation_date":1619702764,"post_id":67308052,"comment_id":118989268,"body_markdown":"Very good catch ! But I already check this thing. I have the complete access log. And even when it happens with not many users, it&#39;s very difficult to catch the problem. For example, if the user launch his action 10min before the OOM, the code continue to run background, saturate the memory....etc, and I&#39;m not gonna have an error in access log. I&#39;m trying to add some log automatically with aspectJ right now, maybe it will be enough..","body":"Very good catch ! But I already check this thing. I have the complete access log. And even when it happens with not many users, it&#39;s very difficult to catch the problem. For example, if the user launch his action 10min before the OOM, the code continue to run background, saturate the memory....etc, and I&#39;m not gonna have an error in access log. I&#39;m trying to add some log automatically with aspectJ right now, maybe it will be enough.."},{"owner":{"account_id":8318014,"reputation":2224,"user_id":6250649,"display_name":"JohannesB"},"score":0,"creation_date":1619703909,"post_id":67308052,"comment_id":118989863,"body_markdown":"It seems your investigation turns away from the Heap Dump. If you cannot find what you are looking for in the HttpServletRequest data in the Heap Dump you could also try to log the entire requests/responses with e.g.: `tcpdump` or a proxy-server like:  http://httpd.apache.org/docs/2.4/mod/mod_dumpio.html which might also help to find any related earlier requests (with the same cookie, TLS SessionID, source IP etc.)","body":"It seems your investigation turns away from the Heap Dump. If you cannot find what you are looking for in the HttpServletRequest data in the Heap Dump you could also try to log the entire requests/responses with e.g.: <code>tcpdump</code> or a proxy-server like:  <a href=\"http://httpd.apache.org/docs/2.4/mod/mod_dumpio.html\" rel=\"nofollow noreferrer\">httpd.apache.org/docs/2.4/mod/mod_dumpio.html</a> which might also help to find any related earlier requests (with the same cookie, TLS SessionID, source IP etc.)"}],"tags":[],"owner":{"account_id":8318014,"reputation":2224,"user_id":6250649,"display_name":"JohannesB"},"comment_count":10,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619644818,"creation_date":1619644818,"answer_id":67308052,"question_id":65927248,"body_markdown":"Nice puzzle you got there :-)\r\n\r\nI&#39;ve got some suggestions to try for you as I suppose you are the only one that can reproduce this (if you are the only one that has the code and the data that the code is operating on):\r\n\r\n1. Instead of the JMX bean, I would use GC logging because the information is realtime, directly from your Garbage Collector, see: https://gceasy.io for setup and analysis. E.g.: `-XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:&lt;GC-log-file-path&gt;`\r\n1. Try to increase -Xmx (instead of MaxPermSize) your way out of this one (at some point that is only going to succeed on a 64-bit instance which might cost extra memory, use compressed oops to avoid that: https://www.baeldung.com/jvm-compressed-oops), but stay clear from java having to use swap, and don&#39;t forget Java also needs memory for every Threads stacks and native code, on top of the Java heap.\r\n1. You could attach a Java debugger (e.g. Eclipse) to port 8787 and create an Exception breakpoint that catches java.lang.OutOfMemoryError and inspect the stack for the relevant values, to find that large dataset or circular reference?). *WARNING*: running Java with debugger breakpoints might slow down your application so it might not be a great idea for production environments, but on the other hand, making heap dumps isn&#39;t good for your applications response times either.\r\n1. You could load the heapdump from -XX:+HeapDumpOnOutOfMemoryError in (j)visualvm for analysis, should be easier than jhat but that might work too). Only dumps made with HeapDumpOnOutOfMemoryError contain all the information up to the point of the OOMError. Do not share the heapdump on the internet, every byte of private information (personal data, passwords, maybe bytecode from classes), becomes public information\r\n1, Finally tracing (JDBC, network, statspack) of queries might help as well but may not be worth the hassle as it might be too much info to easily analyse\r\n\r\nIf you need more help try adding the GC logging and the output at startup time of: `-XX:+PrintFlagsFinal` to this post.","title":"How analyse an OutOfMemory GWT Error and customize heap?","body":"<p>Nice puzzle you got there :-)</p>\n<p>I've got some suggestions to try for you as I suppose you are the only one that can reproduce this (if you are the only one that has the code and the data that the code is operating on):</p>\n<ol>\n<li>Instead of the JMX bean, I would use GC logging because the information is realtime, directly from your Garbage Collector, see: <a href=\"https://gceasy.io\" rel=\"nofollow noreferrer\">https://gceasy.io</a> for setup and analysis. E.g.: <code>-XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:&lt;GC-log-file-path&gt;</code></li>\n<li>Try to increase -Xmx (instead of MaxPermSize) your way out of this one (at some point that is only going to succeed on a 64-bit instance which might cost extra memory, use compressed oops to avoid that: <a href=\"https://www.baeldung.com/jvm-compressed-oops\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jvm-compressed-oops</a>), but stay clear from java having to use swap, and don't forget Java also needs memory for every Threads stacks and native code, on top of the Java heap.</li>\n<li>You could attach a Java debugger (e.g. Eclipse) to port 8787 and create an Exception breakpoint that catches java.lang.OutOfMemoryError and inspect the stack for the relevant values, to find that large dataset or circular reference?). <em>WARNING</em>: running Java with debugger breakpoints might slow down your application so it might not be a great idea for production environments, but on the other hand, making heap dumps isn't good for your applications response times either.</li>\n<li>You could load the heapdump from -XX:+HeapDumpOnOutOfMemoryError in (j)visualvm for analysis, should be easier than jhat but that might work too). Only dumps made with HeapDumpOnOutOfMemoryError contain all the information up to the point of the OOMError. Do not share the heapdump on the internet, every byte of private information (personal data, passwords, maybe bytecode from classes), becomes public information\n1, Finally tracing (JDBC, network, statspack) of queries might help as well but may not be worth the hassle as it might be too much info to easily analyse</li>\n</ol>\n<p>If you need more help try adding the GC logging and the output at startup time of: <code>-XX:+PrintFlagsFinal</code> to this post.</p>\n"},{"comments":[{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":0,"creation_date":1680616025,"post_id":75929988,"comment_id":133925732,"body_markdown":"Nice to see an answer! Thanks for posting the solution!","body":"Nice to see an answer! Thanks for posting the solution!"}],"tags":[],"owner":{"account_id":2504971,"reputation":134,"user_id":2178964,"accept_rate":43,"display_name":"user2178964"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680615069,"creation_date":1680615069,"answer_id":75929988,"question_id":65927248,"body_markdown":"**I finally solved my OOM problem with the following steps :**\r\n\r\n1\\ Create thread dump every 10 seconds, and keep the last 4 hours of dumps.\r\nI can&#39;t store full heap dump because I&#39;m limited in space disk, so with this method, I only store a lot of &quot;small&quot; files. And I can follow the activity minutes before the OOM and after.\r\n\r\nI modify my crontab to add : \r\n\r\n    #Check threads for OOM\r\n    * * * * * ( pidof java | xargs /opt/jdk/bin/jstack &gt; /tmp/jstack`date &quot;+\\%d-\\%m-\\%Y:\\%H:\\%M:\\%S&quot;`.log )  \r\n    * * * * * ( sleep 10 ; pidof java | xargs /opt/jdk/bin/jstack &gt; /tmp/jstack`date &quot;+\\%d-\\%m-\\%Y:\\%H:\\%M:\\%S&quot;`.log )  \r\n    * * * * * ( sleep 20 ; pidof java | xargs /opt/jdk/bin/jstack &gt; /tmp/jstack`date &quot;+\\%d-\\%m-\\%Y:\\%H:\\%M:\\%S&quot;`.log )  \r\n    * * * * * ( sleep 30 ; pidof java | xargs /opt/jdk/bin/jstack &gt; /tmp/jstack`date &quot;+\\%d-\\%m-\\%Y:\\%H:\\%M:\\%S&quot;`.log )  \r\n    * * * * * ( sleep 40 ; pidof java | xargs /opt/jdk/bin/jstack &gt; /tmp/jstack`date &quot;+\\%d-\\%m-\\%Y:\\%H:\\%M:\\%S&quot;`.log )  \r\n    * * * * * ( sleep 50 ; pidof java | xargs /opt/jdk/bin/jstack &gt; /tmp/jstack`date &quot;+\\%d-\\%m-\\%Y:\\%H:\\%M:\\%S&quot;`.log )  \r\n    0 * * * * find /tmp -name &quot;jstack*&quot; -type f -mmin +240 -delete\r\n\r\n\r\n2\\\r\n\r\nWhen an OOM happens.\r\nI download the thread dump files around 20 minutes before and 10 seconds after the time of OOM.\r\n\r\n3\\\r\n\r\nI open all the files, and search for a class linked to my own app : &quot;com.al6.xxxxx&quot;\r\n\r\nI see that there is a thread wich begins like 10 minutes before OOM, and base on his ajp-xxx number, I found it in every file until the OOM : \r\n\r\n    &quot;ajp-0.0.0.0-8009-23&quot; #7088 daemon prio-5 os-prio-0 tid-0x00007f7ffle1b000 nid-0x673 runnable [0x000000004cfa8000]\r\n    java. lang. Thread. State: RUNNABLE\r\n    at java.util.Arrays.copy0f(Arrays. java:3181)\r\n    at java.util.ArrayList.grow(ArrayList. java: 265)\r\n    at java.util.ArrayList.ensureExplicitCapacity(ArrayList.java:239)\r\n    at java.util.ArrayList.ensureCapacityInternal(ArrayList.java:231)\r\n    at java.util.ArrayList.add(ArrayList. java:462)\r\n    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.append(ServerSerializationStreamWriter.java:583)\r\n    at com.google.gwt.user.client.rpc.impl.AbstractSerializationStreamWriter.writeInt(AbstractSerializationStreamWriter.java:100)\r\n    at com.google.gwt.user.client.rpc.impl.AbstractSerializationStreamWriter.writeString(AbstractSerializationStreamWriter.java:134)\r\n    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter$ValueWriter$10.write(ServerSerializationStreamWriter.java:165)\r\n    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.serializeValue(ServerSerializationStreamWriter.java:536) at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.serializeClass(ServerSerializationStreamWriter.java:709)\r\n    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.serializeImpl(ServerSerializationStreamWriter.java:748)\r\n    at com.google.gwt.user .server. rpc. impl.ServerSerializationStreanWriter.serialize(ServerSerializationStreamWriter.java:621)\r\n    at com.google.gwt.user.client.rpc.impl.AbstractSerializationStreamWriter.writeObjectAbstractSerializationStreamWriter.java:126)\r\n\r\n\r\nSo, it&#39;s the guilty thread, clearly !\r\nBut I only have always the same stack tracelinked to GWT, without the launcher/parent of this running code.\r\n\r\nSo searching with the name &quot;ajp-0.0.0.0-8009-23&quot;, I finally trace back the thread through his creation, and found a portion of &quot;server code&quot; !\r\n\r\n    com.al6.serviceBaseEntry.getXXXXX \r\n\r\nThis code return an ArrayList with a lot of elements in it, sometimes 100, sometimes 1500.\r\nIt&#39;s not a lot, but for each element of the list, there is like 30 attributes.\r\nThis list of element is sent to GWT to generate a drop-down list with autocompletion.\r\n\r\nIn theory, the user had to type a sufficiently restrictive filter to return 10-20 elements.\r\nBut sometimes, the user type a very generic filter, and so the method server side return 1500 elements.\r\nGWT tries to serialize the 1500 elements with all their attributes, and boum, OOM.\r\n\r\nI just modify the IHM side code to force the user to enter an enough restrictive filter, and made a check in server side, limiting the result number to 100.\r\n\r\n**Since, no more OOM, it&#39;s solved !** \r\n\r\nIn complement, for those who can, think about update GWT, even a little, there is some changes which add details on stack trace. And in my case of OOM, I think with a newer version of GWT, I would have more details on the cause of the OOM in the final stack trace, without doing all this search process.","title":"How analyse an OutOfMemory GWT Error and customize heap?","body":"<p><strong>I finally solved my OOM problem with the following steps :</strong></p>\n<p>1\\ Create thread dump every 10 seconds, and keep the last 4 hours of dumps.\nI can't store full heap dump because I'm limited in space disk, so with this method, I only store a lot of &quot;small&quot; files. And I can follow the activity minutes before the OOM and after.</p>\n<p>I modify my crontab to add :</p>\n<pre><code>#Check threads for OOM\n* * * * * ( pidof java | xargs /opt/jdk/bin/jstack &gt; /tmp/jstack`date &quot;+\\%d-\\%m-\\%Y:\\%H:\\%M:\\%S&quot;`.log )  \n* * * * * ( sleep 10 ; pidof java | xargs /opt/jdk/bin/jstack &gt; /tmp/jstack`date &quot;+\\%d-\\%m-\\%Y:\\%H:\\%M:\\%S&quot;`.log )  \n* * * * * ( sleep 20 ; pidof java | xargs /opt/jdk/bin/jstack &gt; /tmp/jstack`date &quot;+\\%d-\\%m-\\%Y:\\%H:\\%M:\\%S&quot;`.log )  \n* * * * * ( sleep 30 ; pidof java | xargs /opt/jdk/bin/jstack &gt; /tmp/jstack`date &quot;+\\%d-\\%m-\\%Y:\\%H:\\%M:\\%S&quot;`.log )  \n* * * * * ( sleep 40 ; pidof java | xargs /opt/jdk/bin/jstack &gt; /tmp/jstack`date &quot;+\\%d-\\%m-\\%Y:\\%H:\\%M:\\%S&quot;`.log )  \n* * * * * ( sleep 50 ; pidof java | xargs /opt/jdk/bin/jstack &gt; /tmp/jstack`date &quot;+\\%d-\\%m-\\%Y:\\%H:\\%M:\\%S&quot;`.log )  \n0 * * * * find /tmp -name &quot;jstack*&quot; -type f -mmin +240 -delete\n</code></pre>\n<p>2\\</p>\n<p>When an OOM happens.\nI download the thread dump files around 20 minutes before and 10 seconds after the time of OOM.</p>\n<p>3\\</p>\n<p>I open all the files, and search for a class linked to my own app : &quot;com.al6.xxxxx&quot;</p>\n<p>I see that there is a thread wich begins like 10 minutes before OOM, and base on his ajp-xxx number, I found it in every file until the OOM :</p>\n<pre><code>&quot;ajp-0.0.0.0-8009-23&quot; #7088 daemon prio-5 os-prio-0 tid-0x00007f7ffle1b000 nid-0x673 runnable [0x000000004cfa8000]\njava. lang. Thread. State: RUNNABLE\nat java.util.Arrays.copy0f(Arrays. java:3181)\nat java.util.ArrayList.grow(ArrayList. java: 265)\nat java.util.ArrayList.ensureExplicitCapacity(ArrayList.java:239)\nat java.util.ArrayList.ensureCapacityInternal(ArrayList.java:231)\nat java.util.ArrayList.add(ArrayList. java:462)\nat com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.append(ServerSerializationStreamWriter.java:583)\nat com.google.gwt.user.client.rpc.impl.AbstractSerializationStreamWriter.writeInt(AbstractSerializationStreamWriter.java:100)\nat com.google.gwt.user.client.rpc.impl.AbstractSerializationStreamWriter.writeString(AbstractSerializationStreamWriter.java:134)\nat com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter$ValueWriter$10.write(ServerSerializationStreamWriter.java:165)\nat com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.serializeValue(ServerSerializationStreamWriter.java:536) at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.serializeClass(ServerSerializationStreamWriter.java:709)\nat com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.serializeImpl(ServerSerializationStreamWriter.java:748)\nat com.google.gwt.user .server. rpc. impl.ServerSerializationStreanWriter.serialize(ServerSerializationStreamWriter.java:621)\nat com.google.gwt.user.client.rpc.impl.AbstractSerializationStreamWriter.writeObjectAbstractSerializationStreamWriter.java:126)\n</code></pre>\n<p>So, it's the guilty thread, clearly !\nBut I only have always the same stack tracelinked to GWT, without the launcher/parent of this running code.</p>\n<p>So searching with the name &quot;ajp-0.0.0.0-8009-23&quot;, I finally trace back the thread through his creation, and found a portion of &quot;server code&quot; !</p>\n<pre><code>com.al6.serviceBaseEntry.getXXXXX \n</code></pre>\n<p>This code return an ArrayList with a lot of elements in it, sometimes 100, sometimes 1500.\nIt's not a lot, but for each element of the list, there is like 30 attributes.\nThis list of element is sent to GWT to generate a drop-down list with autocompletion.</p>\n<p>In theory, the user had to type a sufficiently restrictive filter to return 10-20 elements.\nBut sometimes, the user type a very generic filter, and so the method server side return 1500 elements.\nGWT tries to serialize the 1500 elements with all their attributes, and boum, OOM.</p>\n<p>I just modify the IHM side code to force the user to enter an enough restrictive filter, and made a check in server side, limiting the result number to 100.</p>\n<p><strong>Since, no more OOM, it's solved !</strong></p>\n<p>In complement, for those who can, think about update GWT, even a little, there is some changes which add details on stack trace. And in my case of OOM, I think with a newer version of GWT, I would have more details on the cause of the OOM in the final stack trace, without doing all this search process.</p>\n"}],"owner":{"account_id":2504971,"reputation":134,"user_id":2178964,"accept_rate":43,"display_name":"user2178964"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75929988,"answer_count":2,"score":0,"last_activity_date":1680615069,"creation_date":1611780807,"question_id":65927248,"body_markdown":"I work on a old Java 1.6 application which use GWT 2.4.0\r\nSince few weeks, it started to show a lot of OutOfMemoryError, and I can&#39;t find why...\r\nI can&#39;t do a lot of modification on this old app, I can&#39;t migrate to JDK 1.8, or migrate to a newer GWT version, too much risky.\r\n\r\n**Example of stacktrace :** \r\n\r\n    2021-01-27 09:40:39,937 ERROR [org.apache.catalina.core.ContainerBase.[jboss.web].[localhost].[/borneIntranet]] Exception while dispatching incoming RPC call\r\n    java.lang.OutOfMemoryError: Java heap space\r\n            at java.util.Arrays.copyOf(Arrays.java:2734)\r\n            at java.util.ArrayList.ensureCapacity(ArrayList.java:167)\r\n            at java.util.ArrayList.add(ArrayList.java:351)\r\n            at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.append(ServerSerializationStreamWriter.java:583)\r\n            at com.google.gwt.user.client.rpc.impl.AbstractSerializationStreamWriter.writeInt(AbstractSerializationStreamWriter.java:100)\r\n            at com.google.gwt.user.client.rpc.impl.AbstractSerializationStreamWriter.writeString(AbstractSerializationStreamWriter.java:134)\r\n            at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter$ValueWriter$10.write(ServerSerializationStreamWriter.java:165)\r\n            at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.serializeValue(ServerSerializationStreamWriter.java:536)\r\n            at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.serializeClass(ServerSerializationStreamWriter.java:709)\r\n            at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.serializeImpl(ServerSerializationStreamWriter.java:748)\r\n            at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.serialize(ServerSerializationStreamWriter.java:621)\r\n            at com.google.gwt.user.client.rpc.impl.AbstractSerializationStreamWriter.writeObject(AbstractSerializationStreamWriter.java:126)\r\n            at com.google.gwt.user.client.rpc.core.java.util.Collection_CustomFieldSerializerBase.serialize(Collection_CustomFieldSerializerBase.java:44)\r\n            at com.google.gwt.user.client.rpc.core.java.util.ArrayList_CustomFieldSerializer.serialize(ArrayList_CustomFieldSerializer.java:39)\r\n            at com.google.gwt.user.client.rpc.core.java.util.ArrayList_CustomFieldSerializer.serializeInstance(ArrayList_CustomFieldSerializer.java:51)\r\n            at com.google.gwt.user.client.rpc.core.java.util.ArrayList_CustomFieldSerializer.serializeInstance(ArrayList_CustomFieldSerializer.java:28)\r\n            at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.serializeImpl(ServerSerializationStreamWriter.java:740)\r\n            at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.serialize(ServerSerializationStreamWriter.java:621)\r\n            at com.google.gwt.user.client.rpc.impl.AbstractSerializationStreamWriter.writeObject(AbstractSerializationStreamWriter.java:126)\r\n            at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter$ValueWriter$8.write(ServerSerializationStreamWriter.java:153)\r\n            at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.serializeValue(ServerSerializationStreamWriter.java:539)\r\n            at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.serializeClass(ServerSerializationStreamWriter.java:709)\r\n            at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.serializeImpl(ServerSerializationStreamWriter.java:748)\r\n            at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.serialize(ServerSerializationStreamWriter.java:621)\r\n            at com.google.gwt.user.client.rpc.impl.AbstractSerializationStreamWriter.writeObject(AbstractSerializationStreamWriter.java:126)\r\n            at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter$ValueWriter$8.write(ServerSerializationStreamWriter.java:153)\r\n            at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.serializeValue(ServerSerializationStreamWriter.java:539)\r\n            at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.serializeClass(ServerSerializationStreamWriter.java:709)\r\n            at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.serializeImpl(ServerSerializationStreamWriter.java:748)\r\n            at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.serialize(ServerSerializationStreamWriter.java:621)\r\n            at com.google.gwt.user.client.rpc.impl.AbstractSerializationStreamWriter.writeObject(AbstractSerializationStreamWriter.java:126)\r\n            at com.google.gwt.user.client.rpc.core.java.util.Collection_CustomFieldSerializerBase.serialize(Collection_CustomFieldSerializerBase.java:44)\r\n    2021-01-27 09:40:41,594 ERROR [STDERR] 8312399 [scheduler_QuartzSchedulerThread] ERROR org.quartz.core.ErrorLogger - An error occurred while scanning for the next triggers to fire.\r\n    2021-01-27 09:40:42,206 ERROR [STDERR] org.quartz.JobPersistenceException: Failed to obtain DB connection from data source &#39;springNonTxDataSource.scheduler&#39;: java.sql.SQLException: Exception d&#39;E/S: Connection reset [See nested exception:$\r\n    2021-01-27 09:40:42,208 ERROR [STDERR]  at org.quartz.impl.jdbcjobstore.JobStoreCMT.getNonManagedTXConnection(JobStoreCMT.java:168)\r\n    2021-01-27 09:40:42,208 ERROR [STDERR]  at org.quartz.impl.jdbcjobstore.JobStoreSupport.executeInNonManagedTXLock(JobStoreSupport.java:3784)\r\n    2021-01-27 09:40:42,208 ERROR [STDERR]  at org.quartz.impl.jdbcjobstore.JobStoreSupport.acquireNextTriggers(JobStoreSupport.java:2756)\r\n    2021-01-27 09:40:42,208 ERROR [STDERR]  at org.quartz.core.QuartzSchedulerThread.run(QuartzSchedulerThread.java:272)\r\n    2021-01-27 09:40:42,208 ERROR [STDERR] Caused by: java.sql.SQLException: Exception d&#39;E/S: Connection reset\r\n    2021-01-27 09:40:42,208 ERROR [STDERR]  at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:111)\r\n    2021-01-27 09:40:42,208 ERROR [STDERR]  at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:145)\r\n    2021-01-27 09:40:42,209 ERROR [STDERR]  at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:254)\r\n    2021-01-27 09:40:42,209 ERROR [STDERR]  at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:386)\r\n    2021-01-27 09:40:42,209 ERROR [STDERR]  at oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:413)\r\n    2021-01-27 09:40:42,209 ERROR [STDERR]  at oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:164)\r\n    2021-01-27 09:40:42,209 ERROR [STDERR]  at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:34)\r\n    2021-01-27 09:40:42,209 ERROR [STDERR]  at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:752)\r\n    2021-01-27 09:40:42,209 ERROR [STDERR]  at org.apache.commons.dbcp.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:38)\r\n    2021-01-27 09:40:42,209 ERROR [STDERR]  at org.apache.commons.dbcp.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:582)\r\n    2021-01-27 09:40:42,209 ERROR [STDERR]  at org.apache.commons.pool.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:1188)\r\n    2021-01-27 09:40:42,209 ERROR [STDERR]  at org.apache.commons.dbcp.PoolingDataSource.getConnection(PoolingDataSource.java:106)\r\n    2021-01-27 09:40:42,209 ERROR [STDERR]  at org.apache.commons.dbcp.BasicDataSource.getConnection(BasicDataSource.java:1044)\r\n    2021-01-27 09:40:42,209 ERROR [STDERR]  at org.springframework.scheduling.quartz.LocalDataSourceJobStore$2.getConnection(LocalDataSourceJobStore.java:134)\r\n    2021-01-27 09:40:42,209 ERROR [STDERR]  at org.quartz.utils.DBConnectionManager.getConnection(DBConnectionManager.java:108)\r\n    2021-01-27 09:40:42,209 ERROR [STDERR]  at org.quartz.impl.jdbcjobstore.JobStoreCMT.getNonManagedTXConnection(JobStoreCMT.java:165)\r\n    2021-01-27 09:40:42,209 ERROR [STDERR]  ... 3 more\r\n\r\n**I try this :** \r\n- Analyse heap dump with xRay \r\n**See report of dump analysis here** :\r\nhttps://drive.google.com/file/d/1A97HaDLJW1EvMMttoX7K5dmirTG-KhLE/view?usp=sharing\r\nhttps://drive.google.com/file/d/1VkBFaXV5HaALuZlehCWtuu6MUwtQek2B/view?usp=sharing\r\n\r\n  -&gt; But no real clue on what to do, it point on GWT, but then what ?\r\n- Analyse heap dump with YourKit or VisualVM -&gt; same, point to GWT but don&#39;t know how interpret this\r\n- Add &quot;-XX:+UseConcMarkSweepGC -XX:+CMSClassUnloadingEnabled&quot; : No change\r\n- Upgrade MaxPermSize : 512M -&gt; 768M : No change, the permspace in JMX stats is 50% max used anyway\r\n\r\n**What is weird, is when I watch JMX stats, the heapspace is 25% used, and permspace is 40% used.\r\nBut in server.log, I see the outOfMemoryError, so how it&#39;s possible ?**\r\n\r\nThe server have 5120M of RAM.\r\n\r\nThe actual launch parameters are : \r\n\r\n    /opt/jdk/bin/java -Dprogram.name=run.sh -server -Xms2560m -Xmx2560m -XX:MaxPermSize=768M \r\n    -Djava.awt.headless=true -Xdebug -Xrunjdwp:transport=dt_socket,address=8787,server=y,suspend=n \r\n    -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=9999 \r\n    -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false \r\n    -XX:+UseConcMarkSweepGC -XX:+CMSClassUnloadingEnabled -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/tmp/\r\n    -Djava.net.preferIPv4Stack=true ...\r\n\r\nI don&#39;t know how to process.\r\nI don&#39;t have much application log either, so I can&#39;t know what users really do, like display a GWT screen which use a lot of data, or something else. \r\n\r\n\r\nEDIT : \r\n\r\nHere is some gc log files, each generated in a day, until the app crashed with an OOM.\r\n\r\nhttps://file.io/e1140Wc80yhd\r\n\r\nhttps://file.io/8jRxM1KIgPPB\r\n\r\nhttps://file.io/WvUgIX3ftQ1o","title":"How analyse an OutOfMemory GWT Error and customize heap?","body":"<p>I work on a old Java 1.6 application which use GWT 2.4.0\nSince few weeks, it started to show a lot of OutOfMemoryError, and I can't find why...\nI can't do a lot of modification on this old app, I can't migrate to JDK 1.8, or migrate to a newer GWT version, too much risky.</p>\n<p><strong>Example of stacktrace :</strong></p>\n<pre><code>2021-01-27 09:40:39,937 ERROR [org.apache.catalina.core.ContainerBase.[jboss.web].[localhost].[/borneIntranet]] Exception while dispatching incoming RPC call\njava.lang.OutOfMemoryError: Java heap space\n        at java.util.Arrays.copyOf(Arrays.java:2734)\n        at java.util.ArrayList.ensureCapacity(ArrayList.java:167)\n        at java.util.ArrayList.add(ArrayList.java:351)\n        at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.append(ServerSerializationStreamWriter.java:583)\n        at com.google.gwt.user.client.rpc.impl.AbstractSerializationStreamWriter.writeInt(AbstractSerializationStreamWriter.java:100)\n        at com.google.gwt.user.client.rpc.impl.AbstractSerializationStreamWriter.writeString(AbstractSerializationStreamWriter.java:134)\n        at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter$ValueWriter$10.write(ServerSerializationStreamWriter.java:165)\n        at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.serializeValue(ServerSerializationStreamWriter.java:536)\n        at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.serializeClass(ServerSerializationStreamWriter.java:709)\n        at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.serializeImpl(ServerSerializationStreamWriter.java:748)\n        at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.serialize(ServerSerializationStreamWriter.java:621)\n        at com.google.gwt.user.client.rpc.impl.AbstractSerializationStreamWriter.writeObject(AbstractSerializationStreamWriter.java:126)\n        at com.google.gwt.user.client.rpc.core.java.util.Collection_CustomFieldSerializerBase.serialize(Collection_CustomFieldSerializerBase.java:44)\n        at com.google.gwt.user.client.rpc.core.java.util.ArrayList_CustomFieldSerializer.serialize(ArrayList_CustomFieldSerializer.java:39)\n        at com.google.gwt.user.client.rpc.core.java.util.ArrayList_CustomFieldSerializer.serializeInstance(ArrayList_CustomFieldSerializer.java:51)\n        at com.google.gwt.user.client.rpc.core.java.util.ArrayList_CustomFieldSerializer.serializeInstance(ArrayList_CustomFieldSerializer.java:28)\n        at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.serializeImpl(ServerSerializationStreamWriter.java:740)\n        at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.serialize(ServerSerializationStreamWriter.java:621)\n        at com.google.gwt.user.client.rpc.impl.AbstractSerializationStreamWriter.writeObject(AbstractSerializationStreamWriter.java:126)\n        at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter$ValueWriter$8.write(ServerSerializationStreamWriter.java:153)\n        at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.serializeValue(ServerSerializationStreamWriter.java:539)\n        at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.serializeClass(ServerSerializationStreamWriter.java:709)\n        at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.serializeImpl(ServerSerializationStreamWriter.java:748)\n        at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.serialize(ServerSerializationStreamWriter.java:621)\n        at com.google.gwt.user.client.rpc.impl.AbstractSerializationStreamWriter.writeObject(AbstractSerializationStreamWriter.java:126)\n        at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter$ValueWriter$8.write(ServerSerializationStreamWriter.java:153)\n        at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.serializeValue(ServerSerializationStreamWriter.java:539)\n        at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.serializeClass(ServerSerializationStreamWriter.java:709)\n        at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.serializeImpl(ServerSerializationStreamWriter.java:748)\n        at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.serialize(ServerSerializationStreamWriter.java:621)\n        at com.google.gwt.user.client.rpc.impl.AbstractSerializationStreamWriter.writeObject(AbstractSerializationStreamWriter.java:126)\n        at com.google.gwt.user.client.rpc.core.java.util.Collection_CustomFieldSerializerBase.serialize(Collection_CustomFieldSerializerBase.java:44)\n2021-01-27 09:40:41,594 ERROR [STDERR] 8312399 [scheduler_QuartzSchedulerThread] ERROR org.quartz.core.ErrorLogger - An error occurred while scanning for the next triggers to fire.\n2021-01-27 09:40:42,206 ERROR [STDERR] org.quartz.JobPersistenceException: Failed to obtain DB connection from data source 'springNonTxDataSource.scheduler': java.sql.SQLException: Exception d'E/S: Connection reset [See nested exception:$\n2021-01-27 09:40:42,208 ERROR [STDERR]  at org.quartz.impl.jdbcjobstore.JobStoreCMT.getNonManagedTXConnection(JobStoreCMT.java:168)\n2021-01-27 09:40:42,208 ERROR [STDERR]  at org.quartz.impl.jdbcjobstore.JobStoreSupport.executeInNonManagedTXLock(JobStoreSupport.java:3784)\n2021-01-27 09:40:42,208 ERROR [STDERR]  at org.quartz.impl.jdbcjobstore.JobStoreSupport.acquireNextTriggers(JobStoreSupport.java:2756)\n2021-01-27 09:40:42,208 ERROR [STDERR]  at org.quartz.core.QuartzSchedulerThread.run(QuartzSchedulerThread.java:272)\n2021-01-27 09:40:42,208 ERROR [STDERR] Caused by: java.sql.SQLException: Exception d'E/S: Connection reset\n2021-01-27 09:40:42,208 ERROR [STDERR]  at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:111)\n2021-01-27 09:40:42,208 ERROR [STDERR]  at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:145)\n2021-01-27 09:40:42,209 ERROR [STDERR]  at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:254)\n2021-01-27 09:40:42,209 ERROR [STDERR]  at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:386)\n2021-01-27 09:40:42,209 ERROR [STDERR]  at oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:413)\n2021-01-27 09:40:42,209 ERROR [STDERR]  at oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:164)\n2021-01-27 09:40:42,209 ERROR [STDERR]  at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:34)\n2021-01-27 09:40:42,209 ERROR [STDERR]  at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:752)\n2021-01-27 09:40:42,209 ERROR [STDERR]  at org.apache.commons.dbcp.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:38)\n2021-01-27 09:40:42,209 ERROR [STDERR]  at org.apache.commons.dbcp.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:582)\n2021-01-27 09:40:42,209 ERROR [STDERR]  at org.apache.commons.pool.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:1188)\n2021-01-27 09:40:42,209 ERROR [STDERR]  at org.apache.commons.dbcp.PoolingDataSource.getConnection(PoolingDataSource.java:106)\n2021-01-27 09:40:42,209 ERROR [STDERR]  at org.apache.commons.dbcp.BasicDataSource.getConnection(BasicDataSource.java:1044)\n2021-01-27 09:40:42,209 ERROR [STDERR]  at org.springframework.scheduling.quartz.LocalDataSourceJobStore$2.getConnection(LocalDataSourceJobStore.java:134)\n2021-01-27 09:40:42,209 ERROR [STDERR]  at org.quartz.utils.DBConnectionManager.getConnection(DBConnectionManager.java:108)\n2021-01-27 09:40:42,209 ERROR [STDERR]  at org.quartz.impl.jdbcjobstore.JobStoreCMT.getNonManagedTXConnection(JobStoreCMT.java:165)\n2021-01-27 09:40:42,209 ERROR [STDERR]  ... 3 more\n</code></pre>\n<p><strong>I try this :</strong></p>\n<ul>\n<li><p>Analyse heap dump with xRay\n<strong>See report of dump analysis here</strong> :\n<a href=\"https://drive.google.com/file/d/1A97HaDLJW1EvMMttoX7K5dmirTG-KhLE/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1A97HaDLJW1EvMMttoX7K5dmirTG-KhLE/view?usp=sharing</a>\n<a href=\"https://drive.google.com/file/d/1VkBFaXV5HaALuZlehCWtuu6MUwtQek2B/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1VkBFaXV5HaALuZlehCWtuu6MUwtQek2B/view?usp=sharing</a></p>\n<p>-&gt; But no real clue on what to do, it point on GWT, but then what ?</p>\n</li>\n<li><p>Analyse heap dump with YourKit or VisualVM -&gt; same, point to GWT but don't know how interpret this</p>\n</li>\n<li><p>Add &quot;-XX:+UseConcMarkSweepGC -XX:+CMSClassUnloadingEnabled&quot; : No change</p>\n</li>\n<li><p>Upgrade MaxPermSize : 512M -&gt; 768M : No change, the permspace in JMX stats is 50% max used anyway</p>\n</li>\n</ul>\n<p><strong>What is weird, is when I watch JMX stats, the heapspace is 25% used, and permspace is 40% used.\nBut in server.log, I see the outOfMemoryError, so how it's possible ?</strong></p>\n<p>The server have 5120M of RAM.</p>\n<p>The actual launch parameters are :</p>\n<pre><code>/opt/jdk/bin/java -Dprogram.name=run.sh -server -Xms2560m -Xmx2560m -XX:MaxPermSize=768M \n-Djava.awt.headless=true -Xdebug -Xrunjdwp:transport=dt_socket,address=8787,server=y,suspend=n \n-Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=9999 \n-Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false \n-XX:+UseConcMarkSweepGC -XX:+CMSClassUnloadingEnabled -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/tmp/\n-Djava.net.preferIPv4Stack=true ...\n</code></pre>\n<p>I don't know how to process.\nI don't have much application log either, so I can't know what users really do, like display a GWT screen which use a lot of data, or something else.</p>\n<p>EDIT :</p>\n<p>Here is some gc log files, each generated in a day, until the app crashed with an OOM.</p>\n<p><a href=\"https://file.io/e1140Wc80yhd\" rel=\"nofollow noreferrer\">https://file.io/e1140Wc80yhd</a></p>\n<p><a href=\"https://file.io/8jRxM1KIgPPB\" rel=\"nofollow noreferrer\">https://file.io/8jRxM1KIgPPB</a></p>\n<p><a href=\"https://file.io/WvUgIX3ftQ1o\" rel=\"nofollow noreferrer\">https://file.io/WvUgIX3ftQ1o</a></p>\n"},{"tags":["java","jpa","jpa-2.0","jpa-2.1","criteriaquery"],"comments":[{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1405152221,"post_id":24710626,"comment_id":38324555,"body_markdown":"errm, you can do anything with string-based JPQL as you can with criteria. No idea why anyone would think otherwise.","body":"errm, you can do anything with string-based JPQL as you can with criteria. No idea why anyone would think otherwise."},{"owner":{"account_id":2127970,"reputation":2483,"user_id":1889574,"accept_rate":67,"display_name":"Nikhil Sahu"},"score":0,"creation_date":1499405906,"post_id":24710626,"comment_id":76901430,"body_markdown":"Projections in spring-data can be used to achieve the same.","body":"Projections in spring-data can be used to achieve the same."}],"answers":[{"tags":[],"owner":{"account_id":3175510,"reputation":2055,"user_id":2683501,"accept_rate":82,"display_name":"pL4Gu33"},"comment_count":0,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1501066004,"creation_date":1405150101,"answer_id":24710717,"question_id":24710626,"body_markdown":"You can use something like this:\r\n\r\n    List&lt;Object[]&gt; list = em.createQuery(&quot;SELECT p.field1, p.field2 FROM Entity p&quot;).getResultList();\r\n\r\nthen you can iterate over it:\r\n\r\n    for (Object[] obj : list){\r\n\t    System.out.println(obj[0]);\r\n\t\tSystem.out.println(obj[1]);\r\n    }\r\n\r\n**BUT** if you have only one field in query, you get a list of the type not from Object[]","title":"JPA Query selecting only specific columns without using Criteria Query?","body":"<p>You can use something like this:</p>\n\n<pre><code>List&lt;Object[]&gt; list = em.createQuery(\"SELECT p.field1, p.field2 FROM Entity p\").getResultList();\n</code></pre>\n\n<p>then you can iterate over it:</p>\n\n<pre><code>for (Object[] obj : list){\n    System.out.println(obj[0]);\n    System.out.println(obj[1]);\n}\n</code></pre>\n\n<p><strong>BUT</strong> if you have only one field in query, you get a list of the type not from Object[]</p>\n"},{"tags":[],"owner":{"account_id":3378892,"reputation":590,"user_id":2836435,"accept_rate":73,"display_name":"SerhatCan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1405150118,"creation_date":1405150118,"answer_id":24710723,"question_id":24710626,"body_markdown":"I suppose you could look at this link if I understood your question correctly http://www.javacodegeeks.com/2012/07/ultimate-jpa-queries-and-tips-list-part_09.html\r\n\r\nFor example they created a query like:\r\n     \r\n     select id, name, age, a.id as ADDRESS_ID, houseNumber, streetName &#39; +\r\n     20&#39; from person p join address a on a.id = p.address_id where p.id = 1&#39;","title":"JPA Query selecting only specific columns without using Criteria Query?","body":"<p>I suppose you could look at this link if I understood your question correctly <a href=\"http://www.javacodegeeks.com/2012/07/ultimate-jpa-queries-and-tips-list-part_09.html\" rel=\"nofollow\">http://www.javacodegeeks.com/2012/07/ultimate-jpa-queries-and-tips-list-part_09.html</a></p>\n\n<p>For example they created a query like:</p>\n\n<pre><code> select id, name, age, a.id as ADDRESS_ID, houseNumber, streetName ' +\n 20' from person p join address a on a.id = p.address_id where p.id = 1'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2090163,"reputation":2391,"user_id":1860180,"display_name":"ez121sl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1405150307,"creation_date":1405150307,"answer_id":24710743,"question_id":24710626,"body_markdown":"Yes, it is possible. All you have to do is change your query to something like `SELECT i.foo, i.bar FROM ObjectName i WHERE i.id = 10`. The result of the query will be a `List` of array of `Object`. The first element in each array is the value of `i.foo` and the second element is the value `i.bar`. See the relevant section of [JPQL reference](http://docs.oracle.com/cd/E17904_01/apirefs.1111/e13946/ejb3_langref.html#ejb3_langref_select_clause).","title":"JPA Query selecting only specific columns without using Criteria Query?","body":"<p>Yes, it is possible. All you have to do is change your query to something like <code>SELECT i.foo, i.bar FROM ObjectName i WHERE i.id = 10</code>. The result of the query will be a <code>List</code> of array of <code>Object</code>. The first element in each array is the value of <code>i.foo</code> and the second element is the value <code>i.bar</code>. See the relevant section of <a href=\"http://docs.oracle.com/cd/E17904_01/apirefs.1111/e13946/ejb3_langref.html#ejb3_langref_select_clause\" rel=\"nofollow\">JPQL reference</a>.</p>\n"},{"comments":[{"owner":{"account_id":100974,"reputation":947,"user_id":271889,"accept_rate":11,"display_name":"Andrea Scarafoni"},"score":5,"creation_date":1448463192,"post_id":24710759,"comment_id":55600225,"body_markdown":"So i need n kind of pojo for the same table? one for every need? i can&#39;t use just one object for all, leaving some fields null?","body":"So i need n kind of pojo for the same table? one for every need? i can&#39;t use just one object for all, leaving some fields null?"},{"owner":{"account_id":3357022,"reputation":309,"user_id":2819720,"accept_rate":43,"display_name":"Sourav Mukherjee"},"score":0,"creation_date":1459763202,"post_id":24710759,"comment_id":60415112,"body_markdown":"what is alternative to TypedQuery ? I need to work on jpa 1.0. There is no typed query over there.","body":"what is alternative to TypedQuery ? I need to work on jpa 1.0. There is no typed query over there."},{"owner":{"account_id":2797853,"reputation":433,"user_id":2406724,"display_name":"Hugo Ba&#233;s"},"score":0,"creation_date":1477125261,"post_id":24710759,"comment_id":67646621,"body_markdown":"@AndreaScarafoni, you can have multiples constructors on the same class and use it for each case.","body":"@AndreaScarafoni, you can have multiples constructors on the same class and use it for each case."},{"owner":{"account_id":7212490,"reputation":1864,"user_id":5506061,"accept_rate":64,"display_name":"Krish"},"score":0,"creation_date":1522314165,"post_id":24710759,"comment_id":86110959,"body_markdown":"@PatrickLeitermann for me its giving &quot;Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: Unable to locate class ***&quot; exception . how to solve this ?","body":"@PatrickLeitermann for me its giving &quot;Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: Unable to locate class ***&quot; exception . how to solve this ?"},{"owner":{"account_id":227423,"reputation":5801,"user_id":489088,"accept_rate":72,"display_name":"Edy Bourne"},"score":0,"creation_date":1527022325,"post_id":24710759,"comment_id":87966091,"body_markdown":"No, at the time I wasn&#39;t using Spring.","body":"No, at the time I wasn&#39;t using Spring."},{"owner":{"account_id":9945599,"reputation":839,"user_id":7360447,"accept_rate":26,"display_name":"Alagammal P"},"score":0,"creation_date":1527067288,"post_id":24710759,"comment_id":87982032,"body_markdown":"Can we use the same approach to fetch columns from 2 tables by using join?","body":"Can we use the same approach to fetch columns from 2 tables by using join?"}],"tags":[],"owner":{"account_id":4487329,"reputation":2154,"user_id":3649498,"display_name":"Patrick Leitermann"},"comment_count":6,"down_vote_count":0,"up_vote_count":104,"is_accepted":true,"score":104,"last_activity_date":1522323147,"creation_date":1405150462,"answer_id":24710759,"question_id":24710626,"body_markdown":"Yes, like in plain sql you could specify what kind of properties you want to select:\r\n\r\n    SELECT i.firstProperty, i.secondProperty FROM ObjectName i WHERE i.id=10\r\n\r\nExecuting this query will return a list of Object[], where each array contains the selected properties of one object.\r\n\r\nAnother way is to wrap the selected properties in a custom object and execute it in a TypedQuery:\r\n\r\n    String query = &quot;SELECT NEW CustomObject(i.firstProperty, i.secondProperty) FROM ObjectName i WHERE i.id=10&quot;;\r\n    TypedQuery&lt;CustomObject&gt; typedQuery = em.createQuery(query , CustomObject.class);\r\n    List&lt;CustomObject&gt; results = typedQuery.getResultList();\r\n\r\nExamples can be found in [this][1] article.\r\n\r\nUPDATE 29.03.2018:\r\n\r\n@Krish:\r\n\r\n&gt; @PatrickLeitermann for me its giving &quot;Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: Unable to locate class ***&quot; exception . how to solve this ?\r\n\r\nI guess you’re using JPA in the context of a Spring application, don&#39;t you? Some other people had exactly [the same problem][2] and their solution was adding the fully qualified name (e. g. com.example.CustomObject) after the **SELECT NEW** keywords.\r\n\r\nMaybe the internal implementation of the Spring data framework only recognizes classes annotated with *@Entity* or registered in a specific orm file by their simple name, which causes using this workaround.\r\n\r\n\r\n  [1]: http://www.objectdb.com/java/jpa/query/jpql/select\r\n  [2]: https://stackoverflow.com/questions/27580851/unable-to-locate-class-after-new-object-in-select-query","title":"JPA Query selecting only specific columns without using Criteria Query?","body":"<p>Yes, like in plain sql you could specify what kind of properties you want to select:</p>\n\n<pre><code>SELECT i.firstProperty, i.secondProperty FROM ObjectName i WHERE i.id=10\n</code></pre>\n\n<p>Executing this query will return a list of Object[], where each array contains the selected properties of one object.</p>\n\n<p>Another way is to wrap the selected properties in a custom object and execute it in a TypedQuery:</p>\n\n<pre><code>String query = \"SELECT NEW CustomObject(i.firstProperty, i.secondProperty) FROM ObjectName i WHERE i.id=10\";\nTypedQuery&lt;CustomObject&gt; typedQuery = em.createQuery(query , CustomObject.class);\nList&lt;CustomObject&gt; results = typedQuery.getResultList();\n</code></pre>\n\n<p>Examples can be found in <a href=\"http://www.objectdb.com/java/jpa/query/jpql/select\" rel=\"noreferrer\">this</a> article.</p>\n\n<p>UPDATE 29.03.2018:</p>\n\n<p>@Krish:</p>\n\n<blockquote>\n  <p>@PatrickLeitermann for me its giving \"Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: Unable to locate class ***\" exception . how to solve this ?</p>\n</blockquote>\n\n<p>I guess you’re using JPA in the context of a Spring application, don't you? Some other people had exactly <a href=\"https://stackoverflow.com/questions/27580851/unable-to-locate-class-after-new-object-in-select-query\">the same problem</a> and their solution was adding the fully qualified name (e. g. com.example.CustomObject) after the <strong>SELECT NEW</strong> keywords.</p>\n\n<p>Maybe the internal implementation of the Spring data framework only recognizes classes annotated with <em>@Entity</em> or registered in a specific orm file by their simple name, which causes using this workaround.</p>\n"},{"tags":[],"owner":{"account_id":3645671,"reputation":1586,"user_id":3038736,"display_name":"sagneta"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1444235433,"creation_date":1444235089,"answer_id":32997561,"question_id":24710626,"body_markdown":"Excellent answer! I do have a small addition. Regarding this solution:\r\n\r\n\r\n   \r\n    TypedQuery&lt;CustomObject&gt; typedQuery = em.createQuery(query , String query = &quot;SELECT NEW CustomObject(i.firstProperty, i.secondProperty) FROM ObjectName i WHERE i.id=100&quot;;\r\n    TypedQuery&lt;CustomObject&gt; typedQuery = em.createQuery(query , CustomObject.class);\r\n    List&lt;CustomObject&gt; results = typedQuery.getResultList();CustomObject.class);\r\n\r\n\r\nTo prevent a class not found error simply insert the full package name. Assuming org.company.directory is the package name of CustomObject:\r\n\r\n    String query = &quot;SELECT NEW org.company.directory.CustomObject(i.firstProperty, i.secondProperty) FROM ObjectName i WHERE i.id=10&quot;;\r\n    TypedQuery&lt;CustomObject&gt; typedQuery = em.createQuery(query , CustomObject.class);\r\n    List&lt;CustomObject&gt; results = typedQuery.getResultList();\r\n\r\n\r\n","title":"JPA Query selecting only specific columns without using Criteria Query?","body":"<p>Excellent answer! I do have a small addition. Regarding this solution:</p>\n\n<pre><code>TypedQuery&lt;CustomObject&gt; typedQuery = em.createQuery(query , String query = \"SELECT NEW CustomObject(i.firstProperty, i.secondProperty) FROM ObjectName i WHERE i.id=100\";\nTypedQuery&lt;CustomObject&gt; typedQuery = em.createQuery(query , CustomObject.class);\nList&lt;CustomObject&gt; results = typedQuery.getResultList();CustomObject.class);\n</code></pre>\n\n<p>To prevent a class not found error simply insert the full package name. Assuming org.company.directory is the package name of CustomObject:</p>\n\n<pre><code>String query = \"SELECT NEW org.company.directory.CustomObject(i.firstProperty, i.secondProperty) FROM ObjectName i WHERE i.id=10\";\nTypedQuery&lt;CustomObject&gt; typedQuery = em.createQuery(query , CustomObject.class);\nList&lt;CustomObject&gt; results = typedQuery.getResultList();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16078489,"reputation":943,"user_id":11605100,"display_name":"ajinzrathod"},"score":0,"creation_date":1650017604,"post_id":39189023,"comment_id":127023321,"body_markdown":"I am trying to the same in micronaut but it shows `ERROR i.m.http.server.RouteExecutor - Unexpected error occurred: Error instantiating type [com.example.transactions.T\nransaction$DateOfTransactionAndDateAndAmount] from introspection: No default constructor exists`","body":"I am trying to the same in micronaut but it shows <code>ERROR i.m.http.server.RouteExecutor - Unexpected error occurred: Error instantiating type [com.example.transactions.T ransaction$DateOfTransactionAndDateAndAmount] from introspection: No default constructor exists</code>"},{"owner":{"account_id":3719338,"reputation":12130,"user_id":3094731,"accept_rate":56,"display_name":"Abdullah Khan"},"score":0,"creation_date":1650018830,"post_id":39189023,"comment_id":127023679,"body_markdown":"@ajinzrathod Its better to post a seperate question for that.","body":"@ajinzrathod Its better to post a seperate question for that."}],"tags":[],"owner":{"account_id":3719338,"reputation":12130,"user_id":3094731,"accept_rate":56,"display_name":"Abdullah Khan"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1495114913,"creation_date":1472369891,"answer_id":39189023,"question_id":24710626,"body_markdown":"[`Projections`][1] can be used to select only specific properties(columns) of an entity object.\r\n\r\nFrom the docs\r\n\r\n&gt; Spring Data Repositories usually return the domain model when using query methods. However, sometimes, you may need to alter the view of that model for various reasons. In [this][1] section, you will learn how to define projections to serve up simplified and reduced views of resources. \r\n\r\nDefine an interface with only the `getters` you want.\r\n\r\n    interface CustomObject {  \r\n        String getA(); // Actual property name is A\r\n        String getB(); // Actual property name is B \r\n    }\r\n\r\nNow return `CustomObject` from your repository like so :\r\n    \r\n\r\n    public interface YOU_REPOSITORY_NAME extends JpaRepository&lt;YOUR_ENTITY, Long&gt; {\r\n\t    CustomObject findByObjectName(String name);\r\n    }\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections","title":"JPA Query selecting only specific columns without using Criteria Query?","body":"<p><a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections\" rel=\"noreferrer\"><code>Projections</code></a> can be used to select only specific properties(columns) of an entity object.</p>\n\n<p>From the docs</p>\n\n<blockquote>\n  <p>Spring Data Repositories usually return the domain model when using query methods. However, sometimes, you may need to alter the view of that model for various reasons. In <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections\" rel=\"noreferrer\">this</a> section, you will learn how to define projections to serve up simplified and reduced views of resources. </p>\n</blockquote>\n\n<p>Define an interface with only the <code>getters</code> you want.</p>\n\n<pre><code>interface CustomObject {  \n    String getA(); // Actual property name is A\n    String getB(); // Actual property name is B \n}\n</code></pre>\n\n<p>Now return <code>CustomObject</code> from your repository like so :</p>\n\n<pre><code>public interface YOU_REPOSITORY_NAME extends JpaRepository&lt;YOUR_ENTITY, Long&gt; {\n    CustomObject findByObjectName(String name);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8908789,"reputation":5958,"user_id":6649786,"accept_rate":100,"display_name":"Wais Kamal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680614800,"creation_date":1680614800,"answer_id":75929935,"question_id":24710626,"body_markdown":"I was facing the same problem. I had a `users` table with an `id` column (the primary key) and a `name` column. I wanted to get the `name` field of all records, so I tried both `findName` and `findNames` but both did not work.\r\n\r\nMy solution was to create an interface with only a `getName()` method in the entity class:\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @Accessors(chain = true)\r\n    @Table(name = &quot;users&quot;)\r\n    public class User {\r\n        @Id\r\n        private String id;\r\n        private String name;\r\n        ...\r\n\r\n        public interface UserName {\r\n            public String getName();\r\n        }\r\n    }    \r\n\r\nThen use &quot;id not null&quot; as the filter in my JPA repository:\r\n\r\n    public interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\r\n        ...\r\n        User.UserName findNameByIdNotNull();\r\n    }","title":"JPA Query selecting only specific columns without using Criteria Query?","body":"<p>I was facing the same problem. I had a <code>users</code> table with an <code>id</code> column (the primary key) and a <code>name</code> column. I wanted to get the <code>name</code> field of all records, so I tried both <code>findName</code> and <code>findNames</code> but both did not work.</p>\n<p>My solution was to create an interface with only a <code>getName()</code> method in the entity class:</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@Accessors(chain = true)\n@Table(name = &quot;users&quot;)\npublic class User {\n    @Id\n    private String id;\n    private String name;\n    ...\n\n    public interface UserName {\n        public String getName();\n    }\n}    \n</code></pre>\n<p>Then use &quot;id not null&quot; as the filter in my JPA repository:</p>\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\n    ...\n    User.UserName findNameByIdNotNull();\n}\n</code></pre>\n"}],"owner":{"account_id":227423,"reputation":5801,"user_id":489088,"accept_rate":72,"display_name":"Edy Bourne"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176071,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"accepted_answer_id":24710759,"answer_count":7,"score":63,"last_activity_date":1680614800,"creation_date":1405149341,"question_id":24710626,"body_markdown":"Is it possible to select, say, only properties **A and B from an object using a `JPA` query** without using criteria queries?\r\n\r\nTo select all properties I&#39;d just do something like:\r\n\r\n    SELECT i FROM ObjectName i WHERE i.id = 10\r\n\r\nBut I have an object with **many** properties on a legacy system, and want to select just a few even though I&#39;m aware selecting several properties is usually quick.\r\n\r\nIs this possible without using criteria queries?","title":"JPA Query selecting only specific columns without using Criteria Query?","body":"<p>Is it possible to select, say, only properties <strong>A and B from an object using a <code>JPA</code> query</strong> without using criteria queries?</p>\n<p>To select all properties I'd just do something like:</p>\n<pre><code>SELECT i FROM ObjectName i WHERE i.id = 10\n</code></pre>\n<p>But I have an object with <strong>many</strong> properties on a legacy system, and want to select just a few even though I'm aware selecting several properties is usually quick.</p>\n<p>Is this possible without using criteria queries?</p>\n"},{"tags":["java","android","plugins","permissions","android-permissions"],"answers":[{"comments":[{"owner":{"account_id":1474825,"reputation":43,"user_id":1385495,"display_name":"Android Noob"},"score":0,"creation_date":1499320837,"post_id":44939661,"comment_id":76857455,"body_markdown":"Hi Ahmad, thanks for the reply. May I also ask about the security of these processes?","body":"Hi Ahmad, thanks for the reply. May I also ask about the security of these processes?"},{"owner":{"account_id":1972221,"reputation":16711,"user_id":1770868,"accept_rate":95,"display_name":"Ahmad Aghazadeh"},"score":1,"creation_date":1499326714,"post_id":44939661,"comment_id":76860812,"body_markdown":"Check again my answer.","body":"Check again my answer."}],"tags":[],"owner":{"account_id":1972221,"reputation":16711,"user_id":1770868,"accept_rate":95,"display_name":"Ahmad Aghazadeh"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1499326201,"creation_date":1499314106,"answer_id":44939661,"question_id":44939321,"body_markdown":"The following methods can be used.\r\n\r\n1. ContentProvider:\r\n\r\n&gt; A content provider manages access to a central repository of data. A\r\n&gt; provider is part of an Android application, which often provides its\r\n&gt; own UI for working with the data. However, content providers are\r\n&gt; primarily intended to be used by other applications, which access the\r\n&gt; provider using a provider client object. Together, providers and\r\n&gt; provider clients offer a consistent, standard interface to data that\r\n&gt; also handles inter-process communication and secure data access.\r\n\r\nFor more info: [content-provider-basics][2]\r\n\r\nYou can use permission,readPermission,writePermission for security.\r\n\r\n    &lt;provider  \r\n              android:permission=&quot;string&quot;\r\n              android:readPermission=&quot;string&quot;\r\n              android:writePermission=&quot;string&quot; &gt;\r\n        . . .\r\n    &lt;/provider&gt; \r\nFor more info: [provider-element][1]\r\n\r\n\r\n\r\n2.broadcast:\r\n\r\n&gt; Android apps can send or receive broadcast messages from the Android\r\n&gt; system and other Android apps, similar to the publish-subscribe design\r\n&gt; pattern. These broadcasts are sent when an event of interest occurs.\r\n&gt; For example, the Android system sends broadcasts when various system\r\n&gt; events occur, such as when the system boots up or the device starts\r\n&gt; charging. Apps can also send custom broadcasts, for example, to notify\r\n&gt; other apps of something that they might be interested in (for example,\r\n&gt; some new data has been downloaded).\r\n\r\nFor more info [Broadcasts][3]\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/manifest/provider-element.html\r\n  [2]: https://developer.android.com/guide/topics/providers/content-provider-basics.html\r\n  [3]: https://developer.android.com/guide/components/broadcasts.html","title":"Communication between an app-plugin to a service of a different app [Android]","body":"<p>The following methods can be used.</p>\n\n<ol>\n<li>ContentProvider:</li>\n</ol>\n\n<blockquote>\n  <p>A content provider manages access to a central repository of data. A\n  provider is part of an Android application, which often provides its\n  own UI for working with the data. However, content providers are\n  primarily intended to be used by other applications, which access the\n  provider using a provider client object. Together, providers and\n  provider clients offer a consistent, standard interface to data that\n  also handles inter-process communication and secure data access.</p>\n</blockquote>\n\n<p>For more info: <a href=\"https://developer.android.com/guide/topics/providers/content-provider-basics.html\" rel=\"nofollow noreferrer\">content-provider-basics</a></p>\n\n<p>You can use permission,readPermission,writePermission for security.</p>\n\n<pre><code>&lt;provider  \n          android:permission=\"string\"\n          android:readPermission=\"string\"\n          android:writePermission=\"string\" &gt;\n    . . .\n&lt;/provider&gt; \n</code></pre>\n\n<p>For more info: <a href=\"https://developer.android.com/guide/topics/manifest/provider-element.html\" rel=\"nofollow noreferrer\">provider-element</a></p>\n\n<p>2.broadcast:</p>\n\n<blockquote>\n  <p>Android apps can send or receive broadcast messages from the Android\n  system and other Android apps, similar to the publish-subscribe design\n  pattern. These broadcasts are sent when an event of interest occurs.\n  For example, the Android system sends broadcasts when various system\n  events occur, such as when the system boots up or the device starts\n  charging. Apps can also send custom broadcasts, for example, to notify\n  other apps of something that they might be interested in (for example,\n  some new data has been downloaded).</p>\n</blockquote>\n\n<p>For more info <a href=\"https://developer.android.com/guide/components/broadcasts.html\" rel=\"nofollow noreferrer\">Broadcasts</a></p>\n"}],"owner":{"account_id":1474825,"reputation":43,"user_id":1385495,"display_name":"Android Noob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44939661,"answer_count":1,"score":1,"last_activity_date":1680613739,"creation_date":1499311786,"question_id":44939321,"body_markdown":"I am new to this so can you please help me by pointing me to the right direction on how I can achieve this.\r\n\r\nI have 2 apps\r\n\r\n1) App that has the service - APP1\r\n\r\n2) App that has the plugin - APP2\r\n\r\nThe scenario:\r\n\r\nAPP2 would like to access the server of APP1, so that it can send its data from its source app. APP2 would then have to access APP1&#39;s service in order to do so.\r\n\r\nThe process:\r\n\r\nAPP2 STARTS UP -&gt; APP2 PLUGIN -&gt; SENDS DATA -&gt; APP1 Service -&gt; APP1 Server\r\n\r\nAPP1 Server -&gt; APP1 Service -&gt; SENDS DATA -&gt; APP2 PLUGIN -&gt; Do action to APP2 based on result\r\n\r\nThanks in advance! I really am at a loss on this one.","title":"Communication between an app-plugin to a service of a different app [Android]","body":"<p>I am new to this so can you please help me by pointing me to the right direction on how I can achieve this.</p>\n\n<p>I have 2 apps</p>\n\n<p>1) App that has the service - APP1</p>\n\n<p>2) App that has the plugin - APP2</p>\n\n<p>The scenario:</p>\n\n<p>APP2 would like to access the server of APP1, so that it can send its data from its source app. APP2 would then have to access APP1's service in order to do so.</p>\n\n<p>The process:</p>\n\n<p>APP2 STARTS UP -> APP2 PLUGIN -> SENDS DATA -> APP1 Service -> APP1 Server</p>\n\n<p>APP1 Server -> APP1 Service -> SENDS DATA -> APP2 PLUGIN -> Do action to APP2 based on result</p>\n\n<p>Thanks in advance! I really am at a loss on this one.</p>\n"},{"tags":["java","android","android-intent"],"answers":[{"comments":[{"owner":{"account_id":16996032,"reputation":319,"user_id":12294437,"display_name":"ドラゴンハートゼクモル"},"score":1,"creation_date":1587583372,"post_id":61340674,"comment_id":108572226,"body_markdown":"I&#39;m glad it worked out for you. I want to note that this method however will create a perpetual call on intents. I suggest you to finish the current activity. This should help: https://stackoverflow.com/questions/5000787/how-to-finish-current-activity-in-android","body":"I&#39;m glad it worked out for you. I want to note that this method however will create a perpetual call on intents. I suggest you to finish the current activity. This should help: <a href=\"https://stackoverflow.com/questions/5000787/how-to-finish-current-activity-in-android\" title=\"how to finish current activity in android\">stackoverflow.com/questions/5000787/&hellip;</a>"},{"owner":{"account_id":9840360,"reputation":283,"user_id":7289525,"display_name":"MaKi"},"score":0,"creation_date":1616656588,"post_id":61340674,"comment_id":118072276,"body_markdown":"This is what I am looking for, Thank you so much!","body":"This is what I am looking for, Thank you so much!"}],"tags":[],"owner":{"account_id":16996032,"reputation":319,"user_id":12294437,"display_name":"ドラゴンハートゼクモル"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1587464149,"creation_date":1587462798,"answer_id":61340674,"question_id":61333066,"body_markdown":"In the first app, add an `intent-filter` to receive data back from the second app, which is your `Register` application.\r\nNow, do the same with your `Register` application, we need to do this so that we can invoke it from our first app.\r\n\r\nThe `intent-filter` is there to make sure that we can send data back. According to https://developer.android.com/guide/components/intents-filters:\r\n\r\n&gt; To advertise which implicit intents your app can receive, declare one or more intent filters for each of your app components with an &lt;intent-filter&gt; element in your manifest file.\r\n\r\nFrom the first app, create an `Intent` that will bring you to the second app. If you don&#39;t want to open up the `Android share sheet` then I suggest you use a `PackageManager` that gets all the activities that can receive your data and then find in the list your second app and open it with `setComponent()` with your `intent`. (Check my code below)\r\n\r\nOn to our second app, do the same as you did in the first app but now you can add your `extras` or data like first name and second name.\r\n\r\nBack to our first app, write code that will receive the incoming `intent` from our second app and there, done!\r\n\r\nRefer to: \r\n\r\n&gt; https://developer.android.com/training/sharing \r\n\r\nfor more information about sending/receiving data with intents.\r\n\r\n---------------------------------------------------------------------\r\n\r\nHere&#39;s a sample code:\r\n\r\nFirst Application&#39;s Main Activity\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        // Receive your data here from your Register app\r\n        Intent receivedIntent = getIntent();\r\n        String action = receivedIntent.getAction();\r\n        String type = receivedIntent.getType();\r\n\r\n        if (Intent.ACTION_SEND.equals(action) &amp;&amp; type != null) {\r\n            if (&quot;text/plain&quot;.equals(type)) {\r\n                handleReceivedData(receivedIntent);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void handleReceivedData(Intent intent) {\r\n        String firstName = intent.getStringExtra(&quot;first_name&quot;);\r\n        String secondName = intent.getStringExtra(&quot;second_name&quot;);\r\n        if (firstName == null || secondName == null) {\r\n            Toast.makeText(this, &quot;Cannot received data!&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n        // Do here what you want with firstName and secondName\r\n        // ...\r\n        Toast.makeText(this, &quot;First name: &quot; + firstName +\r\n                &quot; Second name: &quot; + secondName, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    public void open(View view) {\r\n        Intent sendIntent = new Intent();\r\n        sendIntent.setAction(Intent.ACTION_SEND);\r\n        sendIntent.putExtra(Intent.EXTRA_TEXT,\r\n                &quot;Here you can put a message for your &#39;register&#39; application&quot;);\r\n        sendIntent.setType(&quot;text/plain&quot;);\r\n\r\n        PackageManager packageManager = getPackageManager();\r\n        List&lt;ResolveInfo&gt; activities = packageManager.queryIntentActivities(sendIntent,\r\n                PackageManager.MATCH_DEFAULT_ONLY);\r\n\r\n        ////////////////// Get the other application package name //////////////////\r\n        // This is so the user cannot choose other apps to send your data\r\n        // In order words, this will send the data back to the other\r\n        // application without opening the Android Share sheet\r\n        ActivityInfo activityInfo = null;\r\n        for (ResolveInfo activity: activities) {\r\n            // Specify here the package name of your register application\r\n            if (activity.activityInfo.packageName.equals(&quot;com.example.registerapp&quot;)) {\r\n                activityInfo = activity.activityInfo;\r\n                break;\r\n            }\r\n        }\r\n\r\n        // If the other application is not found then activityInfo will be null\r\n        // So make sure you add the correct intent-filter there!\r\n        if (activityInfo != null) {\r\n            // This will open up your register application\r\n            ComponentName name = new ComponentName(activityInfo.applicationInfo.packageName,\r\n                    activityInfo.name);\r\n            sendIntent.setComponent(name);\r\n\r\n            startActivity(sendIntent);\r\n        }\r\n        else {\r\n            Toast.makeText(this,\r\n                    &quot;Receiver app doesn&#39;t exist or not installed on this device!&quot;,\r\n                    Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\nFirst Application&#39;s Manifest\r\n\r\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;data android:mimeType=&quot;text/plain&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\nSecond Application&#39;s Receiver Activity (In this case, your Register app)\r\nNote: as you want, this is NOT the main activity\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_receiver);\r\n        // This is NOT the main activity!\r\n    }\r\n\r\n    public void send(View view) {\r\n        // I just want to note that I am calling the receiving application: &quot;other application&quot;\r\n\r\n        EditText firstNameEditText = findViewById(R.id.firstNameEditText);\r\n        EditText secondNameEditText = findViewById(R.id.secondNameEditText);\r\n        String firstName = firstNameEditText.getText().toString().trim();\r\n        String secondName = secondNameEditText.getText().toString().trim();\r\n        // Check if any of the inputs are empty\r\n        if (firstName.isEmpty() || secondName.isEmpty()) {\r\n            Toast.makeText(this, &quot;Text boxes cannot be empty!&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n\r\n        // Send data back to the other application\r\n        Intent sendBackIntent = new Intent();\r\n        sendBackIntent.setAction(Intent.ACTION_SEND);\r\n        sendBackIntent.putExtra(&quot;first_name&quot;, firstName);\r\n        sendBackIntent.putExtra(&quot;second_name&quot;, secondName);\r\n        sendBackIntent.setType(&quot;text/plain&quot;);\r\n\r\n        // Get all the available applications that can receive your data\r\n        // (in this case, first name and second name)\r\n        PackageManager packageManager = getPackageManager();\r\n        List&lt;ResolveInfo&gt; activities = packageManager.queryIntentActivities(sendBackIntent,\r\n                PackageManager.MATCH_DEFAULT_ONLY);\r\n\r\n        ////////////////// Get the other application package name //////////////////\r\n        ActivityInfo activityInfo = null;\r\n        for (ResolveInfo activity: activities) {\r\n            // Specify here the package name of the other application\r\n            if (activity.activityInfo.packageName.equals(&quot;com.example.mainapp&quot;)) {\r\n                activityInfo = activity.activityInfo;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (activityInfo != null) {\r\n            // Same as before, this will open up the other application\r\n            ComponentName name = new ComponentName(activityInfo.applicationInfo.packageName,\r\n                    activityInfo.name);\r\n            sendBackIntent.setComponent(name);\r\n\r\n            startActivity(sendBackIntent);\r\n        }\r\n        else {\r\n            Toast.makeText(this,\r\n                    &quot;Receiver app doesn&#39;t exist or not installed on this device!&quot;,\r\n                    Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\nSecond Application&#39;s Manifest\r\n\r\n    &lt;activity android:name=&quot;.ReceiverActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;data android:mimeType=&quot;text/plain&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\nHappy coding!\r\n\r\n--------------------------\r\nEdit: I added explanation to my answer.","title":"Two apps communicating using Intent, passing data","body":"<p>In the first app, add an <code>intent-filter</code> to receive data back from the second app, which is your <code>Register</code> application.\nNow, do the same with your <code>Register</code> application, we need to do this so that we can invoke it from our first app.</p>\n\n<p>The <code>intent-filter</code> is there to make sure that we can send data back. According to <a href=\"https://developer.android.com/guide/components/intents-filters\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/intents-filters</a>:</p>\n\n<blockquote>\n  <p>To advertise which implicit intents your app can receive, declare one or more intent filters for each of your app components with an  element in your manifest file.</p>\n</blockquote>\n\n<p>From the first app, create an <code>Intent</code> that will bring you to the second app. If you don't want to open up the <code>Android share sheet</code> then I suggest you use a <code>PackageManager</code> that gets all the activities that can receive your data and then find in the list your second app and open it with <code>setComponent()</code> with your <code>intent</code>. (Check my code below)</p>\n\n<p>On to our second app, do the same as you did in the first app but now you can add your <code>extras</code> or data like first name and second name.</p>\n\n<p>Back to our first app, write code that will receive the incoming <code>intent</code> from our second app and there, done!</p>\n\n<p>Refer to: </p>\n\n<blockquote>\n  <p><a href=\"https://developer.android.com/training/sharing\" rel=\"nofollow noreferrer\">https://developer.android.com/training/sharing</a> </p>\n</blockquote>\n\n<p>for more information about sending/receiving data with intents.</p>\n\n<hr>\n\n<p>Here's a sample code:</p>\n\n<p>First Application's Main Activity</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    // Receive your data here from your Register app\n    Intent receivedIntent = getIntent();\n    String action = receivedIntent.getAction();\n    String type = receivedIntent.getType();\n\n    if (Intent.ACTION_SEND.equals(action) &amp;&amp; type != null) {\n        if (\"text/plain\".equals(type)) {\n            handleReceivedData(receivedIntent);\n        }\n    }\n}\n\nprivate void handleReceivedData(Intent intent) {\n    String firstName = intent.getStringExtra(\"first_name\");\n    String secondName = intent.getStringExtra(\"second_name\");\n    if (firstName == null || secondName == null) {\n        Toast.makeText(this, \"Cannot received data!\", Toast.LENGTH_SHORT).show();\n        return;\n    }\n    // Do here what you want with firstName and secondName\n    // ...\n    Toast.makeText(this, \"First name: \" + firstName +\n            \" Second name: \" + secondName, Toast.LENGTH_SHORT).show();\n}\n\npublic void open(View view) {\n    Intent sendIntent = new Intent();\n    sendIntent.setAction(Intent.ACTION_SEND);\n    sendIntent.putExtra(Intent.EXTRA_TEXT,\n            \"Here you can put a message for your 'register' application\");\n    sendIntent.setType(\"text/plain\");\n\n    PackageManager packageManager = getPackageManager();\n    List&lt;ResolveInfo&gt; activities = packageManager.queryIntentActivities(sendIntent,\n            PackageManager.MATCH_DEFAULT_ONLY);\n\n    ////////////////// Get the other application package name //////////////////\n    // This is so the user cannot choose other apps to send your data\n    // In order words, this will send the data back to the other\n    // application without opening the Android Share sheet\n    ActivityInfo activityInfo = null;\n    for (ResolveInfo activity: activities) {\n        // Specify here the package name of your register application\n        if (activity.activityInfo.packageName.equals(\"com.example.registerapp\")) {\n            activityInfo = activity.activityInfo;\n            break;\n        }\n    }\n\n    // If the other application is not found then activityInfo will be null\n    // So make sure you add the correct intent-filter there!\n    if (activityInfo != null) {\n        // This will open up your register application\n        ComponentName name = new ComponentName(activityInfo.applicationInfo.packageName,\n                activityInfo.name);\n        sendIntent.setComponent(name);\n\n        startActivity(sendIntent);\n    }\n    else {\n        Toast.makeText(this,\n                \"Receiver app doesn't exist or not installed on this device!\",\n                Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n\n<p>First Application's Manifest</p>\n\n<pre><code>    &lt;activity android:name=\".MainActivity\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.SEND\" /&gt;\n            &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n            &lt;data android:mimeType=\"text/plain\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n</code></pre>\n\n<p>Second Application's Receiver Activity (In this case, your Register app)\nNote: as you want, this is NOT the main activity</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_receiver);\n    // This is NOT the main activity!\n}\n\npublic void send(View view) {\n    // I just want to note that I am calling the receiving application: \"other application\"\n\n    EditText firstNameEditText = findViewById(R.id.firstNameEditText);\n    EditText secondNameEditText = findViewById(R.id.secondNameEditText);\n    String firstName = firstNameEditText.getText().toString().trim();\n    String secondName = secondNameEditText.getText().toString().trim();\n    // Check if any of the inputs are empty\n    if (firstName.isEmpty() || secondName.isEmpty()) {\n        Toast.makeText(this, \"Text boxes cannot be empty!\", Toast.LENGTH_SHORT).show();\n        return;\n    }\n\n    // Send data back to the other application\n    Intent sendBackIntent = new Intent();\n    sendBackIntent.setAction(Intent.ACTION_SEND);\n    sendBackIntent.putExtra(\"first_name\", firstName);\n    sendBackIntent.putExtra(\"second_name\", secondName);\n    sendBackIntent.setType(\"text/plain\");\n\n    // Get all the available applications that can receive your data\n    // (in this case, first name and second name)\n    PackageManager packageManager = getPackageManager();\n    List&lt;ResolveInfo&gt; activities = packageManager.queryIntentActivities(sendBackIntent,\n            PackageManager.MATCH_DEFAULT_ONLY);\n\n    ////////////////// Get the other application package name //////////////////\n    ActivityInfo activityInfo = null;\n    for (ResolveInfo activity: activities) {\n        // Specify here the package name of the other application\n        if (activity.activityInfo.packageName.equals(\"com.example.mainapp\")) {\n            activityInfo = activity.activityInfo;\n            break;\n        }\n    }\n\n    if (activityInfo != null) {\n        // Same as before, this will open up the other application\n        ComponentName name = new ComponentName(activityInfo.applicationInfo.packageName,\n                activityInfo.name);\n        sendBackIntent.setComponent(name);\n\n        startActivity(sendBackIntent);\n    }\n    else {\n        Toast.makeText(this,\n                \"Receiver app doesn't exist or not installed on this device!\",\n                Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n\n<p>Second Application's Manifest</p>\n\n<pre><code>&lt;activity android:name=\".ReceiverActivity\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.SEND\" /&gt;\n            &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n            &lt;data android:mimeType=\"text/plain\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n</code></pre>\n\n<p>Happy coding!</p>\n\n<hr>\n\n<p>Edit: I added explanation to my answer.</p>\n"},{"tags":[],"owner":{"account_id":10896732,"reputation":21,"user_id":8010428,"display_name":"AGATEVURE GLORY"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587465081,"creation_date":1587465081,"answer_id":61341399,"question_id":61333066,"body_markdown":"   Your `RegisterActivity` should look like so\r\n   RegisterActivity is parsing the user data to the MainActivity\r\n\r\n  /* User clicks Send Back in register activity */\r\n\r\n ```  \r\n public void clickSendBack(View view) {\r\n    // Create an Intent for Register class\r\n  \r\n    final EditText firstNameInput =\r\n    findViewById(R.id.firstNameEditText);\r\n    final EditText secondNameInput =\r\n    findViewById(R.id.secondNameEditText);\r\n\r\n    String firstName = firstNameInput.getText().toString();\r\n    String secondName = secondNameInput.getText().toString();\r\n\r\n    Intent i = new Intent(RegisterActiivty.this, MainActivity.class);\r\n    i.putExtra(&quot;firstName&quot;, firstName);\r\n    i.putExtra(&quot;secondName&quot;, secondName);\r\n    startActivity(i);\r\n   \r\n     }\r\n```\r\n     #################################################################\r\n\r\n  Your MainActivity should look like so. \r\n  The MainActivity is responsible for receiving the data\r\n  This line of codes should be called in your onCreate method of MainActivity\r\n    \r\n```\r\n    String firstName = getIntent().getStringExtra(&quot;firstName&quot;);\r\n    String secondName = getIntent().getStringExtra(&quot;firstName&quot;)\r\n\r\n    // if you have a TextView on MainActivity you could display the data you have \r\n    //gotten from the RegisterActivity like so\r\n\r\n    Textview firstName = findViewById(R.id.firstName);\r\n    firstName.setText(firstName);\r\n\r\n    Textview secondName = findViewById(R.id.secondName);\r\n    secondName.setText(secondName);\r\n    \r\n       /* User clicks Register */\r\n    public void clickRegister(View view) {\r\n     \r\n      startActivity(Intent(this, RegisterActivity.class))\r\n\r\n     }\r\n```\r\n     ##########################################################\r\n   Your manifest should look like this\r\n```\r\n     &lt;activity android:name=&quot;com.example.register.Register&quot;/&gt;\r\n```\r\n    \r\n  I am trying to wrap my head around what you meant by Main App and Register. \r\n  It sound as though they are two different apps or probably two different \r\n  project modules. But if what you are trying to say is MainActivity and \r\n  RegisterActivity then the above solution should be able to fix your problem.\r\n     \r\n **What you did wrong:**\r\n\r\nThat intent you were trying to parse in the manifest was not needed. If I understood properly what you are trying to achieve. The same goes for the MainActivity and RegisterActivity. You were using Implicit Intent instead of explicit Intent. And when calling findViewById this extra `(EditText)` was not needed because it is redundant. For more on the intent you can check [this][1]\r\n\r\nHowever, this guide should be useful to anyone seeking to parse data from one activity to another.\r\n\r\n     \r\n\r\n\r\n  [1]: https://developer.android.com/guide/components/intents-filters","title":"Two apps communicating using Intent, passing data","body":"<p>Your <code>RegisterActivity</code> should look like so\n   RegisterActivity is parsing the user data to the MainActivity</p>\n\n<p>/* User clicks Send Back in register activity */</p>\n\n<pre><code>public void clickSendBack(View view) {\n   // Create an Intent for Register class\n\n   final EditText firstNameInput =\n   findViewById(R.id.firstNameEditText);\n   final EditText secondNameInput =\n   findViewById(R.id.secondNameEditText);\n\n   String firstName = firstNameInput.getText().toString();\n   String secondName = secondNameInput.getText().toString();\n\n   Intent i = new Intent(RegisterActiivty.this, MainActivity.class);\n   i.putExtra(\"firstName\", firstName);\n   i.putExtra(\"secondName\", secondName);\n   startActivity(i);\n\n    }\n</code></pre>\n\n<pre><code> #################################################################\n</code></pre>\n\n<p>Your MainActivity should look like so. \n  The MainActivity is responsible for receiving the data\n  This line of codes should be called in your onCreate method of MainActivity</p>\n\n<pre><code>    String firstName = getIntent().getStringExtra(\"firstName\");\n    String secondName = getIntent().getStringExtra(\"firstName\")\n\n    // if you have a TextView on MainActivity you could display the data you have \n    //gotten from the RegisterActivity like so\n\n    Textview firstName = findViewById(R.id.firstName);\n    firstName.setText(firstName);\n\n    Textview secondName = findViewById(R.id.secondName);\n    secondName.setText(secondName);\n\n       /* User clicks Register */\n    public void clickRegister(View view) {\n\n      startActivity(Intent(this, RegisterActivity.class))\n\n     }\n</code></pre>\n\n<pre><code> ##########################################################\n</code></pre>\n\n<p>Your manifest should look like this</p>\n\n<pre><code>     &lt;activity android:name=\"com.example.register.Register\"/&gt;\n</code></pre>\n\n<p>I am trying to wrap my head around what you meant by Main App and Register. \n  It sound as though they are two different apps or probably two different \n  project modules. But if what you are trying to say is MainActivity and \n  RegisterActivity then the above solution should be able to fix your problem.</p>\n\n<p><strong>What you did wrong:</strong></p>\n\n<p>That intent you were trying to parse in the manifest was not needed. If I understood properly what you are trying to achieve. The same goes for the MainActivity and RegisterActivity. You were using Implicit Intent instead of explicit Intent. And when calling findViewById this extra <code>(EditText)</code> was not needed because it is redundant. For more on the intent you can check <a href=\"https://developer.android.com/guide/components/intents-filters\" rel=\"nofollow noreferrer\">this</a></p>\n\n<p>However, this guide should be useful to anyone seeking to parse data from one activity to another.</p>\n"}],"owner":{"account_id":14147270,"reputation":55,"user_id":10220258,"display_name":"Palantiir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1308,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":61340674,"answer_count":2,"score":2,"last_activity_date":1680613658,"creation_date":1587421476,"question_id":61333066,"body_markdown":"I&#39;m trying to solve an issue passing data between different apps using Intent.\r\nThe scenario is like this:\r\n\r\n1. `Main` (App 1): User clicks `Register`\r\n2. `Main` App launches `Register` activity (form) in `Register` (App 2)\r\n3. User enters first name, last name etc, clicks `Send Back`\r\n4. `Register` app returning values to `Main` app\r\n5. `Main` app displays user&#39;s data \r\n\r\nNote that `Register` activity is not the main activity in `Register` activity.\r\nI would like to solve this without an additional class and without Broadcasting.\r\n\r\nMy code for Main App, user clicks Register method:\r\n\r\n        /* User clicks Register */\r\n    public void clickRegister(View view) {\r\n        Intent intent = new Intent(Intent.ACTION_SEND);\r\n        // Verify it resolves\r\n        PackageManager packageManager = getPackageManager();\r\n        List&lt;ResolveInfo&gt; activities = packageManager.queryIntentActivities(intent, 0);\r\n        boolean isIntentSafe = activities.size() &gt; 0;\r\n\r\n        // Start an activity if it&#39;s safe\r\n        if (isIntentSafe) {\r\n            startActivity(intent);\r\n        }\r\n    }\r\n\r\n`Manifest` file for `Register` activity in `Register` App:\r\n\r\n            &lt;activity android:name=&quot;com.example.register.Register&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.SEND&quot;/&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n                &lt;data android:mimeType=&quot;text/plain&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\nNow, this is the code in `Register` activity, of click `Send Back` method:\r\n\r\n        /* User clicks Send Back in register activity */\r\n    public void clickSendBack(View view) {\r\n        // Create an Intent for Register class\r\n        // Intent myIntent = new Intent(this, MainActivity.class);\r\n        Intent myIntent = new Intent(Intent.ACTION_SEND);\r\n\r\n        final EditText firstNameInput = (EditText) findViewById(R.id.firstNameEditText);\r\n        final EditText secondNameInput = (EditText) findViewById(R.id.secondNameEditText);\r\n\r\n        String firstName = firstNameInput.getText().toString();\r\n        String secondName = secondNameInput.getText().toString();\r\n\r\n        myIntent.setAction(Intent.ACTION_SEND);\r\n        myIntent.putExtra(&quot;firstName&quot;,firstName);\r\n        myIntent.putExtra(&quot;secondName&quot;,secondName);\r\n        myIntent.setType(&quot;text/plain&quot;);\r\n\r\n        // Starts activity\r\n        startActivity(myIntent);\r\n\r\n        finish();\r\n    }\r\n\r\nAnd here I&#39;m stuck.\r\nWould love to hear any clarification for this topic, and a example for a solution would also be great.\r\n\r\nThanks!","title":"Two apps communicating using Intent, passing data","body":"<p>I'm trying to solve an issue passing data between different apps using Intent.\nThe scenario is like this:</p>\n\n<ol>\n<li><code>Main</code> (App 1): User clicks <code>Register</code></li>\n<li><code>Main</code> App launches <code>Register</code> activity (form) in <code>Register</code> (App 2)</li>\n<li>User enters first name, last name etc, clicks <code>Send Back</code></li>\n<li><code>Register</code> app returning values to <code>Main</code> app</li>\n<li><code>Main</code> app displays user's data </li>\n</ol>\n\n<p>Note that <code>Register</code> activity is not the main activity in <code>Register</code> activity.\nI would like to solve this without an additional class and without Broadcasting.</p>\n\n<p>My code for Main App, user clicks Register method:</p>\n\n<pre><code>    /* User clicks Register */\npublic void clickRegister(View view) {\n    Intent intent = new Intent(Intent.ACTION_SEND);\n    // Verify it resolves\n    PackageManager packageManager = getPackageManager();\n    List&lt;ResolveInfo&gt; activities = packageManager.queryIntentActivities(intent, 0);\n    boolean isIntentSafe = activities.size() &gt; 0;\n\n    // Start an activity if it's safe\n    if (isIntentSafe) {\n        startActivity(intent);\n    }\n}\n</code></pre>\n\n<p><code>Manifest</code> file for <code>Register</code> activity in <code>Register</code> App:</p>\n\n<pre><code>        &lt;activity android:name=\"com.example.register.Register\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.SEND\"/&gt;\n            &lt;category android:name=\"android.intent.category.DEFAULT\"/&gt;\n            &lt;data android:mimeType=\"text/plain\"/&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n</code></pre>\n\n<p>Now, this is the code in <code>Register</code> activity, of click <code>Send Back</code> method:</p>\n\n<pre><code>    /* User clicks Send Back in register activity */\npublic void clickSendBack(View view) {\n    // Create an Intent for Register class\n    // Intent myIntent = new Intent(this, MainActivity.class);\n    Intent myIntent = new Intent(Intent.ACTION_SEND);\n\n    final EditText firstNameInput = (EditText) findViewById(R.id.firstNameEditText);\n    final EditText secondNameInput = (EditText) findViewById(R.id.secondNameEditText);\n\n    String firstName = firstNameInput.getText().toString();\n    String secondName = secondNameInput.getText().toString();\n\n    myIntent.setAction(Intent.ACTION_SEND);\n    myIntent.putExtra(\"firstName\",firstName);\n    myIntent.putExtra(\"secondName\",secondName);\n    myIntent.setType(\"text/plain\");\n\n    // Starts activity\n    startActivity(myIntent);\n\n    finish();\n}\n</code></pre>\n\n<p>And here I'm stuck.\nWould love to hear any clarification for this topic, and a example for a solution would also be great.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","oop","kotlin"],"comments":[{"owner":{"account_id":2527365,"reputation":142511,"user_id":2196460,"accept_rate":93,"display_name":"hotkey"},"score":1,"creation_date":1525731953,"post_id":50222139,"comment_id":87464080,"body_markdown":"I&#39;ve reopened the question since it asks about Kotlin, not Java. While Kotlin and Java are similar in this aspect, Kotlin instance construction is not equivalent to that in Java (at least it is expressed in different constructs).","body":"I&#39;ve reopened the question since it asks about Kotlin, not Java. While Kotlin and Java are similar in this aspect, Kotlin instance construction is not equivalent to that in Java (at least it is expressed in different constructs)."},{"owner":{"account_id":5431708,"reputation":9034,"user_id":4322363,"accept_rate":69,"display_name":"rosghub"},"score":0,"creation_date":1525732525,"post_id":50222139,"comment_id":87464256,"body_markdown":"@hotkey ok, I think the accepted answer explains it pretty well. My question may have been more related to java anyway. It was the warning in kotlin that sparked the question though.","body":"@hotkey ok, I think the accepted answer explains it pretty well. My question may have been more related to java anyway. It was the warning in kotlin that sparked the question though."},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1525735261,"post_id":50222139,"comment_id":87464949,"body_markdown":"@hotkey &quot;*So is this poor practice in java/kotlin*&quot; - Seems like they&#39;re asking for either. Their confusion comes from the Java code working (the &quot;bug&quot; not appearing), which works because the it doesn&#39;t actually replicate what the Kotlin code is doing. The answer in the marked duplicate definitely explains the warnings &amp; results he&#39;s obtaining.","body":"@hotkey &quot;<i>So is this poor practice in java/kotlin</i>&quot; - Seems like they&#39;re asking for either. Their confusion comes from the Java code working (the &quot;bug&quot; not appearing), which works because the it doesn&#39;t actually replicate what the Kotlin code is doing. The answer in the marked duplicate definitely explains the warnings &amp; results he&#39;s obtaining."}],"answers":[{"tags":[],"owner":{"account_id":1288640,"reputation":8167,"user_id":1241193,"display_name":"Bob Dalgleish"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1525726446,"creation_date":1525726446,"answer_id":50222292,"question_id":50222139,"body_markdown":"It is definitely poor practice because you are invoking `calculate()` on a **partially constructed object**. This suggests that your class has multiple phases of initialization.\r\n\r\nIf the result of `calculation()` is used to initialize a member, or perform layout or something, you might consider using *lazy initialization*. This will defer the calculation of the result until the result is really needed.","title":"Kotlin calling non final function in constructor works","body":"<p>It is definitely poor practice because you are invoking <code>calculate()</code> on a <strong>partially constructed object</strong>. This suggests that your class has multiple phases of initialization.</p>\n\n<p>If the result of <code>calculation()</code> is used to initialize a member, or perform layout or something, you might consider using <em>lazy initialization</em>. This will defer the calculation of the result until the result is really needed.</p>\n"},{"comments":[{"owner":{"account_id":5431708,"reputation":9034,"user_id":4322363,"accept_rate":69,"display_name":"rosghub"},"score":0,"creation_date":1525732035,"post_id":50222496,"comment_id":87464108,"body_markdown":"I see. I realized it was poor practice once I understood the lint warning. Thank you for that explanation","body":"I see. I realized it was poor practice once I understood the lint warning. Thank you for that explanation"},{"owner":{"account_id":22194785,"reputation":500,"user_id":16436336,"display_name":"BobTheCat"},"score":0,"creation_date":1644487554,"post_id":50222496,"comment_id":125621966,"body_markdown":"good explanation! But I still wonder what&#39;s the mechanism behind it. How would compiler know when to assagin 0 to &lt;size&gt;  and when to not to initiate &lt;size&gt; ? How does the compiler know when creating Derived class, assigning  a value to open property &lt;size&gt; needs to wait until derived class constructor be run? Just curious.","body":"good explanation! But I still wonder what&#39;s the mechanism behind it. How would compiler know when to assagin 0 to &lt;size&gt;  and when to not to initiate &lt;size&gt; ? How does the compiler know when creating Derived class, assigning  a value to open property &lt;size&gt; needs to wait until derived class constructor be run? Just curious."}],"tags":[],"owner":{"account_id":2527365,"reputation":142511,"user_id":2196460,"accept_rate":93,"display_name":"hotkey"},"comment_count":2,"down_vote_count":0,"up_vote_count":100,"is_accepted":true,"score":100,"last_activity_date":1680613237,"creation_date":1525727535,"answer_id":50222496,"question_id":50222139,"body_markdown":"The initialization order of a derived class is described in the language reference: [Derived class initialization order][1], and the section also explains why it is a bad (and potentially dangerous) practice to use an open member in initialization logic of your class.\r\n\r\nBasically, at the point when a super class constructor (including its property initializers and the `init` blocks) is executed, the derived class constructor has not yet run. But the overridden members retain their logic even when called from the super class constructor. This may lead to an overridden member that relies on some state, that is specific to the derived class, being called from the super constructor, which can lead to a bug or a runtime failure. This is also one of the cases when you can get a `NullPointerException` in Kotlin.\r\n\r\nConsider this code sample:\r\n\r\n    open class Base {\r\n        open val size: Int = 0\r\n        init { println(&quot;size = $size&quot;) }\r\n    }\r\n    \r\n    class Derived : Base() {\r\n        val items = mutableListOf(1, 2, 3)\r\n        override val size: Int get() = items.size\r\n    }\r\n\r\n[&lt;sup&gt;(runnable sample)&lt;/sup&gt;][2]\r\n\r\nHere, the overridden `size` relies on `items` being properly initialized, but at the point when `size` is used in the super constructor, the backing field of `items` still holds null. Constructing an instance of `Derived` therefore throws an NPE.\r\n\r\nUsing the practice in question safely requires considerable effort even when you don&#39;t share the code with anyone else, and when you do, other programmers will usually expect open members to be safe to override involving the state of the derived class. \r\n\r\n&lt;hr&gt;\r\n\r\nAs [@Bob Dagleish](https://stackoverflow.com/users/1241193/bob-dalgleish) correctly noted, you can use [lazy initialization][3] for the `code` property:\r\n\r\n    val code by lazy { calculate() }\r\n\r\nBut then you need to be careful and not use `code` anywhere else in the base class construction logic.\r\n\r\nAnother option is to require `code` to be passed to the base class constructor:\r\n\r\n    abstract class Base(var code: Int) {\r\n        abstract fun calculate(): Int\r\n    }\r\n    \r\n    class Derived(private val x: Int) : Base(calculateFromX(x)) {\r\n        override fun calculate(): Int = \r\n            calculateFromX(x)\r\n    \r\n        companion object {\r\n            fun calculateFromX(x: Int) = x\r\n        }\r\n    }\r\n\r\nThis, however, complicates the code of the derived classes in cases when the same logic is used both in overridden members and for calculating the values passed to the super constructor.\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/inheritance.html#derived-class-initialization-order\r\n  [2]: https://try.kotlinlang.org/#/UserProjects/58rej96fbnglrqsqss2krrd2rn/llkj4n2ave68msaivplra2asrp\r\n  [3]: https://kotlinlang.org/docs/reference/delegated-properties.html#lazy","title":"Kotlin calling non final function in constructor works","body":"<p>The initialization order of a derived class is described in the language reference: <a href=\"https://kotlinlang.org/docs/inheritance.html#derived-class-initialization-order\" rel=\"noreferrer\">Derived class initialization order</a>, and the section also explains why it is a bad (and potentially dangerous) practice to use an open member in initialization logic of your class.</p>\n<p>Basically, at the point when a super class constructor (including its property initializers and the <code>init</code> blocks) is executed, the derived class constructor has not yet run. But the overridden members retain their logic even when called from the super class constructor. This may lead to an overridden member that relies on some state, that is specific to the derived class, being called from the super constructor, which can lead to a bug or a runtime failure. This is also one of the cases when you can get a <code>NullPointerException</code> in Kotlin.</p>\n<p>Consider this code sample:</p>\n<pre><code>open class Base {\n    open val size: Int = 0\n    init { println(&quot;size = $size&quot;) }\n}\n\nclass Derived : Base() {\n    val items = mutableListOf(1, 2, 3)\n    override val size: Int get() = items.size\n}\n</code></pre>\n<p><a href=\"https://try.kotlinlang.org/#/UserProjects/58rej96fbnglrqsqss2krrd2rn/llkj4n2ave68msaivplra2asrp\" rel=\"noreferrer\"><sup>(runnable sample)</sup></a></p>\n<p>Here, the overridden <code>size</code> relies on <code>items</code> being properly initialized, but at the point when <code>size</code> is used in the super constructor, the backing field of <code>items</code> still holds null. Constructing an instance of <code>Derived</code> therefore throws an NPE.</p>\n<p>Using the practice in question safely requires considerable effort even when you don't share the code with anyone else, and when you do, other programmers will usually expect open members to be safe to override involving the state of the derived class.</p>\n<hr>\n<p>As <a href=\"https://stackoverflow.com/users/1241193/bob-dalgleish\">@Bob Dagleish</a> correctly noted, you can use <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html#lazy\" rel=\"noreferrer\">lazy initialization</a> for the <code>code</code> property:</p>\n<pre><code>val code by lazy { calculate() }\n</code></pre>\n<p>But then you need to be careful and not use <code>code</code> anywhere else in the base class construction logic.</p>\n<p>Another option is to require <code>code</code> to be passed to the base class constructor:</p>\n<pre><code>abstract class Base(var code: Int) {\n    abstract fun calculate(): Int\n}\n\nclass Derived(private val x: Int) : Base(calculateFromX(x)) {\n    override fun calculate(): Int = \n        calculateFromX(x)\n\n    companion object {\n        fun calculateFromX(x: Int) = x\n    }\n}\n</code></pre>\n<p>This, however, complicates the code of the derived classes in cases when the same logic is used both in overridden members and for calculating the values passed to the super constructor.</p>\n"},{"tags":[],"owner":{"account_id":6868647,"reputation":22259,"user_id":5279996,"display_name":"Braian Coronel"},"comment_count":0,"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1608751259,"creation_date":1608751259,"answer_id":65429814,"question_id":50222139,"body_markdown":"To invoke the functions of the concrete classes in the abstract class use `by lazy` which allows calling non-final functions.\r\n\r\nFrom: `area = extractArea(room);`\r\n\r\nTo: `area by lazy { extractArea(room) }`\r\n\r\nGL","title":"Kotlin calling non final function in constructor works","body":"<p>To invoke the functions of the concrete classes in the abstract class use <code>by lazy</code> which allows calling non-final functions.</p>\n<p>From: <code>area = extractArea(room);</code></p>\n<p>To: <code>area by lazy { extractArea(room) }</code></p>\n<p>GL</p>\n"}],"owner":{"account_id":5431708,"reputation":9034,"user_id":4322363,"accept_rate":69,"display_name":"rosghub"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38866,"favorite_count":0,"down_vote_count":1,"up_vote_count":82,"accepted_answer_id":50222496,"answer_count":3,"score":81,"last_activity_date":1680613237,"creation_date":1525725775,"question_id":50222139,"body_markdown":"In Kotlin, it warns you when calling an abstract function in a constructor, citing the following problematic code:\r\n\r\n\tabstract class Base {\r\n\t    var code = calculate()\r\n\t    abstract fun calculate(): Int\r\n\t}\r\n\r\n\tclass Derived(private val x: Int) : Base() {\r\n\t    override fun calculate(): Int = x\r\n\t}\r\n\r\n\tfun main(args: Array&lt;String&gt;) {\r\n\t    val i = Derived(42).code // Expected: 42, actual: 0\r\n\t    println(i)\r\n\t}\r\n\r\nAnd the output makes sense because when `calculate` is called, `x` hasn&#39;t been initialized yet.\r\n\r\nThis is something I had never considered when writing java, as I have used this pattern without any issues:\r\n\r\n\tclass Base {\r\n\r\n\t\tprivate int area;\r\n\r\n\t\tBase(Room room) {\r\n\t\t\tarea = extractArea(room);\r\n\t\t}\r\n\r\n\t\tabstract int extractArea(Room room);\r\n\t}\r\n\r\n\tclass Derived_A extends Base {\r\n\r\n\t\tDerived_A(Room room) {\r\n\t\t\tsuper(room);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic int extractArea(Room room) {\r\n\t\t\t// Extract area A from room\r\n\t\t}\r\n\t}\r\n\r\n\tclass Derived_B extends Base {\r\n\r\n\t\tDerived_B(Room room) {\r\n\t\t\tsuper(room);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic int extractArea(Room room) {\r\n\t\t\t// Extract area B from room\r\n\t\t}\r\n\t}\r\n\r\nAnd this has worked fine because the overriden `extractArea` functions don&#39;t rely on any uninitialized data, but they are unique to each respective derived `class` (hence the need to be abstract). This also works in kotlin, but it still gives the warning.\r\n\r\nSo is this poor practice in java/kotlin? If so, how can I improve it? And is it possible to implement in kotlin without being warned about using non-final functions in constructors?\r\n\r\nA potential solution is to move the line `area = extractArea()` to each derived constructor, but this doesn&#39;t seem ideal since it&#39;s just repeated code that should be part of the super class.","title":"Kotlin calling non final function in constructor works","body":"<p>In Kotlin, it warns you when calling an abstract function in a constructor, citing the following problematic code:</p>\n\n<pre><code>abstract class Base {\n    var code = calculate()\n    abstract fun calculate(): Int\n}\n\nclass Derived(private val x: Int) : Base() {\n    override fun calculate(): Int = x\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val i = Derived(42).code // Expected: 42, actual: 0\n    println(i)\n}\n</code></pre>\n\n<p>And the output makes sense because when <code>calculate</code> is called, <code>x</code> hasn't been initialized yet.</p>\n\n<p>This is something I had never considered when writing java, as I have used this pattern without any issues:</p>\n\n<pre><code>class Base {\n\n    private int area;\n\n    Base(Room room) {\n        area = extractArea(room);\n    }\n\n    abstract int extractArea(Room room);\n}\n\nclass Derived_A extends Base {\n\n    Derived_A(Room room) {\n        super(room);\n    }\n\n    @Override\n    public int extractArea(Room room) {\n        // Extract area A from room\n    }\n}\n\nclass Derived_B extends Base {\n\n    Derived_B(Room room) {\n        super(room);\n    }\n\n    @Override\n    public int extractArea(Room room) {\n        // Extract area B from room\n    }\n}\n</code></pre>\n\n<p>And this has worked fine because the overriden <code>extractArea</code> functions don't rely on any uninitialized data, but they are unique to each respective derived <code>class</code> (hence the need to be abstract). This also works in kotlin, but it still gives the warning.</p>\n\n<p>So is this poor practice in java/kotlin? If so, how can I improve it? And is it possible to implement in kotlin without being warned about using non-final functions in constructors?</p>\n\n<p>A potential solution is to move the line <code>area = extractArea()</code> to each derived constructor, but this doesn't seem ideal since it's just repeated code that should be part of the super class.</p>\n"},{"tags":["java","spring-boot","maven","java-web-start","jnlp"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1680634620,"post_id":75929665,"comment_id":133930691,"body_markdown":"JNLP is not provided or supported in recent versions of java. Before it was deprecated security was tightened significantly.  Please provide more detail.","body":"JNLP is not provided or supported in recent versions of java. Before it was deprecated security was tightened significantly.  Please provide more detail."},{"owner":{"account_id":23356496,"reputation":1,"user_id":17429397,"display_name":"Ariel"},"score":0,"creation_date":1680681866,"post_id":75929665,"comment_id":133937547,"body_markdown":"I am using Java 8 for my API .Also I have manage to create a JNLP file and add both the JAR(Spring-boot) and JNLP to my web server(Tomcat). When I hit the specific URL , that I have provide inside JNLP , JNLP file is downloaded in my PC . The problem is that when I try to launch the API through the JNLP using Open Web Start / Java Web Start , the is this Exception that I keep getting. The hole problem is with spring-boot and if you see the link that I have include in my question above you will understand why does the Spring-Boot throw this Exception . Is there any way to solve it?","body":"I am using Java 8 for my API .Also I have manage to create a JNLP file and add both the JAR(Spring-boot) and JNLP to my web server(Tomcat). When I hit the specific URL , that I have provide inside JNLP , JNLP file is downloaded in my PC . The problem is that when I try to launch the API through the JNLP using Open Web Start / Java Web Start , the is this Exception that I keep getting. The hole problem is with spring-boot and if you see the link that I have include in my question above you will understand why does the Spring-Boot throw this Exception . Is there any way to solve it?"}],"owner":{"account_id":23356496,"reputation":1,"user_id":17429397,"display_name":"Ariel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680613044,"creation_date":1680613044,"question_id":75929665,"body_markdown":"I am trying to launch my JAR , that contains spring-boot API  , through JNPL but I am getting :\r\n\r\n```\r\njava.lang.IllegalStateException: Unable to determine code source archive from \\\\localhost:8080\\webstart\\printer-api\\printer-api.jar\r\nat org.springframework.boot.loader.Launcher.createArchive(Launcher.java:126)\r\nat org.springframework.boot.loader.ExecutableArchiveLauncher.&lt;init&gt;(ExecutableArchiveLauncher.java:38)\r\nat org.springframework.boot.loader.JarLauncher.&lt;init&gt;(JarLauncher.java:35)\r\nat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\nat java.lang.reflect.Method.invoke(Unknown Source)\r\nat com.sun.javaws.Launcher.executeApplication(Unknown Source)\r\nat com.sun.javaws.Launcher.executeMainClass(Unknown Source)\r\nat com.sun.javaws.Launcher.doLaunchApp(Unknown Source)\r\nat com.sun.javaws.Launcher.run(Unknown Source)\r\n```\r\n\r\nMy JNLP file is this :\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;jnlp spec=&quot;1.0+&quot; codebase=&quot;http://localhost:8080/webstart/printer-api&quot; href=&quot;printer-api.jnlp&quot;&gt;\r\n    &lt;information&gt;\r\n        &lt;title&gt;PrinterAPi&lt;/title&gt;\r\n        &lt;vendor&gt;ADM&lt;/vendor&gt;\r\n        &lt;homepage href=&quot;http://localhost:8080/webstart/printer-api&quot;/&gt;\r\n        &lt;description&gt;Web Start&lt;/description&gt;\r\n        &lt;offline-allowed/&gt;\r\n    &lt;/information&gt;\r\n    &lt;security&gt;\r\n        &lt;all-permissions/&gt;\r\n    &lt;/security&gt;\r\n    &lt;resources&gt;\r\n        &lt;j2se version=&quot;1.8+&quot;  href=&quot;http://java.sun.com/products/autodl/j2se&quot;/&gt;\r\n        &lt;jar href=&quot;printer-api.jar&quot; /&gt;\r\n    &lt;/resources&gt;\r\n    &lt;application-desc main-class=&quot;org.springframework.boot.loader.JarLauncher&quot; /&gt;\r\n&lt;/jnlp&gt;\r\n```\r\n\r\nI have also find what cause the problem in this : https://stackoverflow.com/questions/52297038/exception-when-using-spring-boot-and-java-web-start-jnlp\r\n\r\nBut there was not provide any exact way to solve the problem .\r\n\r\nCan anyone help me with a convenient path to Launch JAR(Sprint-Boot API) through Java Web Start/JNPL ?","title":"Can I Launch Spring Boot with Java Web Start (JNLP)","body":"<p>I am trying to launch my JAR , that contains spring-boot API  , through JNPL but I am getting :</p>\n<pre><code>java.lang.IllegalStateException: Unable to determine code source archive from \\\\localhost:8080\\webstart\\printer-api\\printer-api.jar\nat org.springframework.boot.loader.Launcher.createArchive(Launcher.java:126)\nat org.springframework.boot.loader.ExecutableArchiveLauncher.&lt;init&gt;(ExecutableArchiveLauncher.java:38)\nat org.springframework.boot.loader.JarLauncher.&lt;init&gt;(JarLauncher.java:35)\nat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat com.sun.javaws.Launcher.executeApplication(Unknown Source)\nat com.sun.javaws.Launcher.executeMainClass(Unknown Source)\nat com.sun.javaws.Launcher.doLaunchApp(Unknown Source)\nat com.sun.javaws.Launcher.run(Unknown Source)\n</code></pre>\n<p>My JNLP file is this :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;jnlp spec=&quot;1.0+&quot; codebase=&quot;http://localhost:8080/webstart/printer-api&quot; href=&quot;printer-api.jnlp&quot;&gt;\n    &lt;information&gt;\n        &lt;title&gt;PrinterAPi&lt;/title&gt;\n        &lt;vendor&gt;ADM&lt;/vendor&gt;\n        &lt;homepage href=&quot;http://localhost:8080/webstart/printer-api&quot;/&gt;\n        &lt;description&gt;Web Start&lt;/description&gt;\n        &lt;offline-allowed/&gt;\n    &lt;/information&gt;\n    &lt;security&gt;\n        &lt;all-permissions/&gt;\n    &lt;/security&gt;\n    &lt;resources&gt;\n        &lt;j2se version=&quot;1.8+&quot;  href=&quot;http://java.sun.com/products/autodl/j2se&quot;/&gt;\n        &lt;jar href=&quot;printer-api.jar&quot; /&gt;\n    &lt;/resources&gt;\n    &lt;application-desc main-class=&quot;org.springframework.boot.loader.JarLauncher&quot; /&gt;\n&lt;/jnlp&gt;\n</code></pre>\n<p>I have also find what cause the problem in this : <a href=\"https://stackoverflow.com/questions/52297038/exception-when-using-spring-boot-and-java-web-start-jnlp\">Exception when using Spring Boot and Java Web Start (JNLP)</a></p>\n<p>But there was not provide any exact way to solve the problem .</p>\n<p>Can anyone help me with a convenient path to Launch JAR(Sprint-Boot API) through Java Web Start/JNPL ?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","dto","mapstruct"],"comments":[{"owner":{"account_id":19298004,"reputation":129,"user_id":14106566,"display_name":"humbleCodes"},"score":0,"creation_date":1680607359,"post_id":75928605,"comment_id":133923338,"body_markdown":"I have also added the Mapper Implementations generated by mapStruct for userMapper and PlaylistMapper","body":"I have also added the Mapper Implementations generated by mapStruct for userMapper and PlaylistMapper"}],"answers":[{"comments":[{"owner":{"account_id":19298004,"reputation":129,"user_id":14106566,"display_name":"humbleCodes"},"score":0,"creation_date":1680614084,"post_id":75929657,"comment_id":133925162,"body_markdown":"Can&#39;t thank you enough for helping me out with this, this works but I have a small doubt, why was the Playlist Mapper working absolutely fine and giving me correct JSON output (with correctly nested songDto field) when I used `@Mapper( componentModel = &quot;spring&quot; , uses = { SongDto.class } )` annotation on PlaylistMapper Interface ?","body":"Can&#39;t thank you enough for helping me out with this, this works but I have a small doubt, why was the Playlist Mapper working absolutely fine and giving me correct JSON output (with correctly nested songDto field) when I used <code>@Mapper( componentModel = &quot;spring&quot; , uses = { SongDto.class } )</code> annotation on PlaylistMapper Interface ?"},{"owner":{"account_id":19298004,"reputation":129,"user_id":14106566,"display_name":"humbleCodes"},"score":0,"creation_date":1680621533,"post_id":75929657,"comment_id":133927349,"body_markdown":"and also I couldn&#39;t understand your sidenote which says `You don&#39;t have to call Mappers.get( in your shown classes. This reference is never used. It is referenced with the uses config.`","body":"and also I couldn&#39;t understand your sidenote which says <code>You don&#39;t have to call Mappers.get( in your shown classes. This reference is never used. It is referenced with the uses config.</code>"},{"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"score":0,"creation_date":1680645949,"post_id":75929657,"comment_id":133933050,"body_markdown":"Simply delete `PlaylistMapper MAPPER = Mappers.getMapper(PlaylistMapper.class) ;` `SongMapper MAPPER = Mappers.getMapper(SongMapper.class) ;` and retry your code. Nothing should change. As long as you are using Spring dependency injection you dont really have to use &quot;Mappers.getMapper&quot; (except for mockito tests maybe)","body":"Simply delete <code>PlaylistMapper MAPPER = Mappers.getMapper(PlaylistMapper.class) ;</code> <code>SongMapper MAPPER = Mappers.getMapper(SongMapper.class) ;</code> and retry your code. Nothing should change. As long as you are using Spring dependency injection you dont really have to use &quot;Mappers.getMapper&quot; (except for mockito tests maybe)"},{"owner":{"account_id":19298004,"reputation":129,"user_id":14106566,"display_name":"humbleCodes"},"score":0,"creation_date":1680672604,"post_id":75929657,"comment_id":133935741,"body_markdown":"ok and what is the reasoning behind the fact that this works as you said, `&quot; As long as you are using Spring dependency injection you dont really have to use &quot;Mappers.getMapper&quot; &quot;`","body":"ok and what is the reasoning behind the fact that this works as you said, <code>&quot; As long as you are using Spring dependency injection you dont really have to use &quot;Mappers.getMapper&quot; &quot;</code>"},{"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"score":1,"creation_date":1680679299,"post_id":75929657,"comment_id":133937011,"body_markdown":"Try to use mapstruct the way it was intended. Using `@Mapper(componentModel = &quot;spring&quot; ` already integrates mapstruct into the spring environment. `The generated mapper is a Spring bean and can be retrieved via @Autowired`. There is simply no need to use `Mappers.get(`","body":"Try to use mapstruct the way it was intended. Using <code>@Mapper(componentModel = &quot;spring&quot; </code> already integrates mapstruct into the spring environment. <code>The generated mapper is a Spring bean and can be retrieved via @Autowired</code>. There is simply no need to use <code>Mappers.get(</code>"},{"owner":{"account_id":19298004,"reputation":129,"user_id":14106566,"display_name":"humbleCodes"},"score":0,"creation_date":1680707327,"post_id":75929657,"comment_id":133944439,"body_markdown":"Just one more doubt, if you take a look into the class `UserMapperImpl` that implements UserMapper Interface, why is there a method that goes like this, `public User userDtoToCustomer(UserDto userDto){ ... }`. Shouldn&#39;t it be named like this : `public User userDtoToUser(UserDto userDto){ ... }` ??","body":"Just one more doubt, if you take a look into the class <code>UserMapperImpl</code> that implements UserMapper Interface, why is there a method that goes like this, <code>public User userDtoToCustomer(UserDto userDto){ ... }</code>. Shouldn&#39;t it be named like this : <code>public User userDtoToUser(UserDto userDto){ ... }</code> ??"},{"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"score":0,"creation_date":1680733990,"post_id":75929657,"comment_id":133950437,"body_markdown":"The names of the methods are specified in your interfaces. All the Methodes you defined are shown in the Implementation. Since you named your method `userDtoToCustomer` in `public interface UserMapper {` the implementation will have the same name.","body":"The names of the methods are specified in your interfaces. All the Methodes you defined are shown in the Implementation. Since you named your method <code>userDtoToCustomer</code> in <code>public interface UserMapper {</code> the implementation will have the same name."}],"tags":[],"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680613000,"creation_date":1680613000,"answer_id":75929657,"question_id":75928605,"body_markdown":"You are using the `uses` field in your mapper config wrong. You are refering to a DTO. \r\n\r\n    @Mapper(componentModel = &quot;spring&quot; , uses = {PlaylistDto.class , SongDto.class})\r\n    @Component\r\n    public interface UserMapper {\r\n\r\n\r\nAccording to the documentation you need to refer to another mapper that should be used by the configured mapper\r\n\r\n    /**\r\n     * Other mapper types used by this mapper. May be hand-written classes or other mappers generated by MapStruct. No\r\n     * cycle between generated mapper classes must be created.\r\n     *\r\n     * @return The mapper types used by this mapper.\r\n     */\r\n    Class&lt;?&gt;[] uses() default { };\r\n\r\n\r\nYour solution should look like this: \r\n\r\n    @Mapper(componentModel = &quot;spring&quot; , uses = {PlaylistMapper.class , SongMapper .class})\r\n    @Component\r\n    public interface UserMapper {\r\n\r\nAs a sidenote you dont have to call `Mappers.get(` in your shown classes. This reference is never used. It is referened with the `uses` config.","title":"MapStruct mapper not mapping nested DTOs properly","body":"<p>You are using the <code>uses</code> field in your mapper config wrong. You are refering to a DTO.</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot; , uses = {PlaylistDto.class , SongDto.class})\n@Component\npublic interface UserMapper {\n</code></pre>\n<p>According to the documentation you need to refer to another mapper that should be used by the configured mapper</p>\n<pre><code>/**\n * Other mapper types used by this mapper. May be hand-written classes or other mappers generated by MapStruct. No\n * cycle between generated mapper classes must be created.\n *\n * @return The mapper types used by this mapper.\n */\nClass&lt;?&gt;[] uses() default { };\n</code></pre>\n<p>Your solution should look like this:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot; , uses = {PlaylistMapper.class , SongMapper .class})\n@Component\npublic interface UserMapper {\n</code></pre>\n<p>As a sidenote you dont have to call <code>Mappers.get(</code> in your shown classes. This reference is never used. It is referened with the <code>uses</code> config.</p>\n"}],"owner":{"account_id":19298004,"reputation":129,"user_id":14106566,"display_name":"humbleCodes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":660,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75929657,"answer_count":1,"score":0,"last_activity_date":1680613000,"creation_date":1680606411,"question_id":75928605,"body_markdown":"**ISSUE :** Mapstruct mapper for `User DTO` not returning null value for a deeply nested DTO field in JSON (UserDto class has a PlaylistDto property, whereas PlaylistDto class itself consists a SongDto field).\r\n\r\n**Project OVREVIEW :** I am having some trouble while mapping nested DTO field properly with mapstruct. I m working on a music streaming springBoot application which deals with several entities - `User` , `Playlist` and `Song`. There is one-to-many association between User and Playlist (User is the owning side) and a many-to-many association between Playlist (the owning side) and Song entities. The Entities are as follows :\r\n\r\n&lt;h4&gt; User Entity &lt;/h4&gt;\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class,property = &quot;id&quot;)\r\n    \r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id ;\r\n    \r\n        private String username ;\r\n        private String password ;\r\n        private String email ;\r\n        private String firstname ;\r\n        private String lastname ;\r\n    \r\n        @OneToMany(\r\n                mappedBy = &quot;user&quot; ,\r\n                cascade = {CascadeType.PERSIST , CascadeType.MERGE} ,\r\n                orphanRemoval = true\r\n        )\r\n        private List&lt;Playlist&gt; playlists = new ArrayList&lt;&gt;() ;\r\n    \r\n        // getters, setters and constructors ...\r\n    } \r\n\r\n \r\n\r\n&lt;h4&gt; Playlist Entity&lt;/h4&gt;\r\n\r\n    @Entity\r\n    @Table(name = &quot;playlist&quot;)\r\n    @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class,property = &quot;id&quot;)\r\n    public class Playlist {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id ;\r\n    \r\n        private String name ;\r\n        private String description ;\r\n        @ManyToOne(fetch = FetchType.EAGER)\r\n        @JoinColumn(name = &quot;user_id&quot;)\r\n        private User user ;\r\n    \r\n        @ManyToMany(fetch = FetchType.LAZY)\r\n        @JoinTable(\r\n                name = &quot;playlist_song&quot; ,\r\n                joinColumns = {@JoinColumn(name = &quot;playlist_id&quot;)} ,\r\n                inverseJoinColumns = {@JoinColumn(name = &quot;song_id&quot;)}\r\n        )\r\n        private Set&lt;Song&gt; songs = new HashSet&lt;&gt;() ;\r\n    \r\n        // getters, setters and constructors ...\r\n    }\r\n\r\n&lt;h4&gt; Song Entity &lt;/h4&gt;\r\n\r\n    @Entity\r\n    @Table(name = &quot;song&quot;)\r\n    @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class,property = &quot;id&quot;)\r\n    public class Song {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id ;\r\n    \r\n        private String name ;\r\n        private String artist ;\r\n        private String album ;\r\n        private Integer year ;\r\n        private String genre ;\r\n        private Integer duration ;\r\n    \r\n        @ManyToMany(mappedBy = &quot;songs&quot;)\r\n        private Set&lt;Playlist&gt; playlists = new HashSet&lt;&gt;() ;\r\n    \r\n        // getters, setters and constructors ...\r\n\r\n&lt;hr&gt;\r\nThe DTOs for the above entities are as follows : \r\n\r\n&lt;h4&gt; User DTO &lt;/h4&gt;\r\n\r\n    public class UserDto {\r\n        private Long id ;\r\n        private String username ;\r\n        private String email ;\r\n        private String firstname ;\r\n        private String lastname ;\r\n    \r\n        private List&lt;PlaylistDto&gt; playlistsDto ;\r\n    \r\n        // constructors\r\n        public UserDto() {\r\n        }\r\n    \r\n        public UserDto(Long id, String username, String email, String firstname, String lastname, List&lt;PlaylistDto&gt; playlistsDto) {\r\n            this.id = id;\r\n            this.username = username;\r\n            this.email = email;\r\n            this.firstname = firstname;\r\n            this.lastname = lastname;\r\n            this.playlistsDto = playlistsDto;\r\n        }\r\n    \r\n        // getters and setters ...\r\n    }\r\n\r\n&lt;h4&gt; Playlist DTO &lt;/h4&gt;\r\n\r\n    public class PlaylistDto {\r\n        private Long id ;\r\n        private String name ;\r\n        private String description ;\r\n        private Set&lt;SongDto&gt; songsDto;\r\n    \r\n        // constructors\r\n    \r\n        public PlaylistDto() {\r\n        }\r\n    \r\n        public PlaylistDto(Long id, String name, String description, Set&lt;SongDto&gt; songsDto) {\r\n            this.id = id;\r\n            this.name = name;\r\n            this.description = description;\r\n            this.songsDto = songsDto;\r\n        }\r\n    \r\n        // getters &amp; setters\r\n    }\r\n\r\n&lt;h4&gt; Song DTO &lt;/h4&gt; \r\n\r\n    public class SongDto {\r\n        private Long id ;\r\n        private String name ;\r\n        private String artist ;\r\n        private String album ;\r\n    \r\n        // constructors\r\n    \r\n        public SongDto() {\r\n        }\r\n    \r\n        public SongDto(Long id, String name, String artist, String album) {\r\n            this.id = id;\r\n            this.name = name;\r\n            this.artist = artist;\r\n            this.album = album;\r\n        }\r\n    \r\n        // getters &amp; setters\r\n    }\r\n\r\n&lt;hr&gt;\r\n\r\nLastly, here are the mappers : \r\n\r\n    // User Mapper\r\n    @Mapper(componentModel = &quot;spring&quot; , uses = {PlaylistDto.class , SongDto.class})\r\n    @Component\r\n    public interface UserMapper {\r\n    \r\n        UserMapper MAPPER = Mappers.getMapper(UserMapper.class);\r\n    \r\n        @Mapping(source = &quot;playlists&quot;, target = &quot;playlistsDto&quot;)\r\n        UserDto usertoUserDto(User user) ;\r\n    \r\n        @Mapping(source = &quot;playlistsDto&quot;, target = &quot;playlists&quot;)\r\n        User userDtoToCustomer(UserDto userDto) ;\r\n    }\r\n    \r\n    \r\n    // Playlist Mapper\r\n    @Mapper(componentModel = &quot;spring&quot; , uses = {SongDto.class})\r\n    @Component\r\n    public interface PlaylistMapper {\r\n    \r\n        PlaylistMapper MAPPER = Mappers.getMapper(PlaylistMapper.class) ;\r\n        @Mapping(source = &quot;songs&quot; , target = &quot;songsDto&quot;)\r\n        PlaylistDto playlistToDto (Playlist entity) ;\r\n    \r\n        @Mapping(source = &quot;songsDto&quot; , target = &quot;songs&quot;)\r\n        Playlist toEntity (PlaylistDto dto) ;\r\n    }\r\n    \r\n    \r\n    // Song Mapper \r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    @Component\r\n    public interface SongMapper {\r\n        SongMapper MAPPER = Mappers.getMapper(SongMapper.class) ;\r\n    \r\n        SongDto songToDto (Song entity) ;\r\n    \r\n        Song toEntity (SongDto dto) ;\r\n    }\r\n\r\n&lt;hr&gt;\r\nThe mapstruct generated Mapper implementations:\r\n&lt;h4&gt; Playlist MapperImpl &lt;/h4&gt;\r\n\r\n    @Generated(\r\n        value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\r\n        date = &quot;2023-04-04T11:16:24+0530&quot;,\r\n        comments = &quot;version: 1.5.3.Final, compiler: javac, environment: Java 19.0.2 (Oracle Corporation)&quot;\r\n    )\r\n    @Component\r\n    public class PlaylistMapperImpl implements PlaylistMapper {\r\n    \r\n        @Override\r\n        public PlaylistDto playlistToDto(Playlist entity) {\r\n            if ( entity == null ) {\r\n                return null;\r\n            }\r\n    \r\n            PlaylistDto playlistDto = new PlaylistDto();\r\n    \r\n            playlistDto.setSongsDto( songSetToSongDtoSet( entity.getSongs() ) );\r\n            playlistDto.setId( entity.getId() );\r\n            playlistDto.setName( entity.getName() );\r\n            playlistDto.setDescription( entity.getDescription() );\r\n    \r\n            return playlistDto;\r\n        }\r\n    \r\n        @Override\r\n        public Playlist toEntity(PlaylistDto dto) {\r\n            if ( dto == null ) {\r\n                return null;\r\n            }\r\n    \r\n            Playlist playlist = new Playlist();\r\n    \r\n            playlist.setSongs( songDtoSetToSongSet( dto.getSongsDto() ) );\r\n            playlist.setName( dto.getName() );\r\n            playlist.setDescription( dto.getDescription() );\r\n    \r\n            return playlist;\r\n        }\r\n    \r\n        protected SongDto songToSongDto(Song song) {\r\n            if ( song == null ) {\r\n                return null;\r\n            }\r\n    \r\n            SongDto songDto = new SongDto();\r\n    \r\n            songDto.setId( song.getId() );\r\n            songDto.setName( song.getName() );\r\n            songDto.setArtist( song.getArtist() );\r\n            songDto.setAlbum( song.getAlbum() );\r\n    \r\n            return songDto;\r\n        }\r\n    \r\n        protected Set&lt;SongDto&gt; songSetToSongDtoSet(Set&lt;Song&gt; set) {\r\n            if ( set == null ) {\r\n                return null;\r\n            }\r\n    \r\n            Set&lt;SongDto&gt; set1 = new LinkedHashSet&lt;SongDto&gt;( Math.max( (int) ( set.size() / .75f ) + 1, 16 ) );\r\n            for ( Song song : set ) {\r\n                set1.add( songToSongDto( song ) );\r\n            }\r\n    \r\n            return set1;\r\n        }\r\n    \r\n        protected Song songDtoToSong(SongDto songDto) {\r\n            if ( songDto == null ) {\r\n                return null;\r\n            }\r\n    \r\n            Song song = new Song();\r\n    \r\n            song.setName( songDto.getName() );\r\n            song.setArtist( songDto.getArtist() );\r\n            song.setAlbum( songDto.getAlbum() );\r\n    \r\n            return song;\r\n        }\r\n    \r\n        protected Set&lt;Song&gt; songDtoSetToSongSet(Set&lt;SongDto&gt; set) {\r\n            if ( set == null ) {\r\n                return null;\r\n            }\r\n    \r\n            Set&lt;Song&gt; set1 = new LinkedHashSet&lt;Song&gt;( Math.max( (int) ( set.size() / .75f ) + 1, 16 ) );\r\n            for ( SongDto songDto : set ) {\r\n                set1.add( songDtoToSong( songDto ) );\r\n            }\r\n    \r\n            return set1;\r\n        }\r\n    }\r\n\r\n&lt;h4&gt; User MapperImpl&lt;/h4&gt; \r\n\r\n    @Generated(\r\n        value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\r\n        date = &quot;2023-04-04T11:16:25+0530&quot;,\r\n        comments = &quot;version: 1.5.3.Final, compiler: javac, environment: Java 19.0.2 (Oracle Corporation)&quot;\r\n    )\r\n    @Component\r\n    public class UserMapperImpl implements UserMapper {\r\n    \r\n        @Override\r\n        public UserDto usertoUserDto(User user) {\r\n            if ( user == null ) {\r\n                return null;\r\n            }\r\n    \r\n            UserDto userDto = new UserDto();\r\n    \r\n            userDto.setPlaylistsDto( playlistListToPlaylistDtoList( user.getPlaylists() ) );\r\n            userDto.setId( user.getId() );\r\n            userDto.setUsername( user.getUsername() );\r\n            userDto.setEmail( user.getEmail() );\r\n            userDto.setFirstname( user.getFirstname() );\r\n            userDto.setLastname( user.getLastname() );\r\n    \r\n            return userDto;\r\n        }\r\n    \r\n        @Override\r\n        public User userDtoToCustomer(UserDto userDto) {\r\n            if ( userDto == null ) {\r\n                return null;\r\n            }\r\n    \r\n            User user = new User();\r\n    \r\n            user.setPlaylists( playlistDtoListToPlaylistList( userDto.getPlaylistsDto() ) );\r\n            user.setUsername( userDto.getUsername() );\r\n            user.setEmail( userDto.getEmail() );\r\n            user.setFirstname( userDto.getFirstname() );\r\n            user.setLastname( userDto.getLastname() );\r\n    \r\n            return user;\r\n        }\r\n    \r\n        protected PlaylistDto playlistToPlaylistDto(Playlist playlist) {\r\n            if ( playlist == null ) {\r\n                return null;\r\n            }\r\n    \r\n            PlaylistDto playlistDto = new PlaylistDto();\r\n    \r\n            playlistDto.setId( playlist.getId() );\r\n            playlistDto.setName( playlist.getName() );\r\n            playlistDto.setDescription( playlist.getDescription() );\r\n    \r\n            return playlistDto;\r\n        }\r\n    \r\n        protected List&lt;PlaylistDto&gt; playlistListToPlaylistDtoList(List&lt;Playlist&gt; list) {\r\n            if ( list == null ) {\r\n                return null;\r\n            }\r\n    \r\n            List&lt;PlaylistDto&gt; list1 = new ArrayList&lt;PlaylistDto&gt;( list.size() );\r\n            for ( Playlist playlist : list ) {\r\n                list1.add( playlistToPlaylistDto( playlist ) );\r\n            }\r\n    \r\n            return list1;\r\n        }\r\n    \r\n        protected Playlist playlistDtoToPlaylist(PlaylistDto playlistDto) {\r\n            if ( playlistDto == null ) {\r\n                return null;\r\n            }\r\n    \r\n            Playlist playlist = new Playlist();\r\n    \r\n            playlist.setName( playlistDto.getName() );\r\n            playlist.setDescription( playlistDto.getDescription() );\r\n    \r\n            return playlist;\r\n        }\r\n    \r\n        protected List&lt;Playlist&gt; playlistDtoListToPlaylistList(List&lt;PlaylistDto&gt; list) {\r\n            if ( list == null ) {\r\n                return null;\r\n            }\r\n    \r\n            List&lt;Playlist&gt; list1 = new ArrayList&lt;Playlist&gt;( list.size() );\r\n            for ( PlaylistDto playlistDto : list ) {\r\n                list1.add( playlistDtoToPlaylist( playlistDto ) );\r\n            }\r\n    \r\n            return list1;\r\n        }\r\n    }\r\n\r\n&lt;hr&gt;\r\n&lt;h4&gt; The unexpected behavior &lt;/h4&gt;\r\nI have also setup controllers for retrieving the JSON objects for Playlists in database as well as Users in database. The endpoint for `GET playlists (DTOs)` gives the expected JSON object, since the **nested songDto field** doesn&#39;t return null for every playlist object, as you can see in the image below : &lt;br&gt; \r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/KC0Ae.png&quot; width=&quot;600&quot; /&gt;\r\n\r\nOn the contrary, for the endpoint with `GET request to fetch all users (DTOs)`, the **nested playlistDto field** seems to be working fine but the inner **nested songsDto field** return **null** for every userDto JSON object. This behavior shouldn&#39;t happen (as there are songs associated with some playlists which can be seen in the output of GET playlists endpoint&#39;s output). Below is an image for the JSON object for GET users request : \r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/al5dZ.png&quot; width=&quot;600&quot; /&gt;\r\n&lt;br&gt;\r\n\r\n&lt;b&gt; Why is this null value problem happening only while fetching all `UsersDto` but not when fetching all `playlistsDto` and how to fix this. &lt;/b&gt;","title":"MapStruct mapper not mapping nested DTOs properly","body":"<p><strong>ISSUE :</strong> Mapstruct mapper for <code>User DTO</code> not returning null value for a deeply nested DTO field in JSON (UserDto class has a PlaylistDto property, whereas PlaylistDto class itself consists a SongDto field).</p>\n<p><strong>Project OVREVIEW :</strong> I am having some trouble while mapping nested DTO field properly with mapstruct. I m working on a music streaming springBoot application which deals with several entities - <code>User</code> , <code>Playlist</code> and <code>Song</code>. There is one-to-many association between User and Playlist (User is the owning side) and a many-to-many association between Playlist (the owning side) and Song entities. The Entities are as follows :</p>\n<h4> User Entity </h4>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\n@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class,property = &quot;id&quot;)\n\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id ;\n\n    private String username ;\n    private String password ;\n    private String email ;\n    private String firstname ;\n    private String lastname ;\n\n    @OneToMany(\n            mappedBy = &quot;user&quot; ,\n            cascade = {CascadeType.PERSIST , CascadeType.MERGE} ,\n            orphanRemoval = true\n    )\n    private List&lt;Playlist&gt; playlists = new ArrayList&lt;&gt;() ;\n\n    // getters, setters and constructors ...\n} \n</code></pre>\n<h4> Playlist Entity</h4>\n<pre><code>@Entity\n@Table(name = &quot;playlist&quot;)\n@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class,property = &quot;id&quot;)\npublic class Playlist {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id ;\n\n    private String name ;\n    private String description ;\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User user ;\n\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n            name = &quot;playlist_song&quot; ,\n            joinColumns = {@JoinColumn(name = &quot;playlist_id&quot;)} ,\n            inverseJoinColumns = {@JoinColumn(name = &quot;song_id&quot;)}\n    )\n    private Set&lt;Song&gt; songs = new HashSet&lt;&gt;() ;\n\n    // getters, setters and constructors ...\n}\n</code></pre>\n<h4> Song Entity </h4>\n<pre><code>@Entity\n@Table(name = &quot;song&quot;)\n@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class,property = &quot;id&quot;)\npublic class Song {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id ;\n\n    private String name ;\n    private String artist ;\n    private String album ;\n    private Integer year ;\n    private String genre ;\n    private Integer duration ;\n\n    @ManyToMany(mappedBy = &quot;songs&quot;)\n    private Set&lt;Playlist&gt; playlists = new HashSet&lt;&gt;() ;\n\n    // getters, setters and constructors ...\n</code></pre>\n<hr>\nThe DTOs for the above entities are as follows : \n<h4> User DTO </h4>\n<pre><code>public class UserDto {\n    private Long id ;\n    private String username ;\n    private String email ;\n    private String firstname ;\n    private String lastname ;\n\n    private List&lt;PlaylistDto&gt; playlistsDto ;\n\n    // constructors\n    public UserDto() {\n    }\n\n    public UserDto(Long id, String username, String email, String firstname, String lastname, List&lt;PlaylistDto&gt; playlistsDto) {\n        this.id = id;\n        this.username = username;\n        this.email = email;\n        this.firstname = firstname;\n        this.lastname = lastname;\n        this.playlistsDto = playlistsDto;\n    }\n\n    // getters and setters ...\n}\n</code></pre>\n<h4> Playlist DTO </h4>\n<pre><code>public class PlaylistDto {\n    private Long id ;\n    private String name ;\n    private String description ;\n    private Set&lt;SongDto&gt; songsDto;\n\n    // constructors\n\n    public PlaylistDto() {\n    }\n\n    public PlaylistDto(Long id, String name, String description, Set&lt;SongDto&gt; songsDto) {\n        this.id = id;\n        this.name = name;\n        this.description = description;\n        this.songsDto = songsDto;\n    }\n\n    // getters &amp; setters\n}\n</code></pre>\n<h4> Song DTO </h4> \n<pre><code>public class SongDto {\n    private Long id ;\n    private String name ;\n    private String artist ;\n    private String album ;\n\n    // constructors\n\n    public SongDto() {\n    }\n\n    public SongDto(Long id, String name, String artist, String album) {\n        this.id = id;\n        this.name = name;\n        this.artist = artist;\n        this.album = album;\n    }\n\n    // getters &amp; setters\n}\n</code></pre>\n<hr>\n<p>Lastly, here are the mappers :</p>\n<pre><code>// User Mapper\n@Mapper(componentModel = &quot;spring&quot; , uses = {PlaylistDto.class , SongDto.class})\n@Component\npublic interface UserMapper {\n\n    UserMapper MAPPER = Mappers.getMapper(UserMapper.class);\n\n    @Mapping(source = &quot;playlists&quot;, target = &quot;playlistsDto&quot;)\n    UserDto usertoUserDto(User user) ;\n\n    @Mapping(source = &quot;playlistsDto&quot;, target = &quot;playlists&quot;)\n    User userDtoToCustomer(UserDto userDto) ;\n}\n\n\n// Playlist Mapper\n@Mapper(componentModel = &quot;spring&quot; , uses = {SongDto.class})\n@Component\npublic interface PlaylistMapper {\n\n    PlaylistMapper MAPPER = Mappers.getMapper(PlaylistMapper.class) ;\n    @Mapping(source = &quot;songs&quot; , target = &quot;songsDto&quot;)\n    PlaylistDto playlistToDto (Playlist entity) ;\n\n    @Mapping(source = &quot;songsDto&quot; , target = &quot;songs&quot;)\n    Playlist toEntity (PlaylistDto dto) ;\n}\n\n\n// Song Mapper \n@Mapper(componentModel = &quot;spring&quot;)\n@Component\npublic interface SongMapper {\n    SongMapper MAPPER = Mappers.getMapper(SongMapper.class) ;\n\n    SongDto songToDto (Song entity) ;\n\n    Song toEntity (SongDto dto) ;\n}\n</code></pre>\n<hr>\nThe mapstruct generated Mapper implementations:\n<h4> Playlist MapperImpl </h4>\n<pre><code>@Generated(\n    value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\n    date = &quot;2023-04-04T11:16:24+0530&quot;,\n    comments = &quot;version: 1.5.3.Final, compiler: javac, environment: Java 19.0.2 (Oracle Corporation)&quot;\n)\n@Component\npublic class PlaylistMapperImpl implements PlaylistMapper {\n\n    @Override\n    public PlaylistDto playlistToDto(Playlist entity) {\n        if ( entity == null ) {\n            return null;\n        }\n\n        PlaylistDto playlistDto = new PlaylistDto();\n\n        playlistDto.setSongsDto( songSetToSongDtoSet( entity.getSongs() ) );\n        playlistDto.setId( entity.getId() );\n        playlistDto.setName( entity.getName() );\n        playlistDto.setDescription( entity.getDescription() );\n\n        return playlistDto;\n    }\n\n    @Override\n    public Playlist toEntity(PlaylistDto dto) {\n        if ( dto == null ) {\n            return null;\n        }\n\n        Playlist playlist = new Playlist();\n\n        playlist.setSongs( songDtoSetToSongSet( dto.getSongsDto() ) );\n        playlist.setName( dto.getName() );\n        playlist.setDescription( dto.getDescription() );\n\n        return playlist;\n    }\n\n    protected SongDto songToSongDto(Song song) {\n        if ( song == null ) {\n            return null;\n        }\n\n        SongDto songDto = new SongDto();\n\n        songDto.setId( song.getId() );\n        songDto.setName( song.getName() );\n        songDto.setArtist( song.getArtist() );\n        songDto.setAlbum( song.getAlbum() );\n\n        return songDto;\n    }\n\n    protected Set&lt;SongDto&gt; songSetToSongDtoSet(Set&lt;Song&gt; set) {\n        if ( set == null ) {\n            return null;\n        }\n\n        Set&lt;SongDto&gt; set1 = new LinkedHashSet&lt;SongDto&gt;( Math.max( (int) ( set.size() / .75f ) + 1, 16 ) );\n        for ( Song song : set ) {\n            set1.add( songToSongDto( song ) );\n        }\n\n        return set1;\n    }\n\n    protected Song songDtoToSong(SongDto songDto) {\n        if ( songDto == null ) {\n            return null;\n        }\n\n        Song song = new Song();\n\n        song.setName( songDto.getName() );\n        song.setArtist( songDto.getArtist() );\n        song.setAlbum( songDto.getAlbum() );\n\n        return song;\n    }\n\n    protected Set&lt;Song&gt; songDtoSetToSongSet(Set&lt;SongDto&gt; set) {\n        if ( set == null ) {\n            return null;\n        }\n\n        Set&lt;Song&gt; set1 = new LinkedHashSet&lt;Song&gt;( Math.max( (int) ( set.size() / .75f ) + 1, 16 ) );\n        for ( SongDto songDto : set ) {\n            set1.add( songDtoToSong( songDto ) );\n        }\n\n        return set1;\n    }\n}\n</code></pre>\n<h4> User MapperImpl</h4> \n<pre><code>@Generated(\n    value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\n    date = &quot;2023-04-04T11:16:25+0530&quot;,\n    comments = &quot;version: 1.5.3.Final, compiler: javac, environment: Java 19.0.2 (Oracle Corporation)&quot;\n)\n@Component\npublic class UserMapperImpl implements UserMapper {\n\n    @Override\n    public UserDto usertoUserDto(User user) {\n        if ( user == null ) {\n            return null;\n        }\n\n        UserDto userDto = new UserDto();\n\n        userDto.setPlaylistsDto( playlistListToPlaylistDtoList( user.getPlaylists() ) );\n        userDto.setId( user.getId() );\n        userDto.setUsername( user.getUsername() );\n        userDto.setEmail( user.getEmail() );\n        userDto.setFirstname( user.getFirstname() );\n        userDto.setLastname( user.getLastname() );\n\n        return userDto;\n    }\n\n    @Override\n    public User userDtoToCustomer(UserDto userDto) {\n        if ( userDto == null ) {\n            return null;\n        }\n\n        User user = new User();\n\n        user.setPlaylists( playlistDtoListToPlaylistList( userDto.getPlaylistsDto() ) );\n        user.setUsername( userDto.getUsername() );\n        user.setEmail( userDto.getEmail() );\n        user.setFirstname( userDto.getFirstname() );\n        user.setLastname( userDto.getLastname() );\n\n        return user;\n    }\n\n    protected PlaylistDto playlistToPlaylistDto(Playlist playlist) {\n        if ( playlist == null ) {\n            return null;\n        }\n\n        PlaylistDto playlistDto = new PlaylistDto();\n\n        playlistDto.setId( playlist.getId() );\n        playlistDto.setName( playlist.getName() );\n        playlistDto.setDescription( playlist.getDescription() );\n\n        return playlistDto;\n    }\n\n    protected List&lt;PlaylistDto&gt; playlistListToPlaylistDtoList(List&lt;Playlist&gt; list) {\n        if ( list == null ) {\n            return null;\n        }\n\n        List&lt;PlaylistDto&gt; list1 = new ArrayList&lt;PlaylistDto&gt;( list.size() );\n        for ( Playlist playlist : list ) {\n            list1.add( playlistToPlaylistDto( playlist ) );\n        }\n\n        return list1;\n    }\n\n    protected Playlist playlistDtoToPlaylist(PlaylistDto playlistDto) {\n        if ( playlistDto == null ) {\n            return null;\n        }\n\n        Playlist playlist = new Playlist();\n\n        playlist.setName( playlistDto.getName() );\n        playlist.setDescription( playlistDto.getDescription() );\n\n        return playlist;\n    }\n\n    protected List&lt;Playlist&gt; playlistDtoListToPlaylistList(List&lt;PlaylistDto&gt; list) {\n        if ( list == null ) {\n            return null;\n        }\n\n        List&lt;Playlist&gt; list1 = new ArrayList&lt;Playlist&gt;( list.size() );\n        for ( PlaylistDto playlistDto : list ) {\n            list1.add( playlistDtoToPlaylist( playlistDto ) );\n        }\n\n        return list1;\n    }\n}\n</code></pre>\n<hr>\n<h4> The unexpected behavior </h4>\nI have also setup controllers for retrieving the JSON objects for Playlists in database as well as Users in database. The endpoint for `GET playlists (DTOs)` gives the expected JSON object, since the **nested songDto field** doesn't return null for every playlist object, as you can see in the image below : <br> \n<img src=\"https://i.stack.imgur.com/KC0Ae.png\" width=\"600\" />\n<p>On the contrary, for the endpoint with <code>GET request to fetch all users (DTOs)</code>, the <strong>nested playlistDto field</strong> seems to be working fine but the inner <strong>nested songsDto field</strong> return <strong>null</strong> for every userDto JSON object. This behavior shouldn't happen (as there are songs associated with some playlists which can be seen in the output of GET playlists endpoint's output). Below is an image for the JSON object for GET users request :</p>\n<img src=\"https://i.stack.imgur.com/al5dZ.png\" width=\"600\" />\n<br>\n<p><b> Why is this null value problem happening only while fetching all <code>UsersDto</code> but not when fetching all <code>playlistsDto</code> and how to fix this. </b></p>\n"},{"tags":["java","parameter-passing","static-methods","instance-methods"],"comments":[{"owner":{"account_id":15138451,"reputation":460,"user_id":12083015,"display_name":"Erwin"},"score":0,"creation_date":1680581457,"post_id":75925244,"comment_id":133918273,"body_markdown":"No you can&#39;t. I&#39;m not fully understand your question, but your code is wrong. You&#39;re not passing static variable as a parameter in that method, but you&#39;re assigning parameter value `ldriver` into the static variable.","body":"No you can&#39;t. I&#39;m not fully understand your question, but your code is wrong. You&#39;re not passing static variable as a parameter in that method, but you&#39;re assigning parameter value <code>ldriver</code> into the static variable."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1680614371,"post_id":75925244,"comment_id":133925264,"body_markdown":"You should follow the Java Naming Conventions. Class names should be written in PascalCase, and method or variable names in camelCase.","body":"You should follow the Java Naming Conventions. Class names should be written in PascalCase, and method or variable names in camelCase."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1680614639,"post_id":75925244,"comment_id":133925315,"body_markdown":"I&#39;m not sure what you mean. Could you provide a little more detail of what exactly you want to achieve? Nothing prevents you from passing a variable to a method, as long as they&#39;re in scope.","body":"I&#39;m not sure what you mean. Could you provide a little more detail of what exactly you want to achieve? Nothing prevents you from passing a variable to a method, as long as they&#39;re in scope."}],"owner":{"account_id":20882448,"reputation":9,"user_id":15339842,"display_name":"shivu2012"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680612977,"creation_date":1680578070,"question_id":75925244,"body_markdown":"Can we pass a static variable value as a parameter in an instance method in Java?\r\n\r\n```java\r\nstatic webdriver driver = webdriver.driver.chrome();\r\n\r\npublic void setup(webdriver ldriver) {\r\n  this.driver=ldriver;\r\n}\r\n```\r\n\r\nCan a pass static variable value to method?","title":"Passing Static variable value as a parameter in instance method","body":"<p>Can we pass a static variable value as a parameter in an instance method in Java?</p>\n<pre class=\"lang-java prettyprint-override\"><code>static webdriver driver = webdriver.driver.chrome();\n\npublic void setup(webdriver ldriver) {\n  this.driver=ldriver;\n}\n</code></pre>\n<p>Can a pass static variable value to method?</p>\n"},{"tags":["java","mysql","connection-pooling","proxysql","tomcat-jdbc"],"comments":[{"owner":{"account_id":12578778,"reputation":12323,"user_id":9150270,"display_name":"Sandra Rossi"},"score":0,"creation_date":1687847155,"post_id":75928807,"comment_id":134989841,"body_markdown":"Don&#39;t you mean MaxDB distributed by MySQL AG? (there&#39;s the tag [tag:MaxDB] which can be used instead of MySQL)","body":"Don&#39;t you mean MaxDB distributed by MySQL AG? (there&#39;s the tag <a href=\"https://stackoverflow.com/questions/tagged/maxdb\">maxdb</a> which can be used instead of MySQL)"}],"owner":{"account_id":2918128,"reputation":1303,"user_id":2500927,"accept_rate":30,"display_name":"Avyaan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680612833,"creation_date":1680607685,"question_id":75928807,"body_markdown":"Our application developed using java and mysql Db as a backend. for conenction pooling we have used tomcat-jdbc connection pooling where configured the maxActive connection size to 300. \r\nfrom last few days our application frequently reaching the maxdb connection size and at that time when we check the mysql processlist it shows that all the connections are in sleep state. almost for every connection sleep time is below 50 seconds and after that sleep time reset for same connection id.\r\n\r\nwe have also used proxy sql.","title":"How to track source of multiple sleep queries?","body":"<p>Our application developed using java and mysql Db as a backend. for conenction pooling we have used tomcat-jdbc connection pooling where configured the maxActive connection size to 300.\nfrom last few days our application frequently reaching the maxdb connection size and at that time when we check the mysql processlist it shows that all the connections are in sleep state. almost for every connection sleep time is below 50 seconds and after that sleep time reset for same connection id.</p>\n<p>we have also used proxy sql.</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa"],"owner":{"account_id":28210232,"reputation":21,"user_id":21562637,"display_name":"Artvd996"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680612801,"creation_date":1680592505,"question_id":75926481,"body_markdown":"I&#39;m so new with SpringBoot, this is the way why i need your help.\r\n\r\nI have following entity class which I want to insert in table:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;test&quot;)\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@DynamicInsert\r\npublic class TestEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;promotion_id&quot;)\r\n    private Long promotion_id;\r\n\r\n    @Column(name = &quot;period&quot;)\r\n    private String period;\r\n\r\n    @Column(name = &quot;limit_amount&quot;)\r\n    private Long limit_amount;\r\n}\r\n```\r\n\r\nI have multiple objects of Test and I want to insert it to the table. For this I have created a repo class:\r\n\r\n```\r\n@Repository\r\npublic interface TestRepository extends JpaRepository&lt;TestEntity, Long&gt; {\r\n\r\n    List&lt;TestEntity&gt; findFirstById (Long id);\r\n}\r\n```\r\n\r\nAnd after that i created other util-class for easy-work with my test:\r\n\r\n\r\n```\r\n@Service\r\npublic class TestUtil {\r\n\r\n    @Autowired\r\n    private TestRepository testRepository;\r\n\r\n    public void InsertRow(Long promotion_id, String period, Long amount) {\r\n        TestEntity tab = new TestEntity();\r\n\r\n        tab.setPromotion_id(promotion_id);\r\n        tab.setPeriod(period);\r\n        tab.setLimit_amount(amount);\r\n\r\n        testRepository.save(tab);\r\n    }\r\n}\r\n```\r\nAnd finally i create small test to check how it works:\r\n\r\n\r\n```\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest(classes = TestContainerApplication.class)\r\npublic class TestExample extends ContainersEnviroment {\r\n\r\n    private static Long promotion_id = 1L;\r\n    private static String period = &quot;MONTH&quot;;\r\n    private static Long amount = 100L;\r\n\r\n    @Autowired\r\n    public TestRepository TestRepository;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        TestUtil util = new TestUtil();\r\n        util.InsertRow(promotion_id, period, amount);\r\n    }\r\n\r\n    @Test\r\n    public void TestExample() {\r\n        //code\r\n}\r\n```\r\nAnd I use TestContainers with test database from my server using application.yaml\r\n\r\nProblem:\r\nWhen I try to insert something inside my table, i have NPE \r\n```\r\nCannot invoke &quot;ru.at.database.dao.TestRepository.save(Object)&quot; because &quot;this.TestRepository&quot; is null\r\njava.lang.NullPointerException: Cannot invoke &quot;ru.at.database.dao.TestRepository.save(Object)&quot; because &quot;this.TestRepository&quot; is null\r\n```\r\n\t\r\nI think that i cant Autowired TestRepository from @Test, but i don&#39;t know how to fix it.\r\n\r\n\r\nI try to declare @DataJpaTest in my TestClass, but it still doesn&#39;t work, cause i have another error\r\n\r\n```\r\nCaused by: java.lang.IllegalStateException: Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.\r\n\r\n```\r\n","title":"Insert a new row using JpaRepository from self-made util in java","body":"<p>I'm so new with SpringBoot, this is the way why i need your help.</p>\n<p>I have following entity class which I want to insert in table:</p>\n<pre><code>@Entity\n@Table(name = &quot;test&quot;)\n@NoArgsConstructor\n@Getter\n@Setter\n@DynamicInsert\npublic class TestEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;promotion_id&quot;)\n    private Long promotion_id;\n\n    @Column(name = &quot;period&quot;)\n    private String period;\n\n    @Column(name = &quot;limit_amount&quot;)\n    private Long limit_amount;\n}\n</code></pre>\n<p>I have multiple objects of Test and I want to insert it to the table. For this I have created a repo class:</p>\n<pre><code>@Repository\npublic interface TestRepository extends JpaRepository&lt;TestEntity, Long&gt; {\n\n    List&lt;TestEntity&gt; findFirstById (Long id);\n}\n</code></pre>\n<p>And after that i created other util-class for easy-work with my test:</p>\n<pre><code>@Service\npublic class TestUtil {\n\n    @Autowired\n    private TestRepository testRepository;\n\n    public void InsertRow(Long promotion_id, String period, Long amount) {\n        TestEntity tab = new TestEntity();\n\n        tab.setPromotion_id(promotion_id);\n        tab.setPeriod(period);\n        tab.setLimit_amount(amount);\n\n        testRepository.save(tab);\n    }\n}\n</code></pre>\n<p>And finally i create small test to check how it works:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest(classes = TestContainerApplication.class)\npublic class TestExample extends ContainersEnviroment {\n\n    private static Long promotion_id = 1L;\n    private static String period = &quot;MONTH&quot;;\n    private static Long amount = 100L;\n\n    @Autowired\n    public TestRepository TestRepository;\n\n    @BeforeEach\n    void setUp() {\n        TestUtil util = new TestUtil();\n        util.InsertRow(promotion_id, period, amount);\n    }\n\n    @Test\n    public void TestExample() {\n        //code\n}\n</code></pre>\n<p>And I use TestContainers with test database from my server using application.yaml</p>\n<p>Problem:\nWhen I try to insert something inside my table, i have NPE</p>\n<pre><code>Cannot invoke &quot;ru.at.database.dao.TestRepository.save(Object)&quot; because &quot;this.TestRepository&quot; is null\njava.lang.NullPointerException: Cannot invoke &quot;ru.at.database.dao.TestRepository.save(Object)&quot; because &quot;this.TestRepository&quot; is null\n</code></pre>\n<p>I think that i cant Autowired TestRepository from @Test, but i don't know how to fix it.</p>\n<p>I try to declare @DataJpaTest in my TestClass, but it still doesn't work, cause i have another error</p>\n<pre><code>Caused by: java.lang.IllegalStateException: Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1574259553,"post_id":58956460,"comment_id":104168543,"body_markdown":"How did you try to read the data? Can you please show the code?","body":"How did you try to read the data? Can you please show the code?"},{"owner":{"account_id":191280,"reputation":15745,"user_id":431769,"accept_rate":78,"display_name":"hudi"},"score":0,"creation_date":1574259659,"post_id":58956460,"comment_id":104168629,"body_markdown":"it is spring-boot application which reads data from this file by default. It is spring-boot feature","body":"it is spring-boot application which reads data from this file by default. It is spring-boot feature"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1574263443,"post_id":58956460,"comment_id":104171099,"body_markdown":"How have you set it up? Can you show the feature configuration? There is a type mismatch, obviously... From your property sample, I can only imagine `111` being parsed as `String` and then it is tried to be put into a `Map&lt;String, Integer&gt;` as value.","body":"How have you set it up? Can you show the feature configuration? There is a type mismatch, obviously... From your property sample, I can only imagine <code>111</code> being parsed as <code>String</code> and then it is tried to be put into a <code>Map&lt;String, Integer&gt;</code> as value."},{"owner":{"account_id":4867663,"reputation":1326,"user_id":3925319,"display_name":"Joe"},"score":0,"creation_date":1574267644,"post_id":58956460,"comment_id":104173681,"body_markdown":"The way properties stores data initially is all strings, so you are trying to cast the values of Map&lt;String, String&gt; to Map&lt;String, Integer&gt;, you&#39;ll have to manually convert them by using Integer.parseInt","body":"The way properties stores data initially is all strings, so you are trying to cast the values of Map&lt;String, String&gt; to Map&lt;String, Integer&gt;, you&#39;ll have to manually convert them by using Integer.parseInt"}],"answers":[{"tags":[],"owner":{"account_id":191280,"reputation":15745,"user_id":431769,"accept_rate":78,"display_name":"hudi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574333621,"creation_date":1574333621,"answer_id":58973219,"question_id":58956460,"body_markdown":"I dont know why there is so negative votes for this question.\r\nBut all I need to do is just upgrade spring boot version.\r\n\r\nI was using version  2.1.1.RELEASE \r\nbut with version 2.2.1.RELEASE it can parse also Integer in map. Then I just follow this [example][1] for nested map mapping \r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-booT/wiki/Spring-Boot-Configuration-Binding","title":"How to pass a map&lt;String,Map&lt;String,Integer&gt;&gt; with application.properties","body":"<p>I dont know why there is so negative votes for this question.\nBut all I need to do is just upgrade spring boot version.</p>\n\n<p>I was using version  2.1.1.RELEASE \nbut with version 2.2.1.RELEASE it can parse also Integer in map. Then I just follow this <a href=\"https://github.com/spring-projects/spring-booT/wiki/Spring-Boot-Configuration-Binding\" rel=\"nofollow noreferrer\">example</a> for nested map mapping </p>\n"},{"tags":[],"owner":{"account_id":27961527,"reputation":1,"user_id":21353199,"display_name":"Mahesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680612786,"creation_date":1680172741,"answer_id":75887165,"question_id":58956460,"body_markdown":"Please try to use the below pattern to support \r\n\r\n`Map&lt;String,Map&lt;String,Integer&gt;&gt;` format in \r\n\r\n`application.properties` file\r\n\r\n    personsInfo={&#39;mahesh&#39;:{&#39;age&#39;, 25}}","title":"How to pass a map&lt;String,Map&lt;String,Integer&gt;&gt; with application.properties","body":"<p>Please try to use the below pattern to support</p>\n<p><code>Map&lt;String,Map&lt;String,Integer&gt;&gt;</code> format in</p>\n<p><code>application.properties</code> file</p>\n<pre><code>personsInfo={'mahesh':{'age', 25}}\n</code></pre>\n"}],"owner":{"account_id":191280,"reputation":15745,"user_id":431769,"accept_rate":78,"display_name":"hudi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":770,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1680612786,"creation_date":1574259400,"question_id":58956460,"body_markdown":"when I have in application.properties:\r\n\r\n    config.map-of-map.Key1.Key2=111\r\n\r\nthis can not be match to variable:\r\n\r\n    Map&lt;String, Map&lt;String, Integer&gt;&gt; mapOfMap;\r\n\r\nwhat is part of class\r\n\r\n    @ConfigurationProperties(prefix = &quot;config&quot;)\r\n    public MyClass getMyClass() {\r\n        return new MyClass();\r\n    }\r\n\r\n\r\nwhen I want to read data from this map I read String instead of Integer and get Exception:\r\n\r\n    Caused by: java.lang.ClassCastException: java.lang.String cannot be cast to java.lang.Integer\r\n\r\nis there some way how to force it to Integer ?\r\n\r\n","title":"How to pass a map&lt;String,Map&lt;String,Integer&gt;&gt; with application.properties","body":"<p>when I have in application.properties:</p>\n\n<pre><code>config.map-of-map.Key1.Key2=111\n</code></pre>\n\n<p>this can not be match to variable:</p>\n\n<pre><code>Map&lt;String, Map&lt;String, Integer&gt;&gt; mapOfMap;\n</code></pre>\n\n<p>what is part of class</p>\n\n<pre><code>@ConfigurationProperties(prefix = \"config\")\npublic MyClass getMyClass() {\n    return new MyClass();\n}\n</code></pre>\n\n<p>when I want to read data from this map I read String instead of Integer and get Exception:</p>\n\n<pre><code>Caused by: java.lang.ClassCastException: java.lang.String cannot be cast to java.lang.Integer\n</code></pre>\n\n<p>is there some way how to force it to Integer ?</p>\n"},{"tags":["java","postgresql","spring-boot","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":21576356,"reputation":16,"user_id":15908421,"display_name":"Alexander Zolotarev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680171820,"creation_date":1680171820,"answer_id":75886998,"question_id":75886883,"body_markdown":"If you follow the principles of programming and system flexibility, then for similar entities with common properties it is always better to have a parent, and in this case, in fact, all three entities are users, I would advise using the base class, since in the future this can help make the system more flexible (for example, changing the user&#39;s password, changing the name, and so on)","title":"I Have 3 Entity (User, Trainer, Admin). Do you think I need the baseUser repository?","body":"<p>If you follow the principles of programming and system flexibility, then for similar entities with common properties it is always better to have a parent, and in this case, in fact, all three entities are users, I would advise using the base class, since in the future this can help make the system more flexible (for example, changing the user's password, changing the name, and so on)</p>\n"}],"owner":{"account_id":22711688,"reputation":25,"user_id":16877562,"display_name":"salagoz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75886998,"answer_count":1,"score":1,"last_activity_date":1680612587,"creation_date":1680171184,"question_id":75886883,"body_markdown":"I want to build an example application like Udemy. And i have 3 entities (User, Trainer, Admin). I try to make my application according to some conditions that I mentioned below\r\n\r\n- Users can pay for and purchase the course (Enroll). Non-user instructors and admins cannot buy training.\r\n\r\n\r\n\r\nAs I said before, I have 3 Entities and 3 Repositories. I have tried two ways to solve it, both successful, but I can&#39;t choose which is the best use.\r\n\r\n- The first way is separating entities. By doing so, when there is no user in the user repository with userId, I am sure that this userId does not correspond to a user or that it is not a user (it can be trainer or admin or none of them)\r\n\r\n- The second way is inheritance. I created a BaseUser class\r\n\r\n```\r\npublic abstract class BaseUser extends BaseEntity {\r\nprivate String name;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    private EUserRole role;\r\n\r\n}\r\n```\r\n\r\nand I created BaseUserRepository that UserRepository, AdminRepository, and TrainerRepository inherit.\r\n\r\n```\r\npublic interface BaseUserRepository&lt;T extends BaseUser&gt; extends JpaRepository&lt;T, UUID&gt; { }\r\n```\r\n\r\nand I have used this repository in my enrollment service.\r\n\r\n```\r\nUser user = baseUserRepository.findById(userId)\r\n       .filter(u -&gt; u.getRole() == EUserRole.USER)\r\n       .map(u -&gt; (User) u)\r\n       .orElseThrow(() -&gt; new RuntimeException(&quot;User not found or not authorized&quot;));\r\n```\r\n\r\nWhich method do you think I should use? I am so confused...","title":"I Have 3 Entity (User, Trainer, Admin). Do you think I need the baseUser repository?","body":"<p>I want to build an example application like Udemy. And i have 3 entities (User, Trainer, Admin). I try to make my application according to some conditions that I mentioned below</p>\n<ul>\n<li>Users can pay for and purchase the course (Enroll). Non-user instructors and admins cannot buy training.</li>\n</ul>\n<p>As I said before, I have 3 Entities and 3 Repositories. I have tried two ways to solve it, both successful, but I can't choose which is the best use.</p>\n<ul>\n<li><p>The first way is separating entities. By doing so, when there is no user in the user repository with userId, I am sure that this userId does not correspond to a user or that it is not a user (it can be trainer or admin or none of them)</p>\n</li>\n<li><p>The second way is inheritance. I created a BaseUser class</p>\n</li>\n</ul>\n<pre><code>public abstract class BaseUser extends BaseEntity {\nprivate String name;\n\n    @Enumerated(EnumType.STRING)\n    private EUserRole role;\n\n}\n</code></pre>\n<p>and I created BaseUserRepository that UserRepository, AdminRepository, and TrainerRepository inherit.</p>\n<pre><code>public interface BaseUserRepository&lt;T extends BaseUser&gt; extends JpaRepository&lt;T, UUID&gt; { }\n</code></pre>\n<p>and I have used this repository in my enrollment service.</p>\n<pre><code>User user = baseUserRepository.findById(userId)\n       .filter(u -&gt; u.getRole() == EUserRole.USER)\n       .map(u -&gt; (User) u)\n       .orElseThrow(() -&gt; new RuntimeException(&quot;User not found or not authorized&quot;));\n</code></pre>\n<p>Which method do you think I should use? I am so confused...</p>\n"},{"tags":["java","csv","extract","text-extraction"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1680586567,"post_id":75925781,"comment_id":133918887,"body_markdown":"for one, you can cut out unnecessary method calls by using a regular for loop, and moving the type = split[0] inside the for loop `if (i ==0) { type = split[0]; continue; }` I&#39;m pretty sure the contains() method is O(N) for however long the string is, so avoiding 3 more extra calls of contains() should help","body":"for one, you can cut out unnecessary method calls by using a regular for loop, and moving the type = split[0] inside the for loop <code>if (i ==0) { type = split[0]; continue; }</code> I&#39;m pretty sure the contains() method is O(N) for however long the string is, so avoiding 3 more extra calls of contains() should help"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":2,"creation_date":1680586657,"post_id":75925781,"comment_id":133918905,"body_markdown":"This is also probably not the site for this, and you should try codereview.com. Also, dont delete your previous question and repost a new one.","body":"This is also probably not the site for this, and you should try codereview.com. Also, dont delete your previous question and repost a new one."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1680586998,"post_id":75925781,"comment_id":133918935,"body_markdown":"*each of your if statements should have a `continue;` to prevent extra calls of `.contains()`","body":"*each of your if statements should have a <code>continue;</code> to prevent extra calls of <code>.contains()</code>"}],"answers":[{"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1680597769,"post_id":75926672,"comment_id":133921091,"body_markdown":"just curious, but would the regex account for if the name age and city are out of order?","body":"just curious, but would the regex account for if the name age and city are out of order?"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1680598215,"post_id":75926672,"comment_id":133921184,"body_markdown":"probably not, feel free to run the test locally and twitch the regex","body":"probably not, feel free to run the test locally and twitch the regex"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1680598264,"post_id":75926672,"comment_id":133921206,"body_markdown":"ooo. i m not very good with regex, so I refrain from doing any overly complicated regex haha. thanks anyway","body":"ooo. i m not very good with regex, so I refrain from doing any overly complicated regex haha. thanks anyway"}],"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680593827,"creation_date":1680593827,"answer_id":75926672,"question_id":75925781,"body_markdown":"If the structure of the file is not going to change, you can use a regex for this.\r\n\r\n    @Test\r\n    void parse() {\r\n    \tString text = &quot;&quot;&quot;\r\n    \t\t\tstudent name=james age=13 city=toronto\r\n    \t\t\tteacher name=joe age=31 city=chicago\r\n    \t\t\tstudent age=21 city=paris\r\n    \t\t\t&quot;&quot;&quot;;\r\n    \r\n    \tString regex = &quot;(student|teacher)\\\\s+(name=(\\\\w+)\\\\s+)?age=(\\\\d+)\\\\s+city=(\\\\w+)&quot;;\r\n    \tPattern pattern = Pattern.compile(regex);\r\n    \r\n    \tList&lt;MyPOJO&gt; pojos = pattern.matcher(text)\r\n    \t\t\t.results()\r\n    \t\t\t.map(match -&gt; new MyPOJO(\r\n    \t\t\t\t\tmatch.group(1),\r\n    \t\t\t\t\tmatch.group(3),\r\n    \t\t\t\t\tInteger.parseInt(match.group(4)),\r\n    \t\t\t\t\tmatch.group(5)\r\n    \t\t\t))\r\n    \t\t\t.toList();\r\n    \r\n    \tSystem.out.println(pojos);\r\n    }\r\n\r\nbriefly, this is what the regex is looking for:\r\n\r\n`(student|teacher)` matches either &quot;student&quot; or &quot;teacher&quot;;\r\n\r\n`\\s+` matches one or more whitespace characters;\r\n\r\n`(name=(\\w+)\\s+)?` is an optional group that matches &quot;name=&quot; followed by one or more word characters, followed by one or more whitespace characters;\r\n\r\n`age=(\\d+)` matches &quot;age=&quot; followed by one or more digits;\r\n\r\n\r\nyou can read more about regex here: https://www.baeldung.com/regular-expressions-java\r\n","title":"Extract specific string from Java without using grep or split","body":"<p>If the structure of the file is not going to change, you can use a regex for this.</p>\n<pre><code>@Test\nvoid parse() {\n    String text = &quot;&quot;&quot;\n            student name=james age=13 city=toronto\n            teacher name=joe age=31 city=chicago\n            student age=21 city=paris\n            &quot;&quot;&quot;;\n\n    String regex = &quot;(student|teacher)\\\\s+(name=(\\\\w+)\\\\s+)?age=(\\\\d+)\\\\s+city=(\\\\w+)&quot;;\n    Pattern pattern = Pattern.compile(regex);\n\n    List&lt;MyPOJO&gt; pojos = pattern.matcher(text)\n            .results()\n            .map(match -&gt; new MyPOJO(\n                    match.group(1),\n                    match.group(3),\n                    Integer.parseInt(match.group(4)),\n                    match.group(5)\n            ))\n            .toList();\n\n    System.out.println(pojos);\n}\n</code></pre>\n<p>briefly, this is what the regex is looking for:</p>\n<p><code>(student|teacher)</code> matches either &quot;student&quot; or &quot;teacher&quot;;</p>\n<p><code>\\s+</code> matches one or more whitespace characters;</p>\n<p><code>(name=(\\w+)\\s+)?</code> is an optional group that matches &quot;name=&quot; followed by one or more word characters, followed by one or more whitespace characters;</p>\n<p><code>age=(\\d+)</code> matches &quot;age=&quot; followed by one or more digits;</p>\n<p>you can read more about regex here: <a href=\"https://www.baeldung.com/regular-expressions-java\" rel=\"nofollow noreferrer\">https://www.baeldung.com/regular-expressions-java</a></p>\n"},{"tags":[],"owner":{"account_id":1564360,"reputation":1462,"user_id":1453475,"accept_rate":65,"display_name":"mostafa.S"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680612318,"creation_date":1680612318,"answer_id":75929556,"question_id":75925781,"body_markdown":"If you could possibly not use the POJO and consider all the values as String, then following would be an efficient implementation.\r\n\r\n    public static Map&lt;String, String&gt; extract(String line) {\r\n        Map&lt;String, String&gt; parsedLine = new HashMap&lt;String, String&gt;();\r\n        String[] allTokens = line.split(&quot; &quot;);\r\n        parsedLine.put(&quot;type&quot;, allTokens[0]);\r\n        for (int index = 1; index &lt; allTokens.length; index++) {\r\n            String[] tokenParts = allTokens[index].split(&quot;=&quot;);\r\n            parsedLine.put(tokenParts[0], tokenParts[1]);\r\n        }\r\n        return parsedLine;\r\n    }\r\n\r\n","title":"Extract specific string from Java without using grep or split","body":"<p>If you could possibly not use the POJO and consider all the values as String, then following would be an efficient implementation.</p>\n<pre><code>public static Map&lt;String, String&gt; extract(String line) {\n    Map&lt;String, String&gt; parsedLine = new HashMap&lt;String, String&gt;();\n    String[] allTokens = line.split(&quot; &quot;);\n    parsedLine.put(&quot;type&quot;, allTokens[0]);\n    for (int index = 1; index &lt; allTokens.length; index++) {\n        String[] tokenParts = allTokens[index].split(&quot;=&quot;);\n        parsedLine.put(tokenParts[0], tokenParts[1]);\n    }\n    return parsedLine;\n}\n</code></pre>\n"}],"owner":{"account_id":4530178,"reputation":700,"user_id":3687705,"accept_rate":92,"display_name":"gkmohit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1680612318,"creation_date":1680585968,"question_id":75925781,"body_markdown":"I am trying to extract variables and their values from a large file. \r\nThe file has thousands of rows, and may or may not contain some values. Here is a sample file\r\n\r\n```\r\nstudent name=james age=13 city=toronto\r\nteacher name=joe age=31 city=chicago\r\nstudent age=21 city=paris\r\n```\r\n\r\nI am trying to extract the variable name and its value using Java. In other words, I want to get `type`, `name`, `age`, and `city`\r\n\r\nHere is my Java Pojo\r\n\r\n```\r\npublic class MyPOJO {\r\n    private String type;\r\n    private String name;\r\n    private int age;\r\n    private String city;\r\n\r\n    public MyPOJO(String type, String name, int age, String city) {\r\n        this.type = type;\r\n        this.name = name;\r\n        this.age = age;\r\n        this.city = city;\r\n    }\r\n    //Getters and setters below\r\n}\r\n```\r\n\r\nMy problem or question is what is the best way to do this? I do not want to use grep as the content of this file may change. I would rather use something like Pojo class to extract the values. \r\n\r\n----\r\nMy current solution uses String split, but I am looking for a more efficient method.\r\n```\r\npublic MyPOJO extract(String line){\r\n    String[] split = line.split(&quot; &quot;);\r\n    String type, name, city;\r\n    int age;\r\n    type = split[0];\r\n    for(String s : split){\r\n        if(s.contains(&quot;name&quot;){\r\n            name = s.split(&quot;=&quot;)[1];\r\n        }\r\n        if(s.contains(&quot;city&quot;){\r\n            name = s.split(&quot;=&quot;)[1];\r\n        }\r\n        if(s.contains(&quot;age&quot;){\r\n            age = Integer.parseInt(s.split(&quot;=&quot;)[1]);\r\n        }\r\n    }\r\n}\r\n```","title":"Extract specific string from Java without using grep or split","body":"<p>I am trying to extract variables and their values from a large file.\nThe file has thousands of rows, and may or may not contain some values. Here is a sample file</p>\n<pre><code>student name=james age=13 city=toronto\nteacher name=joe age=31 city=chicago\nstudent age=21 city=paris\n</code></pre>\n<p>I am trying to extract the variable name and its value using Java. In other words, I want to get <code>type</code>, <code>name</code>, <code>age</code>, and <code>city</code></p>\n<p>Here is my Java Pojo</p>\n<pre><code>public class MyPOJO {\n    private String type;\n    private String name;\n    private int age;\n    private String city;\n\n    public MyPOJO(String type, String name, int age, String city) {\n        this.type = type;\n        this.name = name;\n        this.age = age;\n        this.city = city;\n    }\n    //Getters and setters below\n}\n</code></pre>\n<p>My problem or question is what is the best way to do this? I do not want to use grep as the content of this file may change. I would rather use something like Pojo class to extract the values.</p>\n<hr />\n<p>My current solution uses String split, but I am looking for a more efficient method.</p>\n<pre><code>public MyPOJO extract(String line){\n    String[] split = line.split(&quot; &quot;);\n    String type, name, city;\n    int age;\n    type = split[0];\n    for(String s : split){\n        if(s.contains(&quot;name&quot;){\n            name = s.split(&quot;=&quot;)[1];\n        }\n        if(s.contains(&quot;city&quot;){\n            name = s.split(&quot;=&quot;)[1];\n        }\n        if(s.contains(&quot;age&quot;){\n            age = Integer.parseInt(s.split(&quot;=&quot;)[1]);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin","opencv"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1680611185,"post_id":75929271,"comment_id":133924393,"body_markdown":"If you&#39;re just referencing all the same pixels of the whole Mat, why make a new Mat instance at all instead of just passing the same Mat instance to the other class?","body":"If you&#39;re just referencing all the same pixels of the whole Mat, why make a new Mat instance at all instead of just passing the same Mat instance to the other class?"},{"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"score":1,"creation_date":1680612124,"post_id":75929271,"comment_id":133924655,"body_markdown":"Because if the `Mat` is released in one place, the other code also no longer has access to the data. Therefore, if I pass the same instance of `Mat` along, I need to keep track of where it is used to not release it while it is still in use somewhere while not keeping it in memory longer than it needs to be to avoid memory leaks.","body":"Because if the <code>Mat</code> is released in one place, the other code also no longer has access to the data. Therefore, if I pass the same instance of <code>Mat</code> along, I need to keep track of where it is used to not release it while it is still in use somewhere while not keeping it in memory longer than it needs to be to avoid memory leaks."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1680612670,"post_id":75929271,"comment_id":133924806,"body_markdown":"Ah, that makes sense. That&#39;s a shame that it doesn&#39;t keep track of the references it&#39;s been handing out, but I guess it&#39;s not a Java-first library so it&#39;s not designed for that.","body":"Ah, that makes sense. That&#39;s a shame that it doesn&#39;t keep track of the references it&#39;s been handing out, but I guess it&#39;s not a Java-first library so it&#39;s not designed for that."},{"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"score":0,"creation_date":1680617208,"post_id":75929271,"comment_id":133926059,"body_markdown":"Well, yes, it is, but in native code. As discussed in [this question](https://stackoverflow.com/questions/70127126/what-happens-to-submats-if-the-original-mat-is-released), OpenCV indeed does reference counting, but because it has no idea about Java&#39;s GC, the user has to tell it when it is safe to release a reference. The actual memory will only be released though when all references are gone.","body":"Well, yes, it is, but in native code. As discussed in <a href=\"https://stackoverflow.com/questions/70127126/what-happens-to-submats-if-the-original-mat-is-released\">this question</a>, OpenCV indeed does reference counting, but because it has no idea about Java&#39;s GC, the user has to tell it when it is safe to release a reference. The actual memory will only be released though when all references are gone."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1680617673,"post_id":75929271,"comment_id":133926183,"body_markdown":"So it&#39;s not decrementing its native reference counting when `finalize` is called in a class instance? I would have expected them to have `finalize()` call `release()` in case the user misses calling it.","body":"So it&#39;s not decrementing its native reference counting when <code>finalize</code> is called in a class instance? I would have expected them to have <code>finalize()</code> call <code>release()</code> in case the user misses calling it."}],"answers":[{"tags":[],"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680612286,"creation_date":1680612286,"answer_id":75929549,"question_id":75929271,"body_markdown":"After looking into the source code of `Mat.java` it seems that there&#39;s one constructor of `Mat` that does exactly what I want:\r\n\r\n```java\r\npublic Mat(Mat m, Rect roi) {\r\n    this.nativeObj = n_Mat(m.nativeObj, roi.y, roi.y + roi.height, roi.x, roi.x + roi.width);\r\n}\r\n```\r\n\r\nThis constructor also exists for all subclasses, except that those do not take a roi. I therefore modified my function as follows:\r\n\r\n```kotlin\r\n@Suppress(&quot;UNCHECKED_CAST&quot;)\r\nfun &lt;T : Mat&gt; T.copyByReference(): T = when (this) {\r\n    is MatOfByte -&gt; MatOfByte(this)\r\n    is MatOfDMatch -&gt; MatOfDMatch(this)\r\n    is MatOfDouble -&gt; MatOfDouble(this)\r\n    is MatOfFloat -&gt; MatOfFloat(this)\r\n    is MatOfFloat4 -&gt; MatOfFloat4(this)\r\n    is MatOfFloat6 -&gt; MatOfFloat6(this)\r\n    is MatOfInt -&gt; MatOfInt(this)\r\n    is MatOfInt4 -&gt; MatOfInt4(this)\r\n    is MatOfKeyPoint -&gt; MatOfKeyPoint(this)\r\n    is MatOfPoint -&gt; MatOfPoint(this)\r\n    is MatOfPoint2f -&gt; MatOfPoint2f(this)\r\n    is MatOfPoint3 -&gt; MatOfPoint3(this)\r\n    is MatOfPoint3f -&gt; MatOfPoint3f(this)\r\n    is MatOfRect -&gt; MatOfRect(this)\r\n    is MatOfRect2d -&gt; MatOfRect2d(this)\r\n    is MatOfRotatedRect -&gt; MatOfRotatedRect(this)\r\n    else -&gt; Mat(this, Rect(0, 0, cols(), rows()))\r\n} as T\r\n```","title":"Copy Mat by reference","body":"<p>After looking into the source code of <code>Mat.java</code> it seems that there's one constructor of <code>Mat</code> that does exactly what I want:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Mat(Mat m, Rect roi) {\n    this.nativeObj = n_Mat(m.nativeObj, roi.y, roi.y + roi.height, roi.x, roi.x + roi.width);\n}\n</code></pre>\n<p>This constructor also exists for all subclasses, except that those do not take a roi. I therefore modified my function as follows:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Suppress(&quot;UNCHECKED_CAST&quot;)\nfun &lt;T : Mat&gt; T.copyByReference(): T = when (this) {\n    is MatOfByte -&gt; MatOfByte(this)\n    is MatOfDMatch -&gt; MatOfDMatch(this)\n    is MatOfDouble -&gt; MatOfDouble(this)\n    is MatOfFloat -&gt; MatOfFloat(this)\n    is MatOfFloat4 -&gt; MatOfFloat4(this)\n    is MatOfFloat6 -&gt; MatOfFloat6(this)\n    is MatOfInt -&gt; MatOfInt(this)\n    is MatOfInt4 -&gt; MatOfInt4(this)\n    is MatOfKeyPoint -&gt; MatOfKeyPoint(this)\n    is MatOfPoint -&gt; MatOfPoint(this)\n    is MatOfPoint2f -&gt; MatOfPoint2f(this)\n    is MatOfPoint3 -&gt; MatOfPoint3(this)\n    is MatOfPoint3f -&gt; MatOfPoint3f(this)\n    is MatOfRect -&gt; MatOfRect(this)\n    is MatOfRect2d -&gt; MatOfRect2d(this)\n    is MatOfRotatedRect -&gt; MatOfRotatedRect(this)\n    else -&gt; Mat(this, Rect(0, 0, cols(), rows()))\n} as T\n</code></pre>\n"}],"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75929549,"answer_count":1,"score":0,"last_activity_date":1680612286,"creation_date":1680610375,"question_id":75929271,"body_markdown":"I am using OpenCV for Java in one of my projects. I have some image data in memory in a `Mat` and would like to create a second reference pointing to the same native memory (i.e. copy the `Mat` by reference). The background is that I am using the `Mat` at multiple places and want all instances to point to the same data while allowing all usages to `release()` their references once they are done using them to avoid memory leaks.\r\n\r\nCurrently, I am doing this as follows:\r\n\r\n```kotlin\r\nfun Mat.copyByReference(): Mat = this.submat(0, rows(), 0, cols())\r\n```\r\n\r\nThis works fine, but not for subclasses of `Mat` (like e.g. `MatOfKeyPoint`) because `submat()` always returns a `Mat`. My question is therefore whether there&#39;s a suitable way to achieve this for all subclasses of `Mat`.","title":"Copy Mat by reference","body":"<p>I am using OpenCV for Java in one of my projects. I have some image data in memory in a <code>Mat</code> and would like to create a second reference pointing to the same native memory (i.e. copy the <code>Mat</code> by reference). The background is that I am using the <code>Mat</code> at multiple places and want all instances to point to the same data while allowing all usages to <code>release()</code> their references once they are done using them to avoid memory leaks.</p>\n<p>Currently, I am doing this as follows:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun Mat.copyByReference(): Mat = this.submat(0, rows(), 0, cols())\n</code></pre>\n<p>This works fine, but not for subclasses of <code>Mat</code> (like e.g. <code>MatOfKeyPoint</code>) because <code>submat()</code> always returns a <code>Mat</code>. My question is therefore whether there's a suitable way to achieve this for all subclasses of <code>Mat</code>.</p>\n"},{"tags":["java","string","collections","split"],"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1396529541,"post_id":7488643,"comment_id":34835933,"body_markdown":"If you want to parse CSV see http://stackoverflow.com/questions/3908012/parsing-csv-in-java","body":"If you want to parse CSV see <a href=\"http://stackoverflow.com/questions/3908012/parsing-csv-in-java\">stackoverflow.com/questions/3908012/parsing-csv-in-java</a>"},{"owner":{"account_id":950913,"reputation":3251,"user_id":977087,"accept_rate":86,"display_name":"Crowie"},"score":0,"creation_date":1465889095,"post_id":7488643,"comment_id":63075617,"body_markdown":"@Raedwald That&#39;s not what OP asked for though","body":"@Raedwald That&#39;s not what OP asked for though"},{"owner":{"account_id":111674,"reputation":20654,"user_id":294884,"accept_rate":87,"display_name":"Fattie"},"score":3,"creation_date":1483628135,"post_id":7488643,"comment_id":70181390,"body_markdown":"**ONLY** ColinD&#39;s answer is correct here, assuming you want an ArrayList as in the question title.  ArrayList (which is mutable) is totally different from List, which can be just a simple fixed list.","body":"<b>ONLY</b> ColinD&#39;s answer is correct here, assuming you want an ArrayList as in the question title.  ArrayList (which is mutable) is totally different from List, which can be just a simple fixed list."},{"owner":{"account_id":386394,"reputation":9197,"user_id":744133,"accept_rate":57,"display_name":"YoYo"},"score":0,"creation_date":1531515654,"post_id":7488643,"comment_id":89640943,"body_markdown":"@Fattie - fair point, and fixed that - https://stackoverflow.com/a/34735419/744133","body":"@Fattie - fair point, and fixed that - <a href=\"https://stackoverflow.com/a/34735419/744133\">stackoverflow.com/a/34735419/744133</a>"},{"owner":{"account_id":1257650,"reputation":23489,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"score":1,"creation_date":1546247866,"post_id":7488643,"comment_id":94808392,"body_markdown":"Java 8 solution: https://stackoverflow.com/a/46485179/1216775","body":"Java 8 solution: <a href=\"https://stackoverflow.com/a/46485179/1216775\">stackoverflow.com/a/46485179/1216775</a>"}],"answers":[{"comments":[{"owner":{"account_id":113440,"reputation":706,"user_id":298742,"display_name":"Amrinder Arora"},"score":1,"creation_date":1475787028,"post_id":7488669,"comment_id":67096257,"body_markdown":"Once you inline the items variable, it is basically the same as other answers, but a bit more efficient actually since it doesn&#39;t use regex.  On the flip side, spaces around the comma will kill this option.","body":"Once you inline the items variable, it is basically the same as other answers, but a bit more efficient actually since it doesn&#39;t use regex.  On the flip side, spaces around the comma will kill this option."},{"owner":{"account_id":59461,"reputation":19172,"user_id":177920,"accept_rate":77,"display_name":"Madbreaks"},"score":5,"creation_date":1489514494,"post_id":7488669,"comment_id":72701198,"body_markdown":"@AmrinderArora the argument to `split` is interpreted as a RegEx.","body":"@AmrinderArora the argument to <code>split</code> is interpreted as a RegEx."}],"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":2,"down_vote_count":0,"up_vote_count":84,"is_accepted":false,"score":84,"last_activity_date":1561054140,"creation_date":1316536952,"answer_id":7488669,"question_id":7488643,"body_markdown":"Two steps: \r\n\r\n 1. `String [] items = commaSeparated.split(&quot;\\\\s*,\\\\s*&quot;);`\r\n 2. `List&lt;String&gt; container = Arrays.asList(items);`","title":"How to convert comma-separated String to List?","body":"<p>Two steps: </p>\n\n<ol>\n<li><code>String [] items = commaSeparated.split(\"\\\\s*,\\\\s*\");</code></li>\n<li><code>List&lt;String&gt; container = Arrays.asList(items);</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1316536964,"creation_date":1316536964,"answer_id":7488674,"question_id":7488643,"body_markdown":"you can combine asList and split\r\n\r\n    Arrays.asList(CommaSeparated.split(&quot;\\\\s*,\\\\s*&quot;))","title":"How to convert comma-separated String to List?","body":"<p>you can combine asList and split</p>\n\n<pre><code>Arrays.asList(CommaSeparated.split(\"\\\\s*,\\\\s*\"))\n</code></pre>\n"},{"comments":[{"owner":{"account_id":393707,"reputation":1831,"user_id":755720,"accept_rate":75,"display_name":"andrewrjones"},"score":43,"creation_date":1352886282,"post_id":7488676,"comment_id":18265424,"body_markdown":"@rosch Its a regular expression (regex). `\\s` matches any white space, The `*` applies the match zero or more times. So `\\s*` means &quot;match any white space zero or more times&quot;. We look for this before and after the comma. Therefore, the split will work for strings like `&quot;item1 , item2 , item3&quot;`, or `&quot;item1,item2 ,item3&quot;`, etc. In Java, you need to escape the backslash in strings, so you get `\\\\s*`","body":"@rosch Its a regular expression (regex). <code>\\s</code> matches any white space, The <code>*</code> applies the match zero or more times. So <code>\\s*</code> means &quot;match any white space zero or more times&quot;. We look for this before and after the comma. Therefore, the split will work for strings like <code>&quot;item1 , item2 , item3&quot;</code>, or <code>&quot;item1,item2 ,item3&quot;</code>, etc. In Java, you need to escape the backslash in strings, so you get <code>\\\\s*</code>"},{"owner":{"account_id":21600,"reputation":1269,"user_id":52607,"display_name":"Andrew"},"score":0,"creation_date":1409762008,"post_id":7488676,"comment_id":40078488,"body_markdown":"@andreyne `&quot; item1 , item2 , item3 , &quot;.split(&quot;[\\\\s,]+&quot;)` returns a `String[]` of length 4 - not 3 as expected.","body":"@andreyne <code>&quot; item1 , item2 , item3 , &quot;.split(&quot;[\\\\s,]+&quot;)</code> returns a <code>String[]</code> of length 4 - not 3 as expected."},{"owner":{"account_id":1622372,"reputation":2581,"user_id":1498669,"display_name":"Bernhard"},"score":0,"creation_date":1427185921,"post_id":7488676,"comment_id":46662811,"body_markdown":"you have to add -1 as limit to the split(&quot;regex&quot;,limit)-Method, otherwise the empty cells at the end get truncated see: http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-int-","body":"you have to add -1 as limit to the split(&quot;regex&quot;,limit)-Method, otherwise the empty cells at the end get truncated see: <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-int-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/lang/&hellip;</a>"},{"owner":{"account_id":1042649,"reputation":37922,"user_id":1048340,"accept_rate":100,"display_name":"Jared Rummler"},"score":1,"creation_date":1427867186,"post_id":7488676,"comment_id":46945984,"body_markdown":"CSV can contain a comma within a quote. Example: `foo,&quot;bar,baz&quot;,qux`. See this answer for a good regex in such situations: http://stackoverflow.com/a/1757107/1048340","body":"CSV can contain a comma within a quote. Example: <code>foo,&quot;bar,baz&quot;,qux</code>. See this answer for a good regex in such situations: <a href=\"http://stackoverflow.com/a/1757107/1048340\">stackoverflow.com/a/1757107/1048340</a>"},{"owner":{"account_id":2495633,"reputation":241,"user_id":2172133,"display_name":"theferrit32"},"score":6,"creation_date":1438193308,"post_id":7488676,"comment_id":51354173,"body_markdown":"`&quot;[\\\\s,]+&quot;` will also split on internal space within a comma separated token, it will treat both whitespace as a delimiter even when a comma is not present, instead of a comma plus any number of surrounding whitespace. `&quot;\\\\s*(,\\\\s*)+&quot;` will trim whitespace only around comma separated tokens, and also ignore any strings that are only whitespace or empty.","body":"<code>&quot;[\\\\s,]+&quot;</code> will also split on internal space within a comma separated token, it will treat both whitespace as a delimiter even when a comma is not present, instead of a comma plus any number of surrounding whitespace. <code>&quot;\\\\s*(,\\\\s*)+&quot;</code> will trim whitespace only around comma separated tokens, and also ignore any strings that are only whitespace or empty."},{"owner":{"account_id":1413263,"reputation":1095,"user_id":1339452,"display_name":"Madis Pukkonen"},"score":3,"creation_date":1475063615,"post_id":7488676,"comment_id":66789655,"body_markdown":"As a side note: if you expect to get an empty list in case of an empty input string, then this method does not suit your use case. You will get a list with 1 element containing an empty string.","body":"As a side note: if you expect to get an empty list in case of an empty input string, then this method does not suit your use case. You will get a list with 1 element containing an empty string."},{"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"score":2,"creation_date":1475088641,"post_id":7488676,"comment_id":66806988,"body_markdown":"@MadisPukkonen, you are absolutely right, but I respect the OP enough to assume that he can add such logic himself.","body":"@MadisPukkonen, you are absolutely right, but I respect the OP enough to assume that he can add such logic himself."},{"owner":{"display_name":"user7192474"},"score":3,"creation_date":1508967203,"post_id":7488676,"comment_id":80832208,"body_markdown":"@AlexR Although I appreciate that you respect the OP, but, I would refrain from saying such things. I know of people that feel bad for not meeting people&#39;s expectations when praised falsely. Just a thought.","body":"@AlexR Although I appreciate that you respect the OP, but, I would refrain from saying such things. I know of people that feel bad for not meeting people&#39;s expectations when praised falsely. Just a thought."},{"owner":{"account_id":251960,"reputation":1067,"user_id":529674,"display_name":"Pere"},"score":0,"creation_date":1668193089,"post_id":7488676,"comment_id":131354448,"body_markdown":"@theferrit32 your statement is not true, since strings like &quot;, whatever&quot; will put an empty string as the first member of the collection.","body":"@theferrit32 your statement is not true, since strings like &quot;, whatever&quot; will put an empty string as the first member of the collection."}],"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"comment_count":9,"down_vote_count":2,"up_vote_count":1176,"is_accepted":true,"score":1174,"last_activity_date":1483628025,"creation_date":1316536967,"answer_id":7488676,"question_id":7488643,"body_markdown":"**Convert comma separated String to List**\r\n\r\n    List&lt;String&gt; items = Arrays.asList(str.split(&quot;\\\\s*,\\\\s*&quot;));\r\n\r\nThe above code splits the string on a delimiter defined as: `zero or more whitespace, a literal comma, zero or more whitespace` which will place the words into the list and collapse any whitespace between the words and commas.\r\n\r\n--- \r\n\r\nPlease note that this returns simply a wrapper on an array: you ***CANNOT*** for example `.remove()` from the resulting `List`.  For an actual `ArrayList` you must further use `new ArrayList&lt;String&gt;`.","title":"How to convert comma-separated String to List?","body":"<p><strong>Convert comma separated String to List</strong></p>\n\n<pre><code>List&lt;String&gt; items = Arrays.asList(str.split(\"\\\\s*,\\\\s*\"));\n</code></pre>\n\n<p>The above code splits the string on a delimiter defined as: <code>zero or more whitespace, a literal comma, zero or more whitespace</code> which will place the words into the list and collapse any whitespace between the words and commas.</p>\n\n<hr>\n\n<p>Please note that this returns simply a wrapper on an array: you <strong><em>CANNOT</em></strong> for example <code>.remove()</code> from the resulting <code>List</code>.  For an actual <code>ArrayList</code> you must further use <code>new ArrayList&lt;String&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":912890,"reputation":45749,"user_id":946312,"accept_rate":63,"display_name":"Saket"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1316537001,"creation_date":1316537001,"answer_id":7488683,"question_id":7488643,"body_markdown":"You can first split them using `String.split(&quot;,&quot;)`, and then convert the returned String `array` to an `ArrayList` using `Arrays.asList(array)`","title":"How to convert comma-separated String to List?","body":"<p>You can first split them using <code>String.split(\",\")</code>, and then convert the returned String <code>array</code> to an <code>ArrayList</code> using <code>Arrays.asList(array)</code></p>\n"},{"tags":[],"owner":{"account_id":105068,"reputation":882,"user_id":280574,"accept_rate":100,"display_name":"Jason Wheeler"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1316537072,"creation_date":1316537072,"answer_id":7488698,"question_id":7488643,"body_markdown":"    List&lt;String&gt; items = Arrays.asList(commaSeparated.split(&quot;,&quot;));\r\n\r\nThat should work for you.","title":"How to convert comma-separated String to List?","body":"<pre><code>List&lt;String&gt; items = Arrays.asList(commaSeparated.split(\",\"));\n</code></pre>\n\n<p>That should work for you.</p>\n"},{"comments":[{"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"score":6,"creation_date":1316537847,"post_id":7488710,"comment_id":9065040,"body_markdown":"Would have preferred **Splitter.on(&quot;,&quot;).trimResults().split(string)** although I see you did mention it. so +1","body":"Would have preferred <b>Splitter.on(&quot;,&quot;).trimResults().split(string)</b> although I see you did mention it. so +1"},{"owner":{"account_id":178757,"reputation":11335,"user_id":410946,"accept_rate":88,"display_name":"Alfredo Osorio"},"score":13,"creation_date":1316538163,"post_id":7488710,"comment_id":9065107,"body_markdown":"+1 for pointing out that Arrays.asList doesn&#39;t return a normal list. If you try to add or remove an element to/from that List you will get an UnsupportedOperationException.","body":"+1 for pointing out that Arrays.asList doesn&#39;t return a normal list. If you try to add or remove an element to/from that List you will get an UnsupportedOperationException."},{"owner":{"account_id":58407,"reputation":1720,"user_id":174884,"display_name":"Kango_V"},"score":10,"creation_date":1467663370,"post_id":7488710,"comment_id":63808870,"body_markdown":"Guava now has this since (15.0) : **Splitter.on(&quot;,&quot;).splitToList(string)**.  Saves a small step.","body":"Guava now has this since (15.0) : <b>Splitter.on(&quot;,&quot;).splitToList(string)</b>.  Saves a small step."},{"owner":{"account_id":4825208,"reputation":1874,"user_id":3894826,"display_name":"A.Aleem11"},"score":0,"creation_date":1527130618,"post_id":7488710,"comment_id":88013145,"body_markdown":"Is there any way to also add empty values in String iike if I&#39;ve String like this: 1,,3,4,5 here 2 is missing/empty. When converting in list 2 will skip. But I want to add this as empty value.","body":"Is there any way to also add empty values in String iike if I&#39;ve String like this: 1,,3,4,5 here 2 is missing/empty. When converting in list 2 will skip. But I want to add this as empty value."},{"owner":{"account_id":386394,"reputation":9197,"user_id":744133,"accept_rate":57,"display_name":"YoYo"},"score":0,"creation_date":1535554722,"post_id":7488710,"comment_id":91111129,"body_markdown":"The problem with this implementation, and some other similar examples, is that although the `Arrays.asList` provides a wrapper around the native array (avoiding an element copy), the `new ArrayList(...)` will exactly do such an element by element copy. We should probably prefer an approach that allows parsed elements to be directly added to the desired target collection.","body":"The problem with this implementation, and some other similar examples, is that although the <code>Arrays.asList</code> provides a wrapper around the native array (avoiding an element copy), the <code>new ArrayList(...)</code> will exactly do such an element by element copy. We should probably prefer an approach that allows parsed elements to be directly added to the desired target collection."},{"owner":{"account_id":5749872,"reputation":2007,"user_id":4539906,"display_name":"Asad Shakeel"},"score":0,"creation_date":1575650757,"post_id":7488710,"comment_id":104650199,"body_markdown":"This one is the right answer. you can try on the online java compiler.\nhttps://www.compilejava.net/","body":"This one is the right answer. you can try on the online java compiler. <a href=\"https://www.compilejava.net/\" rel=\"nofollow noreferrer\">compilejava.net</a>"}],"tags":[],"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"comment_count":6,"down_vote_count":2,"up_vote_count":241,"is_accepted":false,"score":239,"last_activity_date":1316538308,"creation_date":1316537164,"answer_id":7488710,"question_id":7488643,"body_markdown":"`Arrays.asList` returns a fixed-size `List` backed by the array. If you want a normal mutable `java.util.ArrayList` you need to do this:\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(string.split(&quot; , &quot;)));\r\n\r\nOr, using [Guava][1]:\r\n\r\n    List&lt;String&gt; list = Lists.newArrayList(Splitter.on(&quot; , &quot;).split(string));\r\n\r\nUsing a `Splitter` gives you more flexibility in how you split the string and gives you the ability to, for example, skip empty strings in the results and trim results. It also has less weird behavior than `String.split` as well as not requiring you to split by regex (that&#39;s just one option).\r\n\r\n\r\n  [1]: http://guava-libraries.googlecode.com","title":"How to convert comma-separated String to List?","body":"<p><code>Arrays.asList</code> returns a fixed-size <code>List</code> backed by the array. If you want a normal mutable <code>java.util.ArrayList</code> you need to do this:</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(string.split(\" , \")));\n</code></pre>\n\n<p>Or, using <a href=\"http://guava-libraries.googlecode.com\">Guava</a>:</p>\n\n<pre><code>List&lt;String&gt; list = Lists.newArrayList(Splitter.on(\" , \").split(string));\n</code></pre>\n\n<p>Using a <code>Splitter</code> gives you more flexibility in how you split the string and gives you the ability to, for example, skip empty strings in the results and trim results. It also has less weird behavior than <code>String.split</code> as well as not requiring you to split by regex (that's just one option).</p>\n"},{"tags":[],"owner":{"account_id":930685,"reputation":169,"user_id":960622,"display_name":"Ishara"},"comment_count":0,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1316769254,"creation_date":1316769254,"answer_id":7526722,"question_id":7488643,"body_markdown":"There is no built-in method for this but you can simply use split() method in this.\r\n\r\n    String commaSeparated = &quot;item1 , item2 , item3&quot;;\r\n    ArrayList&lt;String&gt; items = \r\n    new  ArrayList&lt;String&gt;(Arrays.asList(commaSeparated.split(&quot;,&quot;)));\r\n ","title":"How to convert comma-separated String to List?","body":"<p>There is no built-in method for this but you can simply use split() method in this.</p>\n\n<pre><code>String commaSeparated = \"item1 , item2 , item3\";\nArrayList&lt;String&gt; items = \nnew  ArrayList&lt;String&gt;(Arrays.asList(commaSeparated.split(\",\")));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2705574,"reputation":1931,"user_id":2335253,"display_name":"tamerlaha"},"score":0,"creation_date":1565639510,"post_id":17359110,"comment_id":101408066,"body_markdown":"This one saved me! Thank you.","body":"This one saved me! Thank you."},{"owner":{"account_id":2450779,"reputation":1014,"user_id":2137125,"accept_rate":75,"display_name":"Lifeweaver"},"score":0,"creation_date":1666797676,"post_id":17359110,"comment_id":131022001,"body_markdown":"Best answer, nice one!","body":"Best answer, nice one!"}],"tags":[],"owner":{"account_id":2805958,"reputation":143,"user_id":2413198,"display_name":"sivareddy963"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1372403149,"creation_date":1372403149,"answer_id":17359110,"question_id":7488643,"body_markdown":"In groovy, you can use tokenize(Character Token) method:\r\n\r\n    list = str.tokenize(&#39;,&#39;)","title":"How to convert comma-separated String to List?","body":"<p>In groovy, you can use tokenize(Character Token) method:</p>\n\n<pre><code>list = str.tokenize(',')\n</code></pre>\n"},{"comments":[{"owner":{"account_id":386394,"reputation":9197,"user_id":744133,"accept_rate":57,"display_name":"YoYo"},"score":1,"creation_date":1535554973,"post_id":19254375,"comment_id":91111315,"body_markdown":"You avoided the intermediary Arrays.asList. Unfortunately we still have a copy from array elements into the collection. Nice alternative to remember.","body":"You avoided the intermediary Arrays.asList. Unfortunately we still have a copy from array elements into the collection. Nice alternative to remember."}],"tags":[],"owner":{"account_id":2659374,"reputation":1984,"user_id":2299414,"accept_rate":90,"display_name":"Filippo Lauria"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1381253261,"creation_date":1381253261,"answer_id":19254375,"question_id":7488643,"body_markdown":"An example using `Collections`.\r\n\r\n    import java.util.Collections;\r\n     ...\r\n    String commaSeparated = &quot;item1 , item2 , item3&quot;;\r\n    ArrayList&lt;String&gt; items = new ArrayList&lt;&gt;();\r\n    Collections.addAll(items, commaSeparated.split(&quot;\\\\s*,\\\\s*&quot;));\r\n     ...","title":"How to convert comma-separated String to List?","body":"<p>An example using <code>Collections</code>.</p>\n\n<pre><code>import java.util.Collections;\n ...\nString commaSeparated = \"item1 , item2 , item3\";\nArrayList&lt;String&gt; items = new ArrayList&lt;&gt;();\nCollections.addAll(items, commaSeparated.split(\"\\\\s*,\\\\s*\"));\n ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3996639,"reputation":241,"user_id":3293953,"display_name":"Arvindvp6"},"comment_count":0,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1401284199,"creation_date":1392053399,"answer_id":21684009,"question_id":7488643,"body_markdown":"Here is another one for converting  CSV to ArrayList:  \r\n\r\n    String str=&quot;string,with,comma&quot;;\r\n    ArrayList aList= new ArrayList(Arrays.asList(str.split(&quot;,&quot;)));\r\n    for(int i=0;i&lt;aList.size();i++)\r\n    {\r\n        System.out.println(&quot; --&gt;&quot;+aList.get(i));\r\n    }\r\n\r\nPrints you\r\n\r\n&gt;    --&gt;string  \r\n    --&gt;with  \r\n    --&gt;comma\r\n","title":"How to convert comma-separated String to List?","body":"<p>Here is another one for converting  CSV to ArrayList:  </p>\n\n<pre><code>String str=\"string,with,comma\";\nArrayList aList= new ArrayList(Arrays.asList(str.split(\",\")));\nfor(int i=0;i&lt;aList.size();i++)\n{\n    System.out.println(\" --&gt;\"+aList.get(i));\n}\n</code></pre>\n\n<p>Prints you</p>\n\n<blockquote>\n  <p>-->string<br>\n      -->with<br>\n      -->comma</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":10234673,"reputation":596,"user_id":7554098,"display_name":"mdabdullah"},"score":0,"creation_date":1629404830,"post_id":26913689,"comment_id":121685437,"body_markdown":"Hoped this would work in `groovy` but didn&#39;t :(","body":"Hoped this would work in <code>groovy</code> but didn&#39;t :("}],"tags":[],"owner":{"account_id":1789458,"reputation":3075,"user_id":1630199,"display_name":"Srinivasan.S"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1545342364,"creation_date":1415896157,"answer_id":26913689,"question_id":7488643,"body_markdown":"This code will help,\r\n\r\n    String myStr = &quot;item1,item2,item3&quot;;\r\n    List myList = Arrays.asList(myStr.split(&quot;,&quot;));","title":"How to convert comma-separated String to List?","body":"<p>This code will help,</p>\n\n<pre><code>String myStr = \"item1,item2,item3\";\nList myList = Arrays.asList(myStr.split(\",\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5843350,"reputation":317,"user_id":4604182,"display_name":"deepu kumar singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1451466830,"creation_date":1436812745,"answer_id":31390962,"question_id":7488643,"body_markdown":"    List commaseperated = new ArrayList();\r\n    String mylist = &quot;item1 , item2 , item3&quot;;\r\n    mylist = Arrays.asList(myStr.trim().split(&quot; , &quot;));\r\n\r\n    // enter code here\r\n\r\n","title":"How to convert comma-separated String to List?","body":"<pre><code>List commaseperated = new ArrayList();\nString mylist = \"item1 , item2 , item3\";\nmylist = Arrays.asList(myStr.trim().split(\" , \"));\n\n// enter code here\n</code></pre>\n"},{"tags":[],"owner":{"account_id":386394,"reputation":9197,"user_id":744133,"accept_rate":57,"display_name":"YoYo"},"comment_count":0,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1542938520,"creation_date":1452571677,"answer_id":34735419,"question_id":7488643,"body_markdown":"If a `List` is the end-goal as the OP stated, then already accepted answer is still the shortest and the best. However I want to provide alternatives using [Java 8 Streams](https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html), that will give you more benefit if it is part of a pipeline for further processing.\r\n\r\nBy wrapping the result of the .split function (a native array) into a stream and then converting to a list.\r\n\r\n    List&lt;String&gt; list =\r\n      Stream.of(&quot;a,b,c&quot;.split(&quot;,&quot;))\r\n      .collect(Collectors.toList());\r\n\r\nIf it is important that the result is stored as an `ArrayList` as per the title from the OP, you can use a different `Collector` method:\r\n\r\n    ArrayList&lt;String&gt; list = \r\n      Stream.of(&quot;a,b,c&quot;.split(&quot;,&quot;))\r\n      .collect(Collectors.toCollection(ArrayList&lt;String&gt;::new));\r\n\r\nOr by using the RegEx parsing api:\r\n\r\n    ArrayList&lt;String&gt; list = \r\n      Pattern.compile(&quot;,&quot;)\r\n      .splitAsStream(&quot;a,b,c&quot;)\r\n      .collect(Collectors.toCollection(ArrayList&lt;String&gt;::new));\r\n\r\nNote that you could still consider to leave the `list` variable typed as `List&lt;String&gt;` instead of `ArrayList&lt;String&gt;`. The generic interface for `List` still looks plenty of similar enough to the `ArrayList` implementation.\r\n\r\nBy themselves, these code examples do not seem to add a lot (except more typing), but if you are planning to do more, like [this answer on converting a String to a List of Longs](https://stackoverflow.com/a/27503359/744133) exemplifies, the streaming API is really powerful by allowing to pipeline your operations one after the other. \r\n\r\nFor the sake of, you know, completeness.","title":"How to convert comma-separated String to List?","body":"<p>If a <code>List</code> is the end-goal as the OP stated, then already accepted answer is still the shortest and the best. However I want to provide alternatives using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"noreferrer\">Java 8 Streams</a>, that will give you more benefit if it is part of a pipeline for further processing.</p>\n\n<p>By wrapping the result of the .split function (a native array) into a stream and then converting to a list.</p>\n\n<pre><code>List&lt;String&gt; list =\n  Stream.of(\"a,b,c\".split(\",\"))\n  .collect(Collectors.toList());\n</code></pre>\n\n<p>If it is important that the result is stored as an <code>ArrayList</code> as per the title from the OP, you can use a different <code>Collector</code> method:</p>\n\n<pre><code>ArrayList&lt;String&gt; list = \n  Stream.of(\"a,b,c\".split(\",\"))\n  .collect(Collectors.toCollection(ArrayList&lt;String&gt;::new));\n</code></pre>\n\n<p>Or by using the RegEx parsing api:</p>\n\n<pre><code>ArrayList&lt;String&gt; list = \n  Pattern.compile(\",\")\n  .splitAsStream(\"a,b,c\")\n  .collect(Collectors.toCollection(ArrayList&lt;String&gt;::new));\n</code></pre>\n\n<p>Note that you could still consider to leave the <code>list</code> variable typed as <code>List&lt;String&gt;</code> instead of <code>ArrayList&lt;String&gt;</code>. The generic interface for <code>List</code> still looks plenty of similar enough to the <code>ArrayList</code> implementation.</p>\n\n<p>By themselves, these code examples do not seem to add a lot (except more typing), but if you are planning to do more, like <a href=\"https://stackoverflow.com/a/27503359/744133\">this answer on converting a String to a List of Longs</a> exemplifies, the streaming API is really powerful by allowing to pipeline your operations one after the other. </p>\n\n<p>For the sake of, you know, completeness.</p>\n"},{"comments":[{"owner":{"account_id":1870308,"reputation":5286,"user_id":1692706,"accept_rate":77,"display_name":"Debosmit Ray"},"score":6,"creation_date":1459406662,"post_id":36325453,"comment_id":60274491,"body_markdown":"And where exactly is the `ArrayList`? Did you even read the question?","body":"And where exactly is the <code>ArrayList</code>? Did you even read the question?"},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1496147537,"post_id":36325453,"comment_id":75532637,"body_markdown":"@mapeters: There was a `ArrayList`. I rolled back the edits to the first revision (so you can see it) and improved the formatting of the first revision.","body":"@mapeters: There was a <code>ArrayList</code>. I rolled back the edits to the first revision (so you can see it) and improved the formatting of the first revision."},{"owner":{"account_id":1525267,"reputation":4620,"user_id":1423876,"accept_rate":100,"display_name":"comrade"},"score":0,"creation_date":1496170202,"post_id":36325453,"comment_id":75547529,"body_markdown":"Question is how to convert string to ArrayList, not how to convert ArrayList to Array.","body":"Question is how to convert string to ArrayList, not how to convert ArrayList to Array."}],"tags":[],"owner":{"account_id":7657288,"reputation":3,"user_id":5803677,"display_name":"jonsi"},"comment_count":3,"down_vote_count":6,"up_vote_count":1,"is_accepted":false,"score":-5,"last_activity_date":1496147340,"creation_date":1459404537,"answer_id":36325453,"question_id":7488643,"body_markdown":"    ArrayList&lt;HashMap&lt;String, String&gt;&gt; mListmain = new ArrayList&lt;HashMap&lt;String, String&gt;&gt;(); \r\n    String marray[]= mListmain.split(&quot;,&quot;);","title":"How to convert comma-separated String to List?","body":"<pre><code>ArrayList&lt;HashMap&lt;String, String&gt;&gt; mListmain = new ArrayList&lt;HashMap&lt;String, String&gt;&gt;(); \nString marray[]= mListmain.split(\",\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2730476,"reputation":945,"user_id":2354385,"display_name":"Farzan.s"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1680612110,"creation_date":1466756216,"answer_id":38008691,"question_id":7488643,"body_markdown":"Here are two more extended versions of the code that utilize Java 8 streams:\r\n\r\n    List&lt;String&gt; stringList1 = \r\n        Arrays.stream(commaSeparated.split(&quot;,&quot;))\r\n          .map(String::trim)\r\n          .collect(Collectors.toList());\r\n\r\n    List&lt;String&gt; stringList2 = \r\n        Stream.of(commaSeparated.split(&quot;,&quot;))\r\n          .map(String::trim)\r\n          .collect(Collectors.toList());","title":"How to convert comma-separated String to List?","body":"<p>Here are two more extended versions of the code that utilize Java 8 streams:</p>\n<pre><code>List&lt;String&gt; stringList1 = \n    Arrays.stream(commaSeparated.split(&quot;,&quot;))\n      .map(String::trim)\n      .collect(Collectors.toList());\n\nList&lt;String&gt; stringList2 = \n    Stream.of(commaSeparated.split(&quot;,&quot;))\n      .map(String::trim)\n      .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":318237,"reputation":1220,"user_id":635347,"accept_rate":67,"display_name":"Jan Stanicek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468411150,"creation_date":1468411150,"answer_id":38351153,"question_id":7488643,"body_markdown":"I usually use precompiled pattern for the list. And also this is slightly more universal since it can consider brackets which follows some of the listToString expressions.\r\n\r\n    private static final Pattern listAsString = Pattern.compile(&quot;^\\\\[?([^\\\\[\\\\]]*)\\\\]?$&quot;);\r\n\r\n    private List&lt;String&gt; getList(String value) {\r\n      Matcher matcher = listAsString.matcher((String) value);\r\n      if (matcher.matches()) {\r\n        String[] split = matcher.group(matcher.groupCount()).split(&quot;\\\\s*,\\\\s*&quot;);\r\n        return new ArrayList&lt;&gt;(Arrays.asList(split));\r\n      }\r\n      return Collections.emptyList();\r\n","title":"How to convert comma-separated String to List?","body":"<p>I usually use precompiled pattern for the list. And also this is slightly more universal since it can consider brackets which follows some of the listToString expressions.</p>\n\n<pre><code>private static final Pattern listAsString = Pattern.compile(\"^\\\\[?([^\\\\[\\\\]]*)\\\\]?$\");\n\nprivate List&lt;String&gt; getList(String value) {\n  Matcher matcher = listAsString.matcher((String) value);\n  if (matcher.matches()) {\n    String[] split = matcher.group(matcher.groupCount()).split(\"\\\\s*,\\\\s*\");\n    return new ArrayList&lt;&gt;(Arrays.asList(split));\n  }\n  return Collections.emptyList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3178228,"reputation":4984,"user_id":2685581,"display_name":"Ajay Kumar"},"comment_count":0,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1496297093,"creation_date":1475058811,"answer_id":39744972,"question_id":7488643,"body_markdown":"convert Collection into string as comma seperated in **Java 8**\r\n\r\nlistOfString object contains [&quot;A&quot;,&quot;B&quot;,&quot;C&quot; ,&quot;D&quot;] elements-\r\n\r\n    listOfString.stream().map(ele-&gt;&quot;&#39;&quot;+ele+&quot;&#39;&quot;).collect(Collectors.joining(&quot;,&quot;))\r\n\r\n**Output is :-**\r\n&#39;A&#39;,&#39;B&#39;,&#39;C&#39;,&#39;D&#39;\r\n\r\n**And Convert Strings Array to List in Java 8**\r\n\r\n        String string[] ={&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;};\r\n        List&lt;String&gt; listOfString = Stream.of(string).collect(Collectors.toList());","title":"How to convert comma-separated String to List?","body":"<p>convert Collection into string as comma seperated in <strong>Java 8</strong></p>\n\n<p>listOfString object contains [\"A\",\"B\",\"C\" ,\"D\"] elements-</p>\n\n<pre><code>listOfString.stream().map(ele-&gt;\"'\"+ele+\"'\").collect(Collectors.joining(\",\"))\n</code></pre>\n\n<p><strong>Output is :-</strong>\n'A','B','C','D'</p>\n\n<p><strong>And Convert Strings Array to List in Java 8</strong></p>\n\n<pre><code>    String string[] ={\"A\",\"B\",\"C\",\"D\"};\n    List&lt;String&gt; listOfString = Stream.of(string).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1185299,"reputation":7276,"user_id":1159404,"accept_rate":75,"display_name":"Nenad Bulatović"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1488835557,"creation_date":1488834771,"answer_id":42635665,"question_id":7488643,"body_markdown":"    List&lt;String&gt; items = Arrays.asList(s.split(&quot;[,\\\\s]+&quot;));","title":"How to convert comma-separated String to List?","body":"<pre><code>List&lt;String&gt; items = Arrays.asList(s.split(\"[,\\\\s]+\"));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":2,"creation_date":1516896604,"post_id":43118896,"comment_id":83886780,"body_markdown":"One of the best answer now. List can be altered in this answer +1.","body":"One of the best answer now. List can be altered in this answer +1."},{"owner":{"account_id":1494810,"reputation":8228,"user_id":1401019,"accept_rate":79,"display_name":"Sundararaj Govindasamy"},"score":3,"creation_date":1545338607,"post_id":43118896,"comment_id":94598728,"body_markdown":"works after changed `collect(toList())` to `collect(Collectors.toList()`","body":"works after changed <code>collect(toList())</code> to <code>collect(Collectors.toList()</code>"},{"owner":{"account_id":1038483,"reputation":3505,"user_id":1045050,"accept_rate":30,"display_name":"Manu"},"score":2,"creation_date":1545815441,"post_id":43118896,"comment_id":94700388,"body_markdown":"In fact `collect(toList())` is using the static import of  `Collectors.toList()` for brevity and fluency :)","body":"In fact <code>collect(toList())</code> is using the static import of  <code>Collectors.toList()</code> for brevity and fluency :)"},{"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"score":0,"creation_date":1640164620,"post_id":43118896,"comment_id":124528476,"body_markdown":"it&#39;s amazing because it covers the case of empty string and single string without separator.","body":"it&#39;s amazing because it covers the case of empty string and single string without separator."},{"owner":{"account_id":251960,"reputation":1067,"user_id":529674,"display_name":"Pere"},"score":0,"creation_date":1668194979,"post_id":43118896,"comment_id":131354916,"body_markdown":"If you have a string like &quot;, whatever, &quot; it will ad two empty string member to the list, one at the beginning and another one at the end.","body":"If you have a string like &quot;, whatever, &quot; it will ad two empty string member to the list, one at the beginning and another one at the end."},{"owner":{"account_id":1038483,"reputation":3505,"user_id":1045050,"accept_rate":30,"display_name":"Manu"},"score":0,"creation_date":1674511203,"post_id":43118896,"comment_id":132725943,"body_markdown":"If you want to get rid of empty string, just add a filter() like `.filter(str -&gt; !str.isEmpty())`  after `.map()` :)","body":"If you want to get rid of empty string, just add a filter() like <code>.filter(str -&gt; !str.isEmpty())</code>  after <code>.map()</code> :)"},{"owner":{"account_id":2532761,"reputation":1941,"user_id":2200690,"display_name":"Suketu Bhuta"},"score":0,"creation_date":1686336342,"post_id":43118896,"comment_id":134790065,"body_markdown":"List&lt;String&gt; items= Stream.of(commaSeparated.split(&quot;,&quot;))\n     .map(String::trim)\n     .filter(StringUtils.isNotBlank())\n     .collect(Collectors.toList());","body":"List&lt;String&gt; items= Stream.of(commaSeparated.split(&quot;,&quot;))      .map(String::trim)      .filter(StringUtils.isNotBlank())      .collect(Collectors.toList());"}],"tags":[],"owner":{"account_id":1038483,"reputation":3505,"user_id":1045050,"accept_rate":30,"display_name":"Manu"},"comment_count":7,"down_vote_count":0,"up_vote_count":68,"is_accepted":false,"score":68,"last_activity_date":1647838116,"creation_date":1490879429,"answer_id":43118896,"question_id":7488643,"body_markdown":"    List&lt;String&gt; items= Stream.of(commaSeparated.split(&quot;,&quot;))\r\n         .map(String::trim)\r\n         .collect(Collectors.toList());","title":"How to convert comma-separated String to List?","body":"<pre><code>List&lt;String&gt; items= Stream.of(commaSeparated.split(&quot;,&quot;))\n     .map(String::trim)\n     .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1656413249,"creation_date":1501157886,"answer_id":45350624,"question_id":7488643,"body_markdown":"You can use Guava to split the string, and convert it into an ArrayList. This works with an empty string as well, and returns an empty list. \r\n\r\n    import com.google.common.base.Splitter;\r\n    import com.google.common.collect.Lists;\r\n\r\n    String commaSeparated = &quot;item1 , item2 , item3&quot;;\r\n    \r\n    // Split string into list, trimming each item and removing empty items\r\n    ArrayList&lt;String&gt; list = Lists.newArrayList(Splitter.on(&#39;,&#39;).trimResults().omitEmptyStrings().splitToList(commaSeparated));\r\n    System.out.println(list);\r\n    \r\n    list.add(&quot;another item&quot;);\r\n    System.out.println(list);\r\n\r\noutputs the following:\r\n\r\n    [item1, item2, item3]\r\n    [item1, item2, item3, another item]\r\n\r\nYou could also use the following approach without Guava:\r\n\r\n      public static List&lt;String&gt; getStringAsList(String input) {\r\n        if (input == null || input.trim().length() == 0) {\r\n          return Collections.emptyList();\r\n        }\r\n    \r\n        final String separators = &quot;[;:,-]&quot;;\r\n        var result =\r\n            Splitter.on(CharMatcher.anyOf(separators))\r\n                .trimResults()\r\n                .omitEmptyStrings()\r\n                .splitToList(input);\r\n    \r\n        return result;\r\n      }\r\n\r\n","title":"How to convert comma-separated String to List?","body":"<p>You can use Guava to split the string, and convert it into an ArrayList. This works with an empty string as well, and returns an empty list.</p>\n<pre><code>import com.google.common.base.Splitter;\nimport com.google.common.collect.Lists;\n\nString commaSeparated = &quot;item1 , item2 , item3&quot;;\n\n// Split string into list, trimming each item and removing empty items\nArrayList&lt;String&gt; list = Lists.newArrayList(Splitter.on(',').trimResults().omitEmptyStrings().splitToList(commaSeparated));\nSystem.out.println(list);\n\nlist.add(&quot;another item&quot;);\nSystem.out.println(list);\n</code></pre>\n<p>outputs the following:</p>\n<pre><code>[item1, item2, item3]\n[item1, item2, item3, another item]\n</code></pre>\n<p>You could also use the following approach without Guava:</p>\n<pre><code>  public static List&lt;String&gt; getStringAsList(String input) {\n    if (input == null || input.trim().length() == 0) {\n      return Collections.emptyList();\n    }\n\n    final String separators = &quot;[;:,-]&quot;;\n    var result =\n        Splitter.on(CharMatcher.anyOf(separators))\n            .trimResults()\n            .omitEmptyStrings()\n            .splitToList(input);\n\n    return result;\n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11643143,"reputation":878,"user_id":8526919,"accept_rate":14,"display_name":"Sunny"},"score":0,"creation_date":1527961381,"post_id":46485179,"comment_id":88329093,"body_markdown":"Does anyone know how can i convert this String to comma seperated list --String s = &quot;2017-07-12 23:40:00.0,153.76,16.140,60.00,,56.00,&quot;;\n\t\tList&lt;String&gt; splittedString = new ArrayList&lt;String&gt;(Arrays.asList(s.split(&quot;\\\\s*,\\\\s*&quot;)));","body":"Does anyone know how can i convert this String to comma seperated list --String s = &quot;2017-07-12 23:40:00.0,153.76,16.140,60.00,,56.00,&quot;; \t\tList&lt;String&gt; splittedString = new ArrayList&lt;String&gt;(Arrays.asList(s.split(&quot;\\\\s*,\\\\s*&quot;)));"},{"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"score":1,"creation_date":1528106489,"post_id":46485179,"comment_id":88365393,"body_markdown":"This is a new question, do not ask it as a comment. Feel free to create a new question.","body":"This is a new question, do not ask it as a comment. Feel free to create a new question."}],"tags":[],"owner":{"account_id":1257650,"reputation":23489,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1506675054,"creation_date":1506675054,"answer_id":46485179,"question_id":7488643,"body_markdown":"There are many ways to solve this using streams in **Java 8** but IMO the following one liners are straight forward:\r\n\r\n    String  commaSeparated = &quot;item1 , item2 , item3&quot;;\r\n    List&lt;String&gt; result1 = Arrays.stream(commaSeparated.split(&quot; , &quot;))\r\n                                                 .collect(Collectors.toList());\r\n    List&lt;String&gt; result2 = Stream.of(commaSeparated.split(&quot; , &quot;))\r\n                                                 .collect(Collectors.toList());","title":"How to convert comma-separated String to List?","body":"<p>There are many ways to solve this using streams in <strong>Java 8</strong> but IMO the following one liners are straight forward:</p>\n\n<pre><code>String  commaSeparated = \"item1 , item2 , item3\";\nList&lt;String&gt; result1 = Arrays.stream(commaSeparated.split(\" , \"))\n                                             .collect(Collectors.toList());\nList&lt;String&gt; result2 = Stream.of(commaSeparated.split(\" , \"))\n                                             .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3723758,"reputation":11894,"user_id":3600553,"accept_rate":71,"display_name":"Du-Lacoste"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529669840,"creation_date":1529669840,"answer_id":50987770,"question_id":7488643,"body_markdown":"You can do it as follows.\r\n\r\nThis removes white space and split by comma where you do not need to worry about white spaces. \r\n\r\n    \r\n\r\n    \r\n\r\n        String myString= &quot;A, B, C, D&quot;;\r\n    \t\r\n    \t//Remove whitespace and split by comma \r\n        List&lt;String&gt; finalString= Arrays.asList(myString.split(&quot;\\\\s*,\\\\s*&quot;));\r\n    \r\n        System.out.println(finalString);","title":"How to convert comma-separated String to List?","body":"<p>You can do it as follows.</p>\n\n<p>This removes white space and split by comma where you do not need to worry about white spaces. </p>\n\n<pre><code>    String myString= \"A, B, C, D\";\n\n    //Remove whitespace and split by comma \n    List&lt;String&gt; finalString= Arrays.asList(myString.split(\"\\\\s*,\\\\s*\"));\n\n    System.out.println(finalString);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1446136,"reputation":1067,"user_id":3597614,"accept_rate":100,"display_name":"Rubberducker"},"score":1,"creation_date":1539791907,"post_id":51100128,"comment_id":92632842,"body_markdown":"The documentation says this function is beta and unstable.","body":"The documentation says this function is beta and unstable."}],"tags":[],"owner":{"account_id":5194918,"reputation":823,"user_id":4156595,"display_name":"anoop ghildiyal"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1536951254,"creation_date":1530269740,"answer_id":51100128,"question_id":7488643,"body_markdown":"Same result you can achieve using the Splitter class.\r\n\r\n    var list = Splitter.on(&quot;,&quot;).splitToList(YourStringVariable)\r\n\r\n(written in kotlin)","title":"How to convert comma-separated String to List?","body":"<p>Same result you can achieve using the Splitter class.</p>\n\n<pre><code>var list = Splitter.on(\",\").splitToList(YourStringVariable)\n</code></pre>\n\n<p>(written in kotlin)</p>\n"},{"tags":[],"owner":{"account_id":11489992,"reputation":1482,"user_id":8421300,"display_name":"Vijendra patidar"},"comment_count":0,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1565673619,"creation_date":1565151137,"answer_id":57386846,"question_id":7488643,"body_markdown":"In Kotlin if your String list like this and you can use for convert string to ArrayList use this line of code\r\n   \r\n\r\n    var str= &quot;item1, item2, item3, item4&quot;\r\n    var itemsList = str.split(&quot;, &quot;)\r\n\r\n              ","title":"How to convert comma-separated String to List?","body":"<p>In Kotlin if your String list like this and you can use for convert string to ArrayList use this line of code</p>\n\n<pre><code>var str= \"item1, item2, item3, item4\"\nvar itemsList = str.split(\", \")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":357783,"reputation":5020,"user_id":698168,"display_name":"Julien Kronegg"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1608797541,"creation_date":1608797541,"answer_id":65435645,"question_id":7488643,"body_markdown":"While this question is old and has been answered multiple times, none of the answers is able to manage the all of the following cases:\r\n\r\n- `&quot;&quot;` -&gt; empty string should be mapped to empty list\r\n- `&quot; a, b , c &quot;` -&gt; all elements should be trimmed, including the first and last element\r\n- `&quot;,,&quot;` -&gt; empty elements should be removed\r\n\r\nThus, I&#39;m using the following code (using `org.apache.commons.lang3.StringUtils`, e.g. https://mvnrepository.com/artifact/org.apache.commons/commons-lang3/3.11):\r\n\r\n    StringUtils.isBlank(commaSeparatedEmailList) ?\r\n                Collections.emptyList() :\r\n                Stream.of(StringUtils.split(commaSeparatedEmailList, &#39;,&#39;))\r\n                        .map(String::trim)\r\n                        .filter(StringUtils::isNotBlank)\r\n                        .collect(Collectors.toList());\r\n\r\nUsing a simple split expression has an advantage: no regular expression is used, so the performance is probably higher. The `commons-lang3` library is lightweight and very common.\r\n\r\nNote that the implementation assumes that you don&#39;t have list element containing comma (i.e. `&quot;a, &#39;b,c&#39;, d&quot;` will be parsed as `[&quot;a&quot;, &quot;&#39;b&quot;, &quot;c&#39;&quot;, &quot;d&quot;]`, not to `[&quot;a&quot;, &quot;b,c&quot;, &quot;d&quot;]`).","title":"How to convert comma-separated String to List?","body":"<p>While this question is old and has been answered multiple times, none of the answers is able to manage the all of the following cases:</p>\n<ul>\n<li><code>&quot;&quot;</code> -&gt; empty string should be mapped to empty list</li>\n<li><code>&quot; a, b , c &quot;</code> -&gt; all elements should be trimmed, including the first and last element</li>\n<li><code>&quot;,,&quot;</code> -&gt; empty elements should be removed</li>\n</ul>\n<p>Thus, I'm using the following code (using <code>org.apache.commons.lang3.StringUtils</code>, e.g. <a href=\"https://mvnrepository.com/artifact/org.apache.commons/commons-lang3/3.11\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.commons/commons-lang3/3.11</a>):</p>\n<pre><code>StringUtils.isBlank(commaSeparatedEmailList) ?\n            Collections.emptyList() :\n            Stream.of(StringUtils.split(commaSeparatedEmailList, ','))\n                    .map(String::trim)\n                    .filter(StringUtils::isNotBlank)\n                    .collect(Collectors.toList());\n</code></pre>\n<p>Using a simple split expression has an advantage: no regular expression is used, so the performance is probably higher. The <code>commons-lang3</code> library is lightweight and very common.</p>\n<p>Note that the implementation assumes that you don't have list element containing comma (i.e. <code>&quot;a, 'b,c', d&quot;</code> will be parsed as <code>[&quot;a&quot;, &quot;'b&quot;, &quot;c'&quot;, &quot;d&quot;]</code>, not to <code>[&quot;a&quot;, &quot;b,c&quot;, &quot;d&quot;]</code>).</p>\n"},{"tags":[],"owner":{"account_id":4058478,"reputation":21,"user_id":3335639,"display_name":"Aviroop Sanyal"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1631104889,"creation_date":1631097397,"answer_id":69101494,"question_id":7488643,"body_markdown":"In java, It can be done like this\r\n```\r\nString catalogue_id = &quot;A, B, C&quot;;\r\nList&lt;String&gt; catalogueIdList = Arrays.asList(catalogue_id.split(&quot;, [ ]*&quot;));","title":"How to convert comma-separated String to List?","body":"<p>In java, It can be done like this</p>\n<pre><code>String catalogue_id = &quot;A, B, C&quot;;\nList&lt;String&gt; catalogueIdList = Arrays.asList(catalogue_id.split(&quot;, [ ]*&quot;));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14886556,"reputation":4394,"user_id":10749567,"display_name":"Ola Str&#246;m"},"score":0,"creation_date":1680450341,"post_id":69518398,"comment_id":133896965,"body_markdown":"This is not working if you want to include an empty item if the String ends with a comma.","body":"This is not working if you want to include an empty item if the String ends with a comma."}],"tags":[],"owner":{"account_id":2657838,"reputation":1407,"user_id":2298162,"display_name":"ognjenkl"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1633894416,"creation_date":1633894416,"answer_id":69518398,"question_id":7488643,"body_markdown":"Java 9 introduced List.of():\r\n\r\n    String commaSeparated = &quot;item1 , item2 , item3&quot;;\r\n    List&lt;String&gt; items = List.of(commaSeparated.split(&quot; , &quot;));","title":"How to convert comma-separated String to List?","body":"<p>Java 9 introduced List.of():</p>\n<pre><code>String commaSeparated = &quot;item1 , item2 , item3&quot;;\nList&lt;String&gt; items = List.of(commaSeparated.split(&quot; , &quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26266740,"reputation":1,"user_id":19937169,"display_name":"user19937169"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680449402,"creation_date":1662522949,"answer_id":73629958,"question_id":7488643,"body_markdown":"This method will convert your string to an array, taking two parameters:  \r\n- the string you want converted, and \r\n- the characters that will separate the values in the string. \r\n\r\nIt then returns the converted array.\r\n\r\n    private String[] convertStringToArray(String stringIn, String separators){\r\n        \r\n        // separate string into list depending on separators\r\n        List&lt;String&gt; tempList = Arrays.asList(stringIn.split(separators));\r\n        \r\n        // create a new pre-populated array based on the size of the list\r\n        String[] itemsArray = new String[tempList.size()];\r\n        \r\n        // convert the list to an array\r\n        itemsArray = tempList.toArray(itemsArray);\r\n        \r\n        return itemsArray;\r\n    }","title":"How to convert comma-separated String to List?","body":"<p>This method will convert your string to an array, taking two parameters:</p>\n<ul>\n<li>the string you want converted, and</li>\n<li>the characters that will separate the values in the string.</li>\n</ul>\n<p>It then returns the converted array.</p>\n<pre><code>private String[] convertStringToArray(String stringIn, String separators){\n    \n    // separate string into list depending on separators\n    List&lt;String&gt; tempList = Arrays.asList(stringIn.split(separators));\n    \n    // create a new pre-populated array based on the size of the list\n    String[] itemsArray = new String[tempList.size()];\n    \n    // convert the list to an array\n    itemsArray = tempList.toArray(itemsArray);\n    \n    return itemsArray;\n}\n</code></pre>\n"}],"owner":{"account_id":286979,"reputation":21420,"user_id":586528,"accept_rate":90,"display_name":"Jame"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1267180,"favorite_count":0,"down_vote_count":2,"up_vote_count":656,"accepted_answer_id":7488676,"answer_count":28,"score":654,"last_activity_date":1680612110,"creation_date":1316536802,"question_id":7488643,"body_markdown":"Is there any built-in method in Java which allows us to convert comma separated String to some container (e.g array, List or Vector)? Or do I need to write custom code for that? \r\n\r\n    String commaSeparated = &quot;item1 , item2 , item3&quot;;\r\n    List&lt;String&gt; items = //method that converts above string into list??","title":"How to convert comma-separated String to List?","body":"<p>Is there any built-in method in Java which allows us to convert comma separated String to some container (e.g array, List or Vector)? Or do I need to write custom code for that?</p>\n<pre><code>String commaSeparated = &quot;item1 , item2 , item3&quot;;\nList&lt;String&gt; items = //method that converts above string into list??\n</code></pre>\n"},{"tags":["java","mysql","spring"],"owner":{"account_id":25917617,"reputation":86,"user_id":19640780,"display_name":"Cosmin Drăguşanu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680612059,"creation_date":1680605712,"question_id":75928500,"body_markdown":"When I try to execute the mysql file inside my java spring app or when I try to make a method that executes a command like &quot;select * from table&quot; or to create a table\r\n```\r\nCREATE TABLE person (\r\n    id INT NOT NULL AUTO_INCREMENT,\r\n    first_name VARCHAR(255) NOT NULL,\r\n    last_name VARCHAR(255) NOT NULL,\r\n    PRIMARY KEY (id)\r\n);\r\n```\r\nI get Public Key Retrieval is not allowed error\r\n\r\nI have tried to change allowPublicKeyRetrieval to true and the useSSL to false both from DataGrip and from the properties file\r\n```\r\nspring.datasource.url=jdbc:mysql://127.0.0.1:3306/pjp_db?useSSL=false&amp;allowPublicKeyRetrieval=true\r\n```\r\nBut I still get the same error\r\nThis is the properties file\r\n```\r\nspring.datasource.url=jdbc:mysql://127.0.0.1:3306/pjp_db?useSSL=true&amp;allowPublicKeyRetrieval=true\r\nspring.datasource.username=root\r\nspring.datasource.password=Remxarnp2002\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.datasource.hikari.maximum-pool-size=10\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.autoconfigure.exclude=org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration\r\nspring.jpa.show-sql=true\r\nspring.flyway.baseline-on-migrate=true\r\n```","title":"I keep getting Public Key Retrieval is not allowed error","body":"<p>When I try to execute the mysql file inside my java spring app or when I try to make a method that executes a command like &quot;select * from table&quot; or to create a table</p>\n<pre><code>CREATE TABLE person (\n    id INT NOT NULL AUTO_INCREMENT,\n    first_name VARCHAR(255) NOT NULL,\n    last_name VARCHAR(255) NOT NULL,\n    PRIMARY KEY (id)\n);\n</code></pre>\n<p>I get Public Key Retrieval is not allowed error</p>\n<p>I have tried to change allowPublicKeyRetrieval to true and the useSSL to false both from DataGrip and from the properties file</p>\n<pre><code>spring.datasource.url=jdbc:mysql://127.0.0.1:3306/pjp_db?useSSL=false&amp;allowPublicKeyRetrieval=true\n</code></pre>\n<p>But I still get the same error\nThis is the properties file</p>\n<pre><code>spring.datasource.url=jdbc:mysql://127.0.0.1:3306/pjp_db?useSSL=true&amp;allowPublicKeyRetrieval=true\nspring.datasource.username=root\nspring.datasource.password=Remxarnp2002\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.hikari.maximum-pool-size=10\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\nspring.jpa.hibernate.ddl-auto=update\nspring.autoconfigure.exclude=org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration\nspring.jpa.show-sql=true\nspring.flyway.baseline-on-migrate=true\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","jdbc","hikaricp"],"owner":{"account_id":5336230,"reputation":5228,"user_id":4255107,"accept_rate":50,"display_name":"sonus21"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":465,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680611546,"creation_date":1680363630,"question_id":75907208,"body_markdown":"I have a Spring boot application that handles 1K QPS. One day Aurora Replica MySQL instance was restarted by AWS (it was a host replacement), so all our replica connection was lost but database came back online after some time but application could not recover from the connection error.  We kept getting the same error `No operations allowed after connection closed` until we restarted the app. \r\n\r\nApplication\r\n-\r\nSpring Boot: 2.3.12\r\n\r\nHikari Version: 3.4.5\r\n\r\n\r\nHikari Configuration:\r\n-\r\n- connectionTimeout = 3 seconds \r\n- idleTimeout = 10 minutes\r\n- maxLifeTime = 30 minutes\r\n- minimumIde = 15 \r\n- maximumPoolSize = 150\r\n- leakDetectionThreshold=3000\r\n\r\n\r\nWe observed a large number of errors like No operations allowed after the connection closed. post database restart, this error continues to occur until we restarted the application.\r\n\r\nOur Aurora RDS Replica node was restarted due to some issue (unknown to us), post replica restart all existing and new connections started throwing errors and the application kept getting the same error. Even after digging through the Hikari code, I&#39;m not able to find why Hikari kept getting the same error even though the database had recovered after some time.\r\n\r\nFor timeline, the database recovered at 7:48 PM but the application kept getting the same error till 8:02 PM (until restart).\r\n\r\nAll stack traces are the same that look like\r\n\r\n\r\n```com.mysql.cj.exceptions.ConnectionIsClosedException: No operations allowed after connection closed.\r\nat sun.reflect.GeneratedConstructorAccessor330.newInstance(Unknown Source) ~[na:na]at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_342]at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_342]\r\nat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.29.jar!/:8.0.29]\r\nat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.29.jar!/:8.0.29]\r\nat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-java-8.0.29.jar!/:8.0.29]\r\nat com.mysql.cj.NativeSession.checkClosed(NativeSession.java:761) ~[mysql-connector-java-8.0.29.jar!/:8.0.29]\r\nat com.mysql.cj.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:568) ~[mysql-connector-java-8.0.29.jar!/:8.0.29]\r\nat com.mysql.cj.jdbc.ConnectionImpl.setNetworkTimeout(ConnectionImpl.java:2481) ~[mysql-connector-java-8.0.29.jar!/:8.0.29]\r\n... 143 common frames omitted\r\nWrapped by: java.sql.SQLNonTransientConnectionException: No operations allowed after connection closed.\r\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110) ~[mysql-connector-java-8.0.29.jar!/:8.0.29]\r\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.29.jar!/:8.0.29]\r\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89) ~[mysql-connector-java-8.0.29.jar!/:8.0.29]\r\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63) ~[mysql-connector-java-8.0.29.jar!/:8.0.29]\r\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73) ~[mysql-connector-java-8.0.29.jar!/:8.0.29]\r\nat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:73) ~[mysql-connector-java-8.0.29.jar!/:8.0.29]\r\nat com.mysql.cj.jdbc.ConnectionImpl.setNetworkTimeout(ConnectionImpl.java:2485) ~[mysql-connector-java-8.0.29.jar!/:8.0.29]\r\nat com.zaxxer.hikari.pool.PoolBase.setNetworkTimeout(PoolBase.java:560) ~[HikariCP-3.4.5.jar!/:na]\r\nat com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:173) ~[HikariCP-3.4.5.jar!/:na]\r\nat com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:186) ~[HikariCP-3.4.5.jar!/:na]\r\nat com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162) ~[HikariCP-3.4.5.jar!/:na]\r\nat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:100) ~[HikariCP-3.4.5.jar!/:na]\r\n```\r\n\r\n\r\nAlso, we observed another warning message `Failed to validate connection` that lasted only for a few seconds, from the code it seems this error occurs when Hikari is able to catch the exception in the try-catch block in the isConnectionAlive method.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIn this case, as a database would have closed the connection so the driver is saying the connection has been closed but Hikari keeps trying to use the same connection again and again for a very long time. Error log for one of the containers, it kept getting the same error for 20 minutes until termination. \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nWhat could be the reason behind Hikari&#39;s repeated attempts to utilize the old/stale connection?\r\n\r\nOne possible explanation for Hikari&#39;s persistence in using the stale connection could be that they were not able to detect that the connection had been closed by the server, leading to repeated failed attempts to utilize them.\r\n\r\n\r\nI&#39;ve raised this [issue][3] on their GitHub page as well. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QbuSg.png\r\n  [2]: https://i.stack.imgur.com/LClN6.png\r\n  [3]: https://github.com/brettwooldridge/HikariCP/issues/2056","title":"Hikari can&#39;t recover from connection error","body":"<p>I have a Spring boot application that handles 1K QPS. One day Aurora Replica MySQL instance was restarted by AWS (it was a host replacement), so all our replica connection was lost but database came back online after some time but application could not recover from the connection error.  We kept getting the same error <code>No operations allowed after connection closed</code> until we restarted the app.</p>\n<h2>Application</h2>\n<p>Spring Boot: 2.3.12</p>\n<p>Hikari Version: 3.4.5</p>\n<h2>Hikari Configuration:</h2>\n<ul>\n<li>connectionTimeout = 3 seconds</li>\n<li>idleTimeout = 10 minutes</li>\n<li>maxLifeTime = 30 minutes</li>\n<li>minimumIde = 15</li>\n<li>maximumPoolSize = 150</li>\n<li>leakDetectionThreshold=3000</li>\n</ul>\n<p>We observed a large number of errors like No operations allowed after the connection closed. post database restart, this error continues to occur until we restarted the application.</p>\n<p>Our Aurora RDS Replica node was restarted due to some issue (unknown to us), post replica restart all existing and new connections started throwing errors and the application kept getting the same error. Even after digging through the Hikari code, I'm not able to find why Hikari kept getting the same error even though the database had recovered after some time.</p>\n<p>For timeline, the database recovered at 7:48 PM but the application kept getting the same error till 8:02 PM (until restart).</p>\n<p>All stack traces are the same that look like</p>\n<pre><code>at sun.reflect.GeneratedConstructorAccessor330.newInstance(Unknown Source) ~[na:na]at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_342]at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_342]\nat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.29.jar!/:8.0.29]\nat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.29.jar!/:8.0.29]\nat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-java-8.0.29.jar!/:8.0.29]\nat com.mysql.cj.NativeSession.checkClosed(NativeSession.java:761) ~[mysql-connector-java-8.0.29.jar!/:8.0.29]\nat com.mysql.cj.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:568) ~[mysql-connector-java-8.0.29.jar!/:8.0.29]\nat com.mysql.cj.jdbc.ConnectionImpl.setNetworkTimeout(ConnectionImpl.java:2481) ~[mysql-connector-java-8.0.29.jar!/:8.0.29]\n... 143 common frames omitted\nWrapped by: java.sql.SQLNonTransientConnectionException: No operations allowed after connection closed.\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110) ~[mysql-connector-java-8.0.29.jar!/:8.0.29]\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.29.jar!/:8.0.29]\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89) ~[mysql-connector-java-8.0.29.jar!/:8.0.29]\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63) ~[mysql-connector-java-8.0.29.jar!/:8.0.29]\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73) ~[mysql-connector-java-8.0.29.jar!/:8.0.29]\nat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:73) ~[mysql-connector-java-8.0.29.jar!/:8.0.29]\nat com.mysql.cj.jdbc.ConnectionImpl.setNetworkTimeout(ConnectionImpl.java:2485) ~[mysql-connector-java-8.0.29.jar!/:8.0.29]\nat com.zaxxer.hikari.pool.PoolBase.setNetworkTimeout(PoolBase.java:560) ~[HikariCP-3.4.5.jar!/:na]\nat com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:173) ~[HikariCP-3.4.5.jar!/:na]\nat com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:186) ~[HikariCP-3.4.5.jar!/:na]\nat com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162) ~[HikariCP-3.4.5.jar!/:na]\nat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:100) ~[HikariCP-3.4.5.jar!/:na]\n</code></pre>\n<p>Also, we observed another warning message <code>Failed to validate connection</code> that lasted only for a few seconds, from the code it seems this error occurs when Hikari is able to catch the exception in the try-catch block in the isConnectionAlive method.</p>\n<p><a href=\"https://i.stack.imgur.com/QbuSg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QbuSg.png\" alt=\"enter image description here\" /></a></p>\n<p>In this case, as a database would have closed the connection so the driver is saying the connection has been closed but Hikari keeps trying to use the same connection again and again for a very long time. Error log for one of the containers, it kept getting the same error for 20 minutes until termination.</p>\n<p><a href=\"https://i.stack.imgur.com/LClN6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LClN6.png\" alt=\"enter image description here\" /></a></p>\n<p>What could be the reason behind Hikari's repeated attempts to utilize the old/stale connection?</p>\n<p>One possible explanation for Hikari's persistence in using the stale connection could be that they were not able to detect that the connection had been closed by the server, leading to repeated failed attempts to utilize them.</p>\n<p>I've raised this <a href=\"https://github.com/brettwooldridge/HikariCP/issues/2056\" rel=\"nofollow noreferrer\">issue</a> on their GitHub page as well.</p>\n"},{"tags":["java","garbage-collection","jvm","heap-memory"],"comments":[{"owner":{"account_id":4283,"reputation":43742,"user_id":6372,"accept_rate":86,"display_name":"Nicholas Riley"},"score":0,"creation_date":1264369979,"post_id":2129044,"comment_id":97227019,"body_markdown":"Assuming you&#39;re talking about the Sun JDK/OpenJDK, see the page on the OpenJDK website on [Storage Management](http://openjdk.java.net/groups/hotspot/docs/StorageManagement.html). There are a couple of links to even more information at the bottom.","body":"Assuming you&#39;re talking about the Sun JDK/OpenJDK, see the page on the OpenJDK website on <a href=\"http://openjdk.java.net/groups/hotspot/docs/StorageManagement.html\" rel=\"nofollow noreferrer\">Storage Management</a>. There are a couple of links to even more information at the bottom."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":1,"creation_date":1413792722,"post_id":2129044,"comment_id":41561320,"body_markdown":"also related with this question &quot;tenured generation&quot;","body":"also related with this question &quot;tenured generation&quot;"},{"owner":{"account_id":32555,"reputation":964,"user_id":90432,"accept_rate":58,"display_name":"Benedikt"},"score":0,"creation_date":1691181724,"post_id":2129044,"comment_id":135462578,"body_markdown":"If you are still looking, here is a great video that explains old and young generation in the GC: https://youtu.be/OnodHoNYE1Y","body":"If you are still looking, here is a great video that explains old and young generation in the GC: <a href=\"https://youtu.be/OnodHoNYE1Y\" rel=\"nofollow noreferrer\">youtu.be/OnodHoNYE1Y</a>"}],"answers":[{"tags":[],"owner":{"account_id":94449,"reputation":416,"user_id":257888,"display_name":"Mark R"},"comment_count":0,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1264370258,"creation_date":1264370258,"answer_id":2129073,"question_id":2129044,"body_markdown":"The Java virtual machine is organized into three generations: a young generation, an old generation, and a permanent generation. Most objects are initially allocated in the young generation. The old generation contains objects that have survived some number of young generation collections, as well as some large objects that may be allocated directly in the old generation. The permanent generation holds objects that the JVM finds convenient to have the garbage collector manage, such as objects describing classes and methods, as well as the classes and methods themselves.","title":"Java heap terminology: young, old and permanent generations?","body":"<p>The Java virtual machine is organized into three generations: a young generation, an old generation, and a permanent generation. Most objects are initially allocated in the young generation. The old generation contains objects that have survived some number of young generation collections, as well as some large objects that may be allocated directly in the old generation. The permanent generation holds objects that the JVM finds convenient to have the garbage collector manage, such as objects describing classes and methods, as well as the classes and methods themselves.</p>\n"},{"comments":[{"owner":{"account_id":92888,"reputation":23538,"user_id":254364,"accept_rate":83,"display_name":"Tim Goodman"},"score":3,"creation_date":1379958961,"post_id":2129294,"comment_id":28011668,"body_markdown":"I believe that as of Java 7, strings are no longer interned in the permanent generation.","body":"I believe that as of Java 7, strings are no longer interned in the permanent generation."},{"owner":{"account_id":191,"reputation":24539,"user_id":235,"display_name":"Joshua McKinnon"},"score":0,"creation_date":1379961049,"post_id":2129294,"comment_id":28012652,"body_markdown":"You&#39;re right, I&#39;m surprised this survived so long before a mention. Then in Java 8 permanent generation will get replaced by metaspace (although I&#39;m not sure how different this will really be, other than being unbounded by default)","body":"You&#39;re right, I&#39;m surprised this survived so long before a mention. Then in Java 8 permanent generation will get replaced by metaspace (although I&#39;m not sure how different this will really be, other than being unbounded by default)"},{"owner":{"account_id":1073628,"reputation":191,"user_id":1072291,"display_name":"joadha"},"score":14,"creation_date":1391462298,"post_id":2129294,"comment_id":32523981,"body_markdown":"Joshua -- is &quot;old&quot; synonymous with &quot;tenured,&quot; and is &quot;new&quot; synonymous with &quot;survivor?&quot;","body":"Joshua -- is &quot;old&quot; synonymous with &quot;tenured,&quot; and is &quot;new&quot; synonymous with &quot;survivor?&quot;"},{"owner":{"account_id":178358,"reputation":25369,"user_id":410289,"accept_rate":0,"display_name":"Jackie"},"score":2,"creation_date":1402533622,"post_id":2129294,"comment_id":37314661,"body_markdown":"the perm gen is only applicable prior to Java 8.","body":"the perm gen is only applicable prior to Java 8."},{"owner":{"account_id":347553,"reputation":6607,"user_id":1145285,"accept_rate":97,"display_name":"Bhavik Ambani"},"score":0,"creation_date":1420059061,"post_id":2129294,"comment_id":43864516,"body_markdown":"@lwpro2 In 8 permGen is not removed but it is placed in the Old Generation section.","body":"@lwpro2 In 8 permGen is not removed but it is placed in the Old Generation section."},{"owner":{"account_id":3434525,"reputation":3626,"user_id":2877945,"accept_rate":35,"display_name":"Vikas Verma"},"score":0,"creation_date":1439895071,"post_id":2129294,"comment_id":52037437,"body_markdown":"@Joshua McKinnon Hello sir, I have one question that what is the use of the different memory spaces for variable and I&#39;m specifically talking about Eden, Survivor and Tenured space ?","body":"@Joshua McKinnon Hello sir, I have one question that what is the use of the different memory spaces for variable and I&#39;m specifically talking about Eden, Survivor and Tenured space ?"},{"owner":{"account_id":242066,"reputation":17256,"user_id":513342,"accept_rate":85,"display_name":"Oleg Mikheev"},"score":0,"creation_date":1477926819,"post_id":2129294,"comment_id":67944310,"body_markdown":"Thanks for mentioning Oracle. I never had to bother about PermGen on IBM JDK.","body":"Thanks for mentioning Oracle. I never had to bother about PermGen on IBM JDK."},{"owner":{"display_name":"user6091735"},"score":0,"creation_date":1496987982,"post_id":2129294,"comment_id":75897476,"body_markdown":"excellent..may i know where method area, nativestack and runtime constant pool resides in this picture? and what they hold accordingly?","body":"excellent..may i know where method area, nativestack and runtime constant pool resides in this picture? and what they hold accordingly?"},{"owner":{"account_id":9910462,"reputation":176,"user_id":7337391,"display_name":"recepinanc"},"score":2,"creation_date":1575830428,"post_id":2129294,"comment_id":104688699,"body_markdown":"In case you are still waiting for an answer, yes you are right @joadha. Check out this link: https://codeahoy.com/2017/08/06/basics-of-java-garbage-collection/","body":"In case you are still waiting for an answer, yes you are right @joadha. Check out this link: <a href=\"https://codeahoy.com/2017/08/06/basics-of-java-garbage-collection/\" rel=\"nofollow noreferrer\">codeahoy.com/2017/08/06/basics-of-java-garbage-collection</a>"},{"owner":{"account_id":11346074,"reputation":2935,"user_id":11204066,"display_name":"Hayk Mkrtchyan"},"score":0,"creation_date":1645356788,"post_id":2129294,"comment_id":125844911,"body_markdown":"Well, but what gives us this generations? Assume, if our object which survived several times, goes to the old generation. But how is the algorithm of GC applied for this generations? What if my object in old generation has no references anymore?","body":"Well, but what gives us this generations? Assume, if our object which survived several times, goes to the old generation. But how is the algorithm of GC applied for this generations? What if my object in old generation has no references anymore?"}],"tags":[],"owner":{"account_id":191,"reputation":24539,"user_id":235,"display_name":"Joshua McKinnon"},"comment_count":10,"down_vote_count":1,"up_vote_count":334,"is_accepted":true,"score":333,"last_activity_date":1552990685,"creation_date":1264374142,"answer_id":2129294,"question_id":2129044,"body_markdown":"This seems like a common misunderstanding. In Oracle&#39;s JVM, the permanent generation is not part of the heap. It&#39;s a separate space for class definitions and related data. In Java 6 and earlier, interned strings were also stored in the permanent generation. In Java 7, interned strings are stored in the main object heap.\r\n\r\nHere is a good post on [permanent generation][1].\r\n\r\nI like the descriptions given for each space in Oracle&#39;s [guide on JConsole][2]:\r\n\r\n&gt; For the HotSpot Java VM, the memory\r\n&gt; pools for serial garbage collection\r\n&gt; are the following.\r\n&gt; \r\n&gt; - Eden Space (heap): The pool from which memory is initially allocated\r\n&gt; for most objects.\r\n&gt; - Survivor Space (heap): The pool containing objects that have survived\r\n&gt; the garbage collection of the Eden\r\n&gt; space.\r\n&gt; - Tenured Generation (heap): The pool containing objects that have existed\r\n&gt; for some time in the survivor space.\r\n&gt; - Permanent Generation (non-heap): The pool containing all the reflective\r\n&gt; data of the virtual machine itself,\r\n&gt; such as class and method objects. With\r\n&gt; Java VMs that use class data sharing,\r\n&gt; this generation is divided into\r\n&gt; read-only and read-write areas.\r\n&gt; - Code Cache (non-heap): The HotSpot Java VM also includes a code cache,\r\n&gt; containing memory that is used for\r\n&gt; compilation and storage of native\r\n&gt; code.\r\n\r\n\r\n\r\nJava uses generational garbage collection. This means that if you have an object foo (which is an instance of some class), the more garbage collection events it survives (if there are still references to it), the further it gets promoted. It starts in the young generation (which itself is divided into multiple spaces - Eden and Survivor) and would eventually end up in the tenured generation if it survived long enough.\r\n\r\n  [1]: https://blogs.oracle.com/jonthecollector/entry/presenting_the_permanent_generation\r\n  [2]: http://docs.oracle.com/javase/7/docs/technotes/guides/management/jconsole.html","title":"Java heap terminology: young, old and permanent generations?","body":"<p>This seems like a common misunderstanding. In Oracle's JVM, the permanent generation is not part of the heap. It's a separate space for class definitions and related data. In Java 6 and earlier, interned strings were also stored in the permanent generation. In Java 7, interned strings are stored in the main object heap.</p>\n\n<p>Here is a good post on <a href=\"https://blogs.oracle.com/jonthecollector/entry/presenting_the_permanent_generation\" rel=\"noreferrer\">permanent generation</a>.</p>\n\n<p>I like the descriptions given for each space in Oracle's <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/management/jconsole.html\" rel=\"noreferrer\">guide on JConsole</a>:</p>\n\n<blockquote>\n  <p>For the HotSpot Java VM, the memory\n  pools for serial garbage collection\n  are the following.</p>\n  \n  <ul>\n  <li>Eden Space (heap): The pool from which memory is initially allocated\n  for most objects.</li>\n  <li>Survivor Space (heap): The pool containing objects that have survived\n  the garbage collection of the Eden\n  space.</li>\n  <li>Tenured Generation (heap): The pool containing objects that have existed\n  for some time in the survivor space.</li>\n  <li>Permanent Generation (non-heap): The pool containing all the reflective\n  data of the virtual machine itself,\n  such as class and method objects. With\n  Java VMs that use class data sharing,\n  this generation is divided into\n  read-only and read-write areas.</li>\n  <li>Code Cache (non-heap): The HotSpot Java VM also includes a code cache,\n  containing memory that is used for\n  compilation and storage of native\n  code.</li>\n  </ul>\n</blockquote>\n\n<p>Java uses generational garbage collection. This means that if you have an object foo (which is an instance of some class), the more garbage collection events it survives (if there are still references to it), the further it gets promoted. It starts in the young generation (which itself is divided into multiple spaces - Eden and Survivor) and would eventually end up in the tenured generation if it survived long enough.</p>\n"},{"tags":[],"owner":{"account_id":3963230,"reputation":121,"user_id":3269857,"display_name":"KrityAg"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1435589918,"creation_date":1435589918,"answer_id":31118989,"question_id":2129044,"body_markdown":"Memory in SunHotSpot JVM is organized into three generations: young generation, old generation and permanent generation. \r\n\r\n - Young Generation : the newly created objects are allocated to the young gen.\r\n - Old Generation : If the new object requests for a larger heap space, it gets allocated directly into the old gen. Also objects which have survived a few GC cycles gets promoted to the old gen i.e long lived objects house in old gen. \r\n - Permanent Generation : The permanent generation holds objects that the JVM finds convenient to have the garbage collector manage, such as objects describing classes and methods, as well as the classes and methods themselves.\r\n\r\nFYI: The permanent gen is not considered a part of the Java heap.\r\n\r\n**How does the three generations interact/relate to each other?**\r\n      Objects(except the large ones) are first allocated to the young generation. If an object remain alive after x no. of garbage collection cycles it gets promoted to the old/tenured gen. Hence we can say that the young gen contains the short lived objects while the old gen contains the objects having a long life. The permanent gen does not interact with the other two generations.","title":"Java heap terminology: young, old and permanent generations?","body":"<p>Memory in SunHotSpot JVM is organized into three generations: young generation, old generation and permanent generation. </p>\n\n<ul>\n<li>Young Generation : the newly created objects are allocated to the young gen.</li>\n<li>Old Generation : If the new object requests for a larger heap space, it gets allocated directly into the old gen. Also objects which have survived a few GC cycles gets promoted to the old gen i.e long lived objects house in old gen. </li>\n<li>Permanent Generation : The permanent generation holds objects that the JVM finds convenient to have the garbage collector manage, such as objects describing classes and methods, as well as the classes and methods themselves.</li>\n</ul>\n\n<p>FYI: The permanent gen is not considered a part of the Java heap.</p>\n\n<p><strong>How does the three generations interact/relate to each other?</strong>\n      Objects(except the large ones) are first allocated to the young generation. If an object remain alive after x no. of garbage collection cycles it gets promoted to the old/tenured gen. Hence we can say that the young gen contains the short lived objects while the old gen contains the objects having a long life. The permanent gen does not interact with the other two generations.</p>\n"}],"owner":{"account_id":23344,"reputation":49339,"user_id":58394,"accept_rate":99,"display_name":"knorv"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283448,"favorite_count":0,"down_vote_count":1,"up_vote_count":359,"accepted_answer_id":2129294,"answer_count":3,"score":358,"last_activity_date":1680611261,"creation_date":1264369875,"question_id":2129044,"body_markdown":"I&#39;m trying to understand What the concepts of &lt;b&gt;young&lt;/b&gt;, &lt;b&gt;old&lt;/b&gt; and &lt;b&gt;permanent generations&lt;/b&gt; are in the Java heap terminology, and more specifically the interactions between the three generations.\r\n\r\nMy questions are:\r\n\r\n* What is the young generation?\r\n* What is the old generation?\r\n* What is the permanent generation?\r\n* How does the three generations interact/relate to each other?\r\n","title":"Java heap terminology: young, old and permanent generations?","body":"<p>I'm trying to understand What the concepts of <b>young</b>, <b>old</b> and <b>permanent generations</b> are in the Java heap terminology, and more specifically the interactions between the three generations.</p>\n\n<p>My questions are:</p>\n\n<ul>\n<li>What is the young generation?</li>\n<li>What is the old generation?</li>\n<li>What is the permanent generation?</li>\n<li>How does the three generations interact/relate to each other?</li>\n</ul>\n"},{"tags":["java","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"score":0,"creation_date":1680607781,"post_id":75928645,"comment_id":133923462,"body_markdown":"can you share the log error","body":"can you share the log error"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1680608552,"post_id":75928645,"comment_id":133923663,"body_markdown":"Does this answer your question? [How can I get value from application.yaml in test environment](https://stackoverflow.com/questions/75875823/how-can-i-get-value-from-application-yaml-in-test-environment)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/75875823/how-can-i-get-value-from-application-yaml-in-test-environment\">How can I get value from application.yaml in test environment</a>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1680610439,"post_id":75928645,"comment_id":133924185,"body_markdown":"Your test is using Mockito and nothing Spring related so the `@Value` won&#39;t be replaced.","body":"Your test is using Mockito and nothing Spring related so the <code>@Value</code> won&#39;t be replaced."},{"owner":{"account_id":9210277,"reputation":201,"user_id":6843798,"display_name":"S.R.D"},"score":0,"creation_date":1680611185,"post_id":75928645,"comment_id":133924394,"body_markdown":"Hello See i have added error log for this line(link = uploadFileToS3(bucketName, Regions.US_WEST_2, uuid + &quot;.zip&quot;, file);) i am getting error .","body":"Hello See i have added error log for this line(link = uploadFileToS3(bucketName, Regions.US_WEST_2, uuid + &quot;.zip&quot;, file);) i am getting error ."}],"answers":[{"tags":[],"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680608163,"creation_date":1680608163,"answer_id":75928886,"question_id":75928645,"body_markdown":"You can try adding @SpringBootTest  on your test calss AsyncPublisherServiceImplTest to force spring to load ApplicationContext\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    @SpringBootTest \r\n    @MockitoSettings(strictness = Strictness.LENIENT)\r\n    public class AsyncPublisherServiceImplTest {\r\n    \r\n        @InjectMocks\r\n        private AsyncPublisherServiceImpl asyncPublisherServiceImpl;\r\n    \r\n        @Mock\r\n        private AsyncPublisherDao dao;\r\n        @Mock\r\n        private AsyncUtil asyncUtil;\r\n        @Mock\r\n        private ClientListenerService techpulseservice;\r\n    \r\n        @Test\r\n        void publish() {\r\n            String link = null;\r\n            PublisherRequest PublisherRequest = RequestUtils.getPublisherRequest();\r\n    \r\n            lenient().when(dao.isValidCount(ConstantsTest.UUID)).thenReturn(true);\r\n            File file = new File(AsyncUtil.sanitizePathandfilename(ConstantsTest.UUID + &quot;.zip&quot;));\r\n            assertNotNull(asyncPublisherServiceImpl.publish(PublisherRequest.getUuid(), ConstantsTest.UnitOfWorkId));\r\n        }\r\n    \r\n    }","title":"Facing difficulty while accessing properties.yml file data using Junit","body":"<p>You can try adding @SpringBootTest  on your test calss AsyncPublisherServiceImplTest to force spring to load ApplicationContext</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n@SpringBootTest \n@MockitoSettings(strictness = Strictness.LENIENT)\npublic class AsyncPublisherServiceImplTest {\n\n    @InjectMocks\n    private AsyncPublisherServiceImpl asyncPublisherServiceImpl;\n\n    @Mock\n    private AsyncPublisherDao dao;\n    @Mock\n    private AsyncUtil asyncUtil;\n    @Mock\n    private ClientListenerService techpulseservice;\n\n    @Test\n    void publish() {\n        String link = null;\n        PublisherRequest PublisherRequest = RequestUtils.getPublisherRequest();\n\n        lenient().when(dao.isValidCount(ConstantsTest.UUID)).thenReturn(true);\n        File file = new File(AsyncUtil.sanitizePathandfilename(ConstantsTest.UUID + &quot;.zip&quot;));\n        assertNotNull(asyncPublisherServiceImpl.publish(PublisherRequest.getUuid(), ConstantsTest.UnitOfWorkId));\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":9210277,"reputation":201,"user_id":6843798,"display_name":"S.R.D"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680611094,"creation_date":1680606615,"question_id":75928645,"body_markdown":"&gt; This is my test Class &quot;AsyncPublisherServiceImplTest&quot; and my mock class is &quot;AsyncPublisherServiceImpl&quot; while mocking i am getting null data for this properties **&quot;@Value(&quot;${aws.s3.bucketName}&quot;)\r\n\tprivate String bucketName;&quot;** , Could you please help me that how i could get value for this properties.\r\n&gt; \r\n&gt; getting null for bucketName here while passing  &quot;**link = uploadFileToS3(bucketName, Regions.US_WEST_2, uuid + &quot;.zip&quot;, file)**&quot;\r\n\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    @MockitoSettings(strictness = Strictness.LENIENT)\r\n    public class AsyncPublisherServiceImplTest {\r\n    \r\n    \t@InjectMocks\r\n    \tprivate AsyncPublisherServiceImpl asyncPublisherServiceImpl;\r\n    \r\n    \t@Mock\r\n    \tprivate AsyncPublisherDao dao;\r\n    \t@Mock\r\n    \tprivate AsyncUtil asyncUtil;\r\n    \t@Mock\r\n    \tprivate ClientListenerService techpulseservice;\r\n    \r\n    \t@Test\r\n    \tvoid publish() {\r\n    \t\tString link = null;\r\n    \t\tPublisherRequest PublisherRequest = RequestUtils.getPublisherRequest();\r\n    \r\n    \t\tlenient().when(dao.isValidCount(ConstantsTest.UUID)).thenReturn(true);\r\n    \t\tFile file = new File(AsyncUtil.sanitizePathandfilename(ConstantsTest.UUID + &quot;.zip&quot;));\r\n    \t\tassertNotNull(asyncPublisherServiceImpl.publish(PublisherRequest.getUuid(), ConstantsTest.UnitOfWorkId));\r\n    \t}\r\n    \r\n    }\r\n\r\n&gt; Mock class is &quot;AsyncPublisherServiceImpl&quot;\r\n\r\n    @Service\r\n    @Transactional\r\n    public class AsyncPublisherServiceImpl implements AsyncPublisherService {\r\n    \tLogger logger = LoggerFactory.getLogger(this.getClass().getName());\r\n    \t@Autowired\r\n    \tprivate AsyncPublisherDao dao;\r\n    \t@Autowired\r\n    \tprivate AsyncUtil asyncUtil;\r\n    \t@Autowired\r\n    \tprivate ClientListenerService techpulseservice;\r\n    \r\n    \t@Value(&quot;${aws.s3.bucketName}&quot;)\r\n    \tprivate String bucketName;\r\n    \r\n    \t@Override\r\n    \tpublic boolean publish(final String uuid, final String userName) {\r\n    \t\tboolean validCount = dao.isValidCount(uuid);\r\n    \r\n    \t\tif (validCount) {\r\n    \t\t\ttry {\r\n    \t\t\t\tdao.updateMainStatus(uuid, Status.Processed.name());\r\n    \t\t\t\tlogger.info(&quot;current state--&gt;&quot; + Status.Processed.name());\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t\tthrow new StatusUpdateException(&quot;Exception while updating status in DB&quot;);\r\n    \t\t\t}\r\n    \t\t\tfinal List&lt;JsonNode&gt; response = dao.fetchResponse(uuid, Status.Completed.name());\r\n    \r\n    \t\t\tif (response != null) {\r\n    \t\t\t\t// create a zip file for all json response\r\n    \t\t\t\tObjectMapper om = new ObjectMapper();\r\n    \r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tlogger.info(&quot;response from db ---&gt;&quot; + om.writeValueAsString(response));\r\n    \t\t\t\t} catch (JsonProcessingException e1) {\r\n    \t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\te1.printStackTrace();\r\n    \t\t\t\t\tthrow new InternalErrorException(&quot;Exception while processing Json&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\tbyte[] bytestream = asyncUtil.generateZip(uuid, response);\r\n    \t\t\t\tlogger.info(&quot;bytestream---&gt;&quot; + bytestream.toString());\r\n    \t\t\t\tlogger.info(&quot;Zip file process started ---&gt;&quot; + uuid);\r\n    \t\t\t\t// upload file to s3 bucket\r\n    \t\t\t\tFile file = new File(AsyncUtil.sanitizePathandfilename(uuid + &quot;.zip&quot;));\r\n    \t\t\t\tString link = null;\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tFileUtils.writeByteArrayToFile(file, bytestream);\r\n    \t\t\t\t\tlogger.info(&quot;Zip file generated---&gt;&quot; + uuid);\r\n    \t\t\t\t\tlink = uploadFileToS3(bucketName, Regions.US_WEST_2, uuid + &quot;.zip&quot;, file);\r\n    \t\t\t\t} catch (IOException e) {\r\n    \t\t\t\t\tlogger.error(&quot;exception in generating zip file&quot; + e.getMessage());\r\n    \t\t\t\t\tthrow new CommonException(&quot;Exception while uploading file&quot;);\r\n    \t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\tlogger.error(&quot;exception in generating zip file&quot; + e.getMessage());\r\n    \t\t\t\t\tthrow new CommonException(&quot;Exception while uploading file&quot;);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tdao.updateLink(uuid, link);\r\n    \t\t\t\t// publish zip file to techpulse listner\r\n    \t\t\t\tlogger.info(&quot;file uploaded to S3 bucket--&gt;&quot; + uuid);\r\n    \t\t\t\ttry {\r\n    \r\n    \t\t\t\t\ttechpulseservice.callRemoteListenerService(uuid, userName, true, file);\r\n    \t\t\t\t} catch (FileNotFoundException e) {\r\n    \t\t\t\t\tlogger.error(&quot;Exception in calling tech pulse&quot; + e.getMessage());\r\n    \t\t\t\t\tthrow new CommonException(&quot;Exception while receiving file&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tdao.updateStatus(uuid, Status.Completed.name());\r\n    \t\t\tlogger.info(&quot;current child state--&gt;&quot; + Status.Completed.name());\r\n    \t\t}\r\n    \t\treturn validCount;\r\n    \t}\r\n\r\n&gt; YML\r\naws:\r\n  s3:\r\n    region: &quot;us-west-2&quot;\r\n    bucketName: &quot;hpmap-pro-development-os-asyncmulti&quot; \r\n&gt; Error Log\r\n\r\n    com.hp.it.psoit.asyncdelegator.exception.CommonException: Exception while uploading file\r\n    \tat com.hp.it.psoit.asyncdelegator.service.impl.AsyncPublisherServiceImpl.publish(AsyncPublisherServiceImpl.java:85)\r\n    \tat com.hp.it.psoit.asyncdelegator.service.impl.AsyncPublisherServiceImplTest.publish(AsyncPublisherServiceImplTest.java:66)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n    \tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\r\n","title":"Facing difficulty while accessing properties.yml file data using Junit","body":"<blockquote>\n<p>This is my test Class &quot;AsyncPublisherServiceImplTest&quot; and my mock class is &quot;AsyncPublisherServiceImpl&quot; while mocking i am getting null data for this properties <strong>&quot;@Value(&quot;${aws.s3.bucketName}&quot;)\nprivate String bucketName;&quot;</strong> , Could you please help me that how i could get value for this properties.</p>\n<p>getting null for bucketName here while passing  &quot;<strong>link = uploadFileToS3(bucketName, Regions.US_WEST_2, uuid + &quot;.zip&quot;, file)</strong>&quot;</p>\n</blockquote>\n<pre><code>@ExtendWith(MockitoExtension.class)\n@MockitoSettings(strictness = Strictness.LENIENT)\npublic class AsyncPublisherServiceImplTest {\n\n    @InjectMocks\n    private AsyncPublisherServiceImpl asyncPublisherServiceImpl;\n\n    @Mock\n    private AsyncPublisherDao dao;\n    @Mock\n    private AsyncUtil asyncUtil;\n    @Mock\n    private ClientListenerService techpulseservice;\n\n    @Test\n    void publish() {\n        String link = null;\n        PublisherRequest PublisherRequest = RequestUtils.getPublisherRequest();\n\n        lenient().when(dao.isValidCount(ConstantsTest.UUID)).thenReturn(true);\n        File file = new File(AsyncUtil.sanitizePathandfilename(ConstantsTest.UUID + &quot;.zip&quot;));\n        assertNotNull(asyncPublisherServiceImpl.publish(PublisherRequest.getUuid(), ConstantsTest.UnitOfWorkId));\n    }\n\n}\n</code></pre>\n<blockquote>\n<p>Mock class is &quot;AsyncPublisherServiceImpl&quot;</p>\n</blockquote>\n<pre><code>@Service\n@Transactional\npublic class AsyncPublisherServiceImpl implements AsyncPublisherService {\n    Logger logger = LoggerFactory.getLogger(this.getClass().getName());\n    @Autowired\n    private AsyncPublisherDao dao;\n    @Autowired\n    private AsyncUtil asyncUtil;\n    @Autowired\n    private ClientListenerService techpulseservice;\n\n    @Value(&quot;${aws.s3.bucketName}&quot;)\n    private String bucketName;\n\n    @Override\n    public boolean publish(final String uuid, final String userName) {\n        boolean validCount = dao.isValidCount(uuid);\n\n        if (validCount) {\n            try {\n                dao.updateMainStatus(uuid, Status.Processed.name());\n                logger.info(&quot;current state--&gt;&quot; + Status.Processed.name());\n            } catch (Exception e) {\n                e.printStackTrace();\n                throw new StatusUpdateException(&quot;Exception while updating status in DB&quot;);\n            }\n            final List&lt;JsonNode&gt; response = dao.fetchResponse(uuid, Status.Completed.name());\n\n            if (response != null) {\n                // create a zip file for all json response\n                ObjectMapper om = new ObjectMapper();\n\n                try {\n                    logger.info(&quot;response from db ---&gt;&quot; + om.writeValueAsString(response));\n                } catch (JsonProcessingException e1) {\n                    // TODO Auto-generated catch block\n                    e1.printStackTrace();\n                    throw new InternalErrorException(&quot;Exception while processing Json&quot;);\n                }\n                byte[] bytestream = asyncUtil.generateZip(uuid, response);\n                logger.info(&quot;bytestream---&gt;&quot; + bytestream.toString());\n                logger.info(&quot;Zip file process started ---&gt;&quot; + uuid);\n                // upload file to s3 bucket\n                File file = new File(AsyncUtil.sanitizePathandfilename(uuid + &quot;.zip&quot;));\n                String link = null;\n                try {\n                    FileUtils.writeByteArrayToFile(file, bytestream);\n                    logger.info(&quot;Zip file generated---&gt;&quot; + uuid);\n                    link = uploadFileToS3(bucketName, Regions.US_WEST_2, uuid + &quot;.zip&quot;, file);\n                } catch (IOException e) {\n                    logger.error(&quot;exception in generating zip file&quot; + e.getMessage());\n                    throw new CommonException(&quot;Exception while uploading file&quot;);\n                } catch (Exception e) {\n                    logger.error(&quot;exception in generating zip file&quot; + e.getMessage());\n                    throw new CommonException(&quot;Exception while uploading file&quot;);\n                }\n\n                dao.updateLink(uuid, link);\n                // publish zip file to techpulse listner\n                logger.info(&quot;file uploaded to S3 bucket--&gt;&quot; + uuid);\n                try {\n\n                    techpulseservice.callRemoteListenerService(uuid, userName, true, file);\n                } catch (FileNotFoundException e) {\n                    logger.error(&quot;Exception in calling tech pulse&quot; + e.getMessage());\n                    throw new CommonException(&quot;Exception while receiving file&quot;);\n                }\n            }\n            dao.updateStatus(uuid, Status.Completed.name());\n            logger.info(&quot;current child state--&gt;&quot; + Status.Completed.name());\n        }\n        return validCount;\n    }\n</code></pre>\n<blockquote>\n<p>YML\naws:\ns3:\nregion: &quot;us-west-2&quot;\nbucketName: &quot;hpmap-pro-development-os-asyncmulti&quot;\nError Log</p>\n</blockquote>\n<pre><code>com.hp.it.psoit.asyncdelegator.exception.CommonException: Exception while uploading file\n    at com.hp.it.psoit.asyncdelegator.service.impl.AsyncPublisherServiceImpl.publish(AsyncPublisherServiceImpl.java:85)\n    at com.hp.it.psoit.asyncdelegator.service.impl.AsyncPublisherServiceImplTest.publish(AsyncPublisherServiceImplTest.java:66)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-tool-suite"],"comments":[{"owner":{"account_id":12858978,"reputation":231,"user_id":9301392,"display_name":"AnushaSP07"},"score":0,"creation_date":1634058208,"post_id":50764343,"comment_id":122922617,"body_markdown":"try below steps it worked for me https://stackoverflow.com/a/59569901/9301392 thanks @user2125853","body":"try below steps it worked for me <a href=\"https://stackoverflow.com/a/59569901/9301392\">stackoverflow.com/a/59569901/9301392</a> thanks @user2125853"}],"answers":[{"comments":[{"owner":{"account_id":251990,"reputation":1302,"user_id":529734,"accept_rate":75,"display_name":"devo"},"score":5,"creation_date":1542222100,"post_id":50764685,"comment_id":93494874,"body_markdown":"This should be the accepted answer instead of the workarounds above.  Also, this will help with other issues such as installing plugins from marketplace.","body":"This should be the accepted answer instead of the workarounds above.  Also, this will help with other issues such as installing plugins from marketplace."},{"owner":{"account_id":1979166,"reputation":145,"user_id":1776181,"accept_rate":62,"display_name":"deepakguna"},"score":0,"creation_date":1609395520,"post_id":50764685,"comment_id":115832326,"body_markdown":"you saved my day! Thank you!","body":"you saved my day! Thank you!"}],"tags":[],"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1528474513,"creation_date":1528474513,"answer_id":50764685,"question_id":50764343,"body_markdown":"The simplest solution is to install your corporate certificate into the `cacerts` keystore of the JDK.\r\n\r\n    &lt;JAVA_HOME&gt;/bin/keytool -import -alias CorpProxy -keystore &lt;JAVA_HOME&gt;/jre/lib/security/cacerts -file your_corp_cert.crt\r\n\r\nYou will be prompted for the keystore password which is `changeit` by default.\r\n","title":"Spring tool suite- SunCertPathBuilderException: unable to find valid certification path to requested target","body":"<p>The simplest solution is to install your corporate certificate into the <code>cacerts</code> keystore of the JDK.</p>\n\n<pre><code>&lt;JAVA_HOME&gt;/bin/keytool -import -alias CorpProxy -keystore &lt;JAVA_HOME&gt;/jre/lib/security/cacerts -file your_corp_cert.crt\n</code></pre>\n\n<p>You will be prompted for the keystore password which is <code>changeit</code> by default.</p>\n"},{"comments":[{"owner":{"account_id":227064,"reputation":7408,"user_id":488505,"accept_rate":65,"display_name":"Vikram Ranabhatt"},"score":8,"creation_date":1567593477,"post_id":52748918,"comment_id":102006633,"body_markdown":"This doesn&#39;t work in Spring Tool Suite 3 Version: 3.9.9.RELEASE\nThe moment i add  http://start.spring.io it get changed to  https://start.spring.io automatically.","body":"This doesn&#39;t work in Spring Tool Suite 3 Version: 3.9.9.RELEASE The moment i add  <a href=\"http://start.spring.io\" rel=\"nofollow noreferrer\">start.spring.io</a> it get changed to  <a href=\"https://start.spring.io\" rel=\"nofollow noreferrer\">start.spring.io</a> automatically."},{"owner":{"account_id":2435943,"reputation":1275,"user_id":2125853,"accept_rate":77,"display_name":"user2125853"},"score":2,"creation_date":1577998936,"post_id":52748918,"comment_id":105307644,"body_markdown":"Seems like http gets redirected to https, so this may not work.  I have added an answer to list what I did to get it to work.","body":"Seems like http gets redirected to https, so this may not work.  I have added an answer to list what I did to get it to work."},{"owner":{"account_id":14371821,"reputation":413,"user_id":10381368,"display_name":"Srikanth Janapati"},"score":1,"creation_date":1586788268,"post_id":52748918,"comment_id":108248820,"body_markdown":"In STS version 4,if i change https to http, it&#39;s automatically redirecting to the https, any one please help me to resolve this","body":"In STS version 4,if i change https to http, it&#39;s automatically redirecting to the https, any one please help me to resolve this"},{"owner":{"account_id":9416915,"reputation":4211,"user_id":7004388,"accept_rate":67,"display_name":"codrp"},"score":0,"creation_date":1620921553,"post_id":52748918,"comment_id":119347712,"body_markdown":"@SrikanthJanapati Were you able to find the solution? I&#39;m facing the same issue with STS 4","body":"@SrikanthJanapati Were you able to find the solution? I&#39;m facing the same issue with STS 4"},{"owner":{"account_id":1764499,"reputation":2230,"user_id":3587640,"display_name":"Zack Dawood"},"score":0,"creation_date":1621015696,"post_id":52748918,"comment_id":119377058,"body_markdown":"@coderpc please try this https://programmersought.com/article/68482773221/","body":"@coderpc please try this <a href=\"https://programmersought.com/article/68482773221/\" rel=\"nofollow noreferrer\">programmersought.com/article/68482773221</a>"},{"owner":{"account_id":14371821,"reputation":413,"user_id":10381368,"display_name":"Srikanth Janapati"},"score":0,"creation_date":1621065166,"post_id":52748918,"comment_id":119386682,"body_markdown":"@coderpc - in my case i disconnected the VPN then it&#39;s working fine","body":"@coderpc - in my case i disconnected the VPN then it&#39;s working fine"}],"tags":[],"owner":{"account_id":1764499,"reputation":2230,"user_id":3587640,"display_name":"Zack Dawood"},"comment_count":6,"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1539375288,"creation_date":1539206231,"answer_id":52748918,"question_id":50764343,"body_markdown":"Try **http** instead of **https** in the URL\r\nhttp://start.spring.io \r\n\r\nThe following error will be resolved\r\n&quot;**SunCertPathBuilderException: unable to find valid certification path to requested target**&quot;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IV97i.png\r\n  [2]: https://i.stack.imgur.com/18y2p.png","title":"Spring tool suite- SunCertPathBuilderException: unable to find valid certification path to requested target","body":"<p>Try <strong>http</strong> instead of <strong>https</strong> in the URL\n<a href=\"http://start.spring.io\" rel=\"noreferrer\">http://start.spring.io</a> </p>\n\n<p>The following error will be resolved\n\"<strong>SunCertPathBuilderException: unable to find valid certification path to requested target</strong>\"</p>\n\n<p><a href=\"https://i.stack.imgur.com/IV97i.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/IV97i.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/18y2p.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/18y2p.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":7151918,"reputation":3927,"user_id":5465632,"accept_rate":83,"display_name":"Ram"},"score":0,"creation_date":1618545714,"post_id":55041619,"comment_id":118638782,"body_markdown":"It&#39;s a generic solution. This should be an accepted answer.","body":"It&#39;s a generic solution. This should be an accepted answer."},{"owner":{"account_id":14040404,"reputation":67,"user_id":10141967,"display_name":"EnthuCoder"},"score":0,"creation_date":1684579912,"post_id":55041619,"comment_id":134539782,"body_markdown":"Faced the same issue before encountering this solution, Kudos, It works.","body":"Faced the same issue before encountering this solution, Kudos, It works."}],"tags":[],"owner":{"account_id":1614790,"reputation":499,"user_id":1492788,"display_name":"sundar.sat84"},"comment_count":2,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1551954760,"creation_date":1551954760,"answer_id":55041619,"question_id":50764343,"body_markdown":"I encountered the same problem and tried this: Window -&gt; Preferences -&gt; Network Connections Change mode to Manual\r\n\r\nIt works fine now.","title":"Spring tool suite- SunCertPathBuilderException: unable to find valid certification path to requested target","body":"<p>I encountered the same problem and tried this: Window -> Preferences -> Network Connections Change mode to Manual</p>\n\n<p>It works fine now.</p>\n"},{"comments":[{"owner":{"account_id":3162994,"reputation":1345,"user_id":2673577,"accept_rate":0,"display_name":"asifaftab87"},"score":1,"creation_date":1634269194,"post_id":56964015,"comment_id":122984924,"body_markdown":"didn&#39;t work for me.","body":"didn&#39;t work for me."},{"owner":{"account_id":14744,"reputation":13116,"user_id":30594,"accept_rate":82,"display_name":"Ramesh"},"score":0,"creation_date":1649263195,"post_id":56964015,"comment_id":126833512,"body_markdown":"The `.ini` file will have the same filename as the `.exe` file. It was `SpringToolSuite4.ini` in my case","body":"The <code>.ini</code> file will have the same filename as the <code>.exe</code> file. It was <code>SpringToolSuite4.ini</code> in my case"},{"owner":{"account_id":6819167,"reputation":133,"user_id":5246840,"accept_rate":72,"display_name":"JessieBear"},"score":0,"creation_date":1692265576,"post_id":56964015,"comment_id":135600942,"body_markdown":"works on me. thank you!!","body":"works on me. thank you!!"}],"tags":[],"owner":{"account_id":3270215,"reputation":81,"user_id":2753763,"display_name":"PruthvirajSinh Solanki"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1562737134,"creation_date":1562737134,"answer_id":56964015,"question_id":50764343,"body_markdown":"In the case if none of above work, try below steps. It works fine for me as I was also working under corporate network, had same issue. \r\n\r\n 1. Close STS tool if open.  \r\n 2. Locate STS.ini file (mostly where you have installed STS tool and have STS.exe) \r\n 3. Edit STS.ini. Add following two line at the bottom (Use your JDK location, below one is just a sample)\r\n \r\n\r\n    -Djavax.net.ssl.trustStore=C:\\Program Files\\Java\\jdk1.8.0_20\\jre\\lib\\security\\cacerts\r\n\r\n    -Djava.net.ssl.trustStorePassword=changeit\r\n\r\n 4. Save STS.ini and restart the STS.exe. \r\n\r\nIt works in my case. Thank you. \r\n\r\n","title":"Spring tool suite- SunCertPathBuilderException: unable to find valid certification path to requested target","body":"<p>In the case if none of above work, try below steps. It works fine for me as I was also working under corporate network, had same issue. </p>\n\n<ol>\n<li>Close STS tool if open.  </li>\n<li>Locate STS.ini file (mostly where you have installed STS tool and have STS.exe) </li>\n<li><p>Edit STS.ini. Add following two line at the bottom (Use your JDK location, below one is just a sample)</p>\n\n<p>-Djavax.net.ssl.trustStore=C:\\Program Files\\Java\\jdk1.8.0_20\\jre\\lib\\security\\cacerts</p>\n\n<p>-Djava.net.ssl.trustStorePassword=changeit</p></li>\n<li><p>Save STS.ini and restart the STS.exe. </p></li>\n</ol>\n\n<p>It works in my case. Thank you. </p>\n"},{"tags":[],"owner":{"account_id":3338712,"reputation":11,"user_id":2805470,"display_name":"blpvivek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570130934,"creation_date":1570129167,"answer_id":58225350,"question_id":50764343,"body_markdown":"Adding below to eclipse.ini\r\n\r\n    -Djavax.net.ssl.trustStore=C:\\Program Files\\Java\\jdk1.8.0_20\\jre\\lib\\security\\cacerts\r\n    -Djava.net.ssl.trustStorePassword=changeit\r\n\r\nworked for me.","title":"Spring tool suite- SunCertPathBuilderException: unable to find valid certification path to requested target","body":"<p>Adding below to eclipse.ini</p>\n\n<pre><code>-Djavax.net.ssl.trustStore=C:\\Program Files\\Java\\jdk1.8.0_20\\jre\\lib\\security\\cacerts\n-Djava.net.ssl.trustStorePassword=changeit\n</code></pre>\n\n<p>worked for me.</p>\n"},{"comments":[{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1641672144,"post_id":59569901,"comment_id":124867821,"body_markdown":"Does storepass indicate the keystore password?","body":"Does storepass indicate the keystore password?"}],"tags":[],"owner":{"account_id":2435943,"reputation":1275,"user_id":2125853,"accept_rate":77,"display_name":"user2125853"},"comment_count":1,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1578410313,"creation_date":1577998537,"answer_id":59569901,"question_id":50764343,"body_markdown":"It would seem like the http now gets redirected to https.  So changing https to http may not work.  I am barely familiar with digital certificates. However, I have simply listed what I had to do to get it to work for me.  This is perhaps what @Strelok has suggested.\r\n\r\nI am on Windows 10 and JDK 1.8.0_144 64bit.  I am also behind a corporate proxy.  I did the following to get it to work for me.  If you are in a similar situation it may work for you.\r\n\r\nExport the corporate certificate (There may be other easier ways of doing this)\r\n\r\n1. On Chrome, I went to https://start.spring.io\r\n2. On the location bar clicked on the &#39;Lock&#39; symbol next to https.\r\n3. Selected &#39;Certificate(Valid)&#39; on the ensuing pop-up.\r\n4. On the resulting dialog box, clicked on the &#39;Certificate Path&#39; tab, from under certificate path tree **selected the root node**, and then clicked on &#39;View Certificate&#39;\r\n5. On the resulting dialog box, clicked on the &#39;Details&#39; tab and then clicked on &#39;Copy to File&#39;\r\n6. This brings up the &#39;Export wizard&#39;, clicked on &#39;Next&#39;.\r\n7. Left the certificate format to default &#39;DER encoded..&#39;, clicked on &#39;Next&#39;.\r\n8. Provided file name (.cer extension) for the certificate.\r\n9. Clicked Finish.\r\n\r\nThe above steps exported a certificate to a file that I imported into truststore (cacerts). \r\n\r\nTo import\r\n\r\n - Opened a &#39;Command&#39; prompt as Administrator to import the certificate\r\n - Went to bin directory of Java installation (this step is not needed if jre/bin is in your path)\r\n - Ran the following:\r\n\r\n    C:\\Program Files\\Java\\jre1.8.0_144\\bin&gt;keytool -importcert -alias your-alias -keystore &quot;C:\\Program Files\\Java\\jre1.8.0_144\\lib\\security\\cacerts&quot; -storepass changeit -file C:\\certificate-file-location\\saved-certificate-file.cer\r\n\r\n(Substitute your java location, certificate file location and certificate file name as appropriate.  The &#39;storepass&#39; should be &#39;changeit&#39;.)\r\n\r\nRestarted STS\r\n\r\n\r\n\r\n","title":"Spring tool suite- SunCertPathBuilderException: unable to find valid certification path to requested target","body":"<p>It would seem like the http now gets redirected to https.  So changing https to http may not work.  I am barely familiar with digital certificates. However, I have simply listed what I had to do to get it to work for me.  This is perhaps what @Strelok has suggested.</p>\n\n<p>I am on Windows 10 and JDK 1.8.0_144 64bit.  I am also behind a corporate proxy.  I did the following to get it to work for me.  If you are in a similar situation it may work for you.</p>\n\n<p>Export the corporate certificate (There may be other easier ways of doing this)</p>\n\n<ol>\n<li>On Chrome, I went to <a href=\"https://start.spring.io\" rel=\"noreferrer\">https://start.spring.io</a></li>\n<li>On the location bar clicked on the 'Lock' symbol next to https.</li>\n<li>Selected 'Certificate(Valid)' on the ensuing pop-up.</li>\n<li>On the resulting dialog box, clicked on the 'Certificate Path' tab, from under certificate path tree <strong>selected the root node</strong>, and then clicked on 'View Certificate'</li>\n<li>On the resulting dialog box, clicked on the 'Details' tab and then clicked on 'Copy to File'</li>\n<li>This brings up the 'Export wizard', clicked on 'Next'.</li>\n<li>Left the certificate format to default 'DER encoded..', clicked on 'Next'.</li>\n<li>Provided file name (.cer extension) for the certificate.</li>\n<li>Clicked Finish.</li>\n</ol>\n\n<p>The above steps exported a certificate to a file that I imported into truststore (cacerts). </p>\n\n<p>To import</p>\n\n<ul>\n<li>Opened a 'Command' prompt as Administrator to import the certificate</li>\n<li>Went to bin directory of Java installation (this step is not needed if jre/bin is in your path)</li>\n<li><p>Ran the following:</p>\n\n<p>C:\\Program Files\\Java\\jre1.8.0_144\\bin>keytool -importcert -alias your-alias -keystore \"C:\\Program Files\\Java\\jre1.8.0_144\\lib\\security\\cacerts\" -storepass changeit -file C:\\certificate-file-location\\saved-certificate-file.cer</p></li>\n</ul>\n\n<p>(Substitute your java location, certificate file location and certificate file name as appropriate.  The 'storepass' should be 'changeit'.)</p>\n\n<p>Restarted STS</p>\n"},{"tags":[],"owner":{"display_name":"user4739287"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587156770,"creation_date":1587156770,"answer_id":61280488,"question_id":50764343,"body_markdown":"I was able to resolve the issue following two steps.\r\n\r\n 1. Firstly I imported certificate present on https://start.spring.io into the jdk cacerts.\r\n 2. Atlast I added the path of TrustStore and trustStore password in SpringToolSuite4.ini file.\r\n\r\n    -Djavax.net.ssl.trustStore=C:\\Program Files\\Java\\jdk1.8.0_201\\jre\\lib\\security\\cacerts\r\n\r\n    -Djava.net.ssl.trustStorePassword=changeit","title":"Spring tool suite- SunCertPathBuilderException: unable to find valid certification path to requested target","body":"<p>I was able to resolve the issue following two steps.</p>\n\n<ol>\n<li>Firstly I imported certificate present on <a href=\"https://start.spring.io\" rel=\"nofollow noreferrer\">https://start.spring.io</a> into the jdk cacerts.</li>\n<li><p>Atlast I added the path of TrustStore and trustStore password in SpringToolSuite4.ini file.</p>\n\n<p>-Djavax.net.ssl.trustStore=C:\\Program Files\\Java\\jdk1.8.0_201\\jre\\lib\\security\\cacerts</p>\n\n<p>-Djava.net.ssl.trustStorePassword=changeit</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1082094,"reputation":79,"user_id":1078794,"display_name":"Jeevan Sunkersett"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633278331,"creation_date":1633278331,"answer_id":69426750,"question_id":50764343,"body_markdown":"I solved the issue by importing the SSL certificate into the CACERTS file.\r\n\r\nHowever it should be noted, that Eclipse/ STS by default uses its own JRE (in its plugins folder) such as \r\n::\r\n\r\n(STS--RELEASE)\\plugins\\org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_16.0.2.v20210721-1149\\jre\\lib\\security\\cacerts","title":"Spring tool suite- SunCertPathBuilderException: unable to find valid certification path to requested target","body":"<p>I solved the issue by importing the SSL certificate into the CACERTS file.</p>\n<p>However it should be noted, that Eclipse/ STS by default uses its own JRE (in its plugins folder) such as\n::</p>\n<p>(STS--RELEASE)\\plugins\\org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_16.0.2.v20210721-1149\\jre\\lib\\security\\cacerts</p>\n"},{"tags":[],"owner":{"account_id":14744,"reputation":13116,"user_id":30594,"accept_rate":82,"display_name":"Ramesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649264859,"creation_date":1649264859,"answer_id":71770947,"question_id":50764343,"body_markdown":"In Corporate Network, you may not have admin rights to import to `cacerts` file. The below steps helps to use STS in corporate network without admin privileges\r\n\r\n1. Know your %userprofile% directory \r\n   - Start -&gt; Run \r\n   - type `%userprofile%` and hit enter\r\n   - This opens a folder for which you may have write access. Note the path\r\n\r\n2. Export the corporate proxy certificate\r\n   - On Chrome, go to https://start.spring.io\r\n   - On the location bar click on the &#39;Lock&#39; symbol next to https.\r\n   - Select &#39;Certificate(Valid)&#39; on the ensuing pop-up.\r\n   - On the resulting dialog box, click on the &#39;Certificate Path&#39; tab, from under certificate path tree select the root node, and then click on &#39;View Certificate&#39;\r\n   - On the resulting dialog box, click on the &#39;Details&#39; tab and then click on &#39;Copy to File&#39;\r\n   - This brings up the &#39;Export wizard&#39;, click on &#39;Next&#39;.\r\n   - Leave the certificate format to default &#39;DER encoded..&#39;, click on &#39;Next&#39;.\r\n   - Provide `CorpRootCA.cer` as file name for the certificate and save in `%userprofile%/cacerts` folder. You may have to create the `cacerts` folder in your `%userprofile%`\r\n   - Click Finish\r\n\r\n3. Identify the JRE Path used by STS\r\n   - Open STS\r\n   - Click Window -&gt; Preferences\r\n   - Click Java -&gt; Installed JRE[![Installed JRE Window][1]][1]\r\n   - Copy the location used by STS\r\n\r\n4. Copy cacerts file\r\n   - Goto the jre location from Installed JRE in explorer\r\n   - Goto `lib/security` and copy the `cacerts` file\r\n   - Goto `%userprofile%/cacerts` and paste it inside the director\r\n\r\n5. Adding corporate proxy certificate using keytool\r\n   - Goto the jre location from Installed JRE in explorer\r\n   - Type `cmd` in the url bar to open command prompt at the location\r\n   - `./bin/keytool -import -alias CorpProxy -keystore %userprofile%/cacerts/cacerts -file %userprofile%/cacerts/CorpRootCA.cer -storepass changeit`\r\n\r\n    The &#39;storepass&#39; should be &#39;changeit&#39; which is the default password. If changed use the correct storepass\r\n\r\n6. Making STS point to new certstore\r\n   - Open the folder which contains the SpringToolSuite executable\r\n   - There will be a configuration file with same file as executable. In my case it was `SpringToolSuite4.ini`. Open the file\r\n   - Append the below lines after changing the `%userprofile`to match the user&#39;s directory. Update `trustStorePassword` as required. `changeit` is the default value\r\n\r\n&gt;     -Djavax.net.ssl.trustStore=%userprofile%\\cacerts\\cacerts\r\n&gt;     -Djava.net.ssl.trustStorePassword=changeit\r\n\r\n7. Restart STS and it should no longer throw \r\n&gt; SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0elBe.png","title":"Spring tool suite- SunCertPathBuilderException: unable to find valid certification path to requested target","body":"<p>In Corporate Network, you may not have admin rights to import to <code>cacerts</code> file. The below steps helps to use STS in corporate network without admin privileges</p>\n<ol>\n<li><p>Know your %userprofile% directory</p>\n<ul>\n<li>Start -&gt; Run</li>\n<li>type <code>%userprofile%</code> and hit enter</li>\n<li>This opens a folder for which you may have write access. Note the path</li>\n</ul>\n</li>\n<li><p>Export the corporate proxy certificate</p>\n<ul>\n<li>On Chrome, go to <a href=\"https://start.spring.io\" rel=\"nofollow noreferrer\">https://start.spring.io</a></li>\n<li>On the location bar click on the 'Lock' symbol next to https.</li>\n<li>Select 'Certificate(Valid)' on the ensuing pop-up.</li>\n<li>On the resulting dialog box, click on the 'Certificate Path' tab, from under certificate path tree select the root node, and then click on 'View Certificate'</li>\n<li>On the resulting dialog box, click on the 'Details' tab and then click on 'Copy to File'</li>\n<li>This brings up the 'Export wizard', click on 'Next'.</li>\n<li>Leave the certificate format to default 'DER encoded..', click on 'Next'.</li>\n<li>Provide <code>CorpRootCA.cer</code> as file name for the certificate and save in <code>%userprofile%/cacerts</code> folder. You may have to create the <code>cacerts</code> folder in your <code>%userprofile%</code></li>\n<li>Click Finish</li>\n</ul>\n</li>\n<li><p>Identify the JRE Path used by STS</p>\n<ul>\n<li>Open STS</li>\n<li>Click Window -&gt; Preferences</li>\n<li>Click Java -&gt; Installed JRE<a href=\"https://i.stack.imgur.com/0elBe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0elBe.png\" alt=\"Installed JRE Window\" /></a></li>\n<li>Copy the location used by STS</li>\n</ul>\n</li>\n<li><p>Copy cacerts file</p>\n<ul>\n<li>Goto the jre location from Installed JRE in explorer</li>\n<li>Goto <code>lib/security</code> and copy the <code>cacerts</code> file</li>\n<li>Goto <code>%userprofile%/cacerts</code> and paste it inside the director</li>\n</ul>\n</li>\n<li><p>Adding corporate proxy certificate using keytool</p>\n<ul>\n<li>Goto the jre location from Installed JRE in explorer</li>\n<li>Type <code>cmd</code> in the url bar to open command prompt at the location</li>\n<li><code>./bin/keytool -import -alias CorpProxy -keystore %userprofile%/cacerts/cacerts -file %userprofile%/cacerts/CorpRootCA.cer -storepass changeit</code></li>\n</ul>\n<p>The 'storepass' should be 'changeit' which is the default password. If changed use the correct storepass</p>\n</li>\n<li><p>Making STS point to new certstore</p>\n<ul>\n<li>Open the folder which contains the SpringToolSuite executable</li>\n<li>There will be a configuration file with same file as executable. In my case it was <code>SpringToolSuite4.ini</code>. Open the file</li>\n<li>Append the below lines after changing the <code>%userprofile</code>to match the user's directory. Update <code>trustStorePassword</code> as required. <code>changeit</code> is the default value</li>\n</ul>\n</li>\n</ol>\n<blockquote>\n<pre><code>-Djavax.net.ssl.trustStore=%userprofile%\\cacerts\\cacerts\n-Djava.net.ssl.trustStorePassword=changeit\n</code></pre>\n</blockquote>\n<ol start=\"7\">\n<li>Restart STS and it should no longer throw</li>\n</ol>\n<blockquote>\n<p>SunCertPathBuilderException: unable to find valid certification path to requested target</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1055208,"reputation":1237,"user_id":1058096,"display_name":"dtelaroli"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659021097,"creation_date":1659021097,"answer_id":73155150,"question_id":50764343,"body_markdown":"For MacOS users:\r\n\r\n    # step 1\r\n    # execute the command to get the certificates\r\n    openssl s_client -showcerts -connect start.spring.io:443\r\n    \r\n    # copy the all certificates, stating in: Certificate chain (including this line)\r\n    # Ending in the last: -----END CERTIFICATE-----\r\n    \r\n    # step 2\r\n    # create the cert file with this content\r\n    mkdir $HOME/certs\r\n    touch $HOME/certs/root.crt\r\n    vim $HOME/certs/root.crt\r\n    # paste the cert content\r\n    \r\n    # step 3\r\n    # import the cert\r\n    $JAVA_HOME/bin/keytool -importcert -alias your-alias -keystore $JAVA_HOME/jre/lib/security/cacerts -storepass changeit -file $HOME/certs/root.crt\r\n\r\n","title":"Spring tool suite- SunCertPathBuilderException: unable to find valid certification path to requested target","body":"<p>For MacOS users:</p>\n<pre><code># step 1\n# execute the command to get the certificates\nopenssl s_client -showcerts -connect start.spring.io:443\n\n# copy the all certificates, stating in: Certificate chain (including this line)\n# Ending in the last: -----END CERTIFICATE-----\n\n# step 2\n# create the cert file with this content\nmkdir $HOME/certs\ntouch $HOME/certs/root.crt\nvim $HOME/certs/root.crt\n# paste the cert content\n\n# step 3\n# import the cert\n$JAVA_HOME/bin/keytool -importcert -alias your-alias -keystore $JAVA_HOME/jre/lib/security/cacerts -storepass changeit -file $HOME/certs/root.crt\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2465781,"reputation":1582,"user_id":2148913,"accept_rate":80,"display_name":"Ajeesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680610970,"creation_date":1680558858,"answer_id":75924036,"question_id":50764343,"body_markdown":"I was able to solve this issue by looking at error log view from eclipse and it was trying to download from GitHub website. Added certificate of GitHub URL using keystore and it worked.\r\n\r\n    keytool -import -alias cert4 -keystore &quot;C:\\Users\\A\\Downloads\\jdk-17.0.6+10\\lib\\security\\cacerts&quot; -storepass changeit -file &quot;C:\\Users\\A\\Downloads\\Zscaler Root CA.crt&quot;\r\n\r\n    keytool -import -alias cert5 -keystore &quot;C:\\Users\\A\\Downloads\\jdk-17.0.6+10\\lib\\security\\cacerts&quot; -storepass changeit -file &quot;C:\\Users\\A\\Downloads\\Zscaler Intermediate Root CA (zscaler.net).crt&quot;\r\n\r\n    keytool -import -alias cert6 -keystore &quot;C:\\Users\\A\\Downloads\\jdk-17.0.6+10\\lib\\security\\cacerts&quot; -storepass changeit -file &quot;C:\\Users\\A\\Downloads\\Zscaler Intermediate Root CA (zscaler.net) (t)_.crt&quot;\r\n\r\n    keytool -import -alias cert7 -keystore &quot;C:\\Users\\A\\Downloads\\jdk-17.0.6+10\\lib\\security\\cacerts&quot; -storepass changeit -file &quot;C:\\Users\\A\\Downloads\\github.com&quot;\r\n\r\n\r\n\r\nNote: As others suggested, add spring certificates too.","title":"Spring tool suite- SunCertPathBuilderException: unable to find valid certification path to requested target","body":"<p>I was able to solve this issue by looking at error log view from eclipse and it was trying to download from GitHub website. Added certificate of GitHub URL using keystore and it worked.</p>\n<pre><code>keytool -import -alias cert4 -keystore &quot;C:\\Users\\A\\Downloads\\jdk-17.0.6+10\\lib\\security\\cacerts&quot; -storepass changeit -file &quot;C:\\Users\\A\\Downloads\\Zscaler Root CA.crt&quot;\n\nkeytool -import -alias cert5 -keystore &quot;C:\\Users\\A\\Downloads\\jdk-17.0.6+10\\lib\\security\\cacerts&quot; -storepass changeit -file &quot;C:\\Users\\A\\Downloads\\Zscaler Intermediate Root CA (zscaler.net).crt&quot;\n\nkeytool -import -alias cert6 -keystore &quot;C:\\Users\\A\\Downloads\\jdk-17.0.6+10\\lib\\security\\cacerts&quot; -storepass changeit -file &quot;C:\\Users\\A\\Downloads\\Zscaler Intermediate Root CA (zscaler.net) (t)_.crt&quot;\n\nkeytool -import -alias cert7 -keystore &quot;C:\\Users\\A\\Downloads\\jdk-17.0.6+10\\lib\\security\\cacerts&quot; -storepass changeit -file &quot;C:\\Users\\A\\Downloads\\github.com&quot;\n</code></pre>\n<p>Note: As others suggested, add spring certificates too.</p>\n"}],"owner":{"account_id":6599105,"reputation":337,"user_id":5097958,"display_name":"shivam gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105765,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":52748918,"answer_count":11,"score":22,"last_activity_date":1680610970,"creation_date":1528473303,"question_id":50764343,"body_markdown":"I am working on STS and while creating a new spring-boot project, it shows following error:\r\n\r\n     SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\nsince it access https://start.spring.io as a service URL.\r\n\r\nI am working in a corporate network and they have their own certificates and security rules. I looked into web but could not find any clear solution for STS. How should I add certification path in STS for  given URL.\r\nAny help is appreciated.","title":"Spring tool suite- SunCertPathBuilderException: unable to find valid certification path to requested target","body":"<p>I am working on STS and while creating a new spring-boot project, it shows following error:</p>\n\n<pre><code> SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n\n<p>since it access <a href=\"https://start.spring.io\" rel=\"noreferrer\">https://start.spring.io</a> as a service URL.</p>\n\n<p>I am working in a corporate network and they have their own certificates and security rules. I looked into web but could not find any clear solution for STS. How should I add certification path in STS for  given URL.\nAny help is appreciated.</p>\n"},{"tags":["java","android","themes"],"comments":[{"owner":{"account_id":11258927,"reputation":81,"user_id":8257809,"display_name":"Eguti"},"score":1,"creation_date":1636124673,"post_id":69854936,"comment_id":123480753,"body_markdown":"When you want to add a new Resource file there is a Available qualifier that is called Night Mode, select it with the &quot;&gt;&gt;&quot; button and select Night inside the Night mode.","body":"When you want to add a new Resource file there is a Available qualifier that is called Night Mode, select it with the &quot;&gt;&gt;&quot; button and select Night inside the Night mode."},{"owner":{"account_id":5888596,"reputation":2185,"user_id":4635851,"accept_rate":74,"display_name":"Shahid Thaika"},"score":0,"creation_date":1636128449,"post_id":69854936,"comment_id":123482335,"body_markdown":"@Eguti I don&#39;t get that option. Is there something I need to do first, or is there a tutorial somewhere?","body":"@Eguti I don&#39;t get that option. Is there something I need to do first, or is there a tutorial somewhere?"},{"owner":{"account_id":5888596,"reputation":2185,"user_id":4635851,"accept_rate":74,"display_name":"Shahid Thaika"},"score":0,"creation_date":1636128675,"post_id":69854936,"comment_id":123482415,"body_markdown":"OK, I tried again, this time right clicking on the &#39;res&#39; folder. It created a values-night folder. Still doesn&#39;t show it combined in the special folder view that you get on a new project, but at least I was able to add it.","body":"OK, I tried again, this time right clicking on the &#39;res&#39; folder. It created a values-night folder. Still doesn&#39;t show it combined in the special folder view that you get on a new project, but at least I was able to add it."}],"answers":[{"tags":[],"owner":{"account_id":5888596,"reputation":2185,"user_id":4635851,"accept_rate":74,"display_name":"Shahid Thaika"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636181486,"creation_date":1636181486,"answer_id":69862011,"question_id":69854936,"body_markdown":"I managed to fix this myself. I compared, and made similar, files in the root project directory between the files in my project and a new Android project.\r\n\r\n[![Files I edited][1]][1]\r\n\r\nI had also edited `.idea\\name` file.\r\n\r\nThen I just did Build-&gt;Clean Project, and closed and re-opened the project in Android Studio, and the issue was fixed with the smart folder organisations automatically done by the IDE.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7YRxI.png","title":"Android: Add themes to existing project","body":"<p>I managed to fix this myself. I compared, and made similar, files in the root project directory between the files in my project and a new Android project.</p>\n<p><a href=\"https://i.stack.imgur.com/7YRxI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7YRxI.png\" alt=\"Files I edited\" /></a></p>\n<p>I had also edited <code>.idea\\name</code> file.</p>\n<p>Then I just did Build-&gt;Clean Project, and closed and re-opened the project in Android Studio, and the issue was fixed with the smart folder organisations automatically done by the IDE.</p>\n"},{"tags":[],"owner":{"account_id":14523513,"reputation":43,"user_id":10490545,"display_name":"dt.k"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680610484,"creation_date":1680610484,"answer_id":75929294,"question_id":69854936,"body_markdown":"While I was updating an old app to use the new theming methods, I did the following using the command line:\r\n\r\n1. Navigate to the `res/values/` directory for my app, and add a new file named `themes.xml`.\r\n2. Navigate back one directory, to the `res/` directory and add a new directory called `values-night`.\r\n3. Navigate into the newly created `res/values-night` directory and add a new file called `themes.xml`.\r\n\r\nNow when I went back into Android Studio, it had automatically created the special `themes/` directory within the `res/values/` directory, which contains the two files - one for the light theme, and one for the dark theme.\r\n\r\nYou also need to update the following line in your manifest file to point to your theme files, rather than the `style.xml` file.\r\n\r\nIn your `AndroidManifest.xml` file, change this line from this:\r\n\r\n    android:theme=&quot;@style/AppTheme&quot;&gt;\r\n\r\nTo this:\r\n\r\n    android:theme=&quot;@style/Theme.YourAppName&quot;&gt;\r\n\r\n**Theme.YouAppName** is the name that you add to the `themes.xml` files, as the style name, e.g:\r\n\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;Theme.YourAppName&quot; parent=&quot;Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\r\n        &lt;!-- Primary brand color. --&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\r\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/colorSecondary&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n","title":"Android: Add themes to existing project","body":"<p>While I was updating an old app to use the new theming methods, I did the following using the command line:</p>\n<ol>\n<li>Navigate to the <code>res/values/</code> directory for my app, and add a new file named <code>themes.xml</code>.</li>\n<li>Navigate back one directory, to the <code>res/</code> directory and add a new directory called <code>values-night</code>.</li>\n<li>Navigate into the newly created <code>res/values-night</code> directory and add a new file called <code>themes.xml</code>.</li>\n</ol>\n<p>Now when I went back into Android Studio, it had automatically created the special <code>themes/</code> directory within the <code>res/values/</code> directory, which contains the two files - one for the light theme, and one for the dark theme.</p>\n<p>You also need to update the following line in your manifest file to point to your theme files, rather than the <code>style.xml</code> file.</p>\n<p>In your <code>AndroidManifest.xml</code> file, change this line from this:</p>\n<pre><code>android:theme=&quot;@style/AppTheme&quot;&gt;\n</code></pre>\n<p>To this:</p>\n<pre><code>android:theme=&quot;@style/Theme.YourAppName&quot;&gt;\n</code></pre>\n<p><strong>Theme.YouAppName</strong> is the name that you add to the <code>themes.xml</code> files, as the style name, e.g:</p>\n<pre><code>&lt;!-- Base application theme. --&gt;\n&lt;style name=&quot;Theme.YourAppName&quot; parent=&quot;Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\n    &lt;!-- Primary brand color. --&gt;\n    &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\n    &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\n    &lt;item name=&quot;colorSecondary&quot;&gt;@color/colorSecondary&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n"}],"owner":{"account_id":5888596,"reputation":2185,"user_id":4635851,"accept_rate":74,"display_name":"Shahid Thaika"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69862011,"answer_count":2,"score":1,"last_activity_date":1680610484,"creation_date":1636123005,"question_id":69854936,"body_markdown":"I have a really old app that I am updating and want to use modern theming methods, probably Material Design 3.\r\n\r\nIf I create a new Android project, it creates some special folder to res/values folder, which has two files - one for light and one for dark.\r\n\r\n[![modern theme folder][1]][1]\r\n\r\nI am unable to figure out how to add this special folder to my existing project as it looks like this at the moment.\r\n\r\n[![old values folder][2]][2]\r\n\r\nI couldn&#39;t find a tutorial online, and when I try to add a folder and call it themes, it doesn&#39;t have the same icon.\r\n\r\nCan someone help me with this?\r\n\r\n  [1]: https://i.stack.imgur.com/TmQRd.png\r\n  [2]: https://i.stack.imgur.com/VuZbL.png","title":"Android: Add themes to existing project","body":"<p>I have a really old app that I am updating and want to use modern theming methods, probably Material Design 3.</p>\n<p>If I create a new Android project, it creates some special folder to res/values folder, which has two files - one for light and one for dark.</p>\n<p><a href=\"https://i.stack.imgur.com/TmQRd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TmQRd.png\" alt=\"modern theme folder\" /></a></p>\n<p>I am unable to figure out how to add this special folder to my existing project as it looks like this at the moment.</p>\n<p><a href=\"https://i.stack.imgur.com/VuZbL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VuZbL.png\" alt=\"old values folder\" /></a></p>\n<p>I couldn't find a tutorial online, and when I try to add a folder and call it themes, it doesn't have the same icon.</p>\n<p>Can someone help me with this?</p>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":5401410,"reputation":915,"user_id":4301235,"display_name":"WIlfinity"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1467801702,"creation_date":1467801702,"answer_id":38222056,"question_id":38197447,"body_markdown":"I also posted this question over on the [Gradle forums][1]. I have copy/pasted the solution below.\r\n\r\n----------\r\n\r\n&gt; Gradle will prefer an artifact with an pom/ivy descriptor over an\r\n&gt; artifact without. I think this is why gradle continues searching after\r\n&gt; it finds a match in the flatDir repository. This may or may not solve\r\n&gt; your problem, but you could use a [FileCollectionDependency][2] instead of\r\n&gt; a [ModuleDependency][3].\r\n&gt; \r\n&gt; Eg:\r\n\r\n    ext {\r\n       libs = &quot;${rootProject.projectDir}/libs&quot;\r\n       testLibs = &quot;${rootProject.projectDir}/test.libs&quot;\r\n    }\r\n    dependencies {\r\n       compile files(&quot;${libs}/activation.jar&quot;, &quot;${libs}/imap.jar&quot;)\r\n       compile files(&quot;${testLibs}/gson-2.2.4.jar&quot;)\r\n       ...\r\n    }\r\n\r\n\r\n  [1]: https://discuss.gradle.org/t/combining-resolving-two-repository-types-in-gradle/18344/2?u=wildempsey\r\n  [2]: https://docs.gradle.org/current/javadoc/org/gradle/api/artifacts/FileCollectionDependency.html\r\n  [3]: https://docs.gradle.org/current/javadoc/org/gradle/api/artifacts/ModuleDependency.html","title":"Combining/Resolving Two Repository Types in Gradle","body":"<p>I also posted this question over on the <a href=\"https://discuss.gradle.org/t/combining-resolving-two-repository-types-in-gradle/18344/2?u=wildempsey\" rel=\"nofollow\">Gradle forums</a>. I have copy/pasted the solution below.</p>\n\n<hr>\n\n<blockquote>\n  <p>Gradle will prefer an artifact with an pom/ivy descriptor over an\n  artifact without. I think this is why gradle continues searching after\n  it finds a match in the flatDir repository. This may or may not solve\n  your problem, but you could use a <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/artifacts/FileCollectionDependency.html\" rel=\"nofollow\">FileCollectionDependency</a> instead of\n  a <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/artifacts/ModuleDependency.html\" rel=\"nofollow\">ModuleDependency</a>.</p>\n  \n  <p>Eg:</p>\n</blockquote>\n\n<pre><code>ext {\n   libs = \"${rootProject.projectDir}/libs\"\n   testLibs = \"${rootProject.projectDir}/test.libs\"\n}\ndependencies {\n   compile files(\"${libs}/activation.jar\", \"${libs}/imap.jar\")\n   compile files(\"${testLibs}/gson-2.2.4.jar\")\n   ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10451032,"reputation":67,"user_id":7704658,"display_name":"Ximo Dante"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680610369,"creation_date":1680610369,"answer_id":75929270,"question_id":38197447,"body_markdown":"Maybe (as shown in [documentation][1]) using:\r\n```\r\nrepositories {\r\n    flatDir {dirs &quot;${rootProject.projectDir}/libs&quot;,&quot;${rootProject.projectDir}/test.libs&quot;}\r\n}\r\n```\r\nIt works for me\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/declaring_repositories.html","title":"Combining/Resolving Two Repository Types in Gradle","body":"<p>Maybe (as shown in <a href=\"https://docs.gradle.org/current/userguide/declaring_repositories.html\" rel=\"nofollow noreferrer\">documentation</a>) using:</p>\n<pre><code>repositories {\n    flatDir {dirs &quot;${rootProject.projectDir}/libs&quot;,&quot;${rootProject.projectDir}/test.libs&quot;}\n}\n</code></pre>\n<p>It works for me</p>\n"}],"owner":{"account_id":5401410,"reputation":915,"user_id":4301235,"display_name":"WIlfinity"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":38222056,"answer_count":2,"score":0,"last_activity_date":1680610369,"creation_date":1467703139,"question_id":38197447,"body_markdown":"In my Gradle project, I need to define two types of repositories: a flat directory and a Maven repository (a local Nexus server).\r\n\r\nI can get both working separately, but can&#39;t get them to play nicely together. Ideally, I would have Gradle look at the local directory first, then at the Maven repository.\r\n\r\n**Current Setup**\r\n\r\nI have defined the repositories in my `build.gradle` like this:\r\n\r\n    repositories {\r\n        flatDir dirs: &quot;${rootProject.projectDir}/libs&quot;\t\r\n        flatDir dirs: &quot;${rootProject.projectDir}/test.libs&quot;\r\n\r\n        maven {\r\n            credentials {\r\n                username nexus_username\r\n                password nexus_password\r\n            }\r\n            url &quot;http://nexus-server/nexus/content/groups/public&quot;\r\n        }\r\n    }\r\n\r\nIn the `libs` (and `test.libs`) directory, the jar file names may or may not have versioning (but when using a `flatDir` repository, I believe that is irrelevant):\r\n\r\n    libs\\activation.jar\r\n\tlibs\\imap.jar\r\n\t....\r\n\tlibs\\&lt;closed_source_framework&gt;.jar\r\n\t....\r\n\tlibs\\gson-2.2.4.jar\r\n\tlibs\\stax-utils.jar\r\n\t.....\r\n\t\r\nThe reason I can&#39;t use our local Nexus server for everything is because of `&lt;closed_source_framework&gt;.jar`; most of the dependancies in the `libs` folder come packaged with that distribution, and I can&#39;t reliably get the version information to pull them from Nexus.\r\n\r\nNow, one of the other teams is publishing their jars to the Nexus server and I&#39;d like to be able to pull their jars from Nexus, so I have (re)defined my dependencies in my `build.gradle`:\r\n\r\n\tdependencies {\r\n\r\n\t\t// Grab other-team jar files from Nexus server\r\n\t\tcompile &quot;other-team-group:other-team-jar-1:version&quot;\r\n\t\tcompile &quot;other-team-group:other-team-jar-2:version&quot;\r\n\t\tcompile &quot;other-team-group:other-team-jar-3:version&quot;\r\n\r\n\t\t// Grab everything else from &#39;flatDir&#39;\r\n\t\tcompile name: &#39;activation&#39;\r\n\t\tcompile name: &#39;imap&#39;\r\n\t\t...\r\n\t\tcompile name: &#39;gson-2.2.4&#39;\r\n\t\tcompile name: &#39;stax-utils&#39;\r\n\t\t.....\r\n\t\t\r\n\t}\r\n\r\n**The Problem**\r\n\r\nSo now comes my problem. I had expected Gradle would search the `repositories` in the order specified in my `build.gradle`; meaning that it would look to the local `libs` folder first and then go to Nexus if it can&#39;t find it locally. What I&#39;m seeing instead is that Gradle is looking at the Nexus server for the jar files already in the local `libs` folder. Obviously, this is slowing down my build (I have ~30 dependencies defined).\r\n\r\n**Some Info**\r\n\r\nOutput from `gradle properties` command, to show repository information:\r\n\r\n\t.....\r\n\trepositories: [org.gradle.api.internal.artifacts.repositories.DefaultFlatDirArtifactRepository_Decorated@18814b1b, org.gradle.api.internal.artifacts.repositories.DefaultMavenArtifactRepository_Decorated@6dff028]\r\n\t.....\r\n\r\nOutput from `gradle --info compileJava`, to show that Gradle is doing a lookup to Nexus:\r\n\r\n\t.....\r\n\t// Successfully find the other team jar files in Nexus, this is okay\r\n\tDownload http://nexus-server/nexus/content/groups/public/other-team-group/other-team-jar-1/version/other-team-jar-1-version.pom\r\n\tDownload http://nexus-server/nexus/content/groups/public/other-team-group/other-team-jar-2/version/other-team-jar-2-version.pom\r\n\tDownload http://nexus-server/nexus/content/groups/public/other-team-group/other-team-jar-3/version/other-team-jar-3-version.pom\r\n\t.....\r\n\t// Continues looking in Nexus for jar files that should be found in local libs folder\r\n\tResource missing. [HTTP GET: http://nexus-server/nexus/content/groups/public//activation//activation-.pom]\r\n\tResource missing. [HTTP HEAD: http://nexus-server/nexus/content/groups/public//activation//activation-.jar]\r\n\tResource missing. [HTTP GET: http://nexus-server/nexus/content/groups/public///imap//imap-.pom]\r\n\tResource missing. [HTTP HEAD: http://nexus-server/nexus/content/groups/public//imap//imap-.jar]\r\n\t.....\r\n\r\n**Bottom Line**\r\n\r\nHow can I get Gradle to stop looking at the Maven repository for jar files that I know it will only find locally?","title":"Combining/Resolving Two Repository Types in Gradle","body":"<p>In my Gradle project, I need to define two types of repositories: a flat directory and a Maven repository (a local Nexus server).</p>\n\n<p>I can get both working separately, but can't get them to play nicely together. Ideally, I would have Gradle look at the local directory first, then at the Maven repository.</p>\n\n<p><strong>Current Setup</strong></p>\n\n<p>I have defined the repositories in my <code>build.gradle</code> like this:</p>\n\n<pre><code>repositories {\n    flatDir dirs: \"${rootProject.projectDir}/libs\"  \n    flatDir dirs: \"${rootProject.projectDir}/test.libs\"\n\n    maven {\n        credentials {\n            username nexus_username\n            password nexus_password\n        }\n        url \"http://nexus-server/nexus/content/groups/public\"\n    }\n}\n</code></pre>\n\n<p>In the <code>libs</code> (and <code>test.libs</code>) directory, the jar file names may or may not have versioning (but when using a <code>flatDir</code> repository, I believe that is irrelevant):</p>\n\n<pre><code>libs\\activation.jar\nlibs\\imap.jar\n....\nlibs\\&lt;closed_source_framework&gt;.jar\n....\nlibs\\gson-2.2.4.jar\nlibs\\stax-utils.jar\n.....\n</code></pre>\n\n<p>The reason I can't use our local Nexus server for everything is because of <code>&lt;closed_source_framework&gt;.jar</code>; most of the dependancies in the <code>libs</code> folder come packaged with that distribution, and I can't reliably get the version information to pull them from Nexus.</p>\n\n<p>Now, one of the other teams is publishing their jars to the Nexus server and I'd like to be able to pull their jars from Nexus, so I have (re)defined my dependencies in my <code>build.gradle</code>:</p>\n\n<pre><code>dependencies {\n\n    // Grab other-team jar files from Nexus server\n    compile \"other-team-group:other-team-jar-1:version\"\n    compile \"other-team-group:other-team-jar-2:version\"\n    compile \"other-team-group:other-team-jar-3:version\"\n\n    // Grab everything else from 'flatDir'\n    compile name: 'activation'\n    compile name: 'imap'\n    ...\n    compile name: 'gson-2.2.4'\n    compile name: 'stax-utils'\n    .....\n\n}\n</code></pre>\n\n<p><strong>The Problem</strong></p>\n\n<p>So now comes my problem. I had expected Gradle would search the <code>repositories</code> in the order specified in my <code>build.gradle</code>; meaning that it would look to the local <code>libs</code> folder first and then go to Nexus if it can't find it locally. What I'm seeing instead is that Gradle is looking at the Nexus server for the jar files already in the local <code>libs</code> folder. Obviously, this is slowing down my build (I have ~30 dependencies defined).</p>\n\n<p><strong>Some Info</strong></p>\n\n<p>Output from <code>gradle properties</code> command, to show repository information:</p>\n\n<pre><code>.....\nrepositories: [org.gradle.api.internal.artifacts.repositories.DefaultFlatDirArtifactRepository_Decorated@18814b1b, org.gradle.api.internal.artifacts.repositories.DefaultMavenArtifactRepository_Decorated@6dff028]\n.....\n</code></pre>\n\n<p>Output from <code>gradle --info compileJava</code>, to show that Gradle is doing a lookup to Nexus:</p>\n\n<pre><code>.....\n// Successfully find the other team jar files in Nexus, this is okay\nDownload http://nexus-server/nexus/content/groups/public/other-team-group/other-team-jar-1/version/other-team-jar-1-version.pom\nDownload http://nexus-server/nexus/content/groups/public/other-team-group/other-team-jar-2/version/other-team-jar-2-version.pom\nDownload http://nexus-server/nexus/content/groups/public/other-team-group/other-team-jar-3/version/other-team-jar-3-version.pom\n.....\n// Continues looking in Nexus for jar files that should be found in local libs folder\nResource missing. [HTTP GET: http://nexus-server/nexus/content/groups/public//activation//activation-.pom]\nResource missing. [HTTP HEAD: http://nexus-server/nexus/content/groups/public//activation//activation-.jar]\nResource missing. [HTTP GET: http://nexus-server/nexus/content/groups/public///imap//imap-.pom]\nResource missing. [HTTP HEAD: http://nexus-server/nexus/content/groups/public//imap//imap-.jar]\n.....\n</code></pre>\n\n<p><strong>Bottom Line</strong></p>\n\n<p>How can I get Gradle to stop looking at the Maven repository for jar files that I know it will only find locally?</p>\n"},{"tags":["java","iterator"],"answers":[{"tags":[],"owner":{"account_id":96954,"reputation":5629,"user_id":263266,"accept_rate":90,"display_name":"rkg"},"comment_count":0,"down_vote_count":1,"up_vote_count":44,"is_accepted":true,"score":43,"last_activity_date":1299029011,"creation_date":1299029011,"answer_id":5162403,"question_id":5162383,"body_markdown":"\r\nThis is what you would want to do:\r\n\r\n    while (it.hasNext()) {\r\n    \t\t\tPerson p = it.next();\r\n                if (p.getLast().toLowerCase().equals(last)) {\r\n                    System.out.println(p);\r\n                }\r\n            }\r\n\r\n","title":"How do I refer to the current object in an iterator","body":"<p>This is what you would want to do:</p>\n\n<pre><code>while (it.hasNext()) {\n            Person p = it.next();\n            if (p.getLast().toLowerCase().equals(last)) {\n                System.out.println(p);\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1299029269,"creation_date":1299029269,"answer_id":5162429,"question_id":5162383,"body_markdown":"Hold the reference of the object in a separate var:\r\n\r\n    Person current = it.next();\r\n    current.methodOne();\r\n    current.methodTwo();\r\n\r\nWhen you&#39;re done with the current value, re-assing it the next\r\n\r\n    ...\r\n    // done? \r\n    current = it.next();\r\n\r\n\r\nIn a loop looks like:\r\n\r\n    while( it.hasNext() ) { \r\n       Person current = it.next();\r\n       current.doA();\r\n       current.doB();\r\n       current.doC();\r\n     }\r\n\r\n","title":"How do I refer to the current object in an iterator","body":"<p>Hold the reference of the object in a separate var:</p>\n\n<pre><code>Person current = it.next();\ncurrent.methodOne();\ncurrent.methodTwo();\n</code></pre>\n\n<p>When you're done with the current value, re-assing it the next</p>\n\n<pre><code>...\n// done? \ncurrent = it.next();\n</code></pre>\n\n<p>In a loop looks like:</p>\n\n<pre><code>while( it.hasNext() ) { \n   Person current = it.next();\n   current.doA();\n   current.doB();\n   current.doC();\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1763221,"reputation":347,"user_id":1609719,"accept_rate":75,"display_name":"Thumbz"},"score":1,"creation_date":1395790127,"post_id":5162624,"comment_id":34495681,"body_markdown":"I don&#39;t understand at all why there is no &quot;current.&quot;  A very basic use of this is any case where one would like to compare the current value and the next asynchronously.  For example, if a list is modified, index might no longer point to where you want it to, so the obvious solution is an iterator.. though that doesn&#39;t allow for comparing of values.  Erg.","body":"I don&#39;t understand at all why there is no &quot;current.&quot;  A very basic use of this is any case where one would like to compare the current value and the next asynchronously.  For example, if a list is modified, index might no longer point to where you want it to, so the obvious solution is an iterator.. though that doesn&#39;t allow for comparing of values.  Erg."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1395792215,"post_id":5162624,"comment_id":34496442,"body_markdown":"@Thumbz - Well ... see my answer for reasons why &quot;current&quot; would be a bad idea in general. (It would be bad to break some use-cases just for the convenience of others.)  And for your use-case, consider writing an iterator wrapper class which adds a getCurrent() method ... if that simplifies things for you.","body":"@Thumbz - Well ... see my answer for reasons why &quot;current&quot; would be a bad idea in general. (It would be bad to break some use-cases just for the convenience of others.)  And for your use-case, consider writing an iterator wrapper class which adds a getCurrent() method ... if that simplifies things for you."},{"owner":{"account_id":1654108,"reputation":1224,"user_id":2158015,"accept_rate":86,"display_name":"Didii"},"score":3,"creation_date":1405696275,"post_id":5162624,"comment_id":38546117,"body_markdown":"If you&#39;d look at the source code of an iterator, nothing of the second part of your answer is true.\nAn iterator holds 2 variables: `int cursor` pointing to the next element and `int lastRet` pointing to the last element returned. Thus no extra field is needed.\nThese are index numbers and not the objects itself thus an iterator does not in any way &#39;hang onto&#39; the current object.\nThe cursor model is used to explain the design of the iterator, not the other way around. And it&#39;s not because 90% wouldn&#39;t use it, you don&#39;t have to implement it. That&#39;s just bad design.","body":"If you&#39;d look at the source code of an iterator, nothing of the second part of your answer is true. An iterator holds 2 variables: <code>int cursor</code> pointing to the next element and <code>int lastRet</code> pointing to the last element returned. Thus no extra field is needed. These are index numbers and not the objects itself thus an iterator does not in any way &#39;hang onto&#39; the current object. The cursor model is used to explain the design of the iterator, not the other way around. And it&#39;s not because 90% wouldn&#39;t use it, you don&#39;t have to implement it. That&#39;s just bad design."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1405728402,"post_id":5162624,"comment_id":38559639,"body_markdown":"@Didii - that is for a specific iterator implementation.  But consider how that approach works in a linked list ... or an iterator for a lazy stream.  Sure, a `current()` method is easy for some kinds of iterators, but it has issues for others.  You can&#39;t call &quot;bad design&quot; without considering all of the implementations and all of use-cases for `Iterator`.  If you want to do this, please feel free to 1) do the research, and 2) set out your findings in another Answer.","body":"@Didii - that is for a specific iterator implementation.  But consider how that approach works in a linked list ... or an iterator for a lazy stream.  Sure, a <code>current()</code> method is easy for some kinds of iterators, but it has issues for others.  You can&#39;t call &quot;bad design&quot; without considering all of the implementations and all of use-cases for <code>Iterator</code>.  If you want to do this, please feel free to 1) do the research, and 2) set out your findings in another Answer."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675119121,"post_id":5162624,"comment_id":132856662,"body_markdown":"@Didii - I just realised that your idea doesn&#39;t work.  I assume you are looking at `ArrayList`.  If the application uses `List.set` to mutate the list while iterating, the array element at `lastRet` could have been updated to a new value before you attempt to get the current.  If so, the current accessor would return the wrong value.  To do this correctly you need to capture the element at the point that the iterator returns it via `next`.  Note `List.set` while iterating is allowed since isn&#39;t a structural change.","body":"@Didii - I just realised that your idea doesn&#39;t work.  I assume you are looking at <code>ArrayList</code>.  If the application uses <code>List.set</code> to mutate the list while iterating, the array element at <code>lastRet</code> could have been updated to a new value before you attempt to get the current.  If so, the current accessor would return the wrong value.  To do this correctly you need to capture the element at the point that the iterator returns it via <code>next</code>.  Note <code>List.set</code> while iterating is allowed since isn&#39;t a structural change."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":5,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1670860910,"creation_date":1299031173,"answer_id":5162624,"question_id":5162383,"body_markdown":"&gt; How do I refer to the current object in an iterator\r\n\r\nFor the record, the `Iterator` API does not allow you to do this.  There is no notion of a &quot;current&quot; object.  The `Iterator.next()` method gives you the next object ... and moves on.  \r\n\r\n(The `ListIterator.previous()` and `ListIterator.next()` methods are analogous.  Note that in the `ListIterator` case, method behaviour is documented in terms of a cursor that denotes a position before / between / after elements in the sequence being iterated.)\r\n\r\nThe solution is to assign the result of calling `it.next()` to a temporary variable, as described by the accepted answer.\r\n\r\n----------------\r\n\r\nI don&#39;t know for sure why the designers didn&#39;t include the notion of a &quot;current&quot; object in the API, but I can think of a few reasons:\r\n\r\n - It would make a typical&lt;sup&gt;1&lt;/sup&gt; `Iterator` object bigger; i.e. an extra field to hold the current object.\r\n - It would mean 1 extra method for an `Iterator` class to implement.\r\n - The notion of a current object does not fit well with the &quot;cursor&quot; model documented in the `ListIterator` interface ... and implied by the current `Iterator` design.\r\n - There is the issue of the Iterator &quot;hanging onto&quot; the current object.  In some cases that will prevent from being GC&#39;ed.\r\n - The large majority of iterator use-cases don&#39;t require a current object.\r\n\r\nAlso, there are other ways to deal with this.\r\n\r\nSounds like a good call ...\r\n\r\n--------------\r\n\r\n&lt;sup&gt;1 - This and other points don&#39;t apply equally to all implementations of the `Iterator` API.  Indeed, in some cases the implementation of `current()` will be simple.  But that is beside the point.  Unless you make the proposed `current()` method an *optional*&lt;sup&gt;2&lt;/sup&gt; method (like `remove()`) *every* iterator implementation ... and by extension, *every* `Map` and `Collection` class ... has to provide this functionality, and deal with the issues, one way or another.&lt;br&gt;\r\n2 - Optional methods come with their own problems.&lt;/sup&gt; ","title":"How do I refer to the current object in an iterator","body":"<blockquote>\n<p>How do I refer to the current object in an iterator</p>\n</blockquote>\n<p>For the record, the <code>Iterator</code> API does not allow you to do this.  There is no notion of a &quot;current&quot; object.  The <code>Iterator.next()</code> method gives you the next object ... and moves on.</p>\n<p>(The <code>ListIterator.previous()</code> and <code>ListIterator.next()</code> methods are analogous.  Note that in the <code>ListIterator</code> case, method behaviour is documented in terms of a cursor that denotes a position before / between / after elements in the sequence being iterated.)</p>\n<p>The solution is to assign the result of calling <code>it.next()</code> to a temporary variable, as described by the accepted answer.</p>\n<hr />\n<p>I don't know for sure why the designers didn't include the notion of a &quot;current&quot; object in the API, but I can think of a few reasons:</p>\n<ul>\n<li>It would make a typical<sup>1</sup> <code>Iterator</code> object bigger; i.e. an extra field to hold the current object.</li>\n<li>It would mean 1 extra method for an <code>Iterator</code> class to implement.</li>\n<li>The notion of a current object does not fit well with the &quot;cursor&quot; model documented in the <code>ListIterator</code> interface ... and implied by the current <code>Iterator</code> design.</li>\n<li>There is the issue of the Iterator &quot;hanging onto&quot; the current object.  In some cases that will prevent from being GC'ed.</li>\n<li>The large majority of iterator use-cases don't require a current object.</li>\n</ul>\n<p>Also, there are other ways to deal with this.</p>\n<p>Sounds like a good call ...</p>\n<hr />\n<p><sup>1 - This and other points don't apply equally to all implementations of the <code>Iterator</code> API.  Indeed, in some cases the implementation of <code>current()</code> will be simple.  But that is beside the point.  Unless you make the proposed <code>current()</code> method an <em>optional</em><sup>2</sup> method (like <code>remove()</code>) <em>every</em> iterator implementation ... and by extension, <em>every</em> <code>Map</code> and <code>Collection</code> class ... has to provide this functionality, and deal with the issues, one way or another.<br>\n2 - Optional methods come with their own problems.</sup></p>\n"},{"comments":[{"owner":{"account_id":2033317,"reputation":61286,"user_id":1816580,"display_name":"Artjom B."},"score":0,"creation_date":1485901442,"post_id":41968185,"comment_id":71115855,"body_markdown":"It would be better to show a small example of how those iterators can be used in this specific case instead of simply linking to them.","body":"It would be better to show a small example of how those iterators can be used in this specific case instead of simply linking to them."}],"tags":[],"owner":{"account_id":2269620,"reputation":463,"user_id":1997399,"display_name":"Kunda"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1486024558,"creation_date":1485899625,"answer_id":41968185,"question_id":5162383,"body_markdown":"If you need an existing implementation, you can use the ones from [Google Guava][1] or [Apache Commons Collections][2].&lt;br&gt;\r\nThe other answers are easier for your simple problem, but if you need to pass the iterator around and keep track of the last item returned by next(), these would help.\r\n\r\nHere is an example using Guava with the OP&#39;s code (assumging `Person` indeed has a `String toLowerCase()` method):\r\n\r\n    import com.google.common.collect.PeekingIterator;\r\n    import static com.google.common.collect.Iterators.peekingIterator;\r\n\r\n    public void getDetails() {\r\n        PeekingIterator&lt;Person&gt; it = peekingIterator(this.getPersonSet().iterator());\r\n        System.out.println(&quot;Enter First Name&quot;);\r\n        String first = in.next().toLowerCase();\r\n        System.out.println(&quot;Enter Second Name&quot;);\r\n        String last = in.next().toLowerCase();\r\n\r\n        while (it.hasNext()) {\r\n            // note the usage of peek() instead of next()\r\n            if (it.peek().getLast().toLowerCase().equals(last)) {\r\n                Person p = it.next();\r\n                System.out.println(p);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n  [1]: http://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/Iterators.html#peekingIterator-java.util.Iterator-\r\n  [2]: http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/iterators/PeekingIterator.html","title":"How do I refer to the current object in an iterator","body":"<p>If you need an existing implementation, you can use the ones from <a href=\"http://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/Iterators.html#peekingIterator-java.util.Iterator-\" rel=\"nofollow noreferrer\">Google Guava</a> or <a href=\"http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/iterators/PeekingIterator.html\" rel=\"nofollow noreferrer\">Apache Commons Collections</a>.<br>\nThe other answers are easier for your simple problem, but if you need to pass the iterator around and keep track of the last item returned by next(), these would help.</p>\n\n<p>Here is an example using Guava with the OP's code (assumging <code>Person</code> indeed has a <code>String toLowerCase()</code> method):</p>\n\n<pre><code>import com.google.common.collect.PeekingIterator;\nimport static com.google.common.collect.Iterators.peekingIterator;\n\npublic void getDetails() {\n    PeekingIterator&lt;Person&gt; it = peekingIterator(this.getPersonSet().iterator());\n    System.out.println(\"Enter First Name\");\n    String first = in.next().toLowerCase();\n    System.out.println(\"Enter Second Name\");\n    String last = in.next().toLowerCase();\n\n    while (it.hasNext()) {\n        // note the usage of peek() instead of next()\n        if (it.peek().getLast().toLowerCase().equals(last)) {\n            Person p = it.next();\n            System.out.println(p);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15855428,"reputation":1,"user_id":11439944,"display_name":"Shicheng Huang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556773621,"creation_date":1556773621,"answer_id":55945983,"question_id":5162383,"body_markdown":"the next() method returns the current object, like this:\r\n\r\n    private class IterSinglyLinked implements SimpleIterator&lt;T&gt; {\r\n\t\tElement curr = head;\t\t// next element to return\r\n\r\n\t\tpublic boolean hasNext() {\r\n\t\t\treturn curr != null;\r\n\t\t}\r\n\r\n\t\tpublic T next() throws Exception {\r\n\t\t\tif (curr == null) throw new Exception(&quot;no more elements&quot;);\r\n\t\t\tT data = curr.data;\r\n\t\t\tcurr = curr.next;\r\n\t\t\treturn data;\r\n\t\t}\r\n\t}\r\nIf it returns the next one rather than the current one, there will be no way to reach the very first one","title":"How do I refer to the current object in an iterator","body":"<p>the next() method returns the current object, like this:</p>\n\n<pre><code>private class IterSinglyLinked implements SimpleIterator&lt;T&gt; {\n    Element curr = head;        // next element to return\n\n    public boolean hasNext() {\n        return curr != null;\n    }\n\n    public T next() throws Exception {\n        if (curr == null) throw new Exception(\"no more elements\");\n        T data = curr.data;\n        curr = curr.next;\n        return data;\n    }\n}\n</code></pre>\n\n<p>If it returns the next one rather than the current one, there will be no way to reach the very first one</p>\n"},{"tags":[],"owner":{"account_id":10137430,"reputation":41,"user_id":7488363,"display_name":"Leela Krishna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680610153,"creation_date":1680610153,"answer_id":75929239,"question_id":5162383,"body_markdown":"We can call iterator.next() to get the next element and make the iterator to point to previous step by iterator.previous();\r\n\r\n    if(it.hasNext()) {\r\n     val = it.next();\r\n     /* As this moves the iterator pointer, we gotta move the cursor back if we have to return the next element. */\r\n    it.prev();\r\n    }","title":"How do I refer to the current object in an iterator","body":"<p>We can call iterator.next() to get the next element and make the iterator to point to previous step by iterator.previous();</p>\n<pre><code>if(it.hasNext()) {\n val = it.next();\n /* As this moves the iterator pointer, we gotta move the cursor back if we have to return the next element. */\nit.prev();\n}\n</code></pre>\n"}],"owner":{"account_id":250906,"reputation":365,"user_id":527923,"display_name":"Robairto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107453,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":5162403,"answer_count":6,"score":34,"last_activity_date":1680610153,"creation_date":1299028768,"question_id":5162383,"body_markdown":"I am trying to implement a search method in a TreeSet. By using an iterator with a condtional I would like to be able to run through the set and print the object that matches the condition. However the way I am doing it at the moment is printing out the subsequent object rather than the current.\r\nThis is what I have so far:\r\n\r\n    public void getDetails() {\r\n    \t\tIterator&lt;Person&gt; it = this.getPersonSet().iterator();\r\n    \t\tSystem.out.println(&quot;Enter First Name&quot;);\r\n    \t\tString first = in.next().toLowerCase();\r\n    \t\tSystem.out.println(&quot;Enter Second Name&quot;);\r\n    \t\tString last = in.next().toLowerCase();\r\n    \r\n    \t\twhile (it.hasNext()) {\r\n    \t\t\tif (it.next().getLast().toLowerCase().equals(last)) {\r\n    \t\t\t\tPerson p = it.next();\r\n    \t\t\t\tSystem.out.println(p);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t   \r\n    \t}\r\n\r\nAny help would be great","title":"How do I refer to the current object in an iterator","body":"<p>I am trying to implement a search method in a TreeSet. By using an iterator with a condtional I would like to be able to run through the set and print the object that matches the condition. However the way I am doing it at the moment is printing out the subsequent object rather than the current.\nThis is what I have so far:</p>\n\n<pre><code>public void getDetails() {\n        Iterator&lt;Person&gt; it = this.getPersonSet().iterator();\n        System.out.println(\"Enter First Name\");\n        String first = in.next().toLowerCase();\n        System.out.println(\"Enter Second Name\");\n        String last = in.next().toLowerCase();\n\n        while (it.hasNext()) {\n            if (it.next().getLast().toLowerCase().equals(last)) {\n                Person p = it.next();\n                System.out.println(p);\n            }\n        }\n\n    }\n</code></pre>\n\n<p>Any help would be great</p>\n"},{"tags":["java","android","android-intent"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1680272187,"post_id":75899549,"comment_id":133874997,"body_markdown":"Not everything has file extensions. For example, this Web page&#39;s URL does not have a file extension.","body":"Not everything has file extensions. For example, this Web page&#39;s URL does not have a file extension."},{"owner":{"account_id":12046182,"reputation":313,"user_id":8811098,"display_name":"Nadin Martini"},"score":0,"creation_date":1680609941,"post_id":75899549,"comment_id":133924032,"body_markdown":"yes thank you, all the mime types did not work and we can not add the types through intent.putExtra(Intent.EXTRA_MIME_TYPES, mimetypes)","body":"yes thank you, all the mime types did not work and we can not add the types through intent.putExtra(Intent.EXTRA_MIME_TYPES, mimetypes)"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1680611632,"post_id":75899549,"comment_id":133924518,"body_markdown":"&quot;I created the file chooser myself that retrieves the folders and the filtered files&quot; -- note that you will not be able to access many files that way, including most of the contents of `Documents/` and `Downloads/` on Android 11+.","body":"&quot;I created the file chooser myself that retrieves the folders and the filtered files&quot; -- note that you will not be able to access many files that way, including most of the contents of <code>Documents&#47;</code> and <code>Downloads&#47;</code> on Android 11+."},{"owner":{"account_id":12046182,"reputation":313,"user_id":8811098,"display_name":"Nadin Martini"},"score":0,"creation_date":1680613971,"post_id":75899549,"comment_id":133925137,"body_markdown":"I tested this on Android 11 emulator and it is fine","body":"I tested this on Android 11 emulator and it is fine"},{"owner":{"account_id":12046182,"reputation":313,"user_id":8811098,"display_name":"Nadin Martini"},"score":0,"creation_date":1680614821,"post_id":75899549,"comment_id":133925361,"body_markdown":"For these special file extensions it is working fine, tested on Android 11 and Android 13","body":"For these special file extensions it is working fine, tested on Android 11 and Android 13"}],"owner":{"account_id":12046182,"reputation":313,"user_id":8811098,"display_name":"Nadin Martini"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680609780,"creation_date":1680272005,"question_id":75899549,"body_markdown":"I am trying to filter the files to get **only specific files with suffixes .ml**, how can I achieve this:\r\n \r\nI tried:\r\n\r\n \r\n        MimeTypeMap map = MimeTypeMap.getSingleton();\r\n        String mimeType = map.getMimeTypeFromExtension(&quot;.ml&quot;);\r\n        intent.setDataAndType(uri, mimeType);///mimeType = null\r\n   \r\n\r\nTried this, also fails:   \r\n\r\n        Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n        intent.setType(&quot;*/*&quot;);\r\n        intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE,false);\r\n        String[] mimeTypes = {&quot;application/ml&quot;};\r\n        intent.putExtra(Intent.EXTRA_MIME_TYPES, mimeTypes);\r\n        intent = Intent.createChooser(intent,&quot;Choose a file...&quot;);\r\n\r\n\r\nIt is obvious that these kind of files does not have mime types, is there any approach to filter the files based on suffixes with intent file chooser?\r\n\r\nIn other words, How to query files with specific extensions in URI object in Android for file chooser intent?\r\n\r\n\r\n\r\n\r\nIn this page I found a helpful solution to create a recursive approach to get the files and create a list view, but in this way we have got rid of the browsing and choosing the file and this will take time in phones that has a lot of folders,\r\n\r\n Is there any other way to still browsing files with file chooser In Android?\r\n\r\n[Android file chooser with specific file extensions][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/27407157/android-file-chooser-with-specific-file-extensions\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n**SOLUTION:**\r\nInspired from **JASON G PETERSON** Solution in the link above, I created the file chooser myself that retrieves the folders and the filtered files and I let the user choose which folder he want to browse and navigate from through `onclicklister` on items in the `listveiw` and update a list view.\r\n\r\n\r\n\r\n    public ArrayList&lt;File&gt; startBrowse(File dir, String pattern) {\r\n        browseResult = new ArrayList&lt;&gt;();\r\n        browseResultNames = new ArrayList&lt;&gt;();\r\n    \r\n        File listFile[] = dir.listFiles();\r\n        if (listFile != null) {\r\n            for (int i = 0; i &lt; listFile.length; i++) {\r\n                ///if it is folder just add it\r\n                if (listFile[i].isDirectory()) {\r\n                        browseResult.add(listFile[i]);\r\n                        browseResultNames.add(listFile[i].getPath());\r\n                }\r\n                else {\r\n                    if (listFile[i].getName().endsWith(pattern)){\r\n                        browseResult.add(listFile[i]);\r\n                        browseResultNames.add(listFile[i].getPath());\r\n                    }\r\n                }\r\n                }\r\n            }\r\n        return browseResult;\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Android file chooser with specific file extensions .ML Java","body":"<p>I am trying to filter the files to get <strong>only specific files with suffixes .ml</strong>, how can I achieve this:</p>\n<p>I tried:</p>\n<pre><code>    MimeTypeMap map = MimeTypeMap.getSingleton();\n    String mimeType = map.getMimeTypeFromExtension(&quot;.ml&quot;);\n    intent.setDataAndType(uri, mimeType);///mimeType = null\n</code></pre>\n<p>Tried this, also fails:</p>\n<pre><code>    Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n    intent.setType(&quot;*/*&quot;);\n    intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE,false);\n    String[] mimeTypes = {&quot;application/ml&quot;};\n    intent.putExtra(Intent.EXTRA_MIME_TYPES, mimeTypes);\n    intent = Intent.createChooser(intent,&quot;Choose a file...&quot;);\n</code></pre>\n<p>It is obvious that these kind of files does not have mime types, is there any approach to filter the files based on suffixes with intent file chooser?</p>\n<p>In other words, How to query files with specific extensions in URI object in Android for file chooser intent?</p>\n<p>In this page I found a helpful solution to create a recursive approach to get the files and create a list view, but in this way we have got rid of the browsing and choosing the file and this will take time in phones that has a lot of folders,</p>\n<p>Is there any other way to still browsing files with file chooser In Android?</p>\n<p><a href=\"https://stackoverflow.com/questions/27407157/android-file-chooser-with-specific-file-extensions\">Android file chooser with specific file extensions</a></p>\n<p><strong>SOLUTION:</strong>\nInspired from <strong>JASON G PETERSON</strong> Solution in the link above, I created the file chooser myself that retrieves the folders and the filtered files and I let the user choose which folder he want to browse and navigate from through <code>onclicklister</code> on items in the <code>listveiw</code> and update a list view.</p>\n<pre><code>public ArrayList&lt;File&gt; startBrowse(File dir, String pattern) {\n    browseResult = new ArrayList&lt;&gt;();\n    browseResultNames = new ArrayList&lt;&gt;();\n\n    File listFile[] = dir.listFiles();\n    if (listFile != null) {\n        for (int i = 0; i &lt; listFile.length; i++) {\n            ///if it is folder just add it\n            if (listFile[i].isDirectory()) {\n                    browseResult.add(listFile[i]);\n                    browseResultNames.add(listFile[i].getPath());\n            }\n            else {\n                if (listFile[i].getName().endsWith(pattern)){\n                    browseResult.add(listFile[i]);\n                    browseResultNames.add(listFile[i].getPath());\n                }\n            }\n            }\n        }\n    return browseResult;\n    }\n</code></pre>\n"},{"tags":["java","exception","karate","feature-file","catch-exception"],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680609628,"creation_date":1680609628,"answer_id":75929120,"question_id":75928987,"body_markdown":"You can use a JS try-catch block with the `eval` keyword. Here is an example that also shows how to use `karate.fail()` if you still want to fail the test.\r\n\r\n    * eval\r\n    &quot;&quot;&quot;\r\n    try {\r\n      var TestUtil = Java.type(&quot;pkg.TestUtil&quot;);\r\n      TestUtil.execute();\r\n    } catch (e) {\r\n      karate.logger.error(&#39;failed:&#39;, e);\r\n      // do your custom cleanup or logging\r\n      karate.fail(&#39;failed because of: &#39; + e);\r\n    }\r\n    &quot;&quot;&quot;\r\n\r\nFor further reading: https://github.com/karatelabs/karate/issues/2242\r\n\r\nAnd also: https://stackoverflow.com/a/75903894/143475\r\n\r\nBesides this I have no suggestions, so if you want any improvements in Karate please consider contributing code.","title":"Is there a way to catch org.graalvm.polyglot.PolyglotException in karate, while a (Java) feature step is failing?","body":"<p>You can use a JS try-catch block with the <code>eval</code> keyword. Here is an example that also shows how to use <code>karate.fail()</code> if you still want to fail the test.</p>\n<pre><code>* eval\n&quot;&quot;&quot;\ntry {\n  var TestUtil = Java.type(&quot;pkg.TestUtil&quot;);\n  TestUtil.execute();\n} catch (e) {\n  karate.logger.error('failed:', e);\n  // do your custom cleanup or logging\n  karate.fail('failed because of: ' + e);\n}\n&quot;&quot;&quot;\n</code></pre>\n<p>For further reading: <a href=\"https://github.com/karatelabs/karate/issues/2242\" rel=\"nofollow noreferrer\">https://github.com/karatelabs/karate/issues/2242</a></p>\n<p>And also: <a href=\"https://stackoverflow.com/a/75903894/143475\">https://stackoverflow.com/a/75903894/143475</a></p>\n<p>Besides this I have no suggestions, so if you want any improvements in Karate please consider contributing code.</p>\n"}],"owner":{"account_id":28212130,"reputation":65,"user_id":21564194,"display_name":"Divya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75929120,"answer_count":1,"score":2,"last_activity_date":1680609628,"creation_date":1680608776,"question_id":75928987,"body_markdown":"While I&#39;m running karate feature files with java classes, the feature file step is failing with `org.graalvm.polyglot.PolyglotException` and do we have a way to handle those exceptions?\r\n\r\nSince there are couple of test cases which has java implementation and these are tested by karate features.\r\ni.e., let&#39;s assume a java class &amp; feature\r\n\r\nClass\r\n```\r\npublic class TestUtil{\r\n public static void execute(){\r\n  // this value might be null for some use cases &amp; unexpected\r\n  Long unexepectedVal = SomeInternalClass.getValue(); \r\n  SomeInternalImpl.processAndValidate(unexepectedVal.toString());\r\n }\r\n}\r\n```\r\n\r\nFeature \r\n```\r\nBackground:\r\n  * def TestUtil = Java.type(&quot;pkg&quot;)\r\nScenario:\r\n  * eval TestUtil.execute()\r\n```\r\nWhile executing the feature file some use cases, I may get `NPE/ConnectionTimeOutException/Other Runtime exceptions` and but during the failures I&#39;ve got `org.graalvm.polyglot.PolyglotException` as a root exception &amp; how can we **trace/print** the the **original exception** in **HTML report**?. \r\n\r\n\r\nTrying to catch the `org.graalvm.polyglot.PolyglotException` and trace the original exception.","title":"Is there a way to catch org.graalvm.polyglot.PolyglotException in karate, while a (Java) feature step is failing?","body":"<p>While I'm running karate feature files with java classes, the feature file step is failing with <code>org.graalvm.polyglot.PolyglotException</code> and do we have a way to handle those exceptions?</p>\n<p>Since there are couple of test cases which has java implementation and these are tested by karate features.\ni.e., let's assume a java class &amp; feature</p>\n<p>Class</p>\n<pre><code>public class TestUtil{\n public static void execute(){\n  // this value might be null for some use cases &amp; unexpected\n  Long unexepectedVal = SomeInternalClass.getValue(); \n  SomeInternalImpl.processAndValidate(unexepectedVal.toString());\n }\n}\n</code></pre>\n<p>Feature</p>\n<pre><code>Background:\n  * def TestUtil = Java.type(&quot;pkg&quot;)\nScenario:\n  * eval TestUtil.execute()\n</code></pre>\n<p>While executing the feature file some use cases, I may get <code>NPE/ConnectionTimeOutException/Other Runtime exceptions</code> and but during the failures I've got <code>org.graalvm.polyglot.PolyglotException</code> as a root exception &amp; how can we <strong>trace/print</strong> the the <strong>original exception</strong> in <strong>HTML report</strong>?.</p>\n<p>Trying to catch the <code>org.graalvm.polyglot.PolyglotException</code> and trace the original exception.</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","chromium"],"comments":[{"owner":{"account_id":212394,"reputation":176434,"user_id":465183,"accept_rate":77,"display_name":"Gilles Qu&#233;not"},"score":0,"creation_date":1680607949,"post_id":75928833,"comment_id":133923510,"body_markdown":"Add tag of your language","body":"Add tag of your language"},{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1680608325,"post_id":75928833,"comment_id":133923610,"body_markdown":"Change `chromedriver` to `chromedriver.exe`. See if this works.","body":"Change <code>chromedriver</code> to <code>chromedriver.exe</code>. See if this works."},{"owner":{"account_id":15951239,"reputation":9,"user_id":11510535,"display_name":"armdthm"},"score":0,"creation_date":1680608445,"post_id":75928833,"comment_id":133923643,"body_markdown":"its a linux environment and the file is without the .exe","body":"its a linux environment and the file is without the .exe"},{"owner":{"account_id":212394,"reputation":176434,"user_id":465183,"accept_rate":77,"display_name":"Gilles Qu&#233;not"},"score":0,"creation_date":1680608586,"post_id":75928833,"comment_id":133923671,"body_markdown":"What is your **language**, looks not Python","body":"What is your <b>language</b>, looks not Python"},{"owner":{"account_id":15951239,"reputation":9,"user_id":11510535,"display_name":"armdthm"},"score":0,"creation_date":1680608910,"post_id":75928833,"comment_id":133923747,"body_markdown":"its scala/java.","body":"its scala/java."}],"answers":[{"tags":[],"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680609454,"creation_date":1680609454,"answer_id":75929088,"question_id":75928833,"body_markdown":"Try adding following options also, these two stopped the error for me\r\n\r\n    val options = new ChromeOptions()\r\n    options.addArguments(&quot;--no-sandbox&quot;); // Bypass OS security model\r\n    options.addArguments(&quot;--disable-dev-shm-usage&quot;)// overcome limited resource problems\r\n\r\nIf its still not working try adding\r\n\r\n     options.addArguments(&quot;--headless&quot;)","title":"chromedriver launches chromium but cant load the site","body":"<p>Try adding following options also, these two stopped the error for me</p>\n<pre><code>val options = new ChromeOptions()\noptions.addArguments(&quot;--no-sandbox&quot;); // Bypass OS security model\noptions.addArguments(&quot;--disable-dev-shm-usage&quot;)// overcome limited resource problems\n</code></pre>\n<p>If its still not working try adding</p>\n<pre><code> options.addArguments(&quot;--headless&quot;)\n</code></pre>\n"}],"owner":{"account_id":15951239,"reputation":9,"user_id":11510535,"display_name":"armdthm"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":962,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680609585,"creation_date":1680607820,"question_id":75928833,"body_markdown":"i am trying to do basic stuff with selenium. when google chrome is installed, the below code works and does everything thats required but the same setup doesnt work with chromium. it launches the chromium browser but doesnt load the site. i have checked that the version of chromium and chrome driver also are same. and i can only use chromium for my project. this is scala code. \r\n\r\ncode:\r\n\r\n```\r\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;./chromedriver&quot;)\r\nval options = new ChromeOptions()\r\noptions.addArguments(&quot;--remote-allow-origins=*&quot;)\r\nval driver = new ChromeDriver(options)\r\nval link = &quot;https://www.google.com/&quot;\r\ndriver.get(link)\r\n\r\n```\r\nlogs:\r\n```\r\nStarting ChromeDriver 111.0.5563.64 (c710e93d5b63b7095afe8c2c17df34408078439d-refs/branch-heads/5563@{#995}) on port 30314\r\nOnly local connections are allowed.\r\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\nChromeDriver was started successfully.\r\n{&quot;message&quot;:&quot;Could not start a new session. Response code 500. Message: unknown error: DevToolsActivePort file doesn&#39;t exist \\nHost info: host: &#39;zxcv-boomslang&#39;, ip: &#39;127.0.1.1&#39;\\nBuild info: version: &#39;4.8.0&#39;, revision: &#39;267030adea&#39;\\nSystem info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.19.0-38-generic&#39;, java.version: &#39;1.8.0_202&#39;\\nDriver info: org.openqa.selenium.chrome.ChromeDriver\\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*], extensions: []}}], desiredCapabilities=Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*], extensions: []}}}]&quot;}\r\n\r\n```\r\n\r\n\r\ntried searching everywhere but cant find a solution.","title":"chromedriver launches chromium but cant load the site","body":"<p>i am trying to do basic stuff with selenium. when google chrome is installed, the below code works and does everything thats required but the same setup doesnt work with chromium. it launches the chromium browser but doesnt load the site. i have checked that the version of chromium and chrome driver also are same. and i can only use chromium for my project. this is scala code.</p>\n<p>code:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;./chromedriver&quot;)\nval options = new ChromeOptions()\noptions.addArguments(&quot;--remote-allow-origins=*&quot;)\nval driver = new ChromeDriver(options)\nval link = &quot;https://www.google.com/&quot;\ndriver.get(link)\n\n</code></pre>\n<p>logs:</p>\n<pre><code>Starting ChromeDriver 111.0.5563.64 (c710e93d5b63b7095afe8c2c17df34408078439d-refs/branch-heads/5563@{#995}) on port 30314\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\n{&quot;message&quot;:&quot;Could not start a new session. Response code 500. Message: unknown error: DevToolsActivePort file doesn't exist \\nHost info: host: 'zxcv-boomslang', ip: '127.0.1.1'\\nBuild info: version: '4.8.0', revision: '267030adea'\\nSystem info: os.name: 'Linux', os.arch: 'amd64', os.version: '5.19.0-38-generic', java.version: '1.8.0_202'\\nDriver info: org.openqa.selenium.chrome.ChromeDriver\\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*], extensions: []}}], desiredCapabilities=Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*], extensions: []}}}]&quot;}\n\n</code></pre>\n<p>tried searching everywhere but cant find a solution.</p>\n"},{"tags":["java","android","xml","android-studio"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1680151375,"post_id":75884099,"comment_id":133849990,"body_markdown":"Check log cat and add the crash stacktrace with question .","body":"Check log cat and add the crash stacktrace with question ."}],"answers":[{"comments":[{"owner":{"account_id":19229764,"reputation":1,"user_id":14051847,"display_name":"omarhariri"},"score":0,"creation_date":1680153767,"post_id":75884338,"comment_id":133850284,"body_markdown":"i tried that, and its didnt work , because this  made the webview appear with the menu. When I did this, another error appeared, which is the same problem as the webview, but this time with the banner ad","body":"i tried that, and its didnt work , because this  made the webview appear with the menu. When I did this, another error appeared, which is the same problem as the webview, but this time with the banner ad"},{"owner":{"account_id":28029077,"reputation":949,"user_id":21408550,"display_name":"inkredusk"},"score":0,"creation_date":1680154903,"post_id":75884338,"comment_id":133850434,"body_markdown":"Hi @omarhariri: I see multiple issues based on the logcat messages you have posted in the question. can you please check this link https://stackoverflow.com/questions/61253621/error-inflating-class-com-google-android-material-navigation-navigationview. If possible please post your build.gradle file as well","body":"Hi @omarhariri: I see multiple issues based on the logcat messages you have posted in the question. can you please check this link <a href=\"https://stackoverflow.com/questions/61253621/error-inflating-class-com-google-android-material-navigation-navigationview\" title=\"error inflating class com google android material navigation navigationview\">stackoverflow.com/questions/61253621/&hellip;</a>. If possible please post your build.gradle file as well"}],"tags":[],"owner":{"account_id":28029077,"reputation":949,"user_id":21408550,"display_name":"inkredusk"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680153163,"creation_date":1680153163,"answer_id":75884338,"question_id":75884099,"body_markdown":"In your `MainActivity` class, you are setting the view as:\r\n\r\n      setContentView(R.layout.activity_main);\r\n\r\nHowever, your layout file `activity_main.xml` does not contain a `WebView` widget and hence you are getting that error. \r\n\r\nPlease try moving/creating the `WebView` widget inside the `activity_main.xml` file in order to resolve the error.\r\n\r\nPlease let me know in case you need anything else.\r\n\r\nHope that helps.","title":"i cant link webview in main activity to content layout","body":"<p>In your <code>MainActivity</code> class, you are setting the view as:</p>\n<pre><code>  setContentView(R.layout.activity_main);\n</code></pre>\n<p>However, your layout file <code>activity_main.xml</code> does not contain a <code>WebView</code> widget and hence you are getting that error.</p>\n<p>Please try moving/creating the <code>WebView</code> widget inside the <code>activity_main.xml</code> file in order to resolve the error.</p>\n<p>Please let me know in case you need anything else.</p>\n<p>Hope that helps.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680584308,"post_id":75884663,"comment_id":133918601,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75884663/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28164428,"reputation":1,"user_id":21523810,"display_name":"Pratik Gajera"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680608957,"creation_date":1680156767,"answer_id":75884663,"question_id":75884099,"body_markdown":"In your activity_main.xml file you have to add include tag like this\r\n\r\n    &lt;androidx.drawerlayout.widget.DrawerLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/drawer_layout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;\r\n    tools:ignore=&quot;HardcodedText&quot;&gt;\r\n\r\n    &lt;include\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        layout=&quot;your content layout like this @layout/content&quot; /&gt;\r\n\r\n    &lt;com.google.android.material.navigation.NavigationView\r\n        android:id=&quot;@+id/nav_view&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;start&quot;\r\n        app:menu=&quot;@menu/navigation_menu&quot; /&gt;\r\n\r\n    &lt;/androidx.drawerlayout.widget.DrawerLayout&gt; \r\n\r\nthis include tag helps the MainActivity.java to find (R.id.webview) in the class and due to this include tag `android.view.InflateException` will resolve and your app run smoothly.\r\n\r\n\r\n","title":"i cant link webview in main activity to content layout","body":"<p>In your activity_main.xml file you have to add include tag like this</p>\n<pre><code>&lt;androidx.drawerlayout.widget.DrawerLayout\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:id=&quot;@+id/drawer_layout&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;.MainActivity&quot;\ntools:ignore=&quot;HardcodedText&quot;&gt;\n\n&lt;include\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    layout=&quot;your content layout like this @layout/content&quot; /&gt;\n\n&lt;com.google.android.material.navigation.NavigationView\n    android:id=&quot;@+id/nav_view&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_gravity=&quot;start&quot;\n    app:menu=&quot;@menu/navigation_menu&quot; /&gt;\n\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt; \n</code></pre>\n<p>this include tag helps the MainActivity.java to find (R.id.webview) in the class and due to this include tag <code>android.view.InflateException</code> will resolve and your app run smoothly.</p>\n"},{"tags":[],"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680156831,"creation_date":1680156831,"answer_id":75884671,"question_id":75884099,"body_markdown":"From your log stacktrace, it indicates there is a problem with your ```NavigationView```:\r\n&gt; java.lang.RuntimeException: Unable to start activity ComponentInfo{app.example.webview/app.example.webview.MainActivity}: android.view.InflateException: Binary XML file line #23: Binary XML file line #23: Error inflating class com.google.android.material.navigation.NavigationView\r\n\r\nAnd the main cause should be:  \r\n&gt; Caused by: android.content.res.Resources$NotFoundException: Can&#39;t find ColorStateList from drawable resource ID #0x7f0700f6\r\n\r\nSo there should be something wrong with your ```@drawable/tab```:\r\n```xml\r\n&lt;com.google.android.material.navigation.NavigationView\r\n        ...\r\n        app:itemIconTint=&quot;@drawable/tab&quot;\r\n        app:itemTextColor=&quot;@drawable/tab&quot;\r\n        ... /&gt;\r\n```\r\nYou should check if the value of ```@drawable/tab``` is properly defined. ","title":"i cant link webview in main activity to content layout","body":"<p>From your log stacktrace, it indicates there is a problem with your <code>NavigationView</code>:</p>\n<blockquote>\n<p>java.lang.RuntimeException: Unable to start activity ComponentInfo{app.example.webview/app.example.webview.MainActivity}: android.view.InflateException: Binary XML file line #23: Binary XML file line #23: Error inflating class com.google.android.material.navigation.NavigationView</p>\n</blockquote>\n<p>And the main cause should be:</p>\n<blockquote>\n<p>Caused by: android.content.res.Resources$NotFoundException: Can't find ColorStateList from drawable resource ID #0x7f0700f6</p>\n</blockquote>\n<p>So there should be something wrong with your <code>@drawable/tab</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;com.google.android.material.navigation.NavigationView\n        ...\n        app:itemIconTint=&quot;@drawable/tab&quot;\n        app:itemTextColor=&quot;@drawable/tab&quot;\n        ... /&gt;\n</code></pre>\n<p>You should check if the value of <code>@drawable/tab</code> is properly defined.</p>\n"}],"owner":{"account_id":19229764,"reputation":1,"user_id":14051847,"display_name":"omarhariri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1680608957,"creation_date":1680150102,"question_id":75884099,"body_markdown":"here i try to add menu in my app screen , and when i run the app ,  its crash and show me this error :\r\n`@layout/activity_main` does not contain a declaration with id `webview`\r\n\r\nto understand my problem take a look to my code\r\n\r\n\r\nactivity layout \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.drawerlayout.widget.DrawerLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/drawer_layout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:fitsSystemWindows=&quot;true&quot;\r\n    tools:openDrawer=&quot;start&quot;&gt;\r\n\r\n\r\n\r\n    &lt;com.google.android.material.navigation.NavigationView\r\n        android:id=&quot;@+id/nav_view&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;start&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        app:itemIconTint=&quot;@drawable/tab&quot;\r\n        app:itemTextColor=&quot;@drawable/tab&quot;\r\n        app:headerLayout=&quot;@layout/nav_header&quot;\r\n        app:menu=&quot;@menu/menu&quot; /&gt;\r\n\r\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n\r\n\r\n\r\n```\r\n\r\n\r\nand this content layout\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;WebView\r\n        tools:context=&quot;.MainActivity&quot;\r\n        android:id=&quot;@+id/webview&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_weight=&quot;1&quot;&gt;\r\n    &lt;/WebView&gt;\r\n\r\n    &lt;com.google.android.gms.ads.AdView\r\n        xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:id=&quot;@+id/adView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        ads:adSize=&quot;SMART_BANNER&quot;\r\n        ads:adUnitId=&quot;ca-app-pub-3940256099942544/6300978111&quot;&gt;\r\n    &lt;/com.google.android.gms.ads.AdView&gt;\r\n\r\n\r\n\r\n&lt;/LinearLayout&gt;\r\n\r\n```\r\n\r\npart of my code from main activity (because its so long) , the error show with this (R.id.webview)\r\n\r\n```\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    LinearLayout LinearLayoutView;\r\n    private WebView webView;\r\n    private AdView mAdView;\r\n    private InterstitialAd mInterstitialAd;\r\n    DrawerLayout drawer_layout;\r\n    NavigationView nav_view;\r\n    ActionBarDrawerToggle drawerToggle;\r\n\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n\r\n\r\n        drawer_layout = findViewById(R.id.drawer_layout);\r\n        nav_view = findViewById(R.id.nav_view);\r\n        drawerToggle = new ActionBarDrawerToggle(this,drawer_layout, R.string.open, R.string.close);\r\n        drawer_layout.addDrawerListener(drawerToggle);\r\n        drawerToggle.syncState();\r\n       getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n        nav_view.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n\r\n                switch (item.getItemId())\r\n                {\r\n\r\n                    case R.id.nav_item01:\r\n                    {\r\n\r\n                        Toast.makeText(MainActivity.this, &quot;this nav item 1 &quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n\r\n                    case R.id.nav_item02:\r\n                    {\r\n\r\n                        Toast.makeText(MainActivity.this, &quot;this nav item 1 &quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                    case R.id.nav_item03:\r\n                    {\r\n\r\n                        Toast.makeText(MainActivity.this, &quot;this nav item 1 &quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                    case R.id.nav_item04:\r\n                    {\r\n\r\n                        Toast.makeText(MainActivity.this, &quot;this nav item 1 &quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                    case R.id.nav_item05:\r\n                    {\r\n\r\n                        Toast.makeText(MainActivity.this, &quot;this nav item 1 &quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                    case R.id.nav_item06:\r\n                    {\r\n\r\n                        Toast.makeText(MainActivity.this, &quot;this nav item 1 &quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                    case R.id.nav_item07:\r\n                    {\r\n\r\n                        Toast.makeText(MainActivity.this, &quot;this nav item 1 &quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                    case R.id.nav_share:\r\n                    {\r\n                    ShareApp();\r\n                    }\r\n                    case R.id.rateapp:\r\n                    {\r\n\r\n                        RateApp();\r\n                    }\r\n                    case R.id.moreapps:\r\n                    {\r\n\r\n                       MoreApps();\r\n                    }\r\n\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n\r\n\r\n\r\n            WebView webView = findViewById(R.id.webview);\r\n        webView.getSettings().setJavaScriptEnabled(true);\r\n        webView.setWebViewClient(new WebViewClient());\r\nwebviewscreen();\r\n\r\n        WebSettings webSettings = webView.getSettings();\r\n\r\n\r\n        webSettings.setJavaScriptEnabled(true);\r\n        webSettings.setSaveFormData(false);\r\n        webSettings.setSupportZoom(false);\r\n        webSettings.setGeolocationEnabled(true);\r\n        webSettings.setAllowFileAccess(true);\r\n        webSettings.setAllowFileAccessFromFileURLs(true);\r\n        webSettings.setAllowUniversalAccessFromFileURLs(true);\r\n        webSettings.setUseWideViewPort(true);\r\n        webSettings.setDomStorageEnabled(true);\r\n\r\n        webView.setHapticFeedbackEnabled(false);\r\n\r\n```\r\n\r\n\r\nerrors :\r\n\r\n```\r\n\r\nD/AndroidRuntime: Shutting down VM\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: app.example.webview, PID: 8114\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{app.example.webview/app.example.webview.MainActivity}: android.view.InflateException: Binary XML file line #23: Binary XML file line #23: Error inflating class com.google.android.material.navigation.NavigationView\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2778)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856)\r\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6494)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\r\n     Caused by: android.view.InflateException: Binary XML file line #23: Binary XML file line #23: Error inflating class com.google.android.material.navigation.NavigationView\r\n     Caused by: android.view.InflateException: Binary XML file line #23: Error inflating class com.google.android.material.navigation.NavigationView\r\n     Caused by: java.lang.reflect.InvocationTargetException\r\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:334)\r\n        at android.view.LayoutInflater.createView(LayoutInflater.java:647)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:790)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:863)\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:775)\r\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:197)\r\n        at app.example.webview**strong text**.MainActivity.onCreate(MainActivity.java:58)\r\n        at android.app.Activity.performCreate(Activity.java:7009)\r\n        at android.app.Activity.performCreate(Activity.java:7000)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1214)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2731)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856)\r\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6494)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\r\n     Caused by: android.content.res.Resources$NotFoundException: Can&#39;t find ColorStateList from drawable resource ID #0x7f0700f6\r\n        at android.content.res.ResourcesImpl.loadColorStateList(ResourcesImpl.java:1013)\r\n        at android.content.res.Resources.getColorStateList(Resources.java:1021)\r\n        at androidx.core.content.res.ResourcesCompat$Api23Impl.getColorStateList(ResourcesCompat.java:688)\r\n        at androidx.core.content.res.ResourcesCompat.getColorStateList(ResourcesCompat.java:244)\r\n        at androidx.core.content.ContextCompat.getColorStateList(ContextCompat.java:558)\r\n        at androidx.appcompat.content.res.AppCompatResources.getColorStateList(AppCompatResources.java:48)\r\n        at androidx.appcompat.widget.TintTypedArray.getColorStateList(TintTypedArray.java:179)\r\n        at com.google.android.material.navigation.NavigationView.&lt;init&gt;(NavigationView.java:213)\r\nE/AndroidRuntime:     at com.google.android.material.navigation.NavigationView.&lt;init&gt;(NavigationView.java:141)\r\n        \t 26 more\r\n\r\n```\r\n\r\n\r\ni watch many videos and they do exactly what I do , and its work with them","title":"i cant link webview in main activity to content layout","body":"<p>here i try to add menu in my app screen , and when i run the app ,  its crash and show me this error :\n<code>@layout/activity_main</code> does not contain a declaration with id <code>webview</code></p>\n<p>to understand my problem take a look to my code</p>\n<p>activity layout</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/drawer_layout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:fitsSystemWindows=&quot;true&quot;\n    tools:openDrawer=&quot;start&quot;&gt;\n\n\n\n    &lt;com.google.android.material.navigation.NavigationView\n        android:id=&quot;@+id/nav_view&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;start&quot;\n        android:fitsSystemWindows=&quot;true&quot;\n        app:itemIconTint=&quot;@drawable/tab&quot;\n        app:itemTextColor=&quot;@drawable/tab&quot;\n        app:headerLayout=&quot;@layout/nav_header&quot;\n        app:menu=&quot;@menu/menu&quot; /&gt;\n\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n\n\n\n</code></pre>\n<p>and this content layout</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;WebView\n        tools:context=&quot;.MainActivity&quot;\n        android:id=&quot;@+id/webview&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_weight=&quot;1&quot;&gt;\n    &lt;/WebView&gt;\n\n    &lt;com.google.android.gms.ads.AdView\n        xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\n        android:id=&quot;@+id/adView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        ads:adSize=&quot;SMART_BANNER&quot;\n        ads:adUnitId=&quot;ca-app-pub-3940256099942544/6300978111&quot;&gt;\n    &lt;/com.google.android.gms.ads.AdView&gt;\n\n\n\n&lt;/LinearLayout&gt;\n\n</code></pre>\n<p>part of my code from main activity (because its so long) , the error show with this (R.id.webview)</p>\n<pre><code>\npublic class MainActivity extends AppCompatActivity {\n\n    LinearLayout LinearLayoutView;\n    private WebView webView;\n    private AdView mAdView;\n    private InterstitialAd mInterstitialAd;\n    DrawerLayout drawer_layout;\n    NavigationView nav_view;\n    ActionBarDrawerToggle drawerToggle;\n\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n\n\n        drawer_layout = findViewById(R.id.drawer_layout);\n        nav_view = findViewById(R.id.nav_view);\n        drawerToggle = new ActionBarDrawerToggle(this,drawer_layout, R.string.open, R.string.close);\n        drawer_layout.addDrawerListener(drawerToggle);\n        drawerToggle.syncState();\n       getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n        nav_view.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n\n                switch (item.getItemId())\n                {\n\n                    case R.id.nav_item01:\n                    {\n\n                        Toast.makeText(MainActivity.this, &quot;this nav item 1 &quot;, Toast.LENGTH_LONG).show();\n                    }\n\n                    case R.id.nav_item02:\n                    {\n\n                        Toast.makeText(MainActivity.this, &quot;this nav item 1 &quot;, Toast.LENGTH_LONG).show();\n                    }\n                    case R.id.nav_item03:\n                    {\n\n                        Toast.makeText(MainActivity.this, &quot;this nav item 1 &quot;, Toast.LENGTH_LONG).show();\n                    }\n                    case R.id.nav_item04:\n                    {\n\n                        Toast.makeText(MainActivity.this, &quot;this nav item 1 &quot;, Toast.LENGTH_LONG).show();\n                    }\n                    case R.id.nav_item05:\n                    {\n\n                        Toast.makeText(MainActivity.this, &quot;this nav item 1 &quot;, Toast.LENGTH_LONG).show();\n                    }\n                    case R.id.nav_item06:\n                    {\n\n                        Toast.makeText(MainActivity.this, &quot;this nav item 1 &quot;, Toast.LENGTH_LONG).show();\n                    }\n                    case R.id.nav_item07:\n                    {\n\n                        Toast.makeText(MainActivity.this, &quot;this nav item 1 &quot;, Toast.LENGTH_LONG).show();\n                    }\n                    case R.id.nav_share:\n                    {\n                    ShareApp();\n                    }\n                    case R.id.rateapp:\n                    {\n\n                        RateApp();\n                    }\n                    case R.id.moreapps:\n                    {\n\n                       MoreApps();\n                    }\n\n                }\n                return false;\n            }\n        });\n\n\n\n            WebView webView = findViewById(R.id.webview);\n        webView.getSettings().setJavaScriptEnabled(true);\n        webView.setWebViewClient(new WebViewClient());\nwebviewscreen();\n\n        WebSettings webSettings = webView.getSettings();\n\n\n        webSettings.setJavaScriptEnabled(true);\n        webSettings.setSaveFormData(false);\n        webSettings.setSupportZoom(false);\n        webSettings.setGeolocationEnabled(true);\n        webSettings.setAllowFileAccess(true);\n        webSettings.setAllowFileAccessFromFileURLs(true);\n        webSettings.setAllowUniversalAccessFromFileURLs(true);\n        webSettings.setUseWideViewPort(true);\n        webSettings.setDomStorageEnabled(true);\n\n        webView.setHapticFeedbackEnabled(false);\n\n</code></pre>\n<p>errors :</p>\n<pre><code>\nD/AndroidRuntime: Shutting down VM\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: app.example.webview, PID: 8114\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{app.example.webview/app.example.webview.MainActivity}: android.view.InflateException: Binary XML file line #23: Binary XML file line #23: Error inflating class com.google.android.material.navigation.NavigationView\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2778)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856)\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6494)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\n     Caused by: android.view.InflateException: Binary XML file line #23: Binary XML file line #23: Error inflating class com.google.android.material.navigation.NavigationView\n     Caused by: android.view.InflateException: Binary XML file line #23: Error inflating class com.google.android.material.navigation.NavigationView\n     Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:334)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:647)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:790)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:863)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:775)\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:197)\n        at app.example.webview**strong text**.MainActivity.onCreate(MainActivity.java:58)\n        at android.app.Activity.performCreate(Activity.java:7009)\n        at android.app.Activity.performCreate(Activity.java:7000)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1214)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2731)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856)\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6494)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\n     Caused by: android.content.res.Resources$NotFoundException: Can't find ColorStateList from drawable resource ID #0x7f0700f6\n        at android.content.res.ResourcesImpl.loadColorStateList(ResourcesImpl.java:1013)\n        at android.content.res.Resources.getColorStateList(Resources.java:1021)\n        at androidx.core.content.res.ResourcesCompat$Api23Impl.getColorStateList(ResourcesCompat.java:688)\n        at androidx.core.content.res.ResourcesCompat.getColorStateList(ResourcesCompat.java:244)\n        at androidx.core.content.ContextCompat.getColorStateList(ContextCompat.java:558)\n        at androidx.appcompat.content.res.AppCompatResources.getColorStateList(AppCompatResources.java:48)\n        at androidx.appcompat.widget.TintTypedArray.getColorStateList(TintTypedArray.java:179)\n        at com.google.android.material.navigation.NavigationView.&lt;init&gt;(NavigationView.java:213)\nE/AndroidRuntime:     at com.google.android.material.navigation.NavigationView.&lt;init&gt;(NavigationView.java:141)\n             26 more\n\n</code></pre>\n<p>i watch many videos and they do exactly what I do , and its work with them</p>\n"},{"tags":["java","android","android-intent","sharedpreferences","android-contentprovider"],"comments":[{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":1,"creation_date":1385463929,"post_id":20214963,"comment_id":30143752,"body_markdown":"use ContentProvider, you dont have to store the data in a sqlite db, you can use anything e.g. SharedPreferences","body":"use ContentProvider, you dont have to store the data in a sqlite db, you can use anything e.g. SharedPreferences"},{"owner":{"account_id":402229,"reputation":94004,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1385467659,"post_id":20214963,"comment_id":30145964,"body_markdown":"Does the data need to be persistent? or can it just be stored in memory (and will be gone when both apps shutdown or the phone is rebooted)","body":"Does the data need to be persistent? or can it just be stored in memory (and will be gone when both apps shutdown or the phone is rebooted)"},{"owner":{"account_id":243016,"reputation":9390,"user_id":514919,"accept_rate":28,"display_name":"Pratik Mandrekar"},"score":1,"creation_date":1385468232,"post_id":20214963,"comment_id":30146318,"body_markdown":"The data needs to be persistent. But out of curiosity, what were you thinking of if it can be held in memory or in transient storage?","body":"The data needs to be persistent. But out of curiosity, what were you thinking of if it can be held in memory or in transient storage?"},{"owner":{"account_id":243016,"reputation":9390,"user_id":514919,"accept_rate":28,"display_name":"Pratik Mandrekar"},"score":0,"creation_date":1385470309,"post_id":20214963,"comment_id":30147551,"body_markdown":"@pskink - Any example how I can use SharedPreferences with a ContentProvider properly? AFAIK, the ContentResolver returns a cursor when we do a query in a normal situation.","body":"@pskink - Any example how I can use SharedPreferences with a ContentProvider properly? AFAIK, the ContentResolver returns a cursor when we do a query in a normal situation."},{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":1,"creation_date":1385471299,"post_id":20214963,"comment_id":30148118,"body_markdown":"return a MatrixCuesor in ContentProvider.query() merhod","body":"return a MatrixCuesor in ContentProvider.query() merhod"}],"answers":[{"tags":[],"owner":{"account_id":418491,"reputation":1202,"user_id":795082,"accept_rate":100,"display_name":"Jakub Szczygieł"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385463894,"creation_date":1385463894,"answer_id":20215320,"question_id":20214963,"body_markdown":"You can set up Broadcast Reciever on one end to listen for particular intent type. And broadcast intents from first application with data held in extras. You can send whole objects via intent using parcerable approach. \r\n\r\nMore about parcerable approach can be found [here][1]\r\n\r\n\r\n  [1]: https://github.com/thecodepath/android_guides/wiki/Using-Parcelable","title":"Best practices for sharing data between android apps","body":"<p>You can set up Broadcast Reciever on one end to listen for particular intent type. And broadcast intents from first application with data held in extras. You can send whole objects via intent using parcerable approach. </p>\n\n<p>More about parcerable approach can be found <a href=\"https://github.com/thecodepath/android_guides/wiki/Using-Parcelable\" rel=\"nofollow\">here</a></p>\n"},{"tags":[],"owner":{"account_id":243016,"reputation":9390,"user_id":514919,"accept_rate":28,"display_name":"Pratik Mandrekar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1385489807,"creation_date":1385489807,"answer_id":20224851,"question_id":20214963,"body_markdown":"I created a small library that makes it simple to share `SharedPreferences` from one app to another in a `READ ONLY` fashion using `ContentProvider`.\r\n\r\nDescribed it here - https://github.com/ratpik/android-sharedpreferences-api/blob/master/README.md","title":"Best practices for sharing data between android apps","body":"<p>I created a small library that makes it simple to share <code>SharedPreferences</code> from one app to another in a <code>READ ONLY</code> fashion using <code>ContentProvider</code>.</p>\n\n<p>Described it here - <a href=\"https://github.com/ratpik/android-sharedpreferences-api/blob/master/README.md\" rel=\"nofollow\">https://github.com/ratpik/android-sharedpreferences-api/blob/master/README.md</a></p>\n"}],"owner":{"account_id":243016,"reputation":9390,"user_id":514919,"accept_rate":28,"display_name":"Pratik Mandrekar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":611,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1680608910,"creation_date":1385462972,"question_id":20214963,"body_markdown":"I need to share data between two android apps that are on the same phone without using the internet. The data I want to share includes a several key value pairs of different data types. The options I am aware of are:\r\n\r\n 1. Using intents - [Send][1] and [Receive][2]. But the typical examples\r\n    for intents do not involve these use cases. Intents seems more\r\n    suited for sharing data of a particular mime type or launch apps (or\r\n    let users choose from) to handle the data being shared.\r\n    \r\n 2.   Sharing the [SharedPreferences][3]. However the MODE_WORLD_READABLE\r\n    or MODE_WORLD_WRITEABLE flags required for this have been deprecated\r\n    post API 17.\r\n    \r\n 3.   [Broadcast Receivers][4] - But I&#39;m not exactly listening to events.\r\n    I want to use a request/response cycle.\r\n    \r\n 4.   [Content Providers][5]. This is great except for the fact that I\r\n    need to store the data in a database in the app sharing the data. If I have key, value pairs\r\n    where the value can be of different data types, this makes the data\r\n    table a bit cumbersome. Is there a better way to do this with\r\n    content providers?\r\n  \r\n\r\nWhich is the best technique to adopt?\r\n\r\n  [1]: http://developer.android.com/training/sharing/send.html\r\n  [2]: http://developer.android.com/training/sharing/receive.html\r\n  [3]: http://chrisrisner.com/Accessing-the-Shared-Preferences-of-a-Different-Application-in-Android\r\n  [4]: http://www.vogella.com/articles/AndroidBroadcastReceiver/article.html\r\n  [5]: http://developer.android.com/guide/topics/providers/content-providers.html","title":"Best practices for sharing data between android apps","body":"<p>I need to share data between two android apps that are on the same phone without using the internet. The data I want to share includes a several key value pairs of different data types. The options I am aware of are:</p>\n\n<ol>\n<li><p>Using intents - <a href=\"http://developer.android.com/training/sharing/send.html\" rel=\"nofollow\">Send</a> and <a href=\"http://developer.android.com/training/sharing/receive.html\" rel=\"nofollow\">Receive</a>. But the typical examples\nfor intents do not involve these use cases. Intents seems more\nsuited for sharing data of a particular mime type or launch apps (or\nlet users choose from) to handle the data being shared.</p></li>\n<li><p>Sharing the <a href=\"http://chrisrisner.com/Accessing-the-Shared-Preferences-of-a-Different-Application-in-Android\" rel=\"nofollow\">SharedPreferences</a>. However the MODE_WORLD_READABLE\nor MODE_WORLD_WRITEABLE flags required for this have been deprecated\npost API 17.</p></li>\n<li><p><a href=\"http://www.vogella.com/articles/AndroidBroadcastReceiver/article.html\" rel=\"nofollow\">Broadcast Receivers</a> - But I'm not exactly listening to events.\nI want to use a request/response cycle.</p></li>\n<li><p><a href=\"http://developer.android.com/guide/topics/providers/content-providers.html\" rel=\"nofollow\">Content Providers</a>. This is great except for the fact that I\nneed to store the data in a database in the app sharing the data. If I have key, value pairs\nwhere the value can be of different data types, this makes the data\ntable a bit cumbersome. Is there a better way to do this with\ncontent providers?</p></li>\n</ol>\n\n<p>Which is the best technique to adopt?</p>\n"},{"tags":["java","eclipse","code-formatting","pretty-print","eclipse-formatter"],"comments":[{"owner":{"account_id":9608,"reputation":17506,"user_id":17832,"display_name":"JeeBee"},"score":1,"creation_date":1259599329,"post_id":1820908,"comment_id":1711184,"body_markdown":"We&#39;ve had this problem. Eclipse *should* have an option to always break a line in a String constructor where a + is, regardless of whether the next bit of string would fit on the line. But it doesn&#39;t. :-(","body":"We&#39;ve had this problem. Eclipse <i>should</i> have an option to always break a line in a String constructor where a + is, regardless of whether the next bit of string would fit on the line. But it doesn&#39;t. :-("},{"owner":{"account_id":90755,"reputation":5544,"user_id":249663,"display_name":"Guillaume"},"score":0,"creation_date":1277124569,"post_id":1820908,"comment_id":34581191,"body_markdown":"Apparently this feature was added in Eclipse 3.6M6: https://bugs.eclipse.org/bugs/show_bug.cgi?id=27079","body":"Apparently this feature was added in Eclipse 3.6M6: <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=27079\" rel=\"nofollow noreferrer\">bugs.eclipse.org/bugs/show_bug.cgi?id=27079</a>"},{"owner":{"account_id":2028324,"reputation":10542,"user_id":1812732,"accept_rate":72,"display_name":"John Henckel"},"score":0,"creation_date":1455305536,"post_id":1820908,"comment_id":58447500,"body_markdown":"Note: If you simply want to prevent eclipse from messing up your comments, then you can use // in front of each line. To comment out a block, highlight and press Ctrl+/.","body":"Note: If you simply want to prevent eclipse from messing up your comments, then you can use // in front of each line. To comment out a block, highlight and press Ctrl+/."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1584121253,"post_id":1820908,"comment_id":107349148,"body_markdown":"Note that now 10 years later, Java 14 will probably bring multi-line strings making this a thing of the past.","body":"Note that now 10 years later, Java 14 will probably bring multi-line strings making this a thing of the past."},{"owner":{"account_id":24731384,"reputation":103,"user_id":18619318,"display_name":"user18619318"},"score":1,"creation_date":1651647545,"post_id":1820908,"comment_id":127409998,"body_markdown":"Text blocks have been available since Java 15, and is suitable for SQL queries like this.  See http://openjdk.java.net/jeps/378","body":"Text blocks have been available since Java 15, and is suitable for SQL queries like this.  See <a href=\"http://openjdk.java.net/jeps/378\" rel=\"nofollow noreferrer\">openjdk.java.net/jeps/378</a>"}],"answers":[{"comments":[{"owner":{"account_id":29838,"reputation":19362,"user_id":80906,"display_name":"Francis Upton IV"},"score":10,"creation_date":1259606935,"post_id":1820963,"comment_id":1711952,"body_markdown":"Not using the formatter is just a bad idea; the formatter helps to catch errors and keeps the code in a consistent state.","body":"Not using the formatter is just a bad idea; the formatter helps to catch errors and keeps the code in a consistent state."},{"owner":{"account_id":67242,"reputation":3450,"user_id":196852,"accept_rate":85,"display_name":"Chris"},"score":0,"creation_date":1259612355,"post_id":1820963,"comment_id":1712549,"body_markdown":"An interesting suggestion, but I don&#39;t see how formatting tells us whether code is good or not.","body":"An interesting suggestion, but I don&#39;t see how formatting tells us whether code is good or not."},{"owner":{"account_id":7913,"reputation":33220,"user_id":13940,"accept_rate":58,"display_name":"Greg Mattes"},"score":3,"creation_date":1259613198,"post_id":1820963,"comment_id":1712623,"body_markdown":"I think what he&#39;s saying is that he feels that poorly written, poorly formatted code should be kept as-is rather than formatting it in the hope of &quot;improving it.&quot; Poorly written, poorly formatted code should &quot;stick out&quot; somehow so that it can be easily identified. Not quite sure that I totally agree, but I think that&#39;s the idea.","body":"I think what he&#39;s saying is that he feels that poorly written, poorly formatted code should be kept as-is rather than formatting it in the hope of &quot;improving it.&quot; Poorly written, poorly formatted code should &quot;stick out&quot; somehow so that it can be easily identified. Not quite sure that I totally agree, but I think that&#39;s the idea."},{"owner":{"account_id":50098,"reputation":32608,"user_id":149311,"accept_rate":80,"display_name":"Thomas Jung"},"score":1,"creation_date":1259647617,"post_id":1820963,"comment_id":1715120,"body_markdown":"@Francis - Bugs: How can auto-formatted code finding bugs? Consistency: Consistency is a nice argument but overall code quality is more important. You can define a nice consistent process for hamburger flipping but it will never work for haute cuisine. Cooking a can be a reasonably complicated activity or trivial if you ignore enough facts. If you think that software development is like hamburger flipping tools enforcing consistency are for you. This is not an argument against formatting guide lines but if the developers don&#39;t care about these guidelines the won&#39;t care about other essentials.","body":"@Francis - Bugs: How can auto-formatted code finding bugs? Consistency: Consistency is a nice argument but overall code quality is more important. You can define a nice consistent process for hamburger flipping but it will never work for haute cuisine. Cooking a can be a reasonably complicated activity or trivial if you ignore enough facts. If you think that software development is like hamburger flipping tools enforcing consistency are for you. This is not an argument against formatting guide lines but if the developers don&#39;t care about these guidelines the won&#39;t care about other essentials."},{"owner":{"account_id":21705,"reputation":1054,"user_id":52993,"display_name":"Per Wiklander"},"score":4,"creation_date":1335061349,"post_id":1820963,"comment_id":13198633,"body_markdown":"My argument here: I write good code and I stick to the formatting guide lines. But I am LAZY. Why should I have to insert the correct amount of spaces and line breaks when I can write my five lines of sloppy code, press the format-button and be happy? AFTER I have formatted the code, using my tool that makes sure the result is always perfect, I am as nazi as anyone about the formatting. There is NO argument against sticking to the guide lines (other that that they may be particularly bad) if the formatting is just a kestroke away. All project members share the same code formatting settings.","body":"My argument here: I write good code and I stick to the formatting guide lines. But I am LAZY. Why should I have to insert the correct amount of spaces and line breaks when I can write my five lines of sloppy code, press the format-button and be happy? AFTER I have formatted the code, using my tool that makes sure the result is always perfect, I am as nazi as anyone about the formatting. There is NO argument against sticking to the guide lines (other that that they may be particularly bad) if the formatting is just a kestroke away. All project members share the same code formatting settings."},{"owner":{"account_id":222105,"reputation":1801,"user_id":480483,"accept_rate":80,"display_name":"djjeck"},"score":0,"creation_date":1374181542,"post_id":1820963,"comment_id":25852302,"body_markdown":"LOL, I disagree but it&#39;s funny.","body":"LOL, I disagree but it&#39;s funny."},{"owner":{"account_id":17533,"reputation":5283,"user_id":39334,"accept_rate":81,"display_name":"stolsvik"},"score":0,"creation_date":1388398092,"post_id":1820963,"comment_id":31252161,"body_markdown":"This is *completely* misunderstanding the &quot;Bad code should look not look good&quot;-argument: Quite the opposite, a cleanly *and consistently* formatted source will help you see &quot;code smells&quot; much faster, as your internal parser can kick in and see &quot;but that thing looks way to complicated!&quot;, or simply &quot;that looks strange?&quot;.","body":"This is <i>completely</i> misunderstanding the &quot;Bad code should look not look good&quot;-argument: Quite the opposite, a cleanly <i>and consistently</i> formatted source will help you see &quot;code smells&quot; much faster, as your internal parser can kick in and see &quot;but that thing looks way to complicated!&quot;, or simply &quot;that looks strange?&quot;."},{"owner":{"account_id":1685111,"reputation":384,"user_id":1548580,"display_name":"Demonblack"},"score":0,"creation_date":1498146257,"post_id":1820963,"comment_id":76390902,"body_markdown":"I completely agree with not using automatic formatting.It isn&#39;t hard to format code properly, and the autoformatter always ends up breaking things that a proper developer would have formatted in a certain way to improve readability. The sheer amount of &quot;how to stop autoformat from doing x?&quot; questions should be proof enough of this. No machine can be better than someone who cares about what they&#39;re doing, and if someone doesn&#39;t care enough to put in a stupid tab they&#39;re likely ignoring much more important underlying issues and I&#39;d rather they weren&#39;t messing with my codebase at all.","body":"I completely agree with not using automatic formatting.It isn&#39;t hard to format code properly, and the autoformatter always ends up breaking things that a proper developer would have formatted in a certain way to improve readability. The sheer amount of &quot;how to stop autoformat from doing x?&quot; questions should be proof enough of this. No machine can be better than someone who cares about what they&#39;re doing, and if someone doesn&#39;t care enough to put in a stupid tab they&#39;re likely ignoring much more important underlying issues and I&#39;d rather they weren&#39;t messing with my codebase at all."}],"tags":[],"owner":{"account_id":50098,"reputation":32608,"user_id":149311,"accept_rate":80,"display_name":"Thomas Jung"},"comment_count":8,"down_vote_count":14,"up_vote_count":10,"is_accepted":false,"score":-4,"last_activity_date":1259600103,"creation_date":1259599665,"answer_id":1820963,"question_id":1820908,"body_markdown":"This hack works:\r\n\r\n    String x = &quot;s&quot; + //Formatter Hack\r\n        &quot;a&quot; + //\r\n        &quot;c&quot; + //\r\n        &quot;d&quot;;\r\n\r\nI would suggest not to use the formatter. **Bad code should look bad not artificially good.** Good code takes time. You cannot cheat on quality. Formatting is part of source code quality.","title":"How to turn off the Eclipse code formatter for certain sections of Java code?","body":"<p>This hack works:</p>\n\n<pre><code>String x = \"s\" + //Formatter Hack\n    \"a\" + //\n    \"c\" + //\n    \"d\";\n</code></pre>\n\n<p>I would suggest not to use the formatter. <strong>Bad code should look bad not artificially good.</strong> Good code takes time. You cannot cheat on quality. Formatting is part of source code quality.</p>\n"},{"comments":[{"owner":{"account_id":7913,"reputation":33220,"user_id":13940,"accept_rate":58,"display_name":"Greg Mattes"},"score":1,"creation_date":1259605947,"post_id":1820968,"comment_id":1711859,"body_markdown":"So in addition to setting the &quot;Never Join Lines&quot; option I *also* have to write these &quot;phantom&quot; comments? Shouldn&#39;t the &quot;Never Join Lines&quot; part work by itself?","body":"So in addition to setting the &quot;Never Join Lines&quot; option I <i>also</i> have to write these &quot;phantom&quot; comments? Shouldn&#39;t the &quot;Never Join Lines&quot; part work by itself?"},{"owner":{"account_id":67242,"reputation":3450,"user_id":196852,"accept_rate":85,"display_name":"Chris"},"score":2,"creation_date":1259612255,"post_id":1820968,"comment_id":1712543,"body_markdown":"Yes, of course it should. The phantom comments are an alternative approach (in case it doesn&#39;t exist, or you&#39;re stuck with an earlier version, etc.).","body":"Yes, of course it should. The phantom comments are an alternative approach (in case it doesn&#39;t exist, or you&#39;re stuck with an earlier version, etc.)."},{"owner":{"account_id":25662,"reputation":1367,"user_id":66125,"accept_rate":100,"display_name":"jnt30"},"score":0,"creation_date":1279541688,"post_id":1820968,"comment_id":3395638,"body_markdown":"I&#39;ve used this approach in tandem with a custom formatting template in TOAD to allow me to strip the old SQL from JAVA code, reformat it and get all the extraneous comments and then throw it back into JAVA.  It&#39;s a pain, but it&#39;s allowed us to auto-format on save our Java code now.   Thanks for the suggestion!","body":"I&#39;ve used this approach in tandem with a custom formatting template in TOAD to allow me to strip the old SQL from JAVA code, reformat it and get all the extraneous comments and then throw it back into JAVA.  It&#39;s a pain, but it&#39;s allowed us to auto-format on save our Java code now.   Thanks for the suggestion!"},{"owner":{"account_id":21094,"reputation":1458,"user_id":51016,"accept_rate":100,"display_name":"Christoffer Soop"},"score":0,"creation_date":1418232264,"post_id":1820968,"comment_id":43258768,"body_markdown":"Without checking the &quot;Never join lines&quot; the on/off macros do not work for me - thanks!","body":"Without checking the &quot;Never join lines&quot; the on/off macros do not work for me - thanks!"}],"tags":[],"owner":{"account_id":42065,"reputation":53627,"user_id":122428,"display_name":"jitter"},"comment_count":4,"down_vote_count":0,"up_vote_count":63,"is_accepted":false,"score":63,"last_activity_date":1259599709,"creation_date":1259599709,"answer_id":1820968,"question_id":1820908,"body_markdown":"AFAIK from Eclipse 3.5 M4 on the formatter has an option &quot;Never Join Lines&quot; which preserves user lines breaks. Maybe that does what you want.\r\n\r\nElse there is this ugly hack\r\n\r\n    String query = //\r\n        &quot;SELECT FOO, BAR, BAZ&quot; + //\r\n        &quot;  FROM ABC&quot;           + //\r\n        &quot; WHERE BAR &gt; 4&quot;;","title":"How to turn off the Eclipse code formatter for certain sections of Java code?","body":"<p>AFAIK from Eclipse 3.5 M4 on the formatter has an option \"Never Join Lines\" which preserves user lines breaks. Maybe that does what you want.</p>\n\n<p>Else there is this ugly hack</p>\n\n<pre><code>String query = //\n    \"SELECT FOO, BAR, BAZ\" + //\n    \"  FROM ABC\"           + //\n    \" WHERE BAR &gt; 4\";\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7913,"reputation":33220,"user_id":13940,"accept_rate":58,"display_name":"Greg Mattes"},"score":1,"creation_date":1259607686,"post_id":1820978,"comment_id":1712034,"body_markdown":"This might be an interesting compromise. In general, I&#39;d like to refrain from changing the formatting of the code too much due to some undesirable behavior of one tool.\n\nIn this case, the string concatenation operators are more of an accident rather than the essence of what&#39;s going on with the SQL. That&#39;s why I prefer to write them at the end of each line. I feel that the SQL should be emphasized as the beginning of the line. But this may be a good way to go in the absence of a solution that lets me preserve my desired formatting. Thanks!","body":"This might be an interesting compromise. In general, I&#39;d like to refrain from changing the formatting of the code too much due to some undesirable behavior of one tool.  In this case, the string concatenation operators are more of an accident rather than the essence of what&#39;s going on with the SQL. That&#39;s why I prefer to write them at the end of each line. I feel that the SQL should be emphasized as the beginning of the line. But this may be a good way to go in the absence of a solution that lets me preserve my desired formatting. Thanks!"},{"owner":{"account_id":51094,"reputation":9008,"user_id":152578,"accept_rate":100,"display_name":"CPerkins"},"score":8,"creation_date":1259667972,"post_id":1820978,"comment_id":1716474,"body_markdown":"You&#39;re welcome.  Actually, I&#39;ve been putting my + signs at the front of lines for decades, and not to fool the formatter.   I prefer them at the front, because it makes what&#39;s happening clearer to me: what&#39;s at the end of a line sometimes gets lost.  It was the project standard someplace way back when we used woodburning compilers, and it&#39;s stuck with me.","body":"You&#39;re welcome.  Actually, I&#39;ve been putting my + signs at the front of lines for decades, and not to fool the formatter.   I prefer them at the front, because it makes what&#39;s happening clearer to me: what&#39;s at the end of a line sometimes gets lost.  It was the project standard someplace way back when we used woodburning compilers, and it&#39;s stuck with me."}],"tags":[],"owner":{"account_id":51094,"reputation":9008,"user_id":152578,"accept_rate":100,"display_name":"CPerkins"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1514586901,"creation_date":1259599814,"answer_id":1820978,"question_id":1820908,"body_markdown":"If you put the plus sign on the beginning of the line, it formats differently:\r\n\r\n    String query = \r\n        &quot;SELECT FOO, BAR, BAZ&quot; \r\n        +    &quot;  FROM ABC&quot;           \r\n        +    &quot; WHERE BAR &gt; 4&quot;;","title":"How to turn off the Eclipse code formatter for certain sections of Java code?","body":"<p>If you put the plus sign on the beginning of the line, it formats differently:</p>\n\n<pre><code>String query = \n    \"SELECT FOO, BAR, BAZ\" \n    +    \"  FROM ABC\"           \n    +    \" WHERE BAR &gt; 4\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":64019,"reputation":2986,"user_id":189203,"accept_rate":83,"display_name":"Guus"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1279279071,"creation_date":1279279071,"answer_id":3264240,"question_id":1820908,"body_markdown":"I&#39;m using fixed width string-parts (padded with whitespace) to avoid having the formatter mess up my SQL string indentation. This gives you mixed results, and won&#39;t work where whitespace is not ignored as it is in SQL, but can be helpful.\r\n\r\n\t\tfinal String sql = &quot;SELECT v.value FROM properties p               &quot;\r\n\t\t\t\t+ &quot;JOIN property_values v ON p.property_id = v.property_id &quot;\r\n\t\t\t\t+ &quot;WHERE p.product_id = ?                                  &quot;\r\n\t\t\t\t+ &quot;AND v.value        IS NOT NULL                          &quot;;\r\n\r\n","title":"How to turn off the Eclipse code formatter for certain sections of Java code?","body":"<p>I'm using fixed width string-parts (padded with whitespace) to avoid having the formatter mess up my SQL string indentation. This gives you mixed results, and won't work where whitespace is not ignored as it is in SQL, but can be helpful.</p>\n\n<pre><code>    final String sql = \"SELECT v.value FROM properties p               \"\n            + \"JOIN property_values v ON p.property_id = v.property_id \"\n            + \"WHERE p.product_id = ?                                  \"\n            + \"AND v.value        IS NOT NULL                          \";\n</code></pre>\n"},{"comments":[{"owner":{"account_id":55041,"reputation":11192,"user_id":164802,"display_name":"xpmatteo"},"score":7,"creation_date":1326373185,"post_id":3353765,"comment_id":11031718,"body_markdown":"The &quot;Never join lines&quot; option that is mentioned elsewhere in this page is also very useful.","body":"The &quot;Never join lines&quot; option that is mentioned elsewhere in this page is also very useful."},{"owner":{"account_id":309797,"reputation":5286,"user_id":622440,"accept_rate":77,"display_name":"Domenic D."},"score":94,"creation_date":1344886260,"post_id":3353765,"comment_id":15906713,"body_markdown":"**The on/off features have to be turned &quot;on&quot;.** In Eclipse preferences: Java &gt; Code Style &gt; Formatter. Click on &quot;Edit&quot; button, &quot;Off/On Tags&quot;, check off &quot;Enable Off/On tags&quot;.","body":"<b>The on/off features have to be turned &quot;on&quot;.</b> In Eclipse preferences: Java &gt; Code Style &gt; Formatter. Click on &quot;Edit&quot; button, &quot;Off/On Tags&quot;, check off &quot;Enable Off/On tags&quot;."},{"owner":{"account_id":169087,"reputation":11188,"user_id":754174,"accept_rate":57,"display_name":"Redsandro"},"score":2,"creation_date":1361545717,"post_id":3353765,"comment_id":21115864,"body_markdown":"This isn&#39;t available in _JavaScript Code Style preferences_, where I have [the exact opposite problem](http://stackoverflow.com/questions/14751338/stop-eclipse-from-closing-and-opening-quotes-on-new-line-inside-quotes) with formatting. :(","body":"This isn&#39;t available in <i>JavaScript Code Style preferences</i>, where I have <a href=\"http://stackoverflow.com/questions/14751338/stop-eclipse-from-closing-and-opening-quotes-on-new-line-inside-quotes\">the exact opposite problem</a> with formatting. :("},{"owner":{"account_id":272852,"reputation":19440,"user_id":564157,"accept_rate":88,"display_name":"Joseph Lust"},"score":14,"creation_date":1363643794,"post_id":3353765,"comment_id":21924362,"body_markdown":"Teams should export a copy of Eclipse prefs (file) to their wiki and require everyone to use the same one. Works well for us. ;)","body":"Teams should export a copy of Eclipse prefs (file) to their wiki and require everyone to use the same one. Works well for us. ;)"},{"owner":{"account_id":112089,"reputation":22076,"user_id":295797,"accept_rate":73,"display_name":"Roy Truelove"},"score":0,"creation_date":1391008293,"post_id":3353765,"comment_id":32340402,"body_markdown":"FYI I had to remove the space between the // and the @ sign to get this to work.","body":"FYI I had to remove the space between the // and the @ sign to get this to work."},{"owner":{"account_id":2254476,"reputation":686,"user_id":1985957,"accept_rate":52,"display_name":"theGamblerRises"},"score":0,"creation_date":1475719573,"post_id":3353765,"comment_id":67059309,"body_markdown":"Is there any hotkey for this?","body":"Is there any hotkey for this?"},{"owner":{"account_id":175608,"reputation":529,"user_id":405749,"display_name":"elonderin"},"score":0,"creation_date":1500414156,"post_id":3353765,"comment_id":77323757,"body_markdown":"@theGamblerRises: u can define a template that explands to the respective strings. i have done this myself and use `foff` and `fon` for this.","body":"@theGamblerRises: u can define a template that explands to the respective strings. i have done this myself and use <code>foff</code> and <code>fon</code> for this."},{"owner":{"account_id":1064857,"reputation":2504,"user_id":1065693,"accept_rate":70,"display_name":"nuoritoveri"},"score":1,"creation_date":1515088671,"post_id":3353765,"comment_id":83177061,"body_markdown":"Thank you very much! This also works when using `maven-formatter-plugin` (I changed setting `org.eclipse.jdt.core.formatter.use_on_off_tags` manually in the formatter xml file).","body":"Thank you very much! This also works when using <code>maven-formatter-plugin</code> (I changed setting <code>org.eclipse.jdt.core.formatter.use_on_off_tags</code> manually in the formatter xml file)."}],"tags":[],"owner":{"account_id":55041,"reputation":11192,"user_id":164802,"display_name":"xpmatteo"},"comment_count":8,"down_vote_count":0,"up_vote_count":923,"is_accepted":true,"score":923,"last_activity_date":1460379965,"creation_date":1280326656,"answer_id":3353765,"question_id":1820908,"body_markdown":"Eclipse 3.6 allows you to turn off formatting by placing a special comment, like\r\n\r\n    // @formatter:off\r\n    ...\r\n    // @formatter:on\r\n\r\nThe on/off features have to be turned &quot;on&quot; in Eclipse preferences: &lt;kbd&gt;Java &lt;/kbd&gt;&lt;kbd&gt; &gt; &lt;/kbd&gt;&lt;kbd&gt;Code Style&lt;/kbd&gt;&lt;kbd&gt; &gt; &lt;/kbd&gt;&lt;kbd&gt;Formatter&lt;/kbd&gt;. Click on &lt;kbd&gt;Edit&lt;/kbd&gt;, &lt;kbd&gt;Off/On Tags&lt;/kbd&gt;, enable &lt;kbd&gt;Enable Off/On tags&lt;/kbd&gt;.\r\n\r\nIt&#39;s also possible to change the magic strings in the preferences — [check out the Eclipse 3.6 docs here][docs].\r\n\r\n[docs]:http://archive.eclipse.org/eclipse/downloads/drops/R-3.6-201006080911/eclipse-news-part2.html#JavaFormatter\r\n\r\n**More Information**\r\n\r\n&lt;kbd&gt;Java &lt;/kbd&gt;\r\n&lt;kbd&gt; &gt; &lt;/kbd&gt;\r\n&lt;kbd&gt;Code Style&lt;/kbd&gt;\r\n&lt;kbd&gt; &gt; &lt;/kbd&gt;\r\n&lt;kbd&gt;Formatter&lt;/kbd&gt;\r\n&lt;kbd&gt; &gt; &lt;/kbd&gt;\r\n&lt;kbd&gt;Edit&lt;/kbd&gt;\r\n&lt;kbd&gt; &gt; &lt;/kbd&gt;\r\n&lt;kbd&gt;Off/On Tags&lt;/kbd&gt;\r\n\r\nThis preference allows you to define one tag to disable and one tag to enable the formatter (see the Off/On Tags tab in your formatter profile):\r\n\r\n![enter image description here][1]\r\n\r\nYou also need to enable the flags from &lt;kbd&gt;Java Formatting&lt;/kbd&gt;\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/GwcgT.png","title":"How to turn off the Eclipse code formatter for certain sections of Java code?","body":"<p>Eclipse 3.6 allows you to turn off formatting by placing a special comment, like</p>\n\n<pre><code>// @formatter:off\n...\n// @formatter:on\n</code></pre>\n\n<p>The on/off features have to be turned \"on\" in Eclipse preferences: <kbd>Java </kbd><kbd> > </kbd><kbd>Code Style</kbd><kbd> > </kbd><kbd>Formatter</kbd>. Click on <kbd>Edit</kbd>, <kbd>Off/On Tags</kbd>, enable <kbd>Enable Off/On tags</kbd>.</p>\n\n<p>It's also possible to change the magic strings in the preferences — <a href=\"http://archive.eclipse.org/eclipse/downloads/drops/R-3.6-201006080911/eclipse-news-part2.html#JavaFormatter\" rel=\"noreferrer\">check out the Eclipse 3.6 docs here</a>.</p>\n\n<p><strong>More Information</strong></p>\n\n<p><kbd>Java </kbd>\n<kbd> > </kbd>\n<kbd>Code Style</kbd>\n<kbd> > </kbd>\n<kbd>Formatter</kbd>\n<kbd> > </kbd>\n<kbd>Edit</kbd>\n<kbd> > </kbd>\n<kbd>Off/On Tags</kbd></p>\n\n<p>This preference allows you to define one tag to disable and one tag to enable the formatter (see the Off/On Tags tab in your formatter profile):</p>\n\n<p><img src=\"https://i.stack.imgur.com/GwcgT.png\" alt=\"enter image description here\"></p>\n\n<p>You also need to enable the flags from <kbd>Java Formatting</kbd></p>\n"},{"tags":[],"owner":{"account_id":237114,"reputation":2821,"user_id":505069,"accept_rate":58,"display_name":"kmccoy"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1302973848,"creation_date":1302973848,"answer_id":5688174,"question_id":1820908,"body_markdown":"Alternative method: In Eclipse 3.6, under &quot;Line Wrapping&quot; then &quot;General Settings&quot; there is an option to &quot;Never join already wrapped lines.&quot; This means the formatter will wrap long lines but not undo any wrapping you already have.","title":"How to turn off the Eclipse code formatter for certain sections of Java code?","body":"<p>Alternative method: In Eclipse 3.6, under \"Line Wrapping\" then \"General Settings\" there is an option to \"Never join already wrapped lines.\" This means the formatter will wrap long lines but not undo any wrapping you already have.</p>\n"},{"tags":[],"owner":{"account_id":744541,"reputation":169,"user_id":899201,"display_name":"ZilWerks"},"comment_count":0,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1450224655,"creation_date":1313604398,"answer_id":7097380,"question_id":1820908,"body_markdown":"You have to turn on the ability to add the formatter tags. In the menubar go to:\r\n\r\n&lt;kbd&gt; Windows     &lt;/kbd&gt;\r\n&lt;kbd&gt; &amp;rarr;      &lt;/kbd&gt;\r\n&lt;kbd&gt; Preferences &lt;/kbd&gt;\r\n&lt;kbd&gt; Java        &lt;/kbd&gt;\r\n&lt;kbd&gt; &amp;rarr;      &lt;/kbd&gt;\r\n&lt;kbd&gt; Code Style  &lt;/kbd&gt;\r\n&lt;kbd&gt; &amp;rarr;      &lt;/kbd&gt;\r\n&lt;kbd&gt; Formatter   &lt;/kbd&gt;\r\n\r\nPress the &lt;kbd&gt;Edit&lt;/kbd&gt; button. Choose the last tab. Notice the On/Off box and enable them with a checkbox.\r\n","title":"How to turn off the Eclipse code formatter for certain sections of Java code?","body":"<p>You have to turn on the ability to add the formatter tags. In the menubar go to:</p>\n\n<p><kbd> Windows     </kbd>\n<kbd> &rarr;      </kbd>\n<kbd> Preferences </kbd>\n<kbd> Java        </kbd>\n<kbd> &rarr;      </kbd>\n<kbd> Code Style  </kbd>\n<kbd> &rarr;      </kbd>\n<kbd> Formatter   </kbd></p>\n\n<p>Press the <kbd>Edit</kbd> button. Choose the last tab. Notice the On/Off box and enable them with a checkbox.</p>\n"},{"tags":[],"owner":{"account_id":11385,"reputation":24062,"user_id":21925,"accept_rate":62,"display_name":"Robin"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1345042930,"creation_date":1345042930,"answer_id":11971810,"question_id":1820908,"body_markdown":"@xpmatteo has the answer to disabling portions of code, but in addition to this, the default eclipse settings should be set to only format edited lines of code instead of the whole file.  \r\n\r\n    Preferences-&gt;Java-&gt;Editor-&gt;Save Actions-&gt;Format Source Code-&gt;Format Edited Lines\r\n\r\nThis would have prevented it from happening in the first place since your coworkers are reformatting code they didn&#39;t actually change.  This is a good practice to prevent mishaps that render diff on your source control useless (when an entire file is reformatted because of minor format setting differences).  \r\n\r\nIt would also prevent the reformatting if the on/off tags option was turned off.\r\n","title":"How to turn off the Eclipse code formatter for certain sections of Java code?","body":"<p>@xpmatteo has the answer to disabling portions of code, but in addition to this, the default eclipse settings should be set to only format edited lines of code instead of the whole file.  </p>\n\n<pre><code>Preferences-&gt;Java-&gt;Editor-&gt;Save Actions-&gt;Format Source Code-&gt;Format Edited Lines\n</code></pre>\n\n<p>This would have prevented it from happening in the first place since your coworkers are reformatting code they didn't actually change.  This is a good practice to prevent mishaps that render diff on your source control useless (when an entire file is reformatted because of minor format setting differences).  </p>\n\n<p>It would also prevent the reformatting if the on/off tags option was turned off.</p>\n"},{"comments":[{"owner":{"account_id":4455252,"reputation":1626,"user_id":3625770,"accept_rate":20,"display_name":"Azim"},"score":5,"creation_date":1537990597,"post_id":23016146,"comment_id":91989550,"body_markdown":"This is the best answer since it does not depend on the configuration of the user&#39;s IDE. Thanks.","body":"This is the best answer since it does not depend on the configuration of the user&#39;s IDE. Thanks."}],"tags":[],"owner":{"account_id":43036,"reputation":16153,"user_id":125617,"accept_rate":74,"display_name":"Renaud"},"comment_count":1,"down_vote_count":1,"up_vote_count":41,"is_accepted":false,"score":40,"last_activity_date":1454530578,"creation_date":1397228508,"answer_id":23016146,"question_id":1820908,"body_markdown":"See [this answer on SO](https://stackoverflow.com/a/5466000/125617).\r\n\r\nThere is another solution that you can use to suppress the formatting of specific block comments. Use `/*-` (note the hyphen) at the beginning of the block comment, and the formatting won&#39;t be affected if you format the rest of the file.\r\n\r\n\r\n    /*-\r\n     * Here is a block comment with some very special\r\n     * formatting that I want indent(1) to ignore.\r\n     *\r\n     *    one\r\n     *        two\r\n     *            three\r\n     */\r\n\r\nSource: [Documentation at Oracle](http://www.oracle.com/technetwork/java/javase/documentation/codeconventions-141999.html#680).","title":"How to turn off the Eclipse code formatter for certain sections of Java code?","body":"<p>See <a href=\"https://stackoverflow.com/a/5466000/125617\">this answer on SO</a>.</p>\n\n<p>There is another solution that you can use to suppress the formatting of specific block comments. Use <code>/*-</code> (note the hyphen) at the beginning of the block comment, and the formatting won't be affected if you format the rest of the file.</p>\n\n<pre><code>/*-\n * Here is a block comment with some very special\n * formatting that I want indent(1) to ignore.\n *\n *    one\n *        two\n *            three\n */\n</code></pre>\n\n<p>Source: <a href=\"http://www.oracle.com/technetwork/java/javase/documentation/codeconventions-141999.html#680\" rel=\"noreferrer\">Documentation at Oracle</a>.</p>\n"},{"comments":[{"owner":{"account_id":7913,"reputation":33220,"user_id":13940,"accept_rate":58,"display_name":"Greg Mattes"},"score":1,"creation_date":1406820567,"post_id":25061557,"comment_id":38988916,"body_markdown":"I think this would help for things like the SQL example, but I&#39;m not sure that it would be sufficient for the general case of completely disabling the IDE formatter.","body":"I think this would help for things like the SQL example, but I&#39;m not sure that it would be sufficient for the general case of completely disabling the IDE formatter."},{"owner":{"account_id":16976,"reputation":5098,"user_id":37548,"display_name":"Jonas Kongslund"},"score":4,"creation_date":1416050023,"post_id":25061557,"comment_id":42432942,"body_markdown":"This solution is excellent when using the builder pattern and its relevance is certainly increased with the introduction of lambdas in Java 8.","body":"This solution is excellent when using the builder pattern and its relevance is certainly increased with the introduction of lambdas in Java 8."},{"owner":{"account_id":3719338,"reputation":12130,"user_id":3094731,"accept_rate":56,"display_name":"Abdullah Khan"},"score":0,"creation_date":1648705137,"post_id":25061557,"comment_id":126693187,"body_markdown":"This also works well formatting  java stream functions like map-&gt;filter-&gt;reduce.","body":"This also works well formatting  java stream functions like map-&gt;filter-&gt;reduce."}],"tags":[],"owner":{"account_id":3831510,"reputation":1343,"user_id":3176955,"display_name":"ilinca"},"comment_count":3,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1406817029,"creation_date":1406817029,"answer_id":25061557,"question_id":1820908,"body_markdown":"Instead of turning the formatting off, you can configure it not to join already wrapped lines. Similar to Jitter&#39;s response, here&#39;s for Eclipse STS: \r\n\r\nProperties  →  Java Code Style → Formatter → Enable project specific settings OR Configure Workspace Settings → Edit → Line Wrapping (tab) → check &quot;Never join already wrapped lines&quot; \r\n\r\nSave, apply.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/2QvvK.png","title":"How to turn off the Eclipse code formatter for certain sections of Java code?","body":"<p>Instead of turning the formatting off, you can configure it not to join already wrapped lines. Similar to Jitter's response, here's for Eclipse STS: </p>\n\n<p>Properties  →  Java Code Style → Formatter → Enable project specific settings OR Configure Workspace Settings → Edit → Line Wrapping (tab) → check \"Never join already wrapped lines\" </p>\n\n<p>Save, apply.</p>\n\n<p><img src=\"https://i.stack.imgur.com/2QvvK.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":107117,"reputation":480,"user_id":973085,"display_name":"Evvo"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1469239937,"creation_date":1469239937,"answer_id":38537485,"question_id":1820908,"body_markdown":"End each of the lines with a double slash &quot;//&quot;.  That will keep eclipse from moving them all onto the same line.","title":"How to turn off the Eclipse code formatter for certain sections of Java code?","body":"<p>End each of the lines with a double slash \"//\".  That will keep eclipse from moving them all onto the same line.</p>\n"},{"tags":[],"owner":{"account_id":2887623,"reputation":3310,"user_id":2477084,"display_name":"Tomas Bjerre"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1532632726,"creation_date":1496346337,"answer_id":44315907,"question_id":1820908,"body_markdown":"The phantom comments, adding `//` where you want new lines, are great!\r\n\r\n1. The @formatter: off adds a reference from the code to the editor. The code should, in my opinion, never have such references.\r\n\r\n2. The phantom comments (//) will work regardless of the formatting tool used. Regardless of Eclipse or InteliJ or whatever editor you use. This even works with the very nice [Google Java Format](https://github.com/google/google-java-format)\r\n\r\n3. The phantom comments (//) will work all over your application. If you also have Javascript and perhaps use something like [JSBeautifier](https://www.npmjs.com/package/grunt-jsbeautifier). You can have similar code style also in the Javascript.\r\n\r\n4. **Actually, you probably DO want formatting** right? You want to remove mixed tab/space and trailing spaces. You want to indent the lines according to the code standard. **What you DONT want is a long line.** That, and only that, is what the phantom comment gives you!","title":"How to turn off the Eclipse code formatter for certain sections of Java code?","body":"<p>The phantom comments, adding <code>//</code> where you want new lines, are great!</p>\n\n<ol>\n<li><p>The @formatter: off adds a reference from the code to the editor. The code should, in my opinion, never have such references.</p></li>\n<li><p>The phantom comments (//) will work regardless of the formatting tool used. Regardless of Eclipse or InteliJ or whatever editor you use. This even works with the very nice <a href=\"https://github.com/google/google-java-format\" rel=\"nofollow noreferrer\">Google Java Format</a></p></li>\n<li><p>The phantom comments (//) will work all over your application. If you also have Javascript and perhaps use something like <a href=\"https://www.npmjs.com/package/grunt-jsbeautifier\" rel=\"nofollow noreferrer\">JSBeautifier</a>. You can have similar code style also in the Javascript.</p></li>\n<li><p><strong>Actually, you probably DO want formatting</strong> right? You want to remove mixed tab/space and trailing spaces. You want to indent the lines according to the code standard. <strong>What you DONT want is a long line.</strong> That, and only that, is what the phantom comment gives you!</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":23473,"reputation":1161,"user_id":58848,"display_name":"Damien"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603805517,"creation_date":1603805517,"answer_id":64555584,"question_id":1820908,"body_markdown":"Not so pretty but works with default settings and for the first line as well:\r\n\r\n    String query = &quot;&quot; +\r\n        &quot;SELECT FOO, BAR, BAZ&quot; +\r\n        &quot;  FROM ABC          &quot; +\r\n        &quot; WHERE BAR &gt; 4      &quot;;","title":"How to turn off the Eclipse code formatter for certain sections of Java code?","body":"<p>Not so pretty but works with default settings and for the first line as well:</p>\n<pre><code>String query = &quot;&quot; +\n    &quot;SELECT FOO, BAR, BAZ&quot; +\n    &quot;  FROM ABC          &quot; +\n    &quot; WHERE BAR &gt; 4      &quot;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18889208,"reputation":11,"user_id":13779880,"display_name":"Sunny Bhardwaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680608897,"creation_date":1680608897,"answer_id":75929009,"question_id":1820908,"body_markdown":"In VS Code\r\n\r\nSet the below property in you formatter xml settings\r\n\r\n    &lt;setting id=&quot;org.eclipse.jdt.core.formatter.use_on_off_tags&quot; value=&quot;true&quot;/&gt;\r\n\r\nThen in your Code use the below tags to switch on and off formatting\r\n\r\n                // @formatter:off\r\n                //Create Payment Transaction\r\n                payTxn = EN_PaymntTxn.builder()\r\n                        .orderId(paymReq.getOrderId())\r\n                        .paymentMode(paymReq.getPaymentMode())\r\n                        .amount(paymReq.getAmount())\r\n                        .paymentStatus(&quot;PAID&quot;)\r\n                        .referenceNumber(UUID.randomUUID().toString())\r\n                        .timestamp(Instant.now())\r\n                        .build();\r\n                // @formatter:on","title":"How to turn off the Eclipse code formatter for certain sections of Java code?","body":"<p>In VS Code</p>\n<p>Set the below property in you formatter xml settings</p>\n<pre><code>&lt;setting id=&quot;org.eclipse.jdt.core.formatter.use_on_off_tags&quot; value=&quot;true&quot;/&gt;\n</code></pre>\n<p>Then in your Code use the below tags to switch on and off formatting</p>\n<pre><code>            // @formatter:off\n            //Create Payment Transaction\n            payTxn = EN_PaymntTxn.builder()\n                    .orderId(paymReq.getOrderId())\n                    .paymentMode(paymReq.getPaymentMode())\n                    .amount(paymReq.getAmount())\n                    .paymentStatus(&quot;PAID&quot;)\n                    .referenceNumber(UUID.randomUUID().toString())\n                    .timestamp(Instant.now())\n                    .build();\n            // @formatter:on\n</code></pre>\n"}],"owner":{"account_id":7913,"reputation":33220,"user_id":13940,"accept_rate":58,"display_name":"Greg Mattes"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186757,"favorite_count":0,"down_vote_count":1,"up_vote_count":528,"accepted_answer_id":3353765,"answer_count":14,"score":527,"last_activity_date":1680608897,"creation_date":1259599116,"question_id":1820908,"body_markdown":"I&#39;ve got some Java code with SQL statements written as Java strings (please no OR/M flamewars, the embedded SQL is what it is - not my decision).\r\n\r\nI&#39;ve broken the SQL statements semantically into several concatenated strings over several lines of code for ease of maintenance. So instead of something like:\r\n\r\n    String query = &quot;SELECT FOO, BAR, BAZ FROM ABC WHERE BAR &gt; 4&quot;;\r\n\r\nI have something like:\r\n\r\n    String query =\r\n        &quot;SELECT FOO, BAR, BAZ&quot; +\r\n        &quot;  FROM ABC          &quot; +\r\n        &quot; WHERE BAR &gt; 4      &quot;;\r\n\r\nThis style makes the SQL much easier to read and maintain (IMHO), especially for larger queries. For example, I can put my editor into &quot;overwrite&quot; mode and modify the text in-place fairly easily.\r\n\r\n**Note that this issue generalizes beyond the particular example of SQL. Any code that is written with any vertical formatting, particularly tabular constructs, is susceptible to destruction by a pretty printer.**\r\n\r\nNow, some project members use the Eclipse editor and the semantic formatting is often destroyed when they format an entire source file.\r\n\r\n**Is there a way to instruct Eclipse to ignore certain lines of source with respect to formatting?**\r\n\r\nI&#39;m looking for something like a special comment that toggles the Eclipse formatter. Ideally, such a comment could be configurable to be whatever we choose, and other formatters could be programmed to respect it as well:\r\n\r\n    // STOP-ECLIPSE-FORMATTING\r\n    String query =\r\n        &quot;SELECT FOO, BAR, BAZ&quot; +\r\n        &quot;  FROM ABC          &quot; +\r\n        &quot; WHERE BAR &gt; 4      &quot;;\r\n    // START-ECLIPSE-FORMATTING\r\n\r\nObviously, one &quot;solution&quot; is to have our team members standardize on some external formatter like [Jalopy](http://www.triemax.com/products/jalopy/) or [JIndent](http://www.jindent.com/), but that&#39;s not what this question is about (also, not my decision on this project): I&#39;m specifically looking for a way to avoid the Eclipse formatter on an ad-hoc basis.\r\n\r\nIdeally, a solution will allow me to insert instructions for the Eclipse formatter **without requiring team members using Eclipse to do any IDE reconfiguration** (other than possibly choosing a formatter agnostic command comment: `STOP-ECLIPSE-FORMATTING` &amp;rarr; `STOP-FORMATTING`).\r\n","title":"How to turn off the Eclipse code formatter for certain sections of Java code?","body":"<p>I've got some Java code with SQL statements written as Java strings (please no OR/M flamewars, the embedded SQL is what it is - not my decision).</p>\n\n<p>I've broken the SQL statements semantically into several concatenated strings over several lines of code for ease of maintenance. So instead of something like:</p>\n\n<pre><code>String query = \"SELECT FOO, BAR, BAZ FROM ABC WHERE BAR &gt; 4\";\n</code></pre>\n\n<p>I have something like:</p>\n\n<pre><code>String query =\n    \"SELECT FOO, BAR, BAZ\" +\n    \"  FROM ABC          \" +\n    \" WHERE BAR &gt; 4      \";\n</code></pre>\n\n<p>This style makes the SQL much easier to read and maintain (IMHO), especially for larger queries. For example, I can put my editor into \"overwrite\" mode and modify the text in-place fairly easily.</p>\n\n<p><strong>Note that this issue generalizes beyond the particular example of SQL. Any code that is written with any vertical formatting, particularly tabular constructs, is susceptible to destruction by a pretty printer.</strong></p>\n\n<p>Now, some project members use the Eclipse editor and the semantic formatting is often destroyed when they format an entire source file.</p>\n\n<p><strong>Is there a way to instruct Eclipse to ignore certain lines of source with respect to formatting?</strong></p>\n\n<p>I'm looking for something like a special comment that toggles the Eclipse formatter. Ideally, such a comment could be configurable to be whatever we choose, and other formatters could be programmed to respect it as well:</p>\n\n<pre><code>// STOP-ECLIPSE-FORMATTING\nString query =\n    \"SELECT FOO, BAR, BAZ\" +\n    \"  FROM ABC          \" +\n    \" WHERE BAR &gt; 4      \";\n// START-ECLIPSE-FORMATTING\n</code></pre>\n\n<p>Obviously, one \"solution\" is to have our team members standardize on some external formatter like <a href=\"http://www.triemax.com/products/jalopy/\" rel=\"noreferrer\">Jalopy</a> or <a href=\"http://www.jindent.com/\" rel=\"noreferrer\">JIndent</a>, but that's not what this question is about (also, not my decision on this project): I'm specifically looking for a way to avoid the Eclipse formatter on an ad-hoc basis.</p>\n\n<p>Ideally, a solution will allow me to insert instructions for the Eclipse formatter <strong>without requiring team members using Eclipse to do any IDE reconfiguration</strong> (other than possibly choosing a formatter agnostic command comment: <code>STOP-ECLIPSE-FORMATTING</code> &rarr; <code>STOP-FORMATTING</code>).</p>\n"},{"tags":["java","tcp","strace"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1680169578,"post_id":75886506,"comment_id":133853700,"body_markdown":"Please show us the actual (Java) code that is sending and receiving these &quot;packets&quot;.  I suspect that the real problem is that you misunderstand the way that TCP handles (or more accurately **doesn&#39;t**) handle packets.","body":"Please show us the actual (Java) code that is sending and receiving these &quot;packets&quot;.  I suspect that the real problem is that you misunderstand the way that TCP handles (or more accurately <b>doesn&#39;t</b>) handle packets."},{"owner":{"account_id":3181483,"reputation":525,"user_id":2688068,"display_name":"supmethods"},"score":0,"creation_date":1680175102,"post_id":75886506,"comment_id":133855190,"body_markdown":"I&#39;ll have to ask the developers tomorrow for the source code. In the meantime, do you know why there are differences between ```tcpdump``` and ```strace```? When inspecting ```tcpdump```, it is one zero short.","body":"I&#39;ll have to ask the developers tomorrow for the source code. In the meantime, do you know why there are differences between <code>tcpdump</code> and <code>strace</code>? When inspecting <code>tcpdump</code>, it is one zero short."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1680252155,"post_id":75886506,"comment_id":133870046,"body_markdown":"That&#39;s easy.  There is not a one-to-one mapping between system calls and *network* packets sent.  Not at the sending end or the receiving end.  Because TCP doesn&#39;t provide any such guarantees.","body":"That&#39;s easy.  There is not a one-to-one mapping between system calls and <i>network</i> packets sent.  Not at the sending end or the receiving end.  Because TCP doesn&#39;t provide any such guarantees."}],"answers":[{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1680185905,"post_id":75888700,"comment_id":133858293,"body_markdown":"*&quot;... it is typical that 1st byte will be transferred in own IP packet. &quot;* - I wouldn&#39;t say &quot;typical&quot;.  It will depend on network conditions.  But the flipside is that even sending entire packets in a `sendTo` is not sufficient to guarantee the the application&#39;s implied message packet will consistently be preserved at the receiving end.  TCP provides no such guarantees.  Period.","body":"<i>&quot;... it is typical that 1st byte will be transferred in own IP packet. &quot;</i> - I wouldn&#39;t say &quot;typical&quot;.  It will depend on network conditions.  But the flipside is that even sending entire packets in a <code>sendTo</code> is not sufficient to guarantee the the application&#39;s implied message packet will consistently be preserved at the receiving end.  TCP provides no such guarantees.  Period."},{"owner":{"account_id":400151,"reputation":8092,"user_id":765971,"accept_rate":80,"display_name":"SKi"},"score":0,"creation_date":1680249528,"post_id":75888700,"comment_id":133869461,"body_markdown":"Yes, that is clear.","body":"Yes, that is clear."},{"owner":{"account_id":3181483,"reputation":525,"user_id":2688068,"display_name":"supmethods"},"score":0,"creation_date":1680612514,"post_id":75888700,"comment_id":133924766,"body_markdown":"I was advised that the Java code used to send data is the ```writeBytes```. Here is part of the code: ```d3sOut.writeBytes(slen + outBuffer)```. I was told this should send place data all at once in ```sendto``` but the ```strace``` suggest not. The minimum number of packet for this particular transfer is two packets from analysing tcpdump. I think this is inefficient as the packet is only 25 bytes but packets are being split into two or more packets. I know it isn&#39;t guaranteed but I think trying to send it as one packet would possible help in efficiency.","body":"I was advised that the Java code used to send data is the <code>writeBytes</code>. Here is part of the code: <code>d3sOut.writeBytes(slen + outBuffer)</code>. I was told this should send place data all at once in <code>sendto</code> but the <code>strace</code> suggest not. The minimum number of packet for this particular transfer is two packets from analysing tcpdump. I think this is inefficient as the packet is only 25 bytes but packets are being split into two or more packets. I know it isn&#39;t guaranteed but I think trying to send it as one packet would possible help in efficiency."},{"owner":{"account_id":3181483,"reputation":525,"user_id":2688068,"display_name":"supmethods"},"score":0,"creation_date":1680612781,"post_id":75888700,"comment_id":133924829,"body_markdown":"The function ```writeBytes``` writes to the output stream one byte a time meaning this function won&#39;t achieve sending data in one ```sendto``` command. I&#39;ll try get the source code and see where the application is going wrong.","body":"The function <code>writeBytes</code> writes to the output stream one byte a time meaning this function won&#39;t achieve sending data in one <code>sendto</code> command. I&#39;ll try get the source code and see where the application is going wrong."},{"owner":{"account_id":17545878,"reputation":176,"user_id":12727185,"display_name":"Rick Jones"},"score":0,"creation_date":1682114098,"post_id":75888700,"comment_id":134170287,"body_markdown":"While Nagle&#39;s Algorithm is certainly going to be in play here, even without it, TCP makes no guarantees about application-level message structures.  TCP provides a byte-stream service, not a message service.  So even if an application presents a message in a single, perhaps gathering write/send call, TCP is perfectly free to present that one byte at a time at the other end.  Yes, that would be terribly inefficient, but again, what TCP provides is a byte stream service.  Message boundaries are the responsibility of the application.","body":"While Nagle&#39;s Algorithm is certainly going to be in play here, even without it, TCP makes no guarantees about application-level message structures.  TCP provides a byte-stream service, not a message service.  So even if an application presents a message in a single, perhaps gathering write/send call, TCP is perfectly free to present that one byte at a time at the other end.  Yes, that would be terribly inefficient, but again, what TCP provides is a byte stream service.  Message boundaries are the responsibility of the application."}],"tags":[],"owner":{"account_id":400151,"reputation":8092,"user_id":765971,"accept_rate":80,"display_name":"SKi"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680182352,"creation_date":1680181860,"answer_id":75888700,"question_id":75886506,"body_markdown":"Because the client seems to use one `sendto()` call for each byte of `000000174.A.EXAMP`, it is typical that 1st byte will be transferred in own IP packet. And rest of the bytes will be transferred after that.\r\n\r\nIt is result of &quot;Nagle&#39;s algorithm&quot; of TCP:\r\n\r\nWhen the 1st sendto() call is done, TCP can send the 1st byte immediately, because there is not unacknowledged data in the fly.\r\n\r\nWhen rest of sendto() calls are called, there is unacknowledged data in fly (the 1st byte), so the TCP stack will enqueue data in the buffer for while, before sending several buffered bytes by using a single IP packet.  \r\n\r\nPlease, Double check that you didn&#39;t miss/ignore the IP packet with the 1st byte.\r\n\r\n\r\nFor avoiding ineffective small IP packets, try to use one `sendto()` call instead of `sendto()` per a byte.","title":"strace and tcpdump - data sent in strace shows 000000174 but data in tcpdump shows 00000174 (one zero missing)","body":"<p>Because the client seems to use one <code>sendto()</code> call for each byte of <code>000000174.A.EXAMP</code>, it is typical that 1st byte will be transferred in own IP packet. And rest of the bytes will be transferred after that.</p>\n<p>It is result of &quot;Nagle's algorithm&quot; of TCP:</p>\n<p>When the 1st sendto() call is done, TCP can send the 1st byte immediately, because there is not unacknowledged data in the fly.</p>\n<p>When rest of sendto() calls are called, there is unacknowledged data in fly (the 1st byte), so the TCP stack will enqueue data in the buffer for while, before sending several buffered bytes by using a single IP packet.</p>\n<p>Please, Double check that you didn't miss/ignore the IP packet with the 1st byte.</p>\n<p>For avoiding ineffective small IP packets, try to use one <code>sendto()</code> call instead of <code>sendto()</code> per a byte.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680187649,"creation_date":1680187649,"answer_id":75889706,"question_id":75886506,"body_markdown":"As @Ski [explains][1], it is likely that the TCP packets are not preserving your application&#39;s implied message structure.  (We can&#39;t be sure, because you didn&#39;t show us any code, and your evidence is incomplete.)\r\n\r\nWhy?  Well, the TCP protocol and stream socket abstract don&#39;t make any guarantees that bytes will be assembled into network packets as you are apparently expectin.  Indeed, since you are apparently performing multiple `sendTo` calls to write a single application message, it possible that the sender side is launching a TCP packet before it has been given a complete message.  (It will depend on the sender&#39;s TCP stack&#39;s implementation, configuration parameters and also on network conditions.)\r\n\r\nBut the fix is more complicated than simply writing complete messages with a single `sendTo`.  That will help, but it is not a guaranteed fix. TCP doesn&#39;t know anything about the application message structure, and it doesn&#39;t guarantee to preserve it.\r\n\r\nThe real solution is to design your application protocol so that its message structure is inherent in the data.  For example:\r\n\r\n  - A message could consist of a fixed number of bytes.  \r\n\r\n  - A message could start with a specific start byte value, and end with another byte value.\r\n\r\n  - A message could start with a message length encoded as one or more bytes, and then be followed by that precise number of bytes.\r\n\r\nBut in all cases, the receiving application code cannot assume that `recvfrom` is delivering a single complete message.  Rather, it is responsible for correctly splitting the incoming stream of bytes into messages.  Yes ... it is more complicated ... but you can&#39;t &quot;punt&quot; the problem to the TCP stack.  TCP cannot do it for you.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75888700/139985","title":"strace and tcpdump - data sent in strace shows 000000174 but data in tcpdump shows 00000174 (one zero missing)","body":"<p>As @Ski <a href=\"https://stackoverflow.com/a/75888700/139985\">explains</a>, it is likely that the TCP packets are not preserving your application's implied message structure.  (We can't be sure, because you didn't show us any code, and your evidence is incomplete.)</p>\n<p>Why?  Well, the TCP protocol and stream socket abstract don't make any guarantees that bytes will be assembled into network packets as you are apparently expectin.  Indeed, since you are apparently performing multiple <code>sendTo</code> calls to write a single application message, it possible that the sender side is launching a TCP packet before it has been given a complete message.  (It will depend on the sender's TCP stack's implementation, configuration parameters and also on network conditions.)</p>\n<p>But the fix is more complicated than simply writing complete messages with a single <code>sendTo</code>.  That will help, but it is not a guaranteed fix. TCP doesn't know anything about the application message structure, and it doesn't guarantee to preserve it.</p>\n<p>The real solution is to design your application protocol so that its message structure is inherent in the data.  For example:</p>\n<ul>\n<li><p>A message could consist of a fixed number of bytes.</p>\n</li>\n<li><p>A message could start with a specific start byte value, and end with another byte value.</p>\n</li>\n<li><p>A message could start with a message length encoded as one or more bytes, and then be followed by that precise number of bytes.</p>\n</li>\n</ul>\n<p>But in all cases, the receiving application code cannot assume that <code>recvfrom</code> is delivering a single complete message.  Rather, it is responsible for correctly splitting the incoming stream of bytes into messages.  Yes ... it is more complicated ... but you can't &quot;punt&quot; the problem to the TCP stack.  TCP cannot do it for you.</p>\n"}],"owner":{"account_id":3181483,"reputation":525,"user_id":2688068,"display_name":"supmethods"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680608849,"creation_date":1680169067,"question_id":75886506,"body_markdown":"I am trying to debug issue with an application that intermittently has problems. The applications communicates with one another via web sockets. \r\n\r\nThe client normally sends control code 000000174.A.EXAMP to the server end.\r\n\r\nI can see both the client and server both have the same control code when performing an ```strace```. Here is the strace snippet which shows the correct code being sent correctly.\r\n```\r\n3651  23:13:51 sendto(117, &quot;0&quot;, 1, 0, NULL, 0) = 1\r\n3651  23:13:51 sendto(117, &quot;0&quot;, 1, 0, NULL, 0) = 1\r\n3651  23:13:51 sendto(117, &quot;0&quot;, 1, 0, NULL, 0) = 1\r\n3651  23:13:51 sendto(117, &quot;0&quot;, 1, 0, NULL, 0) = 1\r\n3651  23:13:51 sendto(117, &quot;0&quot;, 1, 0, NULL, 0) = 1\r\n3651  23:13:51 sendto(117, &quot;0&quot;, 1, 0, NULL, 0) = 1\r\n3651  23:13:51 sendto(117, &quot;1&quot;, 1, 0, NULL, 0) = 1\r\n3651  23:13:51 sendto(117, &quot;7&quot;, 1, 0, NULL, 0) = 1\r\n3651  23:13:51 sendto(117, &quot;4&quot;, 1, 0, NULL, 0) = 1\r\n```\r\n\r\nHere&#39;s the code on the server end\r\n```\r\n00:16:36 recvfrom(11, &quot;00000017&quot;, 8, 0, NULL, NULL) = 8\r\n```\r\n\r\nWhen the problem occurs, the server receives the code 00000174.A.EXAMP which is one zero short. At the moment, there is only a script on the server that logs the ```strace``` output to file and it creates three 5-minute logs and rotates logs keeping a maximum of three logs. Script stops on error detection on the server (when server has made no requests for some duration). \r\n\r\nMy question is with the packet trace I am getting from ```tcpdump```. Nearly all the packets captured has the data as 00000174.A.EXAMP which is one zero short. \r\n\r\nWhy is this different from the ```strace``` output which has six zeroes and the packet capture shows mostly five zeroes?\r\n\r\nOut of the several thousands of packets exchanged, several packets have missing characters when performing string search. Here&#39;s the different contents in the data packets captured through ```tcpdump``\r\n```\r\n00000174.A\r\n00000174.A.\r\n00000174.A.E\r\n00000174.A.EX\r\n00000174.A.EXA\r\n00000174.A.EXAM\r\n00000174.A.EXAMP (Most are coming out as with one zero missing)\r\n0000174.A.EXAMP\r\n000174.A.EXAMP\r\n00174.EXAMP\r\n```\r\n\r\nIP packets are 1500 bytes in size so I wouldn&#39;t expect the packet to be split in into multiple packets since the control data is very small. Why are data packets missing characters?\r\n\r\nThe java code that sends data is ```d3sOut.writeBytes(slen + outBuffer)```. At the other end is a C web socket.\r\n","title":"strace and tcpdump - data sent in strace shows 000000174 but data in tcpdump shows 00000174 (one zero missing)","body":"<p>I am trying to debug issue with an application that intermittently has problems. The applications communicates with one another via web sockets.</p>\n<p>The client normally sends control code 000000174.A.EXAMP to the server end.</p>\n<p>I can see both the client and server both have the same control code when performing an <code>strace</code>. Here is the strace snippet which shows the correct code being sent correctly.</p>\n<pre><code>3651  23:13:51 sendto(117, &quot;0&quot;, 1, 0, NULL, 0) = 1\n3651  23:13:51 sendto(117, &quot;0&quot;, 1, 0, NULL, 0) = 1\n3651  23:13:51 sendto(117, &quot;0&quot;, 1, 0, NULL, 0) = 1\n3651  23:13:51 sendto(117, &quot;0&quot;, 1, 0, NULL, 0) = 1\n3651  23:13:51 sendto(117, &quot;0&quot;, 1, 0, NULL, 0) = 1\n3651  23:13:51 sendto(117, &quot;0&quot;, 1, 0, NULL, 0) = 1\n3651  23:13:51 sendto(117, &quot;1&quot;, 1, 0, NULL, 0) = 1\n3651  23:13:51 sendto(117, &quot;7&quot;, 1, 0, NULL, 0) = 1\n3651  23:13:51 sendto(117, &quot;4&quot;, 1, 0, NULL, 0) = 1\n</code></pre>\n<p>Here's the code on the server end</p>\n<pre><code>00:16:36 recvfrom(11, &quot;00000017&quot;, 8, 0, NULL, NULL) = 8\n</code></pre>\n<p>When the problem occurs, the server receives the code 00000174.A.EXAMP which is one zero short. At the moment, there is only a script on the server that logs the <code>strace</code> output to file and it creates three 5-minute logs and rotates logs keeping a maximum of three logs. Script stops on error detection on the server (when server has made no requests for some duration).</p>\n<p>My question is with the packet trace I am getting from <code>tcpdump</code>. Nearly all the packets captured has the data as 00000174.A.EXAMP which is one zero short.</p>\n<p>Why is this different from the <code>strace</code> output which has six zeroes and the packet capture shows mostly five zeroes?</p>\n<p>Out of the several thousands of packets exchanged, several packets have missing characters when performing string search. Here's the different contents in the data packets captured through ```tcpdump``</p>\n<pre><code>00000174.A\n00000174.A.\n00000174.A.E\n00000174.A.EX\n00000174.A.EXA\n00000174.A.EXAM\n00000174.A.EXAMP (Most are coming out as with one zero missing)\n0000174.A.EXAMP\n000174.A.EXAMP\n00174.EXAMP\n</code></pre>\n<p>IP packets are 1500 bytes in size so I wouldn't expect the packet to be split in into multiple packets since the control data is very small. Why are data packets missing characters?</p>\n<p>The java code that sends data is <code>d3sOut.writeBytes(slen + outBuffer)</code>. At the other end is a C web socket.</p>\n"},{"tags":["java","javafx","gpu","directx","nvidia"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1646536710,"post_id":71365052,"comment_id":126146588,"body_markdown":"I suggest you post and accept an Answer to your own Question.","body":"I suggest you post and accept an Answer to your own Question."},{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":0,"creation_date":1646562487,"post_id":71365052,"comment_id":126149978,"body_markdown":"What makes you believe that such an outdated version of Java/FX would still support the latest graphics hardware? We are writing the year 2022 and Java 18 (not 8) is right on our door steps this month.","body":"What makes you believe that such an outdated version of Java/FX would still support the latest graphics hardware? We are writing the year 2022 and Java 18 (not 8) is right on our door steps this month."}],"answers":[{"tags":[],"owner":{"account_id":23690732,"reputation":81,"user_id":17715108,"display_name":"Eorix"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1646803435,"creation_date":1646632515,"answer_id":71376934,"question_id":71365052,"body_markdown":"For those who are trying to solve a similar issue, it might be coming from the java.exe executable not using the gpu you want as a default device, you can change that in Windows&#39; settings.","title":"How to force gpu usage with JavaFX?","body":"<p>For those who are trying to solve a similar issue, it might be coming from the java.exe executable not using the gpu you want as a default device, you can change that in Windows' settings.</p>\n"},{"tags":[],"owner":{"account_id":17770016,"reputation":159,"user_id":12903860,"display_name":"Alessandro Parisi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680608530,"creation_date":1680608530,"answer_id":75928939,"question_id":71365052,"body_markdown":"I&#39;m adding this answer as I believe it can help others, and also as a reminder in case I&#39;m going to need this again someday.\r\n\r\n**Note:** this is for Linux, I don&#39;t know if it would work on other OSes too\r\n\r\nI have a laptop with the Intel iGPU and an NVIDIA dGPU, I use Linux (arch btw) and have `optimus-manager` set up to hybrid mode. In this configuration, JavaFX applications are not recognized to be offloaded to the dGPU and will use the iGPU instead.\r\nOn the internet there are some mentions to the `DRI_PRIME=1` config, but it is not enough.\r\n\r\nThese are all the environment variables needed to run JavaFX on the dGPU:\r\n```\r\nDRI_PRIME=1\r\n__NV_PRIME_RENDER_OFFLOAD=1\r\n__GLX_VENDOR_LIBRARY_NAME=nvidia\r\n```\r\n\r\nBonus: I&#39;m using IntelliJ IDEA to run my JavaFX applications, it&#39;s enough to add those options in the dedicated section in the `run` configurations like this:\r\n[![IntelliJ IDEA config][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Mj8Be.png","title":"How to force gpu usage with JavaFX?","body":"<p>I'm adding this answer as I believe it can help others, and also as a reminder in case I'm going to need this again someday.</p>\n<p><strong>Note:</strong> this is for Linux, I don't know if it would work on other OSes too</p>\n<p>I have a laptop with the Intel iGPU and an NVIDIA dGPU, I use Linux (arch btw) and have <code>optimus-manager</code> set up to hybrid mode. In this configuration, JavaFX applications are not recognized to be offloaded to the dGPU and will use the iGPU instead.\nOn the internet there are some mentions to the <code>DRI_PRIME=1</code> config, but it is not enough.</p>\n<p>These are all the environment variables needed to run JavaFX on the dGPU:</p>\n<pre><code>DRI_PRIME=1\n__NV_PRIME_RENDER_OFFLOAD=1\n__GLX_VENDOR_LIBRARY_NAME=nvidia\n</code></pre>\n<p>Bonus: I'm using IntelliJ IDEA to run my JavaFX applications, it's enough to add those options in the dedicated section in the <code>run</code> configurations like this:\n<a href=\"https://i.stack.imgur.com/Mj8Be.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mj8Be.png\" alt=\"IntelliJ IDEA config\" /></a></p>\n"}],"owner":{"account_id":23690732,"reputation":81,"user_id":17715108,"display_name":"Eorix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1121,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":71376934,"answer_count":2,"score":5,"last_activity_date":1680608530,"creation_date":1646506245,"question_id":71365052,"body_markdown":"I use JavaFX with Java 8 and i set this properties before launching my app&lt;br&gt;\r\n`System.setProperty(&quot;prism.forceGPU&quot;,&quot;true&quot;);`&lt;br&gt;\r\n`System.setProperty(&quot;prism.order&quot;,&quot;d3d,sw&quot;);`&lt;br&gt;\r\nThe verbose mode for prism gives me this :&lt;br&gt;\r\n\r\n    Prism pipeline init order: d3d sw\r\n    Using native-based Pisces rasterizer\r\n    Using dirty region optimizations\r\n    Not using texture mask for primitives\r\n    Not forcing power of 2 sizes for textures\r\n    Using hardware CLAMP_TO_ZERO mode\r\n    Opting in for HiDPI pixel scaling\r\n    Threshold to enable UI scaling factor: 1.5\r\n    Prism pipeline name = com.sun.prism.d3d.D3DPipeline\r\n    Loading D3D native library ...\r\n            succeeded.\r\n    D3DPipelineManager: Created D3D9Ex device\r\n    Direct3D initialization succeeded\r\n    (X) Got class = class com.sun.prism.d3d.D3DPipeline\r\n    Initialized prism pipeline: com.sun.prism.d3d.D3DPipeline\r\n    Maximum supported texture size: 8192\r\n    Maximum texture size clamped to 4096\r\n    OS Information:\r\n            Windows version 10.0 build 19044\r\n    D3D Driver Information:\r\n            Intel(R) HD Graphics 630\r\n            \\\\.\\DISPLAY1\r\n            Driver igdumdim64.dll, version 25.20.100.6373\r\n            Pixel Shader version 3.0\r\n            Device : ven_8086, dev_591B, subsys_11C81462\r\n            Max Multisamples supported: 4\r\n     vsync: true vpipe: true\r\n    PPSRenderer: scenario.effect - createShader: LinearConvolveShadow_16\r\n\r\nwhich shows that hardware acceleration is supported, but I have a Nvidia GTX 1050m TI perfectly installed and set up and JavaFX doesn&#39;t seem to want to use it, it&#39;s always using Intel(R) HD Graphics 630.\r\n\r\nIs there a way to force gpu usage ?\r\n\r\nANSWER :\r\n\r\nI solve the problem by simply setting java.exe default gpu to be the nvidia&#39;s one after many hours of research, it seems to work but cannot be done from the application code. ","title":"How to force gpu usage with JavaFX?","body":"<p>I use JavaFX with Java 8 and i set this properties before launching my app<br>\n<code>System.setProperty(&quot;prism.forceGPU&quot;,&quot;true&quot;);</code><br>\n<code>System.setProperty(&quot;prism.order&quot;,&quot;d3d,sw&quot;);</code><br>\nThe verbose mode for prism gives me this :<br></p>\n<pre><code>Prism pipeline init order: d3d sw\nUsing native-based Pisces rasterizer\nUsing dirty region optimizations\nNot using texture mask for primitives\nNot forcing power of 2 sizes for textures\nUsing hardware CLAMP_TO_ZERO mode\nOpting in for HiDPI pixel scaling\nThreshold to enable UI scaling factor: 1.5\nPrism pipeline name = com.sun.prism.d3d.D3DPipeline\nLoading D3D native library ...\n        succeeded.\nD3DPipelineManager: Created D3D9Ex device\nDirect3D initialization succeeded\n(X) Got class = class com.sun.prism.d3d.D3DPipeline\nInitialized prism pipeline: com.sun.prism.d3d.D3DPipeline\nMaximum supported texture size: 8192\nMaximum texture size clamped to 4096\nOS Information:\n        Windows version 10.0 build 19044\nD3D Driver Information:\n        Intel(R) HD Graphics 630\n        \\\\.\\DISPLAY1\n        Driver igdumdim64.dll, version 25.20.100.6373\n        Pixel Shader version 3.0\n        Device : ven_8086, dev_591B, subsys_11C81462\n        Max Multisamples supported: 4\n vsync: true vpipe: true\nPPSRenderer: scenario.effect - createShader: LinearConvolveShadow_16\n</code></pre>\n<p>which shows that hardware acceleration is supported, but I have a Nvidia GTX 1050m TI perfectly installed and set up and JavaFX doesn't seem to want to use it, it's always using Intel(R) HD Graphics 630.</p>\n<p>Is there a way to force gpu usage ?</p>\n<p>ANSWER :</p>\n<p>I solve the problem by simply setting java.exe default gpu to be the nvidia's one after many hours of research, it seems to work but cannot be done from the application code.</p>\n"},{"tags":["python","java","parsing"],"answers":[{"comments":[{"owner":{"account_id":13096459,"reputation":23,"user_id":18973771,"display_name":"Bog Alt"},"score":0,"creation_date":1680606770,"post_id":75926880,"comment_id":133923197,"body_markdown":"thanks! Actually also online compilers complain about that point","body":"thanks! Actually also online compilers complain about that point"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680608479,"creation_date":1680595246,"answer_id":75926880,"question_id":75926758,"body_markdown":"That is not valid Java code.  For example:\r\n\r\n        if (!1.$assertionsDisabled &amp;&amp; ui == null) {\r\n\r\nI suspect that what you have actually done is downloaded a `.class` file and decompiled it&lt;sup&gt;1&lt;/sup&gt;.  Unfortunately, the decompiler has not worked properly, and what you have there cannot be compiled.\r\n\r\nMy suggestions are to try to get the actual Java source code (if it exists) or just exclude it from your analysis.\r\n\r\nThere are hints (e.g. in the import statements) that the &quot;.class&quot; file you have decompiled was originally compiled from Vaadin rather than Java.\r\n\r\n----------------\r\n\r\n&lt;sup&gt;1 - Note that a Maven repository will typically hold compiled artifacts rather that source code.  You would typically get source code from a source code repository.&lt;/sup&gt; \r\n","title":"why exception is rised on some java files using JavaLang python package","body":"<p>That is not valid Java code.  For example:</p>\n<pre><code>    if (!1.$assertionsDisabled &amp;&amp; ui == null) {\n</code></pre>\n<p>I suspect that what you have actually done is downloaded a <code>.class</code> file and decompiled it<sup>1</sup>.  Unfortunately, the decompiler has not worked properly, and what you have there cannot be compiled.</p>\n<p>My suggestions are to try to get the actual Java source code (if it exists) or just exclude it from your analysis.</p>\n<p>There are hints (e.g. in the import statements) that the &quot;.class&quot; file you have decompiled was originally compiled from Vaadin rather than Java.</p>\n<hr />\n<p><sup>1 - Note that a Maven repository will typically hold compiled artifacts rather that source code.  You would typically get source code from a source code repository.</sup></p>\n"}],"owner":{"account_id":13096459,"reputation":23,"user_id":18973771,"display_name":"Bog Alt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75926880,"answer_count":1,"score":0,"last_activity_date":1680608479,"creation_date":1680594411,"question_id":75926758,"body_markdown":"I am aiming to obtain all methods names in a java file and count theit lines of code.\r\nI actually managed to obtain something using the javalang parser for python. It identifies all methods but not creator which make me think there is a specific property I should use to check weather the creator exists or not and retrieve its name (any idea?).\r\n\r\nIt works well (javalang python pkg) most of the fimes but it fails on some files like the following one, which rises an exception\r\n\r\n    /*\r\n     * Decompiled with CFR 0.152.\r\n     */\r\n    package com.vaadin.flow.di;\r\n    \r\n    import com.vaadin.flow.component.Component;\r\n    import com.vaadin.flow.component.HasElement;\r\n    import com.vaadin.flow.component.UI;\r\n    import com.vaadin.flow.i18n.I18NProvider;\r\n    import com.vaadin.flow.router.NavigationEvent;\r\n    import com.vaadin.flow.server.BootstrapListener;\r\n    import com.vaadin.flow.server.DependencyFilter;\r\n    import com.vaadin.flow.server.VaadinService;\r\n    import com.vaadin.flow.server.VaadinServiceInitListener;\r\n    import com.vaadin.flow.server.VaadinSession;\r\n    import com.vaadin.flow.server.communication.IndexHtmlRequestListener;\r\n    import java.io.Serializable;\r\n    import java.util.stream.Stream;\r\n    \r\n    public interface Instantiator\r\n    extends Serializable {\r\n        @Deprecated\r\n        public boolean init(VaadinService var1);\r\n    \r\n        public Stream&lt;VaadinServiceInitListener&gt; getServiceInitListeners();\r\n    \r\n        @Deprecated\r\n        default public Stream&lt;BootstrapListener&gt; getBootstrapListeners(Stream&lt;BootstrapListener&gt; serviceInitListeners) {\r\n            return serviceInitListeners;\r\n        }\r\n    \r\n        default public Stream&lt;IndexHtmlRequestListener&gt; getIndexHtmlRequestListeners(Stream&lt;IndexHtmlRequestListener&gt; indexHtmlRequestListeners) {\r\n            return indexHtmlRequestListeners;\r\n        }\r\n    \r\n        default public Stream&lt;DependencyFilter&gt; getDependencyFilters(Stream&lt;DependencyFilter&gt; serviceInitFilters) {\r\n            return serviceInitFilters;\r\n        }\r\n    \r\n        public &lt;T&gt; T getOrCreate(Class&lt;T&gt; var1);\r\n    \r\n        default public &lt;T extends HasElement&gt; T createRouteTarget(Class&lt;T&gt; routeTargetType, NavigationEvent event) {\r\n            return (T)((HasElement)this.getOrCreate(routeTargetType));\r\n        }\r\n    \r\n        public &lt;T extends Component&gt; T createComponent(Class&lt;T&gt; var1);\r\n    \r\n        public static Instantiator get(UI ui) {\r\n            if (!1.$assertionsDisabled &amp;&amp; ui == null) {\r\n                throw new AssertionError();\r\n            }\r\n            VaadinSession session = ui.getSession();\r\n            if (!1.$assertionsDisabled &amp;&amp; session == null) {\r\n                throw new AssertionError();\r\n            }\r\n            return session.getService().getInstantiator();\r\n        }\r\n    \r\n        default public I18NProvider getI18NProvider() {\r\n            return this.getOrCreate(I18NProvider.class);\r\n        }\r\n    \r\n        static {\r\n            if (1.$assertionsDisabled) {\r\n                // empty if block\r\n            }\r\n        }\r\n    }\r\n\r\nwhich causes an exception:\r\n\r\n    Traceback (most recent call last):\r\n      File &quot;/Users/irene/PycharmProjects/pythonProject/main.py&quot;, line 113, in &lt;module&gt;\r\n        main()\r\n      File &quot;/Users/irene/PycharmProjects/pythonProject/main.py&quot;, line 109, in main\r\n        jlca.start()\r\n      File &quot;/Users/irene/PycharmProjects/pythonProject/JLCodeAnalyzer.py&quot;, line 80, in start\r\n        tree = javalang.parse.parse(code_text)\r\n      File &quot;/usr/local/lib/python3.10/site-packages/javalang/parse.py&quot;, line 53, in parse\r\n        return parser.parse()\r\n      File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 110, in parse\r\n        return self.parse_compilation_unit()\r\n      File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 302, in parse_compilation_unit\r\n        type_declaration = self.parse_type_declaration()\r\n      File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 347, in parse_type_declaration\r\n        return self.parse_class_or_interface_declaration()\r\n      File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 360, in parse_class_or_interface_declaration\r\n        type_declaration = self.parse_normal_interface_declaration()\r\n      File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 436, in parse_normal_interface_declaration\r\n        body = self.parse_interface_body()\r\n      File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 966, in parse_interface_body\r\n        declaration = self.parse_interface_body_declaration()\r\n      File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 981, in parse_interface_body_declaration\r\n        declaration = self.parse_interface_member_declaration()\r\n      File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 1008, in parse_interface_member_declaration\r\n        declaration = self.parse_interface_method_or_field_declaration()\r\n      File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 1018, in parse_interface_method_or_field_declaration\r\n        member = self.parse_interface_method_or_field_rest()\r\n      File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 1035, in parse_interface_method_or_field_rest\r\n        rest = self.parse_interface_method_declarator_rest()\r\n      File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 1082, in parse_interface_method_declarator_rest\r\n        body = self.parse_block()\r\n      File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 1274, in parse_block\r\n        statement = self.parse_block_statement()\r\n      File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 1339, in parse_block_statement\r\n        return self.parse_statement()\r\n      File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 1389, in parse_statement\r\n        condition = self.parse_par_expression()\r\n      File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 2032, in parse_par_expression\r\n        self.accept(&#39;)&#39;)\r\n      File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 131, in accept\r\n        self.illegal(&quot;Expected &#39;%s&#39;&quot; % (accept,))\r\n      File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 119, in illegal\r\n        raise JavaSyntaxError(description, at)\r\n    javalang.parser.JavaSyntaxError\r\n\r\nAnd here is the JLCodeAnalyzer:\r\n\r\n    import javalang\r\n    import os\r\n    from javalang import tree\r\n    \r\n    class JLCodeAnalyzer:\r\n        def __init__(self, code_path):\r\n            self.code_path = code_path\r\n            self.codelines = None\r\n    \r\n        def get_method_start_end(self, method_node, tree):\r\n            startpos  = None\r\n            endpos    = None\r\n            startline = None\r\n            endline   = None\r\n            for path, node in tree:\r\n                if startpos is not None and method_node not in path:\r\n                    endpos = node.position\r\n                    endline = node.position.line if node.position is not None else None\r\n                    break\r\n                if startpos is None and node == method_node:\r\n                    startpos = node.position\r\n                    startline = node.position.line if node.position is not None else None\r\n            return startpos, endpos, startline, endline\r\n    \r\n        def get_method_text(self, startpos, endpos, startline, endline, last_endline_index, codelines, tree):\r\n            if startpos is None:\r\n                return &quot;&quot;, None, None, None\r\n            else:\r\n                startline_index = startline - 1\r\n                endline_index = endline - 1 if endpos is not None else None\r\n    \r\n                # 1. check for and fetch annotations\r\n                if last_endline_index is not None:\r\n                    for line in codelines[(last_endline_index + 1):(startline_index)]:\r\n                        if &quot;@&quot; in line:\r\n                            startline_index = startline_index - 1\r\n                meth_text = &quot;&lt;ST&gt;&quot;.join(codelines[startline_index:endline_index])\r\n                meth_text = meth_text[:meth_text.rfind(&quot;}&quot;) + 1]\r\n    \r\n                # 2. remove trailing rbrace for last methods &amp; any external content/comments\r\n                # if endpos is None and\r\n                if not abs(meth_text.count(&quot;}&quot;) - meth_text.count(&quot;{&quot;)) == 0:\r\n                    # imbalanced braces\r\n                    brace_diff = abs(meth_text.count(&quot;}&quot;) - meth_text.count(&quot;{&quot;))\r\n    \r\n                    for _ in range(brace_diff):\r\n                        meth_text  = meth_text[:meth_text.rfind(&quot;}&quot;)]\r\n                        meth_text  = meth_text[:meth_text.rfind(&quot;}&quot;) + 1]\r\n    \r\n                meth_lines = meth_text.split(&quot;&lt;ST&gt;&quot;)\r\n                meth_text  = &quot;&quot;.join(meth_lines)\r\n                last_endline_index = startline_index + (len(meth_lines) - 1)\r\n    \r\n                return meth_text, (startline_index + 1), (last_endline_index + 1), last_endline_index\r\n    \r\n        def get_java_files(self, directory):\r\n            &#39;&#39;&#39;\r\n            :param directory: path to the main directory of java files\r\n            :return: list of java files found\r\n            search for all .java files recursively in &quot;directory&quot;\r\n            &#39;&#39;&#39;\r\n    \r\n            java_files = []\r\n            for root, _, files in os.walk(directory):\r\n                for file in files:\r\n                    if file.endswith(&quot;.java&quot;):\r\n                        java_files.append(os.path.join(root, file))\r\n            return java_files\r\n    \r\n        def start(self):\r\n            java_files = self.get_java_files(self.code_path)\r\n    \r\n    \r\n            for target_file in java_files:\r\n                with open(target_file, &#39;r&#39;) as r\r\n                    codelines = r.readlines()\r\n                    code_text = &#39;&#39;.join(codelines)\r\n                    lex = None\r\n                    print(&quot;working on &quot;, target_file)\r\n                    tree = javalang.parse.parse(code_text)\r\n                    methods = {}\r\n                    for _, method_node in tree.filter(javalang.tree.MethodDeclaration):\r\n                        startpos, endpos, startline, endline = self.get_method_start_end(method_node, tree)\r\n                        method_text, startline, endline, lex = self.get_method_text(startpos, endpos, startline, endline, lex, codelines, tree)\r\n                        methods[method_node.name] = method_text\r\n    \r\n                    print(f&quot;total methods in {target_file} = {len(methods)}&quot;)\r\n\r\n\r\n\r\nI tried to compile the code on line and got some syntax errors. \r\nFor example:\r\n```\r\nerror: &#39;)&#39; expected\r\n        if (!1.$assertionsDisabled &amp;&amp; ui == null) {\r\n               ^\r\n```\r\n\r\nbut ths code has been downloaded from a maven reposotory, I would expect it has a correct syntax!\r\nOr am I wrong ?","title":"why exception is rised on some java files using JavaLang python package","body":"<p>I am aiming to obtain all methods names in a java file and count theit lines of code.\nI actually managed to obtain something using the javalang parser for python. It identifies all methods but not creator which make me think there is a specific property I should use to check weather the creator exists or not and retrieve its name (any idea?).</p>\n<p>It works well (javalang python pkg) most of the fimes but it fails on some files like the following one, which rises an exception</p>\n<pre><code>/*\n * Decompiled with CFR 0.152.\n */\npackage com.vaadin.flow.di;\n\nimport com.vaadin.flow.component.Component;\nimport com.vaadin.flow.component.HasElement;\nimport com.vaadin.flow.component.UI;\nimport com.vaadin.flow.i18n.I18NProvider;\nimport com.vaadin.flow.router.NavigationEvent;\nimport com.vaadin.flow.server.BootstrapListener;\nimport com.vaadin.flow.server.DependencyFilter;\nimport com.vaadin.flow.server.VaadinService;\nimport com.vaadin.flow.server.VaadinServiceInitListener;\nimport com.vaadin.flow.server.VaadinSession;\nimport com.vaadin.flow.server.communication.IndexHtmlRequestListener;\nimport java.io.Serializable;\nimport java.util.stream.Stream;\n\npublic interface Instantiator\nextends Serializable {\n    @Deprecated\n    public boolean init(VaadinService var1);\n\n    public Stream&lt;VaadinServiceInitListener&gt; getServiceInitListeners();\n\n    @Deprecated\n    default public Stream&lt;BootstrapListener&gt; getBootstrapListeners(Stream&lt;BootstrapListener&gt; serviceInitListeners) {\n        return serviceInitListeners;\n    }\n\n    default public Stream&lt;IndexHtmlRequestListener&gt; getIndexHtmlRequestListeners(Stream&lt;IndexHtmlRequestListener&gt; indexHtmlRequestListeners) {\n        return indexHtmlRequestListeners;\n    }\n\n    default public Stream&lt;DependencyFilter&gt; getDependencyFilters(Stream&lt;DependencyFilter&gt; serviceInitFilters) {\n        return serviceInitFilters;\n    }\n\n    public &lt;T&gt; T getOrCreate(Class&lt;T&gt; var1);\n\n    default public &lt;T extends HasElement&gt; T createRouteTarget(Class&lt;T&gt; routeTargetType, NavigationEvent event) {\n        return (T)((HasElement)this.getOrCreate(routeTargetType));\n    }\n\n    public &lt;T extends Component&gt; T createComponent(Class&lt;T&gt; var1);\n\n    public static Instantiator get(UI ui) {\n        if (!1.$assertionsDisabled &amp;&amp; ui == null) {\n            throw new AssertionError();\n        }\n        VaadinSession session = ui.getSession();\n        if (!1.$assertionsDisabled &amp;&amp; session == null) {\n            throw new AssertionError();\n        }\n        return session.getService().getInstantiator();\n    }\n\n    default public I18NProvider getI18NProvider() {\n        return this.getOrCreate(I18NProvider.class);\n    }\n\n    static {\n        if (1.$assertionsDisabled) {\n            // empty if block\n        }\n    }\n}\n</code></pre>\n<p>which causes an exception:</p>\n<pre><code>Traceback (most recent call last):\n  File &quot;/Users/irene/PycharmProjects/pythonProject/main.py&quot;, line 113, in &lt;module&gt;\n    main()\n  File &quot;/Users/irene/PycharmProjects/pythonProject/main.py&quot;, line 109, in main\n    jlca.start()\n  File &quot;/Users/irene/PycharmProjects/pythonProject/JLCodeAnalyzer.py&quot;, line 80, in start\n    tree = javalang.parse.parse(code_text)\n  File &quot;/usr/local/lib/python3.10/site-packages/javalang/parse.py&quot;, line 53, in parse\n    return parser.parse()\n  File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 110, in parse\n    return self.parse_compilation_unit()\n  File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 302, in parse_compilation_unit\n    type_declaration = self.parse_type_declaration()\n  File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 347, in parse_type_declaration\n    return self.parse_class_or_interface_declaration()\n  File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 360, in parse_class_or_interface_declaration\n    type_declaration = self.parse_normal_interface_declaration()\n  File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 436, in parse_normal_interface_declaration\n    body = self.parse_interface_body()\n  File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 966, in parse_interface_body\n    declaration = self.parse_interface_body_declaration()\n  File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 981, in parse_interface_body_declaration\n    declaration = self.parse_interface_member_declaration()\n  File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 1008, in parse_interface_member_declaration\n    declaration = self.parse_interface_method_or_field_declaration()\n  File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 1018, in parse_interface_method_or_field_declaration\n    member = self.parse_interface_method_or_field_rest()\n  File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 1035, in parse_interface_method_or_field_rest\n    rest = self.parse_interface_method_declarator_rest()\n  File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 1082, in parse_interface_method_declarator_rest\n    body = self.parse_block()\n  File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 1274, in parse_block\n    statement = self.parse_block_statement()\n  File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 1339, in parse_block_statement\n    return self.parse_statement()\n  File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 1389, in parse_statement\n    condition = self.parse_par_expression()\n  File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 2032, in parse_par_expression\n    self.accept(')')\n  File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 131, in accept\n    self.illegal(&quot;Expected '%s'&quot; % (accept,))\n  File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 119, in illegal\n    raise JavaSyntaxError(description, at)\njavalang.parser.JavaSyntaxError\n</code></pre>\n<p>And here is the JLCodeAnalyzer:</p>\n<pre><code>import javalang\nimport os\nfrom javalang import tree\n\nclass JLCodeAnalyzer:\n    def __init__(self, code_path):\n        self.code_path = code_path\n        self.codelines = None\n\n    def get_method_start_end(self, method_node, tree):\n        startpos  = None\n        endpos    = None\n        startline = None\n        endline   = None\n        for path, node in tree:\n            if startpos is not None and method_node not in path:\n                endpos = node.position\n                endline = node.position.line if node.position is not None else None\n                break\n            if startpos is None and node == method_node:\n                startpos = node.position\n                startline = node.position.line if node.position is not None else None\n        return startpos, endpos, startline, endline\n\n    def get_method_text(self, startpos, endpos, startline, endline, last_endline_index, codelines, tree):\n        if startpos is None:\n            return &quot;&quot;, None, None, None\n        else:\n            startline_index = startline - 1\n            endline_index = endline - 1 if endpos is not None else None\n\n            # 1. check for and fetch annotations\n            if last_endline_index is not None:\n                for line in codelines[(last_endline_index + 1):(startline_index)]:\n                    if &quot;@&quot; in line:\n                        startline_index = startline_index - 1\n            meth_text = &quot;&lt;ST&gt;&quot;.join(codelines[startline_index:endline_index])\n            meth_text = meth_text[:meth_text.rfind(&quot;}&quot;) + 1]\n\n            # 2. remove trailing rbrace for last methods &amp; any external content/comments\n            # if endpos is None and\n            if not abs(meth_text.count(&quot;}&quot;) - meth_text.count(&quot;{&quot;)) == 0:\n                # imbalanced braces\n                brace_diff = abs(meth_text.count(&quot;}&quot;) - meth_text.count(&quot;{&quot;))\n\n                for _ in range(brace_diff):\n                    meth_text  = meth_text[:meth_text.rfind(&quot;}&quot;)]\n                    meth_text  = meth_text[:meth_text.rfind(&quot;}&quot;) + 1]\n\n            meth_lines = meth_text.split(&quot;&lt;ST&gt;&quot;)\n            meth_text  = &quot;&quot;.join(meth_lines)\n            last_endline_index = startline_index + (len(meth_lines) - 1)\n\n            return meth_text, (startline_index + 1), (last_endline_index + 1), last_endline_index\n\n    def get_java_files(self, directory):\n        '''\n        :param directory: path to the main directory of java files\n        :return: list of java files found\n        search for all .java files recursively in &quot;directory&quot;\n        '''\n\n        java_files = []\n        for root, _, files in os.walk(directory):\n            for file in files:\n                if file.endswith(&quot;.java&quot;):\n                    java_files.append(os.path.join(root, file))\n        return java_files\n\n    def start(self):\n        java_files = self.get_java_files(self.code_path)\n\n\n        for target_file in java_files:\n            with open(target_file, 'r') as r\n                codelines = r.readlines()\n                code_text = ''.join(codelines)\n                lex = None\n                print(&quot;working on &quot;, target_file)\n                tree = javalang.parse.parse(code_text)\n                methods = {}\n                for _, method_node in tree.filter(javalang.tree.MethodDeclaration):\n                    startpos, endpos, startline, endline = self.get_method_start_end(method_node, tree)\n                    method_text, startline, endline, lex = self.get_method_text(startpos, endpos, startline, endline, lex, codelines, tree)\n                    methods[method_node.name] = method_text\n\n                print(f&quot;total methods in {target_file} = {len(methods)}&quot;)\n</code></pre>\n<p>I tried to compile the code on line and got some syntax errors.\nFor example:</p>\n<pre><code>error: ')' expected\n        if (!1.$assertionsDisabled &amp;&amp; ui == null) {\n               ^\n</code></pre>\n<p>but ths code has been downloaded from a maven reposotory, I would expect it has a correct syntax!\nOr am I wrong ?</p>\n"},{"tags":["java","spring-boot","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":14004176,"reputation":93,"user_id":10114822,"display_name":"barkeldiho"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680608458,"creation_date":1680608458,"answer_id":75928929,"question_id":75928527,"body_markdown":"Since I had to wrap my head around that problem myself, I can give you an answer based on your description. Although I am not sure that this is the most correct answer.\r\n\r\nYour first and second solution utilize a singleton pattern within Spring Boot while maintaining route visibility and transparency. Both is good and desirable. Thus, both ways are fine as far as I can tell. \r\n\r\nWhether you should use a service layer or Processor objects depends imho a bit on their respective purpose. Thus, if you can identify shared functionalities among different processing steps those steps could be organized in a service and called by whatever route needs them. If the processing steps are pretty much isolated its probably cleaner to use the Processors. Here it pretty much comes down to this kind of evaluation or some further technical implications like testing or async processing etc.\r\n\r\nBest\r\n\r\n","title":"Proper way to use Apache Camel with Spring Boot","body":"<p>Since I had to wrap my head around that problem myself, I can give you an answer based on your description. Although I am not sure that this is the most correct answer.</p>\n<p>Your first and second solution utilize a singleton pattern within Spring Boot while maintaining route visibility and transparency. Both is good and desirable. Thus, both ways are fine as far as I can tell.</p>\n<p>Whether you should use a service layer or Processor objects depends imho a bit on their respective purpose. Thus, if you can identify shared functionalities among different processing steps those steps could be organized in a service and called by whatever route needs them. If the processing steps are pretty much isolated its probably cleaner to use the Processors. Here it pretty much comes down to this kind of evaluation or some further technical implications like testing or async processing etc.</p>\n<p>Best</p>\n"}],"owner":{"account_id":19943168,"reputation":45,"user_id":14614483,"display_name":"viktor nagla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":361,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75928929,"answer_count":1,"score":0,"last_activity_date":1680608458,"creation_date":1680605887,"question_id":75928527,"body_markdown":"I have been working on 3 different projects and all of them had different way to work with Camel.\r\nFirst one was mostly calling couple of services per route through bean(we end up with large services that only had methods that were used in Camel routes only), like this:\r\n\r\n    from(&quot;direct:someUrl&quot;)\r\n      .bean(myService, &quot;loadData&quot;)\r\n      .bean(myService, &quot;validateData&quot;)\r\n      .bean(myService, &quot;saveData&quot;)\r\n      .bean(myService2, &quot;sendEvent&quot;)\r\n\r\nand so on.\r\nSecond created separate processor per each task(had to create long constructor to inject them all). Like:\r\n\r\n    from(&quot;direct:someUrl&quot;)\r\n      .process(myParseProcessor)\r\n      .process(myValidationProcessor)\r\n      .process(mySaveToDbProcessor)\r\n      .process(myPublishEventProcessor)\r\n\r\nAnd in third one routes were calling each other(was super hard to see the full flow, because you had to jump across multiple classes). Like:\r\n \r\n \r\n     FisrtRoute.java\r\n     from(&quot;direct:someUrl&quot;)\r\n      .process(()-&gt; doSmth)\r\n      .to(&quot;direct:someUrl2&quot;)\r\n      \r\n     SecondRoute.java\r\n     from(&quot;direct:someUrl2&quot;)\r\n      .process(()-&gt; doSmth)\r\n      .to(&quot;direct:someUrl3&quot;)\r\n\r\n     ThirdRoute.java\r\n     from(&quot;direct:someUrl3&quot;)\r\n      .process(()-&gt; doSmth)\r\n      .to(&quot;direct:someUrl4&quot;)\r\n\r\nI am trying to understand what is the preferred way to work with Camel? Personally I prefer second one, as it is easier to see the whole flow in one place and to cover with tests all small processors, but on the other hand we end up with tons of processors and huge list of them being injected into our Route.","title":"Proper way to use Apache Camel with Spring Boot","body":"<p>I have been working on 3 different projects and all of them had different way to work with Camel.\nFirst one was mostly calling couple of services per route through bean(we end up with large services that only had methods that were used in Camel routes only), like this:</p>\n<pre><code>from(&quot;direct:someUrl&quot;)\n  .bean(myService, &quot;loadData&quot;)\n  .bean(myService, &quot;validateData&quot;)\n  .bean(myService, &quot;saveData&quot;)\n  .bean(myService2, &quot;sendEvent&quot;)\n</code></pre>\n<p>and so on.\nSecond created separate processor per each task(had to create long constructor to inject them all). Like:</p>\n<pre><code>from(&quot;direct:someUrl&quot;)\n  .process(myParseProcessor)\n  .process(myValidationProcessor)\n  .process(mySaveToDbProcessor)\n  .process(myPublishEventProcessor)\n</code></pre>\n<p>And in third one routes were calling each other(was super hard to see the full flow, because you had to jump across multiple classes). Like:</p>\n<pre><code> FisrtRoute.java\n from(&quot;direct:someUrl&quot;)\n  .process(()-&gt; doSmth)\n  .to(&quot;direct:someUrl2&quot;)\n  \n SecondRoute.java\n from(&quot;direct:someUrl2&quot;)\n  .process(()-&gt; doSmth)\n  .to(&quot;direct:someUrl3&quot;)\n\n ThirdRoute.java\n from(&quot;direct:someUrl3&quot;)\n  .process(()-&gt; doSmth)\n  .to(&quot;direct:someUrl4&quot;)\n</code></pre>\n<p>I am trying to understand what is the preferred way to work with Camel? Personally I prefer second one, as it is easier to see the whole flow in one place and to cover with tests all small processors, but on the other hand we end up with tons of processors and huge list of them being injected into our Route.</p>\n"},{"tags":["java","jar","image-loading"],"comments":[{"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"score":0,"creation_date":1680587567,"post_id":75922589,"comment_id":133918996,"body_markdown":"It is generally bad idea to convert a resource location into a file path. Depending on the OS, file system and file location it can or cannot work. For example it can fail, if the path to the JAR contains the character &quot;!&quot;. The better way is to read the resource directly as a stream.","body":"It is generally bad idea to convert a resource location into a file path. Depending on the OS, file system and file location it can or cannot work. For example it can fail, if the path to the JAR contains the character &quot;!&quot;. The better way is to read the resource directly as a stream."},{"owner":{"account_id":27529965,"reputation":11,"user_id":21008642,"display_name":"Command17"},"score":0,"creation_date":1680606613,"post_id":75922589,"comment_id":133923171,"body_markdown":"@30thh I can&#39;t read them as streams since jaylib (raylib) needs the path to the image","body":"@30thh I can&#39;t read them as streams since jaylib (raylib) needs the path to the image"}],"answers":[{"comments":[{"owner":{"account_id":27529965,"reputation":11,"user_id":21008642,"display_name":"Command17"},"score":0,"creation_date":1680550377,"post_id":75923009,"comment_id":133914492,"body_markdown":"I don&#39;t have a a pom.xml file. Only gradle kt and manifest.mf","body":"I don&#39;t have a a pom.xml file. Only gradle kt and manifest.mf"},{"owner":{"account_id":27529965,"reputation":11,"user_id":21008642,"display_name":"Command17"},"score":0,"creation_date":1680553218,"post_id":75923009,"comment_id":133915086,"body_markdown":"And I looked into the jar and found the resources","body":"And I looked into the jar and found the resources"}],"tags":[],"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680549199,"creation_date":1680549199,"answer_id":75923009,"question_id":75922589,"body_markdown":"IntelliJ has a different way to decide, which directories must be a part of the classpath. It is very possible, the directory with a image is tagged as a resource directory in the project setting, but not in the `pom.xml` Finally the file is not exported to the JAR at all.\r\n\r\nYou need to ensure, you specify the resource directory like this in your `pom.xml`:\r\n\r\n    &lt;build&gt;\r\n       ...\r\n       &lt;resources&gt;\r\n         &lt;resource&gt;\r\n           &lt;directory&gt;[your folder here]&lt;/directory&gt;\r\n         &lt;/resource&gt;\r\n       &lt;/resources&gt;\r\n       ...\r\n    &lt;/build&gt;","title":"Jar file not finding image but in Idea does","body":"<p>IntelliJ has a different way to decide, which directories must be a part of the classpath. It is very possible, the directory with a image is tagged as a resource directory in the project setting, but not in the <code>pom.xml</code> Finally the file is not exported to the JAR at all.</p>\n<p>You need to ensure, you specify the resource directory like this in your <code>pom.xml</code>:</p>\n<pre><code>&lt;build&gt;\n   ...\n   &lt;resources&gt;\n     &lt;resource&gt;\n       &lt;directory&gt;[your folder here]&lt;/directory&gt;\n     &lt;/resource&gt;\n   &lt;/resources&gt;\n   ...\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":27529965,"reputation":11,"user_id":21008642,"display_name":"Command17"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680607870,"creation_date":1680546015,"question_id":75922589,"body_markdown":"I&#39;m trying to load an image in Java using Jaylib, it works in Intellij but not does as a Jar.\r\n\r\nMethod for Resource Locations:\r\n```java\r\n@Nullable\r\n    public String getPath() {\r\n        try {\r\n            return Path.of(ClassLoader.getSystemClassLoader().getResource(this.location).toURI()).toString();\r\n        } catch (Exception e) {\r\n            LOGGER.error(&quot;No object found at location!&quot;);\r\n            LOGGER.debug(Arrays.toString(e.getStackTrace()));\r\n        }\r\n\r\n        return null;\r\n    }\r\n```\r\n\r\nI tried using ```getClass().getResource```, ```getClass().getClassLoader().getResource()``` and using a fat jar instead of a shadow jar.\r\n\r\nEdit: I debugged it and this is the log:\r\n\r\n```\r\n[jdk.zipfs/jdk.nio.zipfs.ZipFileSystemProvider.getFileSystem(ZipFileSystemProvider.java:156), jdk.zipfs/jdk.nio.zipfs.ZipFileSystemProvider.getPath(ZipFileSystemProvider.java:142), java.base/java.nio.file.Path.of(Path.java:208), com.github.command17.mariomaker17.resource.ResourceLocation.getPath(ResourceLocation.java:26), com.github.command17.mariomaker17.resource.Textures.loadTextures(Textures.java:9), com.github.command17.mariomaker17.Main.main(Main.java:42)]\r\n```","title":"Jar file not finding image but in Idea does","body":"<p>I'm trying to load an image in Java using Jaylib, it works in Intellij but not does as a Jar.</p>\n<p>Method for Resource Locations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Nullable\n    public String getPath() {\n        try {\n            return Path.of(ClassLoader.getSystemClassLoader().getResource(this.location).toURI()).toString();\n        } catch (Exception e) {\n            LOGGER.error(&quot;No object found at location!&quot;);\n            LOGGER.debug(Arrays.toString(e.getStackTrace()));\n        }\n\n        return null;\n    }\n</code></pre>\n<p>I tried using <code>getClass().getResource</code>, <code>getClass().getClassLoader().getResource()</code> and using a fat jar instead of a shadow jar.</p>\n<p>Edit: I debugged it and this is the log:</p>\n<pre><code>[jdk.zipfs/jdk.nio.zipfs.ZipFileSystemProvider.getFileSystem(ZipFileSystemProvider.java:156), jdk.zipfs/jdk.nio.zipfs.ZipFileSystemProvider.getPath(ZipFileSystemProvider.java:142), java.base/java.nio.file.Path.of(Path.java:208), com.github.command17.mariomaker17.resource.ResourceLocation.getPath(ResourceLocation.java:26), com.github.command17.mariomaker17.resource.Textures.loadTextures(Textures.java:9), com.github.command17.mariomaker17.Main.main(Main.java:42)]\n</code></pre>\n"},{"tags":["java","apache-spark","apache-spark-sql","parquet"],"answers":[{"comments":[{"owner":{"account_id":7502659,"reputation":2750,"user_id":5700401,"accept_rate":22,"display_name":"Abhijit Jagtap"},"score":0,"creation_date":1542353341,"post_id":40803108,"comment_id":93545945,"body_markdown":"so, in that case, I need to write a data frame in another file and again need to read data frame to write in overwrite mode to replace the original one. is there any best approach to update spark records.","body":"so, in that case, I need to write a data frame in another file and again need to read data frame to write in overwrite mode to replace the original one. is there any best approach to update spark records."}],"tags":[],"owner":{"account_id":5977018,"reputation":2315,"user_id":4697497,"display_name":"ImDarrenG"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480070684,"creation_date":1480070684,"answer_id":40803108,"question_id":40802978,"body_markdown":"Parquet is a file format rather than a database, in order to achieve an update by id, you will need to read the file, update the value in memory, than re-write the data to a new file (or overwrite the existing file).\r\n\r\nYou might be better served using a database if this is a use-case that will occur frequently.","title":"Spark - Update the record (in parquet file) if already exists","body":"<p>Parquet is a file format rather than a database, in order to achieve an update by id, you will need to read the file, update the value in memory, than re-write the data to a new file (or overwrite the existing file).</p>\n\n<p>You might be better served using a database if this is a use-case that will occur frequently.</p>\n"},{"comments":[{"owner":{"account_id":339277,"reputation":718,"user_id":668653,"accept_rate":78,"display_name":"Onur Demir"},"score":0,"creation_date":1624609691,"post_id":43978402,"comment_id":120410543,"body_markdown":"That&#39;s the exact thing that I am doing but I am not able to write the new data over the old data with overwrite mode. That&#39;s the main problem.","body":"That&#39;s the exact thing that I am doing but I am not able to write the new data over the old data with overwrite mode. That&#39;s the main problem."},{"owner":{"account_id":201101,"reputation":21953,"user_id":447344,"accept_rate":44,"display_name":"Thomas Decaux"},"score":0,"creation_date":1625559884,"post_id":43978402,"comment_id":120651752,"body_markdown":"please post a new question with all details","body":"please post a new question with all details"}],"tags":[],"owner":{"account_id":201101,"reputation":21953,"user_id":447344,"accept_rate":44,"display_name":"Thomas Decaux"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494847961,"creation_date":1494847961,"answer_id":43978402,"question_id":40802978,"body_markdown":"You can have a look at Apache ORC file format instead, see:\r\n\r\nhttps://orc.apache.org/docs/acid.html\r\n\r\nAccording your use case, or HBase if you want stay in top of HDFS.\r\n\r\nBut keep in mind that HDFS is a write once file system, if this is not fitting your need, go for something else (maybe elasticsearch, mongodb).\r\n\r\nElse, in HDFS, you must create new files every-time, you must setup an incremental process to build a &quot;delta&quot; file, then merge OLD + DELTA = NEW_DATA.","title":"Spark - Update the record (in parquet file) if already exists","body":"<p>You can have a look at Apache ORC file format instead, see:</p>\n\n<p><a href=\"https://orc.apache.org/docs/acid.html\" rel=\"nofollow noreferrer\">https://orc.apache.org/docs/acid.html</a></p>\n\n<p>According your use case, or HBase if you want stay in top of HDFS.</p>\n\n<p>But keep in mind that HDFS is a write once file system, if this is not fitting your need, go for something else (maybe elasticsearch, mongodb).</p>\n\n<p>Else, in HDFS, you must create new files every-time, you must setup an incremental process to build a \"delta\" file, then merge OLD + DELTA = NEW_DATA.</p>\n"},{"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1680901086,"post_id":75928821,"comment_id":133978752,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/late-answers/34161608)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/late-answers/34161608\">From Review</a>"}],"tags":[],"owner":{"account_id":1379907,"reputation":21,"user_id":1313150,"display_name":"Atzmon Hen-tov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680607766,"creation_date":1680607766,"answer_id":75928821,"question_id":40802978,"body_markdown":"You can also look at apache hudi (&lt;https://hudi.apache.org/&gt;) which provides support for updates over parquet files.\r\n\r\n","title":"Spark - Update the record (in parquet file) if already exists","body":"<p>You can also look at apache hudi (<a href=\"https://hudi.apache.org/\" rel=\"nofollow noreferrer\">https://hudi.apache.org/</a>) which provides support for updates over parquet files.</p>\n"}],"owner":{"account_id":1135699,"reputation":30287,"user_id":1120793,"accept_rate":35,"display_name":"Darshan Mehta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9505,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1680607766,"creation_date":1480070270,"question_id":40802978,"body_markdown":"I am writing a Spark job to read the data from json file and write it to parquet file, below is the example code:\r\n\r\n        DataFrame dataFrame = new DataFrameReader(sqlContext).json(textFile);\r\n        dataFrame = dataFrame.withColumn(&quot;year&quot;, year(to_date(unix_timestamp(dataFrame.col(&quot;date&quot;), &quot;YYYY-MM-dd&#39;T&#39;hh:mm:ss.SSS&quot;).cast(&quot;timestamp&quot;))));\r\n        dataFrame = dataFrame.withColumn(&quot;month&quot;, month(to_date(unix_timestamp(dataFrame.col(&quot;date&quot;), &quot;YYYY-MM-dd&#39;T&#39;hh:mm:ss.SSS&quot;).cast(&quot;timestamp&quot;))));\r\n        dataFrame.write().mode(SaveMode.Append).partitionBy(&quot;year&quot;, &quot;month&quot;).parquet(&quot;&lt;some_path&gt;&quot;);\r\n\r\nJson file consists of lots of json records and I want the record to be updated in parquet if it already exists. I have tried `Append` mode but it seems to be working on file level rather than record level (i.e. if file already exists, it writes in the end). So, running this job for the same file duplicates the records.\r\n\r\nIs there any way we can specify dataframe row id as a unique key and ask spark to update the record if it already exists? All the save modes seem to be checking the files and not the records.","title":"Spark - Update the record (in parquet file) if already exists","body":"<p>I am writing a Spark job to read the data from json file and write it to parquet file, below is the example code:</p>\n\n<pre><code>    DataFrame dataFrame = new DataFrameReader(sqlContext).json(textFile);\n    dataFrame = dataFrame.withColumn(\"year\", year(to_date(unix_timestamp(dataFrame.col(\"date\"), \"YYYY-MM-dd'T'hh:mm:ss.SSS\").cast(\"timestamp\"))));\n    dataFrame = dataFrame.withColumn(\"month\", month(to_date(unix_timestamp(dataFrame.col(\"date\"), \"YYYY-MM-dd'T'hh:mm:ss.SSS\").cast(\"timestamp\"))));\n    dataFrame.write().mode(SaveMode.Append).partitionBy(\"year\", \"month\").parquet(\"&lt;some_path&gt;\");\n</code></pre>\n\n<p>Json file consists of lots of json records and I want the record to be updated in parquet if it already exists. I have tried <code>Append</code> mode but it seems to be working on file level rather than record level (i.e. if file already exists, it writes in the end). So, running this job for the same file duplicates the records.</p>\n\n<p>Is there any way we can specify dataframe row id as a unique key and ask spark to update the record if it already exists? All the save modes seem to be checking the files and not the records.</p>\n"},{"tags":["java","jdbc","google-bigquery","google-cloud-dataflow"],"answers":[{"tags":[],"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673336963,"creation_date":1673309126,"answer_id":75064158,"question_id":75063068,"body_markdown":"In the read part you can use `TableRow` with `JdbcIO` as follow : \r\n\r\n```java\r\nPCollection&lt;TableRow&gt; results = pipeline\r\n        .apply(&quot;Connect&quot;, JdbcIO.&lt;TableRow&gt;read()\r\n                .withDataSourceConfiguration(buildDataSourceConfig(options, URL))\r\n                .withQuery(query)\r\n                .withCoder(TableRowJsonCoder.of())\r\n                .withRowMapper(new JdbcIO.RowMapper&lt;TableRow&gt;() {\r\n                    @Override\r\n                    public TableRow mapRow(ResultSet resultSet) {\r\n                        // Implements your logic here.\r\n                      \r\n                        return tableRow;\r\n                    }\r\n                )\r\n        );\r\n``` \r\n\r\nI think `Dataflow` isn&#39;t the easier service to meet your need because you have to pass a schema to `BigQueryIO` to allows `Dataflow` to create the table with `CREATE_IF_NEEDED` option.\r\n\r\nThe schema is passed with the following method : [withSchema(schema)](https://beam.apache.org/documentation/io/built-in/google-bigquery/), example : \r\n\r\n```java\r\n  rows.apply(\r\n        &quot;Write to BigQuery&quot;,\r\n        BigQueryIO.writeTableRows()\r\n            .to(String.format(&quot;%s:%s.%s&quot;, project, dataset, table))\r\n            .withSchema(schema)\r\n            // For CreateDisposition:\r\n            // - CREATE_IF_NEEDED (default): creates the table if it doesn&#39;t exist, a schema is\r\n            // required\r\n            // - CREATE_NEVER: raises an error if the table doesn&#39;t exist, a schema is not needed\r\n            .withCreateDisposition(CreateDisposition.CREATE_IF_NEEDED)\r\n            // For WriteDisposition:\r\n            // - WRITE_EMPTY (default): raises an error if the table is not empty\r\n            // - WRITE_APPEND: appends new rows to existing rows\r\n            // - WRITE_TRUNCATE: deletes the existing rows before writing\r\n            .withWriteDisposition(WriteDisposition.WRITE_TRUNCATE));\r\n\r\n    // pipeline.run().waitUntilFinish();\r\n  }\r\n```\r\n\r\nThat means in your case, you have to build the schema from the current `TableRow` in the `PCollection`.\r\n\r\nIt&#39;s not easy to do that with `Beam`.\r\nIt would have been easier if you could have used a schema for your BigQuery table.\r\n\r\nI propose you another solution and approach : \r\n\r\n- Export the `MS-SQL` data to `Cloud Storage`\r\n- Import the `Cloud Storage` files to `BigQuery` with `autodetect` mode to infer the schema from the file.\r\n\r\nYou can add this logic in a `Shell` script if you want to automate this process with `gcloud` cli.\r\n\r\nExample to [load](https://cloud.google.com/bigquery/docs/loading-data-cloud-storage-csv#appending_to_or_overwriting_a_table_with_csv_data) `GCS` file to `BigQuery` : \r\n\r\n```shell\r\n bq load \\\r\n    --autodetect \\\r\n    --replace \\\r\n    --source_format=CSV \\\r\n    mydataset.mytable \\\r\n    gs://mybucket/mydata.csv\r\n```\r\n","title":"Dataflow JDBCIO Read with Generic Row Mapper","body":"<p>In the read part you can use <code>TableRow</code> with <code>JdbcIO</code> as follow :</p>\n<pre class=\"lang-java prettyprint-override\"><code>PCollection&lt;TableRow&gt; results = pipeline\n        .apply(&quot;Connect&quot;, JdbcIO.&lt;TableRow&gt;read()\n                .withDataSourceConfiguration(buildDataSourceConfig(options, URL))\n                .withQuery(query)\n                .withCoder(TableRowJsonCoder.of())\n                .withRowMapper(new JdbcIO.RowMapper&lt;TableRow&gt;() {\n                    @Override\n                    public TableRow mapRow(ResultSet resultSet) {\n                        // Implements your logic here.\n                      \n                        return tableRow;\n                    }\n                )\n        );\n</code></pre>\n<p>I think <code>Dataflow</code> isn't the easier service to meet your need because you have to pass a schema to <code>BigQueryIO</code> to allows <code>Dataflow</code> to create the table with <code>CREATE_IF_NEEDED</code> option.</p>\n<p>The schema is passed with the following method : <a href=\"https://beam.apache.org/documentation/io/built-in/google-bigquery/\" rel=\"nofollow noreferrer\">withSchema(schema)</a>, example :</p>\n<pre class=\"lang-java prettyprint-override\"><code>  rows.apply(\n        &quot;Write to BigQuery&quot;,\n        BigQueryIO.writeTableRows()\n            .to(String.format(&quot;%s:%s.%s&quot;, project, dataset, table))\n            .withSchema(schema)\n            // For CreateDisposition:\n            // - CREATE_IF_NEEDED (default): creates the table if it doesn't exist, a schema is\n            // required\n            // - CREATE_NEVER: raises an error if the table doesn't exist, a schema is not needed\n            .withCreateDisposition(CreateDisposition.CREATE_IF_NEEDED)\n            // For WriteDisposition:\n            // - WRITE_EMPTY (default): raises an error if the table is not empty\n            // - WRITE_APPEND: appends new rows to existing rows\n            // - WRITE_TRUNCATE: deletes the existing rows before writing\n            .withWriteDisposition(WriteDisposition.WRITE_TRUNCATE));\n\n    // pipeline.run().waitUntilFinish();\n  }\n</code></pre>\n<p>That means in your case, you have to build the schema from the current <code>TableRow</code> in the <code>PCollection</code>.</p>\n<p>It's not easy to do that with <code>Beam</code>.\nIt would have been easier if you could have used a schema for your BigQuery table.</p>\n<p>I propose you another solution and approach :</p>\n<ul>\n<li>Export the <code>MS-SQL</code> data to <code>Cloud Storage</code></li>\n<li>Import the <code>Cloud Storage</code> files to <code>BigQuery</code> with <code>autodetect</code> mode to infer the schema from the file.</li>\n</ul>\n<p>You can add this logic in a <code>Shell</code> script if you want to automate this process with <code>gcloud</code> cli.</p>\n<p>Example to <a href=\"https://cloud.google.com/bigquery/docs/loading-data-cloud-storage-csv#appending_to_or_overwriting_a_table_with_csv_data\" rel=\"nofollow noreferrer\">load</a> <code>GCS</code> file to <code>BigQuery</code> :</p>\n<pre class=\"lang-bash prettyprint-override\"><code> bq load \\\n    --autodetect \\\n    --replace \\\n    --source_format=CSV \\\n    mydataset.mytable \\\n    gs://mybucket/mydata.csv\n</code></pre>\n"},{"comments":[{"owner":{"account_id":28006010,"reputation":11,"user_id":21389410,"display_name":"Maksym Shevchenko"},"score":0,"creation_date":1680688043,"post_id":75928797,"comment_id":133939051,"body_markdown":"Alternatively - you can lookup a &quot;generic&quot; mapper implementation from google right here, this is repo with google-provided template samples. https://github.com/GoogleCloudPlatform/DataflowTemplates/blob/8dd485db028c2313ebfd332ef8607810d1f3640c/v1/src/main/java/com/google/cloud/teleport/templates/common/JdbcConverters.java","body":"Alternatively - you can lookup a &quot;generic&quot; mapper implementation from google right here, this is repo with google-provided template samples. <a href=\"https://github.com/GoogleCloudPlatform/DataflowTemplates/blob/8dd485db028c2313ebfd332ef8607810d1f3640c/v1/src/main/java/com/google/cloud/teleport/templates/common/JdbcConverters.java\" rel=\"nofollow noreferrer\">github.com/GoogleCloudPlatform/DataflowTemplates/blob/&hellip;</a>"}],"tags":[],"owner":{"account_id":28006010,"reputation":11,"user_id":21389410,"display_name":"Maksym Shevchenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680607623,"creation_date":1680607623,"answer_id":75928797,"question_id":75063068,"body_markdown":"Sharing my solution for a somewhat similar case. If you are using beam in GCP&#39;s Dataflow, you can create so-called Flex-template, which allows to dynamically build &quot;pipeline graph&quot; based on input parameters. So by extending DataflowPipelineOptions interface you can specify your own parameters that you will set during job creation stage.\r\n```public interface JDBCToBQPipelineOptions extends DataflowPipelineOptions {\r\n    @Description(&quot;List of Tables and corresponding columns to partition by (format: TABLENAME:PARTITIONCOLUMN;TABLENAME:PARTITIONCOLUMN)&quot;)\r\n    String getTableNames();\r\n\r\n    void setTableNames(String value);\r\n}\r\n```\r\nThen by using readWithPartitions() (which essentially just makes a series of paginated queries by column you specify withPartitionColumn) you could call withRowOutput() from which during next step of writing to bq it can infer a schema from beam by calling .useBeamSchema().\r\n```\r\npublic static void main(String[] args) throws Exception {\r\n    JDBCToBQPipelineOptions options = PipelineOptionsFactory.fromArgs(args).withValidation()\r\n        .as(JDBCToBQPipelineOptions.class);\r\n    Pipeline p = Pipeline.create(options);\r\n    Set&lt;SchemaUpdateOption&gt; schema_options = Set.of(SchemaUpdateOption.ALLOW_FIELD_ADDITION,\r\n        SchemaUpdateOption.ALLOW_FIELD_RELAXATION);\r\n\r\n    for (String table : options.getTableNames().split(&quot;;&quot;)) {\r\n      String[] tableMeta = table.split(&quot;:&quot;);// tableMeta[0] is tableName, tableMeta[1] is column to partition query by\r\n\r\n      PCollection&lt;GenericRecord&gt; records = p.apply(\r\n          JdbcIO.&lt;GenericRecord&gt;readWithPartitions()\r\n              .withDataSourceProviderFn(JdbcIO.PoolableDataSourceProvider.of(\r\n                  JdbcIO.DataSourceConfiguration.create({DRIVER CLASS NAME HERE}, {JDBC_URL_HERE})\r\n                      .withUsername({USERNAME HERE})\r\n                      .withPassword({PASSWORDHERE})\r\n                      .withConnectionProperties({CONNECTION PROPS HERE})))\r\n              .withTable(tableMeta[0])\r\n              .withPartitionColumn(tableMeta[1])\r\n              .withNumPartitions(options.getNumPartitions())\r\n              .withRowOutput()\r\n      // step 2 write to BigQuery\r\n      );\r\n      records.apply(\r\n          BigQueryIO.&lt;GenericRecord&gt;write()\r\n              .to({YOUR BQ DESTINATEION HERE}+&quot;.&quot;+tableMeta[0])\r\n              .withExtendedErrorInfo()\r\n              .useBeamSchema()\r\n              .withSchemaUpdateOptions(schema_options)\r\n              .withCreateDisposition(BigQueryIO.Write.CreateDisposition.CREATE_IF_NEEDED)\r\n              .withWriteDisposition(BigQueryIO.Write.WriteDisposition.WRITE_APPEND));\r\n    }\r\n    p.run();\r\n  }\r\n```\r\nMake sure that during Flex template creation you specify \r\n`ENV FLEX_TEMPLATE_JAVA_MAIN_CLASS` and `ENV FLEX_TEMPLATE_JAVA_CLASSPATH` in your docker file that you would build an image from and `COPY target/YOURJARNAME.jar ${FLEX_TEMPLATE_JAVA_CLASSPATH}`to make sure that fat/uber jar is packaged. \r\nFat jar can be generated by running `mvn clean package` and having maven-shade-plugin included in your pom.xml plugin configs","title":"Dataflow JDBCIO Read with Generic Row Mapper","body":"<p>Sharing my solution for a somewhat similar case. If you are using beam in GCP's Dataflow, you can create so-called Flex-template, which allows to dynamically build &quot;pipeline graph&quot; based on input parameters. So by extending DataflowPipelineOptions interface you can specify your own parameters that you will set during job creation stage.</p>\n<pre><code>    @Description(&quot;List of Tables and corresponding columns to partition by (format: TABLENAME:PARTITIONCOLUMN;TABLENAME:PARTITIONCOLUMN)&quot;)\n    String getTableNames();\n\n    void setTableNames(String value);\n}\n</code></pre>\n<p>Then by using readWithPartitions() (which essentially just makes a series of paginated queries by column you specify withPartitionColumn) you could call withRowOutput() from which during next step of writing to bq it can infer a schema from beam by calling .useBeamSchema().</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    JDBCToBQPipelineOptions options = PipelineOptionsFactory.fromArgs(args).withValidation()\n        .as(JDBCToBQPipelineOptions.class);\n    Pipeline p = Pipeline.create(options);\n    Set&lt;SchemaUpdateOption&gt; schema_options = Set.of(SchemaUpdateOption.ALLOW_FIELD_ADDITION,\n        SchemaUpdateOption.ALLOW_FIELD_RELAXATION);\n\n    for (String table : options.getTableNames().split(&quot;;&quot;)) {\n      String[] tableMeta = table.split(&quot;:&quot;);// tableMeta[0] is tableName, tableMeta[1] is column to partition query by\n\n      PCollection&lt;GenericRecord&gt; records = p.apply(\n          JdbcIO.&lt;GenericRecord&gt;readWithPartitions()\n              .withDataSourceProviderFn(JdbcIO.PoolableDataSourceProvider.of(\n                  JdbcIO.DataSourceConfiguration.create({DRIVER CLASS NAME HERE}, {JDBC_URL_HERE})\n                      .withUsername({USERNAME HERE})\n                      .withPassword({PASSWORDHERE})\n                      .withConnectionProperties({CONNECTION PROPS HERE})))\n              .withTable(tableMeta[0])\n              .withPartitionColumn(tableMeta[1])\n              .withNumPartitions(options.getNumPartitions())\n              .withRowOutput()\n      // step 2 write to BigQuery\n      );\n      records.apply(\n          BigQueryIO.&lt;GenericRecord&gt;write()\n              .to({YOUR BQ DESTINATEION HERE}+&quot;.&quot;+tableMeta[0])\n              .withExtendedErrorInfo()\n              .useBeamSchema()\n              .withSchemaUpdateOptions(schema_options)\n              .withCreateDisposition(BigQueryIO.Write.CreateDisposition.CREATE_IF_NEEDED)\n              .withWriteDisposition(BigQueryIO.Write.WriteDisposition.WRITE_APPEND));\n    }\n    p.run();\n  }\n</code></pre>\n<p>Make sure that during Flex template creation you specify\n<code>ENV FLEX_TEMPLATE_JAVA_MAIN_CLASS</code> and <code>ENV FLEX_TEMPLATE_JAVA_CLASSPATH</code> in your docker file that you would build an image from and <code>COPY target/YOURJARNAME.jar ${FLEX_TEMPLATE_JAVA_CLASSPATH}</code>to make sure that fat/uber jar is packaged.\nFat jar can be generated by running <code>mvn clean package</code> and having maven-shade-plugin included in your pom.xml plugin configs</p>\n"}],"owner":{"account_id":18604807,"reputation":75,"user_id":13558695,"display_name":"Ben Delany"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":467,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680607623,"creation_date":1673299425,"question_id":75063068,"body_markdown":"I&#39;m using a Dataflow job to read from a MS-SQL database and write the results to a Big Query table. The purpose of the Dataflow job is to be able to create tables with different schemas based on whatever query was run. I can&#39;t find a way to set up a generic Row Mapper when doing the JDBCIO read, and was hoping there was a standard way to create a row to write to Big Query based on the schema of the rows returned in the JDBCIO.read ResultSet.\r\n\r\nI get the following error when I don&#39;t include the RowMapper in my query definition:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: withRowMapper() is required\tat org.apache.beam.vendor.guava.v26_0_jre.com.google.common.base.Preconditions.checkArgument(Preconditions.java:141)\r\n     \tat org.apache.beam.sdk.io.jdbc.JdbcIO$Read.expand(JdbcIO.java:810)\r\n     \tat org.apache.beam.sdk.io.jdbc.JdbcIO$Read.expand(JdbcIO.java:711)\r\n     \tat org.apache.beam.sdk.Pipeline.applyInternal(Pipeline.java:548)\r\n     \tat org.apache.beam.sdk.Pipeline.applyTransform(Pipeline.java:499)\r\n    \tat org.apache.beam.sdk.values.PBegin.apply(PBegin.java:56)\r\n     \tat org.apache.beam.sdk.Pipeline.apply(Pipeline.java:192)\r\n     \tat edu.mayo.mcc.aide.sqaTransfer.SqaTransfer.buildPipeline(SqaTransfer.java:81)\r\n     \tat edu.mayo.mcc.aide.sqaTransfer.SqaTransfer.main(SqaTransfer.java:66)\r\n\r\nI am trying to writeandrea based on the following setup:\r\n\r\n    PCollection&lt;TableRow&gt; results = pipeline\r\n            .apply(&quot;Connect&quot;, JdbcIO.&lt;TableRow&gt;read()\r\n                    .withDataSourceConfiguration(buildDataSourceConfig(options, URL))\r\n                    .withQuery(query)\r\n                    .withRowMapper(&quot;WHAT NEEDS TO BE HERE TO CREATE A GENERIC ROW MAPPER&quot;));\r\n\r\n    results.apply(&quot;Write to BQ&quot;,\r\n            BigQueryIO.writeTableRows()\r\n                    .to(dataset)\r\n                    .withWriteDisposition(BigQueryIO.Write.WriteDisposition.WRITE_TRUNCATE)\r\n                    .withCreateDisposition(BigQueryIO.Write.CreateDisposition.CREATE_IF_NEEDED));\r\n","title":"Dataflow JDBCIO Read with Generic Row Mapper","body":"<p>I'm using a Dataflow job to read from a MS-SQL database and write the results to a Big Query table. The purpose of the Dataflow job is to be able to create tables with different schemas based on whatever query was run. I can't find a way to set up a generic Row Mapper when doing the JDBCIO read, and was hoping there was a standard way to create a row to write to Big Query based on the schema of the rows returned in the JDBCIO.read ResultSet.</p>\n<p>I get the following error when I don't include the RowMapper in my query definition:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: withRowMapper() is required  at org.apache.beam.vendor.guava.v26_0_jre.com.google.common.base.Preconditions.checkArgument(Preconditions.java:141)\n    at org.apache.beam.sdk.io.jdbc.JdbcIO$Read.expand(JdbcIO.java:810)\n    at org.apache.beam.sdk.io.jdbc.JdbcIO$Read.expand(JdbcIO.java:711)\n    at org.apache.beam.sdk.Pipeline.applyInternal(Pipeline.java:548)\n    at org.apache.beam.sdk.Pipeline.applyTransform(Pipeline.java:499)\n    at org.apache.beam.sdk.values.PBegin.apply(PBegin.java:56)\n    at org.apache.beam.sdk.Pipeline.apply(Pipeline.java:192)\n    at edu.mayo.mcc.aide.sqaTransfer.SqaTransfer.buildPipeline(SqaTransfer.java:81)\n    at edu.mayo.mcc.aide.sqaTransfer.SqaTransfer.main(SqaTransfer.java:66)\n</code></pre>\n<p>I am trying to writeandrea based on the following setup:</p>\n<pre><code>PCollection&lt;TableRow&gt; results = pipeline\n        .apply(&quot;Connect&quot;, JdbcIO.&lt;TableRow&gt;read()\n                .withDataSourceConfiguration(buildDataSourceConfig(options, URL))\n                .withQuery(query)\n                .withRowMapper(&quot;WHAT NEEDS TO BE HERE TO CREATE A GENERIC ROW MAPPER&quot;));\n\nresults.apply(&quot;Write to BQ&quot;,\n        BigQueryIO.writeTableRows()\n                .to(dataset)\n                .withWriteDisposition(BigQueryIO.Write.WriteDisposition.WRITE_TRUNCATE)\n                .withCreateDisposition(BigQueryIO.Write.CreateDisposition.CREATE_IF_NEEDED));\n</code></pre>\n"},{"tags":["java","amazon-web-services","apache-spark","docker-compose","apache-spark-sql"],"owner":{"account_id":18241934,"reputation":27,"user_id":13278816,"display_name":"Maxim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680607445,"creation_date":1680607445,"question_id":75928769,"body_markdown":"Installed a docker compose spark (1 mast and 2 workers) on the environment aws. It seems that there are no errors. I start to perform transformations and get errors.\r\n\r\n    Dataset&lt;Row&gt; parent= findSuperParent();\r\n    parent.show(false); //problem part\r\n\r\nconfiguration of connection to external spark aws\r\n\r\n        private static SparkSession getSession() {\r\n            return SparkSession.builder()\r\n                    .config(buildSparkConf())\r\n                    .getOrCreate();\r\n        }\r\n    \r\n        public static SparkConf buildSparkConf() {\r\n            return new SparkConf()\r\n                    .setMaster(&quot;spark://aws.vm:9013&quot;)\r\n                    .setAppName(&quot;test&quot;)\r\n                    .set(&quot;spark.local.ip&quot;,&quot;aws.vm&quot;)\r\n                    .set(&quot;spark.driver.bindAddress&quot;, &quot;0.0.0.0&quot;)\r\n                    .set(&quot;spark.driver.port&quot;, &quot;9360&quot;)\r\n                    .set(&quot;spark.blockManager.port&quot;, &quot;9260&quot;)\r\n                    .set(&quot;spark.driver.host&quot;,&quot;aws.vm&quot;);\r\n        }\r\n\r\ndocker-compose log error\r\n\r\n    23/04/04 09:34:25 INFO Worker: Executor app-20230404093401-0002/12 finished with state EXITED message Command exited with code 1 exitStatus 1\r\n\r\nЛоги воркера\r\n\r\n    Spark Executor Command: &quot;/usr/local/openjdk-11/bin/java&quot; &quot;-cp&quot; &quot;/opt/spark/conf/:/opt/spark/jars/*&quot; &quot;-Xmx1024M&quot; &quot;-Dspark.blockManager.port=9260&quot; &quot;-Dspark.driver.port=9360&quot; &quot;-XX:+IgnoreUnrecognizedVMOptions&quot; &quot;--add-opens=java.base/java.lang=ALL-UNNAMED&quot; &quot;--add-opens=java.base/java.lang.invoke=ALL-UNNAMED&quot; &quot;--add-opens=java.base/java.lang.reflect=ALL-UNNAMED&quot; &quot;--add-opens=java.base/java.io=ALL-UNNAMED&quot; &quot;--add-opens=java.base/java.net=ALL-UNNAMED&quot; &quot;--add-opens=java.base/java.nio=ALL-UNNAMED&quot; &quot;--add-opens=java.base/java.util=ALL-UNNAMED&quot; &quot;--add-opens=java.base/java.util.concurrent=ALL-UNNAMED&quot; &quot;--add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED&quot; &quot;--add-opens=java.base/sun.nio.ch=ALL-UNNAMED&quot; &quot;--add-opens=java.base/sun.nio.cs=ALL-UNNAMED&quot; &quot;--add-opens=java.base/sun.security.action=ALL-UNNAMED&quot; &quot;--add-opens=java.base/sun.util.calendar=ALL-UNNAMED&quot; &quot;--add-opens=java.security.jgss/sun.security.krb5=ALL-UNNAMED&quot; &quot;org.apache.spark.executor.CoarseGrainedExecutorBackend&quot; &quot;--driver-url&quot; &quot;spark://CoarseGrainedScheduler@aws.vm:9360&quot; &quot;--executor-id&quot; &quot;17&quot; &quot;--hostname&quot; &quot;172.27.0.3&quot; &quot;--cores&quot; &quot;4&quot; &quot;--app-id&quot; &quot;app-20230404092351-0000&quot; &quot;--worker-url&quot; &quot;spark://Worker@172.27.0.3:7000&quot;\r\n    ========================================\r\n    \r\n    Using Spark&#39;s default log4j profile: org/apache/spark/log4j2-defaults.properties\r\n    Exception in thread &quot;main&quot; java.lang.reflect.UndeclaredThrowableException\r\n    \tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1894)\r\n    \tat org.apache.spark.deploy.SparkHadoopUtil.runAsSparkUser(SparkHadoopUtil.scala:61)\r\n    \tat org.apache.spark.executor.CoarseGrainedExecutorBackend$.run(CoarseGrainedExecutorBackend.scala:424)\r\n    \tat org.apache.spark.executor.CoarseGrainedExecutorBackend$.main(CoarseGrainedExecutorBackend.scala:413)\r\n    \tat org.apache.spark.executor.CoarseGrainedExecutorBackend.main(CoarseGrainedExecutorBackend.scala)\r\n    Caused by: org.apache.spark.SparkException: Exception thrown in awaitResult: \r\n    \tat org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:301)\r\n    \tat org.apache.spark.rpc.RpcTimeout.awaitResult(RpcTimeout.scala:75)\r\n    \tat org.apache.spark.rpc.RpcEnv.setupEndpointRefByURI(RpcEnv.scala:102)\r\n    \tat org.apache.spark.executor.CoarseGrainedExecutorBackend$.$anonfun$run$9(CoarseGrainedExecutorBackend.scala:444)\r\n    \tat scala.runtime.java8.JFunction1$mcVI$sp.apply(JFunction1$mcVI$sp.java:23)\r\n    \tat scala.collection.TraversableLike$WithFilter.$anonfun$foreach$1(TraversableLike.scala:985)\r\n    \tat scala.collection.immutable.Range.foreach(Range.scala:158)\r\n    \tat scala.collection.TraversableLike$WithFilter.foreach(TraversableLike.scala:984)\r\n    \tat org.apache.spark.executor.CoarseGrainedExecutorBackend$.$anonfun$run$7(CoarseGrainedExecutorBackend.scala:442)\r\n    \tat org.apache.spark.deploy.SparkHadoopUtil$$anon$1.run(SparkHadoopUtil.scala:62)\r\n    \tat org.apache.spark.deploy.SparkHadoopUtil$$anon$1.run(SparkHadoopUtil.scala:61)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.base/javax.security.auth.Subject.doAs(Unknown Source)\r\n    \tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)\r\n    \t... 4 more\r\n    Caused by: java.io.IOException: Failed to send RPC RPC 5982816651850008497 to aws.vm/hidden-ip:9360: io.netty.channel.StacklessClosedChannelException\r\n    \tat org.apache.spark.network.client.TransportClient$RpcChannelListener.handleFailure(TransportClient.java:392)\r\n    \tat org.apache.spark.network.client.TransportClient$StdChannelListener.operationComplete(TransportClient.java:369)\r\n    \tat io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)\r\n    \tat io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:552)\r\n    \tat io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)\r\n    \tat io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616)\r\n    \tat io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:609)\r\n    \tat io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:117)\r\n    \tat io.netty.channel.AbstractChannel$AbstractUnsafe.safeSetFailure(AbstractChannel.java:999)\r\n    \tat io.netty.channel.AbstractChannel$AbstractUnsafe.write(AbstractChannel.java:860)\r\n    \tat io.netty.channel.DefaultChannelPipeline$HeadContext.write(DefaultChannelPipeline.java:1367)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeWrite0(AbstractChannelHandlerContext.java:717)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeWrite(AbstractChannelHandlerContext.java:709)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:792)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:702)\r\n    \tat io.netty.handler.codec.MessageToMessageEncoder.write(MessageToMessageEncoder.java:110)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeWrite0(AbstractChannelHandlerContext.java:717)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeWrite(AbstractChannelHandlerContext.java:709)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:792)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:702)\r\n    \tat io.netty.handler.timeout.IdleStateHandler.write(IdleStateHandler.java:302)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeWrite0(AbstractChannelHandlerContext.java:717)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeWriteAndFlush(AbstractChannelHandlerContext.java:764)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext$WriteTask.run(AbstractChannelHandlerContext.java:1071)\r\n    \tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:469)\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    \tat java.base/java.lang.Thread.run(Unknown Source)\r\n    Caused by: io.netty.channel.StacklessClosedChannelException\r\n    \tat io.netty.channel.AbstractChannel$AbstractUnsafe.write(Object, ChannelPromise)(Unknown Source)\r\n\r\ndocker-compose\r\n\r\n    version: &quot;3.3&quot;\r\n    services:\r\n      spark-master:\r\n        image: cluster-apache-spark:3.3.1\r\n        mem_limit: 1024m\r\n        cpus: 1\r\n        ports:\r\n          - &quot;9090:8080&quot;\r\n          - &quot;9013:9013&quot;\r\n          - &quot;9260:9260&quot;\r\n          - &quot;9360:9360&quot;\r\n        volumes:\r\n          - ./apps:/opt/spark-apps\r\n          - ./data:/opt/spark-data\r\n        environment:\r\n          - SPARK_LOCAL_IP=spark-master\r\n          - SPARK_WORKLOAD=master\r\n          - SPARK_MASTER_PORT=9013\r\n      spark-worker-a:\r\n        image: cluster-apache-spark:3.3.1\r\n        mem_limit: 3072m\r\n        cpus: 1\r\n        ports:\r\n          - &quot;9091:8080&quot;\r\n          - &quot;7000:7000&quot;\r\n        depends_on:\r\n          - spark-master\r\n        environment:\r\n          - SPARK_MASTER=spark://spark-master:9013\r\n          - SPARK_WORKER_CORES=4\r\n          - SPARK_WORKER_MEMORY=3G\r\n          - SPARK_DRIVER_MEMORY=3G\r\n          - SPARK_EXECUTOR_MEMORY=3G\r\n          - SPARK_WORKLOAD=worker\r\n          - SPARK_LOCAL_IP=spark-worker-a\r\n    volumes:\r\n          - ./apps:/opt/spark-apps\r\n          - ./data:/opt/spark-data\r\n      spark-worker-b:\r\n        image: cluster-apache-spark:3.3.1\r\n        mem_limit: 3072m\r\n        cpus: 1\r\n        ports:\r\n          - &quot;9092:8080&quot;\r\n          - &quot;7001:7000&quot;\r\n        depends_on:\r\n          - spark-master\r\n        environment:\r\n          - SPARK_MASTER=spark://spark-master:9013\r\n          - SPARK_WORKER_CORES=4\r\n          - SPARK_WORKER_MEMORY=3G\r\n          - SPARK_DRIVER_MEMORY=3G\r\n          - SPARK_EXECUTOR_MEMORY=3G\r\n          - SPARK_WORKLOAD=worker\r\n          - SPARK_LOCAL_IP=spark-worker-b\r\n        volumes:\r\n          - ./apps:/opt/spark-apps\r\n          - ./data:/opt/spark-data\r\n\r\nI don&#39;t understand how to solve this problem &quot;Failed to send RPC&quot;, please tell me\r\n","title":"I get an error of incorrect operation of the spark on the AWS platform","body":"<p>Installed a docker compose spark (1 mast and 2 workers) on the environment aws. It seems that there are no errors. I start to perform transformations and get errors.</p>\n<pre><code>Dataset&lt;Row&gt; parent= findSuperParent();\nparent.show(false); //problem part\n</code></pre>\n<p>configuration of connection to external spark aws</p>\n<pre><code>    private static SparkSession getSession() {\n        return SparkSession.builder()\n                .config(buildSparkConf())\n                .getOrCreate();\n    }\n\n    public static SparkConf buildSparkConf() {\n        return new SparkConf()\n                .setMaster(&quot;spark://aws.vm:9013&quot;)\n                .setAppName(&quot;test&quot;)\n                .set(&quot;spark.local.ip&quot;,&quot;aws.vm&quot;)\n                .set(&quot;spark.driver.bindAddress&quot;, &quot;0.0.0.0&quot;)\n                .set(&quot;spark.driver.port&quot;, &quot;9360&quot;)\n                .set(&quot;spark.blockManager.port&quot;, &quot;9260&quot;)\n                .set(&quot;spark.driver.host&quot;,&quot;aws.vm&quot;);\n    }\n</code></pre>\n<p>docker-compose log error</p>\n<pre><code>23/04/04 09:34:25 INFO Worker: Executor app-20230404093401-0002/12 finished with state EXITED message Command exited with code 1 exitStatus 1\n</code></pre>\n<p>Логи воркера</p>\n<pre><code>Spark Executor Command: &quot;/usr/local/openjdk-11/bin/java&quot; &quot;-cp&quot; &quot;/opt/spark/conf/:/opt/spark/jars/*&quot; &quot;-Xmx1024M&quot; &quot;-Dspark.blockManager.port=9260&quot; &quot;-Dspark.driver.port=9360&quot; &quot;-XX:+IgnoreUnrecognizedVMOptions&quot; &quot;--add-opens=java.base/java.lang=ALL-UNNAMED&quot; &quot;--add-opens=java.base/java.lang.invoke=ALL-UNNAMED&quot; &quot;--add-opens=java.base/java.lang.reflect=ALL-UNNAMED&quot; &quot;--add-opens=java.base/java.io=ALL-UNNAMED&quot; &quot;--add-opens=java.base/java.net=ALL-UNNAMED&quot; &quot;--add-opens=java.base/java.nio=ALL-UNNAMED&quot; &quot;--add-opens=java.base/java.util=ALL-UNNAMED&quot; &quot;--add-opens=java.base/java.util.concurrent=ALL-UNNAMED&quot; &quot;--add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED&quot; &quot;--add-opens=java.base/sun.nio.ch=ALL-UNNAMED&quot; &quot;--add-opens=java.base/sun.nio.cs=ALL-UNNAMED&quot; &quot;--add-opens=java.base/sun.security.action=ALL-UNNAMED&quot; &quot;--add-opens=java.base/sun.util.calendar=ALL-UNNAMED&quot; &quot;--add-opens=java.security.jgss/sun.security.krb5=ALL-UNNAMED&quot; &quot;org.apache.spark.executor.CoarseGrainedExecutorBackend&quot; &quot;--driver-url&quot; &quot;spark://CoarseGrainedScheduler@aws.vm:9360&quot; &quot;--executor-id&quot; &quot;17&quot; &quot;--hostname&quot; &quot;172.27.0.3&quot; &quot;--cores&quot; &quot;4&quot; &quot;--app-id&quot; &quot;app-20230404092351-0000&quot; &quot;--worker-url&quot; &quot;spark://Worker@172.27.0.3:7000&quot;\n========================================\n\nUsing Spark's default log4j profile: org/apache/spark/log4j2-defaults.properties\nException in thread &quot;main&quot; java.lang.reflect.UndeclaredThrowableException\n    at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1894)\n    at org.apache.spark.deploy.SparkHadoopUtil.runAsSparkUser(SparkHadoopUtil.scala:61)\n    at org.apache.spark.executor.CoarseGrainedExecutorBackend$.run(CoarseGrainedExecutorBackend.scala:424)\n    at org.apache.spark.executor.CoarseGrainedExecutorBackend$.main(CoarseGrainedExecutorBackend.scala:413)\n    at org.apache.spark.executor.CoarseGrainedExecutorBackend.main(CoarseGrainedExecutorBackend.scala)\nCaused by: org.apache.spark.SparkException: Exception thrown in awaitResult: \n    at org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:301)\n    at org.apache.spark.rpc.RpcTimeout.awaitResult(RpcTimeout.scala:75)\n    at org.apache.spark.rpc.RpcEnv.setupEndpointRefByURI(RpcEnv.scala:102)\n    at org.apache.spark.executor.CoarseGrainedExecutorBackend$.$anonfun$run$9(CoarseGrainedExecutorBackend.scala:444)\n    at scala.runtime.java8.JFunction1$mcVI$sp.apply(JFunction1$mcVI$sp.java:23)\n    at scala.collection.TraversableLike$WithFilter.$anonfun$foreach$1(TraversableLike.scala:985)\n    at scala.collection.immutable.Range.foreach(Range.scala:158)\n    at scala.collection.TraversableLike$WithFilter.foreach(TraversableLike.scala:984)\n    at org.apache.spark.executor.CoarseGrainedExecutorBackend$.$anonfun$run$7(CoarseGrainedExecutorBackend.scala:442)\n    at org.apache.spark.deploy.SparkHadoopUtil$$anon$1.run(SparkHadoopUtil.scala:62)\n    at org.apache.spark.deploy.SparkHadoopUtil$$anon$1.run(SparkHadoopUtil.scala:61)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at java.base/javax.security.auth.Subject.doAs(Unknown Source)\n    at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)\n    ... 4 more\nCaused by: java.io.IOException: Failed to send RPC RPC 5982816651850008497 to aws.vm/hidden-ip:9360: io.netty.channel.StacklessClosedChannelException\n    at org.apache.spark.network.client.TransportClient$RpcChannelListener.handleFailure(TransportClient.java:392)\n    at org.apache.spark.network.client.TransportClient$StdChannelListener.operationComplete(TransportClient.java:369)\n    at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)\n    at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:552)\n    at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)\n    at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616)\n    at io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:609)\n    at io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:117)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe.safeSetFailure(AbstractChannel.java:999)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe.write(AbstractChannel.java:860)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.write(DefaultChannelPipeline.java:1367)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeWrite0(AbstractChannelHandlerContext.java:717)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeWrite(AbstractChannelHandlerContext.java:709)\n    at io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:792)\n    at io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:702)\n    at io.netty.handler.codec.MessageToMessageEncoder.write(MessageToMessageEncoder.java:110)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeWrite0(AbstractChannelHandlerContext.java:717)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeWrite(AbstractChannelHandlerContext.java:709)\n    at io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:792)\n    at io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:702)\n    at io.netty.handler.timeout.IdleStateHandler.write(IdleStateHandler.java:302)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeWrite0(AbstractChannelHandlerContext.java:717)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeWriteAndFlush(AbstractChannelHandlerContext.java:764)\n    at io.netty.channel.AbstractChannelHandlerContext$WriteTask.run(AbstractChannelHandlerContext.java:1071)\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:469)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Unknown Source)\nCaused by: io.netty.channel.StacklessClosedChannelException\n    at io.netty.channel.AbstractChannel$AbstractUnsafe.write(Object, ChannelPromise)(Unknown Source)\n</code></pre>\n<p>docker-compose</p>\n<pre><code>version: &quot;3.3&quot;\nservices:\n  spark-master:\n    image: cluster-apache-spark:3.3.1\n    mem_limit: 1024m\n    cpus: 1\n    ports:\n      - &quot;9090:8080&quot;\n      - &quot;9013:9013&quot;\n      - &quot;9260:9260&quot;\n      - &quot;9360:9360&quot;\n    volumes:\n      - ./apps:/opt/spark-apps\n      - ./data:/opt/spark-data\n    environment:\n      - SPARK_LOCAL_IP=spark-master\n      - SPARK_WORKLOAD=master\n      - SPARK_MASTER_PORT=9013\n  spark-worker-a:\n    image: cluster-apache-spark:3.3.1\n    mem_limit: 3072m\n    cpus: 1\n    ports:\n      - &quot;9091:8080&quot;\n      - &quot;7000:7000&quot;\n    depends_on:\n      - spark-master\n    environment:\n      - SPARK_MASTER=spark://spark-master:9013\n      - SPARK_WORKER_CORES=4\n      - SPARK_WORKER_MEMORY=3G\n      - SPARK_DRIVER_MEMORY=3G\n      - SPARK_EXECUTOR_MEMORY=3G\n      - SPARK_WORKLOAD=worker\n      - SPARK_LOCAL_IP=spark-worker-a\nvolumes:\n      - ./apps:/opt/spark-apps\n      - ./data:/opt/spark-data\n  spark-worker-b:\n    image: cluster-apache-spark:3.3.1\n    mem_limit: 3072m\n    cpus: 1\n    ports:\n      - &quot;9092:8080&quot;\n      - &quot;7001:7000&quot;\n    depends_on:\n      - spark-master\n    environment:\n      - SPARK_MASTER=spark://spark-master:9013\n      - SPARK_WORKER_CORES=4\n      - SPARK_WORKER_MEMORY=3G\n      - SPARK_DRIVER_MEMORY=3G\n      - SPARK_EXECUTOR_MEMORY=3G\n      - SPARK_WORKLOAD=worker\n      - SPARK_LOCAL_IP=spark-worker-b\n    volumes:\n      - ./apps:/opt/spark-apps\n      - ./data:/opt/spark-data\n</code></pre>\n<p>I don't understand how to solve this problem &quot;Failed to send RPC&quot;, please tell me</p>\n"},{"tags":["java","azure","azure-devops","azure-pipelines"],"answers":[{"comments":[{"owner":{"account_id":10421616,"reputation":4105,"user_id":11061080,"display_name":"SeleniumUser"},"score":0,"creation_date":1680607799,"post_id":75928745,"comment_id":133923465,"body_markdown":"I have tried this but no luck","body":"I have tried this but no luck"}],"tags":[],"owner":{"display_name":"anon"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680607306,"creation_date":1680607306,"answer_id":75928745,"question_id":75676614,"body_markdown":"Please check if the below findings helpful to resolve the issue:\r\n`System.getenv` method takes the string arguments and you could try the below syntax for getting the environment variable values in Java:\r\n\r\n```java\r\nString id = System.getenv(&quot; + &quot;env.id&quot; + &quot;);\r\nString password = System.getenv(&quot; + &quot;env.password&quot; + &quot;);\r\n```\r\n\r\n(OR)\r\n\r\n```java\r\n    System.out.printf(&quot;System.getenv(&quot;env_var&quot;);\r\n```\r\n\r\nRefer to this Similar SO [issue](https://stackoverflow.com/questions/59415072/how-do-you-access-azure-pipelines-variables-in-a-java-maven-project) for more information on accessing the azure pipelines variables using Java given by @*LeviLu-MSFT*.","title":"How to access pipeline variable through java code?","body":"<p>Please check if the below findings helpful to resolve the issue:\n<code>System.getenv</code> method takes the string arguments and you could try the below syntax for getting the environment variable values in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String id = System.getenv(&quot; + &quot;env.id&quot; + &quot;);\nString password = System.getenv(&quot; + &quot;env.password&quot; + &quot;);\n</code></pre>\n<p>(OR)</p>\n<pre class=\"lang-java prettyprint-override\"><code>    System.out.printf(&quot;System.getenv(&quot;env_var&quot;);\n</code></pre>\n<p>Refer to this Similar SO <a href=\"https://stackoverflow.com/questions/59415072/how-do-you-access-azure-pipelines-variables-in-a-java-maven-project\">issue</a> for more information on accessing the azure pipelines variables using Java given by @<em>LeviLu-MSFT</em>.</p>\n"}],"owner":{"account_id":10421616,"reputation":4105,"user_id":11061080,"display_name":"SeleniumUser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680607306,"creation_date":1678298295,"question_id":75676614,"body_markdown":"I am trying to access azure pipeline variables through java code but no luck. \r\n\r\nI am using below code to access **env.id** and **env.password**.\r\n\r\n    \r\n    public class Test {\r\n        public static void main(String[] args) {\r\n    \r\n        String id = System.getenv(&quot;${env.id}&quot;);\r\n        String password = System.getenv(&quot;${env.password}&quot;);\r\n    \r\n        System.out.printf(&quot;Enviornment Id:: &quot;+id );\r\n        System.out.printf(&quot;Enviornment Password :: &quot;+password );\r\n            \r\n        }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UeCuj.png","title":"How to access pipeline variable through java code?","body":"<p>I am trying to access azure pipeline variables through java code but no luck.</p>\n<p>I am using below code to access <strong>env.id</strong> and <strong>env.password</strong>.</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n\n    String id = System.getenv(&quot;${env.id}&quot;);\n    String password = System.getenv(&quot;${env.password}&quot;);\n\n    System.out.printf(&quot;Enviornment Id:: &quot;+id );\n    System.out.printf(&quot;Enviornment Password :: &quot;+password );\n        \n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/UeCuj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UeCuj.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660747080,"creation_date":1660747080,"answer_id":73390399,"question_id":73389743,"body_markdown":"&gt; It seems like it might be possible by creating a content provider?\r\n\r\nYes. You can create a signature-level permission and use that to protect access to any of the standard IPC options in Android, including `ContentProvider` and `Service`.\r\n\r\n&gt; Or is it possible to directly access the files, since I understand from the docs that they will be running with the same user / same process?\r\n\r\nNo, two apps signed by the same signing key to not run as the same user, let alone in the same process. `android:sharedUserId` has the apps run as the same user. This was never a great idea, is deprecated, and is likely to go away soon.\r\n\r\n&gt; It would be even better if it was possible to move the files (rather than copy) because we potentially have a lot of data and the user may not have enough disk space to copy the data.\r\n\r\nThat suggests that having two apps is a bug, not a feature, from the standpoint of the user. The closest you will be able to do to a &quot;move&quot; operation is &quot;delete-after-copy&quot;, so plan your copies to be as granular as possible so you can delete as you go.\r\n","title":"Android: access internal storage from another app with same signature","body":"<blockquote>\n<p>It seems like it might be possible by creating a content provider?</p>\n</blockquote>\n<p>Yes. You can create a signature-level permission and use that to protect access to any of the standard IPC options in Android, including <code>ContentProvider</code> and <code>Service</code>.</p>\n<blockquote>\n<p>Or is it possible to directly access the files, since I understand from the docs that they will be running with the same user / same process?</p>\n</blockquote>\n<p>No, two apps signed by the same signing key to not run as the same user, let alone in the same process. <code>android:sharedUserId</code> has the apps run as the same user. This was never a great idea, is deprecated, and is likely to go away soon.</p>\n<blockquote>\n<p>It would be even better if it was possible to move the files (rather than copy) because we potentially have a lot of data and the user may not have enough disk space to copy the data.</p>\n</blockquote>\n<p>That suggests that having two apps is a bug, not a feature, from the standpoint of the user. The closest you will be able to do to a &quot;move&quot; operation is &quot;delete-after-copy&quot;, so plan your copies to be as granular as possible so you can delete as you go.</p>\n"},{"tags":[],"owner":{"account_id":4137765,"reputation":119,"user_id":3394003,"display_name":"user3394003"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680607246,"creation_date":1680607246,"answer_id":75928733,"question_id":73389743,"body_markdown":"You may need to define a query for Android 11 (API level 30)\r\n\r\n    &lt;manifest package=&quot;com.example.app&quot;&gt;\r\n      &lt;queries&gt;\r\n        &lt;!-- Specific apps you interact with, eg: --&gt;\r\n        &lt;package android:name=&quot;com.example.service&quot; /&gt;\r\n      &lt;/queries&gt;\r\n      ...\r\n    &lt;/manifest&gt;\r\n\r\n","title":"Android: access internal storage from another app with same signature","body":"<p>You may need to define a query for Android 11 (API level 30)</p>\n<pre><code>&lt;manifest package=&quot;com.example.app&quot;&gt;\n  &lt;queries&gt;\n    &lt;!-- Specific apps you interact with, eg: --&gt;\n    &lt;package android:name=&quot;com.example.service&quot; /&gt;\n  &lt;/queries&gt;\n  ...\n&lt;/manifest&gt;\n</code></pre>\n"}],"owner":{"account_id":532195,"reputation":91,"user_id":903300,"display_name":"Gregor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73390399,"answer_count":2,"score":2,"last_activity_date":1680607246,"creation_date":1660744454,"question_id":73389743,"body_markdown":"Context: I have two apps, both signed with the same signature. The first app has data stored in internal storage that I would like to migrate to the second app.\r\n\r\nQuestion: How can I access the data in the first app from the second app? The Android documentation makes reference to &quot;signature permissions&quot; (https://developer.android.com/guide/topics/permissions/overview#signature and https://developer.android.com/training/articles/security-tips#StoringData) and hints that it is possible to share data between apps with the same signature, but I cannot find clear guidelines about how to do this.\r\n\r\nIt seems like it might be possible by creating a content provider? Or is it possible to directly access the files, since I understand from the docs that they will be running with the same user / same process?\r\n\r\nIdeally this process can happen with minimal intervention from the user, and can all happen from the second app (e.g. the second app can recognize that the first app is installed, prompt the user to migrate, and then read the data from the first app and move it to the second). It would be even better if it was possible to move the files (rather than copy) because we potentially have a lot of data and the user may not have enough disk space to copy the data.\r\n\r\n","title":"Android: access internal storage from another app with same signature","body":"<p>Context: I have two apps, both signed with the same signature. The first app has data stored in internal storage that I would like to migrate to the second app.</p>\n<p>Question: How can I access the data in the first app from the second app? The Android documentation makes reference to &quot;signature permissions&quot; (<a href=\"https://developer.android.com/guide/topics/permissions/overview#signature\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/permissions/overview#signature</a> and <a href=\"https://developer.android.com/training/articles/security-tips#StoringData\" rel=\"nofollow noreferrer\">https://developer.android.com/training/articles/security-tips#StoringData</a>) and hints that it is possible to share data between apps with the same signature, but I cannot find clear guidelines about how to do this.</p>\n<p>It seems like it might be possible by creating a content provider? Or is it possible to directly access the files, since I understand from the docs that they will be running with the same user / same process?</p>\n<p>Ideally this process can happen with minimal intervention from the user, and can all happen from the second app (e.g. the second app can recognize that the first app is installed, prompt the user to migrate, and then read the data from the first app and move it to the second). It would be even better if it was possible to move the files (rather than copy) because we potentially have a lot of data and the user may not have enough disk space to copy the data.</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1680602230,"post_id":75927855,"comment_id":133922163,"body_markdown":"Your mock of the returned time looks weird to me, have you tried `when(mockedLocalDateTime.withZoneSameInstant(any())).thenReturn(zonedDateTime)`?","body":"Your mock of the returned time looks weird to me, have you tried <code>when(mockedLocalDateTime.withZoneSameInstant(any())).thenRet&zwnj;&#8203;urn(zonedDateTime)</code>?"},{"owner":{"account_id":28211359,"reputation":1,"user_id":21563558,"display_name":"Burane"},"score":0,"creation_date":1680606356,"post_id":75927855,"comment_id":133923119,"body_markdown":"yes the way i have done it was wrong\nBut i&#39;ve got my problem resolved by using CALL_REALS_MAETHODS as mock parameters (see edit below)","body":"yes the way i have done it was wrong But i&#39;ve got my problem resolved by using CALL_REALS_MAETHODS as mock parameters (see edit below)"}],"owner":{"account_id":28211359,"reputation":1,"user_id":21563558,"display_name":"Burane"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680606422,"creation_date":1680601347,"question_id":75927855,"body_markdown":"I&#39;m using mockito to mock ZonedDateTime.now() in my tests i have a mapper that map a ZonedDateTime to a OffsetDateTime. but when i call zonedDateTime.withZoneSameInstant(ZoneOffset.UTC) the return value is always null (zonedDateTime) is not null.\r\n\r\n\r\nMy mapper (using mapstruct)\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;, nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.SET_TO_NULL)\r\npublic interface OffsetDateTimeMapper {\r\n\r\n    default OffsetDateTime mapZonedDateTimeToOffsetDateTime(@NotNull ZonedDateTime zonedDateTime) {\r\n        System.out.println(zonedDateTime); // print 2021-03-06T14:05Z[UTC]\r\n        System.out.println(zonedDateTime.withZoneSameInstant(ZoneOffset.UTC)); // print null\r\n        return zonedDateTime.withZoneSameInstant(ZoneOffset.UTC).toOffsetDateTime();\r\n    }\r\n}\r\n```\r\n\r\nMy mock for tests\r\n\r\n```java\r\n    @NotNull\r\n    private static MockedStatic&lt;ZonedDateTime&gt; getZonedDateTimeMockedStatic(String isoTimeString) {\r\n        ZonedDateTime zonedDateTime = ZonedDateTime.parse(isoTimeString);\r\n\r\n        MockedStatic&lt;ZonedDateTime&gt; mockedLocalDateTime = mockStatic(ZonedDateTime.class);\r\n        mockedLocalDateTime.when(() -&gt; ZonedDateTime.now(any(ZoneId.class))).thenReturn(zonedDateTime);\r\n        mockedLocalDateTime\r\n                .when(() -&gt; any(ZonedDateTime.class).withZoneSameInstant(ZoneOffset.UTC))\r\n                .thenReturn(zonedDateTime); // this seems to do nothing\r\n        return mockedLocalDateTime;\r\n    }\r\n```\r\n\r\na test method\r\n```java\r\n    @Test\r\n    void should_return_empty() {\r\n        // given\r\n        ContainerRequest containerRequest = ContainerRequest.builder().containerNumber(&quot;TGBU6795701&quot;).build();\r\n\r\n        // when\r\n        MockedStatic&lt;ZonedDateTime&gt; mockedLocalDateTime = getZonedDateTimeMockedStatic(&quot;2021-03-01T18:35:24.00Z&quot;);\r\n        when(mockContainerDetailsProviderService.getContainerInfos(containerRequest)).thenReturn(\r\n                optionalContainerDetailsResponseFromJson(&quot;responses/EmptyContainerDetails.json&quot;));\r\n        Optional&lt;ContainerEtaResponseDto&gt; result = etaService.getEtaByContainer(&quot;TGBU6795701&quot;);\r\n        mockedLocalDateTime.close();\r\n\r\n        // then\r\n        assertTrue(result.isEmpty());\r\n    }\r\n```\r\n\r\n\r\n\r\nIf i change my\r\n        return zonedDateTime.withZoneSameInstant(ZoneOffset.UTC).toOffsetDateTime();\r\nto\r\n        return zonedDateTime.toOffsetDateTime();\r\nIt work well but it seems to be not the correct way to convert a ZonedDateTime to a OffsetDateTime\r\n\r\nI think my mock is the problem but i cant find a way to make it works.\r\n\r\nEDIT: \r\nIt work by using CALL_REALS_MAETHODS as mock parameters\r\n\r\n```java\r\n    @NotNull\r\n    private static MockedStatic&lt;ZonedDateTime&gt; getZonedDateTimeMockedStatic(String isoTimeString) {\r\n        ZonedDateTime zonedDateTime = ZonedDateTime.parse(isoTimeString);\r\n\r\n        MockedStatic&lt;ZonedDateTime&gt; mockedLocalDateTime = mockStatic(ZonedDateTime.class, CALLS_REAL_METHODS);\r\n        mockedLocalDateTime.when(() -&gt; ZonedDateTime.now(any(ZoneId.class))).thenReturn(zonedDateTime);\r\n        return mockedLocalDateTime;\r\n    }\r\n```\r\n","title":"ZonedDateTime method withZoneSameInstant always return null when mocked","body":"<p>I'm using mockito to mock ZonedDateTime.now() in my tests i have a mapper that map a ZonedDateTime to a OffsetDateTime. but when i call zonedDateTime.withZoneSameInstant(ZoneOffset.UTC) the return value is always null (zonedDateTime) is not null.</p>\n<p>My mapper (using mapstruct)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;, nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.SET_TO_NULL)\npublic interface OffsetDateTimeMapper {\n\n    default OffsetDateTime mapZonedDateTimeToOffsetDateTime(@NotNull ZonedDateTime zonedDateTime) {\n        System.out.println(zonedDateTime); // print 2021-03-06T14:05Z[UTC]\n        System.out.println(zonedDateTime.withZoneSameInstant(ZoneOffset.UTC)); // print null\n        return zonedDateTime.withZoneSameInstant(ZoneOffset.UTC).toOffsetDateTime();\n    }\n}\n</code></pre>\n<p>My mock for tests</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @NotNull\n    private static MockedStatic&lt;ZonedDateTime&gt; getZonedDateTimeMockedStatic(String isoTimeString) {\n        ZonedDateTime zonedDateTime = ZonedDateTime.parse(isoTimeString);\n\n        MockedStatic&lt;ZonedDateTime&gt; mockedLocalDateTime = mockStatic(ZonedDateTime.class);\n        mockedLocalDateTime.when(() -&gt; ZonedDateTime.now(any(ZoneId.class))).thenReturn(zonedDateTime);\n        mockedLocalDateTime\n                .when(() -&gt; any(ZonedDateTime.class).withZoneSameInstant(ZoneOffset.UTC))\n                .thenReturn(zonedDateTime); // this seems to do nothing\n        return mockedLocalDateTime;\n    }\n</code></pre>\n<p>a test method</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    void should_return_empty() {\n        // given\n        ContainerRequest containerRequest = ContainerRequest.builder().containerNumber(&quot;TGBU6795701&quot;).build();\n\n        // when\n        MockedStatic&lt;ZonedDateTime&gt; mockedLocalDateTime = getZonedDateTimeMockedStatic(&quot;2021-03-01T18:35:24.00Z&quot;);\n        when(mockContainerDetailsProviderService.getContainerInfos(containerRequest)).thenReturn(\n                optionalContainerDetailsResponseFromJson(&quot;responses/EmptyContainerDetails.json&quot;));\n        Optional&lt;ContainerEtaResponseDto&gt; result = etaService.getEtaByContainer(&quot;TGBU6795701&quot;);\n        mockedLocalDateTime.close();\n\n        // then\n        assertTrue(result.isEmpty());\n    }\n</code></pre>\n<p>If i change my\nreturn zonedDateTime.withZoneSameInstant(ZoneOffset.UTC).toOffsetDateTime();\nto\nreturn zonedDateTime.toOffsetDateTime();\nIt work well but it seems to be not the correct way to convert a ZonedDateTime to a OffsetDateTime</p>\n<p>I think my mock is the problem but i cant find a way to make it works.</p>\n<p>EDIT:\nIt work by using CALL_REALS_MAETHODS as mock parameters</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @NotNull\n    private static MockedStatic&lt;ZonedDateTime&gt; getZonedDateTimeMockedStatic(String isoTimeString) {\n        ZonedDateTime zonedDateTime = ZonedDateTime.parse(isoTimeString);\n\n        MockedStatic&lt;ZonedDateTime&gt; mockedLocalDateTime = mockStatic(ZonedDateTime.class, CALLS_REAL_METHODS);\n        mockedLocalDateTime.when(() -&gt; ZonedDateTime.now(any(ZoneId.class))).thenReturn(zonedDateTime);\n        return mockedLocalDateTime;\n    }\n</code></pre>\n"},{"tags":["java","windows","git","github","gitlab"],"comments":[{"owner":{"account_id":4844922,"reputation":1188,"user_id":3908814,"display_name":"Bejond"},"score":0,"creation_date":1538991371,"post_id":52699177,"comment_id":92325126,"body_markdown":"Try this https://stackoverflow.com/questions/42917131/git-error-could-not-lock-config-file-c-users-old-profile-gitconfig-no-such","body":"Try this <a href=\"https://stackoverflow.com/questions/42917131/git-error-could-not-lock-config-file-c-users-old-profile-gitconfig-no-such\" title=\"git error could not lock config file c users old profile gitconfig no such\">stackoverflow.com/questions/42917131/&hellip;</a>"},{"owner":{"account_id":201196,"reputation":6944,"user_id":447490,"accept_rate":95,"display_name":"Chris"},"score":3,"creation_date":1550678420,"post_id":52699177,"comment_id":96359206,"body_markdown":"Possible duplicate of [Filename too long in Git for Windows](https://stackoverflow.com/questions/22575662/filename-too-long-in-git-for-windows)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/22575662/filename-too-long-in-git-for-windows\">Filename too long in Git for Windows</a>"}],"answers":[{"comments":[{"owner":{"account_id":10163824,"reputation":547,"user_id":7506425,"display_name":"Duong Anh"},"score":3,"creation_date":1538991920,"post_id":52699324,"comment_id":92325429,"body_markdown":"you must execute with administrator permission","body":"you must execute with administrator permission"},{"owner":{"account_id":1015124,"reputation":192,"user_id":1026850,"accept_rate":89,"display_name":"Aaron Robeson"},"score":3,"creation_date":1618322459,"post_id":52699324,"comment_id":118563058,"body_markdown":"If you only need to make the change for a single repository you can run without the --system and it doesn&#39;t require admin permission: `git config core.longpaths true`","body":"If you only need to make the change for a single repository you can run without the --system and it doesn&#39;t require admin permission: <code>git config core.longpaths true</code>"}],"tags":[],"owner":{"account_id":10163824,"reputation":547,"user_id":7506425,"display_name":"Duong Anh"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1671437544,"creation_date":1538991248,"answer_id":52699324,"question_id":52699177,"body_markdown":"You can try setting long path with command (as Administrator):\r\n`git config --system core.longpaths true`","title":"How to fix &quot;Filename too long error&quot; during git clone","body":"<p>You can try setting long path with command (as Administrator):\n<code>git config --system core.longpaths true</code></p>\n"},{"tags":[],"owner":{"account_id":11898855,"reputation":1137,"user_id":8707412,"display_name":"Jonathan Coustick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538991315,"creation_date":1538991315,"answer_id":52699346,"question_id":52699177,"body_markdown":"On Windows there is a maximum file name length limit of 260 characters.\r\n\r\nSee https://superuser.com/questions/811146/windows-7-file-name-length-limited-to-129-characters for how to remove it.","title":"How to fix &quot;Filename too long error&quot; during git clone","body":"<p>On Windows there is a maximum file name length limit of 260 characters.</p>\n\n<p>See <a href=\"https://superuser.com/questions/811146/windows-7-file-name-length-limited-to-129-characters\">https://superuser.com/questions/811146/windows-7-file-name-length-limited-to-129-characters</a> for how to remove it.</p>\n"},{"comments":[{"owner":{"account_id":12637937,"reputation":1106,"user_id":9186499,"accept_rate":78,"display_name":"knowledge20"},"score":3,"creation_date":1538992492,"post_id":52699496,"comment_id":92325791,"body_markdown":"hey thanks!! This worked for me. git clone -c core.longpaths=true &lt;repo-url&gt;","body":"hey thanks!! This worked for me. git clone -c core.longpaths=true &lt;repo-url&gt;"},{"owner":{"account_id":494662,"reputation":784,"user_id":2501481,"display_name":"JimiSweden"},"score":3,"creation_date":1559388465,"post_id":52699496,"comment_id":99409997,"body_markdown":"and if you are using a UI tool and the above didn&#39;t help.. .. &gt;&gt; Solution &gt;&gt; add &quot;longpaths=true&quot; to core section as described above&gt;&gt; C:\\Users[---YOU-- ]\\AppData\\Local\\Fork\\gitInstance\\2.20.1\\mingw64\\etc\\gitconfig (For Fork on windows 10)","body":"and if you are using a UI tool and the above didn&#39;t help.. .. &gt;&gt; Solution &gt;&gt; add &quot;longpaths=true&quot; to core section as described above&gt;&gt; C:\\Users[---YOU-- ]\\AppData\\Local\\Fork\\gitInstance\\2.20.1\\mingw64\\etc\\gitconfi&zwnj;&#8203;g (For Fork on windows 10)"},{"owner":{"account_id":1771099,"reputation":2189,"user_id":1615830,"accept_rate":38,"display_name":"Dinidu Hewage"},"score":0,"creation_date":1623212922,"post_id":52699496,"comment_id":120011256,"body_markdown":"It seems we can not execute this if we don&#39;t have administrator access to the computer.","body":"It seems we can not execute this if we don&#39;t have administrator access to the computer."}],"tags":[],"owner":{"account_id":10018836,"reputation":38027,"user_id":7409220,"display_name":"Shayki Abramczyk"},"comment_count":3,"down_vote_count":0,"up_vote_count":148,"is_accepted":true,"score":148,"last_activity_date":1538991783,"creation_date":1538991783,"answer_id":52699496,"question_id":52699177,"body_markdown":"1. Start Git Bash **as Administrator**\r\n2. Run command `git config --system core.longpaths true`\r\n\r\nAnother way (only for this clone):\r\n\r\n`git clone -c core.longpaths=true &lt;repo-url&gt;`","title":"How to fix &quot;Filename too long error&quot; during git clone","body":"<ol>\n<li>Start Git Bash <strong>as Administrator</strong></li>\n<li>Run command <code>git config --system core.longpaths true</code></li>\n</ol>\n\n<p>Another way (only for this clone):</p>\n\n<p><code>git clone -c core.longpaths=true &lt;repo-url&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":2403011,"reputation":61,"user_id":2100258,"display_name":"Bibin Chorickanpara"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647896621,"creation_date":1621522058,"answer_id":67622763,"question_id":52699177,"body_markdown":"I was not having admin rights. So I had to go to config file in .git folder (hidden) in the same folder that you started the clone in local machine .\r\nThen add `longpaths = true` under `[core]` .Run `git reset --hard origin/xxx` from Git Bash. This worked for me.","title":"How to fix &quot;Filename too long error&quot; during git clone","body":"<p>I was not having admin rights. So I had to go to config file in .git folder (hidden) in the same folder that you started the clone in local machine .\nThen add <code>longpaths = true</code> under <code>[core]</code> .Run <code>git reset --hard origin/xxx</code> from Git Bash. This worked for me.</p>\n"},{"tags":[],"owner":{"account_id":20047673,"reputation":1,"user_id":14696984,"display_name":"Pranav Tiwari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622203639,"creation_date":1622203639,"answer_id":67738529,"question_id":52699177,"body_markdown":"Basically we need to set a variable &quot;longpaths&quot; as true in our local git config file under core section.\r\n\r\nYou can navigate to it at path \r\n\r\n    &lt;git-repo&gt;\\.git\\config\r\n\r\nalternatively you can clone your code using git bash with below command\r\n\r\n    git clone -c core.longpaths=true &lt;repo-url&gt;","title":"How to fix &quot;Filename too long error&quot; during git clone","body":"<p>Basically we need to set a variable &quot;longpaths&quot; as true in our local git config file under core section.</p>\n<p>You can navigate to it at path</p>\n<pre><code>&lt;git-repo&gt;\\.git\\config\n</code></pre>\n<p>alternatively you can clone your code using git bash with below command</p>\n<pre><code>git clone -c core.longpaths=true &lt;repo-url&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12731158,"reputation":149,"user_id":9247750,"display_name":"Lakshmipathi G"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1627898971,"creation_date":1627898971,"answer_id":68619802,"question_id":52699177,"body_markdown":"If command `git config core.longpaths true` not worked then try changing it manually.\r\n\r\nGo to `.git` folder of your project (make sure you are enabled hidden items view in file explorer) and Open the `config` file. File content will look like below\r\n\r\n    [core]\r\n    \trepositoryformatversion = 0\r\n    \tfilemode = false\r\n    \tbare = false\r\n    \tlogallrefupdates = true\r\n    \tsymlinks = false\r\n    \tignorecase = true\r\n    \thideDotFiles = dotGitOnly\r\n    [remote &quot;origin&quot;]\r\n    \turl = https://&lt;domain&gt;/scm/&lt;project&gt;/&lt;repo&gt;.git\r\n    \tfetch = +refs/heads/*:refs/remotes/origin/*\r\n    [branch &quot;master&quot;]\r\n    \tremote = origin\r\n    \tmerge = refs/heads/master\r\n\r\nAdd `longpaths = true` property manually under `[core]` section. Save it and try pulling the code from fresh git bash session. It will solve the issue.\r\n\r\n    [core]\r\n        \trepositoryformatversion = 0\r\n        \tfilemode = false\r\n        \tbare = false\r\n        \tlogallrefupdates = true\r\n        \tsymlinks = false\r\n        \tignorecase = true\r\n        \thideDotFiles = dotGitOnly\r\n            longpaths = true","title":"How to fix &quot;Filename too long error&quot; during git clone","body":"<p>If command <code>git config core.longpaths true</code> not worked then try changing it manually.</p>\n<p>Go to <code>.git</code> folder of your project (make sure you are enabled hidden items view in file explorer) and Open the <code>config</code> file. File content will look like below</p>\n<pre><code>[core]\n    repositoryformatversion = 0\n    filemode = false\n    bare = false\n    logallrefupdates = true\n    symlinks = false\n    ignorecase = true\n    hideDotFiles = dotGitOnly\n[remote &quot;origin&quot;]\n    url = https://&lt;domain&gt;/scm/&lt;project&gt;/&lt;repo&gt;.git\n    fetch = +refs/heads/*:refs/remotes/origin/*\n[branch &quot;master&quot;]\n    remote = origin\n    merge = refs/heads/master\n</code></pre>\n<p>Add <code>longpaths = true</code> property manually under <code>[core]</code> section. Save it and try pulling the code from fresh git bash session. It will solve the issue.</p>\n<pre><code>[core]\n        repositoryformatversion = 0\n        filemode = false\n        bare = false\n        logallrefupdates = true\n        symlinks = false\n        ignorecase = true\n        hideDotFiles = dotGitOnly\n        longpaths = true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8714817,"reputation":301,"user_id":6519815,"display_name":"ankit rawat"},"comment_count":0,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1673427091,"creation_date":1630500118,"answer_id":69013958,"question_id":52699177,"body_markdown":"Instead of `git config --system core.longpaths true`\r\ntry:\r\n\r\n    git config --global core.longpaths true\r\n\r\n`--system` will set the variables for all users on the system, but what you are looking for is to the set it for currently logged in user.\r\n","title":"How to fix &quot;Filename too long error&quot; during git clone","body":"<p>Instead of <code>git config --system core.longpaths true</code>\ntry:</p>\n<pre><code>git config --global core.longpaths true\n</code></pre>\n<p><code>--system</code> will set the variables for all users on the system, but what you are looking for is to the set it for currently logged in user.</p>\n"},{"comments":[{"owner":{"account_id":145051,"reputation":130109,"user_id":354577,"accept_rate":100,"display_name":"Chris"},"score":0,"creation_date":1680952273,"post_id":75928551,"comment_id":133983339,"body_markdown":"Please take the [tour], then read [answer]. Duplicate answers and answers that say &quot;thank you&quot; are not good answers.","body":"Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>, then read <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a>. Duplicate answers and answers that say &quot;thank you&quot; are not good answers."}],"tags":[],"owner":{"account_id":28211997,"reputation":1,"user_id":21564072,"display_name":"Vishakha"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680606041,"creation_date":1680606041,"answer_id":75928551,"question_id":52699177,"body_markdown":"Adding *longpaths = true* under [core] followed by Runnig *git reset --hard origin/xxx* from Git Bash. This worked for me.","title":"How to fix &quot;Filename too long error&quot; during git clone","body":"<p>Adding <em>longpaths = true</em> under [core] followed by Runnig <em>git reset --hard origin/xxx</em> from Git Bash. This worked for me.</p>\n"}],"owner":{"account_id":12637937,"reputation":1106,"user_id":9186499,"accept_rate":78,"display_name":"knowledge20"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129873,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"accepted_answer_id":52699496,"answer_count":8,"score":63,"last_activity_date":1680606041,"creation_date":1538990769,"question_id":52699177,"body_markdown":"I am trying to take a git clone from a particular branch of my bitbucket repository using the below command:\r\n`git clone &lt;url&gt; --branch &lt;branchname&gt;`.\r\n\r\nHowever, I am getting the below error while taking the clone:\r\n\r\n&gt; error:unable to create file foldername/nodemodules/......: Filename\r\n&gt; too long.\r\n\r\nI tried resolving this by running the below command in my git cmd\r\n`git config --system core.longpaths true`.\r\n\r\nBut I am getting:\r\n\r\n&gt; error: could not lock config file c://.gitconfig: Permission denied\r\n&gt; error: could not lock config file c://.gitconfig: Invalid argument.\r\n\r\nHow do I solve these two errors?\r\n\r\n","title":"How to fix &quot;Filename too long error&quot; during git clone","body":"<p>I am trying to take a git clone from a particular branch of my bitbucket repository using the below command:\n<code>git clone &lt;url&gt; --branch &lt;branchname&gt;</code>.</p>\n\n<p>However, I am getting the below error while taking the clone:</p>\n\n<blockquote>\n  <p>error:unable to create file foldername/nodemodules/......: Filename\n  too long.</p>\n</blockquote>\n\n<p>I tried resolving this by running the below command in my git cmd\n<code>git config --system core.longpaths true</code>.</p>\n\n<p>But I am getting:</p>\n\n<blockquote>\n  <p>error: could not lock config file c://.gitconfig: Permission denied\n  error: could not lock config file c://.gitconfig: Invalid argument.</p>\n</blockquote>\n\n<p>How do I solve these two errors?</p>\n"},{"tags":["java","sql","sql-server"],"comments":[{"owner":{"account_id":2312068,"reputation":90351,"user_id":2029983,"display_name":"Thom A"},"score":0,"creation_date":1680596326,"post_id":75926965,"comment_id":133920745,"body_markdown":"**Consumable** sample data (*not* an image) and expected results will help us help you. Though, considering the clause `sub.[name] = Subject.ENGLISH` I&#39;m not surprised you&#39;re only getting English data back; seems like your data is denormalised.","body":"<b>Consumable</b> sample data (<i>not</i> an image) and expected results will help us help you. Though, considering the clause <code>sub.[name] = Subject.ENGLISH</code> I&#39;m not surprised you&#39;re only getting English data back; seems like your data is denormalised."},{"owner":{"account_id":28111553,"reputation":3,"user_id":21562974,"display_name":"xNova"},"score":0,"creation_date":1680596559,"post_id":75926965,"comment_id":133920792,"body_markdown":"So How can I change that one ? I just want to pull out all subject name when I press Search button without filling any data.","body":"So How can I change that one ? I just want to pull out all subject name when I press Search button without filling any data."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1680596858,"post_id":75926965,"comment_id":133920875,"body_markdown":"If you don&#39;t want to only select certain subjects why did you add the `WHERE sub.[name] = Subject.ENGLISH` clause in the first place?","body":"If you don&#39;t want to only select certain subjects why did you add the <code>WHERE sub.[name] = Subject.ENGLISH</code> clause in the first place?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1680596997,"post_id":75926965,"comment_id":133920904,"body_markdown":"Do you understand what the individual parts of the query are doing? If yes, then please explain so we can see whether there are misconceptions. If not, you might want to grab a SQL tutorial first.","body":"Do you understand what the individual parts of the query are doing? If yes, then please explain so we can see whether there are misconceptions. If not, you might want to grab a SQL tutorial first."},{"owner":{"account_id":28111553,"reputation":3,"user_id":21562974,"display_name":"xNova"},"score":0,"creation_date":1680597223,"post_id":75926965,"comment_id":133920957,"body_markdown":"OK Let&#39;s say If I change ENGLISH to ART, the value of ART data are coming out. But when I remove that where clause, it is still ENGLISH values are coming out !","body":"OK Let&#39;s say If I change ENGLISH to ART, the value of ART data are coming out. But when I remove that where clause, it is still ENGLISH values are coming out !"}],"owner":{"account_id":28111553,"reputation":3,"user_id":21562974,"display_name":"xNova"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680605819,"creation_date":1680595840,"question_id":75926965,"body_markdown":"Here is my variable in Subject model class.\r\n```\r\npublic static final int ENGLISH= 1;\r\npublic static final int MATHS= 2;\r\npublic static final int CHEMISTRY = 3;\r\npublic static final int ART = 4;\r\npublic static final int MUSIC = 5;\r\n```\r\nHere is my QUERY.\r\n\r\n```\r\nSELECT s.name, s.school, s.grade, sub.[name] as sub_name\r\nFROM student s\r\nINNER JOIN subject sub ON s.id = sub.student_id\r\nWHERE sub.[name] = Subject.ENGLISH;\r\n```\r\n\r\nWhen I click search button, I want to get all Subject value -&gt; (ENGLISH,MATHS,CHEMISTRY,ART,MUSIC) for each student.\r\nBut Now I Only get ENGLISH value from Subject for each student.\r\nHow do I have to modified? Please sharing your thoughts for me! Thanks !","title":"How do I defined about the parameter in QUERY with default value which is in other model class?","body":"<p>Here is my variable in Subject model class.</p>\n<pre><code>public static final int ENGLISH= 1;\npublic static final int MATHS= 2;\npublic static final int CHEMISTRY = 3;\npublic static final int ART = 4;\npublic static final int MUSIC = 5;\n</code></pre>\n<p>Here is my QUERY.</p>\n<pre><code>SELECT s.name, s.school, s.grade, sub.[name] as sub_name\nFROM student s\nINNER JOIN subject sub ON s.id = sub.student_id\nWHERE sub.[name] = Subject.ENGLISH;\n</code></pre>\n<p>When I click search button, I want to get all Subject value -&gt; (ENGLISH,MATHS,CHEMISTRY,ART,MUSIC) for each student.\nBut Now I Only get ENGLISH value from Subject for each student.\nHow do I have to modified? Please sharing your thoughts for me! Thanks !</p>\n"},{"tags":["java","multithreading","future"],"comments":[{"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"score":1,"creation_date":1381686348,"post_id":19348248,"comment_id":28666001,"body_markdown":"who generates those futures? What type are they of? Interface java.util.concurrent.Future does not provide the functionality you want, the only way is to use your own Futures with callbacks.","body":"who generates those futures? What type are they of? Interface java.util.concurrent.Future does not provide the functionality you want, the only way is to use your own Futures with callbacks."},{"owner":{"account_id":18250,"reputation":39312,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":0,"creation_date":1381686365,"post_id":19348248,"comment_id":28666004,"body_markdown":"You could make an instance of `ExecutionService` for every &quot;batch&quot; of tasks, submit them to it, then immediately shut down the service and use `awaitTermination()` on it I suppose.","body":"You could make an instance of <code>ExecutionService</code> for every &quot;batch&quot; of tasks, submit them to it, then immediately shut down the service and use <code>awaitTermination()</code> on it I suppose."},{"owner":{"account_id":18250,"reputation":39312,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":2,"creation_date":1381686394,"post_id":19348248,"comment_id":28666014,"body_markdown":"You could use a `CountDownLatch` if you wrapped the body of all your futures in a `try..finally` to make sure the latch gets decremented as well.","body":"You could use a <code>CountDownLatch</code> if you wrapped the body of all your futures in a <code>try..finally</code> to make sure the latch gets decremented as well."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":2,"creation_date":1381686477,"post_id":19348248,"comment_id":28666046,"body_markdown":"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorCompletionService.html does exactly what you need.","body":"<a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorCompletionService.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/concurrent/&hellip;</a> does exactly what you need."},{"owner":{"account_id":33485,"reputation":18869,"user_id":93796,"accept_rate":55,"display_name":"user93796"},"score":0,"creation_date":1381686902,"post_id":19348248,"comment_id":28666172,"body_markdown":"@AlexeiKaigorodov YES , my future are of type java.util.concurrent.I am suing future with callable.I get Futture when i submit a task to a execureservice","body":"@AlexeiKaigorodov YES , my future are of type java.util.concurrent.I am suing future with callable.I get Futture when i submit a task to a execureservice"},{"owner":{"account_id":33485,"reputation":18869,"user_id":93796,"accept_rate":55,"display_name":"user93796"},"score":0,"creation_date":1381686959,"post_id":19348248,"comment_id":28666188,"body_markdown":"@millimoose if i wrap the code which returns every single feaure inside try cath finally it will work , but i wont be able to distinguish between successful finish of future and one with exception","body":"@millimoose if i wrap the code which returns every single feaure inside try cath finally it will work , but i wont be able to distinguish between successful finish of future and one with exception"},{"owner":{"account_id":18250,"reputation":39312,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":0,"creation_date":1381690339,"post_id":19348248,"comment_id":28667201,"body_markdown":"@user93796 I said `try..finally`, not `try..catch`. The exception will be rethrown and `Future.get()` would throw. It&#39;d just make sure the latch gets counted down. That said, the suggestions to use `CompletionService` are clearly superior.","body":"@user93796 I said <code>try..finally</code>, not <code>try..catch</code>. The exception will be rethrown and <code>Future.get()</code> would throw. It&#39;d just make sure the latch gets counted down. That said, the suggestions to use <code>CompletionService</code> are clearly superior."},{"owner":{"account_id":18250,"reputation":39312,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":0,"creation_date":1381690852,"post_id":19348248,"comment_id":28667356,"body_markdown":"Correction: the exception will *still* be thrown not rethrown.","body":"Correction: the exception will <i>still</i> be thrown not rethrown."},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1446052513,"post_id":19348248,"comment_id":54586147,"body_markdown":"Possible duplicate of [Waiting on multiple threads to complete in Java](http://stackoverflow.com/questions/1361029/waiting-on-multiple-threads-to-complete-in-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/1361029/waiting-on-multiple-threads-to-complete-in-java\">Waiting on multiple threads to complete in Java</a>"}],"answers":[{"comments":[{"owner":{"account_id":33485,"reputation":18869,"user_id":93796,"accept_rate":55,"display_name":"user93796"},"score":1,"creation_date":1381687626,"post_id":19348417,"comment_id":28666398,"body_markdown":":Your code has same issue which i mentioned in my post.If forth future throws exception then the code will still wait for future 1,2,3 to complete. or will completionSerice.take) will return the future which completes first?","body":":Your code has same issue which i mentioned in my post.If forth future throws exception then the code will still wait for future 1,2,3 to complete. or will completionSerice.take) will return the future which completes first?"},{"owner":{"account_id":33485,"reputation":18869,"user_id":93796,"accept_rate":55,"display_name":"user93796"},"score":1,"creation_date":1381687848,"post_id":19348417,"comment_id":28666448,"body_markdown":"What about timeouts?Can i tell completion service to wait for X seconds at max?","body":"What about timeouts?Can i tell completion service to wait for X seconds at max?"},{"owner":{"account_id":481401,"reputation":15030,"user_id":895215,"accept_rate":64,"display_name":"dcernahoschi"},"score":1,"creation_date":1381687902,"post_id":19348417,"comment_id":28666461,"body_markdown":"Should not have. It does not iterate over the futures, but as soon as one is ready it is processed/verified if not thrown exception.","body":"Should not have. It does not iterate over the futures, but as soon as one is ready it is processed/verified if not thrown exception."},{"owner":{"account_id":481401,"reputation":15030,"user_id":895215,"accept_rate":64,"display_name":"dcernahoschi"},"score":2,"creation_date":1381688200,"post_id":19348417,"comment_id":28666548,"body_markdown":"To timeout waiting for a future to appear on the queue there is a poll(seconds) method on the `CompletionService`.","body":"To timeout waiting for a future to appear on the queue there is a poll(seconds) method on the <code>CompletionService</code>."},{"owner":{"account_id":1722023,"reputation":2771,"user_id":1706188,"display_name":"user18853"},"score":0,"creation_date":1493123024,"post_id":19348417,"comment_id":74269935,"body_markdown":"Here is the working example on github:https://github.com/princegoyal1987/FutureDemo","body":"Here is the working example on github:<a href=\"https://github.com/princegoyal1987/FutureDemo\" rel=\"nofollow noreferrer\">github.com/princegoyal1987/FutureDemo</a>"},{"owner":{"account_id":455032,"reputation":2720,"user_id":853001,"display_name":"realPK"},"score":0,"creation_date":1566151224,"post_id":19348417,"comment_id":101557353,"body_markdown":"@user18853 Your code doesn&#39;t address the asked question and looks like copied from https://javarevisited.blogspot.com/2015/01/how-to-use-future-and-futuretask-in-Java.html. Can you please polish the code to avoid an empty click?","body":"@user18853 Your code doesn&#39;t address the asked question and looks like copied from <a href=\"https://javarevisited.blogspot.com/2015/01/how-to-use-future-and-futuretask-in-Java.html\" rel=\"nofollow noreferrer\">javarevisited.blogspot.com/2015/01/&hellip;</a>. Can you please polish the code to avoid an empty click?"},{"owner":{"account_id":3102971,"reputation":160,"user_id":2626610,"accept_rate":50,"display_name":"lalatnayak"},"score":0,"creation_date":1643771167,"post_id":19348417,"comment_id":125425851,"body_markdown":"If you are using a global thread pool then this will not work. I dunno if it&#39;s a good idea to use local (non singleton) thread pools.","body":"If you are using a global thread pool then this will not work. I dunno if it&#39;s a good idea to use local (non singleton) thread pools."}],"tags":[],"owner":{"account_id":481401,"reputation":15030,"user_id":895215,"accept_rate":64,"display_name":"dcernahoschi"},"comment_count":7,"down_vote_count":3,"up_vote_count":170,"is_accepted":true,"score":167,"last_activity_date":1579544490,"creation_date":1381687242,"answer_id":19348417,"question_id":19348248,"body_markdown":"You can use a [CompletionService][1] to receive the futures as soon as they are ready and if one of them throws an exception cancel the processing. Something like this:\r\n\r\n    Executor executor = Executors.newFixedThreadPool(4);\r\n    CompletionService&lt;SomeResult&gt; completionService = \r\n           new ExecutorCompletionService&lt;SomeResult&gt;(executor);\r\n\r\n    //4 tasks\r\n    for(int i = 0; i &lt; 4; i++) {\r\n       completionService.submit(new Callable&lt;SomeResult&gt;() {\r\n           public SomeResult call() {\r\n               ...\r\n               return result;\r\n           }\r\n       });\r\n    }\r\n    \r\n    int received = 0;\r\n    boolean errors = false;\r\n\r\n    while(received &lt; 4 &amp;&amp; !errors) {\r\n          Future&lt;SomeResult&gt; resultFuture = completionService.take(); //blocks if none available\r\n          try {\r\n             SomeResult result = resultFuture.get();\r\n             received ++;\r\n             ... // do something with the result\r\n          }\r\n          catch(Exception e) {\r\n                 //log\r\n             errors = true;\r\n          }\r\n    }\r\n\r\nI think you can further improve to cancel any still executing tasks if one of them throws an error. \r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CompletionService.html","title":"Waiting on a list of Future","body":"<p>You can use a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CompletionService.html\" rel=\"noreferrer\">CompletionService</a> to receive the futures as soon as they are ready and if one of them throws an exception cancel the processing. Something like this:</p>\n\n<pre><code>Executor executor = Executors.newFixedThreadPool(4);\nCompletionService&lt;SomeResult&gt; completionService = \n       new ExecutorCompletionService&lt;SomeResult&gt;(executor);\n\n//4 tasks\nfor(int i = 0; i &lt; 4; i++) {\n   completionService.submit(new Callable&lt;SomeResult&gt;() {\n       public SomeResult call() {\n           ...\n           return result;\n       }\n   });\n}\n\nint received = 0;\nboolean errors = false;\n\nwhile(received &lt; 4 &amp;&amp; !errors) {\n      Future&lt;SomeResult&gt; resultFuture = completionService.take(); //blocks if none available\n      try {\n         SomeResult result = resultFuture.get();\n         received ++;\n         ... // do something with the result\n      }\n      catch(Exception e) {\n             //log\n         errors = true;\n      }\n}\n</code></pre>\n\n<p>I think you can further improve to cancel any still executing tasks if one of them throws an error. </p>\n"},{"tags":[],"owner":{"account_id":69636,"reputation":3071,"user_id":202504,"display_name":"jmiserez"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1381689918,"creation_date":1381689918,"answer_id":19348883,"question_id":19348248,"body_markdown":"You can use an [ExecutorCompletionService][1]. The documentation even has an example for your exact use-case:\r\n\r\n&gt; Suppose instead that you would like to use the first non-null result of the set of tasks, ignoring any that encounter exceptions, and cancelling all other tasks when the first one is ready:\r\n\r\n    void solve(Executor e, Collection&lt;Callable&lt;Result&gt;&gt; solvers) throws InterruptedException {\r\n        CompletionService&lt;Result&gt; ecs = new ExecutorCompletionService&lt;Result&gt;(e);\r\n        int n = solvers.size();\r\n        List&lt;Future&lt;Result&gt;&gt; futures = new ArrayList&lt;Future&lt;Result&gt;&gt;(n);\r\n        Result result = null;\r\n        try {\r\n            for (Callable&lt;Result&gt; s : solvers)\r\n                futures.add(ecs.submit(s));\r\n            for (int i = 0; i &lt; n; ++i) {\r\n                try {\r\n                    Result r = ecs.take().get();\r\n                    if (r != null) {\r\n                        result = r;\r\n                        break;\r\n                    }\r\n                } catch (ExecutionException ignore) {\r\n                }\r\n            }\r\n        } finally {\r\n            for (Future&lt;Result&gt; f : futures)\r\n                f.cancel(true);\r\n        }\r\n    \r\n        if (result != null)\r\n            use(result);\r\n    }\r\n\r\nThe important thing to notice here is that ecs.take() will get the first *completed* task, not just the first submitted one. Thus you should get them in the order of finishing the execution (or throwing an exception).\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorCompletionService.html","title":"Waiting on a list of Future","body":"<p>You can use an <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorCompletionService.html\">ExecutorCompletionService</a>. The documentation even has an example for your exact use-case:</p>\n\n<blockquote>\n  <p>Suppose instead that you would like to use the first non-null result of the set of tasks, ignoring any that encounter exceptions, and cancelling all other tasks when the first one is ready:</p>\n</blockquote>\n\n<pre><code>void solve(Executor e, Collection&lt;Callable&lt;Result&gt;&gt; solvers) throws InterruptedException {\n    CompletionService&lt;Result&gt; ecs = new ExecutorCompletionService&lt;Result&gt;(e);\n    int n = solvers.size();\n    List&lt;Future&lt;Result&gt;&gt; futures = new ArrayList&lt;Future&lt;Result&gt;&gt;(n);\n    Result result = null;\n    try {\n        for (Callable&lt;Result&gt; s : solvers)\n            futures.add(ecs.submit(s));\n        for (int i = 0; i &lt; n; ++i) {\n            try {\n                Result r = ecs.take().get();\n                if (r != null) {\n                    result = r;\n                    break;\n                }\n            } catch (ExecutionException ignore) {\n            }\n        }\n    } finally {\n        for (Future&lt;Result&gt; f : futures)\n            f.cancel(true);\n    }\n\n    if (result != null)\n        use(result);\n}\n</code></pre>\n\n<p>The important thing to notice here is that ecs.take() will get the first <em>completed</em> task, not just the first submitted one. Thus you should get them in the order of finishing the execution (or throwing an exception).</p>\n"},{"tags":[],"owner":{"display_name":"user2511414"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1381692350,"creation_date":1381692350,"answer_id":19349288,"question_id":19348248,"body_markdown":"maybe this would help (nothing would replaced with raw thread, yeah!)\r\nI suggest run each `Future` guy with a separated thread (they goes parallel), then when ever one of the got error, it just signal the manager(`Handler` class).\r\n\r\n    class Handler{\r\n    //...\r\n    private Thread thisThread;\r\n    private boolean failed=false;\r\n    private Thread[] trds;\r\n    public void waitFor(){\r\n      thisThread=Thread.currentThread();\r\n      List&lt;Future&lt;Object&gt;&gt; futures = getFutures();\r\n      trds=new Thread[futures.size()];\r\n      for (int i = 0; i &lt; trds.length; i++) {\r\n        RunTask rt=new RunTask(futures.get(i), this);\r\n        trds[i]=new Thread(rt);\r\n      }\r\n      synchronized (this) {\r\n        for(Thread tx:trds){\r\n          tx.start();\r\n        }  \r\n      }\r\n      for(Thread tx:trds){\r\n        try {tx.join();\r\n        } catch (InterruptedException e) {\r\n          System.out.println(&quot;Job failed!&quot;);break;\r\n        }\r\n      }if(!failed){System.out.println(&quot;Job Done&quot;);}\r\n    }\r\n    \r\n    private List&lt;Future&lt;Object&gt;&gt; getFutures() {\r\n      return null;\r\n    }\r\n    \r\n    public synchronized void cancelOther(){if(failed){return;}\r\n      failed=true;\r\n      for(Thread tx:trds){\r\n        tx.stop();//Deprecated but works here like a boss\r\n      }thisThread.interrupt();\r\n    }\r\n    //...\r\n    }\r\n    class RunTask implements Runnable{\r\n    private Future f;private Handler h;\r\n    public RunTask(Future f,Handler h){this.f=f;this.h=h;}\r\n    public void run(){\r\n    try{\r\n    f.get();//beware about state of working, the stop() method throws ThreadDeath Error at any thread state (unless it blocked by some operation)\r\n    }catch(Exception e){System.out.println(&quot;Error, stopping other guys...&quot;);h.cancelOther();}\r\n    catch(Throwable t){System.out.println(&quot;Oops, some other guy has stopped working...&quot;);}\r\n    }\r\n    }\r\n\r\nI have to say the above code would error(didn&#39;t check), but I hope I could explain the solution. please have a try.\r\n","title":"Waiting on a list of Future","body":"<p>maybe this would help (nothing would replaced with raw thread, yeah!)\nI suggest run each <code>Future</code> guy with a separated thread (they goes parallel), then when ever one of the got error, it just signal the manager(<code>Handler</code> class).</p>\n\n<pre><code>class Handler{\n//...\nprivate Thread thisThread;\nprivate boolean failed=false;\nprivate Thread[] trds;\npublic void waitFor(){\n  thisThread=Thread.currentThread();\n  List&lt;Future&lt;Object&gt;&gt; futures = getFutures();\n  trds=new Thread[futures.size()];\n  for (int i = 0; i &lt; trds.length; i++) {\n    RunTask rt=new RunTask(futures.get(i), this);\n    trds[i]=new Thread(rt);\n  }\n  synchronized (this) {\n    for(Thread tx:trds){\n      tx.start();\n    }  \n  }\n  for(Thread tx:trds){\n    try {tx.join();\n    } catch (InterruptedException e) {\n      System.out.println(\"Job failed!\");break;\n    }\n  }if(!failed){System.out.println(\"Job Done\");}\n}\n\nprivate List&lt;Future&lt;Object&gt;&gt; getFutures() {\n  return null;\n}\n\npublic synchronized void cancelOther(){if(failed){return;}\n  failed=true;\n  for(Thread tx:trds){\n    tx.stop();//Deprecated but works here like a boss\n  }thisThread.interrupt();\n}\n//...\n}\nclass RunTask implements Runnable{\nprivate Future f;private Handler h;\npublic RunTask(Future f,Handler h){this.f=f;this.h=h;}\npublic void run(){\ntry{\nf.get();//beware about state of working, the stop() method throws ThreadDeath Error at any thread state (unless it blocked by some operation)\n}catch(Exception e){System.out.println(\"Error, stopping other guys...\");h.cancelOther();}\ncatch(Throwable t){System.out.println(\"Oops, some other guy has stopped working...\");}\n}\n}\n</code></pre>\n\n<p>I have to say the above code would error(didn't check), but I hope I could explain the solution. please have a try.</p>\n"},{"tags":[],"owner":{"account_id":1964307,"reputation":3683,"user_id":1764947,"display_name":"fl0w"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533541087,"creation_date":1446500431,"answer_id":33487475,"question_id":19348248,"body_markdown":"The CompletionService will take your Callables with the .submit() method and you can retrieve the computed futures with the .take() method.\r\n\r\nOne thing you must not forget is to terminate the ExecutorService by calling the .shutdown() method. Also you can only call this method when you have saved a reference to the executor service so make sure to keep one.\r\n\r\nExample code - For a fixed number of work items to be worked on in parallel:\r\n\r\n    ExecutorService service = Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors());\r\n    \r\n    CompletionService&lt;YourCallableImplementor&gt; completionService = \r\n    new ExecutorCompletionService&lt;YourCallableImplementor&gt;(service);\r\n    \r\n    ArrayList&lt;Future&lt;YourCallableImplementor&gt;&gt; futures = new ArrayList&lt;Future&lt;YourCallableImplementor&gt;&gt;();\r\n    \r\n    for (String computeMe : elementsToCompute) {\r\n        futures.add(completionService.submit(new YourCallableImplementor(computeMe)));\r\n    }\r\n    //now retrieve the futures after computation (auto wait for it)\r\n    int received = 0;\r\n    \r\n    while(received &lt; elementsToCompute.size()) {\r\n     Future&lt;YourCallableImplementor&gt; resultFuture = completionService.take(); \r\n     YourCallableImplementor result = resultFuture.get();\r\n     received ++;\r\n    }\r\n    //important: shutdown your ExecutorService\r\n    service.shutdown();\r\n\r\n \r\n\r\n\r\n\r\n\r\n\r\n\r\nExample code - For a dynamic number of work items to be worked on in parallel:\r\n    \r\n    public void runIt(){\r\n\t\tExecutorService service = Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors());\r\n\t\tCompletionService&lt;CallableImplementor&gt; completionService = new ExecutorCompletionService&lt;CallableImplementor&gt;(service);\r\n\t\tArrayList&lt;Future&lt;CallableImplementor&gt;&gt; futures = new ArrayList&lt;Future&lt;CallableImplementor&gt;&gt;();\r\n\t\t\r\n\t\t//Initial workload is 8 threads\r\n\t\tfor (int i = 0; i &lt; 9; i++) {\r\n\t\t\tfutures.add(completionService.submit(write.new CallableImplementor()));\t\t\t\t\r\n\t\t}\r\n\t\tboolean finished = false;\r\n\t\twhile (!finished) {\r\n\t\t\ttry {\r\n\t\t\t\tFuture&lt;CallableImplementor&gt; resultFuture;\r\n\t\t\t\tresultFuture = completionService.take();\r\n\t\t\t\tCallableImplementor result = resultFuture.get();\r\n\t\t\t\tfinished = doSomethingWith(result.getResult());\r\n\t\t\t\tresult.setResult(null);\r\n\t\t\t\tresult = null;\r\n\t\t\t\tresultFuture = null;\r\n\t\t\t\t//After work package has been finished create new work package and add it to futures\r\n\t\t\t\tfutures.add(completionService.submit(write.new CallableImplementor()));\r\n\t\t\t} catch (InterruptedException | ExecutionException e) {\r\n\t\t\t\t//handle interrupted and assert correct thread / work packet count\t\t\t\t\r\n\t\t\t} \r\n\t\t}\r\n\t\t\r\n\t\t//important: shutdown your ExecutorService\r\n\t\tservice.shutdown();\r\n    }\r\n\t\t\r\n\tpublic class CallableImplementor implements Callable{\r\n\t\tboolean result;\r\n\r\n\t\t@Override\r\n\t\tpublic CallableImplementor call() throws Exception {\r\n\t\t\t//business logic goes here\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\t\r\n\t\tpublic boolean getResult() {\r\n\t\t\treturn result;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setResult(boolean result) {\r\n\t\t\tthis.result = result;\r\n\t\t}\r\n\t}","title":"Waiting on a list of Future","body":"<p>The CompletionService will take your Callables with the .submit() method and you can retrieve the computed futures with the .take() method.</p>\n\n<p>One thing you must not forget is to terminate the ExecutorService by calling the .shutdown() method. Also you can only call this method when you have saved a reference to the executor service so make sure to keep one.</p>\n\n<p>Example code - For a fixed number of work items to be worked on in parallel:</p>\n\n<pre><code>ExecutorService service = Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors());\n\nCompletionService&lt;YourCallableImplementor&gt; completionService = \nnew ExecutorCompletionService&lt;YourCallableImplementor&gt;(service);\n\nArrayList&lt;Future&lt;YourCallableImplementor&gt;&gt; futures = new ArrayList&lt;Future&lt;YourCallableImplementor&gt;&gt;();\n\nfor (String computeMe : elementsToCompute) {\n    futures.add(completionService.submit(new YourCallableImplementor(computeMe)));\n}\n//now retrieve the futures after computation (auto wait for it)\nint received = 0;\n\nwhile(received &lt; elementsToCompute.size()) {\n Future&lt;YourCallableImplementor&gt; resultFuture = completionService.take(); \n YourCallableImplementor result = resultFuture.get();\n received ++;\n}\n//important: shutdown your ExecutorService\nservice.shutdown();\n</code></pre>\n\n<p>Example code - For a dynamic number of work items to be worked on in parallel:</p>\n\n<pre><code>public void runIt(){\n    ExecutorService service = Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors());\n    CompletionService&lt;CallableImplementor&gt; completionService = new ExecutorCompletionService&lt;CallableImplementor&gt;(service);\n    ArrayList&lt;Future&lt;CallableImplementor&gt;&gt; futures = new ArrayList&lt;Future&lt;CallableImplementor&gt;&gt;();\n\n    //Initial workload is 8 threads\n    for (int i = 0; i &lt; 9; i++) {\n        futures.add(completionService.submit(write.new CallableImplementor()));             \n    }\n    boolean finished = false;\n    while (!finished) {\n        try {\n            Future&lt;CallableImplementor&gt; resultFuture;\n            resultFuture = completionService.take();\n            CallableImplementor result = resultFuture.get();\n            finished = doSomethingWith(result.getResult());\n            result.setResult(null);\n            result = null;\n            resultFuture = null;\n            //After work package has been finished create new work package and add it to futures\n            futures.add(completionService.submit(write.new CallableImplementor()));\n        } catch (InterruptedException | ExecutionException e) {\n            //handle interrupted and assert correct thread / work packet count              \n        } \n    }\n\n    //important: shutdown your ExecutorService\n    service.shutdown();\n}\n\npublic class CallableImplementor implements Callable{\n    boolean result;\n\n    @Override\n    public CallableImplementor call() throws Exception {\n        //business logic goes here\n        return this;\n    }\n\n    public boolean getResult() {\n        return result;\n    }\n\n    public void setResult(boolean result) {\n        this.result = result;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6686929,"reputation":195,"user_id":5258868,"accept_rate":89,"display_name":"VSEWHGHP"},"score":3,"creation_date":1484375507,"post_id":36261808,"comment_id":70494052,"body_markdown":"Hi @Andrejs, could you please explain what this snippet of code does. I see this suggested in multiple places but am confused as to what is actually happening. How are exceptions handled if one of the threads fail?","body":"Hi @Andrejs, could you please explain what this snippet of code does. I see this suggested in multiple places but am confused as to what is actually happening. How are exceptions handled if one of the threads fail?"},{"owner":{"account_id":1212298,"reputation":27085,"user_id":1180621,"accept_rate":100,"display_name":"Andrejs"},"score":2,"creation_date":1484386297,"post_id":36261808,"comment_id":70496154,"body_markdown":"@VSEWHGHP From the javadoc: If any of the given CompletableFutures complete exceptionally, then the returned CompletableFuture also does so, with a CompletionException holding this exception as its cause.","body":"@VSEWHGHP From the javadoc: If any of the given CompletableFutures complete exceptionally, then the returned CompletableFuture also does so, with a CompletionException holding this exception as its cause."},{"owner":{"account_id":6686929,"reputation":195,"user_id":5258868,"accept_rate":89,"display_name":"VSEWHGHP"},"score":2,"creation_date":1484409641,"post_id":36261808,"comment_id":70502532,"body_markdown":"Right so I was following up on that, is there any way to use this snippet but obtain the values for all the other threads which did complete successfully? Should I just iterate over the CompletableFutures list and call get ignoring the CompletableFuture&lt;List&lt;T&gt;&gt; since the sequence function takes care of ensuring all the threads are complete either with result or exception?","body":"Right so I was following up on that, is there any way to use this snippet but obtain the values for all the other threads which did complete successfully? Should I just iterate over the CompletableFutures list and call get ignoring the CompletableFuture&lt;List&lt;T&gt;&gt; since the sequence function takes care of ensuring all the threads are complete either with result or exception?"},{"owner":{"account_id":404573,"reputation":7556,"user_id":772981,"accept_rate":46,"display_name":"Jarekczek"},"score":27,"creation_date":1525179294,"post_id":36261808,"comment_id":87250889,"body_markdown":"This is solving a different problem. If you have `Future` instances, you can&#39;t apply this method. It&#39;s not easy to convert `Future` into `CompletableFuture`.","body":"This is solving a different problem. If you have <code>Future</code> instances, you can&#39;t apply this method. It&#39;s not easy to convert <code>Future</code> into <code>CompletableFuture</code>."},{"owner":{"account_id":2659061,"reputation":1852,"user_id":2299149,"accept_rate":100,"display_name":"slisnychyi"},"score":0,"creation_date":1565121518,"post_id":36261808,"comment_id":101250661,"body_markdown":"it will not work if we have exception in some task.","body":"it will not work if we have exception in some task."},{"owner":{"account_id":1301815,"reputation":31771,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"score":7,"creation_date":1584372800,"post_id":36261808,"comment_id":107410628,"body_markdown":"The biggest question here `Why do they not put all this logic into CompletableFuture.allOf and make it return T instead of void?` Why I have to copy&amp;paste this into dozenb projects? Scala have `Future.sequence` why not java? :&#39;(","body":"The biggest question here <code>Why do they not put all this logic into CompletableFuture.allOf and make it return T instead of void?</code> Why I have to copy&amp;paste this into dozenb projects? Scala have <code>Future.sequence</code> why not java? :&#39;("},{"owner":{"account_id":1675086,"reputation":33930,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1598958801,"post_id":36261808,"comment_id":112618916,"body_markdown":"@Andrejs what is the point of `CompletableFuture.allOf` here? Couldn&#39;t we just use `CompletableFuture.supplyAsync` to wrap the `join` stream? Is it just a matter of not using an extra thread?","body":"@Andrejs what is the point of <code>CompletableFuture.allOf</code> here? Couldn&#39;t we just use <code>CompletableFuture.supplyAsync</code> to wrap the <code>join</code> stream? Is it just a matter of not using an extra thread?"},{"owner":{"account_id":1212298,"reputation":27085,"user_id":1180621,"accept_rate":100,"display_name":"Andrejs"},"score":0,"creation_date":1598976584,"post_id":36261808,"comment_id":112627917,"body_markdown":"@Joffrey That would work though an extra thread will be blocked until all the futures complete. Might take a while.","body":"@Joffrey That would work though an extra thread will be blocked until all the futures complete. Might take a while."},{"owner":{"account_id":77859,"reputation":71371,"user_id":221955,"accept_rate":88,"display_name":"Michael Anderson"},"score":1,"creation_date":1666848552,"post_id":36261808,"comment_id":131033533,"body_markdown":"It seems you don&#39;t get a failure reported until all the futures are done. This means you can&#39;t use it to detect one future failing early and then cancelling all the other futures.","body":"It seems you don&#39;t get a failure reported until all the futures are done. This means you can&#39;t use it to detect one future failing early and then cancelling all the other futures."}],"tags":[],"owner":{"account_id":1212298,"reputation":27085,"user_id":1180621,"accept_rate":100,"display_name":"Andrejs"},"comment_count":9,"down_vote_count":1,"up_vote_count":160,"is_accepted":false,"score":159,"last_activity_date":1554390656,"creation_date":1459166150,"answer_id":36261808,"question_id":19348248,"body_markdown":"If you are using **Java 8** then you can do this easier with CompletableFuture and [CompletableFuture.allOf][1], which applies the callback only after all supplied CompletableFutures are done.\r\n\r\n    // Waits for *all* futures to complete and returns a list of results.\r\n    // If *any* future completes exceptionally then the resulting future will also complete exceptionally.\r\n\r\n    public static &lt;T&gt; CompletableFuture&lt;List&lt;T&gt;&gt; all(List&lt;CompletableFuture&lt;T&gt;&gt; futures) {\r\n        CompletableFuture[] cfs = futures.toArray(new CompletableFuture[futures.size()]);\r\n        \r\n        return CompletableFuture.allOf(cfs)\r\n                .thenApply(ignored -&gt; futures.stream()\r\n                                        .map(CompletableFuture::join)\r\n                                        .collect(Collectors.toList())\r\n                );\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#allOf-java.util.concurrent.CompletableFuture...-","title":"Waiting on a list of Future","body":"<p>If you are using <strong>Java 8</strong> then you can do this easier with CompletableFuture and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#allOf-java.util.concurrent.CompletableFuture...-\" rel=\"noreferrer\">CompletableFuture.allOf</a>, which applies the callback only after all supplied CompletableFutures are done.</p>\n\n<pre><code>// Waits for *all* futures to complete and returns a list of results.\n// If *any* future completes exceptionally then the resulting future will also complete exceptionally.\n\npublic static &lt;T&gt; CompletableFuture&lt;List&lt;T&gt;&gt; all(List&lt;CompletableFuture&lt;T&gt;&gt; futures) {\n    CompletableFuture[] cfs = futures.toArray(new CompletableFuture[futures.size()]);\n\n    return CompletableFuture.allOf(cfs)\n            .thenApply(ignored -&gt; futures.stream()\n                                    .map(CompletableFuture::join)\n                                    .collect(Collectors.toList())\n            );\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":1,"creation_date":1554207999,"post_id":42650421,"comment_id":97660001,"body_markdown":"Upvote for seeing the need for a equivalent AggregateException.","body":"Upvote for seeing the need for a equivalent AggregateException."},{"owner":{"account_id":461742,"reputation":3864,"user_id":863651,"accept_rate":73,"display_name":"XDS"},"score":0,"creation_date":1573919685,"post_id":42650421,"comment_id":104050268,"body_markdown":"An example of using this facility would be nice.","body":"An example of using this facility would be nice."}],"tags":[],"owner":{"account_id":216151,"reputation":26327,"user_id":471213,"accept_rate":82,"display_name":"usr-local-ΕΨΗΕΛΩΝ"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1488895671,"creation_date":1488895671,"answer_id":42650421,"question_id":19348248,"body_markdown":"If you are using Java 8 and don&#39;t want to manipulate `CompletableFuture`s, I have written a tool to retrieve results for a `List&lt;Future&lt;T&gt;&gt;` using streaming. The key is that you are forbidden to `map(Future::get)` as it throws.\r\n\r\n\r\n    public final class Futures\r\n    {\r\n    \r\n        private Futures()\r\n        {}\r\n    \r\n        public static &lt;E&gt; Collector&lt;Future&lt;E&gt;, Collection&lt;E&gt;, List&lt;E&gt;&gt; present()\r\n        {\r\n            return new FutureCollector&lt;&gt;();\r\n        }\r\n    \r\n        private static class FutureCollector&lt;T&gt; implements Collector&lt;Future&lt;T&gt;, Collection&lt;T&gt;, List&lt;T&gt;&gt;\r\n        {\r\n            private final List&lt;Throwable&gt; exceptions = new LinkedList&lt;&gt;();\r\n    \r\n            @Override\r\n            public Supplier&lt;Collection&lt;T&gt;&gt; supplier()\r\n            {\r\n                return LinkedList::new;\r\n            }\r\n    \r\n            @Override\r\n            public BiConsumer&lt;Collection&lt;T&gt;, Future&lt;T&gt;&gt; accumulator()\r\n            {\r\n                return (r, f) -&gt; {\r\n                    try\r\n                    {\r\n                        r.add(f.get());\r\n                    }\r\n                    catch (InterruptedException e)\r\n                    {}\r\n                    catch (ExecutionException e)\r\n                    {\r\n                        exceptions.add(e.getCause());\r\n                    }\r\n                };\r\n            }\r\n    \r\n            @Override\r\n            public BinaryOperator&lt;Collection&lt;T&gt;&gt; combiner()\r\n            {\r\n                return (l1, l2) -&gt; {\r\n                    l1.addAll(l2);\r\n                    return l1;\r\n                };\r\n            }\r\n    \r\n            @Override\r\n            public Function&lt;Collection&lt;T&gt;, List&lt;T&gt;&gt; finisher()\r\n            {\r\n                return l -&gt; {\r\n    \r\n                    List&lt;T&gt; ret = new ArrayList&lt;&gt;(l);\r\n                    if (!exceptions.isEmpty())\r\n                        throw new AggregateException(exceptions, ret);\r\n    \r\n                    return ret;\r\n                };\r\n    \r\n            }\r\n    \r\n            @Override\r\n            public Set&lt;java.util.stream.Collector.Characteristics&gt; characteristics()\r\n            {\r\n                return java.util.Collections.emptySet();\r\n            }\r\n        }\r\n\r\nThis needs an `AggregateException` that works like C#&#39;s\r\n\r\n    public class AggregateException extends RuntimeException\r\n    {\r\n        /**\r\n         *\r\n         */\r\n        private static final long serialVersionUID = -4477649337710077094L;\r\n    \r\n        private final List&lt;Throwable&gt; causes;\r\n        private List&lt;?&gt; successfulElements;\r\n    \r\n        public AggregateException(List&lt;Throwable&gt; causes, List&lt;?&gt; l)\r\n        {\r\n            this.causes = causes;\r\n            successfulElements = l;\r\n        }\r\n    \r\n        public AggregateException(List&lt;Throwable&gt; causes)\r\n        {\r\n            this.causes = causes;\r\n        }\r\n    \r\n        @Override\r\n        public synchronized Throwable getCause()\r\n        {\r\n            return this;\r\n        }\r\n    \r\n        public List&lt;Throwable&gt; getCauses()\r\n        {\r\n            return causes;\r\n        }\r\n    \r\n        public List&lt;?&gt; getSuccessfulElements()\r\n        {\r\n            return successfulElements;\r\n        }\r\n    \r\n        public void setSuccessfulElements(List&lt;?&gt; successfulElements)\r\n        {\r\n            this.successfulElements = successfulElements;\r\n        }\r\n    \r\n    }\r\n\r\nThis component acts exactly as C#&#39;s [Task.WaitAll][1]. I am working on a variant that does the same as `CompletableFuture.allOf` (equivalento to `Task.WhenAll`)\r\n\r\nThe reason why I did this is that I am using Spring&#39;s `ListenableFuture` and don&#39;t want to port to `CompletableFuture` despite it is a more standard way\r\n\r\n\r\n  [1]: https://msdn.microsoft.com/en-us/library/dd270695(v=vs.110).aspx","title":"Waiting on a list of Future","body":"<p>If you are using Java 8 and don't want to manipulate <code>CompletableFuture</code>s, I have written a tool to retrieve results for a <code>List&lt;Future&lt;T&gt;&gt;</code> using streaming. The key is that you are forbidden to <code>map(Future::get)</code> as it throws.</p>\n\n<pre><code>public final class Futures\n{\n\n    private Futures()\n    {}\n\n    public static &lt;E&gt; Collector&lt;Future&lt;E&gt;, Collection&lt;E&gt;, List&lt;E&gt;&gt; present()\n    {\n        return new FutureCollector&lt;&gt;();\n    }\n\n    private static class FutureCollector&lt;T&gt; implements Collector&lt;Future&lt;T&gt;, Collection&lt;T&gt;, List&lt;T&gt;&gt;\n    {\n        private final List&lt;Throwable&gt; exceptions = new LinkedList&lt;&gt;();\n\n        @Override\n        public Supplier&lt;Collection&lt;T&gt;&gt; supplier()\n        {\n            return LinkedList::new;\n        }\n\n        @Override\n        public BiConsumer&lt;Collection&lt;T&gt;, Future&lt;T&gt;&gt; accumulator()\n        {\n            return (r, f) -&gt; {\n                try\n                {\n                    r.add(f.get());\n                }\n                catch (InterruptedException e)\n                {}\n                catch (ExecutionException e)\n                {\n                    exceptions.add(e.getCause());\n                }\n            };\n        }\n\n        @Override\n        public BinaryOperator&lt;Collection&lt;T&gt;&gt; combiner()\n        {\n            return (l1, l2) -&gt; {\n                l1.addAll(l2);\n                return l1;\n            };\n        }\n\n        @Override\n        public Function&lt;Collection&lt;T&gt;, List&lt;T&gt;&gt; finisher()\n        {\n            return l -&gt; {\n\n                List&lt;T&gt; ret = new ArrayList&lt;&gt;(l);\n                if (!exceptions.isEmpty())\n                    throw new AggregateException(exceptions, ret);\n\n                return ret;\n            };\n\n        }\n\n        @Override\n        public Set&lt;java.util.stream.Collector.Characteristics&gt; characteristics()\n        {\n            return java.util.Collections.emptySet();\n        }\n    }\n</code></pre>\n\n<p>This needs an <code>AggregateException</code> that works like C#'s</p>\n\n<pre><code>public class AggregateException extends RuntimeException\n{\n    /**\n     *\n     */\n    private static final long serialVersionUID = -4477649337710077094L;\n\n    private final List&lt;Throwable&gt; causes;\n    private List&lt;?&gt; successfulElements;\n\n    public AggregateException(List&lt;Throwable&gt; causes, List&lt;?&gt; l)\n    {\n        this.causes = causes;\n        successfulElements = l;\n    }\n\n    public AggregateException(List&lt;Throwable&gt; causes)\n    {\n        this.causes = causes;\n    }\n\n    @Override\n    public synchronized Throwable getCause()\n    {\n        return this;\n    }\n\n    public List&lt;Throwable&gt; getCauses()\n    {\n        return causes;\n    }\n\n    public List&lt;?&gt; getSuccessfulElements()\n    {\n        return successfulElements;\n    }\n\n    public void setSuccessfulElements(List&lt;?&gt; successfulElements)\n    {\n        this.successfulElements = successfulElements;\n    }\n\n}\n</code></pre>\n\n<p>This component acts exactly as C#'s <a href=\"https://msdn.microsoft.com/en-us/library/dd270695(v=vs.110).aspx\" rel=\"nofollow noreferrer\">Task.WaitAll</a>. I am working on a variant that does the same as <code>CompletableFuture.allOf</code> (equivalento to <code>Task.WhenAll</code>)</p>\n\n<p>The reason why I did this is that I am using Spring's <code>ListenableFuture</code> and don't want to port to <code>CompletableFuture</code> despite it is a more standard way</p>\n"},{"comments":[{"owner":{"account_id":3634060,"reputation":1294,"user_id":3194525,"display_name":"maaw"},"score":8,"creation_date":1587523865,"post_id":51006865,"comment_id":108542662,"body_markdown":"This should be the accepted answer. Also it&#39;s part of the official Spring documentation: \nhttps://spring.io/guides/gs/async-method/","body":"This should be the accepted answer. Also it&#39;s part of the official Spring documentation:  <a href=\"https://spring.io/guides/gs/async-method/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/async-method</a>"},{"owner":{"account_id":250135,"reputation":2497,"user_id":526664,"accept_rate":54,"display_name":"Jason"},"score":1,"creation_date":1603994283,"post_id":51006865,"comment_id":114219031,"body_markdown":"how could you cancel *any* future that takes longer than 2 seconds?  using .get would &quot;stack up&quot; like this: https://stackoverflow.com/questions/17434311/timeout-while-waiting-for-a-batch-of-futures-to-complete","body":"how could you cancel <i>any</i> future that takes longer than 2 seconds?  using .get would &quot;stack up&quot; like this: <a href=\"https://stackoverflow.com/questions/17434311/timeout-while-waiting-for-a-batch-of-futures-to-complete\" title=\"timeout while waiting for a batch of futures to complete\">stackoverflow.com/questions/17434311/&hellip;</a>"},{"owner":{"account_id":8719765,"reputation":1168,"user_id":6523288,"display_name":"Dragas"},"score":1,"creation_date":1686040212,"post_id":51006865,"comment_id":134740942,"body_markdown":"@maaw question does not specify spring, nor the answer shows how to build such completable future. Executor interface specifies a regular Future&lt;T&gt; in submit method.","body":"@maaw question does not specify spring, nor the answer shows how to build such completable future. Executor interface specifies a regular Future&lt;T&gt; in submit method."}],"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"comment_count":3,"down_vote_count":1,"up_vote_count":88,"is_accepted":false,"score":87,"last_activity_date":1582307051,"creation_date":1529813034,"answer_id":51006865,"question_id":19348248,"body_markdown":"Use a [`CompletableFuture`][1] in Java 8\r\n\r\n        // Kick of multiple, asynchronous lookups\r\n        CompletableFuture&lt;User&gt; page1 = gitHubLookupService.findUser(&quot;Test1&quot;);\r\n        CompletableFuture&lt;User&gt; page2 = gitHubLookupService.findUser(&quot;Test2&quot;);\r\n        CompletableFuture&lt;User&gt; page3 = gitHubLookupService.findUser(&quot;Test3&quot;);\r\n\r\n        // Wait until they are all done\r\n        CompletableFuture.allOf(page1,page2,page3).join();\r\n\r\n        logger.info(&quot;--&gt; &quot; + page1.get());\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html","title":"Waiting on a list of Future","body":"<p>Use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\" rel=\"noreferrer\"><code>CompletableFuture</code></a> in Java 8</p>\n\n<pre><code>    // Kick of multiple, asynchronous lookups\n    CompletableFuture&lt;User&gt; page1 = gitHubLookupService.findUser(\"Test1\");\n    CompletableFuture&lt;User&gt; page2 = gitHubLookupService.findUser(\"Test2\");\n    CompletableFuture&lt;User&gt; page3 = gitHubLookupService.findUser(\"Test3\");\n\n    // Wait until they are all done\n    CompletableFuture.allOf(page1,page2,page3).join();\n\n    logger.info(\"--&gt; \" + page1.get());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1492447,"reputation":2094,"user_id":1399223,"display_name":"Mohamed.Abdo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532530602,"creation_date":1532530602,"answer_id":51522028,"question_id":19348248,"body_markdown":"     /**\r\n         * execute suppliers as future tasks then wait / join for getting results\r\n         * @param functors a supplier(s) to execute\r\n         * @return a list of results\r\n         */\r\n        private List getResultsInFuture(Supplier&lt;?&gt;... functors) {\r\n            CompletableFuture[] futures = stream(functors)\r\n                    .map(CompletableFuture::supplyAsync)\r\n                    .collect(Collectors.toList())\r\n                    .toArray(new CompletableFuture[functors.length]);\r\n            CompletableFuture.allOf(futures).join();\r\n            return stream(futures).map(a-&gt; {\r\n                try {\r\n                    return a.get();\r\n                } catch (InterruptedException | ExecutionException e) {\r\n                    //logger.error(&quot;an error occurred during runtime execution a function&quot;,e);\r\n                    return null;\r\n                }\r\n            }).collect(Collectors.toList());\r\n        };","title":"Waiting on a list of Future","body":"<pre><code> /**\n     * execute suppliers as future tasks then wait / join for getting results\n     * @param functors a supplier(s) to execute\n     * @return a list of results\n     */\n    private List getResultsInFuture(Supplier&lt;?&gt;... functors) {\n        CompletableFuture[] futures = stream(functors)\n                .map(CompletableFuture::supplyAsync)\n                .collect(Collectors.toList())\n                .toArray(new CompletableFuture[functors.length]);\n        CompletableFuture.allOf(futures).join();\n        return stream(futures).map(a-&gt; {\n            try {\n                return a.get();\n            } catch (InterruptedException | ExecutionException e) {\n                //logger.error(\"an error occurred during runtime execution a function\",e);\n                return null;\n            }\n        }).collect(Collectors.toList());\n    };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8241122,"reputation":389,"user_id":6198746,"display_name":"Brixomatic"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1552032125,"creation_date":1546973372,"answer_id":54097900,"question_id":19348248,"body_markdown":"I&#39;ve got a utility class that contains these:\r\n\r\n\r\n    @FunctionalInterface\r\n    public interface CheckedSupplier&lt;X&gt; {\r\n      X get() throws Throwable;\r\n    }\r\n\r\n    public static &lt;X&gt; Supplier&lt;X&gt; uncheckedSupplier(final CheckedSupplier&lt;X&gt; supplier) {\r\n\t\treturn () -&gt; {\r\n\t\t\ttry {\r\n\t\t\t\treturn supplier.get();\r\n\t\t\t} catch (final Throwable checkedException) {\r\n\t\t\t\tthrow new IllegalStateException(checkedException);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\nOnce you have that, using a static import, you can simple wait for all futures like this:\r\n\r\n    futures.stream().forEach(future -&gt; uncheckedSupplier(future::get).get());\r\n\r\nyou can also collect all their results like this:\r\n\r\n    List&lt;MyResultType&gt; results = futures.stream()\r\n        .map(future -&gt; uncheckedSupplier(future::get).get())\r\n        .collect(Collectors.toList());\r\n\r\nJust revisiting my old post and noticing that you had another grief:\r\n\r\n&gt; But the problem here is if, for example, the 4th future throws an exception, then I will wait unnecessarily for the first 3 futures to be available.\r\n\r\nIn this case, the simple solution is to do this in parallel:\r\n\r\n    futures.stream().parallel()\r\n     .forEach(future -&gt; uncheckedSupplier(future::get).get());\r\n\r\nThis way the first exception, although it will not stop the future, will break the forEach-statement, like in the serial example, but since all wait in parallel, you won&#39;t have to wait for the first 3 to complete.\r\n","title":"Waiting on a list of Future","body":"<p>I've got a utility class that contains these:</p>\n\n<pre><code>@FunctionalInterface\npublic interface CheckedSupplier&lt;X&gt; {\n  X get() throws Throwable;\n}\n\npublic static &lt;X&gt; Supplier&lt;X&gt; uncheckedSupplier(final CheckedSupplier&lt;X&gt; supplier) {\n    return () -&gt; {\n        try {\n            return supplier.get();\n        } catch (final Throwable checkedException) {\n            throw new IllegalStateException(checkedException);\n        }\n    };\n}\n</code></pre>\n\n<p>Once you have that, using a static import, you can simple wait for all futures like this:</p>\n\n<pre><code>futures.stream().forEach(future -&gt; uncheckedSupplier(future::get).get());\n</code></pre>\n\n<p>you can also collect all their results like this:</p>\n\n<pre><code>List&lt;MyResultType&gt; results = futures.stream()\n    .map(future -&gt; uncheckedSupplier(future::get).get())\n    .collect(Collectors.toList());\n</code></pre>\n\n<p>Just revisiting my old post and noticing that you had another grief:</p>\n\n<blockquote>\n  <p>But the problem here is if, for example, the 4th future throws an exception, then I will wait unnecessarily for the first 3 futures to be available.</p>\n</blockquote>\n\n<p>In this case, the simple solution is to do this in parallel:</p>\n\n<pre><code>futures.stream().parallel()\n .forEach(future -&gt; uncheckedSupplier(future::get).get());\n</code></pre>\n\n<p>This way the first exception, although it will not stop the future, will break the forEach-statement, like in the serial example, but since all wait in parallel, you won't have to wait for the first 3 to complete.</p>\n"},{"tags":[],"owner":{"account_id":8033451,"reputation":2283,"user_id":6057480,"accept_rate":83,"display_name":"Bohao LI"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1561379836,"creation_date":1561379836,"answer_id":56736775,"question_id":19348248,"body_markdown":"In case that you want combine a List of CompletableFutures, you can do this :\r\n\r\n    List&lt;CompletableFuture&lt;Void&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n    // ... Add futures to this ArrayList of CompletableFutures\r\n    \r\n    // CompletableFuture.allOf() method demand a variadic arguments\r\n    // You can use this syntax to pass a List instead\r\n    CompletableFuture&lt;Void&gt; allFutures = CompletableFuture.allOf(\r\n                futures.toArray(new CompletableFuture[futures.size()]));\r\n\r\n    // Wait for all individual CompletableFuture to complete\r\n    // All individual CompletableFutures are executed in parallel\r\n    allFutures.get();\r\n\r\nFor more details on Future &amp; CompletableFuture, useful links: &lt;br&gt;\r\n1. Future: https://www.baeldung.com/java-future &lt;br&gt;\r\n2. CompletableFuture: https://www.baeldung.com/java-completablefuture &lt;br&gt;\r\n3. CompletableFuture: https://www.callicoder.com/java-8-completablefuture-tutorial/","title":"Waiting on a list of Future","body":"<p>In case that you want combine a List of CompletableFutures, you can do this :</p>\n\n<pre><code>List&lt;CompletableFuture&lt;Void&gt;&gt; futures = new ArrayList&lt;&gt;();\n// ... Add futures to this ArrayList of CompletableFutures\n\n// CompletableFuture.allOf() method demand a variadic arguments\n// You can use this syntax to pass a List instead\nCompletableFuture&lt;Void&gt; allFutures = CompletableFuture.allOf(\n            futures.toArray(new CompletableFuture[futures.size()]));\n\n// Wait for all individual CompletableFuture to complete\n// All individual CompletableFutures are executed in parallel\nallFutures.get();\n</code></pre>\n\n<p>For more details on Future &amp; CompletableFuture, useful links: <br>\n1. Future: <a href=\"https://www.baeldung.com/java-future\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-future</a> <br>\n2. CompletableFuture: <a href=\"https://www.baeldung.com/java-completablefuture\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-completablefuture</a> <br>\n3. CompletableFuture: <a href=\"https://www.callicoder.com/java-8-completablefuture-tutorial/\" rel=\"nofollow noreferrer\">https://www.callicoder.com/java-8-completablefuture-tutorial/</a></p>\n"},{"tags":[],"owner":{"account_id":6019085,"reputation":87,"user_id":4726867,"display_name":"Farhad Baghirov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587835409,"creation_date":1587832783,"answer_id":61429048,"question_id":19348248,"body_markdown":"    import java.util.ArrayList;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    import java.util.concurrent.ExecutionException;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.Future;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class Stack2 {\t\r\n    \tpublic static void waitFor(List&lt;Future&lt;?&gt;&gt; futures) {\r\n    \t\tList&lt;Future&lt;?&gt;&gt; futureCopies = new ArrayList&lt;Future&lt;?&gt;&gt;(futures);//contains features for which status has not been completed\r\n    \t\twhile (!futureCopies.isEmpty()) {//worst case :all task worked without exception, then this method should wait for all tasks\r\n    \t\t\tIterator&lt;Future&lt;?&gt;&gt; futureCopiesIterator = futureCopies.iterator();\r\n    \t\t\twhile (futureCopiesIterator.hasNext()) {\r\n    \t\t\t\tFuture&lt;?&gt; future = futureCopiesIterator.next();\r\n    \t\t\t\tif (future.isDone()) {//already done\r\n    \t\t\t\t\tfutureCopiesIterator.remove();\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tfuture.get();// no longer waiting\r\n    \t\t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t\t//ignore\r\n    \t\t\t\t\t\t//only happen when current Thread interrupted\r\n    \t\t\t\t\t} catch (ExecutionException e) {\r\n    \t\t\t\t\t\tThrowable throwable = e.getCause();// real cause of exception\r\n    \t\t\t\t\t\tfutureCopies.forEach(f -&gt; f.cancel(true));//cancel other tasks that not completed\r\n    \t\t\t\t\t\treturn;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \tpublic static void main(String[] args) {\r\n    \t\tExecutorService executorService = Executors.newFixedThreadPool(3);\r\n    \r\n    \t\tRunnable runnable1 = new Runnable (){\r\n    \t\t\tpublic void run(){\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tThread.sleep(5000);\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\tRunnable runnable2 = new Runnable (){\r\n    \t\t\tpublic void run(){\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tThread.sleep(4000);\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\t\r\n    \t\t\r\n    \t\tRunnable fail = new Runnable (){\r\n    \t\t\tpublic void run(){\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tThread.sleep(1000);\r\n    \t\t\t\t\tthrow new RuntimeException(&quot;bla bla bla&quot;);\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\t\r\n    \t\tList&lt;Future&lt;?&gt;&gt; futures = Stream.of(runnable1,fail,runnable2)\r\n    \t\t\t\t.map(executorService::submit)\r\n    \t\t\t\t.collect(Collectors.toList());\r\n    \t\t\r\n    \t\tdouble start = System.nanoTime();\r\n    \t\twaitFor(futures);\r\n    \t\tdouble end = (System.nanoTime()-start)/1e9;\r\n    \t\tSystem.out.println(end +&quot; seconds&quot;);\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n","title":"Waiting on a list of Future","body":"<pre><code>import java.util.ArrayList;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.Future;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\npublic class Stack2 {   \n    public static void waitFor(List&lt;Future&lt;?&gt;&gt; futures) {\n        List&lt;Future&lt;?&gt;&gt; futureCopies = new ArrayList&lt;Future&lt;?&gt;&gt;(futures);//contains features for which status has not been completed\n        while (!futureCopies.isEmpty()) {//worst case :all task worked without exception, then this method should wait for all tasks\n            Iterator&lt;Future&lt;?&gt;&gt; futureCopiesIterator = futureCopies.iterator();\n            while (futureCopiesIterator.hasNext()) {\n                Future&lt;?&gt; future = futureCopiesIterator.next();\n                if (future.isDone()) {//already done\n                    futureCopiesIterator.remove();\n                    try {\n                        future.get();// no longer waiting\n                    } catch (InterruptedException e) {\n                        //ignore\n                        //only happen when current Thread interrupted\n                    } catch (ExecutionException e) {\n                        Throwable throwable = e.getCause();// real cause of exception\n                        futureCopies.forEach(f -&gt; f.cancel(true));//cancel other tasks that not completed\n                        return;\n                    }\n                }\n            }\n        }\n    }\n    public static void main(String[] args) {\n        ExecutorService executorService = Executors.newFixedThreadPool(3);\n\n        Runnable runnable1 = new Runnable (){\n            public void run(){\n                try {\n                    Thread.sleep(5000);\n                } catch (InterruptedException e) {\n                }\n            }\n        };\n        Runnable runnable2 = new Runnable (){\n            public void run(){\n                try {\n                    Thread.sleep(4000);\n                } catch (InterruptedException e) {\n                }\n            }\n        };\n\n\n        Runnable fail = new Runnable (){\n            public void run(){\n                try {\n                    Thread.sleep(1000);\n                    throw new RuntimeException(\"bla bla bla\");\n                } catch (InterruptedException e) {\n                }\n            }\n        };\n\n        List&lt;Future&lt;?&gt;&gt; futures = Stream.of(runnable1,fail,runnable2)\n                .map(executorService::submit)\n                .collect(Collectors.toList());\n\n        double start = System.nanoTime();\n        waitFor(futures);\n        double end = (System.nanoTime()-start)/1e9;\n        System.out.println(end +\" seconds\");\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6495574,"reputation":495,"user_id":5028293,"display_name":"Ohad Bitton"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653807362,"creation_date":1653807362,"answer_id":72421559,"question_id":19348248,"body_markdown":"This is what i use to wait for a certain time on a list of futures. I think its cleaner.\r\n\r\n    CountDownLatch countDownLatch = new CountDownLatch(partitions.size());\r\n    // Some parallel work\r\n            for (Something tp : somethings) {\r\n                completionService.submit(() -&gt; {\r\n                    try {\r\n                       work(something)\r\n                    } catch (ConnectException e) {\r\n                    } finally {\r\n                        countDownLatch.countDown();\r\n                    }\r\n                });\r\n            }    \r\n      try {\r\n            if (!countDownLatch.await(secondsToWait, TimeUnit.SECONDS)){\r\n            }\r\n        } catch (InterruptedException e) {\r\n        }\r\n\r\n","title":"Waiting on a list of Future","body":"<p>This is what i use to wait for a certain time on a list of futures. I think its cleaner.</p>\n<pre><code>CountDownLatch countDownLatch = new CountDownLatch(partitions.size());\n// Some parallel work\n        for (Something tp : somethings) {\n            completionService.submit(() -&gt; {\n                try {\n                   work(something)\n                } catch (ConnectException e) {\n                } finally {\n                    countDownLatch.countDown();\n                }\n            });\n        }    \n  try {\n        if (!countDownLatch.await(secondsToWait, TimeUnit.SECONDS)){\n        }\n    } catch (InterruptedException e) {\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2226874,"reputation":759,"user_id":1965404,"display_name":"typeracer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665668161,"creation_date":1665668161,"answer_id":74056709,"question_id":19348248,"body_markdown":"A Guava-based solution can be implemented using [`Futures.FutureCombiner`](https://guava.dev/releases/31.1-jre/api/docs/com/google/common/util/concurrent/Futures.FutureCombiner.html).\r\n\r\nHere is the code example given in the javadoc:\r\n\r\n```\r\n final ListenableFuture&lt;Instant&gt; loginDateFuture =\r\n     loginService.findLastLoginDate(username);\r\n final ListenableFuture&lt;List&lt;String&gt;&gt; recentCommandsFuture =\r\n     recentCommandsService.findRecentCommands(username);\r\n ListenableFuture&lt;UsageHistory&gt; usageFuture =\r\n     Futures.whenAllSucceed(loginDateFuture, recentCommandsFuture)\r\n         .call(\r\n             () -&gt;\r\n                 new UsageHistory(\r\n                     username,\r\n                     Futures.getDone(loginDateFuture),\r\n                     Futures.getDone(recentCommandsFuture)),\r\n             executor);\r\n```\r\n\r\nFor more info, see the [ListenableFutureExplained](https://github.com/google/guava/wiki/ListenableFutureExplained) section of the user&#39;s guide. \r\n\r\nIf you&#39;re curious about how it works under the hood, I suggest looking at this part of the source code: [`AggregateFuture.java#L127-L186`](https://github.com/google/guava/blob/370da321a4902039f9bae2f66826b8be100d465a/guava/src/com/google/common/util/concurrent/AggregateFuture.java#L127-L186)\r\n\r\n","title":"Waiting on a list of Future","body":"<p>A Guava-based solution can be implemented using <a href=\"https://guava.dev/releases/31.1-jre/api/docs/com/google/common/util/concurrent/Futures.FutureCombiner.html\" rel=\"nofollow noreferrer\"><code>Futures.FutureCombiner</code></a>.</p>\n<p>Here is the code example given in the javadoc:</p>\n<pre><code> final ListenableFuture&lt;Instant&gt; loginDateFuture =\n     loginService.findLastLoginDate(username);\n final ListenableFuture&lt;List&lt;String&gt;&gt; recentCommandsFuture =\n     recentCommandsService.findRecentCommands(username);\n ListenableFuture&lt;UsageHistory&gt; usageFuture =\n     Futures.whenAllSucceed(loginDateFuture, recentCommandsFuture)\n         .call(\n             () -&gt;\n                 new UsageHistory(\n                     username,\n                     Futures.getDone(loginDateFuture),\n                     Futures.getDone(recentCommandsFuture)),\n             executor);\n</code></pre>\n<p>For more info, see the <a href=\"https://github.com/google/guava/wiki/ListenableFutureExplained\" rel=\"nofollow noreferrer\">ListenableFutureExplained</a> section of the user's guide.</p>\n<p>If you're curious about how it works under the hood, I suggest looking at this part of the source code: <a href=\"https://github.com/google/guava/blob/370da321a4902039f9bae2f66826b8be100d465a/guava/src/com/google/common/util/concurrent/AggregateFuture.java#L127-L186\" rel=\"nofollow noreferrer\"><code>AggregateFuture.java#L127-L186</code></a></p>\n"},{"comments":[{"owner":{"account_id":2996819,"reputation":2582,"user_id":2543209,"accept_rate":59,"display_name":"Jeremy Fisher"},"score":0,"creation_date":1689700060,"post_id":75928118,"comment_id":135249753,"body_markdown":"Isn&#39;t stopping the execution on the other threads OP&#39;s question?","body":"Isn&#39;t stopping the execution on the other threads OP&#39;s question?"},{"owner":{"account_id":447212,"reputation":3321,"user_id":840714,"accept_rate":62,"display_name":"Druckles"},"score":0,"creation_date":1689713508,"post_id":75928118,"comment_id":135252042,"body_markdown":"They only write that they don&#39;t want to wait; the threads may keep running in the background without any interrupts. Interrupting threads is a different issue.","body":"They only write that they don&#39;t want to wait; the threads may keep running in the background without any interrupts. Interrupting threads is a different issue."}],"tags":[],"owner":{"account_id":447212,"reputation":3321,"user_id":840714,"accept_rate":62,"display_name":"Druckles"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680604952,"creation_date":1680602980,"answer_id":75928118,"question_id":19348248,"body_markdown":"For anyone using Vavr&#39;s `Future`, you can either wait for all of them like this:\r\n\r\n```java\r\nstatic &lt;T&gt; Optional&lt;Future&lt;T&gt;&gt; waitForAll(Collection&lt;Future&lt;T&gt;&gt; futures) {\r\n  return futures.stream()\r\n      .reduce((last, next) -&gt; last.flatMap(ignored -&gt; next));\r\n```\r\n\r\nOr, if you have a default value in case there are no future in the collection:\r\n\r\n```java\r\nstatic &lt;T&gt; Future&lt;T&gt; waitForAll(Collection&lt;Future&lt;T&gt;&gt; futures, T defaultValue) {\r\n  return futures.stream()\r\n      .reduce(Future.successful(defaultValue), (last, next) -&gt; last.flatMap(ignored -&gt; next));\r\n}\r\n```\r\n\r\nThis will wait for all futures, however, regardless of whether one has failed.\r\n\r\n---\r\n\r\nTo return as soon as any fails, change your accumulator function to:\r\n\r\n```java\r\n(last, next) -&gt; Future.firstCompletedOf(List.of(last, next))\r\n    .flatMap(v -&gt; last.flatMap(ignored -&gt; next));\r\n```\r\n\r\nAs we only have two items in our merge function, we can wait for either of them to complete (Vavr&#39;s `firstCompletedOf`). If it had failed, it will ignored `flatMap` and return the failed future. If it was successful (whichever it was), it falls into the first `flatMap` where we wait also wait for the other one to finish.\r\n\r\nThis works no matter how long the collection of futures is, because the accumulator essentially pairs them all up:\r\n\r\n```\r\naccumulate(accumulate(accumulate(1, 2), 3), 4)\r\n```\r\n\r\nwhere `accumulate` does the &quot;wait for both unless one fails&quot;.\r\n\r\n**Warning**: This will not stop the execution on the other threads.","title":"Waiting on a list of Future","body":"<p>For anyone using Vavr's <code>Future</code>, you can either wait for all of them like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static &lt;T&gt; Optional&lt;Future&lt;T&gt;&gt; waitForAll(Collection&lt;Future&lt;T&gt;&gt; futures) {\n  return futures.stream()\n      .reduce((last, next) -&gt; last.flatMap(ignored -&gt; next));\n</code></pre>\n<p>Or, if you have a default value in case there are no future in the collection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static &lt;T&gt; Future&lt;T&gt; waitForAll(Collection&lt;Future&lt;T&gt;&gt; futures, T defaultValue) {\n  return futures.stream()\n      .reduce(Future.successful(defaultValue), (last, next) -&gt; last.flatMap(ignored -&gt; next));\n}\n</code></pre>\n<p>This will wait for all futures, however, regardless of whether one has failed.</p>\n<hr />\n<p>To return as soon as any fails, change your accumulator function to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>(last, next) -&gt; Future.firstCompletedOf(List.of(last, next))\n    .flatMap(v -&gt; last.flatMap(ignored -&gt; next));\n</code></pre>\n<p>As we only have two items in our merge function, we can wait for either of them to complete (Vavr's <code>firstCompletedOf</code>). If it had failed, it will ignored <code>flatMap</code> and return the failed future. If it was successful (whichever it was), it falls into the first <code>flatMap</code> where we wait also wait for the other one to finish.</p>\n<p>This works no matter how long the collection of futures is, because the accumulator essentially pairs them all up:</p>\n<pre><code>accumulate(accumulate(accumulate(1, 2), 3), 4)\n</code></pre>\n<p>where <code>accumulate</code> does the &quot;wait for both unless one fails&quot;.</p>\n<p><strong>Warning</strong>: This will not stop the execution on the other threads.</p>\n"}],"owner":{"account_id":33485,"reputation":18869,"user_id":93796,"accept_rate":55,"display_name":"user93796"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268170,"favorite_count":0,"down_vote_count":0,"up_vote_count":221,"accepted_answer_id":19348417,"answer_count":14,"score":221,"last_activity_date":1680604952,"creation_date":1381686144,"question_id":19348248,"body_markdown":"I have a method which returns a `List` of futures\r\n\r\n    List&lt;Future&lt;O&gt;&gt; futures = getFutures();\r\n\r\nNow I want to wait until either all futures are done processing successfully or any of the tasks whose output is returned by a future throws an exception. Even if one task throws an exception, there is no point in waiting for the other futures.\r\n\r\nSimple approach would be to\r\n\r\n    wait() {\r\n    \r\n       For(Future f : futures) {\r\n         try {\r\n           f.get();\r\n         } catch(Exception e) {\r\n           //TODO catch specific exception\r\n           // this future threw exception , means somone could not do its task\r\n           return;\r\n         }\r\n       }\r\n    }\r\n\r\nBut the problem here is if, for example, the 4th future throws an exception, then I will wait unnecessarily for the first 3 futures to be available.\r\n\r\nHow to solve this? Will count down latch help in any way? I&#39;m unable to use Future `isDone` because the java doc says\r\n\r\n    boolean isDone()\r\n    Returns true if this task completed. Completion may be due to normal termination, an exception, or cancellation -- in all of these cases, this method will return true.\r\n","title":"Waiting on a list of Future","body":"<p>I have a method which returns a <code>List</code> of futures</p>\n\n<pre><code>List&lt;Future&lt;O&gt;&gt; futures = getFutures();\n</code></pre>\n\n<p>Now I want to wait until either all futures are done processing successfully or any of the tasks whose output is returned by a future throws an exception. Even if one task throws an exception, there is no point in waiting for the other futures.</p>\n\n<p>Simple approach would be to</p>\n\n<pre><code>wait() {\n\n   For(Future f : futures) {\n     try {\n       f.get();\n     } catch(Exception e) {\n       //TODO catch specific exception\n       // this future threw exception , means somone could not do its task\n       return;\n     }\n   }\n}\n</code></pre>\n\n<p>But the problem here is if, for example, the 4th future throws an exception, then I will wait unnecessarily for the first 3 futures to be available.</p>\n\n<p>How to solve this? Will count down latch help in any way? I'm unable to use Future <code>isDone</code> because the java doc says</p>\n\n<pre><code>boolean isDone()\nReturns true if this task completed. Completion may be due to normal termination, an exception, or cancellation -- in all of these cases, this method will return true.\n</code></pre>\n"},{"tags":["java","android","background","themes","statusbar"],"comments":[{"owner":{"account_id":281797,"reputation":18034,"user_id":578309,"accept_rate":67,"display_name":"thanhbinh84"},"score":0,"creation_date":1295259569,"post_id":4712044,"comment_id":5202788,"body_markdown":"Here is what I am expecting http://i1178.photobucket.com/albums/x370/BinhNguyen84/device1.png. I couldn&#39;t put it in my question due to max link restriction","body":"Here is what I am expecting <a href=\"http://i1178.photobucket.com/albums/x370/BinhNguyen84/device1.png\" rel=\"nofollow noreferrer\">i1178.photobucket.com/albums/x370/BinhNguyen84/device1.png</a>. I couldn&#39;t put it in my question due to max link restriction"}],"answers":[{"comments":[{"owner":{"account_id":281797,"reputation":18034,"user_id":578309,"accept_rate":67,"display_name":"thanhbinh84"},"score":0,"creation_date":1295263659,"post_id":4712138,"comment_id":5203510,"body_markdown":"Genius. How can you find out this param. Thank a ton, it took my whole this afternoon. :)","body":"Genius. How can you find out this param. Thank a ton, it took my whole this afternoon. :)"},{"owner":{"account_id":272562,"reputation":24469,"user_id":563718,"accept_rate":93,"display_name":"C0deAttack"},"score":1,"creation_date":1295264531,"post_id":4712138,"comment_id":5203655,"body_markdown":"It&#39;s buried in the doc&#39;s, http://developer.android.com/reference/android/R.styleable.html#Theme_windowContentOverlay","body":"It&#39;s buried in the doc&#39;s, <a href=\"http://developer.android.com/reference/android/R.styleable.html#Theme_windowContentOverlay\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/&hellip;</a>"}],"tags":[],"owner":{"account_id":272562,"reputation":24469,"user_id":563718,"accept_rate":93,"display_name":"C0deAttack"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1295260278,"creation_date":1295260278,"answer_id":4712138,"question_id":4712044,"body_markdown":"Judging by your screenshot the &#39;seperator&#39; is actually the status bar shadow. I&#39;m going from memory here but I think you can disable it with:\r\n\r\n    &lt;item name=&quot;android:windowContentOverlay&quot;&gt;@null&lt;/item&gt;\r\n\r\nApologies if the attribute name is slightly wrong, as I say, going from memory but I think it&#39;s right.","title":"How does one remove the separator line / shadow between status bar and main screen?","body":"<p>Judging by your screenshot the 'seperator' is actually the status bar shadow. I'm going from memory here but I think you can disable it with:</p>\n\n<pre><code>&lt;item name=\"android:windowContentOverlay\"&gt;@null&lt;/item&gt;\n</code></pre>\n\n<p>Apologies if the attribute name is slightly wrong, as I say, going from memory but I think it's right.</p>\n"}],"owner":{"account_id":281797,"reputation":18034,"user_id":578309,"accept_rate":67,"display_name":"thanhbinh84"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2302,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":4712138,"answer_count":1,"score":4,"last_activity_date":1680604737,"creation_date":1295259537,"question_id":4712044,"body_markdown":"In my application, I&#39;d like to keep status bar but make its background be the same as the main screen.\r\n\r\nSo I created a custom theme to set application background:\r\n\r\n    &lt;resources&gt;\r\n      &lt;style name=&quot;Theme.Shelves&quot; parent=&quot;android:Theme&quot;&gt;\r\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/background_shelf&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n      &lt;/style&gt;\r\n    &lt;/resources&gt;\r\n\r\nThen put it in manifest:\r\n\r\n     &lt;application android:icon=&quot;@drawable/icon&quot; \r\n                  android:theme=&quot;@style/Theme.Shelves&quot;\r\n                  android:label=&quot;@string/app_name&quot;&gt;\r\n\r\n        &lt;activity android:name=&quot;.HelloWorld&quot;\r\n                  android:label=&quot;@string/app_name&quot;&gt;\r\n\r\nAnd get this one:\r\n\r\n[![Screen shot 2][1]][1]\n&lt;!-- source: http://i1178.photobucket.com/albums/x370/BinhNguyen84/device.png --&gt;\r\n\r\nEverything is okay except the separator line between status bar and main screen. I thought that it&#39;s because of text view padding, so I set it to zero but nothing changed. \r\n\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        \r\n        TextView tv = new TextView(this);\r\n        tv.setText(&quot;Hello World&quot;);\r\n        setContentView(tv);\r\n        tv.setPadding(0,0,0,0);\r\n    }\r\n\r\n \r\n \r\n  [1]: https://i.stack.imgur.com/fXWrE.png","title":"How does one remove the separator line / shadow between status bar and main screen?","body":"<p>In my application, I'd like to keep status bar but make its background be the same as the main screen.</p>\n<p>So I created a custom theme to set application background:</p>\n<pre><code>&lt;resources&gt;\n  &lt;style name=&quot;Theme.Shelves&quot; parent=&quot;android:Theme&quot;&gt;\n    &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/background_shelf&lt;/item&gt;\n    &lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;\n  &lt;/style&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>Then put it in manifest:</p>\n<pre><code> &lt;application android:icon=&quot;@drawable/icon&quot; \n              android:theme=&quot;@style/Theme.Shelves&quot;\n              android:label=&quot;@string/app_name&quot;&gt;\n\n    &lt;activity android:name=&quot;.HelloWorld&quot;\n              android:label=&quot;@string/app_name&quot;&gt;\n</code></pre>\n<p>And get this one:</p>\n<p><a href=\"https://i.stack.imgur.com/fXWrE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fXWrE.png\" alt=\"Screen shot 2\" /></a></p>\n\n<p>Everything is okay except the separator line between status bar and main screen. I thought that it's because of text view padding, so I set it to zero but nothing changed.</p>\n<pre><code>public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    \n    TextView tv = new TextView(this);\n    tv.setText(&quot;Hello World&quot;);\n    setContentView(tv);\n    tv.setPadding(0,0,0,0);\n}\n</code></pre>\n"},{"tags":["java","swing","awt","jtextfield","mouselistener"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1680581689,"post_id":75925398,"comment_id":133918299,"body_markdown":"I have no issues - consider providing a [mcve] which demonstrates your issue","body":"I have no issues - consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which demonstrates your issue"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1680606052,"post_id":75925398,"comment_id":133923060,"body_markdown":"please read the referenced help page and act accordingly - no way to decide what&#39;s wrong without a reproducible example","body":"please read the referenced help page and act accordingly - no way to decide what&#39;s wrong without a reproducible example"}],"answers":[{"comments":[{"owner":{"account_id":26510841,"reputation":9,"user_id":20146121,"display_name":"Rakesh Reddy"},"score":0,"creation_date":1680605026,"post_id":75927021,"comment_id":133922821,"body_markdown":"The field is set editable. It is not the problem. When I click on text field it is making text field editable. But the problem is when I enter data through keyboard, It is not showing in text field. I cannot figure out why","body":"The field is set editable. It is not the problem. When I click on text field it is making text field editable. But the problem is when I enter data through keyboard, It is not showing in text field. I cannot figure out why"},{"owner":{"account_id":23832769,"reputation":84,"user_id":17838848,"display_name":"Zero"},"score":0,"creation_date":1680605596,"post_id":75927021,"comment_id":133922960,"body_markdown":"I would like to know why you want it to be not editable until you click it. The default value for isEditable is true, not false. Did you change it to false so you can change it back to true when you click on it?","body":"I would like to know why you want it to be not editable until you click it. The default value for isEditable is true, not false. Did you change it to false so you can change it back to true when you click on it?"}],"tags":[],"owner":{"account_id":23832769,"reputation":84,"user_id":17838848,"display_name":"Zero"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680604591,"creation_date":1680596240,"answer_id":75927021,"question_id":75925398,"body_markdown":"    if (field.getText().equals(s))\r\n    {\r\n        field.setText(&quot;&quot;); // sets the deafult text as empty string and display it\r\n        field.setEditable(true);\r\n    }\r\n\r\nWith this code, the program will make the JTextField editable if its content equals the String s. If the predefined/current content is not equal to s, then the JTextField won&#39;t become editable. Since you wrote only this one void method, I don&#39;t know the content, but if it is not equal to s, I assume the JTextField won&#39;t be editable.\r\n\r\nIf you want the JTextField to be editable no matter whether the current content equals s or not, then you must write `field.setEditable(true);` outside the if condition.","title":"Text Field is not displaying text entering through keyboard in Java swing. I have set the text field editable","body":"<pre><code>if (field.getText().equals(s))\n{\n    field.setText(&quot;&quot;); // sets the deafult text as empty string and display it\n    field.setEditable(true);\n}\n</code></pre>\n<p>With this code, the program will make the JTextField editable if its content equals the String s. If the predefined/current content is not equal to s, then the JTextField won't become editable. Since you wrote only this one void method, I don't know the content, but if it is not equal to s, I assume the JTextField won't be editable.</p>\n<p>If you want the JTextField to be editable no matter whether the current content equals s or not, then you must write <code>field.setEditable(true);</code> outside the if condition.</p>\n"}],"owner":{"account_id":26510841,"reputation":9,"user_id":20146121,"display_name":"Rakesh Reddy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680604591,"creation_date":1680580480,"question_id":75925398,"body_markdown":"    void addClick(JTextField field,String s) {\r\n        field.addMouseListener(new MouseInputAdapter() {\r\n            public void mouseClicked(MouseEvent e) {\r\n                //when user clicks on amount text field,\r\n                //makes text field editable to enable user to enter amount in it\r\n                if (field.getText().equals(s)) {\r\n                    field.setText(&quot;&quot;); // sets the deafult text as empty string and display it\r\n                    field.setEditable(true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n`JTextField` is passed as parameter to `addClick` method. Initially it is not editable, i.e. `setEditable(false)`. But when user clicks on it should be made editable and user can enter the data through keyboard. `MouseListener` is working fine, i.e. it is making text field editable (sets `setEditable(true)`), but when I enter text in text field, it is not displaying the data that I am entering. By the way, I have implemented all the other methods of mouse listener interface.\r\n\r\nCan I know how I can make text field to display data user is entering through keyboard as text field is not reading any input from the keyboard.","title":"Text Field is not displaying text entering through keyboard in Java swing. I have set the text field editable","body":"<pre><code>void addClick(JTextField field,String s) {\n    field.addMouseListener(new MouseInputAdapter() {\n        public void mouseClicked(MouseEvent e) {\n            //when user clicks on amount text field,\n            //makes text field editable to enable user to enter amount in it\n            if (field.getText().equals(s)) {\n                field.setText(&quot;&quot;); // sets the deafult text as empty string and display it\n                field.setEditable(true);\n            }\n        }\n    });\n}\n</code></pre>\n<p><code>JTextField</code> is passed as parameter to <code>addClick</code> method. Initially it is not editable, i.e. <code>setEditable(false)</code>. But when user clicks on it should be made editable and user can enter the data through keyboard. <code>MouseListener</code> is working fine, i.e. it is making text field editable (sets <code>setEditable(true)</code>), but when I enter text in text field, it is not displaying the data that I am entering. By the way, I have implemented all the other methods of mouse listener interface.</p>\n<p>Can I know how I can make text field to display data user is entering through keyboard as text field is not reading any input from the keyboard.</p>\n"},{"tags":["java","regex","string","split"],"comments":[{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1680602408,"post_id":75928021,"comment_id":133922208,"body_markdown":"Try with extracting (not splitting) all with `\\S+|\\s+` pattern. See [this Java demo](https://ideone.com/O4GfW6).","body":"Try with extracting (not splitting) all with <code>\\S+|\\s+</code> pattern. See <a href=\"https://ideone.com/O4GfW6\" rel=\"nofollow noreferrer\">this Java demo</a>."},{"owner":{"account_id":25940493,"reputation":105,"user_id":19660081,"display_name":"Ivan Dvurechenskiy"},"score":0,"creation_date":1680604248,"post_id":75928021,"comment_id":133922659,"body_markdown":"@WiktorStribiżew thanks man,you saved me a day!! I think you should post this as an answer:)","body":"@WiktorStribiżew thanks man,you saved me a day!! I think you should post this as an answer:)"}],"answers":[{"comments":[{"owner":{"account_id":15351825,"reputation":469,"user_id":11075348,"display_name":"hitesh bedre"},"score":0,"creation_date":1680606961,"post_id":75928328,"comment_id":133923243,"body_markdown":"We can eliminate the &quot;word only having space character&quot; by having splitting patter as &quot;\\s+&quot;","body":"We can eliminate the &quot;word only having space character&quot; by having splitting patter as &quot;\\s+&quot;"}],"tags":[],"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680604424,"creation_date":1680604424,"answer_id":75928328,"question_id":75928021,"body_markdown":"You can extract the whitespace and non-whitespace strings (and basically, tokenize the text into whitespace and non-whitespace text chunks) using the `\\S+|\\s+` regex.\r\n\r\nSee the [Java demo][1]:\r\n```java\r\nimport java.util.*;\r\nimport java.util.regex.*;\r\n \r\nclass Ideone\r\n{\r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t\tString line = &quot;word1 word2! word3? word4; word5, word6\\nword7\\n!word8! word9 word10 word11 word12&quot;;\r\n\t\tPattern p = Pattern.compile(&quot;\\\\S+|\\\\s+&quot;);\r\n\t    Matcher m = p.matcher(line);\r\n\t    List&lt;String&gt; res = new ArrayList&lt;&gt;();\r\n\t    while(m.find()) {\r\n\t    \tres.add(m.group());\r\n\t    }\r\n\t    System.out.println(res);\r\n\t}\r\n}\r\n```\r\nOutput:\r\n```none\r\n[word1,  , word2!,  , word3?,  , word4;,  , word5,,  , word6, \r\n, word7, \r\n, !word8!,  , word9,  , word10,  , word11,  , word12]\r\n```\r\nwhere the line breaks are literal line break chars.\r\n\r\n  [1]: https://ideone.com/O4GfW6","title":"Java RegExp Split String with saving delimiters","body":"<p>You can extract the whitespace and non-whitespace strings (and basically, tokenize the text into whitespace and non-whitespace text chunks) using the <code>\\S+|\\s+</code> regex.</p>\n<p>See the <a href=\"https://ideone.com/O4GfW6\" rel=\"nofollow noreferrer\">Java demo</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.util.regex.*;\n \nclass Ideone\n{\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        String line = &quot;word1 word2! word3? word4; word5, word6\\nword7\\n!word8! word9 word10 word11 word12&quot;;\n        Pattern p = Pattern.compile(&quot;\\\\S+|\\\\s+&quot;);\n        Matcher m = p.matcher(line);\n        List&lt;String&gt; res = new ArrayList&lt;&gt;();\n        while(m.find()) {\n            res.add(m.group());\n        }\n        System.out.println(res);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[word1,  , word2!,  , word3?,  , word4;,  , word5,,  , word6, \n, word7, \n, !word8!,  , word9,  , word10,  , word11,  , word12]\n</code></pre>\n<p>where the line breaks are literal line break chars.</p>\n"}],"owner":{"account_id":25940493,"reputation":105,"user_id":19660081,"display_name":"Ivan Dvurechenskiy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75928328,"answer_count":1,"score":1,"last_activity_date":1680604424,"creation_date":1680602322,"question_id":75928021,"body_markdown":"So, I have a simple string that looks like this:\r\n```\r\nword1 word2! word3? word4; word5, word6\r\nword7 //new line\r\n!word8! word9 word10 word11 word12\r\n```\r\nAnd my desire is to split this string with saving whitespace and new line delimiters.\r\nRight now I&#39;m using a s.split() method with ```[\\\\s\\\\r\\\\n]``` expression as its argument and the output is:\r\n```\r\n[word1, word2!, word3?, word4;, word5,, word6, , word7, , !word8!, word9, word10, word11, word12]\r\n```\r\nAnd I&#39;m okay with a whitespaces not being saved. But what can I do with a ```\\n``` being saved just as a whitespace?\r\n\r\n\r\nUPD: I pass this string through RabbitMQ query. In Java it will look like this:\r\n```\r\n&quot;word1 word2! word3? word4; word5, word6\\nword7\\n!word8! word9 word10 word11 word12&quot;\r\n```","title":"Java RegExp Split String with saving delimiters","body":"<p>So, I have a simple string that looks like this:</p>\n<pre><code>word1 word2! word3? word4; word5, word6\nword7 //new line\n!word8! word9 word10 word11 word12\n</code></pre>\n<p>And my desire is to split this string with saving whitespace and new line delimiters.\nRight now I'm using a s.split() method with <code>[\\\\s\\\\r\\\\n]</code> expression as its argument and the output is:</p>\n<pre><code>[word1, word2!, word3?, word4;, word5,, word6, , word7, , !word8!, word9, word10, word11, word12]\n</code></pre>\n<p>And I'm okay with a whitespaces not being saved. But what can I do with a <code>\\n</code> being saved just as a whitespace?</p>\n<p>UPD: I pass this string through RabbitMQ query. In Java it will look like this:</p>\n<pre><code>&quot;word1 word2! word3? word4; word5, word6\\nword7\\n!word8! word9 word10 word11 word12&quot;\n</code></pre>\n"},{"tags":["java","git","maven","github","jgit"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1680603466,"post_id":75928172,"comment_id":133922473,"body_markdown":"Hello and welcome. What error?","body":"Hello and welcome. What error?"},{"owner":{"account_id":27212231,"reputation":1,"user_id":20742863,"display_name":"GermanK"},"score":0,"creation_date":1680603790,"post_id":75928172,"comment_id":133922547,"body_markdown":"error complains about the cloneCommand.call()","body":"error complains about the cloneCommand.call()"},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1680604054,"post_id":75928172,"comment_id":133922612,"body_markdown":"Once again, what error? Please provide the stacktrace.","body":"Once again, what error? Please provide the stacktrace."},{"owner":{"account_id":27212231,"reputation":1,"user_id":20742863,"display_name":"GermanK"},"score":0,"creation_date":1680604191,"post_id":75928172,"comment_id":133922644,"body_markdown":"added the entire error from the console to the description","body":"added the entire error from the console to the description"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1680604318,"post_id":75928172,"comment_id":133922677,"body_markdown":"&quot;Caused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory&quot; is that class in your classpath?","body":"&quot;Caused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory&quot; is that class in your classpath?"},{"owner":{"account_id":27212231,"reputation":1,"user_id":20742863,"display_name":"GermanK"},"score":0,"creation_date":1680604396,"post_id":75928172,"comment_id":133922692,"body_markdown":"there is no such class in the code","body":"there is no such class in the code"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1680604557,"post_id":75928172,"comment_id":133922726,"body_markdown":"@GermanK no, but some of the code you import (jgit, from the looks of that stack trace) may depend on that.","body":"@GermanK no, but some of the code you import (jgit, from the looks of that stack trace) may depend on that."},{"owner":{"account_id":27212231,"reputation":1,"user_id":20742863,"display_name":"GermanK"},"score":0,"creation_date":1680604715,"post_id":75928172,"comment_id":133922763,"body_markdown":"I imported jgit through a jar file on my computer","body":"I imported jgit through a jar file on my computer"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1680604905,"post_id":75928172,"comment_id":133922801,"body_markdown":"Ok, but you need to include in the classpath its dependencies as well.","body":"Ok, but you need to include in the classpath its dependencies as well."},{"owner":{"account_id":27212231,"reputation":1,"user_id":20742863,"display_name":"GermanK"},"score":0,"creation_date":1680604934,"post_id":75928172,"comment_id":133922808,"body_markdown":"`&lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jgit&lt;/groupId&gt;\n            &lt;artifactId&gt;org.eclipse.jgit&lt;/artifactId&gt;\n            &lt;version&gt;5.11.1.202105131744-r&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;C:/Users/kotge/IdeaProjects/org.eclipse.jgit-6.5.0.202303070854-r.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;`","body":"<code>&lt;dependency&gt;             &lt;groupId&gt;org.eclipse.jgit&lt;&#47;groupId&gt;             &lt;artifactId&gt;org.eclipse.jgit&lt;&#47;artifactId&gt;             &lt;version&gt;5.11.1.202105131744-r&lt;&#47;version&gt;             &lt;scope&gt;system&lt;&#47;scope&gt;             &lt;systemPath&gt;C:&#47;Users&#47;kotge&#47;IdeaProjects&#47;org.eclipse.jgit-6.5&zwnj;&#8203;.0.202303070854-r.ja&zwnj;&#8203;r&lt;&#47;systemPath&gt;         &lt;&#47;dependency&gt;</code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1680605142,"post_id":75928172,"comment_id":133922852,"body_markdown":"Don&#39;t use system scope, let maven do its job and download what you need.","body":"Don&#39;t use system scope, let maven do its job and download what you need."}],"owner":{"account_id":27212231,"reputation":1,"user_id":20742863,"display_name":"GermanK"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680605134,"answer_count":0,"score":0,"last_activity_date":1680604253,"creation_date":1680603410,"question_id":75928172,"body_markdown":"i need to download files from git repository to directory via java code, and i have error witch my code when the download begins\r\n\r\n\r\n```\r\n    private void downloading() throws GitAPIException {\r\n        String repoUrl = &quot;url&quot;;\r\n        String localPath = directory;\r\n        String username = &quot;username&quot;;\r\n        String password = &quot;password&quot;;\r\n\r\n        CloneCommand cloneCommand = Git.cloneRepository()\r\n                .setURI(repoUrl)\r\n                .setDirectory(new File(localPath))\r\n                .setCredentialsProvider(new UsernamePasswordCredentialsProvider(username, password));\r\n        try (Git git = cloneCommand.call()) {\r\n            System.out.println(&quot;Repository was successfully cloned into &quot; + localPath);\r\n        } catch (GitAPIException e) {\r\n            System.err.println(&quot;Error cloning repository: &quot; + e.getMessage());\r\n        }\r\n    }\r\n```\r\n\r\n\r\nthe full error\r\n\r\n```none\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n\tat javafx.fxml@18.0.2/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1857)\r\n\tat javafx.fxml@18.0.2/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.base@21-ea/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@21-ea/javafx.scene.Node.fireEvent(Node.java:8935)\r\n\tat javafx.controls@21-ea/javafx.scene.control.Button.fire(Button.java:203)\r\n\tat javafx.controls@21-ea/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\r\n\tat javafx.controls@21-ea/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base@21-ea/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@21-ea/javafx.scene.Scene$MouseHandler.process(Scene.java:3980)\r\n\tat javafx.graphics@21-ea/javafx.scene.Scene.processMouseEvent(Scene.java:1890)\r\n\tat javafx.graphics@21-ea/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2704)\r\n\tat javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n\tat javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n\tat javafx.graphics@21-ea/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n\tat javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n\tat javafx.graphics@21-ea/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n\tat javafx.graphics@21-ea/com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n\tat javafx.graphics@21-ea/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@21-ea/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:183)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat javafx.base@21-ea/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)\r\n\tat javafx.fxml@18.0.2/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\r\n\tat javafx.fxml@18.0.2/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1854)\r\n\t... 46 more\r\nCaused by: java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory\r\n\tat org.eclipse.jgit@6.5.0.202303070854-r/org.eclipse.jgit.util.SystemReader.&lt;clinit&gt;(SystemReader.java:58)\r\n\tat org.eclipse.jgit@6.5.0.202303070854-r/org.eclipse.jgit.lib.BaseRepositoryBuilder.readEnvironment(BaseRepositoryBuilder.java:405)\r\n\tat org.eclipse.jgit@6.5.0.202303070854-r/org.eclipse.jgit.api.InitCommand.call(InitCommand.java:64)\r\n\tat org.eclipse.jgit@6.5.0.202303070854-r/org.eclipse.jgit.api.CloneCommand.init(CloneCommand.java:282)\r\n\tat org.eclipse.jgit@6.5.0.202303070854-r/org.eclipse.jgit.api.CloneCommand.call(CloneCommand.java:182)\r\n\tat com.gitipi.launcher/com.gitipi.launcher.Controller.downloading(Controller.java:122)\r\n\tat com.gitipi.launcher/com.gitipi.launcher.Controller.download(Controller.java:87)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\t... 53 more\r\nCaused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 61 more\r\n```","title":"How to download git repository via java code","body":"<p>i need to download files from git repository to directory via java code, and i have error witch my code when the download begins</p>\n<pre><code>    private void downloading() throws GitAPIException {\n        String repoUrl = &quot;url&quot;;\n        String localPath = directory;\n        String username = &quot;username&quot;;\n        String password = &quot;password&quot;;\n\n        CloneCommand cloneCommand = Git.cloneRepository()\n                .setURI(repoUrl)\n                .setDirectory(new File(localPath))\n                .setCredentialsProvider(new UsernamePasswordCredentialsProvider(username, password));\n        try (Git git = cloneCommand.call()) {\n            System.out.println(&quot;Repository was successfully cloned into &quot; + localPath);\n        } catch (GitAPIException e) {\n            System.err.println(&quot;Error cloning repository: &quot; + e.getMessage());\n        }\n    }\n</code></pre>\n<p>the full error</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at javafx.fxml@18.0.2/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1857)\n    at javafx.fxml@18.0.2/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\n    at javafx.base@21-ea/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base@21-ea/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\n    at javafx.base@21-ea/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\n    at javafx.base@21-ea/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21-ea/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@21-ea/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base@21-ea/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@21-ea/javafx.scene.Node.fireEvent(Node.java:8935)\n    at javafx.controls@21-ea/javafx.scene.control.Button.fire(Button.java:203)\n    at javafx.controls@21-ea/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\n    at javafx.controls@21-ea/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base@21-ea/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n    at javafx.base@21-ea/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base@21-ea/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\n    at javafx.base@21-ea/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\n    at javafx.base@21-ea/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21-ea/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@21-ea/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base@21-ea/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@21-ea/javafx.scene.Scene$MouseHandler.process(Scene.java:3980)\n    at javafx.graphics@21-ea/javafx.scene.Scene.processMouseEvent(Scene.java:1890)\n    at javafx.graphics@21-ea/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2704)\n    at javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics@21-ea/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics@21-ea/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\n    at javafx.graphics@21-ea/com.sun.glass.ui.View.notifyMouse(View.java:937)\n    at javafx.graphics@21-ea/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@21-ea/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:183)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at javafx.base@21-ea/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)\n    at javafx.fxml@18.0.2/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\n    at javafx.fxml@18.0.2/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1854)\n    ... 46 more\nCaused by: java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory\n    at org.eclipse.jgit@6.5.0.202303070854-r/org.eclipse.jgit.util.SystemReader.&lt;clinit&gt;(SystemReader.java:58)\n    at org.eclipse.jgit@6.5.0.202303070854-r/org.eclipse.jgit.lib.BaseRepositoryBuilder.readEnvironment(BaseRepositoryBuilder.java:405)\n    at org.eclipse.jgit@6.5.0.202303070854-r/org.eclipse.jgit.api.InitCommand.call(InitCommand.java:64)\n    at org.eclipse.jgit@6.5.0.202303070854-r/org.eclipse.jgit.api.CloneCommand.init(CloneCommand.java:282)\n    at org.eclipse.jgit@6.5.0.202303070854-r/org.eclipse.jgit.api.CloneCommand.call(CloneCommand.java:182)\n    at com.gitipi.launcher/com.gitipi.launcher.Controller.downloading(Controller.java:122)\n    at com.gitipi.launcher/com.gitipi.launcher.Controller.download(Controller.java:87)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    ... 53 more\nCaused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 61 more\n</code></pre>\n"},{"tags":["java","spring","micronaut"],"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":1,"creation_date":1680739781,"post_id":75928288,"comment_id":133951103,"body_markdown":"https://meta.stackexchange.com/q/387964/997587","body":"<a href=\"https://meta.stackexchange.com/q/387964/997587\">meta.stackexchange.com/q/387964/997587</a>"},{"owner":{"account_id":26513284,"reputation":21,"user_id":20148163,"display_name":"user20148163"},"score":0,"creation_date":1681830383,"post_id":75928288,"comment_id":134118263,"body_markdown":"Wow, useless drive-by comment. :eyeroll:","body":"Wow, useless drive-by comment. :eyeroll:"},{"owner":{"account_id":19255478,"reputation":8414,"user_id":14072498,"display_name":"Roar S."},"score":0,"creation_date":1682628146,"post_id":75928288,"comment_id":134250123,"body_markdown":"When &quot;Googling like crazy&quot;, did you come across this question/answer: https://stackoverflow.com/a/53375338/14072498","body":"When &quot;Googling like crazy&quot;, did you come across this question/answer: <a href=\"https://stackoverflow.com/a/53375338/14072498\">stackoverflow.com/a/53375338/14072498</a>"}],"owner":{"account_id":26513284,"reputation":21,"user_id":20148163,"display_name":"user20148163"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680604184,"creation_date":1680604184,"question_id":75928288,"body_markdown":"Have a bunch of GraphQL schema files I need to load, I would like to do something like\r\n\r\n```\r\nresourceResolver.getResource(&quot;classpath:graphql/**/*.graphqls&quot;)\r\n```\r\n\r\nIn Spring this would be a use for PathMatchingResourcePatternResolver - however this doesn&#39;t seem to exist in Micronaut (it briefly lived in CLI, but in 1.3.1).\r\n\r\nWhat&#39;s the preferred approach? Resources will only ever be in that subdirectory.\r\n\r\n\r\nGoogling like crazy. Seems only references to people trying to recreate it without spring.","title":"What is the Micronaut equivalent of PathMatchingResourcePatternResolver","body":"<p>Have a bunch of GraphQL schema files I need to load, I would like to do something like</p>\n<pre><code>resourceResolver.getResource(&quot;classpath:graphql/**/*.graphqls&quot;)\n</code></pre>\n<p>In Spring this would be a use for PathMatchingResourcePatternResolver - however this doesn't seem to exist in Micronaut (it briefly lived in CLI, but in 1.3.1).</p>\n<p>What's the preferred approach? Resources will only ever be in that subdirectory.</p>\n<p>Googling like crazy. Seems only references to people trying to recreate it without spring.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1680605625,"post_id":75928266,"comment_id":133922974,"body_markdown":"Where&#39;s your `ConfigurationConvertor` class? I don&#39;t have intelliJ handy, but have you checked it doesn&#39;t expect a fully qualified class name there?","body":"Where&#39;s your <code>ConfigurationConvertor</code> class? I don&#39;t have intelliJ handy, but have you checked it doesn&#39;t expect a fully qualified class name there?"},{"owner":{"account_id":8835692,"reputation":1670,"user_id":6629569,"accept_rate":71,"display_name":"Abby"},"score":0,"creation_date":1680607281,"post_id":75928266,"comment_id":133923323,"body_markdown":"If it is a maven project then I would expect a [maven run configuration](https://www.jetbrains.com/help/idea/work-with-maven-goals.html).","body":"If it is a maven project then I would expect a <a href=\"https://www.jetbrains.com/help/idea/work-with-maven-goals.html\" rel=\"nofollow noreferrer\">maven run configuration</a>."}],"owner":{"account_id":28104565,"reputation":107,"user_id":21473368,"display_name":"nick"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680604032,"creation_date":1680604032,"question_id":75928266,"body_markdown":"I have a java maven project which I am running in IntelliJ. The application is running fine. But when I click on the run button I see the following message:  \r\n[change configuration settings][1]  \r\nThese are the settings for running:  \r\n[configuration settings][2]    \r\n[configuration settings 2][3]  \r\nHere is the project structure:  \r\n[enter image description here][4]  \r\nThe project I am working on is the **eclipse-to...** one\r\nWhen I click on the **run anyway** it does produce the desired output. But I am somewhat confused why it&#39;s giving that error. The red bar appears in the main class.  \r\n\r\nThings I tried:  \r\n-  Deleted the configuration and right-click on the file having the main method and run it. Which automatically creates a new configuration. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/c2UZl.png\r\n  [2]: https://i.stack.imgur.com/SLzvh.png\r\n  [3]: https://i.stack.imgur.com/Acv2H.png\r\n  [4]: https://i.stack.imgur.com/nH1CF.png","title":"Incorrect configuration settings in Intellij Idea","body":"<p>I have a java maven project which I am running in IntelliJ. The application is running fine. But when I click on the run button I see the following message:<br />\n<a href=\"https://i.stack.imgur.com/c2UZl.png\" rel=\"nofollow noreferrer\">change configuration settings</a><br />\nThese are the settings for running:<br />\n<a href=\"https://i.stack.imgur.com/SLzvh.png\" rel=\"nofollow noreferrer\">configuration settings</a><br />\n<a href=\"https://i.stack.imgur.com/Acv2H.png\" rel=\"nofollow noreferrer\">configuration settings 2</a><br />\nHere is the project structure:<br />\n<a href=\"https://i.stack.imgur.com/nH1CF.png\" rel=\"nofollow noreferrer\">enter image description here</a><br />\nThe project I am working on is the <strong>eclipse-to...</strong> one\nWhen I click on the <strong>run anyway</strong> it does produce the desired output. But I am somewhat confused why it's giving that error. The red bar appears in the main class.</p>\n<p>Things I tried:</p>\n<ul>\n<li>Deleted the configuration and right-click on the file having the main method and run it. Which automatically creates a new configuration.</li>\n</ul>\n"},{"tags":["java","spring","spring-mvc","spring-security","thymeleaf"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1680305196,"post_id":75903282,"comment_id":133881726,"body_markdown":"show us what your request looks like in the webbrowser F12/Network tab","body":"show us what your request looks like in the webbrowser F12/Network tab"},{"owner":{"account_id":22900933,"reputation":1,"user_id":17039659,"display_name":"Johndavid Cabal"},"score":0,"creation_date":1680305505,"post_id":75903282,"comment_id":133881761,"body_markdown":"it show 404 in status, GET in method and name is logout.","body":"it show 404 in status, GET in method and name is logout."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1680305587,"post_id":75903282,"comment_id":133881766,"body_markdown":"im sorry, but i did not ask for your description of what it said, i asked for you to SHOW US what the request looks like so that is can do my own analysis of what the request looks like thank you.","body":"im sorry, but i did not ask for your description of what it said, i asked for you to SHOW US what the request looks like so that is can do my own analysis of what the request looks like thank you."},{"owner":{"account_id":22900933,"reputation":1,"user_id":17039659,"display_name":"Johndavid Cabal"},"score":0,"creation_date":1680305958,"post_id":75903282,"comment_id":133881811,"body_markdown":"@Toerktumlare it looks like this &quot;http://localhost:8080/logout&quot;","body":"@Toerktumlare it looks like this &quot;<a href=\"http://localhost:8080/logout\" rel=\"nofollow noreferrer\">localhost:8080/logout</a>&quot;"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1680306540,"post_id":75903282,"comment_id":133881873,"body_markdown":"you dont seem to be able to produce what im asking for, good luck.","body":"you dont seem to be able to produce what im asking for, good luck."},{"owner":{"account_id":22900933,"reputation":1,"user_id":17039659,"display_name":"Johndavid Cabal"},"score":0,"creation_date":1680307003,"post_id":75903282,"comment_id":133881917,"body_markdown":"@Toerktumlare sorry but I cant post Imges in comments,","body":"@Toerktumlare sorry but I cant post Imges in comments,"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1680336541,"post_id":75903282,"comment_id":133884177,"body_markdown":"You do know there is an edit button on your question?","body":"You do know there is an edit button on your question?"}],"answers":[{"tags":[],"owner":{"account_id":27191068,"reputation":111,"user_id":21113813,"display_name":"GavilanPatagonico"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680317262,"creation_date":1680317262,"answer_id":75904032,"question_id":75903282,"body_markdown":"Your application is looking for a &quot;logout&quot; page that you don&#180;t have, hence 404. \r\nWhy? Because in your `securityFilterChainPatient` you put this: `.logoutUrl(&quot;/logout&quot;)`\r\n\r\nRemove `.logoutUrl(&quot;/logout&quot;).permitAll()`\r\n\r\nThe application will apply the standard logout procedure and then go to &quot;/patient/login&quot;\r\n","title":"How can I configure logout functionality in spring security with thymeleaf?","body":"<p>Your application is looking for a &quot;logout&quot; page that you don´t have, hence 404.\nWhy? Because in your <code>securityFilterChainPatient</code> you put this: <code>.logoutUrl(&quot;/logout&quot;)</code></p>\n<p>Remove <code>.logoutUrl(&quot;/logout&quot;).permitAll()</code></p>\n<p>The application will apply the standard logout procedure and then go to &quot;/patient/login&quot;</p>\n"},{"tags":[],"owner":{"account_id":28200974,"reputation":57,"user_id":21554764,"display_name":"Milind Vedi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680603325,"creation_date":1680603325,"answer_id":75928162,"question_id":75903282,"body_markdown":"change :\r\n```\r\n.logout()\r\n                .logoutUrl(&quot;/logout&quot;)\r\n                .logoutSuccessUrl(&quot;/patient/login?logout&quot;)\r\n                .invalidateHttpSession(true)\r\n                .deleteCookies(&quot;JSESSIONID&quot;)\r\n                .permitAll();\r\n```\r\n\r\nYou can also try to remove this section in config file. It will automatically redirect to login page\r\n```\r\n.logout()\r\n                    .logoutUrl(&quot;/logout&quot;).permitAll()\r\n                .logoutSuccessUrl(&quot;/patient/login&quot;)\r\n//                .invalidateHttpSession(true)\r\n//                            .logoutSuccessHandler(logoutSuccessHandler)\r\n//                            .addLogoutHandler(logoutHandler)\r\n                .deleteCookies(&quot;JSESSIONID&quot;);```","title":"How can I configure logout functionality in spring security with thymeleaf?","body":"<p>change :</p>\n<pre><code>.logout()\n                .logoutUrl(&quot;/logout&quot;)\n                .logoutSuccessUrl(&quot;/patient/login?logout&quot;)\n                .invalidateHttpSession(true)\n                .deleteCookies(&quot;JSESSIONID&quot;)\n                .permitAll();\n</code></pre>\n<p>You can also try to remove this section in config file. It will automatically redirect to login page</p>\n<pre><code>.logout()\n                    .logoutUrl(&quot;/logout&quot;).permitAll()\n                .logoutSuccessUrl(&quot;/patient/login&quot;)\n//                .invalidateHttpSession(true)\n//                            .logoutSuccessHandler(logoutSuccessHandler)\n//                            .addLogoutHandler(logoutHandler)\n                .deleteCookies(&quot;JSESSIONID&quot;);```\n</code></pre>\n"}],"owner":{"account_id":22900933,"reputation":1,"user_id":17039659,"display_name":"Johndavid Cabal"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":639,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1680603325,"creation_date":1680302852,"question_id":75903282,"body_markdown":"I am new here I just want to know where I go wrong In configuring the Logout part in spring, I made a loging form form patient but when I try to logout it promt a 404 page.\r\n\r\nHere is my Source Code.\r\n\r\n#### Controller\r\n```java\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\n@Controller\r\n@RequestMapping(&quot;/patient&quot;)\r\n@AllArgsConstructor\r\npublic class PatientLoginPage {\r\n\r\n    @GetMapping(&quot;/login&quot;)\r\n    public String patientLoginPage(Model model) {\r\n//        model.addAttribute(&quot;successRegistration&quot;, true);\r\n        return &quot;PatientWebPages/PatientLoginPage&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/login-error&quot;)\r\n    public String errorPatientLoginPage(Model model){\r\n        model.addAttribute(&quot;errorMessage&quot;, true);\r\n        return &quot;PatientWebPages/PatientLoginPage&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;login-success&quot;)\r\n    public String successPatientLoginPage(Model model) {\r\n        model.addAttribute(&quot;successRegistration&quot;, true);\r\n        return &quot;PatientWebPages/PatientLoginPage&quot;;\r\n    }\r\n}\r\n```\r\n\r\n#### Security Config\r\n```java\r\n\r\n\r\nimport com.capstone.dentalclinic.demo.security.PasswordEncoder;\r\nimport com.capstone.dentalclinic.demo.services.patient.PatientServicesImpl;\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.core.annotation.Order;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityCustomizer;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.logout.LogoutHandler;\r\nimport org.springframework.security.web.authentication.logout.LogoutSuccessHandler;\r\nimport org.springframework.security.web.server.authentication.logout.DelegatingServerLogoutHandler;\r\nimport org.springframework.security.web.server.authentication.logout.SecurityContextServerLogoutHandler;\r\nimport org.springframework.security.web.server.authentication.logout.WebSessionServerLogoutHandler;\r\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@AllArgsConstructor\r\n@Order(1)\r\npublic class PatientSecurityConfig {\r\n\r\n    private final PatientServicesImpl patientServicesImpl;\r\n\r\n    private final PasswordEncoder passwordEncoder;\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider daoAuthenticationProviderPatient() {\r\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\r\n        provider.setPasswordEncoder(passwordEncoder.bcryptPasswordEncoder());\r\n        provider.setUserDetailsService(patientServicesImpl);\r\n        return provider;\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChainPatient (HttpSecurity http) throws  Exception{\r\n            http.authorizeRequests().antMatchers(&quot;/patient/login&quot;, &quot;/patient/registration&quot;, &quot;/Service&quot;,\r\n                    &quot;/patient/login-error&quot;, &quot;/patient/login-success&quot;, &quot;/forgot-password&quot;, &quot;/new-password&quot;).permitAll();\r\n\r\n            http\r\n                .csrf().disable()\r\n                .authenticationProvider(daoAuthenticationProviderPatient())\r\n                .antMatcher(&quot;/patient/**&quot;)\r\n                .authorizeRequests().anyRequest().hasAnyAuthority(&quot;PATIENT&quot;)\r\n                .and()\r\n            .formLogin()\r\n                .loginPage(&quot;/patient/login&quot;)\r\n                .defaultSuccessUrl(&quot;/patient/dashboard&quot;, true)\r\n                .failureUrl(&quot;/patient/login-error&quot;)\r\n            .and()\r\n            .logout()\r\n                    .logoutUrl(&quot;/logout&quot;).permitAll()\r\n                .logoutSuccessUrl(&quot;/patient/login&quot;)\r\n//                .invalidateHttpSession(true)\r\n//                            .logoutSuccessHandler(logoutSuccessHandler)\r\n//                            .addLogoutHandler(logoutHandler)\r\n                .deleteCookies(&quot;JSESSIONID&quot;);\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public WebSecurityCustomizer webSecurityCustomizer1() {\r\n        return (web) -&gt; web\r\n                .ignoring()\r\n                .antMatchers(&quot;/resources/**&quot;,&quot;/static/**&quot;, &quot;/static/*&quot;, &quot;/static/&quot;, &quot;/css/**&quot;, &quot;/assets/**&quot;,\r\n                        &quot;/javascript/**&quot;);\r\n    }\r\n}\r\n```\r\n#### dashboar.html\r\n```html\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org/&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n\r\n    &lt;link rel=&quot;icon&quot; type=&quot;image/png&quot; sizes=&quot;32x32&quot; href=&quot;/assets/administrator/new-resized-logo.png&quot;&gt;\r\n    &lt;link rel=&quot;shortcut icon&quot; type=&quot;image/x-icon&quot; sizes=&quot;16x16&quot; href=&quot;/assets/administrator/new-resized-logo.png&quot;&gt;\r\n    &lt;link rel=&quot;manifest&quot; href=&quot;/site.webmanifest&quot;&gt;\r\n    &lt;link rel=&quot;mask-icon&quot; href=&quot;/safari-pinned-tab.svg&quot; color=&quot;#5bbad5&quot;&gt;\r\n    &lt;meta name=&quot;msapplication-TileColor&quot; content=&quot;#da532c&quot;&gt;\r\n    &lt;meta name=&quot;theme-color&quot; content=&quot;#ffffff&quot;&gt;\r\n\r\n   \r\n\r\n    &lt;!--Bootstrap CDN --&gt;\r\n    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; integrity=&quot;sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65&quot; crossorigin=&quot;anonymous&quot;&gt;\r\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js&quot; integrity=&quot;sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\r\n\r\n    &lt;!-- CSS Link --&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/css/patients/PatientDashboard.css}&quot;&gt;\r\n    \r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;/admin-system/src/main/resources/static/css/patients/PatientDashboard.css&quot;&gt;\r\n\r\n&lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;!-- Navbar --&gt;\r\n        &lt;nav class=&quot;navbar sticky-top navbar-expand-sm navbar-dark bg-danger opacity-100&quot;&gt;\r\n            &lt;div class=&quot;container-sm&quot;&gt;\r\n                &lt;a class=&quot;navbar-brand&quot; href=&quot;/patient/dashboard&quot;&gt;\r\n                    &lt;img th:src=&quot;@{/assets/patients/logo.png}&quot; width=&quot;85&quot; height=&quot;85&quot; alt=&quot;Logo&quot;&gt;\r\n                &lt;/a&gt;\r\n                    \r\n                &lt;button class=&quot;navbar-toggler&quot; type=&quot;button&quot; data-bs-toggle=&quot;collapse&quot; data-bs-target=&quot;#navbarNavDropdown&quot; aria-controls=&quot;navbarNavDropdown&quot; aria-expanded=&quot;false&quot; aria-label=&quot;Toggle navigation&quot;&gt;\r\n                    &lt;span class=&quot;navbar-toggler-icon&quot;&gt;&lt;/span&gt;\r\n                &lt;/button&gt;  \r\n                \r\n                &lt;div class=&quot; collapse navbar-collapse&quot; id=&quot;navbarNavDropdown&quot;&gt;\r\n                    &lt;ul class=&quot;navbar-nav ms-auto &quot;&gt;\r\n                    &lt;li class=&quot;nav-item&quot;&gt;\r\n                        &lt;a class=&quot;nav-link shadow-text mx-2&quot; aria-current=&quot;page&quot; href=&quot;#profile&quot;&gt;PROFILE&lt;/a&gt;\r\n                    &lt;/li&gt;\r\n                    &lt;li class=&quot;nav-item&quot;&gt;\r\n                        &lt;a class=&quot;nav-link shadow-text mx-2&quot; href=&quot;#record&quot;&gt;RECORDS&lt;/a&gt;\r\n                    &lt;/li&gt;\r\n                        &lt;a class=&quot;button-logout shadow-text mx-3&quot; th:href=&quot;@{/logout}&quot;&gt;LOGOUT&lt;/a&gt;\r\n                    &lt;/ul&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/nav&gt;\r\n        &lt;!-- Navbar --&gt;\r\n\r\n        &lt;!-- Main dashboard --&gt;\r\n        \r\n        &lt;div class=&quot;container-md mt-5 mb-5&quot;&gt;\r\n            &lt;div class=&quot;header&quot;&gt;\r\n                &lt;h1 class=&quot;text-center fw-bolder display-4 p-5&quot;&gt;Welcome to&lt;br&gt;Patient Dashboard&lt;/h1&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;!-- Tables --&gt;\r\n        &lt;div class=&quot;container-md mt-5 w-auto&quot; id=&quot;profile&quot;&gt;\r\n            &lt;table class=&quot;table table-borderless table-hover&quot;&gt;\r\n                &lt;thead class=&quot;thead-dark&quot;&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;th class=&quot;text-center fw-bold h2&quot; colspan=&quot;4&quot; scope=&quot;col&quot;&gt;Basic Information &lt;/th&gt;\r\n                    &lt;/tr&gt;\r\n                &lt;/thead&gt;\r\n                &lt;tbody&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot; &gt;First Name&lt;/td&gt;\r\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.firstName}&quot;&gt;&lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Middle Name&lt;/td&gt;\r\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.middleName}&quot;&gt;&lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Last Name&lt;/td&gt;\r\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.lastName}&quot;&gt;&lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Suffix&lt;/td&gt;\r\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.suffix}&quot;&gt;&lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Date of Birth&lt;/td&gt;\r\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.birthDate}&quot;&gt;&lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Gender&lt;/td&gt;\r\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.gender}&quot;&gt;&lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Civil Status&lt;/td&gt;\r\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.civilStatus}&quot;&gt;&lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Physical Disability or Condition&lt;/td&gt;\r\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.physicalDisability}&quot;&gt;&lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                &lt;/tbody&gt;\r\n            &lt;/table&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div class=&quot;container-md mt-2 w-auto&quot;&gt;\r\n            &lt;table class=&quot;table table-borderless table-hover&quot;&gt;\r\n                &lt;thead class=&quot;thead-dark&quot;&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;th class=&quot;text-center fw-bold h2&quot; colspan=&quot;4&quot; scope=&quot;col&quot;&gt;Contact Information&lt;/th&gt;\r\n                    &lt;/tr&gt;\r\n                &lt;/thead&gt;\r\n                &lt;tbody&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Email Address&lt;/td&gt;\r\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.emailAddress}&quot;&gt;&lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Complete Address&lt;/td&gt;\r\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.homeAddress}&quot;&gt;&lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Phone Number&lt;/td&gt;\r\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.contactNumber}&quot;&gt;&lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                &lt;/tbody&gt;\r\n            &lt;/table&gt;\r\n        &lt;/div&gt;\r\n        &lt;!-- Tables --&gt;\r\n\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n#### pom.xml\r\n```java\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.capstone.dentalclinic&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;admin&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;admin&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n\t\t&lt;!-- &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t&lt;/dependency&gt; --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\nAm I missing something ? Please Enlighten me.\r\n\r\n\r\nI tried and watch many tutorials but still can fix it.","title":"How can I configure logout functionality in spring security with thymeleaf?","body":"<p>I am new here I just want to know where I go wrong In configuring the Logout part in spring, I made a loging form form patient but when I try to logout it promt a 404 page.</p>\n<p>Here is my Source Code.</p>\n<h4>Controller</h4>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.AllArgsConstructor;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\n@RequestMapping(&quot;/patient&quot;)\n@AllArgsConstructor\npublic class PatientLoginPage {\n\n    @GetMapping(&quot;/login&quot;)\n    public String patientLoginPage(Model model) {\n//        model.addAttribute(&quot;successRegistration&quot;, true);\n        return &quot;PatientWebPages/PatientLoginPage&quot;;\n    }\n\n    @GetMapping(&quot;/login-error&quot;)\n    public String errorPatientLoginPage(Model model){\n        model.addAttribute(&quot;errorMessage&quot;, true);\n        return &quot;PatientWebPages/PatientLoginPage&quot;;\n    }\n\n    @GetMapping(&quot;login-success&quot;)\n    public String successPatientLoginPage(Model model) {\n        model.addAttribute(&quot;successRegistration&quot;, true);\n        return &quot;PatientWebPages/PatientLoginPage&quot;;\n    }\n}\n</code></pre>\n<h4>Security Config</h4>\n<pre class=\"lang-java prettyprint-override\"><code>\n\nimport com.capstone.dentalclinic.demo.security.PasswordEncoder;\nimport com.capstone.dentalclinic.demo.services.patient.PatientServicesImpl;\nimport lombok.AllArgsConstructor;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityCustomizer;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.logout.LogoutHandler;\nimport org.springframework.security.web.authentication.logout.LogoutSuccessHandler;\nimport org.springframework.security.web.server.authentication.logout.DelegatingServerLogoutHandler;\nimport org.springframework.security.web.server.authentication.logout.SecurityContextServerLogoutHandler;\nimport org.springframework.security.web.server.authentication.logout.WebSessionServerLogoutHandler;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\n\n@Configuration\n@EnableWebSecurity\n@AllArgsConstructor\n@Order(1)\npublic class PatientSecurityConfig {\n\n    private final PatientServicesImpl patientServicesImpl;\n\n    private final PasswordEncoder passwordEncoder;\n\n    @Bean\n    public DaoAuthenticationProvider daoAuthenticationProviderPatient() {\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n        provider.setPasswordEncoder(passwordEncoder.bcryptPasswordEncoder());\n        provider.setUserDetailsService(patientServicesImpl);\n        return provider;\n    }\n\n    @Bean\n    public SecurityFilterChain securityFilterChainPatient (HttpSecurity http) throws  Exception{\n            http.authorizeRequests().antMatchers(&quot;/patient/login&quot;, &quot;/patient/registration&quot;, &quot;/Service&quot;,\n                    &quot;/patient/login-error&quot;, &quot;/patient/login-success&quot;, &quot;/forgot-password&quot;, &quot;/new-password&quot;).permitAll();\n\n            http\n                .csrf().disable()\n                .authenticationProvider(daoAuthenticationProviderPatient())\n                .antMatcher(&quot;/patient/**&quot;)\n                .authorizeRequests().anyRequest().hasAnyAuthority(&quot;PATIENT&quot;)\n                .and()\n            .formLogin()\n                .loginPage(&quot;/patient/login&quot;)\n                .defaultSuccessUrl(&quot;/patient/dashboard&quot;, true)\n                .failureUrl(&quot;/patient/login-error&quot;)\n            .and()\n            .logout()\n                    .logoutUrl(&quot;/logout&quot;).permitAll()\n                .logoutSuccessUrl(&quot;/patient/login&quot;)\n//                .invalidateHttpSession(true)\n//                            .logoutSuccessHandler(logoutSuccessHandler)\n//                            .addLogoutHandler(logoutHandler)\n                .deleteCookies(&quot;JSESSIONID&quot;);\n        return http.build();\n    }\n\n    @Bean\n    public WebSecurityCustomizer webSecurityCustomizer1() {\n        return (web) -&gt; web\n                .ignoring()\n                .antMatchers(&quot;/resources/**&quot;,&quot;/static/**&quot;, &quot;/static/*&quot;, &quot;/static/&quot;, &quot;/css/**&quot;, &quot;/assets/**&quot;,\n                        &quot;/javascript/**&quot;);\n    }\n}\n</code></pre>\n<h4>dashboar.html</h4>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org/&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n\n    &lt;link rel=&quot;icon&quot; type=&quot;image/png&quot; sizes=&quot;32x32&quot; href=&quot;/assets/administrator/new-resized-logo.png&quot;&gt;\n    &lt;link rel=&quot;shortcut icon&quot; type=&quot;image/x-icon&quot; sizes=&quot;16x16&quot; href=&quot;/assets/administrator/new-resized-logo.png&quot;&gt;\n    &lt;link rel=&quot;manifest&quot; href=&quot;/site.webmanifest&quot;&gt;\n    &lt;link rel=&quot;mask-icon&quot; href=&quot;/safari-pinned-tab.svg&quot; color=&quot;#5bbad5&quot;&gt;\n    &lt;meta name=&quot;msapplication-TileColor&quot; content=&quot;#da532c&quot;&gt;\n    &lt;meta name=&quot;theme-color&quot; content=&quot;#ffffff&quot;&gt;\n\n   \n\n    &lt;!--Bootstrap CDN --&gt;\n    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; integrity=&quot;sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65&quot; crossorigin=&quot;anonymous&quot;&gt;\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js&quot; integrity=&quot;sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\n\n    &lt;!-- CSS Link --&gt;\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/css/patients/PatientDashboard.css}&quot;&gt;\n    \n    &lt;link rel=&quot;stylesheet&quot; href=&quot;/admin-system/src/main/resources/static/css/patients/PatientDashboard.css&quot;&gt;\n\n&lt;/head&gt;\n    &lt;body&gt;\n        &lt;!-- Navbar --&gt;\n        &lt;nav class=&quot;navbar sticky-top navbar-expand-sm navbar-dark bg-danger opacity-100&quot;&gt;\n            &lt;div class=&quot;container-sm&quot;&gt;\n                &lt;a class=&quot;navbar-brand&quot; href=&quot;/patient/dashboard&quot;&gt;\n                    &lt;img th:src=&quot;@{/assets/patients/logo.png}&quot; width=&quot;85&quot; height=&quot;85&quot; alt=&quot;Logo&quot;&gt;\n                &lt;/a&gt;\n                    \n                &lt;button class=&quot;navbar-toggler&quot; type=&quot;button&quot; data-bs-toggle=&quot;collapse&quot; data-bs-target=&quot;#navbarNavDropdown&quot; aria-controls=&quot;navbarNavDropdown&quot; aria-expanded=&quot;false&quot; aria-label=&quot;Toggle navigation&quot;&gt;\n                    &lt;span class=&quot;navbar-toggler-icon&quot;&gt;&lt;/span&gt;\n                &lt;/button&gt;  \n                \n                &lt;div class=&quot; collapse navbar-collapse&quot; id=&quot;navbarNavDropdown&quot;&gt;\n                    &lt;ul class=&quot;navbar-nav ms-auto &quot;&gt;\n                    &lt;li class=&quot;nav-item&quot;&gt;\n                        &lt;a class=&quot;nav-link shadow-text mx-2&quot; aria-current=&quot;page&quot; href=&quot;#profile&quot;&gt;PROFILE&lt;/a&gt;\n                    &lt;/li&gt;\n                    &lt;li class=&quot;nav-item&quot;&gt;\n                        &lt;a class=&quot;nav-link shadow-text mx-2&quot; href=&quot;#record&quot;&gt;RECORDS&lt;/a&gt;\n                    &lt;/li&gt;\n                        &lt;a class=&quot;button-logout shadow-text mx-3&quot; th:href=&quot;@{/logout}&quot;&gt;LOGOUT&lt;/a&gt;\n                    &lt;/ul&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/nav&gt;\n        &lt;!-- Navbar --&gt;\n\n        &lt;!-- Main dashboard --&gt;\n        \n        &lt;div class=&quot;container-md mt-5 mb-5&quot;&gt;\n            &lt;div class=&quot;header&quot;&gt;\n                &lt;h1 class=&quot;text-center fw-bolder display-4 p-5&quot;&gt;Welcome to&lt;br&gt;Patient Dashboard&lt;/h1&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;!-- Tables --&gt;\n        &lt;div class=&quot;container-md mt-5 w-auto&quot; id=&quot;profile&quot;&gt;\n            &lt;table class=&quot;table table-borderless table-hover&quot;&gt;\n                &lt;thead class=&quot;thead-dark&quot;&gt;\n                    &lt;tr&gt;\n                        &lt;th class=&quot;text-center fw-bold h2&quot; colspan=&quot;4&quot; scope=&quot;col&quot;&gt;Basic Information &lt;/th&gt;\n                    &lt;/tr&gt;\n                &lt;/thead&gt;\n                &lt;tbody&gt;\n                    &lt;tr&gt;\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot; &gt;First Name&lt;/td&gt;\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.firstName}&quot;&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Middle Name&lt;/td&gt;\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.middleName}&quot;&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Last Name&lt;/td&gt;\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.lastName}&quot;&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Suffix&lt;/td&gt;\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.suffix}&quot;&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Date of Birth&lt;/td&gt;\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.birthDate}&quot;&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Gender&lt;/td&gt;\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.gender}&quot;&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Civil Status&lt;/td&gt;\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.civilStatus}&quot;&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Physical Disability or Condition&lt;/td&gt;\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.physicalDisability}&quot;&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                &lt;/tbody&gt;\n            &lt;/table&gt;\n        &lt;/div&gt;\n\n        &lt;div class=&quot;container-md mt-2 w-auto&quot;&gt;\n            &lt;table class=&quot;table table-borderless table-hover&quot;&gt;\n                &lt;thead class=&quot;thead-dark&quot;&gt;\n                    &lt;tr&gt;\n                        &lt;th class=&quot;text-center fw-bold h2&quot; colspan=&quot;4&quot; scope=&quot;col&quot;&gt;Contact Information&lt;/th&gt;\n                    &lt;/tr&gt;\n                &lt;/thead&gt;\n                &lt;tbody&gt;\n                    &lt;tr&gt;\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Email Address&lt;/td&gt;\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.emailAddress}&quot;&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Complete Address&lt;/td&gt;\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.homeAddress}&quot;&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Phone Number&lt;/td&gt;\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.contactNumber}&quot;&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                &lt;/tbody&gt;\n            &lt;/table&gt;\n        &lt;/div&gt;\n        &lt;!-- Tables --&gt;\n\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<h4>pom.xml</h4>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.capstone.dentalclinic&lt;/groupId&gt;\n    &lt;artifactId&gt;admin&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;admin&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt; --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Am I missing something ? Please Enlighten me.</p>\n<p>I tried and watch many tutorials but still can fix it.</p>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":1,"creation_date":1680452064,"post_id":75912894,"comment_id":133897242,"body_markdown":"The error is not related to your question. This question should include more details and clarify the problem.","body":"The error is not related to your question. This question should include more details and clarify the problem."},{"owner":{"account_id":612195,"reputation":1354,"user_id":338456,"display_name":"Ricardo Saracino"},"score":0,"creation_date":1680457500,"post_id":75912894,"comment_id":133898008,"body_markdown":"Funny that the person who answered it had no problem .. thanks for nothing @RomanC","body":"Funny that the person who answered it had no problem .. thanks for nothing @RomanC"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1680634796,"post_id":75912894,"comment_id":133930727,"body_markdown":"But the answer is wrong -DTOs separate from the entities is advisable, especially if you need to version public REST API, but you&#39;ll still have issues if you ever regenerate your entities. Regenerating entities is itself a problem, and not something you should be doing once an app is stable - these are objects used by your application, so just adding removing properties is bound to cause issues for the app; your DTO and how its mapped will similarly need to change. If making schema changes, you need to update the entities similarly to ensure the application is compatible with them","body":"But the answer is wrong -DTOs separate from the entities is advisable, especially if you need to version public REST API, but you&#39;ll still have issues if you ever regenerate your entities. Regenerating entities is itself a problem, and not something you should be doing once an app is stable - these are objects used by your application, so just adding removing properties is bound to cause issues for the app; your DTO and how its mapped will similarly need to change. If making schema changes, you need to update the entities similarly to ensure the application is compatible with them"}],"answers":[{"tags":[],"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680449628,"creation_date":1680449628,"answer_id":75912975,"question_id":75912894,"body_markdown":"Thats the Wrong way! you must use DTO for that!\r\n\r\nfor Example you have:\r\n\r\n    @Entity\r\n    @Table(name = &quot;CaribbeanCountry&quot;, schema = &quot;table&quot;)\r\n    public class CaribbeanCountryEntity {\r\n      private String county;\r\n      private String city;\r\n      ...\r\n    }\r\n\r\nThen you have a DTO like:\r\n\r\n     public class CaribbeanCountryEntityDTO {\r\n          private String county;\r\n          private String city;\r\n          ...\r\n          private String customthink;\r\n\r\n        }\r\n\r\nAfter that you must Copy (for that you can use a Mapper like modelMapper) Object to the DTO object und you must then return the DTO custom object.","title":"Extened jakarta.persistence.Entity for CrudRepository","body":"<p>Thats the Wrong way! you must use DTO for that!</p>\n<p>for Example you have:</p>\n<pre><code>@Entity\n@Table(name = &quot;CaribbeanCountry&quot;, schema = &quot;table&quot;)\npublic class CaribbeanCountryEntity {\n  private String county;\n  private String city;\n  ...\n}\n</code></pre>\n<p>Then you have a DTO like:</p>\n<pre><code> public class CaribbeanCountryEntityDTO {\n      private String county;\n      private String city;\n      ...\n      private String customthink;\n\n    }\n</code></pre>\n<p>After that you must Copy (for that you can use a Mapper like modelMapper) Object to the DTO object und you must then return the DTO custom object.</p>\n"}],"owner":{"account_id":612195,"reputation":1354,"user_id":338456,"display_name":"Ricardo Saracino"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75912975,"answer_count":1,"score":-1,"last_activity_date":1680603301,"creation_date":1680448769,"question_id":75912894,"body_markdown":"I am autogenerating my Entities and i want to extend them for customization so i can regenerate them if someone modifies the schema but i cant find anyone doing this. Is this possible? Is there a better way to do this? \r\n\r\n``` Java\r\n@Entity\r\n@Table(name = &quot;CaribbeanCountry&quot;, schema = &quot;table&quot;)\r\npublic class CaribbeanCountryEntity {\r\n // AUTO GENERATED\r\n}\r\n\r\npublic class CaribbeanCountry extends CaribbeanCountryEntity {\r\n}\r\n\r\n\r\npublic interface CaribbeanCountryRepository extends CrudRepository&lt;CaribbeanCountry, Long&gt; {\r\n}\r\n```\r\n\r\n\r\nI found a good post using the recommendations from @Sametcey\r\n\r\nSpring Boot – Map Entity to DTO using ModelMapper\r\nhttps://www.geeksforgeeks.org/spring-boot-map-entity-to-dto-using-modelmapper/\r\n\r\n","title":"Extened jakarta.persistence.Entity for CrudRepository","body":"<p>I am autogenerating my Entities and i want to extend them for customization so i can regenerate them if someone modifies the schema but i cant find anyone doing this. Is this possible? Is there a better way to do this?</p>\n<pre><code>@Entity\n@Table(name = &quot;CaribbeanCountry&quot;, schema = &quot;table&quot;)\npublic class CaribbeanCountryEntity {\n // AUTO GENERATED\n}\n\npublic class CaribbeanCountry extends CaribbeanCountryEntity {\n}\n\n\npublic interface CaribbeanCountryRepository extends CrudRepository&lt;CaribbeanCountry, Long&gt; {\n}\n</code></pre>\n<p>I found a good post using the recommendations from @Sametcey</p>\n<p>Spring Boot – Map Entity to DTO using ModelMapper\n<a href=\"https://www.geeksforgeeks.org/spring-boot-map-entity-to-dto-using-modelmapper/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/spring-boot-map-entity-to-dto-using-modelmapper/</a></p>\n"},{"tags":["java","rest","github"],"owner":{"account_id":6893638,"reputation":558,"user_id":5296281,"display_name":"Mukesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680603299,"creation_date":1680598217,"question_id":75927332,"body_markdown":"We have a requirement where we have to update version of any used dependency for a number of container due to the security vulnerabilities. Instead of doing this activity manually for a all containers, we want to automate this using GitHub API. \r\n\r\nWe can push the changes of the dependency version in the github repository using GitHub API.","title":"How to use GitHub API to update the code dependency in the Maven pom.xml file","body":"<p>We have a requirement where we have to update version of any used dependency for a number of container due to the security vulnerabilities. Instead of doing this activity manually for a all containers, we want to automate this using GitHub API.</p>\n<p>We can push the changes of the dependency version in the github repository using GitHub API.</p>\n"},{"tags":["java","date","datediff","duration","java.util.date"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":3,"creation_date":1680261744,"post_id":75897771,"comment_id":133872287,"body_markdown":"Why are you using the obsolete `Date` class and not `LocalDate`?  Edit your question to include a [mre] that we can copy into our IDE, compile, and run hundreds of tests to determine the cause of the problem.","body":"Why are you using the obsolete <code>Date</code> class and not <code>LocalDate</code>?  Edit your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that we can copy into our IDE, compile, and run hundreds of tests to determine the cause of the problem."},{"owner":{"account_id":26741668,"reputation":17,"user_id":20342366,"display_name":"dannyph"},"score":0,"creation_date":1680263600,"post_id":75897771,"comment_id":133872709,"body_markdown":"Its for a project for my uni and I am obliged to use the Date  format.I am well aware that LocalDate is far more useful. Also, my project uses 7 classes with each one intertwined so im having a rough time creating a minimal reproducible example.","body":"Its for a project for my uni and I am obliged to use the Date  format.I am well aware that LocalDate is far more useful. Also, my project uses 7 classes with each one intertwined so im having a rough time creating a minimal reproducible example."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1680267373,"post_id":75897771,"comment_id":133873704,"body_markdown":"@dannyph Could you please nofify your tutor that they&#39;re using an obsolete class that was supplanted a decade ago?","body":"@dannyph Could you please nofify your tutor that they&#39;re using an obsolete class that was supplanted a decade ago?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1680271820,"post_id":75897771,"comment_id":133874894,"body_markdown":"Please provide an example of Date arguments which you believe should produce a duration greater than zero days, but which are instead causing zero to be returned.","body":"Please provide an example of Date arguments which you believe should produce a duration greater than zero days, but which are instead causing zero to be returned."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1680602236,"post_id":75897771,"comment_id":133922164,"body_markdown":"I cannot reproduce. When I run `int diff = computeDuration(Date.from(Instant.parse(&quot;2023-04-01T12:00:00Z&quot;)), Date.from(Instant.parse(&quot;2023-04-08T12:00:00Z&quot;)));`, I get 7 as expected.","body":"I cannot reproduce. When I run <code>int diff = computeDuration(Date.from(Instant.parse(&quot;2023-04-01T12:00:00&zwnj;&#8203;Z&quot;)), Date.from(Instant.parse(&quot;2023-04-08T12:00:00Z&quot;)));</code>, I get 7 as expected."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1680602295,"post_id":75897771,"comment_id":133922177,"body_markdown":"And yes, teachers requiring their students to use `Date` in 2023 deserve to be sacked. It’s really nothing useful to teach.","body":"And yes, teachers requiring their students to use <code>Date</code> in 2023 deserve to be sacked. It’s really nothing useful to teach."}],"answers":[{"comments":[{"owner":{"account_id":26741668,"reputation":17,"user_id":20342366,"display_name":"dannyph"},"score":0,"creation_date":1680263211,"post_id":75898122,"comment_id":133872641,"body_markdown":"I checked the given front end and i the difference between dates is always more than a day","body":"I checked the given front end and i the difference between dates is always more than a day"},{"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"score":0,"creation_date":1680263905,"post_id":75898122,"comment_id":133872794,"body_markdown":"Print out the from date, to dates and duration in computeDuration method. Then confirm if they are expected or not. I guess there is no magic here.","body":"Print out the from date, to dates and duration in computeDuration method. Then confirm if they are expected or not. I guess there is no magic here."},{"owner":{"account_id":26741668,"reputation":17,"user_id":20342366,"display_name":"dannyph"},"score":0,"creation_date":1680264144,"post_id":75898122,"comment_id":133872851,"body_markdown":"Here is a part of the print:\n\t\t     0 \t\t   EVENFLOW   \t  490000.0\t\t\t 0\t\t     PENDING\n\t\t TaskID \t Title \t\t Start Date \t End Date \tDuration \tStatus\n\n\t\t  0.1\tDynamic Maintenance of Neural Models\t23/03/2023\t01/11/2023\t0\tPENDING\n\t\t  0.2\tFormal Verification Models\t01/04/2023\t29/09/2023\t0\tCOMPLETED\n\n\t\t     1 \t\t   CREXDATA   \t  1800000.58\t\t\t 0\t\t     PENDING","body":"Here is a part of the print: \t\t     0 \t\t   EVENFLOW   \t  490000.0\t\t\t 0\t\t     PENDING \t\t TaskID \t Title \t\t Start Date \t End Date \tDuration \tStatus  \t\t  0.1\tDynamic Maintenance of Neural Models\t23/03/2023\t01/11/2023\t0\tPENDING \t\t  0.2\tFormal Verification Models\t01/04/2023\t29/09/2023\t0\tCOMPLETED  \t\t     1 \t\t   CREXDATA   \t  1800000.58\t\t\t 0\t\t     PENDING"},{"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"score":0,"creation_date":1680271206,"post_id":75898122,"comment_id":133874726,"body_markdown":"I mean the parameters of method computeDuration.\nAnyway, try 2 numOfTasks, debug or print the intermediate variables to verify the values.  BTW, Did you see any exception threw when you run your code?","body":"I mean the parameters of method computeDuration. Anyway, try 2 numOfTasks, debug or print the intermediate variables to verify the values.  BTW, Did you see any exception threw when you run your code?"}],"tags":[],"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680262830,"creation_date":1680262830,"answer_id":75898122,"question_id":75897771,"body_markdown":"You could confirm if the diff between your from and to dates is over one day or not. If all diffs is less than one day, then **computeDuration** return 0 always.\r\n\r\nPlease check DAYS diff is expected or not in the blow codes.\r\n```\r\n public static int computeDuration(Date from, Date to){\r\n        long diffIn = Math.abs(to.getTime() - from.getTime());\r\n        int duration = (int) TimeUnit.DAYS.convert(diffIn, TimeUnit.MILLISECONDS);\r\n        return duration;\r\n    }\r\n```","title":"Java compute duration of Project and Tasks doesnt work","body":"<p>You could confirm if the diff between your from and to dates is over one day or not. If all diffs is less than one day, then <strong>computeDuration</strong> return 0 always.</p>\n<p>Please check DAYS diff is expected or not in the blow codes.</p>\n<pre><code> public static int computeDuration(Date from, Date to){\n        long diffIn = Math.abs(to.getTime() - from.getTime());\n        int duration = (int) TimeUnit.DAYS.convert(diffIn, TimeUnit.MILLISECONDS);\n        return duration;\n    }\n</code></pre>\n"}],"owner":{"account_id":26741668,"reputation":17,"user_id":20342366,"display_name":"dannyph"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680602959,"creation_date":1680260381,"question_id":75897771,"body_markdown":"I am trying to compute the duration Of each Project and each Task appointed to the Project, unfortunately it always returns 0.\r\n**computeDuration**:\r\n```public void computeProjectDuration() {\r\n\t    Date minDate = projectTasks[0].gettaskFromDate();\r\n\t    Date maxDate = projectTasks[0].gettaskEndDate();\r\n\t    for (int i = 0; i &lt; numOfTasks; ++i) {\r\n\t        if (projectTasks[i] != null &amp;&amp; projectTasks[i].gettaskEndDate() != null &amp;&amp; projectTasks[i].gettaskFromDate() != null) {\r\n\t            projectTasks[i].settaskDuration(utils.Globals.computeDuration(projectTasks[i].gettaskFromDate(), projectTasks[i].gettaskEndDate()));\r\n\t        }\r\n\t    }\r\n\t    for (int i = 0; i &lt; numOfTasks; ++i) {\r\n\t        if (projectTasks[i] != null &amp;&amp; projectTasks[i].gettaskEndDate() != null &amp;&amp; projectTasks[i].gettaskFromDate() != null) {\r\n\t            if (utils.Globals.validateDates(projectTasks[i].gettaskFromDate(), minDate)) {\r\n\t                minDate = projectTasks[i].gettaskFromDate();\r\n\t            }\r\n\t            if (utils.Globals.validateDates(maxDate, projectTasks[i].gettaskEndDate())) {\r\n\t                maxDate = projectTasks[i].gettaskEndDate();\r\n\t            }\r\n\t        }\r\n\t    }\r\n\t    setprojectDuration(utils.Globals.computeDuration(minDate, maxDate));\r\n\t}\r\n```\r\n**utils.Globals.validateDates**:\r\n``` \r\npublic static boolean validateDates(Date from, Date to){\r\n        return from.before(to);\r\n    }\r\n``` \r\n**utils.Globals.computeDuration**:\r\n```\r\n public static int computeDuration(Date from, Date to){\r\n        long diffIn = Math.abs(to.getTime() - from.getTime());\r\n        int duration = (int) TimeUnit.DAYS.convert(diffIn, TimeUnit.MILLISECONDS);\r\n        return duration;\r\n    }\r\n```\r\nThanks in advance!","title":"Java compute duration of Project and Tasks doesnt work","body":"<p>I am trying to compute the duration Of each Project and each Task appointed to the Project, unfortunately it always returns 0.\n<strong>computeDuration</strong>:</p>\n<pre><code>        Date minDate = projectTasks[0].gettaskFromDate();\n        Date maxDate = projectTasks[0].gettaskEndDate();\n        for (int i = 0; i &lt; numOfTasks; ++i) {\n            if (projectTasks[i] != null &amp;&amp; projectTasks[i].gettaskEndDate() != null &amp;&amp; projectTasks[i].gettaskFromDate() != null) {\n                projectTasks[i].settaskDuration(utils.Globals.computeDuration(projectTasks[i].gettaskFromDate(), projectTasks[i].gettaskEndDate()));\n            }\n        }\n        for (int i = 0; i &lt; numOfTasks; ++i) {\n            if (projectTasks[i] != null &amp;&amp; projectTasks[i].gettaskEndDate() != null &amp;&amp; projectTasks[i].gettaskFromDate() != null) {\n                if (utils.Globals.validateDates(projectTasks[i].gettaskFromDate(), minDate)) {\n                    minDate = projectTasks[i].gettaskFromDate();\n                }\n                if (utils.Globals.validateDates(maxDate, projectTasks[i].gettaskEndDate())) {\n                    maxDate = projectTasks[i].gettaskEndDate();\n                }\n            }\n        }\n        setprojectDuration(utils.Globals.computeDuration(minDate, maxDate));\n    }\n</code></pre>\n<p><strong>utils.Globals.validateDates</strong>:</p>\n<pre><code>public static boolean validateDates(Date from, Date to){\n        return from.before(to);\n    }\n</code></pre>\n<p><strong>utils.Globals.computeDuration</strong>:</p>\n<pre><code> public static int computeDuration(Date from, Date to){\n        long diffIn = Math.abs(to.getTime() - from.getTime());\n        int duration = (int) TimeUnit.DAYS.convert(diffIn, TimeUnit.MILLISECONDS);\n        return duration;\n    }\n</code></pre>\n<p>Thanks in advance!</p>\n"},{"tags":["java","backend","http-status-code-500","spring-boot-gradle-plugin"],"comments":[{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1680572466,"post_id":75924600,"comment_id":133917392,"body_markdown":"I will assume that your client is a javafx app. Did you try without fx? I mean with curl or postman. If it is a simple file upload from some client (angular, react, javafx, android, etc) should be easy. Also **{username}/{password}** is a bad idea!","body":"I will assume that your client is a javafx app. Did you try without fx? I mean with curl or postman. If it is a simple file upload from some client (angular, react, javafx, android, etc) should be easy. Also <b>{username}/{password}</b> is a bad idea!"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1680573863,"post_id":75924600,"comment_id":133917547,"body_markdown":"Just a fast view but servers don&#39;t ........,. javafx.controls@19.0.2.1/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)","body":"Just a fast view but servers don&#39;t ........,. javafx.controls@19.0.2.1/com.sun.javafx.scene.control.behavi&zwnj;&#8203;or.ButtonBehavior.mo&zwnj;&#8203;useReleased(ButtonBe&zwnj;&#8203;havior.java:207)"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1680603264,"post_id":75924600,"comment_id":133922417,"body_markdown":"You posted the client exception, but there should be one on the server as well - which is where the problem actually occurred (the `StorageService` class) - so that is the more relevant one.","body":"You posted the client exception, but there should be one on the server as well - which is where the problem actually occurred (the <code>StorageService</code> class) - so that is the more relevant one."}],"owner":{"account_id":28109607,"reputation":29,"user_id":21477593,"display_name":"Micu Bogdan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1680602655,"creation_date":1680567326,"question_id":75924600,"body_markdown":" I&#39;m trying to upload a file to a springboot server and the upload feature is throwing this stack trace: \r\n\r\n    Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n    \tat javafx.fxml@19.0.2.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1857)\r\n    \tat javafx.fxml@19.0.2.1/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n    \tat javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\r\n    \tat javafx.graphics@19.0.2.1/javafx.scene.Node.fireEvent(Node.java:8923)\r\n    \tat javafx.controls@19.0.2.1/javafx.scene.control.Button.fire(Button.java:203)\r\n    \tat javafx.controls@19.0.2.1/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\r\n    \tat javafx.controls@19.0.2.1/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n    \tat javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\r\n    \tat javafx.graphics@19.0.2.1/javafx.scene.Scene$MouseHandler.process(Scene.java:3894)\r\n    \tat javafx.graphics@19.0.2.1/javafx.scene.Scene.processMouseEvent(Scene.java:1887)\r\n    \tat javafx.graphics@19.0.2.1/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2620)\r\n    \tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n    \tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n    \tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n    \tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n    \tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n    \tat javafx.graphics@19.0.2.1/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n    \tat javafx.graphics@19.0.2.1/com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n    \tat javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n    \tat javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:1589)\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    \tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\r\n    \tat javafx.fxml@19.0.2.1/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\r\n    \tat javafx.fxml@19.0.2.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1854)\r\n    \t... 50 more\r\n    Caused by: jakarta.ws.rs.InternalServerErrorException: HTTP 500 Internal Server Error\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.convertToException(JerseyInvocation.java:960)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.translate(JerseyInvocation.java:794)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.lambda$invoke$2(JerseyInvocation.java:687)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.call(JerseyInvocation.java:697)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.lambda$runInScope$3(JerseyInvocation.java:691)\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:292)\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:274)\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:205)\r\n    \tat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:390)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.runInScope(JerseyInvocation.java:691)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:686)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:461)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation$Builder.post(JerseyInvocation.java:357)\r\n    \tat client.utils.ServerUtils.internalPostRequest(ServerUtils.java:77)\r\n    \tat client.utils.ServerUtils.saveFile(ServerUtils.java:266)\r\n    \tat client.scenes.MediaPlayerCtrl.save(MediaPlayerCtrl.java:117)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \t... 57 more\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    Caused by: jakarta.ws.rs.InternalServerErrorException: HTTP 500 Internal Server Error\r\n\r\nFrom what I&#39;m getting the error happens in ServerUtils.internalPostRequest(ServerUtils.java:77) and ServerUtils.saveFile(ServerUtils.java:266) as the MediaPlayerCtrl.save(MediaPlayerCtrl.java:117) is simply calling the saveFile() method. I think this leads back to the FileController on the server, but I have no idea what might be causing the error. I&#39;ll leave the methods I referenced earlier down below. \r\n```\r\nprivate &lt;T&gt; T internalPostRequest(String path, Entity send, GenericType&lt;T&gt; retType) {\r\n        return ClientBuilder.newClient(new ClientConfig())\r\n                .target(getServer()).path(path)\r\n                .request(APPLICATION_JSON)\r\n                .accept(APPLICATION_JSON)\r\n                .post(send, retType);\r\n    }\r\n\r\npublic void saveFile(File file){\r\n        internalPostRequest(&quot;secure/&quot; + store.accessStore().getUsername() + &quot;/file/add&quot;,\r\n                Entity.entity(file, APPLICATION_JSON), new GenericType&lt;&gt;(){});\r\n    }\r\n\r\n```\r\n```\r\n@SpringBootApplication\r\n@RestController\r\n@RequestMapping(value = {&quot;/secure/{username}/{password}/file&quot;, &quot;/secure/{username}/file&quot;})\r\npublic class FileController {\r\n    @Autowired\r\n    private StorageService service;\r\n    @PostMapping(&quot;/add&quot;)\r\n    public ResponseEntity&lt;?&gt; uploadFile(@RequestParam(&quot;file&quot;) MultipartFile file) throws IOException     {\r\n        String uploadFile = service.uploadFile(file);\r\n        return ResponseEntity.status(HttpStatus.OK)\r\n                .body(uploadFile);\r\n    }\r\n```\r\n```\r\n@Service\r\npublic class StorageService {\r\n    @Autowired\r\n    private StorageRepository repository;\r\n\r\n    public String uploadFile(MultipartFile file) throws IOException {\r\n        FileData fileData = repository.save(new FileData(file.getOriginalFilename(),\r\n                        file.getContentType(), compressFile(file.getBytes())));\r\n        return &quot;File uploaded succesfully: &quot;+ file.getOriginalFilename();\r\n    }\r\n\r\n    public static byte[] compressFile(byte[] data) {\r\n        Deflater deflater = new Deflater();\r\n        deflater.setLevel(Deflater.BEST_COMPRESSION);\r\n        deflater.setInput(data);\r\n        deflater.finish();\r\n\r\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream(data.length);\r\n        byte[] tmp = new byte[4*1024];\r\n        while (!deflater.finished()) {\r\n            int size = deflater.deflate(tmp);\r\n            outputStream.write(tmp, 0, size);\r\n        }\r\n        try {\r\n            outputStream.close();\r\n        } catch (Exception ignored) {\r\n        }\r\n        return outputStream.toByteArray();\r\n    }\r\n\r\n    public String getType(String fileName){\r\n        Optional&lt;FileData&gt; dbFileData = repository.findByName(fileName);\r\n        if (dbFileData.isPresent()) {\r\n            return dbFileData.get().getType();\r\n        } else {\r\n            return &quot;File not found: &quot; + fileName;\r\n        }\r\n    }\r\n```\r\n\r\n\r\nI tried going down the rabbit hole as deep as I could, but I didn&#39;t really notice anything going wrong. For context: this is supposed to handle media files - photo (jpg, png) and video(mp3, mp4, wav etc.)","title":"I&#39;m getting an internal server 500 error and I don&#39;t know how to debug it","body":"<p>I'm trying to upload a file to a springboot server and the upload feature is throwing this stack trace:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at javafx.fxml@19.0.2.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1857)\n    at javafx.fxml@19.0.2.1/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@19.0.2.1/javafx.scene.Node.fireEvent(Node.java:8923)\n    at javafx.controls@19.0.2.1/javafx.scene.control.Button.fire(Button.java:203)\n    at javafx.controls@19.0.2.1/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\n    at javafx.controls@19.0.2.1/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@19.0.2.1/javafx.scene.Scene$MouseHandler.process(Scene.java:3894)\n    at javafx.graphics@19.0.2.1/javafx.scene.Scene.processMouseEvent(Scene.java:1887)\n    at javafx.graphics@19.0.2.1/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2620)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.View.notifyMouse(View.java:937)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at javafx.base@19.0.2.1/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\n    at javafx.fxml@19.0.2.1/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\n    at javafx.fxml@19.0.2.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1854)\n    ... 50 more\nCaused by: jakarta.ws.rs.InternalServerErrorException: HTTP 500 Internal Server Error\n    at org.glassfish.jersey.client.JerseyInvocation.convertToException(JerseyInvocation.java:960)\n    at org.glassfish.jersey.client.JerseyInvocation.translate(JerseyInvocation.java:794)\n    at org.glassfish.jersey.client.JerseyInvocation.lambda$invoke$2(JerseyInvocation.java:687)\n    at org.glassfish.jersey.client.JerseyInvocation.call(JerseyInvocation.java:697)\n    at org.glassfish.jersey.client.JerseyInvocation.lambda$runInScope$3(JerseyInvocation.java:691)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:205)\n    at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:390)\n    at org.glassfish.jersey.client.JerseyInvocation.runInScope(JerseyInvocation.java:691)\n    at org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:686)\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:461)\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.post(JerseyInvocation.java:357)\n    at client.utils.ServerUtils.internalPostRequest(ServerUtils.java:77)\n    at client.utils.ServerUtils.saveFile(ServerUtils.java:266)\n    at client.scenes.MediaPlayerCtrl.save(MediaPlayerCtrl.java:117)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    ... 57 more\nCaused by: java.lang.reflect.InvocationTargetException\nCaused by: jakarta.ws.rs.InternalServerErrorException: HTTP 500 Internal Server Error\n</code></pre>\n<p>From what I'm getting the error happens in ServerUtils.internalPostRequest(ServerUtils.java:77) and ServerUtils.saveFile(ServerUtils.java:266) as the MediaPlayerCtrl.save(MediaPlayerCtrl.java:117) is simply calling the saveFile() method. I think this leads back to the FileController on the server, but I have no idea what might be causing the error. I'll leave the methods I referenced earlier down below.</p>\n<pre><code>private &lt;T&gt; T internalPostRequest(String path, Entity send, GenericType&lt;T&gt; retType) {\n        return ClientBuilder.newClient(new ClientConfig())\n                .target(getServer()).path(path)\n                .request(APPLICATION_JSON)\n                .accept(APPLICATION_JSON)\n                .post(send, retType);\n    }\n\npublic void saveFile(File file){\n        internalPostRequest(&quot;secure/&quot; + store.accessStore().getUsername() + &quot;/file/add&quot;,\n                Entity.entity(file, APPLICATION_JSON), new GenericType&lt;&gt;(){});\n    }\n\n</code></pre>\n<pre><code>@SpringBootApplication\n@RestController\n@RequestMapping(value = {&quot;/secure/{username}/{password}/file&quot;, &quot;/secure/{username}/file&quot;})\npublic class FileController {\n    @Autowired\n    private StorageService service;\n    @PostMapping(&quot;/add&quot;)\n    public ResponseEntity&lt;?&gt; uploadFile(@RequestParam(&quot;file&quot;) MultipartFile file) throws IOException     {\n        String uploadFile = service.uploadFile(file);\n        return ResponseEntity.status(HttpStatus.OK)\n                .body(uploadFile);\n    }\n</code></pre>\n<pre><code>@Service\npublic class StorageService {\n    @Autowired\n    private StorageRepository repository;\n\n    public String uploadFile(MultipartFile file) throws IOException {\n        FileData fileData = repository.save(new FileData(file.getOriginalFilename(),\n                        file.getContentType(), compressFile(file.getBytes())));\n        return &quot;File uploaded succesfully: &quot;+ file.getOriginalFilename();\n    }\n\n    public static byte[] compressFile(byte[] data) {\n        Deflater deflater = new Deflater();\n        deflater.setLevel(Deflater.BEST_COMPRESSION);\n        deflater.setInput(data);\n        deflater.finish();\n\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream(data.length);\n        byte[] tmp = new byte[4*1024];\n        while (!deflater.finished()) {\n            int size = deflater.deflate(tmp);\n            outputStream.write(tmp, 0, size);\n        }\n        try {\n            outputStream.close();\n        } catch (Exception ignored) {\n        }\n        return outputStream.toByteArray();\n    }\n\n    public String getType(String fileName){\n        Optional&lt;FileData&gt; dbFileData = repository.findByName(fileName);\n        if (dbFileData.isPresent()) {\n            return dbFileData.get().getType();\n        } else {\n            return &quot;File not found: &quot; + fileName;\n        }\n    }\n</code></pre>\n<p>I tried going down the rabbit hole as deep as I could, but I didn't really notice anything going wrong. For context: this is supposed to handle media files - photo (jpg, png) and video(mp3, mp4, wav etc.)</p>\n"},{"tags":["java","gradle","model-view-controller","spotbugs"],"comments":[{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1680603408,"post_id":75928073,"comment_id":133922453,"body_markdown":"`ExplosionView` has a reference to `Explosion`, and `Explosion` is not immutable, it exposes `List&lt;Entity&gt; explode` through the getter. If you want to make it immutable, one option would be to keep the relationship between  ExplosionView  and Explosion  unidirectional","body":"<code>ExplosionView</code> has a reference to <code>Explosion</code>, and <code>Explosion</code> is not immutable, it exposes <code>List&lt;Entity&gt; explode</code> through the getter. If you want to make it immutable, one option would be to keep the relationship between  ExplosionView  and Explosion  unidirectional"},{"owner":{"account_id":21877588,"reputation":13,"user_id":16166407,"display_name":"Niccol&#242; Bertozzi"},"score":0,"creation_date":1680604120,"post_id":75928073,"comment_id":133922625,"body_markdown":"@EmanuelTrandafir how can i make unidirectional comunication? I need data from controller for draw in view.","body":"@EmanuelTrandafir how can i make unidirectional comunication? I need data from controller for draw in view."}],"owner":{"account_id":21877588,"reputation":13,"user_id":16166407,"display_name":"Niccol&#242; Bertozzi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680602627,"creation_date":1680602627,"question_id":75928073,"body_markdown":"I have an mvc structure for my projecy but spotbugs give me this error  \r\n(M V EI2: new it.unibo.unibomber.game.view.ExplosionView(Explosion) may expose internal representation by storing an externally mutable object into ExplosionView.controller  At ExplosionView.java:[line 31])                                                  \r\nController:\r\n```\r\npublic final class Explosion implements GameLoop {\r\n    private final ExplosionView view;\r\n    private final ExplosionImpl model;\r\n    private List&lt;Entity&gt; explode;\r\n\r\n    public List&lt;Entity&gt; getExplode() {\r\n        return new ArrayList&lt;&gt;(explode);\r\n    }\r\n\r\n    public Explosion() {\r\n        view = new ExplosionView(this);\r\n        model = new ExplosionImpl();\r\n        explode = new ArrayList&lt;&gt;();\r\n    }\r\n```\r\nView:\r\n```\r\npublic final class ExplosionView implements GameLoop {\r\n    private final Explosion controller;\r\n\r\n    public ExplosionView(final Explosion controller) {\r\n        this.controller = controller;\r\n    }\r\n```\r\nHow can i do?? ","title":"May expose internal representation by storing an externally mutable object","body":"<p>I have an mvc structure for my projecy but spotbugs give me this error<br />\n(M V EI2: new it.unibo.unibomber.game.view.ExplosionView(Explosion) may expose internal representation by storing an externally mutable object into ExplosionView.controller  At ExplosionView.java:[line 31])<br />\nController:</p>\n<pre><code>public final class Explosion implements GameLoop {\n    private final ExplosionView view;\n    private final ExplosionImpl model;\n    private List&lt;Entity&gt; explode;\n\n    public List&lt;Entity&gt; getExplode() {\n        return new ArrayList&lt;&gt;(explode);\n    }\n\n    public Explosion() {\n        view = new ExplosionView(this);\n        model = new ExplosionImpl();\n        explode = new ArrayList&lt;&gt;();\n    }\n</code></pre>\n<p>View:</p>\n<pre><code>public final class ExplosionView implements GameLoop {\n    private final Explosion controller;\n\n    public ExplosionView(final Explosion controller) {\n        this.controller = controller;\n    }\n</code></pre>\n<p>How can i do??</p>\n"},{"tags":["java","docker","ffmpeg"],"owner":{"account_id":978328,"reputation":16479,"user_id":998696,"accept_rate":85,"display_name":"Snake Eyes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680602555,"creation_date":1680602555,"question_id":75928052,"body_markdown":"I have Dockerfile:\r\n\r\n```\r\nFROM fedora:34\r\n\r\nARG VLC_UID=&quot;1000&quot;\r\nARG VLC_GID=&quot;1000&quot;\r\n\r\nENV HOME=&quot;/data&quot;\r\n\r\n\r\nRUN groupadd -g &quot;${VLC_GID}&quot; vlc &amp;&amp; \\\r\n    useradd -m -d /data -s /bin/sh -u &quot;${VLC_UID}&quot; -g &quot;${VLC_GID}&quot; vlc &amp;&amp; \\\r\n    dnf upgrade -y &amp;&amp; \\\r\n    rpm -ivh &quot;https://download1.rpmfusion.org/free/fedora/rpmfusion-free-release-34.noarch.rpm&quot; &amp;&amp; \\\r\n    dnf upgrade -y &amp;&amp; \\\r\n    dnf install -y vlc &amp;&amp; \\\r\n\tdnf install -y libaacs libbdplus &amp;&amp; \\\r\n\tdnf install -y libbluray-bdj &amp;&amp; \\\r\n    dnf clean all\r\n\r\nUSER &quot;vlc&quot;\r\n\r\nWORKDIR &quot;/data&quot;\r\n\r\nVOLUME [&quot;/data&quot;]\r\n\r\nENTRYPOINT [&quot;/usr/bin/cvlc&quot;]\r\n```\r\n\r\nAnd then run:\r\n\r\n```\r\ndocker run -d -v &quot;d:\\path&quot;:/data -p 8787:8787 myrepo/myvlc:v1 file:///data/Sample.mkv --sout &#39;#transcode {vcodec=h264,acodec=mp3,samplerate=44100}:std{access=http,mux=ffmpeg{mux=flv},dst=0.0.0.0:8787/stream.flv}&#39;\r\n```\r\n\r\nI get error:\r\n\r\n```\r\n2023-04-04 12:19:11 [000055933c090060] vlcpulse audio output error: PulseAudio server connection failure: Connection refused\r\n2023-04-04 12:19:11 [000055933c09d680] dbus interface error: Failed to connect to the D-Bus session daemon: Unable to autolaunch a dbus-daemon without a $DISPLAY for X11\r\n2023-04-04 12:19:11 [000055933c09d680] main interface error: no suitable interface module\r\n2023-04-04 12:19:11 [000055933bf26ad0] main libvlc error: interface &quot;dbus,none&quot; initialization failed\r\n2023-04-04 12:19:11 [000055933c08d7a0] main interface error: no suitable interface module\r\n2023-04-04 12:19:11 [000055933bf26ad0] main libvlc error: interface &quot;globalhotkeys,none&quot; initialization failed\r\n2023-04-04 12:19:11 [000055933c08d7a0] dummy interface: using the dummy interface module...\r\n2023-04-04 12:19:11 [00007f3b84001250] stream_out_standard stream out error: no mux specified or found by extension\r\n2023-04-04 12:19:11 [00007f3b84000f30] main stream output error: stream chain failed for `standard{mux=&quot;&quot;,access=&quot;&quot;,dst=&quot;&#39;#transcode&quot;}&#39;\r\n2023-04-04 12:19:11 [00007f3b90000c80] main input error: cannot start stream output instance, aborting\r\n2023-04-04 12:19:11 [00007f3b7c001990] stream_out_standard stream out error: no mux specified or found by extension\r\n2023-04-04 12:19:11 [00007f3b7c001690] main stream output error: stream chain failed for `standard{mux=&quot;&quot;,access=&quot;&quot;,dst=&quot;&#39;#transcode&quot;}&#39;\r\n2023-04-04 12:19:11 [00007f3b90000c80] main input error: cannot start stream output instance, aborting\r\n```\r\n\r\nI mention that I&#39;m using cvlc and I can&#39;t stream that mkv file.\r\n\r\nI tried as well `--sout &#39;#transcode{scodec=none}:http{mux=ffmpeg{mux=flv},dst=:8787/}&#39;` but same errors.\r\n\r\nHow can I solve it ?","title":"Cannot stream video from VLC docker","body":"<p>I have Dockerfile:</p>\n<pre><code>FROM fedora:34\n\nARG VLC_UID=&quot;1000&quot;\nARG VLC_GID=&quot;1000&quot;\n\nENV HOME=&quot;/data&quot;\n\n\nRUN groupadd -g &quot;${VLC_GID}&quot; vlc &amp;&amp; \\\n    useradd -m -d /data -s /bin/sh -u &quot;${VLC_UID}&quot; -g &quot;${VLC_GID}&quot; vlc &amp;&amp; \\\n    dnf upgrade -y &amp;&amp; \\\n    rpm -ivh &quot;https://download1.rpmfusion.org/free/fedora/rpmfusion-free-release-34.noarch.rpm&quot; &amp;&amp; \\\n    dnf upgrade -y &amp;&amp; \\\n    dnf install -y vlc &amp;&amp; \\\n    dnf install -y libaacs libbdplus &amp;&amp; \\\n    dnf install -y libbluray-bdj &amp;&amp; \\\n    dnf clean all\n\nUSER &quot;vlc&quot;\n\nWORKDIR &quot;/data&quot;\n\nVOLUME [&quot;/data&quot;]\n\nENTRYPOINT [&quot;/usr/bin/cvlc&quot;]\n</code></pre>\n<p>And then run:</p>\n<pre><code>docker run -d -v &quot;d:\\path&quot;:/data -p 8787:8787 myrepo/myvlc:v1 file:///data/Sample.mkv --sout '#transcode {vcodec=h264,acodec=mp3,samplerate=44100}:std{access=http,mux=ffmpeg{mux=flv},dst=0.0.0.0:8787/stream.flv}'\n</code></pre>\n<p>I get error:</p>\n<pre><code>2023-04-04 12:19:11 [000055933c090060] vlcpulse audio output error: PulseAudio server connection failure: Connection refused\n2023-04-04 12:19:11 [000055933c09d680] dbus interface error: Failed to connect to the D-Bus session daemon: Unable to autolaunch a dbus-daemon without a $DISPLAY for X11\n2023-04-04 12:19:11 [000055933c09d680] main interface error: no suitable interface module\n2023-04-04 12:19:11 [000055933bf26ad0] main libvlc error: interface &quot;dbus,none&quot; initialization failed\n2023-04-04 12:19:11 [000055933c08d7a0] main interface error: no suitable interface module\n2023-04-04 12:19:11 [000055933bf26ad0] main libvlc error: interface &quot;globalhotkeys,none&quot; initialization failed\n2023-04-04 12:19:11 [000055933c08d7a0] dummy interface: using the dummy interface module...\n2023-04-04 12:19:11 [00007f3b84001250] stream_out_standard stream out error: no mux specified or found by extension\n2023-04-04 12:19:11 [00007f3b84000f30] main stream output error: stream chain failed for `standard{mux=&quot;&quot;,access=&quot;&quot;,dst=&quot;'#transcode&quot;}'\n2023-04-04 12:19:11 [00007f3b90000c80] main input error: cannot start stream output instance, aborting\n2023-04-04 12:19:11 [00007f3b7c001990] stream_out_standard stream out error: no mux specified or found by extension\n2023-04-04 12:19:11 [00007f3b7c001690] main stream output error: stream chain failed for `standard{mux=&quot;&quot;,access=&quot;&quot;,dst=&quot;'#transcode&quot;}'\n2023-04-04 12:19:11 [00007f3b90000c80] main input error: cannot start stream output instance, aborting\n</code></pre>\n<p>I mention that I'm using cvlc and I can't stream that mkv file.</p>\n<p>I tried as well <code>--sout '#transcode{scodec=none}:http{mux=ffmpeg{mux=flv},dst=:8787/}'</code> but same errors.</p>\n<p>How can I solve it ?</p>\n"},{"tags":["java","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1671988810,"post_id":74913894,"comment_id":132204775,"body_markdown":"It looks as if your Java fields and getters (and setters) do not follow the [JavaBeans naming conventions](https://stackoverflow.com/q/1991316/12567365). If your Thymeleaf uses `${EmpPrjCnt.fName}` then it will assume the related Java getter is `getFName` - note that capital `F`. But as you show in the question, your actual Java code uses `getfName()`. Fix your Java code so it follows the naming conventions. This may be necessary but not sufficient - there may be additional issues hiding behind this one...","body":"It looks as if your Java fields and getters (and setters) do not follow the <a href=\"https://stackoverflow.com/q/1991316/12567365\">JavaBeans naming conventions</a>. If your Thymeleaf uses <code>${EmpPrjCnt.fName}</code> then it will assume the related Java getter is <code>getFName</code> - note that capital <code>F</code>. But as you show in the question, your actual Java code uses <code>getfName()</code>. Fix your Java code so it follows the naming conventions. This may be necessary but not sufficient - there may be additional issues hiding behind this one..."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1671988907,"post_id":74913894,"comment_id":132204787,"body_markdown":"Does this answer your question? [Confused about naming of JavaBean properties, with respect to getters and setters](https://stackoverflow.com/questions/8969112/confused-about-naming-of-javabean-properties-with-respect-to-getters-and-setter)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8969112/confused-about-naming-of-javabean-properties-with-respect-to-getters-and-setter\">Confused about naming of JavaBean properties, with respect to getters and setters</a>"},{"owner":{"account_id":1491025,"reputation":197,"user_id":1398105,"accept_rate":0,"display_name":"SantoshKumar"},"score":0,"creation_date":1671989898,"post_id":74913894,"comment_id":132204933,"body_markdown":"@Andrew,thanks for your reply. employeeProjectCount.get(1).getfName() is giving me the correct result in controller.","body":"@Andrew,thanks for your reply. employeeProjectCount.get(1).getfName() is giving me the correct result in controller."},{"owner":{"account_id":1491025,"reputation":197,"user_id":1398105,"accept_rate":0,"display_name":"SantoshKumar"},"score":0,"creation_date":1671991476,"post_id":74913894,"comment_id":132205168,"body_markdown":"I modified naming conventions as you mentioned but result is same.","body":"I modified naming conventions as you mentioned but result is same."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1671992152,"post_id":74913894,"comment_id":132205275,"body_markdown":"&quot;_...necessary but not sufficient..._&quot;","body":"&quot;<i>...necessary but not sufficient...</i>&quot;"},{"owner":{"account_id":1491025,"reputation":197,"user_id":1398105,"accept_rate":0,"display_name":"SantoshKumar"},"score":0,"creation_date":1671992234,"post_id":74913894,"comment_id":132205293,"body_markdown":"what else could cause headache for us?","body":"what else could cause headache for us?"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1671992306,"post_id":74913894,"comment_id":132205299,"body_markdown":"Also, show us your changes, don&#39;t just say you made them. Maybe you didn&#39;t make the  right changes. We have no way of knowing.","body":"Also, show us your changes, don&#39;t just say you made them. Maybe you didn&#39;t make the  right changes. We have no way of knowing."},{"owner":{"account_id":1491025,"reputation":197,"user_id":1398105,"accept_rate":0,"display_name":"SantoshKumar"},"score":0,"creation_date":1671993267,"post_id":74913894,"comment_id":132205459,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/250646/discussion-between-santoshkumar-and-andrewjames).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/250646/discussion-between-santoshkumar-and-andrewjames\">continue this discussion in chat</a>."}],"owner":{"account_id":1491025,"reputation":197,"user_id":1398105,"accept_rate":0,"display_name":"SantoshKumar"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680602295,"creation_date":1671978736,"question_id":74913894,"body_markdown":"I&#39;m having hardtime to access model attribute values in the view using thymeleaf.\r\n\r\n                &lt;h4&gt;Employees per Project&lt;/h4&gt;\r\n\t\t\t\t&lt;table class=&quot;table table-bordered table-striped&quot;&gt;\r\n\t\t\t\t\t&lt;thead class=&quot;thead-dark&quot;&gt;\r\n\t\t\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t\t\t\t&lt;th&gt; FirstName&lt;span&gt;&lt;/span&gt;&lt;/th&gt;\r\n\t\t\t\t\t\t\t&lt;th&gt; LastName&lt;/th&gt;\r\n\t\t\t\t\t\t\t&lt;th&gt;Projects Count&lt;/th&gt;\r\n\t\t\t\t\t\t&lt;/tr&gt;\r\n\t\t\t\t\t&lt;/thead&gt;\r\n\t\t\t\t\t&lt;tbody&gt;\r\n\t\t\t\t\t\t&lt;tr th:each=&quot; EmpPrjCnt : ${employeeProjectCount} &quot;&gt;\r\n\t\t\t\t\t\t\t&lt;td th:text=&quot;${EmpPrjCnt.fName}&quot;&gt;&lt;/td&gt;\r\n\t\t\t\t\t\t\t&lt;td th:text=&quot;${EmpPrjCnt.lname}&quot;&gt;&lt;/td&gt;\r\n\t\t\t\t\t\t\t&lt;td th:text=&quot;${EmpPrjCnt.Pc}&quot;&gt;&lt;/td&gt;\r\n\t\t\t\t\t\t&lt;/tr&gt;\r\n\t\t\t\t\t&lt;/tbody&gt;\r\n\t\t\t\t&lt;/table&gt;\r\n\t\t\t&lt;/div&gt;\r\n\r\nController Code:\r\n\r\n    List&lt;projectEmployee&gt; employeeProjectCount= empRep.employeeProjects();  //.employeeProjects();\r\n\t\tSystem.out.println(&quot;FROM Home Controller :::::::::: &quot;+employeeProjectCount);\r\n\t\tSystem.out.println(&quot;FROM Home Controller :::::::::: &quot;+employeeProjectCount.get(1).getfName());\r\n\t\tSystem.out.println(&quot;FROM Home Controller :::::::::: &quot;+employeeProjectCount.get(1).getlName());\r\n\t\tSystem.out.println(&quot;FROM Home Controller :::::::::: &quot;+employeeProjectCount.get(1).getPc());\r\n\t\t\r\n\t\tmodel.addAttribute(&quot;employeeProjectCount&quot;, employeeProjectCount);\r\n\r\n\r\nI can access all the attributes in the controller through but not in the view. Let me know where im going wrong.\r\n\r\nError:\r\n\r\n    There was an unexpected error (type=Internal Server Error, status=500).\r\n    An error happened during template parsing (template: &quot;class path resource [templates/main/Home.html]&quot;)\r\n    org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/main/Home.html]&quot;)\r\n    \tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)\r\n    \tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)\r\n    \tat org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)\r\n    \tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)\r\n    \tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)\r\n    \tat org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)\r\n    \tat org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1414)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1158)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1097)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:895)\r\n    \tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:705)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880)\r\n    \tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    \r\n    Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: &quot;EmpPrjCnt.fName&quot; (template: &quot;main/Home&quot; - line 70, col 12)\r\n    \tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)\r\n    \tat org.attoparser.MarkupParser.parse(MarkupParser.java:257)\r\n    \tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)\r\n    \t... 48 more\r\n    \r\n    Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: &quot;EmpPrjCnt.fName&quot; (template: &quot;main/Home&quot; - line 70, col 12)\r\n    \tat org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:292)\r\n    \tat org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)\r\n    \tat org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)\r\n    \tat org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)\r\n    \tat org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)\r\n    \tat org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)\r\n    \tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\r\n    \tat org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\r\n    \tat org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\r\n    \tat org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)\r\n    \tat org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)\r\n    \tat org.thymeleaf.engine.Model.process(Model.java:282)\r\n    \tat org.thymeleaf.engine.Model.process(Model.java:290)\r\n    \tat org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)\r\n    \tat org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)\r\n    \tat org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)\r\n    \tat org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)\r\n    \tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)\r\n    \tat org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)\r\n    \tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)\r\n    \tat org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)\r\n    \tat org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)\r\n    \tat org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)\r\n    \tat org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)\r\n    \tat org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)\r\n    \tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)\r\n    \t... 50 more\r\n    \r\n    Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1021E: A problem occurred whilst attempting to access the property &#39;fName&#39;: &#39;Accessing member &#39;fName&#39; is forbidden for type &#39;class jdk.proxy5.$Proxy124&#39; in Thymeleaf expressions. Blocked classes are: [com.sun.*, jakarta.*, java.*, javax.*, jdk.*, org.ietf.jgss.*, org.omg.*, org.w3c.dom.*, org.xml.sax.*, sun.*]. Allowed classes are: [java.lang.Boolean, java.lang.Byte, java.lang.Character, java.lang.Double, java.lang.Enum, java.lang.Float, java.lang.Integer, java.lang.Iterable, java.lang.Long, java.lang.Math, java.lang.Number, java.lang.Short, java.lang.String, java.math.BigDecimal, java.math.BigInteger, java.math.RoundingMode, java.time.*, java.util.ArrayList, java.util.Calendar, java.util.Calendar, java.util.Collection, java.util.Date, java.util.Enumeration, java.util.HashMap, java.util.HashSet, java.util.Iterator, java.util.LinkedHashMap, java.util.LinkedHashSet, java.util.LinkedList, java.util.List, java.util.Locale, java.util.Map, java.util.Map$Entry, java.util.Optional, java.util.Properties, java.util.Set, java.util.stream.Stream].&#39;\r\n    \tat org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:209)\r\n    \tat org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104)\r\n    \tat org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:405)\r\n    \tat org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92)\r\n    \tat org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)\r\n    \tat org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:338)\r\n    \tat org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265)\r\n    \t... 75 more\r\n    \r\n    Caused by: org.springframework.expression.EvaluationException: Accessing member &#39;fName&#39; is forbidden for type &#39;class jdk.proxy5.$Proxy124&#39; in Thymeleaf expressions. Blocked classes are: [com.sun.*, jakarta.*, java.*, javax.*, jdk.*, org.ietf.jgss.*, org.omg.*, org.w3c.dom.*, org.xml.sax.*, sun.*]. Allowed classes are: [java.lang.Boolean, java.lang.Byte, java.lang.Character, java.lang.Double, java.lang.Enum, java.lang.Float, java.lang.Integer, java.lang.Iterable, java.lang.Long, java.lang.Math, java.lang.Number, java.lang.Short, java.lang.String, java.math.BigDecimal, java.math.BigInteger, java.math.RoundingMode, java.time.*, java.util.ArrayList, java.util.Calendar, java.util.Calendar, java.util.Collection, java.util.Date, java.util.Enumeration, java.util.HashMap, java.util.HashSet, java.util.Iterator, java.util.LinkedHashMap, java.util.LinkedHashSet, java.util.LinkedList, java.util.List, java.util.Locale, java.util.Map, java.util.Map$Entry, java.util.Optional, java.util.Properties, java.util.Set, java.util.stream.Stream].\r\n    \tat org.thymeleaf.spring6.expression.ThymeleafEvaluationContext$ThymeleafEvaluationContextACLPropertyAccessor.canRead(ThymeleafEvaluationContext.java:237)\r\n    \tat org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:198)\r\n    \t... 81 more\r\n\r\n","title":"Not able to access model attributes in view through thymeleaf and spring boot","body":"<p>I'm having hardtime to access model attribute values in the view using thymeleaf.</p>\n<pre><code>            &lt;h4&gt;Employees per Project&lt;/h4&gt;\n            &lt;table class=&quot;table table-bordered table-striped&quot;&gt;\n                &lt;thead class=&quot;thead-dark&quot;&gt;\n                    &lt;tr&gt;\n                        &lt;th&gt; FirstName&lt;span&gt;&lt;/span&gt;&lt;/th&gt;\n                        &lt;th&gt; LastName&lt;/th&gt;\n                        &lt;th&gt;Projects Count&lt;/th&gt;\n                    &lt;/tr&gt;\n                &lt;/thead&gt;\n                &lt;tbody&gt;\n                    &lt;tr th:each=&quot; EmpPrjCnt : ${employeeProjectCount} &quot;&gt;\n                        &lt;td th:text=&quot;${EmpPrjCnt.fName}&quot;&gt;&lt;/td&gt;\n                        &lt;td th:text=&quot;${EmpPrjCnt.lname}&quot;&gt;&lt;/td&gt;\n                        &lt;td th:text=&quot;${EmpPrjCnt.Pc}&quot;&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                &lt;/tbody&gt;\n            &lt;/table&gt;\n        &lt;/div&gt;\n</code></pre>\n<p>Controller Code:</p>\n<pre><code>List&lt;projectEmployee&gt; employeeProjectCount= empRep.employeeProjects();  //.employeeProjects();\n    System.out.println(&quot;FROM Home Controller :::::::::: &quot;+employeeProjectCount);\n    System.out.println(&quot;FROM Home Controller :::::::::: &quot;+employeeProjectCount.get(1).getfName());\n    System.out.println(&quot;FROM Home Controller :::::::::: &quot;+employeeProjectCount.get(1).getlName());\n    System.out.println(&quot;FROM Home Controller :::::::::: &quot;+employeeProjectCount.get(1).getPc());\n    \n    model.addAttribute(&quot;employeeProjectCount&quot;, employeeProjectCount);\n</code></pre>\n<p>I can access all the attributes in the controller through but not in the view. Let me know where im going wrong.</p>\n<p>Error:</p>\n<pre><code>There was an unexpected error (type=Internal Server Error, status=500).\nAn error happened during template parsing (template: &quot;class path resource [templates/main/Home.html]&quot;)\norg.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/main/Home.html]&quot;)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)\n    at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)\n    at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)\n    at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1414)\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1158)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1097)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:895)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:705)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n\nCaused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: &quot;EmpPrjCnt.fName&quot; (template: &quot;main/Home&quot; - line 70, col 12)\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)\n    at org.attoparser.MarkupParser.parse(MarkupParser.java:257)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)\n    ... 48 more\n\nCaused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: &quot;EmpPrjCnt.fName&quot; (template: &quot;main/Home&quot; - line 70, col 12)\n    at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:292)\n    at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)\n    at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)\n    at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)\n    at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)\n    at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\n    at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\n    at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\n    at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)\n    at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)\n    at org.thymeleaf.engine.Model.process(Model.java:282)\n    at org.thymeleaf.engine.Model.process(Model.java:290)\n    at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)\n    at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)\n    at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)\n    at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)\n    at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)\n    at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)\n    at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)\n    at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)\n    at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)\n    at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)\n    ... 50 more\n\nCaused by: org.springframework.expression.spel.SpelEvaluationException: EL1021E: A problem occurred whilst attempting to access the property 'fName': 'Accessing member 'fName' is forbidden for type 'class jdk.proxy5.$Proxy124' in Thymeleaf expressions. Blocked classes are: [com.sun.*, jakarta.*, java.*, javax.*, jdk.*, org.ietf.jgss.*, org.omg.*, org.w3c.dom.*, org.xml.sax.*, sun.*]. Allowed classes are: [java.lang.Boolean, java.lang.Byte, java.lang.Character, java.lang.Double, java.lang.Enum, java.lang.Float, java.lang.Integer, java.lang.Iterable, java.lang.Long, java.lang.Math, java.lang.Number, java.lang.Short, java.lang.String, java.math.BigDecimal, java.math.BigInteger, java.math.RoundingMode, java.time.*, java.util.ArrayList, java.util.Calendar, java.util.Calendar, java.util.Collection, java.util.Date, java.util.Enumeration, java.util.HashMap, java.util.HashSet, java.util.Iterator, java.util.LinkedHashMap, java.util.LinkedHashSet, java.util.LinkedList, java.util.List, java.util.Locale, java.util.Map, java.util.Map$Entry, java.util.Optional, java.util.Properties, java.util.Set, java.util.stream.Stream].'\n    at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:209)\n    at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104)\n    at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:405)\n    at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92)\n    at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)\n    at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:338)\n    at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265)\n    ... 75 more\n\nCaused by: org.springframework.expression.EvaluationException: Accessing member 'fName' is forbidden for type 'class jdk.proxy5.$Proxy124' in Thymeleaf expressions. Blocked classes are: [com.sun.*, jakarta.*, java.*, javax.*, jdk.*, org.ietf.jgss.*, org.omg.*, org.w3c.dom.*, org.xml.sax.*, sun.*]. Allowed classes are: [java.lang.Boolean, java.lang.Byte, java.lang.Character, java.lang.Double, java.lang.Enum, java.lang.Float, java.lang.Integer, java.lang.Iterable, java.lang.Long, java.lang.Math, java.lang.Number, java.lang.Short, java.lang.String, java.math.BigDecimal, java.math.BigInteger, java.math.RoundingMode, java.time.*, java.util.ArrayList, java.util.Calendar, java.util.Calendar, java.util.Collection, java.util.Date, java.util.Enumeration, java.util.HashMap, java.util.HashSet, java.util.Iterator, java.util.LinkedHashMap, java.util.LinkedHashSet, java.util.LinkedList, java.util.List, java.util.Locale, java.util.Map, java.util.Map$Entry, java.util.Optional, java.util.Properties, java.util.Set, java.util.stream.Stream].\n    at org.thymeleaf.spring6.expression.ThymeleafEvaluationContext$ThymeleafEvaluationContextACLPropertyAccessor.canRead(ThymeleafEvaluationContext.java:237)\n    at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:198)\n    ... 81 more\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9699,"page":526,"page_size":100}
