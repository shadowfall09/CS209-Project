{"items":[{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1678972894,"post_id":75756411,"comment_id":133639064,"body_markdown":"None of the code you shared seems to deal with displaying of he data as far as I can see. Are you showing this data in a `ListView`/`RecyclerView` somewhere? If so, can you show how?","body":"None of the code you shared seems to deal with displaying of he data as far as I can see. Are you showing this data in a <code>ListView</code>/<code>RecyclerView</code> somewhere? If so, can you show how?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1678980523,"post_id":75756411,"comment_id":133641675,"body_markdown":"Please edit your question and add the information Frank asked for, and please also respond using @.","body":"Please edit your question and add the information Frank asked for, and please also respond using @."},{"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"score":0,"creation_date":1679051854,"post_id":75756411,"comment_id":133655670,"body_markdown":"I am not displaying the info, what I meant is that all the supervisors in the database were filled but the app keeps accepting student&#39;s registration in which it supposed not to be so. The registration shouldn&#39;t be successful immediately all the supervisors is filled. It supposed to show an error message that there is no more available supervisor. The thing only works if and only if I kill the app and relaunch it after the last student&#39;s registration, i.e after the last available slot was assigned to student so I was suspecting that maybe the app is  not being updated on time @FrankvanPuffelen","body":"I am not displaying the info, what I meant is that all the supervisors in the database were filled but the app keeps accepting student&#39;s registration in which it supposed not to be so. The registration shouldn&#39;t be successful immediately all the supervisors is filled. It supposed to show an error message that there is no more available supervisor. The thing only works if and only if I kill the app and relaunch it after the last student&#39;s registration, i.e after the last available slot was assigned to student so I was suspecting that maybe the app is  not being updated on time @FrankvanPuffelen"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1679061289,"post_id":75756411,"comment_id":133658071,"body_markdown":"You should be able to pretty quickly determine that in a debugger. Set a breakpoint on `if (snapshot.exists()) {` and run the code in a debugger. Does the breakpoint hit when the last supervisor is claimed? If so, step through the code and check what goes wrong there.","body":"You should be able to pretty quickly determine that in a debugger. Set a breakpoint on <code>if (snapshot.exists()) {</code> and run the code in a debugger. Does the breakpoint hit when the last supervisor is claimed? If so, step through the code and check what goes wrong there."}],"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678972929,"creation_date":1678970379,"question_id":75756411,"body_markdown":"I have a database reference that stores all the supervisor details. I am querying the database to return only the supervisors that the status is &quot;Not Filled&quot;, because each supervisor has a capacity of student that he can supervise. Once the number of student assigned to the supervisor equals the carrying capacity of that supervisor, the supervisor&#39;s status automatically change to &quot;Filled&quot;. This is working correctly.\r\n\r\nThe problem I&#39;m having is that the thing is not updating immediately. When all the supervisors are filled, the program continue to execute except I kill the app and rerun it. I don&#39;t need to be killing the app and relaunch it every time that I want to assign a supervisor to a student, because student may decide to use one mobile phone for the registration and they don&#39;t need to be launching the app every time of registration.\r\n\r\n\r\n    private String getSupervisors() {\r\n\r\n        Query databaseReference = FirebaseDatabase.getInstance().getReference()\r\n                .child(&quot;Supervisors&quot;).orderByChild(&quot;status&quot;).equalTo(&quot;Not Filled&quot;);\r\n        databaseReference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if (snapshot.exists()) {\r\n                    List&lt;String&gt; supervisorsList =new ArrayList&lt;&gt;();\r\n                    for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\r\n                        supervisorsList.add(dataSnapshot.child(&quot;sid&quot;).getValue().toString());\r\n                    }\r\n\r\n                    Log.d(&quot;Main&quot;, &quot;The list contains &quot; + supervisorsList);\r\n                    supervisorChose = supervisorsList.get(new Random().nextInt(supervisorsList.size()));\r\n                    Log.d(&quot;Main&quot;, &quot;The selected supervisor is &quot; + supervisorChose);\r\n                    Log.d(&quot;Main&quot;, &quot;The total supervisor in the system is &quot; + supervisorsList.size());\r\n                }else {\r\n                    Log.d(&quot;Main&quot;,&quot;There is no supervisor in the list&quot;);\r\n                    showMessage(&quot;Error&quot;,&quot;All supervisors are filled, contact the admin for more details&quot;);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(StudentRegistrationActivity.this, &quot;Error From the database&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n        return supervisorChose;\r\n    }\r\n\r\n    private void retrieveSupervisorInfo(String registrationNumber, String profileImage, String name) {\r\n        DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference();\r\n        databaseReference.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if (snapshot.child(&quot;Supervisors&quot;).child(getSupervisors()).exists()) {\r\n                    Supervisor supervisor = snapshot.child(&quot;Supervisors&quot;).child(supervisorKey).getValue(Supervisor.class);\r\n                    String supervisorStatus = &quot;&quot;;\r\n                    String supervisorName = supervisor.getName();\r\n                    String supervisorUniqueKey = supervisor.getSid();\r\n                    int carryingCapacity = supervisor.getCapacity();\r\n                    int numberAssigned = supervisor.getNumberAssigned();\r\n\r\n                    registerStudent(registrationNumber, profileImage, name, supervisorName, supervisorUniqueKey);\r\n                    numberAssigned += 1;\r\n\r\n                    if (numberAssigned &gt;= carryingCapacity) {\r\n                        supervisorStatus = &quot;Filled&quot;;\r\n                    } else {\r\n                        supervisorStatus = &quot;Not Filled&quot;;\r\n                    }\r\n                    Log.d(&quot;Main&quot;, &quot;The selected supervisor is &quot; + supervisorName);\r\n                    Log.d(&quot;Main&quot;, &quot;The supervisorKey is &quot; + supervisorUniqueKey);\r\n                    Log.d(&quot;Main&quot;, &quot;The carrying capacity of the supervisor is &quot; + carryingCapacity);\r\n                    Log.d(&quot;Main&quot;, &quot;The total number of students assigned to this supervisor is &quot; + numberAssigned);\r\n                    Log.d(&quot;Main&quot;, &quot;The status of this supervisor is &quot; + supervisorStatus);\r\n\r\n                    updateSupervisorInfo(supervisorKey, supervisorStatus, numberAssigned);\r\n                } else {\r\n                    loadingDialog.dismiss();\r\n                    Log.d(&quot;Main&quot;, &quot;There is no such supervisor&quot;);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                loadingDialog.dismiss();\r\n                Toast.makeText(StudentRegistrationActivity.this, error.getMessage(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n","title":"firebase query not updating immediately","body":"<p>I have a database reference that stores all the supervisor details. I am querying the database to return only the supervisors that the status is &quot;Not Filled&quot;, because each supervisor has a capacity of student that he can supervise. Once the number of student assigned to the supervisor equals the carrying capacity of that supervisor, the supervisor's status automatically change to &quot;Filled&quot;. This is working correctly.</p>\n<p>The problem I'm having is that the thing is not updating immediately. When all the supervisors are filled, the program continue to execute except I kill the app and rerun it. I don't need to be killing the app and relaunch it every time that I want to assign a supervisor to a student, because student may decide to use one mobile phone for the registration and they don't need to be launching the app every time of registration.</p>\n<pre><code>private String getSupervisors() {\n\n    Query databaseReference = FirebaseDatabase.getInstance().getReference()\n            .child(&quot;Supervisors&quot;).orderByChild(&quot;status&quot;).equalTo(&quot;Not Filled&quot;);\n    databaseReference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            if (snapshot.exists()) {\n                List&lt;String&gt; supervisorsList =new ArrayList&lt;&gt;();\n                for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\n                    supervisorsList.add(dataSnapshot.child(&quot;sid&quot;).getValue().toString());\n                }\n\n                Log.d(&quot;Main&quot;, &quot;The list contains &quot; + supervisorsList);\n                supervisorChose = supervisorsList.get(new Random().nextInt(supervisorsList.size()));\n                Log.d(&quot;Main&quot;, &quot;The selected supervisor is &quot; + supervisorChose);\n                Log.d(&quot;Main&quot;, &quot;The total supervisor in the system is &quot; + supervisorsList.size());\n            }else {\n                Log.d(&quot;Main&quot;,&quot;There is no supervisor in the list&quot;);\n                showMessage(&quot;Error&quot;,&quot;All supervisors are filled, contact the admin for more details&quot;);\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n            Toast.makeText(StudentRegistrationActivity.this, &quot;Error From the database&quot;, Toast.LENGTH_SHORT).show();\n        }\n    });\n    return supervisorChose;\n}\n\nprivate void retrieveSupervisorInfo(String registrationNumber, String profileImage, String name) {\n    DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference();\n    databaseReference.addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            if (snapshot.child(&quot;Supervisors&quot;).child(getSupervisors()).exists()) {\n                Supervisor supervisor = snapshot.child(&quot;Supervisors&quot;).child(supervisorKey).getValue(Supervisor.class);\n                String supervisorStatus = &quot;&quot;;\n                String supervisorName = supervisor.getName();\n                String supervisorUniqueKey = supervisor.getSid();\n                int carryingCapacity = supervisor.getCapacity();\n                int numberAssigned = supervisor.getNumberAssigned();\n\n                registerStudent(registrationNumber, profileImage, name, supervisorName, supervisorUniqueKey);\n                numberAssigned += 1;\n\n                if (numberAssigned &gt;= carryingCapacity) {\n                    supervisorStatus = &quot;Filled&quot;;\n                } else {\n                    supervisorStatus = &quot;Not Filled&quot;;\n                }\n                Log.d(&quot;Main&quot;, &quot;The selected supervisor is &quot; + supervisorName);\n                Log.d(&quot;Main&quot;, &quot;The supervisorKey is &quot; + supervisorUniqueKey);\n                Log.d(&quot;Main&quot;, &quot;The carrying capacity of the supervisor is &quot; + carryingCapacity);\n                Log.d(&quot;Main&quot;, &quot;The total number of students assigned to this supervisor is &quot; + numberAssigned);\n                Log.d(&quot;Main&quot;, &quot;The status of this supervisor is &quot; + supervisorStatus);\n\n                updateSupervisorInfo(supervisorKey, supervisorStatus, numberAssigned);\n            } else {\n                loadingDialog.dismiss();\n                Log.d(&quot;Main&quot;, &quot;There is no such supervisor&quot;);\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n            loadingDialog.dismiss();\n            Toast.makeText(StudentRegistrationActivity.this, error.getMessage(), Toast.LENGTH_SHORT).show();\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","apache-camel","camel-core"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1678972967,"post_id":75756565,"comment_id":133639080,"body_markdown":"As the error tells you you have conflicting versions in your application. Generally this comes from your own dependency management (trying to outsmart what is there). Please post your pom.xml / build.gradle for investigation.","body":"As the error tells you you have conflicting versions in your application. Generally this comes from your own dependency management (trying to outsmart what is there). Please post your pom.xml / build.gradle for investigation."}],"owner":{"account_id":28003343,"reputation":47,"user_id":21387155,"display_name":"cokachi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678972910,"creation_date":1678971257,"question_id":75756565,"body_markdown":"Hi we are getting an error during the camel upgrade from 2.xx to 3.xx\r\nwe updated the libraries and fixed the errors.\r\n\r\n\r\n```\r\n2023-03-16 23:30:14,229 | LoggingFailureAnal | E |          | main |                      | \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n\r\n    org.apache.camel.spring.boot.util.OnHierarchicalPropertiesCondition.getMatchOutcome(OnHierarchicalPropertiesCondition.java:54)\r\n\r\nThe following method did not exist:\r\n\r\n    &#39;boolean org.apache.camel.spring.boot.util.HierarchicalPropertiesEvaluator.evaluate(org.springframework.core.env.Environment, java.util.Collection)&#39;\r\n\r\nThe calling method&#39;s class, org.apache.camel.spring.boot.util.OnHierarchicalPropertiesCondition, was loaded from the following location:\r\n\r\n    jar:file:/sec/system/bridge/flow/crubs-3.2.5.jar!/BOOT-INF/lib/camel-spring-boot-3.20.0.jar!/org/apache/camel/spring/boot/util/OnHierarchicalPropertiesCondition.class\r\n\r\nThe called method&#39;s class, org.apache.camel.spring.boot.util.HierarchicalPropertiesEvaluator, is available from the following locations:\r\n\r\n    jar:file:/sec/system/bridge/flow/crubs-3.2.5.jar!/BOOT-INF/lib/camel-spring-boot-2.23.1.jar!/org/apache/camel/spring/boot/util/HierarchicalPropertiesEvaluator.class\r\n    jar:file:/sec/system/bridge/flow/crubs-3.2.5.jar!/BOOT-INF/lib/camel-spring-boot-3.20.0.jar!/org/apache/camel/spring/boot/util/HierarchicalPropertiesEvaluator.class\r\n\r\nThe called method&#39;s class hierarchy was loaded from the following locations:\r\n\r\n    org.apache.camel.spring.boot.util.HierarchicalPropertiesEvaluator: jar:file:/sec/system/bridge/flow/crubs-3.2.5.jar!/BOOT-INF/lib/camel-spring-boot-2.23.1.jar!/\r\n\r\n\r\nAction:\r\n\r\nCorrect the classpath of your application so that it contains compatible versions of the classes org.apache.camel.spring.boot.util.OnHierarchicalPropertiesCondition and org.apache.camel.spring.boot.util.HierarchicalPropertiesEvaluator\r\n```\r\n\r\nThe application is a camel spring boot based project. The application build successfully.\r\n\r\nBut it is not running.\r\n\r\njava 11\r\n\r\ncamel-core 3.20.0\r\ncamel-spring-xml 3.20.0\r\ncamel-spring-boot-bom 3.20.0\r\ncamel-jpa 3.20.0\r\ncamel-jackson 3.20.0\r\ncamel-sql 3.20.0\r\ncamel-http 3.20.0\r\ncamel-jackson-starter 3.20.0\r\ncamel-spring-redis 3.20.0\r\nspring-boot-starter-web\r\n\r\nThese are the dependencies used.\r\nHow to fix this issue?","title":"Getting error during running the application. camel migration issue","body":"<p>Hi we are getting an error during the camel upgrade from 2.xx to 3.xx\nwe updated the libraries and fixed the errors.</p>\n<pre><code>2023-03-16 23:30:14,229 | LoggingFailureAnal | E |          | main |                      | \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\n\n    org.apache.camel.spring.boot.util.OnHierarchicalPropertiesCondition.getMatchOutcome(OnHierarchicalPropertiesCondition.java:54)\n\nThe following method did not exist:\n\n    'boolean org.apache.camel.spring.boot.util.HierarchicalPropertiesEvaluator.evaluate(org.springframework.core.env.Environment, java.util.Collection)'\n\nThe calling method's class, org.apache.camel.spring.boot.util.OnHierarchicalPropertiesCondition, was loaded from the following location:\n\n    jar:file:/sec/system/bridge/flow/crubs-3.2.5.jar!/BOOT-INF/lib/camel-spring-boot-3.20.0.jar!/org/apache/camel/spring/boot/util/OnHierarchicalPropertiesCondition.class\n\nThe called method's class, org.apache.camel.spring.boot.util.HierarchicalPropertiesEvaluator, is available from the following locations:\n\n    jar:file:/sec/system/bridge/flow/crubs-3.2.5.jar!/BOOT-INF/lib/camel-spring-boot-2.23.1.jar!/org/apache/camel/spring/boot/util/HierarchicalPropertiesEvaluator.class\n    jar:file:/sec/system/bridge/flow/crubs-3.2.5.jar!/BOOT-INF/lib/camel-spring-boot-3.20.0.jar!/org/apache/camel/spring/boot/util/HierarchicalPropertiesEvaluator.class\n\nThe called method's class hierarchy was loaded from the following locations:\n\n    org.apache.camel.spring.boot.util.HierarchicalPropertiesEvaluator: jar:file:/sec/system/bridge/flow/crubs-3.2.5.jar!/BOOT-INF/lib/camel-spring-boot-2.23.1.jar!/\n\n\nAction:\n\nCorrect the classpath of your application so that it contains compatible versions of the classes org.apache.camel.spring.boot.util.OnHierarchicalPropertiesCondition and org.apache.camel.spring.boot.util.HierarchicalPropertiesEvaluator\n</code></pre>\n<p>The application is a camel spring boot based project. The application build successfully.</p>\n<p>But it is not running.</p>\n<p>java 11</p>\n<p>camel-core 3.20.0\ncamel-spring-xml 3.20.0\ncamel-spring-boot-bom 3.20.0\ncamel-jpa 3.20.0\ncamel-jackson 3.20.0\ncamel-sql 3.20.0\ncamel-http 3.20.0\ncamel-jackson-starter 3.20.0\ncamel-spring-redis 3.20.0\nspring-boot-starter-web</p>\n<p>These are the dependencies used.\nHow to fix this issue?</p>\n"},{"tags":["java","bouncycastle","x509"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1678955331,"post_id":75753376,"comment_id":133633880,"body_markdown":"CDP is actually a _sequence of_ DistributionPoint; you need to `new CRLDistPoint` from an array of DistributionPoint, here with only one element. Similarly AIA (or SIA, if implemented) is a sequence of AccessDescription; it has ctors from either an array of AccessDescription or a single one. (I&#39;m surprised they offer this choice for AIA but not for CDP, when I&#39;ve never seen a cert with more than one element in CDP whereas most, like your example, have two in AIA. But such is life.)","body":"CDP is actually a <i>sequence of</i> DistributionPoint; you need to <code>new CRLDistPoint</code> from an array of DistributionPoint, here with only one element. Similarly AIA (or SIA, if implemented) is a sequence of AccessDescription; it has ctors from either an array of AccessDescription or a single one. (I&#39;m surprised they offer this choice for AIA but not for CDP, when I&#39;ve never seen a cert with more than one element in CDP whereas most, like your example, have two in AIA. But such is life.)"},{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":0,"creation_date":1678955470,"post_id":75753376,"comment_id":133633917,"body_markdown":"what version of java are you using? in java 11+ you may not need Bouncy Castle at all.","body":"what version of java are you using? in java 11+ you may not need Bouncy Castle at all."}],"answers":[{"tags":[],"owner":{"account_id":11060326,"reputation":445,"user_id":8121862,"display_name":"Jim ReesPotter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678972774,"creation_date":1678972774,"answer_id":75756834,"question_id":75753376,"body_markdown":"OK- got this working. It looks like BouncyCastle is buggy here, my solutions are not consistent or not very tidy but do appear to work.\r\n\r\nCDP:\r\n```\r\n    protected static Extension makeCDP(String url) {\r\n        try {\r\n\t\t\tbyte[] encodedUrl = url.getBytes(&quot;US-ASCII&quot;);\r\n            if (encodedUrl.length &gt; 119)\r\n                throw new Exception(&quot;URL too long&quot;);\r\n            \r\n            byte[] payload = new byte[encodedUrl.length + 10];\r\n            int offset = 0;\r\n            payload[offset++] = (byte)0x30;\r\n            payload[offset++] = (byte)(encodedUrl.length + 8);\r\n            payload[offset++] = (byte)0x30;\r\n            payload[offset++] = (byte)(encodedUrl.length + 6);\r\n            payload[offset++] = (byte)0xA0;\r\n            payload[offset++] = (byte)(encodedUrl.length + 4);\r\n            payload[offset++] = (byte)0xA0;\r\n            payload[offset++] = (byte)(encodedUrl.length + 2);\r\n            payload[offset++] = (byte)0x86;\r\n            payload[offset++] = (byte)(encodedUrl.length);\r\n            for (;offset &lt; payload.length;offset++)\r\n                payload[offset] = encodedUrl[offset-10];\r\n\r\n            return new Extension(new ASN1ObjectIdentifier(&quot;2.5.29.31&quot;),false, payload);\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n            return null;\r\n\t\t}\r\n    } \r\n```\r\nAIA:\r\n```\r\n    protected static Extension makeAIA(String url) {\r\n        DERTaggedObject caIssuers= new DERTaggedObject(false, 6, new DERIA5String(url));\r\n        ASN1EncodableVector caIssuers_ASN = new ASN1EncodableVector();\r\n        caIssuers_ASN.add(new ASN1ObjectIdentifier(&quot;1.3.6.1.5.5.7.48.2&quot;));\r\n        caIssuers_ASN.add(caIssuers);\r\n        DERSequence caIssuersSeq = new DERSequence(caIssuers_ASN);\r\n        \r\n        ASN1EncodableVector accessSyn_ASN = new ASN1EncodableVector();\r\n        accessSyn_ASN.add(caIssuersSeq);\r\n        DERSequence AIASyntaxSeq = new DERSequence(accessSyn_ASN);\r\n\r\n        try {\r\n\t\t\treturn new Extension(new ASN1ObjectIdentifier(&quot;1.3.6.1.5.5.7.1.1&quot;), false, new DEROctetString(AIASyntaxSeq));\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n            return null;\r\n\t\t}\r\n    }\r\n```","title":"Adding X509 extensions in BouncyCastle","body":"<p>OK- got this working. It looks like BouncyCastle is buggy here, my solutions are not consistent or not very tidy but do appear to work.</p>\n<p>CDP:</p>\n<pre><code>    protected static Extension makeCDP(String url) {\n        try {\n            byte[] encodedUrl = url.getBytes(&quot;US-ASCII&quot;);\n            if (encodedUrl.length &gt; 119)\n                throw new Exception(&quot;URL too long&quot;);\n            \n            byte[] payload = new byte[encodedUrl.length + 10];\n            int offset = 0;\n            payload[offset++] = (byte)0x30;\n            payload[offset++] = (byte)(encodedUrl.length + 8);\n            payload[offset++] = (byte)0x30;\n            payload[offset++] = (byte)(encodedUrl.length + 6);\n            payload[offset++] = (byte)0xA0;\n            payload[offset++] = (byte)(encodedUrl.length + 4);\n            payload[offset++] = (byte)0xA0;\n            payload[offset++] = (byte)(encodedUrl.length + 2);\n            payload[offset++] = (byte)0x86;\n            payload[offset++] = (byte)(encodedUrl.length);\n            for (;offset &lt; payload.length;offset++)\n                payload[offset] = encodedUrl[offset-10];\n\n            return new Extension(new ASN1ObjectIdentifier(&quot;2.5.29.31&quot;),false, payload);\n\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n            return null;\n        }\n    } \n</code></pre>\n<p>AIA:</p>\n<pre><code>    protected static Extension makeAIA(String url) {\n        DERTaggedObject caIssuers= new DERTaggedObject(false, 6, new DERIA5String(url));\n        ASN1EncodableVector caIssuers_ASN = new ASN1EncodableVector();\n        caIssuers_ASN.add(new ASN1ObjectIdentifier(&quot;1.3.6.1.5.5.7.48.2&quot;));\n        caIssuers_ASN.add(caIssuers);\n        DERSequence caIssuersSeq = new DERSequence(caIssuers_ASN);\n        \n        ASN1EncodableVector accessSyn_ASN = new ASN1EncodableVector();\n        accessSyn_ASN.add(caIssuersSeq);\n        DERSequence AIASyntaxSeq = new DERSequence(accessSyn_ASN);\n\n        try {\n            return new Extension(new ASN1ObjectIdentifier(&quot;1.3.6.1.5.5.7.1.1&quot;), false, new DEROctetString(AIASyntaxSeq));\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n            return null;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":11060326,"reputation":445,"user_id":8121862,"display_name":"Jim ReesPotter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678972774,"creation_date":1678953064,"question_id":75753376,"body_markdown":"I&#39;m trying to generate x509 certificates using BouncyCastle (Java). It mostly works - I can generate public/private keys, generate signing requests, set validity, subjectKeyInfo, basic constraints, extended key usage.\r\n\r\nBut I&#39;m stuck on adding AIA and CDP extensions - it adds the URLs but there&#39;s something wrong in the formatting - I get:\r\n\r\n```\r\n            Authority Information Access:\r\n                0u..+.....0..ihttp://sslulike-cacache.s3-website.eu-west-2.amazonaws.com/ukfedtest/299b1033-a09d-47ed-b6d7-7505d7d574f5\r\n            X509v3 CRL Distribution Points:\r\n                0s0q.o.mhttp://sslulike-cacache.s3-website.eu-west-2.amazonaws.com/ukfedtest/299b1033-a09d-47ed-b6d7-7505d7d574f5.crl\r\n```\r\nAs you can see, it mangles the beginning of the URL and misses **Full Name:** for CDP, **CA Issuers** for AIA.\r\nversus a proper cert:\r\n```\r\n            X509v3 CRL Distribution Points:\r\n\r\n                Full Name:\r\n                  URI:http://crl.godaddy.com/gdig2s1-4536.crl\r\n\r\n           Authority Information Access:\r\n                OCSP - URI:http://ocsp.godaddy.com/\r\n                CA Issuers - URI:http://certificates.godaddy.com/repository/gdig2.crt\r\n```\r\n\r\nHere&#39;s my code:\r\n```\r\n            builder.addExtension(Extension.create(Extension.authorityInfoAccess, false, \r\n                    new AccessDescription(\r\n                            X509ObjectIdentifiers.id_ad_caIssuers, \r\n                            new GeneralName(GeneralName.uniformResourceIdentifier,\r\n                                    new DERIA5String(org.getCertURLBase()+org.getOrgId()+&quot;/&quot;+keyId)\r\n                            )\r\n            )));\r\n\r\n            DistributionPoint cdp = new DistributionPoint(new DistributionPointName(DistributionPointName.FULL_NAME, new DERIA5String(org.getCertURLBase()+org.getOrgId()+&quot;/&quot;+keyId+&quot;.crl&quot;)), null, null);\r\n            builder.addExtension(Extension.create(Extension.cRLDistributionPoints, false, new CRLDistPoint(new DistributionPoint[]{cdp})));\r\n```\r\n(The input strings build correct URLs, I&#39;ve checked that)\r\n\r\nAny ideas what I&#39;m missing?\r\n\r\nthanks,\r\n\r\nJim\r\n\r\n\r\n","title":"Adding X509 extensions in BouncyCastle","body":"<p>I'm trying to generate x509 certificates using BouncyCastle (Java). It mostly works - I can generate public/private keys, generate signing requests, set validity, subjectKeyInfo, basic constraints, extended key usage.</p>\n<p>But I'm stuck on adding AIA and CDP extensions - it adds the URLs but there's something wrong in the formatting - I get:</p>\n<pre><code>            Authority Information Access:\n                0u..+.....0..ihttp://sslulike-cacache.s3-website.eu-west-2.amazonaws.com/ukfedtest/299b1033-a09d-47ed-b6d7-7505d7d574f5\n            X509v3 CRL Distribution Points:\n                0s0q.o.mhttp://sslulike-cacache.s3-website.eu-west-2.amazonaws.com/ukfedtest/299b1033-a09d-47ed-b6d7-7505d7d574f5.crl\n</code></pre>\n<p>As you can see, it mangles the beginning of the URL and misses <strong>Full Name:</strong> for CDP, <strong>CA Issuers</strong> for AIA.\nversus a proper cert:</p>\n<pre><code>            X509v3 CRL Distribution Points:\n\n                Full Name:\n                  URI:http://crl.godaddy.com/gdig2s1-4536.crl\n\n           Authority Information Access:\n                OCSP - URI:http://ocsp.godaddy.com/\n                CA Issuers - URI:http://certificates.godaddy.com/repository/gdig2.crt\n</code></pre>\n<p>Here's my code:</p>\n<pre><code>            builder.addExtension(Extension.create(Extension.authorityInfoAccess, false, \n                    new AccessDescription(\n                            X509ObjectIdentifiers.id_ad_caIssuers, \n                            new GeneralName(GeneralName.uniformResourceIdentifier,\n                                    new DERIA5String(org.getCertURLBase()+org.getOrgId()+&quot;/&quot;+keyId)\n                            )\n            )));\n\n            DistributionPoint cdp = new DistributionPoint(new DistributionPointName(DistributionPointName.FULL_NAME, new DERIA5String(org.getCertURLBase()+org.getOrgId()+&quot;/&quot;+keyId+&quot;.crl&quot;)), null, null);\n            builder.addExtension(Extension.create(Extension.cRLDistributionPoints, false, new CRLDistPoint(new DistributionPoint[]{cdp})));\n</code></pre>\n<p>(The input strings build correct URLs, I've checked that)</p>\n<p>Any ideas what I'm missing?</p>\n<p>thanks,</p>\n<p>Jim</p>\n"},{"tags":["java","server","netty","connection-timeout"],"owner":{"account_id":20712691,"reputation":1,"user_id":15208945,"display_name":"Sunil Lokhande"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678972748,"creation_date":1678972748,"question_id":75756829,"body_markdown":"I am new to Netty and Java. I am facing intermittent issue.\r\n\r\nI have created a Client Server application using Netty. \r\nMultiple clients are sending Http requests to the server after some time interval. Server respond with 200 OK. If Client doesn&#39;t get a response from the server in 10 sec, it disconnects the current connection and opens a new one and retry HTTP request.\r\n\r\nIt is working as expected for a couple of hours, After that, the server stops responding to the client. \r\nThis results, client opening new connection every 10sec. Client receiving SYN ACK on SYN request. But there is no connection channel event happening on the Netty server side. \r\n\r\nClient after sending an unsuccessful Http request to server, closes the connection from Client side. \r\n\r\nOn server side connections go in CLOSE_WAIT state and stay forever. This behaviour continues till we restart the Netty server.\r\n\r\nIs there any way to confirm that Netty have received Connection request from Client? Or is there any way we can debug functions before clientConnected/Register function calls?\r\n\r\nI have tried adding debug logs to multiple functions at Netty server but as functions like clientConnected, exceptionCaught are not getting called, I am not getting my traces.","title":"On Client request, Netty server not calling clientConnected/Register or any handler functions, resulting leaked socket descriptors","body":"<p>I am new to Netty and Java. I am facing intermittent issue.</p>\n<p>I have created a Client Server application using Netty.\nMultiple clients are sending Http requests to the server after some time interval. Server respond with 200 OK. If Client doesn't get a response from the server in 10 sec, it disconnects the current connection and opens a new one and retry HTTP request.</p>\n<p>It is working as expected for a couple of hours, After that, the server stops responding to the client.\nThis results, client opening new connection every 10sec. Client receiving SYN ACK on SYN request. But there is no connection channel event happening on the Netty server side.</p>\n<p>Client after sending an unsuccessful Http request to server, closes the connection from Client side.</p>\n<p>On server side connections go in CLOSE_WAIT state and stay forever. This behaviour continues till we restart the Netty server.</p>\n<p>Is there any way to confirm that Netty have received Connection request from Client? Or is there any way we can debug functions before clientConnected/Register function calls?</p>\n<p>I have tried adding debug logs to multiple functions at Netty server but as functions like clientConnected, exceptionCaught are not getting called, I am not getting my traces.</p>\n"},{"tags":["java","annotations","jvm"],"comments":[{"owner":{"account_id":6592551,"reputation":1100,"user_id":5093293,"accept_rate":5,"display_name":"Angle Tom"},"score":0,"creation_date":1679040515,"post_id":75752703,"comment_id":133652921,"body_markdown":"Jorn&#39;s answer is what I want.","body":"Jorn&#39;s answer is what I want."}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678972410,"creation_date":1678972107,"answer_id":75756706,"question_id":75752703,"body_markdown":"I&#39;m assuming that what you want is annotate a class with `@Annotation2(&quot;value&quot;)`, then have the processor understand it as `@Annotation1(&quot;value&quot;, type = &quot;batch&quot;)`.\r\n\r\nYou can&#39;t. Annotation values have to be compile time constants, so you can&#39;t refer to one annotation&#39;s value in another.\r\n\r\nInstead, you have to do this in your annotation processor (either compile time or runtime).","title":"How to Use the value in the java Annotation?","body":"<p>I'm assuming that what you want is annotate a class with <code>@Annotation2(&quot;value&quot;)</code>, then have the processor understand it as <code>@Annotation1(&quot;value&quot;, type = &quot;batch&quot;)</code>.</p>\n<p>You can't. Annotation values have to be compile time constants, so you can't refer to one annotation's value in another.</p>\n<p>Instead, you have to do this in your annotation processor (either compile time or runtime).</p>\n"}],"owner":{"account_id":6592551,"reputation":1100,"user_id":5093293,"accept_rate":5,"display_name":"Angle Tom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678972410,"creation_date":1678947539,"question_id":75752703,"body_markdown":"I want to define several annotations as following, how to archieve it?\r\n```\r\n@interface Annotation1 {\r\n    String value();\r\n    String type();\r\n}\r\n\r\n@Annotation1(value=`valueInAnnoatation2()`, type = &#39;batch&#39;)\r\n@interface Annotation2 {\r\n   String valueInAnnoatation2();\r\n}\r\n```\r\n\r\nAnyone knows how to do this in jvm?\r\n\r\n","title":"How to Use the value in the java Annotation?","body":"<p>I want to define several annotations as following, how to archieve it?</p>\n<pre><code>@interface Annotation1 {\n    String value();\n    String type();\n}\n\n@Annotation1(value=`valueInAnnoatation2()`, type = 'batch')\n@interface Annotation2 {\n   String valueInAnnoatation2();\n}\n</code></pre>\n<p>Anyone knows how to do this in jvm?</p>\n"},{"tags":["java","comparison","jvm","llvm"],"comments":[{"owner":{"account_id":563731,"reputation":1507,"user_id":82793,"display_name":"Ken"},"score":24,"creation_date":1239989249,"post_id":454720,"comment_id":573247,"body_markdown":"On behalf of those of us who actually understood what you asked, I would like to apologize for all the stupid answers you got.  :-(","body":"On behalf of those of us who actually understood what you asked, I would like to apologize for all the stupid answers you got.  :-("},{"owner":{"account_id":16029,"reputation":498815,"user_id":34509,"accept_rate":62,"display_name":"Johannes Schaub - litb"},"score":20,"creation_date":1240064618,"post_id":454720,"comment_id":575436,"body_markdown":"if the question is worded ambiguously, not the answers are stupid, but the question is. sorry, but whoever says the answers below are &quot;stupid&quot; should reread everything in this thread. when i answered your question was like &quot;difference between llvm and java&quot;. The comment of Ken sounds quite arrogant.","body":"if the question is worded ambiguously, not the answers are stupid, but the question is. sorry, but whoever says the answers below are &quot;stupid&quot; should reread everything in this thread. when i answered your question was like &quot;difference between llvm and java&quot;. The comment of Ken sounds quite arrogant."},{"owner":{"account_id":92939,"reputation":93,"user_id":254492,"display_name":"user254492"},"score":3,"creation_date":1267437941,"post_id":454720,"comment_id":2329131,"body_markdown":"Love the comment ken. Sorry AcidZombie24 for some of these answers.","body":"Love the comment ken. Sorry AcidZombie24 for some of these answers."},{"owner":{"account_id":1041219,"reputation":1561,"user_id":1047213,"accept_rate":100,"display_name":"Hari"},"score":0,"creation_date":1678972378,"post_id":454720,"comment_id":133638913,"body_markdown":"More information about LLVM bitcode is given here: https://llvm.org/docs/BitCodeFormat.html","body":"More information about LLVM bitcode is given here: <a href=\"https://llvm.org/docs/BitCodeFormat.html\" rel=\"nofollow noreferrer\">llvm.org/docs/BitCodeFormat.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":11992,"reputation":23231,"user_id":23388,"accept_rate":83,"display_name":"nimrodm"},"down_vote_count":2,"up_vote_count":94,"is_accepted":false,"score":92,"last_activity_date":1232265006,"creation_date":1232265006,"answer_id":454787,"question_id":454720,"body_markdown":"Assuming you mean JVM rather than Java:\r\n\r\nThe LLVM is a _low level_ register-based virtual machine.\r\nIt is designed to abstract the underlying hardware and draw a clean line between a compiler back-end (machine code generation) and front-end (parsing, etc.).\r\n\r\nThe JVM is a much higher level stack-based virtual machine. The JVM provides garbage collection, has the notion of objects and virtual method calls and more. Thus, the JVM provides much higher level infrastructure for language interoperability (much like Microsoft&#39;s CLR).\r\n\r\n(It is possible to build these abstractions over LLVM just as it is possible to build them on top of C.)\r\n\r\n\r\n","title":"What are the differences between LLVM bitcode and Java bytecode?","body":"<p>Assuming you mean JVM rather than Java:</p>\n\n<p>The LLVM is a <em>low level</em> register-based virtual machine.\nIt is designed to abstract the underlying hardware and draw a clean line between a compiler back-end (machine code generation) and front-end (parsing, etc.).</p>\n\n<p>The JVM is a much higher level stack-based virtual machine. The JVM provides garbage collection, has the notion of objects and virtual method calls and more. Thus, the JVM provides much higher level infrastructure for language interoperability (much like Microsoft's CLR).</p>\n\n<p>(It is possible to build these abstractions over LLVM just as it is possible to build them on top of C.)</p>\n"},{"tags":[],"owner":{"account_id":38176,"reputation":3455,"user_id":109414,"accept_rate":61,"display_name":"Edd Barrett"},"down_vote_count":8,"up_vote_count":4,"is_accepted":false,"score":-4,"last_activity_date":1242744839,"creation_date":1242744839,"answer_id":883266,"question_id":454720,"body_markdown":"Java is a programming language, which uses the JVM as a means of &quot;Just in Time&quot; (JIT) execution, whereas LLVM is a compiler construction kit aimed at developing new languages and front-ends for existing languages. LLVM *does* have a JIT engine, but it need not be used if you don&#39;t require it. You could throw out LLVM assembler, byte-code or platform specific assembler instead of using JIT execution.","title":"What are the differences between LLVM bitcode and Java bytecode?","body":"<p>Java is a programming language, which uses the JVM as a means of \"Just in Time\" (JIT) execution, whereas LLVM is a compiler construction kit aimed at developing new languages and front-ends for existing languages. LLVM <em>does</em> have a JIT engine, but it need not be used if you don't require it. You could throw out LLVM assembler, byte-code or platform specific assembler instead of using JIT execution.</p>\n"},{"tags":[],"owner":{"account_id":44982,"reputation":475,"user_id":132318,"accept_rate":60,"display_name":"Owen"},"down_vote_count":1,"up_vote_count":34,"is_accepted":false,"score":33,"last_activity_date":1443386722,"creation_date":1258922487,"answer_id":1779934,"question_id":454720,"body_markdown":"It&#39;s too bad this question got off on the wrong foot. I came to it looking for a more detailed comparison.  \r\n\r\nThe biggest difference between JVM bytecode and and LLVM bitcode is that JVM instructions are stack-oriented, whereas LLVM bitcode is not.  This means that rather than loading values into registers, JVM bytecode loads values onto a stack and computes values from there.  I believe that an advantage of this is that the compiler doesn&#39;t have to allocate registers, but I&#39;m not sure.\r\n\r\nLLVM bitcode is closer to machine-level code, but isn&#39;t bound by a particular architecture.  For instance, I think that LLVM bitcode can make use of an arbitrary number of logical registers.  Maybe someone more familiar with LLVM can speak up here?\r\n","title":"What are the differences between LLVM bitcode and Java bytecode?","body":"<p>It's too bad this question got off on the wrong foot. I came to it looking for a more detailed comparison.  </p>\n\n<p>The biggest difference between JVM bytecode and and LLVM bitcode is that JVM instructions are stack-oriented, whereas LLVM bitcode is not.  This means that rather than loading values into registers, JVM bytecode loads values onto a stack and computes values from there.  I believe that an advantage of this is that the compiler doesn't have to allocate registers, but I'm not sure.</p>\n\n<p>LLVM bitcode is closer to machine-level code, but isn't bound by a particular architecture.  For instance, I think that LLVM bitcode can make use of an arbitrary number of logical registers.  Maybe someone more familiar with LLVM can speak up here?</p>\n"},{"tags":[],"owner":{"account_id":9550554,"reputation":59,"user_id":7094867,"display_name":"Fernando Magno Quintao Pereira"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1591391104,"creation_date":1591391104,"answer_id":62224093,"question_id":454720,"body_markdown":"JVM bytecodes and LLVM bytecodes have similarities and differences. In terms of similarities, these are two intermediate program representations. Thus, they can represent programs written in different programming languages. As an example, there are frontends that translate Java, Closure, Scala, etc into JVM bytecodes, and there are frontends that translate C, C++, Swift, Julia, Rust, etc into LLVM bytecodes.\r\n\r\nThis said, JVM bytecodes and LLVM bytecodes are very different in purpose and in design. Historically, JVM bytecodes have been designed to be distributed over a network, e.g., the Internet, and interpreted in the local computer, via a virtual machine. That&#39;s one of the reasons why it&#39;s stack based: usually, stack-based bytecodes are smaller.\r\n\r\nPerhaps, in its beginnings, the LLVM bytecodes have also been thought to be interpreted, but if it happened, its purpose has changed over time. So, LLVM bytecodes are a program representation meant to be analyzed and optimized. It is encoded in the Static Single Assignment format, which is more like a mathematical abstraction of a program than an actual, executable, assembly. So, there are instructions like phi-functions in the LLVM IR that do not have a direct equivalent in typical computer architectures, for instance. Thus, although it is possible to interpret LLVM bytecodes (there is a tool called lli that&#39;s part of the LLVM toolchain, that does that), that&#39;s not the most important way in which the LLVM IR is used.","title":"What are the differences between LLVM bitcode and Java bytecode?","body":"<p>JVM bytecodes and LLVM bytecodes have similarities and differences. In terms of similarities, these are two intermediate program representations. Thus, they can represent programs written in different programming languages. As an example, there are frontends that translate Java, Closure, Scala, etc into JVM bytecodes, and there are frontends that translate C, C++, Swift, Julia, Rust, etc into LLVM bytecodes.</p>\n\n<p>This said, JVM bytecodes and LLVM bytecodes are very different in purpose and in design. Historically, JVM bytecodes have been designed to be distributed over a network, e.g., the Internet, and interpreted in the local computer, via a virtual machine. That's one of the reasons why it's stack based: usually, stack-based bytecodes are smaller.</p>\n\n<p>Perhaps, in its beginnings, the LLVM bytecodes have also been thought to be interpreted, but if it happened, its purpose has changed over time. So, LLVM bytecodes are a program representation meant to be analyzed and optimized. It is encoded in the Static Single Assignment format, which is more like a mathematical abstraction of a program than an actual, executable, assembly. So, there are instructions like phi-functions in the LLVM IR that do not have a direct equivalent in typical computer architectures, for instance. Thus, although it is possible to interpret LLVM bytecodes (there is a tool called lli that's part of the LLVM toolchain, that does that), that's not the most important way in which the LLVM IR is used.</p>\n"}],"owner":{"display_name":"user34537"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25157,"favorite_count":0,"down_vote_count":3,"up_vote_count":85,"answer_count":4,"score":82,"last_activity_date":1678972076,"creation_date":1232257788,"question_id":454720,"body_markdown":"I don&#39;t understand the difference between LLVM bitcode and Java bytecode, what are they?\r\n\r\n-edit- by &#39;what are they&#39; i mean the differences between LLVM bitcode and Java bytecode not what are LLVM and Java.\r\n","title":"What are the differences between LLVM bitcode and Java bytecode?","body":"<p>I don't understand the difference between LLVM bitcode and Java bytecode, what are they?</p>\n<p>-edit- by 'what are they' i mean the differences between LLVM bitcode and Java bytecode not what are LLVM and Java.</p>\n"},{"tags":["java","path","zip","extract","quarkus"],"comments":[{"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"score":0,"creation_date":1678958883,"post_id":75748061,"comment_id":133634796,"body_markdown":"Are you trying to build Quarkus itself? (You don&#39;t need to do that to be able to write Quarkus applications!) If so, don&#39;t download a .zip from GitHub -- install Git and clone the entire repository.","body":"Are you trying to build Quarkus itself? (You don&#39;t need to do that to be able to write Quarkus applications!) If so, don&#39;t download a .zip from GitHub -- install Git and clone the entire repository."}],"answers":[{"tags":[],"owner":{"account_id":16676962,"reputation":1021,"user_id":12176221,"display_name":"Jacouille"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678971948,"creation_date":1678971948,"answer_id":75756677,"question_id":75748061,"body_markdown":"You are encountering a known limitation of Windows (not quarkus), see [microsoft documentation](https://learn.microsoft.com/en-us/windows/win32/fileio/maximum-file-path-limitation?tabs=registry#enable-long-paths-in-windows-10-version-1607-and-later) for full explanation. \r\n\r\nNow problem is identified, you have several solutions :\r\n\r\n## Main Workaround\r\nYou can enable long path with this command on your PowerShell ([related documentation](https://learn.microsoft.com/en-us/windows/win32/fileio/maximum-file-path-limitation?tabs=registry#enable-long-paths-in-windows-10-version-1607-and-later)) :\r\n```powershell\r\nNew-ItemProperty -Path &quot;HKLM:\\SYSTEM\\CurrentControlSet\\Control\\FileSystem&quot; `\r\n-Name &quot;LongPathsEnabled&quot; -Value 1 -PropertyType DWORD -Force\r\n```\r\n\r\n## Alternative\r\nAs @Ladicek mentioned, you may be trying to build Quarkus from sources (which isn&#39;t mandatory at all). If that&#39;s the case, prefer cloning repository with git.\r\n\r\nIf you don&#39;t want to build it from source, you still have [Code with Quarkus](https://code.quarkus.io/) which enable you to customize your starter code with dependencies, and create &quot;ready to code&quot; starter which can be unzipped flawlessly (as there isn&#39;t this much nested directories, so you are less likely to encounter 256+ character path when unzipping).\r\n\r\nBeing new to Java, I would advise you to use [Code with Quarkus](https://code.quarkus.io/) as it can also provide example code for each dependency you add to code base.","title":"What would be the proper decision in response for this flag when extracting my Quarkus ZIP file?","body":"<p>You are encountering a known limitation of Windows (not quarkus), see <a href=\"https://learn.microsoft.com/en-us/windows/win32/fileio/maximum-file-path-limitation?tabs=registry#enable-long-paths-in-windows-10-version-1607-and-later\" rel=\"nofollow noreferrer\">microsoft documentation</a> for full explanation.</p>\n<p>Now problem is identified, you have several solutions :</p>\n<h2>Main Workaround</h2>\n<p>You can enable long path with this command on your PowerShell (<a href=\"https://learn.microsoft.com/en-us/windows/win32/fileio/maximum-file-path-limitation?tabs=registry#enable-long-paths-in-windows-10-version-1607-and-later\" rel=\"nofollow noreferrer\">related documentation</a>) :</p>\n<pre><code>New-ItemProperty -Path &quot;HKLM:\\SYSTEM\\CurrentControlSet\\Control\\FileSystem&quot; `\n-Name &quot;LongPathsEnabled&quot; -Value 1 -PropertyType DWORD -Force\n</code></pre>\n<h2>Alternative</h2>\n<p>As @Ladicek mentioned, you may be trying to build Quarkus from sources (which isn't mandatory at all). If that's the case, prefer cloning repository with git.</p>\n<p>If you don't want to build it from source, you still have <a href=\"https://code.quarkus.io/\" rel=\"nofollow noreferrer\">Code with Quarkus</a> which enable you to customize your starter code with dependencies, and create &quot;ready to code&quot; starter which can be unzipped flawlessly (as there isn't this much nested directories, so you are less likely to encounter 256+ character path when unzipping).</p>\n<p>Being new to Java, I would advise you to use <a href=\"https://code.quarkus.io/\" rel=\"nofollow noreferrer\">Code with Quarkus</a> as it can also provide example code for each dependency you add to code base.</p>\n"}],"owner":{"account_id":27995025,"reputation":1,"user_id":21380471,"display_name":"Gianfranco La Rocca"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678971948,"creation_date":1678900611,"question_id":75748061,"body_markdown":"I&#39;m relatively new to Java development. I&#39;m trying to start working with Quarkus, but I&#39;m having some issues when extracting the .zip folder. \r\n\r\nBasically, I&#39;m attempting to extract the folder downloaded by quarkusio/quarkus Github repo from my C: drive as you can observe in the picture.\r\n\r\n[C: Quarkus](https://i.stack.imgur.com/fq6qH.jpg) (I renamed the main folder to &quot;Quaku&quot; in order to a resolved issue before this one.\r\n\r\nAs the extraction reaches 99%, I receive a &quot;Destination Path too long&quot; flag that won&#39;t even prompt me the option to &quot;try again&quot;, the folder that wants to skip is called &quot;resources&quot;. \r\n\r\n[Destination Path too long](https://i.stack.imgur.com/fl4gP.jpg)\r\n\r\nShould I do something about it? I&#39;ll take suggestions. I don&#39;t think I should, but I would like to know if this folder is worth to skip, unless it will give me further issues when developing my Quarkus application.\r\n\r\n\r\n\r\nI&#39;m trying to get my quaku.zip (Quarkus) file extracted as I have been doing with a regular smooth .zip extraction.","title":"What would be the proper decision in response for this flag when extracting my Quarkus ZIP file?","body":"<p>I'm relatively new to Java development. I'm trying to start working with Quarkus, but I'm having some issues when extracting the .zip folder.</p>\n<p>Basically, I'm attempting to extract the folder downloaded by quarkusio/quarkus Github repo from my C: drive as you can observe in the picture.</p>\n<p><a href=\"https://i.stack.imgur.com/fq6qH.jpg\" rel=\"nofollow noreferrer\">C: Quarkus</a> (I renamed the main folder to &quot;Quaku&quot; in order to a resolved issue before this one.</p>\n<p>As the extraction reaches 99%, I receive a &quot;Destination Path too long&quot; flag that won't even prompt me the option to &quot;try again&quot;, the folder that wants to skip is called &quot;resources&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/fl4gP.jpg\" rel=\"nofollow noreferrer\">Destination Path too long</a></p>\n<p>Should I do something about it? I'll take suggestions. I don't think I should, but I would like to know if this folder is worth to skip, unless it will give me further issues when developing my Quarkus application.</p>\n<p>I'm trying to get my quaku.zip (Quarkus) file extracted as I have been doing with a regular smooth .zip extraction.</p>\n"},{"tags":["java","android","cordova","android-studio"],"comments":[{"owner":{"account_id":3847903,"reputation":1997,"user_id":3188794,"accept_rate":50,"display_name":"james"},"score":0,"creation_date":1476959298,"post_id":40149968,"comment_id":67572633,"body_markdown":"Show full logs, i see this line &quot;Please read the following process output to find out more&quot;.","body":"Show full logs, i see this line &quot;Please read the following process output to find out more&quot;."},{"owner":{"display_name":"user6628331"},"score":0,"creation_date":1476960900,"post_id":40149968,"comment_id":67573637,"body_markdown":"Thank you @james, I added the issues more detail, check it and help me please.","body":"Thank you @james, I added the issues more detail, check it and help me please."}],"answers":[{"tags":[],"owner":{"account_id":14968839,"reputation":1,"user_id":10806318,"display_name":"Ganesh Raja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678971400,"creation_date":1678971400,"answer_id":75756589,"question_id":40149968,"body_markdown":"File -&gt; Invalidate Caches and Restart. And check whether all your gradle is up to date. Also check your project minimum and target SDK version. If the minimum and target version is present in your SDK manager list. Then the gradle will get synced and your good to go ","title":"Gradle &#39;android&#39; project refresh failed After Installed Android Studio 2.2.1","body":"<p>File -&gt; Invalidate Caches and Restart. And check whether all your gradle is up to date. Also check your project minimum and target SDK version. If the minimum and target version is present in your SDK manager list. Then the gradle will get synced and your good to go</p>\n"}],"owner":{"display_name":"user6628331"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1500,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678971400,"creation_date":1476954238,"question_id":40149968,"body_markdown":"**`Gradle &#39;android&#39; project refresh failed`**\r\n\r\n    \r\n\r\n        Caused by: org.gradle.api.GradleException: Unable to start the daemon process.\r\n    This problem might be caused by incorrect configuration of the daemon.\r\n    For example, an unrecognized jvm option is used.\r\n    Please refer to the user guide chapter on the daemon at https://docs.gradle.org/2.14.1/userguide/gradle_daemon.html\r\n    Please read the following process output to find out more:\r\n    -----------------------\r\n    \r\n    \tat org.gradle.launcher.daemon.bootstrap.DaemonGreeter.parseDaemonOutput(DaemonGreeter.java:34)\r\n    \tat org.gradle.launcher.daemon.client.DefaultDaemonStarter.startProcess(DefaultDaemonStarter.java:153)\r\n    \tat org.gradle.launcher.daemon.client.DefaultDaemonStarter.startDaemon(DefaultDaemonStarter.java:136)\r\n    \tat org.gradle.launcher.daemon.client.DefaultDaemonConnector.startDaemon(DefaultDaemonConnector.java:111)\r\n    \tat org.gradle.launcher.daemon.client.DefaultDaemonConnector.connect(DefaultDaemonConnector.java:89)\r\n    \tat org.gradle.launcher.daemon.client.DaemonClient.execute(DaemonClient.java:122)\r\n    \tat org.gradle.launcher.daemon.client.DaemonClient.execute(DaemonClient.java:80)\r\n    \tat org.gradle.tooling.internal.provider.DaemonBuildActionExecuter.execute(DaemonBuildActionExecuter.java:77)\r\n    \tat org.gradle.tooling.internal.provider.DaemonBuildActionExecuter.execute(DaemonBuildActionExecuter.java:46)\r\n    \tat org.gradle.tooling.internal.provider.LoggingBridgingBuildActionExecuter.execute(LoggingBridgingBuildActionExecuter.java:60)\r\n    \tat org.gradle.tooling.internal.provider.LoggingBridgingBuildActionExecuter.execute(LoggingBridgingBuildActionExecuter.java:34)\r\n    \tat org.gradle.tooling.internal.provider.ProviderConnection.run(ProviderConnection.java:150)\r\n    \tat org.gradle.tooling.internal.provider.ProviderConnection.run(ProviderConnection.java:135)\r\n    \tat org.gradle.tooling.internal.provider.DefaultConnection.run(DefaultConnection.java:202)\r\n    \tat org.gradle.tooling.internal.consumer.connection.CancellableConsumerConnection$CancellableActionRunner.run(CancellableConsumerConnection.java:116)\r\n    \tat org.gradle.tooling.internal.consumer.connection.AbstractConsumerConnection.run(AbstractConsumerConnection.java:64)\r\n    \tat org.gradle.tooling.internal.consumer.DefaultBuildActionExecuter$1.run(DefaultBuildActionExecuter.java:59)\r\n    \tat org.gradle.tooling.internal.consumer.connection.LazyConsumerActionExecutor.run(LazyConsumerActionExecutor.java:79)\r\n    \tat org.gradle.tooling.internal.consumer.connection.CancellableConsumerActionExecutor.run(CancellableConsumerActionExecutor.java:45)\r\n    \tat org.gradle.tooling.internal.consumer.connection.ProgressLoggingConsumerActionExecutor.run(ProgressLoggingConsumerActionExecutor.java:58)\r\n    \tat org.gradle.tooling.internal.consumer.connection.RethrowingErrorsConsumerActionExecutor.run(RethrowingErrorsConsumerActionExecutor.java:38)\r\n    \tat org.gradle.tooling.internal.consumer.async.DefaultAsyncConsumerActionExecutor$1$1.run(DefaultAsyncConsumerActionExecutor.java:55)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:54)\r\n    \tat org.gradle.internal.concurrent.StoppableExecutorImpl$1.run(StoppableExecutorImpl.java:40)\r\n    \t... 3 more\r\n    2016-10-20 18:48:29,661 [  41611]   WARN - nal.AbstractExternalSystemTask - Unable to start the daemon process.\r\n    This problem might be caused by incorrect configuration of the daemon.\r\n    For example, an unrecognized jvm option is used.\r\n    Please refer to the user guide chapter on the daemon at https://docs.gradle.org/2.14.1/userguide/gradle_daemon.html\r\n    Please read the following process output to find out more:\r\n    -----------------------\r\n     \r\n    com.intellij.openapi.externalSystem.model.ExternalSystemException: Unable to start the daemon process.\r\n    This problem might be caused by incorrect configuration of the daemon.\r\n    For example, an unrecognized jvm option is used.\r\n    Please refer to the user guide chapter on the daemon at https://docs.gradle.org/2.14.1/userguide/gradle_daemon.html\r\n    Please read the following process output to find out more:\r\n    -----------------------\r\n    \r\n    \tat org.jetbrains.plugins.gradle.service.project.AbstractProjectImportErrorHandler.createUserFriendlyError(AbstractProjectImportErrorHandler.java:106)\r\n    \tat org.jetbrains.plugins.gradle.service.project.BaseProjectImportErrorHandler.getUserFriendlyError(BaseProjectImportErrorHandler.java:158)\r\n    \tat org.jetbrains.plugins.gradle.service.project.BaseGradleProjectResolverExtension.getUserFriendlyError(BaseGradleProjectResolverExtension.java:579)\r\n    \tat org.jetbrains.plugins.gradle.service.project.AbstractProjectResolverExtension.getUserFriendlyError(AbstractProjectResolverExtension.java:158)\r\n    \tat com.android.tools.idea.gradle.project.AndroidGradleProjectResolver.getUserFriendlyError(AndroidGradleProjectResolver.java:405)\r\n    \tat org.jetbrains.plugins.gradle.service.project.GradleProjectResolver$ProjectConnectionDataNodeFunction.fun(GradleProjectResolver.java:772)\r\n    \tat org.jetbrains.plugins.gradle.service.project.GradleProjectResolver$ProjectConnectionDataNodeFunction.fun(GradleProjectResolver.java:752)\r\n    \tat org.jetbrains.plugins.gradle.service.execution.GradleExecutionHelper.execute(GradleExecutionHelper.java:238)\r\n    \tat org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.resolveProjectInfo(GradleProjectResolver.java:112)\r\n    \tat org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.resolveProjectInfo(GradleProjectResolver.java:73)\r\n    \tat com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemProjectResolverImpl$1.produce(RemoteExternalSystemProjectResolverImpl.java:41)\r\n    \tat com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemProjectResolverImpl$1.produce(RemoteExternalSystemProjectResolverImpl.java:37)\r\n    \tat com.intellij.openapi.externalSystem.service.remote.AbstractRemoteExternalSystemService.execute(AbstractRemoteExternalSystemService.java:59)\r\n    \tat com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemProjectResolverImpl.resolveProjectInfo(RemoteExternalSystemProjectResolverImpl.java:37)\r\n    \tat com.intellij.openapi.externalSystem.service.remote.wrapper.ExternalSystemProjectResolverWrapper.resolveProjectInfo(ExternalSystemProjectResolverWrapper.java:49)\r\n    \tat com.intellij.openapi.externalSystem.service.internal.ExternalSystemResolveProjectTask.doExecute(ExternalSystemResolveProjectTask.java:51)\r\n    \tat com.intellij.openapi.externalSystem.service.internal.AbstractExternalSystemTask.execute(AbstractExternalSystemTask.java:138)\r\n    \tat com.intellij.openapi.externalSystem.service.internal.AbstractExternalSystemTask.execute(AbstractExternalSystemTask.java:124)\r\n    \tat com.intellij.openapi.externalSystem.util.ExternalSystemUtil$3.execute(ExternalSystemUtil.java:419)\r\n    \tat com.intellij.openapi.externalSystem.util.ExternalSystemUtil$4$2.run(ExternalSystemUtil.java:500)\r\n    \tat com.intellij.openapi.progress.impl.CoreProgressManager$TaskRunnable.run(CoreProgressManager.java:563)\r\n    \tat com.intellij.openapi.progress.impl.CoreProgressManager$2.run(CoreProgressManager.java:142)\r\n    \tat com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:446)\r\n    \tat com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:392)\r\n    \tat com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:54)\r\n    \tat com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:127)\r\n    \tat com.intellij.openapi.progress.impl.ProgressManagerImpl$1.run(ProgressManagerImpl.java:126)\r\n    \tat com.intellij.openapi.application.impl.ApplicationImpl$8.run(ApplicationImpl.java:369)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    \r\n    2016-10-20 18:48:29,664 [  41614]   WARN - radle.project.ProjectSetUpTask -  \r\n    2016-10-20 18:48:29,664 [  41614]   INFO - radle.project.ProjectSetUpTask - Unable to start the daemon process.\r\n    This problem might be caused by incorrect configuration of the daemon.\r\n    For example, an unrecognized jvm option is used.\r\n    Please refer to the user guide chapter on the daemon at https://docs.gradle.org/2.14.1/userguide/gradle_daemon.html\r\n    Please read the following process output to find out more:\r\n    -----------------------\r\n    \r\n    \r\n    Consult IDE log for more details (Help | Show Log) \r\n    2016-10-20 18:48:29,664 [  41614]   INFO - ls.idea.gradle.GradleSyncState - Sync with Gradle for project &#39;android&#39; failed: Unable to start the daemon process.\r\n    This problem might be caused by incorrect configuration of the daemon.\r\n    For example, an unrecognized jvm option is used.\r\n    Please refer to the user guide chapter on the daemon at https://docs.gradle.org/2.14.1/userguide/gradle_daemon.html\r\n    Please read the following process output to find out more:\r\n    -----------------------\r\n    \r\n    \r\n    Consult IDE log for more details (Help | Show Log) \r\n    2016-10-20 18:48:29,733 [  41683]   WARN - roid.tools.ndk.GradleWorkspace - NDK support for project &#39;android&#39; is disabled because the project doesn&#39;t contain any valid native configurations. \r\n    2016-10-20 18:48:29,823 [  41773]   INFO -       #com.jetbrains.cidr.lang - Clearing symbols finished in 0 s. \r\n    2016-10-20 18:48:29,823 [  41773]   INFO -       #com.jetbrains.cidr.lang - Loading symbols finished in 0 s. \r\n    2016-10-20 18:48:29,823 [  41773]   INFO -       #com.jetbrains.cidr.lang - Building symbols finished in 0 s. \r\n    2016-10-20 18:48:29,824 [  41774]   INFO -       #com.jetbrains.cidr.lang - Saving symbols finished in 0 s. \r\n\r\n\r\nThis issue happens only Cordova/Phonegap projects, works fine on native Android(Java) project.\r\n\r\nI checked all questions and answers on **StackOverFlow**, and tried installing/uninstalling many times, but didn&#39;t fix it.\r\n\r\n&gt; OS: Windows 10 x64, Android Studio 2.2.1.\r\n\r\nDoes anyone know how to fix this?\r\n\r\n","title":"Gradle &#39;android&#39; project refresh failed After Installed Android Studio 2.2.1","body":"<p><strong><code>Gradle 'android' project refresh failed</code></strong></p>\n\n<pre><code>    Caused by: org.gradle.api.GradleException: Unable to start the daemon process.\nThis problem might be caused by incorrect configuration of the daemon.\nFor example, an unrecognized jvm option is used.\nPlease refer to the user guide chapter on the daemon at https://docs.gradle.org/2.14.1/userguide/gradle_daemon.html\nPlease read the following process output to find out more:\n-----------------------\n\n    at org.gradle.launcher.daemon.bootstrap.DaemonGreeter.parseDaemonOutput(DaemonGreeter.java:34)\n    at org.gradle.launcher.daemon.client.DefaultDaemonStarter.startProcess(DefaultDaemonStarter.java:153)\n    at org.gradle.launcher.daemon.client.DefaultDaemonStarter.startDaemon(DefaultDaemonStarter.java:136)\n    at org.gradle.launcher.daemon.client.DefaultDaemonConnector.startDaemon(DefaultDaemonConnector.java:111)\n    at org.gradle.launcher.daemon.client.DefaultDaemonConnector.connect(DefaultDaemonConnector.java:89)\n    at org.gradle.launcher.daemon.client.DaemonClient.execute(DaemonClient.java:122)\n    at org.gradle.launcher.daemon.client.DaemonClient.execute(DaemonClient.java:80)\n    at org.gradle.tooling.internal.provider.DaemonBuildActionExecuter.execute(DaemonBuildActionExecuter.java:77)\n    at org.gradle.tooling.internal.provider.DaemonBuildActionExecuter.execute(DaemonBuildActionExecuter.java:46)\n    at org.gradle.tooling.internal.provider.LoggingBridgingBuildActionExecuter.execute(LoggingBridgingBuildActionExecuter.java:60)\n    at org.gradle.tooling.internal.provider.LoggingBridgingBuildActionExecuter.execute(LoggingBridgingBuildActionExecuter.java:34)\n    at org.gradle.tooling.internal.provider.ProviderConnection.run(ProviderConnection.java:150)\n    at org.gradle.tooling.internal.provider.ProviderConnection.run(ProviderConnection.java:135)\n    at org.gradle.tooling.internal.provider.DefaultConnection.run(DefaultConnection.java:202)\n    at org.gradle.tooling.internal.consumer.connection.CancellableConsumerConnection$CancellableActionRunner.run(CancellableConsumerConnection.java:116)\n    at org.gradle.tooling.internal.consumer.connection.AbstractConsumerConnection.run(AbstractConsumerConnection.java:64)\n    at org.gradle.tooling.internal.consumer.DefaultBuildActionExecuter$1.run(DefaultBuildActionExecuter.java:59)\n    at org.gradle.tooling.internal.consumer.connection.LazyConsumerActionExecutor.run(LazyConsumerActionExecutor.java:79)\n    at org.gradle.tooling.internal.consumer.connection.CancellableConsumerActionExecutor.run(CancellableConsumerActionExecutor.java:45)\n    at org.gradle.tooling.internal.consumer.connection.ProgressLoggingConsumerActionExecutor.run(ProgressLoggingConsumerActionExecutor.java:58)\n    at org.gradle.tooling.internal.consumer.connection.RethrowingErrorsConsumerActionExecutor.run(RethrowingErrorsConsumerActionExecutor.java:38)\n    at org.gradle.tooling.internal.consumer.async.DefaultAsyncConsumerActionExecutor$1$1.run(DefaultAsyncConsumerActionExecutor.java:55)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:54)\n    at org.gradle.internal.concurrent.StoppableExecutorImpl$1.run(StoppableExecutorImpl.java:40)\n    ... 3 more\n2016-10-20 18:48:29,661 [  41611]   WARN - nal.AbstractExternalSystemTask - Unable to start the daemon process.\nThis problem might be caused by incorrect configuration of the daemon.\nFor example, an unrecognized jvm option is used.\nPlease refer to the user guide chapter on the daemon at https://docs.gradle.org/2.14.1/userguide/gradle_daemon.html\nPlease read the following process output to find out more:\n-----------------------\n\ncom.intellij.openapi.externalSystem.model.ExternalSystemException: Unable to start the daemon process.\nThis problem might be caused by incorrect configuration of the daemon.\nFor example, an unrecognized jvm option is used.\nPlease refer to the user guide chapter on the daemon at https://docs.gradle.org/2.14.1/userguide/gradle_daemon.html\nPlease read the following process output to find out more:\n-----------------------\n\n    at org.jetbrains.plugins.gradle.service.project.AbstractProjectImportErrorHandler.createUserFriendlyError(AbstractProjectImportErrorHandler.java:106)\n    at org.jetbrains.plugins.gradle.service.project.BaseProjectImportErrorHandler.getUserFriendlyError(BaseProjectImportErrorHandler.java:158)\n    at org.jetbrains.plugins.gradle.service.project.BaseGradleProjectResolverExtension.getUserFriendlyError(BaseGradleProjectResolverExtension.java:579)\n    at org.jetbrains.plugins.gradle.service.project.AbstractProjectResolverExtension.getUserFriendlyError(AbstractProjectResolverExtension.java:158)\n    at com.android.tools.idea.gradle.project.AndroidGradleProjectResolver.getUserFriendlyError(AndroidGradleProjectResolver.java:405)\n    at org.jetbrains.plugins.gradle.service.project.GradleProjectResolver$ProjectConnectionDataNodeFunction.fun(GradleProjectResolver.java:772)\n    at org.jetbrains.plugins.gradle.service.project.GradleProjectResolver$ProjectConnectionDataNodeFunction.fun(GradleProjectResolver.java:752)\n    at org.jetbrains.plugins.gradle.service.execution.GradleExecutionHelper.execute(GradleExecutionHelper.java:238)\n    at org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.resolveProjectInfo(GradleProjectResolver.java:112)\n    at org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.resolveProjectInfo(GradleProjectResolver.java:73)\n    at com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemProjectResolverImpl$1.produce(RemoteExternalSystemProjectResolverImpl.java:41)\n    at com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemProjectResolverImpl$1.produce(RemoteExternalSystemProjectResolverImpl.java:37)\n    at com.intellij.openapi.externalSystem.service.remote.AbstractRemoteExternalSystemService.execute(AbstractRemoteExternalSystemService.java:59)\n    at com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemProjectResolverImpl.resolveProjectInfo(RemoteExternalSystemProjectResolverImpl.java:37)\n    at com.intellij.openapi.externalSystem.service.remote.wrapper.ExternalSystemProjectResolverWrapper.resolveProjectInfo(ExternalSystemProjectResolverWrapper.java:49)\n    at com.intellij.openapi.externalSystem.service.internal.ExternalSystemResolveProjectTask.doExecute(ExternalSystemResolveProjectTask.java:51)\n    at com.intellij.openapi.externalSystem.service.internal.AbstractExternalSystemTask.execute(AbstractExternalSystemTask.java:138)\n    at com.intellij.openapi.externalSystem.service.internal.AbstractExternalSystemTask.execute(AbstractExternalSystemTask.java:124)\n    at com.intellij.openapi.externalSystem.util.ExternalSystemUtil$3.execute(ExternalSystemUtil.java:419)\n    at com.intellij.openapi.externalSystem.util.ExternalSystemUtil$4$2.run(ExternalSystemUtil.java:500)\n    at com.intellij.openapi.progress.impl.CoreProgressManager$TaskRunnable.run(CoreProgressManager.java:563)\n    at com.intellij.openapi.progress.impl.CoreProgressManager$2.run(CoreProgressManager.java:142)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:446)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:392)\n    at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:54)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:127)\n    at com.intellij.openapi.progress.impl.ProgressManagerImpl$1.run(ProgressManagerImpl.java:126)\n    at com.intellij.openapi.application.impl.ApplicationImpl$8.run(ApplicationImpl.java:369)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n\n2016-10-20 18:48:29,664 [  41614]   WARN - radle.project.ProjectSetUpTask -  \n2016-10-20 18:48:29,664 [  41614]   INFO - radle.project.ProjectSetUpTask - Unable to start the daemon process.\nThis problem might be caused by incorrect configuration of the daemon.\nFor example, an unrecognized jvm option is used.\nPlease refer to the user guide chapter on the daemon at https://docs.gradle.org/2.14.1/userguide/gradle_daemon.html\nPlease read the following process output to find out more:\n-----------------------\n\n\nConsult IDE log for more details (Help | Show Log) \n2016-10-20 18:48:29,664 [  41614]   INFO - ls.idea.gradle.GradleSyncState - Sync with Gradle for project 'android' failed: Unable to start the daemon process.\nThis problem might be caused by incorrect configuration of the daemon.\nFor example, an unrecognized jvm option is used.\nPlease refer to the user guide chapter on the daemon at https://docs.gradle.org/2.14.1/userguide/gradle_daemon.html\nPlease read the following process output to find out more:\n-----------------------\n\n\nConsult IDE log for more details (Help | Show Log) \n2016-10-20 18:48:29,733 [  41683]   WARN - roid.tools.ndk.GradleWorkspace - NDK support for project 'android' is disabled because the project doesn't contain any valid native configurations. \n2016-10-20 18:48:29,823 [  41773]   INFO -       #com.jetbrains.cidr.lang - Clearing symbols finished in 0 s. \n2016-10-20 18:48:29,823 [  41773]   INFO -       #com.jetbrains.cidr.lang - Loading symbols finished in 0 s. \n2016-10-20 18:48:29,823 [  41773]   INFO -       #com.jetbrains.cidr.lang - Building symbols finished in 0 s. \n2016-10-20 18:48:29,824 [  41774]   INFO -       #com.jetbrains.cidr.lang - Saving symbols finished in 0 s. \n</code></pre>\n\n<p>This issue happens only Cordova/Phonegap projects, works fine on native Android(Java) project.</p>\n\n<p>I checked all questions and answers on <strong>StackOverFlow</strong>, and tried installing/uninstalling many times, but didn't fix it.</p>\n\n<blockquote>\n  <p>OS: Windows 10 x64, Android Studio 2.2.1.</p>\n</blockquote>\n\n<p>Does anyone know how to fix this?</p>\n"},{"tags":["java","spring","spring-boot","oauth-2.0","swagger-codegen"],"owner":{"account_id":10617434,"reputation":51,"user_id":7819448,"display_name":"Pratyush Choudhary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678970953,"creation_date":1678970953,"question_id":75756502,"body_markdown":"I&#39;m using spring boot and swagger-codegen to connect to a client that uses Oauth2 for authentication. Is there a way to use the client id and client secret provided by the client to get token out of box (silently) whenever the token is expired, add it in header and retry by itself without me having to write additional handling for these situation?\r\nAny help will is appreciated.\r\nThank you.","title":"Using OAuth2 with Swagger Codegen in Spring Boot","body":"<p>I'm using spring boot and swagger-codegen to connect to a client that uses Oauth2 for authentication. Is there a way to use the client id and client secret provided by the client to get token out of box (silently) whenever the token is expired, add it in header and retry by itself without me having to write additional handling for these situation?\nAny help will is appreciated.\nThank you.</p>\n"},{"tags":["javascript","java","html","module","element"],"owner":{"account_id":27518510,"reputation":91,"user_id":20999057,"display_name":"Ji Lin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1678970867,"creation_date":1678965446,"question_id":75755515,"body_markdown":"Following problem:&lt;br&gt;\r\nI want to dynamically change the attachTo of the current Step in a Shepherd JS Tour. To do so, im going to use &quot;tour.getCurrentStep().updateStepOptions()&quot;. If i changed the &quot;attachTo&quot; option, i want on some cases to jump back to the default &quot;attachTo&quot; option. For that, i need a instance that i definied before calling the updateStepOptions() from the current Step. I want something like this:&lt;br&gt;\r\n&lt;br&gt;\r\n\r\n    const attachToElement = tour.getCurrentStep().attachTo\r\n    if(...) {\r\n       tour.getCurrentStep().updateStepOptions({attachTo: {attachToElement.element, on: &quot;top&quot;}});\r\n    } else {\r\n       tour.getCurrentStep().updateStepOptions({attachTo: {attachToElement.element, attachToElement.on});\r\n    }\r\n\r\nHowever this doesnt work, because the &quot;attachToElement&quot; is not defined. Does anybody know how to get over this?","title":"How can we store Steps in constants of a Shepherd JS Tour?","body":"<p>Following problem:<br>\nI want to dynamically change the attachTo of the current Step in a Shepherd JS Tour. To do so, im going to use &quot;tour.getCurrentStep().updateStepOptions()&quot;. If i changed the &quot;attachTo&quot; option, i want on some cases to jump back to the default &quot;attachTo&quot; option. For that, i need a instance that i definied before calling the updateStepOptions() from the current Step. I want something like this:<br>\n<br></p>\n<pre><code>const attachToElement = tour.getCurrentStep().attachTo\nif(...) {\n   tour.getCurrentStep().updateStepOptions({attachTo: {attachToElement.element, on: &quot;top&quot;}});\n} else {\n   tour.getCurrentStep().updateStepOptions({attachTo: {attachToElement.element, attachToElement.on});\n}\n</code></pre>\n<p>However this doesnt work, because the &quot;attachToElement&quot; is not defined. Does anybody know how to get over this?</p>\n"},{"tags":["java","class","variables"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":2,"creation_date":1678471044,"post_id":75699303,"comment_id":133545194,"body_markdown":"Simply add get and set methods as needed to let one of your classes access the fields in the other. Or alternatively extract the fields to a state class that both the other classes can call and use getters/setters or higher-level methods there.","body":"Simply add get and set methods as needed to let one of your classes access the fields in the other. Or alternatively extract the fields to a state class that both the other classes can call and use getters/setters or higher-level methods there."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1678472853,"post_id":75699303,"comment_id":133545615,"body_markdown":"I am sorry to ask, but could you have someone go through your English with you? I don’t get your explanation as it stands.","body":"I am sorry to ask, but could you have someone go through your English with you? I don’t get your explanation as it stands."}],"answers":[{"tags":[],"owner":{"account_id":23278992,"reputation":16,"user_id":21351084,"display_name":"StackKaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678970805,"creation_date":1678479806,"answer_id":75700701,"question_id":75699303,"body_markdown":"There are two ways main ways of getting variables from another class:\r\n\r\nFirst way:\r\n``` java\r\nprivate int YOURVARIABLE = 0;\r\npublic static int getNumber() {\r\n    return YOURVARIABLE;\r\n}\r\npublic static void setNumber(int x) {\r\n    YOURVARIABLE = x;\r\n}\r\n\r\n// calling the method form another class\r\nCLASSNAME.setNumber(YOURNUMBER); //setting the number\r\nCLASSNAME.getNumber(); //getting the number\r\n```\r\n\r\nSecond way:\r\n``` java\r\n// You can create a variable like this:\r\npublic static int x = 0;\r\n// And call it from another class with this:\r\nCLASSNAME.x\r\n```\r\n","title":"Java one variable in two classes?","body":"<p>There are two ways main ways of getting variables from another class:</p>\n<p>First way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private int YOURVARIABLE = 0;\npublic static int getNumber() {\n    return YOURVARIABLE;\n}\npublic static void setNumber(int x) {\n    YOURVARIABLE = x;\n}\n\n// calling the method form another class\nCLASSNAME.setNumber(YOURNUMBER); //setting the number\nCLASSNAME.getNumber(); //getting the number\n</code></pre>\n<p>Second way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// You can create a variable like this:\npublic static int x = 0;\n// And call it from another class with this:\nCLASSNAME.x\n</code></pre>\n"}],"owner":{"account_id":26951285,"reputation":3,"user_id":20520469,"display_name":"benni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75700701,"answer_count":1,"score":0,"last_activity_date":1678970805,"creation_date":1678469598,"question_id":75699303,"body_markdown":"I tried to use a variable in two classes in Java because I&#39;m currently programming a game that requires this.\r\n\r\nFor example, my issue:\r\n\r\nHere&#39;s my specific problem: I have a Rocket and a Meteor defined as separate classes. The Rocket either avoids the Meteor or shoots it down with a &#39;Bullet&#39;. The player earns a few points for every second survived in a score counter. The counter is set as a variable in the Rocket class so that the variable only increases when the Rocket is active. However, the player should also earn extra points for shooting down a Meteor. Since the counter does not exist in the Meteor class, even after extensive searching, I don&#39;t know how to increase my counter in the Meteor class as well.\r\n\r\nI programmed this in Greenfoot for my actual task that I was given. This represents my Rocketclass and should show you how my script is structured. I hope you can infer something from it.\r\n\r\n```\r\nimport greenfoot.*;  // (World, Actor, GreenfootImage, Greenfoot and MouseInfo)\r\n\r\n    public class Rocket extends Actor\r\n    {\r\n    private int zaehler_02 =0;//wait for shoot\r\n    private int zaehler_03 =0;//addbullet\r\n    private int zaehler_05 =0;//counter\r\n    private int magazin = 25;`\r\n    \r\n    public void act() \r\n    {\r\n        if(Greenfoot.isKeyDown(&quot;right&quot;)){\r\n            this.MoveRight();\r\n        }\r\n        if(Greenfoot.isKeyDown(&quot;left&quot;)){\r\n            this.MoveLeft();\r\n        }\r\n        if(Greenfoot.isKeyDown(&quot;up&quot;)){\r\n            this.MoveUp();\r\n        }\r\n        if(Greenfoot.isKeyDown(&quot;down&quot;)){\r\n            this.MoveDown();\r\n        }`\r\n        \r\n       `zaehler_03 += 1;\r\n        zaehler_02 += 1;\r\n        zaehler_05 += 1;\r\n        if(Greenfoot.isKeyDown(&quot;space&quot;)){\r\n            if(zaehler_02 &gt;=35 &amp;&amp; magazin &gt;= 1){\r\n                this.bullet();\r\n                zaehler_02 = 0;\r\n                magazin += -1;\r\n            }\r\n        }\r\n        \r\n        this.counter();\r\n        this.getBullets();\r\n        this.checkcollision();\r\n    }    \r\n\r\n    public void MoveRight(){\r\n        this.setLocation(this.getX()+3, this.getY());\r\n    }\r\n\r\n    public void MoveLeft(){\r\n        this.setLocation(this.getX()-3, this.getY());\r\n    }\r\n\r\n    public void MoveUp(){\r\n        this.setLocation(this.getX(), this.getY()-3);\r\n    }\r\n\r\n    public void MoveDown(){\r\n        this.setLocation(this.getX(), this.getY()+3);\r\n    }\r\n    \r\n    public void bullet(){\r\n        Bullet bullet = new Bullet();\r\n        this.getWorld().addObject(bullet, this.getX(),this.getY());\r\n    }\r\n    \r\n    public void counter(){\r\n        count = zaehler_05;\r\n        count /= 20;\r\n        this.getWorld().showText(&quot;Score:&quot; + Integer.toString(count), 60, 20);\r\n        this.getWorld().showText(&quot;Magazin:&quot; + Integer.toString(magazin), 200, 20);\r\n    }\r\n\r\n    public void getBullets(){\r\n        Bulletup bulletup= (Bulletup) this.getOneIntersectingObject(Bulletup.class);\r\n\r\n        if(bulletup != null){\r\n            this.addBullet();\r\n            bulletup = null;\r\n        }\r\n    }\r\n\r\n    public void addBullet(){\r\n        if (zaehler_03 &gt; 200){\r\n            magazin += 10;\r\n            zaehler_03 = 0;\r\n        }\r\n    }\r\n    \r\n    public void checkcollision(){\r\n        Meteor meteor = (Meteor) this.getOneIntersectingObject(Meteor.class);\r\n\r\n        Dead dead =new Dead();\r\n\r\n        if(meteor != null){\r\n            this.getWorld().addObject(dead, 600, 500);\r\n            Greenfoot.stop();\r\n        }\r\n     }\r\n    }\r\n```","title":"Java one variable in two classes?","body":"<p>I tried to use a variable in two classes in Java because I'm currently programming a game that requires this.</p>\n<p>For example, my issue:</p>\n<p>Here's my specific problem: I have a Rocket and a Meteor defined as separate classes. The Rocket either avoids the Meteor or shoots it down with a 'Bullet'. The player earns a few points for every second survived in a score counter. The counter is set as a variable in the Rocket class so that the variable only increases when the Rocket is active. However, the player should also earn extra points for shooting down a Meteor. Since the counter does not exist in the Meteor class, even after extensive searching, I don't know how to increase my counter in the Meteor class as well.</p>\n<p>I programmed this in Greenfoot for my actual task that I was given. This represents my Rocketclass and should show you how my script is structured. I hope you can infer something from it.</p>\n<pre><code>import greenfoot.*;  // (World, Actor, GreenfootImage, Greenfoot and MouseInfo)\n\n    public class Rocket extends Actor\n    {\n    private int zaehler_02 =0;//wait for shoot\n    private int zaehler_03 =0;//addbullet\n    private int zaehler_05 =0;//counter\n    private int magazin = 25;`\n    \n    public void act() \n    {\n        if(Greenfoot.isKeyDown(&quot;right&quot;)){\n            this.MoveRight();\n        }\n        if(Greenfoot.isKeyDown(&quot;left&quot;)){\n            this.MoveLeft();\n        }\n        if(Greenfoot.isKeyDown(&quot;up&quot;)){\n            this.MoveUp();\n        }\n        if(Greenfoot.isKeyDown(&quot;down&quot;)){\n            this.MoveDown();\n        }`\n        \n       `zaehler_03 += 1;\n        zaehler_02 += 1;\n        zaehler_05 += 1;\n        if(Greenfoot.isKeyDown(&quot;space&quot;)){\n            if(zaehler_02 &gt;=35 &amp;&amp; magazin &gt;= 1){\n                this.bullet();\n                zaehler_02 = 0;\n                magazin += -1;\n            }\n        }\n        \n        this.counter();\n        this.getBullets();\n        this.checkcollision();\n    }    \n\n    public void MoveRight(){\n        this.setLocation(this.getX()+3, this.getY());\n    }\n\n    public void MoveLeft(){\n        this.setLocation(this.getX()-3, this.getY());\n    }\n\n    public void MoveUp(){\n        this.setLocation(this.getX(), this.getY()-3);\n    }\n\n    public void MoveDown(){\n        this.setLocation(this.getX(), this.getY()+3);\n    }\n    \n    public void bullet(){\n        Bullet bullet = new Bullet();\n        this.getWorld().addObject(bullet, this.getX(),this.getY());\n    }\n    \n    public void counter(){\n        count = zaehler_05;\n        count /= 20;\n        this.getWorld().showText(&quot;Score:&quot; + Integer.toString(count), 60, 20);\n        this.getWorld().showText(&quot;Magazin:&quot; + Integer.toString(magazin), 200, 20);\n    }\n\n    public void getBullets(){\n        Bulletup bulletup= (Bulletup) this.getOneIntersectingObject(Bulletup.class);\n\n        if(bulletup != null){\n            this.addBullet();\n            bulletup = null;\n        }\n    }\n\n    public void addBullet(){\n        if (zaehler_03 &gt; 200){\n            magazin += 10;\n            zaehler_03 = 0;\n        }\n    }\n    \n    public void checkcollision(){\n        Meteor meteor = (Meteor) this.getOneIntersectingObject(Meteor.class);\n\n        Dead dead =new Dead();\n\n        if(meteor != null){\n            this.getWorld().addObject(dead, 600, 500);\n            Greenfoot.stop();\n        }\n     }\n    }\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":4714021,"reputation":6570,"user_id":3813733,"accept_rate":60,"display_name":"Arkantos"},"score":1,"creation_date":1429381315,"post_id":29721088,"comment_id":47576717,"body_markdown":"You need to give JAVA_HOME directory in which you installed your JDK, not the path containing `javac`. It should be `Java_Installed_Dir` NOT `Java_Installed_Dir/bin/javac`","body":"You need to give JAVA_HOME directory in which you installed your JDK, not the path containing <code>javac</code>. It should be <code>Java_Installed_Dir</code> NOT <code>Java_Installed_Dir&#47;bin&#47;javac</code>"}],"answers":[{"tags":[],"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1429382199,"creation_date":1429382199,"answer_id":29721281,"question_id":29721088,"body_markdown":"The appropriate way to find the Java home on a Mac is to go into Terminal and type:\r\n\r\n&lt;!-- language: lang-sh --&gt;\r\n\r\n    /usr/libexec/java_home\r\n\r\nThis will give you a result which you can set as your Java home directory. For example, on my Machine, it displays:\r\n\r\n&lt;pre&gt;/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home&lt;/pre&gt;","title":"The selected directory is not a valid home for JDK - IntelliJ on MacOS","body":"<p>The appropriate way to find the Java home on a Mac is to go into Terminal and type:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>/usr/libexec/java_home\n</code></pre>\n\n<p>This will give you a result which you can set as your Java home directory. For example, on my Machine, it displays:</p>\n\n<pre>/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home</pre>\n"},{"tags":[],"owner":{"account_id":24764704,"reputation":11,"user_id":18648668,"display_name":"Augusto Occhiuzzi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678970693,"creation_date":1678461465,"answer_id":75697900,"question_id":29721088,"body_markdown":"I found the solution to the problem, but in Ubuntu. If you are in MAC, is quite similar.\r\nThe thing is that firstly you must install the jre and jdk.\r\n\r\nI have it in my `/usr/lib/jvm`\r\n\r\nThen, after that, you must put the variable $JAVA_HOME in your $PATH in the ~/.bashrc file at the end. But I found that after adding my jre and my jdk, my IDE didn&#39;t detect my jdk. So what I do to solve this in my IDE was:\r\n\r\nIn your command line:\r\n\r\n```\r\nnano ~/.bashrc\r\n```\r\n\r\n```\r\nexport JAVA_HOME=&#39;/your/path/without/bin&#39;\r\nexport PATH=$PATH:$JAVA_HOME/bin\r\n```\r\n\r\n```\r\nsource ~/.bashrc\r\n```\r\n\r\nIf no problem was detected and all is fine, just do\r\n\r\n\r\n```\r\njava --version\r\n```\r\n\r\nIf is detected, next, go to the other step:\r\n\r\n=&gt; Open your IDE. In this step, if your IDE doesn&#39;t recognize java version or SDK (as in my case), do the following\r\n\r\n```\r\njavac --version\r\n```\r\nThis is where I solved the problem, becouse it looked like I didn&#39;t have javac, so I solved it with:\r\n\r\n\r\n``` \r\nsudo apt install openjdk-&lt;version&gt;-jdk-headless\r\n```\r\n\r\n=&gt; Then open your IDE and select the SDK you have just installed. It&#39;s like the IDE doesn&#39;t recognize de previous JDKs.","title":"The selected directory is not a valid home for JDK - IntelliJ on MacOS","body":"<p>I found the solution to the problem, but in Ubuntu. If you are in MAC, is quite similar.\nThe thing is that firstly you must install the jre and jdk.</p>\n<p>I have it in my <code>/usr/lib/jvm</code></p>\n<p>Then, after that, you must put the variable $JAVA_HOME in your $PATH in the ~/.bashrc file at the end. But I found that after adding my jre and my jdk, my IDE didn't detect my jdk. So what I do to solve this in my IDE was:</p>\n<p>In your command line:</p>\n<pre><code>nano ~/.bashrc\n</code></pre>\n<pre><code>export JAVA_HOME='/your/path/without/bin'\nexport PATH=$PATH:$JAVA_HOME/bin\n</code></pre>\n<pre><code>source ~/.bashrc\n</code></pre>\n<p>If no problem was detected and all is fine, just do</p>\n<pre><code>java --version\n</code></pre>\n<p>If is detected, next, go to the other step:</p>\n<p>=&gt; Open your IDE. In this step, if your IDE doesn't recognize java version or SDK (as in my case), do the following</p>\n<pre><code>javac --version\n</code></pre>\n<p>This is where I solved the problem, becouse it looked like I didn't have javac, so I solved it with:</p>\n<pre><code>sudo apt install openjdk-&lt;version&gt;-jdk-headless\n</code></pre>\n<p>=&gt; Then open your IDE and select the SDK you have just installed. It's like the IDE doesn't recognize de previous JDKs.</p>\n"}],"owner":{"account_id":2027791,"reputation":3455,"user_id":1812322,"accept_rate":89,"display_name":"Bonifacio2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10629,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":29721281,"answer_count":2,"score":2,"last_activity_date":1678970693,"creation_date":1429381192,"question_id":29721088,"body_markdown":"When I try to add a new Java on IntelliJ I&#39;m receiving the following message: &quot;The selected directory is not a valid home for JDK&quot;.\r\n\r\nWhen I run `which javac` the output is `/usr/bin/javac`. And when I run `ls -la /usr/bin/javac` the output is:\r\n\r\n    lrwxr-xr-x  1 root  wheel  75 Apr 13 14:29 /usr/bin/javac -&gt; /System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/javac\r\n\r\nI tried to add both `/usr/bin` and `/System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/` as a home for JDK but without success. Any ideas?","title":"The selected directory is not a valid home for JDK - IntelliJ on MacOS","body":"<p>When I try to add a new Java on IntelliJ I'm receiving the following message: \"The selected directory is not a valid home for JDK\".</p>\n\n<p>When I run <code>which javac</code> the output is <code>/usr/bin/javac</code>. And when I run <code>ls -la /usr/bin/javac</code> the output is:</p>\n\n<pre><code>lrwxr-xr-x  1 root  wheel  75 Apr 13 14:29 /usr/bin/javac -&gt; /System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/javac\n</code></pre>\n\n<p>I tried to add both <code>/usr/bin</code> and <code>/System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/</code> as a home for JDK but without success. Any ideas?</p>\n"},{"tags":["java","treemap","sortedmap"],"comments":[{"owner":{"account_id":430482,"reputation":27583,"user_id":813951,"accept_rate":75,"display_name":"Mister Smith"},"score":0,"creation_date":1316074656,"post_id":7427758,"comment_id":8979015,"body_markdown":"But SortedMap is an interface. TreeMap implements SortedMap.","body":"But SortedMap is an interface. TreeMap implements SortedMap."},{"owner":{"account_id":136706,"reputation":12442,"user_id":340390,"accept_rate":81,"display_name":"Bitmap"},"score":0,"creation_date":1316074731,"post_id":7427758,"comment_id":8979035,"body_markdown":"See the answer posted by `@user157196` here http://stackoverflow.com/questions/109383/how-to-sort-a-mapkey-value-on-the-values-in-java","body":"See the answer posted by <code>@user157196</code> here <a href=\"http://stackoverflow.com/questions/109383/how-to-sort-a-mapkey-value-on-the-values-in-java\" title=\"how to sort a mapkey value on the values in java\">stackoverflow.com/questions/109383/&hellip;</a>"},{"owner":{"account_id":5872,"reputation":12730,"user_id":9648,"accept_rate":94,"display_name":"JohnnyLambada"},"score":0,"creation_date":1397609653,"post_id":7427758,"comment_id":35304743,"body_markdown":"Look for Tom Jefferys&#39; answer","body":"Look for Tom Jefferys&#39; answer"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1579388369,"post_id":7427758,"comment_id":105751340,"body_markdown":"FYI, [`NavigableMap`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/NavigableMap.html) added in Java 6 supplants the older [`SortedMap`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/SortedMap.html).","body":"FYI, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/NavigableMap.html\" rel=\"nofollow noreferrer\"><code>NavigableMap</code></a> added in Java 6 supplants the older <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/SortedMap.html\" rel=\"nofollow noreferrer\"><code>SortedMap</code></a>."}],"answers":[{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1316074570,"creation_date":1316074570,"answer_id":7427781,"question_id":7427758,"body_markdown":"TreeMap, which is an implementation of the SortedMap interface, would work.\r\n\r\n&gt; How do I use it ? \r\n\r\n    Map&lt;Float, MyObject&gt; map = new TreeMap&lt;Float, MyObject&gt;();","title":"How to use SortedMap interface or TreeMap in Java?","body":"<p>TreeMap, which is an implementation of the SortedMap interface, would work.</p>\n\n<blockquote>\n  <p>How do I use it ? </p>\n</blockquote>\n\n<pre><code>Map&lt;Float, MyObject&gt; map = new TreeMap&lt;Float, MyObject&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10979,"reputation":15285,"user_id":20986,"accept_rate":91,"display_name":"Barth"},"down_vote_count":0,"up_vote_count":114,"is_accepted":true,"score":114,"last_activity_date":1503355302,"creation_date":1316074646,"answer_id":7427797,"question_id":7427758,"body_markdown":"I would use `TreeMap`, which implements `SortedMap`. It is designed exactly for that.\r\n\r\nExample:\r\n\r\n    Map&lt;Integer, String&gt; map = new TreeMap&lt;Integer, String&gt;();\r\n\r\n    // Add Items to the TreeMap\r\n    map.put(1, &quot;One&quot;);\r\n    map.put(2, &quot;Two&quot;);\r\n    map.put(3, &quot;Three&quot;);\r\n\r\n    // Iterate over them\r\n    for (Map.Entry&lt;Integer, String&gt; entry : map.entrySet()) {\r\n        System.out.println(entry.getKey() + &quot; =&gt; &quot; + entry.getValue());\r\n    }\r\n\r\nSee the [Java tutorial page for SortedMap][1].  \r\nAnd [here a list of tutorials][2] related to TreeMap.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/collections/interfaces/sorted-map.html\r\n  [2]: http://www.java2s.com/Tutorial/Java/0140__Collections/0320__TreeMap.htm","title":"How to use SortedMap interface or TreeMap in Java?","body":"<p>I would use <code>TreeMap</code>, which implements <code>SortedMap</code>. It is designed exactly for that.</p>\n\n<p>Example:</p>\n\n<pre><code>Map&lt;Integer, String&gt; map = new TreeMap&lt;Integer, String&gt;();\n\n// Add Items to the TreeMap\nmap.put(1, \"One\");\nmap.put(2, \"Two\");\nmap.put(3, \"Three\");\n\n// Iterate over them\nfor (Map.Entry&lt;Integer, String&gt; entry : map.entrySet()) {\n    System.out.println(entry.getKey() + \" =&gt; \" + entry.getValue());\n}\n</code></pre>\n\n<p>See the <a href=\"http://download.oracle.com/javase/tutorial/collections/interfaces/sorted-map.html\" rel=\"noreferrer\">Java tutorial page for SortedMap</a>.<br>\nAnd <a href=\"http://www.java2s.com/Tutorial/Java/0140__Collections/0320__TreeMap.htm\" rel=\"noreferrer\">here a list of tutorials</a> related to TreeMap.</p>\n"},{"tags":[],"owner":{"account_id":32598,"reputation":13160,"user_id":90573,"display_name":"Tom Jefferys"},"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1589508710,"creation_date":1316074886,"answer_id":7427854,"question_id":7427758,"body_markdown":"A TreeMap is probably the most straightforward way of doing this.  You use it exactly like a normal Map. i.e.\r\n\r\n    Map&lt;Float,String&gt; mySortedMap = new TreeMap&lt;Float,MyObject&gt;();\r\n    // Put some values in it\r\n    mySortedMap.put(1.0f,&quot;One&quot;);\r\n    mySortedMap.put(0.0f,&quot;Zero&quot;);\r\n    mySortedMap.put(3.0f,&quot;Three&quot;);\r\n\r\n    // Iterate through it and it&#39;ll be in order!\r\n    for(Map.Entry&lt;Float,String&gt; entry : mySortedMap.entrySet()) {\r\n        System.out.println(entry.getValue());\r\n    } // outputs Zero One Three \r\n\r\nIt&#39;s worth taking a look at the API docs, http://download.oracle.com/javase/6/docs/api/java/util/TreeMap.html to see what else you can do with it.","title":"How to use SortedMap interface or TreeMap in Java?","body":"<p>A TreeMap is probably the most straightforward way of doing this.  You use it exactly like a normal Map. i.e.</p>\n\n<pre><code>Map&lt;Float,String&gt; mySortedMap = new TreeMap&lt;Float,MyObject&gt;();\n// Put some values in it\nmySortedMap.put(1.0f,\"One\");\nmySortedMap.put(0.0f,\"Zero\");\nmySortedMap.put(3.0f,\"Three\");\n\n// Iterate through it and it'll be in order!\nfor(Map.Entry&lt;Float,String&gt; entry : mySortedMap.entrySet()) {\n    System.out.println(entry.getValue());\n} // outputs Zero One Three \n</code></pre>\n\n<p>It's worth taking a look at the API docs, <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/TreeMap.html\" rel=\"noreferrer\">http://download.oracle.com/javase/6/docs/api/java/util/TreeMap.html</a> to see what else you can do with it.</p>\n"},{"tags":[],"owner":{"account_id":430482,"reputation":27583,"user_id":813951,"accept_rate":75,"display_name":"Mister Smith"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1494317219,"creation_date":1316074991,"answer_id":7427876,"question_id":7427758,"body_markdown":"`TreeMap` sorts by the key natural ordering. The keys should implement `Comparable` or be compatible with a `Comparator` (if you passed one instance to constructor). In you case, `Float` already implements `Comparable` so you don&#39;t have to do anything special.\r\n\r\nYou can call `keySet` to retrieve all the keys in ascending order.","title":"How to use SortedMap interface or TreeMap in Java?","body":"<p><code>TreeMap</code> sorts by the key natural ordering. The keys should implement <code>Comparable</code> or be compatible with a <code>Comparator</code> (if you passed one instance to constructor). In you case, <code>Float</code> already implements <code>Comparable</code> so you don't have to do anything special.</p>\n\n<p>You can call <code>keySet</code> to retrieve all the keys in ascending order.</p>\n"},{"tags":[],"owner":{"account_id":4195886,"reputation":517,"user_id":3437324,"accept_rate":75,"display_name":"Learner"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1562225394,"creation_date":1441739678,"answer_id":32465519,"question_id":7427758,"body_markdown":"You can use TreeMap which internally implements the SortedMap below is the example \r\n\r\n**Sorting by ascending ordering :**\r\n\r\n      Map&lt;Float, String&gt; ascsortedMAP = new TreeMap&lt;Float, String&gt;();\r\n\r\n      ascsortedMAP.put(8f, &quot;name8&quot;);\r\n      ascsortedMAP.put(5f, &quot;name5&quot;);\r\n      ascsortedMAP.put(15f, &quot;name15&quot;);\r\n      ascsortedMAP.put(35f, &quot;name35&quot;);\r\n      ascsortedMAP.put(44f, &quot;name44&quot;);\r\n      ascsortedMAP.put(7f, &quot;name7&quot;);\r\n      ascsortedMAP.put(6f, &quot;name6&quot;);\r\n\r\n      for (Entry&lt;Float, String&gt; mapData : ascsortedMAP.entrySet()) {\r\n        System.out.println(&quot;Key : &quot; + mapData.getKey() + &quot;Value : &quot; + mapData.getValue());\r\n      }\r\n\r\n**Sorting by descending ordering :**\r\n\r\nIf you always want this create the map to use descending order in general, if you only need it once create a TreeMap with descending order and put all the data from the original map in.\r\n\r\n      // Create the map and provide the comparator as a argument\r\n      Map&lt;Float, String&gt; dscsortedMAP = new TreeMap&lt;Float, String&gt;(new Comparator&lt;Float&gt;() {\r\n        @Override\r\n        public int compare(Float o1, Float o2) {\r\n          return o2.compareTo(o1);\r\n        }\r\n      });\r\n      dscsortedMAP.putAll(ascsortedMAP);\r\n\r\n for further information about SortedMAP read [http://examples.javacodegeeks.com/core-java/util/treemap/java-sorted-map-example/][1]\r\n\r\n\r\n  [1]: http://examples.javacodegeeks.com/core-java/util/treemap/java-sorted-map-example/","title":"How to use SortedMap interface or TreeMap in Java?","body":"<p>You can use TreeMap which internally implements the SortedMap below is the example </p>\n\n<p><strong>Sorting by ascending ordering :</strong></p>\n\n<pre><code>  Map&lt;Float, String&gt; ascsortedMAP = new TreeMap&lt;Float, String&gt;();\n\n  ascsortedMAP.put(8f, \"name8\");\n  ascsortedMAP.put(5f, \"name5\");\n  ascsortedMAP.put(15f, \"name15\");\n  ascsortedMAP.put(35f, \"name35\");\n  ascsortedMAP.put(44f, \"name44\");\n  ascsortedMAP.put(7f, \"name7\");\n  ascsortedMAP.put(6f, \"name6\");\n\n  for (Entry&lt;Float, String&gt; mapData : ascsortedMAP.entrySet()) {\n    System.out.println(\"Key : \" + mapData.getKey() + \"Value : \" + mapData.getValue());\n  }\n</code></pre>\n\n<p><strong>Sorting by descending ordering :</strong></p>\n\n<p>If you always want this create the map to use descending order in general, if you only need it once create a TreeMap with descending order and put all the data from the original map in.</p>\n\n<pre><code>  // Create the map and provide the comparator as a argument\n  Map&lt;Float, String&gt; dscsortedMAP = new TreeMap&lt;Float, String&gt;(new Comparator&lt;Float&gt;() {\n    @Override\n    public int compare(Float o1, Float o2) {\n      return o2.compareTo(o1);\n    }\n  });\n  dscsortedMAP.putAll(ascsortedMAP);\n</code></pre>\n\n<p>for further information about SortedMAP read <a href=\"http://examples.javacodegeeks.com/core-java/util/treemap/java-sorted-map-example/\" rel=\"noreferrer\">http://examples.javacodegeeks.com/core-java/util/treemap/java-sorted-map-example/</a></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579388288,"creation_date":1579387946,"answer_id":59805585,"question_id":7427758,"body_markdown":"# tl;dr\r\n\r\nUse either of the [`Map`][1] implementations bundled with Java 6 and later that implement [`NavigableMap`][2] (the successor to [`SortedMap`][3]):\r\n\r\n - Use [`TreeMap`][4] if running single-threaded, or if the map is to be read-only across threads after first being populated. \r\n - Use [`ConcurrentSkipListMap`][5] if manipulating the map across threads.\r\n\r\n# `NavigableMap`\r\n\r\nFYI, the [`SortedMap`][3] interface was succeeded by the [`NavigableMap`][2] interface.\r\n\r\nYou would only need to use `SortedMap` if using 3rd-party implementations that have not yet declared their support of `NavigableMap`. Of the maps bundled with Java, both of the implementations that implement `SortedMap` also implement `NavigableMap`. \r\n\r\n# Interface versus concrete class\r\n\r\n&gt;s SortedMap the best answer? TreeMap? \r\n\r\nAs others mentioned, `SortedMap` is an interface while `TreeMap` is one of multiple implementations of that interface (and of the more recent `NavigableMap`. \r\n\r\nHaving an interface allows you to write code that uses the map without breaking if you later decide to switch between implementations.\r\n\r\n    NavigableMap&lt; Employee , Project &gt; currentAssignments = new TreeSet&lt;&gt;() ;\r\n    currentAssignments.put( alice , writeAdCopyProject ) ; \r\n    currentAssignments.put( bob , setUpNewVendorsProject ) ; \r\n\r\nThis code still works if later change implementations. Perhaps you later need a map that supports concurrency for use across threads. Change that declaration to:\r\n\r\n    NavigableMap&lt; Employee , Project &gt; currentAssignments = new ConcurrentSkipListMap&lt;&gt;() ;\r\n\r\n…and the rest of your code using that map continues to work.\r\n\r\n# Choosing implementation\r\n\r\nThere are ten implementations of `Map` bundled with Java 11. And more implementations provided by 3rd parties such as [Google Guava][6]. \r\n\r\nHere is a graphic table I made highlighting the various features of each. Notice that two of the bundled implementations keep the keys in sorted order by examining the key’s content. Also, `EnumMap` keeps its keys in the order of the objects defined on that enum. Lastly, the `LinkedHashMap` remembers original insertion order. \r\n\r\n[![Table of map implementations in Java 11, comparing their features][7]][7]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/NavigableMap.html\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/SortedMap.html\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/TreeMap.html\r\n  [5]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentSkipListMap.html\r\n  [6]: https://en.wikipedia.org/wiki/Google_Guava\r\n  [7]: https://i.stack.imgur.com/4SomR.png","title":"How to use SortedMap interface or TreeMap in Java?","body":"<h1>tl;dr</h1>\n\n<p>Use either of the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\"><code>Map</code></a> implementations bundled with Java 6 and later that implement <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/NavigableMap.html\" rel=\"nofollow noreferrer\"><code>NavigableMap</code></a> (the successor to <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/SortedMap.html\" rel=\"nofollow noreferrer\"><code>SortedMap</code></a>):</p>\n\n<ul>\n<li>Use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/TreeMap.html\" rel=\"nofollow noreferrer\"><code>TreeMap</code></a> if running single-threaded, or if the map is to be read-only across threads after first being populated. </li>\n<li>Use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentSkipListMap.html\" rel=\"nofollow noreferrer\"><code>ConcurrentSkipListMap</code></a> if manipulating the map across threads.</li>\n</ul>\n\n<h1><code>NavigableMap</code></h1>\n\n<p>FYI, the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/SortedMap.html\" rel=\"nofollow noreferrer\"><code>SortedMap</code></a> interface was succeeded by the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/NavigableMap.html\" rel=\"nofollow noreferrer\"><code>NavigableMap</code></a> interface.</p>\n\n<p>You would only need to use <code>SortedMap</code> if using 3rd-party implementations that have not yet declared their support of <code>NavigableMap</code>. Of the maps bundled with Java, both of the implementations that implement <code>SortedMap</code> also implement <code>NavigableMap</code>. </p>\n\n<h1>Interface versus concrete class</h1>\n\n<blockquote>\n  <p>s SortedMap the best answer? TreeMap? </p>\n</blockquote>\n\n<p>As others mentioned, <code>SortedMap</code> is an interface while <code>TreeMap</code> is one of multiple implementations of that interface (and of the more recent <code>NavigableMap</code>. </p>\n\n<p>Having an interface allows you to write code that uses the map without breaking if you later decide to switch between implementations.</p>\n\n<pre><code>NavigableMap&lt; Employee , Project &gt; currentAssignments = new TreeSet&lt;&gt;() ;\ncurrentAssignments.put( alice , writeAdCopyProject ) ; \ncurrentAssignments.put( bob , setUpNewVendorsProject ) ; \n</code></pre>\n\n<p>This code still works if later change implementations. Perhaps you later need a map that supports concurrency for use across threads. Change that declaration to:</p>\n\n<pre><code>NavigableMap&lt; Employee , Project &gt; currentAssignments = new ConcurrentSkipListMap&lt;&gt;() ;\n</code></pre>\n\n<p>…and the rest of your code using that map continues to work.</p>\n\n<h1>Choosing implementation</h1>\n\n<p>There are ten implementations of <code>Map</code> bundled with Java 11. And more implementations provided by 3rd parties such as <a href=\"https://en.wikipedia.org/wiki/Google_Guava\" rel=\"nofollow noreferrer\">Google Guava</a>. </p>\n\n<p>Here is a graphic table I made highlighting the various features of each. Notice that two of the bundled implementations keep the keys in sorted order by examining the key’s content. Also, <code>EnumMap</code> keeps its keys in the order of the objects defined on that enum. Lastly, the <code>LinkedHashMap</code> remembers original insertion order. </p>\n\n<p><a href=\"https://i.stack.imgur.com/4SomR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4SomR.png\" alt=\"Table of map implementations in Java 11, comparing their features\"></a></p>\n"},{"tags":[],"owner":{"account_id":10968388,"reputation":34405,"user_id":8059459,"accept_rate":90,"display_name":"Willem van der Veen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649169354,"creation_date":1649169354,"answer_id":71753675,"question_id":7427758,"body_markdown":"You can use the `TreeMap` class for this purpose which implements the `SortedMap` interface.\r\n\r\nThe class `TreeMap` implements the `NavigableMap` interface which extends the `SortedMap` interface.\r\n\r\nThis will have the effect that all the keys will be ordered according to their implementation of their `Comparable` interface.\r\n\r\n    Map&lt;Integer, String&gt; map = new TreeMap&lt;&gt;();\r\n\r\n    // Add Items to the TreeMap\r\n    map.put(9999, &quot;foo&quot;);\r\n    map.put(23432, &quot;bar&quot;);\r\n    map.put(6, &quot;foobar&quot;);\r\n    map.put(12, &quot;baz&quot;);\r\n\r\nThe keys are now automatically in sorted order. When we iterate over them we get the following:\r\n\r\n    map.forEach((k, v) -&gt; System.out.println(&quot;key: &quot; + k));\r\n    \r\n    // output:\r\n    // key: 6\r\n    // key: 12\r\n    // key: 9999\r\n    // key: 23432\r\n\r\nBecause `TreeMap` elements are required to be ordered the Objects which are used as a key need to have a implementation of the `Comparable` interface. For example the following code will throw a runtime error:\r\n\r\n    class Human{}\r\n    Map&lt;Human, String&gt; map = new TreeMap&lt;&gt;();\r\n\r\n    // Following throws a exception:\r\n    // Exception in thread &quot;main&quot; java.lang.ClassCastException:\r\n    // class Example$1Human cannot be cast to class java.lang.Comparable \r\n    map.put(new Human(), &quot;baz&quot;);\r\n\r\n\r\n\r\n","title":"How to use SortedMap interface or TreeMap in Java?","body":"<p>You can use the <code>TreeMap</code> class for this purpose which implements the <code>SortedMap</code> interface.</p>\n<p>The class <code>TreeMap</code> implements the <code>NavigableMap</code> interface which extends the <code>SortedMap</code> interface.</p>\n<p>This will have the effect that all the keys will be ordered according to their implementation of their <code>Comparable</code> interface.</p>\n<pre><code>Map&lt;Integer, String&gt; map = new TreeMap&lt;&gt;();\n\n// Add Items to the TreeMap\nmap.put(9999, &quot;foo&quot;);\nmap.put(23432, &quot;bar&quot;);\nmap.put(6, &quot;foobar&quot;);\nmap.put(12, &quot;baz&quot;);\n</code></pre>\n<p>The keys are now automatically in sorted order. When we iterate over them we get the following:</p>\n<pre><code>map.forEach((k, v) -&gt; System.out.println(&quot;key: &quot; + k));\n\n// output:\n// key: 6\n// key: 12\n// key: 9999\n// key: 23432\n</code></pre>\n<p>Because <code>TreeMap</code> elements are required to be ordered the Objects which are used as a key need to have a implementation of the <code>Comparable</code> interface. For example the following code will throw a runtime error:</p>\n<pre><code>class Human{}\nMap&lt;Human, String&gt; map = new TreeMap&lt;&gt;();\n\n// Following throws a exception:\n// Exception in thread &quot;main&quot; java.lang.ClassCastException:\n// class Example$1Human cannot be cast to class java.lang.Comparable \nmap.put(new Human(), &quot;baz&quot;);\n</code></pre>\n"}],"owner":{"account_id":203131,"reputation":17983,"user_id":450602,"accept_rate":57,"display_name":"Bick"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201371,"favorite_count":0,"down_vote_count":1,"up_vote_count":86,"accepted_answer_id":7427797,"answer_count":7,"score":85,"last_activity_date":1678970650,"creation_date":1316074459,"question_id":7427758,"body_markdown":"I have a\r\n\r\n     Map&lt;Float, MyObject&gt;\r\n\r\nWhat is the best way to keep the map sorted according to the float?\r\n\r\nIs `SortedMap` or `TreeMap` the best answer?  \r\nHow do I use it?\r\n\r\nI only create the map once and replace the `MyObject` frequently using `myMap.put()` and `myMap.get()`.\r\n","title":"How to use SortedMap interface or TreeMap in Java?","body":"<p>I have a</p>\n<pre><code> Map&lt;Float, MyObject&gt;\n</code></pre>\n<p>What is the best way to keep the map sorted according to the float?</p>\n<p>Is <code>SortedMap</code> or <code>TreeMap</code> the best answer?<br />\nHow do I use it?</p>\n<p>I only create the map once and replace the <code>MyObject</code> frequently using <code>myMap.put()</code> and <code>myMap.get()</code>.</p>\n"},{"tags":["java","docker","maven","gitlab-ci","selenoid"],"comments":[{"owner":{"account_id":3243767,"reputation":2973,"user_id":2736017,"accept_rate":71,"display_name":"vania-pooh"},"score":1,"creation_date":1678779090,"post_id":75723548,"comment_id":133594789,"body_markdown":"Selenoid is running browser images in privileged mode. Make sure Gitlab CI allows to do this.","body":"Selenoid is running browser images in privileged mode. Make sure Gitlab CI allows to do this."},{"owner":{"account_id":5701383,"reputation":453,"user_id":4582392,"display_name":"SRM21"},"score":0,"creation_date":1678970579,"post_id":75723548,"comment_id":133638304,"body_markdown":"Will be checking this, thank you for the prompt response!","body":"Will be checking this, thank you for the prompt response!"}],"owner":{"account_id":5701383,"reputation":453,"user_id":4582392,"display_name":"SRM21"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678970542,"creation_date":1678719425,"question_id":75723548,"body_markdown":"I am relatively new to gitlab and selenoid.\r\n\r\nI have been trying to run my tests on selenoid with gitlab and below is what my gitlab-ci.yml file looks like:\r\n\r\n```\r\nimage: maven:3.8-openjdk-11\r\n\r\nvariables:\r\n  MAVEN_OPTS: &quot;-Dmaven.repo.local=$CI_PROJECT_DIR/.m2/repository&quot;\r\n\r\nstages:\r\n  - build\r\n  - test\r\n\r\ncache:\r\n  paths:\r\n    - .m2/repository\r\n\r\nbuild:\r\n  stage: build\r\n  script:\r\n    - mvn ${MAVEN_OPTS} clean install -DskipTests\r\n\r\ntest:\r\n  stage: test\r\n  image: docker:latest\r\n  services:\r\n    - name: docker:20.10.16-dind\r\n    - name: aerokube/selenoid:latest-release\r\n      alias: selenoid\r\n    - name: aerokube/selenoid-ui:latest-release\r\n      alias: selenoid-ui\r\n    - name: aerokube/cm:latest-release\r\n      alias: cm\r\n    - name: aerokube/video-recorder:latest-release\r\n      alias: video-recorder\r\n    - name: selenoid/chrome:110.0\r\n  script:\r\n    - docker run -d --name selenoid -v /opt/selenoid/video:/opt/selenoid/video -e OVERRIDE_VIDEO_OUTPUT_DIR=/opt/selenoid/video -e BROWSER_CONFIG_FILE=/opt/selenoid/config/browsers.json aerokube/selenoid:latest-release\r\n    - mvn ${MAVEN_OPTS} clean test -Dcucumber.filter.tags=${FEATURE_TAG} -Dbrowser=chrome -Denv=${ENVIRONMENT}\r\n  artifacts:\r\n    when: always\r\n    name: &quot;report&quot;\r\n    paths:\r\n      - test-output/*\r\n    expire_in: 1 h\r\n```\r\n\r\nI have tried with following combinations before coming up with the above:\r\n 1. not using dind (rest of the things same)\r\n 2. using dind along with passing config from my repo to docker volume using command\r\n 3. creating separate network using network command when spinning up docker\r\n 4. tried not using docker image in the test stage (so that it will use maven image only)\r\n\r\nHowever I have not succeeded with the above.\r\n\r\nLastly , with the above yml; I have tried installing java and maven using apt get but it also didn&#39;t work.\r\n\r\nAnd currently with the above yml, I am getting error that mvn command not found.\r\n\r\nIt would be really helpful if someone can help solve this issue and/or share working example of a selenoid gitlab pipeline with java maven tech stack.","title":"Unable to run selenoid tests with gitlab using dind","body":"<p>I am relatively new to gitlab and selenoid.</p>\n<p>I have been trying to run my tests on selenoid with gitlab and below is what my gitlab-ci.yml file looks like:</p>\n<pre><code>image: maven:3.8-openjdk-11\n\nvariables:\n  MAVEN_OPTS: &quot;-Dmaven.repo.local=$CI_PROJECT_DIR/.m2/repository&quot;\n\nstages:\n  - build\n  - test\n\ncache:\n  paths:\n    - .m2/repository\n\nbuild:\n  stage: build\n  script:\n    - mvn ${MAVEN_OPTS} clean install -DskipTests\n\ntest:\n  stage: test\n  image: docker:latest\n  services:\n    - name: docker:20.10.16-dind\n    - name: aerokube/selenoid:latest-release\n      alias: selenoid\n    - name: aerokube/selenoid-ui:latest-release\n      alias: selenoid-ui\n    - name: aerokube/cm:latest-release\n      alias: cm\n    - name: aerokube/video-recorder:latest-release\n      alias: video-recorder\n    - name: selenoid/chrome:110.0\n  script:\n    - docker run -d --name selenoid -v /opt/selenoid/video:/opt/selenoid/video -e OVERRIDE_VIDEO_OUTPUT_DIR=/opt/selenoid/video -e BROWSER_CONFIG_FILE=/opt/selenoid/config/browsers.json aerokube/selenoid:latest-release\n    - mvn ${MAVEN_OPTS} clean test -Dcucumber.filter.tags=${FEATURE_TAG} -Dbrowser=chrome -Denv=${ENVIRONMENT}\n  artifacts:\n    when: always\n    name: &quot;report&quot;\n    paths:\n      - test-output/*\n    expire_in: 1 h\n</code></pre>\n<p>I have tried with following combinations before coming up with the above:</p>\n<ol>\n<li>not using dind (rest of the things same)</li>\n<li>using dind along with passing config from my repo to docker volume using command</li>\n<li>creating separate network using network command when spinning up docker</li>\n<li>tried not using docker image in the test stage (so that it will use maven image only)</li>\n</ol>\n<p>However I have not succeeded with the above.</p>\n<p>Lastly , with the above yml; I have tried installing java and maven using apt get but it also didn't work.</p>\n<p>And currently with the above yml, I am getting error that mvn command not found.</p>\n<p>It would be really helpful if someone can help solve this issue and/or share working example of a selenoid gitlab pipeline with java maven tech stack.</p>\n"},{"tags":["java","spring-data-jpa","auditing"],"owner":{"account_id":1308063,"reputation":1336,"user_id":2806801,"accept_rate":71,"display_name":"Radu Dumbrăveanu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1678970474,"creation_date":1678970474,"question_id":75756421,"body_markdown":"In have a Spring web application with JPA auditing enabled:\r\n\r\n```\r\n&lt;jpa:auditing auditor-aware-ref=&quot;auditorAware&quot;/&gt;\r\n```\r\n\r\nInside all entities I use all 4 auditing annotations:\r\n\r\n```\r\n@LastModifiedBy\r\n@LastModifiedDate\r\n@CreatedBy\r\n@CreatedDate\r\n```\r\n\r\nNow for a specific controller method, e.g. `BatchImportController.import()` that does some batch operations on entities , I would like to disable entity auditing. Is this possible?","title":"How to disable JPA auditing for a specific action","body":"<p>In have a Spring web application with JPA auditing enabled:</p>\n<pre><code>&lt;jpa:auditing auditor-aware-ref=&quot;auditorAware&quot;/&gt;\n</code></pre>\n<p>Inside all entities I use all 4 auditing annotations:</p>\n<pre><code>@LastModifiedBy\n@LastModifiedDate\n@CreatedBy\n@CreatedDate\n</code></pre>\n<p>Now for a specific controller method, e.g. <code>BatchImportController.import()</code> that does some batch operations on entities , I would like to disable entity auditing. Is this possible?</p>\n"},{"tags":["java","mysql","hibernate","configuration"],"comments":[{"owner":{"account_id":3325365,"reputation":712,"user_id":3004406,"accept_rate":14,"display_name":"Nadendla"},"score":0,"creation_date":1404826123,"post_id":24632954,"comment_id":38177912,"body_markdown":"usefull link for you http://stackoverflow.com/questions/16999259/force-hibernate-to-create-tables-after-droping-and-recreating-database","body":"usefull link for you <a href=\"http://stackoverflow.com/questions/16999259/force-hibernate-to-create-tables-after-droping-and-recreating-database\" title=\"force hibernate to create tables after droping and recreating database\">stackoverflow.com/questions/16999259/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1780071,"reputation":3303,"user_id":1623046,"accept_rate":64,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1404825937,"creation_date":1404825937,"answer_id":24633068,"question_id":24632954,"body_markdown":"MySQL will create your schema within a database, but will not create your actual database for you. You must have an existing database called &#39;userdb&#39; in your local MySQL installation (log in and run something like &#39;create database userdb&#39;) before you run the schema export in hibernate.","title":"Why Hibernate does not create database for MySQL?","body":"<p>MySQL will create your schema within a database, but will not create your actual database for you. You must have an existing database called 'userdb' in your local MySQL installation (log in and run something like 'create database userdb') before you run the schema export in hibernate.</p>\n"},{"tags":[],"owner":{"account_id":1988392,"reputation":2547,"user_id":1783045,"accept_rate":90,"display_name":"Rufi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404826428,"creation_date":1404826428,"answer_id":24633233,"question_id":24632954,"body_markdown":"My thoughts are that your MySQL doesn&#39;t have a schema for your database. So, at least you should go to check if it exists. I use MySQL Workbench (quite nice tool), so just check/create it there if it doesn&#39;t exist and try again.","title":"Why Hibernate does not create database for MySQL?","body":"<p>My thoughts are that your MySQL doesn't have a schema for your database. So, at least you should go to check if it exists. I use MySQL Workbench (quite nice tool), so just check/create it there if it doesn't exist and try again.</p>\n"},{"tags":[],"owner":{"account_id":4487486,"reputation":368,"user_id":3649612,"display_name":"Aph1ka"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1404827818,"creation_date":1404827818,"answer_id":24633754,"question_id":24632954,"body_markdown":"I usually use the properties file to automatically create a database when i&#39;m using Spring, and below is how its done, hope this works so u&#39;ll modify this to suite your needs.....\r\n\r\n\r\n    database.driver=com.mysql.jdbc.Driver\r\n    database.url=jdbc:mysql://localhost:3306/userdb?createDatabaseIfNotExist=true\r\n    database.user=root\r\n    database.password=root\r\n    hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n    hibernate.show_sql=true\r\n    hibernate.hbm2ddl.auto=create\r\n\r\n","title":"Why Hibernate does not create database for MySQL?","body":"<p>I usually use the properties file to automatically create a database when i'm using Spring, and below is how its done, hope this works so u'll modify this to suite your needs.....</p>\n\n<pre><code>database.driver=com.mysql.jdbc.Driver\ndatabase.url=jdbc:mysql://localhost:3306/userdb?createDatabaseIfNotExist=true\ndatabase.user=root\ndatabase.password=root\nhibernate.dialect=org.hibernate.dialect.MySQLDialect\nhibernate.show_sql=true\nhibernate.hbm2ddl.auto=create\n</code></pre>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11901,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":24633754,"answer_count":3,"score":6,"last_activity_date":1678970429,"creation_date":1404825572,"question_id":24632954,"body_markdown":"I have following hibernate.cfg.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n    &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n    &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n    \t&lt;session-factory&gt;\r\n    \r\n    \t\t&lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/userdb&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;connection.password&quot;&gt;1234&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\r\n    \r\n    \t\t&lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n    \r\n    \t\t&lt;property name=&quot;format_sql&quot;&gt;true&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n    \r\n    \t\t&lt;mapping class=&quot;com.beingjavaguys.hbn.User&quot; /&gt;\r\n    \r\n    \t&lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\n\r\nI tryed another dialect(`org.hibernate.dialect.MySQLDialect`) but I see old result\r\n\r\npom.xml:\r\n\r\n    ...\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.1.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.2.0.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate.common&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-commons-annotations&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.1.Final&lt;/version&gt;\r\n    \t\t\t&lt;classifier&gt;tests&lt;/classifier&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.1.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.1.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.0.GA&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.1.27&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n\r\nWhen invokes following code line:\r\n\r\n\t\treturn new Configuration().configure().buildSessionFactory();\r\n\r\n\r\nI see following stacktrace:\r\n\r\n    ERROR: HHH000231: Schema export unsuccessful\r\n    com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown database &#39;userdb&#39;\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \t...\r\n    \tat org.hibernate.tool.hbm2ddl.SuppliedConnectionProviderConnectionHelper.prepare(SuppliedConnectionProviderConnectionHelper.java:51)\r\n    \tat org.hibernate.tool.hbm2ddl.DatabaseExporter.&lt;init&gt;(DatabaseExporter.java:52)\r\n    \tat org.hibernate.tool.hbm2ddl.SchemaExport.execute(SchemaExport.java:368)\r\n    \tat org.hibernate.tool.hbm2ddl.SchemaExport.create(SchemaExport.java:305)\r\n    \tat org.hibernate.tool.hbm2ddl.SchemaExport.create(SchemaExport.java:294)\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:452)\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1737)\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1775)\r\n    \tat com.beingjavaguys.hbn.HibernateUtil.buildSessionFactory(HibernateUtil.java:16)\r\n    \tat com.beingjavaguys.hbn.HibernateUtil.&lt;clinit&gt;(HibernateUtil.java:12)\r\n    \tat com.beingjavaguys.hbn.App.saveUser(App.java:45)\r\n    \tat com.beingjavaguys.hbn.App.main(App.java:30)\r\n\r\n\r\nWhat the reason of this problem?\r\n\r\nHow to fix it?\r\n\r\nP.S.\r\n-\r\n\r\ndatabase schema doesn&#39;t exist in MySql!\r\n\r\nif I add Database shema explicitly - all works good.\r\n\r\n\r\n Is where way to create schema from java application?\r\n-","title":"Why Hibernate does not create database for MySQL?","body":"<p>I have following hibernate.cfg.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n\"-//Hibernate/Hibernate Configuration DTD 3.0//EN\"\n\"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\"&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n\n        &lt;property name=\"connection.url\"&gt;jdbc:mysql://localhost:3306/userdb&lt;/property&gt;\n        &lt;property name=\"connection.username\"&gt;root&lt;/property&gt;\n        &lt;property name=\"connection.password\"&gt;1234&lt;/property&gt;\n        &lt;property name=\"connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n        &lt;property name=\"dialect\"&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\n\n        &lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n\n        &lt;property name=\"format_sql\"&gt;true&lt;/property&gt;\n        &lt;property name=\"hbm2ddl.auto\"&gt;create&lt;/property&gt;\n        &lt;property name=\"connection.pool_size\"&gt;1&lt;/property&gt;\n        &lt;property name=\"current_session_context_class\"&gt;thread&lt;/property&gt;\n\n        &lt;mapping class=\"com.beingjavaguys.hbn.User\" /&gt;\n\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p>I tryed another dialect(<code>org.hibernate.dialect.MySQLDialect</code>) but I see old result</p>\n\n<p>pom.xml:</p>\n\n<pre><code>...\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;4.2.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.common&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-commons-annotations&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1.Final&lt;/version&gt;\n            &lt;classifier&gt;tests&lt;/classifier&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.GA&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;5.1.27&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>When invokes following code line:</p>\n\n<pre><code>    return new Configuration().configure().buildSessionFactory();\n</code></pre>\n\n<p>I see following stacktrace:</p>\n\n<pre><code>ERROR: HHH000231: Schema export unsuccessful\ncom.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown database 'userdb'\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    ...\n    at org.hibernate.tool.hbm2ddl.SuppliedConnectionProviderConnectionHelper.prepare(SuppliedConnectionProviderConnectionHelper.java:51)\n    at org.hibernate.tool.hbm2ddl.DatabaseExporter.&lt;init&gt;(DatabaseExporter.java:52)\n    at org.hibernate.tool.hbm2ddl.SchemaExport.execute(SchemaExport.java:368)\n    at org.hibernate.tool.hbm2ddl.SchemaExport.create(SchemaExport.java:305)\n    at org.hibernate.tool.hbm2ddl.SchemaExport.create(SchemaExport.java:294)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:452)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1737)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1775)\n    at com.beingjavaguys.hbn.HibernateUtil.buildSessionFactory(HibernateUtil.java:16)\n    at com.beingjavaguys.hbn.HibernateUtil.&lt;clinit&gt;(HibernateUtil.java:12)\n    at com.beingjavaguys.hbn.App.saveUser(App.java:45)\n    at com.beingjavaguys.hbn.App.main(App.java:30)\n</code></pre>\n\n<p>What the reason of this problem?</p>\n\n<p>How to fix it?</p>\n\n<h2>P.S.</h2>\n\n<p>database schema doesn't exist in MySql!</p>\n\n<p>if I add Database shema explicitly - all works good.</p>\n\n<h2> Is where way to create schema from java application?</h2>\n"},{"tags":["java","android","android-sdcard"],"comments":[{"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"score":2,"creation_date":1678970254,"post_id":75756361,"comment_id":133638216,"body_markdown":"`Environment.getExternalStorageDirectory()` is deprecated: https://developer.android.com/reference/android/os/Environment#getExternalStorageDirectory() - have a look here for some options: https://developer.android.com/training/data-storage","body":"<code>Environment.getExternalStorageDirectory()</code> is deprecated: <a href=\"https://developer.android.com/reference/android/os/Environment#getExternalStorageDirectory()\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/os/&hellip;</a> - have a look here for some options: <a href=\"https://developer.android.com/training/data-storage\" rel=\"nofollow noreferrer\">developer.android.com/training/data-storage</a>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1678970659,"post_id":75756361,"comment_id":133638332,"body_markdown":"Add code: `if (!root.exists()) if(!root.mkdir()) return;` before you try to create a file. First be sure that directory exists.","body":"Add code: <code>if (!root.exists()) if(!root.mkdir()) return;</code> before you try to create a file. First be sure that directory exists."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1678970732,"post_id":75756361,"comment_id":133638363,"body_markdown":"Put a Toast() in those catch blocks to inform the user and yourself.","body":"Put a Toast() in those catch blocks to inform the user and yourself."}],"owner":{"display_name":"user19643881"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678970423,"creation_date":1678970065,"question_id":75756361,"body_markdown":"I&#39;m trying to compress and store some photos in the external memory of an Android device using this method:\r\n\r\n    private String saveToExternalStorage(Bitmap bitmapImage, String nameImage, int compression) {\r\n        String root = Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/imagesDir&quot;;\r\n        File file = new File(root, nameImage);\r\n        FileOutputStream fos = null;\r\n        try {\r\n            fos = new FileOutputStream(file);\r\n            // Use the compress method on the BitMap object to write image to the OutputStream\r\n            bitmapImage.compress(Bitmap.CompressFormat.JPEG, compression, fos);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            try {\r\n                fos.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return file.getAbsolutePath();\r\n    }\r\n\r\nBut I&#39;m getting the following error:\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: Thread-6\r\n    Process: com.universitat_autonoma_de_barcelona_geology_mineralogy.minescope, PID: 13633\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;void java.io.FileOutputStream.close()&#39; on a null object reference\r\n        at com.universitat_autonoma_de_barcelona_geology_mineralogy.minescope.Settings.saveToExternalStorage(Settings.java:219)\r\n        at com.universitat_autonoma_de_barcelona_geology_mineralogy.minescope.Settings.access$100(Settings.java:39)\r\n        at com.universitat_autonoma_de_barcelona_geology_mineralogy.minescope.Settings$3.run(Settings.java:120)\r\n        at java.lang.Thread.run(Thread.java:923)\r\n\r\nHow can I save the photos in the sdcard?","title":"Error saving images to the external storage (sdcard)","body":"<p>I'm trying to compress and store some photos in the external memory of an Android device using this method:</p>\n<pre><code>private String saveToExternalStorage(Bitmap bitmapImage, String nameImage, int compression) {\n    String root = Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/imagesDir&quot;;\n    File file = new File(root, nameImage);\n    FileOutputStream fos = null;\n    try {\n        fos = new FileOutputStream(file);\n        // Use the compress method on the BitMap object to write image to the OutputStream\n        bitmapImage.compress(Bitmap.CompressFormat.JPEG, compression, fos);\n    } catch (Exception e) {\n        e.printStackTrace();\n    } finally {\n        try {\n            fos.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    return file.getAbsolutePath();\n}\n</code></pre>\n<p>But I'm getting the following error:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: Thread-6\nProcess: com.universitat_autonoma_de_barcelona_geology_mineralogy.minescope, PID: 13633\njava.lang.NullPointerException: Attempt to invoke virtual method 'void java.io.FileOutputStream.close()' on a null object reference\n    at com.universitat_autonoma_de_barcelona_geology_mineralogy.minescope.Settings.saveToExternalStorage(Settings.java:219)\n    at com.universitat_autonoma_de_barcelona_geology_mineralogy.minescope.Settings.access$100(Settings.java:39)\n    at com.universitat_autonoma_de_barcelona_geology_mineralogy.minescope.Settings$3.run(Settings.java:120)\n    at java.lang.Thread.run(Thread.java:923)\n</code></pre>\n<p>How can I save the photos in the sdcard?</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1678963212,"post_id":75754995,"comment_id":133636139,"body_markdown":"The field is lazy loaded. What happens if you access it, does it get a value? The contents themselves may only get loaded once you try to access the list itself, e.g. call `size()` or try to access an element.","body":"The field is lazy loaded. What happens if you access it, does it get a value? The contents themselves may only get loaded once you try to access the list itself, e.g. call <code>size()</code> or try to access an element."},{"owner":{"account_id":16605326,"reputation":39,"user_id":11999953,"display_name":"Luca Lotifi"},"score":0,"creation_date":1678964476,"post_id":75754995,"comment_id":133636547,"body_markdown":"it returns null, I also tried to set eager but it doesn&#39;t solve the problem","body":"it returns null, I also tried to set eager but it doesn&#39;t solve the problem"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1678968656,"post_id":75754995,"comment_id":133637690,"body_markdown":"IsMonitoredBy class is not correctly annotated as JPA Entity because it is followed by an empty line.","body":"IsMonitoredBy class is not correctly annotated as JPA Entity because it is followed by an empty line."},{"owner":{"account_id":16605326,"reputation":39,"user_id":11999953,"display_name":"Luca Lotifi"},"score":0,"creation_date":1678969267,"post_id":75754995,"comment_id":133637879,"body_markdown":"@Mar-z it doesn&#39;t solve the problem","body":"@Mar-z it doesn&#39;t solve the problem"}],"answers":[{"tags":[],"owner":{"account_id":17940262,"reputation":11,"user_id":13035685,"display_name":"Vifieh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678970133,"creation_date":1678963550,"answer_id":75755150,"question_id":75754995,"body_markdown":"Do this instead!!\r\n\r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\r\n\r\n        List&lt;MonitorUser&gt; findMonitorUserById(int idMonitor);\r\n\r\n    }","title":"Strange hibernate behavior: null list instead of empty","body":"<p>Do this instead!!</p>\n<pre><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\n\n    List&lt;MonitorUser&gt; findMonitorUserById(int idMonitor);\n\n}\n</code></pre>\n"}],"owner":{"account_id":16605326,"reputation":39,"user_id":11999953,"display_name":"Luca Lotifi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678970133,"creation_date":1678962840,"question_id":75754995,"body_markdown":"The Db schema is this: [![enter image description here][1]][1]\r\nWhen I run the ```findMonitorUserById(userId)``` function, hibernate should return a list containing the ```MonitoredUsers``` associated with the ```MonitorUser``` with ```id=userId```. Within each ```MonitoredUser``` I have two lists: ```takeList``` and ```isMonitoredByList```. By default I should always have a collection at most empty but never null right? \r\nBy debugging I see that, indeed this statement is respected for the ```takeList``` but not for the ```isMonitoredByList```. Is this due to an error on my part?  To configuration problems? \r\n\r\nHere is the implementation:\r\n\r\nController.java\r\n\r\n    @RestController\r\n    public class Controller {\r\n\r\n    @Autowired\r\n    IUserService userService;\r\n\r\n        @PostMapping(value = &quot;/addMonitoredUser&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        @Transactional(rollbackOn = SaveException.class)\r\n        public ResponseEntity&lt;MonitorUserDTO&gt; addMonitoredUser(@RequestBody MonitoredUserDTO monitoredUserDTO) throws DrugNotFoundException, SaveException, UserNotFoundException {\r\n\r\n            MonitorUser monitorUser = userService.findMonitorUserById(monitoredUserDTO.getMonitorUser().getId());\r\n            MonitorUserDTO monitorUserDTO = setMonitorDTO(monitorUser);\r\n\r\n            return ResponseEntity\r\n                    .ok()\r\n                    .body(monitorUserDTO);\r\n        }\r\n\r\n    }\r\n\r\n\r\nIf I inspect monitorUser i can see: \r\n\r\n[![enter image description here][2]][2]\r\n\r\nUserService.java\r\n\r\n    @Service\r\n    public class UserService implements IUserService {\r\n        @Autowired\r\n        UserRepository userRepository;\r\n\r\n        @Override\r\n        @Transactional\r\n        public MonitorUser findMonitorUserById(int idUser) throws UserNotFoundException {\r\n            MonitorUser res = userRepository.findMonitorUserById(idUser);\r\n\r\n            if(res == null)\r\n                throw new UserNotFoundException(&quot;UserService findMonitorUserById(&quot; +idUser +&quot;): not found&quot;);\r\n            return res;\r\n        }\r\n\r\nUserRepository.java\r\n\r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\r\n\r\n        MonitorUser findMonitorUserById(int idMonitor);\r\n\r\n    }\r\n\r\nAnd, finally, here are the entity class:\r\n\r\nMonitorUser.java.\r\n\r\n\r\n    @Entity\r\n    @DiscriminatorValue(&quot;monitor&quot;)\r\n    public class MonitorUser extends User{\r\n        public MonitorUser() {\r\n        }\r\n\r\n        String username;\r\n        String password;\r\n\r\n        @OneToMany(mappedBy = &quot;monitorUser&quot;, targetEntity = Monitor.class, cascade = CascadeType.ALL , fetch = FetchType.LAZY )\r\n        List&lt;Monitor&gt; monitorList;\r\n\r\n        @OneToMany(mappedBy = &quot;monitorUser&quot;, targetEntity = MonitoredUser.class, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n        List&lt;MonitoredUser&gt; monitoredUserList;\r\n\r\n        public String getUsername() {\r\n            return username;\r\n        }\r\n\r\n        public void setUsername(String username) {\r\n            this.username = username;\r\n        }\r\n\r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n\r\n        public void setPassword(String password) {\r\n            this.password = password;\r\n        }\r\n\r\n        public List&lt;Monitor&gt; getMonitorList() {\r\n            return monitorList;\r\n        }\r\n\r\n        public void setMonitorList(List&lt;Monitor&gt; monitorList) {\r\n            this.monitorList = monitorList;\r\n        }\r\n\r\n        public List&lt;MonitoredUser&gt; getMonitoredUserList() {\r\n            return monitoredUserList;\r\n        }\r\n\r\n        public void setMonitoredUserList(List&lt;MonitoredUser&gt; monitoredUserList) {\r\n            this.monitoredUserList = monitoredUserList;\r\n        }\r\n    }\r\n\r\nMonitoredUser.java\r\n\r\n    @Entity\r\n    @DiscriminatorValue(&quot;monitored&quot;)\r\n    public class MonitoredUser extends User{\r\n        public MonitoredUser() {\r\n        }\r\n\r\n        float weight;\r\n        int height; //in cm\r\n        @Enumerated(EnumType.STRING)\r\n        Gender sex;\r\n        boolean smoker;\r\n        String phoneNumber;\r\n        int nyhaclass;\r\n        @OneToMany(mappedBy = &quot;monitoredUser&quot;, targetEntity = Take.class, cascade = CascadeType.ALL , fetch = FetchType.LAZY )\r\n        List&lt;Take&gt; takeList;\r\n        @OneToMany(mappedBy = &quot;monitoredUser&quot;, targetEntity = IsMonitoredBy.class, cascade = CascadeType.ALL , fetch = FetchType.LAZY )\r\n        List&lt;IsMonitoredBy&gt; isMonitoredByList;\r\n        boolean hospitalized;\r\n        @ManyToOne\r\n        MonitorUser monitorUser;\r\n\r\n        //and all the getter and setter\r\n\r\n    }\r\n\r\n\r\nIsMonitoredBy.java\r\n\r\n    @Entity\r\n\r\n    public class IsMonitoredBy {\r\n\r\n        public IsMonitoredBy() {\r\n        }\r\n\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Id\r\n        int id;\r\n        long lastSyncTimeStamp;\r\n\r\n        @ManyToOne\r\n        MonitoredUser monitoredUser;\r\n        @ManyToOne\r\n        Device device;\r\n\r\n        long timestampStart;\r\n        long timestampEnd;\r\n\r\n    //all the getter an setter\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Hub1o.png\r\n  [2]: https://i.stack.imgur.com/PNZHb.png","title":"Strange hibernate behavior: null list instead of empty","body":"<p>The Db schema is this: <a href=\"https://i.stack.imgur.com/Hub1o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hub1o.png\" alt=\"enter image description here\" /></a>\nWhen I run the <code>findMonitorUserById(userId)</code> function, hibernate should return a list containing the <code>MonitoredUsers</code> associated with the <code>MonitorUser</code> with <code>id=userId</code>. Within each <code>MonitoredUser</code> I have two lists: <code>takeList</code> and <code>isMonitoredByList</code>. By default I should always have a collection at most empty but never null right?\nBy debugging I see that, indeed this statement is respected for the <code>takeList</code> but not for the <code>isMonitoredByList</code>. Is this due to an error on my part?  To configuration problems?</p>\n<p>Here is the implementation:</p>\n<p>Controller.java</p>\n<pre><code>@RestController\npublic class Controller {\n\n@Autowired\nIUserService userService;\n\n    @PostMapping(value = &quot;/addMonitoredUser&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    @Transactional(rollbackOn = SaveException.class)\n    public ResponseEntity&lt;MonitorUserDTO&gt; addMonitoredUser(@RequestBody MonitoredUserDTO monitoredUserDTO) throws DrugNotFoundException, SaveException, UserNotFoundException {\n\n        MonitorUser monitorUser = userService.findMonitorUserById(monitoredUserDTO.getMonitorUser().getId());\n        MonitorUserDTO monitorUserDTO = setMonitorDTO(monitorUser);\n\n        return ResponseEntity\n                .ok()\n                .body(monitorUserDTO);\n    }\n\n}\n</code></pre>\n<p>If I inspect monitorUser i can see:</p>\n<p><a href=\"https://i.stack.imgur.com/PNZHb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PNZHb.png\" alt=\"enter image description here\" /></a></p>\n<p>UserService.java</p>\n<pre><code>@Service\npublic class UserService implements IUserService {\n    @Autowired\n    UserRepository userRepository;\n\n    @Override\n    @Transactional\n    public MonitorUser findMonitorUserById(int idUser) throws UserNotFoundException {\n        MonitorUser res = userRepository.findMonitorUserById(idUser);\n\n        if(res == null)\n            throw new UserNotFoundException(&quot;UserService findMonitorUserById(&quot; +idUser +&quot;): not found&quot;);\n        return res;\n    }\n</code></pre>\n<p>UserRepository.java</p>\n<pre><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\n\n    MonitorUser findMonitorUserById(int idMonitor);\n\n}\n</code></pre>\n<p>And, finally, here are the entity class:</p>\n<p>MonitorUser.java.</p>\n<pre><code>@Entity\n@DiscriminatorValue(&quot;monitor&quot;)\npublic class MonitorUser extends User{\n    public MonitorUser() {\n    }\n\n    String username;\n    String password;\n\n    @OneToMany(mappedBy = &quot;monitorUser&quot;, targetEntity = Monitor.class, cascade = CascadeType.ALL , fetch = FetchType.LAZY )\n    List&lt;Monitor&gt; monitorList;\n\n    @OneToMany(mappedBy = &quot;monitorUser&quot;, targetEntity = MonitoredUser.class, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    List&lt;MonitoredUser&gt; monitoredUserList;\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public List&lt;Monitor&gt; getMonitorList() {\n        return monitorList;\n    }\n\n    public void setMonitorList(List&lt;Monitor&gt; monitorList) {\n        this.monitorList = monitorList;\n    }\n\n    public List&lt;MonitoredUser&gt; getMonitoredUserList() {\n        return monitoredUserList;\n    }\n\n    public void setMonitoredUserList(List&lt;MonitoredUser&gt; monitoredUserList) {\n        this.monitoredUserList = monitoredUserList;\n    }\n}\n</code></pre>\n<p>MonitoredUser.java</p>\n<pre><code>@Entity\n@DiscriminatorValue(&quot;monitored&quot;)\npublic class MonitoredUser extends User{\n    public MonitoredUser() {\n    }\n\n    float weight;\n    int height; //in cm\n    @Enumerated(EnumType.STRING)\n    Gender sex;\n    boolean smoker;\n    String phoneNumber;\n    int nyhaclass;\n    @OneToMany(mappedBy = &quot;monitoredUser&quot;, targetEntity = Take.class, cascade = CascadeType.ALL , fetch = FetchType.LAZY )\n    List&lt;Take&gt; takeList;\n    @OneToMany(mappedBy = &quot;monitoredUser&quot;, targetEntity = IsMonitoredBy.class, cascade = CascadeType.ALL , fetch = FetchType.LAZY )\n    List&lt;IsMonitoredBy&gt; isMonitoredByList;\n    boolean hospitalized;\n    @ManyToOne\n    MonitorUser monitorUser;\n\n    //and all the getter and setter\n\n}\n</code></pre>\n<p>IsMonitoredBy.java</p>\n<pre><code>@Entity\n\npublic class IsMonitoredBy {\n\n    public IsMonitoredBy() {\n    }\n\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Id\n    int id;\n    long lastSyncTimeStamp;\n\n    @ManyToOne\n    MonitoredUser monitoredUser;\n    @ManyToOne\n    Device device;\n\n    long timestampStart;\n    long timestampEnd;\n\n//all the getter an setter\n}\n</code></pre>\n"},{"tags":["java","hibernate"],"owner":{"account_id":2024954,"reputation":51,"user_id":7769830,"display_name":"Rain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1678970001,"creation_date":1678969400,"question_id":75756222,"body_markdown":"I&#39;ve been trying to user Hibernate, but I constantly get the above error. The problem is that every suggestion boils down to moving the persistence.xml file into the correct folder in the filepath, but that&#39;s already where the file is:\r\n\r\n[![folder structure showing persistence.xml in the expected folder][1]][1]\r\n\r\nThe gradle build file is already pretty simple, and shouldn&#39;t be interfering:\r\n\r\n    /*\r\n     * This file was generated by the Gradle &#39;init&#39; task.\r\n     *\r\n     * This is a general purpose Gradle build.\r\n     * Learn more about Gradle by exploring our samples at https://docs.gradle.org/8.0.2/samples\r\n     */\r\n    \r\n    plugins {\r\n    \tid &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;com.example&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;17&#39;\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &#39;org.postgresql:postgresql:42.5.4&#39;\r\n    \timplementation &#39;org.hibernate:hibernate-core:6.2.0.CR3&#39;\r\n    \timplementation &#39;jakarta.persistence:jakarta.persistence-api:3.1.0&#39;\r\n    }\r\n\r\nAnd everything builds and connects successfully if the entity manager lines are commented out (leaving the pure jdbc code in place and the annotated entity files). It just can&#39;t find this file and I&#39;ve tried moving it into every possible configuration of src, resources, and meta-inf.\r\n\r\n**Edit:** I fixed it by adding \r\n```\r\nsourceSets {\r\n        main {\r\n                resources {\r\n                        srcDirs= [&quot;src/main/resources&quot;]\r\n                }\r\n        }\r\n}\r\n```\r\n\r\nBut I thought that was supposed to be default.\r\n\r\n  [1]: https://i.stack.imgur.com/g2TGK.png","title":"Could not find any META-INF/persistence.xml file in the classpath - but it&#39;s already in /src/resources/META-INF","body":"<p>I've been trying to user Hibernate, but I constantly get the above error. The problem is that every suggestion boils down to moving the persistence.xml file into the correct folder in the filepath, but that's already where the file is:</p>\n<p><a href=\"https://i.stack.imgur.com/g2TGK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g2TGK.png\" alt=\"folder structure showing persistence.xml in the expected folder\" /></a></p>\n<p>The gradle build file is already pretty simple, and shouldn't be interfering:</p>\n<pre><code>/*\n * This file was generated by the Gradle 'init' task.\n *\n * This is a general purpose Gradle build.\n * Learn more about Gradle by exploring our samples at https://docs.gradle.org/8.0.2/samples\n */\n\nplugins {\n    id 'java'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.postgresql:postgresql:42.5.4'\n    implementation 'org.hibernate:hibernate-core:6.2.0.CR3'\n    implementation 'jakarta.persistence:jakarta.persistence-api:3.1.0'\n}\n</code></pre>\n<p>And everything builds and connects successfully if the entity manager lines are commented out (leaving the pure jdbc code in place and the annotated entity files). It just can't find this file and I've tried moving it into every possible configuration of src, resources, and meta-inf.</p>\n<p><strong>Edit:</strong> I fixed it by adding</p>\n<pre><code>sourceSets {\n        main {\n                resources {\n                        srcDirs= [&quot;src/main/resources&quot;]\n                }\n        }\n}\n</code></pre>\n<p>But I thought that was supposed to be default.</p>\n"},{"tags":["java","android","alarmmanager"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1678913934,"post_id":75749603,"comment_id":133627652,"body_markdown":"You should edit you post to include the manufacturer of each device. While not necessarily related be aware of: https://dontkillmyapp.com/","body":"You should edit you post to include the manufacturer of each device. While not necessarily related be aware of: <a href=\"https://dontkillmyapp.com/\" rel=\"nofollow noreferrer\">dontkillmyapp.com</a>"}],"owner":{"account_id":28026527,"reputation":1,"user_id":21406422,"display_name":"Roman "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678969983,"creation_date":1678910957,"question_id":75749603,"body_markdown":"I&#39;ve been testing my alarm app on two phones, one with Android 9.0 and the other with Android 12.0. While using the first one, the phone was able to wake up and open the app as intended, but second one didn&#39;t do anything until i launched the app manually. I&#39;ve read through a few similar questions, but still can&#39;t figure out where&#39;s the problem.  \r\n\r\nI also have android.permission.SCHEDULE_EXACT_ALARM permission in the manifest, btw.\r\n\r\nHere&#39;s how i set an alarm that will ring in one minute:\r\n\r\n```\r\nIntent intent = new Intent(this, AlarmReceiver.class);\r\n            PendingIntent pendingIntent = PendingIntent.getBroadcast(this, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);\r\n            alarmManager.setAlarmClock(new AlarmManager.AlarmClockInfo(System.currentTimeMillis() + 60 * 1000, pendingIntent), pendingIntent);\r\n```\r\n\r\nAnd here&#39;s how BroadcastReceiver receives an intent and an activity with button to disable alarm should pop up, but it doesn&#39;t happen on Android 12, even when i turn off all the battery limitations and have all the permissions.\r\n\r\n```\r\npublic void onReceive(Context context, Intent intent) {\r\n        Intent disableIntent = new Intent(context, AlarmActivity.class);\r\n        disableIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n        context.startActivity(disableIntent);\r\n    }\r\n```\r\n\r\nIt seems like it can&#39;t wake up while in Dose mode, although setAlarmClock() implies that it can work in Dose, so i&#39;m really confused. ","title":"An Android 12 phone(Samsung S10) doesn&#39;t wake up when using setAlarmClock();","body":"<p>I've been testing my alarm app on two phones, one with Android 9.0 and the other with Android 12.0. While using the first one, the phone was able to wake up and open the app as intended, but second one didn't do anything until i launched the app manually. I've read through a few similar questions, but still can't figure out where's the problem.</p>\n<p>I also have android.permission.SCHEDULE_EXACT_ALARM permission in the manifest, btw.</p>\n<p>Here's how i set an alarm that will ring in one minute:</p>\n<pre><code>Intent intent = new Intent(this, AlarmReceiver.class);\n            PendingIntent pendingIntent = PendingIntent.getBroadcast(this, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);\n            alarmManager.setAlarmClock(new AlarmManager.AlarmClockInfo(System.currentTimeMillis() + 60 * 1000, pendingIntent), pendingIntent);\n</code></pre>\n<p>And here's how BroadcastReceiver receives an intent and an activity with button to disable alarm should pop up, but it doesn't happen on Android 12, even when i turn off all the battery limitations and have all the permissions.</p>\n<pre><code>public void onReceive(Context context, Intent intent) {\n        Intent disableIntent = new Intent(context, AlarmActivity.class);\n        disableIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n        context.startActivity(disableIntent);\n    }\n</code></pre>\n<p>It seems like it can't wake up while in Dose mode, although setAlarmClock() implies that it can work in Dose, so i'm really confused.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":12993876,"reputation":100,"user_id":9392209,"display_name":"Animalz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678808012,"creation_date":1678808012,"answer_id":75735245,"question_id":75734890,"body_markdown":"I cannot see the problem directly, but there could be a minor bug source causing it: You are using a try-with-resource statement (https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) in your try-catch:\r\n\r\n    try (Scanner fi = new Scanner(new FileInputStream(kiekot));\r\n         PrintStream fo = new PrintStream(new FileOutputStream(tempFile, true)))\r\n    { \r\n       ....... \r\n\r\n    }\r\n\r\nThis special statement ENSURES a delete after the execution finished. But you are closing your streams manually with \r\n\r\n        // End session\r\n        fi.close();\r\n        fo.close();\r\n\r\nSo the source of your problem may be, that you are &quot;stealing&quot; the close operation from your try-with-resource statement. So just try to delete the part where you manually close your streams. Hope this could help.\r\n","title":"Can&#39;t delete .dat file, because it is open in OpenJDK platform binary","body":"<p>I cannot see the problem directly, but there could be a minor bug source causing it: You are using a try-with-resource statement (<a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html</a>) in your try-catch:</p>\n<pre><code>try (Scanner fi = new Scanner(new FileInputStream(kiekot));\n     PrintStream fo = new PrintStream(new FileOutputStream(tempFile, true)))\n{ \n   ....... \n\n}\n</code></pre>\n<p>This special statement ENSURES a delete after the execution finished. But you are closing your streams manually with</p>\n<pre><code>    // End session\n    fi.close();\n    fo.close();\n</code></pre>\n<p>So the source of your problem may be, that you are &quot;stealing&quot; the close operation from your try-with-resource statement. So just try to delete the part where you manually close your streams. Hope this could help.</p>\n"},{"tags":[],"owner":{"account_id":12993876,"reputation":100,"user_id":9392209,"display_name":"Animalz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678953523,"creation_date":1678953523,"answer_id":75753428,"question_id":75734890,"body_markdown":"Ok, to solve this, i need to get some more answers to the runtime:\r\n\r\n1.: When pressing your button the second time, does the catch-part of the exception activate ?\r\n\r\n2.: Did you ever try to get more debug information ? For that, you could rewrite your program like that: \r\n\r\n    public static void deleteByID(int ID)\r\n       // Creating tempFile\r\n       File tempFile = new File(&quot;kiekotTemp.dat&quot;);\r\n       File kiekot = new File(&quot;kiekot.dat&quot;);  // Original file\r\n\r\n       // Opening file and going through kiekot.dat\r\n       try (Scanner fi = new Scanner(new FileInputStream(kiekot));\r\n            PrintStream fo = new PrintStream(new FileOutputStream(tempFile, true)))\r\n       {\r\n           // Skipt the first line and copy it to destination file\r\n           fo.printf(fi.nextLine() + &quot;\\n&quot;);\r\n           while ( fi.hasNext() ) {\r\n               // For the sake of simplicity, we just copy the contents\r\n               String s = fi.nextLine();\r\n               fo.printf(s + &quot;\\n&quot;);\r\n           }\r\n        \r\n           // End session\r\n           fi.close();\r\n           fo.close();\r\n\r\n           kiekot.dat\r\n           kiekot.delete();\r\n           tempFile.renameTo(kiekot);\r\n\r\n       } catch (FileNotFoundException ex) {\r\n           System.err.println(&quot;File won&#39;t open: &quot; + ex.getMessage());\r\n       }catch (Exception ex2){\r\n           ex2.printStackTrace();\r\n       }\r\n\r\n    }\r\n\r\n3.: If there is already a console output from your error, could you post it in here ?\r\n\r\n\r\nBy the way, i am sorry for the delayed answer, but i think we live in completely different time zones. Hope i can help anyways.","title":"Can&#39;t delete .dat file, because it is open in OpenJDK platform binary","body":"<p>Ok, to solve this, i need to get some more answers to the runtime:</p>\n<p>1.: When pressing your button the second time, does the catch-part of the exception activate ?</p>\n<p>2.: Did you ever try to get more debug information ? For that, you could rewrite your program like that:</p>\n<pre><code>public static void deleteByID(int ID)\n   // Creating tempFile\n   File tempFile = new File(&quot;kiekotTemp.dat&quot;);\n   File kiekot = new File(&quot;kiekot.dat&quot;);  // Original file\n\n   // Opening file and going through kiekot.dat\n   try (Scanner fi = new Scanner(new FileInputStream(kiekot));\n        PrintStream fo = new PrintStream(new FileOutputStream(tempFile, true)))\n   {\n       // Skipt the first line and copy it to destination file\n       fo.printf(fi.nextLine() + &quot;\\n&quot;);\n       while ( fi.hasNext() ) {\n           // For the sake of simplicity, we just copy the contents\n           String s = fi.nextLine();\n           fo.printf(s + &quot;\\n&quot;);\n       }\n    \n       // End session\n       fi.close();\n       fo.close();\n\n       kiekot.dat\n       kiekot.delete();\n       tempFile.renameTo(kiekot);\n\n   } catch (FileNotFoundException ex) {\n       System.err.println(&quot;File won't open: &quot; + ex.getMessage());\n   }catch (Exception ex2){\n       ex2.printStackTrace();\n   }\n\n}\n</code></pre>\n<p>3.: If there is already a console output from your error, could you post it in here ?</p>\n<p>By the way, i am sorry for the delayed answer, but i think we live in completely different time zones. Hope i can help anyways.</p>\n"}],"owner":{"account_id":24243113,"reputation":232,"user_id":18195201,"display_name":"Jimpsoni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75753428,"answer_count":2,"score":1,"last_activity_date":1678969805,"creation_date":1678806181,"question_id":75734890,"body_markdown":"I&#39;m building a javaFX application and having problems with deleting a file once it is opened inside Java.\r\n\r\nI have a method:\r\n\r\n```\r\npublic static void deleteByID(int ID)\r\n    // Creating tempFile\r\n    File tempFile = new File(&quot;kiekotTemp.dat&quot;);\r\n    File kiekot = new File(&quot;kiekot.dat&quot;);  // Original file\r\n\r\n    // Opening file and going through kiekot.dat\r\n    try (Scanner fi = new Scanner(new FileInputStream(kiekot));\r\n         PrintStream fo = new PrintStream(new FileOutputStream(tempFile, true)))\r\n    {\r\n        // Skipt the first line and copy it to destination file\r\n        fo.printf(fi.nextLine() + &quot;\\n&quot;);\r\n        while ( fi.hasNext() ) {\r\n            // For the sake of simplicity, we just copy the contents\r\n            String s = fi.nextLine();\r\n            fo.printf(s + &quot;\\n&quot;);\r\n        }\r\n        \r\n        // End session\r\n        fi.close();\r\n        fo.close();\r\n\r\n    } catch (FileNotFoundException ex) {\r\n        System.err.println(&quot;File won&#39;t open: &quot; + ex.getMessage());\r\n    }\r\n\r\n    // Delete the original file and rename the tempFile to match the original kiekot.dat\r\n    kiekot.delete();\r\n    tempFile.renameTo(kiekot);\r\n}\r\n```\r\n\r\nFirst run it works fine, but second run it can&#39;t delete the &quot;kiekot.dat&quot; file for some reason. When trying manually, it says &quot;File is opened in &quot;OpenJDK platform binary&quot;. How can I close the file so I can delete it?&#39;\r\n\r\n\r\nWhat I&#39;ve tried so far:\r\n-----------------------\r\n\r\nI added print statement at the end of `try` to make sure we don&#39;t catch any errors. Also, I added some if-statements in so we can see when file is deleted and renamed\r\n```\r\npublic static void deleteByID(int ID)\r\n    // Creating tempFile\r\n    File tempFile = new File(&quot;kiekotTemp.dat&quot;);\r\n    File kiekot = new File(&quot;kiekot.dat&quot;);  // Original file\r\n\r\n    // Opening file and going through kiekot.dat\r\n    try (Scanner fi = new Scanner(new FileInputStream(kiekot));\r\n         PrintStream fo = new PrintStream(new FileOutputStream(tempFile, true)))\r\n    {\r\n        // Skipt the first line and copy it to destination file\r\n        fo.printf(fi.nextLine() + &quot;\\n&quot;);\r\n        while ( fi.hasNext() ) {\r\n            // For the sake of simplicity, we just copy the contents\r\n            String s = fi.nextLine();\r\n            fo.printf(s + &quot;\\n&quot;);\r\n        }\r\n        \r\n        System.out.println(&quot;We made it to here without errors&quot;);\r\n \r\n    } catch (FileNotFoundException ex) {\r\n        System.err.println(&quot;File won&#39;t open: &quot; + ex.getMessage());\r\n    }\r\n\r\n    // Delete the original file and rename the tempFile to match the original kiekot.dat\r\n        if ( kiekot.delete() ) System.out.println(&quot;Successfully deleted the file&quot;);\r\n        else  System.out.println(&quot;Couldn&#39;t delete the file&quot;);\r\n\r\n        if ( tempFile.renameTo(kiekot) ) System.out.println(&quot;Successfully renamed the file&quot;);\r\n        else  System.out.println(&quot;Couldn&#39;t rename the file&quot;);\r\n}\r\n```\r\n\r\nThis now outputs me this:\r\n\r\n    We made it to here without errors\r\n    Successfully deleted the file\r\n    Successfully renamed the file\r\n\r\n2nd time I click the button and the method runs:\r\n\r\n    We made it to here without errors\r\n    Couldn&#39;t delete the file\r\n    Couldn&#39;t rename the file\r\n\r\nRestarting the whole application helps, but I need help to make method that doesn&#39;t need the restart.\r\n","title":"Can&#39;t delete .dat file, because it is open in OpenJDK platform binary","body":"<p>I'm building a javaFX application and having problems with deleting a file once it is opened inside Java.</p>\n<p>I have a method:</p>\n<pre><code>public static void deleteByID(int ID)\n    // Creating tempFile\n    File tempFile = new File(&quot;kiekotTemp.dat&quot;);\n    File kiekot = new File(&quot;kiekot.dat&quot;);  // Original file\n\n    // Opening file and going through kiekot.dat\n    try (Scanner fi = new Scanner(new FileInputStream(kiekot));\n         PrintStream fo = new PrintStream(new FileOutputStream(tempFile, true)))\n    {\n        // Skipt the first line and copy it to destination file\n        fo.printf(fi.nextLine() + &quot;\\n&quot;);\n        while ( fi.hasNext() ) {\n            // For the sake of simplicity, we just copy the contents\n            String s = fi.nextLine();\n            fo.printf(s + &quot;\\n&quot;);\n        }\n        \n        // End session\n        fi.close();\n        fo.close();\n\n    } catch (FileNotFoundException ex) {\n        System.err.println(&quot;File won't open: &quot; + ex.getMessage());\n    }\n\n    // Delete the original file and rename the tempFile to match the original kiekot.dat\n    kiekot.delete();\n    tempFile.renameTo(kiekot);\n}\n</code></pre>\n<p>First run it works fine, but second run it can't delete the &quot;kiekot.dat&quot; file for some reason. When trying manually, it says &quot;File is opened in &quot;OpenJDK platform binary&quot;. How can I close the file so I can delete it?'</p>\n<h2>What I've tried so far:</h2>\n<p>I added print statement at the end of <code>try</code> to make sure we don't catch any errors. Also, I added some if-statements in so we can see when file is deleted and renamed</p>\n<pre><code>public static void deleteByID(int ID)\n    // Creating tempFile\n    File tempFile = new File(&quot;kiekotTemp.dat&quot;);\n    File kiekot = new File(&quot;kiekot.dat&quot;);  // Original file\n\n    // Opening file and going through kiekot.dat\n    try (Scanner fi = new Scanner(new FileInputStream(kiekot));\n         PrintStream fo = new PrintStream(new FileOutputStream(tempFile, true)))\n    {\n        // Skipt the first line and copy it to destination file\n        fo.printf(fi.nextLine() + &quot;\\n&quot;);\n        while ( fi.hasNext() ) {\n            // For the sake of simplicity, we just copy the contents\n            String s = fi.nextLine();\n            fo.printf(s + &quot;\\n&quot;);\n        }\n        \n        System.out.println(&quot;We made it to here without errors&quot;);\n \n    } catch (FileNotFoundException ex) {\n        System.err.println(&quot;File won't open: &quot; + ex.getMessage());\n    }\n\n    // Delete the original file and rename the tempFile to match the original kiekot.dat\n        if ( kiekot.delete() ) System.out.println(&quot;Successfully deleted the file&quot;);\n        else  System.out.println(&quot;Couldn't delete the file&quot;);\n\n        if ( tempFile.renameTo(kiekot) ) System.out.println(&quot;Successfully renamed the file&quot;);\n        else  System.out.println(&quot;Couldn't rename the file&quot;);\n}\n</code></pre>\n<p>This now outputs me this:</p>\n<pre><code>We made it to here without errors\nSuccessfully deleted the file\nSuccessfully renamed the file\n</code></pre>\n<p>2nd time I click the button and the method runs:</p>\n<pre><code>We made it to here without errors\nCouldn't delete the file\nCouldn't rename the file\n</code></pre>\n<p>Restarting the whole application helps, but I need help to make method that doesn't need the restart.</p>\n"},{"tags":["java","android"],"owner":{"account_id":28032525,"reputation":1,"user_id":21411479,"display_name":"Oğuzhan Berke Efe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678969094,"creation_date":1678969094,"question_id":75756160,"body_markdown":"I am working in a sdk project called Ayonix and I have such a class.\r\nbut when I write the codes for it, it always shows the width and height of the image as 0. Below are examples of the codes that belong to the Class and that I have written. I would be very grateful if you could help me. I want to know where I made a mistake. This is very important to me.\r\n\r\nif i do it without using the class(AyonixImage img = new AyonixImage(width, height, isColor, step, byteArray);) I am able to print bitmap height and widths to textview. but if i use the class then the height and widths show as 0 0 but it doesn&#39;t make sense if I don&#39;t use the class. how can i use this class. NOTE: this class is the class of a ready-made sdk, I didn&#39;t code.\r\n\r\n**//AyonixImage.java class**\r\n```\r\npackage com.ayonix.AynxFaceIDTest.classes;\r\n\r\nimport java.util.Arrays;\r\n\r\nimport ayonix.AyonixException;\r\n\r\npublic class AyonixImage\r\n{\r\n        public boolean isLoaded;\r\n        public int width;\r\n        public int height;\r\n        public boolean isColor;\r\n        public int step;\r\n        public byte[] data;\r\n\r\n        // ---------------- MEMBER FUNCTIONS ----------------\r\n\r\n        public AyonixImage(int width, int height, boolean isColor, int step, byte[] data)\r\n        {\r\n                if(width &lt; 0  height &lt; 0  step &lt; width  data == null  data.length &lt; (heightstep))\r\n                        return;\r\n\r\n                this.isLoaded = true;\r\n                this.width = width;\r\n                this.height = height;\r\n                this.isColor = isColor;\r\n                this.step = step;\r\n                this.data = Arrays.copyOf(data, heightstep);\r\n        }\r\n\r\n        // ---------------- NATIVE FUNCTIONS ----------------\r\n\r\n        static\r\n        {\r\n                System.loadLibrary(&quot;AyonixFaceIDJW&quot;);\r\n        }\r\n\r\n        public static native AyonixImage FromFile(String filename) throws ayonix.AyonixException;\r\n        public static native AyonixImage FromMemory(byte[] encoded) throws AyonixException;\r\n\r\n        public static native AyonixImage FromMemory_NV12(int width, int height, byte data[], int step, int rot, int mirror);\r\n        public static native AyonixImage FromMemory_NV21(int width, int height, byte data[], int step, int rot, int mirror);\r\n        public static native AyonixImage FromMemory_NV12_P2(int width, int height, byte dataY[], int stepY, byte dataUV[], int stepUV, int rot, int mirror);\r\n        public static native AyonixImage FromMemory_NV21_P2(int width, int height, byte dataY[], int stepY, byte dataVU[], int stepVU, int rot, int mirror);\r\n        public static native AyonixImage FromMemory_YUV420(int width, int height, byte dataY[], int stepY, byte dataU[], int stepU, byte dataV[], int stepV, int rot, int mirror);\r\n}\r\n```\r\n\r\n**This is the code I wrote for my class. What I want is to get the width and height of the photo from the Ayonix library and this class.**\r\n\r\n            \r\n```\r\n// Upload a drawable image\r\n            Drawable drawable = getResources().getDrawable(R.drawable.img1);\r\n            // Bitmap generation to get the dimensions of the drawable image\r\n            Bitmap bitmap = ((BitmapDrawable) drawable).getBitmap();\r\n            int width = bitmap.getWidth();\r\n            int height = bitmap.getHeight();\r\n            //Convert bitmap to byte array\r\n            ByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n            bitmap.compress(Bitmap.CompressFormat.PNG, 100, stream);\r\n            byte[] byteArray = stream.toByteArray();\r\n            boolean isColor = true; // If the picture is in color\r\n            int step = width * 3; // 3 bytes per pixel\r\n            imageView.setImageBitmap(bitmap);\r\n            AyonixImage img = new AyonixImage(width, height, isColor, step, byteArray); // Ayonix created an Image instance\r\n            tw2.setText(&quot;Loaded image&quot; + &quot;&quot; + &quot; width: &quot; + &quot; &quot; +img.width + &quot;   &quot; + &quot;height:&quot; + &quot; &quot; + img.height); \r\n```","title":"How will I use the codes in Android Studio class?","body":"<p>I am working in a sdk project called Ayonix and I have such a class.\nbut when I write the codes for it, it always shows the width and height of the image as 0. Below are examples of the codes that belong to the Class and that I have written. I would be very grateful if you could help me. I want to know where I made a mistake. This is very important to me.</p>\n<p>if i do it without using the class(AyonixImage img = new AyonixImage(width, height, isColor, step, byteArray);) I am able to print bitmap height and widths to textview. but if i use the class then the height and widths show as 0 0 but it doesn't make sense if I don't use the class. how can i use this class. NOTE: this class is the class of a ready-made sdk, I didn't code.</p>\n<p><strong>//AyonixImage.java class</strong></p>\n<pre><code>package com.ayonix.AynxFaceIDTest.classes;\n\nimport java.util.Arrays;\n\nimport ayonix.AyonixException;\n\npublic class AyonixImage\n{\n        public boolean isLoaded;\n        public int width;\n        public int height;\n        public boolean isColor;\n        public int step;\n        public byte[] data;\n\n        // ---------------- MEMBER FUNCTIONS ----------------\n\n        public AyonixImage(int width, int height, boolean isColor, int step, byte[] data)\n        {\n                if(width &lt; 0  height &lt; 0  step &lt; width  data == null  data.length &lt; (heightstep))\n                        return;\n\n                this.isLoaded = true;\n                this.width = width;\n                this.height = height;\n                this.isColor = isColor;\n                this.step = step;\n                this.data = Arrays.copyOf(data, heightstep);\n        }\n\n        // ---------------- NATIVE FUNCTIONS ----------------\n\n        static\n        {\n                System.loadLibrary(&quot;AyonixFaceIDJW&quot;);\n        }\n\n        public static native AyonixImage FromFile(String filename) throws ayonix.AyonixException;\n        public static native AyonixImage FromMemory(byte[] encoded) throws AyonixException;\n\n        public static native AyonixImage FromMemory_NV12(int width, int height, byte data[], int step, int rot, int mirror);\n        public static native AyonixImage FromMemory_NV21(int width, int height, byte data[], int step, int rot, int mirror);\n        public static native AyonixImage FromMemory_NV12_P2(int width, int height, byte dataY[], int stepY, byte dataUV[], int stepUV, int rot, int mirror);\n        public static native AyonixImage FromMemory_NV21_P2(int width, int height, byte dataY[], int stepY, byte dataVU[], int stepVU, int rot, int mirror);\n        public static native AyonixImage FromMemory_YUV420(int width, int height, byte dataY[], int stepY, byte dataU[], int stepU, byte dataV[], int stepV, int rot, int mirror);\n}\n</code></pre>\n<p><strong>This is the code I wrote for my class. What I want is to get the width and height of the photo from the Ayonix library and this class.</strong></p>\n<pre><code>// Upload a drawable image\n            Drawable drawable = getResources().getDrawable(R.drawable.img1);\n            // Bitmap generation to get the dimensions of the drawable image\n            Bitmap bitmap = ((BitmapDrawable) drawable).getBitmap();\n            int width = bitmap.getWidth();\n            int height = bitmap.getHeight();\n            //Convert bitmap to byte array\n            ByteArrayOutputStream stream = new ByteArrayOutputStream();\n            bitmap.compress(Bitmap.CompressFormat.PNG, 100, stream);\n            byte[] byteArray = stream.toByteArray();\n            boolean isColor = true; // If the picture is in color\n            int step = width * 3; // 3 bytes per pixel\n            imageView.setImageBitmap(bitmap);\n            AyonixImage img = new AyonixImage(width, height, isColor, step, byteArray); // Ayonix created an Image instance\n            tw2.setText(&quot;Loaded image&quot; + &quot;&quot; + &quot; width: &quot; + &quot; &quot; +img.width + &quot;   &quot; + &quot;height:&quot; + &quot; &quot; + img.height); \n</code></pre>\n"},{"tags":["java","if-statement","char"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1678967719,"post_id":75755909,"comment_id":133637424,"body_markdown":"Hello and welcome. You forgot to tell us how your code doesn&#39;t work. What do you expect to happen and what happens instead? Also, how are you calling that method? Please [edit] your question to include a [example].","body":"Hello and welcome. You forgot to tell us how your code doesn&#39;t work. What do you expect to happen and what happens instead? Also, how are you calling that method? Please <a href=\"https://stackoverflow.com/posts/75755909/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1678967767,"post_id":75755909,"comment_id":133637442,"body_markdown":"What does &quot;doesn&#39;t work&quot; actually mean?  I assume you know, but you&#39;re not telling us.","body":"What does &quot;doesn&#39;t work&quot; actually mean?  I assume you know, but you&#39;re not telling us."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1678967777,"post_id":75755909,"comment_id":133637447,"body_markdown":"&quot;_it finds the average_&quot; - Where are you doing that step?","body":"&quot;<i>it finds the average</i>&quot; - Where are you doing that step?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678967849,"post_id":75755909,"comment_id":133637467,"body_markdown":"why not just return &#39;A&#39;; ... ?","body":"why not just return &#39;A&#39;; ... ?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678967915,"post_id":75755909,"comment_id":133637501,"body_markdown":"what if the sum is above 100? this seems likely your problem","body":"what if the sum is above 100? this seems likely your problem"},{"owner":{"account_id":28032140,"reputation":1,"user_id":21411168,"display_name":"user21411168"},"score":0,"creation_date":1678968296,"post_id":75755909,"comment_id":133637591,"body_markdown":"yes stultuske, i will try change that now and update, thanks for the replies","body":"yes stultuske, i will try change that now and update, thanks for the replies"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1678969148,"post_id":75755909,"comment_id":133637849,"body_markdown":"Suggestion: Don&#39;t calculate an average and then store that value in a variable called `sum`. More generally, give your variables meaningful/precise/relevant names, for the sake of others who will have to read your code (and for the sake of your future self).","body":"Suggestion: Don&#39;t calculate an average and then store that value in a variable called <code>sum</code>. More generally, give your variables meaningful/precise/relevant names, for the sake of others who will have to read your code (and for the sake of your future self)."}],"owner":{"account_id":28032140,"reputation":1,"user_id":21411168,"display_name":"user21411168"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678968959,"creation_date":1678967618,"question_id":75755909,"body_markdown":"the question is ...\r\nComplete the function so that it finds the average of the three scores passed to it and returns the letter value associated with that grade.\r\n```\r\nNumerical Score \tLetter Grade\r\n90 &lt;= score &lt;= 100 \t&#39;A&#39;\r\n80 &lt;= score &lt; 90 \t&#39;B&#39;\r\n70 &lt;= score &lt; 80 \t&#39;C&#39;\r\n60 &lt;= score &lt; 70 \t&#39;D&#39;\r\n0 &lt;= score &lt; 60 \t&#39;F&#39;\r\n```\r\nTested values are all between 0 and 100. Theres is no need to check for negative values or values greater than 100.\r\n\r\n```\r\npublic class GrassHopper {\r\n\r\n    public static char getGrade(int s1, int s2, int s3) {\r\n      int sum = s1 + s2 + s3;\r\n      char answer = &#39;\\0&#39;;\r\n      if(sum&lt;=100 &amp;&amp; sum&gt;=90) {\r\n        answer=&#39;A&#39;;\r\n      } \r\n      else if(sum&lt;90 &amp;&amp; sum&gt;=80) {\r\n        answer=&#39;B&#39;;\r\n      } \r\n      else if(sum&lt;80 &amp;&amp; sum&gt;=70) {\r\n        answer=&#39;C&#39;;\r\n      } \r\n      else if(sum&lt;70 &amp;&amp; sum&gt;=60) {\r\n        answer=&#39;D&#39;;\r\n      } \r\n      else if(sum&gt;=0 &amp;&amp; sum&lt;60) {\r\n        answer=&#39;F&#39;;\r\n      }\r\n      return answer;\r\n    }\r\n}\r\n```\r\n\r\n\r\nChecked if statement but cant see any issues with it.\r\n\r\nI know there is a better way of doing this. But someone also tell me why the above code block doesnt work? \r\nthanks.\r\n\r\nEdit: \r\n\r\nI think I did something wrong, I didnt take an average of the three values and store it in sum, will try that now.\r\n\r\nEdit 2: \r\n\r\n    double sum = (s1 + s2 + s3)/3;\r\n\r\ni replaced the 3 line in the code to this and now it is working. \r\nthanks everyone\r\n\r\n","title":"Cant return reassigned char value in java","body":"<p>the question is ...\nComplete the function so that it finds the average of the three scores passed to it and returns the letter value associated with that grade.</p>\n<pre><code>Numerical Score     Letter Grade\n90 &lt;= score &lt;= 100  'A'\n80 &lt;= score &lt; 90    'B'\n70 &lt;= score &lt; 80    'C'\n60 &lt;= score &lt; 70    'D'\n0 &lt;= score &lt; 60     'F'\n</code></pre>\n<p>Tested values are all between 0 and 100. Theres is no need to check for negative values or values greater than 100.</p>\n<pre><code>public class GrassHopper {\n\n    public static char getGrade(int s1, int s2, int s3) {\n      int sum = s1 + s2 + s3;\n      char answer = '\\0';\n      if(sum&lt;=100 &amp;&amp; sum&gt;=90) {\n        answer='A';\n      } \n      else if(sum&lt;90 &amp;&amp; sum&gt;=80) {\n        answer='B';\n      } \n      else if(sum&lt;80 &amp;&amp; sum&gt;=70) {\n        answer='C';\n      } \n      else if(sum&lt;70 &amp;&amp; sum&gt;=60) {\n        answer='D';\n      } \n      else if(sum&gt;=0 &amp;&amp; sum&lt;60) {\n        answer='F';\n      }\n      return answer;\n    }\n}\n</code></pre>\n<p>Checked if statement but cant see any issues with it.</p>\n<p>I know there is a better way of doing this. But someone also tell me why the above code block doesnt work?\nthanks.</p>\n<p>Edit:</p>\n<p>I think I did something wrong, I didnt take an average of the three values and store it in sum, will try that now.</p>\n<p>Edit 2:</p>\n<pre><code>double sum = (s1 + s2 + s3)/3;\n</code></pre>\n<p>i replaced the 3 line in the code to this and now it is working.\nthanks everyone</p>\n"},{"tags":["java","spring","hibernate"],"answers":[{"tags":[],"owner":{"account_id":28032380,"reputation":1,"user_id":21411366,"display_name":"Redoge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678968873,"creation_date":1678968873,"answer_id":75756116,"question_id":75756082,"body_markdown":"I found a solution. Using the @JsonIgnoreProperties annotation.\r\n\r\n##### Tag.java\r\n```java\r\n@Entity\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Tag {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;tag_id&quot;)\r\n    private Long id;\r\n    @Column(name = &quot;tag_name&quot;, unique = true)\r\n    private String name;\r\n    @ManyToMany(mappedBy = &quot;tags&quot;)\r\n    @JsonIgnoreProperties(&quot;tags&quot;)\r\n    private List&lt;GiftCertificate&gt; certificates;\r\n}\r\n\r\n```\r\n\r\n##### GiftCertificate.java\r\n```java\r\n@Entity\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class GiftCertificate {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;gift_certificate_id&quot;)\r\n    private Long id;\r\n    @Column(name = &quot;gift_certificate_name&quot;, unique = true)\r\n    private String name;\r\n    @Column(name = &quot;gift_certificate_description&quot;)\r\n    private String description;\r\n    @Column(name = &quot;gift_certificate_price&quot;)\r\n    private BigDecimal price;\r\n    @Column(name = &quot;gift_certificate_duration&quot;)\r\n    private int duration;\r\n    @Column(name = &quot;gift_certificate_create_date&quot;)\r\n    private LocalDateTime createDate;\r\n    @Column(name = &quot;gift_certificate_id_last_update_date&quot;)\r\n    private LocalDateTime lastUpdateDate;\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;gift_certificate_tag&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;gift_certificate_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;tag_id&quot;))\r\n    @JsonIgnoreProperties(&quot;certificates&quot;)\r\n    private List&lt;Tag&gt; tags;\r\n```\r\n","title":"StackOverflowException with Spring + Hibernate (ManyToMany relation)","body":"<p>I found a solution. Using the @JsonIgnoreProperties annotation.</p>\n<h5>Tag.java</h5>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Tag {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;tag_id&quot;)\n    private Long id;\n    @Column(name = &quot;tag_name&quot;, unique = true)\n    private String name;\n    @ManyToMany(mappedBy = &quot;tags&quot;)\n    @JsonIgnoreProperties(&quot;tags&quot;)\n    private List&lt;GiftCertificate&gt; certificates;\n}\n\n</code></pre>\n<h5>GiftCertificate.java</h5>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class GiftCertificate {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;gift_certificate_id&quot;)\n    private Long id;\n    @Column(name = &quot;gift_certificate_name&quot;, unique = true)\n    private String name;\n    @Column(name = &quot;gift_certificate_description&quot;)\n    private String description;\n    @Column(name = &quot;gift_certificate_price&quot;)\n    private BigDecimal price;\n    @Column(name = &quot;gift_certificate_duration&quot;)\n    private int duration;\n    @Column(name = &quot;gift_certificate_create_date&quot;)\n    private LocalDateTime createDate;\n    @Column(name = &quot;gift_certificate_id_last_update_date&quot;)\n    private LocalDateTime lastUpdateDate;\n    @ManyToMany\n    @JoinTable(name = &quot;gift_certificate_tag&quot;,\n            joinColumns = @JoinColumn(name = &quot;gift_certificate_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;tag_id&quot;))\n    @JsonIgnoreProperties(&quot;certificates&quot;)\n    private List&lt;Tag&gt; tags;\n</code></pre>\n"}],"owner":{"account_id":28032380,"reputation":1,"user_id":21411366,"display_name":"Redoge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":729,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75756116,"answer_count":1,"score":0,"last_activity_date":1678968873,"creation_date":1678968695,"question_id":75756082,"body_markdown":"##### When using Hibernate in a Spring-boot application with ManyToMany entities, a StackOverflowException is thrown. \r\n\r\n---\r\n\r\n##### Tag.java\r\n```java\r\n@Entity\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Tag {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;tag_id&quot;)\r\n    private Long id;\r\n    @Column(name = &quot;tag_name&quot;, unique = true)\r\n    private String name;\r\n    @ManyToMany(mappedBy = &quot;tags&quot;)\r\n    private List&lt;GiftCertificate&gt; certificates;\r\n\r\n    public Tag(String name) {\r\n        this.name = name;\r\n    }\r\n}\r\n```\r\n##### GiftCertificate.java\r\n\r\n```java\r\n@Entity\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class GiftCertificate {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;gift_certificate_id&quot;)\r\n    private Long id;\r\n    @Column(name = &quot;gift_certificate_name&quot;, unique = true)\r\n    private String name;\r\n    @Column(name = &quot;gift_certificate_description&quot;)\r\n    private String description;\r\n    @Column(name = &quot;gift_certificate_price&quot;)\r\n    private BigDecimal price;\r\n    @Column(name = &quot;gift_certificate_duration&quot;)\r\n    private int duration;\r\n    @Column(name = &quot;gift_certificate_create_date&quot;)\r\n    private LocalDateTime createDate;\r\n    @Column(name = &quot;gift_certificate_id_last_update_date&quot;)\r\n    private LocalDateTime lastUpdateDate;\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;gift_certificate_tag&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;gift_certificate_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;tag_id&quot;))\r\n    private List&lt;Tag&gt; tags;\r\n}\r\n```\r\n\r\n---\r\nWhen receiving Tag or GiftCertificate data from the database and sending a response in the form of JSON, we will receive an error\r\n```java\r\njava.lang.StackOverflowError: null\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013) ~[na:na]\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n\tat com.fasterxml.jackson.databind.JsonMappingException.prependPath(JsonMappingException.java:455) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:792) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:733) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n```\r\n\r\nI used @JsonManagedReference and @JsonBackReference, but then the response has no commented @JsonBackReference field. I need both recieve both field.","title":"StackOverflowException with Spring + Hibernate (ManyToMany relation)","body":"<h5>When using Hibernate in a Spring-boot application with ManyToMany entities, a StackOverflowException is thrown.</h5>\n<hr />\n<h5>Tag.java</h5>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Tag {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;tag_id&quot;)\n    private Long id;\n    @Column(name = &quot;tag_name&quot;, unique = true)\n    private String name;\n    @ManyToMany(mappedBy = &quot;tags&quot;)\n    private List&lt;GiftCertificate&gt; certificates;\n\n    public Tag(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<h5>GiftCertificate.java</h5>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class GiftCertificate {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;gift_certificate_id&quot;)\n    private Long id;\n    @Column(name = &quot;gift_certificate_name&quot;, unique = true)\n    private String name;\n    @Column(name = &quot;gift_certificate_description&quot;)\n    private String description;\n    @Column(name = &quot;gift_certificate_price&quot;)\n    private BigDecimal price;\n    @Column(name = &quot;gift_certificate_duration&quot;)\n    private int duration;\n    @Column(name = &quot;gift_certificate_create_date&quot;)\n    private LocalDateTime createDate;\n    @Column(name = &quot;gift_certificate_id_last_update_date&quot;)\n    private LocalDateTime lastUpdateDate;\n    @ManyToMany\n    @JoinTable(name = &quot;gift_certificate_tag&quot;,\n            joinColumns = @JoinColumn(name = &quot;gift_certificate_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;tag_id&quot;))\n    private List&lt;Tag&gt; tags;\n}\n</code></pre>\n<hr />\n<p>When receiving Tag or GiftCertificate data from the database and sending a response in the form of JSON, we will receive an error</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.lang.StackOverflowError: null\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013) ~[na:na]\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    at com.fasterxml.jackson.databind.JsonMappingException.prependPath(JsonMappingException.java:455) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:792) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:733) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.14.2.jar:2.14.2]\n</code></pre>\n<p>I used @JsonManagedReference and @JsonBackReference, but then the response has no commented @JsonBackReference field. I need both recieve both field.</p>\n"},{"tags":["java","android","nfc"],"owner":{"account_id":28024600,"reputation":1,"user_id":21404841,"display_name":"Cy-jay Somers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678968583,"creation_date":1678894180,"question_id":75746838,"body_markdown":"I am having a problem to scan my NFC tag. i am uploading my code as APK to my raspberry pi4 which runs android. So i can&#39;t use the logcat you normally have in Android Studio. The OnCreate() method does its work, it finds the reader and opens it (it also shows in the app with the toast messages).\r\n\r\nBut when i scan my NFC tag with json in it my app crashes.\r\n\r\n    \r\n    public class MainActivity extends AppCompatActivity implements Reader.OnStateChangeListener {\r\n    \r\n        private Reader mReader;\r\n        private boolean mUsbConnected = false;\r\n        private NfcAdapter mNfcAdapter;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            try {\r\n                super.onCreate(savedInstanceState);\r\n                setContentView(R.layout.activity_main);\r\n    \r\n                // Get a reference to the USB manager\r\n                UsbManager usbManager = (UsbManager) getSystemService(Context.USB_SERVICE);\r\n    \r\n                // Find the ACR122U reader\r\n                UsbDevice device = null;\r\n                for (UsbDevice usbDevice : usbManager.getDeviceList().values()) {\r\n                    if (usbDevice.getVendorId() == 0x072f &amp;&amp; usbDevice.getProductId() == 0x2200) {\r\n                        device = usbDevice;\r\n                        break;\r\n                    }\r\n                }\r\n    \r\n                if (device == null) {\r\n                    Toast.makeText(this, &quot;ACR122U reader not found&quot;, Toast.LENGTH_LONG).show();\r\n                    return;\r\n                } else {\r\n                    Toast.makeText(this, &quot;ACR122U FOUND&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n    \r\n                // Create a new instance of the ACS reader\r\n                mReader = new Reader(usbManager);\r\n                mReader.setOnStateChangeListener(this);\r\n    \r\n                try {\r\n                    mReader.open(device);\r\n                    mUsbConnected = true;\r\n                    Toast.makeText(this, &quot;reader is open&quot;, Toast.LENGTH_LONG).show();\r\n                } catch (Exception e) {\r\n                    Toast.makeText(this, &quot;Failed to open reader&quot;, Toast.LENGTH_LONG).show();\r\n                    return;\r\n                }\r\n            }catch (Exception e) {\r\n                e.printStackTrace();\r\n                Toast.makeText(this, &quot;Error: &quot; +e.getMessage(), Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onStateChange(int slotNum, int prevState, int currState) {\r\n            try {\r\n                if (prevState == Reader.CARD_PRESENT &amp;&amp; currState == Reader.CARD_ABSENT) {\r\n                    // Tag removed\r\n                } else if (prevState == Reader.CARD_ABSENT &amp;&amp; currState == Reader.CARD_PRESENT) {\r\n                    // Tag discovered\r\n                    Toast.makeText(this, &quot;TAG DISCOVERED&quot;, Toast.LENGTH_LONG).show();\r\n    \r\n    \r\n                    // Send a command to read the tag data\r\n                    byte[] command = new byte[]{(byte) 0xFF, (byte) 0xB0, (byte) 0x00, (byte) 0x04, (byte) 0x10};\r\n                    byte[] response = new byte[256];\r\n                    int responseLength = mReader.transmit(0, command, command.length, response, response.length);\r\n    \r\n                    if (responseLength &lt;= 0) {\r\n                        Toast.makeText(this, &quot;Failed to read tag&quot;, Toast.LENGTH_LONG).show();\r\n                        return;\r\n                    }\r\n    \r\n                    // Convert the response to a JSON string\r\n                    String jsonString = new String(Arrays.copyOf(response, responseLength), &quot;UTF-8&quot;);\r\n    \r\n                    // Display the JSON string in a toast message\r\n                    Toast.makeText(this, &quot;Tag data: &quot; + jsonString, Toast.LENGTH_LONG).show();\r\n    \r\n                }\r\n            }\r\n            catch (Exception e) {\r\n                e.printStackTrace();\r\n                Toast.makeText(this, &quot;Error: &quot; +e.getMessage(), Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n    \r\n    \r\n    }\r\n    \r\n\r\nThis is the code i use and upload to my Rpi4. My app crashes when i scan a NFC tag.","title":"How can i scan and get a NFC tag with the ACR122U reader?","body":"<p>I am having a problem to scan my NFC tag. i am uploading my code as APK to my raspberry pi4 which runs android. So i can't use the logcat you normally have in Android Studio. The OnCreate() method does its work, it finds the reader and opens it (it also shows in the app with the toast messages).</p>\n<p>But when i scan my NFC tag with json in it my app crashes.</p>\n<pre><code>public class MainActivity extends AppCompatActivity implements Reader.OnStateChangeListener {\n\n    private Reader mReader;\n    private boolean mUsbConnected = false;\n    private NfcAdapter mNfcAdapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        try {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_main);\n\n            // Get a reference to the USB manager\n            UsbManager usbManager = (UsbManager) getSystemService(Context.USB_SERVICE);\n\n            // Find the ACR122U reader\n            UsbDevice device = null;\n            for (UsbDevice usbDevice : usbManager.getDeviceList().values()) {\n                if (usbDevice.getVendorId() == 0x072f &amp;&amp; usbDevice.getProductId() == 0x2200) {\n                    device = usbDevice;\n                    break;\n                }\n            }\n\n            if (device == null) {\n                Toast.makeText(this, &quot;ACR122U reader not found&quot;, Toast.LENGTH_LONG).show();\n                return;\n            } else {\n                Toast.makeText(this, &quot;ACR122U FOUND&quot;, Toast.LENGTH_LONG).show();\n            }\n\n            // Create a new instance of the ACS reader\n            mReader = new Reader(usbManager);\n            mReader.setOnStateChangeListener(this);\n\n            try {\n                mReader.open(device);\n                mUsbConnected = true;\n                Toast.makeText(this, &quot;reader is open&quot;, Toast.LENGTH_LONG).show();\n            } catch (Exception e) {\n                Toast.makeText(this, &quot;Failed to open reader&quot;, Toast.LENGTH_LONG).show();\n                return;\n            }\n        }catch (Exception e) {\n            e.printStackTrace();\n            Toast.makeText(this, &quot;Error: &quot; +e.getMessage(), Toast.LENGTH_LONG).show();\n        }\n    }\n\n    @Override\n    public void onStateChange(int slotNum, int prevState, int currState) {\n        try {\n            if (prevState == Reader.CARD_PRESENT &amp;&amp; currState == Reader.CARD_ABSENT) {\n                // Tag removed\n            } else if (prevState == Reader.CARD_ABSENT &amp;&amp; currState == Reader.CARD_PRESENT) {\n                // Tag discovered\n                Toast.makeText(this, &quot;TAG DISCOVERED&quot;, Toast.LENGTH_LONG).show();\n\n\n                // Send a command to read the tag data\n                byte[] command = new byte[]{(byte) 0xFF, (byte) 0xB0, (byte) 0x00, (byte) 0x04, (byte) 0x10};\n                byte[] response = new byte[256];\n                int responseLength = mReader.transmit(0, command, command.length, response, response.length);\n\n                if (responseLength &lt;= 0) {\n                    Toast.makeText(this, &quot;Failed to read tag&quot;, Toast.LENGTH_LONG).show();\n                    return;\n                }\n\n                // Convert the response to a JSON string\n                String jsonString = new String(Arrays.copyOf(response, responseLength), &quot;UTF-8&quot;);\n\n                // Display the JSON string in a toast message\n                Toast.makeText(this, &quot;Tag data: &quot; + jsonString, Toast.LENGTH_LONG).show();\n\n            }\n        }\n        catch (Exception e) {\n            e.printStackTrace();\n            Toast.makeText(this, &quot;Error: &quot; +e.getMessage(), Toast.LENGTH_LONG).show();\n        }\n    }\n\n\n}\n</code></pre>\n<p>This is the code i use and upload to my Rpi4. My app crashes when i scan a NFC tag.</p>\n"},{"tags":["java","arraylist","long-integer","maxlength"],"comments":[{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":4,"creation_date":1390788309,"post_id":21371877,"comment_id":32229048,"body_markdown":"Do you really need to hold that amount of data in memory?","body":"Do you really need to hold that amount of data in memory?"},{"owner":{"account_id":169763,"reputation":7117,"user_id":2103602,"accept_rate":59,"display_name":"sigpwned"},"score":0,"creation_date":1390788332,"post_id":21371877,"comment_id":32229050,"body_markdown":"Are you expecting to hold more than 2 billion elements in a list? Given that Object headers are 8 bytes, plus 4 bytes per reference, you&#39;re looking at (8 bytes+4 bytes)*2 billion = 24GB of memory, at the very lowest end of a &quot;full&quot; int-length list. And it&#39;s likely worse for a 64-bit machine.","body":"Are you expecting to hold more than 2 billion elements in a list? Given that Object headers are 8 bytes, plus 4 bytes per reference, you&#39;re looking at (8 bytes+4 bytes)*2 billion = 24GB of memory, at the very lowest end of a &quot;full&quot; int-length list. And it&#39;s likely worse for a 64-bit machine."},{"owner":{"account_id":43022,"reputation":22842,"user_id":125562,"accept_rate":64,"display_name":"Basilevs"},"score":0,"creation_date":1390788367,"post_id":21371877,"comment_id":32229061,"body_markdown":"@Reimeus List is just an interface, implementation might not hold all the data in memory.","body":"@Reimeus List is just an interface, implementation might not hold all the data in memory."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1390788471,"post_id":21371877,"comment_id":32229084,"body_markdown":"Consider using a LinkedList","body":"Consider using a LinkedList"},{"owner":{"account_id":43022,"reputation":22842,"user_id":125562,"accept_rate":64,"display_name":"Basilevs"},"score":1,"creation_date":1390788885,"post_id":21371877,"comment_id":32229184,"body_markdown":"Hmm. Just one reference is required - File, for example.","body":"Hmm. Just one reference is required - File, for example."},{"owner":{"display_name":"user1382306"},"score":0,"creation_date":1390789036,"post_id":21371877,"comment_id":32229222,"body_markdown":"@sigpwned Yes, over the long run, this application should be expected to manage those magnitudes quickly, and implementing a better solution later would not be easy.","body":"@sigpwned Yes, over the long run, this application should be expected to manage those magnitudes quickly, and implementing a better solution later would not be easy."},{"owner":{"display_name":"user1382306"},"score":0,"creation_date":1390789079,"post_id":21371877,"comment_id":32229229,"body_markdown":"@Basilevs Thank you Basilevs!  Does that comment mean that the entire `List` does not need to be stored in memory?","body":"@Basilevs Thank you Basilevs!  Does that comment mean that the entire <code>List</code> does not need to be stored in memory?"},{"owner":{"account_id":43022,"reputation":22842,"user_id":125562,"accept_rate":64,"display_name":"Basilevs"},"score":2,"creation_date":1390790944,"post_id":21371877,"comment_id":32229636,"body_markdown":"@Gracchus There is no standard implementation which doesn&#39;t store its data in memory. However custom implementation of List interface is perfectly capable to store its data in external storage.","body":"@Gracchus There is no standard implementation which doesn&#39;t store its data in memory. However custom implementation of List interface is perfectly capable to store its data in external storage."},{"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"score":1,"creation_date":1390794061,"post_id":21371877,"comment_id":32230392,"body_markdown":"Lists are abused frequently where a more streaming approached should be used like an iterator or writer. Try to make your library / app use these interfaces instead.","body":"Lists are abused frequently where a more streaming approached should be used like an iterator or writer. Try to make your library / app use these interfaces instead."}],"answers":[{"tags":[],"owner":{"account_id":2388379,"reputation":5178,"user_id":2088822,"accept_rate":93,"display_name":"afsantos"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1390788501,"creation_date":1390788501,"answer_id":21371911,"question_id":21371877,"body_markdown":"From the `List` documentation:\n\n&gt; `int size()`\n&gt;\n&gt; Returns the number of elements in this list. If this list contains more than `Integer.MAX_VALUE` elements, returns `Integer.MAX_VALUE`.\n\nSo, even if a specific implementation of `List` holds `Long.MAX_VALUE` elements, you wouldn&#39;t know, using the standard `List` interface.\n\nI&#39;m not sure if one exists, but my bet would be on `LinkedList`, since `ArrayList` is based on arrays, and those can&#39;t hold more than `Integer.MAX_VALUE` elements.","title":"Is there a longer than int Java List?","body":"<p>From the <code>List</code> documentation:</p>\n<blockquote>\n<p><code>int size()</code></p>\n<p>Returns the number of elements in this list. If this list contains more than <code>Integer.MAX_VALUE</code> elements, returns <code>Integer.MAX_VALUE</code>.</p>\n</blockquote>\n<p>So, even if a specific implementation of <code>List</code> holds <code>Long.MAX_VALUE</code> elements, you wouldn't know, using the standard <code>List</code> interface.</p>\n<p>I'm not sure if one exists, but my bet would be on <code>LinkedList</code>, since <code>ArrayList</code> is based on arrays, and those can't hold more than <code>Integer.MAX_VALUE</code> elements.</p>\n"},{"tags":[],"owner":{"account_id":43022,"reputation":22842,"user_id":125562,"accept_rate":64,"display_name":"Basilevs"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1390788606,"creation_date":1390788606,"answer_id":21371919,"question_id":21371877,"body_markdown":"As `List.get(int)` accepts int as its argument, it is impossible to address entries with indexes greater than `Integer.MAX_VALUE`.\r\n\r\nDo note, however, that `Iterable&lt;?&gt;` or `Map&lt;Long, ?&gt;` can address much more data. As List implements Iterable it could contain any amount of data (that part being not exposed with int-based List&#39;s API).","title":"Is there a longer than int Java List?","body":"<p>As <code>List.get(int)</code> accepts int as its argument, it is impossible to address entries with indexes greater than <code>Integer.MAX_VALUE</code>.</p>\n\n<p>Do note, however, that <code>Iterable&lt;?&gt;</code> or <code>Map&lt;Long, ?&gt;</code> can address much more data. As List implements Iterable it could contain any amount of data (that part being not exposed with int-based List's API).</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1678968420,"creation_date":1390788851,"answer_id":21371964,"question_id":21371877,"body_markdown":"As @afsantos says, the `ArrayList` class is inherently limited to `Integer.MAX_VALUE` entries because of the limitations of Java arrays.  \r\n\r\n`LinkedList` doesn&#39;t have this limitation, but it is (nonetheless) expensive:\r\n\r\n  - Each entry incurs an memory overhead of 2 references plus the size of an object header ... compared to just one reference for an array-based representation.\r\n\r\n  - Indexing is an `O(N)` operation compared with `O(1)` for an array-based list.\r\n\r\nHere is a link to Java library that supports *huge* in-memory collections using direct mapped memory and/or encoding of the elements:\r\n\r\n  - http://code.google.com/p/vanilla-java/wiki/HugeCollections\r\n\r\nAnd here is a link to a *huge* collections library with an ArrayList analog that uses 2-level arrays (arrays of arrays) to avoid the 32 bit address limit.\r\n\r\n  - https://github.com/eobermuhlner/jhuge\r\n\r\nThere could be other alternatives out there.  \r\n\r\nOne could also envisage a &quot;big&quot; variant of regular array lists that used an array of arrays rather than a single array.  But if you allow insertion into the middle of the list, it becomes difficult / expensive to achieve `O(1)` lookup.  (That might be why I couldn&#39;t find an example with Google ...)","title":"Is there a longer than int Java List?","body":"<p>As @afsantos says, the <code>ArrayList</code> class is inherently limited to <code>Integer.MAX_VALUE</code> entries because of the limitations of Java arrays.</p>\n<p><code>LinkedList</code> doesn't have this limitation, but it is (nonetheless) expensive:</p>\n<ul>\n<li><p>Each entry incurs an memory overhead of 2 references plus the size of an object header ... compared to just one reference for an array-based representation.</p>\n</li>\n<li><p>Indexing is an <code>O(N)</code> operation compared with <code>O(1)</code> for an array-based list.</p>\n</li>\n</ul>\n<p>Here is a link to Java library that supports <em>huge</em> in-memory collections using direct mapped memory and/or encoding of the elements:</p>\n<ul>\n<li><a href=\"http://code.google.com/p/vanilla-java/wiki/HugeCollections\" rel=\"nofollow noreferrer\">http://code.google.com/p/vanilla-java/wiki/HugeCollections</a></li>\n</ul>\n<p>And here is a link to a <em>huge</em> collections library with an ArrayList analog that uses 2-level arrays (arrays of arrays) to avoid the 32 bit address limit.</p>\n<ul>\n<li><a href=\"https://github.com/eobermuhlner/jhuge\" rel=\"nofollow noreferrer\">https://github.com/eobermuhlner/jhuge</a></li>\n</ul>\n<p>There could be other alternatives out there.</p>\n<p>One could also envisage a &quot;big&quot; variant of regular array lists that used an array of arrays rather than a single array.  But if you allow insertion into the middle of the list, it becomes difficult / expensive to achieve <code>O(1)</code> lookup.  (That might be why I couldn't find an example with Google ...)</p>\n"}],"owner":{"display_name":"user1382306"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5398,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":21371964,"answer_count":3,"score":6,"last_activity_date":1678968420,"creation_date":1390788194,"question_id":21371877,"body_markdown":"I can&#39;t seem to find a Java `List` that&#39;s max length is `long`&#39;s max value.\r\n\r\nDoes such a `List` exist?\r\n\r\nIf so, where?","title":"Is there a longer than int Java List?","body":"<p>I can't seem to find a Java <code>List</code> that's max length is <code>long</code>'s max value.</p>\n\n<p>Does such a <code>List</code> exist?</p>\n\n<p>If so, where?</p>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678952609,"creation_date":1678952609,"answer_id":75753314,"question_id":75753112,"body_markdown":"The following code may meet your requirements.\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class ArrayDemo {\r\n  public static void main(String[] args) {\r\n    Scanner input = new Scanner(System.in);\r\n    int[][] arr = new int[4][4];\r\n\r\n    System.out.print(&quot;Enter 16 integers separated by a space: &quot;);\r\n    String line = input.nextLine();\r\n    String[] elements = line.split(&quot; &quot;);\r\n\r\n    for (int i = 0; i &lt; 4; i++) {\r\n      for (int j = 0; j &lt; 4; j++) {\r\n        arr[i][j] = Integer.parseInt(elements[i * 4 + j]);\r\n      }\r\n    }\r\n\r\n    System.out.println(&quot;Array elements:&quot;);\r\n    for (int i = 0; i &lt; 4; i++) {\r\n      for (int j = 0; j &lt; 4; j++) {\r\n        System.out.print(arr[i][j] + &quot; &quot;);\r\n      }\r\n      System.out.println();\r\n    }\r\n  }\r\n}\r\n\r\n```\r\n\r\nAfter executing the code, type 16 numbers separated by spaces in the terminal\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AleH5.png","title":"How to take multiple inputs e.g. an array in a single line in terminal window","body":"<p>The following code may meet your requirements.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class ArrayDemo {\n  public static void main(String[] args) {\n    Scanner input = new Scanner(System.in);\n    int[][] arr = new int[4][4];\n\n    System.out.print(&quot;Enter 16 integers separated by a space: &quot;);\n    String line = input.nextLine();\n    String[] elements = line.split(&quot; &quot;);\n\n    for (int i = 0; i &lt; 4; i++) {\n      for (int j = 0; j &lt; 4; j++) {\n        arr[i][j] = Integer.parseInt(elements[i * 4 + j]);\n      }\n    }\n\n    System.out.println(&quot;Array elements:&quot;);\n    for (int i = 0; i &lt; 4; i++) {\n      for (int j = 0; j &lt; 4; j++) {\n        System.out.print(arr[i][j] + &quot; &quot;);\n      }\n      System.out.println();\n    }\n  }\n}\n\n</code></pre>\n<p>After executing the code, type 16 numbers separated by spaces in the terminal</p>\n<p><a href=\"https://i.stack.imgur.com/AleH5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AleH5.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":27945286,"reputation":1,"user_id":21340414,"display_name":"Nikhil Makwana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678953931,"creation_date":1678953931,"answer_id":75753482,"question_id":75753112,"body_markdown":"use input as nextInt();\r\nThis will terminate when whitespace occur.\r\n\r\njust pass input in one line using space and at the end press enter.\r\n\r\n    public class matrix {\r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n        int[][] arr = new int[3][3];\r\n\r\n        for (int i = 0; i &lt; 3; i++) {\r\n            for (int j = 0; j &lt; 3; j++) {\r\n                arr[i][j] = input.nextInt();\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;Array elements:&quot;);\r\n        for (int i = 0; i &lt; 3; i++) {\r\n            for (int j = 0; j &lt; 3; j++) {\r\n                System.out.print(arr[i][j] + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n    }\r\n\r\n[Check Output here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Nv0Gs.png","title":"How to take multiple inputs e.g. an array in a single line in terminal window","body":"<p>use input as nextInt();\nThis will terminate when whitespace occur.</p>\n<p>just pass input in one line using space and at the end press enter.</p>\n<pre><code>public class matrix {\npublic static void main(String[] args) {\n    Scanner input = new Scanner(System.in);\n    int[][] arr = new int[3][3];\n\n    for (int i = 0; i &lt; 3; i++) {\n        for (int j = 0; j &lt; 3; j++) {\n            arr[i][j] = input.nextInt();\n        }\n    }\n\n    System.out.println(&quot;Array elements:&quot;);\n    for (int i = 0; i &lt; 3; i++) {\n        for (int j = 0; j &lt; 3; j++) {\n            System.out.print(arr[i][j] + &quot; &quot;);\n        }\n        System.out.println();\n    }\n}\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Nv0Gs.png\" rel=\"nofollow noreferrer\">Check Output here</a></p>\n"}],"owner":{"account_id":26679305,"reputation":3,"user_id":20289487,"display_name":"Sidharth sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1678968195,"creation_date":1678951069,"question_id":75753112,"body_markdown":"I was running a java code to enter and display the array \r\nBut in terminal window when i write the first input and press the enter, the input line changes to next.\r\nInstead of this i want to take input in a single line.\r\nWhen i have to make an 4&#215;4 2-d arrays and while entering the inputs to the array, it takes 16 lines for the input.\r\nI want to take all the inputs to an array in a single line.\r\n\r\n\r\nKindly help me with this.","title":"How to take multiple inputs e.g. an array in a single line in terminal window","body":"<p>I was running a java code to enter and display the array\nBut in terminal window when i write the first input and press the enter, the input line changes to next.\nInstead of this i want to take input in a single line.\nWhen i have to make an 4×4 2-d arrays and while entering the inputs to the array, it takes 16 lines for the input.\nI want to take all the inputs to an array in a single line.</p>\n<p>Kindly help me with this.</p>\n"},{"tags":["java","string","diacritics"],"answers":[{"tags":[],"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"down_vote_count":0,"up_vote_count":456,"is_accepted":true,"score":456,"last_activity_date":1678967788,"creation_date":1279917482,"answer_id":3322174,"question_id":3322152,"body_markdown":"**Use [`java.text.Normalizer`][1] to handle this for you.**\r\n\r\n    string = Normalizer.normalize(string, Normalizer.Form.NFD);\r\n    // or Normalizer.Form.NFKD for a more &quot;compatible&quot; deconstruction \r\n\r\nThis will separate all of the accent marks from the characters.  Then, you just need to compare each character against being a letter and throw out the ones that aren&#39;t.\r\n\r\n    string = string.replaceAll(&quot;[^\\\\p{ASCII}]&quot;, &quot;&quot;);\r\n\r\nIf your text is in unicode, you should use this instead:\r\n\r\n    string = string.replaceAll(&quot;\\\\p{M}&quot;, &quot;&quot;);\r\n\r\nFor unicode, `\\\\P{M}` matches the base glyph and `\\\\p{M}` (lowercase) matches each accent.\r\n\r\nThanks to GarretWilson for the pointer and [regular-expressions.info][2] for the great unicode guide.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/text/Normalizer.html\r\n  [2]: http://www.regular-expressions.info/unicode.html","title":"Is there a way to get rid of accents and convert a whole string to regular letters?","body":"<p><strong>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/Normalizer.html\" rel=\"noreferrer\"><code>java.text.Normalizer</code></a> to handle this for you.</strong></p>\n<pre><code>string = Normalizer.normalize(string, Normalizer.Form.NFD);\n// or Normalizer.Form.NFKD for a more &quot;compatible&quot; deconstruction \n</code></pre>\n<p>This will separate all of the accent marks from the characters.  Then, you just need to compare each character against being a letter and throw out the ones that aren't.</p>\n<pre><code>string = string.replaceAll(&quot;[^\\\\p{ASCII}]&quot;, &quot;&quot;);\n</code></pre>\n<p>If your text is in unicode, you should use this instead:</p>\n<pre><code>string = string.replaceAll(&quot;\\\\p{M}&quot;, &quot;&quot;);\n</code></pre>\n<p>For unicode, <code>\\\\P{M}</code> matches the base glyph and <code>\\\\p{M}</code> (lowercase) matches each accent.</p>\n<p>Thanks to GarretWilson for the pointer and <a href=\"http://www.regular-expressions.info/unicode.html\" rel=\"noreferrer\">regular-expressions.info</a> for the great unicode guide.</p>\n"},{"tags":[],"owner":{"account_id":171930,"reputation":10044,"user_id":399647,"accept_rate":94,"display_name":"NinjaCat"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1480731339,"creation_date":1279917663,"answer_id":3322195,"question_id":3322152,"body_markdown":"Depending on the language, those might not be considered accents (which change the sound of the letter), but diacritical marks\r\n\r\n\r\nhttps://en.wikipedia.org/wiki/Diacritic#Languages_with_letters_containing_diacritics\r\n\r\n&quot;Bosnian and Croatian have the symbols č, ć, đ, š and ž, which are considered separate letters and are listed as such in dictionaries and other contexts in which words are listed according to alphabetical order.&quot;\r\n\r\nRemoving them might be inherently changing the meaning of the word, or changing the letters into completely different ones.","title":"Is there a way to get rid of accents and convert a whole string to regular letters?","body":"<p>Depending on the language, those might not be considered accents (which change the sound of the letter), but diacritical marks</p>\n\n<p><a href=\"https://en.wikipedia.org/wiki/Diacritic#Languages_with_letters_containing_diacritics\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Diacritic#Languages_with_letters_containing_diacritics</a></p>\n\n<p>\"Bosnian and Croatian have the symbols č, ć, đ, š and ž, which are considered separate letters and are listed as such in dictionaries and other contexts in which words are listed according to alphabetical order.\"</p>\n\n<p>Removing them might be inherently changing the meaning of the word, or changing the letters into completely different ones.</p>\n"},{"tags":[],"owner":{"account_id":238095,"reputation":411,"user_id":506746,"display_name":"Nico"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1290175367,"creation_date":1290175367,"answer_id":4225698,"question_id":3322152,"body_markdown":"    System.out.println(Normalizer.normalize(&quot;&#224;&#232;&#233;&quot;, Normalizer.Form.NFD).replaceAll(&quot;\\\\p{InCombiningDiacriticalMarks}+&quot;, &quot;&quot;));\r\n\r\n\r\nworked for me. The output of the snippet above gives &quot;aee&quot; which is what I wanted, but \r\n\r\n    System.out.println(Normalizer.normalize(&quot;&#224;&#232;&#233;&quot;, Normalizer.Form.NFD).replaceAll(&quot;[^\\\\p{ASCII}]&quot;, &quot;&quot;));\r\n\r\ndidn&#39;t do any substitution. ","title":"Is there a way to get rid of accents and convert a whole string to regular letters?","body":"<pre><code>System.out.println(Normalizer.normalize(\"àèé\", Normalizer.Form.NFD).replaceAll(\"\\\\p{InCombiningDiacriticalMarks}+\", \"\"));\n</code></pre>\n\n<p>worked for me. The output of the snippet above gives \"aee\" which is what I wanted, but </p>\n\n<pre><code>System.out.println(Normalizer.normalize(\"àèé\", Normalizer.Form.NFD).replaceAll(\"[^\\\\p{ASCII}]\", \"\"));\n</code></pre>\n\n<p>didn't do any substitution. </p>\n"},{"tags":[],"owner":{"account_id":333131,"reputation":2273,"user_id":658826,"display_name":"virgo47"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1432797728,"creation_date":1338459632,"answer_id":10831704,"question_id":3322152,"body_markdown":"EDIT: If you&#39;re not stuck with Java &lt;6 and speed is not critical and/or translation table is too limiting, use answer by David. The point is to use `Normalizer` (introduced in Java 6) instead of translation table inside the loop.\r\n\r\nWhile this is not &quot;perfect&quot; solution, it works well when you know the range (in our case Latin1,2), worked before Java 6 (not a real issue though) and is much faster than the most suggested version (may or may not be an issue):\r\n\r\n    \t/**\r\n\t * Mirror of the unicode table from 00c0 to 017f without diacritics.\r\n\t */\r\n\tprivate static final String tab00c0 = &quot;AAAAAAACEEEEIIII&quot; +\r\n\t\t&quot;DNOOOOO\\u00d7\\u00d8UUUUYI\\u00df&quot; +\r\n\t\t&quot;aaaaaaaceeeeiiii&quot; +\r\n\t\t&quot;\\u00f0nooooo\\u00f7\\u00f8uuuuy\\u00fey&quot; +\r\n\t\t&quot;AaAaAaCcCcCcCcDd&quot; +\r\n\t\t&quot;DdEeEeEeEeEeGgGg&quot; +\r\n\t\t&quot;GgGgHhHhIiIiIiIi&quot; +\r\n\t\t&quot;IiJjJjKkkLlLlLlL&quot; +\r\n\t\t&quot;lLlNnNnNnnNnOoOo&quot; +\r\n\t\t&quot;OoOoRrRrRrSsSsSs&quot; +\r\n\t\t&quot;SsTtTtTtUuUuUuUu&quot; +\r\n\t\t&quot;UuUuWwYyYZzZzZzF&quot;;\r\n\r\n\t/**\r\n\t * Returns string without diacritics - 7 bit approximation.\r\n\t *\r\n\t * @param source string to convert\r\n\t * @return corresponding string without diacritics\r\n\t */\r\n\tpublic static String removeDiacritic(String source) {\r\n\t\tchar[] vysl = new char[source.length()];\r\n\t\tchar one;\r\n\t\tfor (int i = 0; i &lt; source.length(); i++) {\r\n\t\t\tone = source.charAt(i);\r\n\t\t\tif (one &gt;= &#39;\\u00c0&#39; &amp;&amp; one &lt;= &#39;\\u017f&#39;) {\r\n\t\t\t\tone = tab00c0.charAt((int) one - &#39;\\u00c0&#39;);\r\n\t\t\t}\r\n\t\t\tvysl[i] = one;\r\n\t\t}\r\n\t\treturn new String(vysl);\r\n\t}\r\n\r\nTests on my HW with 32bit JDK show that this performs conversion from &#224;&#232;&#233;ľšťč89FDČ to aeelstc89FDC 1 million times in ~100ms while Normalizer way makes it in 3.7s (37x slower). In case your needs are around performance and you know the input range, this may be for you.\r\n\r\nEnjoy :-)","title":"Is there a way to get rid of accents and convert a whole string to regular letters?","body":"<p>EDIT: If you're not stuck with Java &lt;6 and speed is not critical and/or translation table is too limiting, use answer by David. The point is to use <code>Normalizer</code> (introduced in Java 6) instead of translation table inside the loop.</p>\n\n<p>While this is not \"perfect\" solution, it works well when you know the range (in our case Latin1,2), worked before Java 6 (not a real issue though) and is much faster than the most suggested version (may or may not be an issue):</p>\n\n<pre><code>    /**\n * Mirror of the unicode table from 00c0 to 017f without diacritics.\n */\nprivate static final String tab00c0 = \"AAAAAAACEEEEIIII\" +\n    \"DNOOOOO\\u00d7\\u00d8UUUUYI\\u00df\" +\n    \"aaaaaaaceeeeiiii\" +\n    \"\\u00f0nooooo\\u00f7\\u00f8uuuuy\\u00fey\" +\n    \"AaAaAaCcCcCcCcDd\" +\n    \"DdEeEeEeEeEeGgGg\" +\n    \"GgGgHhHhIiIiIiIi\" +\n    \"IiJjJjKkkLlLlLlL\" +\n    \"lLlNnNnNnnNnOoOo\" +\n    \"OoOoRrRrRrSsSsSs\" +\n    \"SsTtTtTtUuUuUuUu\" +\n    \"UuUuWwYyYZzZzZzF\";\n\n/**\n * Returns string without diacritics - 7 bit approximation.\n *\n * @param source string to convert\n * @return corresponding string without diacritics\n */\npublic static String removeDiacritic(String source) {\n    char[] vysl = new char[source.length()];\n    char one;\n    for (int i = 0; i &lt; source.length(); i++) {\n        one = source.charAt(i);\n        if (one &gt;= '\\u00c0' &amp;&amp; one &lt;= '\\u017f') {\n            one = tab00c0.charAt((int) one - '\\u00c0');\n        }\n        vysl[i] = one;\n    }\n    return new String(vysl);\n}\n</code></pre>\n\n<p>Tests on my HW with 32bit JDK show that this performs conversion from àèéľšťč89FDČ to aeelstc89FDC 1 million times in ~100ms while Normalizer way makes it in 3.7s (37x slower). In case your needs are around performance and you know the input range, this may be for you.</p>\n\n<p>Enjoy :-)</p>\n"},{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":1,"up_vote_count":65,"is_accepted":false,"score":64,"last_activity_date":1362348583,"creation_date":1362348583,"answer_id":15191508,"question_id":3322152,"body_markdown":"The solution by @virgo47 is very fast, but approximate. The accepted answer uses Normalizer and a regular expression. I wondered what part of the time was taken by Normalizer versus the regular expression, since removing all the non-ASCII characters can be done without a regex:\r\n\r\n    import java.text.Normalizer;\r\n    \r\n    public class Strip {\r\n        public static String flattenToAscii(String string) {\r\n            StringBuilder sb = new StringBuilder(string.length());\r\n            string = Normalizer.normalize(string, Normalizer.Form.NFD);\r\n            for (char c : string.toCharArray()) {\r\n                if (c &lt;= &#39;\\u007F&#39;) sb.append(c);\r\n            }\r\n            return sb.toString();\r\n        }\r\n    }\r\n\r\nSmall additional speed-ups can be obtained by writing into a char[] and not calling toCharArray(), although I&#39;m not sure that the decrease in code clarity merits it:\r\n\r\n    public static String flattenToAscii(String string) {\r\n        char[] out = new char[string.length()];\r\n        string = Normalizer.normalize(string, Normalizer.Form.NFD);\r\n        int j = 0;\r\n        for (int i = 0, n = string.length(); i &lt; n; ++i) {\r\n            char c = string.charAt(i);\r\n            if (c &lt;= &#39;\\u007F&#39;) out[j++] = c;\r\n        }\r\n        return new String(out);\r\n    }\r\n\r\nThis variation has the advantage of the correctness of the one using Normalizer and some of the speed of the one using a table. On my machine, this one is about 4x faster than the accepted answer, and 6.6x to 7x slower that @virgo47&#39;s (the accepted answer is about 26x slower than @virgo47&#39;s on my machine).","title":"Is there a way to get rid of accents and convert a whole string to regular letters?","body":"<p>The solution by @virgo47 is very fast, but approximate. The accepted answer uses Normalizer and a regular expression. I wondered what part of the time was taken by Normalizer versus the regular expression, since removing all the non-ASCII characters can be done without a regex:</p>\n\n<pre><code>import java.text.Normalizer;\n\npublic class Strip {\n    public static String flattenToAscii(String string) {\n        StringBuilder sb = new StringBuilder(string.length());\n        string = Normalizer.normalize(string, Normalizer.Form.NFD);\n        for (char c : string.toCharArray()) {\n            if (c &lt;= '\\u007F') sb.append(c);\n        }\n        return sb.toString();\n    }\n}\n</code></pre>\n\n<p>Small additional speed-ups can be obtained by writing into a char[] and not calling toCharArray(), although I'm not sure that the decrease in code clarity merits it:</p>\n\n<pre><code>public static String flattenToAscii(String string) {\n    char[] out = new char[string.length()];\n    string = Normalizer.normalize(string, Normalizer.Form.NFD);\n    int j = 0;\n    for (int i = 0, n = string.length(); i &lt; n; ++i) {\n        char c = string.charAt(i);\n        if (c &lt;= '\\u007F') out[j++] = c;\n    }\n    return new String(out);\n}\n</code></pre>\n\n<p>This variation has the advantage of the correctness of the one using Normalizer and some of the speed of the one using a table. On my machine, this one is about 4x faster than the accepted answer, and 6.6x to 7x slower that @virgo47's (the accepted answer is about 26x slower than @virgo47's on my machine).</p>\n"},{"tags":[],"owner":{"account_id":69386,"reputation":5102,"user_id":201891,"accept_rate":85,"display_name":"DavidS"},"down_vote_count":2,"up_vote_count":205,"is_accepted":false,"score":203,"last_activity_date":1567526083,"creation_date":1420502008,"answer_id":27789934,"question_id":3322152,"body_markdown":"As of 2011 you can use Apache Commons [StringUtils.stripAccents(input)](http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringUtils.html#stripAccents-java.lang.String-) (since 3.0):\r\n\r\n        String input = StringUtils.stripAccents(&quot;Tĥ&#239;ŝ ĩš &#226; fůňķŷ Šťŕĭńġ&quot;);\r\n        System.out.println(input);\r\n        // Prints &quot;This is a funky String&quot;\r\n\r\n**Note:**\r\n\r\nThe accepted answer (Erick Robertson&#39;s) doesn&#39;t work for &#216; or Ł. Apache Commons 3.5 doesn&#39;t work for &#216; either, but it does work for Ł. After reading the [Wikipedia article for &#216;](https://en.wikipedia.org/wiki/%C3%98), I&#39;m not sure it should be replaced with &quot;O&quot;: it&#39;s a separate letter in Norwegian and Danish, alphabetized after &quot;z&quot;. It&#39;s a good example of the limitations of the &quot;strip accents&quot; approach.","title":"Is there a way to get rid of accents and convert a whole string to regular letters?","body":"<p>As of 2011 you can use Apache Commons <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringUtils.html#stripAccents-java.lang.String-\" rel=\"noreferrer\">StringUtils.stripAccents(input)</a> (since 3.0):</p>\n\n<pre><code>    String input = StringUtils.stripAccents(\"Tĥïŝ ĩš â fůňķŷ Šťŕĭńġ\");\n    System.out.println(input);\n    // Prints \"This is a funky String\"\n</code></pre>\n\n<p><strong>Note:</strong></p>\n\n<p>The accepted answer (Erick Robertson's) doesn't work for Ø or Ł. Apache Commons 3.5 doesn't work for Ø either, but it does work for Ł. After reading the <a href=\"https://en.wikipedia.org/wiki/%C3%98\" rel=\"noreferrer\">Wikipedia article for Ø</a>, I'm not sure it should be replaced with \"O\": it's a separate letter in Norwegian and Danish, alphabetized after \"z\". It's a good example of the limitations of the \"strip accents\" approach.</p>\n"},{"tags":[],"owner":{"account_id":352251,"reputation":533,"user_id":689223,"display_name":"Ricardo Freitas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1436416301,"creation_date":1436416301,"answer_id":31308175,"question_id":3322152,"body_markdown":"@David Conrad solution is the fastest I tried using the Normalizer, but it does have a bug. It basically strips characters which are not accents, for example Chinese characters and other letters like &#230;, are all stripped.\r\nThe characters that we want to strip are non spacing marks, characters which don&#39;t take up extra width in the final string. These zero width characters basically end up combined in some other character. If you can see them isolated as a character, for example like this `, my guess is that it&#39;s combined with the space character.\r\n\r\n\tpublic static String flattenToAscii(String string) {\r\n\t    char[] out = new char[string.length()];\r\n\t    String norm = Normalizer.normalize(string, Normalizer.Form.NFD);\r\n\t    \r\n\t    int j = 0;\r\n\t    for (int i = 0, n = norm.length(); i &lt; n; ++i) {\r\n\t        char c = norm.charAt(i);\r\n\t        int type = Character.getType(c);\r\n\t        \r\n\t        //Log.d(TAG,&quot;&quot;+c);\r\n\t        //by Ricardo, modified the character check for accents, ref: http://stackoverflow.com/a/5697575/689223\r\n\t        if (type != Character.NON_SPACING_MARK){\r\n\t        \tout[j] = c;\r\n\t        \tj++;\r\n\t        }\r\n\t    }\r\n\t    //Log.d(TAG,&quot;normalized string:&quot;+norm+&quot;/&quot;+new String(out));\r\n\t    return new String(out);\r\n\t}","title":"Is there a way to get rid of accents and convert a whole string to regular letters?","body":"<p>@David Conrad solution is the fastest I tried using the Normalizer, but it does have a bug. It basically strips characters which are not accents, for example Chinese characters and other letters like æ, are all stripped.\nThe characters that we want to strip are non spacing marks, characters which don't take up extra width in the final string. These zero width characters basically end up combined in some other character. If you can see them isolated as a character, for example like this `, my guess is that it's combined with the space character.</p>\n\n<pre><code>public static String flattenToAscii(String string) {\n    char[] out = new char[string.length()];\n    String norm = Normalizer.normalize(string, Normalizer.Form.NFD);\n\n    int j = 0;\n    for (int i = 0, n = norm.length(); i &lt; n; ++i) {\n        char c = norm.charAt(i);\n        int type = Character.getType(c);\n\n        //Log.d(TAG,\"\"+c);\n        //by Ricardo, modified the character check for accents, ref: http://stackoverflow.com/a/5697575/689223\n        if (type != Character.NON_SPACING_MARK){\n            out[j] = c;\n            j++;\n        }\n    }\n    //Log.d(TAG,\"normalized string:\"+norm+\"/\"+new String(out));\n    return new String(out);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1505141886,"creation_date":1504878887,"answer_id":46118158,"question_id":3322152,"body_markdown":"I have faced the same issue related to Strings equality check, One of the comparing string has \r\n[ASCII character code 128-255](http://www.ascii-code.com/).\r\n&gt; i.e., Non-breaking space - [Hex - A0] Space [Hex - 20].\r\n&gt; To show Non-breaking space over HTML. I have used the following [**`spacing entities`**](http://hea-www.harvard.edu/~fine/Tech/html-sentences.html). Their character and its bytes are like _`&amp;emsp is very wide space[ ]{-30, -128, -125}, &amp;ensp is somewhat wide space[ ]{-30, -128, -126}, &amp;thinsp is narrow space[ ]{32} , Non HTML Space {}`_\r\n&gt;\r\n&gt;     String s1 = &quot;My Sample Space Data&quot;, s2 = &quot;My Sample Space Data&quot;;\r\n&gt;     System.out.format(&quot;S1: %s\\n&quot;, java.util.Arrays.toString(s1.getBytes()));\r\n&gt;     System.out.format(&quot;S2: %s\\n&quot;, java.util.Arrays.toString(s2.getBytes()));\r\n&gt; Output in Bytes:\r\n&gt;\r\n_S1: [77, 121, `32`, 83, 97, 109, 112, 108, 101, `32`, 83, 112, 97, 99, 101, `32`, 68, 97, 116, 97]_\r\n_S2: [77, 121, `-30, -128, -125`, 83, 97, 109, 112, 108, 101, `-30, -128, -125`, 83, 112, 97, 99, 101, `-30, -128, -125`, 68, 97, 116, 97]_\r\n\r\nUse below code for Different Spaces and their Byte-Codes: [`wiki for List_of_Unicode_characters`](https://en.wikipedia.org/wiki/List_of_Unicode_characters)\r\n\r\n\tString spacing_entities = &quot;very wide space,narrow space,regular space,invisible&#160;separator&quot;;\r\n\tSystem.out.println(&quot;Space String :&quot;+ spacing_entities);\r\n\tbyte[] byteArray = \r\n        // spacing_entities.getBytes( Charset.forName(&quot;UTF-8&quot;) );\r\n\t\t// Charset.forName(&quot;UTF-8&quot;).encode( s2 ).array();\r\n\t\t{-30, -128, -125, 44, -30, -128, -126, 44, 32, 44, -62, -96};\r\n\tSystem.out.println(&quot;Bytes:&quot;+ Arrays.toString( byteArray ) );\r\n\ttry {\r\n\t\tSystem.out.format(&quot;Bytes to String[%S] \\n &quot;, new String(byteArray, &quot;UTF-8&quot;));\r\n\t} catch (UnsupportedEncodingException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\n* ➩ ASCII transliterations of Unicode string for Java. [**`unidecode`**](https://github.com/xuender/unidecode)\r\n\r\n\t\tString initials = Unidecode.decode( s2 );\r\n\r\n* ➩ using [`Guava`](https://github.com/google/guava): Google Core [`Libraries for Java`](https://mvnrepository.com/artifact/com.google.guava/guava/19.0).\r\n\r\n\t\tString replaceFrom = CharMatcher.WHITESPACE.replaceFrom( s2, &quot; &quot; );\r\n\r\n    _For URL encode [for the space](https://stackoverflow.com/a/31595036/5081877) use Guava laibrary._\r\n\r\n\t    String encodedString = UrlEscapers.urlFragmentEscaper().escape(inputString);\r\n\r\n* ➩ To overcome this problem used `String.replaceAll()` with some [`RegularExpression`](http://www.regular-expressions.info/unicode.html).\r\n\r\n\t\t// \\p{Z} or \\p{Separator}: any kind of whitespace or invisible separator.\r\n\t\ts2 = s2.replaceAll(&quot;\\\\p{Zs}&quot;, &quot; &quot;);\r\n\r\n\r\n\t\ts2 = s2.replaceAll(&quot;[^\\\\p{ASCII}]&quot;, &quot; &quot;);\r\n\t\ts2 = s2.replaceAll(&quot;&#160;&quot;, &quot; &quot;);\r\n\r\n* ➩ Using [java.text.Normalizer.Form](http://docs.oracle.com/javase/tutorial/i18n/text/normalizerapi.html).\r\n This enum provides constants of the four Unicode normalization forms that are described in [Unicode Standard Annex #15](http://www.unicode.org/reports/tr15/tr15-23.html) — Unicode Normalization Forms and two methods to access them.\r\n \r\n [![enter image description here][1]][1]\r\n\r\n\t\ts2 = Normalizer.normalize(s2, Normalizer.Form.NFKC);\r\n\r\n-----\r\nTesting String and outputs on different approaches like ➩ Unidecode, Normalizer, [StringUtils](https://commons.apache.org/proper/commons-lang/javadocs/api-3.4/org/apache/commons/lang3/StringUtils.html#stripAccents(java.lang.String)).\r\n\r\n    String strUni = &quot;Tĥ&#239;ŝ ĩš &#226; fůňķŷ Šťŕĭńġ &#198;,&#216;,&#208;,&#223;&quot;;\r\n\t\r\n    // This is a funky String AE,O,D,ss\r\n    String initials = Unidecode.decode( strUni );\r\n\r\n\t// Following Produce this o/p: Tĥïŝ ĩš â fůňķŷ Šťŕĭńġ &#198;,&#216;,&#208;,&#223;\r\n\tString temp = Normalizer.normalize(strUni, Normalizer.Form.NFD);\r\n\tPattern pattern = Pattern.compile(&quot;\\\\p{InCombiningDiacriticalMarks}+&quot;);\r\n\ttemp = pattern.matcher(temp).replaceAll(&quot;&quot;);\r\n    \r\n\tString input = org.apache.commons.lang3.StringUtils.stripAccents( strUni );\r\n\r\n-----\r\n\r\nUsing **Unidecode** is the [`best choice`](https://stackoverflow.com/a/43370834/5081877), My final Code shown below.\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString s1 = &quot;My Sample Space Data&quot;, s2 = &quot;My&#160;Sample&#160;Space&#160;Data&quot;;\r\n\t\tString initials = Unidecode.decode( s2 );\r\n\t\tif( s1.equals(s2)) { //[&#160;, ] %A0 - %2C - %20 &#171; http://www.ascii-code.com/\r\n\t\t\tSystem.out.println(&quot;Equal Unicode Strings&quot;);\r\n\t\t} else if( s1.equals( initials ) ) {\r\n\t\t\tSystem.out.println(&quot;Equal Non Unicode Strings&quot;);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;Not Equal&quot;);\r\n\t\t}\r\n\r\n\t}\r\n\r\n[1]: https://i.stack.imgur.com/cMBfI.png\r\n\r\n","title":"Is there a way to get rid of accents and convert a whole string to regular letters?","body":"<p>I have faced the same issue related to Strings equality check, One of the comparing string has \n<a href=\"http://www.ascii-code.com/\" rel=\"nofollow noreferrer\">ASCII character code 128-255</a>.</p>\n\n<blockquote>\n  <p>i.e., Non-breaking space - [Hex - A0] Space [Hex - 20].\n  To show Non-breaking space over HTML. I have used the following <a href=\"http://hea-www.harvard.edu/~fine/Tech/html-sentences.html\" rel=\"nofollow noreferrer\"><strong><code>spacing entities</code></strong></a>. Their character and its bytes are like <em><code>&amp;emsp is very wide space[ ]{-30, -128, -125}, &amp;ensp is somewhat wide space[ ]{-30, -128, -126}, &amp;thinsp is narrow space[ ]{32} , Non HTML Space {}</code></em></p>\n\n<pre><code>String s1 = \"My Sample Space Data\", s2 = \"My Sample Space Data\";\nSystem.out.format(\"S1: %s\\n\", java.util.Arrays.toString(s1.getBytes()));\nSystem.out.format(\"S2: %s\\n\", java.util.Arrays.toString(s2.getBytes()));\n</code></pre>\n  \n  <p>Output in Bytes:</p>\n  \n  <p><em>S1: [77, 121, <code>32</code>, 83, 97, 109, 112, 108, 101, <code>32</code>, 83, 112, 97, 99, 101, <code>32</code>, 68, 97, 116, 97]</em>\n  <em>S2: [77, 121, <code>-30, -128, -125</code>, 83, 97, 109, 112, 108, 101, <code>-30, -128, -125</code>, 83, 112, 97, 99, 101, <code>-30, -128, -125</code>, 68, 97, 116, 97]</em></p>\n</blockquote>\n\n<p>Use below code for Different Spaces and their Byte-Codes: <a href=\"https://en.wikipedia.org/wiki/List_of_Unicode_characters\" rel=\"nofollow noreferrer\"><code>wiki for List_of_Unicode_characters</code></a></p>\n\n<pre><code>String spacing_entities = \"very wide space,narrow space,regular space,invisible separator\";\nSystem.out.println(\"Space String :\"+ spacing_entities);\nbyte[] byteArray = \n    // spacing_entities.getBytes( Charset.forName(\"UTF-8\") );\n    // Charset.forName(\"UTF-8\").encode( s2 ).array();\n    {-30, -128, -125, 44, -30, -128, -126, 44, 32, 44, -62, -96};\nSystem.out.println(\"Bytes:\"+ Arrays.toString( byteArray ) );\ntry {\n    System.out.format(\"Bytes to String[%S] \\n \", new String(byteArray, \"UTF-8\"));\n} catch (UnsupportedEncodingException e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<ul>\n<li><p>➩ ASCII transliterations of Unicode string for Java. <a href=\"https://github.com/xuender/unidecode\" rel=\"nofollow noreferrer\"><strong><code>unidecode</code></strong></a></p>\n\n<pre><code>String initials = Unidecode.decode( s2 );\n</code></pre></li>\n<li><p>➩ using <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\"><code>Guava</code></a>: Google Core <a href=\"https://mvnrepository.com/artifact/com.google.guava/guava/19.0\" rel=\"nofollow noreferrer\"><code>Libraries for Java</code></a>.</p>\n\n<pre><code>String replaceFrom = CharMatcher.WHITESPACE.replaceFrom( s2, \" \" );\n</code></pre>\n\n<p><em>For URL encode <a href=\"https://stackoverflow.com/a/31595036/5081877\">for the space</a> use Guava laibrary.</em></p>\n\n<pre><code>String encodedString = UrlEscapers.urlFragmentEscaper().escape(inputString);\n</code></pre></li>\n<li><p>➩ To overcome this problem used <code>String.replaceAll()</code> with some <a href=\"http://www.regular-expressions.info/unicode.html\" rel=\"nofollow noreferrer\"><code>RegularExpression</code></a>.</p>\n\n<pre><code>// \\p{Z} or \\p{Separator}: any kind of whitespace or invisible separator.\ns2 = s2.replaceAll(\"\\\\p{Zs}\", \" \");\n\n\ns2 = s2.replaceAll(\"[^\\\\p{ASCII}]\", \" \");\ns2 = s2.replaceAll(\" \", \" \");\n</code></pre></li>\n<li><p>➩ Using <a href=\"http://docs.oracle.com/javase/tutorial/i18n/text/normalizerapi.html\" rel=\"nofollow noreferrer\">java.text.Normalizer.Form</a>.\nThis enum provides constants of the four Unicode normalization forms that are described in <a href=\"http://www.unicode.org/reports/tr15/tr15-23.html\" rel=\"nofollow noreferrer\">Unicode Standard Annex #15</a> — Unicode Normalization Forms and two methods to access them.</p>\n\n<p><a href=\"https://i.stack.imgur.com/cMBfI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cMBfI.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>s2 = Normalizer.normalize(s2, Normalizer.Form.NFKC);\n</code></pre></li>\n</ul>\n\n<hr>\n\n<p>Testing String and outputs on different approaches like ➩ Unidecode, Normalizer, <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.4/org/apache/commons/lang3/StringUtils.html#stripAccents(java.lang.String)\" rel=\"nofollow noreferrer\">StringUtils</a>.</p>\n\n<pre><code>String strUni = \"Tĥïŝ ĩš â fůňķŷ Šťŕĭńġ Æ,Ø,Ð,ß\";\n\n// This is a funky String AE,O,D,ss\nString initials = Unidecode.decode( strUni );\n\n// Following Produce this o/p: Tĥïŝ ĩš â fůňķŷ Šťŕĭńġ Æ,Ø,Ð,ß\nString temp = Normalizer.normalize(strUni, Normalizer.Form.NFD);\nPattern pattern = Pattern.compile(\"\\\\p{InCombiningDiacriticalMarks}+\");\ntemp = pattern.matcher(temp).replaceAll(\"\");\n\nString input = org.apache.commons.lang3.StringUtils.stripAccents( strUni );\n</code></pre>\n\n<hr>\n\n<p>Using <strong>Unidecode</strong> is the <a href=\"https://stackoverflow.com/a/43370834/5081877\"><code>best choice</code></a>, My final Code shown below.</p>\n\n<pre><code>public static void main(String[] args) {\n    String s1 = \"My Sample Space Data\", s2 = \"My Sample Space Data\";\n    String initials = Unidecode.decode( s2 );\n    if( s1.equals(s2)) { //[ , ] %A0 - %2C - %20 « http://www.ascii-code.com/\n        System.out.println(\"Equal Unicode Strings\");\n    } else if( s1.equals( initials ) ) {\n        System.out.println(\"Equal Non Unicode Strings\");\n    } else {\n        System.out.println(\"Not Equal\");\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2981539,"reputation":3702,"user_id":2531402,"accept_rate":25,"display_name":"OlgaMaciaszek"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1510585896,"creation_date":1510585896,"answer_id":47267513,"question_id":3322152,"body_markdown":"I suggest [Junidecode][1] . It will handle not only &#39;Ł&#39; and &#39;&#216;&#39;, but it also works well for transcribing from other alphabets, such as Chinese, into Latin alphabet.\r\n\r\n\r\n  [1]: https://github.com/gcardone/junidecode","title":"Is there a way to get rid of accents and convert a whole string to regular letters?","body":"<p>I suggest <a href=\"https://github.com/gcardone/junidecode\" rel=\"nofollow noreferrer\">Junidecode</a> . It will handle not only 'Ł' and 'Ø', but it also works well for transcribing from other alphabets, such as Chinese, into Latin alphabet.</p>\n"},{"tags":[],"owner":{"account_id":2694096,"reputation":3360,"user_id":2326640,"display_name":"Zhar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1544690498,"creation_date":1544689715,"answer_id":53757769,"question_id":3322152,"body_markdown":"One of the best way **using regex and Normalizer** if you have no library is :\r\n\r\n        public String flattenToAscii(String s) {\r\n                    if(s == null || s.trim().length() == 0)\r\n                            return &quot;&quot;;\r\n                    return Normalizer.normalize(s, Normalizer.Form.NFD).replaceAll(&quot;[\\u0300-\\u036F]&quot;, &quot;&quot;);\r\n    }\r\n\r\nThis is more efficient than replaceAll(&quot;[^\\\\p{ASCII}]&quot;, &quot;&quot;)) and **if you don&#39;t need diacritics** (just like your example).\r\n\r\nOtherwise, you have to use the p{ASCII} pattern.\r\n\r\nRegards.","title":"Is there a way to get rid of accents and convert a whole string to regular letters?","body":"<p>One of the best way <strong>using regex and Normalizer</strong> if you have no library is :</p>\n\n<pre><code>    public String flattenToAscii(String s) {\n                if(s == null || s.trim().length() == 0)\n                        return \"\";\n                return Normalizer.normalize(s, Normalizer.Form.NFD).replaceAll(\"[\\u0300-\\u036F]\", \"\");\n}\n</code></pre>\n\n<p>This is more efficient than replaceAll(\"[^\\p{ASCII}]\", \"\")) and <strong>if you don't need diacritics</strong> (just like your example).</p>\n\n<p>Otherwise, you have to use the p{ASCII} pattern.</p>\n\n<p>Regards.</p>\n"},{"tags":[],"owner":{"account_id":12256069,"reputation":710,"user_id":8945078,"display_name":"Thiago Silva"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1564925917,"creation_date":1564925917,"answer_id":57347023,"question_id":3322152,"body_markdown":"\r\n\r\nIn case anyone is strugling to do this in kotlin, this code works like a charm. To avoid inconsistencies I also use .toUpperCase and Trim(). then i cast this function:\r\n\r\n       fun stripAccents(s: String):String{\r\n\r\n       if (s == null) {\r\n          return &quot;&quot;;\r\n       }\r\n\r\n    val chars: CharArray = s.toCharArray()\r\n\r\n    var sb = StringBuilder(s)\r\n    var cont: Int = 0\r\n\r\n    while (chars.size &gt; cont) {\r\n        var c: kotlin.Char\r\n        c = chars[cont]\r\n        var c2:String = c.toString()\r\n       //these are my needs, in case you need to convert other accents just Add new entries aqui\r\n        c2 = c2.replace(&quot;&#195;&quot;, &quot;A&quot;)\r\n        c2 = c2.replace(&quot;&#213;&quot;, &quot;O&quot;)\r\n        c2 = c2.replace(&quot;&#199;&quot;, &quot;C&quot;)\r\n        c2 = c2.replace(&quot;&#193;&quot;, &quot;A&quot;)\r\n        c2 = c2.replace(&quot;&#211;&quot;, &quot;O&quot;)\r\n        c2 = c2.replace(&quot;&#202;&quot;, &quot;E&quot;)\r\n        c2 = c2.replace(&quot;&#201;&quot;, &quot;E&quot;)\r\n        c2 = c2.replace(&quot;&#218;&quot;, &quot;U&quot;)\r\n\r\n        c = c2.single()\r\n        sb.setCharAt(cont, c)\r\n        cont++\r\n\r\n    }\r\n\r\n    return sb.toString()\r\n\r\n}\r\n\r\nto use these fun cast the code like this:\r\n\r\n         var str: String\r\n         str = editText.text.toString() //get the text from EditText\r\n         str = str.toUpperCase().trim()\r\n\r\n         str = stripAccents(str) //call the function\r\n\r\n","title":"Is there a way to get rid of accents and convert a whole string to regular letters?","body":"<p>In case anyone is strugling to do this in kotlin, this code works like a charm. To avoid inconsistencies I also use .toUpperCase and Trim(). then i cast this function:</p>\n\n<pre><code>   fun stripAccents(s: String):String{\n\n   if (s == null) {\n      return \"\";\n   }\n\nval chars: CharArray = s.toCharArray()\n\nvar sb = StringBuilder(s)\nvar cont: Int = 0\n\nwhile (chars.size &gt; cont) {\n    var c: kotlin.Char\n    c = chars[cont]\n    var c2:String = c.toString()\n   //these are my needs, in case you need to convert other accents just Add new entries aqui\n    c2 = c2.replace(\"Ã\", \"A\")\n    c2 = c2.replace(\"Õ\", \"O\")\n    c2 = c2.replace(\"Ç\", \"C\")\n    c2 = c2.replace(\"Á\", \"A\")\n    c2 = c2.replace(\"Ó\", \"O\")\n    c2 = c2.replace(\"Ê\", \"E\")\n    c2 = c2.replace(\"É\", \"E\")\n    c2 = c2.replace(\"Ú\", \"U\")\n\n    c = c2.single()\n    sb.setCharAt(cont, c)\n    cont++\n\n}\n\nreturn sb.toString()\n</code></pre>\n\n<p>}</p>\n\n<p>to use these fun cast the code like this:</p>\n\n<pre><code>     var str: String\n     str = editText.text.toString() //get the text from EditText\n     str = str.toUpperCase().trim()\n\n     str = stripAccents(str) //call the function\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7467400,"reputation":906,"user_id":5676412,"accept_rate":93,"display_name":"Hoang Tran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589193865,"creation_date":1589193865,"answer_id":61727803,"question_id":3322152,"body_markdown":"\r\n\r\nI think the best solution is converting each char to HEX and replace it with another HEX. It&#39;s because there are 2 Unicode typing:\r\n\r\n    Composite Unicode\r\n    Precomposed Unicode\r\n\r\nFor example &quot;&#212;̀&quot; written by Composite Unicode is different from &quot;Ồ&quot; written by Precomposed Unicode. You can copy my sample chars and convert them to see the difference.\r\n\r\n    In Composite Unicode, &quot;&#212;̀&quot; is combined from 2 char: &#212; (U+00d4) and ̀ (U+0300)\r\n    In Precomposed Unicode, &quot;Ồ&quot; is single char (U+1ED2)\r\n\r\nI have developed this feature for some banks to convert the info before sending it to core-bank (usually don&#39;t support Unicode) and faced this issue when the end-users use multiple Unicode typing to input the data. So I think, converting to HEX and replace it is the most reliable way.\r\n","title":"Is there a way to get rid of accents and convert a whole string to regular letters?","body":"<p>I think the best solution is converting each char to HEX and replace it with another HEX. It's because there are 2 Unicode typing:</p>\n\n<pre><code>Composite Unicode\nPrecomposed Unicode\n</code></pre>\n\n<p>For example \"Ồ\" written by Composite Unicode is different from \"Ồ\" written by Precomposed Unicode. You can copy my sample chars and convert them to see the difference.</p>\n\n<pre><code>In Composite Unicode, \"Ồ\" is combined from 2 char: Ô (U+00d4) and ̀ (U+0300)\nIn Precomposed Unicode, \"Ồ\" is single char (U+1ED2)\n</code></pre>\n\n<p>I have developed this feature for some banks to convert the info before sending it to core-bank (usually don't support Unicode) and faced this issue when the end-users use multiple Unicode typing to input the data. So I think, converting to HEX and replace it is the most reliable way.</p>\n"},{"tags":[],"owner":{"account_id":21032417,"reputation":95,"user_id":15456485,"display_name":"sahlaysta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639949092,"creation_date":1639941522,"answer_id":70414594,"question_id":3322152,"body_markdown":"A fast and safer way\r\n\r\n\tpublic static String removeDiacritics(String str) {\r\n\t\tif (str == null)\r\n\t\t\treturn null;\r\n\t\tif (str.isEmpty())\r\n\t\t\treturn &quot;&quot;;\r\n\t\t\r\n\t\tint len = str.length();\r\n\t\tStringBuilder sb\r\n\t\t\t= new StringBuilder(len);\r\n\t\t\r\n\t\t//iterate string codepoints\r\n\t\tfor (int i = 0; i &lt; len; ) {\r\n\t\t\tint codePoint = str.codePointAt(i);\r\n\t\t\tint charCount\r\n\t\t\t\t= Character.charCount(codePoint);\r\n\t\t\t\r\n\t\t\tif (charCount &gt; 1) {\r\n\t\t\t\tfor (int j = 0; j &lt; charCount; j++)\r\n\t\t\t\t\tsb.append(str.charAt(i + j));\r\n\t\t\t\ti += charCount;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\telse if (codePoint &lt;= 127) {\r\n\t\t\t\tsb.append((char)codePoint);\r\n\t\t\t\ti++;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tsb.append(\r\n\t\t\t\tjava.text.Normalizer\r\n\t\t\t\t\t.normalize(\r\n\t\t\t\t\t\tCharacter.toString((char)codePoint),\r\n\t\t\t\t\t\tjava.text.Normalizer.Form.NFD)\r\n\t\t\t\t\t\t\t.charAt(0));\r\n\t\t\ti++;\r\n\t\t}\r\n\t\t\r\n\t\treturn sb.toString();\r\n\t}","title":"Is there a way to get rid of accents and convert a whole string to regular letters?","body":"<p>A fast and safer way</p>\n<pre><code>public static String removeDiacritics(String str) {\n    if (str == null)\n        return null;\n    if (str.isEmpty())\n        return &quot;&quot;;\n    \n    int len = str.length();\n    StringBuilder sb\n        = new StringBuilder(len);\n    \n    //iterate string codepoints\n    for (int i = 0; i &lt; len; ) {\n        int codePoint = str.codePointAt(i);\n        int charCount\n            = Character.charCount(codePoint);\n        \n        if (charCount &gt; 1) {\n            for (int j = 0; j &lt; charCount; j++)\n                sb.append(str.charAt(i + j));\n            i += charCount;\n            continue;\n        }\n        else if (codePoint &lt;= 127) {\n            sb.append((char)codePoint);\n            i++;\n            continue;\n        }\n        \n        sb.append(\n            java.text.Normalizer\n                .normalize(\n                    Character.toString((char)codePoint),\n                    java.text.Normalizer.Form.NFD)\n                        .charAt(0));\n        i++;\n    }\n    \n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7596782,"reputation":1007,"user_id":5762726,"accept_rate":60,"display_name":"Ashish"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1652698880,"creation_date":1645441995,"answer_id":71205342,"question_id":3322152,"body_markdown":"Since this solution is already available in [StringUtils.stripAccents()][1] at [Maven Repository][2] and working for Ł as mentioned by @DavidS. \r\nBut I need this to be working for both &#216; and Ł So modified as below. May be help full for others too.\r\n## Update ##\r\n\r\n\r\n----------\r\nThis is modified version of [StringUtils.stripAccents(String obj)][1], that contains old functionality along with handling both &#216; and Ł chars.\r\n\r\n    public static String stripAccents(final String input) {\r\n        if (input == null) {\r\n            return null;\r\n        }\r\n        final StringBuilder decomposed = new StringBuilder(Normalizer.normalize(input, Normalizer.Form.NFD));\r\n        for (int i = 0; i &lt; decomposed.length(); i++) {\r\n            if (decomposed.charAt(i) == &#39;\\u0141&#39;) {\r\n                decomposed.setCharAt(i, &#39;L&#39;);\r\n            } else if (decomposed.charAt(i) == &#39;\\u0142&#39;) {\r\n                decomposed.setCharAt(i, &#39;l&#39;);\r\n            }else if (decomposed.charAt(i) == &#39;\\u00D8&#39;) {\r\n                decomposed.setCharAt(i, &#39;O&#39;);\r\n            }else if (decomposed.charAt(i) == &#39;\\u00F8&#39;) {\r\n                decomposed.setCharAt(i, &#39;o&#39;);\r\n            }\r\n        }\r\n        // Note that this doesn&#39;t correctly remove ligatures...\r\n        return Pattern.compile(&quot;\\\\p{InCombiningDiacriticalMarks}+&quot;).matcher(decomposed).replaceAll(&quot;&quot;);\r\n    }\r\nInput string `Ł Tĥ&#239;ŝ ĩš &#226; fůňķŷ Šťŕĭńġ &#216; &#248;` &lt;br&gt;\r\noutput string `L This is a funky String O o`\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/index.html\r\n  [2]: https://mvnrepository.com/artifact/org.apache.commons/commons-lang3","title":"Is there a way to get rid of accents and convert a whole string to regular letters?","body":"<p>Since this solution is already available in <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/index.html\" rel=\"nofollow noreferrer\">StringUtils.stripAccents()</a> at <a href=\"https://mvnrepository.com/artifact/org.apache.commons/commons-lang3\" rel=\"nofollow noreferrer\">Maven Repository</a> and working for Ł as mentioned by @DavidS.\nBut I need this to be working for both Ø and Ł So modified as below. May be help full for others too.</p>\n<h2>Update</h2>\n<hr />\n<p>This is modified version of <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/index.html\" rel=\"nofollow noreferrer\">StringUtils.stripAccents(String obj)</a>, that contains old functionality along with handling both Ø and Ł chars.</p>\n<pre><code>public static String stripAccents(final String input) {\n    if (input == null) {\n        return null;\n    }\n    final StringBuilder decomposed = new StringBuilder(Normalizer.normalize(input, Normalizer.Form.NFD));\n    for (int i = 0; i &lt; decomposed.length(); i++) {\n        if (decomposed.charAt(i) == '\\u0141') {\n            decomposed.setCharAt(i, 'L');\n        } else if (decomposed.charAt(i) == '\\u0142') {\n            decomposed.setCharAt(i, 'l');\n        }else if (decomposed.charAt(i) == '\\u00D8') {\n            decomposed.setCharAt(i, 'O');\n        }else if (decomposed.charAt(i) == '\\u00F8') {\n            decomposed.setCharAt(i, 'o');\n        }\n    }\n    // Note that this doesn't correctly remove ligatures...\n    return Pattern.compile(&quot;\\\\p{InCombiningDiacriticalMarks}+&quot;).matcher(decomposed).replaceAll(&quot;&quot;);\n}\n</code></pre>\n<p>Input string <code>Ł Tĥïŝ ĩš â fůňķŷ Šťŕĭńġ Ø ø</code> <br>\noutput string <code>L This is a funky String O o</code></p>\n"},{"tags":[],"owner":{"account_id":1893006,"reputation":2445,"user_id":1710571,"accept_rate":100,"display_name":"Oscar Emilio Perez Martinez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661291259,"creation_date":1661291259,"answer_id":73465354,"question_id":3322152,"body_markdown":"Faced the same issue, here&#39;s solution using Kotlin extension\r\n\r\n       val String.stripAccents: String\r\n        get() = Regex(&quot;\\\\p{InCombiningDiacriticalMarks}+&quot;)\r\n            .replace(\r\n                Normalizer.normalize(this, Normalizer.Form.NFD),\r\n                &quot;&quot;\r\n            )\r\n\r\nusage\r\n\r\n    val textWithoutAccents = &quot;some accented string&quot;.stripAccents\r\n\r\n","title":"Is there a way to get rid of accents and convert a whole string to regular letters?","body":"<p>Faced the same issue, here's solution using Kotlin extension</p>\n<pre><code>   val String.stripAccents: String\n    get() = Regex(&quot;\\\\p{InCombiningDiacriticalMarks}+&quot;)\n        .replace(\n            Normalizer.normalize(this, Normalizer.Form.NFD),\n            &quot;&quot;\n        )\n</code></pre>\n<p>usage</p>\n<pre><code>val textWithoutAccents = &quot;some accented string&quot;.stripAccents\n</code></pre>\n"}],"owner":{"account_id":172342,"reputation":3485,"user_id":400314,"accept_rate":92,"display_name":"Martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231736,"favorite_count":0,"down_vote_count":0,"up_vote_count":323,"accepted_answer_id":3322174,"answer_count":15,"score":323,"last_activity_date":1678967987,"creation_date":1279917207,"question_id":3322152,"body_markdown":"Is there a better way for getting rid of accents and making those letters regular apart from using `String.replaceAll()` method and replacing letters one by one?\r\nExample:\r\n\r\nInput:  `orčpžs&#237;&#225;&#253;d`\r\n\r\nOutput: `orcpzsiayd`\r\n\r\nIt doesn&#39;t need to include all letters with accents like the Russian alphabet or the Chinese one.","title":"Is there a way to get rid of accents and convert a whole string to regular letters?","body":"<p>Is there a better way for getting rid of accents and making those letters regular apart from using <code>String.replaceAll()</code> method and replacing letters one by one?\nExample:</p>\n\n<p>Input:  <code>orčpžsíáýd</code></p>\n\n<p>Output: <code>orcpzsiayd</code></p>\n\n<p>It doesn't need to include all letters with accents like the Russian alphabet or the Chinese one.</p>\n"},{"tags":["javascript","java","ajax","spring-boot","spring-mvc"],"owner":{"account_id":13333332,"reputation":70,"user_id":9623930,"display_name":"Gudra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678967453,"creation_date":1678967453,"question_id":75755877,"body_markdown":"I&#39;m using Spring Boot and trying to add an element to a list which is an attribute of a DTO object I have as an @ModelAttribute, but said object isn&#39;t updating. My code:\r\n\r\nThe initial method on page load creates an object as a Model Attribute (and return the page view):\r\n```\t\r\n    @GetMapping(&quot;&quot;)\r\n\tpublic String inicio(Model model) {\r\n\t\tlog.debug(&quot;En el controller de casos&quot;);\r\n\t\tlog.debug(&quot;Creando nuevo caso&quot;);\r\n\t\tCasoDto caso = CasoDto.builder().build();\r\n\t\tmodel.addAttribute(&quot;caso&quot;, caso);\r\n\t\treturn CASO_VISTA;\r\n\t}\r\n```\r\n\r\nThis DTO is used in a Thymeleaf form as the th:object\r\n\r\nThen I have a button in a modal that invoques a JS function with the onClick event. Said function, which uses AJAX to run a method on the controller:\r\n```\r\nfunction crearDelito() {\r\n    console.log(&quot;crear delito&quot;);\r\n    var delitoCode = $(&quot;#delitoCode&quot;).val();\r\n    console.log(&quot;Val delito: &quot;+delitoCode);\r\n    \r\n    if (delitoCode !== &quot;&quot;) {\r\n        $.ajax({\r\n            url: &#39;/my/page/addDelito?delitoCode=&#39; + delitoCode,\r\n            success: function(result) {\r\n                console.log(&quot;Delito guardado correctamente&quot;)\r\n                $(&#39;#modalCrearDelito&#39;).modal(&#39;hide&#39;);\r\n            },\r\n            error: errorDelito()\r\n        });\r\n    } else { errorDelito() }\r\n}\r\n```\r\nwhere #delitoCode is an input I have in the modal. It does correctly call the controller method addDelito, which is:\r\n```\r\n\t@GetMapping(&quot;/addDelito&quot;)\r\n\t@ResponseBody\r\n\tpublic void addDelito(Model model, @ModelAttribute CasoDto caso, @RequestParam String delitoCode) {\r\n\t\tDelitoDto delito = DelitoDto.builder().delitoCode(delitoCode).build();\r\n\t\tlog.debug(&quot;Delito: {}&quot;, delito);\r\n\t\tlog.debug(&quot;Caso: {}&quot;, caso);\r\n\t\t\r\n\t\tcaso.getSubCaso().getDelitos().add(delito);\r\n\t\tlog.debug(&quot;Caso: {}&quot;, caso);\r\n        // Supposed to save but does nothing\r\n\t\tmodel.addAttribute(&quot;caso&quot;,caso);\r\n\t}\r\n```\r\nFor context, **CasoDto** has a field **SubCasoDto** that has a **List\\&lt;DelitoDto\\&gt; delitos** which are all correctly initialized thanks to @Builder.Default. That is where I&#39;m adding a new element. \r\n\r\nIn this method, I retrieve the model attribute &quot;caso&quot; of type CasoDto, which I asigned at load, and the RequestParam from the ajax method. I&#39;ll then create a DelitoDto with said parameter, and add it to a list of DelitoDto. Then, I try to resend the updated caso object to the model with .addAttribute()\r\n\r\nAnd there lies my problem. I can see the element added in the second log line, after the add, but when trying to add a second element, the first one is nowhere to be found. I suspect re-adding the CasoDto object as an attribute is not really working. I know the page isn&#39;t reloading thus creating a new, empty CasoDto. So what is my problem here? How can I make sure the list is persistent between adds? \r\n\r\nThank you in advance.","title":"Updating a ModelAttribute object after adding an element to its list","body":"<p>I'm using Spring Boot and trying to add an element to a list which is an attribute of a DTO object I have as an @ModelAttribute, but said object isn't updating. My code:</p>\n<p>The initial method on page load creates an object as a Model Attribute (and return the page view):</p>\n<pre><code>    @GetMapping(&quot;&quot;)\n    public String inicio(Model model) {\n        log.debug(&quot;En el controller de casos&quot;);\n        log.debug(&quot;Creando nuevo caso&quot;);\n        CasoDto caso = CasoDto.builder().build();\n        model.addAttribute(&quot;caso&quot;, caso);\n        return CASO_VISTA;\n    }\n</code></pre>\n<p>This DTO is used in a Thymeleaf form as the th:object</p>\n<p>Then I have a button in a modal that invoques a JS function with the onClick event. Said function, which uses AJAX to run a method on the controller:</p>\n<pre><code>function crearDelito() {\n    console.log(&quot;crear delito&quot;);\n    var delitoCode = $(&quot;#delitoCode&quot;).val();\n    console.log(&quot;Val delito: &quot;+delitoCode);\n    \n    if (delitoCode !== &quot;&quot;) {\n        $.ajax({\n            url: '/my/page/addDelito?delitoCode=' + delitoCode,\n            success: function(result) {\n                console.log(&quot;Delito guardado correctamente&quot;)\n                $('#modalCrearDelito').modal('hide');\n            },\n            error: errorDelito()\n        });\n    } else { errorDelito() }\n}\n</code></pre>\n<p>where #delitoCode is an input I have in the modal. It does correctly call the controller method addDelito, which is:</p>\n<pre><code>    @GetMapping(&quot;/addDelito&quot;)\n    @ResponseBody\n    public void addDelito(Model model, @ModelAttribute CasoDto caso, @RequestParam String delitoCode) {\n        DelitoDto delito = DelitoDto.builder().delitoCode(delitoCode).build();\n        log.debug(&quot;Delito: {}&quot;, delito);\n        log.debug(&quot;Caso: {}&quot;, caso);\n        \n        caso.getSubCaso().getDelitos().add(delito);\n        log.debug(&quot;Caso: {}&quot;, caso);\n        // Supposed to save but does nothing\n        model.addAttribute(&quot;caso&quot;,caso);\n    }\n</code></pre>\n<p>For context, <strong>CasoDto</strong> has a field <strong>SubCasoDto</strong> that has a <strong>List&lt;DelitoDto&gt; delitos</strong> which are all correctly initialized thanks to @Builder.Default. That is where I'm adding a new element.</p>\n<p>In this method, I retrieve the model attribute &quot;caso&quot; of type CasoDto, which I asigned at load, and the RequestParam from the ajax method. I'll then create a DelitoDto with said parameter, and add it to a list of DelitoDto. Then, I try to resend the updated caso object to the model with .addAttribute()</p>\n<p>And there lies my problem. I can see the element added in the second log line, after the add, but when trying to add a second element, the first one is nowhere to be found. I suspect re-adding the CasoDto object as an attribute is not really working. I know the page isn't reloading thus creating a new, empty CasoDto. So what is my problem here? How can I make sure the list is persistent between adds?</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","list","arraylist","indexing","64-bit"],"comments":[{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1678967278,"post_id":75755767,"comment_id":133637312,"body_markdown":"FWIW, actual arrays are limited to 2G entries by language definition, so any such ArrayList could not be based on a single array.","body":"FWIW, actual arrays are limited to 2G entries by language definition, so any such ArrayList could not be based on a single array."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1678967307,"post_id":75755767,"comment_id":133637324,"body_markdown":"ArrayList, [at least for now](https://openjdk.org/projects/valhalla/), can only contain objects. That means arraylist itself contains a sequence of pointers and they are likely to be 64-bit sized. The objects those things are pointing at then comprise generally at least 192 bits, unless your arraylist contains lots of `null` or the same reference repeated a lot. So, even the smallest one that requires 64-bit index (2^31 entries), you&#39;re looking at 2GB*32 = 64GB worth of RAM. __Which laptops still do not have__. So, I&#39;ll tell you: What you want? IS USELESS. For now. Give it a few years.","body":"ArrayList, <a href=\"https://openjdk.org/projects/valhalla/\" rel=\"nofollow noreferrer\">at least for now</a>, can only contain objects. That means arraylist itself contains a sequence of pointers and they are likely to be 64-bit sized. The objects those things are pointing at then comprise generally at least 192 bits, unless your arraylist contains lots of <code>null</code> or the same reference repeated a lot. So, even the smallest one that requires 64-bit index (2^31 entries), you&#39;re looking at 2GB*32 = 64GB worth of RAM. <b>Which laptops still do not have</b>. So, I&#39;ll tell you: What you want? IS USELESS. For now. Give it a few years."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1678967395,"post_id":75755767,"comment_id":133637343,"body_markdown":"A less-useless thing would be, specifically, a &#39;growable/shrinable list of bytes/floats/ints specifically&#39;, and those _do exist_.. I think. I&#39;ve done some quick web searches but I can&#39;t find it nor can I recollect the name of what I&#39;m vaguely remembering.","body":"A less-useless thing would be, specifically, a &#39;growable/shrinable list of bytes/floats/ints specifically&#39;, and those <i>do exist</i>.. I think. I&#39;ve done some quick web searches but I can&#39;t find it nor can I recollect the name of what I&#39;m vaguely remembering."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1678973752,"post_id":75755767,"comment_id":133639346,"body_markdown":"@rzwitserloot You might be thinking of something like Android&#39;s [SparseArray](https://developer.android.com/reference/android/util/SparseArray).","body":"@rzwitserloot You might be thinking of something like Android&#39;s <a href=\"https://developer.android.com/reference/android/util/SparseArray\" rel=\"nofollow noreferrer\">SparseArray</a>."}],"owner":{"account_id":3607184,"reputation":185,"user_id":3009097,"display_name":"user3009097"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678967778,"answer_count":0,"score":0,"last_activity_date":1678967169,"creation_date":1678966791,"question_id":75755767,"body_markdown":"Is there a class or a library which function just like ArrayList class in Java, but it use 64-bit index (```long```) and size?\r\n\r\nDon&#39;t say that it is useless or not needed. 10 years ago, people don&#39;t need 4GB of memory. Nowadays, laptops are having 8GB or even 16GB of memory. So ```int``` is no longer adequate.","title":"64-bit ArrayList for Java","body":"<p>Is there a class or a library which function just like ArrayList class in Java, but it use 64-bit index (<code>long</code>) and size?</p>\n<p>Don't say that it is useless or not needed. 10 years ago, people don't need 4GB of memory. Nowadays, laptops are having 8GB or even 16GB of memory. So <code>int</code> is no longer adequate.</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1678316636,"post_id":75676813,"comment_id":133511323,"body_markdown":"How are you reading in the publicProfile and then saving it after nulling out the state reference? As for &quot;instead of overwriting, as second state is created&quot; that seems like you are creating a new State instance instead of using and modifying the one already associated. Doing so, with orphan removal, should cause JPA to delete the existing state and create a new one with the new state. If you want to use the existing one and merge state overtop, make sure you are setting the entity ID values (if using REST/JSON) to ensure the entities can be matched up.","body":"How are you reading in the publicProfile and then saving it after nulling out the state reference? As for &quot;instead of overwriting, as second state is created&quot; that seems like you are creating a new State instance instead of using and modifying the one already associated. Doing so, with orphan removal, should cause JPA to delete the existing state and create a new one with the new state. If you want to use the existing one and merge state overtop, make sure you are setting the entity ID values (if using REST/JSON) to ensure the entities can be matched up."},{"owner":{"account_id":4107787,"reputation":1352,"user_id":3371251,"accept_rate":100,"display_name":"Paul"},"score":0,"creation_date":1678365727,"post_id":75676813,"comment_id":133520475,"body_markdown":"@Chris I have updated my topic. I am using &quot;@Transaction&quot; to save the entities. I explicity do not want to update the child. I want to create a new State instance and save only that new one in the database.","body":"@Chris I have updated my topic. I am using &quot;@Transaction&quot; to save the entities. I explicity do not want to update the child. I want to create a new State instance and save only that new one in the database."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1678376483,"post_id":75676813,"comment_id":133524060,"body_markdown":"What do you mean State cannot be deleted - what errors do you get, and what are you doing to &#39;try&#39; to delete a State instance?  How are you now getting this userEntity instance and how is JPA expected to pick up changes to it&#39;s referenced PublicProfileDancer and that graph? Are you intending to have JPA replace state with a new instance every time mapPublicUser is called and PublicProfileDancer already exists for that user?","body":"What do you mean State cannot be deleted - what errors do you get, and what are you doing to &#39;try&#39; to delete a State instance?  How are you now getting this userEntity instance and how is JPA expected to pick up changes to it&#39;s referenced PublicProfileDancer and that graph? Are you intending to have JPA replace state with a new instance every time mapPublicUser is called and PublicProfileDancer already exists for that user?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1678376697,"post_id":75676813,"comment_id":133524146,"body_markdown":"The map function in the answer is odd - it is nulling out the State&#39;s fk value, and you are then going to set the publicProfile.setState reference to a completely new State instance. If you are getting an error telling you a deleted object would be re-saved by a casade, it means you have other references to these objects in the question that you are not showing us. You CANNNOT mark something to be removed via orphan removal and leave other objects in your graph referencing it still that might have a cascade persist/merge on them.","body":"The map function in the answer is odd - it is nulling out the State&#39;s fk value, and you are then going to set the publicProfile.setState reference to a completely new State instance. If you are getting an error telling you a deleted object would be re-saved by a casade, it means you have other references to these objects in the question that you are not showing us. You CANNNOT mark something to be removed via orphan removal and leave other objects in your graph referencing it still that might have a cascade persist/merge on them."}],"answers":[{"tags":[],"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678357004,"creation_date":1678357004,"answer_id":75683201,"question_id":75676813,"body_markdown":"may be\r\n\r\n        public State map( StateDTO stateDTO, PublicProfileDancer publicDancer  ) {\r\n            if ( stateDTO == null ) return null;\r\n            if (publicDancer.getState() != null)     publicDancer.getState().setPublicProfileDancer(null);\r\n        \r\n            State stateEntity = new State();\r\n            stateEntity.setStatesID( stateDTO.getStatesID() );\r\n            stateEntity.setName( stateDTO.getName() );\r\n            stateEntity.setCountryId( stateDTO.getCountryId() );\r\n            stateEntity.setCountryName( stateDTO.getCountryName() );\r\n            stateEntity.setPublicProfileDancer( publicDancer );\r\n        \r\n            return stateEntity;\r\n        }","title":"OneToOne relationship does not delete child","body":"<p>may be</p>\n<pre><code>    public State map( StateDTO stateDTO, PublicProfileDancer publicDancer  ) {\n        if ( stateDTO == null ) return null;\n        if (publicDancer.getState() != null)     publicDancer.getState().setPublicProfileDancer(null);\n    \n        State stateEntity = new State();\n        stateEntity.setStatesID( stateDTO.getStatesID() );\n        stateEntity.setName( stateDTO.getName() );\n        stateEntity.setCountryId( stateDTO.getCountryId() );\n        stateEntity.setCountryName( stateDTO.getCountryName() );\n        stateEntity.setPublicProfileDancer( publicDancer );\n    \n        return stateEntity;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4107787,"reputation":1352,"user_id":3371251,"accept_rate":100,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678967146,"creation_date":1678967146,"answer_id":75755822,"question_id":75676813,"body_markdown":"It took a long time but I was able to solve it. I changed my entity &quot;State&quot; to `@MapsId` and adjusted my code as follows.\r\n\r\n    @Entity\r\n    @Table( name = &quot;publicProfileDancer&quot; )\r\n    @Data\r\n    public class PublicProfileDancer {\r\n    \r\n        @Id\r\n        private Long id;\r\n    \r\n        @OneToOne( mappedBy = &quot;publicProfileDancer&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true )\r\n        private State state;\r\n    \r\n        //... some more properties\r\n    }\r\n\r\nMy State class with the new `@MapsId` annotation:\r\n\r\n    @Entity\r\n    @Table( name = &quot;state&quot; )\r\n    @Data\r\n    @NoArgsConstructor\r\n    public class State {\r\n    \r\n        @Id\r\n        public Long id;\r\n    \r\n        @OneToOne( fetch = FetchType.LAZY )\r\n        @MapsId\r\n        private PublicProfileDancer publicProfileDancer;\r\n    \r\n        //... some more properties\r\n    }\r\n\r\nMy code:\r\n\r\n    publicProfile.setState( stateMapper.map( publicUserDTO.getState(), publicProfile ) );\r\n\r\nwith the stateMapper function:\r\n\r\n    public State map( StateDTO stateDTO, PublicProfileDancer publicDancer  ) {\r\n        if ( stateDTO == null ) {\r\n            if(publicDancer.getState() != null){\r\n                publicDancer.getState().setPublicProfileDancer( null );\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        State stateEntity;\r\n        if(publicDancer.getState() != null){\r\n            stateEntity = publicDancer.getState();\r\n        }else{\r\n            stateEntity = new State();\r\n        }\r\n    \r\n        stateEntity.setStatesID( stateDTO.getStatesID() );\r\n        stateEntity.setName( stateDTO.getName() );\r\n        stateEntity.setCountryId( stateDTO.getCountryId() );\r\n        stateEntity.setCountryName( stateDTO.getCountryName() );\r\n        stateEntity.setPublicProfileDancer( publicDancer );\r\n    \r\n        return stateEntity;\r\n    }\r\n\r\n","title":"OneToOne relationship does not delete child","body":"<p>It took a long time but I was able to solve it. I changed my entity &quot;State&quot; to <code>@MapsId</code> and adjusted my code as follows.</p>\n<pre><code>@Entity\n@Table( name = &quot;publicProfileDancer&quot; )\n@Data\npublic class PublicProfileDancer {\n\n    @Id\n    private Long id;\n\n    @OneToOne( mappedBy = &quot;publicProfileDancer&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true )\n    private State state;\n\n    //... some more properties\n}\n</code></pre>\n<p>My State class with the new <code>@MapsId</code> annotation:</p>\n<pre><code>@Entity\n@Table( name = &quot;state&quot; )\n@Data\n@NoArgsConstructor\npublic class State {\n\n    @Id\n    public Long id;\n\n    @OneToOne( fetch = FetchType.LAZY )\n    @MapsId\n    private PublicProfileDancer publicProfileDancer;\n\n    //... some more properties\n}\n</code></pre>\n<p>My code:</p>\n<pre><code>publicProfile.setState( stateMapper.map( publicUserDTO.getState(), publicProfile ) );\n</code></pre>\n<p>with the stateMapper function:</p>\n<pre><code>public State map( StateDTO stateDTO, PublicProfileDancer publicDancer  ) {\n    if ( stateDTO == null ) {\n        if(publicDancer.getState() != null){\n            publicDancer.getState().setPublicProfileDancer( null );\n        }\n        return null;\n    }\n\n    State stateEntity;\n    if(publicDancer.getState() != null){\n        stateEntity = publicDancer.getState();\n    }else{\n        stateEntity = new State();\n    }\n\n    stateEntity.setStatesID( stateDTO.getStatesID() );\n    stateEntity.setName( stateDTO.getName() );\n    stateEntity.setCountryId( stateDTO.getCountryId() );\n    stateEntity.setCountryName( stateDTO.getCountryName() );\n    stateEntity.setPublicProfileDancer( publicDancer );\n\n    return stateEntity;\n}\n</code></pre>\n"}],"owner":{"account_id":4107787,"reputation":1352,"user_id":3371251,"accept_rate":100,"display_name":"Paul"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75755822,"answer_count":2,"score":1,"last_activity_date":1678967146,"creation_date":1678299679,"question_id":75676813,"body_markdown":"After 6 hours of debuggin its time for stackoverflow X)\r\nI have the following classes:\r\n\r\n    @Entity\r\n    @Table( name = &quot;publicProfileDancer&quot; )\r\n    @Data\r\n    public class PublicProfileDancer {\r\n    \r\n        @Id\r\n        @GeneratedValue( strategy = GenerationType.AUTO )\r\n        private Long id;\r\n    \r\n        @OneToOne( mappedBy = &quot;publicProfileDancer&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true )\r\n        private State state;\r\n        ...\r\n    }\r\n\r\nand\r\n\r\n    @Entity\r\n    @Table( name = &quot;state&quot; )\r\n    @Data\r\n    @NoArgsConstructor\r\n    public class State {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        public Long id;\r\n    \r\n        @Basic\r\n        @Column( name = &quot;statesID&quot; )\r\n        private Long statesID;\r\n    \r\n        @Basic\r\n        @Column( name = &quot;name&quot; )\r\n        private String name;\r\n    \r\n        @OneToOne( fetch = FetchType.LAZY )\r\n        @JoinColumn( name = &quot;publicProfileDancer_id&quot; )\r\n        private PublicProfileDancer publicProfileDancer;\r\n    }\r\n\r\n**My Code:**\r\n\r\n    @Transaction\r\n    public User mapPublicUser( PublicUserDTO publicUserDTO, User userEntity ) {\r\n        if ( publicUserDTO == null ) return null;\r\n    \r\n        PublicProfileDancer publicProfile;\r\n        if(userEntity.getPublicProfileDancer() != null){\r\n            publicProfile = userEntity.getPublicProfileDancer();\r\n        }else{\r\n            publicProfile = new PublicProfileDancer();\r\n            publicProfile.setUser( userEntity );\r\n            userEntity.setPublicProfileDancer( publicProfile );\r\n        }\r\n    \r\n        publicProfile.setState( stateMapper.map( publicUserDTO.getState(), publicProfile ) );\r\n    \r\n        publicProfile.setValue1(&quot;Anthing else&quot;);\r\n        ... //some other column settings in publicProfile\r\n       \r\n        return userEntity;\r\n    }\r\n\r\nThis is the stateMapper:\r\n\r\n    public State map( StateDTO stateDTO, PublicProfileDancer publicDancer  ) {\r\n        if ( stateDTO == null ) return null;\r\n    \r\n        State stateEntity = new State();\r\n        stateEntity.setStatesID( stateDTO.getStatesID() );\r\n        stateEntity.setName( stateDTO.getName() );\r\n        stateEntity.setCountryId( stateDTO.getCountryId() );\r\n        stateEntity.setCountryName( stateDTO.getCountryName() );\r\n        stateEntity.setPublicProfileDancer( publicDancer );\r\n    \r\n        return stateEntity;\r\n    }\r\n\r\nThe code above works to save **ONE** state. \r\n\r\n**Two scenarios now:**\r\n\r\n**First**: I try to delete this state again with setting state to null:\r\n\r\n    publicProfile.setState( null ); //stateMapper would return null;\r\n\r\nI get the following error message:\r\n*javax.persistence.EntityNotFoundException: deleted object would be re-saved by cascade (remove deleted object from associations)*\r\n\r\n**Second**: I try to overwrite the state saved in the db with antoher state.\r\n\r\n    publicProfile.setState( state ); //stateMapper would return a new state\r\n\r\nI dont get an error message but I have two entries in the db.\r\n\r\nWhat is wrong?","title":"OneToOne relationship does not delete child","body":"<p>After 6 hours of debuggin its time for stackoverflow X)\nI have the following classes:</p>\n<pre><code>@Entity\n@Table( name = &quot;publicProfileDancer&quot; )\n@Data\npublic class PublicProfileDancer {\n\n    @Id\n    @GeneratedValue( strategy = GenerationType.AUTO )\n    private Long id;\n\n    @OneToOne( mappedBy = &quot;publicProfileDancer&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true )\n    private State state;\n    ...\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Entity\n@Table( name = &quot;state&quot; )\n@Data\n@NoArgsConstructor\npublic class State {\n\n    @Id\n    @GeneratedValue\n    public Long id;\n\n    @Basic\n    @Column( name = &quot;statesID&quot; )\n    private Long statesID;\n\n    @Basic\n    @Column( name = &quot;name&quot; )\n    private String name;\n\n    @OneToOne( fetch = FetchType.LAZY )\n    @JoinColumn( name = &quot;publicProfileDancer_id&quot; )\n    private PublicProfileDancer publicProfileDancer;\n}\n</code></pre>\n<p><strong>My Code:</strong></p>\n<pre><code>@Transaction\npublic User mapPublicUser( PublicUserDTO publicUserDTO, User userEntity ) {\n    if ( publicUserDTO == null ) return null;\n\n    PublicProfileDancer publicProfile;\n    if(userEntity.getPublicProfileDancer() != null){\n        publicProfile = userEntity.getPublicProfileDancer();\n    }else{\n        publicProfile = new PublicProfileDancer();\n        publicProfile.setUser( userEntity );\n        userEntity.setPublicProfileDancer( publicProfile );\n    }\n\n    publicProfile.setState( stateMapper.map( publicUserDTO.getState(), publicProfile ) );\n\n    publicProfile.setValue1(&quot;Anthing else&quot;);\n    ... //some other column settings in publicProfile\n   \n    return userEntity;\n}\n</code></pre>\n<p>This is the stateMapper:</p>\n<pre><code>public State map( StateDTO stateDTO, PublicProfileDancer publicDancer  ) {\n    if ( stateDTO == null ) return null;\n\n    State stateEntity = new State();\n    stateEntity.setStatesID( stateDTO.getStatesID() );\n    stateEntity.setName( stateDTO.getName() );\n    stateEntity.setCountryId( stateDTO.getCountryId() );\n    stateEntity.setCountryName( stateDTO.getCountryName() );\n    stateEntity.setPublicProfileDancer( publicDancer );\n\n    return stateEntity;\n}\n</code></pre>\n<p>The code above works to save <strong>ONE</strong> state.</p>\n<p><strong>Two scenarios now:</strong></p>\n<p><strong>First</strong>: I try to delete this state again with setting state to null:</p>\n<pre><code>publicProfile.setState( null ); //stateMapper would return null;\n</code></pre>\n<p>I get the following error message:\n<em>javax.persistence.EntityNotFoundException: deleted object would be re-saved by cascade (remove deleted object from associations)</em></p>\n<p><strong>Second</strong>: I try to overwrite the state saved in the db with antoher state.</p>\n<pre><code>publicProfile.setState( state ); //stateMapper would return a new state\n</code></pre>\n<p>I dont get an error message but I have two entries in the db.</p>\n<p>What is wrong?</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1678969008,"post_id":75755819,"comment_id":133637804,"body_markdown":"What you&#39;re doing recompiles the code, but doesn&#39;t hot-reload the classes in the server, I don&#39;t think gradle can do that out of the box. Spring boot, for example [has such a feature out of the box](https://docs.spring.io/spring-boot/docs/1.3.1.RELEASE/reference/html/howto-hotswapping.html). If you&#39;re not using that, you might have to look into settings for your IDE and/or application server.","body":"What you&#39;re doing recompiles the code, but doesn&#39;t hot-reload the classes in the server, I don&#39;t think gradle can do that out of the box. Spring boot, for example <a href=\"https://docs.spring.io/spring-boot/docs/1.3.1.RELEASE/reference/html/howto-hotswapping.html\" rel=\"nofollow noreferrer\">has such a feature out of the box</a>. If you&#39;re not using that, you might have to look into settings for your IDE and/or application server."}],"owner":{"account_id":104398,"reputation":4444,"user_id":279147,"accept_rate":50,"display_name":"Christopher Thomas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678967123,"creation_date":1678967123,"question_id":75755819,"body_markdown":"I would like to run a Gradle Java app but at the same time watch for code changes and recompile the app and make the changes immediately available like I do with nodejs applications.\r\n\r\nI have tried `gradle run -t -d` and on the console I can see it detects changes by saying\r\n\r\n```\r\n[org.gradle.internal.filewatch.jdk7.WatchServiceFileWatcherBacking] \r\nReceived file system event: FileWatcherEvent{type=MODIFY, file=/app/src/main/java/com...(etc)\r\n```\r\n\r\nHowever, when I try to hit the endpoint again so I can see the changes, it shows the old code and nothing seems to recompile.","title":"How to serve my Java app using Gradle so that code changes recompile and reload, like nodejs apps do","body":"<p>I would like to run a Gradle Java app but at the same time watch for code changes and recompile the app and make the changes immediately available like I do with nodejs applications.</p>\n<p>I have tried <code>gradle run -t -d</code> and on the console I can see it detects changes by saying</p>\n<pre><code>[org.gradle.internal.filewatch.jdk7.WatchServiceFileWatcherBacking] \nReceived file system event: FileWatcherEvent{type=MODIFY, file=/app/src/main/java/com...(etc)\n</code></pre>\n<p>However, when I try to hit the endpoint again so I can see the changes, it shows the old code and nothing seems to recompile.</p>\n"},{"tags":["java","testing","junit","jvm","version"],"answers":[{"tags":[],"owner":{"account_id":1811162,"reputation":1891,"user_id":1647211,"accept_rate":55,"display_name":"FirstName LastName"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1359412255,"creation_date":1359411840,"answer_id":14572355,"question_id":14572287,"body_markdown":"JUnit test cases are just a bunch of Java classes, not a standalone program. So they would still be confined within the same JVM. AFAIK there is no simple way to do what you intend to do. What you can do is separate the test cases into test suites for each java version you want to test for. Then change the java version in the project settings and run the appropriate test suites.\r\n\r\nAlso there is a junit.jvm property, but I am not sure if you can change it mid-execution. Have you taken a look at it?","title":"Testing different Java Versions in Junit","body":"<p>JUnit test cases are just a bunch of Java classes, not a standalone program. So they would still be confined within the same JVM. AFAIK there is no simple way to do what you intend to do. What you can do is separate the test cases into test suites for each java version you want to test for. Then change the java version in the project settings and run the appropriate test suites.</p>\n\n<p>Also there is a junit.jvm property, but I am not sure if you can change it mid-execution. Have you taken a look at it?</p>\n"},{"tags":[],"owner":{"account_id":1376,"reputation":61107,"user_id":1836,"accept_rate":90,"display_name":"Matthew Farwell"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1359415364,"creation_date":1359415364,"answer_id":14573109,"question_id":14572287,"body_markdown":"No, you&#39;ll have to run the JUnit tests multiple times with multiple VMs. You can then use [Assume][1] to only run the tests for the correct VM:\r\n\r\n    public void test1(){\r\n       // not compiled or tested\r\n       Assume.assumeThat(System.getProperty(&quot;java.version&quot;), CoreMatchers.startsWith(&quot;1.5&quot;));\r\n       run();\r\n    }\r\n    \r\n    public void test2(){\r\n       Assume.assumeThat(System.getProperty(&quot;java.version&quot;), CoreMatchers.startsWith(&quot;1.7&quot;));\r\n       run();\r\n    }\r\n\r\nPlease note that I haven&#39;t compiled this, so there may be errors. Then, in your build tool,  run these tests twice in two different VMs.\r\n\r\n\r\n  [1]: https://github.com/KentBeck/junit/blob/master/src/main/java/org/junit/Assume.java","title":"Testing different Java Versions in Junit","body":"<p>No, you'll have to run the JUnit tests multiple times with multiple VMs. You can then use <a href=\"https://github.com/KentBeck/junit/blob/master/src/main/java/org/junit/Assume.java\" rel=\"noreferrer\">Assume</a> to only run the tests for the correct VM:</p>\n\n<pre><code>public void test1(){\n   // not compiled or tested\n   Assume.assumeThat(System.getProperty(\"java.version\"), CoreMatchers.startsWith(\"1.5\"));\n   run();\n}\n\npublic void test2(){\n   Assume.assumeThat(System.getProperty(\"java.version\"), CoreMatchers.startsWith(\"1.7\"));\n   run();\n}\n</code></pre>\n\n<p>Please note that I haven't compiled this, so there may be errors. Then, in your build tool,  run these tests twice in two different VMs.</p>\n"},{"tags":[],"owner":{"account_id":2445,"reputation":27389,"user_id":3408,"accept_rate":51,"display_name":"rjmunro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646128707,"creation_date":1646128707,"answer_id":71306660,"question_id":14572287,"body_markdown":"On JUnit 5, you can use `EnabledOnJre` and `DisabledOnJre` annotations.\r\n\r\n```java\r\n  @EnabledOnJre(JRE.JAVA_8)\r\n  void testMyMethodInJava8() {\r\n     ...\r\n  }\r\n\r\n  @DisabledOnJre(JRE.JAVA_8)\r\n  void testMyMethodInOtherVersions() {\r\n     ...\r\n  }\r\n```\r\n\r\nYou can also apply these to a whole test class:\r\n\r\n```java\r\n@EnabledOnJre(JRE.JAVA_11)\r\npublic class MyClassTest {\r\n   ...\r\n}\r\n```\r\n\r\nYou still need to run the test suite separately for each JVM, but this allows you to skip the tests that will not work in one or the other.","title":"Testing different Java Versions in Junit","body":"<p>On JUnit 5, you can use <code>EnabledOnJre</code> and <code>DisabledOnJre</code> annotations.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @EnabledOnJre(JRE.JAVA_8)\n  void testMyMethodInJava8() {\n     ...\n  }\n\n  @DisabledOnJre(JRE.JAVA_8)\n  void testMyMethodInOtherVersions() {\n     ...\n  }\n</code></pre>\n<p>You can also apply these to a whole test class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnabledOnJre(JRE.JAVA_11)\npublic class MyClassTest {\n   ...\n}\n</code></pre>\n<p>You still need to run the test suite separately for each JVM, but this allows you to skip the tests that will not work in one or the other.</p>\n"},{"tags":[],"owner":{"account_id":28032277,"reputation":1,"user_id":21411278,"display_name":"Maycon Almeida"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678966983,"creation_date":1678966983,"answer_id":75755794,"question_id":14572287,"body_markdown":"Try this (JUnit 4 solution):\r\n\r\n    Assume.assumeTrue(System.getProperty(&quot;java.version&quot;).startsWith(&quot;1.8&quot;));","title":"Testing different Java Versions in Junit","body":"<p>Try this (JUnit 4 solution):</p>\n<pre><code>Assume.assumeTrue(System.getProperty(&quot;java.version&quot;).startsWith(&quot;1.8&quot;));\n</code></pre>\n"}],"owner":{"account_id":142682,"reputation":17410,"user_id":350542,"accept_rate":43,"display_name":"jayunit100"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3648,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":14573109,"answer_count":4,"score":7,"last_activity_date":1678966983,"creation_date":1359411611,"question_id":14572287,"body_markdown":"is there a way to specify the JVM version in a junit test, when multiple java types are available on an OS ?  \r\n\r\nI&#39;d like to do something like this: \r\n\r\n    @JVM=1.5\r\n    public void test1(){\r\n       run();\r\n    }\r\n\r\n    @JVM=1.7\r\n    public void test2(){\r\n       run();\r\n    }\r\n\r\n\r\netc..","title":"Testing different Java Versions in Junit","body":"<p>is there a way to specify the JVM version in a junit test, when multiple java types are available on an OS ?  </p>\n\n<p>I'd like to do something like this: </p>\n\n<pre><code>@JVM=1.5\npublic void test1(){\n   run();\n}\n\n@JVM=1.7\npublic void test2(){\n   run();\n}\n</code></pre>\n\n<p>etc..</p>\n"},{"tags":["java","docker","docker-compose","yaml"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1645804127,"post_id":71267929,"comment_id":125974736,"body_markdown":"That looks like you&#39;re using the original (&quot;version 1&quot;) Compose format, but current versions of Docker assume files are the current (&quot;version 3&quot;) format.  Does adding a leading line `version: &#39;3.8&#39;` and then putting this existing content under a `services:` block make it work?  Also see [Compose file version 3 reference](https://docs.docker.com/compose/compose-file/compose-file-v3/) in the Docker documentation for details on the file format.","body":"That looks like you&#39;re using the original (&quot;version 1&quot;) Compose format, but current versions of Docker assume files are the current (&quot;version 3&quot;) format.  Does adding a leading line <code>version: &#39;3.8&#39;</code> and then putting this existing content under a <code>services:</code> block make it work?  Also see <a href=\"https://docs.docker.com/compose/compose-file/compose-file-v3/\" rel=\"nofollow noreferrer\">Compose file version 3 reference</a> in the Docker documentation for details on the file format."}],"answers":[{"tags":[],"owner":{"account_id":18957993,"reputation":45,"user_id":13834169,"display_name":"bananaconda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645811277,"creation_date":1645811277,"answer_id":71269812,"question_id":71267929,"body_markdown":"```\r\nversion: &#39;2&#39;\r\n\r\nservices:\r\n  simulation:\r\n    build:\r\n      context: .\r\n      dockerfile: simulationDockerfile\r\n    environment:\r\n      - DISPLAY\r\n    expose:\r\n      - 12868\r\n      - 12869\r\n      - 12870\r\n      - 12871\r\n    volumes:\r\n      - /tmp/.X11-unix:/tmp/.X11-unix\r\n\r\n  monitor:\r\n    build:\r\n      context: .\r\n      dockerfile: monitorDockerfile\r\n    environment:\r\n      - DISPLAY\r\n    volumes:\r\n      - /tmp/.X11-unix:/tmp/.X11-unix\r\n    links:\r\n      - simulation\r\n\r\n```\r\n\r\nhad to make the following changes so make it work\r\n\r\nthanks @David Maze","title":"(root) Additional property monitor is not allowed - Docker compose","body":"<pre><code>version: '2'\n\nservices:\n  simulation:\n    build:\n      context: .\n      dockerfile: simulationDockerfile\n    environment:\n      - DISPLAY\n    expose:\n      - 12868\n      - 12869\n      - 12870\n      - 12871\n    volumes:\n      - /tmp/.X11-unix:/tmp/.X11-unix\n\n  monitor:\n    build:\n      context: .\n      dockerfile: monitorDockerfile\n    environment:\n      - DISPLAY\n    volumes:\n      - /tmp/.X11-unix:/tmp/.X11-unix\n    links:\n      - simulation\n\n</code></pre>\n<p>had to make the following changes so make it work</p>\n<p>thanks @David Maze</p>\n"},{"tags":[],"owner":{"account_id":14795454,"reputation":1996,"user_id":10685211,"display_name":"Musab Dogan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678966156,"creation_date":1678966156,"answer_id":75755656,"question_id":71267929,"body_markdown":"I&#39;m sharing with other peoples who can have a similar problem.\r\nCheck the spaces before names.\r\n\r\n    version: &#39;2&#39;    \r\n    services:\r\n      simulation:\r\n        build:\r\n          context:\r\n          dockerfile: simulationDockerfile\r\n        environment:\r\n          - DISPLAY\r\n        expose:\r\n          - 12868\r\n          - 12869\r\n          - 12870\r\n          - 12871\r\n        volumes:\r\n          - /tmp/.X11-unix:/tmp/.X11-unix\r\n    \r\n    monitor:  &lt;-- check the spaces before names\r\n        build:\r\n          context: .\r\n          dockerfile: monitorDockerfile\r\n        environment:\r\n          - DISPLAY\r\n        volumes:\r\n          - /tmp/.X11-unix:/tmp/.X11-unix\r\n        links:\r\n          - simulation\r\n\r\n","title":"(root) Additional property monitor is not allowed - Docker compose","body":"<p>I'm sharing with other peoples who can have a similar problem.\nCheck the spaces before names.</p>\n<pre><code>version: '2'    \nservices:\n  simulation:\n    build:\n      context:\n      dockerfile: simulationDockerfile\n    environment:\n      - DISPLAY\n    expose:\n      - 12868\n      - 12869\n      - 12870\n      - 12871\n    volumes:\n      - /tmp/.X11-unix:/tmp/.X11-unix\n\nmonitor:  &lt;-- check the spaces before names\n    build:\n      context: .\n      dockerfile: monitorDockerfile\n    environment:\n      - DISPLAY\n    volumes:\n      - /tmp/.X11-unix:/tmp/.X11-unix\n    links:\n      - simulation\n</code></pre>\n"}],"owner":{"account_id":18957993,"reputation":45,"user_id":13834169,"display_name":"bananaconda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2080,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678966156,"creation_date":1645802197,"question_id":71267929,"body_markdown":"i wanted to run this java app through docker:\r\nhttps://github.com/ByteHamster/PSE\r\n\r\nthe docker-compose.yml file looks like:\r\n```\r\nsimulation:\r\n  build: .\r\n  dockerfile: simulationDockerfile\r\n  environment:\r\n    - DISPLAY\r\n  expose:\r\n    - 12868\r\n    - 12869\r\n    - 12870\r\n    - 12871\r\n  volumes:\r\n    - /tmp/.X11-unix:/tmp/.X11-unix\r\n\r\nmonitor:\r\n  build: .\r\n  dockerfile: monitorDockerfile\r\n  environment:\r\n    - DISPLAY\r\n  volumes:\r\n    - /tmp/.X11-unix:/tmp/.X11-unix\r\n  links:\r\n    - simulation\r\n```\r\n\r\n\r\n\r\nwhen i run docker-compose build i get this error message:\r\n(root) Additional property monitor is not allowed\r\n\r\nwhat is the valid yml to make this program run?\r\n\r\nthanks guys\r\n","title":"(root) Additional property monitor is not allowed - Docker compose","body":"<p>i wanted to run this java app through docker:\n<a href=\"https://github.com/ByteHamster/PSE\" rel=\"nofollow noreferrer\">https://github.com/ByteHamster/PSE</a></p>\n<p>the docker-compose.yml file looks like:</p>\n<pre><code>simulation:\n  build: .\n  dockerfile: simulationDockerfile\n  environment:\n    - DISPLAY\n  expose:\n    - 12868\n    - 12869\n    - 12870\n    - 12871\n  volumes:\n    - /tmp/.X11-unix:/tmp/.X11-unix\n\nmonitor:\n  build: .\n  dockerfile: monitorDockerfile\n  environment:\n    - DISPLAY\n  volumes:\n    - /tmp/.X11-unix:/tmp/.X11-unix\n  links:\n    - simulation\n</code></pre>\n<p>when i run docker-compose build i get this error message:\n(root) Additional property monitor is not allowed</p>\n<p>what is the valid yml to make this program run?</p>\n<p>thanks guys</p>\n"},{"tags":["java","excel"],"comments":[{"owner":{"account_id":16374574,"reputation":841,"user_id":11827059,"display_name":"ENIAC"},"score":0,"creation_date":1678985846,"post_id":75754984,"comment_id":133643354,"body_markdown":"I don&#39;t know `Java` but maybe it&#39;s possible to insert zeros to the set items, make them of equal length, then, sort the set, and, finally, remove the inserted zeros? So, the set temporary becomes `[..., 12, 01, 02, ...]`.","body":"I don&#39;t know <code>Java</code> but maybe it&#39;s possible to insert zeros to the set items, make them of equal length, then, sort the set, and, finally, remove the inserted zeros? So, the set temporary becomes <code>[..., 12, 01, 02, ...]</code>."}],"owner":{"account_id":5969613,"reputation":21,"user_id":4692322,"display_name":"Razza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678966116,"creation_date":1678962797,"question_id":75754984,"body_markdown":"I have a variable number of indexed lists where each list contains 8 parameters relating to particular type of luminaire. I am attempting to save the lists to an Excel spreadsheet where each row in the spreadsheet contains one list and the rows are in the same order as the lists.\r\n\r\nThis works just fine as long as there are no more than 9 lists.  If there are say, 12 lists, they will be stored in the order of list 1,10,11,12,2,3,4,5,6,7,8,9.\r\n\r\nI have been unable to find a way around this to enable the lists to be saved in numerical order rather than alphabetical order.  The issue is that the &quot;Set\\&lt;String\\&gt; keyid = data.keySet()&quot; line returns \\[1, 10, 11, 12, 2, 3, 4, 5, 6, 7, 8, 9\\] so that is the order in which the lists are added to the rows in the spreadsheet.\r\n\r\nBelow is my code, any help would be most appreciated.\r\n\r\n```\r\ntry {\r\n\t\t\t\r\n    XSSFWorkbook workbook = new XSSFWorkbook();\r\n    XSSFSheet spreadsheet = workbook.createSheet(&quot;Luminaire Library&quot;);\r\n    XSSFRow row;\r\n\t\t\t\t\r\n    Map&lt;String, Object[]&gt; data = new TreeMap&lt;String, Object[]&gt;();\r\n\r\n    index = Integer.toString(1);\t\t\t\t\r\n    data.put(index, new Object[]{&quot;Name&quot;, &quot;Model Number&quot;, &quot;Wattage&quot;, &quot;PPE&quot;, &quot;PPF&quot;, &quot;Spectrum&quot;, &quot;Coverage&quot; ,&quot;Icon Image&quot;});\r\n\t\t\t\t\t\t\t\t\r\n    for (int x = 0 ; x &lt;= Main.lampList.size() - 1; x++) {\t\t\r\n\r\n        Main.lamps = Main.lampList.get(x);\r\n\t\t\t\t\t\r\n\timageFile = Main.lamps.iconFile;\r\n\tlampModel = Main.lamps.iconModel;\r\n\tlampName = Main.lamps.iconName;\r\n\twattage = Main.lamps.iconPower;\r\n\tppe = Main.lamps.iconPPE;\r\n\tppf = Main.lamps.iconPPF;\r\n\tspectrum = Main.lamps.spectrum;\r\n\tcoverage = Main.lamps.coverage;\r\n\t\t\t\t\t\r\n\tindex = Integer.toString(x + 2);\r\n\t\t\t\t\t\t\t\t\t\t\r\n\tdata.put(index, new Object[]{lampName, lampModel, wattage, ppe, ppf, spectrum, coverage, imageFile});\r\n\r\n    }\r\n    Set&lt;String&gt; keyid = data.keySet();\r\n\t\t\t\t\t\t\t\t\r\n    int rowid = 0;\r\n\t\t\t\t\r\n    for (String key : keyid) \r\n    {\r\n\trow = spreadsheet.createRow(rowid++);\r\n\t\t\t\t\t\r\n\tObject[] objArr = data.get(key);\t\t\t\t\t\r\n\t\t\t\t\t\r\n\tint cellid = 0;\r\n\r\n\tfor (Object obj : objArr) \r\n\t{\t\r\n        \tCell cell = row.createCell(cellid++);\r\n\t\tif (obj instanceof String) \r\n\t\t{\r\n        \t\tcell.setCellValue((String) obj);\r\n\t\t}\r\n\t\telse if (obj instanceof Integer) \r\n\t\t{\r\n\t\t\tcell.setCellValue((Integer) obj);\r\n        \t}\r\n        }\r\n    }\r\n\t\t\t\t\r\n    try \r\n    {\r\n        FileOutputStream out = new FileOutputStream(new File(outputFilePath));\r\n        workbook.write(out);\r\n        out.close();\r\n    } \r\n    catch (Exception e)\r\n    {\r\n        e.printStackTrace();\r\n    }\r\n    workbook.close();\r\n}\r\ncatch (Exception e) {\r\n    e.printStackTrace();\r\n}\t\t\r\n```","title":"Save data to spreadsheet in numerical order","body":"<p>I have a variable number of indexed lists where each list contains 8 parameters relating to particular type of luminaire. I am attempting to save the lists to an Excel spreadsheet where each row in the spreadsheet contains one list and the rows are in the same order as the lists.</p>\n<p>This works just fine as long as there are no more than 9 lists.  If there are say, 12 lists, they will be stored in the order of list 1,10,11,12,2,3,4,5,6,7,8,9.</p>\n<p>I have been unable to find a way around this to enable the lists to be saved in numerical order rather than alphabetical order.  The issue is that the &quot;Set&lt;String&gt; keyid = data.keySet()&quot; line returns [1, 10, 11, 12, 2, 3, 4, 5, 6, 7, 8, 9] so that is the order in which the lists are added to the rows in the spreadsheet.</p>\n<p>Below is my code, any help would be most appreciated.</p>\n<pre><code>try {\n            \n    XSSFWorkbook workbook = new XSSFWorkbook();\n    XSSFSheet spreadsheet = workbook.createSheet(&quot;Luminaire Library&quot;);\n    XSSFRow row;\n                \n    Map&lt;String, Object[]&gt; data = new TreeMap&lt;String, Object[]&gt;();\n\n    index = Integer.toString(1);                \n    data.put(index, new Object[]{&quot;Name&quot;, &quot;Model Number&quot;, &quot;Wattage&quot;, &quot;PPE&quot;, &quot;PPF&quot;, &quot;Spectrum&quot;, &quot;Coverage&quot; ,&quot;Icon Image&quot;});\n                                \n    for (int x = 0 ; x &lt;= Main.lampList.size() - 1; x++) {      \n\n        Main.lamps = Main.lampList.get(x);\n                    \n    imageFile = Main.lamps.iconFile;\n    lampModel = Main.lamps.iconModel;\n    lampName = Main.lamps.iconName;\n    wattage = Main.lamps.iconPower;\n    ppe = Main.lamps.iconPPE;\n    ppf = Main.lamps.iconPPF;\n    spectrum = Main.lamps.spectrum;\n    coverage = Main.lamps.coverage;\n                    \n    index = Integer.toString(x + 2);\n                                        \n    data.put(index, new Object[]{lampName, lampModel, wattage, ppe, ppf, spectrum, coverage, imageFile});\n\n    }\n    Set&lt;String&gt; keyid = data.keySet();\n                                \n    int rowid = 0;\n                \n    for (String key : keyid) \n    {\n    row = spreadsheet.createRow(rowid++);\n                    \n    Object[] objArr = data.get(key);                    \n                    \n    int cellid = 0;\n\n    for (Object obj : objArr) \n    {   \n            Cell cell = row.createCell(cellid++);\n        if (obj instanceof String) \n        {\n                cell.setCellValue((String) obj);\n        }\n        else if (obj instanceof Integer) \n        {\n            cell.setCellValue((Integer) obj);\n            }\n        }\n    }\n                \n    try \n    {\n        FileOutputStream out = new FileOutputStream(new File(outputFilePath));\n        workbook.write(out);\n        out.close();\n    } \n    catch (Exception e)\n    {\n        e.printStackTrace();\n    }\n    workbook.close();\n}\ncatch (Exception e) {\n    e.printStackTrace();\n}       \n</code></pre>\n"},{"tags":["java","amazon-web-services","redis","karate","redisson"],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678966073,"creation_date":1678966073,"answer_id":75755638,"question_id":75754928,"body_markdown":"Karate&#39;s mocking is specialized for HTTP request mocking. So I think you may need to explore Java unit-mocking tech for e.g. Mockito or something similar. If redis has HTTP end-points it may be possible to stub those out completely using Karate but you need to take a call on whether that effort is worth it. My gut feel is you may be better off using a &quot;real&quot; redis instance and figuring out something like Docker to boot it on-demand for your test runs.","title":"How to mock elasticcache(redis) server in Karate using FeatureServer","body":"<p>Karate's mocking is specialized for HTTP request mocking. So I think you may need to explore Java unit-mocking tech for e.g. Mockito or something similar. If redis has HTTP end-points it may be possible to stub those out completely using Karate but you need to take a call on whether that effort is worth it. My gut feel is you may be better off using a &quot;real&quot; redis instance and figuring out something like Docker to boot it on-demand for your test runs.</p>\n"}],"owner":{"account_id":1410257,"reputation":2118,"user_id":1337007,"accept_rate":72,"display_name":"ghostrider"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678966073,"creation_date":1678962573,"question_id":75754928,"body_markdown":"I am having `redis` hosted on AWS using `Elastic Cache`. I am using `Redisson` library as a client to access the redis. I am using apis like `getAll()` etc to query the cache. I am using endpoint like below in the client. My doubt is how do I test this in `karate bdd`? I am aware of creating feature servers and configuring mock responses for http endpoints. But in case of reddit I am not sure how to proceed further. Is there any way to mock elastic cache redis server for bdd?\r\n\r\n\r\n`redis/elastic-cache endpoint` : rediss://app-elasticcache-abc-info-001.app-elasticcache-abc-info:6190\r\n\r\n\r\n","title":"How to mock elasticcache(redis) server in Karate using FeatureServer","body":"<p>I am having <code>redis</code> hosted on AWS using <code>Elastic Cache</code>. I am using <code>Redisson</code> library as a client to access the redis. I am using apis like <code>getAll()</code> etc to query the cache. I am using endpoint like below in the client. My doubt is how do I test this in <code>karate bdd</code>? I am aware of creating feature servers and configuring mock responses for http endpoints. But in case of reddit I am not sure how to proceed further. Is there any way to mock elastic cache redis server for bdd?</p>\n<p><code>redis/elastic-cache endpoint</code> : rediss://app-elasticcache-abc-info-001.app-elasticcache-abc-info:6190</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":19211594,"reputation":1477,"user_id":14037302,"display_name":"sweak"},"score":0,"creation_date":1678966040,"post_id":75755591,"comment_id":133636970,"body_markdown":"Does this answer your question? [How to make my service only run in one instance in multiple user android system?](https://stackoverflow.com/questions/43081137/how-to-make-my-service-only-run-in-one-instance-in-multiple-user-android-system)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/43081137/how-to-make-my-service-only-run-in-one-instance-in-multiple-user-android-system\">How to make my service only run in one instance in multiple user android system?</a>"},{"owner":{"account_id":3280983,"reputation":13,"user_id":2761603,"display_name":"user2761603"},"score":0,"creation_date":1678967890,"post_id":75755591,"comment_id":133637490,"body_markdown":"how to make an app system app, installing in SYSTEM user makes app system app??","body":"how to make an app system app, installing in SYSTEM user makes app system app??"}],"owner":{"account_id":3280983,"reputation":13,"user_id":2761603,"display_name":"user2761603"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678965837,"creation_date":1678965837,"question_id":75755591,"body_markdown":"```\r\n\r\nandroid_app {\r\n    name: &quot;ClusterEditModeService&quot;,\r\n    //proprietary: true, true means vendor\r\n    product_specific: true,\r\n    srcs: [\r\n        &quot;java/**/*.java&quot;,\r\n \r\n```\r\n\r\n\\`id=&quot;http://schemas.android.com/apk/res/android&quot;\r\npackage=&quot;com.harman.clustereditmode&quot;\r\nandroid:sharedUserId=&quot;android.uid.system&quot;\\&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERACT_ACROSS_USERS&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERACT_ACROSS_USERS_FULL&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_USERS&quot;/&gt;\r\n    \r\n    &lt;application android:label=&quot;@string/app_name&quot;\r\n        android:persistent=&quot;true&quot;\r\n        android:enabled=&quot;true&quot;&gt;\r\n        &lt;uses-library android:name=&quot;Clustereditmode_aidl&quot; /&gt;\r\n        &lt;service android:name=&quot;.ClustereditmodeService&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:singleUser=&quot;true&quot;&gt;\r\n        &lt;/service&gt;\r\n    \r\n        &lt;receiver android:name=&quot;.BootCompleteReceiver&quot;\r\n                android:singleUser=&quot;true&quot;\r\n                android:enabled=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot;/&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.ACTION_USER_SWITCHED&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n    &lt;/application&gt;\r\n\r\n\\&lt;/manifest\\&gt;\\`\r\n\r\nAbove are my files content.","title":"android:singleuser=1 not working correctly , multiple service for multiple user getting created","body":"<pre><code>\nandroid_app {\n    name: &quot;ClusterEditModeService&quot;,\n    //proprietary: true, true means vendor\n    product_specific: true,\n    srcs: [\n        &quot;java/**/*.java&quot;,\n \n</code></pre>\n<p>`id=&quot;http://schemas.android.com/apk/res/android&quot;\npackage=&quot;com.harman.clustereditmode&quot;\nandroid:sharedUserId=&quot;android.uid.system&quot;&gt;</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERACT_ACROSS_USERS&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERACT_ACROSS_USERS_FULL&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.MANAGE_USERS&quot;/&gt;\n\n&lt;application android:label=&quot;@string/app_name&quot;\n    android:persistent=&quot;true&quot;\n    android:enabled=&quot;true&quot;&gt;\n    &lt;uses-library android:name=&quot;Clustereditmode_aidl&quot; /&gt;\n    &lt;service android:name=&quot;.ClustereditmodeService&quot;\n        android:enabled=&quot;true&quot;\n        android:exported=&quot;true&quot;\n        android:singleUser=&quot;true&quot;&gt;\n    &lt;/service&gt;\n\n    &lt;receiver android:name=&quot;.BootCompleteReceiver&quot;\n            android:singleUser=&quot;true&quot;\n            android:enabled=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot;/&gt;\n                &lt;action android:name=&quot;android.intent.action.ACTION_USER_SWITCHED&quot;/&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n&lt;/application&gt;\n</code></pre>\n<p>&lt;/manifest&gt;`</p>\n<p>Above are my files content.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":179998,"reputation":5576,"user_id":413032,"accept_rate":59,"display_name":"Davut G&#252;rb&#252;z"},"score":0,"creation_date":1366462609,"post_id":2491730,"comment_id":23024423,"body_markdown":"http://stackoverflow.com/a/6167414/413032","body":"<a href=\"http://stackoverflow.com/a/6167414/413032\">stackoverflow.com/a/6167414/413032</a>"}],"answers":[{"tags":[],"owner":{"account_id":111963,"reputation":7937,"user_id":295525,"accept_rate":70,"display_name":"lbedogni"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1269256925,"creation_date":1269256925,"answer_id":2491742,"question_id":2491730,"body_markdown":"You can try:\r\n\r\n - [Omondo][1]\r\n - [Eclipse Modeling][2]\r\n\r\n\r\n  [1]: http://www.uml2.org/\r\n  [2]: http://www.eclipse.org/modeling/mdt/?project=uml2","title":"Class Diagram in Eclipse","body":"<p>You can try:</p>\n\n<ul>\n<li><a href=\"http://www.uml2.org/\" rel=\"nofollow noreferrer\">Omondo</a></li>\n<li><a href=\"http://www.eclipse.org/modeling/mdt/?project=uml2\" rel=\"nofollow noreferrer\">Eclipse Modeling</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":26091,"reputation":178004,"user_id":67606,"accept_rate":78,"display_name":"Pablo Santa Cruz"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1269256935,"creation_date":1269256935,"answer_id":2491745,"question_id":2491730,"body_markdown":"You can browse UML plugins [here][1].\r\n\r\nYou can also check [previous][2] stackoverflow questions covering the same topic.\r\n\r\n\r\n  [1]: http://eclipse-plugins.2y.net/eclipse/plugins.jsp?category=UML\r\n  [2]: https://stackoverflow.com/questions/390438/good-free-uml-tool-for-java-eclipse","title":"Class Diagram in Eclipse","body":"<p>You can browse UML plugins <a href=\"http://eclipse-plugins.2y.net/eclipse/plugins.jsp?category=UML\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>You can also check <a href=\"https://stackoverflow.com/questions/390438/good-free-uml-tool-for-java-eclipse\">previous</a> stackoverflow questions covering the same topic.</p>\n"},{"tags":[],"owner":{"account_id":58469,"reputation":12310,"user_id":175051,"accept_rate":85,"display_name":"Mark Mayo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1269256952,"creation_date":1269256952,"answer_id":2491748,"question_id":2491730,"body_markdown":"You could try [http://marketplace.eclipse.org/content/amaterasuml][1] which is an Eclipse plugin for class diagrams, sequence diagrams and usecase diagrams.  It was updated in 2009.\r\n\r\n\r\n  [1]: http://marketplace.eclipse.org/content/amaterasuml &quot;http://marketplace.eclipse.org/content/amaterasuml&quot;","title":"Class Diagram in Eclipse","body":"<p>You could try <a href=\"http://marketplace.eclipse.org/content/amaterasuml\" rel=\"nofollow noreferrer\" title=\"http://marketplace.eclipse.org/content/amaterasuml\">http://marketplace.eclipse.org/content/amaterasuml</a> which is an Eclipse plugin for class diagrams, sequence diagrams and usecase diagrams.  It was updated in 2009.</p>\n"},{"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678965593,"creation_date":1269264434,"answer_id":2492515,"question_id":2491730,"body_markdown":"I like [ObjectAid][1]. \r\n\r\nHere is a screenshot (from their homepage) of an example of a class diagrams it can produce:\r\n\r\n[![Class diagram screenshot][2]][2]  \n&lt;sub&gt;(source: [objectaid.com](http://www.objectaid.com/images/complete-diagram.png))&lt;/sub&gt;  \n\r\n\r\n\r\n  [1]: http://www.objectaid.com/\r\n  [2]: https://i.stack.imgur.com/dKDrh.png","title":"Class Diagram in Eclipse","body":"<p>I like <a href=\"http://www.objectaid.com/\" rel=\"nofollow noreferrer\">ObjectAid</a>.</p>\n<p>Here is a screenshot (from their homepage) of an example of a class diagrams it can produce:</p>\n<p><a href=\"https://i.stack.imgur.com/dKDrh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dKDrh.png\" alt=\"Class diagram screenshot\" /></a><br />\n<sub>(source: <a href=\"http://www.objectaid.com/images/complete-diagram.png\" rel=\"nofollow noreferrer\">objectaid.com</a>)</sub></p>\n"}],"owner":{"account_id":33908,"reputation":26026,"user_id":95309,"accept_rate":95,"display_name":"Claus J&#248;rgensen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24814,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"closed_date":1378475820,"accepted_answer_id":2491742,"answer_count":4,"score":12,"last_activity_date":1678965593,"creation_date":1269256807,"question_id":2491730,"body_markdown":"Is there a Visual Studio like plugin for Eclipse that will allow me create a class-diagram ?\r\n\r\nPreferable something that is actually up to date. Most of what Google finds is dead projects who haven&#39;t been updated in 2-6 years. ","title":"Class Diagram in Eclipse","body":"<p>Is there a Visual Studio like plugin for Eclipse that will allow me create a class-diagram ?</p>\n\n<p>Preferable something that is actually up to date. Most of what Google finds is dead projects who haven't been updated in 2-6 years. </p>\n"},{"tags":["java","soap","weblogic","jpeg","datahandler"],"comments":[{"owner":{"account_id":2432789,"reputation":984,"user_id":2123347,"accept_rate":50,"display_name":"JHDev"},"score":0,"creation_date":1606423543,"post_id":65028006,"comment_id":114965949,"body_markdown":"Please add some details and code to better understand your question","body":"Please add some details and code to better understand your question"},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1606478056,"post_id":65028006,"comment_id":114979314,"body_markdown":"*&quot;Caused by: java.io.IOException: Unable to encode the image to a stream ImageDataContentHandler requires Image object, was given object of type class java.io.FileInputStream&quot;* -- seems to be the problem right there?","body":"<i>&quot;Caused by: java.io.IOException: Unable to encode the image to a stream ImageDataContentHandler requires Image object, was given object of type class java.io.FileInputStream&quot;</i> -- seems to be the problem right there?"},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1678962844,"post_id":65028006,"comment_id":133636004,"body_markdown":"(Type listed here: [`DataHandlerAttachment`](http://javadox.com/com.sun.xml.ws/jaxws-rt/2.2.8/com/sun/xml/ws/message/DataHandlerAttachment.html) (`com.sun.xml.ws.message.DataHandlerAttachment`))","body":"(Type listed here: <a href=\"http://javadox.com/com.sun.xml.ws/jaxws-rt/2.2.8/com/sun/xml/ws/message/DataHandlerAttachment.html\" rel=\"nofollow noreferrer\"><code>DataHandlerAttachment</code></a> (<code>com.sun.xml.ws.message.DataHandlerAttachment</code>))"}],"owner":{"account_id":6689755,"reputation":11,"user_id":5159592,"display_name":"sametk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1678964651,"creation_date":1606417907,"question_id":65028006,"body_markdown":"I got a problem to send a JPEG image on datahandler on a web service. This issue seems to be only for JPEG files, not other types. Somehow when I try to send via the web service, the same method can&#39;t find the file and shows an *IOException*.\r\n\r\n```lang-none\r\nInputStream\r\n  at com.hp.mps.onlinetransactions.actions.SikayetAction.generalErrorMessageForSrOperation(SikayetAction.java:477)\r\n  at com.hp.mps.onlinetransactions.actions.SikayetAction.process(SikayetAction.java:248)\r\n  at com.hp.mps.common.base.MPSBaseAction.execute(MPSBaseAction.java:708)\r\n  at com.hp.mps.infrastructure.mvc.ControllingServlet.chainProcess(ControllingServlet.java:1000)\r\n  at com.hp.mps.infrastructure.mvc.ControllingServlet.service(ControllingServlet.java:654)\r\n  at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\r\n  at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:227)\r\n  at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:125)\r\n  at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:301)\r\n  at weblogic.servlet.internal.TailFilter.doFilter(TailFilter.java:26)\r\n  at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:60)\r\n  at com.hp.mps.common.util.DoubleSubmitFilter.doFilter(DoubleSubmitFilter.java:86)\r\n  at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:60)\r\n  at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3748)\r\n  at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3714)\r\n  at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\r\n  at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:120)\r\n  at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2283)\r\n  at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2182)\r\n  at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1499)\r\n  at weblogic.work.ExecuteThread.execute(ExecuteThread.java:263)\r\n  at weblogic.work.ExecuteThread.run(ExecuteThread.java:221)\r\nCaused by: java.io.IOException: Unable to encode the image to a stream ImageDataContentHandler requires Image object, was given object of type class java.io.FileInputStream\r\n  at com.sun.xml.ws.encoding.ImageDataContentHandler.writeTo(ImageDataContentHandler.java:174)\r\n  at   .DataHandlerAttachment.writeTo(DataHandlerAttachment.java:122)\r\n  at com.sun.xml.ws.encoding.MimeCodec.encode(MimeCodec.java:155)\r\n  at com.sun.xml.ws.encoding.SwACodec.encode(SwACodec.java:57)\r\n  at com.sun.xml.ws.encoding.SOAPBindingCodec.encode(SOAPBindingCodec.java:261)\r\n  at com.sun.xml.ws.transport.http.client.HttpTransportPipe.process(HttpTransportPipe.java:189)\r\n  at com.sun.xml.ws.transport.http.client.HttpTransportPipe.processRequest(HttpTransportPipe.java:124)\r\n  at com.sun.xml.ws.transport.DeferredTransportPipe.processRequest(DeferredTransportPipe.java:118)\r\n  at com.sun.xml.ws.api.pipe.Fiber.__doRun(Fiber.java:866)\r\n  at com.sun.xml.ws.api.pipe.Fiber._doRun(Fiber.java:815)\r\n  at com.sun.xml.ws.api.pipe.Fiber.doRun(Fiber.java:778)\r\n  at com.sun.xml.ws.api.pipe.Fiber.runSync(Fiber.java:680)\r\n  at com.sun.xml.ws.client.Stub.process(Stub.java:272)\r\n  at com.sun.xml.ws.client.sei.SEIStub.doProcess(SEIStub.java:153)\r\n  at com.sun.xml.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:115)\r\n  at com.sun.xml.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:95)\r\n  at com.sun.xml.ws.client.sei.SEIStub.invoke(SEIStub.java:136)\r\n  at com.sun.proxy.$Proxy427.saveFile(Unknown Source)\r\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n  at java.lang.reflect.Method.invoke(Method.java:597)\r\n  at weblogic.wsee.jaxws.spi.ClientInstanceInvocationHandler.invoke(ClientInstanceInvocationHandler.java:84)\r\n  at com.sun.proxy.$Proxy236.saveFile(Unknown Source)\r\n  at com.hp.mps.onlinetransactions.beans.SikayetFileOperationsBean.saveFile(SikayetFileOperationsBean.java:66)\r\n  at com.hp.mps.onlinetransactions.actions.SikayetAction.getDocIdFromFileServer(SikayetAction.java:317)\r\n  at com.hp.mps.onlinetransactions.actions.SikayetAction.fillDocumentMap(SikayetAction.java:259)\r\n  at com.hp.mps.onlinetransactions.actions.SikayetAction.process(SikayetAction.java:209)\r\n  ... 20 more\r\n```\r\n\r\n","title":"Send a file with SOAP DataHandler","body":"<p>I got a problem to send a JPEG image on datahandler on a web service. This issue seems to be only for JPEG files, not other types. Somehow when I try to send via the web service, the same method can't find the file and shows an <em>IOException</em>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>InputStream\n  at com.hp.mps.onlinetransactions.actions.SikayetAction.generalErrorMessageForSrOperation(SikayetAction.java:477)\n  at com.hp.mps.onlinetransactions.actions.SikayetAction.process(SikayetAction.java:248)\n  at com.hp.mps.common.base.MPSBaseAction.execute(MPSBaseAction.java:708)\n  at com.hp.mps.infrastructure.mvc.ControllingServlet.chainProcess(ControllingServlet.java:1000)\n  at com.hp.mps.infrastructure.mvc.ControllingServlet.service(ControllingServlet.java:654)\n  at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\n  at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:227)\n  at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:125)\n  at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:301)\n  at weblogic.servlet.internal.TailFilter.doFilter(TailFilter.java:26)\n  at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:60)\n  at com.hp.mps.common.util.DoubleSubmitFilter.doFilter(DoubleSubmitFilter.java:86)\n  at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:60)\n  at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3748)\n  at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3714)\n  at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\n  at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:120)\n  at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2283)\n  at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2182)\n  at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1499)\n  at weblogic.work.ExecuteThread.execute(ExecuteThread.java:263)\n  at weblogic.work.ExecuteThread.run(ExecuteThread.java:221)\nCaused by: java.io.IOException: Unable to encode the image to a stream ImageDataContentHandler requires Image object, was given object of type class java.io.FileInputStream\n  at com.sun.xml.ws.encoding.ImageDataContentHandler.writeTo(ImageDataContentHandler.java:174)\n  at   .DataHandlerAttachment.writeTo(DataHandlerAttachment.java:122)\n  at com.sun.xml.ws.encoding.MimeCodec.encode(MimeCodec.java:155)\n  at com.sun.xml.ws.encoding.SwACodec.encode(SwACodec.java:57)\n  at com.sun.xml.ws.encoding.SOAPBindingCodec.encode(SOAPBindingCodec.java:261)\n  at com.sun.xml.ws.transport.http.client.HttpTransportPipe.process(HttpTransportPipe.java:189)\n  at com.sun.xml.ws.transport.http.client.HttpTransportPipe.processRequest(HttpTransportPipe.java:124)\n  at com.sun.xml.ws.transport.DeferredTransportPipe.processRequest(DeferredTransportPipe.java:118)\n  at com.sun.xml.ws.api.pipe.Fiber.__doRun(Fiber.java:866)\n  at com.sun.xml.ws.api.pipe.Fiber._doRun(Fiber.java:815)\n  at com.sun.xml.ws.api.pipe.Fiber.doRun(Fiber.java:778)\n  at com.sun.xml.ws.api.pipe.Fiber.runSync(Fiber.java:680)\n  at com.sun.xml.ws.client.Stub.process(Stub.java:272)\n  at com.sun.xml.ws.client.sei.SEIStub.doProcess(SEIStub.java:153)\n  at com.sun.xml.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:115)\n  at com.sun.xml.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:95)\n  at com.sun.xml.ws.client.sei.SEIStub.invoke(SEIStub.java:136)\n  at com.sun.proxy.$Proxy427.saveFile(Unknown Source)\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n  at java.lang.reflect.Method.invoke(Method.java:597)\n  at weblogic.wsee.jaxws.spi.ClientInstanceInvocationHandler.invoke(ClientInstanceInvocationHandler.java:84)\n  at com.sun.proxy.$Proxy236.saveFile(Unknown Source)\n  at com.hp.mps.onlinetransactions.beans.SikayetFileOperationsBean.saveFile(SikayetFileOperationsBean.java:66)\n  at com.hp.mps.onlinetransactions.actions.SikayetAction.getDocIdFromFileServer(SikayetAction.java:317)\n  at com.hp.mps.onlinetransactions.actions.SikayetAction.fillDocumentMap(SikayetAction.java:259)\n  at com.hp.mps.onlinetransactions.actions.SikayetAction.process(SikayetAction.java:209)\n  ... 20 more\n</code></pre>\n"},{"tags":["java","inputstream","outputstream"],"answers":[{"tags":[],"owner":{"account_id":39930,"reputation":25721,"user_id":115432,"display_name":"Kathy Van Stone"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1273787809,"creation_date":1273787809,"answer_id":2830590,"question_id":2830561,"body_markdown":"My approach would be to write a custom class implementing `DataSource` that wraps your `InputStream`. Then create the `DataHandler` giving it the created `DataSource`.","title":"How can I convert an InputStream to a DataHandler?","body":"<p>My approach would be to write a custom class implementing <code>DataSource</code> that wraps your <code>InputStream</code>. Then create the <code>DataHandler</code> giving it the created <code>DataSource</code>.</p>\n"},{"tags":[],"owner":{"account_id":680226,"reputation":207,"user_id":524171,"display_name":"Jorge Pombar"},"down_vote_count":2,"up_vote_count":21,"is_accepted":false,"score":19,"last_activity_date":1678963403,"creation_date":1291051381,"answer_id":4306247,"question_id":2830561,"body_markdown":"I also ran into this issue. If your source data is a `byte[]`, [Axis][1] already has a class that wraps the InputStream and creates a DataHandler object. Here is the code\r\n\r\n    // This constructor takes byte[] as input\r\n    ByteArrayDataSource rawData = new ByteArrayDataSource(resultSet.getBytes(1));\r\n    DataHandler data = new DataHandler(rawData);\r\n    yourObject.setData(data);\r\n\r\nRelated imports\r\n\r\n    import javax.activation.DataHandler;\r\n    import org.apache.axiom.attachments.ByteArrayDataSource;\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Axis\r\n\r\n","title":"How can I convert an InputStream to a DataHandler?","body":"<p>I also ran into this issue. If your source data is a <code>byte[]</code>, <a href=\"https://en.wikipedia.org/wiki/Apache_Axis\" rel=\"nofollow noreferrer\">Axis</a> already has a class that wraps the InputStream and creates a DataHandler object. Here is the code</p>\n<pre><code>// This constructor takes byte[] as input\nByteArrayDataSource rawData = new ByteArrayDataSource(resultSet.getBytes(1));\nDataHandler data = new DataHandler(rawData);\nyourObject.setData(data);\n</code></pre>\n<p>Related imports</p>\n<pre><code>import javax.activation.DataHandler;\nimport org.apache.axiom.attachments.ByteArrayDataSource;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":704284,"reputation":41,"user_id":596177,"display_name":"Stefan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1678963460,"creation_date":1296430373,"answer_id":4846323,"question_id":2830561,"body_markdown":"Note that the getInputStream of the DataSource must return a new InputStream every time called. This means you need to copy it somewhere first.\r\n\r\nFor more information, see\r\nhttps://bugs.java.com/bugdatabase/view_bug?bug_id=4267294\r\n","title":"How can I convert an InputStream to a DataHandler?","body":"<p>Note that the getInputStream of the DataSource must return a new InputStream every time called. This means you need to copy it somewhere first.</p>\n<p>For more information, see\n<a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4267294\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=4267294</a></p>\n"},{"tags":[],"owner":{"account_id":297677,"reputation":3564,"user_id":603314,"accept_rate":88,"display_name":"bugs_"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1678963611,"creation_date":1338202954,"answer_id":10783565,"question_id":2830561,"body_markdown":"An implementation of [the answer from Kathy Van Stone][1]:\r\n\r\nAt first, create a helper class, which creates a DataSource from an InputStream:\r\n\r\n    public class InputStreamDataSource implements DataSource {\r\n        private InputStream inputStream;\r\n\r\n        public InputStreamDataSource(InputStream inputStream) {\r\n            this.inputStream = inputStream;\r\n        }\r\n\r\n        @Override\r\n        public InputStream getInputStream() throws IOException {\r\n            return inputStream;\r\n        }\r\n\r\n        @Override\r\n        public OutputStream getOutputStream() throws IOException {\r\n            throw new UnsupportedOperationException(&quot;Not implemented&quot;);\r\n        }\r\n\r\n        @Override\r\n        public String getContentType() {\r\n            return &quot;*/*&quot;;\r\n        }\r\n\r\n        @Override\r\n        public String getName() {\r\n            return &quot;InputStreamDataSource&quot;;\r\n        }\r\n    }\r\n\r\nAnd then you can create a DataHandler from an InputStream:\r\n\r\n    DataHandler dataHandler = new DataHandler(new InputStreamDataSource(inputStream))\r\n\r\n\r\n**imports**:\r\n\r\n    import javax.activation.DataSource;\r\n    import java.io.OutputStream;\r\n    import java.io.InputStream;\r\n\r\n  [1]: https://stackoverflow.com/questions/2830561/how-can-i-convert-an-inputstream-to-a-datahandler/2830590#2830590\r\n\r\n\r\n","title":"How can I convert an InputStream to a DataHandler?","body":"<p>An implementation of <a href=\"https://stackoverflow.com/questions/2830561/how-can-i-convert-an-inputstream-to-a-datahandler/2830590#2830590\">the answer from Kathy Van Stone</a>:</p>\n<p>At first, create a helper class, which creates a DataSource from an InputStream:</p>\n<pre><code>public class InputStreamDataSource implements DataSource {\n    private InputStream inputStream;\n\n    public InputStreamDataSource(InputStream inputStream) {\n        this.inputStream = inputStream;\n    }\n\n    @Override\n    public InputStream getInputStream() throws IOException {\n        return inputStream;\n    }\n\n    @Override\n    public OutputStream getOutputStream() throws IOException {\n        throw new UnsupportedOperationException(&quot;Not implemented&quot;);\n    }\n\n    @Override\n    public String getContentType() {\n        return &quot;*/*&quot;;\n    }\n\n    @Override\n    public String getName() {\n        return &quot;InputStreamDataSource&quot;;\n    }\n}\n</code></pre>\n<p>And then you can create a DataHandler from an InputStream:</p>\n<pre><code>DataHandler dataHandler = new DataHandler(new InputStreamDataSource(inputStream))\n</code></pre>\n<p><strong>imports</strong>:</p>\n<pre><code>import javax.activation.DataSource;\nimport java.io.OutputStream;\nimport java.io.InputStream;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2985164,"reputation":5188,"user_id":2534191,"accept_rate":25,"display_name":"Yuriy N."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678963786,"creation_date":1455210180,"answer_id":35345564,"question_id":2830561,"body_markdown":"[bugs_&#39;s code][1] doesn&#39;t work for me. I use DataSource to create *attachments* to email (from objects that have *inputStream* and *name*) and content of attachments lost.\r\n\r\nIt looks like Stefan is right and a new inputStream must be returned every time. At least in my specific case. The following implementation deals with the problem:\r\n\r\n    public class InputStreamDataSource implements DataSource {\r\n\r\n        ByteArrayOutputStream buffer = new ByteArrayOutputStream();\r\n        private final String name;\r\n\r\n        public InputStreamDataSource(InputStream inputStream, String name) {\r\n            this.name = name;\r\n            try {\r\n                int nRead;\r\n                byte[] data = new byte[16384];\r\n                while ((nRead = inputStream.read(data, 0, data.length)) != -1) {\r\n                    buffer.write(data, 0, nRead);\r\n                }\r\n\r\n                buffer.flush();\r\n                inputStream.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n        }\r\n\r\n        @Override\r\n        public String getContentType() {\r\n            return new MimetypesFileTypeMap().getContentType(name);\r\n        }\r\n\r\n        @Override\r\n        public InputStream getInputStream() throws IOException {\r\n            return new ByteArrayInputStream(buffer.toByteArray());\r\n        }\r\n\r\n        @Override\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        @Override\r\n        public OutputStream getOutputStream() throws IOException {\r\n            throw new IOException(&quot;Read-only data&quot;);\r\n        }\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/2830561/how-can-i-convert-an-inputstream-to-a-datahandler/10783565#10783565\r\n","title":"How can I convert an InputStream to a DataHandler?","body":"<p><a href=\"https://stackoverflow.com/questions/2830561/how-can-i-convert-an-inputstream-to-a-datahandler/10783565#10783565\">bugs_'s code</a> doesn't work for me. I use DataSource to create <em>attachments</em> to email (from objects that have <em>inputStream</em> and <em>name</em>) and content of attachments lost.</p>\n<p>It looks like Stefan is right and a new inputStream must be returned every time. At least in my specific case. The following implementation deals with the problem:</p>\n<pre><code>public class InputStreamDataSource implements DataSource {\n\n    ByteArrayOutputStream buffer = new ByteArrayOutputStream();\n    private final String name;\n\n    public InputStreamDataSource(InputStream inputStream, String name) {\n        this.name = name;\n        try {\n            int nRead;\n            byte[] data = new byte[16384];\n            while ((nRead = inputStream.read(data, 0, data.length)) != -1) {\n                buffer.write(data, 0, nRead);\n            }\n\n            buffer.flush();\n            inputStream.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n    @Override\n    public String getContentType() {\n        return new MimetypesFileTypeMap().getContentType(name);\n    }\n\n    @Override\n    public InputStream getInputStream() throws IOException {\n        return new ByteArrayInputStream(buffer.toByteArray());\n    }\n\n    @Override\n    public String getName() {\n        return name;\n    }\n\n    @Override\n    public OutputStream getOutputStream() throws IOException {\n        throw new IOException(&quot;Read-only data&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678964087,"creation_date":1493425360,"answer_id":43690561,"question_id":2830561,"body_markdown":"I&#39;ve met the situation when `InputStream` requested from `DataSource` twice: using a *logging handler* together with [MTOM][1] feature.\r\n\r\nWith [this proxy stream solution][2], my implementation works fine:\r\n\r\n    import org.apache.commons.io.input.CloseShieldInputStream;\r\n    import javax.activation.DataHandler;\r\n    import javax.activation.DataSource;\r\n    ...\r\n\r\n    private static class InputStreamDataSource implements DataSource {\r\n        private InputStream inputStream;\r\n\r\n        @Override\r\n        public InputStream getInputStream() throws IOException {\r\n            return new CloseShieldInputStream(inputStream);\r\n        }\r\n\r\n        @Override\r\n        public OutputStream getOutputStream() throws IOException {\r\n            throw new UnsupportedOperationException(&quot;Not implemented&quot;);\r\n        }\r\n\r\n        @Override\r\n        public String getContentType() {\r\n            return &quot;application/octet-stream&quot;;\r\n        }\r\n\r\n        @Override\r\n        public String getName() {\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Message_Transmission_Optimization_Mechanism\r\n  [2]: https://stackoverflow.com/a/5924019/548473\r\n\r\n\r\n\r\n\r\n","title":"How can I convert an InputStream to a DataHandler?","body":"<p>I've met the situation when <code>InputStream</code> requested from <code>DataSource</code> twice: using a <em>logging handler</em> together with <a href=\"https://en.wikipedia.org/wiki/Message_Transmission_Optimization_Mechanism\" rel=\"nofollow noreferrer\">MTOM</a> feature.</p>\n<p>With <a href=\"https://stackoverflow.com/a/5924019/548473\">this proxy stream solution</a>, my implementation works fine:</p>\n<pre><code>import org.apache.commons.io.input.CloseShieldInputStream;\nimport javax.activation.DataHandler;\nimport javax.activation.DataSource;\n...\n\nprivate static class InputStreamDataSource implements DataSource {\n    private InputStream inputStream;\n\n    @Override\n    public InputStream getInputStream() throws IOException {\n        return new CloseShieldInputStream(inputStream);\n    }\n\n    @Override\n    public OutputStream getOutputStream() throws IOException {\n        throw new UnsupportedOperationException(&quot;Not implemented&quot;);\n    }\n\n    @Override\n    public String getContentType() {\n        return &quot;application/octet-stream&quot;;\n    }\n\n    @Override\n    public String getName() {\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":286570,"reputation":71,"user_id":585896,"display_name":"Gandalf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678964345,"creation_date":1517882699,"answer_id":48634393,"question_id":2830561,"body_markdown":"Here is an answer for specifically working with the [Spring Boot][1] *org.springframework.core.io.Resource* object which is, I think, how a lot of us are getting here.  Note that you might need to modify the content type in the code below as I&#39;m inserting a PNG file into an HTML formatted email.\r\n\r\nNote:  As others have mentioned, merely attaching an InputStream isn&#39;t enough as it gets used multiple times. Just mapping through to *Resource.getInputStream()* does the trick.\r\n\r\n    public class SpringResourceDataSource implements DataSource {\r\n        private Resource resource;\r\n\r\n        public SpringResourceDataSource(Resource resource) {\r\n            this.resource = resource;\r\n        }\r\n\r\n        @Override\r\n        public InputStream getInputStream() throws IOException {\r\n            return resource.getInputStream();\r\n        }\r\n\r\n        @Override\r\n        public OutputStream getOutputStream() throws IOException {\r\n            throw new UnsupportedOperationException(&quot;Not implemented&quot;);\r\n        }\r\n\r\n        @Override\r\n        public String getContentType() {\r\n            return &quot;image/png&quot;;\r\n        }\r\n\r\n        @Override\r\n        public String getName() {\r\n            return &quot;SpringResourceDataSource&quot;;\r\n        }\r\n    }\r\n\r\nUsage of the class looks like this:\r\n\r\n    PathMatchingResourcePatternResolver pathMatchingResourcePatternResolver = new PathMatchingResourcePatternResolver();\r\n    Resource logoImage = pathMatchingResourcePatternResolver.getResource(&quot;/static/images/logo.png&quot;);\r\n    MimeBodyPart logoBodyPart = new MimeBodyPart();\r\n    DataSource logoFileDataSource = new SpringResourceDataSource(logoImage);\r\n\r\n    logoBodyPart.setDataHandler(new DataHandler(logoFileDataSource));\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Spring_Framework#Spring_Boot\r\n","title":"How can I convert an InputStream to a DataHandler?","body":"<p>Here is an answer for specifically working with the <a href=\"https://en.wikipedia.org/wiki/Spring_Framework#Spring_Boot\" rel=\"nofollow noreferrer\">Spring Boot</a> <em>org.springframework.core.io.Resource</em> object which is, I think, how a lot of us are getting here.  Note that you might need to modify the content type in the code below as I'm inserting a PNG file into an HTML formatted email.</p>\n<p>Note:  As others have mentioned, merely attaching an InputStream isn't enough as it gets used multiple times. Just mapping through to <em>Resource.getInputStream()</em> does the trick.</p>\n<pre><code>public class SpringResourceDataSource implements DataSource {\n    private Resource resource;\n\n    public SpringResourceDataSource(Resource resource) {\n        this.resource = resource;\n    }\n\n    @Override\n    public InputStream getInputStream() throws IOException {\n        return resource.getInputStream();\n    }\n\n    @Override\n    public OutputStream getOutputStream() throws IOException {\n        throw new UnsupportedOperationException(&quot;Not implemented&quot;);\n    }\n\n    @Override\n    public String getContentType() {\n        return &quot;image/png&quot;;\n    }\n\n    @Override\n    public String getName() {\n        return &quot;SpringResourceDataSource&quot;;\n    }\n}\n</code></pre>\n<p>Usage of the class looks like this:</p>\n<pre><code>PathMatchingResourcePatternResolver pathMatchingResourcePatternResolver = new PathMatchingResourcePatternResolver();\nResource logoImage = pathMatchingResourcePatternResolver.getResource(&quot;/static/images/logo.png&quot;);\nMimeBodyPart logoBodyPart = new MimeBodyPart();\nDataSource logoFileDataSource = new SpringResourceDataSource(logoImage);\n\nlogoBodyPart.setDataHandler(new DataHandler(logoFileDataSource));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7243728,"reputation":29,"user_id":5526420,"display_name":"Alex Sandro Magalh&#227;es Junior"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678964435,"creation_date":1618495168,"answer_id":67109921,"question_id":2830561,"body_markdown":"    import com.itextpdf.text.Document;\r\n    import com.itextpdf.text.DocumentException;\r\n    import com.itextpdf.text.pdf.PdfWriter;\r\n    import com.itextpdf.tool.xml.XMLWorkerHelper;\r\n    import org.apache.commons.io.IOUtils;\r\n\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n\r\n. \\\r\n. \\\r\n.\r\n\r\n     DataSource ds = new ByteArrayDataSource(convertHtmlToPdf(&quot;&lt;span&gt;html here&lt;/span&gt;&quot;), &quot;application/pdf&quot;);\r\n\r\n     DataHandler dataHandler = new DataHandler(ds);\r\n\r\n. \\\r\n. \\\r\n.\r\n\r\n\r\n    public static byte[] convertHtmlToPdf(String htmlString) throws IOException, DocumentException {\r\n        Document document = new Document();\r\n\r\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n\r\n        PdfWriter writer = PdfWriter.getInstance(document, out);\r\n        document.open();\r\n\r\n        InputStream in = IOUtils.toInputStream(htmlString);\r\n        XMLWorkerHelper.getInstance().parseXHtml(writer, document, in);\r\n        document.close();\r\n\r\n        return out.toByteArray();\r\n    }\r\n\r\npossible error: the meta tag must be closed. `&lt;meta&gt;&lt;/meta&gt;`\r\n\r\n","title":"How can I convert an InputStream to a DataHandler?","body":"<pre><code>import com.itextpdf.text.Document;\nimport com.itextpdf.text.DocumentException;\nimport com.itextpdf.text.pdf.PdfWriter;\nimport com.itextpdf.tool.xml.XMLWorkerHelper;\nimport org.apache.commons.io.IOUtils;\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\n</code></pre>\n<p>. <br />\n. <br />\n.</p>\n<pre><code> DataSource ds = new ByteArrayDataSource(convertHtmlToPdf(&quot;&lt;span&gt;html here&lt;/span&gt;&quot;), &quot;application/pdf&quot;);\n\n DataHandler dataHandler = new DataHandler(ds);\n</code></pre>\n<p>. <br />\n. <br />\n.</p>\n<pre><code>public static byte[] convertHtmlToPdf(String htmlString) throws IOException, DocumentException {\n    Document document = new Document();\n\n    ByteArrayOutputStream out = new ByteArrayOutputStream();\n\n    PdfWriter writer = PdfWriter.getInstance(document, out);\n    document.open();\n\n    InputStream in = IOUtils.toInputStream(htmlString);\n    XMLWorkerHelper.getInstance().parseXHtml(writer, document, in);\n    document.close();\n\n    return out.toByteArray();\n}\n</code></pre>\n<p>possible error: the meta tag must be closed. <code>&lt;meta&gt;&lt;/meta&gt;</code></p>\n"}],"owner":{"account_id":34104,"reputation":850,"user_id":96048,"accept_rate":60,"display_name":"pcorey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86548,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":2830590,"answer_count":8,"score":31,"last_activity_date":1678964435,"creation_date":1273787361,"question_id":2830561,"body_markdown":"I&#39;m working on a Java web application in which files will be stored in a database. Originally, we retrieved files already in the DB by simply calling `getBytes` on our result set:\r\n\r\n    byte[] bytes = resultSet.getBytes(1);\r\n    ...\r\n\r\nThis byte array was then converted into a `DataHandler` using the obvious constructor:\r\n\r\n    dataHandler = new DataHandler(bytes, &quot;application/octet-stream&quot;);\r\n\r\nThis worked great until we started trying to store and retrieve larger files. Dumping the entire file contents into a byte array and then building a `DataHandler` out of that simply requires too much memory.\r\n\r\nMy immediate idea is to retrieve a stream of the data in the database with `getBinaryStream` and somehow convert that `InputStream` into a `DataHandler` in a memory-efficient way.  Unfortunately it doesn&#39;t seem like there&#39;s a direct way to convert an `InputStream` into a `DataHandler`. Another idea I&#39;ve been playing with is reading chunks of data from the `InputStream` and writing them to the `OutputStream` of the `DataHandler`. But... I can&#39;t find a way to create an &quot;empty&quot; `DataHandler` that returns a non-null `OutputStream` when I call `getOutputStream`...\r\n\r\nHas anyone done this? I&#39;d appreciate any help you can give me or leads in the right direction.\r\n\r\n","title":"How can I convert an InputStream to a DataHandler?","body":"<p>I'm working on a Java web application in which files will be stored in a database. Originally, we retrieved files already in the DB by simply calling <code>getBytes</code> on our result set:</p>\n<pre><code>byte[] bytes = resultSet.getBytes(1);\n...\n</code></pre>\n<p>This byte array was then converted into a <code>DataHandler</code> using the obvious constructor:</p>\n<pre><code>dataHandler = new DataHandler(bytes, &quot;application/octet-stream&quot;);\n</code></pre>\n<p>This worked great until we started trying to store and retrieve larger files. Dumping the entire file contents into a byte array and then building a <code>DataHandler</code> out of that simply requires too much memory.</p>\n<p>My immediate idea is to retrieve a stream of the data in the database with <code>getBinaryStream</code> and somehow convert that <code>InputStream</code> into a <code>DataHandler</code> in a memory-efficient way.  Unfortunately it doesn't seem like there's a direct way to convert an <code>InputStream</code> into a <code>DataHandler</code>. Another idea I've been playing with is reading chunks of data from the <code>InputStream</code> and writing them to the <code>OutputStream</code> of the <code>DataHandler</code>. But... I can't find a way to create an &quot;empty&quot; <code>DataHandler</code> that returns a non-null <code>OutputStream</code> when I call <code>getOutputStream</code>...</p>\n<p>Has anyone done this? I'd appreciate any help you can give me or leads in the right direction.</p>\n"},{"tags":["java","swing","user-interface"],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653525300,"creation_date":1653525300,"answer_id":72385477,"question_id":72385446,"body_markdown":"I&#39;d recommend using decomposition, packages, and dependency injection.\r\n\r\nSwing encourages developers to put reams of code into large main methods.  That&#39;s a mistake, in my opinion.\r\n\r\nDecompose that main method into classes.  Make them independently testable and only assemble the UI from constitutive parts.  Only create the `JFrame` class in the main method.  Give the `JFrame` an instance of `JPanel` in its constructor.\r\n\r\nThere ought to be a `/ui` package with a class that extends `JPanel`.  Give it all the buttons, text boxes, and GUI assets that it needs in its constructors.\r\n\r\nDecomposition is your friend.  Start breaking the problem up into classes.\r\n\r\nCreate a factory that gives you track instances.  You can reuse it every where it&#39;s needed if you do.\r\n\r\n\r\n","title":"How do you seperate Java logic from Swing GUI into different files/packages?","body":"<p>I'd recommend using decomposition, packages, and dependency injection.</p>\n<p>Swing encourages developers to put reams of code into large main methods.  That's a mistake, in my opinion.</p>\n<p>Decompose that main method into classes.  Make them independently testable and only assemble the UI from constitutive parts.  Only create the <code>JFrame</code> class in the main method.  Give the <code>JFrame</code> an instance of <code>JPanel</code> in its constructor.</p>\n<p>There ought to be a <code>/ui</code> package with a class that extends <code>JPanel</code>.  Give it all the buttons, text boxes, and GUI assets that it needs in its constructors.</p>\n<p>Decomposition is your friend.  Start breaking the problem up into classes.</p>\n<p>Create a factory that gives you track instances.  You can reuse it every where it's needed if you do.</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678963897,"creation_date":1653537586,"answer_id":72386527,"question_id":72385446,"body_markdown":"There are lots of way you might achieve this, but lets break down you problems...\r\n\r\n# UI Customisations...\r\n\r\nSwing is generally highly customisable, for example, you could make your own custom look and feel (either in parts or as a whole).  I think building a whole new look and feel is probably little bit of overkill for your problem, but you can supply a look and feel for individual components, for example...\r\n\r\n* https://stackoverflow.com/questions/28908135/how-to-customize-a-jprogressbar/28909255#28909255\r\n* https://stackoverflow.com/questions/70429378/java-jbutton-set-text-background-color/70429542#70429542\r\n* https://stackoverflow.com/questions/20136505/java-making-a-pretty-jprogressbar/20137881#20137881\r\n\r\nNow, if all you want to do is change a few properties of the components, then it might be better to simply modify the look and feel default properties instead, for example `UIManager.put(&quot;Button.font&quot;, new Font(...));`.\r\n\r\nYou need to be careful with this approach, as not all UI delegates will use the same keys (looking at you Nimbus) and also consider that this will set the default properties used for ALL new components which you create.\r\n\r\nAlternatively, if you just wanted to modify a given set of components, you might consider using a &quot;factory&quot; style workflow, for example...\r\n\r\n    public class Style {\r\n        public static JButton makeButton() {\r\n            JButton btn = new JButton();\r\n            // Apply any configuration you need\r\n            // by default\r\n            return btn;\r\n        }\r\n    }\r\n\r\nThis would then then give you a centralised location for the creation of these components, as well as a centralised management workflow should you want to tweak it.\r\n\r\nOr, you could use a builder pattern, which can be used to configure the component based on how you want to use it...\r\n\r\n    public class ButtonBuilder {\r\n        private String title;\r\n        private ActionListener actionListener;\r\n\r\n        public ButtonBuilder withTitle(String title) {\r\n            this.title = title;\r\n            return this;\r\n        }\r\n\r\n        public ButtonBuilder withActionListener(ActionListener actionListener) {\r\n            this.actionListener = actionListener;\r\n            return this;\r\n        }\r\n\r\n        // Add any additional properties you might like to configure\r\n\r\n        public JButton build() {\r\n            JButton btn = new JButton();\r\n            if (title != null) {\r\n                btn.setText(title);\r\n            }\r\n            if (actionListener != null) {\r\n                btn.addActionListener(actionListener);\r\n            }\r\n            // Configure the button as you see fit\r\n            return btn;\r\n        }\r\n    }\r\n\r\nI would also consider looking at [How to Use Actions](https://docs.oracle.com/javase/tutorial/uiswing/misc/action.html) which is a great way creating a self contained workflows, but which can easily be applied to different areas of the UI.\r\n\r\n# Code design...\r\n\r\nThe following concepts apply to just about any type of coding you might do.  You want to decouple the code, reducing cohesion between classes - stop and think, if I changed something here, how hard would it be to modify the code?  Then work towards a solution which is easily maintained and managed.\r\n\r\nWhen you&#39;re presented with a problem try breaking the problem down into as many small units of work as possible (as state - decomposition)\r\n\r\nThese support the [Single Responsibility Principle](https://www.oodesign.com/single-responsibility-principle.html)\r\n\r\nFor example, you have a &quot;media player&quot;.  Is it responsible for loading the media?  Is it responsible for managing the live cycle of the media?  Does it care where the media comes from our how it&#39;s actually played?\r\n\r\nIn general, the answer is, no.  It only cares about allowing the user to select an action and applying the action to the current &quot;track&quot;\r\n\r\nLet&#39;s break it down.  Starting with a concept of a &quot;track&quot;...\r\n\r\n    public interface TrackModel {\r\n        enum State {\r\n            STOPPED, PLAYING, PAUSED;\r\n        }\r\n\r\n        public Clip getClip();\r\n        public State getState();\r\n        public void open() throws LineUnavailableException, IOException;\r\n        public void close();\r\n        public boolean isOpen();\r\n        public void play() throws IOException;\r\n        public void stop();\r\n        public void pause();\r\n        public void addChangeListener(ChangeListener changeListener);\r\n        public void removeChangeListener(ChangeListener changeListener);\r\n    }\r\n\r\nNow, a &quot;track&quot; could manage any thing, a single, an album, a playlist, we don&#39;t care, we just care about what the track can do.\r\n\r\nIt has functionality to control the life cycle (open/close), the state (play/pause/stop) and provides an [Observer Pattern](https://www.oodesign.com/observer-pattern.html) so we can observer state changes to it.  It doesn&#39;t describe how those actions actually work, only that anyone with a reference to an implementation can perform these operations on it.\r\n\r\nPersonally, I always like to make use of a `abstract` implementation to define some of the more &quot;common&quot; or &quot;boiler plate&quot; operations, for example, the handling of state changes is going to pretty common, so, we&#39;ll put those into out base implementation...\r\n\r\n    public abstract class AbstractTrackModel implements TrackModel {\r\n        private State state;\r\n        private List&lt;ChangeListener&gt; changeListeners;\r\n\r\n        public AbstractTrackModel() {\r\n            state = State.STOPPED;\r\n            changeListeners = new ArrayList&lt;&gt;(8);\r\n        }\r\n        \r\n        protected void setState(State state) {\r\n            if (this.state == state) {\r\n                return;\r\n            }\r\n            this.state = state;\r\n            fireStateDidChange();\r\n        }\r\n\r\n        @Override\r\n        public State getState() {\r\n            return state;\r\n        }\r\n\r\n        @Override\r\n        public void addChangeListener(ChangeListener changeListener) {\r\n            changeListeners.add(changeListener);\r\n        }\r\n\r\n        @Override\r\n        public void removeChangeListener(ChangeListener changeListener) {\r\n            changeListeners.remove(changeListener);\r\n        }\r\n        \r\n        protected void fireStateDidChange() {\r\n            ChangeEvent evt = new ChangeEvent(this);\r\n            for (ChangeListener listener : changeListeners) {\r\n                listener.stateChanged(evt);\r\n            }\r\n        }\r\n    }\r\n\r\nNext, we need a concrete implementation, so the following is a simple implementation that makes use of the `javax.sound.sampled.AudioSystem` and `javax.sound.sampled.CLip` APIs\r\n\r\n    public class AudioSystemClipTrackModel extends AbstractTrackModel {\r\n\r\n        private Clip clip;\r\n        private AudioInputStream stream;\r\n\r\n        public AudioSystemClipTrackModel(String named) throws UnsupportedAudioFileException, IOException, LineUnavailableException {\r\n            this.stream = AudioSystem.getAudioInputStream(getClass().getResource(named));\r\n            this.clip = AudioSystem.getClip();\r\n        }\r\n\r\n        protected AudioInputStream getStream() {\r\n            return stream;\r\n        }\r\n\r\n        @Override\r\n        public Clip getClip() {\r\n            return clip;\r\n        }\r\n\r\n        @Override\r\n        public boolean isOpen() {\r\n            return getClip().isOpen();\r\n        }\r\n\r\n        @Override\r\n        public void open() throws LineUnavailableException, IOException {\r\n            if (isOpen()) {\r\n                return;\r\n            }\r\n            getClip().open(getStream());\r\n        }\r\n\r\n        @Override\r\n        public void close() {\r\n            if (!isOpen()) {\r\n                return;\r\n            }\r\n            getClip().close();\r\n        }\r\n\r\n        @Override\r\n        public void play() throws IOException {\r\n            if (!isOpen()) {\r\n                throw new IOException(&quot;Track is not open&quot;);\r\n            }\r\n            clip.start();\r\n            setState(State.PLAYING);\r\n        }\r\n\r\n        @Override\r\n        public void stop() {\r\n            getClip().stop();\r\n            getClip().setFramePosition(0);\r\n            setState(State.STOPPED);\r\n        }\r\n\r\n        @Override\r\n        public void pause() {\r\n            getClip().stop();\r\n            setState(State.PAUSED);\r\n        }\r\n    }\r\n\r\nWow, we haven&#39;t even got to the UI yet!  But the nice thing about this, is these classes will all work nicely without them.\r\n\r\nNext, we look at the UI...\r\n\r\n    public class PlayerPane extends JPanel {\r\n\r\n        private TrackModel model;\r\n        private JLabel stateLabel;\r\n        private ChangeListener changeListener;\r\n        private PlayerControlsPane controlsPane;\r\n\r\n        public PlayerPane(TrackModel model) {\r\n            changeListener = new ChangeListener() {\r\n                @Override\r\n                public void stateChanged(ChangeEvent e) {\r\n                    configureState();\r\n                }\r\n            };\r\n\r\n            stateLabel = new JLabel(&quot;...&quot;);\r\n\r\n            setLayout(new GridBagLayout());\r\n            GridBagConstraints gbc = new GridBagConstraints();\r\n            gbc.gridwidth = gbc.REMAINDER;\r\n\r\n            controlsPane = new PlayerControlsPane(model);\r\n            \r\n            add(stateLabel, gbc);\r\n            add(controlsPane, gbc);\r\n\r\n            setModel(model);\r\n        }\r\n\r\n        public void setModel(TrackModel model) {\r\n            if (this.model != null) {\r\n                this.model.removeChangeListener(changeListener);\r\n            }\r\n            this.model = model;\r\n            this.model.addChangeListener(changeListener);\r\n            configureState();\r\n            controlsPane.setModel(model);\r\n        }\r\n\r\n        public TrackModel getModel() {\r\n            return model;\r\n        }\r\n\r\n        protected void configureState() {\r\n            switch (getModel().getState()) {\r\n                case STOPPED:\r\n                    stateLabel.setText(&quot;Stopped&quot;);\r\n                    break;\r\n                case PLAYING:\r\n                    stateLabel.setText(&quot;Playing&quot;);\r\n                    break;\r\n                case PAUSED:\r\n                    stateLabel.setText(&quot;Paused&quot;);\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n    public class PlayerControlsPane extends JPanel {\r\n        private TrackModel model;\r\n\r\n        private JButton playButton;\r\n        private JButton stopButton;\r\n        private JButton pauseButton;\r\n\r\n        private ChangeListener changeListener;\r\n\r\n        public PlayerControlsPane(TrackModel model) {\r\n            changeListener = new ChangeListener() {\r\n                @Override\r\n                public void stateChanged(ChangeEvent e) {\r\n                    configureState();\r\n                }\r\n            };\r\n            \r\n            setLayout(new GridLayout(1, -1));\r\n\r\n            playButton = Style.makeButton();\r\n            playButton.setText(&quot;Play&quot;);\r\n            playButton.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    try {\r\n                        model.play();\r\n                    } catch (IOException ex) {\r\n                        JOptionPane.showMessageDialog(PlayerControlsPane.this, &quot;Track is not playable&quot;);\r\n                    }\r\n                }\r\n            });\r\n\r\n            stopButton = new ButtonBuilder()\r\n                    .withTitle(&quot;Stop&quot;)\r\n                    .withActionListener(new ActionListener() {\r\n                        @Override\r\n                        public void actionPerformed(ActionEvent e) {\r\n                            model.stop();\r\n                        }\r\n                    })\r\n                    .build();\r\n\r\n            pauseButton = Style.makeButton(new PauseAction(model));\r\n            \r\n            add(playButton);\r\n            add(stopButton);\r\n            add(pauseButton);\r\n\r\n            setModel(model);\r\n        }\r\n\r\n        public void setModel(TrackModel model) {\r\n            if (this.model != null) {\r\n                this.model.removeChangeListener(changeListener);\r\n            }\r\n            this.model = model;\r\n            this.model.addChangeListener(changeListener);\r\n            configureState();\r\n        }\r\n\r\n        public TrackModel getModel() {\r\n            return model;\r\n        }\r\n\r\n        protected void configureState() {\r\n            switch (getModel().getState()) {\r\n                case STOPPED:\r\n                    playButton.setEnabled(true);\r\n                    stopButton.setEnabled(false);\r\n                    pauseButton.setEnabled(false);\r\n                    break;\r\n                case PLAYING:\r\n                    playButton.setEnabled(false);\r\n                    stopButton.setEnabled(true);\r\n                    pauseButton.setEnabled(true);\r\n                    break;\r\n                case PAUSED:\r\n                    playButton.setEnabled(true);\r\n                    stopButton.setEnabled(false);\r\n                    pauseButton.setEnabled(false);\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n    public class PauseAction extends AbstractAction {\r\n        private TrackModel model;\r\n\r\n        public PauseAction(TrackModel model) {\r\n            this.model = model;\r\n            putValue(NAME, &quot;Pause&quot;);\r\n            // Bunch of other possible keys\r\n        }\r\n\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            model.pause();\r\n        }\r\n    }\r\n\r\nThe UI is, for demonstration purposes, broken into three elements.\r\n\r\nYou have the primary player component, which contains a `PlayerControlsPane` and makes use of the `PauseAction` (again, for demonstration).\r\n\r\nThe important thing here is, the player and control components are making us of the same model. They each attach a &quot;observer&quot; to the model and update their states independently based on the changes to the model.\r\n\r\nThis plays into the concept of Dependency injection, for [example](https://en.wikipedia.org/wiki/Dependency_injection#:~:text=In%20software%20engineering%2C%20dependency%20injection,leading%20to%20loosely%20coupled%20programs.) and [example](https://stackify.com/dependency-injection/).\r\n\r\nIt also allows the player and controls to have different layout managers, without a lot of juggling.\r\n\r\nNow, do you need to do this with ever UI you make, no, but you should aim to do as many as possible, perfect practice makes perfect &#128521;\r\n\r\n# Parting comments...\r\n\r\nExtending from a top level container, like `JFrame` is generally discouraged, you&#39;re not adding any new functionality to the class and you&#39;re locking yourself into a single use case.  What happens if you want to put the player into a different container?  Well, in your case, you can&#39;t, you&#39;re stuck.\r\n\r\nThis also supports Composition Over Inheritance, for reference...\r\n\r\n* [Composition over inheritance](https://en.wikipedia.org/wiki/Composition_over_inheritance#:~:text=To%20favor%20composition%20over%20inheritance,and%20creating%20a%20family%20tree.)\r\n* https://stackoverflow.com/questions/49002/prefer-composition-over-inheritance\r\n\r\n... and I&#39;m sure you can find lots more discussion on the subject.\r\n\r\nAnd, this `File filePath = new File(&quot;src/Tracks/Track.wav&quot;);` is going to be problematic.  Never reference `src` in your code, it won&#39;t exist once the program is built and exported.\r\n\r\nWhen the resource is embedded like this, you will need to use `Class#getResource` or `Class#getResourceAsStream`, depending on your API requirements - this is demonstrated in the code examples\r\n\r\nYou should probably also look at the [Model–view–controller](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller) concept.\r\n\r\n# Runnable example...\r\n\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.GridLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.sound.sampled.AudioInputStream;\r\n    import javax.sound.sampled.AudioSystem;\r\n    import javax.sound.sampled.Clip;\r\n    import javax.sound.sampled.LineUnavailableException;\r\n    import javax.sound.sampled.UnsupportedAudioFileException;\r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.Action;\r\n    import static javax.swing.Action.NAME;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.event.ChangeEvent;\r\n    import javax.swing.event.ChangeListener;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JFrame frame = new JFrame();\r\n                        TrackModel track = new AudioSystemClipTrackModel(&quot;/sound/your embedded audio file&quot;);\r\n                        track.open();\r\n                        frame.add(new PlayerPane(track));\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (UnsupportedAudioFileException | IOException | LineUnavailableException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public interface TrackModel {\r\n            enum State {\r\n                STOPPED, PLAYING, PAUSED;\r\n            }\r\n            public Clip getClip();\r\n            public State getState();\r\n            public void open() throws LineUnavailableException, IOException;\r\n            public void close();\r\n            public boolean isOpen();\r\n            public void play() throws IOException;\r\n            public void stop();\r\n            public void pause();\r\n            public void addChangeListener(ChangeListener changeListener);\r\n            public void removeChangeListener(ChangeListener changeListener);\r\n        }\r\n\r\n        public abstract class AbstractTrackModel implements TrackModel {\r\n            private State state;\r\n            private List&lt;ChangeListener&gt; changeListeners;\r\n\r\n            public AbstractTrackModel() {\r\n                state = State.STOPPED;\r\n                changeListeners = new ArrayList&lt;&gt;(8);\r\n            }\r\n\r\n            protected void setState(State state) {\r\n                if (this.state == state) {\r\n                    return;\r\n                }\r\n                this.state = state;\r\n                fireStateDidChange();\r\n            }\r\n\r\n            @Override\r\n            public State getState() {\r\n                return state;\r\n            }\r\n\r\n            @Override\r\n            public void addChangeListener(ChangeListener changeListener) {\r\n                changeListeners.add(changeListener);\r\n            }\r\n\r\n            @Override\r\n            public void removeChangeListener(ChangeListener changeListener) {\r\n                changeListeners.remove(changeListener);\r\n            }\r\n\r\n            protected void fireStateDidChange() {\r\n                ChangeEvent evt = new ChangeEvent(this);\r\n                for (ChangeListener listener : changeListeners) {\r\n                    listener.stateChanged(evt);\r\n                }\r\n            }\r\n        }\r\n\r\n        public class AudioSystemClipTrackModel extends AbstractTrackModel {\r\n\r\n            private Clip clip;\r\n            private AudioInputStream stream;\r\n\r\n            public AudioSystemClipTrackModel(String named) throws UnsupportedAudioFileException, IOException, LineUnavailableException {\r\n                this.stream = AudioSystem.getAudioInputStream(getClass().getResource(named));\r\n                this.clip = AudioSystem.getClip();\r\n            }\r\n\r\n            protected AudioInputStream getStream() {\r\n                return stream;\r\n            }\r\n\r\n            @Override\r\n            public Clip getClip() {\r\n                return clip;\r\n            }\r\n\r\n            @Override\r\n            public boolean isOpen() {\r\n                return getClip().isOpen();\r\n            }\r\n\r\n            @Override\r\n            public void open() throws LineUnavailableException, IOException {\r\n                if (isOpen()) {\r\n                    return;\r\n                }\r\n                getClip().open(getStream());\r\n            }\r\n\r\n            @Override\r\n            public void close() {\r\n                if (!isOpen()) {\r\n                    return;\r\n                }\r\n                getClip().close();\r\n            }\r\n\r\n            @Override\r\n            public void play() throws IOException {\r\n                if (!isOpen()) {\r\n                    throw new IOException(&quot;Track is not open&quot;);\r\n                }\r\n                clip.start();\r\n                setState(State.PLAYING);\r\n            }\r\n\r\n            @Override\r\n            public void stop() {\r\n                getClip().stop();\r\n                getClip().setFramePosition(0);\r\n                setState(State.STOPPED);\r\n            }\r\n\r\n            @Override\r\n            public void pause() {\r\n                getClip().stop();\r\n                setState(State.PAUSED);\r\n            }\r\n        }\r\n\r\n        public class Style {\r\n            public static JButton makeButton() {\r\n                JButton btn = new JButton();\r\n                // Apply any configuration you need\r\n                // by default\r\n                return btn;\r\n            }\r\n\r\n            public static JButton makeButton(Action action) {\r\n                JButton btn = makeButton();\r\n                btn.setAction(action);\r\n                return btn;\r\n            }\r\n        }\r\n\r\n        public class ButtonBuilder {\r\n            private String title;\r\n            private ActionListener actionListener;\r\n\r\n            public ButtonBuilder withTitle(String title) {\r\n                this.title = title;\r\n                return this;\r\n            }\r\n\r\n            public ButtonBuilder withActionListener(ActionListener actionListener) {\r\n                this.actionListener = actionListener;\r\n                return this;\r\n            }\r\n\r\n            // And any additional properties you might like to configure\r\n            public JButton build() {\r\n                JButton btn = new JButton();\r\n                if (title != null) {\r\n                    btn.setText(title);\r\n                }\r\n                if (actionListener != null) {\r\n                    btn.addActionListener(actionListener);\r\n                }\r\n                // Configure the button as you see fit\r\n                return btn;\r\n            }\r\n        }\r\n\r\n        public class PlayerPane extends JPanel {\r\n\r\n            private TrackModel model;\r\n            private JLabel stateLabel;\r\n            private ChangeListener changeListener;\r\n            private PlayerControlsPane controlsPane;\r\n\r\n            public PlayerPane(TrackModel model) {\r\n                changeListener = new ChangeListener() {\r\n                    @Override\r\n                    public void stateChanged(ChangeEvent e) {\r\n                        configureState();\r\n                    }\r\n                };\r\n\r\n                stateLabel = new JLabel(&quot;...&quot;);\r\n\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridwidth = gbc.REMAINDER;\r\n\r\n                controlsPane = new PlayerControlsPane(model);\r\n\r\n                add(stateLabel, gbc);\r\n                add(controlsPane, gbc);\r\n\r\n                setModel(model);\r\n            }\r\n\r\n            public void setModel(TrackModel model) {\r\n                if (this.model != null) {\r\n                    this.model.removeChangeListener(changeListener);\r\n                }\r\n                this.model = model;\r\n                this.model.addChangeListener(changeListener);\r\n                configureState();\r\n                controlsPane.setModel(model);\r\n            }\r\n\r\n            public TrackModel getModel() {\r\n                return model;\r\n            }\r\n\r\n            protected void configureState() {\r\n                switch (getModel().getState()) {\r\n                    case STOPPED:\r\n                        stateLabel.setText(&quot;Stopped&quot;);\r\n                        break;\r\n                    case PLAYING:\r\n                        stateLabel.setText(&quot;Playing&quot;);\r\n                        break;\r\n                    case PAUSED:\r\n                        stateLabel.setText(&quot;Paused&quot;);\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n\r\n        public class PlayerControlsPane extends JPanel {\r\n            private TrackModel model;\r\n\r\n            private JButton playButton;\r\n            private JButton stopButton;\r\n            private JButton pauseButton;\r\n\r\n            private ChangeListener changeListener;\r\n\r\n            public PlayerControlsPane(TrackModel model) {\r\n                changeListener = new ChangeListener() {\r\n                    @Override\r\n                    public void stateChanged(ChangeEvent e) {\r\n                        configureState();\r\n                    }\r\n                };\r\n\r\n                setLayout(new GridLayout(1, -1));\r\n\r\n                playButton = Style.makeButton();\r\n                playButton.setText(&quot;Play&quot;);\r\n                playButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        try {\r\n                            model.play();\r\n                        } catch (IOException ex) {\r\n                            JOptionPane.showMessageDialog(PlayerControlsPane.this, &quot;Track is not playable&quot;);\r\n                        }\r\n                    }\r\n                });\r\n\r\n                stopButton = new ButtonBuilder()\r\n                        .withTitle(&quot;Stop&quot;)\r\n                        .withActionListener(new ActionListener() {\r\n                            @Override\r\n                            public void actionPerformed(ActionEvent e) {\r\n                                model.stop();\r\n                            }\r\n                        })\r\n                        .build();\r\n\r\n                pauseButton = Style.makeButton(new PauseAction(model));\r\n\r\n                add(playButton);\r\n                add(stopButton);\r\n                add(pauseButton);\r\n\r\n                setModel(model);\r\n            }\r\n\r\n            public void setModel(TrackModel model) {\r\n                if (this.model != null) {\r\n                    this.model.removeChangeListener(changeListener);\r\n                }\r\n                this.model = model;\r\n                this.model.addChangeListener(changeListener);\r\n                configureState();\r\n            }\r\n\r\n            public TrackModel getModel() {\r\n                return model;\r\n            }\r\n\r\n            protected void configureState() {\r\n                switch (getModel().getState()) {\r\n                    case STOPPED:\r\n                        playButton.setEnabled(true);\r\n                        stopButton.setEnabled(false);\r\n                        pauseButton.setEnabled(false);\r\n                        break;\r\n                    case PLAYING:\r\n                        playButton.setEnabled(false);\r\n                        stopButton.setEnabled(true);\r\n                        pauseButton.setEnabled(true);\r\n                        break;\r\n                    case PAUSED:\r\n                        playButton.setEnabled(true);\r\n                        stopButton.setEnabled(false);\r\n                        pauseButton.setEnabled(false);\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n\r\n        public class PauseAction extends AbstractAction {\r\n            private TrackModel model;\r\n\r\n            public PauseAction(TrackModel model) {\r\n                this.model = model;\r\n                putValue(NAME, &quot;Pause&quot;);\r\n                // Bunch of other possible keys\r\n            }\r\n\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                model.pause();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How do you seperate Java logic from Swing GUI into different files/packages?","body":"<p>There are lots of way you might achieve this, but lets break down you problems...</p>\n<h1>UI Customisations...</h1>\n<p>Swing is generally highly customisable, for example, you could make your own custom look and feel (either in parts or as a whole).  I think building a whole new look and feel is probably little bit of overkill for your problem, but you can supply a look and feel for individual components, for example...</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/28908135/how-to-customize-a-jprogressbar/28909255#28909255\">How to customize a JProgressBar?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/70429378/java-jbutton-set-text-background-color/70429542#70429542\">Java JButton set text background color</a></li>\n<li><a href=\"https://stackoverflow.com/questions/20136505/java-making-a-pretty-jprogressbar/20137881#20137881\">Java: Making a pretty JProgressBar</a></li>\n</ul>\n<p>Now, if all you want to do is change a few properties of the components, then it might be better to simply modify the look and feel default properties instead, for example <code>UIManager.put(&quot;Button.font&quot;, new Font(...));</code>.</p>\n<p>You need to be careful with this approach, as not all UI delegates will use the same keys (looking at you Nimbus) and also consider that this will set the default properties used for ALL new components which you create.</p>\n<p>Alternatively, if you just wanted to modify a given set of components, you might consider using a &quot;factory&quot; style workflow, for example...</p>\n<pre><code>public class Style {\n    public static JButton makeButton() {\n        JButton btn = new JButton();\n        // Apply any configuration you need\n        // by default\n        return btn;\n    }\n}\n</code></pre>\n<p>This would then then give you a centralised location for the creation of these components, as well as a centralised management workflow should you want to tweak it.</p>\n<p>Or, you could use a builder pattern, which can be used to configure the component based on how you want to use it...</p>\n<pre><code>public class ButtonBuilder {\n    private String title;\n    private ActionListener actionListener;\n\n    public ButtonBuilder withTitle(String title) {\n        this.title = title;\n        return this;\n    }\n\n    public ButtonBuilder withActionListener(ActionListener actionListener) {\n        this.actionListener = actionListener;\n        return this;\n    }\n\n    // Add any additional properties you might like to configure\n\n    public JButton build() {\n        JButton btn = new JButton();\n        if (title != null) {\n            btn.setText(title);\n        }\n        if (actionListener != null) {\n            btn.addActionListener(actionListener);\n        }\n        // Configure the button as you see fit\n        return btn;\n    }\n}\n</code></pre>\n<p>I would also consider looking at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/action.html\" rel=\"nofollow noreferrer\">How to Use Actions</a> which is a great way creating a self contained workflows, but which can easily be applied to different areas of the UI.</p>\n<h1>Code design...</h1>\n<p>The following concepts apply to just about any type of coding you might do.  You want to decouple the code, reducing cohesion between classes - stop and think, if I changed something here, how hard would it be to modify the code?  Then work towards a solution which is easily maintained and managed.</p>\n<p>When you're presented with a problem try breaking the problem down into as many small units of work as possible (as state - decomposition)</p>\n<p>These support the <a href=\"https://www.oodesign.com/single-responsibility-principle.html\" rel=\"nofollow noreferrer\">Single Responsibility Principle</a></p>\n<p>For example, you have a &quot;media player&quot;.  Is it responsible for loading the media?  Is it responsible for managing the live cycle of the media?  Does it care where the media comes from our how it's actually played?</p>\n<p>In general, the answer is, no.  It only cares about allowing the user to select an action and applying the action to the current &quot;track&quot;</p>\n<p>Let's break it down.  Starting with a concept of a &quot;track&quot;...</p>\n<pre><code>public interface TrackModel {\n    enum State {\n        STOPPED, PLAYING, PAUSED;\n    }\n\n    public Clip getClip();\n    public State getState();\n    public void open() throws LineUnavailableException, IOException;\n    public void close();\n    public boolean isOpen();\n    public void play() throws IOException;\n    public void stop();\n    public void pause();\n    public void addChangeListener(ChangeListener changeListener);\n    public void removeChangeListener(ChangeListener changeListener);\n}\n</code></pre>\n<p>Now, a &quot;track&quot; could manage any thing, a single, an album, a playlist, we don't care, we just care about what the track can do.</p>\n<p>It has functionality to control the life cycle (open/close), the state (play/pause/stop) and provides an <a href=\"https://www.oodesign.com/observer-pattern.html\" rel=\"nofollow noreferrer\">Observer Pattern</a> so we can observer state changes to it.  It doesn't describe how those actions actually work, only that anyone with a reference to an implementation can perform these operations on it.</p>\n<p>Personally, I always like to make use of a <code>abstract</code> implementation to define some of the more &quot;common&quot; or &quot;boiler plate&quot; operations, for example, the handling of state changes is going to pretty common, so, we'll put those into out base implementation...</p>\n<pre><code>public abstract class AbstractTrackModel implements TrackModel {\n    private State state;\n    private List&lt;ChangeListener&gt; changeListeners;\n\n    public AbstractTrackModel() {\n        state = State.STOPPED;\n        changeListeners = new ArrayList&lt;&gt;(8);\n    }\n    \n    protected void setState(State state) {\n        if (this.state == state) {\n            return;\n        }\n        this.state = state;\n        fireStateDidChange();\n    }\n\n    @Override\n    public State getState() {\n        return state;\n    }\n\n    @Override\n    public void addChangeListener(ChangeListener changeListener) {\n        changeListeners.add(changeListener);\n    }\n\n    @Override\n    public void removeChangeListener(ChangeListener changeListener) {\n        changeListeners.remove(changeListener);\n    }\n    \n    protected void fireStateDidChange() {\n        ChangeEvent evt = new ChangeEvent(this);\n        for (ChangeListener listener : changeListeners) {\n            listener.stateChanged(evt);\n        }\n    }\n}\n</code></pre>\n<p>Next, we need a concrete implementation, so the following is a simple implementation that makes use of the <code>javax.sound.sampled.AudioSystem</code> and <code>javax.sound.sampled.CLip</code> APIs</p>\n<pre><code>public class AudioSystemClipTrackModel extends AbstractTrackModel {\n\n    private Clip clip;\n    private AudioInputStream stream;\n\n    public AudioSystemClipTrackModel(String named) throws UnsupportedAudioFileException, IOException, LineUnavailableException {\n        this.stream = AudioSystem.getAudioInputStream(getClass().getResource(named));\n        this.clip = AudioSystem.getClip();\n    }\n\n    protected AudioInputStream getStream() {\n        return stream;\n    }\n\n    @Override\n    public Clip getClip() {\n        return clip;\n    }\n\n    @Override\n    public boolean isOpen() {\n        return getClip().isOpen();\n    }\n\n    @Override\n    public void open() throws LineUnavailableException, IOException {\n        if (isOpen()) {\n            return;\n        }\n        getClip().open(getStream());\n    }\n\n    @Override\n    public void close() {\n        if (!isOpen()) {\n            return;\n        }\n        getClip().close();\n    }\n\n    @Override\n    public void play() throws IOException {\n        if (!isOpen()) {\n            throw new IOException(&quot;Track is not open&quot;);\n        }\n        clip.start();\n        setState(State.PLAYING);\n    }\n\n    @Override\n    public void stop() {\n        getClip().stop();\n        getClip().setFramePosition(0);\n        setState(State.STOPPED);\n    }\n\n    @Override\n    public void pause() {\n        getClip().stop();\n        setState(State.PAUSED);\n    }\n}\n</code></pre>\n<p>Wow, we haven't even got to the UI yet!  But the nice thing about this, is these classes will all work nicely without them.</p>\n<p>Next, we look at the UI...</p>\n<pre><code>public class PlayerPane extends JPanel {\n\n    private TrackModel model;\n    private JLabel stateLabel;\n    private ChangeListener changeListener;\n    private PlayerControlsPane controlsPane;\n\n    public PlayerPane(TrackModel model) {\n        changeListener = new ChangeListener() {\n            @Override\n            public void stateChanged(ChangeEvent e) {\n                configureState();\n            }\n        };\n\n        stateLabel = new JLabel(&quot;...&quot;);\n\n        setLayout(new GridBagLayout());\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.gridwidth = gbc.REMAINDER;\n\n        controlsPane = new PlayerControlsPane(model);\n        \n        add(stateLabel, gbc);\n        add(controlsPane, gbc);\n\n        setModel(model);\n    }\n\n    public void setModel(TrackModel model) {\n        if (this.model != null) {\n            this.model.removeChangeListener(changeListener);\n        }\n        this.model = model;\n        this.model.addChangeListener(changeListener);\n        configureState();\n        controlsPane.setModel(model);\n    }\n\n    public TrackModel getModel() {\n        return model;\n    }\n\n    protected void configureState() {\n        switch (getModel().getState()) {\n            case STOPPED:\n                stateLabel.setText(&quot;Stopped&quot;);\n                break;\n            case PLAYING:\n                stateLabel.setText(&quot;Playing&quot;);\n                break;\n            case PAUSED:\n                stateLabel.setText(&quot;Paused&quot;);\n                break;\n        }\n    }\n}\n\npublic class PlayerControlsPane extends JPanel {\n    private TrackModel model;\n\n    private JButton playButton;\n    private JButton stopButton;\n    private JButton pauseButton;\n\n    private ChangeListener changeListener;\n\n    public PlayerControlsPane(TrackModel model) {\n        changeListener = new ChangeListener() {\n            @Override\n            public void stateChanged(ChangeEvent e) {\n                configureState();\n            }\n        };\n        \n        setLayout(new GridLayout(1, -1));\n\n        playButton = Style.makeButton();\n        playButton.setText(&quot;Play&quot;);\n        playButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                try {\n                    model.play();\n                } catch (IOException ex) {\n                    JOptionPane.showMessageDialog(PlayerControlsPane.this, &quot;Track is not playable&quot;);\n                }\n            }\n        });\n\n        stopButton = new ButtonBuilder()\n                .withTitle(&quot;Stop&quot;)\n                .withActionListener(new ActionListener() {\n                    @Override\n                    public void actionPerformed(ActionEvent e) {\n                        model.stop();\n                    }\n                })\n                .build();\n\n        pauseButton = Style.makeButton(new PauseAction(model));\n        \n        add(playButton);\n        add(stopButton);\n        add(pauseButton);\n\n        setModel(model);\n    }\n\n    public void setModel(TrackModel model) {\n        if (this.model != null) {\n            this.model.removeChangeListener(changeListener);\n        }\n        this.model = model;\n        this.model.addChangeListener(changeListener);\n        configureState();\n    }\n\n    public TrackModel getModel() {\n        return model;\n    }\n\n    protected void configureState() {\n        switch (getModel().getState()) {\n            case STOPPED:\n                playButton.setEnabled(true);\n                stopButton.setEnabled(false);\n                pauseButton.setEnabled(false);\n                break;\n            case PLAYING:\n                playButton.setEnabled(false);\n                stopButton.setEnabled(true);\n                pauseButton.setEnabled(true);\n                break;\n            case PAUSED:\n                playButton.setEnabled(true);\n                stopButton.setEnabled(false);\n                pauseButton.setEnabled(false);\n                break;\n        }\n    }\n}\n\npublic class PauseAction extends AbstractAction {\n    private TrackModel model;\n\n    public PauseAction(TrackModel model) {\n        this.model = model;\n        putValue(NAME, &quot;Pause&quot;);\n        // Bunch of other possible keys\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        model.pause();\n    }\n}\n</code></pre>\n<p>The UI is, for demonstration purposes, broken into three elements.</p>\n<p>You have the primary player component, which contains a <code>PlayerControlsPane</code> and makes use of the <code>PauseAction</code> (again, for demonstration).</p>\n<p>The important thing here is, the player and control components are making us of the same model. They each attach a &quot;observer&quot; to the model and update their states independently based on the changes to the model.</p>\n<p>This plays into the concept of Dependency injection, for <a href=\"https://en.wikipedia.org/wiki/Dependency_injection#:%7E:text=In%20software%20engineering%2C%20dependency%20injection,leading%20to%20loosely%20coupled%20programs.\" rel=\"nofollow noreferrer\">example</a> and <a href=\"https://stackify.com/dependency-injection/\" rel=\"nofollow noreferrer\">example</a>.</p>\n<p>It also allows the player and controls to have different layout managers, without a lot of juggling.</p>\n<p>Now, do you need to do this with ever UI you make, no, but you should aim to do as many as possible, perfect practice makes perfect 😉</p>\n<h1>Parting comments...</h1>\n<p>Extending from a top level container, like <code>JFrame</code> is generally discouraged, you're not adding any new functionality to the class and you're locking yourself into a single use case.  What happens if you want to put the player into a different container?  Well, in your case, you can't, you're stuck.</p>\n<p>This also supports Composition Over Inheritance, for reference...</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Composition_over_inheritance#:%7E:text=To%20favor%20composition%20over%20inheritance,and%20creating%20a%20family%20tree.\" rel=\"nofollow noreferrer\">Composition over inheritance</a></li>\n<li><a href=\"https://stackoverflow.com/questions/49002/prefer-composition-over-inheritance\">Prefer composition over inheritance?</a></li>\n</ul>\n<p>... and I'm sure you can find lots more discussion on the subject.</p>\n<p>And, this <code>File filePath = new File(&quot;src/Tracks/Track.wav&quot;);</code> is going to be problematic.  Never reference <code>src</code> in your code, it won't exist once the program is built and exported.</p>\n<p>When the resource is embedded like this, you will need to use <code>Class#getResource</code> or <code>Class#getResourceAsStream</code>, depending on your API requirements - this is demonstrated in the code examples</p>\n<p>You should probably also look at the <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow noreferrer\">Model–view–controller</a> concept.</p>\n<h1>Runnable example...</h1>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.GridLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.sound.sampled.AudioInputStream;\nimport javax.sound.sampled.AudioSystem;\nimport javax.sound.sampled.Clip;\nimport javax.sound.sampled.LineUnavailableException;\nimport javax.sound.sampled.UnsupportedAudioFileException;\nimport javax.swing.AbstractAction;\nimport javax.swing.Action;\nimport static javax.swing.Action.NAME;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.event.ChangeEvent;\nimport javax.swing.event.ChangeListener;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JFrame frame = new JFrame();\n                    TrackModel track = new AudioSystemClipTrackModel(&quot;/sound/your embedded audio file&quot;);\n                    track.open();\n                    frame.add(new PlayerPane(track));\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (UnsupportedAudioFileException | IOException | LineUnavailableException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public interface TrackModel {\n        enum State {\n            STOPPED, PLAYING, PAUSED;\n        }\n        public Clip getClip();\n        public State getState();\n        public void open() throws LineUnavailableException, IOException;\n        public void close();\n        public boolean isOpen();\n        public void play() throws IOException;\n        public void stop();\n        public void pause();\n        public void addChangeListener(ChangeListener changeListener);\n        public void removeChangeListener(ChangeListener changeListener);\n    }\n\n    public abstract class AbstractTrackModel implements TrackModel {\n        private State state;\n        private List&lt;ChangeListener&gt; changeListeners;\n\n        public AbstractTrackModel() {\n            state = State.STOPPED;\n            changeListeners = new ArrayList&lt;&gt;(8);\n        }\n\n        protected void setState(State state) {\n            if (this.state == state) {\n                return;\n            }\n            this.state = state;\n            fireStateDidChange();\n        }\n\n        @Override\n        public State getState() {\n            return state;\n        }\n\n        @Override\n        public void addChangeListener(ChangeListener changeListener) {\n            changeListeners.add(changeListener);\n        }\n\n        @Override\n        public void removeChangeListener(ChangeListener changeListener) {\n            changeListeners.remove(changeListener);\n        }\n\n        protected void fireStateDidChange() {\n            ChangeEvent evt = new ChangeEvent(this);\n            for (ChangeListener listener : changeListeners) {\n                listener.stateChanged(evt);\n            }\n        }\n    }\n\n    public class AudioSystemClipTrackModel extends AbstractTrackModel {\n\n        private Clip clip;\n        private AudioInputStream stream;\n\n        public AudioSystemClipTrackModel(String named) throws UnsupportedAudioFileException, IOException, LineUnavailableException {\n            this.stream = AudioSystem.getAudioInputStream(getClass().getResource(named));\n            this.clip = AudioSystem.getClip();\n        }\n\n        protected AudioInputStream getStream() {\n            return stream;\n        }\n\n        @Override\n        public Clip getClip() {\n            return clip;\n        }\n\n        @Override\n        public boolean isOpen() {\n            return getClip().isOpen();\n        }\n\n        @Override\n        public void open() throws LineUnavailableException, IOException {\n            if (isOpen()) {\n                return;\n            }\n            getClip().open(getStream());\n        }\n\n        @Override\n        public void close() {\n            if (!isOpen()) {\n                return;\n            }\n            getClip().close();\n        }\n\n        @Override\n        public void play() throws IOException {\n            if (!isOpen()) {\n                throw new IOException(&quot;Track is not open&quot;);\n            }\n            clip.start();\n            setState(State.PLAYING);\n        }\n\n        @Override\n        public void stop() {\n            getClip().stop();\n            getClip().setFramePosition(0);\n            setState(State.STOPPED);\n        }\n\n        @Override\n        public void pause() {\n            getClip().stop();\n            setState(State.PAUSED);\n        }\n    }\n\n    public class Style {\n        public static JButton makeButton() {\n            JButton btn = new JButton();\n            // Apply any configuration you need\n            // by default\n            return btn;\n        }\n\n        public static JButton makeButton(Action action) {\n            JButton btn = makeButton();\n            btn.setAction(action);\n            return btn;\n        }\n    }\n\n    public class ButtonBuilder {\n        private String title;\n        private ActionListener actionListener;\n\n        public ButtonBuilder withTitle(String title) {\n            this.title = title;\n            return this;\n        }\n\n        public ButtonBuilder withActionListener(ActionListener actionListener) {\n            this.actionListener = actionListener;\n            return this;\n        }\n\n        // And any additional properties you might like to configure\n        public JButton build() {\n            JButton btn = new JButton();\n            if (title != null) {\n                btn.setText(title);\n            }\n            if (actionListener != null) {\n                btn.addActionListener(actionListener);\n            }\n            // Configure the button as you see fit\n            return btn;\n        }\n    }\n\n    public class PlayerPane extends JPanel {\n\n        private TrackModel model;\n        private JLabel stateLabel;\n        private ChangeListener changeListener;\n        private PlayerControlsPane controlsPane;\n\n        public PlayerPane(TrackModel model) {\n            changeListener = new ChangeListener() {\n                @Override\n                public void stateChanged(ChangeEvent e) {\n                    configureState();\n                }\n            };\n\n            stateLabel = new JLabel(&quot;...&quot;);\n\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = gbc.REMAINDER;\n\n            controlsPane = new PlayerControlsPane(model);\n\n            add(stateLabel, gbc);\n            add(controlsPane, gbc);\n\n            setModel(model);\n        }\n\n        public void setModel(TrackModel model) {\n            if (this.model != null) {\n                this.model.removeChangeListener(changeListener);\n            }\n            this.model = model;\n            this.model.addChangeListener(changeListener);\n            configureState();\n            controlsPane.setModel(model);\n        }\n\n        public TrackModel getModel() {\n            return model;\n        }\n\n        protected void configureState() {\n            switch (getModel().getState()) {\n                case STOPPED:\n                    stateLabel.setText(&quot;Stopped&quot;);\n                    break;\n                case PLAYING:\n                    stateLabel.setText(&quot;Playing&quot;);\n                    break;\n                case PAUSED:\n                    stateLabel.setText(&quot;Paused&quot;);\n                    break;\n            }\n        }\n    }\n\n    public class PlayerControlsPane extends JPanel {\n        private TrackModel model;\n\n        private JButton playButton;\n        private JButton stopButton;\n        private JButton pauseButton;\n\n        private ChangeListener changeListener;\n\n        public PlayerControlsPane(TrackModel model) {\n            changeListener = new ChangeListener() {\n                @Override\n                public void stateChanged(ChangeEvent e) {\n                    configureState();\n                }\n            };\n\n            setLayout(new GridLayout(1, -1));\n\n            playButton = Style.makeButton();\n            playButton.setText(&quot;Play&quot;);\n            playButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    try {\n                        model.play();\n                    } catch (IOException ex) {\n                        JOptionPane.showMessageDialog(PlayerControlsPane.this, &quot;Track is not playable&quot;);\n                    }\n                }\n            });\n\n            stopButton = new ButtonBuilder()\n                    .withTitle(&quot;Stop&quot;)\n                    .withActionListener(new ActionListener() {\n                        @Override\n                        public void actionPerformed(ActionEvent e) {\n                            model.stop();\n                        }\n                    })\n                    .build();\n\n            pauseButton = Style.makeButton(new PauseAction(model));\n\n            add(playButton);\n            add(stopButton);\n            add(pauseButton);\n\n            setModel(model);\n        }\n\n        public void setModel(TrackModel model) {\n            if (this.model != null) {\n                this.model.removeChangeListener(changeListener);\n            }\n            this.model = model;\n            this.model.addChangeListener(changeListener);\n            configureState();\n        }\n\n        public TrackModel getModel() {\n            return model;\n        }\n\n        protected void configureState() {\n            switch (getModel().getState()) {\n                case STOPPED:\n                    playButton.setEnabled(true);\n                    stopButton.setEnabled(false);\n                    pauseButton.setEnabled(false);\n                    break;\n                case PLAYING:\n                    playButton.setEnabled(false);\n                    stopButton.setEnabled(true);\n                    pauseButton.setEnabled(true);\n                    break;\n                case PAUSED:\n                    playButton.setEnabled(true);\n                    stopButton.setEnabled(false);\n                    pauseButton.setEnabled(false);\n                    break;\n            }\n        }\n    }\n\n    public class PauseAction extends AbstractAction {\n        private TrackModel model;\n\n        public PauseAction(TrackModel model) {\n            this.model = model;\n            putValue(NAME, &quot;Pause&quot;);\n            // Bunch of other possible keys\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            model.pause();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653539971,"creation_date":1653539644,"answer_id":72386729,"question_id":72385446,"body_markdown":"# Introduction\r\n\r\nYour code has problems with implementing Swing as well as being one main method.\r\n\r\nOracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  \r\n\r\nLet&#39;s take this step by step.\r\n\r\n# Step 1\r\n\r\nThe first thing I did was rename your main GUI class to something more meaningful, remove the player code, and focus on the GUI.  \r\n\r\nI added a call to the `SwingUtilities` `invokeLater` method.  This method ensures that the Swing components are created and executed on the [Event Dispatch Thread][1].\r\n\r\nHere&#39;s the result of that step.\r\n\r\n    import java.awt.Color;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.Font;\r\n    \r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.SwingConstants;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class SimpleMusicPlayer implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new SimpleMusicPlayer());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\t// Buttons\r\n    \t\tJButton playButton = new JButton(&quot;Play&quot;);\r\n    //\t\tplayButton.addActionListener(e -&gt; {\r\n    //\t\t\ttrack.start();\r\n    //\t\t});\r\n    \t\tplayButton.setHorizontalAlignment(SwingConstants.LEFT);\r\n    \t\tplayButton.setFont(new Font(&quot;JetBrains Mono&quot;, Font.BOLD, 25));\r\n    \t\tplayButton.setBounds(0, 0, 100, 50);\r\n    \r\n    \t\tJButton pauseButton = new JButton(&quot;Pause&quot;);\r\n    //\t\tpauseButton.addActionListener(e -&gt; {\r\n    //\t\t\ttrack.stop();\r\n    //\t\t});\r\n    \t\tpauseButton.setHorizontalAlignment(SwingConstants.CENTER);\r\n    \t\tpauseButton.setFont(new Font(&quot;JetBrains Mono&quot;, Font.BOLD, 25));\r\n    \t\tpauseButton.setBounds(150, 0, 100, 50);\r\n    \r\n    \t\tJButton replayButton = new JButton(&quot;Replay&quot;);\r\n    //\t\treplayButton.addActionListener(e -&gt; {\r\n    //\t\t\ttrack.setMicrosecondPosition(0);\r\n    //\t\t});\r\n    \t\treplayButton.setHorizontalAlignment(SwingConstants.RIGHT);\r\n    \t\treplayButton.setFont(new Font(&quot;JetBrains Mono&quot;, Font.BOLD, 25));\r\n    \t\treplayButton.setBounds(300, 0, 100, 50);\r\n    \r\n    \t\t// Frame\r\n    \t\tJFrame frame = new JFrame();\r\n    \t\tframe.setTitle(&quot;MusicPlayer&quot;);\r\n    \t\tframe.setSize(500, 300);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.setVisible(true);\r\n    \t\tframe.getContentPane().setBackground(new Color(123, 100, 250));\r\n    \t\tframe.setLayout(new FlowLayout());\r\n    \t\tframe.add(playButton);\r\n    \t\tframe.add(pauseButton);\r\n    \t\tframe.add(replayButton);\r\n    \t}\r\n    \r\n    }\r\n\r\nThis step took the code out of the static realm.\r\n\r\n# Step 2\r\n\r\nThere are a couple of changes in the next step.\r\n\r\n- I created a `JPanel` to hold the `JButtons`.  The `JPanel` uses a `FlowLayout` to arrange the buttons in a row.  I added some spacing around and between the buttons.\r\n\r\n- I rearranged the `JFrame` method calls.  These methods **must be called in a specific order**.  The `setVisible` method **must be called last**.\r\n\r\nHere&#39;s the result of that step.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.Font;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class SimpleMusicPlayer implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new SimpleMusicPlayer());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;Music Player&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tframe.add(createMainPanel(), BorderLayout.CENTER);\r\n    \t\t\r\n    \t\tframe.setSize(500, 300);\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \t\r\n    \tprivate JPanel createMainPanel() {\r\n    \t\tJPanel panel = new JPanel(new FlowLayout(FlowLayout.CENTER, 30, 5));\r\n    \t\tpanel.setBackground(new Color(123, 100, 250));\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\r\n    \t\tFont font = new Font(&quot;JetBrains Mono&quot;, Font.BOLD, 25);\r\n    \t\t\r\n    \t\tJButton playButton = new JButton(&quot;Play&quot;);\r\n    //\t\tplayButton.addActionListener(e -&gt; {\r\n    //\t\t\ttrack.start();\r\n    //\t\t});\r\n    \t\tplayButton.setFont(font);\r\n    \t\tpanel.add(playButton);\r\n    \t\t\r\n    \t\tJButton pauseButton = new JButton(&quot;Pause&quot;);\r\n    //\t\tpauseButton.addActionListener(e -&gt; {\r\n    //\t\t\ttrack.stop();\r\n    //\t\t});\r\n    \t\tpauseButton.setFont(font);\r\n    \t\tpanel.add(pauseButton);\r\n    \r\n    \t\tJButton replayButton = new JButton(&quot;Replay&quot;);\r\n    //\t\treplayButton.addActionListener(e -&gt; {\r\n    //\t\t\ttrack.setMicrosecondPosition(0);\r\n    //\t\t});\r\n    \t\treplayButton.setFont(font);\r\n    \t\tpanel.add(replayButton);\r\n    \t\t\r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    }\r\n\r\nSince this is a simple GUI, this concludes the GUI cleanup.\r\n\r\n# Step 3\r\n\r\nNow, we add the audio back in as a separate class.  This class becomes the model of our Swing application.\r\n\r\nI didn&#39;t test this, since I don&#39;t have a WAV file handy.\r\n\r\nHere&#39;s the result of that step.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.Font;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    import javax.sound.sampled.AudioInputStream;\r\n    import javax.sound.sampled.AudioSystem;\r\n    import javax.sound.sampled.Clip;\r\n    import javax.sound.sampled.LineUnavailableException;\r\n    import javax.sound.sampled.UnsupportedAudioFileException;\r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class SimpleMusicPlayer implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new SimpleMusicPlayer());\r\n    \t}\r\n    \t\r\n    \tprivate final MusicPlayer player;\r\n    \t\r\n    \tpublic SimpleMusicPlayer() {\r\n    \t\tthis.player = new MusicPlayer(&quot;src/Tracks/Track.wav&quot;);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;Music Player&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tframe.add(createMainPanel(), BorderLayout.CENTER);\r\n    \t\t\r\n    \t\tframe.setSize(500, 300);\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \t\r\n    \tprivate JPanel createMainPanel() {\r\n    \t\tJPanel panel = new JPanel(new FlowLayout(FlowLayout.CENTER, 30, 5));\r\n    \t\tpanel.setBackground(new Color(123, 100, 250));\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\r\n    \t\tFont font = new Font(&quot;JetBrains Mono&quot;, Font.BOLD, 25);\r\n    \t\t\r\n    \t\tJButton playButton = new JButton(&quot;Play&quot;);\r\n    \t\tplayButton.addActionListener(e -&gt; {\r\n    \t\t\tplayer.start();\r\n    \t\t});\r\n    \t\tplayButton.setFont(font);\r\n    \t\tpanel.add(playButton);\r\n    \t\t\r\n    \t\tJButton pauseButton = new JButton(&quot;Pause&quot;);\r\n    \t\tpauseButton.addActionListener(e -&gt; {\r\n    \t\t\tplayer.stop();\r\n    \t\t});\r\n    \t\tpauseButton.setFont(font);\r\n    \t\tpanel.add(pauseButton);\r\n    \r\n    \t\tJButton replayButton = new JButton(&quot;Replay&quot;);\r\n    \t\treplayButton.addActionListener(e -&gt; {\r\n    \t\t\tplayer.replay();\r\n    \t\t});\r\n    \t\treplayButton.setFont(font);\r\n    \t\tpanel.add(replayButton);\r\n    \t\t\r\n    \t\treturn panel;\r\n    \t}\r\n    \t\r\n    \tpublic class MusicPlayer {\r\n    \t\t\r\n    \t\tprivate final Clip track;\r\n    \r\n    \t\tpublic MusicPlayer(String filename) {\r\n    \t\t\tthis.track = openClip(filename);\r\n    \t\t}\r\n    \t\t\r\n    \t\tprivate Clip openClip(String filename) {\r\n    \t\t\ttry {\r\n    \t\t\t\tFile filePath = new File(filename);\r\n    \t\t\t\tAudioInputStream stream = AudioSystem.getAudioInputStream(filePath);\r\n    \t\t\t\tClip track = AudioSystem.getClip();\r\n    \t\t\t\ttrack.open(stream);\r\n    \t\t\t\treturn track;\r\n    \t\t\t} catch (UnsupportedAudioFileException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t} catch (LineUnavailableException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic void start() {\r\n    \t\t\tif (track != null) {\r\n    \t\t\t\ttrack.start();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic void stop() {\r\n    \t\t\tif (track != null) {\r\n    \t\t\t\ttrack.stop();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic void replay() {\r\n    \t\t\tif (track != null) {\r\n    \t\t\t\ttrack.setMicrosecondPosition(0);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\r\n\r\n\r\n\r\n","title":"How do you seperate Java logic from Swing GUI into different files/packages?","body":"<h1>Introduction</h1>\n<p>Your code has problems with implementing Swing as well as being one main method.</p>\n<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.</p>\n<p>Let's take this step by step.</p>\n<h1>Step 1</h1>\n<p>The first thing I did was rename your main GUI class to something more meaningful, remove the player code, and focus on the GUI.</p>\n<p>I added a call to the <code>SwingUtilities</code> <code>invokeLater</code> method.  This method ensures that the Swing components are created and executed on the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">Event Dispatch Thread</a>.</p>\n<p>Here's the result of that step.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.FlowLayout;\nimport java.awt.Font;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.SwingConstants;\nimport javax.swing.SwingUtilities;\n\npublic class SimpleMusicPlayer implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new SimpleMusicPlayer());\n    }\n\n    @Override\n    public void run() {\n        // Buttons\n        JButton playButton = new JButton(&quot;Play&quot;);\n//      playButton.addActionListener(e -&gt; {\n//          track.start();\n//      });\n        playButton.setHorizontalAlignment(SwingConstants.LEFT);\n        playButton.setFont(new Font(&quot;JetBrains Mono&quot;, Font.BOLD, 25));\n        playButton.setBounds(0, 0, 100, 50);\n\n        JButton pauseButton = new JButton(&quot;Pause&quot;);\n//      pauseButton.addActionListener(e -&gt; {\n//          track.stop();\n//      });\n        pauseButton.setHorizontalAlignment(SwingConstants.CENTER);\n        pauseButton.setFont(new Font(&quot;JetBrains Mono&quot;, Font.BOLD, 25));\n        pauseButton.setBounds(150, 0, 100, 50);\n\n        JButton replayButton = new JButton(&quot;Replay&quot;);\n//      replayButton.addActionListener(e -&gt; {\n//          track.setMicrosecondPosition(0);\n//      });\n        replayButton.setHorizontalAlignment(SwingConstants.RIGHT);\n        replayButton.setFont(new Font(&quot;JetBrains Mono&quot;, Font.BOLD, 25));\n        replayButton.setBounds(300, 0, 100, 50);\n\n        // Frame\n        JFrame frame = new JFrame();\n        frame.setTitle(&quot;MusicPlayer&quot;);\n        frame.setSize(500, 300);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n        frame.getContentPane().setBackground(new Color(123, 100, 250));\n        frame.setLayout(new FlowLayout());\n        frame.add(playButton);\n        frame.add(pauseButton);\n        frame.add(replayButton);\n    }\n\n}\n</code></pre>\n<p>This step took the code out of the static realm.</p>\n<h1>Step 2</h1>\n<p>There are a couple of changes in the next step.</p>\n<ul>\n<li><p>I created a <code>JPanel</code> to hold the <code>JButtons</code>.  The <code>JPanel</code> uses a <code>FlowLayout</code> to arrange the buttons in a row.  I added some spacing around and between the buttons.</p>\n</li>\n<li><p>I rearranged the <code>JFrame</code> method calls.  These methods <strong>must be called in a specific order</strong>.  The <code>setVisible</code> method <strong>must be called last</strong>.</p>\n</li>\n</ul>\n<p>Here's the result of that step.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.FlowLayout;\nimport java.awt.Font;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class SimpleMusicPlayer implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new SimpleMusicPlayer());\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Music Player&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        frame.add(createMainPanel(), BorderLayout.CENTER);\n        \n        frame.setSize(500, 300);\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n    \n    private JPanel createMainPanel() {\n        JPanel panel = new JPanel(new FlowLayout(FlowLayout.CENTER, 30, 5));\n        panel.setBackground(new Color(123, 100, 250));\n        panel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\n        Font font = new Font(&quot;JetBrains Mono&quot;, Font.BOLD, 25);\n        \n        JButton playButton = new JButton(&quot;Play&quot;);\n//      playButton.addActionListener(e -&gt; {\n//          track.start();\n//      });\n        playButton.setFont(font);\n        panel.add(playButton);\n        \n        JButton pauseButton = new JButton(&quot;Pause&quot;);\n//      pauseButton.addActionListener(e -&gt; {\n//          track.stop();\n//      });\n        pauseButton.setFont(font);\n        panel.add(pauseButton);\n\n        JButton replayButton = new JButton(&quot;Replay&quot;);\n//      replayButton.addActionListener(e -&gt; {\n//          track.setMicrosecondPosition(0);\n//      });\n        replayButton.setFont(font);\n        panel.add(replayButton);\n        \n        return panel;\n    }\n\n}\n</code></pre>\n<p>Since this is a simple GUI, this concludes the GUI cleanup.</p>\n<h1>Step 3</h1>\n<p>Now, we add the audio back in as a separate class.  This class becomes the model of our Swing application.</p>\n<p>I didn't test this, since I don't have a WAV file handy.</p>\n<p>Here's the result of that step.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.FlowLayout;\nimport java.awt.Font;\nimport java.io.File;\nimport java.io.IOException;\n\nimport javax.sound.sampled.AudioInputStream;\nimport javax.sound.sampled.AudioSystem;\nimport javax.sound.sampled.Clip;\nimport javax.sound.sampled.LineUnavailableException;\nimport javax.sound.sampled.UnsupportedAudioFileException;\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class SimpleMusicPlayer implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new SimpleMusicPlayer());\n    }\n    \n    private final MusicPlayer player;\n    \n    public SimpleMusicPlayer() {\n        this.player = new MusicPlayer(&quot;src/Tracks/Track.wav&quot;);\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Music Player&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        frame.add(createMainPanel(), BorderLayout.CENTER);\n        \n        frame.setSize(500, 300);\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n    \n    private JPanel createMainPanel() {\n        JPanel panel = new JPanel(new FlowLayout(FlowLayout.CENTER, 30, 5));\n        panel.setBackground(new Color(123, 100, 250));\n        panel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\n        Font font = new Font(&quot;JetBrains Mono&quot;, Font.BOLD, 25);\n        \n        JButton playButton = new JButton(&quot;Play&quot;);\n        playButton.addActionListener(e -&gt; {\n            player.start();\n        });\n        playButton.setFont(font);\n        panel.add(playButton);\n        \n        JButton pauseButton = new JButton(&quot;Pause&quot;);\n        pauseButton.addActionListener(e -&gt; {\n            player.stop();\n        });\n        pauseButton.setFont(font);\n        panel.add(pauseButton);\n\n        JButton replayButton = new JButton(&quot;Replay&quot;);\n        replayButton.addActionListener(e -&gt; {\n            player.replay();\n        });\n        replayButton.setFont(font);\n        panel.add(replayButton);\n        \n        return panel;\n    }\n    \n    public class MusicPlayer {\n        \n        private final Clip track;\n\n        public MusicPlayer(String filename) {\n            this.track = openClip(filename);\n        }\n        \n        private Clip openClip(String filename) {\n            try {\n                File filePath = new File(filename);\n                AudioInputStream stream = AudioSystem.getAudioInputStream(filePath);\n                Clip track = AudioSystem.getClip();\n                track.open(stream);\n                return track;\n            } catch (UnsupportedAudioFileException e) {\n                e.printStackTrace();\n            } catch (IOException e) {\n                e.printStackTrace();\n            } catch (LineUnavailableException e) {\n                e.printStackTrace();\n            }\n            return null;\n        }\n        \n        public void start() {\n            if (track != null) {\n                track.start();\n            }\n        }\n        \n        public void stop() {\n            if (track != null) {\n                track.stop();\n            }\n        }\n        \n        public void replay() {\n            if (track != null) {\n                track.setMicrosecondPosition(0);\n            }\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":24938621,"reputation":61,"user_id":18804841,"display_name":"alecnazzy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1678963897,"creation_date":1653524862,"question_id":72385446,"body_markdown":"This is just a simple audio player that I was messing around with to dip my feet into making a GUI. How do you efficiently seperate Java logic and the GUI elements into different files and packages? I tried creating methods in the main class to perform the ActionListeners but the &quot;track&quot; object can&#39;t be globally used. This is my first time messing with Swing and GUI&#39;s in general.\r\n\r\n \r\n\r\n    import javax.sound.sampled.*;\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.io.*;\r\n\r\n    public class Main extends JFrame{\r\n\r\n    public static void main(String[] args) throws LineUnavailableException,         IOException, UnsupportedAudioFileException {\r\n\r\n        // Audio\r\n        File filePath = new File(&quot;src/Tracks/Track.wav&quot;);\r\n        AudioInputStream stream = AudioSystem.getAudioInputStream(filePath);\r\n        Clip track = AudioSystem.getClip();\r\n        track.open(stream);\r\n\r\n        // Buttons\r\n        JButton playButton = new JButton(&quot;Play&quot;);\r\n        playButton.addActionListener(e -&gt; {track.start();});\r\n        playButton.setHorizontalAlignment(SwingConstants.LEFT);\r\n        playButton.setFont(new Font(&quot;JetBrains Mono&quot;, Font.BOLD, 25));\r\n        playButton.setBounds(0,0,100,50);\r\n\r\n        JButton pauseButton = new JButton(&quot;Pause&quot;);\r\n        pauseButton.addActionListener(e -&gt; {track.stop();});\r\n        pauseButton.setHorizontalAlignment(SwingConstants.CENTER);\r\n        pauseButton.setFont(new Font(&quot;JetBrains Mono&quot;, Font.BOLD, 25));\r\n        pauseButton.setBounds(150,0,100,50);\r\n\r\n        JButton replayButton = new JButton(&quot;Replay&quot;);\r\n        replayButton.addActionListener(e -&gt; {track.setMicrosecondPosition(0);});\r\n        replayButton.setHorizontalAlignment(SwingConstants.RIGHT);\r\n        replayButton.setFont(new Font(&quot;JetBrains Mono&quot;, Font.BOLD, 25));\r\n        replayButton.setBounds(300,0,100,50);\r\n\r\n        // Frame\r\n        JFrame frame = new JFrame();\r\n        frame.setTitle(&quot;MusicPlayer&quot;);\r\n        frame.setSize(500, 300);\r\n        frame.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n        frame.setVisible(true);\r\n        frame.getContentPane().setBackground(new Color(123, 100, 250));\r\n        frame.setLayout(new FlowLayout());\r\n        frame.add(playButton);\r\n        frame.add(pauseButton);\r\n        frame.add(replayButton);\r\n      }\r\n    }\r\n\r\n\r\n","title":"How do you seperate Java logic from Swing GUI into different files/packages?","body":"<p>This is just a simple audio player that I was messing around with to dip my feet into making a GUI. How do you efficiently seperate Java logic and the GUI elements into different files and packages? I tried creating methods in the main class to perform the ActionListeners but the &quot;track&quot; object can't be globally used. This is my first time messing with Swing and GUI's in general.</p>\n<pre><code>import javax.sound.sampled.*;\nimport javax.swing.*;\nimport java.awt.*;\nimport java.io.*;\n\npublic class Main extends JFrame{\n\npublic static void main(String[] args) throws LineUnavailableException,         IOException, UnsupportedAudioFileException {\n\n    // Audio\n    File filePath = new File(&quot;src/Tracks/Track.wav&quot;);\n    AudioInputStream stream = AudioSystem.getAudioInputStream(filePath);\n    Clip track = AudioSystem.getClip();\n    track.open(stream);\n\n    // Buttons\n    JButton playButton = new JButton(&quot;Play&quot;);\n    playButton.addActionListener(e -&gt; {track.start();});\n    playButton.setHorizontalAlignment(SwingConstants.LEFT);\n    playButton.setFont(new Font(&quot;JetBrains Mono&quot;, Font.BOLD, 25));\n    playButton.setBounds(0,0,100,50);\n\n    JButton pauseButton = new JButton(&quot;Pause&quot;);\n    pauseButton.addActionListener(e -&gt; {track.stop();});\n    pauseButton.setHorizontalAlignment(SwingConstants.CENTER);\n    pauseButton.setFont(new Font(&quot;JetBrains Mono&quot;, Font.BOLD, 25));\n    pauseButton.setBounds(150,0,100,50);\n\n    JButton replayButton = new JButton(&quot;Replay&quot;);\n    replayButton.addActionListener(e -&gt; {track.setMicrosecondPosition(0);});\n    replayButton.setHorizontalAlignment(SwingConstants.RIGHT);\n    replayButton.setFont(new Font(&quot;JetBrains Mono&quot;, Font.BOLD, 25));\n    replayButton.setBounds(300,0,100,50);\n\n    // Frame\n    JFrame frame = new JFrame();\n    frame.setTitle(&quot;MusicPlayer&quot;);\n    frame.setSize(500, 300);\n    frame.setDefaultCloseOperation(EXIT_ON_CLOSE);\n    frame.setVisible(true);\n    frame.getContentPane().setBackground(new Color(123, 100, 250));\n    frame.setLayout(new FlowLayout());\n    frame.add(playButton);\n    frame.add(pauseButton);\n    frame.add(replayButton);\n  }\n}\n</code></pre>\n"},{"tags":["java","logback"],"comments":[{"owner":{"account_id":46548,"reputation":3722,"user_id":137584,"accept_rate":100,"display_name":"Philippe Carriere"},"score":0,"creation_date":1340396152,"post_id":11162951,"comment_id":14641319,"body_markdown":"I agree with Peter Lawrey on both counts.","body":"I agree with Peter Lawrey on both counts."}],"answers":[{"tags":[],"owner":{"account_id":35628,"reputation":26827,"user_id":100970,"display_name":"Ceki"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1372804728,"creation_date":1340442805,"answer_id":11168272,"question_id":11162951,"body_markdown":"As Peter mentioned, writing a [custom conversion specifier][1] is your best option at the moment (June 2012). Here is sample code:\r\n\r\n    import ch.qos.logback.classic.spi.ILoggingEvent;\r\n    import ch.qos.logback.classic.pattern.ClassicConverter ;\r\n    import java.util.concurrent.atomic.AtomicLong;\r\n    \r\n    public class LocalSequenceNumberConverter extends ClassicConverter {\r\n    \r\n      AtomicLong sequenceNumber = new AtomicLong(0);\r\n    \r\n      @Override\r\n      public String convert(ILoggingEvent event) {\r\n        return Long.toString(sequenceNumber.getAndIncrement());\r\n      }\r\n    }\r\n\r\nPlease post on the logback-user mailing if you need further help.\r\n\r\n  [1]: http://logback.qos.ch/manual/layouts.html#customConversionSpecifier\r\n","title":"Line numbers with logback","body":"<p>As Peter mentioned, writing a <a href=\"http://logback.qos.ch/manual/layouts.html#customConversionSpecifier\" rel=\"nofollow\">custom conversion specifier</a> is your best option at the moment (June 2012). Here is sample code:</p>\n\n<pre><code>import ch.qos.logback.classic.spi.ILoggingEvent;\nimport ch.qos.logback.classic.pattern.ClassicConverter ;\nimport java.util.concurrent.atomic.AtomicLong;\n\npublic class LocalSequenceNumberConverter extends ClassicConverter {\n\n  AtomicLong sequenceNumber = new AtomicLong(0);\n\n  @Override\n  public String convert(ILoggingEvent event) {\n    return Long.toString(sequenceNumber.getAndIncrement());\n  }\n}\n</code></pre>\n\n<p>Please post on the logback-user mailing if you need further help.</p>\n"},{"tags":[],"owner":{"account_id":221275,"reputation":1900,"user_id":479159,"display_name":"Andrei Damian-Fekete"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678963546,"creation_date":1678963546,"answer_id":75755149,"question_id":11162951,"body_markdown":"If you&#39;re outputting JSON, you can use the [SequenceJsonProvider](https://javadoc.io/static/net.logstash.logback/logstash-logback-encoder/7.1.1/net/logstash/logback/composite/loggingevent/SequenceJsonProvider.html) to add the field `sequence`.\r\n\r\n&gt; Outputs an incrementing sequence number. Useful for determining if log events get lost along the transport chain.\r\n\r\n    &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\r\n        &lt;provider class=&quot;net.logstash.logback.composite.loggingevent.SequenceJsonProvider&quot;/&gt;\r\n    &lt;/encoder&gt;\r\n","title":"Line numbers with logback","body":"<p>If you're outputting JSON, you can use the <a href=\"https://javadoc.io/static/net.logstash.logback/logstash-logback-encoder/7.1.1/net/logstash/logback/composite/loggingevent/SequenceJsonProvider.html\" rel=\"nofollow noreferrer\">SequenceJsonProvider</a> to add the field <code>sequence</code>.</p>\n<blockquote>\n<p>Outputs an incrementing sequence number. Useful for determining if log events get lost along the transport chain.</p>\n</blockquote>\n<pre><code>&lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\n    &lt;provider class=&quot;net.logstash.logback.composite.loggingevent.SequenceJsonProvider&quot;/&gt;\n&lt;/encoder&gt;\n</code></pre>\n"}],"owner":{"account_id":599,"reputation":18901,"user_id":779,"accept_rate":61,"display_name":"naumcho"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1516,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":11168272,"answer_count":2,"score":1,"last_activity_date":1678963546,"creation_date":1340393695,"question_id":11162951,"body_markdown":"I want to add line numbers (just a sequential integer that keeps incrementing on each log line) to my logback config - how do I do that? I looked through the properties available in the [docs][1] but i couldn&#39;t see it anywhere. What am I missing?\r\n\r\n\r\n  [1]: http://logback.qos.ch/manual/layouts.html","title":"Line numbers with logback","body":"<p>I want to add line numbers (just a sequential integer that keeps incrementing on each log line) to my logback config - how do I do that? I looked through the properties available in the <a href=\"http://logback.qos.ch/manual/layouts.html\" rel=\"nofollow\">docs</a> but i couldn't see it anywhere. What am I missing?</p>\n"},{"tags":["java","json","jackson","gson"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1678995420,"post_id":75755110,"comment_id":133645980,"body_markdown":"Do you mean you encountered an issue (if so, what specific issue), or did you really not find any code for how to do this? Because for both Gson and Jackson this is the standard use case; Gson: `new Gson().fromJson(json, ViewModelPOJO.class)`; Jackson: `new ObjectMapper().readValue(json, ViewModelPOJO.class)`","body":"Do you mean you encountered an issue (if so, what specific issue), or did you really not find any code for how to do this? Because for both Gson and Jackson this is the standard use case; Gson: <code>new Gson().fromJson(json, ViewModelPOJO.class)</code>; Jackson: <code>new ObjectMapper().readValue(json, ViewModelPOJO.class)</code>"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":1,"creation_date":1678995574,"post_id":75755110,"comment_id":133646018,"body_markdown":"Also, the `DeviceNode#metaData` field should probably be lowercased (`metadata`) to match your JSON data, or you have to use Gson or Jackson annotations to specify the custom name for the field.","body":"Also, the <code>DeviceNode#metaData</code> field should probably be lowercased (<code>metadata</code>) to match your JSON data, or you have to use Gson or Jackson annotations to specify the custom name for the field."},{"owner":{"account_id":18733057,"reputation":64,"user_id":13658008,"display_name":"Abhishek Ranjan"},"score":0,"creation_date":1678996309,"post_id":75755110,"comment_id":133646208,"body_markdown":"I guess that was the issue. I have to use `JsonProperty` annotation. After doing so parsing was successful.","body":"I guess that was the issue. I have to use <code>JsonProperty</code> annotation. After doing so parsing was successful."}],"owner":{"account_id":18733057,"reputation":64,"user_id":13658008,"display_name":"Abhishek Ranjan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678963374,"creation_date":1678963374,"question_id":75755110,"body_markdown":"I have a JSON file that looks like this\r\n```\r\n{\r\n  &quot;deviceNodes&quot;: [\r\n    {\r\n      &quot;header&quot;: &quot;Mobiles&quot;,\r\n      &quot;metadata&quot;: &quot;&quot;,\r\n      &quot;children&quot;: [\r\n        {\r\n          &quot;header&quot;: &quot;Apple&quot;,\r\n          &quot;metadata&quot;: &quot;&quot;,\r\n          &quot;children&quot;: [\r\n            {\r\n              &quot;header&quot;: &quot;Apple iPhone 13&quot;,\r\n              &quot;metadata&quot;: &quot;M1,M2&quot;,\r\n              &quot;children&quot;: []\r\n            },\r\n            {\r\n              &quot;header&quot;: &quot;Apple iPhone 13 Pro&quot;,\r\n              &quot;metadata&quot;: &quot;M1,M2&quot;,\r\n              &quot;children&quot;: []\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          &quot;header&quot;: &quot;Samsung&quot;,\r\n          &quot;metadata&quot;: &quot;&quot;,\r\n          &quot;children&quot;: [\r\n            {\r\n              &quot;header&quot;: &quot;Samsung Galaxy S22&quot;,\r\n              &quot;metadata&quot;: &quot;M1,M2&quot;,\r\n              &quot;children&quot;: []\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      &quot;header&quot;: &quot;Tablets&quot;,\r\n      &quot;metadata&quot;: &quot;&quot;,\r\n      &quot;children&quot;: [\r\n        {\r\n          &quot;header&quot;: &quot;Apple&quot;,\r\n          &quot;metadata&quot;: &quot;&quot;,\r\n          &quot;children&quot;: [\r\n            {\r\n              &quot;header&quot;: &quot;iPad 13&quot;,\r\n              &quot;metadata&quot;: &quot;M1,M2&quot;,\r\n              &quot;children&quot;: []\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```\r\nI want to parse this JSON file to a POJO class named `ViewModelPOJO`. Is there any any way I can achieve this using Jackson/Gson. I tried searching on web but didn&#39;t find any relevant strategy.\r\n```\r\nclass ViewModelPOJO {\r\n  List&lt;DeviceNode&gt; deviceNodes;\r\n}\r\n\r\npublic class DeviceNode {\r\n  private String header;\r\n  private List&lt;DeviceNode&gt; children;\r\n  private String metaData;\r\n}\r\n```","title":"Parse tree structured json file to POJO class","body":"<p>I have a JSON file that looks like this</p>\n<pre><code>{\n  &quot;deviceNodes&quot;: [\n    {\n      &quot;header&quot;: &quot;Mobiles&quot;,\n      &quot;metadata&quot;: &quot;&quot;,\n      &quot;children&quot;: [\n        {\n          &quot;header&quot;: &quot;Apple&quot;,\n          &quot;metadata&quot;: &quot;&quot;,\n          &quot;children&quot;: [\n            {\n              &quot;header&quot;: &quot;Apple iPhone 13&quot;,\n              &quot;metadata&quot;: &quot;M1,M2&quot;,\n              &quot;children&quot;: []\n            },\n            {\n              &quot;header&quot;: &quot;Apple iPhone 13 Pro&quot;,\n              &quot;metadata&quot;: &quot;M1,M2&quot;,\n              &quot;children&quot;: []\n            }\n          ]\n        },\n        {\n          &quot;header&quot;: &quot;Samsung&quot;,\n          &quot;metadata&quot;: &quot;&quot;,\n          &quot;children&quot;: [\n            {\n              &quot;header&quot;: &quot;Samsung Galaxy S22&quot;,\n              &quot;metadata&quot;: &quot;M1,M2&quot;,\n              &quot;children&quot;: []\n            }\n          ]\n        }\n      ]\n    },\n    {\n      &quot;header&quot;: &quot;Tablets&quot;,\n      &quot;metadata&quot;: &quot;&quot;,\n      &quot;children&quot;: [\n        {\n          &quot;header&quot;: &quot;Apple&quot;,\n          &quot;metadata&quot;: &quot;&quot;,\n          &quot;children&quot;: [\n            {\n              &quot;header&quot;: &quot;iPad 13&quot;,\n              &quot;metadata&quot;: &quot;M1,M2&quot;,\n              &quot;children&quot;: []\n            }\n          ]\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n<p>I want to parse this JSON file to a POJO class named <code>ViewModelPOJO</code>. Is there any any way I can achieve this using Jackson/Gson. I tried searching on web but didn't find any relevant strategy.</p>\n<pre><code>class ViewModelPOJO {\n  List&lt;DeviceNode&gt; deviceNodes;\n}\n\npublic class DeviceNode {\n  private String header;\n  private List&lt;DeviceNode&gt; children;\n  private String metaData;\n}\n</code></pre>\n"},{"tags":["java","multithreading","wait","scheduledexecutorservice"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678960014,"post_id":75754287,"comment_id":133635136,"body_markdown":"I&#39;m not quite sure why this works at all, as you&#39;re waiting on an object you haven&#39;t synchronized on.","body":"I&#39;m not quite sure why this works at all, as you&#39;re waiting on an object you haven&#39;t synchronized on."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1678960901,"post_id":75754287,"comment_id":133635402,"body_markdown":"@tgdavies exactly - it throws, and therefore the executor halts the sequence of task executions.","body":"@tgdavies exactly - it throws, and therefore the executor halts the sequence of task executions."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678960995,"post_id":75754287,"comment_id":133635426,"body_markdown":"Ah - missed that only InterruptedException was being caught!","body":"Ah - missed that only InterruptedException was being caught!"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678961036,"post_id":75754287,"comment_id":133635437,"body_markdown":"Does this answer your question? [Why must wait() always be in synchronized block](https://stackoverflow.com/questions/2779484/why-must-wait-always-be-in-synchronized-block)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2779484/why-must-wait-always-be-in-synchronized-block\">Why must wait() always be in synchronized block</a>"}],"answers":[{"tags":[],"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1678963373,"creation_date":1678960340,"answer_id":75754503,"question_id":75754287,"body_markdown":"It&#39;s because you are calling [`Object.wait()`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#wait(long)), and that throws\r\n\r\n&gt; IllegalMonitorStateException - if the current thread is not the owner of the object&#39;s monitor\r\n\r\nyour thread does not own the monitor for `this` (the worker), so it throws.\r\n\r\nAs you only catch `InterruptedException`, it is not caught within the runnable (but the finally block executes).\r\n\r\n[`ScheduledThreadPoolExecutor.scheduleWithFixedDelay()`][1] documents:\r\n\r\n&gt; The sequence of task executions continues indefinitely until one of the following exceptional completions occur: \r\n&gt; \r\n&gt; [...]  \r\n&gt; An execution of the task throws an exception. [...]\r\n\r\ntherefore it terminates.\r\n\r\n----------\r\n\r\nAs the [answer by rzwitserloot][2] already provides a great explanation about how `Object.wait()` and `Object.notify()` are meant to be used, let me just add that there is an alternative implementation of the underlying concept (called Condition Variable) in the class [`Condition`][2] which includes a code example for a use case in the JavaDocs.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ScheduledThreadPoolExecutor.html#scheduleWithFixedDelay(java.lang.Runnable,long,long,java.util.concurrent.TimeUnit)\r\n  [2]: https://stackoverflow.com/a/75754750/2513200","title":"Why does thread wait(milis) halt scheduled executor?","body":"<p>It's because you are calling <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#wait(long)\" rel=\"nofollow noreferrer\"><code>Object.wait()</code></a>, and that throws</p>\n<blockquote>\n<p>IllegalMonitorStateException - if the current thread is not the owner of the object's monitor</p>\n</blockquote>\n<p>your thread does not own the monitor for <code>this</code> (the worker), so it throws.</p>\n<p>As you only catch <code>InterruptedException</code>, it is not caught within the runnable (but the finally block executes).</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ScheduledThreadPoolExecutor.html#scheduleWithFixedDelay(java.lang.Runnable,long,long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\"><code>ScheduledThreadPoolExecutor.scheduleWithFixedDelay()</code></a> documents:</p>\n<blockquote>\n<p>The sequence of task executions continues indefinitely until one of the following exceptional completions occur:</p>\n<p>[...]<br />\nAn execution of the task throws an exception. [...]</p>\n</blockquote>\n<p>therefore it terminates.</p>\n<hr />\n<p>As the <a href=\"https://stackoverflow.com/a/75754750/2513200\">answer by rzwitserloot</a> already provides a great explanation about how <code>Object.wait()</code> and <code>Object.notify()</code> are meant to be used, let me just add that there is an alternative implementation of the underlying concept (called Condition Variable) in the class <a href=\"https://stackoverflow.com/a/75754750/2513200\"><code>Condition</code></a> which includes a code example for a use case in the JavaDocs.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678961509,"creation_date":1678961509,"answer_id":75754750,"question_id":75754287,"body_markdown":"You&#39;re not using `wait` correctly.\r\n\r\nHere&#39;s a very short manual to wait/notify (these 2 methods go hand in hand, there is zero point using one of them without also using the other!)\r\n\r\nWe have 2 threads, we shall name them Alice and Bob. Alice wants to wait, but, instead of the &#39;condition for when you can cease waiting&#39; being: &quot;After X milliseconds have passed&quot;, the condition we want to wait for is &quot;When event Z happens, and Z is something another thread (Bob, in our case), will witness and will want to tell us about&quot;.\r\n\r\nTo get the job done, __first__, we need Alice and Bob to both have a reference to _the same object_. Generally, because threading and locking is quite tricky, this should be __non-global__ - i.e. something alice and bob have, but the rest of the wider code base doesn&#39;t. Failure to adhere to this rule makes it almost impossible to reason about code because you&#39;ll have no idea who is capable of messing with that &#39;lock&#39; object. For the same reason you should replace public fields with private ones and if needed access methods (setters and getters), __do not have public locks__. Unfortunately, `synchronized` defaults to `this` if you stick it on a method, so, never do that unless you really, really know what you are doing. Instead, make private lock objects.\r\n\r\nThen, here&#39;s the flow:\r\n\r\n1. Alice __LOCKS__ on the lock. (`synchronized (lock) { ... }).\r\n2. Whilst holding it (inside the braces that go with the block), alice runs into the situation where alice wants to wait until event Z happens. She calls `lock.wait()` on the lock. This will both freeze the Alice thread as well as release the lock.\r\n3. Bob locks on the exact same lock object. This will cause bob to wait (he didn&#39;t call `lock.wait`, he tried to entered a synchronized block which can also cause waiting to occur) until Alice either exits her synchronized block _or_ invokes `wait` on the lock.\r\n4. Bob does some stuff and eventually wants to wake Alice up, so bob calls `lock.notifyAll()` (I generally advise not calling notify - the difference is mostly esoteric and usually irrelevant, though). Bob can only do this when he holds the lock (inside a `synchronized (lock) {}` block).\r\n5. This __does not actually wake Alice up!__ - after all, for alice to wake up, alice has to re-acquire the lock (that `lock.wait()` call is inside `synchronized (lock) {}` after all, and bob holds that lock right now; has to be, because Bob can&#39;t call `lock.notifyAll()` unless bob holds that lock!). It merely sets alice up to wake when bob&#39;s done with their lock.\r\n\r\nAnd.. that&#39;s all there is to it.\r\n\r\nThis isn&#39;t necessarily the best way to do locking; often something from the `java.util.concurrent` package is a better idea.\r\n\r\nThe problem in your code is that you just call `wait()`, which therefore resolves to `this.wait()`, but you wanted `lock.wait()`.","title":"Why does thread wait(milis) halt scheduled executor?","body":"<p>You're not using <code>wait</code> correctly.</p>\n<p>Here's a very short manual to wait/notify (these 2 methods go hand in hand, there is zero point using one of them without also using the other!)</p>\n<p>We have 2 threads, we shall name them Alice and Bob. Alice wants to wait, but, instead of the 'condition for when you can cease waiting' being: &quot;After X milliseconds have passed&quot;, the condition we want to wait for is &quot;When event Z happens, and Z is something another thread (Bob, in our case), will witness and will want to tell us about&quot;.</p>\n<p>To get the job done, <strong>first</strong>, we need Alice and Bob to both have a reference to <em>the same object</em>. Generally, because threading and locking is quite tricky, this should be <strong>non-global</strong> - i.e. something alice and bob have, but the rest of the wider code base doesn't. Failure to adhere to this rule makes it almost impossible to reason about code because you'll have no idea who is capable of messing with that 'lock' object. For the same reason you should replace public fields with private ones and if needed access methods (setters and getters), <strong>do not have public locks</strong>. Unfortunately, <code>synchronized</code> defaults to <code>this</code> if you stick it on a method, so, never do that unless you really, really know what you are doing. Instead, make private lock objects.</p>\n<p>Then, here's the flow:</p>\n<ol>\n<li>Alice <strong>LOCKS</strong> on the lock. (`synchronized (lock) { ... }).</li>\n<li>Whilst holding it (inside the braces that go with the block), alice runs into the situation where alice wants to wait until event Z happens. She calls <code>lock.wait()</code> on the lock. This will both freeze the Alice thread as well as release the lock.</li>\n<li>Bob locks on the exact same lock object. This will cause bob to wait (he didn't call <code>lock.wait</code>, he tried to entered a synchronized block which can also cause waiting to occur) until Alice either exits her synchronized block <em>or</em> invokes <code>wait</code> on the lock.</li>\n<li>Bob does some stuff and eventually wants to wake Alice up, so bob calls <code>lock.notifyAll()</code> (I generally advise not calling notify - the difference is mostly esoteric and usually irrelevant, though). Bob can only do this when he holds the lock (inside a <code>synchronized (lock) {}</code> block).</li>\n<li>This <strong>does not actually wake Alice up!</strong> - after all, for alice to wake up, alice has to re-acquire the lock (that <code>lock.wait()</code> call is inside <code>synchronized (lock) {}</code> after all, and bob holds that lock right now; has to be, because Bob can't call <code>lock.notifyAll()</code> unless bob holds that lock!). It merely sets alice up to wake when bob's done with their lock.</li>\n</ol>\n<p>And.. that's all there is to it.</p>\n<p>This isn't necessarily the best way to do locking; often something from the <code>java.util.concurrent</code> package is a better idea.</p>\n<p>The problem in your code is that you just call <code>wait()</code>, which therefore resolves to <code>this.wait()</code>, but you wanted <code>lock.wait()</code>.</p>\n"}],"owner":{"account_id":28030946,"reputation":41,"user_id":21410131,"display_name":"PleaseHlep123"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75754750,"answer_count":2,"score":2,"last_activity_date":1678963373,"creation_date":1678959115,"question_id":75754287,"body_markdown":"I&#39;m trying to wrap my head around threads and I&#39;ve thought of this particular case:\r\nA scheduled runnable which will poll data from somewhere and when there is no data to poll the thread should wait for a while and then start polling again.\r\n\r\nThis is an example code of what I was trying to accomplish\r\n\r\n\r\n```\r\npublic class ThreadTest {\r\n    public static void main(String[] args) {\r\n        Object lock = new Object();\r\n        ScheduledExecutorService scheduledExecutorService = Executors.newScheduledThreadPool(10);\r\n        ScheduledFuture&lt;?&gt; scheduledFuture = scheduledExecutorService.scheduleWithFixedDelay(new Worker(lock), 100, 1000, TimeUnit.MILLISECONDS);\r\n\r\n        while(!scheduledFuture.isDone()) {\r\n        }\r\n\r\n        System.out.println(&quot;Main finished&quot;);\r\n    }\r\n\r\n    public static class Worker implements Runnable {\r\n\r\n        private final Object lock;\r\n        public Worker(Object lock) {\r\n            this.lock = lock;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            long startMilis = 0;\r\n            try {\r\n                synchronized (lock) {\r\n                    System.out.println(Thread.currentThread().getName() + &quot; Simulating work by sleeping for 3 seconds&quot;);\r\n                    Thread.sleep(3000);\r\n                    startMilis = System.currentTimeMillis();\r\n                    System.out.println(Thread.currentThread().getName() + &quot; Work done. Initiating wait for 200ms&quot;);\r\n                    // this is supposed to pause the thread and release the lock and then wake up the thread after 200ms\r\n                    // however what it seems to do is it puts the thread in the waiting state but it does not wake up\r\n                    // after 200ms and resume, instead it skips to the finally block and completes the scheduled future\r\n                    // stopping any further threads to start... why?\r\n                    wait(200);\r\n                    // this pauses the thread, keeping the lock, and the thread finishes after sleep. Works as intended.\r\n                    //Thread.sleep(200); \r\n                }\r\n                System.out.println(Thread.currentThread().getName() + &quot; Done waiting. Exiting&quot;);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            } finally {\r\n                long endMilis = System.currentTimeMillis();\r\n                long difference = endMilis - startMilis;\r\n                System.out.println(Thread.currentThread().getName() + &quot; Finally block reached after &quot; + difference + &quot;ms&quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIf you run this code as-is it will spawn a thread running the `Worker` runnable, the runnable will sleep for 3 seconds simulating some long lasting work, then it will hit the `wait(200)`\r\ncall and the thread will immediately go to the finally block and exit and the `ScheduledFuture` will complete.\r\nWhy is that? I thought that `wait(milis)` could be used for low-power polling, having the thread release it&#39;s lock and wait for some time before running again but this is only causing me more confusion.\r\nCan anyone elaborate?\r\n","title":"Why does thread wait(milis) halt scheduled executor?","body":"<p>I'm trying to wrap my head around threads and I've thought of this particular case:\nA scheduled runnable which will poll data from somewhere and when there is no data to poll the thread should wait for a while and then start polling again.</p>\n<p>This is an example code of what I was trying to accomplish</p>\n<pre><code>public class ThreadTest {\n    public static void main(String[] args) {\n        Object lock = new Object();\n        ScheduledExecutorService scheduledExecutorService = Executors.newScheduledThreadPool(10);\n        ScheduledFuture&lt;?&gt; scheduledFuture = scheduledExecutorService.scheduleWithFixedDelay(new Worker(lock), 100, 1000, TimeUnit.MILLISECONDS);\n\n        while(!scheduledFuture.isDone()) {\n        }\n\n        System.out.println(&quot;Main finished&quot;);\n    }\n\n    public static class Worker implements Runnable {\n\n        private final Object lock;\n        public Worker(Object lock) {\n            this.lock = lock;\n        }\n\n        @Override\n        public void run() {\n            long startMilis = 0;\n            try {\n                synchronized (lock) {\n                    System.out.println(Thread.currentThread().getName() + &quot; Simulating work by sleeping for 3 seconds&quot;);\n                    Thread.sleep(3000);\n                    startMilis = System.currentTimeMillis();\n                    System.out.println(Thread.currentThread().getName() + &quot; Work done. Initiating wait for 200ms&quot;);\n                    // this is supposed to pause the thread and release the lock and then wake up the thread after 200ms\n                    // however what it seems to do is it puts the thread in the waiting state but it does not wake up\n                    // after 200ms and resume, instead it skips to the finally block and completes the scheduled future\n                    // stopping any further threads to start... why?\n                    wait(200);\n                    // this pauses the thread, keeping the lock, and the thread finishes after sleep. Works as intended.\n                    //Thread.sleep(200); \n                }\n                System.out.println(Thread.currentThread().getName() + &quot; Done waiting. Exiting&quot;);\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            } finally {\n                long endMilis = System.currentTimeMillis();\n                long difference = endMilis - startMilis;\n                System.out.println(Thread.currentThread().getName() + &quot; Finally block reached after &quot; + difference + &quot;ms&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>If you run this code as-is it will spawn a thread running the <code>Worker</code> runnable, the runnable will sleep for 3 seconds simulating some long lasting work, then it will hit the <code>wait(200)</code>\ncall and the thread will immediately go to the finally block and exit and the <code>ScheduledFuture</code> will complete.\nWhy is that? I thought that <code>wait(milis)</code> could be used for low-power polling, having the thread release it's lock and wait for some time before running again but this is only causing me more confusion.\nCan anyone elaborate?</p>\n"},{"tags":["java","spring-boot","maven","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":21138914,"reputation":56,"user_id":15541786,"display_name":"KosztDojscia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660664806,"creation_date":1660664806,"answer_id":73376752,"question_id":73376702,"body_markdown":"Try using only &#39; instead of doing escape char = \\&quot; ","title":"href argument of anchor tag is not getting passed","body":"<p>Try using only ' instead of doing escape char = &quot;</p>\n"},{"tags":[],"owner":{"account_id":268201,"reputation":419,"user_id":1573368,"display_name":"Sheel Prabhakar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660667204,"creation_date":1660667204,"answer_id":73377249,"question_id":73376702,"body_markdown":"use the http or https scheme in the hyperlink URL.\r\nonly in the case of localhost:8080 or localhost:80 or any other port, Gmail is making HTML email to text. domain.com and other domains will also work without a scheme. \r\n\r\n**HTML and body tags are optional.**\r\n```\r\nString html =  &quot;&lt;html&gt;&lt;body&gt;&lt;p&gt;&quot; + msg + &quot;&lt;/p&gt;&quot; + &quot;&lt;a href= &#39;http://localhost:8080&#39;&gt;unsubscribe1&lt;/a&gt;&quot;;\r\n\t\tString html2 = &quot;&lt;p&gt;&quot; + msg + &quot;&lt;/p&gt;&quot; + &quot;&lt;a href= &#39;http://localhost:8080&#39;&gt;unsubscribe2&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\r\n\t\tString html3 = html + html2;\r\n```\r\n\r\n[![email with hyperlink][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tYZb3.png","title":"href argument of anchor tag is not getting passed","body":"<p>use the http or https scheme in the hyperlink URL.\nonly in the case of localhost:8080 or localhost:80 or any other port, Gmail is making HTML email to text. domain.com and other domains will also work without a scheme.</p>\n<p><strong>HTML and body tags are optional.</strong></p>\n<pre><code>String html =  &quot;&lt;html&gt;&lt;body&gt;&lt;p&gt;&quot; + msg + &quot;&lt;/p&gt;&quot; + &quot;&lt;a href= 'http://localhost:8080'&gt;unsubscribe1&lt;/a&gt;&quot;;\n        String html2 = &quot;&lt;p&gt;&quot; + msg + &quot;&lt;/p&gt;&quot; + &quot;&lt;a href= 'http://localhost:8080'&gt;unsubscribe2&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\n        String html3 = html + html2;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/tYZb3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tYZb3.png\" alt=\"email with hyperlink\" /></a></p>\n"}],"owner":{"account_id":22199006,"reputation":3,"user_id":16439993,"display_name":"Saksham Gairola"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73377249,"answer_count":2,"score":0,"last_activity_date":1678963337,"creation_date":1660664563,"question_id":73376702,"body_markdown":"So I am trying to send an email using `JavaMailSender`, `MimeMessage` and `MimeMessageHelper` and add an unsubscribe clickable link to the end of the mail. This is my `MailService` method\r\n\r\n    package com.emailScheduler.emailScheduler.Service;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.mail.SimpleMailMessage;\r\n    import org.springframework.mail.javamail.JavaMailSender;\r\n    import org.springframework.mail.javamail.MimeMessageHelper;\r\n    import org.springframework.stereotype.Service;\r\n    import org.thymeleaf.spring5.SpringTemplateEngine;\r\n    \r\n    import javax.mail.MessagingException;\r\n    import javax.mail.internet.MimeMessage;\r\n    import java.io.UnsupportedEncodingException;\r\n    \r\n    @Service\r\n    public class MailService {\r\n    \r\n        @Autowired\r\n        private JavaMailSender javaMailSender;\r\n    \r\n        @Autowired\r\n        private SpringTemplateEngine springTemplateEngine;\r\n    \r\n        //Simple mail sender method\r\n        public void sendMail(String to, String sub, String msg){\r\n            SimpleMailMessage mailMessage = new SimpleMailMessage();\r\n    \r\n            mailMessage.setFrom(&quot;Sender Name&quot;);\r\n            mailMessage.setTo(to);\r\n            mailMessage.setSubject(sub);\r\n            mailMessage.setText(msg);\r\n    \r\n            javaMailSender.send(mailMessage);\r\n        }\r\n    \r\n        //HTML mail sender method\r\n        public void sendMail2 (String to, String sub, String msg) throws MessagingException, UnsupportedEncodingException {\r\n    \r\n            MimeMessage mailMessage = javaMailSender.createMimeMessage();\r\n            MimeMessageHelper messageHelper = new MimeMessageHelper(mailMessage);\r\n    \r\n            /*Context context = new Context();\r\n            context.setVariables(mailModel);*/\r\n    \r\n            String html =  &quot;&lt;p&gt;&quot; + msg + &quot;&lt;/p&gt;&quot; + &quot;&lt;a href= \\&quot;localhost:8080/unsubscribe\\&quot;&gt;unsubscribe1&lt;/a&gt;&quot;;\r\n            String html2 = &quot;&lt;p&gt;&quot; + msg + &quot;&lt;/p&gt;&quot; + &quot;&lt;a href= &#39;localhost:8080/unsubscribe&#39;&gt;unsubscribe2&lt;/a&gt;&quot;;\r\n            String html3 = html + html2;\r\n    \r\n            messageHelper.setFrom(&quot;senderemail@gmail.com&quot;, &quot;Sender Name&quot;);\r\n            messageHelper.setTo(to);\r\n            messageHelper.setSubject(sub);\r\n            messageHelper.setText(html3, true);\r\n    \r\n            System.out.println(html);\r\n            System.out.println(html2);\r\n    \r\n            javaMailSender.send(mailMessage);\r\n        }\r\n    }\r\nI can successfully send the eamil but in my mail body for some reason `unsubscribe`  is not shown as hyperlink but plain text, on inspecting in chrome browser&#39;s inspect element it shows like this `&lt;a&gt;unsubscribe1&lt;/a&gt;`\r\n\r\n","title":"href argument of anchor tag is not getting passed","body":"<p>So I am trying to send an email using <code>JavaMailSender</code>, <code>MimeMessage</code> and <code>MimeMessageHelper</code> and add an unsubscribe clickable link to the end of the mail. This is my <code>MailService</code> method</p>\n<pre><code>package com.emailScheduler.emailScheduler.Service;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.mail.SimpleMailMessage;\nimport org.springframework.mail.javamail.JavaMailSender;\nimport org.springframework.mail.javamail.MimeMessageHelper;\nimport org.springframework.stereotype.Service;\nimport org.thymeleaf.spring5.SpringTemplateEngine;\n\nimport javax.mail.MessagingException;\nimport javax.mail.internet.MimeMessage;\nimport java.io.UnsupportedEncodingException;\n\n@Service\npublic class MailService {\n\n    @Autowired\n    private JavaMailSender javaMailSender;\n\n    @Autowired\n    private SpringTemplateEngine springTemplateEngine;\n\n    //Simple mail sender method\n    public void sendMail(String to, String sub, String msg){\n        SimpleMailMessage mailMessage = new SimpleMailMessage();\n\n        mailMessage.setFrom(&quot;Sender Name&quot;);\n        mailMessage.setTo(to);\n        mailMessage.setSubject(sub);\n        mailMessage.setText(msg);\n\n        javaMailSender.send(mailMessage);\n    }\n\n    //HTML mail sender method\n    public void sendMail2 (String to, String sub, String msg) throws MessagingException, UnsupportedEncodingException {\n\n        MimeMessage mailMessage = javaMailSender.createMimeMessage();\n        MimeMessageHelper messageHelper = new MimeMessageHelper(mailMessage);\n\n        /*Context context = new Context();\n        context.setVariables(mailModel);*/\n\n        String html =  &quot;&lt;p&gt;&quot; + msg + &quot;&lt;/p&gt;&quot; + &quot;&lt;a href= \\&quot;localhost:8080/unsubscribe\\&quot;&gt;unsubscribe1&lt;/a&gt;&quot;;\n        String html2 = &quot;&lt;p&gt;&quot; + msg + &quot;&lt;/p&gt;&quot; + &quot;&lt;a href= 'localhost:8080/unsubscribe'&gt;unsubscribe2&lt;/a&gt;&quot;;\n        String html3 = html + html2;\n\n        messageHelper.setFrom(&quot;senderemail@gmail.com&quot;, &quot;Sender Name&quot;);\n        messageHelper.setTo(to);\n        messageHelper.setSubject(sub);\n        messageHelper.setText(html3, true);\n\n        System.out.println(html);\n        System.out.println(html2);\n\n        javaMailSender.send(mailMessage);\n    }\n}\n</code></pre>\n<p>I can successfully send the eamil but in my mail body for some reason <code>unsubscribe</code>  is not shown as hyperlink but plain text, on inspecting in chrome browser's inspect element it shows like this <code>&lt;a&gt;unsubscribe1&lt;/a&gt;</code></p>\n"},{"tags":["java","postgresql","multithreading","nomad"],"owner":{"account_id":8037606,"reputation":1,"user_id":6060271,"display_name":"Ulaga Sundar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678963252,"creation_date":1678963252,"question_id":75755087,"body_markdown":"I have a Java application that continuously checks for entries (i.e., services) in a database. If there are any entries in the database, the application schedules a new thread to continuously monitor the services. Now I need to enable scalability in this Java application and have a requirement to use Nomad for auto-scaling.\r\n\r\nAs far as I have analyzed in the Nomad documentation, it will scale the application based on the CPU, memory and other parameters used in the application using policies. In my case, if this Java application runs on two instances, it will duplicate the monitoring of the same services taken from the database.\r\n\r\n\r\n\r\nIs there any approach to customize the scaling policies to look up the database and share the services based on the entries in the database?","title":"Enabling Nomad Autoscaler in Multi threaded Java application","body":"<p>I have a Java application that continuously checks for entries (i.e., services) in a database. If there are any entries in the database, the application schedules a new thread to continuously monitor the services. Now I need to enable scalability in this Java application and have a requirement to use Nomad for auto-scaling.</p>\n<p>As far as I have analyzed in the Nomad documentation, it will scale the application based on the CPU, memory and other parameters used in the application using policies. In my case, if this Java application runs on two instances, it will duplicate the monitoring of the same services taken from the database.</p>\n<p>Is there any approach to customize the scaling policies to look up the database and share the services based on the entries in the database?</p>\n"},{"tags":["java","eclipse","user-interface"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1424051756,"post_id":28533467,"comment_id":45381700,"body_markdown":"You mean something like load the values from a configuration file?","body":"You mean something like load the values from a configuration file?"},{"owner":{"display_name":"user4570222"},"score":0,"creation_date":1424055368,"post_id":28533467,"comment_id":45382443,"body_markdown":"Im not sure but ill look into configuration file.","body":"Im not sure but ill look into configuration file."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678963099,"creation_date":1424057642,"answer_id":28534155,"question_id":28533467,"body_markdown":"So, to start with, you need some way to capture the information you want.  Basically, you need the message and the keystroke.  The keystroke consists of the virtual key and the modifiers.\r\n\r\nThe following example basically provides a means by which the user can type a message text and a key stroke.  The capture pane uses a `KeyListener` to monitor for key events and by extracting various values from the key event, it will then store the information it needs and displays the key character to the user.\r\n\r\nYou can the save this information to a `Properties` file which you can later load...\r\n\r\n![KeyStroke][1]\r\n\r\n\timport java.awt.EventQueue;\r\n\timport java.awt.GridBagConstraints;\r\n\timport java.awt.GridBagLayout;\r\n\timport java.awt.Insets;\r\n\timport java.awt.event.ActionEvent;\r\n\timport java.awt.event.ActionListener;\r\n\timport java.awt.event.FocusEvent;\r\n\timport java.awt.event.FocusListener;\r\n\timport java.awt.event.KeyAdapter;\r\n\timport java.awt.event.KeyEvent;\r\n\timport java.awt.event.MouseAdapter;\r\n\timport java.awt.event.MouseEvent;\r\n\timport java.io.File;\r\n\timport java.io.FileInputStream;\r\n\timport java.io.FileOutputStream;\r\n\timport java.io.IOException;\r\n\timport java.io.InputStream;\r\n\timport java.io.OutputStream;\r\n\timport java.util.Properties;\r\n\timport javax.swing.BorderFactory;\r\n\timport javax.swing.JButton;\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JLabel;\r\n\timport javax.swing.JPanel;\r\n\timport javax.swing.JTextField;\r\n\timport javax.swing.KeyStroke;\r\n\timport javax.swing.UIManager;\r\n\timport javax.swing.UnsupportedLookAndFeelException;\r\n\timport javax.swing.border.Border;\r\n\r\n\tpublic class Test {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tnew Test ();\r\n\t\t}\r\n\r\n\t\tpublic Test () {\r\n\t\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tUIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n\t\t\t\t\t} catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n\t\t\t\t\t\tex.printStackTrace();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tJFrame frame = new JFrame(&quot;Testing&quot;);\r\n\t\t\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\t\t\tframe.add(new ConfigurationPane());\r\n\t\t\t\t\tframe.pack();\r\n\t\t\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\t\t\tframe.setVisible(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tpublic class ConfigurationPane extends JPanel {\r\n\r\n\t\t\tprivate KeyPressPane keyPressPane;\r\n\t\t\tprivate JTextField name;\r\n\r\n\t\t\tpublic ConfigurationPane() {\r\n\r\n\t\t\t\tname = new JTextField(10);\r\n\t\t\t\tkeyPressPane = new KeyPressPane();\r\n\r\n\t\t\t\tsetLayout(new GridBagLayout());\r\n\t\t\t\tGridBagConstraints gbc = new GridBagConstraints();\r\n\t\t\t\tgbc.insets = new Insets(4, 4, 4, 4);\r\n\t\t\t\tgbc.gridwidth = GridBagConstraints.REMAINDER;\r\n\t\t\t\tgbc.anchor = GridBagConstraints.CENTER;\r\n\t\t\t\tgbc.fill = GridBagConstraints.HORIZONTAL;\r\n\r\n\t\t\t\tadd(name, gbc);\r\n\t\t\t\tadd(keyPressPane, gbc);\r\n\r\n\t\t\t\tJButton save = new JButton(&quot;Save&quot;);\r\n\t\t\t\tsave.addActionListener(new ActionListener() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\t\tProperties p = new Properties();\r\n\t\t\t\t\t\tp.setProperty(&quot;name&quot;, name.getText());\r\n\t\t\t\t\t\tp.setProperty(&quot;keyCode&quot;, Integer.toString(keyPressPane.getKeyCode()));\r\n\t\t\t\t\t\tp.setProperty(&quot;modifiers&quot;, Integer.toString(keyPressPane.getModifiers()));\r\n\r\n\t\t\t\t\t\ttry (OutputStream os = new FileOutputStream(new File(&quot;Config.cfg&quot;))) {\r\n\t\t\t\t\t\t\tp.store(os, &quot;Key config&quot;);\r\n\t\t\t\t\t\t} catch (IOException ex) {\r\n\t\t\t\t\t\t\tex.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tadd(save);\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tpublic static class KeyPressPane extends JPanel {\r\n\r\n\t\t\tprotected static final Border FOCUSED_BORDER = BorderFactory.createLineBorder(UIManager.getColor(&quot;List.selectionBackground&quot;));\r\n\t\t\tprotected static final Border UNFOCUSED_BORDER = UIManager.getBorder(&quot;TextField.border&quot;);\r\n\r\n\t\t\tprivate JLabel label;\r\n\r\n\t\t\tprivate int keyCode;\r\n\t\t\tprivate int modifiers;\r\n\t\t\tprivate char key;\r\n\r\n\t\t\tpublic KeyPressPane() {\r\n\r\n\t\t\t\tsetBackground(UIManager.getColor(&quot;TextField.background&quot;));\r\n\t\t\t\tsetLayout(new GridBagLayout());\r\n\t\t\t\tlabel = new JLabel(&quot; &quot;);\r\n\t\t\t\tlabel.setFont(UIManager.getFont(&quot;Label.font&quot;).deriveFont(48f));\r\n\t\t\t\tadd(label);\r\n\t\t\t\taddKeyListener(new KeyAdapter() {\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void keyPressed(KeyEvent e) {\r\n\t\t\t\t\t\tkeyCode = e.getKeyCode();\r\n\t\t\t\t\t\tmodifiers = e.getModifiers();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void keyTyped(KeyEvent e) {\r\n\t\t\t\t\t\tchar key = e.getKeyChar();\r\n\t\t\t\t\t\tlabel.setText(Character.toString(key));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\taddMouseListener(new MouseAdapter() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void mouseClicked(MouseEvent e) {\r\n\t\t\t\t\t\trequestFocusInWindow();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\taddFocusListener(new FocusListener() {\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void focusGained(FocusEvent e) {\r\n\t\t\t\t\t\tsetBorder(FOCUSED_BORDER);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void focusLost(FocusEvent e) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;unfocused&quot;);\r\n\t\t\t\t\t\tsetBorder(UNFOCUSED_BORDER);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tsetBorder(UNFOCUSED_BORDER);\r\n\t\t\t\tsetFocusable(true);\r\n\t\t\t}\r\n\r\n\t\t\tpublic int getKeyCode() {\r\n\t\t\t\treturn keyCode;\r\n\t\t\t}\r\n\r\n\t\t\tpublic int getModifiers() {\r\n\t\t\t\treturn modifiers;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\nYou then need to load the `Properties` file and create a new `KeyStroke`...\r\n\r\n    Properties p = new Properties();\r\n\ttry (InputStream is = new FileInputStream(new File(&quot;Config.cfg&quot;))) {\r\n\t\tp.load(is);\r\n\r\n\t\tString name = p.getProperty(&quot;name&quot;);\r\n\t\tint keyCode = Integer.parseInt(p.getProperty(&quot;keyCode&quot;));\r\n\t\tint modifiers = Integer.parseInt(p.getProperty(&quot;modifiers&quot;));\r\n\r\n\t\tKeyStroke ks = KeyStroke.getKeyStroke(keyCode, modifiers);\r\n\t\tSystem.out.println(ks);\r\n\r\n\t} catch (IOException exp) {\r\n\t\texp.printStackTrace();\r\n\t}\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/ECT6n.png","title":"New to java GUI and i have questions","body":"<p>So, to start with, you need some way to capture the information you want.  Basically, you need the message and the keystroke.  The keystroke consists of the virtual key and the modifiers.</p>\n<p>The following example basically provides a means by which the user can type a message text and a key stroke.  The capture pane uses a <code>KeyListener</code> to monitor for key events and by extracting various values from the key event, it will then store the information it needs and displays the key character to the user.</p>\n<p>You can the save this information to a <code>Properties</code> file which you can later load...</p>\n<p><img src=\"https://i.stack.imgur.com/ECT6n.png\" alt=\"KeyStroke\" /></p>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.FocusEvent;\nimport java.awt.event.FocusListener;\nimport java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.util.Properties;\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\nimport javax.swing.KeyStroke;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\nimport javax.swing.border.Border;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test ();\n    }\n\n    public Test () {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                    ex.printStackTrace();\n                }\n\n                JFrame frame = new JFrame(&quot;Testing&quot;);\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.add(new ConfigurationPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class ConfigurationPane extends JPanel {\n\n        private KeyPressPane keyPressPane;\n        private JTextField name;\n\n        public ConfigurationPane() {\n\n            name = new JTextField(10);\n            keyPressPane = new KeyPressPane();\n\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.insets = new Insets(4, 4, 4, 4);\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n            gbc.anchor = GridBagConstraints.CENTER;\n            gbc.fill = GridBagConstraints.HORIZONTAL;\n\n            add(name, gbc);\n            add(keyPressPane, gbc);\n\n            JButton save = new JButton(&quot;Save&quot;);\n            save.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    Properties p = new Properties();\n                    p.setProperty(&quot;name&quot;, name.getText());\n                    p.setProperty(&quot;keyCode&quot;, Integer.toString(keyPressPane.getKeyCode()));\n                    p.setProperty(&quot;modifiers&quot;, Integer.toString(keyPressPane.getModifiers()));\n\n                    try (OutputStream os = new FileOutputStream(new File(&quot;Config.cfg&quot;))) {\n                        p.store(os, &quot;Key config&quot;);\n                    } catch (IOException ex) {\n                        ex.printStackTrace();\n                    }\n                }\n            });\n            add(save);\n\n        }\n\n    }\n\n    public static class KeyPressPane extends JPanel {\n\n        protected static final Border FOCUSED_BORDER = BorderFactory.createLineBorder(UIManager.getColor(&quot;List.selectionBackground&quot;));\n        protected static final Border UNFOCUSED_BORDER = UIManager.getBorder(&quot;TextField.border&quot;);\n\n        private JLabel label;\n\n        private int keyCode;\n        private int modifiers;\n        private char key;\n\n        public KeyPressPane() {\n\n            setBackground(UIManager.getColor(&quot;TextField.background&quot;));\n            setLayout(new GridBagLayout());\n            label = new JLabel(&quot; &quot;);\n            label.setFont(UIManager.getFont(&quot;Label.font&quot;).deriveFont(48f));\n            add(label);\n            addKeyListener(new KeyAdapter() {\n\n                @Override\n                public void keyPressed(KeyEvent e) {\n                    keyCode = e.getKeyCode();\n                    modifiers = e.getModifiers();\n                }\n\n                @Override\n                public void keyTyped(KeyEvent e) {\n                    char key = e.getKeyChar();\n                    label.setText(Character.toString(key));\n                }\n            });\n            addMouseListener(new MouseAdapter() {\n                @Override\n                public void mouseClicked(MouseEvent e) {\n                    requestFocusInWindow();\n                }\n            });\n            addFocusListener(new FocusListener() {\n\n                @Override\n                public void focusGained(FocusEvent e) {\n                    setBorder(FOCUSED_BORDER);\n                }\n\n                @Override\n                public void focusLost(FocusEvent e) {\n                    System.out.println(&quot;unfocused&quot;);\n                    setBorder(UNFOCUSED_BORDER);\n                }\n            });\n            setBorder(UNFOCUSED_BORDER);\n            setFocusable(true);\n        }\n\n        public int getKeyCode() {\n            return keyCode;\n        }\n\n        public int getModifiers() {\n            return modifiers;\n        }\n\n    }\n\n}\n</code></pre>\n<p>You then need to load the <code>Properties</code> file and create a new <code>KeyStroke</code>...</p>\n<pre><code>Properties p = new Properties();\ntry (InputStream is = new FileInputStream(new File(&quot;Config.cfg&quot;))) {\n    p.load(is);\n\n    String name = p.getProperty(&quot;name&quot;);\n    int keyCode = Integer.parseInt(p.getProperty(&quot;keyCode&quot;));\n    int modifiers = Integer.parseInt(p.getProperty(&quot;modifiers&quot;));\n\n    KeyStroke ks = KeyStroke.getKeyStroke(keyCode, modifiers);\n    System.out.println(ks);\n\n} catch (IOException exp) {\n    exp.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"display_name":"user4570222"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":28534155,"answer_count":1,"score":0,"last_activity_date":1678963099,"creation_date":1424051626,"question_id":28533467,"body_markdown":"Im making a bot for my friend who is on twitch, and he forgets to switch from his &quot;brb&quot; scene to his &quot;game&quot; scene on xsplit, so he wanted to make something where the mods could change or control somethings on his computer if he forgot.  it was easy making a bot for that.\r\n\r\nThe code was easy to make and it is like this.\r\n\r\n    import java.awt.Robot;\r\n    import java.awt.event.KeyEvent;\r\n    \r\n    import org.jibble.pircbot.*;\r\n    \r\n    public class Twitchbot extends PircBot {\r\n    \t\r\n    \tpublic Twitchbot() {\r\n    \t\tthis.setName(&quot;Rex__Bot&quot;);\r\n    \t}\r\n        \r\n    \t\r\n    \tpublic void onMessage(String channel, String sender, String login, String hostname, String message) {\r\n    \t\t\r\n    \t\tif(message.equals(&quot;Something&quot;)) {\r\n    \t\t\ttry {\r\n    \t\t\t\tRobot r = new Robot();\r\n    \t\t\t\tr.keyPress(KeyEvent.VK_Something);\r\n    \t\t\t\tr.delay(300);\r\n    \t\t\t\tr.keyRelease(KeyEvent.VK_Something);\r\n    \t\t\t\t\r\n    \t\t\t}catch(Exception ex) {\r\n    \t\t\t\tex.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n       }\r\n    }\r\n\r\nAnd i was wondering if there was a way to make a GUI to change the Letter that the message equals to and the keyevent.VK_Something to something different with the GUI so it would be easy for him to edit it.\r\n\r\n\r\n\r\n","title":"New to java GUI and i have questions","body":"<p>Im making a bot for my friend who is on twitch, and he forgets to switch from his \"brb\" scene to his \"game\" scene on xsplit, so he wanted to make something where the mods could change or control somethings on his computer if he forgot.  it was easy making a bot for that.</p>\n\n<p>The code was easy to make and it is like this.</p>\n\n<pre><code>import java.awt.Robot;\nimport java.awt.event.KeyEvent;\n\nimport org.jibble.pircbot.*;\n\npublic class Twitchbot extends PircBot {\n\n    public Twitchbot() {\n        this.setName(\"Rex__Bot\");\n    }\n\n\n    public void onMessage(String channel, String sender, String login, String hostname, String message) {\n\n        if(message.equals(\"Something\")) {\n            try {\n                Robot r = new Robot();\n                r.keyPress(KeyEvent.VK_Something);\n                r.delay(300);\n                r.keyRelease(KeyEvent.VK_Something);\n\n            }catch(Exception ex) {\n                ex.printStackTrace();\n            }\n        }\n\n   }\n}\n</code></pre>\n\n<p>And i was wondering if there was a way to make a GUI to change the Letter that the message equals to and the keyevent.VK_Something to something different with the GUI so it would be easy for him to edit it.</p>\n"},{"tags":["java","javadoc","maven-javadoc-plugin"],"answers":[{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678962881,"creation_date":1678962881,"answer_id":75755008,"question_id":75754666,"body_markdown":"You can explicitly add dependencies into javadoc generation:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n    &lt;configuration&gt;\r\n        &lt;sourcepath&gt;${basedir}/src/main/java&lt;/sourcepath&gt;\r\n        &lt;includeDependencySources&gt;true&lt;/includeDependencySources&gt;\r\n        &lt;dependencySourceIncludes&gt;\r\n            &lt;dependencySourceInclude&gt;some.group.id1:*&lt;/dependencySourceInclude&gt;\r\n            &lt;dependencySourceInclude&gt;some.group.id2:artifactId2&lt;/dependencySourceInclude&gt;\r\n        &lt;/dependencySourceIncludes&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nSource:\r\nhttps://maven.apache.org/plugins/maven-javadoc-plugin/examples/aggregate-dependency-sources.html#fine-tuning-included-dependencies","title":"I&#39;m using the maven-javadoc-plugin, how can I include documentation from other modules together?","body":"<p>You can explicitly add dependencies into javadoc generation:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;sourcepath&gt;${basedir}/src/main/java&lt;/sourcepath&gt;\n        &lt;includeDependencySources&gt;true&lt;/includeDependencySources&gt;\n        &lt;dependencySourceIncludes&gt;\n            &lt;dependencySourceInclude&gt;some.group.id1:*&lt;/dependencySourceInclude&gt;\n            &lt;dependencySourceInclude&gt;some.group.id2:artifactId2&lt;/dependencySourceInclude&gt;\n        &lt;/dependencySourceIncludes&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Source:\n<a href=\"https://maven.apache.org/plugins/maven-javadoc-plugin/examples/aggregate-dependency-sources.html#fine-tuning-included-dependencies\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-javadoc-plugin/examples/aggregate-dependency-sources.html#fine-tuning-included-dependencies</a></p>\n"}],"owner":{"account_id":11513487,"reputation":161,"user_id":8437499,"accept_rate":25,"display_name":"taetaetae"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678962881,"creation_date":1678961074,"question_id":75754666,"body_markdown":"I have two modules, A and B, and A depends on B. They are completely separate, and B is deployed and used in an internal repository.\r\n\r\nYou want to use the maven-javadoc-plugin for documentation in A, but you also want to include the contents of B&#39;s dependent modules. For example, you might have something like this\r\n\r\n``` \r\nRespostDTO testMethod(int a) { // blabla } \r\n```\r\n\r\nAssuming we have the above method in A&#39;s module, `RespostDTO` is B&#39;s module code. In this case, we want to see the JavaDoc corresponding to `RespostDTO` in the documentation created in A. How can we do this?\r\n\r\nWhat should I do for A and B modules?","title":"I&#39;m using the maven-javadoc-plugin, how can I include documentation from other modules together?","body":"<p>I have two modules, A and B, and A depends on B. They are completely separate, and B is deployed and used in an internal repository.</p>\n<p>You want to use the maven-javadoc-plugin for documentation in A, but you also want to include the contents of B's dependent modules. For example, you might have something like this</p>\n<pre><code>RespostDTO testMethod(int a) { // blabla } \n</code></pre>\n<p>Assuming we have the above method in A's module, <code>RespostDTO</code> is B's module code. In this case, we want to see the JavaDoc corresponding to <code>RespostDTO</code> in the documentation created in A. How can we do this?</p>\n<p>What should I do for A and B modules?</p>\n"},{"tags":["java","docker","debugging"],"owner":{"account_id":20667370,"reputation":1,"user_id":16498081,"display_name":"PavelOz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678962773,"creation_date":1678962742,"question_id":75754962,"body_markdown":"I really need help! I try debug my app in docker container, use this manual https://www.baeldung.com/docker-debug-app-with-intellij, but every time vhen i start debug process i have the same problem:\r\nUnable to open debugger port (localhost:8080): java.io.IOException &quot;handshake failed - connection prematurally closed&quot;. \r\nMaybe i shold set &quot;JAVA_TOOL_OPTIONS&quot; variable the same way like JAVA_HOME? \r\n\r\n\r\nI try do it like in the tutorial, but its always have error","title":"How to dedug docker be remote jvm","body":"<p>I really need help! I try debug my app in docker container, use this manual <a href=\"https://www.baeldung.com/docker-debug-app-with-intellij\" rel=\"nofollow noreferrer\">https://www.baeldung.com/docker-debug-app-with-intellij</a>, but every time vhen i start debug process i have the same problem:\nUnable to open debugger port (localhost:8080): java.io.IOException &quot;handshake failed - connection prematurally closed&quot;.\nMaybe i shold set &quot;JAVA_TOOL_OPTIONS&quot; variable the same way like JAVA_HOME?</p>\n<p>I try do it like in the tutorial, but its always have error</p>\n"},{"tags":["java","swing","keylistener"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1635325151,"post_id":69735640,"comment_id":123264570,"body_markdown":"1. Don&#39;t add a `KeyListener` to a `JTextField`, this is just a bad idea.  If you want to monitor input into the `JTextField`, use a `DocumentListener` on the field&#39;s `Document`.  If you want to monitor &quot;general&quot; keyboard input, then make use of the [key bindings API](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html) instead.  2. Don&#39;t call `Thread.sleep` from within the Event Dispatching Thread, this is just going to cause no end of issues (and angry users)","body":"1. Don&#39;t add a <code>KeyListener</code> to a <code>JTextField</code>, this is just a bad idea.  If you want to monitor input into the <code>JTextField</code>, use a <code>DocumentListener</code> on the field&#39;s <code>Document</code>.  If you want to monitor &quot;general&quot; keyboard input, then make use of the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">key bindings API</a> instead.  2. Don&#39;t call <code>Thread.sleep</code> from within the Event Dispatching Thread, this is just going to cause no end of issues (and angry users)"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1635325214,"post_id":69735640,"comment_id":123264602,"body_markdown":"The &quot;answer&quot; to your question is, you need some kind of observer between you &quot;key handler&quot; and the main program, so the &quot;key handler&quot; can generate appropriate events to which the &quot;main&quot; program can response and take action","body":"The &quot;answer&quot; to your question is, you need some kind of observer between you &quot;key handler&quot; and the main program, so the &quot;key handler&quot; can generate appropriate events to which the &quot;main&quot; program can response and take action"},{"owner":{"account_id":23136927,"reputation":103,"user_id":17241042,"display_name":"Ham Lemon"},"score":0,"creation_date":1635325382,"post_id":69735640,"comment_id":123264672,"body_markdown":"so what is the observer that I need to add?\nI am new so I don&#39;t know much","body":"so what is the observer that I need to add? I am new so I don&#39;t know much"},{"owner":{"account_id":23136927,"reputation":103,"user_id":17241042,"display_name":"Ham Lemon"},"score":0,"creation_date":1635325599,"post_id":69735640,"comment_id":123264779,"body_markdown":"I saw the key bindings API but the action is confined to java.swing.Action only whereas I need a image displaying action.","body":"I saw the key bindings API but the action is confined to java.swing.Action only whereas I need a image displaying action."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1635326280,"post_id":69735640,"comment_id":123265064,"body_markdown":"You miss understand the nature of the API - the `Action` triggered by a key event in turn then triggers some other kind of action (ie an observer call back).  The `Action` is just acting as a mechanism to &quot;contain&quot; what should occur when the key is triggered","body":"You miss understand the nature of the API - the <code>Action</code> triggered by a key event in turn then triggers some other kind of action (ie an observer call back).  The <code>Action</code> is just acting as a mechanism to &quot;contain&quot; what should occur when the key is triggered"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678962760,"creation_date":1635327250,"answer_id":69736156,"question_id":69735640,"body_markdown":"The &quot;basic&quot; answer to your question is, you need to use some kind of &quot;observer pattern&quot;.\r\n\r\nThe intention is, your &quot;key handler&quot; is going to monitor some kind of keyboard input, when some trigger occurs (a particular key is pressed), it will notify all interested observers of the said action.\r\n\r\nSwing calls these &quot;listeners&quot;, so, you&#39;ve already seen them in action.\r\n\r\n1. Don&#39;t add a `KeyListener` to a `JTextField`, this is just a bad idea. If you want to monitor input into the `JTextField`, use a `DocumentListener` on the field&#39;s `Document`. If you want to monitor &quot;general&quot; keyboard input, then make use of the [key bindings API](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html) instead. \r\n2. Don&#39;t call `Thread.sleep` from within the Event Dispatching Thread, this is just going to cause no end of issues (and angry users)\r\n\r\nThe following example makes use the key bindings API to monitor &lt;kbd&gt;Q&lt;/kbd&gt;, &lt;kbd&gt;W&lt;/kbd&gt;, &lt;kbd&gt;E&lt;/kbd&gt;, &lt;kbd&gt;S&lt;/kbd&gt;, &lt;kbd&gt;D&lt;/kbd&gt;, &lt;kbd&gt;Z&lt;/kbd&gt;, &lt;kbd&gt;X&lt;/kbd&gt;, &lt;kbd&gt;C&lt;/kbd&gt; as a simple representation of 8 directions.\r\n\r\nThe example makes use of a simple &quot;listener&quot; which notifies the interested party that some direction has been pressed.  You&#39;re not limited to a single method, you could, for example have methods mapped directly to a specific action ie, `keyHandlerPerformExit` which is called when some &quot;exit&quot; key sequence is triggered.\r\n\r\nThe example also allows the `Action` to trigger a call back directly to the `KeyHanderListener`, again, you don&#39;t need to do this, you could have the `Action` call back a method in the `KeyHandler` and it could then perform some additional calculations or operations and then, based on what ever it is you want to do, then notify the listener\r\n\r\n[![HappyKeys][1]][1]\r\n    \r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.KeyEvent;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.ActionMap;\r\n    import javax.swing.InputMap;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.KeyStroke;\r\n    import javax.swing.Timer;\r\n    import javax.swing.border.LineBorder;\r\n    \r\n    public class Test {\r\n    \r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n    \r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n    \r\n        public class TestPane extends JPanel {\r\n    \r\n            private Map&lt;KeyHandler.Direction, JPanel&gt; mapPanels;\r\n            private KeyHandler keyHandler;\r\n    \r\n            public TestPane() {\r\n                mapPanels = new HashMap&lt;&gt;();\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n    \r\n                add(createPanel(KeyHandler.Direction.LEFT_UP), gbc);\r\n                gbc.gridx++;\r\n                add(createPanel(KeyHandler.Direction.UP), gbc);\r\n                gbc.gridx++;\r\n                add(createPanel(KeyHandler.Direction.RIGHT_UP), gbc);\r\n    \r\n                gbc.gridx = 0;\r\n                gbc.gridy++;\r\n                add(createPanel(KeyHandler.Direction.LEFT), gbc);\r\n                gbc.gridx++;\r\n                add(createPanel(), gbc);\r\n                gbc.gridx++;\r\n                add(createPanel(KeyHandler.Direction.RIGHT), gbc);\r\n    \r\n                gbc.gridx = 0;\r\n                gbc.gridy++;\r\n                add(createPanel(KeyHandler.Direction.LEFT_DOWN), gbc);\r\n                gbc.gridx++;\r\n                add(createPanel(KeyHandler.Direction.DOWN), gbc);\r\n                gbc.gridx++;\r\n                add(createPanel(KeyHandler.Direction.RIGHT_DOWN), gbc);\r\n                \r\n                keyHandler = new KeyHandler(getInputMap(WHEN_IN_FOCUSED_WINDOW), getActionMap(), new KeyHandlerListener() {\r\n                    @Override\r\n                    public void keyHandlerDidPress(KeyHandler.Direction direction) {\r\n                        activate(direction);\r\n                    }\r\n                });\r\n            }\r\n            \r\n            protected JPanel createPanel() {\r\n                JPanel panel = new JPanel() {\r\n                    @Override\r\n                    public Dimension getPreferredSize() {\r\n                        return new Dimension(50, 50);\r\n                    }\r\n                };\r\n                panel.setBorder(new LineBorder(Color.DARK_GRAY));\r\n                return panel;\r\n            }\r\n    \r\n            protected JPanel createPanel(KeyHandler.Direction direction) {\r\n                JPanel panel = createPanel();\r\n                mapPanels.put(direction, panel);\r\n                return panel;\r\n            }\r\n            \r\n            protected void activate(KeyHandler.Direction direction) {\r\n                JPanel panel = mapPanels.get(direction);\r\n                panel.setBackground(Color.BLUE);\r\n                Timer timer = new Timer(250, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        panel.setBackground(null);\r\n                    }\r\n                });\r\n                timer.setRepeats(false);\r\n                timer.start();\r\n            }\r\n    \r\n        }\r\n    \r\n        public interface KeyHandlerListener {\r\n    \r\n            public void keyHandlerDidPress(KeyHandler.Direction direction);\r\n        }\r\n    \r\n        public class KeyHandler {\r\n    \r\n            public enum Direction {\r\n                UP, DOWN, LEFT, RIGHT,\r\n                LEFT_UP, RIGHT_UP,\r\n                LEFT_DOWN, RIGHT_DOWN\r\n            }\r\n    \r\n            public KeyHandler(InputMap inputMap, ActionMap actionMap, KeyHandlerListener listener) {\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_Q, 0), &quot;Press.leftUp&quot;);\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_W, 0), &quot;Press.up&quot;);\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_E, 0), &quot;Press.rightUp&quot;);\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_A, 0), &quot;Press.left&quot;);\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_D, 0), &quot;Press.right&quot;);\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_Z, 0), &quot;Press.leftDown&quot;);\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_X, 0), &quot;Press.down&quot;);\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_C, 0), &quot;Press.rightDown&quot;);\r\n                \r\n                actionMap.put(&quot;Press.leftUp&quot;, new DirectionAction(Direction.LEFT_UP, listener));\r\n                actionMap.put(&quot;Press.up&quot;, new DirectionAction(Direction.UP, listener));\r\n                actionMap.put(&quot;Press.rightUp&quot;, new DirectionAction(Direction.RIGHT_UP, listener));\r\n                actionMap.put(&quot;Press.left&quot;, new DirectionAction(Direction.LEFT, listener));\r\n                actionMap.put(&quot;Press.right&quot;, new DirectionAction(Direction.RIGHT, listener));\r\n                actionMap.put(&quot;Press.leftDown&quot;, new DirectionAction(Direction.LEFT_DOWN, listener));\r\n                actionMap.put(&quot;Press.down&quot;, new DirectionAction(Direction.DOWN, listener));\r\n                actionMap.put(&quot;Press.rightDown&quot;, new DirectionAction(Direction.RIGHT_DOWN, listener));\r\n            }\r\n    \r\n            protected class DirectionAction extends AbstractAction {\r\n    \r\n                private Direction direction;\r\n                private KeyHandlerListener listener;\r\n    \r\n                public DirectionAction(Direction direction, KeyHandlerListener listener) {\r\n                    this.direction = direction;\r\n                    this.listener = listener;\r\n                }\r\n    \r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    listener.keyHandlerDidPress(direction);\r\n                }\r\n    \r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hVOId.gif","title":"How to add JLabel of KeyListener object in Jframe of Main class","body":"<p>The &quot;basic&quot; answer to your question is, you need to use some kind of &quot;observer pattern&quot;.</p>\n<p>The intention is, your &quot;key handler&quot; is going to monitor some kind of keyboard input, when some trigger occurs (a particular key is pressed), it will notify all interested observers of the said action.</p>\n<p>Swing calls these &quot;listeners&quot;, so, you've already seen them in action.</p>\n<ol>\n<li>Don't add a <code>KeyListener</code> to a <code>JTextField</code>, this is just a bad idea. If you want to monitor input into the <code>JTextField</code>, use a <code>DocumentListener</code> on the field's <code>Document</code>. If you want to monitor &quot;general&quot; keyboard input, then make use of the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">key bindings API</a> instead.</li>\n<li>Don't call <code>Thread.sleep</code> from within the Event Dispatching Thread, this is just going to cause no end of issues (and angry users)</li>\n</ol>\n<p>The following example makes use the key bindings API to monitor <kbd>Q</kbd>, <kbd>W</kbd>, <kbd>E</kbd>, <kbd>S</kbd>, <kbd>D</kbd>, <kbd>Z</kbd>, <kbd>X</kbd>, <kbd>C</kbd> as a simple representation of 8 directions.</p>\n<p>The example makes use of a simple &quot;listener&quot; which notifies the interested party that some direction has been pressed.  You're not limited to a single method, you could, for example have methods mapped directly to a specific action ie, <code>keyHandlerPerformExit</code> which is called when some &quot;exit&quot; key sequence is triggered.</p>\n<p>The example also allows the <code>Action</code> to trigger a call back directly to the <code>KeyHanderListener</code>, again, you don't need to do this, you could have the <code>Action</code> call back a method in the <code>KeyHandler</code> and it could then perform some additional calculations or operations and then, based on what ever it is you want to do, then notify the listener</p>\n<p><a href=\"https://i.stack.imgur.com/hVOId.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hVOId.gif\" alt=\"HappyKeys\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyEvent;\nimport java.util.HashMap;\nimport java.util.Map;\nimport javax.swing.AbstractAction;\nimport javax.swing.ActionMap;\nimport javax.swing.InputMap;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.KeyStroke;\nimport javax.swing.Timer;\nimport javax.swing.border.LineBorder;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        private Map&lt;KeyHandler.Direction, JPanel&gt; mapPanels;\n        private KeyHandler keyHandler;\n\n        public TestPane() {\n            mapPanels = new HashMap&lt;&gt;();\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n\n            add(createPanel(KeyHandler.Direction.LEFT_UP), gbc);\n            gbc.gridx++;\n            add(createPanel(KeyHandler.Direction.UP), gbc);\n            gbc.gridx++;\n            add(createPanel(KeyHandler.Direction.RIGHT_UP), gbc);\n\n            gbc.gridx = 0;\n            gbc.gridy++;\n            add(createPanel(KeyHandler.Direction.LEFT), gbc);\n            gbc.gridx++;\n            add(createPanel(), gbc);\n            gbc.gridx++;\n            add(createPanel(KeyHandler.Direction.RIGHT), gbc);\n\n            gbc.gridx = 0;\n            gbc.gridy++;\n            add(createPanel(KeyHandler.Direction.LEFT_DOWN), gbc);\n            gbc.gridx++;\n            add(createPanel(KeyHandler.Direction.DOWN), gbc);\n            gbc.gridx++;\n            add(createPanel(KeyHandler.Direction.RIGHT_DOWN), gbc);\n            \n            keyHandler = new KeyHandler(getInputMap(WHEN_IN_FOCUSED_WINDOW), getActionMap(), new KeyHandlerListener() {\n                @Override\n                public void keyHandlerDidPress(KeyHandler.Direction direction) {\n                    activate(direction);\n                }\n            });\n        }\n        \n        protected JPanel createPanel() {\n            JPanel panel = new JPanel() {\n                @Override\n                public Dimension getPreferredSize() {\n                    return new Dimension(50, 50);\n                }\n            };\n            panel.setBorder(new LineBorder(Color.DARK_GRAY));\n            return panel;\n        }\n\n        protected JPanel createPanel(KeyHandler.Direction direction) {\n            JPanel panel = createPanel();\n            mapPanels.put(direction, panel);\n            return panel;\n        }\n        \n        protected void activate(KeyHandler.Direction direction) {\n            JPanel panel = mapPanels.get(direction);\n            panel.setBackground(Color.BLUE);\n            Timer timer = new Timer(250, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    panel.setBackground(null);\n                }\n            });\n            timer.setRepeats(false);\n            timer.start();\n        }\n\n    }\n\n    public interface KeyHandlerListener {\n\n        public void keyHandlerDidPress(KeyHandler.Direction direction);\n    }\n\n    public class KeyHandler {\n\n        public enum Direction {\n            UP, DOWN, LEFT, RIGHT,\n            LEFT_UP, RIGHT_UP,\n            LEFT_DOWN, RIGHT_DOWN\n        }\n\n        public KeyHandler(InputMap inputMap, ActionMap actionMap, KeyHandlerListener listener) {\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_Q, 0), &quot;Press.leftUp&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_W, 0), &quot;Press.up&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_E, 0), &quot;Press.rightUp&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_A, 0), &quot;Press.left&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_D, 0), &quot;Press.right&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_Z, 0), &quot;Press.leftDown&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_X, 0), &quot;Press.down&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_C, 0), &quot;Press.rightDown&quot;);\n            \n            actionMap.put(&quot;Press.leftUp&quot;, new DirectionAction(Direction.LEFT_UP, listener));\n            actionMap.put(&quot;Press.up&quot;, new DirectionAction(Direction.UP, listener));\n            actionMap.put(&quot;Press.rightUp&quot;, new DirectionAction(Direction.RIGHT_UP, listener));\n            actionMap.put(&quot;Press.left&quot;, new DirectionAction(Direction.LEFT, listener));\n            actionMap.put(&quot;Press.right&quot;, new DirectionAction(Direction.RIGHT, listener));\n            actionMap.put(&quot;Press.leftDown&quot;, new DirectionAction(Direction.LEFT_DOWN, listener));\n            actionMap.put(&quot;Press.down&quot;, new DirectionAction(Direction.DOWN, listener));\n            actionMap.put(&quot;Press.rightDown&quot;, new DirectionAction(Direction.RIGHT_DOWN, listener));\n        }\n\n        protected class DirectionAction extends AbstractAction {\n\n            private Direction direction;\n            private KeyHandlerListener listener;\n\n            public DirectionAction(Direction direction, KeyHandlerListener listener) {\n                this.direction = direction;\n                this.listener = listener;\n            }\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                listener.keyHandlerDidPress(direction);\n            }\n\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23136927,"reputation":103,"user_id":17241042,"display_name":"Ham Lemon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69736156,"answer_count":1,"score":0,"last_activity_date":1678962760,"creation_date":1635324987,"question_id":69735640,"body_markdown":"I am a bit to new to this Java bit of coding. The problem is that I have a different class for KeyListener and an image that I want to display if the user presses a key, but the image is from JLabel and I want to add it in JFrame of the main class but I am not understanding how I would do that.\r\nYes I did see another question, this one: \r\nhttps://stackoverflow.com/questions/33116043/how-i-add-a-jlabel-to-a-jframe-on-another-class\r\nbut I can&#39;t do the suggested method in my code because Key Listener when called in the main method will only process the KeyListening part when called like : jframe.add(new KeyListener()) something like that, but the image will not be added because it is contained in a JLabel and JLabel is not added to JFrame. \r\nHere is my bit of Code of KeyListener:\r\n```\r\nimport java.awt.event.KeyAdapter;\r\nimport java.awt.event.KeyEvent;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JTextField;\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\n\r\nclass MKeyListener extends KeyAdapter\r\n{\r\n  static int n = 0;\r\n    @Override\r\n    public void keyPressed(KeyEvent event) \r\n\t{\r\n\t  if (event.getKeyCode() == KeyEvent.VK_ESCAPE)\t\r\n\t  {\r\n\t\tn += 1;\r\n\t\tif(n % 2 == 1)\r\n\t\t{\r\n\t\t\t\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Not Quitting now&quot;);\r\n\t\t}\r\n\t  }\r\n\t  else if(event.getKeyCode() == KeyEvent.VK_ENTER &amp;&amp; n % 2 == 1)\r\n\t  {\r\n\t\t  System.out.println(&quot;Quitting now...&quot;);\r\n\t\t  try\r\n\t\t  {\r\n\t\t\tThread.sleep(200);\r\n\t\t  }\r\n\t\t  catch(Exception e)\r\n\t\t  {\r\n\t\t  }\r\n\t\t  System.exit(0);\r\n\t  }\r\n    }\r\n}\r\n\r\n```\r\nThis is my Main method\r\n```\r\nimport java.awt.event.KeyAdapter;\r\nimport java.awt.event.KeyEvent;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JTextField;\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\nimport java.awt.Graphics;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.ImageIcon;\r\n\r\npublic class Main\r\n{\r\n\t\r\n\tpublic static void main(String[] args) throws Exception \r\n\t{\r\n\t JTextField textField = new JTextField();\r\n\t textField.addKeyListener(new MKeyListener());\r\n\t JFrame jframe = new JFrame();\r\n\t jframe.add(textField);\r\n     jframe.setSize(1000, 1000);\r\n\t jframe.setTitle(&quot;First Development In JAVA Try : Day 3&quot;);\r\n\t jframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n     jframe.setVisible(true);\r\n    }\r\n}\r\n```\r\nCould someone please suggest a method to add that image when a user presses a key?","title":"How to add JLabel of KeyListener object in Jframe of Main class","body":"<p>I am a bit to new to this Java bit of coding. The problem is that I have a different class for KeyListener and an image that I want to display if the user presses a key, but the image is from JLabel and I want to add it in JFrame of the main class but I am not understanding how I would do that.\nYes I did see another question, this one:\n<a href=\"https://stackoverflow.com/questions/33116043/how-i-add-a-jlabel-to-a-jframe-on-another-class\">How I add a JLabel to a JFrame on another class?</a>\nbut I can't do the suggested method in my code because Key Listener when called in the main method will only process the KeyListening part when called like : jframe.add(new KeyListener()) something like that, but the image will not be added because it is contained in a JLabel and JLabel is not added to JFrame.\nHere is my bit of Code of KeyListener:</p>\n<pre><code>import java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\nimport javax.swing.JFrame;\nimport javax.swing.JTextField;\nimport java.awt.*;\nimport javax.swing.*;\n\nclass MKeyListener extends KeyAdapter\n{\n  static int n = 0;\n    @Override\n    public void keyPressed(KeyEvent event) \n    {\n      if (event.getKeyCode() == KeyEvent.VK_ESCAPE) \n      {\n        n += 1;\n        if(n % 2 == 1)\n        {\n            \n        }\n        else\n        {\n            System.out.println(&quot;Not Quitting now&quot;);\n        }\n      }\n      else if(event.getKeyCode() == KeyEvent.VK_ENTER &amp;&amp; n % 2 == 1)\n      {\n          System.out.println(&quot;Quitting now...&quot;);\n          try\n          {\n            Thread.sleep(200);\n          }\n          catch(Exception e)\n          {\n          }\n          System.exit(0);\n      }\n    }\n}\n\n</code></pre>\n<p>This is my Main method</p>\n<pre><code>import java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\nimport javax.swing.JFrame;\nimport javax.swing.JTextField;\nimport java.awt.*;\nimport javax.swing.*;\nimport java.awt.Graphics;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport javax.imageio.ImageIO;\nimport javax.swing.JLabel;\nimport javax.swing.ImageIcon;\n\npublic class Main\n{\n    \n    public static void main(String[] args) throws Exception \n    {\n     JTextField textField = new JTextField();\n     textField.addKeyListener(new MKeyListener());\n     JFrame jframe = new JFrame();\n     jframe.add(textField);\n     jframe.setSize(1000, 1000);\n     jframe.setTitle(&quot;First Development In JAVA Try : Day 3&quot;);\n     jframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n     jframe.setVisible(true);\n    }\n}\n</code></pre>\n<p>Could someone please suggest a method to add that image when a user presses a key?</p>\n"},{"tags":["java","android","kivy","buildozer","pyjnius"],"owner":{"account_id":27070654,"reputation":13,"user_id":20621348,"display_name":"Sahib"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678962733,"creation_date":1675234345,"question_id":75306587,"body_markdown":"Here is my Java library (.aar) file&#39;s code.\r\n```java\r\npackage com.sahib.ffpy;\r\n\r\nimport com.arthenica.ffmpegkit.FFmpegSession;\r\nimport com.arthenica.ffmpegkit.FFmpegKit;\r\n\r\npublic class ffpy&lt;command&gt;\r\n{\r\n    public static void Run(final String command) {\r\n        final FFmpegSession session = FFmpegKit.execute(command);\r\n    }\r\n}\r\n```\r\nThis is supposed to take a command and execute in FFmpegKit by ARTHENICA.\r\nI am using this library with pyjnius to run it as I can not directly do. \r\n\r\n```java\r\nFFmpegSession session = FFmpegKit.execute(command)\r\n```\r\nIn python.\r\n\r\nThis is how my python code looks: \r\n\r\n```python\r\nFFMPEG = autoclass(&#39;com.sahib.ffpy.ffpy&#39;)\r\nFFMPEG.Run(&quot;-i &quot;+INPUT_FILE+&quot; -qscale:v &quot;+str(FRAME_QUALITY)+&quot; TEMP/frame%06d.jpg -hide_banner&quot;)\r\n```\r\n\r\nI am using Kivy/Buildozer.\r\n\r\nHere are the Gradle dependencies in buildozer:\r\n\r\n```\r\nandroid.add_aars = ffpy-debug.aar\r\nandroid.gradle_dependencies = &quot;com.arthenica:ffmpeg-kit-full:5.1&quot;\r\n```\r\n\r\nI have tried extracting the classes.jar from both ffmpegkit and this and combining them, which throws a different error (I know it&#39;s not the right way to do it). I tried building ffmpegkit myself. I have tried directly using FFmpeg Kit in Python, but I don&#39;t think it will work.\r\n\r\nEdit: I fixed it, if you need ffmpegkit in python for android, use https://www.github.com/blackysh/ffmpeg-kit-python","title":"Error: IllegalAccessError Java, when using another library&#39;s command in a library","body":"<p>Here is my Java library (.aar) file's code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.sahib.ffpy;\n\nimport com.arthenica.ffmpegkit.FFmpegSession;\nimport com.arthenica.ffmpegkit.FFmpegKit;\n\npublic class ffpy&lt;command&gt;\n{\n    public static void Run(final String command) {\n        final FFmpegSession session = FFmpegKit.execute(command);\n    }\n}\n</code></pre>\n<p>This is supposed to take a command and execute in FFmpegKit by ARTHENICA.\nI am using this library with pyjnius to run it as I can not directly do.</p>\n<pre class=\"lang-java prettyprint-override\"><code>FFmpegSession session = FFmpegKit.execute(command)\n</code></pre>\n<p>In python.</p>\n<p>This is how my python code looks:</p>\n<pre class=\"lang-py prettyprint-override\"><code>FFMPEG = autoclass('com.sahib.ffpy.ffpy')\nFFMPEG.Run(&quot;-i &quot;+INPUT_FILE+&quot; -qscale:v &quot;+str(FRAME_QUALITY)+&quot; TEMP/frame%06d.jpg -hide_banner&quot;)\n</code></pre>\n<p>I am using Kivy/Buildozer.</p>\n<p>Here are the Gradle dependencies in buildozer:</p>\n<pre><code>android.add_aars = ffpy-debug.aar\nandroid.gradle_dependencies = &quot;com.arthenica:ffmpeg-kit-full:5.1&quot;\n</code></pre>\n<p>I have tried extracting the classes.jar from both ffmpegkit and this and combining them, which throws a different error (I know it's not the right way to do it). I tried building ffmpegkit myself. I have tried directly using FFmpeg Kit in Python, but I don't think it will work.</p>\n<p>Edit: I fixed it, if you need ffmpegkit in python for android, use <a href=\"https://www.github.com/blackysh/ffmpeg-kit-python\" rel=\"nofollow noreferrer\">https://www.github.com/blackysh/ffmpeg-kit-python</a></p>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1678961483,"post_id":75754511,"comment_id":133635575,"body_markdown":"Read about flyway","body":"Read about flyway"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1678961803,"post_id":75754511,"comment_id":133635668,"body_markdown":"You could test if the userRole exists with roleRepository.getRoleByName(&quot;user&quot;) and jump over the db population if it does exist. There are other, much more sophisticated ways, eg liquibase, but that&#39;s a bit of an exercise.","body":"You could test if the userRole exists with roleRepository.getRoleByName(&quot;user&quot;) and jump over the db population if it does exist. There are other, much more sophisticated ways, eg liquibase, but that&#39;s a bit of an exercise."}],"answers":[{"tags":[],"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678961843,"creation_date":1678961843,"answer_id":75754808,"question_id":75754511,"body_markdown":"You can check if those specific role and user exist or not before insertion. ","title":"Initializing the database using java in spring-boot and jpa","body":"<p>You can check if those specific role and user exist or not before insertion.</p>\n"},{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678962676,"creation_date":1678961890,"answer_id":75754820,"question_id":75754511,"body_markdown":"You could test if the userRole exists with `roleRepository.getRoleByName(&quot;user&quot;)` and jump over the db population if it does exist. There are other, much more sophisticated ways, eg liquibase, but that&#39;s a bit of an exercise.\r\n\r\nSuggested implementation:\r\n\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class DataLoader\r\n        implements CommandLineRunner {\r\n        \r\n         @Override\r\n        public void run(String... args) throws Exception {\r\n        if(roleRepository.getRoleByName(&quot;user&quot;).empty()) {\r\n        Role userRole = new Role();\r\n            userRole.setRoleName(&quot;user&quot;);\r\n            userRole.setDescription(&quot;test user&quot;);\r\n            roleRepository.save(userRole);\r\n            \r\n            \r\n            //Users and there roles\r\n            User user = new User();\r\n            user.setFirstName(&quot;UserFirstName&quot;);\r\n            user.setLastName(&quot;UserLastName&quot;);\r\n            user.setPhoneNumber(&quot;xx-232323232323&quot;);\r\n            user.addRoleToUser(userRole);\r\n            userRepository.save(user);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Initializing the database using java in spring-boot and jpa","body":"<p>You could test if the userRole exists with <code>roleRepository.getRoleByName(&quot;user&quot;)</code> and jump over the db population if it does exist. There are other, much more sophisticated ways, eg liquibase, but that's a bit of an exercise.</p>\n<p>Suggested implementation:</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class DataLoader\n    implements CommandLineRunner {\n    \n     @Override\n    public void run(String... args) throws Exception {\n    if(roleRepository.getRoleByName(&quot;user&quot;).empty()) {\n    Role userRole = new Role();\n        userRole.setRoleName(&quot;user&quot;);\n        userRole.setDescription(&quot;test user&quot;);\n        roleRepository.save(userRole);\n        \n        \n        //Users and there roles\n        User user = new User();\n        user.setFirstName(&quot;UserFirstName&quot;);\n        user.setLastName(&quot;UserLastName&quot;);\n        user.setPhoneNumber(&quot;xx-232323232323&quot;);\n        user.addRoleToUser(userRole);\n        userRepository.save(user);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18148011,"reputation":146,"user_id":13201103,"display_name":"Syed Iftekharuddin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75754820,"answer_count":2,"score":0,"last_activity_date":1678962676,"creation_date":1678960390,"question_id":75754511,"body_markdown":"I am using spring-boot CommandLineRunner class to initialize the database with some initial data which is need for application to run. The problem is that the commandLineRunner class runs everytime application is restarted which creates duplicate entries in the database (when I set hbm2ddl-auto = update). \r\n**How can I make application run initializing statements only once and future deployments should not execute intializing statements which leads to data duplication.**\r\nI could use schema.sql and data.sql files but the initializing data needs to have relational mapping and I am not sure how to do that.\r\nThe example records from commandline runner is as follows:\r\n\r\n        Component\r\n    @RequiredArgsConstructor\r\n    public class DataLoader\r\n        implements CommandLineRunner {\r\n    \t\r\n    \t @Override\r\n        public void run(String... args) throws Exception {\r\n    \t\r\n    \tRole userRole = new Role();\r\n            userRole.setRoleName(&quot;user&quot;);\r\n            userRole.setDescription(&quot;test user&quot;);\r\n            roleRepository.save(userRole);\r\n    \t\t\r\n    \t\t\r\n    \t\t//Users and there roles\r\n            User user = new User();\r\n            user.setFirstName(&quot;UserFirstName&quot;);\r\n            user.setLastName(&quot;UserLastName&quot;);\r\n            user.setPhoneNumber(&quot;xx-232323232323&quot;);\r\n            user.addRoleToUser(userRole);\r\n            userRepository.save(user);\r\n    \t\t}}\r\n\r\n","title":"Initializing the database using java in spring-boot and jpa","body":"<p>I am using spring-boot CommandLineRunner class to initialize the database with some initial data which is need for application to run. The problem is that the commandLineRunner class runs everytime application is restarted which creates duplicate entries in the database (when I set hbm2ddl-auto = update).\n<strong>How can I make application run initializing statements only once and future deployments should not execute intializing statements which leads to data duplication.</strong>\nI could use schema.sql and data.sql files but the initializing data needs to have relational mapping and I am not sure how to do that.\nThe example records from commandline runner is as follows:</p>\n<pre><code>    Component\n@RequiredArgsConstructor\npublic class DataLoader\n    implements CommandLineRunner {\n    \n     @Override\n    public void run(String... args) throws Exception {\n    \n    Role userRole = new Role();\n        userRole.setRoleName(&quot;user&quot;);\n        userRole.setDescription(&quot;test user&quot;);\n        roleRepository.save(userRole);\n        \n        \n        //Users and there roles\n        User user = new User();\n        user.setFirstName(&quot;UserFirstName&quot;);\n        user.setLastName(&quot;UserLastName&quot;);\n        user.setPhoneNumber(&quot;xx-232323232323&quot;);\n        user.addRoleToUser(userRole);\n        userRepository.save(user);\n        }}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1678963219,"post_id":75754945,"comment_id":133636143,"body_markdown":"Do you know how to highlight a *specific* button in Android? Do you know how to pick a random element from an array/collection? If so, combine those two and you&#39;re done. If not, show/tell us which of those you can do and where the issue is.","body":"Do you know how to highlight a <i>specific</i> button in Android? Do you know how to pick a random element from an array/collection? If so, combine those two and you&#39;re done. If not, show/tell us which of those you can do and where the issue is."},{"owner":{"account_id":28031624,"reputation":1,"user_id":21410715,"display_name":"Lew Ernest"},"score":0,"creation_date":1678963703,"post_id":75754945,"comment_id":133636307,"body_markdown":"I dont know how to highlight a specific button","body":"I dont know how to highlight a specific button"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1678963907,"post_id":75754945,"comment_id":133636373,"body_markdown":"So you need this one: [How to make Button highlight?](https://stackoverflow.com/questions/4131656/how-to-make-button-highlight)","body":"So you need this one: <a href=\"https://stackoverflow.com/questions/4131656/how-to-make-button-highlight\">How to make Button highlight?</a>"},{"owner":{"account_id":28031624,"reputation":1,"user_id":21410715,"display_name":"Lew Ernest"},"score":0,"creation_date":1678967910,"post_id":75754945,"comment_id":133637500,"body_markdown":"but that one didnt mention how to make button highlight without touching them","body":"but that one didnt mention how to make button highlight without touching them"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1678968045,"post_id":75754945,"comment_id":133637527,"body_markdown":"Yes, and that&#39;s where you combine what you learned with other things. So now you know how to highlight a button. Next figure out how to pick a random button to highlight... and so on and so on. ...","body":"Yes, and that&#39;s where you combine what you learned with other things. So now you know how to highlight a button. Next figure out how to pick a random button to highlight... and so on and so on. ..."}],"owner":{"account_id":28031624,"reputation":1,"user_id":21410715,"display_name":"Lew Ernest"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678962652,"creation_date":1678962652,"question_id":75754945,"body_markdown":"How do I randomly highlight a button in Android studio. For example, there are 4 buttons/views and I want one of them randomly highlighted, then if users correctly select the highlighted one, the other buttons will be randomly highlighted and previous highlighted buttons will be remain visible but not highlighted\r\n\r\nI have tried browsing online to find related methods, but unsuccessful","title":"Android studio Java Project","body":"<p>How do I randomly highlight a button in Android studio. For example, there are 4 buttons/views and I want one of them randomly highlighted, then if users correctly select the highlighted one, the other buttons will be randomly highlighted and previous highlighted buttons will be remain visible but not highlighted</p>\n<p>I have tried browsing online to find related methods, but unsuccessful</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1678960287,"post_id":75754444,"comment_id":133635235,"body_markdown":"Oh ... you&#39;re opening a whole can of worms. The short answer is &quot;your public IP address or a DNS name pointing to it&quot;, but thanks to wide use of NAT (both at your local network and even at the ISP level) you may or may not have one or it might only point to your router and not to your PC. Hosting publicly accessible ports from a local computer is non-trivial (and also somewhat risky).","body":"Oh ... you&#39;re opening a whole can of worms. The short answer is &quot;your public IP address or a DNS name pointing to it&quot;, but thanks to wide use of NAT (both at your local network and even at the ISP level) you may or may not have one or it might only point to your router and not to your PC. Hosting publicly accessible ports from a local computer is non-trivial (and also somewhat risky)."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1678960512,"post_id":75754444,"comment_id":133635304,"body_markdown":"I&#39;ve not found a good question with answers that explain it all in details but [this one](https://stackoverflow.com/questions/5108483/access-localhost-from-the-internet), [this one](https://stackoverflow.com/questions/45739486/open-8080-port-on-my-local-server-to-public) and [this one](https://stackoverflow.com/questions/52137672/how-do-i-make-my-ip-public-externally-can-access-my-localhost) might give you some pointers.","body":"I&#39;ve not found a good question with answers that explain it all in details but <a href=\"https://stackoverflow.com/questions/5108483/access-localhost-from-the-internet\">this one</a>, <a href=\"https://stackoverflow.com/questions/45739486/open-8080-port-on-my-local-server-to-public\">this one</a> and <a href=\"https://stackoverflow.com/questions/52137672/how-do-i-make-my-ip-public-externally-can-access-my-localhost\">this one</a> might give you some pointers."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1678961841,"post_id":75754444,"comment_id":133635685,"body_markdown":"@life888888: I don&#39;t think the code is actually OPs problem, it&#39;s more about the networking topology.","body":"@life888888: I don&#39;t think the code is actually OPs problem, it&#39;s more about the networking topology."}],"answers":[{"tags":[],"owner":{"account_id":15092059,"reputation":97,"user_id":10891659,"display_name":"th0bse"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678961950,"creation_date":1678961950,"answer_id":75754835,"question_id":75754444,"body_markdown":"The machine you want to run the server on needs to actually be accessible from the outside, which means it has to have a public IP address and other machines need to be able to access the application running on your machine.\r\n\r\nBeing accessable from the outside also includes that other clients need to be able to establish a connection, not just responding to already existing connections that go out from your own machine. This becomes a problem in case your home PC sits behind a Carrier-Grade NAT or there is a firewall in between you and the internet you have no control over.\r\n\r\nIf there is no NAT or anything else blocking incoming connections you have no control over, what you want is certainly possible, and there are a few steps to achieving this:\r\n\r\n - Make sure the machine you want to run the server on has a public IP.\r\n - Make sure that the port you want to run your server on isn&#39;t blocked by a firewall or anything.\r\n - Make sure that no other service on your machine is already running on the same port you want to run your service on.\r\n\r\nNow, even if it is possible opening ports on your home network is always at least a small security risk because you allow potential malicious actors to make connections back to your network. If you do this for testing purposes it is fine, but please remember to close the port again (in your router settings) when you are done.","title":"How to make Online java server","body":"<p>The machine you want to run the server on needs to actually be accessible from the outside, which means it has to have a public IP address and other machines need to be able to access the application running on your machine.</p>\n<p>Being accessable from the outside also includes that other clients need to be able to establish a connection, not just responding to already existing connections that go out from your own machine. This becomes a problem in case your home PC sits behind a Carrier-Grade NAT or there is a firewall in between you and the internet you have no control over.</p>\n<p>If there is no NAT or anything else blocking incoming connections you have no control over, what you want is certainly possible, and there are a few steps to achieving this:</p>\n<ul>\n<li>Make sure the machine you want to run the server on has a public IP.</li>\n<li>Make sure that the port you want to run your server on isn't blocked by a firewall or anything.</li>\n<li>Make sure that no other service on your machine is already running on the same port you want to run your service on.</li>\n</ul>\n<p>Now, even if it is possible opening ports on your home network is always at least a small security risk because you allow potential malicious actors to make connections back to your network. If you do this for testing purposes it is fine, but please remember to close the port again (in your router settings) when you are done.</p>\n"},{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678962454,"creation_date":1678962454,"answer_id":75754912,"question_id":75754444,"body_markdown":"First steps:\r\n\r\nIs the ip the one from [this page][1]? \r\n\r\nTest if the port is accessible by doing a telnet to the ip and port 5000 from another computer off your network. If the telnet page opens up your server is reachable.\r\n\r\n\r\n  [1]: https://whatismyipaddress.com/","title":"How to make Online java server","body":"<p>First steps:</p>\n<p>Is the ip the one from <a href=\"https://whatismyipaddress.com/\" rel=\"nofollow noreferrer\">this page</a>?</p>\n<p>Test if the port is accessible by doing a telnet to the ip and port 5000 from another computer off your network. If the telnet page opens up your server is reachable.</p>\n"}],"owner":{"account_id":26101594,"reputation":13,"user_id":19796940,"display_name":"Issasafar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75754835,"answer_count":2,"score":0,"last_activity_date":1678962454,"creation_date":1678959905,"question_id":75754444,"body_markdown":"I am new to java networking.\r\nI tried to make a server localy (the servet and client on the same machine) and it works with simple chat server.\r\nAnd what iam trying to do is to make it  online so i can make a connection between the server hosted on my computer and other computers.\r\n\r\nI tried to search on google but whenever i type java server i got things about minecraft -_- java servers!\r\nThanks if you can help.\r\n\r\nI have the following setUpNetworking method in my Client class: \r\n\r\n```\r\nprivate void setUpNetworking(){\r\ntry{\r\nInetSocketAddress serverAddress=new InetSocketAddress(&quot;127.0.0.1&quot;,5000);\r\nSocketChannel socketchannel=SocketChannel.open(serverAddress);\r\n/*\r\nsetting up reader and writer .... etc\r\n*/\r\nSystem.out.println(&quot;Networking established&quot;);\r\n}catch (IOException ex){\r\nex.printStackTrace();\r\n}\r\n}\r\n```\r\nWhat i should i put instead of `&quot;127.0.0.1&quot;` i tried my computer ip address and it didn&#39;t prints &#39;Networking established&#39; and never terminated, same thing happens when i host the server on other computer or on my phone.\r\nCan any one help me i want the connection to go through the internet and get back to my computer.","title":"How to make Online java server","body":"<p>I am new to java networking.\nI tried to make a server localy (the servet and client on the same machine) and it works with simple chat server.\nAnd what iam trying to do is to make it  online so i can make a connection between the server hosted on my computer and other computers.</p>\n<p>I tried to search on google but whenever i type java server i got things about minecraft -_- java servers!\nThanks if you can help.</p>\n<p>I have the following setUpNetworking method in my Client class:</p>\n<pre><code>private void setUpNetworking(){\ntry{\nInetSocketAddress serverAddress=new InetSocketAddress(&quot;127.0.0.1&quot;,5000);\nSocketChannel socketchannel=SocketChannel.open(serverAddress);\n/*\nsetting up reader and writer .... etc\n*/\nSystem.out.println(&quot;Networking established&quot;);\n}catch (IOException ex){\nex.printStackTrace();\n}\n}\n</code></pre>\n<p>What i should i put instead of <code>&quot;127.0.0.1&quot;</code> i tried my computer ip address and it didn't prints 'Networking established' and never terminated, same thing happens when i host the server on other computer or on my phone.\nCan any one help me i want the connection to go through the internet and get back to my computer.</p>\n"},{"tags":["java","swing","keyevent"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1544934112,"post_id":53795956,"comment_id":94448143,"body_markdown":"*&quot; hotkeys to modify the value of a certain JTextField called degreeField up or down.&quot;* You&#39;re describing a `JSpinner` ..","body":"<i>&quot; hotkeys to modify the value of a certain JTextField called degreeField up or down.&quot;</i> You&#39;re describing a <code>JSpinner</code> .."}],"answers":[{"tags":[],"owner":{"account_id":14952939,"reputation":1,"user_id":10795321,"display_name":"Ashish G"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1544903366,"creation_date":1544903366,"answer_id":53796694,"question_id":53795956,"body_markdown":"You should add two separate panels and add listener to the JPanel in which degreeField is added.\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.event.KeyListener;\r\n\r\n    public class MyClass extends JFrame {\r\n\r\n    private JTextField degreeField = new JTextField(&quot;0&quot;);\r\n    private JTextField anotherField = new JTextField(&quot;0&quot;);\r\n    private JPanel panel1 = new JPanel();\r\n    private JPanel panel2 = new JPanel();\r\n\r\n    MyClass(){\r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        panel1.add(degreeField);\r\n        panel2.add(anotherField);\r\n        this.getContentPane().add(panel1, BorderLayout.CENTER);\r\n        this.getContentPane().add(panel2, BorderLayout.PAGE_END);\r\n\r\n        panel1.addKeyListener(new KeyListener() {\r\n            @Override\r\n            public void keyTyped( KeyEvent e ) {\r\n                int keyCode = e.getKeyCode();\r\n                switch(keyCode){\r\n                    // other cases\r\n                    case KeyEvent.VK_PLUS:\r\n                        degreeField.setText((Integer.parseInt(degreeField.getText()) + 1 )+ &quot;&quot;);\r\n                    case KeyEvent.VK_MINUS:\r\n                        degreeField.setText((Integer.parseInt(degreeField.getText()) - 1 ) + &quot;&quot;);\r\n\r\n                    default:\r\n                        //do nothing\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void keyPressed( KeyEvent e ) {\r\n                //do nothing\r\n            }\r\n\r\n            @Override\r\n            public void keyReleased( KeyEvent e ) {\r\n                //do nothing\r\n            }\r\n        });\r\n    }\r\n\r\n    public static void main(String[] args){\r\n        MyClass m = new MyClass();\r\n        m.pack();\r\n        m.setVisible(true);\r\n\r\n    }\r\n    }\r\n","title":"How to prevent char from being entered into JTextField after dispatching event?","body":"<p>You should add two separate panels and add listener to the JPanel in which degreeField is added.</p>\n\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\n\npublic class MyClass extends JFrame {\n\nprivate JTextField degreeField = new JTextField(\"0\");\nprivate JTextField anotherField = new JTextField(\"0\");\nprivate JPanel panel1 = new JPanel();\nprivate JPanel panel2 = new JPanel();\n\nMyClass(){\n    this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n    panel1.add(degreeField);\n    panel2.add(anotherField);\n    this.getContentPane().add(panel1, BorderLayout.CENTER);\n    this.getContentPane().add(panel2, BorderLayout.PAGE_END);\n\n    panel1.addKeyListener(new KeyListener() {\n        @Override\n        public void keyTyped( KeyEvent e ) {\n            int keyCode = e.getKeyCode();\n            switch(keyCode){\n                // other cases\n                case KeyEvent.VK_PLUS:\n                    degreeField.setText((Integer.parseInt(degreeField.getText()) + 1 )+ \"\");\n                case KeyEvent.VK_MINUS:\n                    degreeField.setText((Integer.parseInt(degreeField.getText()) - 1 ) + \"\");\n\n                default:\n                    //do nothing\n            }\n        }\n\n        @Override\n        public void keyPressed( KeyEvent e ) {\n            //do nothing\n        }\n\n        @Override\n        public void keyReleased( KeyEvent e ) {\n            //do nothing\n        }\n    });\n}\n\npublic static void main(String[] args){\n    MyClass m = new MyClass();\n    m.pack();\n    m.setVisible(true);\n\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678962404,"creation_date":1544908589,"answer_id":53797328,"question_id":53795956,"body_markdown":"&gt;  I add a KeyEventDispatcher with the following dispatchKeyEventMethod to my KeyboardFocusManger:\r\n\r\nNo, no, no and no on so many levels\r\n\r\nThe actual answer to your question is two fold.\r\n\r\nFirst, use a `DocumentFilter` to filter out undesirable input, see [Implementing a DocumentFilter](http://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html#filter) for more details.\r\n\r\nThe reason for using this comes down to a number of issues...\r\n\r\n* `KeyListener` may be notified AFTER the content is committed to the underlying `Document` model\r\n* Key processing routines may also ignore the consumed state\r\n* `KeyListener` doesn&#39;t catch the use-case when the user pastes text into the field\r\n* `KeyListener` doesn&#39;t catch the use-case when `setText` is called\r\n* `KeyListener` is just a poor choice, all round, for trying to filter content.\r\n\r\nSecond, you should be using the [Key Bindings API](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html) instead of `KeyEventDispatcher`.\r\n\r\n`KeyEventDispatcher` is to low level for what you need; is difficult to maintain; doesn&#39;t take into consideration other actions which might need to be associated with the same key strokes and quickly becomes messy.\r\n\r\nKey bindings are also more easily re-usable.  You can apply the `Action` used by the key bindings to buttons or even to a more global state.  They can also be used to bind multiple keys to a single action, for example, the &lt;kbd&gt;+&lt;/kbd&gt; key (on the numpad) and the &lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;=&lt;/kbd&gt; keys\r\n\r\n\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.KeyEvent;\r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.ActionMap;\r\n    import javax.swing.InputMap;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.KeyStroke;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.UnsupportedLookAndFeelException;\r\n    import javax.swing.text.AbstractDocument;\r\n    import javax.swing.text.AttributeSet;\r\n    import javax.swing.text.BadLocationException;\r\n    import javax.swing.text.Document;\r\n    import javax.swing.text.DocumentFilter;\r\n    \r\n    public class Text {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew Text();\r\n    \t}\r\n    \r\n    \tpublic Text() {\r\n    \t\tEventQueue.invokeLater(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tUIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n    \t\t\t\t} catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n    \t\t\t\t\tex.printStackTrace();\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tJFrame frame = new JFrame(&quot;Testing&quot;);\r\n    \t\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\t\tframe.add(new TestPane());\r\n    \t\t\t\tframe.pack();\r\n    \t\t\t\tframe.setLocationRelativeTo(null);\r\n    \t\t\t\tframe.setVisible(true);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \tpublic class TestPane extends JPanel {\r\n    \r\n    \t\tpublic TestPane() {\r\n    \t\t\tsetLayout(new GridBagLayout());\r\n    \t\t\tJTextField field = new JTextField(10);\r\n    \t\t\t((AbstractDocument)field.getDocument()).setDocumentFilter(new IntegerDocumentFilter());\r\n    \t\t\t\r\n    \t\t\tGridBagConstraints gbc = new GridBagConstraints();\r\n    \t\t\tgbc.gridwidth = GridBagConstraints.REMAINDER;\r\n    \t\t\tadd(field, gbc);\r\n    \t\t\t\r\n    \t\t\tInputMap im = field.getInputMap(WHEN_IN_FOCUSED_WINDOW);\r\n    \t\t\tActionMap am = field.getActionMap();\r\n    \r\n    \t\t\tim.put(KeyStroke.getKeyStroke(KeyEvent.VK_EQUALS, KeyEvent.SHIFT_DOWN_MASK), &quot;Pressed.+&quot;);\r\n\t\t\t\tim.put(KeyStroke.getKeyStroke(KeyEvent.VK_PLUS, 0), &quot;Pressed.+&quot;);\r\n    \t\t\tim.put(KeyStroke.getKeyStroke(KeyEvent.VK_MINUS, 0), &quot;Pressed.-&quot;);\r\n    \r\n    \t\t\tam.put(&quot;Pressed.+&quot;, new DeltaAction(field, 1));\r\n    \t\t\tam.put(&quot;Pressed.-&quot;, new DeltaAction(field, -1));\r\n    \t\t\t\r\n    \t\t\tadd(new JButton(&quot;Test&quot;), gbc);\r\n    \t\t}\r\n    \r\n    \t\tprotected class DeltaAction extends AbstractAction {\r\n    \r\n    \t\t\tprivate JTextField field;\r\n    \t\t\tprivate int delta;\r\n    \r\n    \t\t\tpublic DeltaAction(JTextField field, int delta) {\r\n    \t\t\t\tthis.field = field;\r\n    \t\t\t\tthis.delta = delta;\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t\tString text = field.getText();\r\n    \t\t\t\tif (text == null || text.isEmpty()) {\r\n    \t\t\t\t\ttext = &quot;0&quot;;\r\n    \t\t\t\t}\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tint value = Integer.parseInt(text);\r\n    \t\t\t\t\tvalue += delta;\r\n    \t\t\t\t\tfield.setText(Integer.toString(value));\r\n    \t\t\t\t} catch (NumberFormatException exp) {\r\n    \t\t\t\t\tSystem.err.println(&quot;Can not convert &quot; + text + &quot; to an int&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tpublic class IntegerDocumentFilter extends DocumentFilter {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void insertString(DocumentFilter.FilterBypass fb, int offset, String text, AttributeSet attr) throws BadLocationException {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tStringBuilder sb = new StringBuilder();\r\n    \t\t\t\t\tDocument document = fb.getDocument();\r\n    \t\t\t\t\tsb.append(document.getText(0, offset));\r\n    \t\t\t\t\tsb.append(text);\r\n    \t\t\t\t\tsb.append(document.getText(offset, document.getLength()));\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tInteger.parseInt(sb.toString());\r\n    \t\t\t\t\tsuper.insertString(fb, offset, text, attr);\r\n    \t\t\t\t} catch (NumberFormatException exp) {\r\n    \t\t\t\t\tSystem.err.println(&quot;Can not insert &quot; + text + &quot; into document&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void replace(DocumentFilter.FilterBypass fb, int offset, int length, String string, AttributeSet attr) throws BadLocationException {\r\n    \t\t\t\tif (length &gt; 0) {\r\n    \t\t\t\t\tfb.remove(offset, length);\r\n    \t\t\t\t}\r\n    \t\t\t\tinsertString(fb, offset, string, attr);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to prevent char from being entered into JTextField after dispatching event?","body":"<blockquote>\n<p>I add a KeyEventDispatcher with the following dispatchKeyEventMethod to my KeyboardFocusManger:</p>\n</blockquote>\n<p>No, no, no and no on so many levels</p>\n<p>The actual answer to your question is two fold.</p>\n<p>First, use a <code>DocumentFilter</code> to filter out undesirable input, see <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html#filter\" rel=\"nofollow noreferrer\">Implementing a DocumentFilter</a> for more details.</p>\n<p>The reason for using this comes down to a number of issues...</p>\n<ul>\n<li><code>KeyListener</code> may be notified AFTER the content is committed to the underlying <code>Document</code> model</li>\n<li>Key processing routines may also ignore the consumed state</li>\n<li><code>KeyListener</code> doesn't catch the use-case when the user pastes text into the field</li>\n<li><code>KeyListener</code> doesn't catch the use-case when <code>setText</code> is called</li>\n<li><code>KeyListener</code> is just a poor choice, all round, for trying to filter content.</li>\n</ul>\n<p>Second, you should be using the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">Key Bindings API</a> instead of <code>KeyEventDispatcher</code>.</p>\n<p><code>KeyEventDispatcher</code> is to low level for what you need; is difficult to maintain; doesn't take into consideration other actions which might need to be associated with the same key strokes and quickly becomes messy.</p>\n<p>Key bindings are also more easily re-usable.  You can apply the <code>Action</code> used by the key bindings to buttons or even to a more global state.  They can also be used to bind multiple keys to a single action, for example, the <kbd>+</kbd> key (on the numpad) and the <kbd>Shift</kbd>+<kbd>=</kbd> keys</p>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.KeyEvent;\nimport javax.swing.AbstractAction;\nimport javax.swing.ActionMap;\nimport javax.swing.InputMap;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\nimport javax.swing.KeyStroke;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\nimport javax.swing.text.AbstractDocument;\nimport javax.swing.text.AttributeSet;\nimport javax.swing.text.BadLocationException;\nimport javax.swing.text.Document;\nimport javax.swing.text.DocumentFilter;\n\npublic class Text {\n\n    public static void main(String[] args) {\n        new Text();\n    }\n\n    public Text() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                    ex.printStackTrace();\n                }\n\n                JFrame frame = new JFrame(&quot;Testing&quot;);\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setLayout(new GridBagLayout());\n            JTextField field = new JTextField(10);\n            ((AbstractDocument)field.getDocument()).setDocumentFilter(new IntegerDocumentFilter());\n            \n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n            add(field, gbc);\n            \n            InputMap im = field.getInputMap(WHEN_IN_FOCUSED_WINDOW);\n            ActionMap am = field.getActionMap();\n\n            im.put(KeyStroke.getKeyStroke(KeyEvent.VK_EQUALS, KeyEvent.SHIFT_DOWN_MASK), &quot;Pressed.+&quot;);\n            im.put(KeyStroke.getKeyStroke(KeyEvent.VK_PLUS, 0), &quot;Pressed.+&quot;);\n            im.put(KeyStroke.getKeyStroke(KeyEvent.VK_MINUS, 0), &quot;Pressed.-&quot;);\n\n            am.put(&quot;Pressed.+&quot;, new DeltaAction(field, 1));\n            am.put(&quot;Pressed.-&quot;, new DeltaAction(field, -1));\n            \n            add(new JButton(&quot;Test&quot;), gbc);\n        }\n\n        protected class DeltaAction extends AbstractAction {\n\n            private JTextField field;\n            private int delta;\n\n            public DeltaAction(JTextField field, int delta) {\n                this.field = field;\n                this.delta = delta;\n            }\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                String text = field.getText();\n                if (text == null || text.isEmpty()) {\n                    text = &quot;0&quot;;\n                }\n                try {\n                    int value = Integer.parseInt(text);\n                    value += delta;\n                    field.setText(Integer.toString(value));\n                } catch (NumberFormatException exp) {\n                    System.err.println(&quot;Can not convert &quot; + text + &quot; to an int&quot;);\n                }\n            }\n        }\n\n        public class IntegerDocumentFilter extends DocumentFilter {\n\n            @Override\n            public void insertString(DocumentFilter.FilterBypass fb, int offset, String text, AttributeSet attr) throws BadLocationException {\n                try {\n                    StringBuilder sb = new StringBuilder();\n                    Document document = fb.getDocument();\n                    sb.append(document.getText(0, offset));\n                    sb.append(text);\n                    sb.append(document.getText(offset, document.getLength()));\n                    \n                    Integer.parseInt(sb.toString());\n                    super.insertString(fb, offset, text, attr);\n                } catch (NumberFormatException exp) {\n                    System.err.println(&quot;Can not insert &quot; + text + &quot; into document&quot;);\n                }\n            }\n\n            @Override\n            public void replace(DocumentFilter.FilterBypass fb, int offset, int length, String string, AttributeSet attr) throws BadLocationException {\n                if (length &gt; 0) {\n                    fb.remove(offset, length);\n                }\n                insertString(fb, offset, string, attr);\n            }\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":14952999,"reputation":25,"user_id":10795363,"display_name":"Joris K&#252;hl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53797328,"answer_count":2,"score":1,"last_activity_date":1678962404,"creation_date":1544897767,"question_id":53795956,"body_markdown":"In my MainWindow class (a JFrame), I use the &quot;+&quot; and &quot;-&quot; keys as hotkeys to modify the value of a certain JTextField called degreeField up or down. I add a KeyEventDispatcher with the following dispatchKeyEventMethod to my KeyboardFocusManger:\r\n\r\n            @Override\r\n            public boolean dispatchKeyEvent(KeyEvent evt) {\r\n                if(simPanel.main.isFocused()){\r\n                    int type = evt.getID();\r\n                    if(type == KeyEvent.KEY_PRESSED){\r\n                        int keyCode = evt.getKeyCode();\r\n                        switch(keyCode){\r\n                            // other cases\r\n                            case KeyEvent.VK_PLUS:\r\n                                // increase degreeField by 1, if double\r\n                                // otherwise set it to &quot;270.0&quot;\r\n                                return true;\r\n                            case KeyEvent.VK_MINUS:\r\n                                // decrease degreeField by 1, if double\r\n                                // otherwise set it to &quot;270.0&quot;\r\n                                return true;\r\n                            default:\r\n                                return false;\r\n                        }\r\n                    }\r\n                    else if(type == KeyEvent.KEY_RELEASED){\r\n                        // irrelevant\r\n                        return false;\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\nThe KeyEventDispatcher works and degreeField&#39;s text is modified as expected. However, when I have another JTextField focused, the &quot;+&quot; or &quot;-&quot; is also entered into that field.\r\n\r\nSince I return true, I was under the impression that the event should no longer be dispatched by the JTextField I have focused. Using the NetBeans debugger, I put a break point into the relevant case and checked the text of the focused text field. At the time, there was no + appended. The + is therefore appended after I finish dispatching this event and return true.\r\n\r\nAnyone got any ideas, how I can actually prevent the event from being passed down further?\r\n\r\nI know I could put an extra listener on the text field to prevent &quot;+&quot; and &quot;-&quot; chars from being entered, but I would prefer a solution that works for non-char keys as well. (I have a similar problem with up and down arrow keys; it doesn&#39;t break anything, just annoyingly cycles through my text fields).\r\n\r\n\r\n----------\r\nThanks to MadProgrammer for this:\r\n\r\n    InputMap im = senderXField.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW);\r\n\tActionMap am = senderXField.getActionMap();\r\n\r\n\tim.put(KeyStroke.getKeyStroke(KeyEvent.VK_PLUS, 0), &quot;Pressed.+&quot;);\r\n\tim.put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0), &quot;Pressed.up&quot;);\r\n\t\r\n\tam.put(&quot;Pressed.+&quot;, angleUpAction); // works fine\r\nSadly\r\n\r\n\tam.put(&quot;Pressed.up&quot;, indexUpAction); // does not trigger\r\n\r\nThis applies to all arrow keys. They do their usual thing (move cursor or focus respectively) and don&#39;t trigger the actions. If I use the WHEN_FOCUSED InputMap, they work as intended, leading me to believe that their default behavior is implemented as a KeyBinding at the WHEN_FOCUSED level that can be overwritten.\r\n\r\nWhile, technically, as a workaround, I could implement the arrow key commands for all text fields in my MainWindow, that would be ... weird. I hope there&#39;s a better solution that let&#39;s me keep the command for the entire window but also overwrite their default behaviour.\r\n\r\n\r\n----------\r\nSolved","title":"How to prevent char from being entered into JTextField after dispatching event?","body":"<p>In my MainWindow class (a JFrame), I use the \"+\" and \"-\" keys as hotkeys to modify the value of a certain JTextField called degreeField up or down. I add a KeyEventDispatcher with the following dispatchKeyEventMethod to my KeyboardFocusManger:</p>\n\n<pre><code>        @Override\n        public boolean dispatchKeyEvent(KeyEvent evt) {\n            if(simPanel.main.isFocused()){\n                int type = evt.getID();\n                if(type == KeyEvent.KEY_PRESSED){\n                    int keyCode = evt.getKeyCode();\n                    switch(keyCode){\n                        // other cases\n                        case KeyEvent.VK_PLUS:\n                            // increase degreeField by 1, if double\n                            // otherwise set it to \"270.0\"\n                            return true;\n                        case KeyEvent.VK_MINUS:\n                            // decrease degreeField by 1, if double\n                            // otherwise set it to \"270.0\"\n                            return true;\n                        default:\n                            return false;\n                    }\n                }\n                else if(type == KeyEvent.KEY_RELEASED){\n                    // irrelevant\n                    return false;\n                }\n            }\n            return false;\n        }\n</code></pre>\n\n<p>The KeyEventDispatcher works and degreeField's text is modified as expected. However, when I have another JTextField focused, the \"+\" or \"-\" is also entered into that field.</p>\n\n<p>Since I return true, I was under the impression that the event should no longer be dispatched by the JTextField I have focused. Using the NetBeans debugger, I put a break point into the relevant case and checked the text of the focused text field. At the time, there was no + appended. The + is therefore appended after I finish dispatching this event and return true.</p>\n\n<p>Anyone got any ideas, how I can actually prevent the event from being passed down further?</p>\n\n<p>I know I could put an extra listener on the text field to prevent \"+\" and \"-\" chars from being entered, but I would prefer a solution that works for non-char keys as well. (I have a similar problem with up and down arrow keys; it doesn't break anything, just annoyingly cycles through my text fields).</p>\n\n<hr>\n\n<p>Thanks to MadProgrammer for this:</p>\n\n<pre><code>InputMap im = senderXField.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW);\nActionMap am = senderXField.getActionMap();\n\nim.put(KeyStroke.getKeyStroke(KeyEvent.VK_PLUS, 0), \"Pressed.+\");\nim.put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0), \"Pressed.up\");\n\nam.put(\"Pressed.+\", angleUpAction); // works fine\n</code></pre>\n\n<p>Sadly</p>\n\n<pre><code>am.put(\"Pressed.up\", indexUpAction); // does not trigger\n</code></pre>\n\n<p>This applies to all arrow keys. They do their usual thing (move cursor or focus respectively) and don't trigger the actions. If I use the WHEN_FOCUSED InputMap, they work as intended, leading me to believe that their default behavior is implemented as a KeyBinding at the WHEN_FOCUSED level that can be overwritten.</p>\n\n<p>While, technically, as a workaround, I could implement the arrow key commands for all text fields in my MainWindow, that would be ... weird. I hope there's a better solution that let's me keep the command for the entire window but also overwrite their default behaviour.</p>\n\n<hr>\n\n<p>Solved</p>\n"},{"tags":["java","spring","spring-aop"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1457440051,"post_id":35866920,"comment_id":59398428,"body_markdown":"And WHERE have you added `&lt;aop:aspectj-autoproxy /&gt;`? Because if that tis in your root application context (i.e. `ContextLoaderListener`) it is going to do exactly nothing for your controllers. Next to that you would have to enable `proxy-target-class=&quot;true&quot;` on the `&lt;aop:aspectj-autoproxy /&gt;` as well to make it work for controllers.","body":"And WHERE have you added <code>&lt;aop:aspectj-autoproxy &#47;&gt;</code>? Because if that tis in your root application context (i.e. <code>ContextLoaderListener</code>) it is going to do exactly nothing for your controllers. Next to that you would have to enable <code>proxy-target-class=&quot;true&quot;</code> on the <code>&lt;aop:aspectj-autoproxy &#47;&gt;</code> as well to make it work for controllers."},{"owner":{"account_id":3036352,"reputation":802,"user_id":2574357,"display_name":"mlewandowski"},"score":0,"creation_date":1457440135,"post_id":35866920,"comment_id":59398502,"body_markdown":"Try to change \n\nfrom:\n\n`@Pointcut(execution(@com.application.aspect.annotation.LoggedRequest * *(..))`\n\nto \n\n`@Pointcut(@annotation(com.application.aspect.annotation.LoggedRequest))`\n\nand then try to invoke your annotated methods.","body":"Try to change   from:  <code>@Pointcut(execution(@com.application.aspect.annotation.Logge&zwnj;&#8203;dRequest * *(..))</code>  to   <code>@Pointcut(@annotation(com.application.aspect.annotation.Logg&zwnj;&#8203;edRequest))</code>  and then try to invoke your annotated methods."},{"owner":{"account_id":1266891,"reputation":9885,"user_id":1224016,"accept_rate":80,"display_name":"Michał Kosmulski"},"score":0,"creation_date":1457440194,"post_id":35866920,"comment_id":59398528,"body_markdown":"Do you have `spring-aop` and `aspectjweaver` in your classpath?","body":"Do you have <code>spring-aop</code> and <code>aspectjweaver</code> in your classpath?"},{"owner":{"account_id":2145385,"reputation":2499,"user_id":1903108,"accept_rate":80,"display_name":"Tariq"},"score":0,"creation_date":1457440574,"post_id":35866920,"comment_id":59398799,"body_markdown":"@M.Deinum Yes I have placed it in my root application context. Where should I put it otherwise?","body":"@M.Deinum Yes I have placed it in my root application context. Where should I put it otherwise?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1457440674,"post_id":35866920,"comment_id":59398878,"body_markdown":"In the context that is loaded by the `DispatcherServlet`. AOP only works on beans in the same application context not on beans in parent or child contexts.","body":"In the context that is loaded by the <code>DispatcherServlet</code>. AOP only works on beans in the same application context not on beans in parent or child contexts."},{"owner":{"account_id":2145385,"reputation":2499,"user_id":1903108,"accept_rate":80,"display_name":"Tariq"},"score":0,"creation_date":1457500404,"post_id":35866920,"comment_id":59429338,"body_markdown":"Gotcha! @M.Deinum Please post it as answer. If possible with a more detail of problem and why your solution solved my problem.","body":"Gotcha! @M.Deinum Please post it as answer. If possible with a more detail of problem and why your solution solved my problem."}],"answers":[{"tags":[],"owner":{"account_id":7336268,"reputation":4279,"user_id":5587542,"display_name":"Valerio Vaudi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457464728,"creation_date":1457447134,"answer_id":35869927,"question_id":35866920,"body_markdown":"it all seems ok, but you should write a thing like this:\r\n\r\n    &lt;aop:aspectj-autoproxy &gt;\r\n    \t\t&lt;aop:include name=&quot;loggedRequestAspect&quot;/&gt;\r\n    \t&lt;/aop:aspectj-autoproxy&gt;\r\n\r\n because with this final configuration you say at the spring autoproxy infrastructure what beans consider in the auto proxying process.\r\nThe key point hear is if you want use the aspect for log the method call,  it is fine but if you want use the aspect for log the http call it will be not work, in this case could be a good choice use an interceptor.\r\n\r\nYou may use a your org.springframework.web.servlet.HandlerInterceptor or org.springframework.web.context.request.WebRequestInterceptor implementations\r\n\r\nand then register it in a  org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter like this:\r\n\r\n    @Configuration\r\n    class MyWebConfiguratio extends WebMvcConfigurerAdapter {\r\n    ....\r\n            @Override\r\n            public void addInterceptors(InterceptorRegistry registry) {\r\n                registry.addInterceptor(new HandlerInterceptor() {\r\n                   ...\r\n                }).addPathPatterns(&quot;....&quot;);\r\n                registry.addInterceptor(new WebMvcConfigurerAdapter() {\r\n                  ....\r\n                }).addPathPatterns(&quot;....&quot;);\r\n            }\r\n    \r\n          ....\r\n    }\r\n\r\nin java config or\r\n\r\n  \r\n\r\n     &lt;mvc:interceptors&gt;\r\n            &lt;bean id=&quot;localeChangeInterceptor&quot;\r\n                  class=&quot;com.yourapp.Interceptor&quot;&quot;/&gt;\r\n        &lt;/mvc:interceptors&gt;\r\n\r\nin your xml configuration file with the mvc namespace\r\n\r\nI hope this can help you","title":"Spring AOP Annotation not working","body":"<p>it all seems ok, but you should write a thing like this:</p>\n\n<pre><code>&lt;aop:aspectj-autoproxy &gt;\n        &lt;aop:include name=\"loggedRequestAspect\"/&gt;\n    &lt;/aop:aspectj-autoproxy&gt;\n</code></pre>\n\n<p>because with this final configuration you say at the spring autoproxy infrastructure what beans consider in the auto proxying process.\nThe key point hear is if you want use the aspect for log the method call,  it is fine but if you want use the aspect for log the http call it will be not work, in this case could be a good choice use an interceptor.</p>\n\n<p>You may use a your org.springframework.web.servlet.HandlerInterceptor or org.springframework.web.context.request.WebRequestInterceptor implementations</p>\n\n<p>and then register it in a  org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter like this:</p>\n\n<pre><code>@Configuration\nclass MyWebConfiguratio extends WebMvcConfigurerAdapter {\n....\n        @Override\n        public void addInterceptors(InterceptorRegistry registry) {\n            registry.addInterceptor(new HandlerInterceptor() {\n               ...\n            }).addPathPatterns(\"....\");\n            registry.addInterceptor(new WebMvcConfigurerAdapter() {\n              ....\n            }).addPathPatterns(\"....\");\n        }\n\n      ....\n}\n</code></pre>\n\n<p>in java config or</p>\n\n<pre><code> &lt;mvc:interceptors&gt;\n        &lt;bean id=\"localeChangeInterceptor\"\n              class=\"com.yourapp.Interceptor\"\"/&gt;\n    &lt;/mvc:interceptors&gt;\n</code></pre>\n\n<p>in your xml configuration file with the mvc namespace</p>\n\n<p>I hope this can help you</p>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1457506676,"creation_date":1457506676,"answer_id":35884966,"question_id":35866920,"body_markdown":"When using AOP on beans in Spring that is only applied to beans in the same application context.\r\n\r\nIn a typical web application you would have a `ContextLoaderListener` and a `DispatcherServlet` both of which create an `ApplicationContext`. The `ContextLoaderListener` creates the so called root application context and the `DispatcherServlet` a child context with a relation to the root context. \r\n\r\nAOP configuration from the root doesn&#39;t influence beans in the child context and AOP configuration in the child context doesn&#39;t influence beans in the root context. \r\n\r\nNow you have configured the aspect and `&lt;aop:aspectj-autoproxy /&gt;` in the root context and except it to work for a bean that lives in the child context. That obviously isn&#39;t going to work. Move (or duplicate) that configuration into the child context. \r\n\r\nAnother thing is you will need class based proxies as yu don&#39;t have an interface, so you probably also want to add `proxy-target-class=&quot;true&quot;` to the `&lt;aop:aspectj-autoproxy /&gt;` element.","title":"Spring AOP Annotation not working","body":"<p>When using AOP on beans in Spring that is only applied to beans in the same application context.</p>\n\n<p>In a typical web application you would have a <code>ContextLoaderListener</code> and a <code>DispatcherServlet</code> both of which create an <code>ApplicationContext</code>. The <code>ContextLoaderListener</code> creates the so called root application context and the <code>DispatcherServlet</code> a child context with a relation to the root context. </p>\n\n<p>AOP configuration from the root doesn't influence beans in the child context and AOP configuration in the child context doesn't influence beans in the root context. </p>\n\n<p>Now you have configured the aspect and <code>&lt;aop:aspectj-autoproxy /&gt;</code> in the root context and except it to work for a bean that lives in the child context. That obviously isn't going to work. Move (or duplicate) that configuration into the child context. </p>\n\n<p>Another thing is you will need class based proxies as yu don't have an interface, so you probably also want to add <code>proxy-target-class=\"true\"</code> to the <code>&lt;aop:aspectj-autoproxy /&gt;</code> element.</p>\n"},{"tags":[],"owner":{"account_id":3561836,"reputation":1206,"user_id":3408806,"display_name":"nobjta_9x_tq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678962152,"creation_date":1678962152,"answer_id":75754859,"question_id":35866920,"body_markdown":"In my case, @Cacheable disable my AOP annotation breakpoint. Just place @Cacheable behind my AOP annotation.","title":"Spring AOP Annotation not working","body":"<p>In my case, @Cacheable disable my AOP annotation breakpoint. Just place @Cacheable behind my AOP annotation.</p>\n"}],"owner":{"account_id":2145385,"reputation":2499,"user_id":1903108,"accept_rate":80,"display_name":"Tariq"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17660,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":35884966,"answer_count":3,"score":3,"last_activity_date":1678962152,"creation_date":1457438718,"question_id":35866920,"body_markdown":"I have following aspect class:\r\n\r\n    @Component\r\n    @Aspect\r\n    public class LoggedRequestAspect {\r\n    \r\n        private static final Logger LOG = LoggerFactory.getLogger(LoggedRequestAspect.class);\r\n    \r\n        @Before(&quot;com.application.aspect.pointcut.LoggedRequestPointCut.LogRequest()&quot;)\r\n        public void logRequest(){\r\n            System.out.println(&quot;Method Executed!&quot;);\r\n            LOG.debug(&quot;Method Executed!&quot;);\r\n        }\r\n    }\r\n\r\nAnd for Annotation class:\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.METHOD)\r\n    public @interface LoggedRequest {\r\n    }\r\n\r\nAnd finally pointcut:\r\n\r\n    public class LoggedRequestPointCut {\r\n    \r\n        @Pointcut(&quot;execution(@com.application.aspect.annotation.LoggedRequest * *(..))&quot;)\r\n        public void LogRequest(){}\r\n    \r\n    }\r\n\r\n\r\nNow for sure, I have annotated the required api method in my controller:\r\n\r\n    ...\r\n        @LoggedRequest\r\n        @RequestMapping(value = &quot;/login&quot;, method = { RequestMethod.POST })\r\n        public @ResponseBody Map&lt;String, Object&gt; login(/* Param List*/){\r\n    \r\n    ...\r\n\t    }\r\n\r\nAs suggested by many other answers on SO. I have added following to my spring configuration:\r\n\r\n\t&lt;context:annotation-config/&gt;\r\n\t...\r\n\t&lt;context:component-scan base-package=&quot;com.application.core&quot;/&gt;\r\n\t...\r\n\t&lt;aop:aspectj-autoproxy /&gt;\r\n\r\nNow All this is not working. I mean on my API call of `/login` the required advice is not executing.","title":"Spring AOP Annotation not working","body":"<p>I have following aspect class:</p>\n\n<pre><code>@Component\n@Aspect\npublic class LoggedRequestAspect {\n\n    private static final Logger LOG = LoggerFactory.getLogger(LoggedRequestAspect.class);\n\n    @Before(\"com.application.aspect.pointcut.LoggedRequestPointCut.LogRequest()\")\n    public void logRequest(){\n        System.out.println(\"Method Executed!\");\n        LOG.debug(\"Method Executed!\");\n    }\n}\n</code></pre>\n\n<p>And for Annotation class:</p>\n\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.METHOD)\npublic @interface LoggedRequest {\n}\n</code></pre>\n\n<p>And finally pointcut:</p>\n\n<pre><code>public class LoggedRequestPointCut {\n\n    @Pointcut(\"execution(@com.application.aspect.annotation.LoggedRequest * *(..))\")\n    public void LogRequest(){}\n\n}\n</code></pre>\n\n<p>Now for sure, I have annotated the required api method in my controller:</p>\n\n<pre><code>...\n    @LoggedRequest\n    @RequestMapping(value = \"/login\", method = { RequestMethod.POST })\n    public @ResponseBody Map&lt;String, Object&gt; login(/* Param List*/){\n\n...\n    }\n</code></pre>\n\n<p>As suggested by many other answers on SO. I have added following to my spring configuration:</p>\n\n<pre><code>&lt;context:annotation-config/&gt;\n...\n&lt;context:component-scan base-package=\"com.application.core\"/&gt;\n...\n&lt;aop:aspectj-autoproxy /&gt;\n</code></pre>\n\n<p>Now All this is not working. I mean on my API call of <code>/login</code> the required advice is not executing.</p>\n"},{"tags":["java","android","kotlin","dependency-injection","dagger-hilt"],"answers":[{"tags":[],"owner":{"account_id":4531382,"reputation":272,"user_id":7409340,"display_name":"Gon&#231;alo Gaspar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666377388,"creation_date":1666377388,"answer_id":74157916,"question_id":73936795,"body_markdown":"So, I&#39;m new to compose and I was trying to make the exact same thing.\r\nThe compiler didn&#39;t let me inject the AppViewModel as a dependency to the ChildViewModel, so I ended up doing the following:\r\n\r\n 1. Created a data class (AppStateHolder) to store loading bool value.\r\n 2. At AppViewModel I inject AppStateHolder as dependency.\r\n 3. Added to appmodule the hilt reference generator with @Singleton and @Provides annotation.\r\n 4. I inject at ChildViewModel reference to AppStateHolder.\r\n 5. AppStateHolder has a mutable state for the isLoading boolean.\r\n 5. At AppViewModel init block I collect the appStateHolder values and update the mutable state accordingly.\r\n 6. When necessary at ChildViewModel I update AppStateHolder values.\r\n \r\nSo you can inject AppStateHolder, update its values, and when you make this, AppViewModel will be notified and updates its own state.\r\nThe setback is, if you havea lot of ui state variables at AppViewModel you have to replicate them at AppStateHolder and always observe them at AppViewModel.\r\n\r\nI know it&#39;s not the best option, but I will be looking for other ways or till someone comes with a better solution.\r\n\r\n\r\n","title":"Android Hilt. Is it possible to Inject one ViewModel into another?","body":"<p>So, I'm new to compose and I was trying to make the exact same thing.\nThe compiler didn't let me inject the AppViewModel as a dependency to the ChildViewModel, so I ended up doing the following:</p>\n<ol>\n<li>Created a data class (AppStateHolder) to store loading bool value.</li>\n<li>At AppViewModel I inject AppStateHolder as dependency.</li>\n<li>Added to appmodule the hilt reference generator with @Singleton and @Provides annotation.</li>\n<li>I inject at ChildViewModel reference to AppStateHolder.</li>\n<li>AppStateHolder has a mutable state for the isLoading boolean.</li>\n<li>At AppViewModel init block I collect the appStateHolder values and update the mutable state accordingly.</li>\n<li>When necessary at ChildViewModel I update AppStateHolder values.</li>\n</ol>\n<p>So you can inject AppStateHolder, update its values, and when you make this, AppViewModel will be notified and updates its own state.\nThe setback is, if you havea lot of ui state variables at AppViewModel you have to replicate them at AppStateHolder and always observe them at AppViewModel.</p>\n<p>I know it's not the best option, but I will be looking for other ways or till someone comes with a better solution.</p>\n"},{"tags":[],"owner":{"account_id":9053666,"reputation":1082,"user_id":6742754,"display_name":"zeroDivider"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678962106,"creation_date":1678960455,"answer_id":75754524,"question_id":73936795,"body_markdown":"I had similar issue, I needed session view model, indicating that I needed it injected everywhere, in almost all view models. So, there was eg. `LoginViewModel` created like this:\r\n\r\n```\r\n@HiltViewModel\r\nclass LoginViewModel @Inject constructor(\r\n    private val loginRepository: LoginRepository,\r\n    private val sessionViewModel: SessionViewModel,\r\n) : BaseViewModel&lt;LoginContract.Event, LoginContract.State, LoginContract.Effect&gt;() {\r\n    ...\r\n```\r\n\r\nand then I needed a bit of a hack for `SessionViewModel`:\r\n```\r\n/** Note: not @HiltViewModel since it is not possible to inject HiltViewModel into another one.\r\n * So, this is left to be a viewModel, but it is injected via [AppModule.provideSessionViewModel()]\r\n */\r\nclass SessionViewModel @Inject constructor() :\r\n    BaseViewModel&lt;SessionContract.Event, SessionContract.State, SessionContract.Effect&gt;() {\r\n    ...\r\n```\r\n\r\n```\r\n@Singleton\r\n@Provides\r\nfun provideSessionViewModel() : SessionViewModel {\r\n   return SessionViewModel()\r\n}\r\n```\r\n\r\nThen, it can be injected on UI if needed there:\r\n```\r\n@Inject\r\nlateinit var sessionViewModel: SessionViewModel\r\n```","title":"Android Hilt. Is it possible to Inject one ViewModel into another?","body":"<p>I had similar issue, I needed session view model, indicating that I needed it injected everywhere, in almost all view models. So, there was eg. <code>LoginViewModel</code> created like this:</p>\n<pre><code>@HiltViewModel\nclass LoginViewModel @Inject constructor(\n    private val loginRepository: LoginRepository,\n    private val sessionViewModel: SessionViewModel,\n) : BaseViewModel&lt;LoginContract.Event, LoginContract.State, LoginContract.Effect&gt;() {\n    ...\n</code></pre>\n<p>and then I needed a bit of a hack for <code>SessionViewModel</code>:</p>\n<pre><code>/** Note: not @HiltViewModel since it is not possible to inject HiltViewModel into another one.\n * So, this is left to be a viewModel, but it is injected via [AppModule.provideSessionViewModel()]\n */\nclass SessionViewModel @Inject constructor() :\n    BaseViewModel&lt;SessionContract.Event, SessionContract.State, SessionContract.Effect&gt;() {\n    ...\n</code></pre>\n<pre><code>@Singleton\n@Provides\nfun provideSessionViewModel() : SessionViewModel {\n   return SessionViewModel()\n}\n</code></pre>\n<p>Then, it can be injected on UI if needed there:</p>\n<pre><code>@Inject\nlateinit var sessionViewModel: SessionViewModel\n</code></pre>\n"}],"owner":{"account_id":26495204,"reputation":53,"user_id":20133078,"display_name":"Mat&#250;š Ravas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":853,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678962106,"creation_date":1664806635,"question_id":73936795,"body_markdown":"I have a ``ViewModel`` class:\r\n\r\n```kotlin\r\n@HiltViewModel\r\nopen class AppViewModel @Inject constructor(\r\n    private val savedStateHandle: SavedStateHandle\r\n): ViewModel(){\r\n\r\n    val isLoading: MutableState&lt;Boolean&gt; = mutableStateOf(false)\r\n\r\n    fun setIsLoading(isLoading: Boolean){\r\n        this.isLoading.value = isLoading\r\n    }\r\n}\r\n```\r\nThis class should hold the general App state.\r\n\r\nThen I have another ``ViewModel`` class, inside which I want to be able to modify the ``AppViewModel`` state. E.g. when fetching data I want to set ``isLoading`` to true and render the progress bar.\r\nThe ``ChildViewModel`` class that should modify ``AppViewModel`` state:\r\n\r\n```kotlin\r\nclass ChildViewModel @Inject constructor(\r\n    private val repository: Repository,\r\n    private val savedStateHandle: SavedStateHandle\r\n): AppViewModel(savedStateHandle){\r\n\r\n    ...\r\n\r\n    fun onTriggerEvent(event: RestApiEvents) {\r\n        try {\r\n            viewModelScope.launch {\r\n                // this should change the state in AppViewModel\r\n                isLoading.value = true\r\n                when(event) {\r\n                    is SearchEvent -&gt; {\r\n                        search(event.s)\r\n                    }\r\n                    else -&gt; {\r\n                        Log.d(TAG, &quot;Event not found&quot;)\r\n                    }\r\n                }\r\n                // this should change the state in AppViewModel\r\n                isLoading.value = false\r\n            }\r\n        }\r\n        catch (e: Exception){\r\n            e.printStackTrace()\r\n        }\r\n    }\r\n\r\n    private suspend fun search(s: String) {\r\n        ...\r\n    }\r\n}\r\n```","title":"Android Hilt. Is it possible to Inject one ViewModel into another?","body":"<p>I have a <code>ViewModel</code> class:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@HiltViewModel\nopen class AppViewModel @Inject constructor(\n    private val savedStateHandle: SavedStateHandle\n): ViewModel(){\n\n    val isLoading: MutableState&lt;Boolean&gt; = mutableStateOf(false)\n\n    fun setIsLoading(isLoading: Boolean){\n        this.isLoading.value = isLoading\n    }\n}\n</code></pre>\n<p>This class should hold the general App state.</p>\n<p>Then I have another <code>ViewModel</code> class, inside which I want to be able to modify the <code>AppViewModel</code> state. E.g. when fetching data I want to set <code>isLoading</code> to true and render the progress bar.\nThe <code>ChildViewModel</code> class that should modify <code>AppViewModel</code> state:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class ChildViewModel @Inject constructor(\n    private val repository: Repository,\n    private val savedStateHandle: SavedStateHandle\n): AppViewModel(savedStateHandle){\n\n    ...\n\n    fun onTriggerEvent(event: RestApiEvents) {\n        try {\n            viewModelScope.launch {\n                // this should change the state in AppViewModel\n                isLoading.value = true\n                when(event) {\n                    is SearchEvent -&gt; {\n                        search(event.s)\n                    }\n                    else -&gt; {\n                        Log.d(TAG, &quot;Event not found&quot;)\n                    }\n                }\n                // this should change the state in AppViewModel\n                isLoading.value = false\n            }\n        }\n        catch (e: Exception){\n            e.printStackTrace()\n        }\n    }\n\n    private suspend fun search(s: String) {\n        ...\n    }\n}\n</code></pre>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1678961933,"post_id":75754795,"comment_id":133635718,"body_markdown":"depending on the type of Exception, throws is (or isn&#39;t) mandatory. IllegalArgumentException is a subclass of RuntimeException, and for RuntimeException, it is not required to put &#39;throws&#39; in the method signature. For non-RuntimeException Exceptions, it is required.","body":"depending on the type of Exception, throws is (or isn&#39;t) mandatory. IllegalArgumentException is a subclass of RuntimeException, and for RuntimeException, it is not required to put &#39;throws&#39; in the method signature. For non-RuntimeException Exceptions, it is required."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1678962311,"post_id":75754795,"comment_id":133635827,"body_markdown":"check [Understanding checked vs unchecked exceptions in Java](https://stackoverflow.com/questions/6115896/understanding-checked-vs-unchecked-exceptions-in-java)","body":"check <a href=\"https://stackoverflow.com/questions/6115896/understanding-checked-vs-unchecked-exceptions-in-java\">Understanding checked vs unchecked exceptions in Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1678961964,"creation_date":1678961964,"answer_id":75754836,"question_id":75754795,"body_markdown":"&gt; I don&#39;t know why we need throws keywords\r\n\r\nIn this case, you don&#39;t - because `IllegalArgumentException` extends `RuntimeException`. It&#39;s therefore not a *checked exception*, and doesn&#39;t need to be declared in a method that throws it.\r\n\r\nSee the [Java tutorial](https://docs.oracle.com/javase/tutorial/essential/exceptions/catchOrDeclare.html) for more details on when you need to use a `throws` declaration.","title":"What&#39;s the difference between these two java code?","body":"<blockquote>\n<p>I don't know why we need throws keywords</p>\n</blockquote>\n<p>In this case, you don't - because <code>IllegalArgumentException</code> extends <code>RuntimeException</code>. It's therefore not a <em>checked exception</em>, and doesn't need to be declared in a method that throws it.</p>\n<p>See the <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/catchOrDeclare.html\" rel=\"nofollow noreferrer\">Java tutorial</a> for more details on when you need to use a <code>throws</code> declaration.</p>\n"}],"owner":{"account_id":25953056,"reputation":3,"user_id":19680211,"display_name":"miao sun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678966423,"accepted_answer_id":75754836,"answer_count":1,"score":0,"last_activity_date":1678961964,"creation_date":1678961783,"question_id":75754795,"body_markdown":"if without the `throws IllegalArgumentException`, I can still throw exception that catched by the catch block in the main fucntion, why I need `throws IllegalArgumentException`??\r\n\r\n\r\n```\r\npublic class ExceptionsTest {\r\n    public static void funcThrowsException(int n) throws IllegalArgumentException{\r\n        if(n == 0){\r\n            throw new IllegalArgumentException(&quot;ex&quot;);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try{\r\n            funcThrowsException(0);\r\n        }catch (IllegalArgumentException e){\r\n            System.out.println(e.getMessage());\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\npublic class ExceptionsTest {\r\n    public static void funcThrowsException(int n){\r\n        if(n == 0){\r\n            throw new IllegalArgumentException(&quot;ex&quot;);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try{\r\n            funcThrowsException(0);\r\n        }catch (IllegalArgumentException e){\r\n            System.out.println(e.getMessage());\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nTheir output are same:\r\n\r\n```\r\nex\r\n\r\nProcess finished with exit code 0\r\n\r\n```\r\n\r\n\r\n\r\nI don&#39;t know why we need throws keywords","title":"What&#39;s the difference between these two java code?","body":"<p>if without the <code>throws IllegalArgumentException</code>, I can still throw exception that catched by the catch block in the main fucntion, why I need <code>throws IllegalArgumentException</code>??</p>\n<pre><code>public class ExceptionsTest {\n    public static void funcThrowsException(int n) throws IllegalArgumentException{\n        if(n == 0){\n            throw new IllegalArgumentException(&quot;ex&quot;);\n        }\n    }\n\n    public static void main(String[] args) {\n        try{\n            funcThrowsException(0);\n        }catch (IllegalArgumentException e){\n            System.out.println(e.getMessage());\n        }\n\n    }\n}\n</code></pre>\n<pre><code>public class ExceptionsTest {\n    public static void funcThrowsException(int n){\n        if(n == 0){\n            throw new IllegalArgumentException(&quot;ex&quot;);\n        }\n    }\n\n    public static void main(String[] args) {\n        try{\n            funcThrowsException(0);\n        }catch (IllegalArgumentException e){\n            System.out.println(e.getMessage());\n        }\n\n    }\n}\n\n</code></pre>\n<p>Their output are same:</p>\n<pre><code>ex\n\nProcess finished with exit code 0\n\n</code></pre>\n<p>I don't know why we need throws keywords</p>\n"},{"tags":["python","java","android","html"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1678982279,"post_id":75754471,"comment_id":133642213,"body_markdown":"why is it tagged [tag:java], [tag:android] and [tag:html] ? as all of those are not directly linked with your problem, it&#39;s only python code here","body":"why is it tagged <a href=\"https://stackoverflow.com/questions/tagged/java\">java</a>, <a href=\"https://stackoverflow.com/questions/tagged/android\">android</a> and <a href=\"https://stackoverflow.com/questions/tagged/html\">html</a> ? as all of those are not directly linked with your problem, it&#39;s only python code here"},{"owner":{"account_id":3708936,"reputation":1077,"user_id":6653706,"accept_rate":92,"display_name":"Mattia"},"score":0,"creation_date":1679298384,"post_id":75754471,"comment_id":133689602,"body_markdown":"because it&#39;s part of my question, I in fact asked if it is possible to integrate a python script with a web interface (html) or with an android app (java)","body":"because it&#39;s part of my question, I in fact asked if it is possible to integrate a python script with a web interface (html) or with an android app (java)"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1679303906,"post_id":75754471,"comment_id":133690835,"body_markdown":"So the python code doesn&#39;t really matter as it can be all code, it will works the same and will be the same question ? it just make people more confused","body":"So the python code doesn&#39;t really matter as it can be all code, it will works the same and will be the same question ? it just make people more confused"}],"answers":[{"tags":[],"owner":{"account_id":15408549,"reputation":60,"user_id":11115983,"display_name":"Asteck"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678961893,"creation_date":1678961893,"answer_id":75754824,"question_id":75754471,"body_markdown":"With regard to a simple graphical interface, I would look into **pygame** for simple functionality with buttons and a display for a rover moving.\r\n\r\nPersonally, I would not recommend pygame for large, intricate projects like game design, but your needs from your question seem viable. \r\n\r\n https://www.thepythoncode.com/article/make-a-button-using-pygame-in-python.\r\n\r\nIf you want to design a website UI, from my experience, you should pick a **framework** such as **Django**.\r\n\r\nhttps://careerfoundry.com/en/blog/web-development/responsiveness-with-a-front-end-framework/.\r\nhttps://www.w3schools.com/django/\r\n\r\nAfter you set up so you can host locally, you should be able to implement your script on a web page where you may have to use javascript or another language for design features.","title":"How to interact trought a UI with a python script","body":"<p>With regard to a simple graphical interface, I would look into <strong>pygame</strong> for simple functionality with buttons and a display for a rover moving.</p>\n<p>Personally, I would not recommend pygame for large, intricate projects like game design, but your needs from your question seem viable.</p>\n<p><a href=\"https://www.thepythoncode.com/article/make-a-button-using-pygame-in-python\" rel=\"nofollow noreferrer\">https://www.thepythoncode.com/article/make-a-button-using-pygame-in-python</a>.</p>\n<p>If you want to design a website UI, from my experience, you should pick a <strong>framework</strong> such as <strong>Django</strong>.</p>\n<p><a href=\"https://careerfoundry.com/en/blog/web-development/responsiveness-with-a-front-end-framework/\" rel=\"nofollow noreferrer\">https://careerfoundry.com/en/blog/web-development/responsiveness-with-a-front-end-framework/</a>.\n<a href=\"https://www.w3schools.com/django/\" rel=\"nofollow noreferrer\">https://www.w3schools.com/django/</a></p>\n<p>After you set up so you can host locally, you should be able to implement your script on a web page where you may have to use javascript or another language for design features.</p>\n"}],"owner":{"account_id":3708936,"reputation":1077,"user_id":6653706,"accept_rate":92,"display_name":"Mattia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75754824,"answer_count":1,"score":-1,"last_activity_date":1678961893,"creation_date":1678960095,"question_id":75754471,"body_markdown":"I created a prototype of a small rover with a raspberry, using python I created a script that allows me to move it simply by pressing a few keys on the keyboard.\r\n\r\nThe script essentially waits for a key to be pressed to &quot;command&quot; the rover motors, the code works through a terminal shell, now what I would like is to create a web UI or an Android app that allows me to command the rover without using a shell.\r\n\r\nThe source code is something like that:\r\n\r\n    #!/usr/bin/env python\r\n    #!/bin/bash\r\n    import RPi.GPIO as GPIO\r\n    from time import sleep\r\n    \r\n    print(&quot;\\n&quot;)\r\n    print(&quot;A-forward S-backward L-left turn R-right turn  l-low m-medium h-high e-exit&quot;)\r\n    print(&quot;\\n&quot;)\r\n    \r\n    a=11\r\n    b=15\r\n    c=16\r\n    d=18\r\n    \r\n    def init():    \r\n        GPIO.setmode(GPIO.BCM)\r\n        GPIO.setup(a, GPIO.OUT)\r\n        GPIO.setup(b, GPIO.OUT)\r\n        GPIO.setup(c, GPIO.OUT)\r\n        GPIO.setup(d, GPIO.OUT)\r\n        p=GPIO.PWM(d,1000)\r\n        p.start(25)\r\n    \r\n    def forward():\r\n        init()\r\n        //MORE STUFF\r\n    \r\n    def reverse():\r\n        init()\r\n        //MORE STUFF\r\n    \r\n    def left_turn():\r\n        init()\r\n        //MORE STUFF\r\n    \r\n    def right_turn():\r\n        init()\r\n        //MORE STUFF\r\n    \r\n    while(1):\r\n    \r\n        x=input()\r\n        if x==&#39;w&#39;:\r\n            print(&quot;forward&quot;)\r\n            forward()\r\n            x=&#39;z&#39;\r\n    \r\n        elif x==&#39;s&#39;:\r\n            print(&quot;backward&quot;)\r\n            reverse()\r\n            x=&#39;z&#39;\r\n    \r\n        elif x==&#39;a&#39;:\r\n            print(&quot;left&quot;)\r\n            left_turn()\r\n            x=&#39;z&#39;\r\n    \r\n        elif x==&#39;d&#39;:\r\n            print(&quot;right&quot;)\r\n            right_turn()\r\n            x=&#39;z&#39;\r\n    \r\n        elif x==&#39;e&#39;:\r\n            GPIO.cleanup()\r\n            break\r\n    \r\n        else:\r\n            print(&quot;&lt;&lt;&lt;  wrong data  &gt;&gt;&gt;&quot;)\r\n            print(&quot;please enter the defined data to continue.....&quot;)\r\n\r\nHow can I create a graphical interface (basically formed by 4 buttons that will represent the directions) that can interact with a python script? Is it possible to continue to use a script as a basis for moving my rover or should I implement a different solution?\r\n\r\nMore than a solution I&#39;m interested in understanding if I can use the base script and if I can hook it to a UI.","title":"How to interact trought a UI with a python script","body":"<p>I created a prototype of a small rover with a raspberry, using python I created a script that allows me to move it simply by pressing a few keys on the keyboard.</p>\n<p>The script essentially waits for a key to be pressed to &quot;command&quot; the rover motors, the code works through a terminal shell, now what I would like is to create a web UI or an Android app that allows me to command the rover without using a shell.</p>\n<p>The source code is something like that:</p>\n<pre><code>#!/usr/bin/env python\n#!/bin/bash\nimport RPi.GPIO as GPIO\nfrom time import sleep\n\nprint(&quot;\\n&quot;)\nprint(&quot;A-forward S-backward L-left turn R-right turn  l-low m-medium h-high e-exit&quot;)\nprint(&quot;\\n&quot;)\n\na=11\nb=15\nc=16\nd=18\n\ndef init():    \n    GPIO.setmode(GPIO.BCM)\n    GPIO.setup(a, GPIO.OUT)\n    GPIO.setup(b, GPIO.OUT)\n    GPIO.setup(c, GPIO.OUT)\n    GPIO.setup(d, GPIO.OUT)\n    p=GPIO.PWM(d,1000)\n    p.start(25)\n\ndef forward():\n    init()\n    //MORE STUFF\n\ndef reverse():\n    init()\n    //MORE STUFF\n\ndef left_turn():\n    init()\n    //MORE STUFF\n\ndef right_turn():\n    init()\n    //MORE STUFF\n\nwhile(1):\n\n    x=input()\n    if x=='w':\n        print(&quot;forward&quot;)\n        forward()\n        x='z'\n\n    elif x=='s':\n        print(&quot;backward&quot;)\n        reverse()\n        x='z'\n\n    elif x=='a':\n        print(&quot;left&quot;)\n        left_turn()\n        x='z'\n\n    elif x=='d':\n        print(&quot;right&quot;)\n        right_turn()\n        x='z'\n\n    elif x=='e':\n        GPIO.cleanup()\n        break\n\n    else:\n        print(&quot;&lt;&lt;&lt;  wrong data  &gt;&gt;&gt;&quot;)\n        print(&quot;please enter the defined data to continue.....&quot;)\n</code></pre>\n<p>How can I create a graphical interface (basically formed by 4 buttons that will represent the directions) that can interact with a python script? Is it possible to continue to use a script as a basis for moving my rover or should I implement a different solution?</p>\n<p>More than a solution I'm interested in understanding if I can use the base script and if I can hook it to a UI.</p>\n"},{"tags":["java","unit-testing","mockito","powermock","powermockito"],"comments":[{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1674755991,"post_id":75245805,"comment_id":132786592,"body_markdown":"What code are you trying to test? How is the constructed object used in `stuffToTest` method?","body":"What code are you trying to test? How is the constructed object used in <code>stuffToTest</code> method?"},{"owner":{"account_id":314604,"reputation":4123,"user_id":629868,"accept_rate":58,"display_name":"Neets"},"score":0,"creation_date":1674816033,"post_id":75245805,"comment_id":132798262,"body_markdown":"It&#39;s not really relevant -the important thing is that it constructs an instance of MyClass and that the constructor should throw an exception when called.\nThis is possible with PowerMock but I can&#39;t find a way to do it with Mockito Inline, which is supposed to be a newer and nicer alternative","body":"It&#39;s not really relevant -the important thing is that it constructs an instance of MyClass and that the constructor should throw an exception when called. This is possible with PowerMock but I can&#39;t find a way to do it with Mockito Inline, which is supposed to be a newer and nicer alternative"},{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":1,"creation_date":1674818299,"post_id":75245805,"comment_id":132798893,"body_markdown":"It is relevant because of how `mockito-inline` works and how it handles mocking static methods and objects construction. It is not just a copy of the way PowerMock work(ed).","body":"It is relevant because of how <code>mockito-inline</code> works and how it handles mocking static methods and objects construction. It is not just a copy of the way PowerMock work(ed)."},{"owner":{"account_id":314604,"reputation":4123,"user_id":629868,"accept_rate":58,"display_name":"Neets"},"score":0,"creation_date":1674833589,"post_id":75245805,"comment_id":132803905,"body_markdown":"Then let&#39;s just say I&#39;m trying to test\nvoid stuffToTest() { new MyClass(&quot;hello&quot;); }","body":"Then let&#39;s just say I&#39;m trying to test void stuffToTest() { new MyClass(&quot;hello&quot;); }"}],"owner":{"account_id":314604,"reputation":4123,"user_id":629868,"accept_rate":58,"display_name":"Neets"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678961508,"creation_date":1674734293,"question_id":75245805,"body_markdown":"We&#39;re migrating all our code away from PowerMock to Mockito Inline, I&#39;ve mostly been able to migrate all cases but I don&#39;t know how to throw an exception when an instance of a specific class is created, using Mockito MockedConstruction.\r\n\r\ni.e I need to migrate to Mockito Inline from this:\r\n\r\n\r\n    whenNew(MyClass.class).withAnyArguments().thenThrow(new MyException(&quot;fail&quot;));\r\n\r\nI&#39;ve read the docs and I can&#39;t find how to do it.\r\n\r\nI&#39;ve tried this:\r\n\r\n```\r\ntry (MockedConstruction&lt;MyClass&gt; ignored = mockConstruction(MyClass.class, \r\n         (mock, context) -&gt; { when(new MyClass(any())).thenThrow(new MyException(&quot;fail&quot;));})\r\n) {\r\n      stuffToTest();\r\n  }\r\n```\r\n\r\nI&#39;ve also tried the suggested solution [here][1] but it doesn&#39;t work.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/70122376/how-to-mock-a-constructor-which-is-throwing-a-ioexception-with-mockito-inline","title":"How to migrate PowerMockito whenNew thenThrow to Mockito Inline MockedConstruction","body":"<p>We're migrating all our code away from PowerMock to Mockito Inline, I've mostly been able to migrate all cases but I don't know how to throw an exception when an instance of a specific class is created, using Mockito MockedConstruction.</p>\n<p>i.e I need to migrate to Mockito Inline from this:</p>\n<pre><code>whenNew(MyClass.class).withAnyArguments().thenThrow(new MyException(&quot;fail&quot;));\n</code></pre>\n<p>I've read the docs and I can't find how to do it.</p>\n<p>I've tried this:</p>\n<pre><code>try (MockedConstruction&lt;MyClass&gt; ignored = mockConstruction(MyClass.class, \n         (mock, context) -&gt; { when(new MyClass(any())).thenThrow(new MyException(&quot;fail&quot;));})\n) {\n      stuffToTest();\n  }\n</code></pre>\n<p>I've also tried the suggested solution <a href=\"https://stackoverflow.com/questions/70122376/how-to-mock-a-constructor-which-is-throwing-a-ioexception-with-mockito-inline\">here</a> but it doesn't work.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","graphql-java"],"comments":[{"owner":{"account_id":14370282,"reputation":303,"user_id":10380228,"display_name":"Alexander Argyriou"},"score":1,"creation_date":1678961524,"post_id":75754699,"comment_id":133635588,"body_markdown":"The postPersist event occurs for an entity after the entity has been made persistent. It will be invoked after the database insert operations. Consider this https://vladmihalcea.com/prepersist-preupdate-embeddable-jpa-hibernate/","body":"The postPersist event occurs for an entity after the entity has been made persistent. It will be invoked after the database insert operations. Consider this <a href=\"https://vladmihalcea.com/prepersist-preupdate-embeddable-jpa-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea.com/prepersist-preupdate-embeddable-jpa-hiberna&zwnj;&#8203;te</a>"}],"owner":{"account_id":19981008,"reputation":913,"user_id":14644191,"display_name":"Enchantres"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678961248,"creation_date":1678961248,"question_id":75754699,"body_markdown":"I have Product that contains Portfolios and each Portfolio have InvestmentAllocation. When I add a new Product with portfolios with investment allocation, all the data is stored in the database. When I try to edit existing products and edit its portfolios and investment allocations, all the data is being updated successfully. But when I update existing product and try to add a new portfolio to it with investment allocation,I am getting the following error: \r\n\r\n&gt; Caused by: java.sql.SQLException: Cannot insert the value NULL into column &#39;PortfolioKey&#39;, table &#39;productsdb.dbo.InvestmentAllocation&#39;; column does not allow nulls. INSERT fails.\r\n\r\nI am using @PostPersist annotation to fill the null values with the captured ids. The problem is that on update I cannot add new portfolio with new investment allocation. When I remove the investment allocation from the portfolio I am able to add the new portfolio to the existing product. I assume that when we have existing product and try to add new portfolio with new investment, the @PostPersist annotation is ignored inside the class Portfolio.\r\n\r\n    @Table(name = &quot;Product&quot;)\r\n    public class Product extends MutableEntity {\r\n    \r\n        private static final long serialVersionUID = 8675881197953603577L;\r\n    \r\n        @Column(name = &quot;ClientKey&quot;)\r\n        private Long clientId;\r\n    \r\n        @Column(name = &quot;Administrator&quot;)\r\n        private String administrator;\r\n    \r\n        @OneToMany(\r\n                fetch = FetchType.LAZY,\r\n                cascade = {CascadeType.ALL},\r\n                orphanRemoval = true\r\n        )\r\n        @JoinColumn(\r\n                name = &quot;ProductKey&quot;,\r\n                nullable = false,\r\n                insertable = false,\r\n                updatable = false\r\n        )\r\n        @Cascade({org.hibernate.annotations.CascadeType.ALL})\r\n        private Set&lt;Portfolio&gt; portfolios;\r\n    \r\n        @PostPersist\r\n        protected void postPersist() {\r\n            Iterator var1;\r\n            if (this.portfolios != null) {\r\n                var1 = this.portfolios.iterator();\r\n    \r\n                while (var1.hasNext()) {\r\n                    Portfolio portfolio = (Portfolio) var1.next();\r\n                    if (portfolio.getProductId() == null) {\r\n                        portfolio.setProductId(this.getId());\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    @Table(name = &quot;Portfolio&quot;)\r\n    public class Portfolio extends MutableEntity {\r\n    \r\n        private static final long serialVersionUID = -6668016124280143515L;\r\n    \r\n        @Column(name = &quot;ProductKey&quot;)\r\n        private Long productId;\r\n    \r\n        @Column(name = &quot;Name&quot;)\r\n        private String name;\r\n    \r\n        @Column(name = &quot;Amount&quot;)\r\n        private BigDecimal amount;\r\n    \r\n        @OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL, mappedBy = &quot;genericScenarioPortfolio&quot;)\r\n        private InvestmentAllocation investmentAllocation;\r\n    \r\n        @PostPersist\r\n        protected void postPersist() {\r\n            if (this.investmentAllocation != null) {\r\n                if (this.investmentAllocation.getPortfolioId() == null) {\r\n                    this.investmentAllocation.setPortfolioId(this.getId());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    @Table(name = &quot;InvestmentAllocation&quot;)\r\n    public class InvestmentAllocation {\r\n    \r\n        private static final long serialVersionUID = -5974811107021515065L;\r\n    \r\n        @Column(name = &quot;PortfolioKey&quot;)\r\n        private Long portfolioId;\r\n    \r\n        @Column(name = &quot;Cash&quot;)\r\n        private double cash;\r\n    \r\n        @Column(name = &quot;Bond&quot;)\r\n        private double bond;\r\n    \r\n        @OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;PortfolioKey&quot;, insertable = false, updatable = false)\r\n        private Portfolio portfolio;\r\n    }\r\n\r\nHere is my save functionality:\r\n\r\n     @Transactional\r\n        public SaveProductPayload saveProduct(SaveProductInput input, DataFetchingEnvironment env) {\r\n            Product source = productDTOMapper.toProduct(input);\r\n            Long id = source.getId();\r\n            Product target = new Product();\r\n            if (id != null) {\r\n                target = productRepository.findById(id).orElseThrow(()\r\n                        -&gt; new ProductNotFoundException(String.format(&quot;No entity found for id %s.&quot;, id)));\r\n            }\r\n            target = productDTOMapper.overlay(source, target);\r\n    \r\n            PortfolioMergeFactory.merge(target, portfolioDTOMapper.toPortfolios(input.getPortfolios()));\r\n            \r\n            Product scenarioProduct = productRepository.save(target);\r\n            return new SaveProductPayload(input.getClientMutationId());\r\n        }\r\n\r\n    public class PortfolioMergeFactory {\r\n        private PortfolioMergeFactory() {\r\n        }\r\n    \r\n        public static void merge(Product target, Collection&lt;Portfolio&gt; source) {\r\n            werePortfoliosAdded(target, source);\r\n            werePortfoliosUpdated(target, source);\r\n            werePortfoliosRemoved(target, source);\r\n        }\r\n    \r\n        private static void werePortfoliosAdded(Product target, Collection&lt;Portfolio&gt; source) {\r\n            if (source != null) {\r\n                if (target.getPortfolios() == null) {\r\n                    target.setPortfolios(new HashSet&lt;&gt;());\r\n                }\r\n                Set&lt;Portfolio&gt; copy = Sets.newHashSet(target.getGenericPortfolios());\r\n                for (Portfolio portfolio : source) {\r\n                    if (copy.stream().noneMatch(e -&gt; e.getName().equals(portfolio.getName()))) {\r\n                        Portfolio newPortfolio = new Portfolio();\r\n                        newPortfolio.setProductId(target.getId());\r\n                        newPortfolio.setName(portfolio.getName());\r\n                        newPortfolio.setAmount(portfolio.getAmount());\r\n                        newPortfolio.setInvestmentAllocation(portfolio.getInvestmentAllocation());\r\n                        target.getGenericPortfolios().add(newPortfolio);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        private static void werePortfoliosUpdated(Product target, Collection&lt;Portfolio&gt; sourceList) {\r\n            if (target.getPortfolios() != null &amp;&amp; sourceList != null) {\r\n    \r\n                for (Portfolio source : sourceList) {\r\n                    Portfolio persisted = target.getPortfolios().stream().filter((e) -&gt; {\r\n                        return e.getId() != null &amp;&amp; e.getName() != null &amp;&amp; e.getName().equals(source.getName());\r\n                    }).findFirst().orElse(null);\r\n                    if (persisted != null) {\r\n                        persisted.setProductId(target.getId());\r\n                        persisted.setName(source.getName());\r\n                        persisted.setAmount(source.getAmount());\r\n                        if (source.getInvestmentAllocation() != null) {\r\n                            source.getInvestmentAllocation().setPortfolioId(persisted.getId());\r\n                        }\r\n                        persisted.setInvestmentAllocation(source.getInvestmentAllocation());\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        private static void werePortfoliosRemoved(Product target, Collection&lt;Portfolio&gt; source) {\r\n            if (target.getPortfolios() != null &amp;&amp; source != null) {\r\n                target.getPortfolios().removeIf(thisObject -&gt; source.stream()\r\n                        .noneMatch(otherObject -&gt; otherObject.getName().equals(thisObject.getName())));\r\n    \r\n            } else if (target.getPortfolios() != null) {\r\n                for (Portfolio portfolio : new ArrayList&lt;&gt;(target.getPortfolios())) {\r\n                    target.getPortfolios().remove(portfolio);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nand the following are the dto mappers:\r\n\r\n    @Mapper(imports = {RelayUtil.class}, componentModel = &quot;spring&quot;\r\n            , unmappedTargetPolicy = ReportingPolicy.ERROR\r\n            , uses = {\r\n            PortfolioDTOMapper.class})\r\n    public abstract class ProductDTOMapper {\r\n    \r\n        @Mapping(target = &quot;id&quot;, expression = &quot;java(RelayUtil.fromGlobalIDToLong(\\&quot;Product\\&quot;, source.getId()))&quot;)\r\n        @Mapping(target = &quot;clientId&quot;, expression = &quot;java(RelayUtil.fromGlobalIDToLong(\\&quot;ClientScene\\&quot;, source.getSceneId()))&quot;)\r\n        @Mapping(target = &quot;administrator&quot;, source = &quot;administrator&quot;)\r\n        @Mapping(target = &quot;genericPortfolios&quot;, source = &quot;genericPortfolios&quot;)\r\n        public abstract Product toProduct(SaveProductInput source);\r\n    \r\n        @Mapping(target = &quot;id&quot;, ignore = true)\r\n        @Mapping(target = &quot;portfolios&quot;, ignore = true)\r\n        public abstract Product overlay(Product source, @MappingTarget Product target);\r\n    \r\n    }\r\n    \r\n    @Mapper(imports = {RelayUtil.class}, componentModel = &quot;spring&quot;\r\n            , unmappedTargetPolicy = ReportingPolicy.ERROR\r\n            , uses = {\r\n            InvestmentAllocationDTOMapper.class\r\n    })\r\n    public abstract class PortfolioDTOMapper {\r\n    \r\n        @Mapping(target = &quot;productId&quot;, source = &quot;productId&quot;)\r\n        @Mapping(target = &quot;name&quot;, source = &quot;name&quot;)\r\n        @Mapping(target = &quot;amount&quot;, source = &quot;amount&quot;)\r\n        @Mapping(target = &quot;investmentAllocation&quot;, source = &quot;investmentAllocation&quot;)\r\n        public abstract PortfolioDTO toPortfolioDTO(Portfolio source);\r\n    \r\n        public abstract List&lt;PortfolioDTO&gt; toPortfolioDTOs(Iterable&lt;Portfolio&gt; source);\r\n    \r\n    \r\n        @Mapping(target = &quot;id&quot;, expression = &quot;java(RelayUtil.fromGlobalIDToLong(\\&quot;Portfolio\\&quot;, source.getId()))&quot;)\r\n        @Mapping(target = &quot;productId&quot;, ignore = true)\r\n        @Mapping(target = &quot;name&quot;, source = &quot;name&quot;)\r\n        @Mapping(target = &quot;amount&quot;, source = &quot;amount&quot;)\r\n        @Mapping(target = &quot;investmentAllocation&quot;, source = &quot;investmentAllocation&quot;)\r\n        public abstract Portfolio toPortfolio(PortfolioInput source);\r\n    \r\n        public abstract List&lt;Portfolio&gt; toPortfolios(Iterable&lt;PortfolioInput&gt; source);\r\n    \r\n        @Mapping(target = &quot;id&quot;, ignore = true)\r\n        public abstract Portfolio overlay(Portfolio source, @MappingTarget Portfolio target);\r\n    }\r\n    \r\n    \r\n    @Mapper(imports = {RelayUtil.class}, componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.ERROR)\r\n    public abstract class InvestmentAllocationDTOMapper {\r\n        @Mapping(target = &quot;portfolioId&quot;, source = &quot;portfolioId&quot;)\r\n        @Mapping(target = &quot;bond&quot;, source = &quot;bond&quot;)\r\n        @Mapping(target = &quot;cash&quot;, source = &quot;cash&quot;)\r\n        public abstract InvestmentAllocationDTO toInvestmentAllocationDTO(InvestmentAllocation source);\r\n    \r\n        public abstract List&lt;InvestmentAllocationDTO&gt; toInvestmentAllocationDTOs(\r\n                Iterable&lt;InvestmentAllocation&gt; source\r\n        );\r\n    \r\n        @Mapping(target = &quot;id&quot;, expression = &quot;java(RelayUtil.fromGlobalIDToLong(\\&quot;InvestmentAllocation\\&quot;, source.getId()))&quot;)\r\n        @Mapping(target = &quot;portfolioId&quot;, ignore = true)\r\n        @Mapping(target = &quot;portfolio&quot;, ignore = true)\r\n        @Mapping(target = &quot;bond&quot;, source = &quot;bond&quot;)\r\n        @Mapping(target = &quot;cash&quot;, source = &quot;cash&quot;)\r\n        public abstract InvestmentAllocation toInvestmentAllocation(InvestmentAllocationInput source);\r\n    \r\n        public abstract List&lt;InvestmentAllocation&gt; toInvestmentAllocations(\r\n                Iterable&lt;InvestmentAllocationInput&gt; source\r\n        );\r\n    \r\n        @Mapping(target = &quot;id&quot;, ignore = true)\r\n        public abstract InvestmentAllocation overlay(InvestmentAllocation source, @MappingTarget InvestmentAllocation target);\r\n    }\r\n\r\nWhy the first time the postPersist method is invoked successfully, but the second time it is ignored?\r\n","title":"Why @PostPersist is invoked when saving a new entity, but not invoked when updating an already existing one","body":"<p>I have Product that contains Portfolios and each Portfolio have InvestmentAllocation. When I add a new Product with portfolios with investment allocation, all the data is stored in the database. When I try to edit existing products and edit its portfolios and investment allocations, all the data is being updated successfully. But when I update existing product and try to add a new portfolio to it with investment allocation,I am getting the following error:</p>\n<blockquote>\n<p>Caused by: java.sql.SQLException: Cannot insert the value NULL into column 'PortfolioKey', table 'productsdb.dbo.InvestmentAllocation'; column does not allow nulls. INSERT fails.</p>\n</blockquote>\n<p>I am using @PostPersist annotation to fill the null values with the captured ids. The problem is that on update I cannot add new portfolio with new investment allocation. When I remove the investment allocation from the portfolio I am able to add the new portfolio to the existing product. I assume that when we have existing product and try to add new portfolio with new investment, the @PostPersist annotation is ignored inside the class Portfolio.</p>\n<pre><code>@Table(name = &quot;Product&quot;)\npublic class Product extends MutableEntity {\n\n    private static final long serialVersionUID = 8675881197953603577L;\n\n    @Column(name = &quot;ClientKey&quot;)\n    private Long clientId;\n\n    @Column(name = &quot;Administrator&quot;)\n    private String administrator;\n\n    @OneToMany(\n            fetch = FetchType.LAZY,\n            cascade = {CascadeType.ALL},\n            orphanRemoval = true\n    )\n    @JoinColumn(\n            name = &quot;ProductKey&quot;,\n            nullable = false,\n            insertable = false,\n            updatable = false\n    )\n    @Cascade({org.hibernate.annotations.CascadeType.ALL})\n    private Set&lt;Portfolio&gt; portfolios;\n\n    @PostPersist\n    protected void postPersist() {\n        Iterator var1;\n        if (this.portfolios != null) {\n            var1 = this.portfolios.iterator();\n\n            while (var1.hasNext()) {\n                Portfolio portfolio = (Portfolio) var1.next();\n                if (portfolio.getProductId() == null) {\n                    portfolio.setProductId(this.getId());\n                }\n            }\n        }\n    }\n}\n\n@Table(name = &quot;Portfolio&quot;)\npublic class Portfolio extends MutableEntity {\n\n    private static final long serialVersionUID = -6668016124280143515L;\n\n    @Column(name = &quot;ProductKey&quot;)\n    private Long productId;\n\n    @Column(name = &quot;Name&quot;)\n    private String name;\n\n    @Column(name = &quot;Amount&quot;)\n    private BigDecimal amount;\n\n    @OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL, mappedBy = &quot;genericScenarioPortfolio&quot;)\n    private InvestmentAllocation investmentAllocation;\n\n    @PostPersist\n    protected void postPersist() {\n        if (this.investmentAllocation != null) {\n            if (this.investmentAllocation.getPortfolioId() == null) {\n                this.investmentAllocation.setPortfolioId(this.getId());\n            }\n        }\n    }\n}\n\n@Table(name = &quot;InvestmentAllocation&quot;)\npublic class InvestmentAllocation {\n\n    private static final long serialVersionUID = -5974811107021515065L;\n\n    @Column(name = &quot;PortfolioKey&quot;)\n    private Long portfolioId;\n\n    @Column(name = &quot;Cash&quot;)\n    private double cash;\n\n    @Column(name = &quot;Bond&quot;)\n    private double bond;\n\n    @OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;PortfolioKey&quot;, insertable = false, updatable = false)\n    private Portfolio portfolio;\n}\n</code></pre>\n<p>Here is my save functionality:</p>\n<pre><code> @Transactional\n    public SaveProductPayload saveProduct(SaveProductInput input, DataFetchingEnvironment env) {\n        Product source = productDTOMapper.toProduct(input);\n        Long id = source.getId();\n        Product target = new Product();\n        if (id != null) {\n            target = productRepository.findById(id).orElseThrow(()\n                    -&gt; new ProductNotFoundException(String.format(&quot;No entity found for id %s.&quot;, id)));\n        }\n        target = productDTOMapper.overlay(source, target);\n\n        PortfolioMergeFactory.merge(target, portfolioDTOMapper.toPortfolios(input.getPortfolios()));\n        \n        Product scenarioProduct = productRepository.save(target);\n        return new SaveProductPayload(input.getClientMutationId());\n    }\n\npublic class PortfolioMergeFactory {\n    private PortfolioMergeFactory() {\n    }\n\n    public static void merge(Product target, Collection&lt;Portfolio&gt; source) {\n        werePortfoliosAdded(target, source);\n        werePortfoliosUpdated(target, source);\n        werePortfoliosRemoved(target, source);\n    }\n\n    private static void werePortfoliosAdded(Product target, Collection&lt;Portfolio&gt; source) {\n        if (source != null) {\n            if (target.getPortfolios() == null) {\n                target.setPortfolios(new HashSet&lt;&gt;());\n            }\n            Set&lt;Portfolio&gt; copy = Sets.newHashSet(target.getGenericPortfolios());\n            for (Portfolio portfolio : source) {\n                if (copy.stream().noneMatch(e -&gt; e.getName().equals(portfolio.getName()))) {\n                    Portfolio newPortfolio = new Portfolio();\n                    newPortfolio.setProductId(target.getId());\n                    newPortfolio.setName(portfolio.getName());\n                    newPortfolio.setAmount(portfolio.getAmount());\n                    newPortfolio.setInvestmentAllocation(portfolio.getInvestmentAllocation());\n                    target.getGenericPortfolios().add(newPortfolio);\n                }\n            }\n        }\n    }\n\n    private static void werePortfoliosUpdated(Product target, Collection&lt;Portfolio&gt; sourceList) {\n        if (target.getPortfolios() != null &amp;&amp; sourceList != null) {\n\n            for (Portfolio source : sourceList) {\n                Portfolio persisted = target.getPortfolios().stream().filter((e) -&gt; {\n                    return e.getId() != null &amp;&amp; e.getName() != null &amp;&amp; e.getName().equals(source.getName());\n                }).findFirst().orElse(null);\n                if (persisted != null) {\n                    persisted.setProductId(target.getId());\n                    persisted.setName(source.getName());\n                    persisted.setAmount(source.getAmount());\n                    if (source.getInvestmentAllocation() != null) {\n                        source.getInvestmentAllocation().setPortfolioId(persisted.getId());\n                    }\n                    persisted.setInvestmentAllocation(source.getInvestmentAllocation());\n                }\n            }\n        }\n    }\n\n    private static void werePortfoliosRemoved(Product target, Collection&lt;Portfolio&gt; source) {\n        if (target.getPortfolios() != null &amp;&amp; source != null) {\n            target.getPortfolios().removeIf(thisObject -&gt; source.stream()\n                    .noneMatch(otherObject -&gt; otherObject.getName().equals(thisObject.getName())));\n\n        } else if (target.getPortfolios() != null) {\n            for (Portfolio portfolio : new ArrayList&lt;&gt;(target.getPortfolios())) {\n                target.getPortfolios().remove(portfolio);\n            }\n        }\n    }\n}\n</code></pre>\n<p>and the following are the dto mappers:</p>\n<pre><code>@Mapper(imports = {RelayUtil.class}, componentModel = &quot;spring&quot;\n        , unmappedTargetPolicy = ReportingPolicy.ERROR\n        , uses = {\n        PortfolioDTOMapper.class})\npublic abstract class ProductDTOMapper {\n\n    @Mapping(target = &quot;id&quot;, expression = &quot;java(RelayUtil.fromGlobalIDToLong(\\&quot;Product\\&quot;, source.getId()))&quot;)\n    @Mapping(target = &quot;clientId&quot;, expression = &quot;java(RelayUtil.fromGlobalIDToLong(\\&quot;ClientScene\\&quot;, source.getSceneId()))&quot;)\n    @Mapping(target = &quot;administrator&quot;, source = &quot;administrator&quot;)\n    @Mapping(target = &quot;genericPortfolios&quot;, source = &quot;genericPortfolios&quot;)\n    public abstract Product toProduct(SaveProductInput source);\n\n    @Mapping(target = &quot;id&quot;, ignore = true)\n    @Mapping(target = &quot;portfolios&quot;, ignore = true)\n    public abstract Product overlay(Product source, @MappingTarget Product target);\n\n}\n\n@Mapper(imports = {RelayUtil.class}, componentModel = &quot;spring&quot;\n        , unmappedTargetPolicy = ReportingPolicy.ERROR\n        , uses = {\n        InvestmentAllocationDTOMapper.class\n})\npublic abstract class PortfolioDTOMapper {\n\n    @Mapping(target = &quot;productId&quot;, source = &quot;productId&quot;)\n    @Mapping(target = &quot;name&quot;, source = &quot;name&quot;)\n    @Mapping(target = &quot;amount&quot;, source = &quot;amount&quot;)\n    @Mapping(target = &quot;investmentAllocation&quot;, source = &quot;investmentAllocation&quot;)\n    public abstract PortfolioDTO toPortfolioDTO(Portfolio source);\n\n    public abstract List&lt;PortfolioDTO&gt; toPortfolioDTOs(Iterable&lt;Portfolio&gt; source);\n\n\n    @Mapping(target = &quot;id&quot;, expression = &quot;java(RelayUtil.fromGlobalIDToLong(\\&quot;Portfolio\\&quot;, source.getId()))&quot;)\n    @Mapping(target = &quot;productId&quot;, ignore = true)\n    @Mapping(target = &quot;name&quot;, source = &quot;name&quot;)\n    @Mapping(target = &quot;amount&quot;, source = &quot;amount&quot;)\n    @Mapping(target = &quot;investmentAllocation&quot;, source = &quot;investmentAllocation&quot;)\n    public abstract Portfolio toPortfolio(PortfolioInput source);\n\n    public abstract List&lt;Portfolio&gt; toPortfolios(Iterable&lt;PortfolioInput&gt; source);\n\n    @Mapping(target = &quot;id&quot;, ignore = true)\n    public abstract Portfolio overlay(Portfolio source, @MappingTarget Portfolio target);\n}\n\n\n@Mapper(imports = {RelayUtil.class}, componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.ERROR)\npublic abstract class InvestmentAllocationDTOMapper {\n    @Mapping(target = &quot;portfolioId&quot;, source = &quot;portfolioId&quot;)\n    @Mapping(target = &quot;bond&quot;, source = &quot;bond&quot;)\n    @Mapping(target = &quot;cash&quot;, source = &quot;cash&quot;)\n    public abstract InvestmentAllocationDTO toInvestmentAllocationDTO(InvestmentAllocation source);\n\n    public abstract List&lt;InvestmentAllocationDTO&gt; toInvestmentAllocationDTOs(\n            Iterable&lt;InvestmentAllocation&gt; source\n    );\n\n    @Mapping(target = &quot;id&quot;, expression = &quot;java(RelayUtil.fromGlobalIDToLong(\\&quot;InvestmentAllocation\\&quot;, source.getId()))&quot;)\n    @Mapping(target = &quot;portfolioId&quot;, ignore = true)\n    @Mapping(target = &quot;portfolio&quot;, ignore = true)\n    @Mapping(target = &quot;bond&quot;, source = &quot;bond&quot;)\n    @Mapping(target = &quot;cash&quot;, source = &quot;cash&quot;)\n    public abstract InvestmentAllocation toInvestmentAllocation(InvestmentAllocationInput source);\n\n    public abstract List&lt;InvestmentAllocation&gt; toInvestmentAllocations(\n            Iterable&lt;InvestmentAllocationInput&gt; source\n    );\n\n    @Mapping(target = &quot;id&quot;, ignore = true)\n    public abstract InvestmentAllocation overlay(InvestmentAllocation source, @MappingTarget InvestmentAllocation target);\n}\n</code></pre>\n<p>Why the first time the postPersist method is invoked successfully, but the second time it is ignored?</p>\n"},{"tags":["java","spring-boot","spring-mvc","annotations","spring-annotations"],"comments":[{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1678961844,"post_id":75754649,"comment_id":133635687,"body_markdown":"Isn’t that pretty much the same as using `@RequestMapping(“/api/contracts”)` at the class level and `@RequestMapping(“/something”)` at the method level? If this functionality isn’t sufficient, you could look up the source code to find out how they concatenate the two and adapt it to your annotation.","body":"Isn’t that pretty much the same as using <code>@RequestMapping(“&#47;api&#47;contracts”)</code> at the class level and <code>@RequestMapping(“&#47;something”)</code> at the method level? If this functionality isn’t sufficient, you could look up the source code to find out how they concatenate the two and adapt it to your annotation."},{"owner":{"account_id":14460736,"reputation":11,"user_id":10445606,"display_name":"Kaustubh Wani"},"score":0,"creation_date":1678963092,"post_id":75754649,"comment_id":133636081,"body_markdown":"I have multiple controllers which extends @RequestMapping(&quot;/api/contracts&quot;) and has there own extended path. I&#39;m not using this for method.","body":"I have multiple controllers which extends @RequestMapping(&quot;/api/contracts&quot;) and has there own extended path. I&#39;m not using this for method."}],"owner":{"account_id":14460736,"reputation":11,"user_id":10445606,"display_name":"Kaustubh Wani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678961017,"creation_date":1678961017,"question_id":75754649,"body_markdown":"I have one custom annotation, I want to have default value of requestmapping as &quot;/api/contracts&quot; and to pass dynamic value which will concatenate to the path. \r\nExample I&#39;m passing &quot;/something&quot; to custom annotation it should act like &quot;/api/contracts/something&quot;\r\n\r\n\r\n\r\nMy custom annotation is \r\n\r\n```\r\n@Target(ElementType.TYPE)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\n@RequestMapping(value = &quot;/api/contracts&quot;)\r\npublic @interface IfnContractRequestMapping\r\n{\r\n    @AliasFor(annotation = RequestMapping.class, attribute = &quot;value&quot;) String[] value() default {};\r\n\r\n}\r\n```\r\n\r\nAnd I&#39;m passing value to it as `@IfnContractRequestMapping(value = &quot;/something&quot;)`\r\n","title":"Concatenation of dynamic value and default value in custom annotation","body":"<p>I have one custom annotation, I want to have default value of requestmapping as &quot;/api/contracts&quot; and to pass dynamic value which will concatenate to the path.\nExample I'm passing &quot;/something&quot; to custom annotation it should act like &quot;/api/contracts/something&quot;</p>\n<p>My custom annotation is</p>\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@RequestMapping(value = &quot;/api/contracts&quot;)\npublic @interface IfnContractRequestMapping\n{\n    @AliasFor(annotation = RequestMapping.class, attribute = &quot;value&quot;) String[] value() default {};\n\n}\n</code></pre>\n<p>And I'm passing value to it as <code>@IfnContractRequestMapping(value = &quot;/something&quot;)</code></p>\n"},{"tags":["java","sockets","tcp"],"comments":[{"owner":{"account_id":400151,"reputation":8092,"user_id":765971,"accept_rate":80,"display_name":"SKi"},"score":0,"creation_date":1678962364,"post_id":75754644,"comment_id":133635850,"body_markdown":"It is a blocking call. It will block until connection is established, or attempt is failed.\nIf the network is very slow or unreliable, then noticeable blocking is expected.\nDepending on configuration, TCP may try to establish connection several minutes, before success or final timeout.","body":"It is a blocking call. It will block until connection is established, or attempt is failed. If the network is very slow or unreliable, then noticeable blocking is expected. Depending on configuration, TCP may try to establish connection several minutes, before success or final timeout."},{"owner":{"account_id":28030838,"reputation":11,"user_id":21410041,"display_name":"Rajeev"},"score":0,"creation_date":1679292119,"post_id":75754644,"comment_id":133688493,"body_markdown":"Thanks. Is there a way to reduce the connection time through tcp properties.","body":"Thanks. Is there a way to reduce the connection time through tcp properties."}],"owner":{"account_id":28030838,"reputation":11,"user_id":21410041,"display_name":"Rajeev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678961004,"creation_date":1678961004,"question_id":75754644,"body_markdown":"Using following socket API to create a new socket where passing local address as null, local port as 0. Remote address and port are valid values. In some cases it get stuck in native API (trace shown below).\r\n\r\npublic class DsSocket\r\n{\r\n   protected Socket m_socket;\r\n\r\n     public DsSocket(InetAddress lAddr, int lPort, InetAddress address,\r\n                    int port, DsNetwork network) throws IOException\r\n    {\r\n        this(new Socket(address, port, lAddr, lPort), network);\r\n    }\r\n}\r\n","title":"Thread stuck while creating socket in Java on RHEL 8.4","body":"<p>Using following socket API to create a new socket where passing local address as null, local port as 0. Remote address and port are valid values. In some cases it get stuck in native API (trace shown below).</p>\n<p>public class DsSocket\n{\nprotected Socket m_socket;</p>\n<pre><code> public DsSocket(InetAddress lAddr, int lPort, InetAddress address,\n                int port, DsNetwork network) throws IOException\n{\n    this(new Socket(address, port, lAddr, lPort), network);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","sorting","java-stream","double","reverse"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1678961057,"post_id":75754608,"comment_id":133635444,"body_markdown":"maybe you should call boxed() before you sort it then pass the Comparator.reverseOrder()?","body":"maybe you should call boxed() before you sort it then pass the Comparator.reverseOrder()?"},{"owner":{"display_name":"user16422658"},"score":0,"creation_date":1678961653,"post_id":75754608,"comment_id":133635627,"body_markdown":"Yes, this worked perfectly, thanks, I would love to know why, some suggest this is an expensive operation? but great thanks","body":"Yes, this worked perfectly, thanks, I would love to know why, some suggest this is an expensive operation? but great thanks"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1678966662,"post_id":75754608,"comment_id":133637130,"body_markdown":"thats because the comparator takes a generic type T, meaning it cannot take a primitive. Thus, you need to use the wrapper class Double. Java has built in boxing/unboxing for some operations, but here you need to explicitly call boxed(). but imagine a large list of numbers and you have to create a new object for each item. That adds up for large lists","body":"thats because the comparator takes a generic type T, meaning it cannot take a primitive. Thus, you need to use the wrapper class Double. Java has built in boxing/unboxing for some operations, but here you need to explicitly call boxed(). but imagine a large list of numbers and you have to create a new object for each item. That adds up for large lists"},{"owner":{"display_name":"user16422658"},"score":0,"creation_date":1678981703,"post_id":75754608,"comment_id":133642045,"body_markdown":"Thanks, I heard that this is quiet an expensive operation ? Maybe its better to just use Stream&lt;Integer&gt; instead of IntStream ?, Although I am sure it won&#39;t matter for smaller numbers","body":"Thanks, I heard that this is quiet an expensive operation ? Maybe its better to just use Stream&lt;Integer&gt; instead of IntStream ?, Although I am sure it won&#39;t matter for smaller numbers"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1679017055,"post_id":75754608,"comment_id":133649695,"body_markdown":"That still matters as by passing an int to an ArrayList etc or Stream, Java boxes it for you into an Integer.","body":"That still matters as by passing an int to an ArrayList etc or Stream, Java boxes it for you into an Integer."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1679068251,"post_id":75754608,"comment_id":133660184,"body_markdown":"You are already using `boxed()` so there’s no point in worrying how expensive that is. You just have to move the already existing `boxed()` before the `sorted(Comparator.reverseOrder())` step.","body":"You are already using <code>boxed()</code> so there’s no point in worrying how expensive that is. You just have to move the already existing <code>boxed()</code> before the <code>sorted(Comparator.reverseOrder())</code> step."}],"owner":{"display_name":"user16422658"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678961088,"answer_count":0,"score":0,"last_activity_date":1678960827,"creation_date":1678960827,"question_id":75754608,"body_markdown":"I am learning about Java Streams and I have created some functions to test and I am struggling to find a way to sort in reverse order\r\n\r\nHere is the code:\r\n\r\n    public class StreamCreator {\r\n    \r\n        public List&lt;Fruit&gt; getMixedFruitList() {\r\n            return Arrays.asList(\r\n                    new Fruit(true),\r\n                    new Orange(),\r\n                    new BloodOrange(),\r\n                    new BloodOrange(),\r\n                    new BloodOrange(),\r\n                    new Orange(),\r\n                    new Fruit(),\r\n                    new Mango(),\r\n                    new Mango(),\r\n                    new Mango(),\r\n                    new BloodOrange()\r\n            );\r\n        }\r\n    \r\n        public Stream&lt;Fruit&gt; getFruitStream() {\r\n            return getMixedFruitList().stream();\r\n        }\r\n    \r\n        public Stream&lt;Fruit&gt; getParallelFruitStream() {\r\n            return getMixedFruitList().parallelStream(); // Works\r\n            //return getMixedFruitList().stream().parallel(); //Works\r\n        }\r\n    \r\n        public Stream&lt;String&gt; getStringStream() {\r\n            return Stream.of(&quot;A&quot;, &quot;h&quot;, &quot;c&quot;, &quot;z&quot;, &quot;Z&quot;, &quot;b&quot;, &quot;H&quot;, &quot;M&quot;, &quot;o&quot;, &quot;9&quot;, &quot;3&quot;, &quot;8&quot;, &quot;2&quot;, &quot;1&quot;);\r\n        }\r\n    \r\n        public IntStream getIntStreamByRange(int start, int end, boolean closed) {\r\n            return (closed) ?\r\n                    IntStream.rangeClosed(start, end) :\r\n                    IntStream.range(start, end);\r\n        }\r\n    \r\n        public LongStream getLongStreamByRange(long start, long end, boolean closed) {\r\n            return (closed) ?\r\n                    LongStream.rangeClosed(start, end) :\r\n                    LongStream.range(start, end);\r\n        }\r\n    \r\n        public DoubleStream getDoubleStream() {\r\n            return DoubleStream.of(1.3, 98.7, 48.46, 68.47, 2.5, 6.7, 4.6, 9.2, 100.5, 4.6, 0.48, 3.0);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n    public static void intermediateOperatorsEg2() {\r\n            streamCreator\r\n                    .getDoubleStream()\r\n                    .sorted()\r\n                    .boxed()\r\n                    .collect(Collectors.toList())\r\n                    .forEach(sorted -&gt; System.out.print(sorted + &quot;, &quot;));\r\n    \r\n            streamCreator\r\n                    .getDoubleStream()\r\n                    .sorted(Comparator.reverseOrder())\r\n    \r\n                    .boxed()\r\n                    .collect(Collectors.toList());\r\n        }\r\n\r\n    public static void main(String[] args) {\r\n            //filterExample();\r\n            //intermediateOperatorsEg1();\r\n            intermediateOperatorsEg2();\r\n        }\r\n\r\n\r\nWhen I do Comparator.reverseOrder() I get the following error:\r\n\r\n    &#39;sorted()&#39; in &#39;java.util.stream.DoubleStream&#39; cannot be applied to &#39;(java.util.Comparator&lt;T&gt;)&#39;\r\n\r\nThen if I try:\r\n\r\n    .sorted(Comparator.comparingDouble(Double::valueOf))\r\n\r\nIt doesn&#39;t work, \r\nIf the stream is passing down each double value, what is the best way to reverse this ?\r\n\r\n\r\n\r\n","title":"Java Double Stream sort in reverse order","body":"<p>I am learning about Java Streams and I have created some functions to test and I am struggling to find a way to sort in reverse order</p>\n<p>Here is the code:</p>\n<pre><code>public class StreamCreator {\n\n    public List&lt;Fruit&gt; getMixedFruitList() {\n        return Arrays.asList(\n                new Fruit(true),\n                new Orange(),\n                new BloodOrange(),\n                new BloodOrange(),\n                new BloodOrange(),\n                new Orange(),\n                new Fruit(),\n                new Mango(),\n                new Mango(),\n                new Mango(),\n                new BloodOrange()\n        );\n    }\n\n    public Stream&lt;Fruit&gt; getFruitStream() {\n        return getMixedFruitList().stream();\n    }\n\n    public Stream&lt;Fruit&gt; getParallelFruitStream() {\n        return getMixedFruitList().parallelStream(); // Works\n        //return getMixedFruitList().stream().parallel(); //Works\n    }\n\n    public Stream&lt;String&gt; getStringStream() {\n        return Stream.of(&quot;A&quot;, &quot;h&quot;, &quot;c&quot;, &quot;z&quot;, &quot;Z&quot;, &quot;b&quot;, &quot;H&quot;, &quot;M&quot;, &quot;o&quot;, &quot;9&quot;, &quot;3&quot;, &quot;8&quot;, &quot;2&quot;, &quot;1&quot;);\n    }\n\n    public IntStream getIntStreamByRange(int start, int end, boolean closed) {\n        return (closed) ?\n                IntStream.rangeClosed(start, end) :\n                IntStream.range(start, end);\n    }\n\n    public LongStream getLongStreamByRange(long start, long end, boolean closed) {\n        return (closed) ?\n                LongStream.rangeClosed(start, end) :\n                LongStream.range(start, end);\n    }\n\n    public DoubleStream getDoubleStream() {\n        return DoubleStream.of(1.3, 98.7, 48.46, 68.47, 2.5, 6.7, 4.6, 9.2, 100.5, 4.6, 0.48, 3.0);\n    }\n\n\n}\n\npublic static void intermediateOperatorsEg2() {\n        streamCreator\n                .getDoubleStream()\n                .sorted()\n                .boxed()\n                .collect(Collectors.toList())\n                .forEach(sorted -&gt; System.out.print(sorted + &quot;, &quot;));\n\n        streamCreator\n                .getDoubleStream()\n                .sorted(Comparator.reverseOrder())\n\n                .boxed()\n                .collect(Collectors.toList());\n    }\n\npublic static void main(String[] args) {\n        //filterExample();\n        //intermediateOperatorsEg1();\n        intermediateOperatorsEg2();\n    }\n</code></pre>\n<p>When I do Comparator.reverseOrder() I get the following error:</p>\n<pre><code>'sorted()' in 'java.util.stream.DoubleStream' cannot be applied to '(java.util.Comparator&lt;T&gt;)'\n</code></pre>\n<p>Then if I try:</p>\n<pre><code>.sorted(Comparator.comparingDouble(Double::valueOf))\n</code></pre>\n<p>It doesn't work,\nIf the stream is passing down each double value, what is the best way to reverse this ?</p>\n"},{"tags":["java","json","json-simple"],"answers":[{"tags":[],"owner":{"account_id":2592102,"reputation":171,"user_id":2246596,"display_name":"Zoltorn"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1375734798,"creation_date":1375734798,"answer_id":18067193,"question_id":18066844,"body_markdown":"You could read the JSONObject into a java string, and call String.toLowerCase on it and store it back into a JSONObject. This will turn the entire case of the string to lower case, so you will have to account for that elsewhere in your logic. After that, you then would just have to do a get call on &quot;inputhivetable&quot;. \r\n\r\nBy no means is it a pretty solution, but it is a potential work around if there is absolutely no other way for you to handle what you&#39;re returning as your JSON input.","title":"How to ignore case when searching a JSON Object","body":"<p>You could read the JSONObject into a java string, and call String.toLowerCase on it and store it back into a JSONObject. This will turn the entire case of the string to lower case, so you will have to account for that elsewhere in your logic. After that, you then would just have to do a get call on \"inputhivetable\". </p>\n\n<p>By no means is it a pretty solution, but it is a potential work around if there is absolutely no other way for you to handle what you're returning as your JSON input.</p>\n"},{"tags":[],"owner":{"account_id":2905043,"reputation":1741,"user_id":2490666,"display_name":"Alex P"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1375738634,"creation_date":1375738078,"answer_id":18068049,"question_id":18066844,"body_markdown":"Given that case-insensitivity can be achieved with TreeMap (i.e. via `String.CASE_INSENSITIVE_ORDER` comparator), you can probably do the following:\r\n\r\n1. Implement your own `MyJSONObject` extending `TreeMap` where its methods will be just calling static methods of `JSONObject` with the same signatures and all required interfaces as in `JSONObject`. In default constructor write `super(String.CASE_INSENSITIVE_ORDER)`\r\n\r\n2. Implement `ContainerFactory` interface where `createObjectContainer` will return new instance of `MyJSONObject` (and `createArrayContainer` will just return new `JSONArray`).\r\n\r\n3. To run it with new container `MyContainerFactory`:\r\n\r\n         StringReader in = new StringReader(yourJSONString);                    \r\n         JSONParser parser = new JSONParser();      \r\n         parser.parse(in, yourContainerFactory)","title":"How to ignore case when searching a JSON Object","body":"<p>Given that case-insensitivity can be achieved with TreeMap (i.e. via <code>String.CASE_INSENSITIVE_ORDER</code> comparator), you can probably do the following:</p>\n\n<ol>\n<li><p>Implement your own <code>MyJSONObject</code> extending <code>TreeMap</code> where its methods will be just calling static methods of <code>JSONObject</code> with the same signatures and all required interfaces as in <code>JSONObject</code>. In default constructor write <code>super(String.CASE_INSENSITIVE_ORDER)</code></p></li>\n<li><p>Implement <code>ContainerFactory</code> interface where <code>createObjectContainer</code> will return new instance of <code>MyJSONObject</code> (and <code>createArrayContainer</code> will just return new <code>JSONArray</code>).</p></li>\n<li><p>To run it with new container <code>MyContainerFactory</code>:</p>\n\n<pre><code> StringReader in = new StringReader(yourJSONString);                    \n JSONParser parser = new JSONParser();      \n parser.parse(in, yourContainerFactory)\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1550320,"reputation":16282,"user_id":1442874,"accept_rate":88,"display_name":"Chris Gerken"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1375742767,"creation_date":1375742767,"answer_id":18069036,"question_id":18066844,"body_markdown":"If you have to perform this case-insensitive lookup many times, I&#39;d just write a method to do that lookup:\r\n\r\n    public Object getIgnoreCase(JSONObject jobj, String key) {\r\n\r\n        Iterator&lt;String&gt; iter = jobj.keySet().iterator();\r\n        while (iter.hasNext()) {\r\n            String key1 = iter.next();\r\n            if (key1.equalsIgnoreCase(key)) {\r\n                return jobj.get(key1);\r\n            }\r\n        }\r\n\r\n        return null;\r\n\r\n    }","title":"How to ignore case when searching a JSON Object","body":"<p>If you have to perform this case-insensitive lookup many times, I'd just write a method to do that lookup:</p>\n\n<pre><code>public Object getIgnoreCase(JSONObject jobj, String key) {\n\n    Iterator&lt;String&gt; iter = jobj.keySet().iterator();\n    while (iter.hasNext()) {\n        String key1 = iter.next();\n        if (key1.equalsIgnoreCase(key)) {\n            return jobj.get(key1);\n        }\n    }\n\n    return null;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28031390,"reputation":1,"user_id":21410515,"display_name":"sushmitha petlu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678960628,"creation_date":1678960628,"answer_id":75754571,"question_id":18066844,"body_markdown":"Example Json : \r\n    &quot;data&quot;: {\r\n        &quot;Information&quot;: {\r\n\t\t    &quot;Id&quot;: &quot;64&quot;.\r\n            &quot;relation&quot;: &quot;Current&quot;,}\r\n\t\t\t}\r\n \r\nIn the java model :\r\n\r\n    @JsonbProperty(&quot;Information&quot;)\r\n    private DataInformationModel information;\r\n    @JsonbProperty(&quot;Id&quot;)\r\n    private DataModel id;\r\n\r\n@JsonbProperty worked for me","title":"How to ignore case when searching a JSON Object","body":"<p>Example Json :\n&quot;data&quot;: {\n&quot;Information&quot;: {\n&quot;Id&quot;: &quot;64&quot;.\n&quot;relation&quot;: &quot;Current&quot;,}\n}</p>\n<p>In the java model :</p>\n<pre><code>@JsonbProperty(&quot;Information&quot;)\nprivate DataInformationModel information;\n@JsonbProperty(&quot;Id&quot;)\nprivate DataModel id;\n</code></pre>\n<p>@JsonbProperty worked for me</p>\n"}],"owner":{"account_id":1324707,"reputation":11353,"user_id":1269809,"accept_rate":86,"display_name":"Chaos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32299,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":18069036,"answer_count":4,"score":9,"last_activity_date":1678960628,"creation_date":1375733482,"question_id":18066844,"body_markdown":"My sample JSON input is as follows:\r\n\r\n\t&quot;JobName&quot;:&quot;Test Job 1&quot;,\r\n    &quot;events&quot;:[\r\n\t\t{\t&quot;features&quot;:[],\r\n\t\t\t&quot;InputHiveTable&quot;:&quot;uilog_uiclientlogdata&quot;,\r\n\t\t\t&quot;eventColumn&quot;:&quot;command&quot;,\r\n\t\t\t&quot;name&quot;:&quot;edu.apollogrp.classroom.discussion.client.events.CreateDiscussionEvent&quot;\r\n\t\t},\r\n\r\nConsider the field `&quot;InputHiveTable&quot;`, it could be in all uppercase `INPUTHIVETABLE`, all lowercase `inputhivetable`, or a mixture of both as it is now.\r\n\r\nCurrently, I&#39;m reading the field as follows (in Java):\r\n \r\n    JSONObject jsonObject = (JSONObject) obj;\r\n    JSONArray events = (JSONArray) jsonObject.get(&quot;events&quot;);\r\n    String InputHiveTable = (String)event.get(&quot;InputHiveTable&quot;);\r\n\r\nSo my question is how do I search for the field `&quot;InputHiveTable&quot;` while ignoring the case. \r\nI&#39;m using JSON Simple libraries. \r\n","title":"How to ignore case when searching a JSON Object","body":"<p>My sample JSON input is as follows:</p>\n\n<pre><code>\"JobName\":\"Test Job 1\",\n\"events\":[\n    {   \"features\":[],\n        \"InputHiveTable\":\"uilog_uiclientlogdata\",\n        \"eventColumn\":\"command\",\n        \"name\":\"edu.apollogrp.classroom.discussion.client.events.CreateDiscussionEvent\"\n    },\n</code></pre>\n\n<p>Consider the field <code>\"InputHiveTable\"</code>, it could be in all uppercase <code>INPUTHIVETABLE</code>, all lowercase <code>inputhivetable</code>, or a mixture of both as it is now.</p>\n\n<p>Currently, I'm reading the field as follows (in Java):</p>\n\n<pre><code>JSONObject jsonObject = (JSONObject) obj;\nJSONArray events = (JSONArray) jsonObject.get(\"events\");\nString InputHiveTable = (String)event.get(\"InputHiveTable\");\n</code></pre>\n\n<p>So my question is how do I search for the field <code>\"InputHiveTable\"</code> while ignoring the case. \nI'm using JSON Simple libraries. </p>\n"},{"tags":["java","enums","nested","inner-classes"],"comments":[{"owner":{"account_id":1250747,"reputation":12431,"user_id":1640490,"accept_rate":92,"display_name":"nano_nano"},"score":1,"creation_date":1360772586,"post_id":14858036,"comment_id":20826438,"body_markdown":"please take a look at this: http://stackoverflow.com/questions/700831/java-local-enums","body":"please take a look at this: <a href=\"http://stackoverflow.com/questions/700831/java-local-enums\">stackoverflow.com/questions/700831/java-local-enums</a>"},{"owner":{"account_id":2344010,"reputation":6151,"user_id":2054731,"accept_rate":44,"display_name":"ArneHugo"},"score":1,"creation_date":1397564813,"post_id":14858036,"comment_id":35279608,"body_markdown":"Unless you wanted State to access methods in History, make State a [static class](http://stackoverflow.com/a/1353326/2054731).","body":"Unless you wanted State to access methods in History, make State a <a href=\"http://stackoverflow.com/a/1353326/2054731\">static class</a>."}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":101,"is_accepted":true,"score":101,"last_activity_date":1678960104,"creation_date":1360772627,"answer_id":14858103,"question_id":14858036,"body_markdown":"# This is allowed in Java 16+\r\n\r\nThis is **no longer forbidden starting with Java 16** (and the later LTS release Java 17) thanks to [JEP 395][1] relaxing the rules on some static types inside inner classes.\r\n\r\nThe new phrasing in [&#167;8.1.3. Inner Classes and Enclosing Instances][2] is (emphsis mine):\r\n\r\n&gt; All of the rules that apply to nested classes apply to inner classes. In particular, **an inner class may declare** and inherit **static members** (&#167;8.2), and declare `static` initializers (&#167;8.7), even though the inner class itself is not `static`.\r\n\r\n[This answer explains the change][3] in more detail.\r\n\r\n# Before Java 16 it was forbidden:\r\n\r\n`enum` types that are defined as nested types are always implicitly `static` (see [JLS &#167;8.9. Enums][4]):\r\n\r\n&gt; A nested enum type is implicitly `static`.\r\n\r\nYou can&#39;t have a static nested type inside a non-static one (a.k.a an &quot;inner class&quot;, see [JLS &#167;8.1.3. Inner Classes and Enclosing Instances][5]):\r\n\r\n&gt; It is a compile-time error if an inner class declares a member that is explicitly or implicitly static, unless the member is a constant variable\r\n\r\nTherefore you can&#39;t have an `enum` inner type inside a non-static nested type.\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/395\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.1.3\r\n  [3]: https://stackoverflow.com/a/62807591/40342\r\n  [4]: https://docs.oracle.com/javase/specs/jls/se11/html/jls-8.html#jls-8.9\r\n  [5]: https://docs.oracle.com/javase/specs/jls/se11/html/jls-8.html#jls-8.1.3","title":"Why can&#39;t I create an enum in an inner class in Java?","body":"<h1>This is allowed in Java 16+</h1>\n<p>This is <strong>no longer forbidden starting with Java 16</strong> (and the later LTS release Java 17) thanks to <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">JEP 395</a> relaxing the rules on some static types inside inner classes.</p>\n<p>The new phrasing in <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.1.3\" rel=\"nofollow noreferrer\">§8.1.3. Inner Classes and Enclosing Instances</a> is (emphsis mine):</p>\n<blockquote>\n<p>All of the rules that apply to nested classes apply to inner classes. In particular, <strong>an inner class may declare</strong> and inherit <strong>static members</strong> (§8.2), and declare <code>static</code> initializers (§8.7), even though the inner class itself is not <code>static</code>.</p>\n</blockquote>\n<p><a href=\"https://stackoverflow.com/a/62807591/40342\">This answer explains the change</a> in more detail.</p>\n<h1>Before Java 16 it was forbidden:</h1>\n<p><code>enum</code> types that are defined as nested types are always implicitly <code>static</code> (see <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-8.html#jls-8.9\" rel=\"nofollow noreferrer\">JLS §8.9. Enums</a>):</p>\n<blockquote>\n<p>A nested enum type is implicitly <code>static</code>.</p>\n</blockquote>\n<p>You can't have a static nested type inside a non-static one (a.k.a an &quot;inner class&quot;, see <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-8.html#jls-8.1.3\" rel=\"nofollow noreferrer\">JLS §8.1.3. Inner Classes and Enclosing Instances</a>):</p>\n<blockquote>\n<p>It is a compile-time error if an inner class declares a member that is explicitly or implicitly static, unless the member is a constant variable</p>\n</blockquote>\n<p>Therefore you can't have an <code>enum</code> inner type inside a non-static nested type.</p>\n"},{"tags":[],"owner":{"account_id":474835,"reputation":10401,"user_id":884778,"accept_rate":71,"display_name":"Dhiral Pandya"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1454148482,"creation_date":1454148482,"answer_id":35100426,"question_id":14858036,"body_markdown":"Already enough information from +Joachim Sauer, I am just adding some extra details. \r\n\r\nYou can define inner enum only if your inner class is static nested inner class. See below \r\n\r\n\tprivate static class DbResource {\r\n\t\t\r\n\t\tpublic enum DB {\r\n\t\t\tMERGE_FROM, MERGE_TO, MAIN;\r\n\t\t}\r\n\t}","title":"Why can&#39;t I create an enum in an inner class in Java?","body":"<p>Already enough information from +Joachim Sauer, I am just adding some extra details. </p>\n\n<p>You can define inner enum only if your inner class is static nested inner class. See below </p>\n\n<pre><code>private static class DbResource {\n\n    public enum DB {\n        MERGE_FROM, MERGE_TO, MAIN;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1507238940,"creation_date":1507238940,"answer_id":46595070,"question_id":14858036,"body_markdown":"If you declared an enum like this:\r\n\r\n    enum Suit {SPADES, HEARTS, CLUBS, DIAMONDS}\r\n\r\nThe Java compiler would synthetically generate the following class for you:\r\n\r\n    final class Suit extends java.lang.Enum&lt;Suit&gt; {\r\n      public static final Suit SPADES;\r\n      public static final Suit HEARTS;\r\n      public static final Suit CLUBS;\r\n      public static final Suit DIAMONDS;\r\n      private static final Suit[] $VALUES;\r\n      public static Suit[] values();\r\n      public static Suit valueOf(java.lang.String);\r\n      private Suit();\r\n    }\r\n\r\nThere is no intention to create other instances of this class other than those static fields already defined in it (as you could infer from its private constructor), but most importantly, and as mentioned in the accepted answer, a inner class cannot have static members ([JLS &#167;8.1.3. Inner Classes and Enclosing Instances](http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.1.3)), and since the enum synthetic class does, it makes it unacceptable as inner class.\r\n\r\n\r\n","title":"Why can&#39;t I create an enum in an inner class in Java?","body":"<p>If you declared an enum like this:</p>\n\n<pre><code>enum Suit {SPADES, HEARTS, CLUBS, DIAMONDS}\n</code></pre>\n\n<p>The Java compiler would synthetically generate the following class for you:</p>\n\n<pre><code>final class Suit extends java.lang.Enum&lt;Suit&gt; {\n  public static final Suit SPADES;\n  public static final Suit HEARTS;\n  public static final Suit CLUBS;\n  public static final Suit DIAMONDS;\n  private static final Suit[] $VALUES;\n  public static Suit[] values();\n  public static Suit valueOf(java.lang.String);\n  private Suit();\n}\n</code></pre>\n\n<p>There is no intention to create other instances of this class other than those static fields already defined in it (as you could infer from its private constructor), but most importantly, and as mentioned in the accepted answer, a inner class cannot have static members (<a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.1.3\" rel=\"noreferrer\">JLS §8.1.3. Inner Classes and Enclosing Instances</a>), and since the enum synthetic class does, it makes it unacceptable as inner class.</p>\n"},{"tags":[],"owner":{"account_id":9751113,"reputation":1428,"user_id":7229333,"display_name":"K F"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1552066832,"creation_date":1552066832,"answer_id":55068337,"question_id":14858036,"body_markdown":"This worked for my use-case:\r\n\r\n```java\r\npublic class History {\r\n\r\n    public interface HConstants{\r\n         public enum StateType { PAST,CURRENT,FUTURE}\r\n    }\r\n\r\n    //Inner class\r\n    public class State implements HConstants{\r\n        public StateType stateField = StateType.PAST;\r\n```","title":"Why can&#39;t I create an enum in an inner class in Java?","body":"<p>This worked for my use-case:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class History {\n\n    public interface HConstants{\n         public enum StateType { PAST,CURRENT,FUTURE}\n    }\n\n    //Inner class\n    public class State implements HConstants{\n        public StateType stateField = StateType.PAST;\n</code></pre>\n"}],"owner":{"account_id":389838,"reputation":2731,"user_id":749521,"accept_rate":69,"display_name":"Steven Roose"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52576,"favorite_count":0,"down_vote_count":0,"up_vote_count":75,"accepted_answer_id":14858103,"answer_count":4,"score":75,"last_activity_date":1678960104,"creation_date":1360772459,"question_id":14858036,"body_markdown":"What I try to do is this:\r\n\r\n    public class History {\r\n    \tpublic class State {\r\n    \t\tpublic enum StateType {\r\n\r\nEclipse gives me this compile error on `StateType`: `The member enum StateType must be defined inside a static member type`.\r\n\r\nThe error disappears when I make the `State` class static. I could make `State` static, but I don&#39;t understand why I cannot declare an `enum` in an inner class.","title":"Why can&#39;t I create an enum in an inner class in Java?","body":"<p>What I try to do is this:</p>\n\n<pre><code>public class History {\n    public class State {\n        public enum StateType {\n</code></pre>\n\n<p>Eclipse gives me this compile error on <code>StateType</code>: <code>The member enum StateType must be defined inside a static member type</code>.</p>\n\n<p>The error disappears when I make the <code>State</code> class static. I could make <code>State</code> static, but I don't understand why I cannot declare an <code>enum</code> in an inner class.</p>\n"},{"tags":["java","android","interface"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678958311,"post_id":75754091,"comment_id":133634660,"body_markdown":"I don&#39;t even see an instantiation of FirstFragment. Where do you use it?","body":"I don&#39;t even see an instantiation of FirstFragment. Where do you use it?"},{"owner":{"account_id":4729132,"reputation":4702,"user_id":3825246,"accept_rate":53,"display_name":"Ibanez1408"},"score":0,"creation_date":1678958468,"post_id":75754091,"comment_id":133634698,"body_markdown":"@Stultuske I am using navigation graph sir.","body":"@Stultuske I am using navigation graph sir."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678958892,"post_id":75754091,"comment_id":133634801,"body_markdown":"OK? and how does that answer my question? In your activity you do this: SignallerService ss = new SignallerService(this); -&gt; only the instance of MainActivity is sent to the Service, not an instance of your Fragment.","body":"OK? and how does that answer my question? In your activity you do this: SignallerService ss = new SignallerService(this); -&gt; only the instance of MainActivity is sent to the Service, not an instance of your Fragment."}],"answers":[{"tags":[],"owner":{"account_id":4330572,"reputation":146,"user_id":3536222,"display_name":"VanKhulup"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678958554,"creation_date":1678958554,"answer_id":75754180,"question_id":75754091,"body_markdown":"When creating instance of `SignallerService` you&#39;re passing activity&#39;s instance into constructor, so it&#39;s used as a listener, and get&#39;s all the callbacks. You should either propagate callback to the Fragment from the activity (from within the activity&#39;s `onPublishMessage` search the instance of the fragment and call it&#39;s callback method manually), or register Fragment&#39;s instance as a listener (pass it into `SignallerService` constructor). In your current implementation, your service knows only about activity (as it&#39;s the only listener, who called the constructor and passed itself as listener for future events)","title":"Interface method is not invoked on all implementations","body":"<p>When creating instance of <code>SignallerService</code> you're passing activity's instance into constructor, so it's used as a listener, and get's all the callbacks. You should either propagate callback to the Fragment from the activity (from within the activity's <code>onPublishMessage</code> search the instance of the fragment and call it's callback method manually), or register Fragment's instance as a listener (pass it into <code>SignallerService</code> constructor). In your current implementation, your service knows only about activity (as it's the only listener, who called the constructor and passed itself as listener for future events)</p>\n"}],"owner":{"account_id":4729132,"reputation":4702,"user_id":3825246,"accept_rate":53,"display_name":"Ibanez1408"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1679003886,"answer_count":1,"score":-1,"last_activity_date":1678959875,"creation_date":1678958123,"question_id":75754091,"body_markdown":"I have an interface that is like so:\r\n\r\n    public interface ISignaller {\r\n        void onPublishMessage(String message);\r\n    }\r\n    public interface ISignaller2 {\r\n    \tvoid onPublishMessage(String message);\r\n    }\r\n\r\nAnd a service that uses this ISignaller\r\n\r\n    public class SignallerService {\r\n    \tISignalR listener;\r\n    \t\r\n    \tpublic SignallerService(ISignalR listener) {\r\n    \t\tthis.listener = listener;\r\n    \t}\r\n    \t\r\n    \tpublic void start() {\r\n    \t\t// ... some method here\r\n    \t\tvar someVar = someMethod();\r\n    \t\tif (someVar) {\r\n    \t\t\tlistener.onPublishMessage(&quot;THIS IS CALLED&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n    public class MainActivity extends BaseActivity implements ISignaller\r\n    {\r\n    \tSignallerService ss = new SignallerService(this);\r\n    \t\r\n    \tpublic void start() {\r\n    \t\tss.start();\r\n    \t}\r\n\r\n        public void setPublisher(ISignaller2 publisher) {\r\n    \t\tthis.publisher = publisher;\r\n    \t}\r\n    \t\r\n    \t// THIS GETS CALLED\r\n    \t@Override\r\n        public void onPublishMessage(String message) {\r\n            this.publisher.onPublishMessage(message);\r\n        }\r\n    }\r\n\r\n    public class FirstFragment extends Fragment implements ISignaller {\r\n    \r\n    \t// THIS IS NOT CALLED\r\n    \t@Override\r\n        public void onPublishMessage(String message) {\r\n            Log.i(&quot;TAG&quot;, message);\r\n        }\r\n    \t\r\n    \tMainActivity mMainActivity = (MainActivity)getActivity();\r\n        mMainActivity.setPublisher(this);\r\n    \tmMainActivity.start();\r\n    }\r\n\r\nWhy is it that the override onPublishMesesage in MainActivity gets called but not in the FirstFragment?","title":"Interface method is not invoked on all implementations","body":"<p>I have an interface that is like so:</p>\n<pre><code>public interface ISignaller {\n    void onPublishMessage(String message);\n}\npublic interface ISignaller2 {\n    void onPublishMessage(String message);\n}\n</code></pre>\n<p>And a service that uses this ISignaller</p>\n<pre><code>public class SignallerService {\n    ISignalR listener;\n    \n    public SignallerService(ISignalR listener) {\n        this.listener = listener;\n    }\n    \n    public void start() {\n        // ... some method here\n        var someVar = someMethod();\n        if (someVar) {\n            listener.onPublishMessage(&quot;THIS IS CALLED&quot;);\n        }\n    }\n}\n\npublic class MainActivity extends BaseActivity implements ISignaller\n{\n    SignallerService ss = new SignallerService(this);\n    \n    public void start() {\n        ss.start();\n    }\n\n    public void setPublisher(ISignaller2 publisher) {\n        this.publisher = publisher;\n    }\n    \n    // THIS GETS CALLED\n    @Override\n    public void onPublishMessage(String message) {\n        this.publisher.onPublishMessage(message);\n    }\n}\n\npublic class FirstFragment extends Fragment implements ISignaller {\n\n    // THIS IS NOT CALLED\n    @Override\n    public void onPublishMessage(String message) {\n        Log.i(&quot;TAG&quot;, message);\n    }\n    \n    MainActivity mMainActivity = (MainActivity)getActivity();\n    mMainActivity.setPublisher(this);\n    mMainActivity.start();\n}\n</code></pre>\n<p>Why is it that the override onPublishMesesage in MainActivity gets called but not in the FirstFragment?</p>\n"},{"tags":["java","spring-boot","swagger","openapi","springfox"],"answers":[{"tags":[],"owner":{"account_id":21077452,"reputation":1,"user_id":15492512,"display_name":"Maciej Dresler"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677320244,"creation_date":1677259246,"answer_id":75559565,"question_id":75559467,"body_markdown":"I have a different configuration that works with Spring Boot 3.\r\n\r\nMy dependencies are:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nand in the Spring Boot configuration class I added\r\n\r\n```\r\n    @Bean\r\n    public Docket api() {\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n                .select()\r\n                .apis(RequestHandlerSelectors.any())\r\n                .paths(PathSelectors.any())\r\n                .build();\r\n    }\r\n```\r\n\r\nMaybe this will be helpful.","title":"How to add Swagger Ui to spring 3 on java 19 maven project","body":"<p>I have a different configuration that works with Spring Boot 3.</p>\n<p>My dependencies are:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>and in the Spring Boot configuration class I added</p>\n<pre><code>    @Bean\n    public Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.any())\n                .paths(PathSelectors.any())\n                .build();\n    }\n</code></pre>\n<p>Maybe this will be helpful.</p>\n"},{"tags":[],"owner":{"account_id":1328850,"reputation":2632,"user_id":1273144,"display_name":"Rambalac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678959840,"creation_date":1678959840,"answer_id":75754430,"question_id":75559467,"body_markdown":"`spring-boot-starter-validation` has to be the same version. Basically, you need to delete the version tag.\r\n\r\nBut I have another issue with `spring-boot-starter-parent` version 3.0.3. It does not generate openapi json, response is forever pending. It works with 3.0.2 though.","title":"How to add Swagger Ui to spring 3 on java 19 maven project","body":"<p><code>spring-boot-starter-validation</code> has to be the same version. Basically, you need to delete the version tag.</p>\n<p>But I have another issue with <code>spring-boot-starter-parent</code> version 3.0.3. It does not generate openapi json, response is forever pending. It works with 3.0.2 though.</p>\n"}],"owner":{"account_id":27765492,"reputation":11,"user_id":21196925,"display_name":"Krzysztof Chwedziak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1215,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678959840,"creation_date":1677258663,"question_id":75559467,"body_markdown":"I am trying to add Swagger-UI to my project, but I&#39;m failing due to errors.\r\nI&#39;ve read that on latest spring @EnableSwagger2 is required, well with or without not working.\r\nThis is my pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.3&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.kc6379&lt;/groupId&gt;\r\n    &lt;artifactId&gt;zarzadanie-magazynem&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;zarzadanie-magazynem&lt;/name&gt;\r\n    &lt;description&gt;zarzadanie-magazynem&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;19&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.3.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.3.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nSo I used spring boot-starter-validation along with springdoc-openapi-starter-webmvc-ui, and the error I&#39;m getting upon calling GET on http://localhost:8080/swagger-ui/index.html\r\n\r\nError in the browser:\r\n\r\n[![Error in the browser][1]][1]\r\n\r\nIn console I&#39;m getting this error block:\r\n\r\n\r\n```\r\nERROR 1272 --- [nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.data.repository.query.Param.value()&quot; because the return value of &quot;java.lang.reflect.Parameter.getAnnotation(java.lang.Class)&quot; is null] with root cause\r\n\r\njava.lang.NullPointerException: Cannot invoke &quot;org.springframework.data.repository.query.Param.value()&quot; because the return value of &quot;java.lang.reflect.Parameter.getAnnotation(java.lang.Class)&quot; is null\r\n\tat org.springdoc.core.data.DataRestOperationService.getParameterType(DataRestOperationService.java:242) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.core.data.DataRestOperationService.buildSearchOperation(DataRestOperationService.java:209) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.core.data.DataRestOperationService.buildOperation(DataRestOperationService.java:136) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.core.data.DataRestRouterOperationService.buildRouterOperation(DataRestRouterOperationService.java:289) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.core.data.DataRestRouterOperationService.buildRouterOperation(DataRestRouterOperationService.java:228) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.core.data.DataRestRouterOperationService.buildRouterOperationList(DataRestRouterOperationService.java:194) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.core.data.DataRestRouterOperationService.buildSearchRouterOperationList(DataRestRouterOperationService.java:149) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.core.providers.SpringRepositoryRestResourceProvider.lambda$findSearchControllers$13(SpringRepositoryRestResourceProvider.java:383) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\r\n\tat java.base/java.util.HashMap$ValueSpliterator.forEachRemaining(HashMap.java:1787) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[na:na]\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]\r\n\tat org.springdoc.core.providers.SpringRepositoryRestResourceProvider.findSearchControllers(SpringRepositoryRestResourceProvider.java:383) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.core.providers.SpringRepositoryRestResourceProvider.findSearchResourceMappings(SpringRepositoryRestResourceProvider.java:362) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.core.providers.SpringRepositoryRestResourceProvider.getRouterOperations(SpringRepositoryRestResourceProvider.java:276) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.webmvc.api.OpenApiResource.lambda$getPaths$1(OpenApiResource.java:170) ~[springdoc-openapi-starter-webmvc-api-2.0.2.jar:2.0.2]\r\n\tat java.base/java.util.Optional.ifPresent(Optional.java:178) ~[na:na]\r\n\tat org.springdoc.webmvc.api.OpenApiResource.lambda$getPaths$2(OpenApiResource.java:169) ~[springdoc-openapi-starter-webmvc-api-2.0.2.jar:2.0.2]\r\n\tat java.base/java.util.Optional.ifPresent(Optional.java:178) ~[na:na]\r\n\tat org.springdoc.webmvc.api.OpenApiResource.getPaths(OpenApiResource.java:165) ~[springdoc-openapi-starter-webmvc-api-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.api.AbstractOpenApiResource.getOpenApi(AbstractOpenApiResource.java:366) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.webmvc.api.OpenApiResource.openapiJson(OpenApiResource.java:140) ~[springdoc-openapi-starter-webmvc-api-2.0.2.jar:2.0.2]\r\n\tat org.springdoc.webmvc.api.OpenApiWebMvcResource.openapiJson(OpenApiWebMvcResource.java:117) ~[springdoc-openapi-starter-webmvc-api-2.0.2.jar:2.0.2]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.5.jar:6.0.5]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.5.jar:6.0.5]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-6.0.5.jar:6.0.5]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.5.jar:6.0.5]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.5.jar:6.0.5]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.5.jar:6.0.5]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.5.jar:6.0.5]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.5.jar:6.0.5]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.5.jar:6.0.5]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.5.jar:6.0.5]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:705) ~[tomcat-embed-core-10.1.5.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.5.jar:6.0.5]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814) ~[tomcat-embed-core-10.1.5.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.0.5.jar:6.0.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:66) ~[spring-webmvc-6.0.5.jar:6.0.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat com.kc6379.zarzadaniemagazynem.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:35) ~[classes/:na]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.5.jar:6.0.5]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.5.jar:6.0.5]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.5.jar:6.0.5]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.5.jar:6.0.5]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n```\r\n\r\nYour support is highly appreciated.\r\n\r\n\r\nI have tried several guides on the internet to get Swagger-UI work, but I keep getting errors.\r\n\r\n[1]: https://i.stack.imgur.com/UeUhq.png","title":"How to add Swagger Ui to spring 3 on java 19 maven project","body":"<p>I am trying to add Swagger-UI to my project, but I'm failing due to errors.\nI've read that on latest spring @EnableSwagger2 is required, well with or without not working.\nThis is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.kc6379&lt;/groupId&gt;\n    &lt;artifactId&gt;zarzadanie-magazynem&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;zarzadanie-magazynem&lt;/name&gt;\n    &lt;description&gt;zarzadanie-magazynem&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;1.5.3.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n            &lt;version&gt;1.5.3.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>So I used spring boot-starter-validation along with springdoc-openapi-starter-webmvc-ui, and the error I'm getting upon calling GET on http://localhost:8080/swagger-ui/index.html</p>\n<p>Error in the browser:</p>\n<p><a href=\"https://i.stack.imgur.com/UeUhq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UeUhq.png\" alt=\"Error in the browser\" /></a></p>\n<p>In console I'm getting this error block:</p>\n<pre><code>ERROR 1272 --- [nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.data.repository.query.Param.value()&quot; because the return value of &quot;java.lang.reflect.Parameter.getAnnotation(java.lang.Class)&quot; is null] with root cause\n\njava.lang.NullPointerException: Cannot invoke &quot;org.springframework.data.repository.query.Param.value()&quot; because the return value of &quot;java.lang.reflect.Parameter.getAnnotation(java.lang.Class)&quot; is null\n    at org.springdoc.core.data.DataRestOperationService.getParameterType(DataRestOperationService.java:242) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\n    at org.springdoc.core.data.DataRestOperationService.buildSearchOperation(DataRestOperationService.java:209) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\n    at org.springdoc.core.data.DataRestOperationService.buildOperation(DataRestOperationService.java:136) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\n    at org.springdoc.core.data.DataRestRouterOperationService.buildRouterOperation(DataRestRouterOperationService.java:289) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\n    at org.springdoc.core.data.DataRestRouterOperationService.buildRouterOperation(DataRestRouterOperationService.java:228) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\n    at org.springdoc.core.data.DataRestRouterOperationService.buildRouterOperationList(DataRestRouterOperationService.java:194) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\n    at org.springdoc.core.data.DataRestRouterOperationService.buildSearchRouterOperationList(DataRestRouterOperationService.java:149) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\n    at org.springdoc.core.providers.SpringRepositoryRestResourceProvider.lambda$findSearchControllers$13(SpringRepositoryRestResourceProvider.java:383) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\n    at java.base/java.util.HashMap$ValueSpliterator.forEachRemaining(HashMap.java:1787) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[na:na]\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]\n    at org.springdoc.core.providers.SpringRepositoryRestResourceProvider.findSearchControllers(SpringRepositoryRestResourceProvider.java:383) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\n    at org.springdoc.core.providers.SpringRepositoryRestResourceProvider.findSearchResourceMappings(SpringRepositoryRestResourceProvider.java:362) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\n    at org.springdoc.core.providers.SpringRepositoryRestResourceProvider.getRouterOperations(SpringRepositoryRestResourceProvider.java:276) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\n    at org.springdoc.webmvc.api.OpenApiResource.lambda$getPaths$1(OpenApiResource.java:170) ~[springdoc-openapi-starter-webmvc-api-2.0.2.jar:2.0.2]\n    at java.base/java.util.Optional.ifPresent(Optional.java:178) ~[na:na]\n    at org.springdoc.webmvc.api.OpenApiResource.lambda$getPaths$2(OpenApiResource.java:169) ~[springdoc-openapi-starter-webmvc-api-2.0.2.jar:2.0.2]\n    at java.base/java.util.Optional.ifPresent(Optional.java:178) ~[na:na]\n    at org.springdoc.webmvc.api.OpenApiResource.getPaths(OpenApiResource.java:165) ~[springdoc-openapi-starter-webmvc-api-2.0.2.jar:2.0.2]\n    at org.springdoc.api.AbstractOpenApiResource.getOpenApi(AbstractOpenApiResource.java:366) ~[springdoc-openapi-starter-common-2.0.2.jar:2.0.2]\n    at org.springdoc.webmvc.api.OpenApiResource.openapiJson(OpenApiResource.java:140) ~[springdoc-openapi-starter-webmvc-api-2.0.2.jar:2.0.2]\n    at org.springdoc.webmvc.api.OpenApiWebMvcResource.openapiJson(OpenApiWebMvcResource.java:117) ~[springdoc-openapi-starter-webmvc-api-2.0.2.jar:2.0.2]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.5.jar:6.0.5]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.5.jar:6.0.5]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-6.0.5.jar:6.0.5]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.5.jar:6.0.5]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.5.jar:6.0.5]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.5.jar:6.0.5]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.5.jar:6.0.5]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.5.jar:6.0.5]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.5.jar:6.0.5]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.5.jar:6.0.5]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:705) ~[tomcat-embed-core-10.1.5.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.5.jar:6.0.5]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814) ~[tomcat-embed-core-10.1.5.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.0.5.jar:6.0.5]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:66) ~[spring-webmvc-6.0.5.jar:6.0.5]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at com.kc6379.zarzadaniemagazynem.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:35) ~[classes/:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.5.jar:6.0.5]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.5.jar:6.0.5]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.5.jar:6.0.5]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.5.jar:6.0.5]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.2.jar:6.0.2]\n</code></pre>\n<p>Your support is highly appreciated.</p>\n<p>I have tried several guides on the internet to get Swagger-UI work, but I keep getting errors.</p>\n"},{"tags":["java","dictionary","collections","set","unique"],"comments":[{"owner":{"account_id":162974,"reputation":9167,"user_id":384803,"accept_rate":60,"display_name":"Dmitry B."},"score":0,"creation_date":1456450168,"post_id":35641702,"comment_id":58964807,"body_markdown":"keys cannot be duplicate by definition.  What you are talking about is called a compound key (made up of several values).  So this means you can use a regular map as long as you use a key that combines both values.","body":"keys cannot be duplicate by definition.  What you are talking about is called a compound key (made up of several values).  So this means you can use a regular map as long as you use a key that combines both values."}],"answers":[{"tags":[],"owner":{"account_id":2970237,"reputation":873,"user_id":2522439,"display_name":"sanky jain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1456450378,"creation_date":1456450378,"answer_id":35641785,"question_id":35641702,"body_markdown":"You cannot do it by Java collection.\r\n\r\nYou can use Multimap it supports duplicate keys but it also support duplicate keys and value pairs.\r\n\r\nBest solution for you is use Multimap and check if value already exist then dont add it.","title":"Which Java collection allows unique duplicate keys-value pairs?","body":"<p>You cannot do it by Java collection.</p>\n\n<p>You can use Multimap it supports duplicate keys but it also support duplicate keys and value pairs.</p>\n\n<p>Best solution for you is use Multimap and check if value already exist then dont add it.</p>\n"},{"tags":[],"owner":{"account_id":4816487,"reputation":4550,"user_id":3888450,"accept_rate":89,"display_name":"Stefan Dollase"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1456450388,"creation_date":1456450388,"answer_id":35641787,"question_id":35641702,"body_markdown":"To my knowledge, there is no such collection implementation in the default JRE. However, there seem to be implementations in [third party libraries](https://stackoverflow.com/questions/1062960/map-implementation-with-duplicate-keys).\r\n\r\nTo get something similar, you can use a `Map&lt;K, List&lt;V&gt;&gt;`, which is a map containing a list of values for each key.\r\n\r\nHowever, I do not think that you need this. To merge values for duplicate keys you can check whether the key already exists before you put a new key-value pair into the map.\r\n\r\n* if it already exists, replace the value by the merged old and new value\r\n* if it does not yet exist, just put the new key-value pair into the map.","title":"Which Java collection allows unique duplicate keys-value pairs?","body":"<p>To my knowledge, there is no such collection implementation in the default JRE. However, there seem to be implementations in <a href=\"https://stackoverflow.com/questions/1062960/map-implementation-with-duplicate-keys\">third party libraries</a>.</p>\n\n<p>To get something similar, you can use a <code>Map&lt;K, List&lt;V&gt;&gt;</code>, which is a map containing a list of values for each key.</p>\n\n<p>However, I do not think that you need this. To merge values for duplicate keys you can check whether the key already exists before you put a new key-value pair into the map.</p>\n\n<ul>\n<li>if it already exists, replace the value by the merged old and new value</li>\n<li>if it does not yet exist, just put the new key-value pair into the map.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7823933,"reputation":503,"user_id":5916150,"display_name":"Arif Burhan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1456450492,"creation_date":1456450492,"answer_id":35641803,"question_id":35641702,"body_markdown":"A dictionary contains words and definitions, so sheep=&quot;wooly mammal&quot; is a valid assignment.\r\nEach time you look up sheep you get wooly mammal.\r\n\r\nAn array is indexed by an integer, and can have duplicate values,\r\n\r\n        arr[2]=5 ; arr[7]=5;\r\n\r\nA hash can also store duplicate values, but the keys must be unique:\r\n\r\n        Adam{age}=21;\r\n        Bill{age}=21;\r\n \r\nSome languages use dots for properties:\r\n\r\n    Adam.age=21;\r\n","title":"Which Java collection allows unique duplicate keys-value pairs?","body":"<p>A dictionary contains words and definitions, so sheep=\"wooly mammal\" is a valid assignment.\nEach time you look up sheep you get wooly mammal.</p>\n\n<p>An array is indexed by an integer, and can have duplicate values,</p>\n\n<pre><code>    arr[2]=5 ; arr[7]=5;\n</code></pre>\n\n<p>A hash can also store duplicate values, but the keys must be unique:</p>\n\n<pre><code>    Adam{age}=21;\n    Bill{age}=21;\n</code></pre>\n\n<p>Some languages use dots for properties:</p>\n\n<pre><code>Adam.age=21;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1392123,"reputation":3171,"user_id":1322693,"display_name":"konkked"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1456451956,"creation_date":1456451956,"answer_id":35642042,"question_id":35641702,"body_markdown":"You can do this with a multimap, using a set as the collection for the values, it is fairly simple to make.\r\n\r\nHere is some of the basics of an implementation, not the whole thing but couldn&#39;t imagine you would need more than that or maybe a remove method\r\n\r\n**Edit** \r\n\r\nJust saw you wanted duplicate pairs to be thrown away, can do that using a set, instead of throwing an error just gave back the bool to show if it was there already or not (if it exists returns false)\r\n\r\n    public class MultiValueMap&lt;K,V&gt; \r\n    {\r\n    \tprivate final Map&lt;K,Set&lt;V&gt;&gt; mappings = new HashMap&lt;K,Set&lt;V&gt;&gt;();\r\n    \t\r\n    \tpublic Set&lt;V&gt; getValues(K key)\r\n    \t{\r\n    \t\treturn mappings.get(key);\r\n    \t}\r\n    \t\r\n    \tpublic Boolean putValue(K key, V value)\r\n    \t{\r\n    \t\tSet&lt;V&gt; target = mappings.get(key);\r\n    \t\t\r\n    \t\tif(target == null) \r\n    \t\t{\r\n    \t\t\ttarget = new HashSet&lt;V&gt;();\r\n    \t\t\tmappings.put(key,target);\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn target.add(value);\r\n    \t}\r\n    \t\r\n    }","title":"Which Java collection allows unique duplicate keys-value pairs?","body":"<p>You can do this with a multimap, using a set as the collection for the values, it is fairly simple to make.</p>\n\n<p>Here is some of the basics of an implementation, not the whole thing but couldn't imagine you would need more than that or maybe a remove method</p>\n\n<p><strong>Edit</strong> </p>\n\n<p>Just saw you wanted duplicate pairs to be thrown away, can do that using a set, instead of throwing an error just gave back the bool to show if it was there already or not (if it exists returns false)</p>\n\n<pre><code>public class MultiValueMap&lt;K,V&gt; \n{\n    private final Map&lt;K,Set&lt;V&gt;&gt; mappings = new HashMap&lt;K,Set&lt;V&gt;&gt;();\n\n    public Set&lt;V&gt; getValues(K key)\n    {\n        return mappings.get(key);\n    }\n\n    public Boolean putValue(K key, V value)\n    {\n        Set&lt;V&gt; target = mappings.get(key);\n\n        if(target == null) \n        {\n            target = new HashSet&lt;V&gt;();\n            mappings.put(key,target);\n        }\n\n        return target.add(value);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6252171,"reputation":575,"user_id":4861910,"accept_rate":17,"display_name":"rootExplorr"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1456453506,"creation_date":1456453506,"answer_id":35642275,"question_id":35641702,"body_markdown":"Your case basically needs a HashMap.\r\n\r\nJust put key as key and value as value in a HashMap.\r\n\r\nThis is because key will any ways be unique and in case there is collision in values HashMap maintains a linked list for storing all these colliding values.In case any value is same as any earlier value in the linked list it simply replaces the old one with the new one.\r\n\r\nFor ex.\r\n\r\nAs per your requirement :\r\n\r\nKey1 aaaa -- should be stored\r\nKey1 bbbb -- should be stored\r\nKey1 aaaa -- should not be stored as it is duplicate.\r\n\r\nSo basically hashmap will store &quot;aaaa&quot; and &quot;bbbb&quot;values  against &quot;key1&quot; as the key.\r\nLater when we try storing &quot;aaaa&quot; again against &quot;key1&quot; then older stored value &quot;aaaa&quot; will simply be replaced.\r\n\r\nHence, duplicacy of values is automatically handled by hashmap.\r\n\r\nHence , you can make use of HashMap in your case.\r\n","title":"Which Java collection allows unique duplicate keys-value pairs?","body":"<p>Your case basically needs a HashMap.</p>\n\n<p>Just put key as key and value as value in a HashMap.</p>\n\n<p>This is because key will any ways be unique and in case there is collision in values HashMap maintains a linked list for storing all these colliding values.In case any value is same as any earlier value in the linked list it simply replaces the old one with the new one.</p>\n\n<p>For ex.</p>\n\n<p>As per your requirement :</p>\n\n<p>Key1 aaaa -- should be stored\nKey1 bbbb -- should be stored\nKey1 aaaa -- should not be stored as it is duplicate.</p>\n\n<p>So basically hashmap will store \"aaaa\" and \"bbbb\"values  against \"key1\" as the key.\nLater when we try storing \"aaaa\" again against \"key1\" then older stored value \"aaaa\" will simply be replaced.</p>\n\n<p>Hence, duplicacy of values is automatically handled by hashmap.</p>\n\n<p>Hence , you can make use of HashMap in your case.</p>\n"},{"tags":[],"owner":{"account_id":7940224,"reputation":21,"user_id":5994572,"display_name":"Brian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500571255,"creation_date":1500571255,"answer_id":45221307,"question_id":35641702,"body_markdown":"Since Guava 2.0, there&#39;s a new map type, the SetMultimap, that you can use that I think fits your purposes exactly. It allows duplicate keys, but not duplicate key/value pairs. See the [Guava documentation][1].\r\n\r\n  [1]: https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/SetMultimap.html","title":"Which Java collection allows unique duplicate keys-value pairs?","body":"<p>Since Guava 2.0, there's a new map type, the SetMultimap, that you can use that I think fits your purposes exactly. It allows duplicate keys, but not duplicate key/value pairs. See the <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/SetMultimap.html\" rel=\"nofollow noreferrer\">Guava documentation</a>.</p>\n"}],"owner":{"account_id":2316416,"reputation":3490,"user_id":2033382,"accept_rate":78,"display_name":"amal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37026,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":35642042,"answer_count":6,"score":9,"last_activity_date":1678959728,"creation_date":1456449874,"question_id":35641702,"body_markdown":"I&#39;m trying to write a program to **remove duplicate key-value pairs** of a word list.  \r\n\r\nHowever, a **key duplicated with a different value should be allowed** to be added. \r\n\r\nWhich Java collection would solve this situation?\r\n\r\n - key1  aaaa\r\n - key2  bbbb\r\n - key3  cccc\r\n - key4  dddd\r\n - key2  bbbb - duplicate pair - not allowed \r\n - key1  hhhh - duplicate key - allowed \r\n - key5  gggg\r\n - key2  nnnn","title":"Which Java collection allows unique duplicate keys-value pairs?","body":"<p>I'm trying to write a program to <strong>remove duplicate key-value pairs</strong> of a word list.</p>\n<p>However, a <strong>key duplicated with a different value should be allowed</strong> to be added.</p>\n<p>Which Java collection would solve this situation?</p>\n<ul>\n<li>key1  aaaa</li>\n<li>key2  bbbb</li>\n<li>key3  cccc</li>\n<li>key4  dddd</li>\n<li>key2  bbbb - duplicate pair - not allowed</li>\n<li>key1  hhhh - duplicate key - allowed</li>\n<li>key5  gggg</li>\n<li>key2  nnnn</li>\n</ul>\n"},{"tags":["java","encoding"],"comments":[{"owner":{"account_id":25821481,"reputation":1,"user_id":19560483,"display_name":"Fahid"},"score":0,"creation_date":1678959893,"post_id":75754272,"comment_id":133635103,"body_markdown":"I have also tried `-Dfile.encoding=&quot;UTF-8&quot; -Dsun.jnu.encoding=&quot;UTF-8&quot;` as CLI argument, without any success.","body":"I have also tried <code>-Dfile.encoding=&quot;UTF-8&quot; -Dsun.jnu.encoding=&quot;UTF-8&quot;</code> as CLI argument, without any success."},{"owner":{"account_id":25821481,"reputation":1,"user_id":19560483,"display_name":"Fahid"},"score":0,"creation_date":1678960294,"post_id":75754272,"comment_id":133635238,"body_markdown":"But as far as I can understand, Ubuntu is already using UTF-8, for example\n\n\n`System.out.println(Charset.defaultCharset().displayName());`\n\ngives me **UTF-8**","body":"But as far as I can understand, Ubuntu is already using UTF-8, for example   <code>System.out.println(Charset.defaultCharset().displayName());</code>  gives me <b>UTF-8</b>"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1678960999,"post_id":75754272,"comment_id":133635427,"body_markdown":"I guess your GUI Application specifies a specific font, which is only available on Windows, but not on Linux.\nYou can try to install related fonts on Linux (copy from Windows)","body":"I guess your GUI Application specifies a specific font, which is only available on Windows, but not on Linux. You can try to install related fonts on Linux (copy from Windows)"},{"owner":{"account_id":25821481,"reputation":1,"user_id":19560483,"display_name":"Fahid"},"score":0,"creation_date":1678963663,"post_id":75754272,"comment_id":133636295,"body_markdown":"That&#39;s exactly what it was, thanks @life888888. Changing the Font solved the issue.\n\nMy application was was using Segoe UI Font, native to Windows.\nI actually had found the font on Internet for Ubuntu and installed it, but perhaps since it wasn&#39;t the original Font or whatever. It was causing the issue and since I had installed the Font, I would have never thought of it myself. Thanks a lot.\n\n![Bildschirmfoto-vom-2023-03-16-11-39-36.png](https://tinypic.host/images/2023/03/16/Bildschirmfoto-vom-2023-03-16-11-39-36.png)","body":"That&#39;s exactly what it was, thanks @life888888. Changing the Font solved the issue.  My application was was using Segoe UI Font, native to Windows. I actually had found the font on Internet for Ubuntu and installed it, but perhaps since it wasn&#39;t the original Font or whatever. It was causing the issue and since I had installed the Font, I would have never thought of it myself. Thanks a lot.  !<a href=\"https://tinypic.host/images/2023/03/16/Bildschirmfoto-vom-2023-03-16-11-39-36.png\" rel=\"nofollow noreferrer\">Bildschirmfoto-vom-2023-03-16-11-39-36.png</a>"}],"owner":{"account_id":25821481,"reputation":1,"user_id":19560483,"display_name":"Fahid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678959047,"creation_date":1678959047,"question_id":75754272,"body_markdown":"I have developed a java application under windows where I didn&#39;t faced any problems. But now I had to switch to Linux (Ubuntu 22.04 Desktop) and I see a problem. When the application starts under Windows (tested on 10 and 11) it works perfectly as it should. But when I start it on Ubuntu, symbols and German Characters are not rendered correctly. \r\n\r\nIn all cases, Operating-Systems are installed with German Language as default.\r\nApplication is being run with same JDK (OpenJDK 11) in all cases.\r\n\r\nWhat I can guess is, it is some sort of encoding-issue, but I have tried what I could find on internet but so far without success.\r\n\r\n[Shots of application parts on Windows and Linux](https://i.stack.imgur.com/AoPK9.png)\r\n\r\nI am expecting the app render correctly on both Windows and Linux, and especially find out what is wrong and how to avoid it in future.","title":"Java application is not showing correctly in Linux Ubuntu 22.04, characterset issues","body":"<p>I have developed a java application under windows where I didn't faced any problems. But now I had to switch to Linux (Ubuntu 22.04 Desktop) and I see a problem. When the application starts under Windows (tested on 10 and 11) it works perfectly as it should. But when I start it on Ubuntu, symbols and German Characters are not rendered correctly.</p>\n<p>In all cases, Operating-Systems are installed with German Language as default.\nApplication is being run with same JDK (OpenJDK 11) in all cases.</p>\n<p>What I can guess is, it is some sort of encoding-issue, but I have tried what I could find on internet but so far without success.</p>\n<p><a href=\"https://i.stack.imgur.com/AoPK9.png\" rel=\"nofollow noreferrer\">Shots of application parts on Windows and Linux</a></p>\n<p>I am expecting the app render correctly on both Windows and Linux, and especially find out what is wrong and how to avoid it in future.</p>\n"},{"tags":["java","sql-server","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1677874824,"post_id":75628289,"comment_id":133430310,"body_markdown":"Are you building an entity or java object from this data? Entities and rows have IDs/PKs to avoid using DB row num which can change, so I don&#39;t know why you&#39;d be selecting it. Yes, you can build many native SQL functions into otherwise mostly JPQL query strings, but using a subquery result as the table to select from is JPA provider specific - so it depends on what you are using. If you are getting scalar results and just going to use it as such, and accessing DB specifics like row_num, using native SQL directly is the easiest option available.","body":"Are you building an entity or java object from this data? Entities and rows have IDs/PKs to avoid using DB row num which can change, so I don&#39;t know why you&#39;d be selecting it. Yes, you can build many native SQL functions into otherwise mostly JPQL query strings, but using a subquery result as the table to select from is JPA provider specific - so it depends on what you are using. If you are getting scalar results and just going to use it as such, and accessing DB specifics like row_num, using native SQL directly is the easiest option available."},{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1677929648,"post_id":75628289,"comment_id":133436711,"body_markdown":"@Chris yes, A, B and C are already entities. Row number is not a field entity. I&#39;m selecting it only because &quot;select ... where a_id = ... and row_number() over (...) = 1&quot; is not a valid query. Another idea is to use a view in db to keep the code cleaner.","body":"@Chris yes, A, B and C are already entities. Row number is not a field entity. I&#39;m selecting it only because &quot;select ... where a_id = ... and row_number() over (...) = 1&quot; is not a valid query. Another idea is to use a view in db to keep the code cleaner."},{"owner":{"account_id":9757929,"reputation":712,"user_id":7233978,"display_name":"The 5th column mouse"},"score":0,"creation_date":1678217509,"post_id":75628289,"comment_id":133489600,"body_markdown":"What about using the jooq? Create the navite query with jooq and pass the generated SQL to the entity manager.","body":"What about using the jooq? Create the navite query with jooq and pass the generated SQL to the entity manager."},{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1678351436,"post_id":75628289,"comment_id":133516386,"body_markdown":"@The5thcolumnmouse my desire is to use a simple query method, like the ones here https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation","body":"@The5thcolumnmouse my desire is to use a simple query method, like the ones here <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current/reference/html/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":19462384,"reputation":29,"user_id":14236421,"display_name":"Julia Manayra"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1678336113,"creation_date":1678336113,"answer_id":75680440,"question_id":75628289,"body_markdown":"You can do something like this options\r\n\r\n```\r\n@Entity\r\n@Immutable\r\n@Subselect(\r\n    &quot;SELECT &quot; +\r\n    &quot;    functions.*&quot;\r\n    &quot;FROM (&quot; +\r\n    &quot;    SELECT &quot; +\r\n    &quot;        C.*, &quot; +\r\n    &quot;        Row_number() OVER ( partition BY B.b_id ORDER BY C.c_id DESC ) as rn &quot; +\r\n    &quot;    FROM &quot; +\r\n    &quot;        C &quot; +\r\n    &quot;     JOIN &quot; +\r\n    &quot;         B &quot; +\r\n    &quot;    ON &quot; +\r\n    &quot;        B.b_id = C.b_id &quot; +\r\n    &quot;     JOIN &quot; +\r\n    &quot;         A &quot; +\r\n    &quot;    ON &quot; +\r\n    &quot;        A.a_id = B.a_id &quot; +\r\n    &quot;    WHERE &quot; +\r\n    &quot;        A.a_id = 1234 &quot; +\r\n    &quot;) AS functions &quot;\r\n)\r\npublic class YourData {\r\n\r\n    @Id\r\n    private Integer propertieOfC1;\r\n\r\n    private String propertieOfC2;\r\n\r\n    // and more other for C table...\r\n\r\n    private String propertieOfC3;\r\n\r\n    private int rn;\r\n\r\n    //getters and setters bellow\r\n//hashcode and equals\r\n\r\n}\r\n\r\n@Repository\r\npublic interface YourDataRepository extends JpaRepository&lt;YourData,Integer&gt;{\r\n\r\n    YourData findByRn(int rn);\r\n}\r\n```\r\n\r\nor you can creat a viwer on database like this \r\n\r\n\r\n```\r\nCREATE OR REPLACE VIEW your_functions_viwer AS\r\n    SELECT\r\n        functions.*\r\n    FROM (\r\n        SELECT\r\n             C.*,\r\n            Row_number() OVER ( partition BY B.b_id ORDER BY C.c_id DESC ) as rn\r\n        FROM\r\n            C\r\n        JOIN\r\n            B\r\n        ON\r\n             B.b_id = C.b_id\r\n        JOIN\r\n            A\r\n        ON\r\n              A.a_id = B.a_id\r\n        WHERE\r\n             A.a_id = 1234\r\n    ) AS functions;\r\n```\r\n\r\n\r\nAnd then you can use on Java like this\r\n\r\n```\r\n@Entity\r\n@Immutable\r\n@Table(name = &quot;your_functions_viwer&quot;)\r\npublic class YourData {\r\n\r\n    @Id\r\n    private Integer propertieOfC1;\r\n\r\n    private String propertieOfC2;\r\n\r\n    // and more other for C table...\r\n\r\n    private String propertieOfC3;\r\n\r\n    private int rn;\r\n\r\n    //getters and setters bellow\r\n//hashcode and equals\r\n\r\n\r\n}\r\n\r\n\r\n\r\n@Repository\r\npublic interface YourDataRepository extends JpaRepository&lt;YourData,Integer&gt;{\r\n\r\n    YourData findByRn(int rn);\r\n}\r\n```\r\n\r\n\r\nfor more you can see the [vladmihalcea][1]\r\n\r\n\r\n  [1]: https://vladmihalcea.com/map-jpa-entity-to-view-or-sql-query-with-hibernate/","title":"Getting first row in Spring Data JPA","body":"<p>You can do something like this options</p>\n<pre><code>@Entity\n@Immutable\n@Subselect(\n    &quot;SELECT &quot; +\n    &quot;    functions.*&quot;\n    &quot;FROM (&quot; +\n    &quot;    SELECT &quot; +\n    &quot;        C.*, &quot; +\n    &quot;        Row_number() OVER ( partition BY B.b_id ORDER BY C.c_id DESC ) as rn &quot; +\n    &quot;    FROM &quot; +\n    &quot;        C &quot; +\n    &quot;     JOIN &quot; +\n    &quot;         B &quot; +\n    &quot;    ON &quot; +\n    &quot;        B.b_id = C.b_id &quot; +\n    &quot;     JOIN &quot; +\n    &quot;         A &quot; +\n    &quot;    ON &quot; +\n    &quot;        A.a_id = B.a_id &quot; +\n    &quot;    WHERE &quot; +\n    &quot;        A.a_id = 1234 &quot; +\n    &quot;) AS functions &quot;\n)\npublic class YourData {\n\n    @Id\n    private Integer propertieOfC1;\n\n    private String propertieOfC2;\n\n    // and more other for C table...\n\n    private String propertieOfC3;\n\n    private int rn;\n\n    //getters and setters bellow\n//hashcode and equals\n\n}\n\n@Repository\npublic interface YourDataRepository extends JpaRepository&lt;YourData,Integer&gt;{\n\n    YourData findByRn(int rn);\n}\n</code></pre>\n<p>or you can creat a viwer on database like this</p>\n<pre><code>CREATE OR REPLACE VIEW your_functions_viwer AS\n    SELECT\n        functions.*\n    FROM (\n        SELECT\n             C.*,\n            Row_number() OVER ( partition BY B.b_id ORDER BY C.c_id DESC ) as rn\n        FROM\n            C\n        JOIN\n            B\n        ON\n             B.b_id = C.b_id\n        JOIN\n            A\n        ON\n              A.a_id = B.a_id\n        WHERE\n             A.a_id = 1234\n    ) AS functions;\n</code></pre>\n<p>And then you can use on Java like this</p>\n<pre><code>@Entity\n@Immutable\n@Table(name = &quot;your_functions_viwer&quot;)\npublic class YourData {\n\n    @Id\n    private Integer propertieOfC1;\n\n    private String propertieOfC2;\n\n    // and more other for C table...\n\n    private String propertieOfC3;\n\n    private int rn;\n\n    //getters and setters bellow\n//hashcode and equals\n\n\n}\n\n\n\n@Repository\npublic interface YourDataRepository extends JpaRepository&lt;YourData,Integer&gt;{\n\n    YourData findByRn(int rn);\n}\n</code></pre>\n<p>for more you can see the <a href=\"https://vladmihalcea.com/map-jpa-entity-to-view-or-sql-query-with-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea</a></p>\n"},{"tags":[],"owner":{"account_id":12205661,"reputation":332,"user_id":8908834,"display_name":"Mauricio Buffon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678676599,"creation_date":1678676599,"answer_id":75717745,"question_id":75628289,"body_markdown":"Alright, I guess I found a solution for your problem, but without using window functions.\r\n\r\nIf I understand your question correctly, you want to retrieve the bigest C for each group of distinct B ***(1)*** - joining with A was done for filtering purposes.\r\n\r\nThis is the JPQL I wrote:\r\n\r\n```sql\r\nSELECT c FROM C c WHERE c.c_id IN (\r\n  SELECT MAX(aux.c_id)\r\n  FROM A a JOIN a.classesB b JOIN b.classesC aux\r\n  WHERE a.other_field = 1234\r\n  GROUP BY b.b_id)\r\n```\r\n\r\nAnd this is the code I wrote to verify the solution:\r\n\r\n```java\r\n@Entity(name = &quot;A&quot;)\r\npublic class ClassA {\r\n\r\n    @Id\r\n    private long a_id;\r\n    private long other_field;\r\n    @OneToMany(mappedBy = &quot;classA&quot;)\r\n    private Set&lt;ClassB&gt; classesB;\r\n\r\n    /* getters and setters omitted */\r\n}\r\n\r\n@Entity(name = &quot;B&quot;)\r\npublic class ClassB {\r\n\r\n    @Id\r\n    private long b_id;\r\n    @ManyToOne @JoinColumn(name = &quot;a_id&quot;)\r\n    private ClassA classA;\r\n    @OneToMany(mappedBy = &quot;classB&quot;)\r\n    private Set&lt;ClassC&gt; classesC;\r\n\r\n    /* getters and setters omitted */\r\n}\r\n\r\n@Entity(name = &quot;C&quot;)\r\npublic class ClassC {\r\n\r\n    @Id\r\n    private long c_id;\r\n    @ManyToOne @JoinColumn(name = &quot;b_id&quot;)\r\n    private ClassB classB;\r\n\r\n    /* getters and setters omitted */\r\n}\r\n\r\n@Stateless\r\npublic class Service {\r\n\r\n    @PersistenceContext\r\n    EntityManager em;\r\n\r\n    public void execute() {\r\n        em.createQuery(&quot;&quot;&quot;\r\n            SELECT c FROM C c WHERE c.c_id IN (\r\n                SELECT MAX(aux.c_id)\r\n                FROM A a JOIN a.classesB b JOIN b.classesC aux\r\n                WHERE a.other_field = 1234\r\n                GROUP BY b.b_id\r\n            )\r\n            &quot;&quot;&quot;, ClassC.class)\r\n            .getResultStream()\r\n            .map(c -&gt; &quot;A: %05d B: %05d C: %05d&quot;.formatted(\r\n                    c.getClassB().getClassA().getA_id(),\r\n                    c.getClassB().getB_id(),\r\n                    c.getC_id()))\r\n            .forEach(System.out::println);\r\n    }\r\n}\r\n```\r\n\r\nThe `Service.execute()` method prints the result according to the understand described in **[1]**.\r\n\r\n**Now, about the window functions.**\r\n\r\nFirst of all, as per the [specification](https://jakarta.ee/specifications/persistence/3.1/jakarta-persistence-spec-3.1.html#a5196), you can&#39;t write subqueries into the `FROM` clause. So, even if window functions were accepted, it wouldn&#39;t be possible to use them in a subquery into the `FROM` clause - as you did in your example. \r\n\r\nHowever, for the sake of understanding, let&#39;s try to execute just the inner query - without the `WHERE` clause of the outer query - and its window function:\r\n\r\n```java\r\n/* dummy object created to retrieve the result in a typed way */\r\npublic record QueryRecord(long c_id, long rn) {\r\n}\r\n\r\n@Stateless\r\npublic class Service {\r\n\r\n    @PersistenceContext\r\n    EntityManager em;\r\n\r\n    public void execute() {\r\n        em.createQuery(&quot;&quot;&quot;\r\n            SELECT NEW package.QueryRecord(c.c_id, ROW_NUMBER() OVER(PARTITION BY b.b_id ORDER BY c.c_id DESC) AS rn)\r\n            FROM C c JOIN c.classB b JOIN b.classA a\r\n            WHERE a.other_field = 1234\r\n            &quot;&quot;&quot;, QueryRecord.class)\r\n            .getResultStream()\r\n            .forEach(System.out::println);\r\n    }\r\n}\r\n```\r\n\r\nBut, executing the previous code, gives the following exception:\r\n\r\n```\r\norg.hibernate.query.sqm.StrictJpaComplianceViolation: Encountered non-compliant non-standard function call [ROW_NUMBER], but strict JPA compliance was requested; use JPA&#39;s FUNCTION(functionName[,...]) syntax name instead\r\n```\r\n\r\nAt this point, I was finding myself in a dead end. I could either insert `&lt;property name=&quot;hibernate.jpa.compliance.query&quot; value=&quot;false&quot;/&gt;` into the `persistence.xml` or use native queries. Both works fine, but I don&#39;t know if they would qualify as canonical answer.\r\n","title":"Getting first row in Spring Data JPA","body":"<p>Alright, I guess I found a solution for your problem, but without using window functions.</p>\n<p>If I understand your question correctly, you want to retrieve the bigest C for each group of distinct B <em><strong>(1)</strong></em> - joining with A was done for filtering purposes.</p>\n<p>This is the JPQL I wrote:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT c FROM C c WHERE c.c_id IN (\n  SELECT MAX(aux.c_id)\n  FROM A a JOIN a.classesB b JOIN b.classesC aux\n  WHERE a.other_field = 1234\n  GROUP BY b.b_id)\n</code></pre>\n<p>And this is the code I wrote to verify the solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name = &quot;A&quot;)\npublic class ClassA {\n\n    @Id\n    private long a_id;\n    private long other_field;\n    @OneToMany(mappedBy = &quot;classA&quot;)\n    private Set&lt;ClassB&gt; classesB;\n\n    /* getters and setters omitted */\n}\n\n@Entity(name = &quot;B&quot;)\npublic class ClassB {\n\n    @Id\n    private long b_id;\n    @ManyToOne @JoinColumn(name = &quot;a_id&quot;)\n    private ClassA classA;\n    @OneToMany(mappedBy = &quot;classB&quot;)\n    private Set&lt;ClassC&gt; classesC;\n\n    /* getters and setters omitted */\n}\n\n@Entity(name = &quot;C&quot;)\npublic class ClassC {\n\n    @Id\n    private long c_id;\n    @ManyToOne @JoinColumn(name = &quot;b_id&quot;)\n    private ClassB classB;\n\n    /* getters and setters omitted */\n}\n\n@Stateless\npublic class Service {\n\n    @PersistenceContext\n    EntityManager em;\n\n    public void execute() {\n        em.createQuery(&quot;&quot;&quot;\n            SELECT c FROM C c WHERE c.c_id IN (\n                SELECT MAX(aux.c_id)\n                FROM A a JOIN a.classesB b JOIN b.classesC aux\n                WHERE a.other_field = 1234\n                GROUP BY b.b_id\n            )\n            &quot;&quot;&quot;, ClassC.class)\n            .getResultStream()\n            .map(c -&gt; &quot;A: %05d B: %05d C: %05d&quot;.formatted(\n                    c.getClassB().getClassA().getA_id(),\n                    c.getClassB().getB_id(),\n                    c.getC_id()))\n            .forEach(System.out::println);\n    }\n}\n</code></pre>\n<p>The <code>Service.execute()</code> method prints the result according to the understand described in <strong>[1]</strong>.</p>\n<p><strong>Now, about the window functions.</strong></p>\n<p>First of all, as per the <a href=\"https://jakarta.ee/specifications/persistence/3.1/jakarta-persistence-spec-3.1.html#a5196\" rel=\"nofollow noreferrer\">specification</a>, you can't write subqueries into the <code>FROM</code> clause. So, even if window functions were accepted, it wouldn't be possible to use them in a subquery into the <code>FROM</code> clause - as you did in your example.</p>\n<p>However, for the sake of understanding, let's try to execute just the inner query - without the <code>WHERE</code> clause of the outer query - and its window function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/* dummy object created to retrieve the result in a typed way */\npublic record QueryRecord(long c_id, long rn) {\n}\n\n@Stateless\npublic class Service {\n\n    @PersistenceContext\n    EntityManager em;\n\n    public void execute() {\n        em.createQuery(&quot;&quot;&quot;\n            SELECT NEW package.QueryRecord(c.c_id, ROW_NUMBER() OVER(PARTITION BY b.b_id ORDER BY c.c_id DESC) AS rn)\n            FROM C c JOIN c.classB b JOIN b.classA a\n            WHERE a.other_field = 1234\n            &quot;&quot;&quot;, QueryRecord.class)\n            .getResultStream()\n            .forEach(System.out::println);\n    }\n}\n</code></pre>\n<p>But, executing the previous code, gives the following exception:</p>\n<pre><code>org.hibernate.query.sqm.StrictJpaComplianceViolation: Encountered non-compliant non-standard function call [ROW_NUMBER], but strict JPA compliance was requested; use JPA's FUNCTION(functionName[,...]) syntax name instead\n</code></pre>\n<p>At this point, I was finding myself in a dead end. I could either insert <code>&lt;property name=&quot;hibernate.jpa.compliance.query&quot; value=&quot;false&quot;/&gt;</code> into the <code>persistence.xml</code> or use native queries. Both works fine, but I don't know if they would qualify as canonical answer.</p>\n"}],"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":794,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75717745,"answer_count":2,"score":1,"last_activity_date":1678958946,"creation_date":1677853520,"question_id":75628289,"body_markdown":"I&#39;m trying to implement a simple query that is logically equivalent to\r\n\r\n\tselect * from (\r\n    \tselect C.*, Row_number() OVER ( partition BY B.b_id ORDER BY C.c_id DESC ) as rn\r\n    \tfrom C\r\n    \tjoin B on B.b_id = C.b_id\r\n    \tjoin A on A.a_id = B.a_id\r\n    \twhere A.other_field = 1234\r\n    ) as subquery where rn = 1\r\n\r\nIn words: there are 1-N relations A -&gt; B and B -&gt; C; given an entity A, for each B get the last C. It should be possible to implement a native query, as in [this answer](https://stackoverflow.com/questions/67172472/is-it-possible-to-use-window-functions-in-jpa), but I was hoping for a better approach. Is this the only way, as [this old answer](https://stackoverflow.com/a/11206776/11478354) said?","title":"Getting first row in Spring Data JPA","body":"<p>I'm trying to implement a simple query that is logically equivalent to</p>\n<pre><code>select * from (\n    select C.*, Row_number() OVER ( partition BY B.b_id ORDER BY C.c_id DESC ) as rn\n    from C\n    join B on B.b_id = C.b_id\n    join A on A.a_id = B.a_id\n    where A.other_field = 1234\n) as subquery where rn = 1\n</code></pre>\n<p>In words: there are 1-N relations A -&gt; B and B -&gt; C; given an entity A, for each B get the last C. It should be possible to implement a native query, as in <a href=\"https://stackoverflow.com/questions/67172472/is-it-possible-to-use-window-functions-in-jpa\">this answer</a>, but I was hoping for a better approach. Is this the only way, as <a href=\"https://stackoverflow.com/a/11206776/11478354\">this old answer</a> said?</p>\n"},{"tags":["java","spring","code-generation","openapi","openapi-generator"],"comments":[{"owner":{"account_id":1315349,"reputation":1613,"user_id":1262371,"display_name":"Martin Hauner"},"score":0,"creation_date":1587399562,"post_id":61307411,"comment_id":108490875,"body_markdown":"As far as I know that is not possible without adding size/page to the api. Why do you want to hide it? Without it nobody knows it is paging...","body":"As far as I know that is not possible without adding size/page to the api. Why do you want to hide it? Without it nobody knows it is paging..."},{"owner":{"account_id":6559787,"reputation":447,"user_id":5071324,"accept_rate":67,"display_name":"Bloodlex"},"score":0,"creation_date":1587489302,"post_id":61307411,"comment_id":108529861,"body_markdown":"@MartinHauner We would like to have page,size,sort in our openAPI .yaml file, so our other teams know that the paging is there, but in our generated API as a backend, we would like to have only this Pageable param, since spring will handle that having page,size,sort param and transform it into Pageable object","body":"@MartinHauner We would like to have page,size,sort in our openAPI .yaml file, so our other teams know that the paging is there, but in our generated API as a backend, we would like to have only this Pageable param, since spring will handle that having page,size,sort param and transform it into Pageable object"}],"answers":[{"tags":[],"owner":{"account_id":1315349,"reputation":1613,"user_id":1262371,"display_name":"Martin Hauner"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1587570818,"creation_date":1587570818,"answer_id":61369476,"question_id":61307411,"body_markdown":"Unfortunately this is no final solution but it is half way. Maybe it is of help anyway.\r\n\r\nBy defining the pageable parameters (size, page etc.) as an object query parameter it is possible to tell the generator to use the Spring object instead of generating a `Pageable` class from the api. This is done by an import mapping.\r\n\r\nin gradle:\r\n\r\n    openApiGenerate {\r\n        ....\r\n        importMappings = [\r\n            &#39;Pageable&#39;: &#39;org.springframework.data.domain.Pageable&#39;\r\n        ]\r\n    }\r\n\r\nwhich tells the generator to use the Spring class instead of the one defined in the api:\r\n \r\n    openapi: 3.0.2\r\n    info:\r\n      title: Spring Page/Pageable API\r\n      version: 1.0.0\r\n\r\n    paths:\r\n      /page:\r\n        get:\r\n          parameters:\r\n            - in: query \r\n              name: pageable\r\n              required: false\r\n              schema:\r\n                $ref: &#39;#/components/schemas/Pageable&#39;\r\n          responses:\r\n            ...\r\n\r\n    components:\r\n      schemas:\r\n        Pageable: \r\n          description: minimal Pageable query parameters\r\n          type: object\r\n          properties:\r\n            page:\r\n              type: integer\r\n            size:\r\n              type: integer\r\n\r\nThe issue with the mapping is that the generator still adds a `@RequestParam()` annotation and that **breaks** it again. It only works if it is **NOT** annotated.\r\n\r\nIf you are a bit adventurous you could try [openapi-processor-spring](https://hauner.github.io/openapi-processor/spring/index.html) (i&#39;m the author). It it does handle the example above. But it may have other limitations you don&#39;t like.\r\n\r\n","title":"OpenAPI Generator Pageable with Spring","body":"<p>Unfortunately this is no final solution but it is half way. Maybe it is of help anyway.</p>\n\n<p>By defining the pageable parameters (size, page etc.) as an object query parameter it is possible to tell the generator to use the Spring object instead of generating a <code>Pageable</code> class from the api. This is done by an import mapping.</p>\n\n<p>in gradle:</p>\n\n<pre><code>openApiGenerate {\n    ....\n    importMappings = [\n        'Pageable': 'org.springframework.data.domain.Pageable'\n    ]\n}\n</code></pre>\n\n<p>which tells the generator to use the Spring class instead of the one defined in the api:</p>\n\n<pre><code>openapi: 3.0.2\ninfo:\n  title: Spring Page/Pageable API\n  version: 1.0.0\n\npaths:\n  /page:\n    get:\n      parameters:\n        - in: query \n          name: pageable\n          required: false\n          schema:\n            $ref: '#/components/schemas/Pageable'\n      responses:\n        ...\n\ncomponents:\n  schemas:\n    Pageable: \n      description: minimal Pageable query parameters\n      type: object\n      properties:\n        page:\n          type: integer\n        size:\n          type: integer\n</code></pre>\n\n<p>The issue with the mapping is that the generator still adds a <code>@RequestParam()</code> annotation and that <strong>breaks</strong> it again. It only works if it is <strong>NOT</strong> annotated.</p>\n\n<p>If you are a bit adventurous you could try <a href=\"https://hauner.github.io/openapi-processor/spring/index.html\" rel=\"noreferrer\">openapi-processor-spring</a> (i'm the author). It it does handle the example above. But it may have other limitations you don't like.</p>\n"},{"tags":[],"owner":{"account_id":28031049,"reputation":41,"user_id":21410215,"display_name":"nikloe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1678958867,"creation_date":1678958867,"answer_id":75754238,"question_id":61307411,"body_markdown":"I have another solution, using &#39;openapi-generator&#39; u can give a vendorextension flag in the spec file &#39;x-spring-paginated&#39;\r\n\r\n```openapi: 3.0.2\r\ninfo:\r\n  title: Spring Page/Pageable API\r\n  version: 1.0.0\r\n\r\npaths:\r\n  /page:\r\n    get:\r\n      x-spring-paginated: true\r\n      responses:\r\n        ...\r\n```\r\nYou might experience an issue with spring-doc where you either can add the missig dependency or change the documentation-provider under the configOptions to source.\r\n\r\nI.G. for the maven plugin\r\n```\r\n...\r\n&lt;configuration&gt;\r\n  ...\r\n  &lt;configOptions&gt;\r\n   &lt;documentationProvider&gt;source&lt;/documentationProvider&gt;\r\n   ...\r\n  &lt;/configOptions&gt;\r\n&lt;/configuration&gt;\r\n\r\n```\r\n","title":"OpenAPI Generator Pageable with Spring","body":"<p>I have another solution, using 'openapi-generator' u can give a vendorextension flag in the spec file 'x-spring-paginated'</p>\n<pre><code>info:\n  title: Spring Page/Pageable API\n  version: 1.0.0\n\npaths:\n  /page:\n    get:\n      x-spring-paginated: true\n      responses:\n        ...\n</code></pre>\n<p>You might experience an issue with spring-doc where you either can add the missig dependency or change the documentation-provider under the configOptions to source.</p>\n<p>I.G. for the maven plugin</p>\n<pre><code>...\n&lt;configuration&gt;\n  ...\n  &lt;configOptions&gt;\n   &lt;documentationProvider&gt;source&lt;/documentationProvider&gt;\n   ...\n  &lt;/configOptions&gt;\n&lt;/configuration&gt;\n\n</code></pre>\n"}],"owner":{"account_id":6559787,"reputation":447,"user_id":5071324,"accept_rate":67,"display_name":"Bloodlex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13748,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":61369476,"answer_count":2,"score":12,"last_activity_date":1678958867,"creation_date":1587312073,"question_id":61307411,"body_markdown":"I would like the OpenAPI Generator ([https://github.com/OpenAPITools/openapi-generator][1]) to be able to generate Pageable parameter in API according to the implementation in Spring Boot Data. I&#39;ve been trying to find a suitable, out of the box solution, but couldn&#39;t find one.\r\n\r\nIdeally, this Pageable parameter should be added only to GET methods in a following manner:\r\n\r\n    default ResponseEntity&lt;User&gt; getUser(@ApiParam(value = &quot;value&quot;,required=true) @PathVariable(&quot;id&quot;) Long id, **Pageable pageable**)\r\n\r\nSo after implementing this interface in my Controller I would need to override it and having this aforementioned Pageable parameter. I don&#39;t want to have separate parameters for size or page, only this Pageable here.\r\n\r\nThanks for any tips and help!\r\n\r\n\r\n  [1]: https://github.com/OpenAPITools/openapi-generator","title":"OpenAPI Generator Pageable with Spring","body":"<p>I would like the OpenAPI Generator (<a href=\"https://github.com/OpenAPITools/openapi-generator\" rel=\"noreferrer\">https://github.com/OpenAPITools/openapi-generator</a>) to be able to generate Pageable parameter in API according to the implementation in Spring Boot Data. I've been trying to find a suitable, out of the box solution, but couldn't find one.</p>\n\n<p>Ideally, this Pageable parameter should be added only to GET methods in a following manner:</p>\n\n<pre><code>default ResponseEntity&lt;User&gt; getUser(@ApiParam(value = \"value\",required=true) @PathVariable(\"id\") Long id, **Pageable pageable**)\n</code></pre>\n\n<p>So after implementing this interface in my Controller I would need to override it and having this aforementioned Pageable parameter. I don't want to have separate parameters for size or page, only this Pageable here.</p>\n\n<p>Thanks for any tips and help!</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1678974427,"post_id":75754136,"comment_id":133639576,"body_markdown":"That&#39;s a lot of code. Can you make a MCVE?","body":"That&#39;s a lot of code. Can you make a MCVE?"},{"owner":{"account_id":24932843,"reputation":31,"user_id":18799738,"display_name":"EkaSaffronGaruda"},"score":0,"creation_date":1678977642,"post_id":75754136,"comment_id":133640675,"body_markdown":"@Jorn I don&#39;t know what is a MCVE, sorry.","body":"@Jorn I don&#39;t know what is a MCVE, sorry."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1678980396,"post_id":75754136,"comment_id":133641630,"body_markdown":"Here you go: https://stackoverflow.com/help/minimal-reproducible-example","body":"Here you go: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}],"owner":{"account_id":24932843,"reputation":31,"user_id":18799738,"display_name":"EkaSaffronGaruda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678958320,"creation_date":1678958320,"question_id":75754136,"body_markdown":"I have a gradle project with 2 sub-projects &#39;restsanatan-server&#39; and &#39;restsanatan-webapp.&#39; When I clean and build the project, the task packageWebapp in restsanatan-server runs before assemble but however in the generated distributions, the WEB-INF.zip file doesn&#39;t appear. When I build again without cleaning, the zip is copied to the resources directory and built properly and I find the file in the distributions. What am I doing wrong?\r\n\r\nRoot build.gradle\r\n```gradle\r\nplugins {\r\n    id &#39;base&#39;\r\n}\r\n\r\nversion &quot;0.10.0&quot;\r\n\r\nproject(&#39;:restsanatan-server&#39;).setVersion(version)\r\nproject(&#39;:restsanatan-webapp&#39;).setVersion(&quot;0.1.0&quot;)\r\n\r\ntask distZip(type: Copy) {\r\n    dependsOn(&quot;:build&quot;)\r\n\r\n    from file(project(&quot;restsanatan-server&quot;).buildDir.getAbsolutePath() + &quot;/distributions&quot;)\r\n    include(&quot;restsanatan-server-${version}.zip&quot;)\r\n    include(&quot;restsanatan-server-shadow-${version}.zip&quot;)\r\n    rename(&quot;restsanatan-server-${version}.zip&quot;, &quot;RestSanatan-${version}.zip&quot;)\r\n    rename(&quot;restsanatan-server-shadow-${version}.zip&quot;, &quot;RestSanatan-fat-${version}.zip&quot;)\r\n    into buildDir\r\n}\r\n\r\ntask distJar(type: Copy) {\r\n    dependsOn(&quot;:build&quot;)\r\n\r\n    from file(project(&quot;restsanatan-server&quot;).buildDir.getAbsolutePath() + &quot;/libs&quot;)\r\n    include(&quot;restsanatan-server-${version}.jar&quot;)\r\n    include(&quot;restsanatan-server-${version}-all.jar&quot;)\r\n    rename(&quot;restsanatan-server-${version}.jar&quot;, &quot;RestSanatan-${version}.jar&quot;)\r\n    rename(&quot;restsanatan-server-${version}-all.jar&quot;, &quot;RestSanatan-fat-${version}.jar&quot;)\r\n    into buildDir\r\n}\r\n\r\nbuild {\r\n    dependsOn(&quot;:restsanatan-server:build&quot;)\r\n    dependsOn(&quot;:restsanatan-webapp:build&quot;)\r\n}\r\n\r\nbuild.finalizedBy(distZip)\r\nbuild.finalizedBy(distJar)\r\n\r\nclean {\r\n    dependsOn(&quot;:restsanatan-server:clean&quot;)\r\n    dependsOn(&quot;:restsanatan-webapp:clean&quot;)\r\n}\r\n```\r\nrestsanatan-server build.gradle\r\n```gradle\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n    id &#39;com.github.johnrengelman.shadow&#39; version &#39;7.1.2&#39;\r\n}\r\n\r\ngroup &#39;org.projectsanatan.restsanatan&#39;\r\n\r\nrepositories {\r\n    mavenLocal()\r\n    mavenCentral()\r\n}\r\n\r\next {\r\n    metaFile = &quot;restsanatan.meta&quot;\r\n    javaMainClass = &quot;org.projectsanatan.restsanatan.Main&quot;\r\n\r\n    homePage = &quot;https://github.com/ProjectSanatan/RestSanatan/README.md&quot;\r\n    repository = &quot;https://github.com/ProjectSanatan/RestSanatan.git&quot;\r\n\r\n    webapp = rootProject.project(&quot;:restsanatan-webapp&quot;)\r\n}\r\n\r\napplication {\r\n    mainClassName = javaMainClass\r\n}\r\n\r\ndependencies {\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n    \r\n    implementation &#39;org.eclipse.jetty:jetty-server:11.0.8&#39;\r\n    implementation &#39;org.eclipse.jetty:jetty-servlet:11.0.8&#39;\r\n    implementation &#39;org.eclipse.jetty:jetty-servlets:11.0.9&#39;\r\n    implementation &#39;org.eclipse.jetty:jetty-util:11.0.8&#39;\r\n//    implementation &#39;es.moki.ratelimitj:ratelimitj-core:0.7.0&#39;\r\n    implementation &#39;org.apache.logging.log4j:log4j-core:2.17.2&#39;\r\n    implementation &#39;org.yaml:snakeyaml:1.30&#39;\r\n    implementation &#39;com.google.guava:guava:31.0.1-jre&#39;\r\n    implementation &#39;org.json:json:20211205&#39;\r\n    implementation &#39;org.glassfish.jersey.core:jersey-server:3.0.4&#39;\r\n    implementation &#39;org.glassfish.jersey.containers:jersey-container-servlet:3.0.4&#39;\r\n    implementation &#39;org.glassfish.jersey.containers:jersey-container-jetty-http:3.0.4&#39;\r\n    implementation &#39;org.glassfish.jersey.core:jersey-common:3.0.4&#39;    \r\n    implementation &#39;org.glassfish.jersey.inject:jersey-hk2:3.0.4&#39;\r\n//    implementation &#39;org.glassfish.jersey.media:jersey-media-jaxb:3.1.0-M3&#39;\r\n    implementation &#39;commons-cli:commons-cli:1.5.0&#39;\r\n    implementation &#39;org.apache.commons:commons-text:1.10.0&#39;\r\n    implementation &#39;org.jline:jline:3.21.0&#39;\r\n    implementation &#39;org.jline:jline-console:3.21.0&#39;\r\n    implementation &#39;org.jline:jline-terminal:3.21.0&#39;\r\n    implementation &#39;org.jline:jline-reader:3.21.0&#39;\r\n    implementation &#39;mysql:mysql-connector-java:8.0.30&#39;\r\n    implementation &#39;com.bucket4j:bucket4j-core:8.1.1&#39;\r\n    implementation &#39;org.thymeleaf:thymeleaf:3.1.1.RELEASE&#39;\r\n    implementation &#39;org.reflections:reflections:0.10.2&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n\r\ntasks.register(&#39;writeMeta&#39;) {\r\n    Properties meta = new Properties()\r\n    meta.setProperty(&quot;version&quot;, version)\r\n    meta.setProperty(&quot;home_page&quot;, homePage)\r\n    meta.setProperty(&quot;repository&quot;, repository)\r\n\r\n    File f = new File(projectDir.getAbsolutePath(), metaFile)\r\n    if (!f.exists()) f.createNewFile()\r\n\r\n    OutputStream os = new FileOutputStream(f)\r\n    meta.store(os, &quot;restsanatan-server packaging metadata&quot;)\r\n    os.close()\r\n\r\n    copy {\r\n        from projectDir\r\n        include metaFile\r\n        into file(buildDir.getAbsolutePath() + &quot;/resources/main/org/projectsanatan/restsanatan&quot;)\r\n    }\r\n\r\n    f.delete()\r\n}\r\n\r\n// \r\ntask packageWebapp(type: Copy) {\r\n//    mustRunAfter(writeMeta)\r\n\r\n    from file(webapp.buildDir.getAbsolutePath() + &quot;/distributions/RestSanatan-WEBAPP-${webapp.version}.zip&quot;)\r\n    into file(buildDir.getAbsolutePath() + &quot;/resources/main/org/projectsanatan/restsanatan&quot;)\r\n    rename &quot;RestSanatan-WEBAPP-${webapp.version}.zip&quot;, &quot;WEB-INF.zip&quot;\r\n}\r\n\r\nassemble.dependsOn(writeMeta)\r\nassemble.dependsOn(packageWebapp)\r\n//jar.dependsOn(packageWebapp)\r\n//shadowJar.dependsOn(packageWebapp)\r\n\r\nrun {\r\n    dependsOn(assemble)\r\n}\r\n```\r\nrestsanatan-webapp build.gradle\r\n```gradle\r\nplugins {\r\n    id &#39;base&#39;\r\n}\r\n\r\ngroup &quot;org.projectsanatan.restsanatan&quot;\r\n\r\next {\r\n    metaFile = &quot;restsanatan-webapp.meta&quot;\r\n}\r\n\r\ntask writeMeta() {\r\n    Properties meta = new Properties()\r\n    meta.setProperty(&quot;version&quot;, version)\r\n\r\n    File f = new File(projectDir.getAbsolutePath(), metaFile)\r\n    if(!f.exists()) f.createNewFile()\r\n\r\n    OutputStream os = new FileOutputStream(f)\r\n    meta.store(os, &quot;restsanatan-webapp packaging metadata&quot;)\r\n    os.close()\r\n\r\n    copy {\r\n        from projectDir\r\n        include metaFile\r\n        into buildDir\r\n    }\r\n\r\n    f.delete()\r\n}\r\n\r\ntask dist(type: Zip) {\r\n    from &quot;build/generated&quot;\r\n    into &quot;RestSanatan-WEBAPP-${project.version}.zip&quot;\r\n}\r\n\r\nassemble {\r\n    mkdir(&quot;build/generated&quot;)\r\n    copy {\r\n        from &quot;src&quot;\r\n        into &quot;build/generated/public&quot;\r\n        include &quot;**&quot;\r\n    }\r\n    copy {\r\n        from &quot;views&quot;\r\n        into &quot;build/generated/views&quot;\r\n        include &quot;**&quot;\r\n    }\r\n}\r\n\r\n//build.dependsOn(clean)\r\nbuild.finalizedBy(dist)```","title":"Gradle task does not run properly","body":"<p>I have a gradle project with 2 sub-projects 'restsanatan-server' and 'restsanatan-webapp.' When I clean and build the project, the task packageWebapp in restsanatan-server runs before assemble but however in the generated distributions, the WEB-INF.zip file doesn't appear. When I build again without cleaning, the zip is copied to the resources directory and built properly and I find the file in the distributions. What am I doing wrong?</p>\n<p>Root build.gradle</p>\n<pre><code>plugins {\n    id 'base'\n}\n\nversion &quot;0.10.0&quot;\n\nproject(':restsanatan-server').setVersion(version)\nproject(':restsanatan-webapp').setVersion(&quot;0.1.0&quot;)\n\ntask distZip(type: Copy) {\n    dependsOn(&quot;:build&quot;)\n\n    from file(project(&quot;restsanatan-server&quot;).buildDir.getAbsolutePath() + &quot;/distributions&quot;)\n    include(&quot;restsanatan-server-${version}.zip&quot;)\n    include(&quot;restsanatan-server-shadow-${version}.zip&quot;)\n    rename(&quot;restsanatan-server-${version}.zip&quot;, &quot;RestSanatan-${version}.zip&quot;)\n    rename(&quot;restsanatan-server-shadow-${version}.zip&quot;, &quot;RestSanatan-fat-${version}.zip&quot;)\n    into buildDir\n}\n\ntask distJar(type: Copy) {\n    dependsOn(&quot;:build&quot;)\n\n    from file(project(&quot;restsanatan-server&quot;).buildDir.getAbsolutePath() + &quot;/libs&quot;)\n    include(&quot;restsanatan-server-${version}.jar&quot;)\n    include(&quot;restsanatan-server-${version}-all.jar&quot;)\n    rename(&quot;restsanatan-server-${version}.jar&quot;, &quot;RestSanatan-${version}.jar&quot;)\n    rename(&quot;restsanatan-server-${version}-all.jar&quot;, &quot;RestSanatan-fat-${version}.jar&quot;)\n    into buildDir\n}\n\nbuild {\n    dependsOn(&quot;:restsanatan-server:build&quot;)\n    dependsOn(&quot;:restsanatan-webapp:build&quot;)\n}\n\nbuild.finalizedBy(distZip)\nbuild.finalizedBy(distJar)\n\nclean {\n    dependsOn(&quot;:restsanatan-server:clean&quot;)\n    dependsOn(&quot;:restsanatan-webapp:clean&quot;)\n}\n</code></pre>\n<p>restsanatan-server build.gradle</p>\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n    id 'com.github.johnrengelman.shadow' version '7.1.2'\n}\n\ngroup 'org.projectsanatan.restsanatan'\n\nrepositories {\n    mavenLocal()\n    mavenCentral()\n}\n\next {\n    metaFile = &quot;restsanatan.meta&quot;\n    javaMainClass = &quot;org.projectsanatan.restsanatan.Main&quot;\n\n    homePage = &quot;https://github.com/ProjectSanatan/RestSanatan/README.md&quot;\n    repository = &quot;https://github.com/ProjectSanatan/RestSanatan.git&quot;\n\n    webapp = rootProject.project(&quot;:restsanatan-webapp&quot;)\n}\n\napplication {\n    mainClassName = javaMainClass\n}\n\ndependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n    \n    implementation 'org.eclipse.jetty:jetty-server:11.0.8'\n    implementation 'org.eclipse.jetty:jetty-servlet:11.0.8'\n    implementation 'org.eclipse.jetty:jetty-servlets:11.0.9'\n    implementation 'org.eclipse.jetty:jetty-util:11.0.8'\n//    implementation 'es.moki.ratelimitj:ratelimitj-core:0.7.0'\n    implementation 'org.apache.logging.log4j:log4j-core:2.17.2'\n    implementation 'org.yaml:snakeyaml:1.30'\n    implementation 'com.google.guava:guava:31.0.1-jre'\n    implementation 'org.json:json:20211205'\n    implementation 'org.glassfish.jersey.core:jersey-server:3.0.4'\n    implementation 'org.glassfish.jersey.containers:jersey-container-servlet:3.0.4'\n    implementation 'org.glassfish.jersey.containers:jersey-container-jetty-http:3.0.4'\n    implementation 'org.glassfish.jersey.core:jersey-common:3.0.4'    \n    implementation 'org.glassfish.jersey.inject:jersey-hk2:3.0.4'\n//    implementation 'org.glassfish.jersey.media:jersey-media-jaxb:3.1.0-M3'\n    implementation 'commons-cli:commons-cli:1.5.0'\n    implementation 'org.apache.commons:commons-text:1.10.0'\n    implementation 'org.jline:jline:3.21.0'\n    implementation 'org.jline:jline-console:3.21.0'\n    implementation 'org.jline:jline-terminal:3.21.0'\n    implementation 'org.jline:jline-reader:3.21.0'\n    implementation 'mysql:mysql-connector-java:8.0.30'\n    implementation 'com.bucket4j:bucket4j-core:8.1.1'\n    implementation 'org.thymeleaf:thymeleaf:3.1.1.RELEASE'\n    implementation 'org.reflections:reflections:0.10.2'\n}\n\ntest {\n    useJUnitPlatform()\n}\n\ntasks.register('writeMeta') {\n    Properties meta = new Properties()\n    meta.setProperty(&quot;version&quot;, version)\n    meta.setProperty(&quot;home_page&quot;, homePage)\n    meta.setProperty(&quot;repository&quot;, repository)\n\n    File f = new File(projectDir.getAbsolutePath(), metaFile)\n    if (!f.exists()) f.createNewFile()\n\n    OutputStream os = new FileOutputStream(f)\n    meta.store(os, &quot;restsanatan-server packaging metadata&quot;)\n    os.close()\n\n    copy {\n        from projectDir\n        include metaFile\n        into file(buildDir.getAbsolutePath() + &quot;/resources/main/org/projectsanatan/restsanatan&quot;)\n    }\n\n    f.delete()\n}\n\n// \ntask packageWebapp(type: Copy) {\n//    mustRunAfter(writeMeta)\n\n    from file(webapp.buildDir.getAbsolutePath() + &quot;/distributions/RestSanatan-WEBAPP-${webapp.version}.zip&quot;)\n    into file(buildDir.getAbsolutePath() + &quot;/resources/main/org/projectsanatan/restsanatan&quot;)\n    rename &quot;RestSanatan-WEBAPP-${webapp.version}.zip&quot;, &quot;WEB-INF.zip&quot;\n}\n\nassemble.dependsOn(writeMeta)\nassemble.dependsOn(packageWebapp)\n//jar.dependsOn(packageWebapp)\n//shadowJar.dependsOn(packageWebapp)\n\nrun {\n    dependsOn(assemble)\n}\n</code></pre>\n<p>restsanatan-webapp build.gradle</p>\n<pre><code>plugins {\n    id 'base'\n}\n\ngroup &quot;org.projectsanatan.restsanatan&quot;\n\next {\n    metaFile = &quot;restsanatan-webapp.meta&quot;\n}\n\ntask writeMeta() {\n    Properties meta = new Properties()\n    meta.setProperty(&quot;version&quot;, version)\n\n    File f = new File(projectDir.getAbsolutePath(), metaFile)\n    if(!f.exists()) f.createNewFile()\n\n    OutputStream os = new FileOutputStream(f)\n    meta.store(os, &quot;restsanatan-webapp packaging metadata&quot;)\n    os.close()\n\n    copy {\n        from projectDir\n        include metaFile\n        into buildDir\n    }\n\n    f.delete()\n}\n\ntask dist(type: Zip) {\n    from &quot;build/generated&quot;\n    into &quot;RestSanatan-WEBAPP-${project.version}.zip&quot;\n}\n\nassemble {\n    mkdir(&quot;build/generated&quot;)\n    copy {\n        from &quot;src&quot;\n        into &quot;build/generated/public&quot;\n        include &quot;**&quot;\n    }\n    copy {\n        from &quot;views&quot;\n        into &quot;build/generated/views&quot;\n        include &quot;**&quot;\n    }\n}\n\n//build.dependsOn(clean)\nbuild.finalizedBy(dist)```\n</code></pre>\n"},{"tags":["java","gradle","automated-tests","testng"],"comments":[{"owner":{"account_id":460481,"reputation":5813,"user_id":861594,"display_name":"user861594"},"score":0,"creation_date":1552414300,"post_id":55125096,"comment_id":96997844,"body_markdown":"which version of TestNG you are using?","body":"which version of TestNG you are using?"},{"owner":{"account_id":11434653,"reputation":95,"user_id":8382435,"display_name":"Konstantin"},"score":0,"creation_date":1552470926,"post_id":55125096,"comment_id":97018214,"body_markdown":"testng:7.0.0-beta3","body":"testng:7.0.0-beta3"},{"owner":{"account_id":9665595,"reputation":545,"user_id":7172191,"display_name":"Reed Chan"},"score":0,"creation_date":1607664206,"post_id":55125096,"comment_id":115348795,"body_markdown":"I have the same issue in TestNG: 7.3.0, Gradle: 6.7.1  Is anybody figured this out?","body":"I have the same issue in TestNG: 7.3.0, Gradle: 6.7.1  Is anybody figured this out?"}],"answers":[{"tags":[],"owner":{"account_id":10079574,"reputation":1734,"user_id":7450414,"display_name":"AndiCover"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678958138,"creation_date":1570443145,"answer_id":58267472,"question_id":55125096,"body_markdown":"I think this is a bug in TestNG. I created an [issue][1]. \r\nIt is fixed with 7.5 and later versions.\r\n\r\n----------\r\n\r\nYou can create a workaround to solve this problem.\r\nWith an `IMethodInterceptor` you can change the execution order of your methods.\r\n\r\n    public class ExecutionOrderInterceptor implements IMethodInterceptor {\r\n    \t@Override\r\n    \tpublic List&lt;IMethodInstance&gt; intercept(List&lt;IMethodInstance&gt; methods, ITestContext context) {\r\n    \t\tComparator&lt;IMethodInstance&gt; comparator = new Comparator&lt;IMethodInstance&gt;() {\r\n    \t\t\tprivate int getPriority(IMethodInstance mi) {\r\n    \t\t\t\tint result = 0;\r\n    \t\t\t\tMethod method = mi.getMethod().getConstructorOrMethod().getMethod();\r\n    \t\t\t\tTest a1 = method.getAnnotation(Test.class);\r\n    \t\t\t\tif (a1 != null) {\r\n    \t\t\t\t\tresult = a1.priority();\r\n    \t\t\t\t}\r\n    \t\t\t\treturn result;\r\n    \t\t\t}\r\n    \r\n    \t\t\tpublic int compare(IMethodInstance m1, IMethodInstance m2) {\r\n    \t\t\t\treturn getPriority(m1) - getPriority(m2);\r\n    \t\t\t}\r\n    \t\t};\r\n    \r\n    \t\tIMethodInstance[] array = methods.toArray(new IMethodInstance[methods.size()]);\r\n    \t\tArrays.sort(array, comparator);\r\n    \t\treturn Arrays.asList(array);\r\n    \t}\r\n    }\r\n\r\nTo use this interceptor you need to add an annotation to your test classes:\r\n\r\n    @Listeners({ TestReportListener.class })\r\n    public class MyTestClass {\r\n    ...\r\n\r\nYou can also create an abstract class which your test classes extend:\r\n\r\n    @Listeners({ TestReportListener.class })\r\n    public abstract class BaseTest {\r\n      //Add here common code\r\n    }\r\n\r\nAnd use it in your test class:\r\n\r\n    public class MyTestClass extends BaseTest {\r\n    ...\r\n\r\n**Note:** You can use such an interceptor also to implement a custom execution order.\r\n\r\n  [1]: https://github.com/cbeust/testng/issues/2170\r\n","title":"Gradle ignores priority in testng","body":"<p>I think this is a bug in TestNG. I created an <a href=\"https://github.com/cbeust/testng/issues/2170\" rel=\"nofollow noreferrer\">issue</a>.\nIt is fixed with 7.5 and later versions.</p>\n<hr />\n<p>You can create a workaround to solve this problem.\nWith an <code>IMethodInterceptor</code> you can change the execution order of your methods.</p>\n<pre><code>public class ExecutionOrderInterceptor implements IMethodInterceptor {\n    @Override\n    public List&lt;IMethodInstance&gt; intercept(List&lt;IMethodInstance&gt; methods, ITestContext context) {\n        Comparator&lt;IMethodInstance&gt; comparator = new Comparator&lt;IMethodInstance&gt;() {\n            private int getPriority(IMethodInstance mi) {\n                int result = 0;\n                Method method = mi.getMethod().getConstructorOrMethod().getMethod();\n                Test a1 = method.getAnnotation(Test.class);\n                if (a1 != null) {\n                    result = a1.priority();\n                }\n                return result;\n            }\n\n            public int compare(IMethodInstance m1, IMethodInstance m2) {\n                return getPriority(m1) - getPriority(m2);\n            }\n        };\n\n        IMethodInstance[] array = methods.toArray(new IMethodInstance[methods.size()]);\n        Arrays.sort(array, comparator);\n        return Arrays.asList(array);\n    }\n}\n</code></pre>\n<p>To use this interceptor you need to add an annotation to your test classes:</p>\n<pre><code>@Listeners({ TestReportListener.class })\npublic class MyTestClass {\n...\n</code></pre>\n<p>You can also create an abstract class which your test classes extend:</p>\n<pre><code>@Listeners({ TestReportListener.class })\npublic abstract class BaseTest {\n  //Add here common code\n}\n</code></pre>\n<p>And use it in your test class:</p>\n<pre><code>public class MyTestClass extends BaseTest {\n...\n</code></pre>\n<p><strong>Note:</strong> You can use such an interceptor also to implement a custom execution order.</p>\n"}],"owner":{"account_id":11434653,"reputation":95,"user_id":8382435,"display_name":"Konstantin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":745,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678958138,"creation_date":1552404229,"question_id":55125096,"body_markdown":"Can someone explain how does gradle works with **priority** parameter in @Test annotation in testng?\r\nFor example I have the next code:    \r\n    \r\n    public class TestGradle {\r\n\t    @Test (priority = 2)\r\n     \tpublic void testA() throws Exception {\r\n\t    \tSystem.out.println(&quot;Test A&quot;);\r\n     \t}\r\n    \t@Test (priority = 1)\r\n\t    public void testB() throws Exception {\r\n\t\t    System.out.println(&quot;Test B&quot;);\r\n     \t}\r\n    \t@Test (priority = 3)\r\n\t    public void testC() throws Exception {\r\n\t\t    System.out.println(&quot;Test C&quot;);\r\n    \t}\r\n    }\r\nSo if I will run it via `gradle test --tests TestGradle` I will get the next output:\r\n\r\n    Test A \r\n    Test B\r\n    Test C\r\n\r\nbut I thought, that it should be like this:\r\n\r\n    Test B\r\n    Test A\r\n    Test C","title":"Gradle ignores priority in testng","body":"<p>Can someone explain how does gradle works with <strong>priority</strong> parameter in @Test annotation in testng?\nFor example I have the next code:    </p>\n\n<pre><code>public class TestGradle {\n    @Test (priority = 2)\n    public void testA() throws Exception {\n        System.out.println(\"Test A\");\n    }\n    @Test (priority = 1)\n    public void testB() throws Exception {\n        System.out.println(\"Test B\");\n    }\n    @Test (priority = 3)\n    public void testC() throws Exception {\n        System.out.println(\"Test C\");\n    }\n}\n</code></pre>\n\n<p>So if I will run it via <code>gradle test --tests TestGradle</code> I will get the next output:</p>\n\n<pre><code>Test A \nTest B\nTest C\n</code></pre>\n\n<p>but I thought, that it should be like this:</p>\n\n<pre><code>Test B\nTest A\nTest C\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1678952341,"post_id":75751543,"comment_id":133633149,"body_markdown":"As it is unsuccesful there will be nothing, obviously, in the `SecurityContext` as that will only provide/contain valid authentications. Also you shouldn&#39;t be writing a response in the `unsuccesfulAuthentication` method as that will break other filters in the chain. What you should implement is an event listener (see https://docs.spring.io/spring-security/reference/servlet/authentication/events.html) to handle failures. That event for the failure will contain the needed information.","body":"As it is unsuccesful there will be nothing, obviously, in the <code>SecurityContext</code> as that will only provide/contain valid authentications. Also you shouldn&#39;t be writing a response in the <code>unsuccesfulAuthentication</code> method as that will break other filters in the chain. What you should implement is an event listener (see <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/events.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/authenticat&zwnj;&#8203;ion/&hellip;</a>) to handle failures. That event for the failure will contain the needed information."},{"owner":{"account_id":25905272,"reputation":113,"user_id":19630441,"display_name":"남혁준"},"score":0,"creation_date":1678960660,"post_id":75751543,"comment_id":133635336,"body_markdown":"@dur When I tried a similar method, I confirmed that it worked. I haven&#39;t implemented it 100%, but I think it&#39;s probably another way to solve it.","body":"@dur When I tried a similar method, I confirmed that it worked. I haven&#39;t implemented it 100%, but I think it&#39;s probably another way to solve it."}],"answers":[{"tags":[],"owner":{"account_id":25905272,"reputation":113,"user_id":19630441,"display_name":"남혁준"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678958131,"creation_date":1678958131,"answer_id":75754093,"question_id":75751543,"body_markdown":"@M. Deinum\r\n\r\nThanks to you, I was able to solve the problem. (I can&#39;t upvote because you commented)\r\n\r\nI&#39;m releasing the code that I solved with the solution you provided.\r\n\r\n\r\n\r\n// Add Code\r\n\r\n[SecurityConfig.java] (Where SecurityFilterChain etc. are implemented)\r\n\r\n        @Bean\r\n        public AuthenticationEventPublisher authenticationEventPublisher(ApplicationEventPublisher applicationEventPublisher) {\r\n            return new DefaultAuthenticationEventPublisher(applicationEventPublisher);\r\n        }\r\n\r\n// Make File\r\n\r\n[AuthenticationEvents.java]\r\n\r\n    @Slf4j\r\n    @Component\r\n    public class AuthenticationEvents {\r\n    \r\n        @EventListener\r\n        public void handleAuthenticationSuccessEvent(AuthenticationSuccessEvent event) {\r\n            Authentication authentication = event.getAuthentication();\r\n            log.info(&quot;Successful authentication result: {}&quot;, authentication.getPrincipal());\r\n        }\r\n    \r\n        @EventListener\r\n        public void handleAuthenticationFailureEvent(AbstractAuthenticationFailureEvent event) {\r\n            Authentication authentication = event.getAuthentication();\r\n    \r\n            String userEmail = (String) authentication.getPrincipal();\r\n            log.warn(&quot;Unsuccessful authentication result: {}&quot;, userEmail);\r\n        }\r\n    }\r\n\r\n","title":"Is it possible to get user information that failed to log in (authentication) in SpringSecurity unsuccessfulAuthentication Method?","body":"<p>@M. Deinum</p>\n<p>Thanks to you, I was able to solve the problem. (I can't upvote because you commented)</p>\n<p>I'm releasing the code that I solved with the solution you provided.</p>\n<p>// Add Code</p>\n<p>[SecurityConfig.java] (Where SecurityFilterChain etc. are implemented)</p>\n<pre><code>    @Bean\n    public AuthenticationEventPublisher authenticationEventPublisher(ApplicationEventPublisher applicationEventPublisher) {\n        return new DefaultAuthenticationEventPublisher(applicationEventPublisher);\n    }\n</code></pre>\n<p>// Make File</p>\n<p>[AuthenticationEvents.java]</p>\n<pre><code>@Slf4j\n@Component\npublic class AuthenticationEvents {\n\n    @EventListener\n    public void handleAuthenticationSuccessEvent(AuthenticationSuccessEvent event) {\n        Authentication authentication = event.getAuthentication();\n        log.info(&quot;Successful authentication result: {}&quot;, authentication.getPrincipal());\n    }\n\n    @EventListener\n    public void handleAuthenticationFailureEvent(AbstractAuthenticationFailureEvent event) {\n        Authentication authentication = event.getAuthentication();\n\n        String userEmail = (String) authentication.getPrincipal();\n        log.warn(&quot;Unsuccessful authentication result: {}&quot;, userEmail);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25905272,"reputation":113,"user_id":19630441,"display_name":"남혁준"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1678960673,"answer_count":1,"score":1,"last_activity_date":1678958131,"creation_date":1678931784,"question_id":75751543,"body_markdown":"    public class JwtAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\r\n    \r\n        @Autowired\r\n        private JwtProvider jwtProvider;\r\n    \r\n        @Autowired\r\n        private ObjectMapper objectMapper;\r\n    \r\n        @Autowired\r\n        private SecurityService securityService;\r\n    \r\n        @Override\r\n        public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\r\n            if (!request.getMethod().equals(HttpMethod.POST.name())) {\r\n                throw new AuthenticationServiceException(&quot;Authentication method not supported: &quot; + request.getMethod());\r\n            }\r\n            UsernamePasswordAuthenticationToken authenticationToken;\r\n    \r\n            try {\r\n                LoginDto loginInfo = objectMapper.readValue(request.getInputStream(), LoginDto.class);\r\n                authenticationToken = new UsernamePasswordAuthenticationToken(loginInfo.getUserEmail(), loginInfo.getPassword());\r\n            }\r\n            catch (IOException e) {\r\n                authenticationToken = new UsernamePasswordAuthenticationToken(null, null);\r\n            }\r\n            return this.getAuthenticationManager().authenticate(authenticationToken);\r\n        }\r\n    \r\n        @Override\r\n        protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain, Authentication authResult) {\r\n            SecurityUserDetails userDetails = (SecurityUserDetails) authResult.getPrincipal();\r\n            String jwtRefreshToken = jwtProvider.generateRefreshToken();\r\n            //jwtProvider.setRefreshToken(userDetails, jwtRefreshToken);\r\n    \r\n            response.addHeader(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; + jwtProvider.generateToken(userDetails));\r\n            //response.addHeader(HttpHeaders.SET_COOKIE, jwtProvider.generateRefreshTokenCookie(jwtRefreshToken).toString());\r\n            //response.addHeader(&quot;userEmail&quot;, userDetails.getUser().getUserEmail());\r\n    \r\n    \r\n            securityService.createSecurityLog(SecurityLogAction.login(userDetails));\r\n        }\r\n    \r\n        @Override\r\n        protected void unsuccessfulAuthentication(HttpServletRequest request, HttpServletResponse response, AuthenticationException failed) throws IOException {\r\n    \r\n            SecurityUserDetails userDetails = (SecurityUserDetails) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n            // -&gt; Just Null\r\n    \r\n            log.info(userDetails.getUsername());\r\n    \r\n            SecurityContextHolder.clearContext();\r\n    \r\n            Response loginFail = Response.builder()\r\n                    .code(SecurityErrorCode.LOGIN_FAIL.getErrorCode())\r\n                    .result(SecurityErrorCode.LOGIN_FAIL.getErrorMessage())\r\n                    .build();\r\n            response.setStatus(HttpStatus.UNAUTHORIZED.value());\r\n            response.setContentType(MediaType.APPLICATION_JSON_VALUE);\r\n            response.setCharacterEncoding(StandardCharsets.UTF_8.name());\r\n            response.getWriter().write(objectMapper.writeValueAsString(loginFail));\r\n            response.getWriter().flush();\r\n            response.getWriter().close();\r\n    \r\n        }\r\n    }\r\n\r\nHere is my code.\r\n\r\nAuthentication such as login success or failure works without problems.\r\n\r\nHere, I would like to add logic that logs or restricts logins based on user information when login fails.\r\n\r\nHowever, after authentication fails, the information of the user who attempted authentication is no longer accessible.\r\n\r\nIs there a way to access the information of the user who tried to log in in the unsuccessfulAuthentication method, which is called when authentication fails?","title":"Is it possible to get user information that failed to log in (authentication) in SpringSecurity unsuccessfulAuthentication Method?","body":"<pre><code>public class JwtAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\n\n    @Autowired\n    private JwtProvider jwtProvider;\n\n    @Autowired\n    private ObjectMapper objectMapper;\n\n    @Autowired\n    private SecurityService securityService;\n\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\n        if (!request.getMethod().equals(HttpMethod.POST.name())) {\n            throw new AuthenticationServiceException(&quot;Authentication method not supported: &quot; + request.getMethod());\n        }\n        UsernamePasswordAuthenticationToken authenticationToken;\n\n        try {\n            LoginDto loginInfo = objectMapper.readValue(request.getInputStream(), LoginDto.class);\n            authenticationToken = new UsernamePasswordAuthenticationToken(loginInfo.getUserEmail(), loginInfo.getPassword());\n        }\n        catch (IOException e) {\n            authenticationToken = new UsernamePasswordAuthenticationToken(null, null);\n        }\n        return this.getAuthenticationManager().authenticate(authenticationToken);\n    }\n\n    @Override\n    protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain, Authentication authResult) {\n        SecurityUserDetails userDetails = (SecurityUserDetails) authResult.getPrincipal();\n        String jwtRefreshToken = jwtProvider.generateRefreshToken();\n        //jwtProvider.setRefreshToken(userDetails, jwtRefreshToken);\n\n        response.addHeader(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; + jwtProvider.generateToken(userDetails));\n        //response.addHeader(HttpHeaders.SET_COOKIE, jwtProvider.generateRefreshTokenCookie(jwtRefreshToken).toString());\n        //response.addHeader(&quot;userEmail&quot;, userDetails.getUser().getUserEmail());\n\n\n        securityService.createSecurityLog(SecurityLogAction.login(userDetails));\n    }\n\n    @Override\n    protected void unsuccessfulAuthentication(HttpServletRequest request, HttpServletResponse response, AuthenticationException failed) throws IOException {\n\n        SecurityUserDetails userDetails = (SecurityUserDetails) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n        // -&gt; Just Null\n\n        log.info(userDetails.getUsername());\n\n        SecurityContextHolder.clearContext();\n\n        Response loginFail = Response.builder()\n                .code(SecurityErrorCode.LOGIN_FAIL.getErrorCode())\n                .result(SecurityErrorCode.LOGIN_FAIL.getErrorMessage())\n                .build();\n        response.setStatus(HttpStatus.UNAUTHORIZED.value());\n        response.setContentType(MediaType.APPLICATION_JSON_VALUE);\n        response.setCharacterEncoding(StandardCharsets.UTF_8.name());\n        response.getWriter().write(objectMapper.writeValueAsString(loginFail));\n        response.getWriter().flush();\n        response.getWriter().close();\n\n    }\n}\n</code></pre>\n<p>Here is my code.</p>\n<p>Authentication such as login success or failure works without problems.</p>\n<p>Here, I would like to add logic that logs or restricts logins based on user information when login fails.</p>\n<p>However, after authentication fails, the information of the user who attempted authentication is no longer accessible.</p>\n<p>Is there a way to access the information of the user who tried to log in in the unsuccessfulAuthentication method, which is called when authentication fails?</p>\n"},{"tags":["java","maven","intellij-idea","confluence"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678945964,"post_id":75752487,"comment_id":133632062,"body_markdown":"You should be able to just merge your source trees.","body":"You should be able to just merge your source trees."},{"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"score":0,"creation_date":1678946787,"post_id":75752487,"comment_id":133632175,"body_markdown":"Copy all `src` folders into the project root, and add all dependencies and some specific config from sub-modules&#39; pom.xml into the project root&#39;s pom.xml. It should not very difficult and back up firstly before converting may help if you have done something wrong later.","body":"Copy all <code>src</code> folders into the project root, and add all dependencies and some specific config from sub-modules&#39; pom.xml into the project root&#39;s pom.xml. It should not very difficult and back up firstly before converting may help if you have done something wrong later."}],"answers":[{"tags":[],"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678957847,"creation_date":1678957847,"answer_id":75754045,"question_id":75752487,"body_markdown":"It looks like you can merge them to a single module, sure.\r\n\r\nThe one who created this project got a little eager with the number of modules that are required. Are they necessary or not? That depends on a lot of things.\r\n\r\nTo merge them, copy the src/main/java and src/main/resources to the top level project, and go through the child pom.xml&#39;s to see if there are any properties, dependencies or plugin executions that also need to be moved up.\r\n\r\ndisable the &lt;modules&gt; tag from the root pom and rename it as you please - check it builds with mvn clean install.\r\n\r\nGood luck :)","title":"Is it possible to covert an existing multi-module project into a single module project in IntelliJ idea?","body":"<p>It looks like you can merge them to a single module, sure.</p>\n<p>The one who created this project got a little eager with the number of modules that are required. Are they necessary or not? That depends on a lot of things.</p>\n<p>To merge them, copy the src/main/java and src/main/resources to the top level project, and go through the child pom.xml's to see if there are any properties, dependencies or plugin executions that also need to be moved up.</p>\n<p>disable the  tag from the root pom and rename it as you please - check it builds with mvn clean install.</p>\n<p>Good luck :)</p>\n"}],"owner":{"account_id":28029370,"reputation":13,"user_id":21408803,"display_name":"shrey-codes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":463,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75754045,"answer_count":1,"score":0,"last_activity_date":1678957847,"creation_date":1678944929,"question_id":75752487,"body_markdown":"[Here&#39;s the modules my project consist of][1]I am working on a relationship plugin project for confluence and my project contains multi- modules and now i want to convert it into a single module project.\r\nAny help would be appreciated.\r\n\r\nI have not experimented anything just googling right now if i could find anything relevant.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/A8mEC.png","title":"Is it possible to covert an existing multi-module project into a single module project in IntelliJ idea?","body":"<p><a href=\"https://i.stack.imgur.com/A8mEC.png\" rel=\"nofollow noreferrer\">Here's the modules my project consist of</a>I am working on a relationship plugin project for confluence and my project contains multi- modules and now i want to convert it into a single module project.\nAny help would be appreciated.</p>\n<p>I have not experimented anything just googling right now if i could find anything relevant.</p>\n"},{"tags":["java","cron","scheduled-tasks"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678936077,"post_id":75751801,"comment_id":133630925,"body_markdown":"The `schedulePutQueue` method needs to be on a Spring component","body":"The <code>schedulePutQueue</code> method needs to be on a Spring component"},{"owner":{"account_id":9013374,"reputation":11,"user_id":6717131,"display_name":"WinLord"},"score":0,"creation_date":1678936780,"post_id":75751801,"comment_id":133631001,"body_markdown":"Can you explain in more detail? Other project i only config like that, and everything run ok. But this project doesn&#39;t.","body":"Can you explain in more detail? Other project i only config like that, and everything run ok. But this project doesn&#39;t."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678936863,"post_id":75751801,"comment_id":133631010,"body_markdown":"Your initial question didn&#39;t make it clear that you had the method on a component -- your edit does, so that&#39;s not the problem.","body":"Your initial question didn&#39;t make it clear that you had the method on a component -- your edit does, so that&#39;s not the problem."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678936936,"post_id":75751801,"comment_id":133631020,"body_markdown":"Have you done some debugging -- e.g. checking that `SchedulerConfiguration` is being created and using a simple trigger for the task instead of a cron expression?","body":"Have you done some debugging -- e.g. checking that <code>SchedulerConfiguration</code> is being created and using a simple trigger for the task instead of a cron expression?"},{"owner":{"account_id":2751226,"reputation":413,"user_id":2370582,"display_name":"Vinh Truong"},"score":0,"creation_date":1678937578,"post_id":75751801,"comment_id":133631093,"body_markdown":"I think you can check if your `SchedulerConfiguration` is initiated yet, e.g. using `@PostConstruct` and print something out.","body":"I think you can check if your <code>SchedulerConfiguration</code> is initiated yet, e.g. using <code>@PostConstruct</code> and print something out."},{"owner":{"account_id":9013374,"reputation":11,"user_id":6717131,"display_name":"WinLord"},"score":0,"creation_date":1678937623,"post_id":75751801,"comment_id":133631101,"body_markdown":"I run method from other class ok. But when merge with job schedule it doesn&#39;t run.\nI also try other way, used TimerTask, but it conflict with @RabbitListener which i using.","body":"I run method from other class ok. But when merge with job schedule it doesn&#39;t run. I also try other way, used TimerTask, but it conflict with @RabbitListener which i using."}],"answers":[{"tags":[],"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678957623,"creation_date":1678957623,"answer_id":75754009,"question_id":75751801,"body_markdown":"What&#39;s the package location of this class &quot;SchedulerConfiguration&quot;? It should be in sub-directory of package name of RabbitMqPublishSubscribeApp class. Could you please double check this?","title":"How to enable schedule in java spring boot","body":"<p>What's the package location of this class &quot;SchedulerConfiguration&quot;? It should be in sub-directory of package name of RabbitMqPublishSubscribeApp class. Could you please double check this?</p>\n"}],"owner":{"account_id":9013374,"reputation":11,"user_id":6717131,"display_name":"WinLord"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678957623,"creation_date":1678935964,"question_id":75751801,"body_markdown":"I have used to java Scheduled cron to set auto job in my project.\r\nI add config in main SpringBootApplication, and job class, but nothing happen, job doesn&#39;t run every time which i set (10 seconds).\r\nSo how can i fix it?\r\n\r\nThis is main start.\r\n\r\n    @SpringBootApplication\r\n    @EnableScheduling\r\n    public class RabbitMqPublishSubscribeApp implements CommandLineRunner {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(RabbitMqPublishSubscribeApp.class, args);\r\n    \t}\r\n    }\r\n\r\nAnd this is my job\r\n\t\r\n    @Component\r\n    public class SchedulerConfiguration {\r\n    \t@Autowired\r\n    \tprivate RabbitMqJobs jobs;\r\n    \r\n        @Scheduled(cron = &quot;*/10 * * * * *&quot;)  \r\n        \tpublic void schedulePutQueue() {\r\n        \t\ttry {\r\n        \t\t\tSystem.out.println(&quot;BEGIN JOB SIGN&quot;);\t\t\t\r\n            \t\tjobs.putDataToQueue();\r\n        \r\n        \t\t} catch(Exception e) {\t\t\t\r\n        \t\t\tReportLogger.logger.error(&quot;Exception main:&quot; +e.getStackTrace().toString(),e);\r\n        \t\t}catch (Error er) {\r\n             \t\tReportLogger.logger.error(&quot;Error main:&quot; +er.getStackTrace().toString(),er);\r\n        \t\t} \r\n        \t\t\r\n            }\r\n    }","title":"How to enable schedule in java spring boot","body":"<p>I have used to java Scheduled cron to set auto job in my project.\nI add config in main SpringBootApplication, and job class, but nothing happen, job doesn't run every time which i set (10 seconds).\nSo how can i fix it?</p>\n<p>This is main start.</p>\n<pre><code>@SpringBootApplication\n@EnableScheduling\npublic class RabbitMqPublishSubscribeApp implements CommandLineRunner {\n\n    public static void main(String[] args) {\n        SpringApplication.run(RabbitMqPublishSubscribeApp.class, args);\n    }\n}\n</code></pre>\n<p>And this is my job</p>\n<pre><code>@Component\npublic class SchedulerConfiguration {\n    @Autowired\n    private RabbitMqJobs jobs;\n\n    @Scheduled(cron = &quot;*/10 * * * * *&quot;)  \n        public void schedulePutQueue() {\n            try {\n                System.out.println(&quot;BEGIN JOB SIGN&quot;);           \n                jobs.putDataToQueue();\n    \n            } catch(Exception e) {          \n                ReportLogger.logger.error(&quot;Exception main:&quot; +e.getStackTrace().toString(),e);\n            }catch (Error er) {\n                ReportLogger.logger.error(&quot;Error main:&quot; +er.getStackTrace().toString(),er);\n            } \n            \n        }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","unit-testing","junit5"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1678957830,"post_id":75753990,"comment_id":133634525,"body_markdown":"There are coverage tools which you can run with your unit tests/CI and will tell you when newly added code is not 100% covered by your tests.","body":"There are coverage tools which you can run with your unit tests/CI and will tell you when newly added code is not 100% covered by your tests."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678958500,"post_id":75753990,"comment_id":133634707,"body_markdown":"But here you are testing whether your container has instantiated all the components you expect, which is not going to be verified by unit tests. I&#39;d suggest that you should add a functional test which relies on that component existing to pass.","body":"But here you are testing whether your container has instantiated all the components you expect, which is not going to be verified by unit tests. I&#39;d suggest that you should add a functional test which relies on that component existing to pass."},{"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"score":0,"creation_date":1678967445,"post_id":75753990,"comment_id":133637352,"body_markdown":"You could write test using `archunit` or smt similar enforcing that classes implementing interface have `@Component` annotation","body":"You could write test using <code>archunit</code> or smt similar enforcing that classes implementing interface have <code>@Component</code> annotation"}],"owner":{"account_id":7318231,"reputation":127,"user_id":5575051,"display_name":"Makruzz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678957506,"creation_date":1678957506,"question_id":75753990,"body_markdown":"I have a question related to testing of dependency injection in a spring boot application.\r\nI have an interface like\r\n\r\n```\r\nInterface I {void doSomething()}\r\n@Component\r\nclass I1 {void someSomething(){//som impl}}\r\n@Component\r\nclass I2 {void someSomething(){//som impl}}\r\n@Component\r\nclass I2 {void someSomething(){//som impl}}\r\n\r\n@Service\r\nclass SomeService {\r\n@Autowired\r\nprivate List&lt;I&gt; rules;\r\n\r\nvoid someMethod() {\r\nrules.forEach(//do something);\r\n  }\r\n}\r\n\r\n```\r\nI want to write a Unit test for service class and want to see what all implementations of `Interface I` that have run. Is there a way of knowing this ? The reason is once a developer forgot to annotate an implementation of `Interface I` as a spring component and the implementation never ran as it was not injected. So can we verify this somehow in tests that what all implementations have run. How can we write such test?","title":"How to test all implementations of an interface have executed?","body":"<p>I have a question related to testing of dependency injection in a spring boot application.\nI have an interface like</p>\n<pre><code>Interface I {void doSomething()}\n@Component\nclass I1 {void someSomething(){//som impl}}\n@Component\nclass I2 {void someSomething(){//som impl}}\n@Component\nclass I2 {void someSomething(){//som impl}}\n\n@Service\nclass SomeService {\n@Autowired\nprivate List&lt;I&gt; rules;\n\nvoid someMethod() {\nrules.forEach(//do something);\n  }\n}\n\n</code></pre>\n<p>I want to write a Unit test for service class and want to see what all implementations of <code>Interface I</code> that have run. Is there a way of knowing this ? The reason is once a developer forgot to annotate an implementation of <code>Interface I</code> as a spring component and the implementation never ran as it was not injected. So can we verify this somehow in tests that what all implementations have run. How can we write such test?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":2818342,"reputation":299838,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1548656088,"post_id":54396403,"comment_id":95603880,"body_markdown":"Can you share the (simplified) `pom.xml` of module `D`? does it depend on module `C`?","body":"Can you share the (simplified) <code>pom.xml</code> of module <code>D</code>? does it depend on module <code>C</code>?"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1548656110,"post_id":54396403,"comment_id":95603887,"body_markdown":"Seems `C` depends on `D`. But you&#39;re building `C` before `D`. You should probably change this order.","body":"Seems <code>C</code> depends on <code>D</code>. But you&#39;re building <code>C</code> before <code>D</code>. You should probably change this order."},{"owner":{"account_id":4579023,"reputation":1929,"user_id":6491192,"accept_rate":57,"display_name":"Adam Freymiller"},"score":0,"creation_date":1548657039,"post_id":54396403,"comment_id":95604176,"body_markdown":"@Mureinik the pom.xml for module D contains dependencies from the sibling modules which are in module B, nothing from module C. I tried changing the build order of A and B in the parent pom.xml and the compilation error is still present.","body":"@Mureinik the pom.xml for module D contains dependencies from the sibling modules which are in module B, nothing from module C. I tried changing the build order of A and B in the parent pom.xml and the compilation error is still present."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1548701624,"post_id":54396403,"comment_id":95627759,"body_markdown":"Never rely on build order. Define an explicit dependency as Mureinik already showed.","body":"Never rely on build order. Define an explicit dependency as Mureinik already showed."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299838,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1548657245,"creation_date":1548657245,"answer_id":54396638,"question_id":54396403,"body_markdown":"Don&#39;t rely on the build order. If a class in module `D` needs to use a class from module `C`, you should explicitly depend on it:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.xyz&lt;/groupId&gt;\r\n            &lt;artifactId&gt;A.C&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    ","title":"Maven compilation error when importing from a nested sibling module","body":"<p>Don't rely on the build order. If a class in module <code>D</code> needs to use a class from module <code>C</code>, you should explicitly depend on it:</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.xyz&lt;/groupId&gt;\n        &lt;artifactId&gt;A.C&lt;/artifactId&gt;\n        &lt;version&gt;${project.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":4579023,"reputation":1929,"user_id":6491192,"accept_rate":57,"display_name":"Adam Freymiller"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":603,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1678957472,"creation_date":1548655871,"question_id":54396403,"body_markdown":"I am working with a multi-module Maven project and trying to import a dependent class from a module nested in one child of a parent\r\nto a module nested in its sibling. Here is a simplified hierarchy of the project:\r\n\r\n    pom.xml (parent)\r\n     |--A\r\n        |--pom.xml\r\n        |--C\r\n           |--pom.xml\r\n           |--src\r\n     |--B\r\n        |--pom.xml\r\n        |--D\r\n           |--pom.xml\r\n           |--src\r\n\r\nHere&#39;s a class within the C module:\r\n\r\n**Dummy.java**\r\n\r\n    package com.xyz.A.C;\r\n\r\n    import com.xyz.B.D.DummyDependency;\r\n\r\n    public class Dummy {\r\n       public static int callDependency(int num) {\r\n           return dummyDependency.absoluteVal(num);\r\n       }\r\n    }\r\n\r\nHere&#39;s a class within the D module:\r\n\r\n**DummyDependency.java**\r\n\r\n    package com.xyz.B.D;\r\n\r\n    public class DummyDependency {\r\n        /**\r\n         * Return the absolute value of a number.\r\n         * @param num an integer\r\n         */\r\n         public static int absoluteVal(int num) {\r\n             if (num &gt; 0) {\r\n                return num;\r\n             } else {\r\n                return -num;\r\n             }\r\n         }\r\n     }\r\n\r\nWhen I run `mvn clean install` I get a compilation error that resembles the following:[![enter image description here][1]][1]\r\n\r\nHow do I get access to the module nested in the sibling of the child module without the compilation error?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1W1HK.gif","title":"Maven compilation error when importing from a nested sibling module","body":"<p>I am working with a multi-module Maven project and trying to import a dependent class from a module nested in one child of a parent\nto a module nested in its sibling. Here is a simplified hierarchy of the project:</p>\n<pre><code>pom.xml (parent)\n |--A\n    |--pom.xml\n    |--C\n       |--pom.xml\n       |--src\n |--B\n    |--pom.xml\n    |--D\n       |--pom.xml\n       |--src\n</code></pre>\n<p>Here's a class within the C module:</p>\n<p><strong>Dummy.java</strong></p>\n<pre><code>package com.xyz.A.C;\n\nimport com.xyz.B.D.DummyDependency;\n\npublic class Dummy {\n   public static int callDependency(int num) {\n       return dummyDependency.absoluteVal(num);\n   }\n}\n</code></pre>\n<p>Here's a class within the D module:</p>\n<p><strong>DummyDependency.java</strong></p>\n<pre><code>package com.xyz.B.D;\n\npublic class DummyDependency {\n    /**\n     * Return the absolute value of a number.\n     * @param num an integer\n     */\n     public static int absoluteVal(int num) {\n         if (num &gt; 0) {\n            return num;\n         } else {\n            return -num;\n         }\n     }\n }\n</code></pre>\n<p>When I run <code>mvn clean install</code> I get a compilation error that resembles the following:<a href=\"https://i.stack.imgur.com/1W1HK.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1W1HK.gif\" alt=\"enter image description here\" /></a></p>\n<p>How do I get access to the module nested in the sibling of the child module without the compilation error?</p>\n"},{"tags":["java","mocking","mockito"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1678956938,"post_id":75753722,"comment_id":133634279,"body_markdown":"You can use `any()` for one argument and other matchers (such as [`eq`](https://site.mockito.org/javadoc/current/org/mockito/ArgumentMatchers.html#eq(T))) for the other arguments.","body":"You can use <code>any()</code> for one argument and other matchers (such as <a href=\"https://site.mockito.org/javadoc/current/org/mockito/ArgumentMatchers.html#eq(T)\" rel=\"nofollow noreferrer\"><code>eq</code></a>) for the other arguments."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678957413,"creation_date":1678956975,"answer_id":75753891,"question_id":75753722,"body_markdown":"You can use any method from `ArgumentMatchers`:\r\n\r\n```\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.mockito.ArgumentMatchers;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.Mock;\r\nimport org.mockito.junit.jupiter.MockitoExtension;\r\n\r\nimport java.util.Date;\r\n\r\nimport static org.mockito.Mockito.verify;\r\n\r\nclass A {\r\n    private final B b;\r\n\r\n    A(B b) {\r\n        this.b = b;\r\n    }\r\n\r\n    void aMethod(int x) {\r\n        b.bMethod(x, new Date());\r\n    }\r\n}\r\n\r\nclass B {\r\n    void bMethod(int x, Date d) {}\r\n}\r\n\r\n@ExtendWith(MockitoExtension.class)\r\npublic class MyTest {\r\n    @InjectMocks\r\n    private A a;\r\n    @Mock\r\n    private B b;\r\n\r\n    @Test\r\n    public void aTest() {\r\n        a.aMethod(5);\r\n        verify(b).bMethod(ArgumentMatchers.eq(5), ArgumentMatchers.any(Date.class));\r\n    }\r\n}\r\n```\r\n\r\nAs an aside: Have a class which calls `new Date()` in the midst of other code is a smell. How will you test date dependant code with a range of dates?\r\n\r\nYou should create a simple `DateProvider`, which you can mock, i.e.:\r\n```\r\n@Component // assuming Spring DI\r\nclass DateProvider {\r\n    Date getDate() {\r\n        return new Date();\r\n    }\r\n}\r\n```\r\nYour tests mock this class and return whatever date you like.","title":"How to verify a method called when one of the method parameters are generated in the object under test in mockito?","body":"<p>You can use any method from <code>ArgumentMatchers</code>:</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.ArgumentMatchers;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.junit.jupiter.MockitoExtension;\n\nimport java.util.Date;\n\nimport static org.mockito.Mockito.verify;\n\nclass A {\n    private final B b;\n\n    A(B b) {\n        this.b = b;\n    }\n\n    void aMethod(int x) {\n        b.bMethod(x, new Date());\n    }\n}\n\nclass B {\n    void bMethod(int x, Date d) {}\n}\n\n@ExtendWith(MockitoExtension.class)\npublic class MyTest {\n    @InjectMocks\n    private A a;\n    @Mock\n    private B b;\n\n    @Test\n    public void aTest() {\n        a.aMethod(5);\n        verify(b).bMethod(ArgumentMatchers.eq(5), ArgumentMatchers.any(Date.class));\n    }\n}\n</code></pre>\n<p>As an aside: Have a class which calls <code>new Date()</code> in the midst of other code is a smell. How will you test date dependant code with a range of dates?</p>\n<p>You should create a simple <code>DateProvider</code>, which you can mock, i.e.:</p>\n<pre><code>@Component // assuming Spring DI\nclass DateProvider {\n    Date getDate() {\n        return new Date();\n    }\n}\n</code></pre>\n<p>Your tests mock this class and return whatever date you like.</p>\n"},{"tags":[],"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678957026,"creation_date":1678957026,"answer_id":75753903,"question_id":75753722,"body_markdown":"You can use `any()` for one argument and other matchers (such as [`eq`](https://site.mockito.org/javadoc/current/org/mockito/ArgumentMatchers.html#eq(T))) for the other arguments.\r\n\r\n    verify(updateLockedAccountStatusMock, times(1)).update(eq(1), eq(3), eq(true), any());","title":"How to verify a method called when one of the method parameters are generated in the object under test in mockito?","body":"<p>You can use <code>any()</code> for one argument and other matchers (such as <a href=\"https://site.mockito.org/javadoc/current/org/mockito/ArgumentMatchers.html#eq(T)\" rel=\"nofollow noreferrer\"><code>eq</code></a>) for the other arguments.</p>\n<pre><code>verify(updateLockedAccountStatusMock, times(1)).update(eq(1), eq(3), eq(true), any());\n</code></pre>\n"}],"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":701,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75753903,"answer_count":2,"score":0,"last_activity_date":1678957413,"creation_date":1678955777,"question_id":75753722,"body_markdown":"I&#39;m calling a method on a mock in a service I am testing. \r\n\r\nThe mock is a class for updating database data, I want to verify that the update method is called.  \r\nThe code looks like this:   \r\n\r\n    verify(updateLockedAccountStatusMock, times(1)).update(1, 3, true, new Date());\r\n\r\nI know this can&#39;t work, since the `Date` object that is passed into the mock in the class under test is generated in the class just before the method is called. I also know that I can&#39;t call `any()` here unless I call `any()` for every parameter. I&#39;d rather not do that as the same method is called elsewhere in the code.   \r\nIs there a way to handle cases like this? Or is it simply a matter of passing in `any()` for every parameter and verifying the amount of times it&#39;s called?    \r\nIn particular I want to see that the third parameter `true` is correct, but the date is the only one I don&#39;t really care about at the moment.","title":"How to verify a method called when one of the method parameters are generated in the object under test in mockito?","body":"<p>I'm calling a method on a mock in a service I am testing.</p>\n<p>The mock is a class for updating database data, I want to verify that the update method is called.<br />\nThe code looks like this:</p>\n<pre><code>verify(updateLockedAccountStatusMock, times(1)).update(1, 3, true, new Date());\n</code></pre>\n<p>I know this can't work, since the <code>Date</code> object that is passed into the mock in the class under test is generated in the class just before the method is called. I also know that I can't call <code>any()</code> here unless I call <code>any()</code> for every parameter. I'd rather not do that as the same method is called elsewhere in the code.<br />\nIs there a way to handle cases like this? Or is it simply a matter of passing in <code>any()</code> for every parameter and verifying the amount of times it's called?<br />\nIn particular I want to see that the third parameter <code>true</code> is correct, but the date is the only one I don't really care about at the moment.</p>\n"},{"tags":["java","unit-testing","junit","tdd"],"comments":[{"owner":{"account_id":26938,"reputation":4932,"user_id":70551,"accept_rate":68,"display_name":"Surya"},"score":321,"creation_date":1283201036,"post_id":34571,"comment_id":3783996,"body_markdown":"Best way to test a private method is not testing it directly","body":"Best way to test a private method is not testing it directly"},{"owner":{"account_id":101026,"reputation":39048,"user_id":271999,"accept_rate":92,"display_name":"Mouna Cheikhna"},"score":30,"creation_date":1286962441,"post_id":34571,"comment_id":20651624,"body_markdown":"Check the article *[Testing Private Methods with JUnit and SuiteRunner](http://www.artima.com/suiterunner/privateP.html)*.","body":"Check the article <i><a href=\"http://www.artima.com/suiterunner/privateP.html\" rel=\"nofollow noreferrer\">Testing Private Methods with JUnit and SuiteRunner</a></i>."},{"owner":{"account_id":5362341,"reputation":688,"user_id":4273204,"accept_rate":0,"display_name":"Akash Verma"},"score":2,"creation_date":1632599953,"post_id":34571,"comment_id":122538366,"body_markdown":"why should test a private function ? It will automatically be tested anyway (and must be tested) when you test the feature/method which is using it the private function.","body":"why should test a private function ? It will automatically be tested anyway (and must be tested) when you test the feature/method which is using it the private function."},{"owner":{"account_id":6473006,"reputation":27420,"user_id":6296561,"accept_rate":95,"display_name":"Zoe is on strike"},"score":7,"creation_date":1634676218,"post_id":34571,"comment_id":123088496,"body_markdown":"I&#39;ve rolled this question back to its original state, prior to generifying the question. In its current state, the answers are highly Java-oriented, and the question was largely focused on the &quot;how&quot;, meaning that the later versions erasing Java and generalizing for other languages, and at the end flipping the focus to C++ invalidates far too many of the answers. A generalized form asking &quot;how to&quot; in any arbitrary language and framework would also be considered far too broad, meaning the last few edits pushed this question towards being closed rather than being constructive.","body":"I&#39;ve rolled this question back to its original state, prior to generifying the question. In its current state, the answers are highly Java-oriented, and the question was largely focused on the &quot;how&quot;, meaning that the later versions erasing Java and generalizing for other languages, and at the end flipping the focus to C++ invalidates far too many of the answers. A generalized form asking &quot;how to&quot; in any arbitrary language and framework would also be considered far too broad, meaning the last few edits pushed this question towards being closed rather than being constructive."},{"owner":{"account_id":1533561,"reputation":20255,"user_id":1430156,"accept_rate":72,"display_name":"O. R. Mapper"},"score":6,"creation_date":1656584753,"post_id":34571,"comment_id":128611210,"body_markdown":"@AkashVerma: For the same reason you want to do unit tests instead of just a system test?","body":"@AkashVerma: For the same reason you want to do unit tests instead of just a system test?"},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1656642557,"post_id":34571,"comment_id":128627971,"body_markdown":"See also: https://stackoverflow.com/questions/250692/how-do-you-unit-test-private-methods. The underlying philosophical question is language-agnostic.","body":"See also: <a href=\"https://stackoverflow.com/questions/250692/how-do-you-unit-test-private-methods\" title=\"how do you unit test private methods\">stackoverflow.com/questions/250692/&hellip;</a>. The underlying philosophical question is language-agnostic."},{"owner":{"account_id":1104998,"reputation":872,"user_id":1096587,"display_name":"Liberty Lover"},"score":0,"creation_date":1660411340,"post_id":34571,"comment_id":129529141,"body_markdown":"See: https://github.com/ljr1981/stack_overflow_answers/blob/main/src/so_34571/so_34571.e\nand\nhttps://github.com/ljr1981/stack_overflow_answers/blob/main/testing/so_34571/so_34571_test_set.e","body":"See: <a href=\"https://github.com/ljr1981/stack_overflow_answers/blob/main/src/so_34571/so_34571.e\" rel=\"nofollow noreferrer\">github.com/ljr1981/stack_overflow_answers/blob/main/src/&hellip;</a> and <a href=\"https://github.com/ljr1981/stack_overflow_answers/blob/main/testing/so_34571/so_34571_test_set.e\" rel=\"nofollow noreferrer\">github.com/ljr1981/stack_overflow_answers/blob/main/testing/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":1104998,"reputation":872,"user_id":1096587,"display_name":"Liberty Lover"},"score":0,"creation_date":1660411488,"post_id":34571,"comment_id":129529177,"body_markdown":"In the previous comment, I show you how easy this is in Eiffel. In this case, I have created a class called SO_34571 with a method feature called `my_private_method&#39;. Notice that the &quot;feature&quot; group keyword is followed by a {TEST_SET_BRIDGE}. This means that any class that inherits from TEST_SET_BRIDGE (including descendants) has permission to access any feature of the feature-group. Clean. Simple. Elegant. Scalable. Controllable. Nice!","body":"In the previous comment, I show you how easy this is in Eiffel. In this case, I have created a class called SO_34571 with a method feature called `my_private_method&#39;. Notice that the &quot;feature&quot; group keyword is followed by a {TEST_SET_BRIDGE}. This means that any class that inherits from TEST_SET_BRIDGE (including descendants) has permission to access any feature of the feature-group. Clean. Simple. Elegant. Scalable. Controllable. Nice!"}],"answers":[{"tags":[],"owner":{"account_id":2050,"reputation":7521,"user_id":2822,"accept_rate":95,"display_name":"Sir Rippov the Maple"},"down_vote_count":133,"up_vote_count":957,"is_accepted":false,"score":824,"last_activity_date":1220026459,"creation_date":1220026459,"answer_id":34586,"question_id":34571,"body_markdown":"The best way to test a private method is via another public method. If this cannot be done, then one of the following conditions is true:\r\n\r\n 1. The private method is dead code\r\n 2. There is a design smell near the class that you are testing\r\n 3. The method that you are trying to test should not be private","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>The best way to test a private method is via another public method. If this cannot be done, then one of the following conditions is true:</p>\n\n<ol>\n<li>The private method is dead code</li>\n<li>There is a design smell near the class that you are testing</li>\n<li>The method that you are trying to test should not be private</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2383,"reputation":6541,"user_id":3305,"accept_rate":41,"display_name":"John Channing"},"down_vote_count":11,"up_vote_count":166,"is_accepted":false,"score":155,"last_activity_date":1356774740,"creation_date":1220026494,"answer_id":34590,"question_id":34571,"body_markdown":"Generally a unit test is intended to exercise the public interface of a class or unit. Therefore, private methods are implementation detail that you would not expect to test explicitly.\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Generally a unit test is intended to exercise the public interface of a class or unit. Therefore, private methods are implementation detail that you would not expect to test explicitly.</p>\n"},{"tags":[],"owner":{"account_id":445,"reputation":114845,"user_id":572,"accept_rate":90,"display_name":"Thomas Owens"},"down_vote_count":3,"up_vote_count":71,"is_accepted":false,"score":68,"last_activity_date":1220026530,"creation_date":1220026530,"answer_id":34594,"question_id":34571,"body_markdown":"The private methods are called by a public method, so the inputs to your public methods should also test private methods that are called by those public methods. When a public method fails, then that could be a failure in the private method.","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>The private methods are called by a public method, so the inputs to your public methods should also test private methods that are called by those public methods. When a public method fails, then that could be a failure in the private method.</p>\n"},{"tags":[],"owner":{"account_id":1960,"reputation":7135,"user_id":2697,"accept_rate":76,"display_name":"Iker Jimenez"},"down_vote_count":4,"up_vote_count":246,"is_accepted":false,"score":242,"last_activity_date":1619298292,"creation_date":1220026580,"answer_id":34598,"question_id":34571,"body_markdown":"From this article: [Testing Private Methods with JUnit and SuiteRunner][1] (Bill Venners), you basically have 4 options:\r\n\r\n&gt; 1. Don&#39;t test private methods.\r\n&gt; 1. Give the methods package access.\r\n&gt; 1. Use a nested test class.\r\n&gt; 1. Use reflection. \r\n\r\n  [1]: http://www.artima.com/suiterunner/private.html","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>From this article: <a href=\"http://www.artima.com/suiterunner/private.html\" rel=\"noreferrer\">Testing Private Methods with JUnit and SuiteRunner</a> (Bill Venners), you basically have 4 options:</p>\n<blockquote>\n<ol>\n<li>Don't test private methods.</li>\n<li>Give the methods package access.</li>\n<li>Use a nested test class.</li>\n<li>Use reflection.</li>\n</ol>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1448,"reputation":29774,"user_id":1931,"accept_rate":57,"display_name":"bmurphy1976"},"down_vote_count":2,"up_vote_count":20,"is_accepted":false,"score":18,"last_activity_date":1220027025,"creation_date":1220027025,"answer_id":34630,"question_id":34571,"body_markdown":"I tend not to test private methods.  There lies madness.  Personally, I believe you should only test your publicly exposed interfaces (and that includes protected and internal methods).  ","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>I tend not to test private methods.  There lies madness.  Personally, I believe you should only test your publicly exposed interfaces (and that includes protected and internal methods).  </p>\n"},{"tags":[],"owner":{"account_id":1518,"reputation":52575,"user_id":2030,"accept_rate":91,"display_name":"Josh Brown"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1513254400,"creation_date":1220027403,"answer_id":34644,"question_id":34571,"body_markdown":"For Java I&#39;d use [reflection][1], since I don&#39;t like the idea of changing the access to a package on the declared method just for the sake of testing. However, I usually just test the public methods which should also ensure the private methods are working correctly.\r\n\r\n&gt; you can&#39;t use reflection to get private methods from outside the owner class, the private modifier affects reflection also\r\n\r\nThis is not true. You most certainly can, as mentioned in [Cem Catikkas&#39;s answer][2].\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/reflect/index.html\r\n  [2]: https://stackoverflow.com/questions/34571/whats-the-best-way-of-unit-testing-private-methods#34658\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>For Java I'd use <a href=\"http://docs.oracle.com/javase/tutorial/reflect/index.html\" rel=\"nofollow noreferrer\">reflection</a>, since I don't like the idea of changing the access to a package on the declared method just for the sake of testing. However, I usually just test the public methods which should also ensure the private methods are working correctly.</p>\n\n<blockquote>\n  <p>you can't use reflection to get private methods from outside the owner class, the private modifier affects reflection also</p>\n</blockquote>\n\n<p>This is not true. You most certainly can, as mentioned in <a href=\"https://stackoverflow.com/questions/34571/whats-the-best-way-of-unit-testing-private-methods#34658\">Cem Catikkas's answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":2239,"reputation":7171,"user_id":3087,"display_name":"Cem Catikkas"},"down_vote_count":48,"up_vote_count":1888,"is_accepted":true,"score":1840,"last_activity_date":1650737112,"creation_date":1220027711,"answer_id":34658,"question_id":34571,"body_markdown":"If you have somewhat of a legacy **Java** application, and you&#39;re not allowed to change the visibility of your methods, the best way to test private methods is to use [reflection][1]. \r\n\r\nInternally we&#39;re using helpers to get/set `private` and `private static` variables as well as invoke `private` and `private static` methods. The following patterns will let you do pretty much anything related to the private methods and fields. Of course, you can&#39;t change `private static final` variables through reflection.\r\n\r\n    Method method = TargetClass.getDeclaredMethod(methodName, argClasses);\r\n    method.setAccessible(true);\r\n    return method.invoke(targetObject, argObjects);\r\n\r\nAnd for fields:\r\n\r\n    Field field = TargetClass.getDeclaredField(fieldName);\r\n    field.setAccessible(true);\r\n    field.set(object, value);\r\n\r\n\r\n----------\r\n\r\n\r\n&gt; **Notes:**  \r\n&gt; 1. `TargetClass.getDeclaredMethod(methodName, argClasses)` lets you look into `private` methods. The same thing applies for\r\n&gt; `getDeclaredField`.  \r\n&gt; 2. The `setAccessible(true)` is required to play around with privates.\r\n\r\n \r\n\r\n  [1]: http://en.wikipedia.org/wiki/Reflection_%28computer_programming%29\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>If you have somewhat of a legacy <strong>Java</strong> application, and you're not allowed to change the visibility of your methods, the best way to test private methods is to use <a href=\"http://en.wikipedia.org/wiki/Reflection_%28computer_programming%29\" rel=\"noreferrer\">reflection</a>.</p>\n<p>Internally we're using helpers to get/set <code>private</code> and <code>private static</code> variables as well as invoke <code>private</code> and <code>private static</code> methods. The following patterns will let you do pretty much anything related to the private methods and fields. Of course, you can't change <code>private static final</code> variables through reflection.</p>\n<pre><code>Method method = TargetClass.getDeclaredMethod(methodName, argClasses);\nmethod.setAccessible(true);\nreturn method.invoke(targetObject, argObjects);\n</code></pre>\n<p>And for fields:</p>\n<pre><code>Field field = TargetClass.getDeclaredField(fieldName);\nfield.setAccessible(true);\nfield.set(object, value);\n</code></pre>\n<hr />\n<blockquote>\n<p><strong>Notes:</strong></p>\n<ol>\n<li><code>TargetClass.getDeclaredMethod(methodName, argClasses)</code> lets you look into <code>private</code> methods. The same thing applies for\n<code>getDeclaredField</code>.</li>\n<li>The <code>setAccessible(true)</code> is required to play around with privates.</li>\n</ol>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2908,"reputation":125963,"user_id":4120,"accept_rate":80,"display_name":"Grundlefleck"},"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1513254152,"creation_date":1220302727,"answer_id":38425,"question_id":34571,"body_markdown":"Having tried Cem Catikkas&#39; [solution using reflection][1] for Java, I&#39;d have to say his was a more elegant solution than I have described here. However, if you&#39;re looking for an alternative to using reflection, and have access to the source you&#39;re testing, this will still be an option.\r\n\r\nThere is possible merit in testing private methods of a class, particularly with [test-driven development][2], where you would like to design small tests before you write any code.\r\n\r\nCreating a test with access to private members and methods can test areas of code which are difficult to target specifically with access only to public methods. If a public method has several steps involved, it can consist of several private methods, which can then be tested individually.\r\n\r\nAdvantages:\r\n\r\n  - Can test to a finer granularity\r\n\r\nDisadvantages:\r\n\r\n  - Test code must reside in the same\r\n    file as source code, which can be\r\n    more difficult to maintain\r\n  - Similarly with .class output files, they must remain within the same package as declared in source code\r\n\r\nHowever, if continuous testing requires this method, it may be a signal that the private methods should be extracted, which could be tested in the traditional, public way.\r\n\r\nHere is a convoluted example of how this would work:\r\n\r\n    // Import statements and package declarations\r\n\r\n    public class ClassToTest\r\n    {\r\n        private int decrement(int toDecrement) {\r\n            toDecrement--;\r\n            return toDecrement;\r\n        }\r\n\r\n        // Constructor and the rest of the class\r\n\r\n        public static class StaticInnerTest extends TestCase\r\n        {\r\n            public StaticInnerTest(){\r\n                super();\r\n            }\r\n\r\n            public void testDecrement(){\r\n                int number = 10;\r\n                ClassToTest toTest= new ClassToTest();\r\n                int decremented = toTest.decrement(number);\r\n                assertEquals(9, decremented);\r\n            }\r\n\r\n            public static void main(String[] args) {\r\n                junit.textui.TestRunner.run(StaticInnerTest.class);\r\n            }\r\n        }\r\n    }\r\n\r\nThe inner class would be compiled to `ClassToTest$StaticInnerTest`.\r\n\r\nSee also: *[Java Tip 106: Static inner classes for fun and profit][3]*\r\n\r\n  [1]: https://stackoverflow.com/questions/34571/whats-the-best-way-of-unit-testing-private-methods#34658\r\n  [2]: http://en.wikipedia.org/wiki/Test-driven_development\r\n  [3]: http://www.javaworld.com/javaworld/javatips/jw-javatip106.html\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Having tried Cem Catikkas' <a href=\"https://stackoverflow.com/questions/34571/whats-the-best-way-of-unit-testing-private-methods#34658\">solution using reflection</a> for Java, I'd have to say his was a more elegant solution than I have described here. However, if you're looking for an alternative to using reflection, and have access to the source you're testing, this will still be an option.</p>\n\n<p>There is possible merit in testing private methods of a class, particularly with <a href=\"http://en.wikipedia.org/wiki/Test-driven_development\" rel=\"noreferrer\">test-driven development</a>, where you would like to design small tests before you write any code.</p>\n\n<p>Creating a test with access to private members and methods can test areas of code which are difficult to target specifically with access only to public methods. If a public method has several steps involved, it can consist of several private methods, which can then be tested individually.</p>\n\n<p>Advantages:</p>\n\n<ul>\n<li>Can test to a finer granularity</li>\n</ul>\n\n<p>Disadvantages:</p>\n\n<ul>\n<li>Test code must reside in the same\nfile as source code, which can be\nmore difficult to maintain</li>\n<li>Similarly with .class output files, they must remain within the same package as declared in source code</li>\n</ul>\n\n<p>However, if continuous testing requires this method, it may be a signal that the private methods should be extracted, which could be tested in the traditional, public way.</p>\n\n<p>Here is a convoluted example of how this would work:</p>\n\n<pre><code>// Import statements and package declarations\n\npublic class ClassToTest\n{\n    private int decrement(int toDecrement) {\n        toDecrement--;\n        return toDecrement;\n    }\n\n    // Constructor and the rest of the class\n\n    public static class StaticInnerTest extends TestCase\n    {\n        public StaticInnerTest(){\n            super();\n        }\n\n        public void testDecrement(){\n            int number = 10;\n            ClassToTest toTest= new ClassToTest();\n            int decremented = toTest.decrement(number);\n            assertEquals(9, decremented);\n        }\n\n        public static void main(String[] args) {\n            junit.textui.TestRunner.run(StaticInnerTest.class);\n        }\n    }\n}\n</code></pre>\n\n<p>The inner class would be compiled to <code>ClassToTest$StaticInnerTest</code>.</p>\n\n<p>See also: <em><a href=\"http://www.javaworld.com/javaworld/javatips/jw-javatip106.html\" rel=\"noreferrer\">Java Tip 106: Static inner classes for fun and profit</a></em></p>\n"},{"tags":[],"owner":{"account_id":3325,"reputation":54551,"user_id":4794,"accept_rate":94,"display_name":"Don Kirkby"},"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1484334508,"creation_date":1220632785,"answer_id":46255,"question_id":34571,"body_markdown":"If you&#39;re trying to test existing code that you&#39;re reluctant or unable to change, reflection is a good choice.\r\n\r\nIf the class&#39;s design is still flexible, and you&#39;ve got a complicated private method that you&#39;d like to test separately, I suggest you pull it out into a separate class and test that class separately. This doesn&#39;t have to change the public interface of the original class; it can internally create an instance of the helper class and call the helper method.\r\n\r\nIf you want to test difficult error conditions coming from the helper method, you can go a step further. Extract an interface from the helper class, add a public getter and setter to the original class to inject the helper class (used through its interface), and then inject a mock version of the helper class into the original class to test how the original class responds to exceptions from the helper. This approach is also helpful if you want to test the original class without also testing the helper class.\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>If you're trying to test existing code that you're reluctant or unable to change, reflection is a good choice.</p>\n\n<p>If the class's design is still flexible, and you've got a complicated private method that you'd like to test separately, I suggest you pull it out into a separate class and test that class separately. This doesn't have to change the public interface of the original class; it can internally create an instance of the helper class and call the helper method.</p>\n\n<p>If you want to test difficult error conditions coming from the helper method, you can go a step further. Extract an interface from the helper class, add a public getter and setter to the original class to inject the helper class (used through its interface), and then inject a mock version of the helper class into the original class to test how the original class responds to exceptions from the helper. This approach is also helpful if you want to test the original class without also testing the helper class.</p>\n"},{"tags":[],"owner":{"account_id":3643,"reputation":4356,"user_id":5266,"display_name":"Will Sargent"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1513254213,"creation_date":1220932256,"answer_id":51192,"question_id":34571,"body_markdown":"If you want to test private methods of a legacy application where you can&#39;t change the code, one option for Java is [jMockit][1], which will allow you to create mocks to an object even when they&#39;re private to the class.\r\n\r\n  [1]: http://code.google.com/p/jmockit/","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>If you want to test private methods of a legacy application where you can't change the code, one option for Java is <a href=\"http://code.google.com/p/jmockit/\" rel=\"noreferrer\">jMockit</a>, which will allow you to create mocks to an object even when they're private to the class.</p>\n"},{"tags":[],"owner":{"account_id":3669,"reputation":45485,"user_id":5314,"accept_rate":36,"display_name":"Jay Bazuzi"},"down_vote_count":15,"up_vote_count":403,"is_accepted":false,"score":388,"last_activity_date":1463650739,"creation_date":1220971385,"answer_id":52054,"question_id":34571,"body_markdown":"When I have private methods in a class that are sufficiently complicated that I feel the need to test the private methods directly, that is a code smell: my class is too complicated.  \r\n\r\nMy usual approach to addressing such issues is to tease out a new class that contains the interesting bits.  Often, this method and the fields it interacts with, and maybe another method or two can be extracted in to a new class.  \r\n\r\nThe new class exposes these methods as &#39;public&#39;, so they&#39;re accessible for unit testing.  The new and old classes are now both simpler than the original class, which is great for me (I need to keep things simple, or I get lost!).\r\n\r\nNote that I&#39;m not suggesting that people create classes without using their brain! The point here is to use the forces of unit testing to help you find good new classes.  ","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>When I have private methods in a class that are sufficiently complicated that I feel the need to test the private methods directly, that is a code smell: my class is too complicated.  </p>\n\n<p>My usual approach to addressing such issues is to tease out a new class that contains the interesting bits.  Often, this method and the fields it interacts with, and maybe another method or two can be extracted in to a new class.  </p>\n\n<p>The new class exposes these methods as 'public', so they're accessible for unit testing.  The new and old classes are now both simpler than the original class, which is great for me (I need to keep things simple, or I get lost!).</p>\n\n<p>Note that I'm not suggesting that people create classes without using their brain! The point here is to use the forces of unit testing to help you find good new classes.  </p>\n"},{"tags":[],"owner":{"account_id":123,"reputation":3336,"user_id":151,"accept_rate":92,"display_name":"Darren Greaves"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1669385286,"creation_date":1221032922,"answer_id":53571,"question_id":34571,"body_markdown":"As many above have suggested, a good way is to test them via your public interfaces.\r\n\r\nIf you do this, it&#39;s a good idea to use a [code coverage][1] tool (like [EMMA][2]) to see if your private methods are in fact being executed from your tests.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Code_coverage\r\n  [2]: https://en.wikipedia.org/wiki/Java_code_coverage_tools#EMMA\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>As many above have suggested, a good way is to test them via your public interfaces.</p>\n<p>If you do this, it's a good idea to use a <a href=\"https://en.wikipedia.org/wiki/Code_coverage\" rel=\"nofollow noreferrer\">code coverage</a> tool (like <a href=\"https://en.wikipedia.org/wiki/Java_code_coverage_tools#EMMA\" rel=\"nofollow noreferrer\">EMMA</a>) to see if your private methods are in fact being executed from your tests.</p>\n"},{"tags":[],"owner":{"account_id":3668,"reputation":796,"user_id":5313,"display_name":"Joe"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1513254267,"creation_date":1221171628,"answer_id":57795,"question_id":34571,"body_markdown":"If you&#39;re using JUnit, have a look at [junit-addons][1]. It has the ability to ignore the Java security model and access private methods and attributes.\r\n\r\n  [1]: http://junit-addons.sourceforge.net/\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>If you're using JUnit, have a look at <a href=\"http://junit-addons.sourceforge.net/\" rel=\"noreferrer\">junit-addons</a>. It has the ability to ignore the Java security model and access private methods and attributes.</p>\n"},{"tags":[],"owner":{"account_id":8016,"reputation":3464,"user_id":14153,"display_name":"Aaron"},"down_vote_count":3,"up_vote_count":14,"is_accepted":false,"score":11,"last_activity_date":1669385405,"creation_date":1221730190,"answer_id":91206,"question_id":34571,"body_markdown":"First, I&#39;ll throw this question out: Why do your private members need isolated testing? Are they that complex, providing such complicated behaviors as to require testing apart from the public surface? It&#39;s unit testing, not &#39;line-of-code&#39; testing. Don&#39;t sweat the small stuff.\r\n\r\nIf they are that big, big enough that these private members are each a &#39;unit&#39; large in complexity&amp;mdash;consider refactoring such private members out of this class.\r\n\r\nIf refactoring is inappropriate or infeasible, can you use the [strategy pattern][1] to replace access to these private member functions / member classes when under unit test? Under unit test, the strategy would provide added validation, but in release builds it would be simple passthrough.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Strategy_pattern\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>First, I'll throw this question out: Why do your private members need isolated testing? Are they that complex, providing such complicated behaviors as to require testing apart from the public surface? It's unit testing, not 'line-of-code' testing. Don't sweat the small stuff.</p>\n<p>If they are that big, big enough that these private members are each a 'unit' large in complexity—consider refactoring such private members out of this class.</p>\n<p>If refactoring is inappropriate or infeasible, can you use the <a href=\"https://en.wikipedia.org/wiki/Strategy_pattern\" rel=\"nofollow noreferrer\">strategy pattern</a> to replace access to these private member functions / member classes when under unit test? Under unit test, the strategy would provide added validation, but in release builds it would be simple passthrough.</p>\n"},{"tags":[],"owner":{"account_id":10360,"reputation":5738,"user_id":19520,"display_name":"ema"},"down_vote_count":3,"up_vote_count":25,"is_accepted":false,"score":22,"last_activity_date":1356775363,"creation_date":1223621042,"answer_id":190338,"question_id":34571,"body_markdown":"Testing private methods breaks the encapsulation of your class because every time you change the internal implementation you break client code (in this case, the tests).\r\n\r\nSo don&#39;t test private methods.\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Testing private methods breaks the encapsulation of your class because every time you change the internal implementation you break client code (in this case, the tests).</p>\n\n<p>So don't test private methods.</p>\n"},{"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1669385451,"creation_date":1234637583,"answer_id":549551,"question_id":34571,"body_markdown":"As others have said... don&#39;t test private methods directly. Here are a few thoughts:\r\n\r\n1. Keep all methods small and focused (easy to test, easy to find what is wrong)\r\n2. Use code coverage tools. I like [Cobertura][1] (oh happy day, it looks like a new version is out!)\r\n\r\nRun the code coverage on the unit tests. If you see that methods are not fully tested add to the tests to get the coverage up. Aim for 100% code coverage, but realize that you probably won&#39;t get it.\r\n\r\n  [1]: http://cobertura.sourceforge.net/index.html\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>As others have said... don't test private methods directly. Here are a few thoughts:</p>\n<ol>\n<li>Keep all methods small and focused (easy to test, easy to find what is wrong)</li>\n<li>Use code coverage tools. I like <a href=\"http://cobertura.sourceforge.net/index.html\" rel=\"nofollow noreferrer\">Cobertura</a> (oh happy day, it looks like a new version is out!)</li>\n</ol>\n<p>Run the code coverage on the unit tests. If you see that methods are not fully tested add to the tests to get the coverage up. Aim for 100% code coverage, but realize that you probably won't get it.</p>\n"},{"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1513254471,"creation_date":1234637685,"answer_id":549558,"question_id":34571,"body_markdown":"You can turn off Java access restrictions for reflection so that private means nothing.\r\n\r\nThe `setAccessible(true)` call does that.\r\n\r\nThe only restriction is that a ClassLoader may disallow you from doing that.\r\n\r\nSee *[Subverting Java Access Protection for Unit Testing][1]* (Ross Burton) for a way to do this in Java.\r\n\r\n  [1]: http://www.onjava.com/pub/a/onjava/2003/11/12/reflection.html\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>You can turn off Java access restrictions for reflection so that private means nothing.</p>\n\n<p>The <code>setAccessible(true)</code> call does that.</p>\n\n<p>The only restriction is that a ClassLoader may disallow you from doing that.</p>\n\n<p>See <em><a href=\"http://www.onjava.com/pub/a/onjava/2003/11/12/reflection.html\" rel=\"nofollow noreferrer\">Subverting Java Access Protection for Unit Testing</a></em> (Ross Burton) for a way to do this in Java.</p>\n"},{"tags":[],"owner":{"account_id":14453,"reputation":5523,"user_id":29746,"display_name":"Thomas Hansen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669385511,"creation_date":1234638661,"answer_id":549592,"question_id":34571,"body_markdown":"In C# you could have used `System.Reflection`, though in Java I don&#39;t know. If you &quot;feel you need to unit test private methods&quot;, my guess is that there is something else which is wrong...\r\n\r\nI would seriously consider looking at my architecture again with fresh eyes...\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>In C# you could have used <code>System.Reflection</code>, though in Java I don't know. If you &quot;feel you need to unit test private methods&quot;, my guess is that there is something else which is wrong...</p>\n<p>I would seriously consider looking at my architecture again with fresh eyes...</p>\n"},{"tags":[],"owner":{"account_id":43401,"reputation":579,"user_id":126875,"display_name":"Diego Amicabile"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1356775553,"creation_date":1245851383,"answer_id":1038507,"question_id":34571,"body_markdown":"What if your test classes are in the same package as the class that should be tested?\r\n\r\nBut in a different directory of course, `src` &amp; `classes` for your source code, `test/src` and `test/classes` for your test classes. And let `classes` and `test/classes` be in your classpath.\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>What if your test classes are in the same package as the class that should be tested?</p>\n\n<p>But in a different directory of course, <code>src</code> &amp; <code>classes</code> for your source code, <code>test/src</code> and <code>test/classes</code> for your test classes. And let <code>classes</code> and <code>test/classes</code> be in your classpath.</p>\n"},{"tags":[],"owner":{"account_id":43822,"reputation":3532,"user_id":128285,"accept_rate":64,"display_name":"Jon"},"down_vote_count":3,"up_vote_count":342,"is_accepted":false,"score":339,"last_activity_date":1669385641,"creation_date":1245924072,"answer_id":1043013,"question_id":34571,"body_markdown":"I have used [reflection][1] to do this for Java in the past, and in my opinion it was a big mistake.\r\n\r\nStrictly speaking, you should *not* be writing unit tests that directly test private methods. What you *should* be testing is the public contract that the class has with other objects; you should never directly test an object&#39;s internals. If another developer wants to make a small internal change to the class, which doesn&#39;t affect the classes public contract, he/she then has to modify your reflection based test to ensure that it works. If you do this repeatedly throughout a project, unit tests then stop being a useful measurement of code health, and start to become a hindrance to development, and an annoyance to the development team.\r\n\r\nWhat I recommend doing instead is using a code coverage tool, such as [Cobertura][2], to ensure that the unit tests you write provide decent coverage of the code in private methods. That way, you indirectly test what the private methods are doing, and maintain a higher level of agility.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Reflection_%28computer_programming%29\r\n  [2]: https://en.wikipedia.org/wiki/Java_code_coverage_tools#Cobertura\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>I have used <a href=\"http://en.wikipedia.org/wiki/Reflection_%28computer_programming%29\" rel=\"noreferrer\">reflection</a> to do this for Java in the past, and in my opinion it was a big mistake.</p>\n<p>Strictly speaking, you should <em>not</em> be writing unit tests that directly test private methods. What you <em>should</em> be testing is the public contract that the class has with other objects; you should never directly test an object's internals. If another developer wants to make a small internal change to the class, which doesn't affect the classes public contract, he/she then has to modify your reflection based test to ensure that it works. If you do this repeatedly throughout a project, unit tests then stop being a useful measurement of code health, and start to become a hindrance to development, and an annoyance to the development team.</p>\n<p>What I recommend doing instead is using a code coverage tool, such as <a href=\"https://en.wikipedia.org/wiki/Java_code_coverage_tools#Cobertura\" rel=\"noreferrer\">Cobertura</a>, to ensure that the unit tests you write provide decent coverage of the code in private methods. That way, you indirectly test what the private methods are doing, and maintain a higher level of agility.</p>\n"},{"tags":[],"owner":{"account_id":162140,"reputation":29525,"user_id":383414,"accept_rate":85,"display_name":"Richard Le Mesurier"},"down_vote_count":1,"up_vote_count":80,"is_accepted":false,"score":79,"last_activity_date":1669385775,"creation_date":1278310213,"answer_id":3177465,"question_id":34571,"body_markdown":"Just two examples of where I would want to test a private method:\r\n\r\n 1. **Decryption routines** - I would not\r\n    want to make them visible to anyone to see just for\r\n    the sake of testing, else anyone can\r\n    use them to decrypt. But they are\r\n    intrinsic to the code, complicated,\r\n    and need to always work (the obvious exception is reflection which can be used to view even private methods in most cases, when `SecurityManager` is not configured to prevent this).\r\n\r\n 2. **Creating an SDK** for community\r\n    consumption. Here public takes on a\r\n    wholly different meaning, since this\r\n    is code that the whole world may see\r\n    (not just internal to my application). I put\r\n    code into private methods if I don&#39;t\r\n    want the SDK users to see it - I\r\n    don&#39;t see this as code smell, merely\r\n    as how SDK programming works. But of\r\n    course I still need to test my\r\n    private methods, and they are where\r\n    the functionality of my SDK actually\r\n    lives.\r\n\r\nI understand the idea of only testing the &quot;contract&quot;. But I don&#39;t see one can advocate actually not testing code&amp;mdash;your mileage may vary.\r\n\r\nSo my trade-off involves complicating the JUnit tests with reflection, rather than compromising my security and SDK.\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Just two examples of where I would want to test a private method:</p>\n<ol>\n<li><p><strong>Decryption routines</strong> - I would not\nwant to make them visible to anyone to see just for\nthe sake of testing, else anyone can\nuse them to decrypt. But they are\nintrinsic to the code, complicated,\nand need to always work (the obvious exception is reflection which can be used to view even private methods in most cases, when <code>SecurityManager</code> is not configured to prevent this).</p>\n</li>\n<li><p><strong>Creating an SDK</strong> for community\nconsumption. Here public takes on a\nwholly different meaning, since this\nis code that the whole world may see\n(not just internal to my application). I put\ncode into private methods if I don't\nwant the SDK users to see it - I\ndon't see this as code smell, merely\nas how SDK programming works. But of\ncourse I still need to test my\nprivate methods, and they are where\nthe functionality of my SDK actually\nlives.</p>\n</li>\n</ol>\n<p>I understand the idea of only testing the &quot;contract&quot;. But I don't see one can advocate actually not testing code—your mileage may vary.</p>\n<p>So my trade-off involves complicating the JUnit tests with reflection, rather than compromising my security and SDK.</p>\n"},{"tags":[],"owner":{"account_id":156595,"reputation":261,"user_id":373975,"display_name":"phareim"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1669385819,"creation_date":1294828041,"answer_id":4667692,"question_id":34571,"body_markdown":"To test legacy code with large and quirky classes, it is often very helpful to be able to test the one private (or public) method I&#39;m writing _right now_.\r\n\r\nI use the **junitx.util.PrivateAccessor**-package for Java. It has lots of helpful one-liners for accessing private methods and private fields.\r\n\r\n    import junitx.util.PrivateAccessor;\r\n\r\n    PrivateAccessor.setField(myObjectReference, &quot;myCrucialButHardToReachPrivateField&quot;, myNewValue);\r\n    PrivateAccessor.invoke(myObjectReference, &quot;privateMethodName&quot;, java.lang.Class[] parameterTypes, java.lang.Object[] args);\r\n\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>To test legacy code with large and quirky classes, it is often very helpful to be able to test the one private (or public) method I'm writing <em>right now</em>.</p>\n<p>I use the <strong>junitx.util.PrivateAccessor</strong>-package for Java. It has lots of helpful one-liners for accessing private methods and private fields.</p>\n<pre><code>import junitx.util.PrivateAccessor;\n\nPrivateAccessor.setField(myObjectReference, &quot;myCrucialButHardToReachPrivateField&quot;, myNewValue);\nPrivateAccessor.invoke(myObjectReference, &quot;privateMethodName&quot;, java.lang.Class[] parameterTypes, java.lang.Object[] args);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":114124,"reputation":10809,"user_id":300248,"accept_rate":74,"display_name":"simpatico"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1669385868,"creation_date":1298403671,"answer_id":5083041,"question_id":34571,"body_markdown":"The answer from [JUnit.org FAQ page][1]:\r\n\r\n&gt; But if you must...\r\n&gt; \r\n&gt; If you are using JDK 1.3 or higher, you can use reflection to subvert\r\n&gt; the access control mechanism with the aid of the [PrivilegedAccessor][2].\r\n&gt; For details on how to use it, read [this article][3].\r\n&gt; \r\n&gt; If you are using JDK 1.6 or higher and you annotate your tests with\r\n&gt; @Test, you can use [Dp4j][4] to inject reflection in your test methods. For\r\n&gt; details on how to use it, see [this test script][5].\r\n\r\nP.S. I&#39;m the main contributor to [Dp4j][4]. Ask [me][6] if you need help. :)\r\n\r\n  [1]: http://junit.org/faq.html#atests_11\r\n  [2]: http://sourceforge.net/projects/privaccessor/\r\n  [3]: http://www.onjava.com/pub/a/onjava/2003/11/12/reflection.html\r\n  [4]: http://dp4j.com\r\n  [5]: http://dp4j.com/testscript\r\n  [6]: https://stackoverflow.com/users/300248\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>The answer from <a href=\"http://junit.org/faq.html#atests_11\" rel=\"nofollow noreferrer\">JUnit.org FAQ page</a>:</p>\n<blockquote>\n<p>But if you must...</p>\n<p>If you are using JDK 1.3 or higher, you can use reflection to subvert\nthe access control mechanism with the aid of the <a href=\"http://sourceforge.net/projects/privaccessor/\" rel=\"nofollow noreferrer\">PrivilegedAccessor</a>.\nFor details on how to use it, read <a href=\"http://www.onjava.com/pub/a/onjava/2003/11/12/reflection.html\" rel=\"nofollow noreferrer\">this article</a>.</p>\n<p>If you are using JDK 1.6 or higher and you annotate your tests with\n@Test, you can use <a href=\"http://dp4j.com\" rel=\"nofollow noreferrer\">Dp4j</a> to inject reflection in your test methods. For\ndetails on how to use it, see <a href=\"http://dp4j.com/testscript\" rel=\"nofollow noreferrer\">this test script</a>.</p>\n</blockquote>\n<p>P.S. I'm the main contributor to <a href=\"http://dp4j.com\" rel=\"nofollow noreferrer\">Dp4j</a>. Ask <a href=\"https://stackoverflow.com/users/300248\">me</a> if you need help. :)</p>\n"},{"tags":[],"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1304002907,"creation_date":1304002907,"answer_id":5820700,"question_id":34571,"body_markdown":"I only test the public interface, but I have been known to make specific private methods protected so I can either mock them out entirely, or add in additional steps specific for unit testing purposes. A general case is to hook in flags I can set from the unit test to make certain methods intentionally cause an exception to be able to test fault paths; the exception triggering code is only in the test path in an overridden implementation of the protected method.\r\n\r\nI minimize the need for this though and I always document the precise reasons to avoid confusion.","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>I only test the public interface, but I have been known to make specific private methods protected so I can either mock them out entirely, or add in additional steps specific for unit testing purposes. A general case is to hook in flags I can set from the unit test to make certain methods intentionally cause an exception to be able to test fault paths; the exception triggering code is only in the test path in an overridden implementation of the protected method.</p>\n\n<p>I minimize the need for this though and I always document the precise reasons to avoid confusion.</p>\n"},{"tags":[],"owner":{"account_id":913595,"reputation":5828,"user_id":946904,"accept_rate":69,"display_name":"marc wellman"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1669385945,"creation_date":1321374156,"answer_id":8139572,"question_id":34571,"body_markdown":"I am not sure whether this is a good technique, but I developed the following pattern to unit test private methods:\r\n\r\nI don&#39;t modify the visibility of the method that I want to test and add an additional method. Instead I am adding an additional public method for every private method I want to test. I call this additional method `Test-Port` and denote them with the prefix `t_`. This `Test-Port` method then simply accesses the according private method.\r\n\r\nAdditionally, I add a Boolean flag to the `Test-Port` method to decide whether I grant access to the private method through the `Test-Port` method from outside. This flag is then set globally in a static class where I place e.g. other global settings for the application. So I can switch the access to the private methods on and off in one place, e.g., in the corresponding unit test.\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>I am not sure whether this is a good technique, but I developed the following pattern to unit test private methods:</p>\n<p>I don't modify the visibility of the method that I want to test and add an additional method. Instead I am adding an additional public method for every private method I want to test. I call this additional method <code>Test-Port</code> and denote them with the prefix <code>t_</code>. This <code>Test-Port</code> method then simply accesses the according private method.</p>\n<p>Additionally, I add a Boolean flag to the <code>Test-Port</code> method to decide whether I grant access to the private method through the <code>Test-Port</code> method from outside. This flag is then set globally in a static class where I place e.g. other global settings for the application. So I can switch the access to the private methods on and off in one place, e.g., in the corresponding unit test.</p>\n"},{"tags":[],"owner":{"account_id":37694,"reputation":88,"user_id":107852,"display_name":"sagehen03"},"down_vote_count":8,"up_vote_count":8,"is_accepted":false,"score":0,"last_activity_date":1325535174,"creation_date":1325535174,"answer_id":8704898,"question_id":34571,"body_markdown":"Groovy has a [bug/feature][1], through which you can invoke private methods as if they were public.  So if you&#39;re able to use Groovy in your project, it&#39;s an option you can use in lieu of reflection.  Check out [this page][2] for an example.\r\n\r\n  [1]: http://jira.codehaus.org/browse/GROOVY-1875\r\n  [2]: http://marciogarcia.com/?p=80","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Groovy has a <a href=\"http://jira.codehaus.org/browse/GROOVY-1875\" rel=\"nofollow\">bug/feature</a>, through which you can invoke private methods as if they were public.  So if you're able to use Groovy in your project, it's an option you can use in lieu of reflection.  Check out <a href=\"http://marciogarcia.com/?p=80\" rel=\"nofollow\">this page</a> for an example.</p>\n"},{"tags":[],"owner":{"account_id":183629,"reputation":141,"user_id":419109,"display_name":"Steven Bluen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669386117,"creation_date":1362355663,"answer_id":15192546,"question_id":34571,"body_markdown":"[JML][1] has a *spec_public* comment annotation syntax that allows you to specify a method as public during tests:\r\n\r\n    private /*@ spec_public @*/ int methodName(){\r\n    ...\r\n    }\r\n\r\nThis syntax is discussed at *[2.4 Privacy Modifiers and Visibility][2]*. There also exists a program that translates JML specifications into JUnit tests. I&#39;m not sure how well that works or what its capabilities are, but it doesn&#39;t appear to be necessary since JML is a viable testing framework on its own.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_Modeling_Language\r\n  [2]: http://www.eecs.ucf.edu/~leavens/JML/jmlrefman/jmlrefman_2.html#SEC12\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p><a href=\"https://en.wikipedia.org/wiki/Java_Modeling_Language\" rel=\"nofollow noreferrer\">JML</a> has a <em>spec_public</em> comment annotation syntax that allows you to specify a method as public during tests:</p>\n<pre><code>private /*@ spec_public @*/ int methodName(){\n...\n}\n</code></pre>\n<p>This syntax is discussed at <em><a href=\"http://www.eecs.ucf.edu/%7Eleavens/JML/jmlrefman/jmlrefman_2.html#SEC12\" rel=\"nofollow noreferrer\">2.4 Privacy Modifiers and Visibility</a></em>. There also exists a program that translates JML specifications into JUnit tests. I'm not sure how well that works or what its capabilities are, but it doesn't appear to be necessary since JML is a viable testing framework on its own.</p>\n"},{"tags":[],"owner":{"account_id":355044,"reputation":37880,"user_id":693752,"accept_rate":63,"display_name":"Snicolas"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1669386176,"creation_date":1379449430,"answer_id":18859235,"question_id":34571,"body_markdown":"Today, I pushed a Java library to help testing private methods and fields. It has been designed with Android in mind, but it can really be used for any Java project.\r\n\r\nIf you got some code with private methods or fields or constructors, you can use [**BoundBox**][1]. It does exactly what you are looking for.\r\nHere below is an example of a test that accesses two private fields of an Android activity to test it:\r\n\r\n    @UiThreadTest\r\n    public void testCompute() {\r\n\r\n        // Given\r\n        boundBoxOfMainActivity = new BoundBoxOfMainActivity(getActivity());\r\n\r\n        // When\r\n        boundBoxOfMainActivity.boundBox_getButtonMain().performClick();\r\n\r\n        // Then\r\n        assertEquals(&quot;42&quot;, boundBoxOfMainActivity.boundBox_getTextViewMain().getText());\r\n    }\r\n\r\n**BoundBox** makes it easy to test private/protected fields, methods and constructors. You can even access stuff that is hidden by inheritance. Indeed, BoundBox breaks encapsulation. It will give you access to all that through reflection, ***but*** everything is checked at compile time.\r\n\r\nIt is ideal for testing some legacy code. Use it carefully. ;)\r\n\r\n  [1]: https://github.com/stephanenicolas/boundbox\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Today, I pushed a Java library to help testing private methods and fields. It has been designed with Android in mind, but it can really be used for any Java project.</p>\n<p>If you got some code with private methods or fields or constructors, you can use <a href=\"https://github.com/stephanenicolas/boundbox\" rel=\"nofollow noreferrer\"><strong>BoundBox</strong></a>. It does exactly what you are looking for.\nHere below is an example of a test that accesses two private fields of an Android activity to test it:</p>\n<pre><code>@UiThreadTest\npublic void testCompute() {\n\n    // Given\n    boundBoxOfMainActivity = new BoundBoxOfMainActivity(getActivity());\n\n    // When\n    boundBoxOfMainActivity.boundBox_getButtonMain().performClick();\n\n    // Then\n    assertEquals(&quot;42&quot;, boundBoxOfMainActivity.boundBox_getTextViewMain().getText());\n}\n</code></pre>\n<p><strong>BoundBox</strong> makes it easy to test private/protected fields, methods and constructors. You can even access stuff that is hidden by inheritance. Indeed, BoundBox breaks encapsulation. It will give you access to all that through reflection, <em><strong>but</strong></em> everything is checked at compile time.</p>\n<p>It is ideal for testing some legacy code. Use it carefully. ;)</p>\n"},{"tags":[],"owner":{"account_id":120486,"reputation":248,"user_id":312957,"display_name":"Antony Booth"},"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1484335993,"creation_date":1386018773,"answer_id":20337937,"question_id":34571,"body_markdown":"Private methods are consumed by public ones. Otherwise, they&#39;re dead code. That&#39;s why you test the public method, asserting the expected results of the public method and thereby, the private methods it consumes.\r\n\r\nTesting private methods should be tested by debugging before running your unit tests on public methods.\r\n\r\nThey may also be debugged using test-driven development, debugging your unit tests until all your assertions are met.\r\n\r\nI personally believe it is better to create classes using TDD; creating the public method stubs, then generating unit tests with **all** the assertions defined in advance, so the expected outcome of the method is determined before you code it. This way, you don&#39;t go down the wrong path of making the unit test assertions fit the results. Your class is then robust and meets requirements when all your unit tests pass.\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Private methods are consumed by public ones. Otherwise, they're dead code. That's why you test the public method, asserting the expected results of the public method and thereby, the private methods it consumes.</p>\n\n<p>Testing private methods should be tested by debugging before running your unit tests on public methods.</p>\n\n<p>They may also be debugged using test-driven development, debugging your unit tests until all your assertions are met.</p>\n\n<p>I personally believe it is better to create classes using TDD; creating the public method stubs, then generating unit tests with <strong>all</strong> the assertions defined in advance, so the expected outcome of the method is determined before you code it. This way, you don't go down the wrong path of making the unit test assertions fit the results. Your class is then robust and meets requirements when all your unit tests pass.</p>\n"},{"tags":[],"owner":{"account_id":1996484,"reputation":591,"user_id":1789360,"accept_rate":79,"display_name":"Yuli Reiri"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1484336028,"creation_date":1389169359,"answer_id":20990300,"question_id":34571,"body_markdown":"Here is my generic function to test private fields:\r\n\r\n    protected &lt;F&gt; F getPrivateField(String fieldName, Object obj)\r\n        throws NoSuchFieldException, IllegalAccessException {\r\n        Field field =\r\n            obj.getClass().getDeclaredField(fieldName);\r\n\r\n        field.setAccessible(true);\r\n        return (F)field.get(obj);\r\n    }\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Here is my generic function to test private fields:</p>\n\n<pre><code>protected &lt;F&gt; F getPrivateField(String fieldName, Object obj)\n    throws NoSuchFieldException, IllegalAccessException {\n    Field field =\n        obj.getClass().getDeclaredField(fieldName);\n\n    field.setAccessible(true);\n    return (F)field.get(obj);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2754907,"reputation":1362,"user_id":2373304,"accept_rate":67,"display_name":"loknath"},"down_vote_count":4,"up_vote_count":18,"is_accepted":false,"score":14,"last_activity_date":1484337235,"creation_date":1399098798,"answer_id":23441118,"question_id":34571,"body_markdown":"A private method is only to be accessed within the same class. So there is no way to test a “private” method of a target class from any test class. A way out is that you can perform unit testing manually or can change your method from “private” to “protected”.\r\n\r\nAnd then a protected method can only be accessed within the same package where the class is defined. So, testing a protected method of a target class means we need to define your test class in the same package as the target class.\r\n\r\nIf all the above does not suits your requirement, use [**the  reflection way**][1] to access the private method.  \r\n\r\n  [1]: https://stackoverflow.com/questions/11483647/how-to-access-private-methods-and-private-data-members-via-reflection\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>A private method is only to be accessed within the same class. So there is no way to test a “private” method of a target class from any test class. A way out is that you can perform unit testing manually or can change your method from “private” to “protected”.</p>\n\n<p>And then a protected method can only be accessed within the same package where the class is defined. So, testing a protected method of a target class means we need to define your test class in the same package as the target class.</p>\n\n<p>If all the above does not suits your requirement, use <a href=\"https://stackoverflow.com/questions/11483647/how-to-access-private-methods-and-private-data-members-via-reflection\"><strong>the  reflection way</strong></a> to access the private method.  </p>\n"},{"tags":[],"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1415662560,"creation_date":1415662560,"answer_id":26855013,"question_id":34571,"body_markdown":"If using Spring, [ReflectionTestUtils](http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/util/ReflectionTestUtils.html) provides some handy tools that help out here with minimal effort. For example, to set up a mock on a private member without being forced to add an undesirable public setter:\r\n\r\n    ReflectionTestUtils.setField(theClass, &quot;theUnsettableField&quot;, theMockObject);","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>If using Spring, <a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/util/ReflectionTestUtils.html\" rel=\"noreferrer\">ReflectionTestUtils</a> provides some handy tools that help out here with minimal effort. For example, to set up a mock on a private member without being forced to add an undesirable public setter:</p>\n\n<pre><code>ReflectionTestUtils.setField(theClass, \"theUnsettableField\", theMockObject);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5688520,"reputation":7765,"user_id":4497253,"display_name":"CoronA"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1484337395,"creation_date":1430978564,"answer_id":30093076,"question_id":34571,"body_markdown":"I recently had this problem and wrote a little tool, called [Picklock][1], that avoids the problems of explicitly using the Java reflection API, two examples:\r\n\r\n**Calling methods, e.g. `private void method(String s)` - by Java reflection**\r\n\r\n    Method method = targetClass.getDeclaredMethod(&quot;method&quot;, String.class);\r\n    method.setAccessible(true);\r\n    return method.invoke(targetObject, &quot;mystring&quot;);\r\n\r\n**Calling methods, e.g. `private void method(String s)` - by Picklock**\r\n\r\n    interface Accessible {\r\n      void method(String s);\r\n    }\r\n\r\n    ...\r\n    Accessible a = ObjectAccess.unlock(targetObject).features(Accessible.class);\r\n    a.method(&quot;mystring&quot;);\r\n\r\n**Setting fields, e.g. `private BigInteger amount;` - by Java reflection**\r\n\r\n    Field field = targetClass.getDeclaredField(&quot;amount&quot;);\r\n    field.setAccessible(true);\r\n    field.set(object, BigInteger.valueOf(42));\r\n\r\n**Setting fields, e.g. `private BigInteger amount;` - by Picklock**\r\n\r\n    interface Accessible {\r\n      void setAmount(BigInteger amount);\r\n    }\r\n\r\n    ...\r\n    Accessible a = ObjectAccess.unlock(targetObject).features(Accessible.class);\r\n    a.setAmount(BigInteger.valueOf(42));\r\n\r\n  [1]: https://github.com/almondtools/picklock\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>I recently had this problem and wrote a little tool, called <a href=\"https://github.com/almondtools/picklock\" rel=\"noreferrer\">Picklock</a>, that avoids the problems of explicitly using the Java reflection API, two examples:</p>\n\n<p><strong>Calling methods, e.g. <code>private void method(String s)</code> - by Java reflection</strong></p>\n\n<pre><code>Method method = targetClass.getDeclaredMethod(\"method\", String.class);\nmethod.setAccessible(true);\nreturn method.invoke(targetObject, \"mystring\");\n</code></pre>\n\n<p><strong>Calling methods, e.g. <code>private void method(String s)</code> - by Picklock</strong></p>\n\n<pre><code>interface Accessible {\n  void method(String s);\n}\n\n...\nAccessible a = ObjectAccess.unlock(targetObject).features(Accessible.class);\na.method(\"mystring\");\n</code></pre>\n\n<p><strong>Setting fields, e.g. <code>private BigInteger amount;</code> - by Java reflection</strong></p>\n\n<pre><code>Field field = targetClass.getDeclaredField(\"amount\");\nfield.setAccessible(true);\nfield.set(object, BigInteger.valueOf(42));\n</code></pre>\n\n<p><strong>Setting fields, e.g. <code>private BigInteger amount;</code> - by Picklock</strong></p>\n\n<pre><code>interface Accessible {\n  void setAmount(BigInteger amount);\n}\n\n...\nAccessible a = ObjectAccess.unlock(targetObject).features(Accessible.class);\na.setAmount(BigInteger.valueOf(42));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1986201,"reputation":2750,"user_id":1781357,"accept_rate":45,"display_name":"Mikhail"},"down_vote_count":2,"up_vote_count":54,"is_accepted":false,"score":52,"last_activity_date":1484337432,"creation_date":1435132868,"answer_id":31020978,"question_id":34571,"body_markdown":"In the [Spring Framework][1] you can test private methods using this method:\r\n\r\n    ReflectionTestUtils.invokeMethod()\r\n\r\nFor example:\r\n\r\n    ReflectionTestUtils.invokeMethod(TestClazz, &quot;createTest&quot;, &quot;input data&quot;);\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Spring_Framework\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>In the <a href=\"http://en.wikipedia.org/wiki/Spring_Framework\" rel=\"noreferrer\">Spring Framework</a> you can test private methods using this method:</p>\n\n<pre><code>ReflectionTestUtils.invokeMethod()\n</code></pre>\n\n<p>For example:</p>\n\n<pre><code>ReflectionTestUtils.invokeMethod(TestClazz, \"createTest\", \"input data\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":257029,"reputation":3131,"user_id":538160,"accept_rate":62,"display_name":"supernova"},"down_vote_count":1,"up_vote_count":49,"is_accepted":false,"score":48,"last_activity_date":1484337537,"creation_date":1458489183,"answer_id":36115967,"question_id":34571,"body_markdown":"Another approach I have used is to change a private method to package private or protected then complement it with the **@VisibleForTesting** annotation of the Google Guava library.\r\n\r\nThis will tell anybody using this method to take caution and not access it directly even in a package. Also a test class need not be in same package **physically**, but in the same package under the **test** folder.\r\n\r\nFor example, if a method to be tested is in `src/main/java/mypackage/MyClass.java` then your test call should be placed in `src/test/java/mypackage/MyClassTest.java`. That way, you got access to the test method in your test class.\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Another approach I have used is to change a private method to package private or protected then complement it with the <strong>@VisibleForTesting</strong> annotation of the Google Guava library.</p>\n\n<p>This will tell anybody using this method to take caution and not access it directly even in a package. Also a test class need not be in same package <strong>physically</strong>, but in the same package under the <strong>test</strong> folder.</p>\n\n<p>For example, if a method to be tested is in <code>src/main/java/mypackage/MyClass.java</code> then your test call should be placed in <code>src/test/java/mypackage/MyClassTest.java</code>. That way, you got access to the test method in your test class.</p>\n"},{"tags":[],"owner":{"account_id":2705291,"reputation":931,"user_id":2335016,"accept_rate":40,"display_name":"Olcay Tarazan"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1484337582,"creation_date":1464868321,"answer_id":37591098,"question_id":34571,"body_markdown":"Please see below for an example;\r\n\r\nThe following import statement should be added:\r\n\r\n    import org.powermock.reflect.Whitebox;\r\n\r\nNow you can directly pass the object which has the private method, method name to be called, and additional parameters as below.\r\n\r\n    Whitebox.invokeMethod(obj, &quot;privateMethod&quot;, &quot;param1&quot;);\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Please see below for an example;</p>\n\n<p>The following import statement should be added:</p>\n\n<pre><code>import org.powermock.reflect.Whitebox;\n</code></pre>\n\n<p>Now you can directly pass the object which has the private method, method name to be called, and additional parameters as below.</p>\n\n<pre><code>Whitebox.invokeMethod(obj, \"privateMethod\", \"param1\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":649723,"reputation":1632,"user_id":2197088,"display_name":"Legna"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1669386415,"creation_date":1464968869,"answer_id":37618628,"question_id":34571,"body_markdown":"A quick addition to [Cem Catikka&#39;s answer][1], when using ExpectedException:\r\n\r\nKeep in mind that your expected exception will be wrapped in an InvocationTargetException, so in order to get to your exception you will have to throw the cause of the InvocationTargetException you received. Something like (testing private method validateRequest() on BizService):\r\n\r\n    @Rule\r\n    public ExpectedException thrown = ExpectedException.none();\r\n\r\n    @Autowired(required = true)\r\n    private BizService svc;\r\n\r\n\r\n    @Test\r\n    public void testValidateRequest() throws Exception {\r\n\r\n        thrown.expect(BizException.class);\r\n        thrown.expectMessage(expectMessage);\r\n\r\n        BizRequest request = /* Mock it, read from source - file, etc. */;\r\n        validateRequest(request);\r\n    }\r\n\r\n    private void validateRequest(BizRequest request) throws Exception {\r\n        Method method = svc.getClass().getDeclaredMethod(&quot;validateRequest&quot;, BizRequest.class);\r\n        method.setAccessible(true);\r\n        try {\r\n            method.invoke(svc, request);\r\n        }\r\n        catch (InvocationTargetException e) {\r\n            throw ((BizException)e.getCause());\r\n        }\r\n     }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/34571/how-do-i-test-a-class-that-has-private-methods-fields-or-inner-classes#34658","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>A quick addition to <a href=\"https://stackoverflow.com/questions/34571/how-do-i-test-a-class-that-has-private-methods-fields-or-inner-classes#34658\">Cem Catikka's answer</a>, when using ExpectedException:</p>\n<p>Keep in mind that your expected exception will be wrapped in an InvocationTargetException, so in order to get to your exception you will have to throw the cause of the InvocationTargetException you received. Something like (testing private method validateRequest() on BizService):</p>\n<pre><code>@Rule\npublic ExpectedException thrown = ExpectedException.none();\n\n@Autowired(required = true)\nprivate BizService svc;\n\n\n@Test\npublic void testValidateRequest() throws Exception {\n\n    thrown.expect(BizException.class);\n    thrown.expectMessage(expectMessage);\n\n    BizRequest request = /* Mock it, read from source - file, etc. */;\n    validateRequest(request);\n}\n\nprivate void validateRequest(BizRequest request) throws Exception {\n    Method method = svc.getClass().getDeclaredMethod(&quot;validateRequest&quot;, BizRequest.class);\n    method.setAccessible(true);\n    try {\n        method.invoke(svc, request);\n    }\n    catch (InvocationTargetException e) {\n        throw ((BizException)e.getCause());\n    }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4875051,"reputation":4665,"user_id":3930424,"accept_rate":78,"display_name":"GROX13"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1669386564,"creation_date":1472505059,"answer_id":39215279,"question_id":34571,"body_markdown":"I would suggest you refactoring your code a little bit. When you have to start thinking about using reflection or other kind of stuff, for just testing your code, something is going wrong with your code.\r\n\r\nYou mentioned different types of problems. Let&#39;s start with private fields. In case of private fields I would have added a new constructor and injected fields into that. Instead of this:\r\n\r\n    public class ClassToTest {\r\n\r\n        private final String first = &quot;first&quot;;\r\n        private final List&lt;String&gt; second = new ArrayList&lt;&gt;();\r\n        ...\r\n    }\r\n\r\nI&#39;d have used this:\r\n\r\n    public class ClassToTest {\r\n\r\n        private final String first;\r\n        private final List&lt;String&gt; second;\r\n\r\n        public ClassToTest() {\r\n            this(&quot;first&quot;, new ArrayList&lt;&gt;());\r\n        }\r\n\r\n        public ClassToTest(final String first, final List&lt;String&gt; second) {\r\n            this.first = first;\r\n            this.second = second;\r\n        }\r\n        ...\r\n    }\r\n\r\nThis won&#39;t be a problem even with some legacy code. Old code will be using an empty constructor, and if you ask me, refactored code will look cleaner, and you&#39;ll be able to inject necessary values in test without reflection.\r\n\r\nNow about private methods. In my personal experience when you have to stub a private method for testing, then that method has nothing to do in that class. A common pattern, in that case, would be to *wrap* it within an interface, like `Callable` and then you pass in that interface also in the constructor (with that multiple constructor trick):\r\n\r\n    public ClassToTest() {\r\n        this(...);\r\n    }\r\n\r\n    public ClassToTest(final Callable&lt;T&gt; privateMethodLogic) {\r\n        this.privateMethodLogic = privateMethodLogic;\r\n    }\r\n\r\nMostly all that I wrote looks like it&#39;s a [dependency injection][1] pattern. In my personal experience it&#39;s really useful while testing, and I think that this kind of code is cleaner and will be easier to maintain. I&#39;d say the same about nested classes. If a nested class contains heavy logic it would be better if you&#39;d moved it as a package private class and have injected it into a class needing it.\r\n\r\nThere are also several other design patterns which I have used while refactoring and maintaining legacy code, but it all depends on cases of your code to test. Using reflection mostly is not a problem, but when you have an enterprise application which is heavily tested and tests are run before every deployment everything gets really slow (it&#39;s just annoying and I don&#39;t like that kind of stuff).\r\n\r\nThere is also setter injection, but I wouldn&#39;t recommended using it. I&#39;d better stick with a constructor and initialize everything when it&#39;s really necessary, leaving the possibility for injecting necessary dependencies.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Dependency_injection\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>I would suggest you refactoring your code a little bit. When you have to start thinking about using reflection or other kind of stuff, for just testing your code, something is going wrong with your code.</p>\n<p>You mentioned different types of problems. Let's start with private fields. In case of private fields I would have added a new constructor and injected fields into that. Instead of this:</p>\n<pre><code>public class ClassToTest {\n\n    private final String first = &quot;first&quot;;\n    private final List&lt;String&gt; second = new ArrayList&lt;&gt;();\n    ...\n}\n</code></pre>\n<p>I'd have used this:</p>\n<pre><code>public class ClassToTest {\n\n    private final String first;\n    private final List&lt;String&gt; second;\n\n    public ClassToTest() {\n        this(&quot;first&quot;, new ArrayList&lt;&gt;());\n    }\n\n    public ClassToTest(final String first, final List&lt;String&gt; second) {\n        this.first = first;\n        this.second = second;\n    }\n    ...\n}\n</code></pre>\n<p>This won't be a problem even with some legacy code. Old code will be using an empty constructor, and if you ask me, refactored code will look cleaner, and you'll be able to inject necessary values in test without reflection.</p>\n<p>Now about private methods. In my personal experience when you have to stub a private method for testing, then that method has nothing to do in that class. A common pattern, in that case, would be to <em>wrap</em> it within an interface, like <code>Callable</code> and then you pass in that interface also in the constructor (with that multiple constructor trick):</p>\n<pre><code>public ClassToTest() {\n    this(...);\n}\n\npublic ClassToTest(final Callable&lt;T&gt; privateMethodLogic) {\n    this.privateMethodLogic = privateMethodLogic;\n}\n</code></pre>\n<p>Mostly all that I wrote looks like it's a <a href=\"https://en.wikipedia.org/wiki/Dependency_injection\" rel=\"nofollow noreferrer\">dependency injection</a> pattern. In my personal experience it's really useful while testing, and I think that this kind of code is cleaner and will be easier to maintain. I'd say the same about nested classes. If a nested class contains heavy logic it would be better if you'd moved it as a package private class and have injected it into a class needing it.</p>\n<p>There are also several other design patterns which I have used while refactoring and maintaining legacy code, but it all depends on cases of your code to test. Using reflection mostly is not a problem, but when you have an enterprise application which is heavily tested and tests are run before every deployment everything gets really slow (it's just annoying and I don't like that kind of stuff).</p>\n<p>There is also setter injection, but I wouldn't recommended using it. I'd better stick with a constructor and initialize everything when it's really necessary, leaving the possibility for injecting necessary dependencies.</p>\n"},{"tags":[],"owner":{"account_id":10300420,"reputation":300,"user_id":7599315,"accept_rate":62,"display_name":"Rahul"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1669386714,"creation_date":1504892218,"answer_id":46121866,"question_id":34571,"body_markdown":"You can use [PowerMockito][1] to set return values for private fields and private methods that are called/used in the private method you want to test:\r\n\r\nFor example, setting a return value for a private method:\r\n\r\n    MyClient classUnderTest = PowerMockito.spy(new MyClient());\r\n\r\n    // Set the expected return value\r\n    PowerMockito.doReturn(20).when(classUnderTest, &quot;myPrivateMethod&quot;, anyString(), anyInt());\r\n    // This is very important. Otherwise, it will not work\r\n    classUnderTest.myPrivateMethod();\r\n\r\n    // Setting the private field value as someValue:\r\n    Whitebox.setInternalState(classUnderTest, &quot;privateField&quot;, someValue);\r\n\r\nThen finally you can validate your private method under test is returning the correct value based on set values above by:\r\n\r\n    String msg = Whitebox.invokeMethod(obj, &quot;privateMethodToBeTested&quot;, &quot;param1&quot;);\r\n    Assert.assertEquals(privateMsg, msg);\r\n\r\nOr\r\n\r\nIf the classUnderTest private method does not return a value, but it sets another private field then you can get that private field value to see if it was set correctly:\r\n\r\n    // To get the value of a private field\r\n    MyClass obj = Whitebox.getInternalState(classUnderTest, &quot;foo&quot;);\r\n    assertThat(obj, is(notNull(MyClass.class))); // Or test value\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Mockito\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>You can use <a href=\"https://en.wikipedia.org/wiki/Mockito\" rel=\"nofollow noreferrer\">PowerMockito</a> to set return values for private fields and private methods that are called/used in the private method you want to test:</p>\n<p>For example, setting a return value for a private method:</p>\n<pre><code>MyClient classUnderTest = PowerMockito.spy(new MyClient());\n\n// Set the expected return value\nPowerMockito.doReturn(20).when(classUnderTest, &quot;myPrivateMethod&quot;, anyString(), anyInt());\n// This is very important. Otherwise, it will not work\nclassUnderTest.myPrivateMethod();\n\n// Setting the private field value as someValue:\nWhitebox.setInternalState(classUnderTest, &quot;privateField&quot;, someValue);\n</code></pre>\n<p>Then finally you can validate your private method under test is returning the correct value based on set values above by:</p>\n<pre><code>String msg = Whitebox.invokeMethod(obj, &quot;privateMethodToBeTested&quot;, &quot;param1&quot;);\nAssert.assertEquals(privateMsg, msg);\n</code></pre>\n<p>Or</p>\n<p>If the classUnderTest private method does not return a value, but it sets another private field then you can get that private field value to see if it was set correctly:</p>\n<pre><code>// To get the value of a private field\nMyClass obj = Whitebox.getInternalState(classUnderTest, &quot;foo&quot;);\nassertThat(obj, is(notNull(MyClass.class))); // Or test value\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6209421,"reputation":174,"user_id":4836141,"display_name":"Miladinho"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1669387428,"creation_date":1509303695,"answer_id":47004093,"question_id":34571,"body_markdown":"If you are worried by not testing private methods as many of the posts suggest, consider that a **code coverage** tool will determine exactly how much of your code is tested and where it leaks, so it is quantifiably acceptable to do this.\r\n\r\nAnswers that direct the author of the question towards a &#39;workaround&#39; are doing a massive disservice to the community. Testing is a major part of all engineering disciplines. You would not want to buy a car that is not properly tested, and tested in a meaningful way, so why would anyone want to buy or use software that is tested poorly? The reason people do this anyway is probably because the effects of badly tested software are felt way after the fact, and we don&#39;t usually associate them with bodily harm.\r\n\r\nThis is a very dangerous perception which will be difficult to change, but it is our responsibility to deliver safe products regardless of what even management is bullying us to do. Think [the Equifax hack][1]... \r\n\r\nWe must strive to build an environment that encourages good software engineering practices. This does not mean ostracizing the weak/lazy among us who do not take their craft seriously, but rather, to create a status quo of accountability and self reflection that would encourage everyone to pursue growth, both mentally and skillfully. \r\n\r\nI am still learning, and may have wrong perceptions/opinions myself, but I do firmly believe that we need to hold ourselves accountable to good practices and shun irresponsible hacks or workarounds to problems.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/2017_Equifax_data_breach#Data_breach\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>If you are worried by not testing private methods as many of the posts suggest, consider that a <strong>code coverage</strong> tool will determine exactly how much of your code is tested and where it leaks, so it is quantifiably acceptable to do this.</p>\n<p>Answers that direct the author of the question towards a 'workaround' are doing a massive disservice to the community. Testing is a major part of all engineering disciplines. You would not want to buy a car that is not properly tested, and tested in a meaningful way, so why would anyone want to buy or use software that is tested poorly? The reason people do this anyway is probably because the effects of badly tested software are felt way after the fact, and we don't usually associate them with bodily harm.</p>\n<p>This is a very dangerous perception which will be difficult to change, but it is our responsibility to deliver safe products regardless of what even management is bullying us to do. Think <a href=\"https://en.wikipedia.org/wiki/2017_Equifax_data_breach#Data_breach\" rel=\"nofollow noreferrer\">the Equifax hack</a>...</p>\n<p>We must strive to build an environment that encourages good software engineering practices. This does not mean ostracizing the weak/lazy among us who do not take their craft seriously, but rather, to create a status quo of accountability and self reflection that would encourage everyone to pursue growth, both mentally and skillfully.</p>\n<p>I am still learning, and may have wrong perceptions/opinions myself, but I do firmly believe that we need to hold ourselves accountable to good practices and shun irresponsible hacks or workarounds to problems.</p>\n"},{"tags":[],"owner":{"account_id":1687550,"reputation":3781,"user_id":1550509,"accept_rate":44,"display_name":"Android is everything for me"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669388091,"creation_date":1511436840,"answer_id":47454552,"question_id":34571,"body_markdown":"The best and proper legal way to test a Java private method from a test framework is the **@VisibleForTesting** annotation over the method, so the same method will be visible for the test framework like a public method.\r\n\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>The best and proper legal way to test a Java private method from a test framework is the <strong>@VisibleForTesting</strong> annotation over the method, so the same method will be visible for the test framework like a public method.</p>\n"},{"tags":[],"owner":{"account_id":1142219,"reputation":868,"user_id":1125774,"display_name":"mohammad madani"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1669388138,"creation_date":1515571007,"answer_id":48182688,"question_id":34571,"body_markdown":"In [C++][1]: before including the class header that has a private function that you want to test.\r\n\r\nUse this code:\r\n\r\n```lang-cpp\r\n#define private public\r\n#define protected public\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/C%2B%2B\r\n\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>In <a href=\"https://en.wikipedia.org/wiki/C%2B%2B\" rel=\"nofollow noreferrer\">C++</a>: before including the class header that has a private function that you want to test.</p>\n<p>Use this code:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>#define private public\n#define protected public\n</code></pre>\n"},{"tags":[],"owner":{"account_id":247773,"reputation":15733,"user_id":522729,"accept_rate":69,"display_name":"Victor Grazi"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1669388181,"creation_date":1516824508,"answer_id":48430793,"question_id":34571,"body_markdown":"[PowerMockito][1] is made for this.\r\n\r\nUse a [Maven][2] dependency:\r\n\r\n```lang-xml\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n        &lt;artifactId&gt;powermock-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.7&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nThen you can do\r\n\r\n    import org.powermock.reflect.Whitebox;\r\n    ...\r\n    MyClass sut = new MyClass();\r\n    SomeType rval = Whitebox.invokeMethod(sut, &quot;myPrivateMethod&quot;, params, moreParams);\r\n\r\n  [1]: https://meta.stackexchange.com/questions/184108/what-is-syntax-highlighting-and-how-does-it-wok/184109#184109\r\n  [2]: https://en.wikipedia.org/wiki/Apache_Maven\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p><a href=\"https://meta.stackexchange.com/questions/184108/what-is-syntax-highlighting-and-how-does-it-wok/184109#184109\">PowerMockito</a> is made for this.</p>\n<p>Use a <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a> dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-core&lt;/artifactId&gt;\n        &lt;version&gt;2.0.7&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Then you can do</p>\n<pre><code>import org.powermock.reflect.Whitebox;\n...\nMyClass sut = new MyClass();\nSomeType rval = Whitebox.invokeMethod(sut, &quot;myPrivateMethod&quot;, params, moreParams);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11399392,"reputation":179,"user_id":8356771,"accept_rate":75,"display_name":"HilaB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668791949,"creation_date":1530184772,"answer_id":51081607,"question_id":34571,"body_markdown":"My team and I are using Typemock, which has an API that allows you to [fake non-public methods][1].\r\n\r\nRecently they added the ability to [fake non-visible types][2] and to use [xUnit][3].\r\n\r\n  [1]: https://www.typemock.com/docs/?book=Isolator&amp;page=Documentation%2FHtmlDocs%2Fcontrollingnonpublicmethods.htm\r\n  [2]: https://www.typemock.com/docs/?book=Isolator&amp;page=Documentation%2FHtmlDocs%2Ffakingnonpublicobjects.htm\r\n  [3]: https://en.wikipedia.org/wiki/XUnit\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>My team and I are using Typemock, which has an API that allows you to <a href=\"https://www.typemock.com/docs/?book=Isolator&amp;page=Documentation%2FHtmlDocs%2Fcontrollingnonpublicmethods.htm\" rel=\"nofollow noreferrer\">fake non-public methods</a>.</p>\n<p>Recently they added the ability to <a href=\"https://www.typemock.com/docs/?book=Isolator&amp;page=Documentation%2FHtmlDocs%2Ffakingnonpublicobjects.htm\" rel=\"nofollow noreferrer\">fake non-visible types</a> and to use <a href=\"https://en.wikipedia.org/wiki/XUnit\" rel=\"nofollow noreferrer\">xUnit</a>.</p>\n"},{"tags":[],"owner":{"account_id":2660107,"reputation":4547,"user_id":2300013,"accept_rate":100,"display_name":"AR1"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669388375,"creation_date":1537609671,"answer_id":52455476,"question_id":34571,"body_markdown":"If you have a case where you really need to test a private method/class etc.. directly, you can use reflection as already mentioned in other answers. However if it comes to that, instead of dealing directly with reflection I&#39;d rather use utility classes provided by your framework. For instance, for Java we have:\r\n\r\n - [ReflectionUtils][1] in [Spring Framework][2]\r\n\r\n - [ReflectionUtils][3] in [JUnit][4]\r\n\r\nAs per how to use them, you can find plenty of articles online. Here one that I particularly liked:\r\n\r\n - [Java Code Examples for org.springframework.util.ReflectionUtils][5]\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/ReflectionUtils.html\r\n  [2]: https://en.wikipedia.org/wiki/Spring_Framework\r\n  [3]: https://junit.org/junit5/docs/5.0.3/api/org/junit/platform/commons/util/ReflectionUtils.html\r\n  [4]: https://en.wikipedia.org/wiki/JUnit\r\n  [5]: https://www.programcreek.com/java-api-examples/index.php?api=org.springframework.util.ReflectionUtils\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>If you have a case where you really need to test a private method/class etc.. directly, you can use reflection as already mentioned in other answers. However if it comes to that, instead of dealing directly with reflection I'd rather use utility classes provided by your framework. For instance, for Java we have:</p>\n<ul>\n<li><p><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/ReflectionUtils.html\" rel=\"nofollow noreferrer\">ReflectionUtils</a> in <a href=\"https://en.wikipedia.org/wiki/Spring_Framework\" rel=\"nofollow noreferrer\">Spring Framework</a></p>\n</li>\n<li><p><a href=\"https://junit.org/junit5/docs/5.0.3/api/org/junit/platform/commons/util/ReflectionUtils.html\" rel=\"nofollow noreferrer\">ReflectionUtils</a> in <a href=\"https://en.wikipedia.org/wiki/JUnit\" rel=\"nofollow noreferrer\">JUnit</a></p>\n</li>\n</ul>\n<p>As per how to use them, you can find plenty of articles online. Here one that I particularly liked:</p>\n<ul>\n<li><a href=\"https://www.programcreek.com/java-api-examples/index.php?api=org.springframework.util.ReflectionUtils\" rel=\"nofollow noreferrer\">Java Code Examples for org.springframework.util.ReflectionUtils</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10344385,"reputation":1140,"user_id":7629797,"display_name":"Louis Saglio"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1544730020,"creation_date":1544730020,"answer_id":53768967,"question_id":34571,"body_markdown":"You can create a special public method to proxy the private method to test.\r\nThe @TestOnly annotation is out of the box available when using IntelliJ.\r\nThe downside is is that if somebody want to to use the private method in a public context, he can do it. But he will be warned by the annotation and the method name. On IntelliJ a warning will appear when doing it.\r\n\r\n    import org.jetbrains.annotations.TestOnly\r\n\r\n    class MyClass {\r\n    \r\n        private void aPrivateMethod() {}\r\n\r\n        @TestOnly\r\n        public void aPrivateMethodForTest() {\r\n            aPrivateMethod()\r\n        }\r\n    }","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>You can create a special public method to proxy the private method to test.\nThe @TestOnly annotation is out of the box available when using IntelliJ.\nThe downside is is that if somebody want to to use the private method in a public context, he can do it. But he will be warned by the annotation and the method name. On IntelliJ a warning will appear when doing it.</p>\n\n<pre><code>import org.jetbrains.annotations.TestOnly\n\nclass MyClass {\n\n    private void aPrivateMethod() {}\n\n    @TestOnly\n    public void aPrivateMethodForTest() {\n        aPrivateMethod()\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5412696,"reputation":2669,"user_id":4308897,"display_name":"Ercan"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1670463759,"creation_date":1554798212,"answer_id":55588184,"question_id":34571,"body_markdown":"There is another approach to test your private methods.\r\n\r\nIf you &quot;enable assertion&quot; in run configurations then you can unit test your method inside the method itself. For example;\r\n\r\n    assert (&quot;Ercan&quot;.equals(person1.name));\r\n    assert (Person.count == 2);","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>There is another approach to test your private methods.</p>\n<p>If you &quot;enable assertion&quot; in run configurations then you can unit test your method inside the method itself. For example;</p>\n<pre><code>assert (&quot;Ercan&quot;.equals(person1.name));\nassert (Person.count == 2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670464487,"creation_date":1557671253,"answer_id":56100192,"question_id":34571,"body_markdown":"`PowerMock.Whitebox` is the best option I have seen, but when I read its source code, it reads private fields with reflection, so I think I have my answer:\r\n\r\n - test private internal states (fields) with [PowerMock][1], or just reflection without the overhead of introducing another independency\r\n\r\n - for private methods: actually, the upvote for this question itself, and the huge number of comments and answers, shows that it is a very concurrent and controversial topic **where no definite answer could be given to suit every circumstance**. I understand that only the contract should be tested, but we also have coverage to consider. Actually, **I doubt that only testing contracts will 100% make a class immune to errors**. Private methods are those who process data in the class where it is defined and thus does not interest other classes, so we cannot simply expose to make it testable. I will **try not to test them**, but when you have to, **just go for it and forget all the answers here**. You know better your situation and restrictions than any other one on the Internet. When you have control over your code, use that. With consideration, but without overthinking.\r\n\r\n---\r\n\r\nAfter some time, when I reconsider it, I still believe this is true, but I saw better approaches.\r\n\r\nFirst of all, `Powermock.Whitebox` is still usable.\r\n\r\nAnd, Mockito `Whitebox` has been hidden after v2 (the latest version I can find with `Whitebox` is `testImplementation &#39;org.mockito:mockito-core:1.10.19&#39;`) and it has always been part of `org.mockito.internal` package, which is prone of breaking changes in the future (see [this post](https://stackoverflow.com/questions/40280918/what-do-i-use-instead-of-whitebox-in-mockito-2-2-to-set-fields)). So now I tend not to use it.\r\n\r\nIn [Gradle][2]/[Maven][3] projects, if you define private methods or fields, there aren&#39;t any other ways than reflection to get access to them, so the first part stays true. But, if you change the visibility to &quot;package private&quot;, **the tests following the same structure in `test` package will have access to them.** That is also another important reason why we are encouraged to create the same hierarchy in `main` and `test` package. So, when you have control over production code as well as tests, delete that `private` access modifier may be the best option for you because relatively it does not cause huge impact. And, that makes testing as well as **private method spying** possible.\r\n\r\n```java\r\n@Autowired\r\nprivate SomeService service; // With a package private method &quot;doSomething()&quot;\r\n\r\n@Test\r\nvoid shouldReturnTrueDoSomething() {\r\n    assertThat(doSomething(input), is(true)); // Package private method testing\r\n}\r\n\r\n@Test\r\nvoid shouldReturnTrueWhenServiceThrowsException() {\r\n    SomeService spy = Mockito.spy(service); // Spying real object\r\n    doThrow(new AppException()).when(spy).doSomething(input); // Spy package private method\r\n    ...\r\n\r\n}\r\n```\r\n\r\nWhen it comes to internal fields, in [Spring][4] you have `ReflectionUtils.setField()`.\r\n\r\nAt last, sometimes we can bypass the problem itself: if there is a coverage requirement to meet, maybe you can move these private methods into an inner static class and ignore this class in Jacoco. I just found some way to ignore the inner class in Jacoco Gradle tasks. [Another question][5].\r\n\r\n  [1]: https://de.wikipedia.org/wiki/PowerMock\r\n  [2]: https://en.wikipedia.org/wiki/Gradle\r\n  [3]: https://en.wikipedia.org/wiki/Apache_Maven\r\n  [4]: https://en.wikipedia.org/wiki/Spring_Framework\r\n  [5]: https://stackoverflow.com/questions/58604955/how-to-ignore-inner-static-classes-in-jacoco-when-using-gradle\r\n\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p><code>PowerMock.Whitebox</code> is the best option I have seen, but when I read its source code, it reads private fields with reflection, so I think I have my answer:</p>\n<ul>\n<li><p>test private internal states (fields) with <a href=\"https://de.wikipedia.org/wiki/PowerMock\" rel=\"nofollow noreferrer\">PowerMock</a>, or just reflection without the overhead of introducing another independency</p>\n</li>\n<li><p>for private methods: actually, the upvote for this question itself, and the huge number of comments and answers, shows that it is a very concurrent and controversial topic <strong>where no definite answer could be given to suit every circumstance</strong>. I understand that only the contract should be tested, but we also have coverage to consider. Actually, <strong>I doubt that only testing contracts will 100% make a class immune to errors</strong>. Private methods are those who process data in the class where it is defined and thus does not interest other classes, so we cannot simply expose to make it testable. I will <strong>try not to test them</strong>, but when you have to, <strong>just go for it and forget all the answers here</strong>. You know better your situation and restrictions than any other one on the Internet. When you have control over your code, use that. With consideration, but without overthinking.</p>\n</li>\n</ul>\n<hr />\n<p>After some time, when I reconsider it, I still believe this is true, but I saw better approaches.</p>\n<p>First of all, <code>Powermock.Whitebox</code> is still usable.</p>\n<p>And, Mockito <code>Whitebox</code> has been hidden after v2 (the latest version I can find with <code>Whitebox</code> is <code>testImplementation 'org.mockito:mockito-core:1.10.19'</code>) and it has always been part of <code>org.mockito.internal</code> package, which is prone of breaking changes in the future (see <a href=\"https://stackoverflow.com/questions/40280918/what-do-i-use-instead-of-whitebox-in-mockito-2-2-to-set-fields\">this post</a>). So now I tend not to use it.</p>\n<p>In <a href=\"https://en.wikipedia.org/wiki/Gradle\" rel=\"nofollow noreferrer\">Gradle</a>/<a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a> projects, if you define private methods or fields, there aren't any other ways than reflection to get access to them, so the first part stays true. But, if you change the visibility to &quot;package private&quot;, <strong>the tests following the same structure in <code>test</code> package will have access to them.</strong> That is also another important reason why we are encouraged to create the same hierarchy in <code>main</code> and <code>test</code> package. So, when you have control over production code as well as tests, delete that <code>private</code> access modifier may be the best option for you because relatively it does not cause huge impact. And, that makes testing as well as <strong>private method spying</strong> possible.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate SomeService service; // With a package private method &quot;doSomething()&quot;\n\n@Test\nvoid shouldReturnTrueDoSomething() {\n    assertThat(doSomething(input), is(true)); // Package private method testing\n}\n\n@Test\nvoid shouldReturnTrueWhenServiceThrowsException() {\n    SomeService spy = Mockito.spy(service); // Spying real object\n    doThrow(new AppException()).when(spy).doSomething(input); // Spy package private method\n    ...\n\n}\n</code></pre>\n<p>When it comes to internal fields, in <a href=\"https://en.wikipedia.org/wiki/Spring_Framework\" rel=\"nofollow noreferrer\">Spring</a> you have <code>ReflectionUtils.setField()</code>.</p>\n<p>At last, sometimes we can bypass the problem itself: if there is a coverage requirement to meet, maybe you can move these private methods into an inner static class and ignore this class in Jacoco. I just found some way to ignore the inner class in Jacoco Gradle tasks. <a href=\"https://stackoverflow.com/questions/58604955/how-to-ignore-inner-static-classes-in-jacoco-when-using-gradle\">Another question</a>.</p>\n"},{"tags":[],"owner":{"account_id":6115775,"reputation":30435,"user_id":4770877,"display_name":"yoAlex5"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1670464852,"creation_date":1562946652,"answer_id":57010282,"question_id":34571,"body_markdown":"Android has the [`@VisibleForTesting`][1] annotation from `android.support.annotation` package.\r\n\r\n&gt; The `@VisibleForTesting` annotation indicates that an annotated method is more visible than normally necessary to make the method testable. This annotation has an optional `otherwise` argument that lets you designate what the visibility of the method should have been if not for the need to make it visible for testing. Lint uses the `otherwise` argument to enforce the intended visibility.\r\n\r\nIn practice, it means that you should make a method open for testing and the `@VisibleForTesting` annotation will show a warning.\r\n\r\nFor example\r\n\r\n    package com.mypackage;\r\n\r\n    public class ClassA {\r\n\r\n        @VisibleForTesting(otherwise = VisibleForTesting.PRIVATE)\r\n        static void myMethod() {\r\n\r\n        }\r\n    }\r\n\r\nAnd when you call ClassA.myMethod() within the same package(com.mypackage) you will see the warning.\r\n\r\n[![Enter image description here][2]][2]\r\n\r\n  [1]: https://developer.android.com/studio/write/annotations.html#visible\r\n  [2]: https://i.stack.imgur.com/25FX3.png\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Android has the <a href=\"https://developer.android.com/studio/write/annotations.html#visible\" rel=\"nofollow noreferrer\"><code>@VisibleForTesting</code></a> annotation from <code>android.support.annotation</code> package.</p>\n<blockquote>\n<p>The <code>@VisibleForTesting</code> annotation indicates that an annotated method is more visible than normally necessary to make the method testable. This annotation has an optional <code>otherwise</code> argument that lets you designate what the visibility of the method should have been if not for the need to make it visible for testing. Lint uses the <code>otherwise</code> argument to enforce the intended visibility.</p>\n</blockquote>\n<p>In practice, it means that you should make a method open for testing and the <code>@VisibleForTesting</code> annotation will show a warning.</p>\n<p>For example</p>\n<pre><code>package com.mypackage;\n\npublic class ClassA {\n\n    @VisibleForTesting(otherwise = VisibleForTesting.PRIVATE)\n    static void myMethod() {\n\n    }\n}\n</code></pre>\n<p>And when you call ClassA.myMethod() within the same package(com.mypackage) you will see the warning.</p>\n<p><a href=\"https://i.stack.imgur.com/25FX3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/25FX3.png\" alt=\"Enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":3483592,"reputation":4765,"user_id":2915032,"accept_rate":100,"display_name":"avtomaton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565894467,"creation_date":1565893963,"answer_id":57514468,"question_id":34571,"body_markdown":"For C++ (since C++11) adding the test class as a friend works perfectly and does not break production encapsulation.\r\n\r\nLet&#39;s suppose that we have some class `Foo` with some private functions which really require testing, and some class `FooTest` that should have access to Foo&#39;s private members. Then we should write the following:\r\n\r\n```\r\n// prod.h: some production code header\r\n\r\n// forward declaration is enough\r\n// we should not include testing headers into production code\r\nclass FooTest;\r\n\r\nclass Foo\r\n{\r\n  // that does not affect Foo&#39;s functionality\r\n  // but now we have access to Foo&#39;s members from FooTest\r\n  friend FooTest;\r\npublic:\r\n  Foo();\r\nprivate:\r\n  bool veryComplicatedPrivateFuncThatReallyRequiresTesting();\r\n}\r\n```\r\n\r\n```\r\n// test.cpp: some test\r\n#include &lt;prod.h&gt;\r\n\r\nclass FooTest\r\n{\r\npublic:\r\n  void complicatedFisture() {\r\n    Foo foo;\r\n    ASSERT_TRUE(foo.veryComplicatedPrivateFuncThatReallyRequiresTesting());\r\n  }\r\n}\r\n\r\nint main(int /*argc*/, char* argv[])\r\n{\r\n  FooTest test;\r\n  test.complicatedFixture();  // and it really works!\r\n}\r\n```","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>For C++ (since C++11) adding the test class as a friend works perfectly and does not break production encapsulation.</p>\n\n<p>Let's suppose that we have some class <code>Foo</code> with some private functions which really require testing, and some class <code>FooTest</code> that should have access to Foo's private members. Then we should write the following:</p>\n\n<pre><code>// prod.h: some production code header\n\n// forward declaration is enough\n// we should not include testing headers into production code\nclass FooTest;\n\nclass Foo\n{\n  // that does not affect Foo's functionality\n  // but now we have access to Foo's members from FooTest\n  friend FooTest;\npublic:\n  Foo();\nprivate:\n  bool veryComplicatedPrivateFuncThatReallyRequiresTesting();\n}\n</code></pre>\n\n<pre><code>// test.cpp: some test\n#include &lt;prod.h&gt;\n\nclass FooTest\n{\npublic:\n  void complicatedFisture() {\n    Foo foo;\n    ASSERT_TRUE(foo.veryComplicatedPrivateFuncThatReallyRequiresTesting());\n  }\n}\n\nint main(int /*argc*/, char* argv[])\n{\n  FooTest test;\n  test.complicatedFixture();  // and it really works!\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9094789,"reputation":3313,"user_id":6769119,"display_name":"Mukundhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571406813,"creation_date":1571406813,"answer_id":58452308,"question_id":34571,"body_markdown":"The following **Reflection TestUtil** could be ***used generically*** to test the ***private methods for their atomicity***.\r\n\r\n\r\n\r\n\r\n    import com.google.common.base.Preconditions;\r\n    \r\n    import org.springframework.test.util.ReflectionTestUtils;\r\n    \r\n    /**\r\n     * &lt;p&gt;\r\n     * Invoker\r\n     * &lt;/p&gt;\r\n     *\r\n     * @author\r\n     * @created Oct-10-2019\r\n     */\r\n    public class Invoker {\r\n        private Object target;\r\n        private String methodName;\r\n        private Object[] arguments;\r\n    \r\n        public &lt;T&gt; T invoke() {\r\n            try {\r\n                Preconditions.checkNotNull(target, &quot;Target cannot be empty&quot;);\r\n                Preconditions.checkNotNull(methodName, &quot;MethodName cannot be empty&quot;);\r\n                if (null == arguments) {\r\n                    return ReflectionTestUtils.invokeMethod(target, methodName);\r\n                } else {\r\n                    return ReflectionTestUtils.invokeMethod(target, methodName, arguments);\r\n                }\r\n            } catch (Exception e) {\r\n               throw e;\r\n            }\r\n        }\r\n    \r\n        public Invoker withTarget(Object target) {\r\n            this.target = target;\r\n            return this;\r\n        }\r\n    \r\n        public Invoker withMethod(String methodName) {\r\n            this.methodName = methodName;\r\n            return this;\r\n        }\r\n    \r\n        public Invoker withArguments(Object... args) {\r\n            this.arguments = args;\r\n            return this;\r\n        }\r\n    \r\n    }\r\n    \r\n    Object privateMethodResponse = new Invoker()\r\n      .withTarget(targetObject)\r\n      .withMethod(PRIVATE_METHOD_NAME_TO_INVOKE)\r\n      .withArguments(arg1, arg2, arg3)\r\n      .invoke();\r\n    Assert.assertNotNutll(privateMethodResponse)\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>The following <strong>Reflection TestUtil</strong> could be <strong><em>used generically</em></strong> to test the <strong><em>private methods for their atomicity</em></strong>.</p>\n\n<pre><code>import com.google.common.base.Preconditions;\n\nimport org.springframework.test.util.ReflectionTestUtils;\n\n/**\n * &lt;p&gt;\n * Invoker\n * &lt;/p&gt;\n *\n * @author\n * @created Oct-10-2019\n */\npublic class Invoker {\n    private Object target;\n    private String methodName;\n    private Object[] arguments;\n\n    public &lt;T&gt; T invoke() {\n        try {\n            Preconditions.checkNotNull(target, \"Target cannot be empty\");\n            Preconditions.checkNotNull(methodName, \"MethodName cannot be empty\");\n            if (null == arguments) {\n                return ReflectionTestUtils.invokeMethod(target, methodName);\n            } else {\n                return ReflectionTestUtils.invokeMethod(target, methodName, arguments);\n            }\n        } catch (Exception e) {\n           throw e;\n        }\n    }\n\n    public Invoker withTarget(Object target) {\n        this.target = target;\n        return this;\n    }\n\n    public Invoker withMethod(String methodName) {\n        this.methodName = methodName;\n        return this;\n    }\n\n    public Invoker withArguments(Object... args) {\n        this.arguments = args;\n        return this;\n    }\n\n}\n\nObject privateMethodResponse = new Invoker()\n  .withTarget(targetObject)\n  .withMethod(PRIVATE_METHOD_NAME_TO_INVOKE)\n  .withArguments(arg1, arg2, arg3)\n  .invoke();\nAssert.assertNotNutll(privateMethodResponse)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5281059,"reputation":57,"user_id":4458900,"display_name":"backcoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668790967,"creation_date":1579141772,"answer_id":59762243,"question_id":34571,"body_markdown":"If you are only using [Mockito][1]:\r\n\r\nYou can consider the private method as a part of public method being tested. You can make sure you cover all the cases in private method when testing public method.\r\n\r\nSuppose you are a Mockito-only user (you are not allowed or don&#39;t want to use [PowerMock][2] or reflection or any such tools) and you don’t want to change the existing code or libraries being tested, this might be the best way.\r\n\r\nThe only thing you need to handle if you choose this way is the variables (user-defined objects) declared locally within private methods.  If the private method depends on locally declared variable objects and their methods, make sure you declare those user-defined objects globally as private object instead of locally declared objects. You can instantiate these objects locally.\r\n\r\nThis allows you to [mock][3] these objects and inject them back to testing object. You can also mock (using when/then) their methods.\r\n\r\nThis will allow you test private method without errors when testing the public method.\r\n\r\nAdvantages\r\n\r\n1. Code coverage\r\n2. Able to test the complete private method.\r\n\r\nDisadvantages\r\n\r\n1. Scope of the object&amp;mdash;if you don&#39;t want the object to be exposed to other methods within same class, this might not be your way.\r\n2. You might end up testing the private method multiple times when invoked at different public methods and/or in the same method multiple times.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Mockito\r\n  [2]: https://de.wikipedia.org/wiki/PowerMock\r\n  [3]: https://en.wikipedia.org/wiki/Mock_object\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>If you are only using <a href=\"https://en.wikipedia.org/wiki/Mockito\" rel=\"nofollow noreferrer\">Mockito</a>:</p>\n<p>You can consider the private method as a part of public method being tested. You can make sure you cover all the cases in private method when testing public method.</p>\n<p>Suppose you are a Mockito-only user (you are not allowed or don't want to use <a href=\"https://de.wikipedia.org/wiki/PowerMock\" rel=\"nofollow noreferrer\">PowerMock</a> or reflection or any such tools) and you don’t want to change the existing code or libraries being tested, this might be the best way.</p>\n<p>The only thing you need to handle if you choose this way is the variables (user-defined objects) declared locally within private methods.  If the private method depends on locally declared variable objects and their methods, make sure you declare those user-defined objects globally as private object instead of locally declared objects. You can instantiate these objects locally.</p>\n<p>This allows you to <a href=\"https://en.wikipedia.org/wiki/Mock_object\" rel=\"nofollow noreferrer\">mock</a> these objects and inject them back to testing object. You can also mock (using when/then) their methods.</p>\n<p>This will allow you test private method without errors when testing the public method.</p>\n<p>Advantages</p>\n<ol>\n<li>Code coverage</li>\n<li>Able to test the complete private method.</li>\n</ol>\n<p>Disadvantages</p>\n<ol>\n<li>Scope of the object—if you don't want the object to be exposed to other methods within same class, this might not be your way.</li>\n<li>You might end up testing the private method multiple times when invoked at different public methods and/or in the same method multiple times.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12989716,"reputation":3034,"user_id":9389293,"display_name":"Abhishek Sengupta"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1670463881,"creation_date":1584121344,"answer_id":60675043,"question_id":34571,"body_markdown":"Use this utility class if you are on [Spring][1]:\r\n\r\n    ReflectionTestUtils.invokeMethod(new ClassName(), &quot;privateMethodName&quot;);\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Spring_Framework\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Use this utility class if you are on <a href=\"https://en.wikipedia.org/wiki/Spring_Framework\" rel=\"nofollow noreferrer\">Spring</a>:</p>\n<pre><code>ReflectionTestUtils.invokeMethod(new ClassName(), &quot;privateMethodName&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9827336,"reputation":725,"user_id":7280140,"accept_rate":56,"display_name":"Ahmed Hussein"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1593413584,"creation_date":1593413584,"answer_id":62632701,"question_id":34571,"body_markdown":"In your class:\r\n\r\n    namespace my_namespace {\r\n        #ifdef UNIT_TEST\r\n            class test_class;\r\n        #endif\r\n\r\n        class my_class {\r\n            public:\r\n                #ifdef UNIT_TEST\r\n                    friend class test_class;\r\n                #endif\r\n            private:\r\n                void fun() { cout &lt;&lt; &quot;I am private&quot; &lt;&lt; endl; }\r\n        }\r\n    }\r\n\r\nIn your unit test class:\r\n\r\n    #ifndef UNIT_TEST\r\n        #define UNIT_TEST\r\n    #endif\r\n\r\n    #include &quot;my_class.h&quot;\r\n \r\n    class my_namespace::test_class {\r\n        public:\r\n            void fun() { my_obj.fun(); }\r\n        private:\r\n            my_class my_obj;\r\n    }\r\n\r\n    void my_unit_test() {\r\n        test_class test_obj;\r\n        test_obj.fun(); // here you accessed the private function ;)\r\n    }\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>In your class:</p>\n<pre><code>namespace my_namespace {\n    #ifdef UNIT_TEST\n        class test_class;\n    #endif\n\n    class my_class {\n        public:\n            #ifdef UNIT_TEST\n                friend class test_class;\n            #endif\n        private:\n            void fun() { cout &lt;&lt; &quot;I am private&quot; &lt;&lt; endl; }\n    }\n}\n</code></pre>\n<p>In your unit test class:</p>\n<pre><code>#ifndef UNIT_TEST\n    #define UNIT_TEST\n#endif\n\n#include &quot;my_class.h&quot;\n\nclass my_namespace::test_class {\n    public:\n        void fun() { my_obj.fun(); }\n    private:\n        my_class my_obj;\n}\n\nvoid my_unit_test() {\n    test_class test_obj;\n    test_obj.fun(); // here you accessed the private function ;)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3740643,"reputation":935,"user_id":3110488,"display_name":"m.nguyencntt"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668999884,"creation_date":1595576782,"answer_id":63069114,"question_id":34571,"body_markdown":"Here is my [Lombok][1] sample:\r\n\r\n    public static void main(String[] args) throws NoSuchFieldException, SecurityException, IllegalArgumentException, IllegalAccessException, NoSuchMethodException, InvocationTargetException {\r\n        Student student = new Student();\r\n\r\n        Field privateFieldName = Student.class.getDeclaredField(&quot;name&quot;);\r\n        privateFieldName.setAccessible(true);\r\n        privateFieldName.set(student, &quot;Naruto&quot;);\r\n\r\n        Field privateFieldAge = Student.class.getDeclaredField(&quot;age&quot;);\r\n        privateFieldAge.setAccessible(true);\r\n        privateFieldAge.set(student, &quot;28&quot;);\r\n\r\n        System.out.println(student.toString());\r\n\r\n        Method privateMethodGetInfo = Student.class.getDeclaredMethod(&quot;getInfo&quot;, String.class, String.class);\r\n        privateMethodGetInfo.setAccessible(true);\r\n        System.out.println(privateMethodGetInfo.invoke(student, &quot;Sasuke&quot;, &quot;29&quot;));\r\n    }\r\n\r\n\r\n    @Setter\r\n    @Getter\r\n    @ToString\r\n    class Student {\r\n        private String name;\r\n        private String age;\r\n        \r\n        private String getInfo(String name, String age) {\r\n            return name + &quot;-&quot; + age;\r\n        }\r\n    }\r\n\r\n  [1]: https://projectlombok.org/features/\r\n\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Here is my <a href=\"https://projectlombok.org/features/\" rel=\"nofollow noreferrer\">Lombok</a> sample:</p>\n<pre><code>public static void main(String[] args) throws NoSuchFieldException, SecurityException, IllegalArgumentException, IllegalAccessException, NoSuchMethodException, InvocationTargetException {\n    Student student = new Student();\n\n    Field privateFieldName = Student.class.getDeclaredField(&quot;name&quot;);\n    privateFieldName.setAccessible(true);\n    privateFieldName.set(student, &quot;Naruto&quot;);\n\n    Field privateFieldAge = Student.class.getDeclaredField(&quot;age&quot;);\n    privateFieldAge.setAccessible(true);\n    privateFieldAge.set(student, &quot;28&quot;);\n\n    System.out.println(student.toString());\n\n    Method privateMethodGetInfo = Student.class.getDeclaredMethod(&quot;getInfo&quot;, String.class, String.class);\n    privateMethodGetInfo.setAccessible(true);\n    System.out.println(privateMethodGetInfo.invoke(student, &quot;Sasuke&quot;, &quot;29&quot;));\n}\n\n\n@Setter\n@Getter\n@ToString\nclass Student {\n    private String name;\n    private String age;\n    \n    private String getInfo(String name, String age) {\n        return name + &quot;-&quot; + age;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17380199,"reputation":21,"user_id":12592592,"display_name":"Rinke"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1670463955,"creation_date":1618262353,"answer_id":67065816,"question_id":34571,"body_markdown":"I think most answers are too crude. It depends on your code if you should test private methods or not.\r\n\r\nI used private method testing in the past, and I did this by reflection. It works for me. I realize the problems with it, but for me it was the best solution.\r\n\r\nI have a heavy application that simulates human behaviour in a population of over a million persons. Every person is represented by an object. The main purpose of the application is to follow how something (disease, information, ideas) spreads through the population.\r\n\r\nFor this I have methods that pass on the disease or information from one object to another. There is absolutely no reason to make these methods public, for the end user is not interested in one pass from person to person. The end user is only interested in the grand picture of how it spreads through the population. So those methods are private.\r\n\r\nBut I want to know for sure if the single act of passing one bit of information from one person to another is doing what it should. Testing it via public user interfaces is also not possible, because it&#39;s just not public, and I think it&#39;s awkward to make it public just for the purpose of testing. The end output of the application is defined by hundreds of millions of such single steps being performed all the time. I cannot test the end output either, because that has complicated stochastability involved, which makes it too unpredictable to test.\r\n\r\nSo the way for me to test the application is by testing a single step of passing information from one person to another person. These are all private methods. And so I use reflection to test that.\r\n\r\nI&#39;m telling this story to show that it&#39;s not that plain black and white story. It depends on your application what is best. Under some circumstances, testing private methods via reflection might be your best option.\r\n\r\nIf some people here know better solutions in my use case, I&#39;d happily stand corrected of course....\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>I think most answers are too crude. It depends on your code if you should test private methods or not.</p>\n<p>I used private method testing in the past, and I did this by reflection. It works for me. I realize the problems with it, but for me it was the best solution.</p>\n<p>I have a heavy application that simulates human behaviour in a population of over a million persons. Every person is represented by an object. The main purpose of the application is to follow how something (disease, information, ideas) spreads through the population.</p>\n<p>For this I have methods that pass on the disease or information from one object to another. There is absolutely no reason to make these methods public, for the end user is not interested in one pass from person to person. The end user is only interested in the grand picture of how it spreads through the population. So those methods are private.</p>\n<p>But I want to know for sure if the single act of passing one bit of information from one person to another is doing what it should. Testing it via public user interfaces is also not possible, because it's just not public, and I think it's awkward to make it public just for the purpose of testing. The end output of the application is defined by hundreds of millions of such single steps being performed all the time. I cannot test the end output either, because that has complicated stochastability involved, which makes it too unpredictable to test.</p>\n<p>So the way for me to test the application is by testing a single step of passing information from one person to another person. These are all private methods. And so I use reflection to test that.</p>\n<p>I'm telling this story to show that it's not that plain black and white story. It depends on your application what is best. Under some circumstances, testing private methods via reflection might be your best option.</p>\n<p>If some people here know better solutions in my use case, I'd happily stand corrected of course....</p>\n"},{"tags":[],"owner":{"account_id":482765,"reputation":4526,"user_id":897373,"accept_rate":85,"display_name":"Saša"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1668790025,"creation_date":1618563971,"answer_id":67122309,"question_id":34571,"body_markdown":"I want to share a rule I have about testing which particularly is related to this topic:\r\n\r\n&gt; I think that you should never adapt production code in order to\r\n&gt; indulge easer writing of tests.\r\n\r\n*There are a few suggestions in other posts saying you should adapt the original class in order to test a private method - please red this warning first.*\r\n\r\nIf we change the accessibility of a method/field to package private or protected, just in order to have it accessible to tests, then we defeat the purpose of existence of private access directive.\r\n\r\nWhy should we have private fields/methods/classes at all when we want to have [test-driven development][1]? Should we declare everything as package private, or even public then, so we can test without any effort?&amp;mdash;I don&#39;t think so.\r\n\r\nFrom another point of view: *Tests should not burden performance and execution of the production application.*\r\n\r\nIf we change production code just for the sake of easier testing, that may burden performance and the execution of the application in some way.\r\n\r\nIf someone starts to change private access to package private, then a developer may eventually come up to other &quot;ingenious ideas&quot; about adding even more code to the original class. This would make additional noise to readability and can burden the performance of the application.\r\n\r\nWith changing of a private access to some less restrictive, we are opening the possibility to a developer for misusing the new situation in the future development of the application. Instead of enforcing him/her to develop in the proper way, we are tempting him/her with new possibilities and giving him ability to make wrong choices in the future.\r\n\r\nOf course there might be a few exceptions to this rule, but with clear understanding, what is the rule and what is the exception? We need to be absolutely sure we know why that kind of exception is introduced.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Test-driven_development\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>I want to share a rule I have about testing which particularly is related to this topic:</p>\n<blockquote>\n<p>I think that you should never adapt production code in order to\nindulge easer writing of tests.</p>\n</blockquote>\n<p><em>There are a few suggestions in other posts saying you should adapt the original class in order to test a private method - please red this warning first.</em></p>\n<p>If we change the accessibility of a method/field to package private or protected, just in order to have it accessible to tests, then we defeat the purpose of existence of private access directive.</p>\n<p>Why should we have private fields/methods/classes at all when we want to have <a href=\"https://en.wikipedia.org/wiki/Test-driven_development\" rel=\"nofollow noreferrer\">test-driven development</a>? Should we declare everything as package private, or even public then, so we can test without any effort?—I don't think so.</p>\n<p>From another point of view: <em>Tests should not burden performance and execution of the production application.</em></p>\n<p>If we change production code just for the sake of easier testing, that may burden performance and the execution of the application in some way.</p>\n<p>If someone starts to change private access to package private, then a developer may eventually come up to other &quot;ingenious ideas&quot; about adding even more code to the original class. This would make additional noise to readability and can burden the performance of the application.</p>\n<p>With changing of a private access to some less restrictive, we are opening the possibility to a developer for misusing the new situation in the future development of the application. Instead of enforcing him/her to develop in the proper way, we are tempting him/her with new possibilities and giving him ability to make wrong choices in the future.</p>\n<p>Of course there might be a few exceptions to this rule, but with clear understanding, what is the rule and what is the exception? We need to be absolutely sure we know why that kind of exception is introduced.</p>\n"},{"tags":[],"owner":{"account_id":3455213,"reputation":473,"user_id":2893873,"accept_rate":50,"display_name":"d3rbastl3r"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668789778,"creation_date":1643707352,"answer_id":70938111,"question_id":34571,"body_markdown":"I feel exactly the same ... change the access modifier for a method just to be able to run a test looks for me as a bad idea. Also in our company we had a lot of discussions about it and in my opinion, really nice way to test a private method is to using Java reflection or another framework which making the method testable. I did so multiple times for complex private methods and this helped me to keep the test small, readable and maintainable.\r\n\r\nAfter I have read all the answers here, I just disagree with persons who say &quot;if you need to test a private method, then there is a code smell&quot; or even &quot;don&#180;t test private methods&quot; ... so I have a little example for you:\r\n\r\nImagine I have a class with one public method and a couple of private methods:\r\n\r\n    public class ConwaysGameOfLife {\r\n\r\n        private boolean[][] generationData = new boolean[128][128];\r\n\r\n        /**\r\n         * Compute the next generation and return the new state\r\n         * Also saving the new state in generationData\r\n         */\r\n        public boolean[][] computeNextGeneration() {\r\n            boolean[][] tempData = new boolean[128][128];\r\n\r\n            for (int yPos=0; yPos&lt;=generationData.length; yPos++) {\r\n                for (int xPos=0; xPos&lt;=generationData[yPos].length; xPos++) {\r\n                    int neighbors = countNeighbors(yPos, xPos);\r\n                    tempData[yPos][xPos] = determineCellState(neighbors, yPos, xPos);\r\n                }\r\n            }\r\n\r\n            generationData = tempData;\r\n            return generationData;\r\n        }\r\n\r\n        /**\r\n         * Counting the neighbors for a cell on given position considering all the edge cases\r\n         *\r\n         * @return the amount of found neighbors for a cell\r\n         */\r\n        private int countNeighbors(int yPos, int xPos) {}\r\n\r\n        /**\r\n         * Determine the cell state depending on the amount of neighbors of a cell and on a current state of the cell\r\n         *\r\n         * @return the new cell state\r\n         */\r\n        private boolean determineCellState(int neighborsAmount, int yPos, int xPos) {}\r\n    }\r\n\r\nSo at least for the method &quot;countNeighbors&quot; I need to test eight edge cases and also some general cases (cells directly in the corners, cells directly on the edges of the matrix and cells somewhere in the middle). So if I am only trying to cover all the cases through the &quot;computeNextGeneration&quot; method and after refactoring, some tests are red, it is probably time consuming to identify the place where the bug is.\r\n\r\nIf I am testing &quot;determineCellState&quot; and &quot;countNeighbors&quot; separately and after refactoring and optimization, tests of &quot;computeNextGeneration&quot; and &quot;determineCellState&quot; are red, I am pretty sure that the error will be in the &quot;determineCellState&quot; method.\r\n\r\nAlso, if you write unit tests for those methods from the beginning, this tests will help you to develop the methods / the algorithms without a need to considering and wrapping other method calls and cases inside the public method. You can just write fast small tests covering your cases in the method ... for example if the test with the name &quot;countNeighbors_should_return_right_amount_of_neighbors_for_the_right_top_corner_cell()&quot; fails, then it is pretty clear where to look for the bug.\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>I feel exactly the same ... change the access modifier for a method just to be able to run a test looks for me as a bad idea. Also in our company we had a lot of discussions about it and in my opinion, really nice way to test a private method is to using Java reflection or another framework which making the method testable. I did so multiple times for complex private methods and this helped me to keep the test small, readable and maintainable.</p>\n<p>After I have read all the answers here, I just disagree with persons who say &quot;if you need to test a private method, then there is a code smell&quot; or even &quot;don´t test private methods&quot; ... so I have a little example for you:</p>\n<p>Imagine I have a class with one public method and a couple of private methods:</p>\n<pre><code>public class ConwaysGameOfLife {\n\n    private boolean[][] generationData = new boolean[128][128];\n\n    /**\n     * Compute the next generation and return the new state\n     * Also saving the new state in generationData\n     */\n    public boolean[][] computeNextGeneration() {\n        boolean[][] tempData = new boolean[128][128];\n\n        for (int yPos=0; yPos&lt;=generationData.length; yPos++) {\n            for (int xPos=0; xPos&lt;=generationData[yPos].length; xPos++) {\n                int neighbors = countNeighbors(yPos, xPos);\n                tempData[yPos][xPos] = determineCellState(neighbors, yPos, xPos);\n            }\n        }\n\n        generationData = tempData;\n        return generationData;\n    }\n\n    /**\n     * Counting the neighbors for a cell on given position considering all the edge cases\n     *\n     * @return the amount of found neighbors for a cell\n     */\n    private int countNeighbors(int yPos, int xPos) {}\n\n    /**\n     * Determine the cell state depending on the amount of neighbors of a cell and on a current state of the cell\n     *\n     * @return the new cell state\n     */\n    private boolean determineCellState(int neighborsAmount, int yPos, int xPos) {}\n}\n</code></pre>\n<p>So at least for the method &quot;countNeighbors&quot; I need to test eight edge cases and also some general cases (cells directly in the corners, cells directly on the edges of the matrix and cells somewhere in the middle). So if I am only trying to cover all the cases through the &quot;computeNextGeneration&quot; method and after refactoring, some tests are red, it is probably time consuming to identify the place where the bug is.</p>\n<p>If I am testing &quot;determineCellState&quot; and &quot;countNeighbors&quot; separately and after refactoring and optimization, tests of &quot;computeNextGeneration&quot; and &quot;determineCellState&quot; are red, I am pretty sure that the error will be in the &quot;determineCellState&quot; method.</p>\n<p>Also, if you write unit tests for those methods from the beginning, this tests will help you to develop the methods / the algorithms without a need to considering and wrapping other method calls and cases inside the public method. You can just write fast small tests covering your cases in the method ... for example if the test with the name &quot;countNeighbors_should_return_right_amount_of_neighbors_for_the_right_top_corner_cell()&quot; fails, then it is pretty clear where to look for the bug.</p>\n"},{"tags":[],"owner":{"account_id":167824,"reputation":21098,"user_id":1439305,"accept_rate":81,"display_name":"Audrius Meškauskas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678957086,"creation_date":1678957086,"answer_id":75753914,"question_id":34571,"body_markdown":"Define implementation class where the reason of public methods to be public is that they implement the clearly defined functionality, rather than if they are accessed from the outside of the class or not. If the functionality you want to test conveniently fits into a single method, make it into public function.\r\n\r\nIf you write the algorithm for exactly sum, there is nothing great in design the has a private sum() method returning sum minus one, to accomodate &quot;one off&quot; somewhere else. \r\n\r\nThe &quot;production&quot; class may have third party classes that require license dongle, call network services, produce non deterministic output, use specific hardware and the like. It may be totally no way how this could be unit tested.","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Define implementation class where the reason of public methods to be public is that they implement the clearly defined functionality, rather than if they are accessed from the outside of the class or not. If the functionality you want to test conveniently fits into a single method, make it into public function.</p>\n<p>If you write the algorithm for exactly sum, there is nothing great in design the has a private sum() method returning sum minus one, to accomodate &quot;one off&quot; somewhere else.</p>\n<p>The &quot;production&quot; class may have third party classes that require license dongle, call network services, produce non deterministic output, use specific hardware and the like. It may be totally no way how this could be unit tested.</p>\n"}],"owner":{"account_id":2244,"reputation":12044,"user_id":3098,"accept_rate":78,"display_name":"MattGrommes"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1236087,"favorite_count":0,"down_vote_count":7,"up_vote_count":3214,"accepted_answer_id":34658,"answer_count":59,"score":3207,"last_activity_date":1678957086,"creation_date":1220026269,"question_id":34571,"body_markdown":"How do I use JUnit to test a class that has internal private methods, fields or nested classes?\r\n\r\nIt seems bad to change the access modifier for a method just to be able to run a test. \r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>How do I use JUnit to test a class that has internal private methods, fields or nested classes?</p>\n<p>It seems bad to change the access modifier for a method just to be able to run a test.</p>\n"},{"tags":["java","android-arrayadapter"],"owner":{"account_id":26268245,"reputation":1,"user_id":19938488,"display_name":"Justin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678957013,"creation_date":1678957013,"question_id":75753901,"body_markdown":"I have the following Code: It gets items from my API and saves every item into an Array.\r\nThe Array is given to an ArrayAdapter which shows every item in a ListView.\r\n\r\nMy Problem is that the ListView wont show the Items ArrayList.\r\n\r\n\r\n\r\nI already checked the response of the API and the Arraylist Items, both have the expected things.\r\n\r\nIf I delete `items.clear();` in getUser() the ListView will show the Arraylist\r\n\r\n\r\n\r\n\r\nThis is my Code:\r\n\r\n\r\n```\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.text.Editable;\r\nimport android.text.TextWatcher;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.ListView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.android.volley.Request;\r\nimport com.android.volley.Response;\r\nimport com.android.volley.VolleyError;\r\nimport com.android.volley.toolbox.StringRequest;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class AddUserToListActivity extends AppCompatActivity {\r\n\r\n    LinearLayout goToMyLists, goToHomepage, goToMyAccount;\r\n    SharedpreferencesManager sharedpreferencesManager;\r\n    ImageView navbarImageView;\r\n    ImageManager imageManager;\r\n    EditText inputText;\r\n    ArrayList&lt;ListItemAddUser&gt; items;\r\n    ListView listView;\r\n    AddUserToListAdapter adapter;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_add_user_to_list);\r\n\r\n        goToHomepage = findViewById(R.id.addUserToList_navigation_goToHomepage);\r\n        goToMyLists = findViewById(R.id.addUserToList_navigation_goToMyList);\r\n        goToMyAccount = findViewById(R.id.addUserToList_navigation_goToMyProfile);\r\n        navbarImageView = findViewById(R.id.addUserToList_navbar_ProfilImageView);\r\n        inputText = findViewById(R.id.addUserLists_inputText);\r\n        listView = findViewById(R.id.addUserToList_listView);\r\n        sharedpreferencesManager = new SharedpreferencesManager(this);\r\n        imageManager = new ImageManager(this, navbarImageView);\r\n        imageManager.refreshImageViewFromSharedPreferences();\r\n        imageManager.refreshImage();\r\n        items = new ArrayList&lt;&gt;();\r\n        createAdapter();\r\n\r\n        //Navigation zur Homepage\r\n        goToHomepage.setOnClickListener(view -&gt; {\r\n            startActivity(new Intent(this, HomepageActivity.class));\r\n            overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\r\n            finish();\r\n        });\r\n\r\n        goToMyLists.setOnClickListener(view -&gt; {\r\n            startActivity(new Intent(this, MyListsActivity.class));\r\n            overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\r\n            finish();\r\n        });\r\n\r\n        goToMyAccount.setOnClickListener(view -&gt; {\r\n            startActivity(new Intent(this, AccountActivity.class));\r\n            overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\r\n            finish();\r\n        });\r\n\r\n        inputText.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n                String searchText = charSequence.toString().trim();\r\n                if (!searchText.isEmpty()) {\r\n                    getUser(searchText);\r\n                } else {\r\n                    items.clear();\r\n                }\r\n                adapter.notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable editable) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    public void getUser(String inputText) {\r\n        items.clear();\r\n        String url = &quot;http://bfi.bbs-me.org:2536/api/searchUsers.php&quot;;\r\n        final String[] jsonStatus = new String[1];\r\n        final String[] jsonMessage = new String[1];\r\n        StringRequest stringRequest = new StringRequest(Request.Method.POST, url,\r\n                new Response.Listener&lt;String&gt;() {\r\n                    @Override\r\n                    public void onResponse(String response) {\r\n                        JSONObject jsonObject;\r\n                        try {\r\n                            jsonObject = new JSONObject(response);\r\n                        } catch (JSONException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                        try {\r\n                            if (jsonObject.has(&quot;status&quot;)) {\r\n                                jsonStatus[0] = jsonObject.getString(&quot;status&quot;);\r\n                            }\r\n\r\n\r\n                        } catch (JSONException e) {\r\n                            ToastManager.showToast(AddUserToListActivity.this, &quot;Failed to parse server response!&quot;, Toast.LENGTH_SHORT);\r\n                            e.printStackTrace();\r\n                        }\r\n\r\n                        if (jsonObject.has(&quot;status&quot;)) {\r\n                            if (jsonStatus[0].equals(&quot;200&quot;)) {\r\n                                //System.out.println(&quot;\\n\\n\\n\\n\\n\\n&quot; + jsonObject + &quot;\\n\\n\\n\\n\\n\\n&quot;);\r\n                                try {\r\n\r\n                                    JSONArray jsonArray = jsonObject.getJSONArray(&quot;users&quot;);\r\n                                    int length = jsonArray.length();\r\n\r\n                                    for (int i = 0; i &lt; length; i++) {\r\n                                        JSONObject listObject = jsonArray.getJSONObject(i);\r\n                                        String user_id = listObject.getString(&quot;user_id&quot;);\r\n                                        String username = listObject.getString(&quot;username&quot;);\r\n                                        String image = listObject.getString(&quot;image&quot;);\r\n                                        items.add(new ListItemAddUser(user_id, username, image));\r\n                                    }\r\n                                    System.out.println(&quot;\\n\\n\\n\\n\\n\\nArray: &quot; + items);\r\n                                    System.out.println(&quot;\\n\\n\\n\\n\\n\\n&quot; + jsonObject + &quot;\\n\\n\\n\\n\\n\\n&quot;);\r\n                                } catch (JSONException e) {\r\n                                    throw new RuntimeException(e);\r\n                                }\r\n                            }\r\n                        } else {\r\n                            ToastManager.showToast(AddUserToListActivity.this, &quot;Fehler aufgetreten&quot;, Toast.LENGTH_SHORT);\r\n                            //System.out.println(&quot;\\n\\n\\n\\n\\n\\n&quot; + jsonMessage[0] + &quot;\\n\\n\\n\\n\\n\\n&quot;);\r\n                        }\r\n                    }\r\n                },\r\n                new Response.ErrorListener() {\r\n                    @Override\r\n                    public void onErrorResponse(VolleyError error) {\r\n                        ToastManager.showToast(AddUserToListActivity.this, &quot;Verbindung zwischen Api und App unterbrochen (getUserLists)!&quot;, Toast.LENGTH_LONG);\r\n                    }\r\n                }) {\r\n            @Override\r\n            protected Map&lt;String, String&gt; getParams() {\r\n                Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n                params.put(&quot;user_id&quot;, sharedpreferencesManager.getId());\r\n                params.put(&quot;search&quot;, inputText);\r\n                return params;\r\n            }\r\n        };\r\n\r\n        // F&#252;gen Sie die Volley-Abfrage zur Warteschlange hinzu\r\n        MySingleton.getInstance(AddUserToListActivity.this).addToRequestQueue(stringRequest);\r\n    }\r\n\r\n\r\n    public void createAdapter() {\r\n        // Create the adapter\r\n        adapter = new AddUserToListAdapter(this, items);\r\n        listView.setAdapter(adapter);\r\n    }\r\n\r\n    public void onBackPressed() {\r\n        startActivity(new Intent(this, MyListsActivity.class));\r\n        overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\r\n        finish();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n```\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\n\r\nimport java.util.List;\r\n\r\npublic class AddUserToListAdapter extends ArrayAdapter&lt;ListItemAddUser&gt; {\r\n\r\n    Context context;\r\n\r\n\r\n    public AddUserToListAdapter(@NonNull Context context, List&lt;ListItemAddUser&gt; items) {\r\n        super(context, 0, items);\r\n        this.context = context;\r\n    }\r\n\r\n\r\n    @Override\r\n    public View getView(int position, View convertView, ViewGroup parent) {\r\n        // Inflate the view if it doesn&#39;t exist\r\n        if (convertView == null) {\r\n            convertView = LayoutInflater.from(getContext()).inflate(R.layout.template_add_user_to_list, parent, false);\r\n        }\r\n\r\n        ImageView imageView;\r\n        Button button;\r\n        TextView textView;\r\n\r\n        // Get the item at the current position\r\n        ListItemAddUser item = getItem(position);\r\n\r\n\r\n        // Set the text of the TextView in the view\r\n\r\n        imageView = convertView.findViewById(R.id.add_user_to_list_image);\r\n        button = convertView.findViewById(R.id.add_user_to_list_button);\r\n        textView = convertView.findViewById(R.id.add_user_to_list_username);\r\n\r\n        textView.setText(item.getUsername());\r\n\r\n\r\n        return convertView;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n```\r\npublic class ListItemAddUser {\r\n\r\n    private String user_id, username, image;\r\n\r\n    public ListItemAddUser(String user_id, String username, String image) {\r\n        this.user_id = user_id;\r\n        this.username = username;\r\n        this.image = image;\r\n    }\r\n\r\n    public String getImage() {\r\n        return image;\r\n    }\r\n\r\n    public String getUser_id() {\r\n        return user_id;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n}\r\n```\r\n","title":"Why is my ListView in android Studio empty when my Array adapter should have the items of the Array","body":"<p>I have the following Code: It gets items from my API and saves every item into an Array.\nThe Array is given to an ArrayAdapter which shows every item in a ListView.</p>\n<p>My Problem is that the ListView wont show the Items ArrayList.</p>\n<p>I already checked the response of the API and the Arraylist Items, both have the expected things.</p>\n<p>If I delete <code>items.clear();</code> in getUser() the ListView will show the Arraylist</p>\n<p>This is my Code:</p>\n<pre><code>import android.content.Intent;\nimport android.os.Bundle;\nimport android.text.Editable;\nimport android.text.TextWatcher;\nimport android.widget.EditText;\nimport android.widget.ImageView;\nimport android.widget.LinearLayout;\nimport android.widget.ListView;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.android.volley.Request;\nimport com.android.volley.Response;\nimport com.android.volley.VolleyError;\nimport com.android.volley.toolbox.StringRequest;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class AddUserToListActivity extends AppCompatActivity {\n\n    LinearLayout goToMyLists, goToHomepage, goToMyAccount;\n    SharedpreferencesManager sharedpreferencesManager;\n    ImageView navbarImageView;\n    ImageManager imageManager;\n    EditText inputText;\n    ArrayList&lt;ListItemAddUser&gt; items;\n    ListView listView;\n    AddUserToListAdapter adapter;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_add_user_to_list);\n\n        goToHomepage = findViewById(R.id.addUserToList_navigation_goToHomepage);\n        goToMyLists = findViewById(R.id.addUserToList_navigation_goToMyList);\n        goToMyAccount = findViewById(R.id.addUserToList_navigation_goToMyProfile);\n        navbarImageView = findViewById(R.id.addUserToList_navbar_ProfilImageView);\n        inputText = findViewById(R.id.addUserLists_inputText);\n        listView = findViewById(R.id.addUserToList_listView);\n        sharedpreferencesManager = new SharedpreferencesManager(this);\n        imageManager = new ImageManager(this, navbarImageView);\n        imageManager.refreshImageViewFromSharedPreferences();\n        imageManager.refreshImage();\n        items = new ArrayList&lt;&gt;();\n        createAdapter();\n\n        //Navigation zur Homepage\n        goToHomepage.setOnClickListener(view -&gt; {\n            startActivity(new Intent(this, HomepageActivity.class));\n            overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\n            finish();\n        });\n\n        goToMyLists.setOnClickListener(view -&gt; {\n            startActivity(new Intent(this, MyListsActivity.class));\n            overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\n            finish();\n        });\n\n        goToMyAccount.setOnClickListener(view -&gt; {\n            startActivity(new Intent(this, AccountActivity.class));\n            overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\n            finish();\n        });\n\n        inputText.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n            }\n\n            @Override\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n                String searchText = charSequence.toString().trim();\n                if (!searchText.isEmpty()) {\n                    getUser(searchText);\n                } else {\n                    items.clear();\n                }\n                adapter.notifyDataSetChanged();\n            }\n\n            @Override\n            public void afterTextChanged(Editable editable) {\n\n            }\n        });\n    }\n\n\n    public void getUser(String inputText) {\n        items.clear();\n        String url = &quot;http://bfi.bbs-me.org:2536/api/searchUsers.php&quot;;\n        final String[] jsonStatus = new String[1];\n        final String[] jsonMessage = new String[1];\n        StringRequest stringRequest = new StringRequest(Request.Method.POST, url,\n                new Response.Listener&lt;String&gt;() {\n                    @Override\n                    public void onResponse(String response) {\n                        JSONObject jsonObject;\n                        try {\n                            jsonObject = new JSONObject(response);\n                        } catch (JSONException e) {\n                            throw new RuntimeException(e);\n                        }\n                        try {\n                            if (jsonObject.has(&quot;status&quot;)) {\n                                jsonStatus[0] = jsonObject.getString(&quot;status&quot;);\n                            }\n\n\n                        } catch (JSONException e) {\n                            ToastManager.showToast(AddUserToListActivity.this, &quot;Failed to parse server response!&quot;, Toast.LENGTH_SHORT);\n                            e.printStackTrace();\n                        }\n\n                        if (jsonObject.has(&quot;status&quot;)) {\n                            if (jsonStatus[0].equals(&quot;200&quot;)) {\n                                //System.out.println(&quot;\\n\\n\\n\\n\\n\\n&quot; + jsonObject + &quot;\\n\\n\\n\\n\\n\\n&quot;);\n                                try {\n\n                                    JSONArray jsonArray = jsonObject.getJSONArray(&quot;users&quot;);\n                                    int length = jsonArray.length();\n\n                                    for (int i = 0; i &lt; length; i++) {\n                                        JSONObject listObject = jsonArray.getJSONObject(i);\n                                        String user_id = listObject.getString(&quot;user_id&quot;);\n                                        String username = listObject.getString(&quot;username&quot;);\n                                        String image = listObject.getString(&quot;image&quot;);\n                                        items.add(new ListItemAddUser(user_id, username, image));\n                                    }\n                                    System.out.println(&quot;\\n\\n\\n\\n\\n\\nArray: &quot; + items);\n                                    System.out.println(&quot;\\n\\n\\n\\n\\n\\n&quot; + jsonObject + &quot;\\n\\n\\n\\n\\n\\n&quot;);\n                                } catch (JSONException e) {\n                                    throw new RuntimeException(e);\n                                }\n                            }\n                        } else {\n                            ToastManager.showToast(AddUserToListActivity.this, &quot;Fehler aufgetreten&quot;, Toast.LENGTH_SHORT);\n                            //System.out.println(&quot;\\n\\n\\n\\n\\n\\n&quot; + jsonMessage[0] + &quot;\\n\\n\\n\\n\\n\\n&quot;);\n                        }\n                    }\n                },\n                new Response.ErrorListener() {\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n                        ToastManager.showToast(AddUserToListActivity.this, &quot;Verbindung zwischen Api und App unterbrochen (getUserLists)!&quot;, Toast.LENGTH_LONG);\n                    }\n                }) {\n            @Override\n            protected Map&lt;String, String&gt; getParams() {\n                Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\n                params.put(&quot;user_id&quot;, sharedpreferencesManager.getId());\n                params.put(&quot;search&quot;, inputText);\n                return params;\n            }\n        };\n\n        // Fügen Sie die Volley-Abfrage zur Warteschlange hinzu\n        MySingleton.getInstance(AddUserToListActivity.this).addToRequestQueue(stringRequest);\n    }\n\n\n    public void createAdapter() {\n        // Create the adapter\n        adapter = new AddUserToListAdapter(this, items);\n        listView.setAdapter(adapter);\n    }\n\n    public void onBackPressed() {\n        startActivity(new Intent(this, MyListsActivity.class));\n        overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\n        finish();\n    }\n}\n\n</code></pre>\n<pre><code>\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\n\nimport java.util.List;\n\npublic class AddUserToListAdapter extends ArrayAdapter&lt;ListItemAddUser&gt; {\n\n    Context context;\n\n\n    public AddUserToListAdapter(@NonNull Context context, List&lt;ListItemAddUser&gt; items) {\n        super(context, 0, items);\n        this.context = context;\n    }\n\n\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n        // Inflate the view if it doesn't exist\n        if (convertView == null) {\n            convertView = LayoutInflater.from(getContext()).inflate(R.layout.template_add_user_to_list, parent, false);\n        }\n\n        ImageView imageView;\n        Button button;\n        TextView textView;\n\n        // Get the item at the current position\n        ListItemAddUser item = getItem(position);\n\n\n        // Set the text of the TextView in the view\n\n        imageView = convertView.findViewById(R.id.add_user_to_list_image);\n        button = convertView.findViewById(R.id.add_user_to_list_button);\n        textView = convertView.findViewById(R.id.add_user_to_list_username);\n\n        textView.setText(item.getUsername());\n\n\n        return convertView;\n    }\n\n\n}\n</code></pre>\n<pre><code>public class ListItemAddUser {\n\n    private String user_id, username, image;\n\n    public ListItemAddUser(String user_id, String username, String image) {\n        this.user_id = user_id;\n        this.username = username;\n        this.image = image;\n    }\n\n    public String getImage() {\n        return image;\n    }\n\n    public String getUser_id() {\n        return user_id;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","scroll","listener"],"owner":{"account_id":16262731,"reputation":1207,"user_id":11743643,"display_name":"Yuval.R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678957002,"creation_date":1678957002,"question_id":75753900,"body_markdown":"I&#39;m trying to create an app which tracks the user&#39;s activity on other apps, mainly scrolling.\r\nI&#39;ve tried searching for ways to detect scrolling on another app, but couldn&#39;t find anything, my best idea currently is to draw my app over the other apps (which I know is possible) and then somehow forwarding scroll events from it to the background app, although that &quot;forwarding&quot; does not seem to be possible.\r\n\r\nDoes anyone have a solution for this?","title":"Detecting scroll evevnts on other apps in Java (Android)","body":"<p>I'm trying to create an app which tracks the user's activity on other apps, mainly scrolling.\nI've tried searching for ways to detect scrolling on another app, but couldn't find anything, my best idea currently is to draw my app over the other apps (which I know is possible) and then somehow forwarding scroll events from it to the background app, although that &quot;forwarding&quot; does not seem to be possible.</p>\n<p>Does anyone have a solution for this?</p>\n"},{"tags":["java","eclipse","selenium-webdriver","cucumber","ui-automation"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":2,"creation_date":1678957686,"post_id":75753807,"comment_id":133634482,"body_markdown":"You can&#39;t really install just the one plug-in. pde.ui is part of the plug-in development environment, the whole feature would need to be installed. In any case, But Neon is now 21 release old, how about installing a suitiable Eclipse 2023-03 from https://www.eclipse.org/downloads/packages/","body":"You can&#39;t really install just the one plug-in. pde.ui is part of the plug-in development environment, the whole feature would need to be installed. In any case, But Neon is now 21 release old, how about installing a suitiable Eclipse 2023-03 from <a href=\"https://www.eclipse.org/downloads/packages/\" rel=\"nofollow noreferrer\">eclipse.org/downloads/packages</a>"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1678976506,"post_id":75753807,"comment_id":133640272,"body_markdown":"The 2023-03 Eclipse IDE for Eclipse Committers would contain that feature.","body":"The 2023-03 Eclipse IDE for Eclipse Committers would contain that feature."},{"owner":{"account_id":23930456,"reputation":89,"user_id":17925025,"display_name":"Sanghamitra Bhowmick"},"score":0,"creation_date":1678980984,"post_id":75753807,"comment_id":133641816,"body_markdown":"Yes, upgrading the eclipse version worked. Thank you so much @greg-449 for the insight!! Thank you @nitind!!","body":"Yes, upgrading the eclipse version worked. Thank you so much @greg-449 for the insight!! Thank you @nitind!!"}],"owner":{"account_id":23930456,"reputation":89,"user_id":17925025,"display_name":"Sanghamitra Bhowmick"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678956328,"creation_date":1678956328,"question_id":75753807,"body_markdown":"I am trying to install the Cucumber Eclipse plugin in my VDI (Virtual Desktop Infrastructure) which has no internet connection. However, I am getting an error message saying &quot;requires &#39;bundle.org.eclipse.pde.ui 3.5.0, but it could not be found&quot; when I try to install the plugin. My Eclipse version is Neon.3 Release (4.6.3).\r\n\r\nI have tried installing the plugin through the &quot;Install New Software&quot; option in Eclipse and by manually downloading the plugin and trying to install it using the &quot;Install&quot; option in Eclipse. I have also checked that the &quot;Contact all update sites during install to find required software&quot; option is unchecked.\r\n\r\nI have searched for solutions online, but most of them suggest installing the missing bundle through the Eclipse update site. However, as I am working on a VDI with no internet connection, this solution is not feasible for me.\r\n\r\nCan anyone suggest a solution for installing the Cucumber Eclipse plugin in my VDI without an internet connection and resolving the error message?","title":"Unable to install Cucumber Eclipse plugin inside VDI with no internet connection, getting error &quot;requires &#39;bundle.org.eclipse.pde.ui 3.5.0","body":"<p>I am trying to install the Cucumber Eclipse plugin in my VDI (Virtual Desktop Infrastructure) which has no internet connection. However, I am getting an error message saying &quot;requires 'bundle.org.eclipse.pde.ui 3.5.0, but it could not be found&quot; when I try to install the plugin. My Eclipse version is Neon.3 Release (4.6.3).</p>\n<p>I have tried installing the plugin through the &quot;Install New Software&quot; option in Eclipse and by manually downloading the plugin and trying to install it using the &quot;Install&quot; option in Eclipse. I have also checked that the &quot;Contact all update sites during install to find required software&quot; option is unchecked.</p>\n<p>I have searched for solutions online, but most of them suggest installing the missing bundle through the Eclipse update site. However, as I am working on a VDI with no internet connection, this solution is not feasible for me.</p>\n<p>Can anyone suggest a solution for installing the Cucumber Eclipse plugin in my VDI without an internet connection and resolving the error message?</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1678961823,"post_id":75752840,"comment_id":133635676,"body_markdown":"Your code with consumer.seekToBeginning looks good. Why exactly it didn&#39;t work? Please add log output of the consumer with and without this line consumer.seekToBeginning(consumer.assignment()); Just to be sure - the line is after consumer.subscribe, right?","body":"Your code with consumer.seekToBeginning looks good. Why exactly it didn&#39;t work? Please add log output of the consumer with and without this line consumer.seekToBeginning(consumer.assignment()); Just to be sure - the line is after consumer.subscribe, right?"},{"owner":{"account_id":19286557,"reputation":1,"user_id":14097402,"display_name":"Gireesh d"},"score":0,"creation_date":1679027155,"post_id":75752840,"comment_id":133650810,"body_markdown":"@Mar-Z .. I&#39;m not getting logs its only consuming earliest messages","body":"@Mar-Z .. I&#39;m not getting logs its only consuming earliest messages"}],"answers":[{"tags":[],"owner":{"account_id":10182846,"reputation":1,"user_id":7518962,"display_name":"dongjb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678950059,"creation_date":1678950059,"answer_id":75752990,"question_id":75752840,"body_markdown":"    private void adjustOffset(KafkaConsumer&lt;byte[], byte[]&gt; consumer) {\r\n        Set&lt;TopicPartition&gt; assignments = consumer.assignment();\r\n        switch (ConfAttr.KAFKA_OFFSET_ADJUST_TYPE) {\r\n            case &quot;0&quot;:\r\n                break;\r\n            case &quot;1&quot;:\r\n                assignments.forEach(topicPartition -&gt;\r\n                        consumer.seekToBeginning(\r\n                                Arrays.asList(topicPartition)));\r\n                break;\r\n            case &quot;2&quot;:\r\n                assignments.forEach(topicPartition -&gt;\r\n                        consumer.seek(\r\n                                topicPartition,\r\n                                Integer.parseInt(ConfAttr.KAFKA_OFFSET_ADJUST_VALUE)));\r\n                break;\r\n            case &quot;3&quot;:\r\n                Map&lt;TopicPartition, Long&gt; query = new HashMap&lt;&gt;();\r\n                for (TopicPartition topicPartition : assignments) {\r\n                    query.put(\r\n                            topicPartition,\r\n                            Instant.now().minus(Integer.parseInt(ConfAttr.KAFKA_OFFSET_ADJUST_VALUE), MINUTES).toEpochMilli());\r\n                }\r\n\r\n                Map&lt;TopicPartition, OffsetAndTimestamp&gt; result = consumer.offsetsForTimes(query);\r\n\r\n                result.entrySet()\r\n                        .stream()\r\n                        .forEach(entry -&gt;\r\n                                consumer.seek(\r\n                                        entry.getKey(),\r\n                                        Optional.ofNullable(entry.getValue())\r\n                                                .map(OffsetAndTimestamp::offset)\r\n                                                .orElse(new Long(0))));\r\n\r\n        }\r\n        adjustOffsetFlag = false;\r\n    }","title":"Which Java configuration property helps me to display all the records in a topic from the beginning ( offset 0)","body":"<pre><code>private void adjustOffset(KafkaConsumer&lt;byte[], byte[]&gt; consumer) {\n    Set&lt;TopicPartition&gt; assignments = consumer.assignment();\n    switch (ConfAttr.KAFKA_OFFSET_ADJUST_TYPE) {\n        case &quot;0&quot;:\n            break;\n        case &quot;1&quot;:\n            assignments.forEach(topicPartition -&gt;\n                    consumer.seekToBeginning(\n                            Arrays.asList(topicPartition)));\n            break;\n        case &quot;2&quot;:\n            assignments.forEach(topicPartition -&gt;\n                    consumer.seek(\n                            topicPartition,\n                            Integer.parseInt(ConfAttr.KAFKA_OFFSET_ADJUST_VALUE)));\n            break;\n        case &quot;3&quot;:\n            Map&lt;TopicPartition, Long&gt; query = new HashMap&lt;&gt;();\n            for (TopicPartition topicPartition : assignments) {\n                query.put(\n                        topicPartition,\n                        Instant.now().minus(Integer.parseInt(ConfAttr.KAFKA_OFFSET_ADJUST_VALUE), MINUTES).toEpochMilli());\n            }\n\n            Map&lt;TopicPartition, OffsetAndTimestamp&gt; result = consumer.offsetsForTimes(query);\n\n            result.entrySet()\n                    .stream()\n                    .forEach(entry -&gt;\n                            consumer.seek(\n                                    entry.getKey(),\n                                    Optional.ofNullable(entry.getValue())\n                                            .map(OffsetAndTimestamp::offset)\n                                            .orElse(new Long(0))));\n\n    }\n    adjustOffsetFlag = false;\n}\n</code></pre>\n"}],"owner":{"account_id":19286557,"reputation":1,"user_id":14097402,"display_name":"Gireesh d"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678956022,"creation_date":1678948809,"question_id":75752840,"body_markdown":"```java\r\nprops.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\nprops.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;mygroup&quot;);\r\nprops.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\nprops.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n\r\nprops.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG,&quot;&quot;);\r\n\r\n// earliest --&gt; for consuming from nth offset where (n-1)th offset record is the last record consumer consumed before shitting down\r\n\r\n// latest --&gt; for consuming the records that are generated after consumer has started to consume\r\n```\r\n\r\nIs there is any way that sets the offset to 0 and start consuming from the beginning?\r\n\r\nIf you want to check my code here are my gist links:\r\n\r\n- [MyKafkaProducer.java](https://gist.github.com/immrdg/71160d3346b3b436cc1bf5eb6e90546b)\r\n\r\n- [MyKafkaConsumer.java](https://gist.github.com/immrdg/5d8eb8a879a2f2230c6edfa2e863e63b)\r\n\r\n\r\nI tried placing these lines before while loop, but it didn&#39;t work.\r\n\r\n```java\r\nconsumer.poll(Duration.ZERO); \r\nconsumer.seekToBeginning(consumer.assignment());\r\n```\r\n\r\nI just want to make a code that does this task\r\n\r\n```bash\r\nbin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic myjson --from-beginning\r\n```\r\nLet me know in the comment section if you don&#39;t get my question.\r\n\r\n","title":"Which Java configuration property helps me to display all the records in a topic from the beginning ( offset 0)","body":"<pre class=\"lang-java prettyprint-override\"><code>props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\nprops.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;mygroup&quot;);\nprops.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\nprops.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n\nprops.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG,&quot;&quot;);\n\n// earliest --&gt; for consuming from nth offset where (n-1)th offset record is the last record consumer consumed before shitting down\n\n// latest --&gt; for consuming the records that are generated after consumer has started to consume\n</code></pre>\n<p>Is there is any way that sets the offset to 0 and start consuming from the beginning?</p>\n<p>If you want to check my code here are my gist links:</p>\n<ul>\n<li><p><a href=\"https://gist.github.com/immrdg/71160d3346b3b436cc1bf5eb6e90546b\" rel=\"nofollow noreferrer\">MyKafkaProducer.java</a></p>\n</li>\n<li><p><a href=\"https://gist.github.com/immrdg/5d8eb8a879a2f2230c6edfa2e863e63b\" rel=\"nofollow noreferrer\">MyKafkaConsumer.java</a></p>\n</li>\n</ul>\n<p>I tried placing these lines before while loop, but it didn't work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>consumer.poll(Duration.ZERO); \nconsumer.seekToBeginning(consumer.assignment());\n</code></pre>\n<p>I just want to make a code that does this task</p>\n<pre class=\"lang-bash prettyprint-override\"><code>bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic myjson --from-beginning\n</code></pre>\n<p>Let me know in the comment section if you don't get my question.</p>\n"},{"tags":["java","kerberos","jsch","jaas","gssapi"],"comments":[{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":1,"creation_date":1678955778,"post_id":75752169,"comment_id":133633984,"body_markdown":"Waffle and MIT Kerberos does not make sense. Waffle uses SSPI.","body":"Waffle and MIT Kerberos does not make sense. Waffle uses SSPI."},{"owner":{"account_id":7131339,"reputation":81,"user_id":5452438,"display_name":"Chandru"},"score":0,"creation_date":1679376470,"post_id":75752169,"comment_id":133706280,"body_markdown":"Yes. That&#39;s why I am using JAAS with KeyTab to create Kerberos ticket &amp; authenticate the user. It successfully creates the TGT &amp; Kerberos Service Ticket. But I am unware of setting the custom created GSSCredential &amp; GSSContext to JSch configuration. Using Jsch 0.1.55. \n\nJSch does exactly what I am doing with JAAS, it creates GSSCredential &amp; GSSContext. But it uses the last authenticated users TGT for the current users. So authentication getting failed. \n\nIt would be great, if you provide some pointers or suggestions.","body":"Yes. That&#39;s why I am using JAAS with KeyTab to create Kerberos ticket &amp; authenticate the user. It successfully creates the TGT &amp; Kerberos Service Ticket. But I am unware of setting the custom created GSSCredential &amp; GSSContext to JSch configuration. Using Jsch 0.1.55.   JSch does exactly what I am doing with JAAS, it creates GSSCredential &amp; GSSContext. But it uses the last authenticated users TGT for the current users. So authentication getting failed.   It would be great, if you provide some pointers or suggestions."},{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":0,"creation_date":1679385738,"post_id":75752169,"comment_id":133707735,"body_markdown":"You need the `Subject#doAs()` method with the `LoginContext`.","body":"You need the <code>Subject#doAs()</code> method with the <code>LoginContext</code>."},{"owner":{"account_id":7131339,"reputation":81,"user_id":5452438,"display_name":"Chandru"},"score":0,"creation_date":1679751564,"post_id":75752169,"comment_id":133778815,"body_markdown":"I am not certain of the usage of Subject#doAs() in this context. Nonetheless, I have managed to create GSSCredentials and GSSContext using JAAS. However, I am uncertain of how to make JSch utilize these credentials and context. Internally, JSch performs authentication using Keytab and creates new GSSCredentials and GSSContext, causing failure. Although this works for the first user, the second user utilizes the first user&#39;s TGT, resulting in JSch authentication failure. Despite clearing GSSCredentials, GSSContext, JSch Session, and channel, JSch still employs the previous user&#39;s TGT.","body":"I am not certain of the usage of Subject#doAs() in this context. Nonetheless, I have managed to create GSSCredentials and GSSContext using JAAS. However, I am uncertain of how to make JSch utilize these credentials and context. Internally, JSch performs authentication using Keytab and creates new GSSCredentials and GSSContext, causing failure. Although this works for the first user, the second user utilizes the first user&#39;s TGT, resulting in JSch authentication failure. Despite clearing GSSCredentials, GSSContext, JSch Session, and channel, JSch still employs the previous user&#39;s TGT."}],"owner":{"account_id":7131339,"reputation":81,"user_id":5452438,"display_name":"Chandru"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678955620,"creation_date":1678940724,"question_id":75752169,"body_markdown":"I am using a Java Spring Boot application with Waffle SSO library waffle-spring-security4 2.0.0 and have installed and configured MIT Kerberos. The ticket cache is working fine, and running &quot;kinit&quot; creates Kerberos tickets in the ticket cache (C:\\Users\\XYZ\\krb5cc_XYZ). I have verified this by running &quot;klist&quot;.\r\n\r\nI have implemented JAAS Keytab authentication, which generates the GSSCredential and GSSContext. However, I am unsure about how to extract the Kerberos KT ticket from JAAS or Waffle SSO and authenticate JSch using the extracted ticket.\r\n\r\nThe following code generates a Kerberos service ticket and successfully authenticates JSch, enabling me to run a command on the remote machine. However, when I run the code for another user, the previous user&#39;s TGT is being used. I have disposed of the GSSCredential and GSSContext, but it does not solve the issue.\r\n\r\nJSch itself performs all the GSS Authentication and creates the GSSCredential and GSSContext, but I don&#39;t have the control to modify the internal behavior and configuration. Therefore, I am performing JAAS authentication and creating GSSCredential and GSSContext.\r\n\r\nWhat suggestions do you have for what I am missing?\r\n\r\n```java\r\npublic static ArrayList&lt;String&gt; simpleKerberos(String command)\r\n\t\t\tthrows LoginException, GSSException, JSchException, IOException, PrivilegedActionException {\r\n\tSunJaasKerberosClient client = new SunJaasKerberosClient();\r\n\tclient.setDebug(true); // enable debug logs\r\n\tArrayList&lt;String&gt; results = new ArrayList&lt;String&gt;();\r\n\r\n\tSecurityContext sec = SecurityContextHolder.getContext();\r\n\tAuthentication authentication = sec.getAuthentication();\r\n\tWindowsPrincipal principal = (WindowsPrincipal) authentication.getPrincipal();\r\n\tString userNtId = principal.getName();\r\n\tString[] userInfo = userNtId.split(&quot;\\\\\\\\&quot;);\r\n\tString username = userInfo[1].toLowerCase() + &quot;@&quot; + userInfo[0] + &quot;.DOMAIN.COM&quot;;\r\n\tString userId = userInfo[1];\r\n\tString keyTabFilePath = &quot;C:\\\\Users\\\\&quot; + userId + &quot;\\\\&quot; + userId + &quot;.keytab&quot;;\r\n\r\n\tString ticketCache = &quot;FILE:C:\\\\Users\\\\&quot; + userId + &quot;\\\\krb5cc_&quot; + userId + &quot;&quot;;\r\n\r\n\tString loginContextName = &quot;Krb5Login&quot;;\r\n\r\n\tSystem.setProperty(&quot;java.security.krb5.conf&quot;, &quot;C:\\\\ProgramData\\\\MIT\\\\Kerberos5\\\\krb5.ini&quot;);\r\n\tSystem.setProperty(&quot;java.security.auth.login.config&quot;, &quot;C:\\\\ProgramData\\\\MIT\\\\Kerberos5\\\\jaas.config&quot;);\r\n\t//System.setProperty(&quot;sun.security.jgss.native&quot;, &quot;true&quot;);\r\n\tSystem.setProperty(&quot;javax.security.auth.useSubjectCredsOnly&quot;, &quot;false&quot;);\r\n\tSystem.setProperty(&quot;sun.security.krb5.debug&quot;, &quot;true&quot;);\r\n\tSystem.setProperty(&quot;java.security.debug&quot;, &quot;gssloginconfig,configfile,configparser,logincontext&quot;);\r\n\tSystem.setProperty(&quot;KRB5CCNAME&quot;, ticketCache);\r\n\tSystem.setProperty(&quot;javax.security.auth.kerberos.ticket.cache&quot;, &quot;FILE:&quot; + ticketCache);\r\n\tSystem.setProperty(&quot;KRB5_KTNAME&quot;, &quot;C:\\\\Users\\\\&quot; + userId + &quot;\\\\&quot; + userId + &quot;.keytab&quot;);\r\n\tSystem.setProperty(&quot;user.home&quot;, &quot;C:\\\\Users\\\\&quot; + userId + &quot;&quot;);\r\n\tSystem.setProperty(&quot;user.name&quot;, userId);\r\n\tSystem.setProperty(&quot;principal&quot;, username);\r\n\r\n\tString host = &quot;REMOTE.MACHINE.FQDN.COM&quot;;\r\n\tString realm = &quot;SUBDOMAIN.DOMAIN.COM&quot;;\r\n\r\n\tConfiguration loginConfig = new Configuration() {\r\n\t\t@Override\r\n\t\tpublic AppConfigurationEntry[] getAppConfigurationEntry(String name) {\r\n\t\t\tif (name.equals(loginContextName)) {\r\n\t\t\t\tMap&lt;String, Object&gt; options = new HashMap&lt;&gt;();\r\n\t\t\t\toptions.put(&quot;useKeyTab&quot;, &quot;true&quot;);\r\n\t\t\t\toptions.put(&quot;useTicketCache&quot;, &quot;true&quot;);\r\n\t\t\t\toptions.put(&quot;debug&quot;, &quot;true&quot;);\r\n\t\t\t\toptions.put(&quot;principal&quot;, username);\r\n\t\t\t\toptions.put(&quot;ticketCache&quot;, ticketCache);\r\n\r\n\t\t\t\t// Create a Subject that represents the current user&#39;s security context\r\n\t\t\t\tSubject subject = new Subject();\r\n\t\t\t\tPrincipal principal = new KerberosPrincipal(username);\r\n\t\t\t\tsubject.getPrincipals().add(principal);\r\n\r\n\t\t\t\toptions.put(&quot;javax.security.auth.subject&quot;, subject);\r\n\t\t\t\t// options.put(&quot;runAs&quot;, &quot;authenticated&quot;);\r\n\t\t\t\t// options.put(&quot;doNotPrompt&quot;, &quot;true&quot;);\r\n\r\n\t\t\t\treturn new AppConfigurationEntry[] {\r\n\t\t\t\t\t\tnew AppConfigurationEntry(&quot;com.sun.security.auth.module.Krb5LoginModule&quot;,\r\n\t\t\t\t\t\t\t\tAppConfigurationEntry.LoginModuleControlFlag.REQUIRED, options) };\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\t};\r\n\r\n\tLoginContext loginContext = new LoginContext(loginContextName, null,\r\n\t\t\tnew KerberosKeytabCallbackHandler(username, keyTabFilePath), loginConfig);\r\n\tloginContext.login();\r\n\r\n\tGSSManager gssManager = GSSManager.getInstance();\r\n\tGSSName clientName = gssManager.createName(username, GSSName.NT_USER_NAME);\r\n\r\n\tGSSCredential credential = null;\r\n\tSubject subject = null;\r\n\ttry {\r\n\r\n\t\tsubject = loginContext.getSubject();\r\n\t\tcredential = Subject.doAs(subject, (PrivilegedExceptionAction&lt;GSSCredential&gt;) () -&gt; {\r\n\t\t\treturn gssManager.createCredential(clientName, GSSCredential.DEFAULT_LIFETIME,\r\n\t\t\t\t\tnew Oid(&quot;1.2.840.113554.1.2.2&quot;), GSSCredential.ACCEPT_ONLY); ---Not sure, If I should&#39;ve used INITIATE_ONLY\r\n\t\t});\r\n\r\n\t} catch (PrivilegedActionException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\t\r\n\tSet&lt;GSSCredential&gt; gssCredentials = subject.getPrivateCredentials(GSSCredential.class);\r\n\tgssCredentials.add(credential);\r\n\r\n\tif (credential == null) {\r\n\t\tthrow new RuntimeException(&quot;Could not obtain Kerberos credentials for &quot; + username);\r\n\t}\r\n\r\n\tGSSContext gssContext = gssManager.createContext(clientName, new Oid(&quot;1.2.840.113554.1.2.2&quot;), credential,\r\n\t\t\tGSSContext.DEFAULT_LIFETIME);\r\n\t\r\n\tgssContext.requestCredDeleg(true);\r\n\tgssContext.requestMutualAuth(true);\r\n\tgssContext.requestConf(true);\r\n\tgssContext.requestInteg(true);\r\n\tgssContext.requestReplayDet(true);\r\n\tgssContext.requestSequenceDet(true);\r\n\tgssContext.requestAnonymity(false);\r\n\tgssContext.requestLifetime(GSSContext.DEFAULT_LIFETIME);\r\n\tgssContext.setChannelBinding(null);\r\n\r\n\tJSch jsch = new JSch();\r\n\tJSch.setConfig(&quot;PreferredAuthentications&quot;, &quot;gssapi-with-mic&quot;);\r\n\tSession session = jsch.getSession(username, host, 22);\r\n\tsession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n\tUserInfo user = new KerberosUserInfo(credential, gssContext);\r\n\tsession.setUserInfo(user);\r\n\tsession.setConfig(&quot;userauth.gssapi-with-mic&quot;, &quot;com.jcraft.jsch.UserAuthGSSAPIWithMIC&quot;);\r\n\tsession.connect();\r\n\tChannel channel = session.openChannel(&quot;exec&quot;);\r\n\t((ChannelExec) channel).setCommand(command);\r\n\r\n\tchannel.setInputStream(null);\r\n\t((ChannelExec) channel).setErrStream(System.err);\r\n\r\n\tInputStream in = channel.getInputStream();\r\n\tchannel.connect();\r\n\tBufferedReader reader = new BufferedReader(new InputStreamReader(in));\r\n\tString line = null;\r\n\twhile ((line = reader.readLine()) != null) {\r\n\t\tresults.add(line);\r\n\t}\r\n\tjsch.removeAllIdentity();\r\n\tchannel.disconnect();\r\n\tsession.disconnect();\r\n\tloginContext.logout();\r\n\tloginConfig.refresh();\r\n\tgssContext.dispose();\r\n\tcredential.dispose();\r\n\r\n\treturn results;\r\n}\r\n```\r\n\r\n**Kerberos UserInfo**\r\n\r\n```java\r\nclass KerberosUserInfo implements UserInfo {\r\n\r\n\tprivate GSSCredential credential;\r\n\tprivate GSSContext context;\r\n\t\r\n\tpublic KerberosUserInfo(GSSCredential credential) {\r\n\t\tthis.credential = credential;\r\n\t}\r\n\r\n\tpublic KerberosUserInfo(GSSCredential credential, GSSContext context) {\r\n\t\tthis.credential = credential;\r\n\t\tthis.context = context;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic String getPassphrase() {\r\n\t\treturn null;\r\n\t}\r\n\t @Override\r\n\tpublic String getPassword() {\r\n\t\treturn null;\r\n\t}\r\n\t @Override\r\n\tpublic boolean promptPassphrase(String message) {\r\n\t\treturn false;\r\n\t}\r\n\t @Override\r\n\tpublic boolean promptPassword(String message) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic boolean promptYesNo(String message) {\r\n\t\treturn true;\r\n\t}\r\n\t @Override\r\n\tpublic void showMessage(String message) {\r\n\t\tSystem.out.println(message);\r\n\t}\r\n\r\n\t/*\r\n\t * public GSSCredential getGSSCredential() { return credential; }\r\n\t */\r\n\tpublic GSSCredential getGSSCredential() {\r\n\t\treturn credential;\r\n\t}\r\n\r\n\tpublic GSSContext getGSSContext() {\r\n\t\treturn context;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**KerberosKeytabCallbackHandler**\r\n\r\n```\r\npublic class KerberosKeytabCallbackHandler implements CallbackHandler {\r\n\r\n\tprivate final String principal;\r\n\tprivate final String keytab;\r\n\r\n\tpublic KerberosKeytabCallbackHandler(String principal, String keytab) {\r\n\t\tthis.principal = Objects.requireNonNull(principal);\r\n\t\tthis.keytab = Objects.requireNonNull(keytab);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void handle(Callback[] callbacks) throws IOException, UnsupportedCallbackException {\r\n\t\tfor (Callback callback : callbacks) {\r\n\t\t\tif (callback instanceof NameCallback) {\r\n\t\t\t\t((NameCallback) callback).setName(principal);\r\n\t\t\t} else if (callback instanceof PasswordCallback) {\r\n\t\t\t\t((PasswordCallback) callback).setPassword(keytab.toCharArray());\r\n\t\t\t} else {\r\n\t\t\t\tthrow new UnsupportedCallbackException(callback);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n","title":"How to run an SSH command on a remote machine using JSCH via GSSAPI/Kerberos in a Java web app with Waffle SSO auth/JAAS?","body":"<p>I am using a Java Spring Boot application with Waffle SSO library waffle-spring-security4 2.0.0 and have installed and configured MIT Kerberos. The ticket cache is working fine, and running &quot;kinit&quot; creates Kerberos tickets in the ticket cache (C:\\Users\\XYZ\\krb5cc_XYZ). I have verified this by running &quot;klist&quot;.</p>\n<p>I have implemented JAAS Keytab authentication, which generates the GSSCredential and GSSContext. However, I am unsure about how to extract the Kerberos KT ticket from JAAS or Waffle SSO and authenticate JSch using the extracted ticket.</p>\n<p>The following code generates a Kerberos service ticket and successfully authenticates JSch, enabling me to run a command on the remote machine. However, when I run the code for another user, the previous user's TGT is being used. I have disposed of the GSSCredential and GSSContext, but it does not solve the issue.</p>\n<p>JSch itself performs all the GSS Authentication and creates the GSSCredential and GSSContext, but I don't have the control to modify the internal behavior and configuration. Therefore, I am performing JAAS authentication and creating GSSCredential and GSSContext.</p>\n<p>What suggestions do you have for what I am missing?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static ArrayList&lt;String&gt; simpleKerberos(String command)\n            throws LoginException, GSSException, JSchException, IOException, PrivilegedActionException {\n    SunJaasKerberosClient client = new SunJaasKerberosClient();\n    client.setDebug(true); // enable debug logs\n    ArrayList&lt;String&gt; results = new ArrayList&lt;String&gt;();\n\n    SecurityContext sec = SecurityContextHolder.getContext();\n    Authentication authentication = sec.getAuthentication();\n    WindowsPrincipal principal = (WindowsPrincipal) authentication.getPrincipal();\n    String userNtId = principal.getName();\n    String[] userInfo = userNtId.split(&quot;\\\\\\\\&quot;);\n    String username = userInfo[1].toLowerCase() + &quot;@&quot; + userInfo[0] + &quot;.DOMAIN.COM&quot;;\n    String userId = userInfo[1];\n    String keyTabFilePath = &quot;C:\\\\Users\\\\&quot; + userId + &quot;\\\\&quot; + userId + &quot;.keytab&quot;;\n\n    String ticketCache = &quot;FILE:C:\\\\Users\\\\&quot; + userId + &quot;\\\\krb5cc_&quot; + userId + &quot;&quot;;\n\n    String loginContextName = &quot;Krb5Login&quot;;\n\n    System.setProperty(&quot;java.security.krb5.conf&quot;, &quot;C:\\\\ProgramData\\\\MIT\\\\Kerberos5\\\\krb5.ini&quot;);\n    System.setProperty(&quot;java.security.auth.login.config&quot;, &quot;C:\\\\ProgramData\\\\MIT\\\\Kerberos5\\\\jaas.config&quot;);\n    //System.setProperty(&quot;sun.security.jgss.native&quot;, &quot;true&quot;);\n    System.setProperty(&quot;javax.security.auth.useSubjectCredsOnly&quot;, &quot;false&quot;);\n    System.setProperty(&quot;sun.security.krb5.debug&quot;, &quot;true&quot;);\n    System.setProperty(&quot;java.security.debug&quot;, &quot;gssloginconfig,configfile,configparser,logincontext&quot;);\n    System.setProperty(&quot;KRB5CCNAME&quot;, ticketCache);\n    System.setProperty(&quot;javax.security.auth.kerberos.ticket.cache&quot;, &quot;FILE:&quot; + ticketCache);\n    System.setProperty(&quot;KRB5_KTNAME&quot;, &quot;C:\\\\Users\\\\&quot; + userId + &quot;\\\\&quot; + userId + &quot;.keytab&quot;);\n    System.setProperty(&quot;user.home&quot;, &quot;C:\\\\Users\\\\&quot; + userId + &quot;&quot;);\n    System.setProperty(&quot;user.name&quot;, userId);\n    System.setProperty(&quot;principal&quot;, username);\n\n    String host = &quot;REMOTE.MACHINE.FQDN.COM&quot;;\n    String realm = &quot;SUBDOMAIN.DOMAIN.COM&quot;;\n\n    Configuration loginConfig = new Configuration() {\n        @Override\n        public AppConfigurationEntry[] getAppConfigurationEntry(String name) {\n            if (name.equals(loginContextName)) {\n                Map&lt;String, Object&gt; options = new HashMap&lt;&gt;();\n                options.put(&quot;useKeyTab&quot;, &quot;true&quot;);\n                options.put(&quot;useTicketCache&quot;, &quot;true&quot;);\n                options.put(&quot;debug&quot;, &quot;true&quot;);\n                options.put(&quot;principal&quot;, username);\n                options.put(&quot;ticketCache&quot;, ticketCache);\n\n                // Create a Subject that represents the current user's security context\n                Subject subject = new Subject();\n                Principal principal = new KerberosPrincipal(username);\n                subject.getPrincipals().add(principal);\n\n                options.put(&quot;javax.security.auth.subject&quot;, subject);\n                // options.put(&quot;runAs&quot;, &quot;authenticated&quot;);\n                // options.put(&quot;doNotPrompt&quot;, &quot;true&quot;);\n\n                return new AppConfigurationEntry[] {\n                        new AppConfigurationEntry(&quot;com.sun.security.auth.module.Krb5LoginModule&quot;,\n                                AppConfigurationEntry.LoginModuleControlFlag.REQUIRED, options) };\n            }\n            return null;\n        }\n    };\n\n    LoginContext loginContext = new LoginContext(loginContextName, null,\n            new KerberosKeytabCallbackHandler(username, keyTabFilePath), loginConfig);\n    loginContext.login();\n\n    GSSManager gssManager = GSSManager.getInstance();\n    GSSName clientName = gssManager.createName(username, GSSName.NT_USER_NAME);\n\n    GSSCredential credential = null;\n    Subject subject = null;\n    try {\n\n        subject = loginContext.getSubject();\n        credential = Subject.doAs(subject, (PrivilegedExceptionAction&lt;GSSCredential&gt;) () -&gt; {\n            return gssManager.createCredential(clientName, GSSCredential.DEFAULT_LIFETIME,\n                    new Oid(&quot;1.2.840.113554.1.2.2&quot;), GSSCredential.ACCEPT_ONLY); ---Not sure, If I should've used INITIATE_ONLY\n        });\n\n    } catch (PrivilegedActionException e) {\n        e.printStackTrace();\n    }\n    \n    Set&lt;GSSCredential&gt; gssCredentials = subject.getPrivateCredentials(GSSCredential.class);\n    gssCredentials.add(credential);\n\n    if (credential == null) {\n        throw new RuntimeException(&quot;Could not obtain Kerberos credentials for &quot; + username);\n    }\n\n    GSSContext gssContext = gssManager.createContext(clientName, new Oid(&quot;1.2.840.113554.1.2.2&quot;), credential,\n            GSSContext.DEFAULT_LIFETIME);\n    \n    gssContext.requestCredDeleg(true);\n    gssContext.requestMutualAuth(true);\n    gssContext.requestConf(true);\n    gssContext.requestInteg(true);\n    gssContext.requestReplayDet(true);\n    gssContext.requestSequenceDet(true);\n    gssContext.requestAnonymity(false);\n    gssContext.requestLifetime(GSSContext.DEFAULT_LIFETIME);\n    gssContext.setChannelBinding(null);\n\n    JSch jsch = new JSch();\n    JSch.setConfig(&quot;PreferredAuthentications&quot;, &quot;gssapi-with-mic&quot;);\n    Session session = jsch.getSession(username, host, 22);\n    session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n    UserInfo user = new KerberosUserInfo(credential, gssContext);\n    session.setUserInfo(user);\n    session.setConfig(&quot;userauth.gssapi-with-mic&quot;, &quot;com.jcraft.jsch.UserAuthGSSAPIWithMIC&quot;);\n    session.connect();\n    Channel channel = session.openChannel(&quot;exec&quot;);\n    ((ChannelExec) channel).setCommand(command);\n\n    channel.setInputStream(null);\n    ((ChannelExec) channel).setErrStream(System.err);\n\n    InputStream in = channel.getInputStream();\n    channel.connect();\n    BufferedReader reader = new BufferedReader(new InputStreamReader(in));\n    String line = null;\n    while ((line = reader.readLine()) != null) {\n        results.add(line);\n    }\n    jsch.removeAllIdentity();\n    channel.disconnect();\n    session.disconnect();\n    loginContext.logout();\n    loginConfig.refresh();\n    gssContext.dispose();\n    credential.dispose();\n\n    return results;\n}\n</code></pre>\n<p><strong>Kerberos UserInfo</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>class KerberosUserInfo implements UserInfo {\n\n    private GSSCredential credential;\n    private GSSContext context;\n    \n    public KerberosUserInfo(GSSCredential credential) {\n        this.credential = credential;\n    }\n\n    public KerberosUserInfo(GSSCredential credential, GSSContext context) {\n        this.credential = credential;\n        this.context = context;\n    }\n    \n    @Override\n    public String getPassphrase() {\n        return null;\n    }\n     @Override\n    public String getPassword() {\n        return null;\n    }\n     @Override\n    public boolean promptPassphrase(String message) {\n        return false;\n    }\n     @Override\n    public boolean promptPassword(String message) {\n        return false;\n    }\n\n    public boolean promptYesNo(String message) {\n        return true;\n    }\n     @Override\n    public void showMessage(String message) {\n        System.out.println(message);\n    }\n\n    /*\n     * public GSSCredential getGSSCredential() { return credential; }\n     */\n    public GSSCredential getGSSCredential() {\n        return credential;\n    }\n\n    public GSSContext getGSSContext() {\n        return context;\n    }\n\n}\n</code></pre>\n<p><strong>KerberosKeytabCallbackHandler</strong></p>\n<pre><code>public class KerberosKeytabCallbackHandler implements CallbackHandler {\n\n    private final String principal;\n    private final String keytab;\n\n    public KerberosKeytabCallbackHandler(String principal, String keytab) {\n        this.principal = Objects.requireNonNull(principal);\n        this.keytab = Objects.requireNonNull(keytab);\n    }\n\n    @Override\n    public void handle(Callback[] callbacks) throws IOException, UnsupportedCallbackException {\n        for (Callback callback : callbacks) {\n            if (callback instanceof NameCallback) {\n                ((NameCallback) callback).setName(principal);\n            } else if (callback instanceof PasswordCallback) {\n                ((PasswordCallback) callback).setPassword(keytab.toCharArray());\n            } else {\n                throw new UnsupportedCallbackException(callback);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","protocol-buffers"],"comments":[{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":0,"creation_date":1678966988,"post_id":75753692,"comment_id":133637236,"body_markdown":"Side-note: Your UUID components should most likely be `fixed64`. A variable-length-encoded (uint64) int has a small perf overhead and is usually only suitable for small-ish values. For big values that would normally san 4 bytes anyway, it will also be bigger and likely occupy 5 bytes. A fixed64 simply writes the inderlying `long`.","body":"Side-note: Your UUID components should most likely be <code>fixed64</code>. A variable-length-encoded (uint64) int has a small perf overhead and is usually only suitable for small-ish values. For big values that would normally san 4 bytes anyway, it will also be bigger and likely occupy 5 bytes. A fixed64 simply writes the inderlying <code>long</code>."},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":0,"creation_date":1678973138,"post_id":75753692,"comment_id":133639148,"body_markdown":"FYI I looked for a way to add (Jackson) annotations to the generated code so that you could encode the values using Jackson, but apparently out of the box this is not possible: https://github.com/protocolbuffers/protobuf/issues/4635. But of course you could use a Jackson Mixin: https://stackoverflow.com/questions/59157263/how-to-map-json-to-proto-using-jackson-mixin, and specifically write a de/serializer for your UUID type while _maybe_ not having to write Jackson code for every type...? Not sure, have fun!","body":"FYI I looked for a way to add (Jackson) annotations to the generated code so that you could encode the values using Jackson, but apparently out of the box this is not possible: <a href=\"https://github.com/protocolbuffers/protobuf/issues/4635\" rel=\"nofollow noreferrer\">github.com/protocolbuffers/protobuf/issues/4635</a>. But of course you could use a Jackson Mixin: <a href=\"https://stackoverflow.com/questions/59157263/how-to-map-json-to-proto-using-jackson-mixin\" title=\"how to map json to proto using jackson mixin\">stackoverflow.com/questions/59157263/&hellip;</a>, and specifically write a de/serializer for your UUID type while <i>maybe</i> not having to write Jackson code for every type...? Not sure, have fun!"}],"owner":{"account_id":2362473,"reputation":595,"user_id":2068867,"accept_rate":75,"display_name":"Mavo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678955521,"creation_date":1678955521,"question_id":75753692,"body_markdown":"I have a protobuffer UUID message represented by two ints\r\n\r\n``` \r\nmessage ApiUUID {\r\n  uint64 most = 1;\r\n  uint64 least = 2;\r\n}\r\n```\r\n\r\nwhich is then used in all other messages\r\n\r\n```\r\nmessage Data {\r\n  ApiUUID id = 1;\r\n  string name = 2;\r\n  ..\r\n}\r\n```\r\n\r\nThis works fine when serializing to binary files, its much smaller and faster to read then the variant where UUID is a string.\r\n\r\nBut when I try to convert it to json using the built in \r\n\r\n```\r\nJsonFormat.Printer printer = JsonFormat.printer().omittingInsignificantWhitespace();\r\n        String json = printer.print(planningData);\r\n```\r\n\r\nthe ID is printed like\r\n\r\n```\r\n{&quot;id&quot;:{&quot;most&quot;:&quot;8024373369477287721&quot;,&quot;least&quot;:&quot;13459779257196482731&quot;}\r\n```\r\n\r\nIs there an option to transform the ApiUUID to JSON as a UUID string, rather then an object? So convert the most + least into UUID and print it as string.\r\n\r\nUsing Java.\r\n","title":"How to customize Protobuf message json transformation","body":"<p>I have a protobuffer UUID message represented by two ints</p>\n<pre><code>message ApiUUID {\n  uint64 most = 1;\n  uint64 least = 2;\n}\n</code></pre>\n<p>which is then used in all other messages</p>\n<pre><code>message Data {\n  ApiUUID id = 1;\n  string name = 2;\n  ..\n}\n</code></pre>\n<p>This works fine when serializing to binary files, its much smaller and faster to read then the variant where UUID is a string.</p>\n<p>But when I try to convert it to json using the built in</p>\n<pre><code>JsonFormat.Printer printer = JsonFormat.printer().omittingInsignificantWhitespace();\n        String json = printer.print(planningData);\n</code></pre>\n<p>the ID is printed like</p>\n<pre><code>{&quot;id&quot;:{&quot;most&quot;:&quot;8024373369477287721&quot;,&quot;least&quot;:&quot;13459779257196482731&quot;}\n</code></pre>\n<p>Is there an option to transform the ApiUUID to JSON as a UUID string, rather then an object? So convert the most + least into UUID and print it as string.</p>\n<p>Using Java.</p>\n"},{"tags":["java","generics","wildcard"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678942593,"post_id":75752175,"comment_id":133631687,"body_markdown":"I don&#39;t think there&#39;s any reason for the `Object &amp;` part.","body":"I don&#39;t think there&#39;s any reason for the <code>Object &amp;</code> part."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1678947721,"post_id":75752175,"comment_id":133632309,"body_markdown":"In this context `super` and `extends` are opposites. `T extends Object` means that `T` is a *subtype*  of `Object` (or is `Object`). `? super T` means that `?` is a *supertype* of `T` or (typically) is `T`. Or put the other way around `T` is a subtype of `?`. If you had `Comparable&lt;? extends T&gt;` you had not guaranteed that every `T` can be compared to every other `T`, which you need for the method to do its work.","body":"In this context <code>super</code> and <code>extends</code> are opposites. <code>T extends Object</code> means that <code>T</code> is a <i>subtype</i>  of <code>Object</code> (or is <code>Object</code>). <code>? super T</code> means that <code>?</code> is a <i>supertype</i> of <code>T</code> or (typically) is <code>T</code>. Or put the other way around <code>T</code> is a subtype of <code>?</code>. If you had <code>Comparable&lt;? extends T&gt;</code> you had not guaranteed that every <code>T</code> can be compared to every other <code>T</code>, which you need for the method to do its work."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678948834,"creation_date":1678943150,"answer_id":75752347,"question_id":75752175,"body_markdown":"You can certainly write the method signature as\r\n```\r\npublic static &lt;T extends Comparable&lt;T&gt;&gt; T max(List&lt;? extends T&gt; list, int begin, int end)\r\n```\r\nAnd that works perfectly well with most types.\r\n\r\nBut it is more strict than we need.\r\n\r\nConsider:\r\n```\r\nclass Aa implements Comparable&lt;Aa&gt; {\r\n    @Override\r\n    public int compareTo(Aa o) {\r\n        return 0;\r\n    }\r\n}\r\n\r\nclass Bb extends Aa {}\r\n```\r\nEvery instance of `Bb` knows how to compare itself with another instance of `Bb` (because a `Bb` IS-A `Aa`), but it does *not* `extend Comparable&lt;Bb&gt;`.\r\n\r\nAll we need is that we can compare two instances of the type, which is satisfied by checking that it or one of its parent classes implements `Comparable`.\r\n\r\n`T extends Comparable&lt;? super T&gt;` requires that `T` implements `Comparable&lt;X&gt;` (either directly or via a superclass) where `X` is a superclass of `T`.\r\n\r\nIn our example above `class Aa implements Comparable&lt;Object&gt;` would also be fine.\r\n\r\nUsing `T extends Comparable&lt;?&gt;` doesn&#39;t work, because when we call `compareTo` all we know is that `T` can be compared to some unknown class, we don&#39;t know that it can be compared to `T`.","title":"why super, not extends here? from the java tutorial: a short course on the basics by ray gallardo et al","body":"<p>You can certainly write the method signature as</p>\n<pre><code>public static &lt;T extends Comparable&lt;T&gt;&gt; T max(List&lt;? extends T&gt; list, int begin, int end)\n</code></pre>\n<p>And that works perfectly well with most types.</p>\n<p>But it is more strict than we need.</p>\n<p>Consider:</p>\n<pre><code>class Aa implements Comparable&lt;Aa&gt; {\n    @Override\n    public int compareTo(Aa o) {\n        return 0;\n    }\n}\n\nclass Bb extends Aa {}\n</code></pre>\n<p>Every instance of <code>Bb</code> knows how to compare itself with another instance of <code>Bb</code> (because a <code>Bb</code> IS-A <code>Aa</code>), but it does <em>not</em> <code>extend Comparable&lt;Bb&gt;</code>.</p>\n<p>All we need is that we can compare two instances of the type, which is satisfied by checking that it or one of its parent classes implements <code>Comparable</code>.</p>\n<p><code>T extends Comparable&lt;? super T&gt;</code> requires that <code>T</code> implements <code>Comparable&lt;X&gt;</code> (either directly or via a superclass) where <code>X</code> is a superclass of <code>T</code>.</p>\n<p>In our example above <code>class Aa implements Comparable&lt;Object&gt;</code> would also be fine.</p>\n<p>Using <code>T extends Comparable&lt;?&gt;</code> doesn't work, because when we call <code>compareTo</code> all we know is that <code>T</code> can be compared to some unknown class, we don't know that it can be compared to <code>T</code>.</p>\n"},{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678955422,"creation_date":1678955422,"answer_id":75753678,"question_id":75752175,"body_markdown":"The simple answer is the following two things：\r\n\r\nIn `List&lt;? extends T&gt; list` any element is `T` or a subclass of `T`, `&lt;T extends Comparable&lt;? super T&gt;&gt;` ensure that any elements in the List implement the same parent type compar interface(If use `&lt;T extends Comparable&lt;? extends T&gt;&gt;`, there is no guarantee of this, imagine if T is Number, then `&lt;T extends Number&gt;` could be `Float`, `List&lt;? extends T&gt;` mayber `Integer`, `Float` and `Integer` have no inheritance relationship and cannot be compared directly)\r\n\r\n`T extends Object`, Let me tell you a scene, you need to write like this, About 10 years ago, we would compile the web packaged into a war package. If there were 100 files in it, we might only modify one of the files. At this time, we would decompress the war package and compile the modified class to get it \r\nThe class file is copied separately to tomcat in the production environment.\r\n\r\nIf this is the code before modification:\r\n\r\n    public static &lt;T&gt; int method(T obj) {\r\n        //...\r\n    }\r\n\r\nDue to generic erasure, after compilation, it will become like this (note that it is only schematic, because it is bytecode after compilation, you can understand it as this):\r\n\r\n    public static int method(Object obj) {\r\n        //...\r\n    }\r\n\r\nTherefore, to call this method, the referenced method signature is `int method(Object)`\r\n\r\nIf you modify this method, make it bound by the interface, like this:\r\n\r\n    public static &lt;T extends CharSequence&gt; int method(T obj) {\r\n        //...\r\n    }\r\n\r\nAt this time, after compilation, the method signature will become `int method(CharSequence)`\r\n\r\nIf you directly move the compiled class of this class to tomcat, then the location where it is called will report an error.\r\n\r\nThe solution is to use `&lt;T extends Object &amp; CharSequence&gt;`:\r\n\r\n    public static &lt;T extends Object &amp; CharSequence&gt; int method(T obj) {\r\n        //...\r\n    }\r\n\r\nWhen the generic type is erased, the type before the first &amp; symbol will be retained, at this time, his method signature is still `int method(Object)`","title":"why super, not extends here? from the java tutorial: a short course on the basics by ray gallardo et al","body":"<p>The simple answer is the following two things：</p>\n<p>In <code>List&lt;? extends T&gt; list</code> any element is <code>T</code> or a subclass of <code>T</code>, <code>&lt;T extends Comparable&lt;? super T&gt;&gt;</code> ensure that any elements in the List implement the same parent type compar interface(If use <code>&lt;T extends Comparable&lt;? extends T&gt;&gt;</code>, there is no guarantee of this, imagine if T is Number, then <code>&lt;T extends Number&gt;</code> could be <code>Float</code>, <code>List&lt;? extends T&gt;</code> mayber <code>Integer</code>, <code>Float</code> and <code>Integer</code> have no inheritance relationship and cannot be compared directly)</p>\n<p><code>T extends Object</code>, Let me tell you a scene, you need to write like this, About 10 years ago, we would compile the web packaged into a war package. If there were 100 files in it, we might only modify one of the files. At this time, we would decompress the war package and compile the modified class to get it\nThe class file is copied separately to tomcat in the production environment.</p>\n<p>If this is the code before modification:</p>\n<pre><code>public static &lt;T&gt; int method(T obj) {\n    //...\n}\n</code></pre>\n<p>Due to generic erasure, after compilation, it will become like this (note that it is only schematic, because it is bytecode after compilation, you can understand it as this):</p>\n<pre><code>public static int method(Object obj) {\n    //...\n}\n</code></pre>\n<p>Therefore, to call this method, the referenced method signature is <code>int method(Object)</code></p>\n<p>If you modify this method, make it bound by the interface, like this:</p>\n<pre><code>public static &lt;T extends CharSequence&gt; int method(T obj) {\n    //...\n}\n</code></pre>\n<p>At this time, after compilation, the method signature will become <code>int method(CharSequence)</code></p>\n<p>If you directly move the compiled class of this class to tomcat, then the location where it is called will report an error.</p>\n<p>The solution is to use <code>&lt;T extends Object &amp; CharSequence&gt;</code>:</p>\n<pre><code>public static &lt;T extends Object &amp; CharSequence&gt; int method(T obj) {\n    //...\n}\n</code></pre>\n<p>When the generic type is erased, the type before the first &amp; symbol will be retained, at this time, his method signature is still <code>int method(Object)</code></p>\n"}],"owner":{"account_id":3156670,"reputation":71,"user_id":2668926,"display_name":"davidandcode"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1678955422,"creation_date":1678940780,"question_id":75752175,"body_markdown":"My question is in the following code, why `Comparable&lt;? super T&gt;` instead of `Comparable&lt;? extends T&gt;` or `Comparable&lt;T&gt;`?\r\n\r\nThe comparable can compare `T`&#39;s ancestors but in the list we only have `T`&#39;s subtypes?\r\n\r\nAlso, why `T extends Object`, isn&#39;t this by default? \r\n\r\n\r\nWrite a generic method to find the maximal element in the range [begin, end) of a list.\r\n\r\nAnswer:\r\n\r\n```java\r\npublic static &lt;T extends Object &amp; Comparable&lt;? super T&gt;&gt; T max(List&lt;? extends T&gt; list, int begin, int end) {\r\n\r\n    T maxElem = list.get(begin);\r\n\r\n    for (++begin; begin &lt; end; ++begin)\r\n        if (maxElem.compareTo(list.get(begin)) &lt; 0)\r\n            maxElem = list.get(begin);\r\n    return maxElem;\r\n}\r\n```\r\n\r\nthis is from the six edition of the Java tutorial: a short course on the basics by ray gallardo et al.","title":"why super, not extends here? from the java tutorial: a short course on the basics by ray gallardo et al","body":"<p>My question is in the following code, why <code>Comparable&lt;? super T&gt;</code> instead of <code>Comparable&lt;? extends T&gt;</code> or <code>Comparable&lt;T&gt;</code>?</p>\n<p>The comparable can compare <code>T</code>'s ancestors but in the list we only have <code>T</code>'s subtypes?</p>\n<p>Also, why <code>T extends Object</code>, isn't this by default?</p>\n<p>Write a generic method to find the maximal element in the range [begin, end) of a list.</p>\n<p>Answer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T extends Object &amp; Comparable&lt;? super T&gt;&gt; T max(List&lt;? extends T&gt; list, int begin, int end) {\n\n    T maxElem = list.get(begin);\n\n    for (++begin; begin &lt; end; ++begin)\n        if (maxElem.compareTo(list.get(begin)) &lt; 0)\n            maxElem = list.get(begin);\n    return maxElem;\n}\n</code></pre>\n<p>this is from the six edition of the Java tutorial: a short course on the basics by ray gallardo et al.</p>\n"},{"tags":["java","android","flutter","nfc","rfid"],"comments":[{"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1678959265,"post_id":75753516,"comment_id":133634909,"body_markdown":"Does this answer your question? [Use Phone NFC Chip to emulate Mifare card](https://stackoverflow.com/questions/70187048/use-phone-nfc-chip-to-emulate-mifare-card)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/70187048/use-phone-nfc-chip-to-emulate-mifare-card\">Use Phone NFC Chip to emulate Mifare card</a>"},{"owner":{"account_id":10560695,"reputation":99,"user_id":7780558,"display_name":"Enes"},"score":0,"creation_date":1678961007,"post_id":75753516,"comment_id":133635430,"body_markdown":"Actualy the reader can read my phone when NFC is enable I got 01020304 and some id. but I dont know how to send diffrent data or id.\n\nthe phone which I use for test is LG V20","body":"Actualy the reader can read my phone when NFC is enable I got 01020304 and some id. but I dont know how to send diffrent data or id.  the phone which I use for test is LG V20"},{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":0,"creation_date":1678967870,"post_id":75753516,"comment_id":133637479,"body_markdown":"Kindly note that Stackoverflow is not a free code writing service. The question &quot;how to read from and write to a Mifare classic card&quot; is not so unusual here on SO to find a lot of places to start with.","body":"Kindly note that Stackoverflow is not a free code writing service. The question &quot;how to read from and write to a Mifare classic card&quot; is not so unusual here on SO to find a lot of places to start with."},{"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"score":1,"creation_date":1678972791,"post_id":75753516,"comment_id":133639032,"body_markdown":"@Enes Reading the NfcA UID that is randomly generated by the phone is common to many different tag technologies, the phone can emulate a Type 4 Tag with an HCE service but other then the very low level UID that is totally different to how a Mifare Classic behaves.","body":"@Enes Reading the NfcA UID that is randomly generated by the phone is common to many different tag technologies, the phone can emulate a Type 4 Tag with an HCE service but other then the very low level UID that is totally different to how a Mifare Classic behaves."},{"owner":{"account_id":10560695,"reputation":99,"user_id":7780558,"display_name":"Enes"},"score":0,"creation_date":1678973222,"post_id":75753516,"comment_id":133639182,"body_markdown":"@MichaelFehr I don&#39;t need from you any free code I just need information who experience NFC&amp;RFID cominication.","body":"@MichaelFehr I don&#39;t need from you any free code I just need information who experience NFC&amp;RFID cominication."}],"owner":{"account_id":10560695,"reputation":99,"user_id":7780558,"display_name":"Enes"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":785,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678955295,"creation_date":1678954217,"question_id":75753516,"body_markdown":"**my RFID reader Info:**\r\n\r\n**Protocol**        : ISO1443A\r\n\r\n**Frequency**       : 13,56MHz\r\n\r\n**Voltage**         : 7-12V ile 3,3-5V\r\n\r\n**Flow**            : 60-100mA\r\n\r\n**Supported Cards** : S50, S70, Ultralight, Desfire, Mifare, Mifare Plus, Mifare Pro\r\n\r\n\r\n**Working card Info:**\r\n\r\n**Tag Type**: ISO 14443-3A\r\n\r\nNXP- Mifare Classic 1k\r\n\r\n**Technologies avaliable**: NfcA, MifareClassic, Ndef\r\n\r\n\r\n**Question** is this: It is possiable to Emulate this card with NFC mobile devices on RFID reader ?\r\n\r\nNot: When I Tap My phone on RFID reader the reader is show 01020304 value on screen its reading actualy but how can send diffrend data like cardID.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uan9Y.jpg","title":"Emulate NXP - Mifare Classic 1k","body":"<p><strong>my RFID reader Info:</strong></p>\n<p><strong>Protocol</strong>        : ISO1443A</p>\n<p><strong>Frequency</strong>       : 13,56MHz</p>\n<p><strong>Voltage</strong>         : 7-12V ile 3,3-5V</p>\n<p><strong>Flow</strong>            : 60-100mA</p>\n<p><strong>Supported Cards</strong> : S50, S70, Ultralight, Desfire, Mifare, Mifare Plus, Mifare Pro</p>\n<p><strong>Working card Info:</strong></p>\n<p><strong>Tag Type</strong>: ISO 14443-3A</p>\n<p>NXP- Mifare Classic 1k</p>\n<p><strong>Technologies avaliable</strong>: NfcA, MifareClassic, Ndef</p>\n<p><strong>Question</strong> is this: It is possiable to Emulate this card with NFC mobile devices on RFID reader ?</p>\n<p>Not: When I Tap My phone on RFID reader the reader is show 01020304 value on screen its reading actualy but how can send diffrend data like cardID.</p>\n<p><a href=\"https://i.stack.imgur.com/uan9Y.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uan9Y.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","gradle","erp","ofbiz"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1678896760,"post_id":75746972,"comment_id":133623115,"body_markdown":"[Please never post images of text](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557). They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly.\nAbsolutely no reason not to copy-paste from Powershell. Also: *but I still get an error.* How did you imagine it would help to *not* post that error too?","body":"<a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Please never post images of text</a>. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly. Absolutely no reason not to copy-paste from Powershell. Also: <i>but I still get an error.</i> How did you imagine it would help to <i>not</i> post that error too?"},{"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"score":0,"creation_date":1678907080,"post_id":75746972,"comment_id":133626012,"body_markdown":"What&#39;s the gradle version found in `gradle/wrapper/gradle-wrapper.properties`?\nAlso, is there a `gradlew` and `gradlew.bat` file in the root directory of your project?","body":"What&#39;s the gradle version found in <code>gradle&#47;wrapper&#47;gradle-wrapper.properties</code>? Also, is there a <code>gradlew</code> and <code>gradlew.bat</code> file in the root directory of your project?"},{"owner":{"account_id":9291622,"reputation":11361,"user_id":6899896,"display_name":"M.Ricciuti"},"score":0,"creation_date":1678908043,"post_id":75746972,"comment_id":133626275,"body_markdown":"please try `./gradlew cleanAll loadAll`  instead of `gradlew cleanAll loadAll`, this will get rid of the error `The term &#39;gradlew&#39; is not recognized as the name of a cmdlet, function, script file, or operable program`","body":"please try <code>.&#47;gradlew cleanAll loadAll</code>  instead of <code>gradlew cleanAll loadAll</code>, this will get rid of the error <code>The term &#39;gradlew&#39; is not recognized as the name of a cmdlet, function, script file, or operable program</code>"}],"owner":{"account_id":28024631,"reputation":1,"user_id":21404867,"display_name":"Như Hương Nguyễn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678955242,"creation_date":1678894862,"question_id":75746972,"body_markdown":"I have a subject at school where I have to install the Apache Ofbiz ERP software. I have downloaded Ofbiz version 18.12.06 and Java 8. Then I followed the instructions in the &#39;README&#39; file. But when I run the command `gradlew cleanAll loadAll`, I get an error message \r\n```\r\ngradlew : The term &#39;gradlew&#39; is not recognized as the name of a cmdlet, function, script file, or operable program. Check the \r\nspelling of the name, or if a path was included, verify that the path is correct and try again.\r\nAt line:1 char:1\r\n+ gradlew cleanAll loadAll\r\n+ ~~~~~~~\r\n    + CategoryInfo          : ObjectNotFound: (gradlew:String) [], CommandNotFoundException\r\n    + FullyQualifiedErrorId : CommandNotFoundException\r\n ```\r\nThen I installed Gradle-4.9 and ran the &#39;gradle cleanAll loadAll&#39; command, but I still get an error.\r\n```\r\ngradle : \r\nAt line:1 char:1\r\n+ gradle cleanAll loadAll\r\n+ ~~~~~~~~~~~~~~~~~~~~~~~\r\n    + CategoryInfo          : NotSpecified: (:String) [], RemoteException\r\n    + FullyQualifiedErrorId : NativeCommandError\r\n \r\nFAILURE: Build failed with an exception.\r\n* Where:\r\nBuild file &#39;C:\\Users\\HP\\Downloads\\apache-ofbiz-18.12.06\\apache-ofbiz-18.12.06\\build.gradle&#39; line: 60\r\n* What went wrong:\r\nA problem occurred evaluating root project &#39;ofbiz&#39;.\r\n&gt; Could not find method java() for arguments [build_4rt6fvg59269rv3cik9godb792$_run_closure1@f6900a] on root project &#39;ofbiz&#39;.\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\r\n``` \r\nI really hope to receive help from everyone.\r\n\r\nI then tried installing different versions of Gradle, but the issue persists. I also tried installing Ant-Apache as instructed in some online resources, but it didn&#39;t solve the problem.","title":"Error: gradlew: The term &#39;gradlew&#39; is not recognized as the name of a cmdlet, function, script file, or operable program.(Apache ofbiz)","body":"<p>I have a subject at school where I have to install the Apache Ofbiz ERP software. I have downloaded Ofbiz version 18.12.06 and Java 8. Then I followed the instructions in the 'README' file. But when I run the command <code>gradlew cleanAll loadAll</code>, I get an error message</p>\n<pre><code>gradlew : The term 'gradlew' is not recognized as the name of a cmdlet, function, script file, or operable program. Check the \nspelling of the name, or if a path was included, verify that the path is correct and try again.\nAt line:1 char:1\n+ gradlew cleanAll loadAll\n+ ~~~~~~~\n    + CategoryInfo          : ObjectNotFound: (gradlew:String) [], CommandNotFoundException\n    + FullyQualifiedErrorId : CommandNotFoundException\n</code></pre>\n<p>Then I installed Gradle-4.9 and ran the 'gradle cleanAll loadAll' command, but I still get an error.</p>\n<pre><code>gradle : \nAt line:1 char:1\n+ gradle cleanAll loadAll\n+ ~~~~~~~~~~~~~~~~~~~~~~~\n    + CategoryInfo          : NotSpecified: (:String) [], RemoteException\n    + FullyQualifiedErrorId : NativeCommandError\n \nFAILURE: Build failed with an exception.\n* Where:\nBuild file 'C:\\Users\\HP\\Downloads\\apache-ofbiz-18.12.06\\apache-ofbiz-18.12.06\\build.gradle' line: 60\n* What went wrong:\nA problem occurred evaluating root project 'ofbiz'.\n&gt; Could not find method java() for arguments [build_4rt6fvg59269rv3cik9godb792$_run_closure1@f6900a] on root project 'ofbiz'.\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n</code></pre>\n<p>I really hope to receive help from everyone.</p>\n<p>I then tried installing different versions of Gradle, but the issue persists. I also tried installing Ant-Apache as instructed in some online resources, but it didn't solve the problem.</p>\n"},{"tags":["java","bigdecimal","floating-point-precision"],"comments":[{"owner":{"display_name":"user684934"},"score":0,"creation_date":1330436396,"post_id":9482889,"comment_id":12001983,"body_markdown":"Have you tried giving the constructor a MathContext?","body":"Have you tried giving the constructor a MathContext?"},{"owner":{"account_id":320279,"reputation":20132,"user_id":638471,"accept_rate":83,"display_name":"vbence"},"score":1,"creation_date":1362505209,"post_id":9482889,"comment_id":21471382,"body_markdown":"If I see correctly you are talking about decimal places, not floating point precision. At least the accepted answer will result in 12 decimal places, not 12 digits of precision.","body":"If I see correctly you are talking about decimal places, not floating point precision. At least the accepted answer will result in 12 decimal places, not 12 digits of precision."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":103,"is_accepted":false,"score":102,"last_activity_date":1330436443,"creation_date":1330436443,"answer_id":9482963,"question_id":9482889,"body_markdown":"You can use [setScale()][1] e.g.\r\n\r\n    double d = ...\r\n    BigDecimal db = new BigDecimal(d).setScale(12, BigDecimal.ROUND_HALF_UP);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#setScale%28int,%20int%29","title":"Set specific precision of a BigDecimal","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#setScale%28int,%20int%29\">setScale()</a> e.g.</p>\n\n<pre><code>double d = ...\nBigDecimal db = new BigDecimal(d).setScale(12, BigDecimal.ROUND_HALF_UP);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":38239,"reputation":31889,"user_id":109618,"accept_rate":84,"display_name":"David J."},"down_vote_count":0,"up_vote_count":47,"is_accepted":true,"score":47,"last_activity_date":1386181788,"creation_date":1386121388,"answer_id":20365270,"question_id":9482889,"body_markdown":"The title of the question asks about precision. [BigDecimal] distinguishes between scale and precision. Scale is the number of decimal places. You can think of precision as the number of [significant figures](https://en.wikipedia.org/wiki/Significant_figures), also known as significant digits.\r\n\r\nSome examples in Clojure.\r\n\r\n&lt;!-- language-all: clojure --&gt;\r\n\r\n    (.scale     0.00123M) ; 5\r\n    (.precision 0.00123M) ; 3\r\n\r\n(In Clojure, The `M` designates a BigDecimal literal. You can translate the Clojure to Java if you like, but I find it to be more compact than Java!)\r\n\r\nYou can easily increase the scale:\r\n\r\n    (.setScale 0.00123M 7) ; 0.0012300M\r\n\r\nBut you can&#39;t *decrease* the scale in the exact same way:\r\n\r\n    (.setScale 0.00123M 3) ; ArithmeticException Rounding necessary\r\n\r\nYou&#39;ll need to pass a rounding mode too:\r\n\r\n    (.setScale 0.00123M 3 BigDecimal/ROUND_HALF_EVEN) ;\r\n    ; Note: BigDecimal would prefer that you use the MathContext rounding\r\n    ; constants, but I don&#39;t have them at my fingertips right now.\r\n\r\nSo, it is easy to change the scale. But what about precision? This is not as easy as you might hope!\r\n\r\nIt is easy to *decrease* the precision:\r\n\r\n    (.round 3.14159M (java.math.MathContext. 3)) ; 3.14M\r\n\r\nBut it is not obvious how to *increase* the precision:\r\n\r\n    (.round 3.14159M (java.math.MathContext. 7)) ; 3.14159M (unexpected)\r\n\r\nFor the skeptical, this is *not* just a matter of trailing zeros not being displayed:\r\n\r\n    (.precision (.round 3.14159M (java.math.MathContext. 7))) ; 6 \r\n    ; (same as above, still unexpected)\r\n\r\nFWIW, Clojure is careful with trailing zeros and *will* show them:\r\n\r\n    4.0000M ; 4.0000M\r\n    (.precision 4.0000M) ; 5\r\n\r\nBack on track... You can try using a [BigDecimal] constructor, but it does not set the precision any higher than the number of digits you specify:\r\n\r\n    (BigDecimal. &quot;3&quot; (java.math.MathContext. 5)) ; 3M\r\n    (BigDecimal. &quot;3.1&quot; (java.math.MathContext. 5)) ; 3.1M\r\n\r\nSo, there is no quick way to change the precision. I&#39;ve spent time fighting this while writing up this question and with a project I&#39;m working on. I consider this, at best, A CRAZYTOWN API, and at worst a bug. People. Seriously?\r\n\r\nSo, best I can tell, if you want to change precision, you&#39;ll need to do these steps:\r\n\r\n1. Lookup the current precision.\r\n2. Lookup the current scale.\r\n5. Calculate the scale change.\r\n6. Set the new scale\r\n\r\nThese steps, as Clojure code:\r\n\r\n    (def x 0.000691M) ; the input number\r\n    (def p&#39; 1) ; desired precision\r\n    (def s&#39; (+ (.scale x) p&#39; (- (.precision x)))) ; desired new scale\r\n    (.setScale x s&#39; BigDecimal/ROUND_HALF_EVEN)\r\n    ; 0.0007M\r\n\r\nI know, this is a lot of steps just to change the precision!\r\n\r\nWhy doesn&#39;t BigDecimal already provide this? Did I overlook something?\r\n\r\n[BigDecimal]: http://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html\r\n[MathContext]: http://docs.oracle.com/javase/7/docs/api/java/math/MathContext.html","title":"Set specific precision of a BigDecimal","body":"<p>The title of the question asks about precision. <a href=\"http://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html\" rel=\"noreferrer\">BigDecimal</a> distinguishes between scale and precision. Scale is the number of decimal places. You can think of precision as the number of <a href=\"https://en.wikipedia.org/wiki/Significant_figures\" rel=\"noreferrer\">significant figures</a>, also known as significant digits.</p>\n\n<p>Some examples in Clojure.</p>\n\n\n\n<pre class=\"lang-clj prettyprint-override\"><code>(.scale     0.00123M) ; 5\n(.precision 0.00123M) ; 3\n</code></pre>\n\n<p>(In Clojure, The <code>M</code> designates a BigDecimal literal. You can translate the Clojure to Java if you like, but I find it to be more compact than Java!)</p>\n\n<p>You can easily increase the scale:</p>\n\n<pre class=\"lang-clj prettyprint-override\"><code>(.setScale 0.00123M 7) ; 0.0012300M\n</code></pre>\n\n<p>But you can't <em>decrease</em> the scale in the exact same way:</p>\n\n<pre class=\"lang-clj prettyprint-override\"><code>(.setScale 0.00123M 3) ; ArithmeticException Rounding necessary\n</code></pre>\n\n<p>You'll need to pass a rounding mode too:</p>\n\n<pre class=\"lang-clj prettyprint-override\"><code>(.setScale 0.00123M 3 BigDecimal/ROUND_HALF_EVEN) ;\n; Note: BigDecimal would prefer that you use the MathContext rounding\n; constants, but I don't have them at my fingertips right now.\n</code></pre>\n\n<p>So, it is easy to change the scale. But what about precision? This is not as easy as you might hope!</p>\n\n<p>It is easy to <em>decrease</em> the precision:</p>\n\n<pre class=\"lang-clj prettyprint-override\"><code>(.round 3.14159M (java.math.MathContext. 3)) ; 3.14M\n</code></pre>\n\n<p>But it is not obvious how to <em>increase</em> the precision:</p>\n\n<pre class=\"lang-clj prettyprint-override\"><code>(.round 3.14159M (java.math.MathContext. 7)) ; 3.14159M (unexpected)\n</code></pre>\n\n<p>For the skeptical, this is <em>not</em> just a matter of trailing zeros not being displayed:</p>\n\n<pre class=\"lang-clj prettyprint-override\"><code>(.precision (.round 3.14159M (java.math.MathContext. 7))) ; 6 \n; (same as above, still unexpected)\n</code></pre>\n\n<p>FWIW, Clojure is careful with trailing zeros and <em>will</em> show them:</p>\n\n<pre class=\"lang-clj prettyprint-override\"><code>4.0000M ; 4.0000M\n(.precision 4.0000M) ; 5\n</code></pre>\n\n<p>Back on track... You can try using a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html\" rel=\"noreferrer\">BigDecimal</a> constructor, but it does not set the precision any higher than the number of digits you specify:</p>\n\n<pre class=\"lang-clj prettyprint-override\"><code>(BigDecimal. \"3\" (java.math.MathContext. 5)) ; 3M\n(BigDecimal. \"3.1\" (java.math.MathContext. 5)) ; 3.1M\n</code></pre>\n\n<p>So, there is no quick way to change the precision. I've spent time fighting this while writing up this question and with a project I'm working on. I consider this, at best, A CRAZYTOWN API, and at worst a bug. People. Seriously?</p>\n\n<p>So, best I can tell, if you want to change precision, you'll need to do these steps:</p>\n\n<ol>\n<li>Lookup the current precision.</li>\n<li>Lookup the current scale.</li>\n<li>Calculate the scale change.</li>\n<li>Set the new scale</li>\n</ol>\n\n<p>These steps, as Clojure code:</p>\n\n<pre class=\"lang-clj prettyprint-override\"><code>(def x 0.000691M) ; the input number\n(def p' 1) ; desired precision\n(def s' (+ (.scale x) p' (- (.precision x)))) ; desired new scale\n(.setScale x s' BigDecimal/ROUND_HALF_EVEN)\n; 0.0007M\n</code></pre>\n\n<p>I know, this is a lot of steps just to change the precision!</p>\n\n<p>Why doesn't BigDecimal already provide this? Did I overlook something?</p>\n"},{"tags":[],"owner":{"account_id":3245577,"reputation":74,"user_id":2737267,"display_name":"E Hashmi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1523660480,"creation_date":1390479602,"answer_id":21307990,"question_id":9482889,"body_markdown":"     BigDecimal decPrec = (BigDecimal)yo.get(&quot;Avg&quot;);\r\n     decPrec = decPrec.setScale(5, RoundingMode.CEILING);\r\n     String value= String.valueOf(decPrec);\r\n\r\nThis way you can set specific precision of a `BigDecimal`.\r\n\r\nThe value of decPrec was `1.5726903423607562595809913132345426`\r\nwhich is rounded off to `1.57267`.\r\n\r\n","title":"Set specific precision of a BigDecimal","body":"<pre><code> BigDecimal decPrec = (BigDecimal)yo.get(\"Avg\");\n decPrec = decPrec.setScale(5, RoundingMode.CEILING);\n String value= String.valueOf(decPrec);\n</code></pre>\n\n<p>This way you can set specific precision of a <code>BigDecimal</code>.</p>\n\n<p>The value of decPrec was <code>1.5726903423607562595809913132345426</code>\nwhich is rounded off to <code>1.57267</code>.</p>\n"},{"tags":[],"owner":{"account_id":8590107,"reputation":61,"user_id":6434959,"display_name":"Hakan Anlamaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468238544,"creation_date":1468238544,"answer_id":38306448,"question_id":9482889,"body_markdown":"Try this code ...\r\n\r\n  \r\n\r\n        Integer perc = 5;\r\n        BigDecimal spread = BigDecimal.ZERO; \r\n        BigDecimal perc = spread.setScale(perc,BigDecimal.ROUND_HALF_UP);\r\n        System.out.println(perc);\r\n\r\nResult: 0.00000\r\n\r\n","title":"Set specific precision of a BigDecimal","body":"<p>Try this code ...</p>\n\n<pre><code>    Integer perc = 5;\n    BigDecimal spread = BigDecimal.ZERO; \n    BigDecimal perc = spread.setScale(perc,BigDecimal.ROUND_HALF_UP);\n    System.out.println(perc);\n</code></pre>\n\n<p>Result: 0.00000</p>\n"},{"tags":[],"owner":{"account_id":8235,"reputation":87010,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663657111,"creation_date":1663657111,"answer_id":73782704,"question_id":9482889,"body_markdown":"A BigDecimal&#39;s scale and precision are mutually-exclusive concepts. Quoting https://stackoverflow.com/a/35435775/14731:\r\n\r\n&gt; **Precision**: Total number of significant digits\r\n&gt;\r\n&gt; **Scale**: Number of digits to the right of the decimal point\r\n\r\nTo change a BigDecimal&#39;s precision, use `BigDecimal.round(new MathContext(precision, roundingMode))`.\r\n\r\nTo change a BigDecimal&#39;s scale, use `BigDecimal.setScale(scale, roundingMode)`.","title":"Set specific precision of a BigDecimal","body":"<p>A BigDecimal's scale and precision are mutually-exclusive concepts. Quoting <a href=\"https://stackoverflow.com/a/35435775/14731\">https://stackoverflow.com/a/35435775/14731</a>:</p>\n<blockquote>\n<p><strong>Precision</strong>: Total number of significant digits</p>\n<p><strong>Scale</strong>: Number of digits to the right of the decimal point</p>\n</blockquote>\n<p>To change a BigDecimal's precision, use <code>BigDecimal.round(new MathContext(precision, roundingMode))</code>.</p>\n<p>To change a BigDecimal's scale, use <code>BigDecimal.setScale(scale, roundingMode)</code>.</p>\n"},{"tags":[],"owner":{"account_id":10974567,"reputation":101,"user_id":8063630,"display_name":"Prashant_Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678954768,"creation_date":1678954768,"answer_id":75753577,"question_id":9482889,"body_markdown":"Precision and scale are two very important terms when dealing with BigDecimals, to set them individually or setting both you can try:\r\n\r\n    1. Precision\r\n    \r\n        BigDecimal.ZERO.round(new MathContext(30, RoundingMode.FLOOR)); or \r\n    \r\n        BigDecimal.valueOf(5878).round(new MathContext(10, RoundingMode.FLOOR));\r\n    \r\n    2. Scale\r\n    \r\n        BigDecimal.valueOf(5878).setScale(7, RoundingMode.CEILING);\r\n    \r\n    3. Both precision and scale\r\n    \r\n        BigDecimal.ONE.round(new MathContext(30, RoundingMode.FLOOR)).setScale(7, RoundingMode.FLOOR);\r\n\r\n&gt; For example: Input: 321231.324 Precision: 9 Scale: 3","title":"Set specific precision of a BigDecimal","body":"<p>Precision and scale are two very important terms when dealing with BigDecimals, to set them individually or setting both you can try:</p>\n<pre><code>1. Precision\n\n    BigDecimal.ZERO.round(new MathContext(30, RoundingMode.FLOOR)); or \n\n    BigDecimal.valueOf(5878).round(new MathContext(10, RoundingMode.FLOOR));\n\n2. Scale\n\n    BigDecimal.valueOf(5878).setScale(7, RoundingMode.CEILING);\n\n3. Both precision and scale\n\n    BigDecimal.ONE.round(new MathContext(30, RoundingMode.FLOOR)).setScale(7, RoundingMode.FLOOR);\n</code></pre>\n<blockquote>\n<p>For example: Input: 321231.324 Precision: 9 Scale: 3</p>\n</blockquote>\n"}],"owner":{"account_id":447229,"reputation":2157,"user_id":840736,"accept_rate":66,"display_name":"Jason"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133783,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"accepted_answer_id":20365270,"answer_count":6,"score":59,"last_activity_date":1678954768,"creation_date":1330436158,"question_id":9482889,"body_markdown":"I have an [XSD] that requires me to use a BigDecimal for a lat/lon.  I currently have the lat/lon as doubles, and convert them to BigDecimal, but I am only required to use about 12 places of precision.  I have not been able to figure out how to set that.  Can anyone help me with this?\r\n\r\n[XSD]: https://en.wikipedia.org/wiki/XSD","title":"Set specific precision of a BigDecimal","body":"<p>I have an <a href=\"https://en.wikipedia.org/wiki/XSD\">XSD</a> that requires me to use a BigDecimal for a lat/lon.  I currently have the lat/lon as doubles, and convert them to BigDecimal, but I am only required to use about 12 places of precision.  I have not been able to figure out how to set that.  Can anyone help me with this?</p>\n"},{"tags":["java","spring-boot","microservices"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1678932828,"post_id":75751602,"comment_id":133630557,"body_markdown":"i think i had a similar error before. inside some of the dependencies, they import other libraries that could conflict with each other. So you should ccheck each dependency and exclude the conflicting dependencies which in this case are Logback or slf4j","body":"i think i had a similar error before. inside some of the dependencies, they import other libraries that could conflict with each other. So you should ccheck each dependency and exclude the conflicting dependencies which in this case are Logback or slf4j"},{"owner":{"account_id":1252818,"reputation":85,"user_id":1212880,"accept_rate":22,"display_name":"Joseph"},"score":0,"creation_date":1678933543,"post_id":75751602,"comment_id":133630635,"body_markdown":"Thanks @experimentunit1998X but i did  review the dependency tree and i noticed the spring boot starter web had those dependencies and i excluded them yet it didnt work","body":"Thanks @experimentunit1998X but i did  review the dependency tree and i noticed the spring boot starter web had those dependencies and i excluded them yet it didnt work"},{"owner":{"account_id":1252818,"reputation":85,"user_id":1212880,"accept_rate":22,"display_name":"Joseph"},"score":0,"creation_date":1678933876,"post_id":75751602,"comment_id":133630685,"body_markdown":"No, i excluded and recompiled. i have also updated my question with a section of dependency tree","body":"No, i excluded and recompiled. i have also updated my question with a section of dependency tree"}],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678954762,"creation_date":1678954762,"answer_id":75753575,"question_id":75751602,"body_markdown":"You&#39;ve got SLF4J 1.7 on the classpath and Spring Boot 3.0 requires SLF4J 2.0. I think the cause is your parent pom where the import of Boot&#39;s dependency management is incorrect. You&#39;re importing `spring-boot`:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\r\n    &lt;version&gt;${spring.boot.dependencies.version}&lt;/version&gt;\r\n    &lt;scope&gt;import&lt;/scope&gt;\r\n    &lt;type&gt;pom&lt;/type&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nIt should be `spring-boot-dependencies`:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n    &lt;version&gt;${spring.boot.dependencies.version}&lt;/version&gt;\r\n    &lt;scope&gt;import&lt;/scope&gt;\r\n    &lt;type&gt;pom&lt;/type&gt;\r\n&lt;/dependency&gt;\r\n```","title":"LoggerFactory is not a Logback LoggerContext - SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder","body":"<p>You've got SLF4J 1.7 on the classpath and Spring Boot 3.0 requires SLF4J 2.0. I think the cause is your parent pom where the import of Boot's dependency management is incorrect. You're importing <code>spring-boot</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\n    &lt;version&gt;${spring.boot.dependencies.version}&lt;/version&gt;\n    &lt;scope&gt;import&lt;/scope&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>It should be <code>spring-boot-dependencies</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n    &lt;version&gt;${spring.boot.dependencies.version}&lt;/version&gt;\n    &lt;scope&gt;import&lt;/scope&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1252818,"reputation":85,"user_id":1212880,"accept_rate":22,"display_name":"Joseph"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2893,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75753575,"answer_count":1,"score":2,"last_activity_date":1678954762,"creation_date":1678932635,"question_id":75751602,"body_markdown":"I created a sample modular basic microservices (customer, fraud)using spring boot 3.0.4 with IntelliJ just to test auto service discovery pattern.  All was ok until I added a 3rd microservice: eureka server with the spring cloud dependencies (version 2022.0.1). \r\n\r\nWhen I tried to run the application, I got the following error:\r\n\r\n        SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: LoggerFactory is not a Logback LoggerContext but Logback is on the classpath. Either remove Logback or the competing implementation (class org.slf4j.helpers.NOPLoggerFactory loaded from file:/Users/apple/.m2/repository/org/slf4j/slf4j-api/1.7.33/slf4j-api-1.7.33.jar). If you are using WebLogic you will need to add &#39;org.slf4j&#39; to prefer-application-packages in WEB-INF/weblogic.xml: org.slf4j.helpers.NOPLoggerFactory\r\n    \tat org.springframework.util.Assert.instanceCheckFailed(Assert.java:713)\r\n    \tat org.springframework.util.Assert.isInstanceOf(Assert.java:632)\r\n    \tat org.springframework.boot.logging.logback.LogbackLoggingSystem.getLoggerContext(LogbackLoggingSystem.java:382)\r\n    \tat org.springframework.boot.logging.logback.LogbackLoggingSystem.beforeInitialize(LogbackLoggingSystem.java:123)\r\n    \tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationStartingEvent(LoggingApplicationListener.java:238)\r\n    \tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:220)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.starting(EventPublishingRunListener.java:75)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.lambda$starting$0(SpringApplicationRunListeners.java:54)\r\n    \tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.starting(SpringApplicationRunListeners.java:54)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)\r\n    \tat com.techronym.eurekaserver.EurekaServerApplication.main(EurekaServerApplication.java:11)\r\n    \r\n    Process finished with exit code 1\r\n\r\nHere&#39;s my parent pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;com.techronym.app&lt;/groupId&gt;\r\n      &lt;artifactId&gt;demo-app&lt;/artifactId&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;modules&gt;\r\n            &lt;module&gt;customer&lt;/module&gt;\r\n          &lt;module&gt;fraud&lt;/module&gt;\r\n          &lt;module&gt;eureka-server&lt;/module&gt;\r\n        &lt;/modules&gt;\r\n    \r\n        &lt;name&gt;demo-app&lt;/name&gt;\r\n      &lt;url&gt;https://www.techronym.com&lt;/url&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;spring.boot.maven.plugin&gt;3.0.4&lt;/spring.boot.maven.plugin&gt;\r\n        &lt;spring.boot.dependencies.version&gt;3.0.4&lt;/spring.boot.dependencies.version&gt;\r\n        &lt;spring-cloud.version&gt;2022.0.1&lt;/spring-cloud.version&gt;\r\n    \r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencyManagement&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.boot.dependencies.version}&lt;/version&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n          &lt;/dependency&gt;\r\n    \r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n      &lt;/dependencyManagement&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n          &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n          &lt;version&gt;1.18.24&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (maybe moved to parent pom) --&gt;\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n              &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;${spring.boot.maven.plugin}&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nEureka Server pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;parent&gt;\r\n            &lt;artifactId&gt;demo-app&lt;/artifactId&gt;\r\n            &lt;groupId&gt;com.techronym.app&lt;/groupId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;artifactId&gt;eureka-server&lt;/artifactId&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nEureka App:\r\n\r\n    package com.techronym.eurekaserver;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.cloud.netflix.eureka.server.EnableEurekaServer;\r\n    \r\n    @SpringBootApplication\r\n    @EnableEurekaServer\r\n    public class EurekaServerApplication {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(EurekaServerApplication.class, args);\r\n        }\r\n    }\r\n\r\nDependency tree\r\n\r\n    com.techronym.app:demo-app:pom:1.0-SNAPSHOT\r\n    +- org.springframework.boot:spring-boot-starter-test:jar:3.0.4:compile\r\n     +- org.springframework.boot:spring-boot-starter:jar:3.0.4:compile\r\n    |  |  +- org.springframework.boot:spring-boot:jar:3.0.4:compile\r\n     |  |  |  \\- org.springframework:spring-context:jar:6.0.6:compile\r\n    |  |  |     +- org.springframework:spring-aop:jar:6.0.6:compile\r\n    [INFO] |  |  |     +- org.springframework:spring-beans:jar:6.0.6:compile\r\n    [INFO] |  |  |     \\- org.springframework:spring-expression:jar:6.0.6:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.0.4:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:3.0.4:compile\r\n    [INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.4.5:compile\r\n    [INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.4.5:compile\r\n    [INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.19.0:compile\r\n    [INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.19.0:compile\r\n    [INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:2.0.6:compile\r\n    [INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\r\n    [INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-test:jar:3.0.4:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.0.4:compile\r\n    [INFO] |  +- com.jayway.jsonpath:json-path:jar:2.7.0:compile\r\n    [INFO] |  |  +- net.minidev:json-smart:jar:2.4.7:compile\r\n    [INFO] |  |  |  \\- net.minidev:accessors-smart:jar:2.4.7:compile\r\n    [INFO] |  |  |     \\- org.ow2.asm:asm:jar:9.1:compile\r\n    [INFO] |  |  \\- org.slf4j:slf4j-api:jar:1.7.33:compile\r\n    [INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:compile\r\n    [INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.0:compile\r\n    [INFO] |  +- org.assertj:assertj-core:jar:3.23.1:compile\r\n    [INFO] |  |  \\- net.bytebuddy:byte-buddy:jar:1.12.10:compile\r\n    [INFO] |  +- org.hamcrest:hamcrest:jar:2.2:compile\r\n    [INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.9.2:compile\r\n    [INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:compile\r\n    [INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:compile\r\n    [INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.2:compile\r\n    [INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:compile\r\n    [INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.2:compile\r\n    [INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:runtime\r\n    [INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.9.2:runtime\r\n    [INFO] |  +- org.mockito:mockito-core:jar:4.8.1:compile\r\n    [INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.16:compile\r\n    [INFO] |  |  \\- org.objenesis:objenesis:jar:3.2:runtime\r\n    [INFO] |  +- org.mockito:mockito-junit-jupiter:jar:4.8.1:compile\r\n    [INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.1:compile\r\n    [INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:compile\r\n    [INFO] |  +- org.springframework:spring-core:jar:6.0.6:compile\r\n    [INFO] |  |  \\- org.springframework:spring-jcl:jar:6.0.6:compile\r\n    [INFO] |  +- org.springframework:spring-test:jar:6.0.6:compile\r\n    [INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.1:compile\r\n    [INFO] \\- org.projectlombok:lombok:jar:1.18.24:compile\r\n    [INFO] \r\n    [INFO] ---------------------&lt; com.techronym.app:customer &gt;---------------------\r\n    \r\n    [INFO] Building eureka-server 1.0-SNAPSHOT                                [4/4]\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ eureka-server ---\r\n    [INFO] com.techronym.app:eureka-server:jar:1.0-SNAPSHOT\r\n    [INFO] +- org.springframework.cloud:spring-cloud-starter-netflix-eureka-server:jar:4.0.0:compile\r\n    [INFO] |  +- org.springframework.cloud:spring-cloud-starter:jar:4.0.1:compile\r\n    [INFO] |  |  +- org.springframework.cloud:spring-cloud-context:jar:4.0.1:compile\r\n    [INFO] |  |  |  \\- org.springframework.security:spring-security-crypto:jar:6.0.1:compile\r\n    [INFO] |  |  +- org.springframework.cloud:spring-cloud-commons:jar:4.0.1:compile\r\n    [INFO] |  |  \\- org.springframework.security:spring-security-rsa:jar:1.0.11.RELEASE:compile\r\n    [INFO] |  |     \\- org.bouncycastle:bcpkix-jdk15on:jar:1.69:compile\r\n    [INFO] |  |        +- org.bouncycastle:bcprov-jdk15on:jar:1.69:compile\r\n    [INFO] |  |        \\- org.bouncycastle:bcutil-jdk15on:jar:1.69:compile\r\n    [INFO] |  +- org.springframework.cloud:spring-cloud-netflix-eureka-server:jar:4.0.0:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter-web:jar:3.0.0:compile\r\n    [INFO] |  |  |  +- org.springframework.boot:spring-boot-starter-json:jar:3.0.0:compile\r\n    [INFO] |  |  |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.14.1:compile\r\n    [INFO] |  |  |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.14.1:compile\r\n    [INFO] |  |  |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.14.1:compile\r\n    [INFO] |  |  |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:3.0.0:compile\r\n    [INFO] |  |  |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.1:compile\r\n    [INFO] |  |  |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.1:compile\r\n    [INFO] |  |  |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.1:compile\r\n    [INFO] |  |  |  +- org.springframework:spring-web:jar:6.0.2:compile\r\n    [INFO] |  |  |  |  \\- org.springframework:spring-beans:jar:6.0.2:compile\r\n    [INFO] |  |  |  \\- org.springframework:spring-webmvc:jar:6.0.2:compile\r\n    [INFO] |  |  |     +- org.springframework:spring-aop:jar:6.0.2:compile\r\n    [INFO] |  |  |     \\- org.springframework:spring-expression:jar:6.0.2:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter-actuator:jar:3.0.0:compile\r\n    [INFO] |  |  |  +- org.springframework.boot:spring-boot-actuator-autoconfigure:jar:3.0.0:compile\r\n    [INFO] |  |  |  |  \\- org.springframework.boot:spring-boot-actuator:jar:3.0.0:compile\r\n    [INFO] |  |  |  +- io.micrometer:micrometer-observation:jar:1.10.2:compile\r\n    [INFO] |  |  |  |  \\- io.micrometer:micrometer-commons:jar:1.10.2:compile\r\n    [INFO] |  |  |  \\- io.micrometer:micrometer-core:jar:1.10.2:compile\r\n    [INFO] |  |  |     +- org.hdrhistogram:HdrHistogram:jar:2.1.12:runtime\r\n    [INFO] |  |  |     \\- org.latencyutils:LatencyUtils:jar:2.0.3:runtime\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter-freemarker:jar:3.0.0:compile\r\n    [INFO] |  |  |  +- org.freemarker:freemarker:jar:2.3.31:compile\r\n    [INFO] |  |  |  \\- org.springframework:spring-context-support:jar:6.0.2:compile\r\n    [INFO] |  |  +- org.springframework.cloud:spring-cloud-netflix-eureka-client:jar:4.0.0:compile\r\n    [INFO] |  |  |  +- com.netflix.eureka:eureka-client:jar:2.0.0:compile\r\n    [INFO] |  |  |  |  +- com.netflix.netflix-commons:netflix-eventbus:jar:0.3.0:compile\r\n    [INFO] |  |  |  |  |  +- com.netflix.netflix-commons:netflix-infix:jar:0.3.0:runtime\r\n    [INFO] |  |  |  |  |  |  +- commons-jxpath:commons-jxpath:jar:1.3:runtime\r\n    [INFO] |  |  |  |  |  |  +- joda-time:joda-time:jar:2.3:runtime\r\n    [INFO] |  |  |  |  |  |  +- org.antlr:antlr-runtime:jar:3.4:runtime\r\n    [INFO] |  |  |  |  |  |  |  +- org.antlr:stringtemplate:jar:3.2.1:runtime\r\n    [INFO] |  |  |  |  |  |  |  \\- antlr:antlr:jar:2.7.7:runtime\r\n    [INFO] |  |  |  |  |  |  \\- com.google.code.gson:gson:jar:2.1:runtime\r\n    [INFO] |  |  |  |  |  \\- org.apache.commons:commons-math:jar:2.2:runtime\r\n    [INFO] |  |  |  |  +- com.thoughtworks.xstream:xstream:jar:1.4.19:compile\r\n    [INFO] |  |  |  |  |  \\- io.github.x-stream:mxparser:jar:1.2.2:compile\r\n    [INFO] |  |  |  |  |     \\- xmlpull:xmlpull:jar:1.1.3.1:compile\r\n    [INFO] |  |  |  |  +- com.netflix.servo:servo-core:jar:0.12.21:compile\r\n    [INFO] |  |  |  |  |  \\- com.google.guava:guava:jar:19.0:compile\r\n    [INFO] |  |  |  |  +- org.apache.httpcomponents:httpclient:jar:4.5.3:compile\r\n    [INFO] |  |  |  |  |  \\- org.apache.httpcomponents:httpcore:jar:4.4.6:compile\r\n    [INFO] |  |  |  |  +- commons-configuration:commons-configuration:jar:1.10:compile\r\n    [INFO] |  |  |  |  |  \\- commons-lang:commons-lang:jar:2.6:compile\r\n    [INFO] |  |  |  |  \\- org.codehaus.jettison:jettison:jar:1.4.0:runtime\r\n    [INFO] |  |  |  \\- org.apache.httpcomponents.client5:httpclient5:jar:5.1.4:compile\r\n    [INFO] |  |  |     +- org.apache.httpcomponents.core5:httpcore5:jar:5.1.5:compile\r\n    [INFO] |  |  |     +- org.apache.httpcomponents.core5:httpcore5-h2:jar:5.1.5:compile\r\n    [INFO] |  |  |     \\- commons-codec:commons-codec:jar:1.15:compile\r\n    [INFO] |  |  +- com.netflix.eureka:eureka-client-jersey3:jar:2.0.0:compile\r\n    [INFO] |  |  |  \\- org.glassfish.jersey.connectors:jersey-apache-connector:jar:3.0.5:compile\r\n    [INFO] |  |  +- com.netflix.eureka:eureka-core-jersey3:jar:2.0.0:compile\r\n    [INFO] |  |  |  \\- com.netflix.eureka:eureka-core:jar:2.0.0:compile\r\n    [INFO] |  |  |     \\- jakarta.servlet:jakarta.servlet-api:jar:5.0.0:compile\r\n    [INFO] |  |  +- org.glassfish.jersey.containers:jersey-container-servlet:jar:3.1.0:compile\r\n    [INFO] |  |  |  +- org.glassfish.jersey.containers:jersey-container-servlet-core:jar:3.1.0:compile\r\n    [INFO] |  |  |  +- org.glassfish.jersey.core:jersey-common:jar:3.1.0:compile\r\n    [INFO] |  |  |  |  \\- org.glassfish.hk2:osgi-resource-locator:jar:1.0.3:compile\r\n    [INFO] |  |  |  \\- jakarta.ws.rs:jakarta.ws.rs-api:jar:3.1.0:compile\r\n    [INFO] |  |  +- org.glassfish.jersey.core:jersey-server:jar:3.1.0:compile\r\n    [INFO] |  |  |  \\- jakarta.validation:jakarta.validation-api:jar:3.0.2:compile\r\n    [INFO] |  |  +- org.glassfish.jersey.core:jersey-client:jar:3.1.0:compile\r\n    [INFO] |  |  +- org.glassfish.jersey.inject:jersey-hk2:jar:3.1.0:compile\r\n    [INFO] |  |  |  +- org.glassfish.hk2:hk2-locator:jar:3.0.3:compile\r\n    [INFO] |  |  |  |  +- org.glassfish.hk2.external:aopalliance-repackaged:jar:3.0.3:compile\r\n    [INFO] |  |  |  |  \\- org.glassfish.hk2:hk2-utils:jar:3.0.3:compile\r\n    [INFO] |  |  |  \\- org.javassist:javassist:jar:3.28.0-GA:compile\r\n    [INFO] |  |  +- org.glassfish.hk2:spring-bridge:jar:3.0.3:compile\r\n    [INFO] |  |  |  +- org.glassfish.hk2:hk2-api:jar:3.0.3:compile\r\n    [INFO] |  |  |  \\- org.springframework:spring-context:jar:5.2.4.RELEASE:compile\r\n    [INFO] |  |  +- jakarta.inject:jakarta.inject-api:jar:2.0.1:compile\r\n    [INFO] |  |  \\- com.fasterxml.jackson.dataformat:jackson-dataformat-xml:jar:2.14.1:compile\r\n    [INFO] |  |     +- com.fasterxml.jackson.core:jackson-core:jar:2.14.1:compile\r\n    [INFO] |  |     +- com.fasterxml.jackson.core:jackson-annotations:jar:2.14.1:compile\r\n    [INFO] |  |     +- com.fasterxml.jackson.core:jackson-databind:jar:2.14.1:compile\r\n    [INFO] |  |     +- org.codehaus.woodstox:stax2-api:jar:4.2.1:compile\r\n    [INFO] |  |     \\- com.fasterxml.woodstox:woodstox-core:jar:6.4.0:compile\r\n    [INFO] |  +- org.springframework.cloud:spring-cloud-starter-loadbalancer:jar:4.0.1:compile\r\n    [INFO] |  |  +- org.springframework.cloud:spring-cloud-loadbalancer:jar:4.0.1:compile\r\n    [INFO] |  |  |  +- io.projectreactor:reactor-core:jar:3.5.2:compile\r\n    [INFO] |  |  |  |  \\- org.reactivestreams:reactive-streams:jar:1.0.4:compile\r\n    [INFO] |  |  |  \\- io.projectreactor.addons:reactor-extra:jar:3.5.0:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter-cache:jar:3.0.2:compile\r\n    [INFO] |  |  \\- com.stoyanr:evictor:jar:1.0.0:compile\r\n    [INFO] |  \\- org.glassfish.jaxb:jaxb-runtime:jar:4.0.1:compile\r\n    [INFO] |     \\- org.glassfish.jaxb:jaxb-core:jar:4.0.1:compile\r\n    [INFO] |        +- org.eclipse.angus:angus-activation:jar:1.0.0:runtime\r\n    [INFO] |        +- org.glassfish.jaxb:txw2:jar:4.0.1:compile\r\n    [INFO] |        \\- com.sun.istack:istack-commons-runtime:jar:4.1.1:compile\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-test:jar:3.0.4:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter:jar:3.0.4:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot:jar:3.0.4:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.0.4:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:3.0.4:compile\r\n    [INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.4.5:compile\r\n    [INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.4.5:compile\r\n    [INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.19.0:compile\r\n    [INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.19.0:compile\r\n    [INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:2.0.6:compile\r\n    [INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\r\n    [INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-test:jar:3.0.4:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.0.4:compile\r\n    [INFO] |  +- com.jayway.jsonpath:json-path:jar:2.7.0:compile\r\n    [INFO] |  |  +- net.minidev:json-smart:jar:2.4.7:compile\r\n    [INFO] |  |  |  \\- net.minidev:accessors-smart:jar:2.4.7:compile\r\n    [INFO] |  |  |     \\- org.ow2.asm:asm:jar:9.1:compile\r\n    [INFO] |  |  \\- org.slf4j:slf4j-api:jar:1.7.33:compile\r\n    [INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:compile\r\n    [INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.0:compile\r\n    [INFO] |  +- org.assertj:assertj-core:jar:3.23.1:compile\r\n    [INFO] |  |  \\- net.bytebuddy:byte-buddy:jar:1.12.10:compile\r\n    [INFO] |  +- org.hamcrest:hamcrest:jar:2.2:compile\r\n    [INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.9.2:compile\r\n    [INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:compile\r\n    [INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:compile\r\n    [INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.2:compile\r\n    [INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:compile\r\n    [INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.2:compile\r\n    [INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:runtime\r\n    [INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.9.2:runtime\r\n    [INFO] |  +- org.mockito:mockito-core:jar:4.8.1:compile\r\n    [INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.16:compile\r\n    [INFO] |  |  \\- org.objenesis:objenesis:jar:3.2:runtime\r\n    [INFO] |  +- org.mockito:mockito-junit-jupiter:jar:4.8.1:compile\r\n    [INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.1:compile\r\n    [INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:compile\r\n    [INFO] |  +- org.springframework:spring-core:jar:6.0.6:compile\r\n    [INFO] |  |  \\- org.springframework:spring-jcl:jar:6.0.6:compile\r\n    [INFO] |  +- org.springframework:spring-test:jar:6.0.6:compile\r\n    [INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.1:compile\r\n    [INFO] \\- org.projectlombok:lombok:jar:1.18.24:compile\r\n\r\nPlease what am I doing wrong?\r\n","title":"LoggerFactory is not a Logback LoggerContext - SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder","body":"<p>I created a sample modular basic microservices (customer, fraud)using spring boot 3.0.4 with IntelliJ just to test auto service discovery pattern.  All was ok until I added a 3rd microservice: eureka server with the spring cloud dependencies (version 2022.0.1).</p>\n<p>When I tried to run the application, I got the following error:</p>\n<pre><code>    SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: LoggerFactory is not a Logback LoggerContext but Logback is on the classpath. Either remove Logback or the competing implementation (class org.slf4j.helpers.NOPLoggerFactory loaded from file:/Users/apple/.m2/repository/org/slf4j/slf4j-api/1.7.33/slf4j-api-1.7.33.jar). If you are using WebLogic you will need to add 'org.slf4j' to prefer-application-packages in WEB-INF/weblogic.xml: org.slf4j.helpers.NOPLoggerFactory\n    at org.springframework.util.Assert.instanceCheckFailed(Assert.java:713)\n    at org.springframework.util.Assert.isInstanceOf(Assert.java:632)\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.getLoggerContext(LogbackLoggingSystem.java:382)\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.beforeInitialize(LogbackLoggingSystem.java:123)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationStartingEvent(LoggingApplicationListener.java:238)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:220)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\n    at org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\n    at org.springframework.boot.context.event.EventPublishingRunListener.starting(EventPublishingRunListener.java:75)\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$starting$0(SpringApplicationRunListeners.java:54)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\n    at org.springframework.boot.SpringApplicationRunListeners.starting(SpringApplicationRunListeners.java:54)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)\n    at com.techronym.eurekaserver.EurekaServerApplication.main(EurekaServerApplication.java:11)\n\nProcess finished with exit code 1\n</code></pre>\n<p>Here's my parent pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.techronym.app&lt;/groupId&gt;\n  &lt;artifactId&gt;demo-app&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;modules&gt;\n        &lt;module&gt;customer&lt;/module&gt;\n      &lt;module&gt;fraud&lt;/module&gt;\n      &lt;module&gt;eureka-server&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;name&gt;demo-app&lt;/name&gt;\n  &lt;url&gt;https://www.techronym.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;spring.boot.maven.plugin&gt;3.0.4&lt;/spring.boot.maven.plugin&gt;\n    &lt;spring.boot.dependencies.version&gt;3.0.4&lt;/spring.boot.dependencies.version&gt;\n    &lt;spring-cloud.version&gt;2022.0.1&lt;/spring-cloud.version&gt;\n\n  &lt;/properties&gt;\n\n  &lt;dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\n        &lt;version&gt;${spring.boot.dependencies.version}&lt;/version&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n        &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n      &lt;version&gt;3.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;version&gt;1.18.24&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (maybe moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;${spring.boot.maven.plugin}&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Eureka Server pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;demo-app&lt;/artifactId&gt;\n        &lt;groupId&gt;com.techronym.app&lt;/groupId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;eureka-server&lt;/artifactId&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Eureka App:</p>\n<pre><code>package com.techronym.eurekaserver;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.netflix.eureka.server.EnableEurekaServer;\n\n@SpringBootApplication\n@EnableEurekaServer\npublic class EurekaServerApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(EurekaServerApplication.class, args);\n    }\n}\n</code></pre>\n<p>Dependency tree</p>\n<pre><code>com.techronym.app:demo-app:pom:1.0-SNAPSHOT\n+- org.springframework.boot:spring-boot-starter-test:jar:3.0.4:compile\n +- org.springframework.boot:spring-boot-starter:jar:3.0.4:compile\n|  |  +- org.springframework.boot:spring-boot:jar:3.0.4:compile\n |  |  |  \\- org.springframework:spring-context:jar:6.0.6:compile\n|  |  |     +- org.springframework:spring-aop:jar:6.0.6:compile\n[INFO] |  |  |     +- org.springframework:spring-beans:jar:6.0.6:compile\n[INFO] |  |  |     \\- org.springframework:spring-expression:jar:6.0.6:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.0.4:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:3.0.4:compile\n[INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.4.5:compile\n[INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.4.5:compile\n[INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.19.0:compile\n[INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.19.0:compile\n[INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:2.0.6:compile\n[INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:compile\n[INFO] |  +- org.springframework.boot:spring-boot-test:jar:3.0.4:compile\n[INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.0.4:compile\n[INFO] |  +- com.jayway.jsonpath:json-path:jar:2.7.0:compile\n[INFO] |  |  +- net.minidev:json-smart:jar:2.4.7:compile\n[INFO] |  |  |  \\- net.minidev:accessors-smart:jar:2.4.7:compile\n[INFO] |  |  |     \\- org.ow2.asm:asm:jar:9.1:compile\n[INFO] |  |  \\- org.slf4j:slf4j-api:jar:1.7.33:compile\n[INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:compile\n[INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.0:compile\n[INFO] |  +- org.assertj:assertj-core:jar:3.23.1:compile\n[INFO] |  |  \\- net.bytebuddy:byte-buddy:jar:1.12.10:compile\n[INFO] |  +- org.hamcrest:hamcrest:jar:2.2:compile\n[INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.9.2:compile\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:compile\n[INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:compile\n[INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.2:compile\n[INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:compile\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.2:compile\n[INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:runtime\n[INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.9.2:runtime\n[INFO] |  +- org.mockito:mockito-core:jar:4.8.1:compile\n[INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.16:compile\n[INFO] |  |  \\- org.objenesis:objenesis:jar:3.2:runtime\n[INFO] |  +- org.mockito:mockito-junit-jupiter:jar:4.8.1:compile\n[INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.1:compile\n[INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:compile\n[INFO] |  +- org.springframework:spring-core:jar:6.0.6:compile\n[INFO] |  |  \\- org.springframework:spring-jcl:jar:6.0.6:compile\n[INFO] |  +- org.springframework:spring-test:jar:6.0.6:compile\n[INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.1:compile\n[INFO] \\- org.projectlombok:lombok:jar:1.18.24:compile\n[INFO] \n[INFO] ---------------------&lt; com.techronym.app:customer &gt;---------------------\n\n[INFO] Building eureka-server 1.0-SNAPSHOT                                [4/4]\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ eureka-server ---\n[INFO] com.techronym.app:eureka-server:jar:1.0-SNAPSHOT\n[INFO] +- org.springframework.cloud:spring-cloud-starter-netflix-eureka-server:jar:4.0.0:compile\n[INFO] |  +- org.springframework.cloud:spring-cloud-starter:jar:4.0.1:compile\n[INFO] |  |  +- org.springframework.cloud:spring-cloud-context:jar:4.0.1:compile\n[INFO] |  |  |  \\- org.springframework.security:spring-security-crypto:jar:6.0.1:compile\n[INFO] |  |  +- org.springframework.cloud:spring-cloud-commons:jar:4.0.1:compile\n[INFO] |  |  \\- org.springframework.security:spring-security-rsa:jar:1.0.11.RELEASE:compile\n[INFO] |  |     \\- org.bouncycastle:bcpkix-jdk15on:jar:1.69:compile\n[INFO] |  |        +- org.bouncycastle:bcprov-jdk15on:jar:1.69:compile\n[INFO] |  |        \\- org.bouncycastle:bcutil-jdk15on:jar:1.69:compile\n[INFO] |  +- org.springframework.cloud:spring-cloud-netflix-eureka-server:jar:4.0.0:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-web:jar:3.0.0:compile\n[INFO] |  |  |  +- org.springframework.boot:spring-boot-starter-json:jar:3.0.0:compile\n[INFO] |  |  |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.14.1:compile\n[INFO] |  |  |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.14.1:compile\n[INFO] |  |  |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.14.1:compile\n[INFO] |  |  |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:3.0.0:compile\n[INFO] |  |  |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.1:compile\n[INFO] |  |  |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.1:compile\n[INFO] |  |  |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.1:compile\n[INFO] |  |  |  +- org.springframework:spring-web:jar:6.0.2:compile\n[INFO] |  |  |  |  \\- org.springframework:spring-beans:jar:6.0.2:compile\n[INFO] |  |  |  \\- org.springframework:spring-webmvc:jar:6.0.2:compile\n[INFO] |  |  |     +- org.springframework:spring-aop:jar:6.0.2:compile\n[INFO] |  |  |     \\- org.springframework:spring-expression:jar:6.0.2:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-actuator:jar:3.0.0:compile\n[INFO] |  |  |  +- org.springframework.boot:spring-boot-actuator-autoconfigure:jar:3.0.0:compile\n[INFO] |  |  |  |  \\- org.springframework.boot:spring-boot-actuator:jar:3.0.0:compile\n[INFO] |  |  |  +- io.micrometer:micrometer-observation:jar:1.10.2:compile\n[INFO] |  |  |  |  \\- io.micrometer:micrometer-commons:jar:1.10.2:compile\n[INFO] |  |  |  \\- io.micrometer:micrometer-core:jar:1.10.2:compile\n[INFO] |  |  |     +- org.hdrhistogram:HdrHistogram:jar:2.1.12:runtime\n[INFO] |  |  |     \\- org.latencyutils:LatencyUtils:jar:2.0.3:runtime\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-freemarker:jar:3.0.0:compile\n[INFO] |  |  |  +- org.freemarker:freemarker:jar:2.3.31:compile\n[INFO] |  |  |  \\- org.springframework:spring-context-support:jar:6.0.2:compile\n[INFO] |  |  +- org.springframework.cloud:spring-cloud-netflix-eureka-client:jar:4.0.0:compile\n[INFO] |  |  |  +- com.netflix.eureka:eureka-client:jar:2.0.0:compile\n[INFO] |  |  |  |  +- com.netflix.netflix-commons:netflix-eventbus:jar:0.3.0:compile\n[INFO] |  |  |  |  |  +- com.netflix.netflix-commons:netflix-infix:jar:0.3.0:runtime\n[INFO] |  |  |  |  |  |  +- commons-jxpath:commons-jxpath:jar:1.3:runtime\n[INFO] |  |  |  |  |  |  +- joda-time:joda-time:jar:2.3:runtime\n[INFO] |  |  |  |  |  |  +- org.antlr:antlr-runtime:jar:3.4:runtime\n[INFO] |  |  |  |  |  |  |  +- org.antlr:stringtemplate:jar:3.2.1:runtime\n[INFO] |  |  |  |  |  |  |  \\- antlr:antlr:jar:2.7.7:runtime\n[INFO] |  |  |  |  |  |  \\- com.google.code.gson:gson:jar:2.1:runtime\n[INFO] |  |  |  |  |  \\- org.apache.commons:commons-math:jar:2.2:runtime\n[INFO] |  |  |  |  +- com.thoughtworks.xstream:xstream:jar:1.4.19:compile\n[INFO] |  |  |  |  |  \\- io.github.x-stream:mxparser:jar:1.2.2:compile\n[INFO] |  |  |  |  |     \\- xmlpull:xmlpull:jar:1.1.3.1:compile\n[INFO] |  |  |  |  +- com.netflix.servo:servo-core:jar:0.12.21:compile\n[INFO] |  |  |  |  |  \\- com.google.guava:guava:jar:19.0:compile\n[INFO] |  |  |  |  +- org.apache.httpcomponents:httpclient:jar:4.5.3:compile\n[INFO] |  |  |  |  |  \\- org.apache.httpcomponents:httpcore:jar:4.4.6:compile\n[INFO] |  |  |  |  +- commons-configuration:commons-configuration:jar:1.10:compile\n[INFO] |  |  |  |  |  \\- commons-lang:commons-lang:jar:2.6:compile\n[INFO] |  |  |  |  \\- org.codehaus.jettison:jettison:jar:1.4.0:runtime\n[INFO] |  |  |  \\- org.apache.httpcomponents.client5:httpclient5:jar:5.1.4:compile\n[INFO] |  |  |     +- org.apache.httpcomponents.core5:httpcore5:jar:5.1.5:compile\n[INFO] |  |  |     +- org.apache.httpcomponents.core5:httpcore5-h2:jar:5.1.5:compile\n[INFO] |  |  |     \\- commons-codec:commons-codec:jar:1.15:compile\n[INFO] |  |  +- com.netflix.eureka:eureka-client-jersey3:jar:2.0.0:compile\n[INFO] |  |  |  \\- org.glassfish.jersey.connectors:jersey-apache-connector:jar:3.0.5:compile\n[INFO] |  |  +- com.netflix.eureka:eureka-core-jersey3:jar:2.0.0:compile\n[INFO] |  |  |  \\- com.netflix.eureka:eureka-core:jar:2.0.0:compile\n[INFO] |  |  |     \\- jakarta.servlet:jakarta.servlet-api:jar:5.0.0:compile\n[INFO] |  |  +- org.glassfish.jersey.containers:jersey-container-servlet:jar:3.1.0:compile\n[INFO] |  |  |  +- org.glassfish.jersey.containers:jersey-container-servlet-core:jar:3.1.0:compile\n[INFO] |  |  |  +- org.glassfish.jersey.core:jersey-common:jar:3.1.0:compile\n[INFO] |  |  |  |  \\- org.glassfish.hk2:osgi-resource-locator:jar:1.0.3:compile\n[INFO] |  |  |  \\- jakarta.ws.rs:jakarta.ws.rs-api:jar:3.1.0:compile\n[INFO] |  |  +- org.glassfish.jersey.core:jersey-server:jar:3.1.0:compile\n[INFO] |  |  |  \\- jakarta.validation:jakarta.validation-api:jar:3.0.2:compile\n[INFO] |  |  +- org.glassfish.jersey.core:jersey-client:jar:3.1.0:compile\n[INFO] |  |  +- org.glassfish.jersey.inject:jersey-hk2:jar:3.1.0:compile\n[INFO] |  |  |  +- org.glassfish.hk2:hk2-locator:jar:3.0.3:compile\n[INFO] |  |  |  |  +- org.glassfish.hk2.external:aopalliance-repackaged:jar:3.0.3:compile\n[INFO] |  |  |  |  \\- org.glassfish.hk2:hk2-utils:jar:3.0.3:compile\n[INFO] |  |  |  \\- org.javassist:javassist:jar:3.28.0-GA:compile\n[INFO] |  |  +- org.glassfish.hk2:spring-bridge:jar:3.0.3:compile\n[INFO] |  |  |  +- org.glassfish.hk2:hk2-api:jar:3.0.3:compile\n[INFO] |  |  |  \\- org.springframework:spring-context:jar:5.2.4.RELEASE:compile\n[INFO] |  |  +- jakarta.inject:jakarta.inject-api:jar:2.0.1:compile\n[INFO] |  |  \\- com.fasterxml.jackson.dataformat:jackson-dataformat-xml:jar:2.14.1:compile\n[INFO] |  |     +- com.fasterxml.jackson.core:jackson-core:jar:2.14.1:compile\n[INFO] |  |     +- com.fasterxml.jackson.core:jackson-annotations:jar:2.14.1:compile\n[INFO] |  |     +- com.fasterxml.jackson.core:jackson-databind:jar:2.14.1:compile\n[INFO] |  |     +- org.codehaus.woodstox:stax2-api:jar:4.2.1:compile\n[INFO] |  |     \\- com.fasterxml.woodstox:woodstox-core:jar:6.4.0:compile\n[INFO] |  +- org.springframework.cloud:spring-cloud-starter-loadbalancer:jar:4.0.1:compile\n[INFO] |  |  +- org.springframework.cloud:spring-cloud-loadbalancer:jar:4.0.1:compile\n[INFO] |  |  |  +- io.projectreactor:reactor-core:jar:3.5.2:compile\n[INFO] |  |  |  |  \\- org.reactivestreams:reactive-streams:jar:1.0.4:compile\n[INFO] |  |  |  \\- io.projectreactor.addons:reactor-extra:jar:3.5.0:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-cache:jar:3.0.2:compile\n[INFO] |  |  \\- com.stoyanr:evictor:jar:1.0.0:compile\n[INFO] |  \\- org.glassfish.jaxb:jaxb-runtime:jar:4.0.1:compile\n[INFO] |     \\- org.glassfish.jaxb:jaxb-core:jar:4.0.1:compile\n[INFO] |        +- org.eclipse.angus:angus-activation:jar:1.0.0:runtime\n[INFO] |        +- org.glassfish.jaxb:txw2:jar:4.0.1:compile\n[INFO] |        \\- com.sun.istack:istack-commons-runtime:jar:4.1.1:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-test:jar:3.0.4:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:3.0.4:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot:jar:3.0.4:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.0.4:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:3.0.4:compile\n[INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.4.5:compile\n[INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.4.5:compile\n[INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.19.0:compile\n[INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.19.0:compile\n[INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:2.0.6:compile\n[INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:compile\n[INFO] |  +- org.springframework.boot:spring-boot-test:jar:3.0.4:compile\n[INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.0.4:compile\n[INFO] |  +- com.jayway.jsonpath:json-path:jar:2.7.0:compile\n[INFO] |  |  +- net.minidev:json-smart:jar:2.4.7:compile\n[INFO] |  |  |  \\- net.minidev:accessors-smart:jar:2.4.7:compile\n[INFO] |  |  |     \\- org.ow2.asm:asm:jar:9.1:compile\n[INFO] |  |  \\- org.slf4j:slf4j-api:jar:1.7.33:compile\n[INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:compile\n[INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.0:compile\n[INFO] |  +- org.assertj:assertj-core:jar:3.23.1:compile\n[INFO] |  |  \\- net.bytebuddy:byte-buddy:jar:1.12.10:compile\n[INFO] |  +- org.hamcrest:hamcrest:jar:2.2:compile\n[INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.9.2:compile\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:compile\n[INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:compile\n[INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.2:compile\n[INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:compile\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.2:compile\n[INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:runtime\n[INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.9.2:runtime\n[INFO] |  +- org.mockito:mockito-core:jar:4.8.1:compile\n[INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.16:compile\n[INFO] |  |  \\- org.objenesis:objenesis:jar:3.2:runtime\n[INFO] |  +- org.mockito:mockito-junit-jupiter:jar:4.8.1:compile\n[INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.1:compile\n[INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:compile\n[INFO] |  +- org.springframework:spring-core:jar:6.0.6:compile\n[INFO] |  |  \\- org.springframework:spring-jcl:jar:6.0.6:compile\n[INFO] |  +- org.springframework:spring-test:jar:6.0.6:compile\n[INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.1:compile\n[INFO] \\- org.projectlombok:lombok:jar:1.18.24:compile\n</code></pre>\n<p>Please what am I doing wrong?</p>\n"},{"tags":["java","spring","spring-boot","prometheus","spring-boot-actuator"],"answers":[{"tags":[],"owner":{"account_id":3639349,"reputation":350,"user_id":3033916,"display_name":"raph"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678954529,"creation_date":1678898985,"answer_id":75747759,"question_id":70870382,"body_markdown":"If you borrow from [this solution][1] about adding custom tags to existing prometheus actuator metrics and parse the request (I&#39;m using a jackson object mapper) for the property you&#39;re interested in, it should do the trick. Would look something like the following: \r\n\r\n```\r\n@Bean\r\npublic WebMvcTagsContributor webMvcTagsContributor() {\r\n\r\n    return new WebMvcTagsContributor() {\r\n        @Override\r\n        public Iterable&lt;Tag&gt; getTags(\r\n            HttpServletRequest request,\r\n            HttpServletResponse response,\r\n            Object handler,\r\n            Throwable exception\r\n        ) {\r\n\r\n            // parse the request body to get the property we&#39;re interested in later\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            ThingToMapFromRequestBody bodyAsObject = null;\r\n            try {\r\n                bodyAsObject = mapper.readValue(request.getReader().lines().collect(Collectors.joining()),\r\n                    ThingToMapFromRequestBody.class\r\n                );\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            // add the property we&#39;re interested in to our metrics\r\n            return Tag.of(&quot;challenge&quot;, bodyAsObject != null ? bodyAsObject.type() : &quot;&quot;);\r\n        }\r\n\r\n        @Override\r\n        public Iterable&lt;Tag&gt; getLongRequestTags(HttpServletRequest request, Object handler) {\r\n\r\n            return null;\r\n        }\r\n    };\r\n}\r\n\r\n// making use of a record rather than class, introduced in Java 14\r\nrecord ThingToMapFromRequestBody(String type, String method) { }\r\n```\r\n\r\n  [1]: https://stackoverflow.com/a/64913252/3033916","title":"Add custom labels to http_server_requests_seconds_bucket metric in Spring boot","body":"<p>If you borrow from <a href=\"https://stackoverflow.com/a/64913252/3033916\">this solution</a> about adding custom tags to existing prometheus actuator metrics and parse the request (I'm using a jackson object mapper) for the property you're interested in, it should do the trick. Would look something like the following:</p>\n<pre><code>@Bean\npublic WebMvcTagsContributor webMvcTagsContributor() {\n\n    return new WebMvcTagsContributor() {\n        @Override\n        public Iterable&lt;Tag&gt; getTags(\n            HttpServletRequest request,\n            HttpServletResponse response,\n            Object handler,\n            Throwable exception\n        ) {\n\n            // parse the request body to get the property we're interested in later\n            ObjectMapper mapper = new ObjectMapper();\n            ThingToMapFromRequestBody bodyAsObject = null;\n            try {\n                bodyAsObject = mapper.readValue(request.getReader().lines().collect(Collectors.joining()),\n                    ThingToMapFromRequestBody.class\n                );\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n            // add the property we're interested in to our metrics\n            return Tag.of(&quot;challenge&quot;, bodyAsObject != null ? bodyAsObject.type() : &quot;&quot;);\n        }\n\n        @Override\n        public Iterable&lt;Tag&gt; getLongRequestTags(HttpServletRequest request, Object handler) {\n\n            return null;\n        }\n    };\n}\n\n// making use of a record rather than class, introduced in Java 14\nrecord ThingToMapFromRequestBody(String type, String method) { }\n</code></pre>\n"}],"owner":{"account_id":24064473,"reputation":61,"user_id":18041255,"display_name":"JustAnotherDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1132,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678954529,"creation_date":1643232011,"question_id":70870382,"body_markdown":"I&#39;m currently working on a Spring boot (Spring webflux) project where we have exposed metrics of our application on **/actuator/prometheus** endpoint. We have added spring boot actuator dependency which by default gave us the **http_server_requests_seconds_bucket** metric. By default it has **{exception=&quot;None&quot;,method=&quot;POST&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/test&quot;,le=&quot;0.268435456&quot;,}** labels. I want to add another label say &quot;challenge&quot; which depends on the request payload. For example, my request payload looks like this,\r\n\r\n    {\r\n     &quot;type&quot; : &quot;basic&quot;,\r\n     &quot;method&quot; : &quot;someMethod&quot;\r\n    }\r\n\r\nI want to add a label within that metric as, `http_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;POST&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/pos/authenticate&quot;,le=&quot;0.268435456&quot;,     challenge=&quot;basic&quot;}` which is based on the request payload &quot;type&quot; parameter. Can someone please help with this\r\n\r\n**Note:** We only allow limited number of values for &quot;type&quot;\r\n","title":"Add custom labels to http_server_requests_seconds_bucket metric in Spring boot","body":"<p>I'm currently working on a Spring boot (Spring webflux) project where we have exposed metrics of our application on <strong>/actuator/prometheus</strong> endpoint. We have added spring boot actuator dependency which by default gave us the <strong>http_server_requests_seconds_bucket</strong> metric. By default it has <strong>{exception=&quot;None&quot;,method=&quot;POST&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/test&quot;,le=&quot;0.268435456&quot;,}</strong> labels. I want to add another label say &quot;challenge&quot; which depends on the request payload. For example, my request payload looks like this,</p>\n<pre><code>{\n &quot;type&quot; : &quot;basic&quot;,\n &quot;method&quot; : &quot;someMethod&quot;\n}\n</code></pre>\n<p>I want to add a label within that metric as, <code>http_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;POST&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/pos/authenticate&quot;,le=&quot;0.268435456&quot;,     challenge=&quot;basic&quot;}</code> which is based on the request payload &quot;type&quot; parameter. Can someone please help with this</p>\n<p><strong>Note:</strong> We only allow limited number of values for &quot;type&quot;</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4101523,"reputation":1355,"user_id":3366932,"accept_rate":57,"display_name":"Araymer"},"score":5,"creation_date":1478919326,"post_id":40559107,"comment_id":68355666,"body_markdown":"Put a breakpoint in and run it in debug and step through your code and see where it&#39;s breaking.","body":"Put a breakpoint in and run it in debug and step through your code and see where it&#39;s breaking."},{"owner":{"account_id":5060613,"reputation":74056,"user_id":4062354,"accept_rate":100,"display_name":"MikeCAT"},"score":2,"creation_date":1478919380,"post_id":40559107,"comment_id":68355679,"body_markdown":"You are not getting output even after you input 4 lines for the arguments of the constructor of `Flight`, right?","body":"You are not getting output even after you input 4 lines for the arguments of the constructor of <code>Flight</code>, right?"},{"owner":{"account_id":4986235,"reputation":1822,"user_id":4009768,"display_name":"d.j.brown"},"score":4,"creation_date":1478919424,"post_id":40559107,"comment_id":68355686,"body_markdown":"Nothing will display until you enter some text since you request input on the standard input using Scanner when constructing Flight.","body":"Nothing will display until you enter some text since you request input on the standard input using Scanner when constructing Flight."},{"owner":{"account_id":9346866,"reputation":1,"user_id":7087153,"display_name":"user7087153"},"score":0,"creation_date":1478919642,"post_id":40559107,"comment_id":68355720,"body_markdown":"Oops..my eyes completely missed that...thanks everyone","body":"Oops..my eyes completely missed that...thanks everyone"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1478923126,"post_id":40559107,"comment_id":68356263,"body_markdown":"@user7087153 that&#39;s what a debugger should have been able to tell you in seconds.","body":"@user7087153 that&#39;s what a debugger should have been able to tell you in seconds."}],"answers":[{"tags":[],"owner":{"account_id":6719971,"reputation":215,"user_id":5180377,"display_name":"فربد ضروري"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569322045,"creation_date":1479815671,"answer_id":40741176,"question_id":40559107,"body_markdown":"its not showing anything because it is waiting for you to enter characters you want in the Flight class constructor.\r\n&lt;br&gt;As you can see here \r\n\r\n    Flight flight = new Flight (input.nextLine(), input.nextLine(), input.nextLine(), input.nextLine(), 0);\r\n\r\nexecution stops at the `input.nextLine()` parts till you enter something and hit enter    \r\n\r\nP.S : its better to place some `System.out.println(&quot;enter the value&quot;)` kind of statement before the input parts to show the user what to do.funny doing this will prevent you from making this mistake you made","title":"My java code has no errors but why won&#39;t it run?","body":"<p>its not showing anything because it is waiting for you to enter characters you want in the Flight class constructor.\n<br>As you can see here </p>\n\n<pre><code>Flight flight = new Flight (input.nextLine(), input.nextLine(), input.nextLine(), input.nextLine(), 0);\n</code></pre>\n\n<p>execution stops at the <code>input.nextLine()</code> parts till you enter something and hit enter    </p>\n\n<p>P.S : its better to place some <code>System.out.println(\"enter the value\")</code> kind of statement before the input parts to show the user what to do.funny doing this will prevent you from making this mistake you made</p>\n"},{"tags":[],"owner":{"account_id":27995368,"reputation":1,"user_id":21380746,"display_name":"kaush"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678954292,"creation_date":1678581999,"answer_id":75710455,"question_id":40559107,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    public class Test {\r\n    \r\n        public static void main (String [] args) {\r\n            Scanner input = new Scanner (System.in);\r\n    \r\n            System.out.println(&quot;Creating first flight&quot;);\r\n            System.out.println(&quot;What is the name of the flight?&quot;);\r\n            String flightName = input.nextLine();\r\n            System.out.println(&quot;What is the destination of the flight?&quot;);\r\n            String destination = input.nextLine();\r\n            System.out.println(&quot;What is the departure time of the flight?&quot;);\r\n            String departureTime = input.nextLine();\r\n            System.out.println(&quot;What is the departure gate of the flight?&quot;);\r\n            String departureGate = input.nextLine();\r\n            \r\n            Flight flight = new Flight (flightName, destination, departureTime, departureGate, 0);\r\n    \r\n            boolean done = false;\r\n            while (!done) {\r\n                System.out.println(&quot;Now what would you like to do?&quot;);\r\n                System.out.print(&quot;1. Print out a flight&#39;s info&quot;);\r\n                System.out.print(&quot;2. Print out the number of flights through the static variable.&quot;);\r\n                System.out.print(&quot;3. Change the departure time of a flight.&quot;);\r\n                System.out.print(&quot;4. Change the departure gate of a flight.&quot;);\r\n                System.out.print(&quot;5. Exit&quot;);\r\n                int choice = input.nextInt();\r\n    \r\n                switch (choice) {\r\n    \r\n                case 1: \r\n                    System.out.println(&quot;Which flight would you like to print the info of (1 or 2)?&quot;);\r\n                    int selection = input.nextInt();\r\n                    if (selection == 1 || selection == 2) {\r\n                        flight.printFlight();\r\n                    } else{\r\n                        System.out.println(&quot;Invalid Option&quot;);\r\n                    } break;\r\n    \r\n                case 2: \r\n                    System.out.println(&quot;This is the number of flights&quot; + Flight.getNumFlights());\r\n                    break;\r\n    \r\n                case 3: \r\n                    System.out.println(&quot;Which flight would you like to change the departure time of (1 or 2)?&quot;);\r\n                    int selection2 = input.nextInt();\r\n                    if (selection2 == 1 || selection2 == 2){\r\n                        System.out.println(&quot;What is the new departure time for flight &quot; + (Flight.getNumFlights()-1));\r\n                        String new\r\n\r\n","title":"My java code has no errors but why won&#39;t it run?","body":"<pre><code>import java.util.Scanner;\n\npublic class Test {\n\n    public static void main (String [] args) {\n        Scanner input = new Scanner (System.in);\n\n        System.out.println(&quot;Creating first flight&quot;);\n        System.out.println(&quot;What is the name of the flight?&quot;);\n        String flightName = input.nextLine();\n        System.out.println(&quot;What is the destination of the flight?&quot;);\n        String destination = input.nextLine();\n        System.out.println(&quot;What is the departure time of the flight?&quot;);\n        String departureTime = input.nextLine();\n        System.out.println(&quot;What is the departure gate of the flight?&quot;);\n        String departureGate = input.nextLine();\n        \n        Flight flight = new Flight (flightName, destination, departureTime, departureGate, 0);\n\n        boolean done = false;\n        while (!done) {\n            System.out.println(&quot;Now what would you like to do?&quot;);\n            System.out.print(&quot;1. Print out a flight's info&quot;);\n            System.out.print(&quot;2. Print out the number of flights through the static variable.&quot;);\n            System.out.print(&quot;3. Change the departure time of a flight.&quot;);\n            System.out.print(&quot;4. Change the departure gate of a flight.&quot;);\n            System.out.print(&quot;5. Exit&quot;);\n            int choice = input.nextInt();\n\n            switch (choice) {\n\n            case 1: \n                System.out.println(&quot;Which flight would you like to print the info of (1 or 2)?&quot;);\n                int selection = input.nextInt();\n                if (selection == 1 || selection == 2) {\n                    flight.printFlight();\n                } else{\n                    System.out.println(&quot;Invalid Option&quot;);\n                } break;\n\n            case 2: \n                System.out.println(&quot;This is the number of flights&quot; + Flight.getNumFlights());\n                break;\n\n            case 3: \n                System.out.println(&quot;Which flight would you like to change the departure time of (1 or 2)?&quot;);\n                int selection2 = input.nextInt();\n                if (selection2 == 1 || selection2 == 2){\n                    System.out.println(&quot;What is the new departure time for flight &quot; + (Flight.getNumFlights()-1));\n                    String new\n</code></pre>\n"}],"owner":{"account_id":9346866,"reputation":1,"user_id":7087153,"display_name":"user7087153"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1318,"favorite_count":0,"down_vote_count":8,"up_vote_count":0,"answer_count":2,"score":-8,"last_activity_date":1678954292,"creation_date":1478919240,"question_id":40559107,"body_markdown":"For some reason when I run my code on eclipse there is nothing showing on the screen like it should. I&#39;m not sure what it is. I can type input into the console but that is about it. Nothing else happens. Can anyone tell me what it could be? Thanks. \r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Test {\r\n\r\n\tpublic static void main (String [] args) {\r\n\t\tScanner input = new Scanner (System.in);\r\n\t\t\r\n\t\tFlight flight = new Flight (input.nextLine(), input.nextLine(), input.nextLine(), input.nextLine(), 0);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Creating first flight&quot;);\r\n\t\tSystem.out.println(&quot;What is the name of the flight?&quot;);\r\n\t\t\tString flightName = input.nextLine();\r\n\t\tSystem.out.println(&quot;What is the destination of the flight?&quot;);\r\n\t\t\tString destination = input.nextLine();\r\n\t\tSystem.out.println(&quot;What is the departure time of the flight?&quot;);\r\n\t\t\tString departureTime = input.nextLine();\r\n\t\tSystem.out.println(&quot;What is the departure gate of the flight?&quot;);\r\n\t\t\tString departureGate = input.nextLine();\r\n\t\t\r\n\t\tboolean done = false;\r\n\t\twhile (!done) {\r\n\t\t\tSystem.out.println(&quot;Now what would you like to do?&quot;);\r\n\t\t\tSystem.out.print(&quot;1. Print out a flight&#39;s info&quot;);\r\n\t\t\tSystem.out.print(&quot;2. Print out the number of flights through the static variable.&quot;);\r\n\t\t\tSystem.out.print(&quot;3. Change the departure time of a flight.&quot;);\r\n\t\t\tSystem.out.print(&quot;4. Change the departure gate of a flight.&quot;);\r\n\t\t\tSystem.out.print(&quot;5. Exit&quot;);\r\n\t\t\tint choice = input.nextInt();\r\n\t\r\n\t\t\tswitch (choice) {\r\n\t\t\t\r\n\t\t\tcase 1: \r\n\t\t\t\tSystem.out.println(&quot;Which flight would you like to print the info of (1 or 2)?&quot;);\r\n\t\t\t\t\tint selection = 0;\r\n\t\t\t\t\tselection = input.nextInt();\r\n\t\t\t\tif (selection == 1 || selection == 2) {\r\n\t\t\t\t\tFlight.printFlight();\r\n\t\t\t\t} else{\r\n\t\t\t\t\tSystem.out.println(&quot;Invalid Option&quot;);\r\n\t\t\t\t} break;\r\n\t\t\t\t\r\n\t\t\tcase 2: \r\n\t\t\t\tSystem.out.println(&quot;This is the number of flights&quot; + Flight.getNumFlights());\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\tcase 3: \r\n\t\t\t\tSystem.out.println(&quot;Which flight would you like to change the departure time of (1 or 2)?&quot;);\r\n\t\t\t\t\tint selection2 = 0;\r\n\t\t\t\t\tselection2 = input.nextInt();\r\n\t\t\t\tif (selection2 == 1 || selection2 == 2){\r\n\t\t\t\t\tSystem.out.println(&quot;What is the new departure time for flight &quot; + (Flight.getNumFlights()-1));\r\n\t\t\t\t\t\tString newDeptTime = input.nextLine();\r\n\t\t\t\t\t\tFlight.changeDeptTime(newDeptTime);\r\n\t\t\t\t} else{\r\n\t\t\t\t\tSystem.out.println(&quot;Invalid Option&quot;);\r\n\t\t\t\t} break;\r\n\t\t\t\r\n\t\t\tcase 4: \r\n\t\t\t\tSystem.out.println(&quot;Which flight would you like to change the departure gate of?&quot;);\r\n\t\t\t\t\tint selection3 = input.nextInt();\r\n\t\t\t\tif (selection3 == 1 || selection3 == 2){\r\n\t\t\t\t\tSystem.out.println(&quot;What is the new departure gate for flight &quot; + Flight.getNumFlights());\r\n\t\t\t\t\t\tString newDeptGate = input.nextLine();\r\n\t\t\t\t\t\tFlight.changeDeptGate(newDeptGate);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSystem.out.println(&quot;Invalid option&quot;);\r\n\t\t\t\t} break;\r\n\t\t\t\r\n\t\t\tcase 5: \r\n\t\t\t\tdone = true;\r\n\t\t\t\tbreak; \r\n\t\t\tdefault:\r\n\t\t\t\tSystem.out.println(&quot;Invalid option&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\r\n\t\t}\t\r\n\t\r\n\t}\r\n\t\r\n    }\r\n\r\n\r\n\r\n\t\r\n\r\n","title":"My java code has no errors but why won&#39;t it run?","body":"<p>For some reason when I run my code on eclipse there is nothing showing on the screen like it should. I'm not sure what it is. I can type input into the console but that is about it. Nothing else happens. Can anyone tell me what it could be? Thanks. </p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Test {\n\npublic static void main (String [] args) {\n    Scanner input = new Scanner (System.in);\n\n    Flight flight = new Flight (input.nextLine(), input.nextLine(), input.nextLine(), input.nextLine(), 0);\n\n    System.out.println(\"Creating first flight\");\n    System.out.println(\"What is the name of the flight?\");\n        String flightName = input.nextLine();\n    System.out.println(\"What is the destination of the flight?\");\n        String destination = input.nextLine();\n    System.out.println(\"What is the departure time of the flight?\");\n        String departureTime = input.nextLine();\n    System.out.println(\"What is the departure gate of the flight?\");\n        String departureGate = input.nextLine();\n\n    boolean done = false;\n    while (!done) {\n        System.out.println(\"Now what would you like to do?\");\n        System.out.print(\"1. Print out a flight's info\");\n        System.out.print(\"2. Print out the number of flights through the static variable.\");\n        System.out.print(\"3. Change the departure time of a flight.\");\n        System.out.print(\"4. Change the departure gate of a flight.\");\n        System.out.print(\"5. Exit\");\n        int choice = input.nextInt();\n\n        switch (choice) {\n\n        case 1: \n            System.out.println(\"Which flight would you like to print the info of (1 or 2)?\");\n                int selection = 0;\n                selection = input.nextInt();\n            if (selection == 1 || selection == 2) {\n                Flight.printFlight();\n            } else{\n                System.out.println(\"Invalid Option\");\n            } break;\n\n        case 2: \n            System.out.println(\"This is the number of flights\" + Flight.getNumFlights());\n            break;\n\n        case 3: \n            System.out.println(\"Which flight would you like to change the departure time of (1 or 2)?\");\n                int selection2 = 0;\n                selection2 = input.nextInt();\n            if (selection2 == 1 || selection2 == 2){\n                System.out.println(\"What is the new departure time for flight \" + (Flight.getNumFlights()-1));\n                    String newDeptTime = input.nextLine();\n                    Flight.changeDeptTime(newDeptTime);\n            } else{\n                System.out.println(\"Invalid Option\");\n            } break;\n\n        case 4: \n            System.out.println(\"Which flight would you like to change the departure gate of?\");\n                int selection3 = input.nextInt();\n            if (selection3 == 1 || selection3 == 2){\n                System.out.println(\"What is the new departure gate for flight \" + Flight.getNumFlights());\n                    String newDeptGate = input.nextLine();\n                    Flight.changeDeptGate(newDeptGate);\n            } else {\n                System.out.println(\"Invalid option\");\n            } break;\n\n        case 5: \n            done = true;\n            break; \n        default:\n            System.out.println(\"Invalid option\");\n            break;\n\n        }\n\n    }   \n\n}\n\n}\n</code></pre>\n"},{"tags":["java","swing","jtextfield","keylistener"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678953306,"post_id":75753385,"comment_id":133633361,"body_markdown":"can you provide a minimal example that reproduces the issue?","body":"can you provide a minimal example that reproduces the issue?"},{"owner":{"account_id":25998407,"reputation":13,"user_id":19709339,"display_name":"noen"},"score":0,"creation_date":1678953470,"post_id":75753385,"comment_id":133633398,"body_markdown":"yes, You can create an object in the main class and run the code I showed you right away and No additional code is required.","body":"yes, You can create an object in the main class and run the code I showed you right away and No additional code is required."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678953991,"post_id":75753385,"comment_id":133633536,"body_markdown":"your code works just fine. Your problem is not that the Listener doesn&#39;t work, it&#39;s that you added that KeyListener to the Frame. Since your textfield covers the entire frame, it&#39;s not possible for your frame itself to be selected. Add your KeyListener to your textField instead of to your Frame. Since you want the Listener to be triggered on an update of the field, that&#39;s what you should &#39;ve done either way.","body":"your code works just fine. Your problem is not that the Listener doesn&#39;t work, it&#39;s that you added that KeyListener to the Frame. Since your textfield covers the entire frame, it&#39;s not possible for your frame itself to be selected. Add your KeyListener to your textField instead of to your Frame. Since you want the Listener to be triggered on an update of the field, that&#39;s what you should &#39;ve done either way."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1678962214,"post_id":75753385,"comment_id":133635797,"body_markdown":"I&#39;m not sure what is you&#39;re trying to achieve, but generally speaking, a `KeyListener` on a text component is a bad idea.  Maybe something like [this](https://stackoverflow.com/questions/12760311/performing-a-certain-task-after-pressing-ctrl-alt-backspace/12763850#12763850) would work better","body":"I&#39;m not sure what is you&#39;re trying to achieve, but generally speaking, a <code>KeyListener</code> on a text component is a bad idea.  Maybe something like <a href=\"https://stackoverflow.com/questions/12760311/performing-a-certain-task-after-pressing-ctrl-alt-backspace/12763850#12763850\">this</a> would work better"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678963646,"post_id":75753385,"comment_id":133636290,"body_markdown":"[Key capture example](https://stackoverflow.com/questions/46985936/using-keybinding-and-action-map-in-java-for-shortcut-keys-for-buttons/46986203#46986203)","body":"<a href=\"https://stackoverflow.com/questions/46985936/using-keybinding-and-action-map-in-java-for-shortcut-keys-for-buttons/46986203#46986203\">Key capture example</a>"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1678965070,"post_id":75753385,"comment_id":133636718,"body_markdown":"_want to receive only the shortcuts_ which short-custs?","body":"<i>want to receive only the shortcuts</i> which short-custs?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1678965426,"post_id":75753385,"comment_id":133636818,"body_markdown":"as-is, it either describes a typo-like error (adding the listener to the wrong component) or a keylistener is the wrong approach.","body":"as-is, it either describes a typo-like error (adding the listener to the wrong component) or a keylistener is the wrong approach."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678965509,"post_id":75753385,"comment_id":133636830,"body_markdown":"Just so we&#39;re a little clear - there are a number of possible ways to for monitor keyboard input, some are better then others, but without more clarity , it&#39;s impossible to to provide you with a decent amount of direction","body":"Just so we&#39;re a little clear - there are a number of possible ways to for monitor keyboard input, some are better then others, but without more clarity , it&#39;s impossible to to provide you with a decent amount of direction"}],"answers":[{"tags":[],"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"down_vote_count":2,"up_vote_count":1,"is_accepted":true,"score":-1,"last_activity_date":1678954121,"creation_date":1678954121,"answer_id":75753505,"question_id":75753385,"body_markdown":"In order for your Listener to be applicable to your textField, you need to change this:\r\n\r\n    addKeyListener(new KeyAdapter() {\r\n                @Override\r\n                public void keyPressed(KeyEvent e) { //it is not responding after value modification in JTextField...\r\n                    System.out.println(&quot;test&quot;);\r\n                }\r\n            });\r\n\r\ninto this:\r\n\r\n    textField.addKeyListener(new KeyAdapter() {\r\n                @Override\r\n                public void keyPressed(KeyEvent e) { //it is not responding after value modification in JTextField...\r\n                    System.out.println(&quot;test&quot;);\r\n                }\r\n            });\r\n\r\nAt current, your Listener is attached to your Frame, which is completely covered by the textField.","title":"KeyListener not responding after value modification in JTextField","body":"<p>In order for your Listener to be applicable to your textField, you need to change this:</p>\n<pre><code>addKeyListener(new KeyAdapter() {\n            @Override\n            public void keyPressed(KeyEvent e) { //it is not responding after value modification in JTextField...\n                System.out.println(&quot;test&quot;);\n            }\n        });\n</code></pre>\n<p>into this:</p>\n<pre><code>textField.addKeyListener(new KeyAdapter() {\n            @Override\n            public void keyPressed(KeyEvent e) { //it is not responding after value modification in JTextField...\n                System.out.println(&quot;test&quot;);\n            }\n        });\n</code></pre>\n<p>At current, your Listener is attached to your Frame, which is completely covered by the textField.</p>\n"}],"owner":{"account_id":25998407,"reputation":13,"user_id":19709339,"display_name":"noen"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75753505,"answer_count":1,"score":-1,"last_activity_date":1678954121,"creation_date":1678953129,"question_id":75753385,"body_markdown":"I&#39;m writing a program in java that opens a window and detects keystrokes.\r\n\r\nHowever, there is one fatal problem. if i modify the value in TextField, KeyListener will not work again. Here is the code that summarizes the problem situation I ran into:\r\n\r\n```java\r\n    \r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.KeyAdapter;\r\nimport java.awt.event.KeyEvent;\r\n\r\npublic class Main extends JFrame {\r\n    private Main(){\r\n\r\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n        setVisible(true);\r\n        setSize(500,500);\r\n        setPreferredSize(new Dimension(500,500));\r\n\r\n        JPanel textFieldPanel = new JPanel();\r\n        textFieldPanel.setFocusable(true);\r\n        textFieldPanel.setLayout(new BorderLayout());\r\n        JTextField textField = new JTextField();\r\n        textField.setFocusable(true);\r\n        addKeyListener(new KeyAdapter() {\r\n            @Override\r\n            public void keyPressed(KeyEvent e) { //it is not responding after value modification in JTextField...\r\n                System.out.println(&quot;test&quot;);\r\n            }\r\n        });\r\n        textFieldPanel.add(textField);\r\n        add(textFieldPanel);\r\n\r\n        pack();\r\n    }\r\n    public static void main(String[] args) {\r\n        new Main();\r\n    }\r\n}\r\n```\r\n\r\nI want to make it get a KeyListener even while entering a value, And also want to know why the listener is disabled.\r\n\r\nI&#39;ve disabled the fields via the disable and re-enable method, but the KeyListener still doesn&#39;t work.\r\n```java\r\n        textField.addActionListener(e -&gt; {\r\n            textField.setEnabled(false);\r\n            textField.setEnabled(true);\r\n        });\r\n```\r\n\r\nHow can I make it want to receive only the shortcuts, without the help of any external classes?\r\nSince I added it directly to the JFrame, it doesn&#39;t seem to be a focusing issue.","title":"KeyListener not responding after value modification in JTextField","body":"<p>I'm writing a program in java that opens a window and detects keystrokes.</p>\n<p>However, there is one fatal problem. if i modify the value in TextField, KeyListener will not work again. Here is the code that summarizes the problem situation I ran into:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    \nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\n\npublic class Main extends JFrame {\n    private Main(){\n\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        setVisible(true);\n        setSize(500,500);\n        setPreferredSize(new Dimension(500,500));\n\n        JPanel textFieldPanel = new JPanel();\n        textFieldPanel.setFocusable(true);\n        textFieldPanel.setLayout(new BorderLayout());\n        JTextField textField = new JTextField();\n        textField.setFocusable(true);\n        addKeyListener(new KeyAdapter() {\n            @Override\n            public void keyPressed(KeyEvent e) { //it is not responding after value modification in JTextField...\n                System.out.println(&quot;test&quot;);\n            }\n        });\n        textFieldPanel.add(textField);\n        add(textFieldPanel);\n\n        pack();\n    }\n    public static void main(String[] args) {\n        new Main();\n    }\n}\n</code></pre>\n<p>I want to make it get a KeyListener even while entering a value, And also want to know why the listener is disabled.</p>\n<p>I've disabled the fields via the disable and re-enable method, but the KeyListener still doesn't work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        textField.addActionListener(e -&gt; {\n            textField.setEnabled(false);\n            textField.setEnabled(true);\n        });\n</code></pre>\n<p>How can I make it want to receive only the shortcuts, without the help of any external classes?\nSince I added it directly to the JFrame, it doesn't seem to be a focusing issue.</p>\n"},{"tags":["java","singly-linked-list"],"comments":[{"owner":{"account_id":478081,"reputation":9703,"user_id":889941,"accept_rate":100,"display_name":"Vladimir"},"score":0,"creation_date":1368621217,"post_id":16565045,"comment_id":23799832,"body_markdown":"Your `print()` method is misleading - given the current implementation, it should be called `getValue()`","body":"Your <code>print()</code> method is misleading - given the current implementation, it should be called <code>getValue()</code>"}],"answers":[{"tags":[],"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368621266,"creation_date":1368621266,"answer_id":16565134,"question_id":16565045,"body_markdown":"Consider creating a `printall`\r\n\r\n    public void printAll(){\r\n        System.out.println(item);\r\n        if (next != null){\r\n            next.printAll();\r\n        }\r\n    }","title":"printing nodes from a singly-linked list","body":"<p>Consider creating a <code>printall</code></p>\n\n<pre><code>public void printAll(){\n    System.out.println(item);\n    if (next != null){\n        next.printAll();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2018711,"reputation":6103,"user_id":1805388,"accept_rate":80,"display_name":"ValarDohaeris"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1678953911,"creation_date":1368621283,"answer_id":16565141,"question_id":16565045,"body_markdown":"    public String toString() {\r\n        String result = item + &quot; &quot;;\r\n        if (next != null) {\r\n            result += next.toString();\r\n        }\r\n        return result;\r\n    }\r\n\r\nAnd then you can simply do\r\n\r\n    System.out.println(list.toString());\r\n\r\n(I renamed your function from `print` to `toString` to give a more accurate description of what it does)","title":"printing nodes from a singly-linked list","body":"<pre><code>public String toString() {\n    String result = item + &quot; &quot;;\n    if (next != null) {\n        result += next.toString();\n    }\n    return result;\n}\n</code></pre>\n<p>And then you can simply do</p>\n<pre><code>System.out.println(list.toString());\n</code></pre>\n<p>(I renamed your function from <code>print</code> to <code>toString</code> to give a more accurate description of what it does)</p>\n"},{"tags":[],"owner":{"account_id":478081,"reputation":9703,"user_id":889941,"accept_rate":100,"display_name":"Vladimir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1368621724,"creation_date":1368621404,"answer_id":16565176,"question_id":16565045,"body_markdown":"Your current implementation doesn&#39;t print anything: it simply returns item.\r\nMore appropriate implementation would look like:\r\n\r\n    public void print() {\r\n        System.out.println(item); \r\n    }\r\n\r\nYou can then use recursion to print all items:\r\n   \r\n    public void printAll() {\r\n        print();\r\n        if (next != null) {\r\n            System.out.println(&quot;; &quot;);\r\n            next.printAll(); \r\n        }\r\n    }\r\n   \r\n\r\n    \r\n","title":"printing nodes from a singly-linked list","body":"<p>Your current implementation doesn't print anything: it simply returns item.\nMore appropriate implementation would look like:</p>\n\n<pre><code>public void print() {\n    System.out.println(item); \n}\n</code></pre>\n\n<p>You can then use recursion to print all items:</p>\n\n<pre><code>public void printAll() {\n    print();\n    if (next != null) {\n        System.out.println(\"; \");\n        next.printAll(); \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2636659,"reputation":531,"user_id":2281124,"accept_rate":50,"display_name":"goodies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368621413,"creation_date":1368621413,"answer_id":16565181,"question_id":16565045,"body_markdown":"Your `print()` function is returning only a single item that&#39;s why it is printing only 21.\r\n\r\nCall recursively to print all the values until `next != NULL`","title":"printing nodes from a singly-linked list","body":"<p>Your <code>print()</code> function is returning only a single item that's why it is printing only 21.</p>\n\n<p>Call recursively to print all the values until <code>next != NULL</code></p>\n"},{"tags":[],"owner":{"account_id":2768189,"reputation":450,"user_id":2383376,"display_name":"jayrobin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368621567,"creation_date":1368621567,"answer_id":16565222,"question_id":16565045,"body_markdown":"Calling `list.print()` will only ever return the value of the head (21) - you are never making any reference or call to the next node: `next`.\r\n\r\nPersonally, I would remove the print() method and instead override toString():\r\n\r\n    @override\r\n    public String toString(){\r\n        return item + &quot;\\n&quot; + next;\r\n    }\r\n\r\nI guess you probably don&#39;t want the null tail printed, so this is probably nicer:\r\n\r\n    @override\r\n    public String toString(){\r\n        if(next) {\r\n            return item + &quot;\\n&quot; + next;\r\n        } else {\r\n            return item + &quot;\\n&quot;;\r\n        }\r\n    }\r\n\r\nThen in, main:\r\n\r\n    public static void main(String[] args) {            \r\n        ListNode list = new ListNode(21, new ListNode(5, new ListNode(19, null)));\r\n        System.out.println(list);\r\n    }\r\n\r\n","title":"printing nodes from a singly-linked list","body":"<p>Calling <code>list.print()</code> will only ever return the value of the head (21) - you are never making any reference or call to the next node: <code>next</code>.</p>\n\n<p>Personally, I would remove the print() method and instead override toString():</p>\n\n<pre><code>@override\npublic String toString(){\n    return item + \"\\n\" + next;\n}\n</code></pre>\n\n<p>I guess you probably don't want the null tail printed, so this is probably nicer:</p>\n\n<pre><code>@override\npublic String toString(){\n    if(next) {\n        return item + \"\\n\" + next;\n    } else {\n        return item + \"\\n\";\n    }\n}\n</code></pre>\n\n<p>Then in, main:</p>\n\n<pre><code>public static void main(String[] args) {            \n    ListNode list = new ListNode(21, new ListNode(5, new ListNode(19, null)));\n    System.out.println(list);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":436678,"reputation":5234,"user_id":823991,"accept_rate":83,"display_name":"John Snow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368621858,"creation_date":1368621858,"answer_id":16565334,"question_id":16565045,"body_markdown":"You can use a foreach loop:\r\n\r\n    List&lt;ListNode&gt; theList = new LinkedList&lt;ListNode&gt;();\r\n    //add stuff to the list\r\n    for(ListNode n:theList)\r\n       System.out.println(n.print();\r\n\r\nTHis will iterate over the list and return the next object, on this object we call the `print()` method","title":"printing nodes from a singly-linked list","body":"<p>You can use a foreach loop:</p>\n\n<pre><code>List&lt;ListNode&gt; theList = new LinkedList&lt;ListNode&gt;();\n//add stuff to the list\nfor(ListNode n:theList)\n   System.out.println(n.print();\n</code></pre>\n\n<p>THis will iterate over the list and return the next object, on this object we call the <code>print()</code> method</p>\n"},{"tags":[],"owner":{"account_id":8652630,"reputation":81,"user_id":6477792,"display_name":"Pasindu Jayasinghe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665296162,"creation_date":1665250746,"answer_id":73999204,"question_id":16565045,"body_markdown":"Convert list into an array `var arr = list.toArray();` after that print the array ` System.out.println(Arrays.toString(arr));`\r\n\r\n    public int[] toArray(){\r\n        int [] arry = new int[size];\r\n        var current = first;\r\n        var index = 0;\r\n    \r\n            while (current!=null){\r\n                arry[index++] = current.value;\r\n                current = current.next;\r\n            }\r\n            return arry;\r\n        }\r\n","title":"printing nodes from a singly-linked list","body":"<p>Convert list into an array <code>var arr = list.toArray();</code> after that print the array <code> System.out.println(Arrays.toString(arr));</code></p>\n<pre><code>public int[] toArray(){\n    int [] arry = new int[size];\n    var current = first;\n    var index = 0;\n\n        while (current!=null){\n            arry[index++] = current.value;\n            current = current.next;\n        }\n        return arry;\n    }\n</code></pre>\n"}],"owner":{"account_id":2694370,"reputation":145,"user_id":2326847,"display_name":"user2326847"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38715,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":16565141,"answer_count":7,"score":1,"last_activity_date":1678953911,"creation_date":1368621019,"question_id":16565045,"body_markdown":"I made a node class which is a linked list class. Is there any way I can print out elements in this list ? I made my `print()` method but it only returns the first element which is 21. How do I iterate through that list ?  \r\n\r\n    public class ListNode {\r\n\t\tprivate int item;\r\n\t\tprivate ListNode next;\r\n\t\t\r\n\t\tpublic ListNode(int item, ListNode next){\r\n\t\t\tthis.item = item;\r\n\t\t\tthis.next = next;\r\n\t\t}\r\n\t\t\r\n\t\tpublic ListNode(int item){\r\n\t\t\tthis(item, null);\r\n\t\t}\r\n\t\t\r\n\t\tpublic int print(){\r\n\t\t\treturn item;\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void main(String[] args) {\t\t\t\r\n\t\t\tListNode list = new ListNode(21, new ListNode(5, new ListNode(19, null)));\r\n\t\t\tSystem.out.println(list.print());\r\n\t\t}\r\n}","title":"printing nodes from a singly-linked list","body":"<p>I made a node class which is a linked list class. Is there any way I can print out elements in this list ? I made my <code>print()</code> method but it only returns the first element which is 21. How do I iterate through that list ?  </p>\n\n<pre><code>public class ListNode {\n    private int item;\n    private ListNode next;\n\n    public ListNode(int item, ListNode next){\n        this.item = item;\n        this.next = next;\n    }\n\n    public ListNode(int item){\n        this(item, null);\n    }\n\n    public int print(){\n        return item;\n    }\n\n    public static void main(String[] args) {            \n        ListNode list = new ListNode(21, new ListNode(5, new ListNode(19, null)));\n        System.out.println(list.print());\n    }\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","android","kotlin","text-to-speech"],"owner":{"account_id":16447516,"reputation":135,"user_id":11881850,"display_name":"kpwn Apps"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678953740,"creation_date":1678953740,"question_id":75753453,"body_markdown":"I have following code to play a text as audio:\r\n\r\n    abstract class EmployeeNoteToTTS(private val employeeName: String, activity: AppCompatActivity, private val text: String){\r\n    \r\n        private var tts: TextToSpeech? = null\r\n        private val audioFile = File(&quot;${activity.getExternalFilesDir(Environment.DIRECTORY_DOCUMENTS)}/employeeTtsNotes/$employeeName&quot;)\r\n    \r\n        abstract fun onConvertDone(audioFile: File)\r\n        abstract fun onConvertFail(utteranceId: String)\r\n    \r\n    \r\n        init {\r\n            audioFile.mkdirs()\r\n    \r\n            tts = TextToSpeech(activity.applicationContext)\r\n            { status -&gt; if (status == TextToSpeech.SUCCESS) {\r\n                tts?.language = Locale.US\r\n                } else {\r\n                    throw Exception(&quot;TTS init fail&quot;)\r\n                }\r\n            }\r\n            tts?.setOnUtteranceProgressListener(object : UtteranceProgressListener() {\r\n    \r\n                override fun onDone(utteranceId: String?) {\r\n                    Log.e(&quot;utteranceprogresslistener&quot;,&quot;convert done&quot;)\r\n                    onConvertDone(audioFile)\r\n                }\r\n    \r\n                override fun onError(utteranceId: String?) {\r\n                    Log.e(&quot;utteranceprogresslistener&quot;,&quot;convert fail&quot;)\r\n                    onConvertFail(utteranceId.toString())\r\n                }\r\n    \r\n                override fun onStart(utteranceId: String?) {\r\n                    Log.e(&quot;utteranceprogresslistener&quot;,&quot;convert start&quot;)\r\n                }\r\n            })\r\n    \r\n        }\r\n    \r\n       fun convert() {\r\n           if (audioFile.parent != null){\r\n               tts?.speak(text,TextToSpeech.QUEUE_FLUSH,null,&quot;&quot;)\r\n               val outputFile = File(audioFile.parent!! + &quot;/$employeeName/&quot; + &quot;TTS_${System.currentTimeMillis()}.mp3&quot;)\r\n               outputFile.createNewFile()\r\n               tts?.synthesizeToFile(text, null, outputFile,&quot;0&quot;)\r\n           }\r\n       }\r\n    \r\n    }\r\n\r\nHowever i am not able to save the file as .mp3 and the text is not played either. Theres also no exception thrown and none of the **UtteranceProgressListener** callbacks are called","title":"Android TextToSpeech does not save Audio and play song","body":"<p>I have following code to play a text as audio:</p>\n<pre><code>abstract class EmployeeNoteToTTS(private val employeeName: String, activity: AppCompatActivity, private val text: String){\n\n    private var tts: TextToSpeech? = null\n    private val audioFile = File(&quot;${activity.getExternalFilesDir(Environment.DIRECTORY_DOCUMENTS)}/employeeTtsNotes/$employeeName&quot;)\n\n    abstract fun onConvertDone(audioFile: File)\n    abstract fun onConvertFail(utteranceId: String)\n\n\n    init {\n        audioFile.mkdirs()\n\n        tts = TextToSpeech(activity.applicationContext)\n        { status -&gt; if (status == TextToSpeech.SUCCESS) {\n            tts?.language = Locale.US\n            } else {\n                throw Exception(&quot;TTS init fail&quot;)\n            }\n        }\n        tts?.setOnUtteranceProgressListener(object : UtteranceProgressListener() {\n\n            override fun onDone(utteranceId: String?) {\n                Log.e(&quot;utteranceprogresslistener&quot;,&quot;convert done&quot;)\n                onConvertDone(audioFile)\n            }\n\n            override fun onError(utteranceId: String?) {\n                Log.e(&quot;utteranceprogresslistener&quot;,&quot;convert fail&quot;)\n                onConvertFail(utteranceId.toString())\n            }\n\n            override fun onStart(utteranceId: String?) {\n                Log.e(&quot;utteranceprogresslistener&quot;,&quot;convert start&quot;)\n            }\n        })\n\n    }\n\n   fun convert() {\n       if (audioFile.parent != null){\n           tts?.speak(text,TextToSpeech.QUEUE_FLUSH,null,&quot;&quot;)\n           val outputFile = File(audioFile.parent!! + &quot;/$employeeName/&quot; + &quot;TTS_${System.currentTimeMillis()}.mp3&quot;)\n           outputFile.createNewFile()\n           tts?.synthesizeToFile(text, null, outputFile,&quot;0&quot;)\n       }\n   }\n\n}\n</code></pre>\n<p>However i am not able to save the file as .mp3 and the text is not played either. Theres also no exception thrown and none of the <strong>UtteranceProgressListener</strong> callbacks are called</p>\n"},{"tags":["java","working-set","project-explorer","eclipse-2019-06"],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564383075,"creation_date":1564383075,"answer_id":57248491,"question_id":57247502,"body_markdown":"These working sets are contributed by the Maven support plug-ins (org.eclipse.m2e.xxx). \r\n\r\nThere does not seem to be anyway to disable them other than uninstalling the Maven support.","title":"Is there a way to remove/hide/disable &quot;Java [Main|Test] Sources&quot; Working Sets from the Project Explorer panel in Eclipse 2019-06","body":"<p>These working sets are contributed by the Maven support plug-ins (org.eclipse.m2e.xxx). </p>\n\n<p>There does not seem to be anyway to disable them other than uninstalling the Maven support.</p>\n"},{"tags":[],"owner":{"account_id":3106923,"reputation":727,"user_id":4055135,"display_name":"Kelly Bang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582743720,"creation_date":1582742991,"answer_id":60420609,"question_id":57247502,"body_markdown":"The location where Eclipse saves working sets is `workspace/.metadata/.plugins/org.eclipse.ui.workbench/workingsets.xml`. If you&#39;re on Windows try setting this to readonly, hopefully this works.\r\n\r\nWhen you remove Java Main|Test Sources from Eclipse, it removes the corresponding lines there. However, when you restart Eclipse it generates those lines again.\r\n\r\nI&#39;m on Linux, I thought setting the file owner to root:root with -rw-rw-r-- permissions would have been enough. On start up it throws an error, but quickly corrects itself, deletes the folder and reconstructs the settings from the files it was able to read. Setting the folder to root:root as well means you can read the error that is thrown (Cannot save) but it still creates the workspaces, just can&#39;t save them for you...","title":"Is there a way to remove/hide/disable &quot;Java [Main|Test] Sources&quot; Working Sets from the Project Explorer panel in Eclipse 2019-06","body":"<p>The location where Eclipse saves working sets is <code>workspace/.metadata/.plugins/org.eclipse.ui.workbench/workingsets.xml</code>. If you're on Windows try setting this to readonly, hopefully this works.</p>\n\n<p>When you remove Java Main|Test Sources from Eclipse, it removes the corresponding lines there. However, when you restart Eclipse it generates those lines again.</p>\n\n<p>I'm on Linux, I thought setting the file owner to root:root with -rw-rw-r-- permissions would have been enough. On start up it throws an error, but quickly corrects itself, deletes the folder and reconstructs the settings from the files it was able to read. Setting the folder to root:root as well means you can read the error that is thrown (Cannot save) but it still creates the workspaces, just can't save them for you...</p>\n"},{"tags":[],"owner":{"account_id":11741990,"reputation":21,"user_id":8594012,"display_name":"Alex1988"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678953731,"creation_date":1678912858,"answer_id":75749872,"question_id":57247502,"body_markdown":"This worked for me, to solve the problem of the appearance of the directories &quot;**Java Main Sources**&quot; and &quot;**Java Test Sources**&quot; you have to go to the **Package Explorer** and click on the white triangle at the top,\r\n\r\n[![enter image description here][1]][1]\r\n\r\nfrom here select **Select Working Set...** ,\r\n\r\n[![enter image description here][3]][3]\r\n\r\na window will open where it will be possible to remove by clicking on Remove after having selected the working sets or directories named &quot;**Java Main Sources**&quot;\r\n\r\n[![enter image description here][4]][4]\r\n\r\n and &quot;**Java Test Sources**&quot;.\r\n\r\n\r\n[![enter image description here][5]][5]\r\n\r\nI hope this was helpful, simple and effective.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XnEnA.png\r\n  [2]: https://i.stack.imgur.com/igvqS.png\r\n  [3]: https://i.stack.imgur.com/7vGIg.png\r\n  [4]: https://i.stack.imgur.com/13lwT.png\r\n  [5]: https://i.stack.imgur.com/Kb0qf.png","title":"Is there a way to remove/hide/disable &quot;Java [Main|Test] Sources&quot; Working Sets from the Project Explorer panel in Eclipse 2019-06","body":"<p>This worked for me, to solve the problem of the appearance of the directories &quot;<strong>Java Main Sources</strong>&quot; and &quot;<strong>Java Test Sources</strong>&quot; you have to go to the <strong>Package Explorer</strong> and click on the white triangle at the top,</p>\n<p><a href=\"https://i.stack.imgur.com/XnEnA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XnEnA.png\" alt=\"enter image description here\" /></a></p>\n<p>from here select <strong>Select Working Set...</strong> ,</p>\n<p><a href=\"https://i.stack.imgur.com/7vGIg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7vGIg.png\" alt=\"enter image description here\" /></a></p>\n<p>a window will open where it will be possible to remove by clicking on Remove after having selected the working sets or directories named &quot;<strong>Java Main Sources</strong>&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/13lwT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/13lwT.png\" alt=\"enter image description here\" /></a></p>\n<p>and &quot;<strong>Java Test Sources</strong>&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/Kb0qf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kb0qf.png\" alt=\"enter image description here\" /></a></p>\n<p>I hope this was helpful, simple and effective.</p>\n"}],"owner":{"account_id":6917264,"reputation":219,"user_id":5311017,"display_name":"JDMcMillian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":521,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":3,"score":2,"last_activity_date":1678953731,"creation_date":1564376965,"question_id":57247502,"body_markdown":"I&#39;m trying to remove the working sets &quot;Java Main Sources&quot; and &quot;Java Test Sources&quot; from the working sets of the Project Explorer.  \r\n\r\nI can delete them from the Select Working Set dialogue window, but, they return when Eclipse is restarted. Is there a way to remove them permanently?\r\n\r\nAfter restarting eclipse, I would expect those working sets to not be present.","title":"Is there a way to remove/hide/disable &quot;Java [Main|Test] Sources&quot; Working Sets from the Project Explorer panel in Eclipse 2019-06","body":"<p>I'm trying to remove the working sets \"Java Main Sources\" and \"Java Test Sources\" from the working sets of the Project Explorer.  </p>\n\n<p>I can delete them from the Select Working Set dialogue window, but, they return when Eclipse is restarted. Is there a way to remove them permanently?</p>\n\n<p>After restarting eclipse, I would expect those working sets to not be present.</p>\n"},{"tags":["java","google-play"],"owner":{"account_id":28021456,"reputation":1,"user_id":21402194,"display_name":"q5a6"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678953457,"creation_date":1678953457,"question_id":75753420,"body_markdown":"my app update rejected by google play because of Request Install Packages Permission but my app is an app that allow user to install downloaded APK Files on User device so i can&#39;t remove this permission.\r\n\r\nGoogle play responded with this email :\r\n\r\n\r\n\r\n    We found that your app is not compliant with how REQUEST_INSTALL_PACKAGES permission is allowed to be used. Specifically, the use of the permission is not directly related to the core purpose of the app.\r\n\r\n    Issue details\r\n\r\n    We found an issue in the following area(s):\r\n\r\n    APK 15\r\n\r\n    Additionally, follow these steps to bring your app into compliance:\r\n\r\n    Please remove the use of REQUEST_INSTALL_PACKAGES permission from all version codes within the submission. This includes both production and testing tracks.\r\n\r\n\r\nhow i can fix this ?\r\n\r\ni have explained to google that the permission is required but they responded with the email below","title":"Request Install Packages Permission App update rejected","body":"<p>my app update rejected by google play because of Request Install Packages Permission but my app is an app that allow user to install downloaded APK Files on User device so i can't remove this permission.</p>\n<p>Google play responded with this email :</p>\n<pre><code>We found that your app is not compliant with how REQUEST_INSTALL_PACKAGES permission is allowed to be used. Specifically, the use of the permission is not directly related to the core purpose of the app.\n\nIssue details\n\nWe found an issue in the following area(s):\n\nAPK 15\n\nAdditionally, follow these steps to bring your app into compliance:\n\nPlease remove the use of REQUEST_INSTALL_PACKAGES permission from all version codes within the submission. This includes both production and testing tracks.\n</code></pre>\n<p>how i can fix this ?</p>\n<p>i have explained to google that the permission is required but they responded with the email below</p>\n"},{"tags":["java","unit-testing","quarkus"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":1,"creation_date":1678954517,"post_id":75753415,"comment_id":133633648,"body_markdown":"https://quarkus.io/guides/getting-started-testing.\nFollow the guide, you are missing some important point about testing Quarkus applications","body":"<a href=\"https://quarkus.io/guides/getting-started-testing\" rel=\"nofollow noreferrer\">quarkus.io/guides/getting-started-testing</a>. Follow the guide, you are missing some important point about testing Quarkus applications"}],"owner":{"account_id":28030346,"reputation":1,"user_id":21409637,"display_name":"batnyam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678953415,"creation_date":1678953415,"question_id":75753415,"body_markdown":"I do need a unit test of my app so that&#39;s my unit test class\r\n\r\n```\r\npublic class UnitTestActivator {\r\n\r\n    @Mock\r\n    ActivatorFacade activatorFacade;\r\n\r\n    @InjectMocks\r\n    ActivatorService activatorService;\r\n\r\n    @Before\r\n    public void setUp() {\r\n        MockitoAnnotations.initMocks(this);\r\n    }\r\n\r\n    @Test\r\n    public void testInsertActivator() {\r\n        String request = &quot;test request&quot;;\r\n        String globalId = &quot;test global id&quot;;\r\n\r\n        ActivatorEntity activatorEntity = new ActivatorEntity();\r\n        activatorEntity.setBody(request);\r\n        activatorEntity.setGlobalId(globalId);\r\n\r\n        activatorService.insertActivator(request, globalId);\r\n        Mockito.verify(activatorFacade).create(activatorEntity);\r\n    }\r\n\r\n}\r\n```\r\n\r\nand that&#39;s the ActivatorFacade class @Mock on unit test\r\n\r\n```\r\n@ApplicationScoped\r\npublic class ActivatorFacade extends AbstractFacade&lt;ActivatorEntity&gt; {\r\n\r\n    @Inject\r\n    EntityManager em;\r\n\r\n    @Override\r\n    protected EntityManager getEntityManager() {\r\n        return em;\r\n    }\r\n\r\n    public ActivatorFacade() {\r\n        super(ActivatorEntity.class);\r\n    }\r\n\r\n}\r\n```\r\n\r\nand that&#39;s ActivatorService class @InjectMocks on unit test\r\n\r\n```\r\n@ApplicationScoped\r\npublic class ActivatorService {\r\n\r\n    @Inject\r\n    ActivatorFacade activatorFacade;\r\n\r\n    @Transactional\r\n    public void insertActivator(String request, String globalId) {\r\n        ActivatorEntity activatorEntity = new ActivatorEntity();\r\n        activatorEntity.setBody(request);\r\n        activatorEntity.setGlobalId(globalId);\r\n        activatorFacade.create(activatorEntity);\r\n    }\r\n    \r\n}\r\n```\r\n\r\nthen running test occured this error\r\n\r\n```\r\n2023-03-16 15:50:26,237 ERROR [io.qua.test] (Test runner thread) Test UnitTestActivator#testInsertActivator() failed \r\n: java.lang.NullPointerException: Cannot invoke &quot;activator.service.ActivatorService.insertActivator(String, String)&quot; because &quot;this.activatorService&quot; is null at activator.unit.UnitTestActivator.testInsertActivator(UnitTestActivator.java:45)\r\n\r\n2023-03-16 15:50:26,238 ERROR [io.qua.test] (Test runner thread) &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Summary: &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\r\nactivator.unit.UnitTestActivator#testInsertActivator(UnitTestActivator.java:45) UnitTestActivator#testInsertActivator() Cannot invoke &quot;activator.service.ActivatorService.insertActivator(String, String)&quot; because &quot;this.activatorService&quot; is null\r\n2023-03-16 15:50:26,238 ERROR [io.qua.test] (Test runner thread) &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 1 TEST FAILED &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\r\n```\r\n\r\nhow to solve this error\r\n\r\nhow to fully inject or construct ActivatorService","title":"Can&#39;t inject service class in unit test of Quarkus app","body":"<p>I do need a unit test of my app so that's my unit test class</p>\n<pre><code>public class UnitTestActivator {\n\n    @Mock\n    ActivatorFacade activatorFacade;\n\n    @InjectMocks\n    ActivatorService activatorService;\n\n    @Before\n    public void setUp() {\n        MockitoAnnotations.initMocks(this);\n    }\n\n    @Test\n    public void testInsertActivator() {\n        String request = &quot;test request&quot;;\n        String globalId = &quot;test global id&quot;;\n\n        ActivatorEntity activatorEntity = new ActivatorEntity();\n        activatorEntity.setBody(request);\n        activatorEntity.setGlobalId(globalId);\n\n        activatorService.insertActivator(request, globalId);\n        Mockito.verify(activatorFacade).create(activatorEntity);\n    }\n\n}\n</code></pre>\n<p>and that's the ActivatorFacade class @Mock on unit test</p>\n<pre><code>@ApplicationScoped\npublic class ActivatorFacade extends AbstractFacade&lt;ActivatorEntity&gt; {\n\n    @Inject\n    EntityManager em;\n\n    @Override\n    protected EntityManager getEntityManager() {\n        return em;\n    }\n\n    public ActivatorFacade() {\n        super(ActivatorEntity.class);\n    }\n\n}\n</code></pre>\n<p>and that's ActivatorService class @InjectMocks on unit test</p>\n<pre><code>@ApplicationScoped\npublic class ActivatorService {\n\n    @Inject\n    ActivatorFacade activatorFacade;\n\n    @Transactional\n    public void insertActivator(String request, String globalId) {\n        ActivatorEntity activatorEntity = new ActivatorEntity();\n        activatorEntity.setBody(request);\n        activatorEntity.setGlobalId(globalId);\n        activatorFacade.create(activatorEntity);\n    }\n    \n}\n</code></pre>\n<p>then running test occured this error</p>\n<pre><code>2023-03-16 15:50:26,237 ERROR [io.qua.test] (Test runner thread) Test UnitTestActivator#testInsertActivator() failed \n: java.lang.NullPointerException: Cannot invoke &quot;activator.service.ActivatorService.insertActivator(String, String)&quot; because &quot;this.activatorService&quot; is null at activator.unit.UnitTestActivator.testInsertActivator(UnitTestActivator.java:45)\n\n2023-03-16 15:50:26,238 ERROR [io.qua.test] (Test runner thread) &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Summary: &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\nactivator.unit.UnitTestActivator#testInsertActivator(UnitTestActivator.java:45) UnitTestActivator#testInsertActivator() Cannot invoke &quot;activator.service.ActivatorService.insertActivator(String, String)&quot; because &quot;this.activatorService&quot; is null\n2023-03-16 15:50:26,238 ERROR [io.qua.test] (Test runner thread) &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 1 TEST FAILED &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\n</code></pre>\n<p>how to solve this error</p>\n<p>how to fully inject or construct ActivatorService</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9422,"page":570,"page_size":100}
