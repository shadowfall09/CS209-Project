{"items":[{"tags":["java","selenium-webdriver","geckodriver"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1678988558,"post_id":75759099,"comment_id":133644149,"body_markdown":"try setting path to Firefox executable without the double &quot;\\\\&quot;  In this case not sure you need to escape.","body":"try setting path to Firefox executable without the double &quot;\\\\&quot;  In this case not sure you need to escape."},{"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"score":0,"creation_date":1678994840,"post_id":75759099,"comment_id":133645822,"body_markdown":"Yes, I do. That&#39;s how java works and that&#39;s how geckodriver path is successfully found.","body":"Yes, I do. That&#39;s how java works and that&#39;s how geckodriver path is successfully found."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1678999389,"post_id":75759099,"comment_id":133646887,"body_markdown":"Do you have anything already running on localhost?","body":"Do you have anything already running on localhost?"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1679074585,"post_id":75759099,"comment_id":133661842,"body_markdown":"wouldn&#39;tya know I just had this error popup randomly... I&#39;m not running Windows 11 or JRE 17.  It seemed to disappear on the next run though.  Does this happen consistently for you?","body":"wouldn&#39;tya know I just had this error popup randomly... I&#39;m not running Windows 11 or JRE 17.  It seemed to disappear on the next run though.  Does this happen consistently for you?"},{"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"score":0,"creation_date":1679165489,"post_id":75759099,"comment_id":133674182,"body_markdown":"Indeed, very consistent, I think I have a custom ESR version or maybe some admin setup prevents me to automate this enterprise Firefox. And I can&#39;t find any &quot;portable&quot; Firefox to unzip.","body":"Indeed, very consistent, I think I have a custom ESR version or maybe some admin setup prevents me to automate this enterprise Firefox. And I can&#39;t find any &quot;portable&quot; Firefox to unzip."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1679334166,"post_id":75759099,"comment_id":133699730,"body_markdown":"Just a wild guess really, but it might be caused by Firefox trying to download/install an update.  (even the ESR versions will patch security issues...)  You might try just turning off auto-updates or running it manually and applying the updates.","body":"Just a wild guess really, but it might be caused by Firefox trying to download/install an update.  (even the ESR versions will patch security issues...)  You might try just turning off auto-updates or running it manually and applying the updates."},{"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"score":0,"creation_date":1679395261,"post_id":75759099,"comment_id":133710204,"body_markdown":"So you confirme there is no &quot;portable&quot; version of Firefox which doesn&#39;t need to run a &quot;.exe&quot; ?","body":"So you confirme there is no &quot;portable&quot; version of Firefox which doesn&#39;t need to run a &quot;.exe&quot; ?"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1679419219,"post_id":75759099,"comment_id":133717638,"body_markdown":"Since it&#39;s open-source, I&#39;d guess there is a version out there that doesn&#39;t need an installer to run.  It&#39;s still probably going to setup some things on the first run that are per-user.  At that point though you probably won&#39;t have a good test-case.","body":"Since it&#39;s open-source, I&#39;d guess there is a version out there that doesn&#39;t need an installer to run.  It&#39;s still probably going to setup some things on the first run that are per-user.  At that point though you probably won&#39;t have a good test-case."},{"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"score":0,"creation_date":1679508550,"post_id":75759099,"comment_id":133736368,"body_markdown":"Chromium is available in a zip, but I can&#39;t start it on my secured professionnal PC, so yeah, I guess the policy running on my PC prevents me to use Selenium Webdriver.","body":"Chromium is available in a zip, but I can&#39;t start it on my secured professionnal PC, so yeah, I guess the policy running on my PC prevents me to use Selenium Webdriver."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1679515647,"post_id":75759099,"comment_id":133737944,"body_markdown":"I guess you could confirm that by opening a command prompt, navigating to your firefox directory (something like: &quot;C:\\Program Files\\Mozilla Firefox\\&quot;...) and typing &quot;firefox.exe -marionette&quot;  This is how Selenium will launch it... and we can tell that your geckodriver was able to launch from the exception received.","body":"I guess you could confirm that by opening a command prompt, navigating to your firefox directory (something like: &quot;C:\\Program Files\\Mozilla Firefox\\&quot;...) and typing &quot;firefox.exe -marionette&quot;  This is how Selenium will launch it... and we can tell that your geckodriver was able to launch from the exception received."}],"answers":[{"comments":[{"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"score":0,"creation_date":1679041562,"post_id":75762164,"comment_id":133653147,"body_markdown":"Thank you for this, but I have exactly the same error output.","body":"Thank you for this, but I have exactly the same error output."},{"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"score":0,"creation_date":1679165418,"post_id":75762164,"comment_id":133674168,"body_markdown":"using these options","body":"using these options"},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1679167510,"post_id":75762164,"comment_id":133674442,"body_markdown":"@Tristan You mean the same error _`Possible causes are invalid address of the remote server or browser start-up failure`_","body":"@Tristan You mean the same error <i><code>Possible causes are invalid address of the remote server or browser start-up failure</code></i>"},{"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"score":0,"creation_date":1679258474,"post_id":75762164,"comment_id":133684875,"body_markdown":"exactly, just that","body":"exactly, just that"}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679005544,"creation_date":1679005544,"answer_id":75762164,"question_id":75759099,"body_markdown":"[`webdriver.firefox.bin`](https://stackoverflow.com/a/64062807/7429447) is no more a valid property to be set through [_`System.setProperty()`_](https://stackoverflow.com/a/60061951/7429447).\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nTo explicitly set the location of the [tag:firefox] binary executable you need to use the [`setBinary()`](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/firefox/FirefoxOptions.html#setBinary(java.lang.String)) method through an instance of [_FirefoxOptions_](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/firefox/FirefoxOptions.html) as follows:\r\n\r\n\timport org.openqa.selenium.WebDriver;\r\n\timport org.openqa.selenium.firefox.FirefoxDriver;\r\n\timport org.openqa.selenium.firefox.FirefoxOptions;\r\n\r\n\tpublic class genericTestFirefox {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\r\n\t\t\tFirefoxOptions options = new FirefoxOptions();\r\n\t\t\toptions.setBinary(&quot;C:\\\\Dev\\\\tools\\\\MyCompanyFirefox\\\\firefox.exe&quot;);\r\n\t\t\tWebDriver driver = new FirefoxDriver(options);\r\n\t\t\tdriver.get(&quot;https://www.google.com/&quot;);\r\n\t\t}\r\n\t}","title":"Are there known problems for running geckodriver on Windows 11 or JRE 17?","body":"<p><a href=\"https://stackoverflow.com/a/64062807/7429447\"><code>webdriver.firefox.bin</code></a> is no more a valid property to be set through <a href=\"https://stackoverflow.com/a/60061951/7429447\"><em><code>System.setProperty()</code></em></a>.</p>\n<hr />\n<h2>Solution</h2>\n<p>To explicitly set the location of the <a href=\"/questions/tagged/firefox\" class=\"post-tag\" title=\"show questions tagged &#39;firefox&#39;\" aria-label=\"show questions tagged &#39;firefox&#39;\" rel=\"tag\" aria-labelledby=\"tag-firefox-tooltip-container\">firefox</a> binary executable you need to use the <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/firefox/FirefoxOptions.html#setBinary(java.lang.String)\" rel=\"nofollow noreferrer\"><code>setBinary()</code></a> method through an instance of <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/firefox/FirefoxOptions.html\" rel=\"nofollow noreferrer\"><em>FirefoxOptions</em></a> as follows:</p>\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.firefox.FirefoxOptions;\n\npublic class genericTestFirefox {\n\n    public static void main(String[] args) {\n\n        FirefoxOptions options = new FirefoxOptions();\n        options.setBinary(&quot;C:\\\\Dev\\\\tools\\\\MyCompanyFirefox\\\\firefox.exe&quot;);\n        WebDriver driver = new FirefoxDriver(options);\n        driver.get(&quot;https://www.google.com/&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679005544,"creation_date":1678984680,"question_id":75759099,"body_markdown":"I am using :\r\n * latest version of gecko driver (&quot;0.32.2&quot;).\r\n * recent version of firefox (&quot;102.7.0esr (64 bits))\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI set up the executables like this :\r\n\r\n\tSystem.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;C:\\\\Dev\\\\tools\\\\geckodriver.exe&quot;);\r\n\tSystem.setProperty(&quot;webdriver.firefox.bin&quot;, &quot;C:\\\\Dev\\\\tools\\\\MyCompanyFirefox\\\\firefox.exe&quot;);\r\n\t\r\n\tWebDriver driver = new FirefoxDriver();\r\n\r\nAnd I get :\r\n\r\n    org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.\r\n    Caused by: org.openqa.selenium.WebDriverException: \r\n    Driver server process died prematurely.\r\n    Build info: version: &#39;4.1.4&#39;, revision: &#39;535d840ee2&#39;\r\n    System info: host: &#39;GLA6008818&#39;, ip: &#39;172.17.134.204&#39;, os.name: &#39;Windows 11&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.6&#39;\r\n    Driver info: driver.version: FirefoxDriver\r\n\r\n  [1]: https://i.stack.imgur.com/2CvXO.png","title":"Are there known problems for running geckodriver on Windows 11 or JRE 17?","body":"<p>I am using :</p>\n<ul>\n<li>latest version of gecko driver (&quot;0.32.2&quot;).</li>\n<li>recent version of firefox (&quot;102.7.0esr (64 bits))</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/2CvXO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2CvXO.png\" alt=\"enter image description here\" /></a></p>\n<p>I set up the executables like this :</p>\n<pre><code>System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;C:\\\\Dev\\\\tools\\\\geckodriver.exe&quot;);\nSystem.setProperty(&quot;webdriver.firefox.bin&quot;, &quot;C:\\\\Dev\\\\tools\\\\MyCompanyFirefox\\\\firefox.exe&quot;);\n\nWebDriver driver = new FirefoxDriver();\n</code></pre>\n<p>And I get :</p>\n<pre><code>org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.\nCaused by: org.openqa.selenium.WebDriverException: \nDriver server process died prematurely.\nBuild info: version: '4.1.4', revision: '535d840ee2'\nSystem info: host: 'GLA6008818', ip: '172.17.134.204', os.name: 'Windows 11', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.6'\nDriver info: driver.version: FirefoxDriver\n</code></pre>\n"},{"tags":["java","regex","ansi-escape"],"comments":[{"owner":{"account_id":19827105,"reputation":741,"user_id":14522489,"display_name":"ThomasG2201"},"score":0,"creation_date":1671623797,"post_id":74875572,"comment_id":132137747,"body_markdown":"To the guy that deleted his comment : Yeah, right, i had not thought about that. Using a group to get what&#39;s in the middle and using it to replace the whole string it&#39;s a very good idea, thank you!","body":"To the guy that deleted his comment : Yeah, right, i had not thought about that. Using a group to get what&#39;s in the middle and using it to replace the whole string it&#39;s a very good idea, thank you!"},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":0,"creation_date":1671624175,"post_id":74875572,"comment_id":132137873,"body_markdown":"The unknown regex could be [`\\033\\[[01]m`](https://regex101.com/r/4aXP7u/1/codegen?language=java) (Java demo)","body":"The unknown regex could be <a href=\"https://regex101.com/r/4aXP7u/1/codegen?language=java\" rel=\"nofollow noreferrer\"><code>\\033\\[[01]m</code></a> (Java demo)"},{"owner":{"account_id":19827105,"reputation":741,"user_id":14522489,"display_name":"ThomasG2201"},"score":0,"creation_date":1671649145,"post_id":74875572,"comment_id":132146360,"body_markdown":"You&#39;re right, @bobblebubble but there might be other digits instead of 0 or 1","body":"You&#39;re right, @bobblebubble but there might be other digits instead of 0 or 1"}],"answers":[{"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1671624247,"post_id":74875750,"comment_id":132137892,"body_markdown":"I removed that comment to post it as an answer for better formatting :)","body":"I removed that comment to post it as an answer for better formatting :)"},{"owner":{"account_id":19827105,"reputation":741,"user_id":14522489,"display_name":"ThomasG2201"},"score":0,"creation_date":1671648881,"post_id":74875750,"comment_id":132146298,"body_markdown":"Right, I guess I was quicker lmao, thanks bro","body":"Right, I guess I was quicker lmao, thanks bro"}],"tags":[],"owner":{"account_id":19827105,"reputation":741,"user_id":14522489,"display_name":"ThomasG2201"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671648896,"creation_date":1671623979,"answer_id":74875750,"question_id":74875572,"body_markdown":"_Found the answer thanks to a comment that disappeared._\r\n\r\nActually, i just need to make a group to get what&#39;s in the middle of the string and using it ($1) to replace the whole thing :\r\n\r\n```java\r\nString plainText = text.replaceAll(&quot;\\\\033\\\\[.*m(.+)\\\\033\\\\[.*m&quot;, &quot;$1&quot;)\r\n```\r\n\r\nNot sure if this will remove every ANSI codes but that is enough for what I want to do.\r\n ","title":"Using regular expression, how to remove matching sequence at the beginning and ending of the text but keeping what&#39;s in the middle?","body":"<p><em>Found the answer thanks to a comment that disappeared.</em></p>\n<p>Actually, i just need to make a group to get what's in the middle of the string and using it ($1) to replace the whole thing :</p>\n<pre class=\"lang-java prettyprint-override\"><code>String plainText = text.replaceAll(&quot;\\\\033\\\\[.*m(.+)\\\\033\\\\[.*m&quot;, &quot;$1&quot;)\n</code></pre>\n<p>Not sure if this will remove every ANSI codes but that is enough for what I want to do.</p>\n"},{"comments":[{"owner":{"account_id":19827105,"reputation":741,"user_id":14522489,"display_name":"ThomasG2201"},"score":0,"creation_date":1671649062,"post_id":74875765,"comment_id":132146340,"body_markdown":"I don&#39;t think that the scary &quot;\\\\\\\\\\\\d+\\\\&quot; is needed as I could just use &quot;\\\\033\\\\[.*m&quot; and my problem solved anyway. Maybe your solution works for more situations though much harder to read and understand. Thanks","body":"I don&#39;t think that the scary &quot;\\\\\\\\\\\\d+\\\\&quot; is needed as I could just use &quot;\\\\033\\&#91;.*m&quot; and my problem solved anyway. Maybe your solution works for more situations though much harder to read and understand. Thanks"}],"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671624057,"creation_date":1671624057,"answer_id":74875765,"question_id":74875572,"body_markdown":"Well, you use a single regex that has the ansi codes optionally at the beginning and end, captures anything in between and replaces the entire string with the value of the group: `text.replaceAll(&quot;^(?:\\\\\\\\\\\\d+\\\\[1m)?(.*?)(?:\\\\\\\\\\\\d+\\\\[0m)?$&quot;, &quot;$1&quot;)`. (this might not capture every ansi code - adjust if needed).\r\n\r\nBreaking the expression down (note that the example above escapes backslashes for Java strings so they are doubled):\r\n\r\n - `^` is the start of the string\r\n - `(?:\\\\\\d+\\[1m)?` matches an optional `\\&lt;at least 1 digit&gt;[1m`\r\n - `(.*?)` matches any text but as little as possible, and captures it into group 1\r\n - `(?:\\\\\\d+\\[0m)?` atches an optional `\\&lt;at least 1 digit&gt;[0m`\r\n - `$` is the end of the input\r\n\r\nIn the replacement `$1` refers to the value of capturing group 1 which is `(.*?)` in the expression.","title":"Using regular expression, how to remove matching sequence at the beginning and ending of the text but keeping what&#39;s in the middle?","body":"<p>Well, you use a single regex that has the ansi codes optionally at the beginning and end, captures anything in between and replaces the entire string with the value of the group: <code>text.replaceAll(&quot;^(?:\\\\\\\\\\\\d+\\\\[1m)?(.*?)(?:\\\\\\\\\\\\d+\\\\[0m)?$&quot;, &quot;$1&quot;)</code>. (this might not capture every ansi code - adjust if needed).</p>\n<p>Breaking the expression down (note that the example above escapes backslashes for Java strings so they are doubled):</p>\n<ul>\n<li><code>^</code> is the start of the string</li>\n<li><code>(?:\\\\\\d+\\[1m)?</code> matches an optional <code>\\&lt;at least 1 digit&gt;[1m</code></li>\n<li><code>(.*?)</code> matches any text but as little as possible, and captures it into group 1</li>\n<li><code>(?:\\\\\\d+\\[0m)?</code> atches an optional <code>\\&lt;at least 1 digit&gt;[0m</code></li>\n<li><code>$</code> is the end of the input</li>\n</ul>\n<p>In the replacement <code>$1</code> refers to the value of capturing group 1 which is <code>(.*?)</code> in the expression.</p>\n"}],"owner":{"account_id":19827105,"reputation":741,"user_id":14522489,"display_name":"ThomasG2201"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74875765,"answer_count":2,"score":0,"last_activity_date":1679004939,"creation_date":1671623037,"question_id":74875572,"body_markdown":"my problem is very simple but I can&#39;t figure out the correct regular expression I should use.\r\n\r\nI have the following variable (Java) :\r\n\r\n```java\r\nString text = &quot;\\033[1mYO\\033[0m&quot;; // this is ANSI for bold text in the Terminal\r\n```\r\n\r\nMy goal is to remove the ANSI codes with a single regular expression (I just want to keep the plain text at the middle). I cannot modify the text in any way and those ANSI codes will always be at the same place (so one at the beginning, one at the end, though sometimes it&#39;s possible that there is none).\r\n\r\nWith this regular expression, I will remove them using `replaceAll` method :\r\n\r\n```java\r\nString plainText = text.replaceAll(unknownRegex, &quot;&quot;);\r\n```\r\n\r\nAny idea on what the unknown regex could be?\r\n","title":"Using regular expression, how to remove matching sequence at the beginning and ending of the text but keeping what&#39;s in the middle?","body":"<p>my problem is very simple but I can't figure out the correct regular expression I should use.</p>\n<p>I have the following variable (Java) :</p>\n<pre class=\"lang-java prettyprint-override\"><code>String text = &quot;\\033[1mYO\\033[0m&quot;; // this is ANSI for bold text in the Terminal\n</code></pre>\n<p>My goal is to remove the ANSI codes with a single regular expression (I just want to keep the plain text at the middle). I cannot modify the text in any way and those ANSI codes will always be at the same place (so one at the beginning, one at the end, though sometimes it's possible that there is none).</p>\n<p>With this regular expression, I will remove them using <code>replaceAll</code> method :</p>\n<pre class=\"lang-java prettyprint-override\"><code>String plainText = text.replaceAll(unknownRegex, &quot;&quot;);\n</code></pre>\n<p>Any idea on what the unknown regex could be?</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb"],"comments":[{"owner":{"account_id":257345,"reputation":6764,"user_id":538697,"display_name":"hunterhacker"},"score":0,"creation_date":1679006780,"post_id":75761920,"comment_id":133648384,"body_markdown":"Yes, the package with v2 is v1. You&#39;re not the first to find this confusing.","body":"Yes, the package with v2 is v1. You&#39;re not the first to find this confusing."},{"owner":{"account_id":960660,"reputation":4565,"user_id":985088,"accept_rate":90,"display_name":"Hephaestus"},"score":0,"creation_date":1679007366,"post_id":75761920,"comment_id":133648460,"body_markdown":"!!!! The `dynamodbv2` packages are actually v1???","body":"!!!! The <code>dynamodbv2</code> packages are actually v1???"}],"answers":[{"comments":[{"owner":{"account_id":960660,"reputation":4565,"user_id":985088,"accept_rate":90,"display_name":"Hephaestus"},"score":0,"creation_date":1679006928,"post_id":75762072,"comment_id":133648407,"body_markdown":"Thank you. Could you please help define what root-package-names that are Current vs Deprecated?  As mentioned, it appears that `com.amazonaws.services` and `software.amazon` are both current, but I&#39;ve seen conflicts between them.  So what are the deprecated root-package-names?","body":"Thank you. Could you please help define what root-package-names that are Current vs Deprecated?  As mentioned, it appears that <code>com.amazonaws.services</code> and <code>software.amazon</code> are both current, but I&#39;ve seen conflicts between them.  So what are the deprecated root-package-names?"},{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1679007390,"post_id":75762072,"comment_id":133648467,"body_markdown":"As I said, v1 (`com.amazonaws`) is not officially deprecated yet.  The [docs](https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/welcome.html) point you to V2 but don&#39;t require it.  I would not attempt to have both versions in a single project - there will be many confusing collisions.","body":"As I said, v1 (<code>com.amazonaws</code>) is not officially deprecated yet.  The <a href=\"https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/welcome.html\" rel=\"nofollow noreferrer\">docs</a> point you to V2 but don&#39;t require it.  I would not attempt to have both versions in a single project - there will be many confusing collisions."},{"owner":{"account_id":960660,"reputation":4565,"user_id":985088,"accept_rate":90,"display_name":"Hephaestus"},"score":0,"creation_date":1679007975,"post_id":75762072,"comment_id":133648558,"body_markdown":"It would help to have a clear definition of which packages are V1.  @hunterhacker stated that `com.amazonaws.services.dynamodbv2 ` is a V1 API.  I have (reasonably) assumed that `dynamodbv2` is a v2 API.  I am apparently mixing the packages because I cannot tell which is which.  Just a little frustrating.","body":"It would help to have a clear definition of which packages are V1.  @hunterhacker stated that <code>com.amazonaws.services.dynamodbv2 </code> is a V1 API.  I have (reasonably) assumed that <code>dynamodbv2</code> is a v2 API.  I am apparently mixing the packages because I cannot tell which is which.  Just a little frustrating."},{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1679009276,"post_id":75762072,"comment_id":133648748,"body_markdown":"Ah, that&#39;s a different issue.  The `com.amazonaws` package means V1 SDK.  But, in the *V1* SDK there is [dynamodbv2](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/package-summary.html) package that is the second version of the DynamoDB library for SDK V1.  Confusing enough for you?  Ironically in the V2 Java SDK the DynamoDB library is in the `software.amazon.awssdk.services.dynamodb` library with the optional `software.amazon.awssdk.enhanced.dynamodb` (it&#39;s &quot;enhanced&quot;).  So the overall JDK has v1 and v2.  The v1 library has only has `dynamodbv2` now.","body":"Ah, that&#39;s a different issue.  The <code>com.amazonaws</code> package means V1 SDK.  But, in the <i>V1</i> SDK there is <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/package-summary.html\" rel=\"nofollow noreferrer\">dynamodbv2</a> package that is the second version of the DynamoDB library for SDK V1.  Confusing enough for you?  Ironically in the V2 Java SDK the DynamoDB library is in the <code>software.amazon.awssdk.services.dynamodb</code> library with the optional <code>software.amazon.awssdk.enhanced.dynamodb</code> (it&#39;s &quot;enhanced&quot;).  So the overall JDK has v1 and v2.  The v1 library has only has <code>dynamodbv2</code> now."}],"tags":[],"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679004674,"creation_date":1679004674,"answer_id":75762072,"question_id":75761920,"body_markdown":"The Java AWS SDK is currently v2.  That is most easily recognized by the package name that starts with `software.amazon` as shown in the  [Javadoc](https://sdk.amazonaws.com/java/api/latest/).\r\n\r\nv1 is still used but is discouraged.  The package names for v1 start with `com.amazonaws`.  The [Javadoc](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/) for it doesn&#39;t actually have anything deprecated but for new code and/or upgrades like you&#39;re doing I&#39;d go with v2.\r\n\r\nWith the exception of the AWS Lambda &quot;server side&quot; libraries (i.e. the ones that are used to create Lambda&#39;s in Java) all features of v1 should be available in v2.  See the [migration guide](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/migration.html) for details.  \r\n\r\n","title":"Java DynamoDB V2 SDK: which import to use?","body":"<p>The Java AWS SDK is currently v2.  That is most easily recognized by the package name that starts with <code>software.amazon</code> as shown in the  <a href=\"https://sdk.amazonaws.com/java/api/latest/\" rel=\"nofollow noreferrer\">Javadoc</a>.</p>\n<p>v1 is still used but is discouraged.  The package names for v1 start with <code>com.amazonaws</code>.  The <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/\" rel=\"nofollow noreferrer\">Javadoc</a> for it doesn't actually have anything deprecated but for new code and/or upgrades like you're doing I'd go with v2.</p>\n<p>With the exception of the AWS Lambda &quot;server side&quot; libraries (i.e. the ones that are used to create Lambda's in Java) all features of v1 should be available in v2.  See the <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/migration.html\" rel=\"nofollow noreferrer\">migration guide</a> for details.</p>\n"}],"owner":{"account_id":960660,"reputation":4565,"user_id":985088,"accept_rate":90,"display_name":"Hephaestus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75762072,"answer_count":1,"score":0,"last_activity_date":1679004674,"creation_date":1679003292,"question_id":75761920,"body_markdown":"I&#39;m reworking some older Java code (circa 2018) that uses the AWS DynamoDB (DDB) V1 Java interface.\r\n\r\nI want to keep only the V2 API and remove the V1 API, if only to slim the package so that we are not packaging to two different versions of the same API.\r\n\r\nI&#39;m trying to follow the Java [guidelines](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-dynamodb-items.html) for the V2 interface, but still having trouble figuring out which libraries are V1 and which are V2. \r\n\r\nFor example, I can guess that this is a new library (the &quot;v2&quot; is a good hint):\r\n\r\n```import com.amazonaws.services.dynamodbv2.model.PutItemRequest;```\r\n\r\nBut, this is not so clear:\r\n\r\n```import software.amazon.awssdk.services.dynamodb.model.PutItemRequest;```\r\n\r\n\r\nFor example, I&#39;m pretty sure that this is V1:\r\n\r\n`import software.amazon.awssdk.regions.Region;`\r\n\r\nBut this is V2:\r\n\r\n`import com.amazonaws.regions.Regions;`\r\n\r\nSo that tells me that `software.amazon.awssdk` is a V1 API, but that package name is used in the V2 API guidelines.\r\n\r\nIn summary, my question is: which libraries are V1 and which are V2?","title":"Java DynamoDB V2 SDK: which import to use?","body":"<p>I'm reworking some older Java code (circa 2018) that uses the AWS DynamoDB (DDB) V1 Java interface.</p>\n<p>I want to keep only the V2 API and remove the V1 API, if only to slim the package so that we are not packaging to two different versions of the same API.</p>\n<p>I'm trying to follow the Java <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-dynamodb-items.html\" rel=\"nofollow noreferrer\">guidelines</a> for the V2 interface, but still having trouble figuring out which libraries are V1 and which are V2.</p>\n<p>For example, I can guess that this is a new library (the &quot;v2&quot; is a good hint):</p>\n<p><code>import com.amazonaws.services.dynamodbv2.model.PutItemRequest;</code></p>\n<p>But, this is not so clear:</p>\n<p><code>import software.amazon.awssdk.services.dynamodb.model.PutItemRequest;</code></p>\n<p>For example, I'm pretty sure that this is V1:</p>\n<p><code>import software.amazon.awssdk.regions.Region;</code></p>\n<p>But this is V2:</p>\n<p><code>import com.amazonaws.regions.Regions;</code></p>\n<p>So that tells me that <code>software.amazon.awssdk</code> is a V1 API, but that package name is used in the V2 API guidelines.</p>\n<p>In summary, my question is: which libraries are V1 and which are V2?</p>\n"},{"tags":["java","spring-mvc","utf-8","character-encoding"],"comments":[{"owner":{"account_id":36208,"reputation":240326,"user_id":103154,"display_name":"axtavt"},"score":1,"creation_date":1302698969,"post_id":5649329,"comment_id":6442145,"body_markdown":"See http://stackoverflow.com/questions/3616359/who-sets-response-content-type-in-spring-mvc-responsebody/3617594#3617594","body":"See <a href=\"http://stackoverflow.com/questions/3616359/who-sets-response-content-type-in-spring-mvc-responsebody/3617594#3617594\" title=\"who sets response content type in spring mvc responsebody\">stackoverflow.com/questions/3616359/&hellip;</a>"},{"owner":{"account_id":205049,"reputation":73345,"user_id":453596,"accept_rate":76,"display_name":"kamaci"},"score":0,"creation_date":1343822679,"post_id":5649329,"comment_id":15611196,"body_markdown":"possible duplicate of [Spring MVC response encoding issue](http://stackoverflow.com/questions/6638284/spring-mvc-response-encoding-issue)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/6638284/spring-mvc-response-encoding-issue\">Spring MVC response encoding issue</a>"},{"owner":{"account_id":30606,"reputation":3631,"user_id":83509,"display_name":"Jugal Shah"},"score":1,"creation_date":1386733325,"post_id":5649329,"comment_id":30661208,"body_markdown":"Can you accept the answer if it is already working for you?","body":"Can you accept the answer if it is already working for you?"},{"owner":{"account_id":1502661,"reputation":1753,"user_id":1406807,"display_name":"Yura"},"score":0,"creation_date":1459786030,"post_id":5649329,"comment_id":60431181,"body_markdown":"response.setContentType(contentType); you don&#39;t need to write such code using frameworks, especially Spring. produces = &quot;text/plain;charset=UTF-8&quot; is your choice","body":"response.setContentType(contentType); you don&#39;t need to write such code using frameworks, especially Spring. produces = &quot;text/plain;charset=UTF-8&quot; is your choice"}],"answers":[{"tags":[],"owner":{"account_id":106339,"reputation":1012,"user_id":283315,"accept_rate":40,"display_name":"Trung"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1310922857,"creation_date":1310922857,"answer_id":6725440,"question_id":5649329,"body_markdown":"There are some similar questions: [https://stackoverflow.com/questions/6638284/spring-mvc-response-encoding-issue][1], [https://stackoverflow.com/questions/5019162/custom-httpmessageconverter-with-responsebody-to-do-json-things][2].\r\n\r\nHowever, my simple solution:\r\n\r\n    @RequestMapping(method=RequestMethod.GET,value=&quot;/GetMyList&quot;)\r\n    public ModelAndView getMyList(){\r\n      String test = &quot;čćžđš&quot;;\r\n      ...\r\n      ModelAndView mav = new ModelAndView(&quot;html_utf8&quot;);\r\n      mav.addObject(&quot;responseBody&quot;, test);\r\n    }\r\n\r\nand the view html_utf8.jsp\r\n\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;${responseBody}\r\n\r\nNo additional classes and configuration.  \r\nAnd You can also create another view (for example json_utf8) for other content type.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6638284/spring-mvc-response-encoding-issue\r\n  [2]: https://stackoverflow.com/questions/5019162/custom-httpmessageconverter-with-responsebody-to-do-json-things","title":"UTF-8 encoding problem in Spring MVC","body":"<p>There are some similar questions: <a href=\"https://stackoverflow.com/questions/6638284/spring-mvc-response-encoding-issue\">Spring MVC response encoding issue</a>, <a href=\"https://stackoverflow.com/questions/5019162/custom-httpmessageconverter-with-responsebody-to-do-json-things\">Custom HttpMessageConverter with @ResponseBody to do Json things</a>.</p>\n\n<p>However, my simple solution:</p>\n\n<pre><code>@RequestMapping(method=RequestMethod.GET,value=\"/GetMyList\")\npublic ModelAndView getMyList(){\n  String test = \"čćžđš\";\n  ...\n  ModelAndView mav = new ModelAndView(\"html_utf8\");\n  mav.addObject(\"responseBody\", test);\n}\n</code></pre>\n\n<p>and the view html_utf8.jsp</p>\n\n<pre><code>&lt;%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\" pageEncoding=\"UTF-8\"%&gt;${responseBody}\n</code></pre>\n\n<p>No additional classes and configuration.<br>\nAnd You can also create another view (for example json_utf8) for other content type.</p>\n"},{"comments":[{"owner":{"account_id":340071,"reputation":179,"user_id":669897,"display_name":"G&#225;bor Nagy"},"score":0,"creation_date":1411418419,"post_id":9394539,"comment_id":40686612,"body_markdown":"Also fixed my issues with Thymeleaf. Thanks.","body":"Also fixed my issues with Thymeleaf. Thanks."}],"tags":[],"owner":{"account_id":1169688,"reputation":1731,"user_id":1147133,"accept_rate":86,"display_name":"aki"},"comment_count":1,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1329912989,"creation_date":1329912989,"answer_id":9394539,"question_id":5649329,"body_markdown":"in your dispatcher servlet context xml, you have to add a propertie \r\n`&quot;&lt;property name=&quot;contentType&quot; value=&quot;text/html;charset=UTF-8&quot; /&gt;&quot;` on your viewResolver bean.\r\nwe are using freemarker for views.\r\n\r\nit looks something like this:\r\n\r\n    &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.freemarker.FreeMarkerViewResolver&quot;&gt;\r\n           ...\r\n           &lt;property name=&quot;contentType&quot; value=&quot;text/html;charset=UTF-8&quot; /&gt;\r\n           ...\r\n    &lt;/bean&gt;\r\n\r\n","title":"UTF-8 encoding problem in Spring MVC","body":"<p>in your dispatcher servlet context xml, you have to add a propertie \n<code>\"&lt;property name=\"contentType\" value=\"text/html;charset=UTF-8\" /&gt;\"</code> on your viewResolver bean.\nwe are using freemarker for views.</p>\n\n<p>it looks something like this:</p>\n\n<pre><code>&lt;bean id=\"viewResolver\" class=\"org.springframework.web.servlet.view.freemarker.FreeMarkerViewResolver\"&gt;\n       ...\n       &lt;property name=\"contentType\" value=\"text/html;charset=UTF-8\" /&gt;\n       ...\n&lt;/bean&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":978617,"reputation":1724,"user_id":998938,"display_name":"rwitzel"},"score":1,"creation_date":1426786818,"post_id":12023816,"comment_id":46524459,"body_markdown":"Solution 1 of the linked blog post works for me, i.e. writing bytes to the outputstream. The other two solutions don&#39;t work for me.","body":"Solution 1 of the linked blog post works for me, i.e. writing bytes to the outputstream. The other two solutions don&#39;t work for me."},{"owner":{"account_id":1512716,"reputation":1287,"user_id":1873877,"accept_rate":43,"display_name":"Marko"},"score":0,"creation_date":1427036286,"post_id":12023816,"comment_id":46604519,"body_markdown":"For me, it works, I was looking so long for solution. Thank you.","body":"For me, it works, I was looking so long for solution. Thank you."},{"owner":{"account_id":1512716,"reputation":1287,"user_id":1873877,"accept_rate":43,"display_name":"Marko"},"score":1,"creation_date":1427036442,"post_id":12023816,"comment_id":46604574,"body_markdown":"@rwitzel Maybe you need this too: response.setCharacterEncoding(&quot;UTF-8&quot;);   I have filter for that.","body":"@rwitzel Maybe you need this too: response.setCharacterEncoding(&quot;UTF-8&quot;);   I have filter for that."},{"owner":{"account_id":3079559,"reputation":88,"user_id":2608109,"accept_rate":40,"display_name":"vijayakumar gopalakrishnan"},"score":2,"creation_date":1459081403,"post_id":12023816,"comment_id":60124129,"body_markdown":"For me also , &quot;Solution 1 of the linked blog post works for me, i.e. writing bytes to the output stream. The other two solutions don&#39;t work for me.&quot;","body":"For me also , &quot;Solution 1 of the linked blog post works for me, i.e. writing bytes to the output stream. The other two solutions don&#39;t work for me.&quot;"},{"owner":{"account_id":3853103,"reputation":1990,"user_id":3192693,"display_name":"Monster Brain"},"score":0,"creation_date":1554108269,"post_id":12023816,"comment_id":97616294,"body_markdown":"the site is no longer hosted. I&#39;ve added solution 1 to this blog post https://monsterbrain.github.io/2019/04/01/spring-mvc-ajax-utf-8-problem/","body":"the site is no longer hosted. I&#39;ve added solution 1 to this blog post <a href=\"https://monsterbrain.github.io/2019/04/01/spring-mvc-ajax-utf-8-problem/\" rel=\"nofollow noreferrer\">monsterbrain.github.io/2019/04/01/spring-mvc-ajax-utf-8-prob&zwnj;&#8203;lem</a>"}],"tags":[],"owner":{"account_id":544074,"reputation":7687,"user_id":913394,"accept_rate":57,"display_name":"Charlie Wu"},"comment_count":5,"down_vote_count":0,"up_vote_count":79,"is_accepted":false,"score":79,"last_activity_date":1402245735,"creation_date":1345344241,"answer_id":12023816,"question_id":5649329,"body_markdown":"I&#39;ve figured it out, you can add to request mapping produces = &quot;text/plain;charset=UTF-8&quot;\r\n\r\n\t@RequestMapping(value = &quot;/rest/create/document&quot;, produces = &quot;text/plain;charset=UTF-8&quot;)\r\n\t@ResponseBody\r\n\tpublic void create(Document document, HttpServletRespone respone) throws UnsupportedEncodingException {\r\n\t\t\r\n\t\tDocument newDocument = DocumentService.create(Document);\r\n\t\t\r\n\t\treturn jsonSerializer.serialize(newDocument);\r\n\t}\r\n\r\n[see this blog post for more details on the solution][1] \r\n\r\n\r\n  [1]: http://charlie.cu.cc/2012/08/spring-mvc-ajax-request-with-utf-8-support/","title":"UTF-8 encoding problem in Spring MVC","body":"<p>I've figured it out, you can add to request mapping produces = \"text/plain;charset=UTF-8\"</p>\n\n<pre><code>@RequestMapping(value = \"/rest/create/document\", produces = \"text/plain;charset=UTF-8\")\n@ResponseBody\npublic void create(Document document, HttpServletRespone respone) throws UnsupportedEncodingException {\n\n    Document newDocument = DocumentService.create(Document);\n\n    return jsonSerializer.serialize(newDocument);\n}\n</code></pre>\n\n<p><a href=\"http://charlie.cu.cc/2012/08/spring-mvc-ajax-request-with-utf-8-support/\" rel=\"noreferrer\">see this blog post for more details on the solution</a> </p>\n"},{"comments":[{"owner":{"account_id":97313,"reputation":6321,"user_id":264028,"accept_rate":75,"display_name":"Joaqu&#237;n L. Robles"},"score":2,"creation_date":1436888275,"post_id":29163306,"comment_id":50795439,"body_markdown":"Only solution that worked for me, using `response.getOutputStream().write(jsonObject.toString().getBytes(&quot;UTF-8&quot;));`","body":"Only solution that worked for me, using <code>response.getOutputStream().write(jsonObject.toString().getBy&zwnj;&#8203;tes(&quot;UTF-8&quot;));</code>"}],"tags":[],"owner":{"account_id":978617,"reputation":1724,"user_id":998938,"display_name":"rwitzel"},"comment_count":1,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1426843785,"creation_date":1426843785,"answer_id":29163306,"question_id":5649329,"body_markdown":"Convert the JSON string to UTF-8 on your own.\r\n\r\n    @RequestMapping(value = &quot;/example.json&quot;, method = RequestMethod.GET)\r\n    @ResponseBody\r\n    public byte[] example() throws Exception {\r\n\r\n        return &quot;{ &#39;text&#39;: &#39;&#228;&#246;&#252;&#223;&#39; } &quot;.getBytes(&quot;UTF-8&quot;);\r\n    }","title":"UTF-8 encoding problem in Spring MVC","body":"<p>Convert the JSON string to UTF-8 on your own.</p>\n\n<pre><code>@RequestMapping(value = \"/example.json\", method = RequestMethod.GET)\n@ResponseBody\npublic byte[] example() throws Exception {\n\n    return \"{ 'text': 'äöüß' } \".getBytes(\"UTF-8\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1572426,"reputation":59,"user_id":1459849,"display_name":"miguel.angel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1471898471,"creation_date":1471898471,"answer_id":39088372,"question_id":5649329,"body_markdown":"I&#39;ve resolved this issue by inferring the produced return type into the first GET requestMethod. The important part here is the \r\n\r\n    produces=&quot;application/json;charset=UTF-8\r\nSo every one how use /account/**, Spring will return application/json;charset=UTF-8 content type. \r\n\r\n    @Controller\r\n    @Scope(&quot;session&quot;) \r\n    @RequestMapping(value={&quot;/account&quot;}, method = RequestMethod.GET,produces=&quot;application/json;charset=UTF-8&quot;)\r\n    public class AccountController {\r\n\t\r\n\t   protected final Log logger = LogFactory.getLog(getClass());\r\n    \r\n       ....//More parameters and method here...\r\n    \r\n       @RequestMapping(value={&quot;/getLast&quot;}, method = RequestMethod.GET)\r\n\t   public @ResponseBody String getUltimo(HttpServletResponse response) throws JsonGenerationException, JsonMappingException, IOException{\r\n\t\t\r\n\t\t  ObjectWriter writer = new ObjectMapper().writer().withDefaultPrettyPrinter();\r\n\t\t  try {\r\n\t\t\tAccount account = accountDao.getLast();\r\n\t\t\treturn writer.writeValueAsString(account);\r\n\t\t  }\r\n\t\t  catch (Exception e) {\r\n\t\t\treturn errorHandler(e, response, writer);\r\n\t\t  }\r\n\t}\r\n\r\nSo, you do not have to set up for each method in your Controller, you can do it for the entire class. If you need more control over a specific method, you just only have to infer the produces return content type.\r\n","title":"UTF-8 encoding problem in Spring MVC","body":"<p>I've resolved this issue by inferring the produced return type into the first GET requestMethod. The important part here is the </p>\n\n<pre><code>produces=\"application/json;charset=UTF-8\n</code></pre>\n\n<p>So every one how use /account/**, Spring will return application/json;charset=UTF-8 content type. </p>\n\n<pre><code>@Controller\n@Scope(\"session\") \n@RequestMapping(value={\"/account\"}, method = RequestMethod.GET,produces=\"application/json;charset=UTF-8\")\npublic class AccountController {\n\n   protected final Log logger = LogFactory.getLog(getClass());\n\n   ....//More parameters and method here...\n\n   @RequestMapping(value={\"/getLast\"}, method = RequestMethod.GET)\n   public @ResponseBody String getUltimo(HttpServletResponse response) throws JsonGenerationException, JsonMappingException, IOException{\n\n      ObjectWriter writer = new ObjectMapper().writer().withDefaultPrettyPrinter();\n      try {\n        Account account = accountDao.getLast();\n        return writer.writeValueAsString(account);\n      }\n      catch (Exception e) {\n        return errorHandler(e, response, writer);\n      }\n}\n</code></pre>\n\n<p>So, you do not have to set up for each method in your Controller, you can do it for the entire class. If you need more control over a specific method, you just only have to infer the produces return content type.</p>\n"},{"tags":[],"owner":{"account_id":9338331,"reputation":29,"user_id":6932994,"display_name":"Yura_dan"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1475831217,"creation_date":1475831217,"answer_id":39913506,"question_id":5649329,"body_markdown":"Also add to your beans :\r\n\r\n       &lt;bean class=&quot;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter&quot;&gt;\r\n\t\t&lt;property name=&quot;messageConverters&quot;&gt;\r\n\t\t\t&lt;array&gt;\r\n\t\t\t\t&lt;bean class=&quot;org.springframework.http.converter.StringHttpMessageConverter&quot;&gt;\r\n\t\t\t\t\t&lt;constructor-arg index=&quot;0&quot; name=&quot;defaultCharset&quot; value=&quot;UTF-8&quot;/&gt;\r\n\t\t\t\t\t&lt;property name=&quot;supportedMediaTypes&quot;&gt;\r\n\t\t\t\t\t\t&lt;list&gt;\r\n\t\t\t\t\t\t\t&lt;value&gt;text/plain;charset=UTF-8&lt;/value&gt;\r\n\t\t\t\t\t\t\t&lt;value&gt;text/html;charset=UTF-8&lt;/value&gt;\r\n\t\t\t\t\t\t\t&lt;value&gt;application/json;charset=UTF-8&lt;/value&gt;\r\n\t\t\t\t\t\t\t&lt;value&gt;application/x-www-form-urlencoded;charset=UTF-8&lt;/value&gt;\r\n\t\t\t\t\t\t&lt;/list&gt;\r\n\t\t\t\t\t&lt;/property&gt;\r\n\t\t\t&lt;/bean&gt;&lt;/bean&gt;\r\nFor @ExceptionHandler :\r\n\r\n    enter code&lt;bean class=&quot;org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver&quot;&gt;\r\n\t\t&lt;property name=&quot;messageConverters&quot;&gt;\r\n\t\t\t&lt;array&gt;\r\n\t\t\t\t&lt;bean class=&quot;org.springframework.http.converter.StringHttpMessageConverter&quot;&gt;\r\n\t\t\t\t\t&lt;constructor-arg index=&quot;0&quot; name=&quot;defaultCharset&quot; value=&quot;UTF-8&quot;/&gt;\r\n\t\t\t\t\t&lt;property name=&quot;supportedMediaTypes&quot;&gt;\r\n\t\t\t\t\t\t&lt;list&gt;\r\n\t\t\t\t\t\t\t&lt;value&gt;text/plain;charset=UTF-8&lt;/value&gt;\r\n\t\t\t\t\t\t\t&lt;value&gt;text/html;charset=UTF-8&lt;/value&gt;\r\n\t\t\t\t\t\t\t&lt;value&gt;application/json;charset=UTF-8&lt;/value&gt;\r\n\t\t\t\t\t\t\t&lt;value&gt;application/x-www-form-urlencoded;charset=UTF-8&lt;/value&gt;\r\n\t\t\t\t\t\t&lt;/list&gt;\r\n\t\t\t\t\t&lt;/property&gt;\r\n\t\t\t\t&lt;/bean&gt;\r\n\t\t\t\t&lt;bean class=&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;&gt;\r\n\t\t\t\t\t&lt;property name=&quot;supportedMediaTypes&quot;&gt;\r\n\t\t\t\t\t\t&lt;list&gt;\r\n\t\t\t\t\t\t\t&lt;value&gt;text/plain;charset=UTF-8&lt;/value&gt;\r\n\t\t\t\t\t\t\t&lt;value&gt;text/html;charset=UTF-8&lt;/value&gt;\r\n\t\t\t\t\t\t\t&lt;value&gt;application/json;charset=UTF-8&lt;/value&gt;\r\n\t\t\t\t\t\t\t&lt;value&gt;application/x-www-form-urlencoded;charset=UTF-8&lt;/value&gt;\r\n\t\t\t\t\t\t&lt;/list&gt;\r\n\t\t\t\t\t&lt;/property&gt;\r\n\t\t\t\t&lt;/bean&gt;\r\n\t\t\t&lt;/array&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\nIf you use `&lt;mvc:annotation-driven/&gt;` it should be after beans.\r\n\r\n","title":"UTF-8 encoding problem in Spring MVC","body":"<p>Also add to your beans :</p>\n\n<pre><code>   &lt;bean class=\"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter\"&gt;\n    &lt;property name=\"messageConverters\"&gt;\n        &lt;array&gt;\n            &lt;bean class=\"org.springframework.http.converter.StringHttpMessageConverter\"&gt;\n                &lt;constructor-arg index=\"0\" name=\"defaultCharset\" value=\"UTF-8\"/&gt;\n                &lt;property name=\"supportedMediaTypes\"&gt;\n                    &lt;list&gt;\n                        &lt;value&gt;text/plain;charset=UTF-8&lt;/value&gt;\n                        &lt;value&gt;text/html;charset=UTF-8&lt;/value&gt;\n                        &lt;value&gt;application/json;charset=UTF-8&lt;/value&gt;\n                        &lt;value&gt;application/x-www-form-urlencoded;charset=UTF-8&lt;/value&gt;\n                    &lt;/list&gt;\n                &lt;/property&gt;\n        &lt;/bean&gt;&lt;/bean&gt;\n</code></pre>\n\n<p>For @ExceptionHandler :</p>\n\n<pre><code>enter code&lt;bean class=\"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver\"&gt;\n    &lt;property name=\"messageConverters\"&gt;\n        &lt;array&gt;\n            &lt;bean class=\"org.springframework.http.converter.StringHttpMessageConverter\"&gt;\n                &lt;constructor-arg index=\"0\" name=\"defaultCharset\" value=\"UTF-8\"/&gt;\n                &lt;property name=\"supportedMediaTypes\"&gt;\n                    &lt;list&gt;\n                        &lt;value&gt;text/plain;charset=UTF-8&lt;/value&gt;\n                        &lt;value&gt;text/html;charset=UTF-8&lt;/value&gt;\n                        &lt;value&gt;application/json;charset=UTF-8&lt;/value&gt;\n                        &lt;value&gt;application/x-www-form-urlencoded;charset=UTF-8&lt;/value&gt;\n                    &lt;/list&gt;\n                &lt;/property&gt;\n            &lt;/bean&gt;\n            &lt;bean class=\"org.springframework.http.converter.json.MappingJackson2HttpMessageConverter\"&gt;\n                &lt;property name=\"supportedMediaTypes\"&gt;\n                    &lt;list&gt;\n                        &lt;value&gt;text/plain;charset=UTF-8&lt;/value&gt;\n                        &lt;value&gt;text/html;charset=UTF-8&lt;/value&gt;\n                        &lt;value&gt;application/json;charset=UTF-8&lt;/value&gt;\n                        &lt;value&gt;application/x-www-form-urlencoded;charset=UTF-8&lt;/value&gt;\n                    &lt;/list&gt;\n                &lt;/property&gt;\n            &lt;/bean&gt;\n        &lt;/array&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>If you use <code>&lt;mvc:annotation-driven/&gt;</code> it should be after beans.</p>\n"},{"tags":[],"owner":{"account_id":3242704,"reputation":13438,"user_id":2735286,"accept_rate":89,"display_name":"gil.fernandes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528661975,"creation_date":1528661975,"answer_id":50787695,"question_id":5649329,"body_markdown":"If you are using Spring MVC version 5 you can set the encoding also using the `@GetMapping` annotation. Here is an example which sets the content type to JSON and also the encoding type to UTF-8:\r\n\r\n    @GetMapping(value=&quot;/rest/events&quot;, produces = &quot;application/json; charset=UTF-8&quot;)\r\n\r\nMore information on the @GetMapping annotation here:\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/GetMapping.html","title":"UTF-8 encoding problem in Spring MVC","body":"<p>If you are using Spring MVC version 5 you can set the encoding also using the <code>@GetMapping</code> annotation. Here is an example which sets the content type to JSON and also the encoding type to UTF-8:</p>\n\n<pre><code>@GetMapping(value=\"/rest/events\", produces = \"application/json; charset=UTF-8\")\n</code></pre>\n\n<p>More information on the @GetMapping annotation here:</p>\n\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/GetMapping.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/GetMapping.html</a></p>\n"},{"tags":[],"owner":{"account_id":13493098,"reputation":11,"user_id":9734699,"display_name":"Rosario Mezzatesta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532334234,"creation_date":1532334234,"answer_id":51474450,"question_id":5649329,"body_markdown":"When you try to send special characters like &#232;,&#224;,&#249;, etc etc, may be you see in your Jsp Post page many characters like &#39;&#163;&#39;,&#39;&#196;’ or ‘&#198;’.\r\nTo solve this problem in 99% of cases you may  move in your web.xml this piece of code at the head of file:\r\n\r\n \r\n\r\n       &lt;filter&gt;\r\n            &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\r\n            &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\r\n            &lt;init-param&gt;\r\n                &lt;param-name&gt;encoding&lt;/param-name&gt;\r\n                &lt;param-value&gt;UTF-8&lt;/param-value&gt;\r\n            &lt;/init-param&gt;\r\n            &lt;init-param&gt;\r\n                &lt;param-name&gt;forceEncoding&lt;/param-name&gt;\r\n                &lt;param-value&gt;true&lt;/param-value&gt;\r\n            &lt;/init-param&gt;\r\n        &lt;/filter&gt;\r\n        &lt;filter-mapping&gt;\r\n            &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/filter-mapping&gt;\r\n\r\nFor complete example see here : https://lentux-informatica.com/spring-mvc-utf-8-encoding-problem-solved/","title":"UTF-8 encoding problem in Spring MVC","body":"<p>When you try to send special characters like è,à,ù, etc etc, may be you see in your Jsp Post page many characters like '£','Ä’ or ‘Æ’.\nTo solve this problem in 99% of cases you may  move in your web.xml this piece of code at the head of file:</p>\n\n<pre><code>   &lt;filter&gt;\n        &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;encoding&lt;/param-name&gt;\n            &lt;param-value&gt;UTF-8&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;forceEncoding&lt;/param-name&gt;\n            &lt;param-value&gt;true&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/filter&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n</code></pre>\n\n<p>For complete example see here : <a href=\"https://lentux-informatica.com/spring-mvc-utf-8-encoding-problem-solved/\" rel=\"nofollow noreferrer\">https://lentux-informatica.com/spring-mvc-utf-8-encoding-problem-solved/</a></p>\n"},{"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":1,"creation_date":1614465914,"post_id":58803400,"comment_id":117395430,"body_markdown":"It&#39;s deprecated since 5.2 see [docs.spring.io](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/MediaType.html)","body":"It&#39;s deprecated since 5.2 see <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/MediaType.html\" rel=\"nofollow noreferrer\">docs.spring.io</a>"},{"owner":{"account_id":10363513,"reputation":1171,"user_id":7643283,"display_name":"Xobotun"},"score":1,"creation_date":1616690538,"post_id":58803400,"comment_id":118088594,"body_markdown":"@Vala.D. Thanks for pointing this out. When I used this option, we were surely using som 5.0.* version, and were planning to move to 5.1.* branch, IIRC. Still, that&#39;s some arguable reason they decided to deprecate it, as we had the problem with encoding with some rest-like service. And unlike &quot;modern browsers&quot;, those internal webservices tend to be legacy-ish sometimes. :D","body":"@Vala.D. Thanks for pointing this out. When I used this option, we were surely using som 5.0.* version, and were planning to move to 5.1.* branch, IIRC. Still, that&#39;s some arguable reason they decided to deprecate it, as we had the problem with encoding with some rest-like service. And unlike &quot;modern browsers&quot;, those internal webservices tend to be legacy-ish sometimes. :D"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":1,"creation_date":1616745156,"post_id":58803400,"comment_id":118103808,"body_markdown":"I had the same problems with an rest service, that&#39;s how I got here in the first place.","body":"I had the same problems with an rest service, that&#39;s how I got here in the first place."}],"tags":[],"owner":{"account_id":10363513,"reputation":1171,"user_id":7643283,"display_name":"Xobotun"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1573483257,"creation_date":1573482926,"answer_id":58803400,"question_id":5649329,"body_markdown":"In Spring 5, or maybe in earlier versions, there is `MediaType` [class](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/MediaType.html). It has already correct line, if you want to follow DRY:\r\n```java\r\npublic static final String APPLICATION_JSON_UTF8_VALUE = &quot;application/json;charset=UTF-8&quot;;\r\n```\r\n\r\nSo I use this set of controller-related annotations: \r\n```java\r\n@RestController\r\n@RequestMapping(value = &quot;my/api/url&quot;, produces = APPLICATION_JSON_UTF8_VALUE)\r\npublic class MyController {\r\n    // ... Methods here\r\n}\r\n```\r\n\r\nIt is marked deprecated in the docs, but I&#39;ve run into this issue and it is better than copy-pastying the aforementioned line on every method/controller throughout your application, I think.","title":"UTF-8 encoding problem in Spring MVC","body":"<p>In Spring 5, or maybe in earlier versions, there is <code>MediaType</code> <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/MediaType.html\" rel=\"noreferrer\">class</a>. It has already correct line, if you want to follow DRY:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static final String APPLICATION_JSON_UTF8_VALUE = \"application/json;charset=UTF-8\";\n</code></pre>\n\n<p>So I use this set of controller-related annotations: </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(value = \"my/api/url\", produces = APPLICATION_JSON_UTF8_VALUE)\npublic class MyController {\n    // ... Methods here\n}\n</code></pre>\n\n<p>It is marked deprecated in the docs, but I've run into this issue and it is better than copy-pastying the aforementioned line on every method/controller throughout your application, I think.</p>\n"},{"tags":[],"owner":{"account_id":6322870,"reputation":41,"user_id":4910216,"display_name":"Andres Gutierrez"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1634209743,"creation_date":1591274301,"answer_id":62194808,"question_id":5649329,"body_markdown":"You need add charset in the `RequestMapping` annotation:\r\n```java\r\n@RequestMapping(path = &quot;/account&quot;,  produces = &quot;application/json;charset=UTF-8&quot;)\r\n```","title":"UTF-8 encoding problem in Spring MVC","body":"<p>You need add charset in the <code>RequestMapping</code> annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(path = &quot;/account&quot;,  produces = &quot;application/json;charset=UTF-8&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4364861,"reputation":517,"user_id":3560966,"display_name":"Paul Cuddihy"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1600956029,"creation_date":1600955440,"answer_id":64047944,"question_id":5649329,"body_markdown":"I found that &quot;@RequestMapping produces=&quot; and other configuration changes didn&#39;t help me.   By the time you do resp.getWriter(), it is also too late to set the encoding on the writer.\r\n\r\nAdding a header to the HttpServletResponse works.\r\n\r\n    @RequestMapping(value=&quot;/test&quot;, method=RequestMethod.POST)\r\n\tpublic void test(HttpServletResponse resp) {\r\n\t\ttry {\r\n\t\t\tresp.addHeader(&quot;content-type&quot;, &quot;application/json; charset=utf-8&quot;);\r\n\t        PrintWriter w = resp.getWriter();\r\n\t        w.write(&quot;{\\&quot;name\\&quot; : \\&quot;μr μicron\\&quot;}&quot;);\r\n\t        w.flush();\r\n\t        w.close();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n","title":"UTF-8 encoding problem in Spring MVC","body":"<p>I found that &quot;@RequestMapping produces=&quot; and other configuration changes didn't help me.   By the time you do resp.getWriter(), it is also too late to set the encoding on the writer.</p>\n<p>Adding a header to the HttpServletResponse works.</p>\n<pre><code>@RequestMapping(value=&quot;/test&quot;, method=RequestMethod.POST)\npublic void test(HttpServletResponse resp) {\n    try {\n        resp.addHeader(&quot;content-type&quot;, &quot;application/json; charset=utf-8&quot;);\n        PrintWriter w = resp.getWriter();\n        w.write(&quot;{\\&quot;name\\&quot; : \\&quot;μr μicron\\&quot;}&quot;);\n        w.flush();\n        w.close();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19090913,"reputation":491,"user_id":13941207,"display_name":"EACUAMBA"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676403110,"creation_date":1676403110,"answer_id":75452492,"question_id":5649329,"body_markdown":"If are using spring boot just add this properies to your applications.properties file:\r\n\r\n    server.servlet.encoding.charset=UTF-8\r\n    server.servlet.encoding.force=true","title":"UTF-8 encoding problem in Spring MVC","body":"<p>If are using spring boot just add this properies to your applications.properties file:</p>\n<pre><code>server.servlet.encoding.charset=UTF-8\nserver.servlet.encoding.force=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1031543,"reputation":4922,"user_id":1039774,"accept_rate":25,"display_name":"Devabc"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679004370,"creation_date":1679004370,"answer_id":75762042,"question_id":5649329,"body_markdown":"If you are using Spring Boot (tested with 3.0.4), then UTF-8 will work out of the box by default for both HTTP POST requests and responses.\r\n\r\nIf you have manually added Spring MVC, then you&#39;ll need to configure two things:\r\n\r\n 1. [CharacterEncodingFilter][1]: a Spring Web servlet filter that allows you to: \r\n\r\n&gt; specify a character encoding **for requests**. This is useful because current browsers typically do not set a character encoding even if specified in the HTML page or form. \r\n\r\n 2. [StringHttpMessageConverter][2]: a Spring HttpMessageConverter that allows you to change the response `Content-Type` HTTP header field. Without this, the `Content-Type` header will usually be `text/html;charset=ISO-8859-1` instead of UTF-8.\r\n\r\n## How to set CharacterEncodingFilter? ##\r\nIt depends on your web app configuration. You should look into how you can set a Servlet Filter in general. For `CharacterEncodingFilter` you&#39;ll need to set the `encoding` param to `utf-8` and the `forceEncoding` to `true`.\r\n\r\nFor example, if you are using `web.xml` to configure Servlet Filters, then you could use something like this in your `web.xml`:\r\n\r\n```\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;encoding&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;utf-8&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;forceEncoding&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;true&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;forceResponseEncoding&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;true&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t&lt;/filter&gt;\r\n```\r\n\r\n```\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t\t&lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\r\n\t&lt;/filter-mapping&gt;\r\n```\r\n\r\nIf this doesn&#39;t work (meaning, your MVC controller doesn&#39;t receive request parameters as UTF-8), then you need to move the `characterEncodingFilter` higher up in `web.xml`, so that it gets called before other filters.\r\n\r\n## How to set StringHttpMessageConverter? ##\r\nChange/add your [`WebMvcConfigurer`][3] to something like this:\r\n```\r\nimport org.springframework.http.converter.HttpMessageConverter;\r\nimport org.springframework.http.converter.StringHttpMessageConverter;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.List;\r\n\r\npublic class MyCustomWebMvcConfigurer implements WebMvcConfigurer {\r\n    @Override\r\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n        converters.add(0, new StringHttpMessageConverter(StandardCharsets.UTF_8));\r\n    }\r\n}\r\n```\r\nIt uses `StandardCharsets.ISO_8859_1` by default, but the code above will change it to UTF-8. You can verify if this is working, by checking the `Content-Type` header in the HTTP responses. Which should now show `text/html;charset=UTF-8` instead of `text/html;charset=ISO-8859-1`.\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/filter/CharacterEncodingFilter.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/StringHttpMessageConverter.html\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/WebMvcConfigurer.html","title":"UTF-8 encoding problem in Spring MVC","body":"<p>If you are using Spring Boot (tested with 3.0.4), then UTF-8 will work out of the box by default for both HTTP POST requests and responses.</p>\n<p>If you have manually added Spring MVC, then you'll need to configure two things:</p>\n<ol>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/filter/CharacterEncodingFilter.html\" rel=\"nofollow noreferrer\">CharacterEncodingFilter</a>: a Spring Web servlet filter that allows you to:</li>\n</ol>\n<blockquote>\n<p>specify a character encoding <strong>for requests</strong>. This is useful because current browsers typically do not set a character encoding even if specified in the HTML page or form.</p>\n</blockquote>\n<ol start=\"2\">\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/StringHttpMessageConverter.html\" rel=\"nofollow noreferrer\">StringHttpMessageConverter</a>: a Spring HttpMessageConverter that allows you to change the response <code>Content-Type</code> HTTP header field. Without this, the <code>Content-Type</code> header will usually be <code>text/html;charset=ISO-8859-1</code> instead of UTF-8.</li>\n</ol>\n<h2>How to set CharacterEncodingFilter?</h2>\n<p>It depends on your web app configuration. You should look into how you can set a Servlet Filter in general. For <code>CharacterEncodingFilter</code> you'll need to set the <code>encoding</code> param to <code>utf-8</code> and the <code>forceEncoding</code> to <code>true</code>.</p>\n<p>For example, if you are using <code>web.xml</code> to configure Servlet Filters, then you could use something like this in your <code>web.xml</code>:</p>\n<pre><code>    &lt;filter&gt;\n        &lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;encoding&lt;/param-name&gt;\n            &lt;param-value&gt;utf-8&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;forceEncoding&lt;/param-name&gt;\n            &lt;param-value&gt;true&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;forceResponseEncoding&lt;/param-name&gt;\n            &lt;param-value&gt;true&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/filter&gt;\n</code></pre>\n<pre><code>    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n        &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\n    &lt;/filter-mapping&gt;\n</code></pre>\n<p>If this doesn't work (meaning, your MVC controller doesn't receive request parameters as UTF-8), then you need to move the <code>characterEncodingFilter</code> higher up in <code>web.xml</code>, so that it gets called before other filters.</p>\n<h2>How to set StringHttpMessageConverter?</h2>\n<p>Change/add your <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/WebMvcConfigurer.html\" rel=\"nofollow noreferrer\"><code>WebMvcConfigurer</code></a> to something like this:</p>\n<pre><code>import org.springframework.http.converter.HttpMessageConverter;\nimport org.springframework.http.converter.StringHttpMessageConverter;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\nimport java.nio.charset.StandardCharsets;\nimport java.util.List;\n\npublic class MyCustomWebMvcConfigurer implements WebMvcConfigurer {\n    @Override\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n        converters.add(0, new StringHttpMessageConverter(StandardCharsets.UTF_8));\n    }\n}\n</code></pre>\n<p>It uses <code>StandardCharsets.ISO_8859_1</code> by default, but the code above will change it to UTF-8. You can verify if this is working, by checking the <code>Content-Type</code> header in the HTTP responses. Which should now show <code>text/html;charset=UTF-8</code> instead of <code>text/html;charset=ISO-8859-1</code>.</p>\n"}],"owner":{"account_id":736866,"reputation":631,"user_id":706051,"display_name":"ysnky"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183813,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"answer_count":13,"score":63,"last_activity_date":1679004370,"creation_date":1302698309,"question_id":5649329,"body_markdown":"I&#39; ve a Spring MVC bean and I would like to return turkish character by setting encoding UTF-8. but although my string is &quot;şŞğĞİı&#231;&#199;&#246;&#214;&#252;&#220;&quot; it returns as &quot;??????&#231;&#199;&#246;&#214;&#252;&#220;&quot;. and also when I look at the response page, which is internet explorer page, encoding is western european iso, not UTF-8.\r\n\r\nHere is the code:\r\n\r\n\r\n    \t@RequestMapping(method=RequestMethod.GET,value=&quot;/GetMyList&quot;)\r\n\tpublic @ResponseBody String getMyList(HttpServletRequest request, HttpServletResponse response) throws CryptoException{\r\n\t\tString contentType= &quot;text/html;charset=UTF-8&quot;;\r\n\t\tresponse.setContentType(contentType);\r\n\t\ttry {\r\n\t\t\trequest.setCharacterEncoding(&quot;utf-8&quot;);\r\n\t\t} catch (UnsupportedEncodingException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tresponse.setCharacterEncoding(&quot;utf-8&quot;);\t\t\r\n\t\tString str=&quot;şŞğĞİı&#231;&#199;&#246;&#214;&#252;&#220;&quot;;\r\n\t\treturn str;\r\n\t}\t\r\n\r\n","title":"UTF-8 encoding problem in Spring MVC","body":"<p>I' ve a Spring MVC bean and I would like to return turkish character by setting encoding UTF-8. but although my string is \"şŞğĞİıçÇöÖüÜ\" it returns as \"??????çÇöÖüÜ\". and also when I look at the response page, which is internet explorer page, encoding is western european iso, not UTF-8.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>    @RequestMapping(method=RequestMethod.GET,value=\"/GetMyList\")\npublic @ResponseBody String getMyList(HttpServletRequest request, HttpServletResponse response) throws CryptoException{\n    String contentType= \"text/html;charset=UTF-8\";\n    response.setContentType(contentType);\n    try {\n        request.setCharacterEncoding(\"utf-8\");\n    } catch (UnsupportedEncodingException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    response.setCharacterEncoding(\"utf-8\");     \n    String str=\"şŞğĞİıçÇöÖüÜ\";\n    return str;\n}   \n</code></pre>\n"},{"tags":["java","sql","string","select","jdbc"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1679005598,"post_id":75761853,"comment_id":133648179,"body_markdown":"Rather than posting, you could have searched Stack Overflow to find many pieces of example code in existing Answers.","body":"Rather than posting, you could have searched Stack Overflow to find many pieces of example code in existing Answers."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1679005777,"post_id":75761853,"comment_id":133648203,"body_markdown":"The [official JDBC prepared statement tutorial](https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html) also walks through how do do this.","body":"The <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html\" rel=\"nofollow noreferrer\">official JDBC prepared statement tutorial</a> also walks through how do do this."}],"answers":[{"tags":[],"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679003894,"creation_date":1679003894,"answer_id":75761987,"question_id":75761853,"body_markdown":"What you&#39;re looking for is PreparedStatement#setString.\r\n\r\nYour code should be something like:\r\n\r\n```java\r\ntry (Connection connection = DriverManager.getConnection(JDBC_URL, JDBC_USER, JDBC_PASSWD);\r\n         PreparedStatement statement1 = connection.prepareStatement(INSERT_ST);\r\n         PreparedStatement  statement2 = connection.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_UPDATABLE);\r\n    ) {\r\n        statement2.setString(1, &quot;BMW&quot;); //Set your where condition\r\n        try(ResultSet rs = statement2.executeQuery(SELECT_ST)){\r\n\r\n            //some code here\r\n            \r\n        }\r\n    }catch (SQLException e) {\r\n        throw new ScoreException(&quot;Some problem here&quot;, e);\r\n    }\r\n```\r\n\r\nNot sure why you have statement1 though :)","title":"setString in JDBC select","body":"<p>What you're looking for is PreparedStatement#setString.</p>\n<p>Your code should be something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (Connection connection = DriverManager.getConnection(JDBC_URL, JDBC_USER, JDBC_PASSWD);\n         PreparedStatement statement1 = connection.prepareStatement(INSERT_ST);\n         PreparedStatement  statement2 = connection.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_UPDATABLE);\n    ) {\n        statement2.setString(1, &quot;BMW&quot;); //Set your where condition\n        try(ResultSet rs = statement2.executeQuery(SELECT_ST)){\n\n            //some code here\n            \n        }\n    }catch (SQLException e) {\n        throw new ScoreException(&quot;Some problem here&quot;, e);\n    }\n</code></pre>\n<p>Not sure why you have statement1 though :)</p>\n"}],"owner":{"account_id":20903318,"reputation":65,"user_id":15355910,"display_name":"david"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1679011054,"answer_count":1,"score":-1,"last_activity_date":1679003894,"creation_date":1679002643,"question_id":75761853,"body_markdown":"I&#180;m trying to setString for Statement in JDBC. But I dont know how can I setString for this example:\r\n\r\n    public static final String SELECT_ST = &quot;SELECT name, car FROM rating WHERE car= ?&quot;;\r\n\r\n    try (Connection connection = DriverManager.getConnection(JDBC_URL, JDBC_USER, JDBC_PASSWD);\r\n             PreparedStatement statement1 = connection.prepareStatement(INSERT_ST);\r\n             Statement statement2 = connection.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_UPDATABLE);\r\n        ) {\r\n            try(ResultSet rs = statement2.executeQuery(SELECT_ST)){\r\n\r\n                //some code here\r\n                \r\n            }\r\n        }catch (SQLException e) {\r\n            throw new ScoreException(&quot;Some problem here&quot;, e);\r\n        }\r\n\r\nHow can I setString for ? in SELECT_ST? ","title":"setString in JDBC select","body":"<p>I´m trying to setString for Statement in JDBC. But I dont know how can I setString for this example:</p>\n<pre><code>public static final String SELECT_ST = &quot;SELECT name, car FROM rating WHERE car= ?&quot;;\n\ntry (Connection connection = DriverManager.getConnection(JDBC_URL, JDBC_USER, JDBC_PASSWD);\n         PreparedStatement statement1 = connection.prepareStatement(INSERT_ST);\n         Statement statement2 = connection.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_UPDATABLE);\n    ) {\n        try(ResultSet rs = statement2.executeQuery(SELECT_ST)){\n\n            //some code here\n            \n        }\n    }catch (SQLException e) {\n        throw new ScoreException(&quot;Some problem here&quot;, e);\n    }\n</code></pre>\n<p>How can I setString for ? in SELECT_ST?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":17940262,"reputation":11,"user_id":13035685,"display_name":"Vifieh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679003529,"creation_date":1679003529,"answer_id":75761945,"question_id":75747849,"body_markdown":"        @Override\r\n        public String addMovieToDirector(Long directorId, Long movieId) {\r\n        Optional&lt;Director&gt; optinalDirector = directorRepository.findById(directorId);\r\n        Optional&lt;Movie&gt; optionalMovie = movieRepository.findById(movieId);\r\n            if (optinalDirector.isPresent() &amp;&amp; optionalMovie.isPresent()) {\r\n                if (optionalMovie.get().getDirector().equals(optinalDirector.get()) { \r\n                   return &quot;contains&quot;;\r\n                }\r\n                optionalMovie.get().setDirector(optinalDirector.get())\r\n                movieRepository.save(optionalMovie.get());\r\n                return &quot;added&quot;;\r\n            }else\r\n              return &quot;error&quot;;\r\n    }","title":"How to update entity in database with relationship in Spring Data Jpa","body":"<pre><code>    @Override\n    public String addMovieToDirector(Long directorId, Long movieId) {\n    Optional&lt;Director&gt; optinalDirector = directorRepository.findById(directorId);\n    Optional&lt;Movie&gt; optionalMovie = movieRepository.findById(movieId);\n        if (optinalDirector.isPresent() &amp;&amp; optionalMovie.isPresent()) {\n            if (optionalMovie.get().getDirector().equals(optinalDirector.get()) { \n               return &quot;contains&quot;;\n            }\n            optionalMovie.get().setDirector(optinalDirector.get())\n            movieRepository.save(optionalMovie.get());\n            return &quot;added&quot;;\n        }else\n          return &quot;error&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":23934228,"reputation":3,"user_id":17928212,"display_name":"milosz000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":467,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679003529,"creation_date":1678899456,"question_id":75747849,"body_markdown":"I would like to update entity in database with One-To-Many relationship.\r\n\r\nDirector model:\r\n```\r\n@Entity\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\n@Data\r\npublic class Director {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable = false)\r\n    @Size(min = 3)\r\n    private String firstname;\r\n\r\n    @Column(nullable = false)\r\n    @Size(min = 3)\r\n    private String lastname;\r\n\r\n    @OneToMany(mappedBy = &quot;director&quot;)\r\n    private Set&lt;Movie&gt; movies;\r\n\r\n`}\r\n```\r\n\r\nMovie model:\r\n\r\n```\r\n@Entity\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\n@Data\r\npublic class Movie {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String name;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;director_id&quot;)\r\n    private Director director;\r\n\r\n    @Enumerated(value = EnumType.STRING)\r\n    private MovieGenre genre;\r\n\r\n    private String description;\r\n\r\n\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;actorsMovies&quot;,\r\n    joinColumns = @JoinColumn(name = &quot;movie_id&quot;),\r\n    inverseJoinColumns = @JoinColumn(name = &quot;actor_id&quot;))\r\n    private Set&lt;Actor&gt; stars;\r\n\r\n    private Integer release;\r\n\r\n}\r\n```\r\n\r\n\r\ncontroller class:\r\n\r\n\r\n```\r\n   @PostMapping(&quot;{directorId}/addMovie/{movieId}&quot;)\r\n    public String addMovieToDirector(\r\n            @PathVariable(&quot;directorId&quot;) Long directorId,\r\n            @PathVariable(&quot;movieId&quot;) Long movieId) {\r\n\r\n        log.info(&quot;directorId: &quot; + directorId);\r\n        log.info(&quot;movieId: &quot; + movieId);\r\n\r\n       return directorService.addMovieToDirector(directorId, movieId);\r\n    }\r\n```\r\n\r\n\r\nservice class:\r\n\r\n```\r\n    @Override\r\n    public String addMovieToDirector(Long directorId, Long movieId) {\r\n\r\n        if (directorRepository.findById(directorId).isPresent() &amp;&amp; movieRepository.findById(movieId).isPresent()) {\r\n            Director director = directorRepository.findById(directorId).get();\r\n            Set&lt;Movie&gt; movies = director.getMovies();\r\n            Movie movie = movieRepository.findById(movieId).get();\r\n            if (movies.contains(movie)) return &quot;contains&quot;;\r\n            movies.add(movie);\r\n            director.setMovies(movies);\r\n            directorRepository.save(director);\r\n            return &quot;added&quot;;\r\n        }\r\n        return &quot;error&quot;;\r\n    }\r\n```\r\n\r\n\r\nI am using JpaRepository and when i try to update movies in director entity i receive &quot;added&quot; message but nothing happens. When i try to update firstname for example then everything works fine. What is the issue?\r\n\r\n\r\n\r\n\r\n\r\nDoes anyone have an idea how to go about this?\r\n\r\n","title":"How to update entity in database with relationship in Spring Data Jpa","body":"<p>I would like to update entity in database with One-To-Many relationship.</p>\n<p>Director model:</p>\n<pre><code>@Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@Data\npublic class Director {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false)\n    @Size(min = 3)\n    private String firstname;\n\n    @Column(nullable = false)\n    @Size(min = 3)\n    private String lastname;\n\n    @OneToMany(mappedBy = &quot;director&quot;)\n    private Set&lt;Movie&gt; movies;\n\n`}\n</code></pre>\n<p>Movie model:</p>\n<pre><code>@Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@Data\npublic class Movie {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;director_id&quot;)\n    private Director director;\n\n    @Enumerated(value = EnumType.STRING)\n    private MovieGenre genre;\n\n    private String description;\n\n\n    @ManyToMany\n    @JoinTable(name = &quot;actorsMovies&quot;,\n    joinColumns = @JoinColumn(name = &quot;movie_id&quot;),\n    inverseJoinColumns = @JoinColumn(name = &quot;actor_id&quot;))\n    private Set&lt;Actor&gt; stars;\n\n    private Integer release;\n\n}\n</code></pre>\n<p>controller class:</p>\n<pre><code>   @PostMapping(&quot;{directorId}/addMovie/{movieId}&quot;)\n    public String addMovieToDirector(\n            @PathVariable(&quot;directorId&quot;) Long directorId,\n            @PathVariable(&quot;movieId&quot;) Long movieId) {\n\n        log.info(&quot;directorId: &quot; + directorId);\n        log.info(&quot;movieId: &quot; + movieId);\n\n       return directorService.addMovieToDirector(directorId, movieId);\n    }\n</code></pre>\n<p>service class:</p>\n<pre><code>    @Override\n    public String addMovieToDirector(Long directorId, Long movieId) {\n\n        if (directorRepository.findById(directorId).isPresent() &amp;&amp; movieRepository.findById(movieId).isPresent()) {\n            Director director = directorRepository.findById(directorId).get();\n            Set&lt;Movie&gt; movies = director.getMovies();\n            Movie movie = movieRepository.findById(movieId).get();\n            if (movies.contains(movie)) return &quot;contains&quot;;\n            movies.add(movie);\n            director.setMovies(movies);\n            directorRepository.save(director);\n            return &quot;added&quot;;\n        }\n        return &quot;error&quot;;\n    }\n</code></pre>\n<p>I am using JpaRepository and when i try to update movies in director entity i receive &quot;added&quot; message but nothing happens. When i try to update firstname for example then everything works fine. What is the issue?</p>\n<p>Does anyone have an idea how to go about this?</p>\n"},{"tags":["java","spring","dependency-injection","lombok"],"comments":[{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":3,"creation_date":1679003648,"post_id":75761931,"comment_id":133647793,"body_markdown":"@RequiredArgs with final fields.","body":"@RequiredArgs with final fields."},{"owner":{"account_id":26871384,"reputation":1,"user_id":20453329,"display_name":"kakoker"},"score":0,"creation_date":1679004559,"post_id":75761931,"comment_id":133647977,"body_markdown":"For controller, service, etc that is perfect.\nBut what about model entities? Are they out of DI scope in this regard? Or should I use @NoArgs for example?\nSuch as;\npublic class Book {\n    &quot;at&quot;Id\n    &quot;at&quot;GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    private int price;","body":"For controller, service, etc that is perfect. But what about model entities? Are they out of DI scope in this regard? Or should I use @NoArgs for example? Such as; public class Book {     &quot;at&quot;Id     &quot;at&quot;GeneratedValue(strategy = GenerationType.IDENTITY)     private Long id;     private String name;     private int price;"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679008727,"post_id":75761931,"comment_id":133648658,"body_markdown":"Model entities are out of DI scope.","body":"Model entities are out of DI scope."}],"owner":{"account_id":26871384,"reputation":1,"user_id":20453329,"display_name":"kakoker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679003374,"creation_date":1679003374,"question_id":75761931,"body_markdown":"According to Spring, @Autowired can be omitted if constructor injection is used and there is only one constructor.\r\n&gt; As of Spring Framework 4.3, an @Autowired annotation on such a constructor is no longer necessary if the target bean only defines one constructor to begin with. However, if several constructors are available, at least one must be annotated to teach the container which one to use.\r\n\r\nIs using @NoArgsConstructor sufficient for Spring Boot projects?\r\n\r\nMy instructor is using constructor injection and avoiding @Autowired, while using both @NoArgsConstructor and @AllArgsConstructor annotations.\r\n\r\nDoesn&#39;t that constitute &quot;having multiple constructors&quot;? If not, why?\r\n\r\nI have also used @NoArgs, @AllArgs, and also @RequiredArgs. But I cannot determine if injection is working properly and whether @Autowired is needed.","title":"To omit @Autowired via constructor injection, which Lombok constructor annotation(s) should be used? (@NoArgs,@AllArgs,@ReqArgs)","body":"<p>According to Spring, @Autowired can be omitted if constructor injection is used and there is only one constructor.</p>\n<blockquote>\n<p>As of Spring Framework 4.3, an @Autowired annotation on such a constructor is no longer necessary if the target bean only defines one constructor to begin with. However, if several constructors are available, at least one must be annotated to teach the container which one to use.</p>\n</blockquote>\n<p>Is using @NoArgsConstructor sufficient for Spring Boot projects?</p>\n<p>My instructor is using constructor injection and avoiding @Autowired, while using both @NoArgsConstructor and @AllArgsConstructor annotations.</p>\n<p>Doesn't that constitute &quot;having multiple constructors&quot;? If not, why?</p>\n<p>I have also used @NoArgs, @AllArgs, and also @RequiredArgs. But I cannot determine if injection is working properly and whether @Autowired is needed.</p>\n"},{"tags":["java","evaluation","tic-tac-toe","heuristics"],"comments":[{"owner":{"account_id":3142953,"reputation":65316,"user_id":2658050,"display_name":"lejlot"},"score":1,"creation_date":1401646505,"post_id":23982531,"comment_id":36954692,"body_markdown":"you should add checking whether this &quot;lines&quot; can actually form a wining line. otherwise, there are useless. As a result, for a given situation you would only cound &quot;o&quot;s on the diagonal (rest cannot form a 5 line)","body":"you should add checking whether this &quot;lines&quot; can actually form a wining line. otherwise, there are useless. As a result, for a given situation you would only cound &quot;o&quot;s on the diagonal (rest cannot form a 5 line)"}],"answers":[{"tags":[],"owner":{"account_id":2198319,"reputation":2754,"user_id":1943428,"display_name":"Diego Mazzaro"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679003327,"creation_date":1402256617,"answer_id":24110122,"question_id":23982531,"body_markdown":"Number of options (possible sequences of moves) after the first move is 24! and not 24^24. It is still a too much high of a number so it is correct to implement an heuristic.\r\n\r\nNote that answers about good heuristics are necessarily based on the opinion of the writer so I give my opinion but to find out what is &quot;the best heuristic&quot; you should make the various ideas playing one against the other in the following way:\r\n  \r\n - take the two heuristics A and B that you want to compare\r\n - generate at random a starting configuration\r\n - let A play with O and B play with X\r\n - from the same starting configuration let A play with X and B play with O\r\n - take stats of which one wins more\r\n\r\nNow my thoughts about good possible heuristics starting points for an nxn playfield with winning sequence length of n:\r\n\r\n - since the winning condition for a player is to form a straight sequence of its marks my idea is to use as base values the number of possibilities that each player has still available to built such a straight sequence. \r\n - in an empty field both O and X have ideally the possibility to realize the winning sequence in several ways:\r\n   - horizontal possibilities: n\r\n   - vertical possibilities: n\r\n   - diagonal possibilities: 2\r\n   - total possibilities: 2n+2\r\n - in the middle of a round the number of remaining opportunities for a player are calculated as: `&lt;the number of rows without opponent&#39;s marks&gt; + &lt;the number of columns without opponent&#39;s marks&gt; + &lt;the number of diagonals without opponent&#39;s marks&gt;`\r\n - instead than calculate all each time it can be considered that:\r\n   - after a move of one player the number of still available possibilities are:\r\n     - unchanged for him\r\n     - equal or lowered for the opponent (if the mark has been placed in a row/col/diagonal where no marks had already been placed by the considered player)\r\n - as heuristic I can propose: `&lt;my possibilities&gt; - &lt;opponent possibilities&gt;`\r\n   - is possible that `&lt;my possibilities&gt; - k * &lt;opponent possibilities&gt;` with k &gt; 1 give better results and in the end this can be related to how a draw is considered with regard to a lose.\r\n\r\nOne side consideration:\r\n\r\n - playfield cells are n^2\r\n - winning possibilities are 2n+2 if we keep the winning length equal to the field edge size\r\n - this give me the idea that the more the size is increased the less interesting is to play because the probability of a draw after a low number of moves (with reference to the playfield area) becomes higher and higher.\r\n - for this reason I think that the game with a winning length lower that n (for example 3 independently from the playfield size) is more interesting.\r\n   - Named l the wining length we have that the number of possibilities is `2*((n+1-l)*(2n+1-l)) = O(n^2)` and so well proportioned with the field area.","title":"Pretty good heuristic evaluation rules for big TicTacToe 5x5 board","body":"<p>Number of options (possible sequences of moves) after the first move is 24! and not 24^24. It is still a too much high of a number so it is correct to implement an heuristic.</p>\n<p>Note that answers about good heuristics are necessarily based on the opinion of the writer so I give my opinion but to find out what is &quot;the best heuristic&quot; you should make the various ideas playing one against the other in the following way:</p>\n<ul>\n<li>take the two heuristics A and B that you want to compare</li>\n<li>generate at random a starting configuration</li>\n<li>let A play with O and B play with X</li>\n<li>from the same starting configuration let A play with X and B play with O</li>\n<li>take stats of which one wins more</li>\n</ul>\n<p>Now my thoughts about good possible heuristics starting points for an nxn playfield with winning sequence length of n:</p>\n<ul>\n<li>since the winning condition for a player is to form a straight sequence of its marks my idea is to use as base values the number of possibilities that each player has still available to built such a straight sequence.</li>\n<li>in an empty field both O and X have ideally the possibility to realize the winning sequence in several ways:\n<ul>\n<li>horizontal possibilities: n</li>\n<li>vertical possibilities: n</li>\n<li>diagonal possibilities: 2</li>\n<li>total possibilities: 2n+2</li>\n</ul>\n</li>\n<li>in the middle of a round the number of remaining opportunities for a player are calculated as: <code>&lt;the number of rows without opponent's marks&gt; + &lt;the number of columns without opponent's marks&gt; + &lt;the number of diagonals without opponent's marks&gt;</code></li>\n<li>instead than calculate all each time it can be considered that:\n<ul>\n<li>after a move of one player the number of still available possibilities are:\n<ul>\n<li>unchanged for him</li>\n<li>equal or lowered for the opponent (if the mark has been placed in a row/col/diagonal where no marks had already been placed by the considered player)</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>as heuristic I can propose: <code>&lt;my possibilities&gt; - &lt;opponent possibilities&gt;</code>\n<ul>\n<li>is possible that <code>&lt;my possibilities&gt; - k * &lt;opponent possibilities&gt;</code> with k &gt; 1 give better results and in the end this can be related to how a draw is considered with regard to a lose.</li>\n</ul>\n</li>\n</ul>\n<p>One side consideration:</p>\n<ul>\n<li>playfield cells are n^2</li>\n<li>winning possibilities are 2n+2 if we keep the winning length equal to the field edge size</li>\n<li>this give me the idea that the more the size is increased the less interesting is to play because the probability of a draw after a low number of moves (with reference to the playfield area) becomes higher and higher.</li>\n<li>for this reason I think that the game with a winning length lower that n (for example 3 independently from the playfield size) is more interesting.\n<ul>\n<li>Named l the wining length we have that the number of possibilities is <code>2*((n+1-l)*(2n+1-l)) = O(n^2)</code> and so well proportioned with the field area.</li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":1138466,"reputation":17496,"user_id":1123020,"accept_rate":60,"display_name":"Yoda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2753,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1679003327,"creation_date":1401643761,"question_id":23982531,"body_markdown":"I have created TicTacToe game. I use minmax algorithm.\r\n\r\nWhen the board is `3x3` I just calculate every possible move for a game till the end and -1 for loss, 0 for tie, 1 for win.\r\n\r\nWhen it comes to 5x5 it can&#39;t be done(to many options(like 24^24) so I have created evaluation method which gives: 10^0 for one CIRCLE inline, 10^1 for 2 CIRCLE inline, ..., 10^4 for 5 CIRCLES inline, but it is useless. \r\n\r\nDoes anybody have better idea for assesment?\r\n\r\nExample:\r\n\r\n    O|X|X| | |\r\n    ----------\r\n     |O| | | |\r\n    ----------\r\n    X|O| | | |\r\n    ----------\r\n     | | | | |\r\n    ----------\r\n     | | | | |\r\n\r\n    Evaluation -10, 2 circles across once and inline once (+200), 2 crosses inline(-100), and -1 three times and + 1 three times for single cross and circle.\r\n\r\n\r\nThis is my evaluation method now:\r\n\r\n\r\n    public void setEvaluationForBigBoards() {\r\n    \t\tint evaluation = 0;\r\n    \t\tint howManyInLine = board.length;\r\n    \t\tfor(; howManyInLine &gt; 0; howManyInLine--) {\r\n    \t\t\tevaluation += countInlines(player.getStamp(), howManyInLine);\r\n    \t\t\tevaluation -= countInlines(player.getOppositeStamp(), howManyInLine);\r\n    \t\t}\r\n    \t\tthis.evaluation = evaluation;\r\n    \t}\r\n    \r\n    \tpublic int countInlines(int sign, int howManyInLine) {\r\n    \t\tint points = (int) Math.pow(10, howManyInLine - 1);\r\n    \t\tint postiveCounter = 0;\r\n    \t\tfor(int i = 0; i &lt; board.length; i++) {\r\n    \t\t\tfor(int j = 0; j &lt; board[i].length; j++) {\r\n    \t\t\t\t//czy od tego miejsca jest cos po przekatnej w prawo w dol, w lewo w dol, w dol, w prawo\r\n    \t\t\t\tif(toRigth(i, j, sign, howManyInLine))\r\n    \t\t\t\t\tpostiveCounter++;\r\n    \t\t\t\tif(howManyInLine &gt; 1) {\r\n    \t\t\t\t\tif(toDown(i, j, sign, howManyInLine))\r\n    \t\t\t\t\t\tpostiveCounter++;\r\n    \t\t\t\t\tif(toRightDiagonal(i, j, sign, howManyInLine))\r\n    \t\t\t\t\t\tpostiveCounter++;\r\n    \t\t\t\t\tif(toLeftDiagonal(i, j, sign, howManyInLine))\r\n    \t\t\t\t\t\tpostiveCounter++;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn points * postiveCounter;\r\n    \t}","title":"Pretty good heuristic evaluation rules for big TicTacToe 5x5 board","body":"<p>I have created TicTacToe game. I use minmax algorithm.</p>\n\n<p>When the board is <code>3x3</code> I just calculate every possible move for a game till the end and -1 for loss, 0 for tie, 1 for win.</p>\n\n<p>When it comes to 5x5 it can't be done(to many options(like 24^24) so I have created evaluation method which gives: 10^0 for one CIRCLE inline, 10^1 for 2 CIRCLE inline, ..., 10^4 for 5 CIRCLES inline, but it is useless. </p>\n\n<p>Does anybody have better idea for assesment?</p>\n\n<p>Example:</p>\n\n<pre><code>O|X|X| | |\n----------\n |O| | | |\n----------\nX|O| | | |\n----------\n | | | | |\n----------\n | | | | |\n\nEvaluation -10, 2 circles across once and inline once (+200), 2 crosses inline(-100), and -1 three times and + 1 three times for single cross and circle.\n</code></pre>\n\n<p>This is my evaluation method now:</p>\n\n<pre><code>public void setEvaluationForBigBoards() {\n        int evaluation = 0;\n        int howManyInLine = board.length;\n        for(; howManyInLine &gt; 0; howManyInLine--) {\n            evaluation += countInlines(player.getStamp(), howManyInLine);\n            evaluation -= countInlines(player.getOppositeStamp(), howManyInLine);\n        }\n        this.evaluation = evaluation;\n    }\n\n    public int countInlines(int sign, int howManyInLine) {\n        int points = (int) Math.pow(10, howManyInLine - 1);\n        int postiveCounter = 0;\n        for(int i = 0; i &lt; board.length; i++) {\n            for(int j = 0; j &lt; board[i].length; j++) {\n                //czy od tego miejsca jest cos po przekatnej w prawo w dol, w lewo w dol, w dol, w prawo\n                if(toRigth(i, j, sign, howManyInLine))\n                    postiveCounter++;\n                if(howManyInLine &gt; 1) {\n                    if(toDown(i, j, sign, howManyInLine))\n                        postiveCounter++;\n                    if(toRightDiagonal(i, j, sign, howManyInLine))\n                        postiveCounter++;\n                    if(toLeftDiagonal(i, j, sign, howManyInLine))\n                        postiveCounter++;\n                }\n            }\n        }\n        return points * postiveCounter;\n    }\n</code></pre>\n"},{"tags":["java","hibernate","jpa","join","one-to-many"],"comments":[{"owner":{"account_id":18201880,"reputation":11,"user_id":13304494,"display_name":"Hans Maulwurf"},"score":0,"creation_date":1678710695,"post_id":75721757,"comment_id":133580595,"body_markdown":"I am also trying to achieve this via `@ElemenCollection`","body":"I am also trying to achieve this via <code>@ElemenCollection</code>"},{"owner":{"account_id":12205661,"reputation":332,"user_id":8908834,"display_name":"Mauricio Buffon"},"score":0,"creation_date":1678746648,"post_id":75721757,"comment_id":133590514,"body_markdown":"I was writing some code to try to answer your question, but a doubt came to mind. In `RankingAward`, the `@OneToMany` mapping has a `@JoinColumn(name = &quot;company_id&quot;)`. This means that there is a column `company_id` in `AdditionalPlacements` entity that maps to `RankingAward` entity `id` column. In other words, `company_id` is a foreign key to `RankingAward.id`. That said, I&#39;m having trouble to understand the JOIN clause in the SQL. Shouldn&#39;t it be `JOIN awards_for_2022 a2 on a.id = a2.company_id`?","body":"I was writing some code to try to answer your question, but a doubt came to mind. In <code>RankingAward</code>, the <code>@OneToMany</code> mapping has a <code>@JoinColumn(name = &quot;company_id&quot;)</code>. This means that there is a column <code>company_id</code> in <code>AdditionalPlacements</code> entity that maps to <code>RankingAward</code> entity <code>id</code> column. In other words, <code>company_id</code> is a foreign key to <code>RankingAward.id</code>. That said, I&#39;m having trouble to understand the JOIN clause in the SQL. Shouldn&#39;t it be <code>JOIN awards_for_2022 a2 on a.id = a2.company_id</code>?"},{"owner":{"account_id":18201880,"reputation":11,"user_id":13304494,"display_name":"Hans Maulwurf"},"score":0,"creation_date":1678864770,"post_id":75721757,"comment_id":133613806,"body_markdown":"Ah, no. Semantically this table joins itself via `company_id` to find out which other ranking placements this company has in other professions.","body":"Ah, no. Semantically this table joins itself via <code>company_id</code> to find out which other ranking placements this company has in other professions."}],"answers":[{"comments":[{"owner":{"account_id":18201880,"reputation":11,"user_id":13304494,"display_name":"Hans Maulwurf"},"score":0,"creation_date":1678864846,"post_id":75728171,"comment_id":133613824,"body_markdown":"hey mauricio, thank you for your effort. unfortunately this won&#39;t help as the selected table is derived during runtime. it could be `awards_for_[2018-2022]` :/","body":"hey mauricio, thank you for your effort. unfortunately this won&#39;t help as the selected table is derived during runtime. it could be <code>awards_for_[2018-2022]</code> :/"},{"owner":{"account_id":18201880,"reputation":11,"user_id":13304494,"display_name":"Hans Maulwurf"},"score":0,"creation_date":1678865155,"post_id":75728171,"comment_id":133613878,"body_markdown":"i was hoping that i can use my native SQL query (with a JOIN to the table itself) and then map the result to a given entity (like the one i posted). i bet there is a way to achieve this^^","body":"i was hoping that i can use my native SQL query (with a JOIN to the table itself) and then map the result to a given entity (like the one i posted). i bet there is a way to achieve this^^"}],"tags":[],"owner":{"account_id":12205661,"reputation":332,"user_id":8908834,"display_name":"Mauricio Buffon"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679003227,"creation_date":1678755088,"answer_id":75728171,"question_id":75721757,"body_markdown":"Edit:\r\n\r\nI think there&#39;s an inconsistency between the entity mappings and the SQL query. The `@JoinColumn` annotation in the `@OneToMany` mapping on the `RankingAward` entity defines `company_id` on the target entity, `AdditionalPlacements`, as a *foreign key* to itself. In other words, `AdditionalPlacements.company_id` is *foreign key* to `RankingAward.id`. That&#39;s the relationship that is defined in that mapping.\r\n\r\nBut let&#39;s put this aside for now. Looking at the table you provided at the end of your answer, the way I see it, admiting both entities map to the same table, there&#39;s no way to determine a `RankingAward` from `AdditionalPlacements` entities. I mean, they all share the same `company_id`, but how do you know which row represents a `RankingAward` entity and which rows represent `AdditionalPlacements` entities? Maybe you can use aggregates in your SQL, but I don&#39;t think they would work for entity mappings.\r\n\r\nA famous example of an entity relating to itself is the employee / manager relationship. But, in this case, the `Employee.managerId` is foreign key to `Employee.id`. Therefore there&#39;s a way to determine which is which.\r\n\r\n*How about instead of doing this join in the SQL, you do it using Java Collectors?* Option 3 deals with this possibility.\r\n\r\n---\r\n\r\nOPTION 1\r\n--------\r\n\r\nBasically, the same mappings you provided.\r\n\r\nEntities classes:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;awards_for_2022&quot;)\r\npublic class RankingAward {\r\n\r\n    @Id\r\n    int id;\r\n\r\n    @Column(name = &quot;rank&quot;)\r\n    Integer placement;\r\n    @Column(name = &quot;profession_id&quot;)\r\n    String profession;\r\n    @Column(name = &quot;company_id&quot;)\r\n    Integer companyId;\r\n\r\n    @OneToMany(fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;company_id&quot;)\r\n    Set&lt;AdditionalPlacements&gt; otherPlacements;\r\n\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;awards_for_2022&quot;)\r\npublic class AdditionalPlacements {\r\n\r\n    @Id\r\n    int id;\r\n\r\n    @Column(name = &quot;rank&quot;)\r\n    Integer placement;\r\n    @Column(name = &quot;profession_id&quot;)\r\n    String profession;\r\n    @Column(name = &quot;company_id&quot;)\r\n    Integer companyId;\r\n\r\n}\r\n```\r\n\r\nSetting the `&lt;property name=&quot;jakarta.persistence.schema-generation.scripts.action&quot; value=&quot;create&quot; /&gt;` property in `persistence.xml` prints the following output:\r\n\r\n```sql\r\ncreate table awards_for_2022 (id integer not null, company_id integer, rank integer, profession_id varchar(255), primary key (id));\r\nalter table if exists awards_for_2022 add constraint FK37k8ntxpbbreo0txso10y53bw foreign key (company_id) references awards_for_2022;\r\n```\r\n\r\nThis means that the persistence provider can relate both entities to the same table. I know you&#39;re defining the Entity-Table association dynamically. And as I understand it, your problem isn&#39;t there, but in the SQL, right?\r\n\r\nSo let&#39;s load some data for tests:\r\n\r\n```sql\r\ninsert into awards_for_2022 (id, company_id, rank, profession_id) values (1, null, 1, &#39;prof1&#39;);\r\ninsert into awards_for_2022 (id, company_id, rank, profession_id) values (2, 1, 2, &#39;prof2&#39;);\r\ninsert into awards_for_2022 (id, company_id, rank, profession_id) values (3, 1, 3, &#39;prof3&#39;);\r\ninsert into awards_for_2022 (id, company_id, rank, profession_id) values (4, 2, 4, &#39;prof4&#39;);\r\ninsert into awards_for_2022 (id, company_id, rank, profession_id) values (5, 2, 5, &#39;prof5&#39;);\r\ninsert into awards_for_2022 (id, company_id, rank, profession_id) values (6, 3, 6, &#39;prof6&#39;);\r\n```\r\n\r\nAnd, finally, a dummy service to execute the query and print the retrieved data:\r\n\r\n```java\r\n@Stateless\r\n@Path(&quot;&quot;)\r\npublic class Service {\r\n\r\n    private static final Function&lt;RankingAward, JsonObject&gt; RANKINGAWARD2JSON = (RankingAward ra) -&gt; {\r\n        var json = Json.createObjectBuilder()\r\n                .add(&quot;id&quot;, ra.id)\r\n                .add(&quot;rank&quot;, ra.placement)\r\n                .add(&quot;profession&quot;, ra.profession)\r\n                .add(&quot;additionalPlacements&quot;, ra.otherPlacements.stream()\r\n                        .map(ap -&gt; Json.createObjectBuilder()\r\n                                .add(&quot;companyId&quot;, ap.companyId)\r\n                                .add(&quot;rank&quot;, ap.placement)\r\n                                .add(&quot;profession&quot;, ap.profession)\r\n                                .build())\r\n                        .collect(JsonCollectors.toJsonArray()));\r\n\r\n        if (null != ra.companyId) {\r\n            json\r\n                    .add(&quot;companyId&quot;, ra.companyId);\r\n        }\r\n\r\n        return json.build();\r\n    };\r\n    \r\n    @PersistenceContext\r\n    EntityManager em;\r\n\r\n    @POST\r\n    public void execute(@FormParam(&quot;profession&quot;) final String prof) {\r\n        var rs1 = em.createQuery(\r\n                &quot;SELECT ra FROM RankingAward ra WHERE ra.profession = :professionId&quot;,\r\n                RankingAward.class)\r\n                .setParameter(&quot;professionId&quot;, prof)\r\n                .getResultStream()\r\n                .map(RANKINGAWARD2JSON)\r\n                .collect(JsonCollectors.toJsonArray());\r\n\r\n        System.out.println(rs1);\r\n    }\r\n}\r\n```\r\n\r\nThe output in `System.out` (calling the service with form parameter `profession=prof1`):\r\n\r\n```json\r\n[\r\n    {\r\n        &quot;id&quot;: 1,\r\n        &quot;rank&quot;: 1,\r\n        &quot;profession&quot;: &quot;prof1&quot;,\r\n        &quot;additionalPlacements&quot;: [\r\n            {\r\n                &quot;companyId&quot;: 1,\r\n                &quot;rank&quot;: 2,\r\n                &quot;profession&quot;: &quot;prof2&quot;\r\n            },\r\n            {\r\n                &quot;companyId&quot;: 1,\r\n                &quot;rank&quot;: 3,\r\n                &quot;profession&quot;: &quot;prof3&quot;\r\n            }\r\n        ]\r\n    }\r\n]\r\n```\r\n\r\nAnd this is all the SQL you have to write: `SELECT ra FROM RankingAward ra WHERE ra.profession = :professionId`. As you can see, it isn&#39;t necessary to write the JOIN clause. The persistence provider derives the JOIN itself following the mapping on `otherPlacements` field. By the way, the query is in JPQL form.\r\n\r\nOPTION 2\r\n--------\r\n\r\nInstead of having a unidirectional relationship from `RankingAward` entity to `AdditionalPlacements` entity, I&#39;d create a bidirectional relationship using a `@ManyToOne` mapping on `AdditionalPlacements` entity.\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;awards_for_2022&quot;)\r\npublic class RankingAward {\r\n\r\n    @Id\r\n    int id;\r\n\r\n    @Column(name = &quot;rank&quot;)\r\n    Integer placement;\r\n    @Column(name = &quot;profession_id&quot;)\r\n    Integer profession;\r\n    @Column(name = &quot;company_id&quot;)\r\n    Integer companyId;\r\n\r\n    @OneToMany(fetch = FetchType.EAGER, mappedBy = &quot;rankingAward&quot;)\r\n    Set&lt;AdditionalPlacements&gt; otherPlacements;\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;awards_for_2022&quot;)\r\npublic class AdditionalPlacements {\r\n\r\n    @Id\r\n    int id;\r\n\r\n    @Column(name = &quot;rank&quot;)\r\n    Integer placement;\r\n    @Column(name = &quot;profession_id&quot;)\r\n    String profession;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;company_id&quot;)\r\n    RankingAward rankingAward;\r\n}\r\n\r\n```\r\n\r\nSetting the `&lt;property name=&quot;jakarta.persistence.schema-generation.scripts.action&quot; value=&quot;create&quot; /&gt;` property in `persistence.xml` prints the same ddl. This shows that despite the mapping changes, the table structure remains the same.\r\n\r\n```sql\r\ncreate table awards_for_2022 (id integer not null, company_id integer, rank integer, profession_id varchar(255), primary key (id));\r\nalter table if exists awards_for_2022 add constraint FK37k8ntxpbbreo0txso10y53bw foreign key (company_id) references awards_for_2022;\r\n```\r\n\r\nFrom this point on, the rest is pretty much the same - actually, only a few minor changes in `RANKINGAWARD2JSON` lambda transformation were required.\r\n\r\n---\r\n\r\nSo why change the relationship mapping? In my opinion, having a `RankingAward` reference in `AdditionalPlacements` helps to understand the relation between these entities. In the first option, the `@JoinColumn` mapping on `RankingAward` entity is defining a column name for the `AdditionalPlacements` entity - which is quite counterintuitive.\r\n\r\n\r\nOPTION 3\r\n--------\r\n\r\nInstead of grouping different rows and supposedly different entities in the SQL, how about group by them using Java Collectors?\r\n\r\n```java\r\n@Entity\r\npublic class EntityRecord {\r\n\r\n    @Id\r\n    private int id;\r\n    @Column(name = &quot;rank&quot;)\r\n    private Integer placement;\r\n    @Column(name = &quot;profession_id&quot;)\r\n    private Integer profession;\r\n    @Column(name = &quot;company_id&quot;)\r\n    private Integer companyId;\r\n\r\n    /* getters, setters and constructors */\r\n\r\n}\r\n\r\n@Stateless\r\n@Path(&quot;&quot;)\r\npublic class Service {\r\n\r\n    @PersistenceContext\r\n    EntityManager em;\r\n\r\n    @POST\r\n    @Produces(&quot;application/json&quot;)\r\n    public JsonArray execute() {\r\n        /* You can use whichever query you want here, JPQL, native query, etc */\r\n        return em.createQuery(&quot;SELECT e FROM EntityRecord e&quot;, EntityRecord.class)\r\n                .getResultStream()\r\n                .collect(Collectors.collectingAndThen(\r\n                        Collectors.groupingBy(EntityRecord::companyId), (map) -&gt; {\r\n                            return map.entrySet().stream()\r\n                                    .map(entry -&gt; {\r\n                                        return Json.createObjectBuilder()\r\n                                                .add(&quot;companyId&quot;, entry.getKey())\r\n                                                .add(&quot;placements&quot;, entry.getValue().stream()\r\n                                                        .map(val -&gt; {\r\n                                                            return Json.createObjectBuilder()\r\n                                                                    .add(&quot;id&quot;, val.id())\r\n                                                                    .add(&quot;profession&quot;, val.profession())\r\n                                                                    .add(&quot;rank&quot;, val.rank())\r\n                                                                    .build();\r\n                                                        })\r\n                                                        .collect(JsonCollectors.toJsonArray()))\r\n                                                .build();\r\n                                    })\r\n                                    .collect(JsonCollectors.toJsonArray());\r\n                        }));\r\n        }\r\n}\r\n```\r\n\r\nPopulating the database with the following data sample:\r\n\r\n```sql\r\n-- the same sample you provided, but before flattening the data\r\ninsert into awards_for_2022 (id, rank, profession_id, company_id) values (1, 1, 1, 10344);\r\ninsert into awards_for_2022 (id, rank, profession_id, company_id) values (2, 2, 1, 10541);\r\ninsert into awards_for_2022 (id, rank, profession_id, company_id) values (3, 3, 1, 12152);\r\ninsert into awards_for_2022 (id, rank, profession_id, company_id) values (3310, 20, 26, 10344);\r\ninsert into awards_for_2022 (id, rank, profession_id, company_id) values (4214, 34, 32, 10344);\r\ninsert into awards_for_2022 (id, rank, profession_id, company_id) values (4279, 7, 38, 10344);\r\ninsert into awards_for_2022 (id, rank, profession_id, company_id) values (4286, 9, 38, 12152);\r\n```\r\n\r\nNow calling the `Service.execute()` method produces the following json:\r\n\r\n```json\r\n[\r\n    {\r\n        &quot;companyId&quot;: 12152,\r\n        &quot;placements&quot;: [\r\n            {\r\n                &quot;id&quot;: 3,\r\n                &quot;profession&quot;: 1,\r\n                &quot;rank&quot;: 3\r\n            },\r\n            {\r\n                &quot;id&quot;: 4286,\r\n                &quot;profession&quot;: 38,\r\n                &quot;rank&quot;: 9\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        &quot;companyId&quot;: 10344,\r\n        &quot;placements&quot;: [\r\n            {\r\n                &quot;id&quot;: 1,\r\n                &quot;profession&quot;: 1,\r\n                &quot;rank&quot;: 1\r\n            },\r\n            {\r\n                &quot;id&quot;: 3310,\r\n                &quot;profession&quot;: 26,\r\n                &quot;rank&quot;: 20\r\n            },\r\n            {\r\n                &quot;id&quot;: 4214,\r\n                &quot;profession&quot;: 32,\r\n                &quot;rank&quot;: 34\r\n            },\r\n            {\r\n                &quot;id&quot;: 4279,\r\n                &quot;profession&quot;: 38,\r\n                &quot;rank&quot;: 7\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        &quot;companyId&quot;: 10541,\r\n        &quot;placements&quot;: [\r\n            {\r\n                &quot;id&quot;: 2,\r\n                &quot;profession&quot;: 1,\r\n                &quot;rank&quot;: 2\r\n            }\r\n        ]\r\n    }\r\n]\r\n```\r\n","title":"JPA custom native query with unidirectional @OneToMany / JOIN","body":"<p>Edit:</p>\n<p>I think there's an inconsistency between the entity mappings and the SQL query. The <code>@JoinColumn</code> annotation in the <code>@OneToMany</code> mapping on the <code>RankingAward</code> entity defines <code>company_id</code> on the target entity, <code>AdditionalPlacements</code>, as a <em>foreign key</em> to itself. In other words, <code>AdditionalPlacements.company_id</code> is <em>foreign key</em> to <code>RankingAward.id</code>. That's the relationship that is defined in that mapping.</p>\n<p>But let's put this aside for now. Looking at the table you provided at the end of your answer, the way I see it, admiting both entities map to the same table, there's no way to determine a <code>RankingAward</code> from <code>AdditionalPlacements</code> entities. I mean, they all share the same <code>company_id</code>, but how do you know which row represents a <code>RankingAward</code> entity and which rows represent <code>AdditionalPlacements</code> entities? Maybe you can use aggregates in your SQL, but I don't think they would work for entity mappings.</p>\n<p>A famous example of an entity relating to itself is the employee / manager relationship. But, in this case, the <code>Employee.managerId</code> is foreign key to <code>Employee.id</code>. Therefore there's a way to determine which is which.</p>\n<p><em>How about instead of doing this join in the SQL, you do it using Java Collectors?</em> Option 3 deals with this possibility.</p>\n<hr />\n<h2>OPTION 1</h2>\n<p>Basically, the same mappings you provided.</p>\n<p>Entities classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;awards_for_2022&quot;)\npublic class RankingAward {\n\n    @Id\n    int id;\n\n    @Column(name = &quot;rank&quot;)\n    Integer placement;\n    @Column(name = &quot;profession_id&quot;)\n    String profession;\n    @Column(name = &quot;company_id&quot;)\n    Integer companyId;\n\n    @OneToMany(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;company_id&quot;)\n    Set&lt;AdditionalPlacements&gt; otherPlacements;\n\n}\n\n@Entity\n@Table(name = &quot;awards_for_2022&quot;)\npublic class AdditionalPlacements {\n\n    @Id\n    int id;\n\n    @Column(name = &quot;rank&quot;)\n    Integer placement;\n    @Column(name = &quot;profession_id&quot;)\n    String profession;\n    @Column(name = &quot;company_id&quot;)\n    Integer companyId;\n\n}\n</code></pre>\n<p>Setting the <code>&lt;property name=&quot;jakarta.persistence.schema-generation.scripts.action&quot; value=&quot;create&quot; /&gt;</code> property in <code>persistence.xml</code> prints the following output:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create table awards_for_2022 (id integer not null, company_id integer, rank integer, profession_id varchar(255), primary key (id));\nalter table if exists awards_for_2022 add constraint FK37k8ntxpbbreo0txso10y53bw foreign key (company_id) references awards_for_2022;\n</code></pre>\n<p>This means that the persistence provider can relate both entities to the same table. I know you're defining the Entity-Table association dynamically. And as I understand it, your problem isn't there, but in the SQL, right?</p>\n<p>So let's load some data for tests:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>insert into awards_for_2022 (id, company_id, rank, profession_id) values (1, null, 1, 'prof1');\ninsert into awards_for_2022 (id, company_id, rank, profession_id) values (2, 1, 2, 'prof2');\ninsert into awards_for_2022 (id, company_id, rank, profession_id) values (3, 1, 3, 'prof3');\ninsert into awards_for_2022 (id, company_id, rank, profession_id) values (4, 2, 4, 'prof4');\ninsert into awards_for_2022 (id, company_id, rank, profession_id) values (5, 2, 5, 'prof5');\ninsert into awards_for_2022 (id, company_id, rank, profession_id) values (6, 3, 6, 'prof6');\n</code></pre>\n<p>And, finally, a dummy service to execute the query and print the retrieved data:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Stateless\n@Path(&quot;&quot;)\npublic class Service {\n\n    private static final Function&lt;RankingAward, JsonObject&gt; RANKINGAWARD2JSON = (RankingAward ra) -&gt; {\n        var json = Json.createObjectBuilder()\n                .add(&quot;id&quot;, ra.id)\n                .add(&quot;rank&quot;, ra.placement)\n                .add(&quot;profession&quot;, ra.profession)\n                .add(&quot;additionalPlacements&quot;, ra.otherPlacements.stream()\n                        .map(ap -&gt; Json.createObjectBuilder()\n                                .add(&quot;companyId&quot;, ap.companyId)\n                                .add(&quot;rank&quot;, ap.placement)\n                                .add(&quot;profession&quot;, ap.profession)\n                                .build())\n                        .collect(JsonCollectors.toJsonArray()));\n\n        if (null != ra.companyId) {\n            json\n                    .add(&quot;companyId&quot;, ra.companyId);\n        }\n\n        return json.build();\n    };\n    \n    @PersistenceContext\n    EntityManager em;\n\n    @POST\n    public void execute(@FormParam(&quot;profession&quot;) final String prof) {\n        var rs1 = em.createQuery(\n                &quot;SELECT ra FROM RankingAward ra WHERE ra.profession = :professionId&quot;,\n                RankingAward.class)\n                .setParameter(&quot;professionId&quot;, prof)\n                .getResultStream()\n                .map(RANKINGAWARD2JSON)\n                .collect(JsonCollectors.toJsonArray());\n\n        System.out.println(rs1);\n    }\n}\n</code></pre>\n<p>The output in <code>System.out</code> (calling the service with form parameter <code>profession=prof1</code>):</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;rank&quot;: 1,\n        &quot;profession&quot;: &quot;prof1&quot;,\n        &quot;additionalPlacements&quot;: [\n            {\n                &quot;companyId&quot;: 1,\n                &quot;rank&quot;: 2,\n                &quot;profession&quot;: &quot;prof2&quot;\n            },\n            {\n                &quot;companyId&quot;: 1,\n                &quot;rank&quot;: 3,\n                &quot;profession&quot;: &quot;prof3&quot;\n            }\n        ]\n    }\n]\n</code></pre>\n<p>And this is all the SQL you have to write: <code>SELECT ra FROM RankingAward ra WHERE ra.profession = :professionId</code>. As you can see, it isn't necessary to write the JOIN clause. The persistence provider derives the JOIN itself following the mapping on <code>otherPlacements</code> field. By the way, the query is in JPQL form.</p>\n<h2>OPTION 2</h2>\n<p>Instead of having a unidirectional relationship from <code>RankingAward</code> entity to <code>AdditionalPlacements</code> entity, I'd create a bidirectional relationship using a <code>@ManyToOne</code> mapping on <code>AdditionalPlacements</code> entity.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;awards_for_2022&quot;)\npublic class RankingAward {\n\n    @Id\n    int id;\n\n    @Column(name = &quot;rank&quot;)\n    Integer placement;\n    @Column(name = &quot;profession_id&quot;)\n    Integer profession;\n    @Column(name = &quot;company_id&quot;)\n    Integer companyId;\n\n    @OneToMany(fetch = FetchType.EAGER, mappedBy = &quot;rankingAward&quot;)\n    Set&lt;AdditionalPlacements&gt; otherPlacements;\n}\n\n@Entity\n@Table(name = &quot;awards_for_2022&quot;)\npublic class AdditionalPlacements {\n\n    @Id\n    int id;\n\n    @Column(name = &quot;rank&quot;)\n    Integer placement;\n    @Column(name = &quot;profession_id&quot;)\n    String profession;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;company_id&quot;)\n    RankingAward rankingAward;\n}\n\n</code></pre>\n<p>Setting the <code>&lt;property name=&quot;jakarta.persistence.schema-generation.scripts.action&quot; value=&quot;create&quot; /&gt;</code> property in <code>persistence.xml</code> prints the same ddl. This shows that despite the mapping changes, the table structure remains the same.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create table awards_for_2022 (id integer not null, company_id integer, rank integer, profession_id varchar(255), primary key (id));\nalter table if exists awards_for_2022 add constraint FK37k8ntxpbbreo0txso10y53bw foreign key (company_id) references awards_for_2022;\n</code></pre>\n<p>From this point on, the rest is pretty much the same - actually, only a few minor changes in <code>RANKINGAWARD2JSON</code> lambda transformation were required.</p>\n<hr />\n<p>So why change the relationship mapping? In my opinion, having a <code>RankingAward</code> reference in <code>AdditionalPlacements</code> helps to understand the relation between these entities. In the first option, the <code>@JoinColumn</code> mapping on <code>RankingAward</code> entity is defining a column name for the <code>AdditionalPlacements</code> entity - which is quite counterintuitive.</p>\n<h2>OPTION 3</h2>\n<p>Instead of grouping different rows and supposedly different entities in the SQL, how about group by them using Java Collectors?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class EntityRecord {\n\n    @Id\n    private int id;\n    @Column(name = &quot;rank&quot;)\n    private Integer placement;\n    @Column(name = &quot;profession_id&quot;)\n    private Integer profession;\n    @Column(name = &quot;company_id&quot;)\n    private Integer companyId;\n\n    /* getters, setters and constructors */\n\n}\n\n@Stateless\n@Path(&quot;&quot;)\npublic class Service {\n\n    @PersistenceContext\n    EntityManager em;\n\n    @POST\n    @Produces(&quot;application/json&quot;)\n    public JsonArray execute() {\n        /* You can use whichever query you want here, JPQL, native query, etc */\n        return em.createQuery(&quot;SELECT e FROM EntityRecord e&quot;, EntityRecord.class)\n                .getResultStream()\n                .collect(Collectors.collectingAndThen(\n                        Collectors.groupingBy(EntityRecord::companyId), (map) -&gt; {\n                            return map.entrySet().stream()\n                                    .map(entry -&gt; {\n                                        return Json.createObjectBuilder()\n                                                .add(&quot;companyId&quot;, entry.getKey())\n                                                .add(&quot;placements&quot;, entry.getValue().stream()\n                                                        .map(val -&gt; {\n                                                            return Json.createObjectBuilder()\n                                                                    .add(&quot;id&quot;, val.id())\n                                                                    .add(&quot;profession&quot;, val.profession())\n                                                                    .add(&quot;rank&quot;, val.rank())\n                                                                    .build();\n                                                        })\n                                                        .collect(JsonCollectors.toJsonArray()))\n                                                .build();\n                                    })\n                                    .collect(JsonCollectors.toJsonArray());\n                        }));\n        }\n}\n</code></pre>\n<p>Populating the database with the following data sample:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>-- the same sample you provided, but before flattening the data\ninsert into awards_for_2022 (id, rank, profession_id, company_id) values (1, 1, 1, 10344);\ninsert into awards_for_2022 (id, rank, profession_id, company_id) values (2, 2, 1, 10541);\ninsert into awards_for_2022 (id, rank, profession_id, company_id) values (3, 3, 1, 12152);\ninsert into awards_for_2022 (id, rank, profession_id, company_id) values (3310, 20, 26, 10344);\ninsert into awards_for_2022 (id, rank, profession_id, company_id) values (4214, 34, 32, 10344);\ninsert into awards_for_2022 (id, rank, profession_id, company_id) values (4279, 7, 38, 10344);\ninsert into awards_for_2022 (id, rank, profession_id, company_id) values (4286, 9, 38, 12152);\n</code></pre>\n<p>Now calling the <code>Service.execute()</code> method produces the following json:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;companyId&quot;: 12152,\n        &quot;placements&quot;: [\n            {\n                &quot;id&quot;: 3,\n                &quot;profession&quot;: 1,\n                &quot;rank&quot;: 3\n            },\n            {\n                &quot;id&quot;: 4286,\n                &quot;profession&quot;: 38,\n                &quot;rank&quot;: 9\n            }\n        ]\n    },\n    {\n        &quot;companyId&quot;: 10344,\n        &quot;placements&quot;: [\n            {\n                &quot;id&quot;: 1,\n                &quot;profession&quot;: 1,\n                &quot;rank&quot;: 1\n            },\n            {\n                &quot;id&quot;: 3310,\n                &quot;profession&quot;: 26,\n                &quot;rank&quot;: 20\n            },\n            {\n                &quot;id&quot;: 4214,\n                &quot;profession&quot;: 32,\n                &quot;rank&quot;: 34\n            },\n            {\n                &quot;id&quot;: 4279,\n                &quot;profession&quot;: 38,\n                &quot;rank&quot;: 7\n            }\n        ]\n    },\n    {\n        &quot;companyId&quot;: 10541,\n        &quot;placements&quot;: [\n            {\n                &quot;id&quot;: 2,\n                &quot;profession&quot;: 1,\n                &quot;rank&quot;: 2\n            }\n        ]\n    }\n]\n</code></pre>\n"}],"owner":{"account_id":18201880,"reputation":11,"user_id":13304494,"display_name":"Hans Maulwurf"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":910,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679003227,"creation_date":1678709765,"question_id":75721757,"body_markdown":"I am struggeling with the following setup:\r\n\r\n```lang-java\r\n@Entity\r\npublic class RankingAward extends AbstractRelationalModel {\r\n\r\n    [...] // some fields\r\n\r\n    @Column(name = &quot;rank&quot;)\r\n    public Integer placement;\r\n\r\n    @Column(name = &quot;profession_id&quot;)\r\n    public String profession;\r\n\r\n    @Column(name = &quot;company_id&quot;)\r\n    public Integer companyId;\r\n\r\n    @OneToMany(fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;company_id&quot;)\r\n    private Set&lt;AdditionalPlacements&gt; otherPlacements;\r\n\r\n    [...] // some more fields\r\n```\r\n```lang-java\r\n@Entity\r\npublic static class AdditionalPlacements {\r\n\r\n    [...] // in fact just a subset of the above fields\r\n          // ideally fetched through a JOIN\r\n\r\n    @Column(name = &quot;rank&quot;)\r\n    public Integer placement;\r\n\r\n    @Column(name = &quot;profession_id&quot;)\r\n    public String profession;\r\n\r\n    @Column(name = &quot;company_id&quot;)\r\n    public Integer companyId;\r\n}\r\n```\r\n\r\nBoth Entities have **no** explicit table-mapping, as the table name is derived **during runtime**.\r\n`RankingAward` and `AdditionalPlacement` are in fact the same table.\r\nI am currently trying to fetch data through `entityManager.createNativeQuery()` in the hope that a JOIN should deliver the subset result for `AdditionalPlacement`.\r\nSo i am basically doing a JOIN to the table itself and would like to have a result like this:\r\n```lang-json\r\n[\r\n  {\r\n    // all fields of RankingAward\r\n    &quot;companyId&quot;: 12345,\r\n    &quot;rank&quot;: 1,\r\n    &quot;profession&quot;: 3\r\n    &quot;additionalPlacements&quot;: [\r\n      {\r\n        // all fields of AdditionalPlacements\r\n        &quot;companyId&quot;: 12345,\r\n        &quot;rank&quot;: 2,\r\n        &quot;profession&quot;: 10\r\n      }\r\n    ]\r\n  }\r\n]\r\n```\r\nThe custom SQL query looks something like this:\r\n```lang-sql\r\nSELECT a.id, a.`rank`, a.profession_id, a.company_id, \r\n    a2.id, a2.`rank`, a2.profession_id, a2.company_id, \r\nFROM awards_for_2022\r\nLEFT JOIN awards_for_2022 a2 on a.company_id = a2.company_id and a2.id != a.id\r\nWHERE a.profession_id = :professionId\r\nORDER BY a.`rank`;\r\n```\r\n\r\nI thought that the JOIN could anyhow be mapped to the `otherPlacements` set, but i am not sure how and what the best solution would be. Should i use JPQL? I think strict JPA annotations can&#39;t work as the table name is kind of *dynamic*.\r\n\r\n\r\nI tried different version of JPA mapping annotations in combination with `@OneToMany`. some resulted in exceptions like `Table &#39;RankingAward$AdditionalPlacements&#39; doesn&#39;t exist`. Before i restructue the database model so that all corresponding tables end up in one table and therefore maybe enable the use of annotations, i wanted to try it via custom SQL.\r\n\r\n\r\nEdit:\r\n\r\nI would like to have this query\r\n```lang-sql\r\nSELECT a.id, a.`rank`, a.profession_id, a.company_id,\r\n       a2.id, a2.`rank`, a2.profession_id, a2.company_id # maybe some group_concat() here?\r\nFROM competitionline.awards_for_2022 a\r\nLEFT JOIN competitionline.awards_for_2022 a2 on a.company_id = a2.company_id and a2.id != a.id\r\nWHERE a.profession_id = 1\r\norder by a.`rank`;\r\n```\r\nwith this result:\r\n```lang-sql\r\n+--+----+-------------+----------+----+----+-------------+----------+\r\n|id|rank|profession_id|company_id|id  |rank|profession_id|company_id|\r\n+--+----+-------------+----------+----+----+-------------+----------+\r\n|1 |1   |1            |10344     |4279|7   |38           |10344     |\r\n|1 |1   |1            |10344     |4214|34  |32           |10344     |\r\n|1 |1   |1            |10344     |3310|20  |26           |10344     |\r\n|2 |2   |1            |10541     |null|null|null         |null      |\r\n|3 |3   |1            |12152     |4286|9   |38           |12152     |\r\n+--+----+-------------+----------+----+----+-------------+----------+\r\n```\r\nto end up in an entity of `RankingAward.java` (==`a`) with a list of `AdditionalPlacements.java` (==`a2`).\r\nThe shown result says that the company with id `10344` has a ranking placement of `1` in the profession category `1` and 3 other ranking placements (`7`, `34`, `20`) in different profession categories (`38`, `32`, `26`).","title":"JPA custom native query with unidirectional @OneToMany / JOIN","body":"<p>I am struggeling with the following setup:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class RankingAward extends AbstractRelationalModel {\n\n    [...] // some fields\n\n    @Column(name = &quot;rank&quot;)\n    public Integer placement;\n\n    @Column(name = &quot;profession_id&quot;)\n    public String profession;\n\n    @Column(name = &quot;company_id&quot;)\n    public Integer companyId;\n\n    @OneToMany(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;company_id&quot;)\n    private Set&lt;AdditionalPlacements&gt; otherPlacements;\n\n    [...] // some more fields\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic static class AdditionalPlacements {\n\n    [...] // in fact just a subset of the above fields\n          // ideally fetched through a JOIN\n\n    @Column(name = &quot;rank&quot;)\n    public Integer placement;\n\n    @Column(name = &quot;profession_id&quot;)\n    public String profession;\n\n    @Column(name = &quot;company_id&quot;)\n    public Integer companyId;\n}\n</code></pre>\n<p>Both Entities have <strong>no</strong> explicit table-mapping, as the table name is derived <strong>during runtime</strong>.\n<code>RankingAward</code> and <code>AdditionalPlacement</code> are in fact the same table.\nI am currently trying to fetch data through <code>entityManager.createNativeQuery()</code> in the hope that a JOIN should deliver the subset result for <code>AdditionalPlacement</code>.\nSo i am basically doing a JOIN to the table itself and would like to have a result like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    // all fields of RankingAward\n    &quot;companyId&quot;: 12345,\n    &quot;rank&quot;: 1,\n    &quot;profession&quot;: 3\n    &quot;additionalPlacements&quot;: [\n      {\n        // all fields of AdditionalPlacements\n        &quot;companyId&quot;: 12345,\n        &quot;rank&quot;: 2,\n        &quot;profession&quot;: 10\n      }\n    ]\n  }\n]\n</code></pre>\n<p>The custom SQL query looks something like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT a.id, a.`rank`, a.profession_id, a.company_id, \n    a2.id, a2.`rank`, a2.profession_id, a2.company_id, \nFROM awards_for_2022\nLEFT JOIN awards_for_2022 a2 on a.company_id = a2.company_id and a2.id != a.id\nWHERE a.profession_id = :professionId\nORDER BY a.`rank`;\n</code></pre>\n<p>I thought that the JOIN could anyhow be mapped to the <code>otherPlacements</code> set, but i am not sure how and what the best solution would be. Should i use JPQL? I think strict JPA annotations can't work as the table name is kind of <em>dynamic</em>.</p>\n<p>I tried different version of JPA mapping annotations in combination with <code>@OneToMany</code>. some resulted in exceptions like <code>Table 'RankingAward$AdditionalPlacements' doesn't exist</code>. Before i restructue the database model so that all corresponding tables end up in one table and therefore maybe enable the use of annotations, i wanted to try it via custom SQL.</p>\n<p>Edit:</p>\n<p>I would like to have this query</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT a.id, a.`rank`, a.profession_id, a.company_id,\n       a2.id, a2.`rank`, a2.profession_id, a2.company_id # maybe some group_concat() here?\nFROM competitionline.awards_for_2022 a\nLEFT JOIN competitionline.awards_for_2022 a2 on a.company_id = a2.company_id and a2.id != a.id\nWHERE a.profession_id = 1\norder by a.`rank`;\n</code></pre>\n<p>with this result:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>+--+----+-------------+----------+----+----+-------------+----------+\n|id|rank|profession_id|company_id|id  |rank|profession_id|company_id|\n+--+----+-------------+----------+----+----+-------------+----------+\n|1 |1   |1            |10344     |4279|7   |38           |10344     |\n|1 |1   |1            |10344     |4214|34  |32           |10344     |\n|1 |1   |1            |10344     |3310|20  |26           |10344     |\n|2 |2   |1            |10541     |null|null|null         |null      |\n|3 |3   |1            |12152     |4286|9   |38           |12152     |\n+--+----+-------------+----------+----+----+-------------+----------+\n</code></pre>\n<p>to end up in an entity of <code>RankingAward.java</code> (==<code>a</code>) with a list of <code>AdditionalPlacements.java</code> (==<code>a2</code>).\nThe shown result says that the company with id <code>10344</code> has a ranking placement of <code>1</code> in the profession category <code>1</code> and 3 other ranking placements (<code>7</code>, <code>34</code>, <code>20</code>) in different profession categories (<code>38</code>, <code>32</code>, <code>26</code>).</p>\n"},{"tags":["java","sockets","serversocket"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1559416724,"post_id":56408586,"comment_id":99416591,"body_markdown":"It is normal to keep the socket open until you are finished with it, and then close it.","body":"It is normal to keep the socket open until you are finished with it, and then close it."}],"answers":[{"tags":[],"owner":{"account_id":11142984,"reputation":2547,"user_id":8178842,"display_name":"Tobias"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679003074,"creation_date":1559407794,"answer_id":56408644,"question_id":56408586,"body_markdown":"That strongly depends on how frequently the socket is used.\r\n\r\nE.g. if you know that the client will send a request to the server every 50 milliseconds it would be easier to just keep the socket opened.\r\n\r\nBut if you know the client will only request information from the socket every 5 minutes it&#39;s probably better to close the connection and create a new one when needed. Same if you don&#39;t know when the next request will be created.\r\n\r\nCreating a new Socket on server-side is not very expensive, so it&#39;s probably better to just close the connection if it&#39;s not used very frequently.\r\n\r\nAn exception could be a special socket, that needs authentication or other expensive stuff on creation, but that&#39;s probably not the case in a school project.\r\n\r\nSo in general: It depends on the usage of the socket, but if you&#39;re unsure whether it&#39;s used very frequently or not better close it and open it again when needed.","title":"Use Socket permantently to handle Clientsession or create new one for every request","body":"<p>That strongly depends on how frequently the socket is used.</p>\n<p>E.g. if you know that the client will send a request to the server every 50 milliseconds it would be easier to just keep the socket opened.</p>\n<p>But if you know the client will only request information from the socket every 5 minutes it's probably better to close the connection and create a new one when needed. Same if you don't know when the next request will be created.</p>\n<p>Creating a new Socket on server-side is not very expensive, so it's probably better to just close the connection if it's not used very frequently.</p>\n<p>An exception could be a special socket, that needs authentication or other expensive stuff on creation, but that's probably not the case in a school project.</p>\n<p>So in general: It depends on the usage of the socket, but if you're unsure whether it's used very frequently or not better close it and open it again when needed.</p>\n"},{"tags":[],"owner":{"account_id":7423123,"reputation":275,"user_id":5646662,"display_name":"Cara Ames"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559408031,"creation_date":1559408031,"answer_id":56408672,"question_id":56408586,"body_markdown":"Related to this question:\r\n\r\nhttps://stackoverflow.com/questions/2185834/maximum-number-of-socket-in-java\r\n\r\nIf you&#39;re worried about exceeding the maximum number of sockets that can be opened (I imagine this is highly unlikely in your case) you can create a work-around where you use TCP to initially establish the connection, send the client a UID (Unique Identifier, a 64-bit `unsigned long long` type should be sufficient) and then close the TCP connection. Fill and maintain a structure (or Class object in your case) detailing the connection details (IP address, Unique Identifier code) and then wait on arriving packets sent via UDP (User Datagram Protocol, an alternative to TCP). If you decide to use UDP, be aware that you&#39;ll need to implement a means of reordering packets in order to reconstruct a byte-stream (serialisation) and a mechanism for resending data packets if somehow they do not arrive (packet loss recovery).\r\n\r\nSounds worse than it is. I&#39;ll repeat though, don&#39;t bother yourself with these intricacies if you&#39;re not worried about exceeding any limits.","title":"Use Socket permantently to handle Clientsession or create new one for every request","body":"<p>Related to this question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2185834/maximum-number-of-socket-in-java\">Maximum number of socket in java</a></p>\n\n<p>If you're worried about exceeding the maximum number of sockets that can be opened (I imagine this is highly unlikely in your case) you can create a work-around where you use TCP to initially establish the connection, send the client a UID (Unique Identifier, a 64-bit <code>unsigned long long</code> type should be sufficient) and then close the TCP connection. Fill and maintain a structure (or Class object in your case) detailing the connection details (IP address, Unique Identifier code) and then wait on arriving packets sent via UDP (User Datagram Protocol, an alternative to TCP). If you decide to use UDP, be aware that you'll need to implement a means of reordering packets in order to reconstruct a byte-stream (serialisation) and a mechanism for resending data packets if somehow they do not arrive (packet loss recovery).</p>\n\n<p>Sounds worse than it is. I'll repeat though, don't bother yourself with these intricacies if you're not worried about exceeding any limits.</p>\n"}],"owner":{"account_id":11041792,"reputation":394,"user_id":8109416,"display_name":"Matthias Hofmarcher"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56408644,"answer_count":2,"score":0,"last_activity_date":1679003074,"creation_date":1559407227,"question_id":56408586,"body_markdown":"So i am quite new to Sockets and I have to create a Server-Client-App for school.\r\n\r\nI expect a client to request something from the server multiple times during his runtime.\r\n\r\n\r\nI am uncertain wether I should make a new java.net.Socket for every Request I get (Client opens new socket every time and Java Serversocket accepts)\r\nor use a single socket and keep that during the client&#39;s runtime.","title":"Use Socket permantently to handle Clientsession or create new one for every request","body":"<p>So i am quite new to Sockets and I have to create a Server-Client-App for school.</p>\n\n<p>I expect a client to request something from the server multiple times during his runtime.</p>\n\n<p>I am uncertain wether I should make a new java.net.Socket for every Request I get (Client opens new socket every time and Java Serversocket accepts)\nor use a single socket and keep that during the client's runtime.</p>\n"},{"tags":["java","tcp","udp"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1679008996,"post_id":75761891,"comment_id":133648698,"body_markdown":"I&#39;m not going to read through your code dump, especially as you haven&#39;t formatted it, but it may be useful to know that if you write the same object twice to an ObjectOutputStream, the fields of the object are only written the first time, subsequently a reference to the first object is written. See the javadoc for `writeObject` and `reset`.","body":"I&#39;m not going to read through your code dump, especially as you haven&#39;t formatted it, but it may be useful to know that if you write the same object twice to an ObjectOutputStream, the fields of the object are only written the first time, subsequently a reference to the first object is written. See the javadoc for <code>writeObject</code> and <code>reset</code>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679064464,"post_id":75761891,"comment_id":133659028,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":28036679,"reputation":1,"user_id":21414954,"display_name":"Dexter2587"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679002952,"creation_date":1679002952,"question_id":75761891,"body_markdown":"The receiver will receive files via both TCP and UDP to the receiver.\r\n\r\nThe file storage location can be chosen by the receiver.\r\n\r\n\\*If the incoming data is larger than the buffer size, the data is received in -multiple packets, and each packet is stored in the buffer one after the other.\r\n\r\n@sources\r\n\r\n\\*/\r\n\r\nimport java.io.\\*; import java.net.DatagramPacket; import java.net.DatagramSocket; import java.net.InetAddress; import java.net.ServerSocket; import java.net.Socket; import java.nio.file.Files; import java.util.ArrayList; import java.util.Arrays; import java.util.Comparator; import java.util.HashMap; import java.util.Map; import java.util.TreeMap; import java.util.Map.Entry;\r\n\r\n/\\*TODO \\*measure incoming packet percentage, but need tcp implemented \\*process data received\r\n\r\n\\-API call to receive file location where to save\r\n\r\n\\*/ public class Receiver {\r\n\r\nprivate DatagramSocket socket; private byte\\[\\] buffer; private int bufferSize; private int port; private long totalBytesReceived; private long totalfilesize; private String filelocation; private boolean connected; private boolean connected1; int r; private Socket tcpSocket; private ObjectInputStream in; private ObjectOutputStream out; private InetAddress addr; private int udpPort; private int tcpPort; Boolean missingpackets; ServerSocket serverSocket; ByteArrayInputStream inStream; ObjectInputStream objInStream; private File f; DatagramPacket packet; numberedPacket receivedNumberedPacket; int length, burstCounter, packetSize, k; ArrayList\\&lt;Integer\\&gt; packetNumbers = new ArrayList\\&lt;Integer\\&gt;(); ArrayList\\&lt;Integer\\&gt; packetnumbersreceived = new ArrayList\\&lt;Integer\\&gt;();\r\n\r\n// buffer size is fixed size of packet // burst size is number of packets sent in burst public Receiver(int tcpPort, int udpPort) throws Exception { this.tcpPort = tcpPort; this.socket = new DatagramSocket(udpPort); // this.buffer = new byte\\[bufferSize\\]; this.connected = false;\r\n\r\n}\r\n\r\n// Not using anymore // public void receive() throws Exception { // DatagramPacket packet = new DatagramPacket(buffer, bufferSize); // socket.receive(packet);\r\n\r\n// // Process received packet // byte\\[\\] data = packet.getData(); // int offset = packet.getOffset(); // int length = packet.getLength(); // InetAddress address = packet.getAddress(); // int port = packet.getPort(); // long percentageloaded = 0; // // work out percentage of file received // percentageloaded = totalBytesReceived / totalfilesize; // updateGUI(percentageloaded); // // Print packet information // System.out.println(&quot;Received packet:&quot;); // System.out.println(&quot;Address: &quot; + address.getHostAddress()); // System.out.println(&quot;Port: &quot; + port); // System.out.println(&quot;Data: &quot; + new String(data, offset, length)); // System.out.println(&quot;Percentage of file received:&quot; + percentageloaded); // }\r\n\r\npublic boolean connect() {\r\n\r\n```\r\ntry {\r\n\t// Creating a server socket and binding it to the port\r\n\tserverSocket = new ServerSocket(tcpPort);\r\n\t// Waiting for a client to connect\r\n\tSystem.out.println(&quot;Waiting for client on port &quot; + serverSocket.getLocalPort() + &quot;...&quot;);\r\n\tSocket serverClientSocket = serverSocket.accept();\r\n\tSystem.out.println(&quot;Connected to client &quot; + serverClientSocket.getRemoteSocketAddress());\r\n\r\n\t// tcpSocket = new Socket(&quot;localhost&quot;, tcpPort);\r\n\t// udpSocket = new DatagramSocket();\r\n\t// initialise all sockets\r\n\tout = new ObjectOutputStream(serverClientSocket.getOutputStream());\r\n\tin = new ObjectInputStream(serverClientSocket.getInputStream());\r\n\tconnected = true;\r\n} catch (Exception e) {\r\n\t// System.err.println(&quot;Error connecting to &quot; + addr + &quot;:&quot; + tcpPort);\r\n\te.printStackTrace();\r\n\tSystem.exit(0);\r\n}\r\n\r\nreturn connected;\r\n```\r\n\r\n}\r\n\r\npublic void createFile1(String serverRoute) { try { // fileName must be an api call returning value String fileName; fileName = &quot;test.txt&quot;; System.out.println(&quot;Creating file&quot;); f = new File(serverRoute + &quot;\\\\&quot; + fileName); // Creating the file FileOutputStream outToFile = new FileOutputStream(f); // Creating the stream\r\n\r\n```\r\n\treceiveFile(serverRoute);\r\n} catch (Exception ex) {\r\n\tex.printStackTrace();\r\n\tSystem.exit(1);\r\n}\r\n```\r\n\r\n}\r\n\r\npublic void testBlocker(String path) throws Exception { // while (true) { TransferInfo infoIn = new TransferInfo(); infoIn = (TransferInfo) in.readObject(); // if (infoIn == null) receiveFile(path); // } }\r\n\r\nprivate FileOutputStream createFile(String fullPath) throws FileNotFoundException {\r\n\r\n```\r\nSystem.out.println(&quot;Creating file&quot;);\r\nf = new File(fullPath); // Creating the file\r\nreturn new FileOutputStream(f); // Creating the stream through which we write the file\r\n```\r\n\r\n}\r\n\r\n// TODO public static void updateGUI(double percentageloaded) { // must update gui whenever percentage of packet changes // do something with percentage return; }\r\n\r\n// receive file object public void receiveFile(String path) throws IOException, ClassNotFoundException { System.out.println(&quot;Receiving file&quot;);\r\n\r\n```\r\nMap&lt;Integer, byte[]&gt; packetMap = new HashMap&lt;&gt;();\r\n// Map&lt;Integer, Entry&lt;Action, Boolean&gt;&gt; actionMap = new HashMap&lt;String,\r\n// Entry&lt;Action, Boolean&gt;&gt;();\r\n\r\n// ArrayList&lt;Integer&gt; packetnumbersNotreceived = new ArrayList&lt;Integer&gt;();\r\nTransferInfo infoIn = new TransferInfo();\r\nTransferInfo infoOut = new TransferInfo();\r\nmissingpackets = false;\r\nint burstSize = 0, numpack = 0;\r\ndouble percentage = 0;\r\nString filename = &quot;&quot;;\r\ntotalfilesize = 0;\r\n\r\nburstCounter = 0;\r\npacketSize = 0;\r\n// receive first tcp here with vital info\r\nSystem.out.println(&quot;before first tcp&quot;);\r\ntry {\r\n\t\r\n\t\tinfoIn = (TransferInfo) in.readObject();\r\n\r\n\t\r\n\tpacketNumbers = infoIn.getPacketList();\r\n\t// totalNumPackets = packetNumbers.size();\r\n\ttotalfilesize = infoIn.getFileSize();\r\n\tburstSize = infoIn.getBurstSize();\r\n\tfilename = infoIn.getFileName();\r\n\tpacketSize = infoIn.getPacketSize();\r\n\t// buffer = new byte[packetSize];\r\n\t// numpack = infoIn.getPacketList().size();\r\n\tSystem.out.println(&quot;packet num: &quot; + packetNumbers + &quot; totalfilesize : &quot; + totalfilesize + &quot; burstSize : &quot;\r\n\t\t\t+ burstSize + &quot; &quot; + &quot;filename: &quot; + filename);\r\n} catch (Exception e) {\r\n\t// TODO: handle exception\r\n}\r\n\r\npacketNumbers = infoIn.getPacketList();\r\n\r\n// totalNumPackets = packetNumbers.size();\r\n// totalfilesize = infoIn.getFileSize();\r\n// burstSize = infoIn.getBurstSize();\r\n// filename = infoIn.getFileName();\r\n// packetSize = infoIn.getPacketSize();\r\n// buffer = new byte[packetSize];\r\n// numpack = infoIn.getPacketList().size();\r\n\r\n// Creates a new file with the filename at the specific path.\r\nFileOutputStream outToFile = createFile(path + &quot;\\\\&quot; + infoIn.getFileName());\r\n\r\nSystem.out.println(&quot;after first tcp&quot;);\r\n\r\nif (infoIn.isTcp) {\r\n\tSystem.out.println(&quot;Receiving from TCp&quot;);\r\n\r\n\tObjectInputStream ois = in;\r\n\tbyte[] content = (byte[]) ois.readObject();\r\n\tFiles.write(f.toPath(), content);\r\n} else { // UDP Transfer\r\n\t// serverSocket.close();\r\n\t// connected = false;\r\n\tSystem.out.println(&quot;Receiving from UDP&quot;);\r\n\t// FileLength is total file size received from tcp\r\n\r\n\twhile (totalBytesReceived &lt; totalfilesize) {\r\n\r\n\t\tThread tcpThread = new Thread(new Runnable() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\t// r = 0;\r\n\t\t\t\t// problem receiving multiple different tcp\r\n\t\t\t\ttry {\r\n\t\t\t\t\tTransferInfo infoIn1 = new TransferInfo();\r\n\t\t\t\t\tTransferInfo infoOut2 = new TransferInfo();\r\n\t\t\t\t\tsynchronized (in) {\r\n\t\t\t\t\tinfoIn1 = (TransferInfo) in.readObject();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tpacketNumbers = infoIn1.getPacketList();\r\n\t\t\t\t\tconnected1 = true;\r\n\t\t\t\t\t// System.out.println(&quot;tcp received&quot;);\r\n\t\t\t\t\tSystem.out.println(&quot;num times: &quot; + k);\r\n```\r\n\r\nSystem.out.println(&quot;arraylist of packets that I should have receivedtest: &quot; +infoIn1.getPacketList()); k++;\r\n\r\n```\r\n// give the inverse of the list received essentially\r\n// this returns an arraylist with packets still needed\r\n// packetNumbers is whats sent by Sender\r\n// packetnumbersreceived is what user has received\r\n\t\tfor (int i = 0; i &lt; packetNumbers.size(); i++) {\r\n\t\tint element = packetNumbers.get(i);\r\n\r\n\t\tif (!packetnumbersreceived.contains(element)) {\r\n\t\tinfoOut2.addPacket(element);\r\n\t\tSystem.out.println(&quot;this packet is missing&quot; + element);\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tSystem.out.println(&quot;\\n\\nleaving loop&quot;);\r\n\r\n\t\t\t\t\t// if packets missing set boolean\r\n\r\n\tmissingpackets = !infoOut2.getPacketList().isEmpty();\r\nSystem.out.println(&quot;these packet are missing now\\n&quot; + infoOut2.getPacketList());\r\n\r\n// communicate with sender regarding potential missing packets\r\n// no problem sending multiple tcp and is received by sender\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tSystem.out.println(&quot;r: &quot; + r);\r\n\t\t\t\t\t\tinfoOut2.addPacket(r);\r\n\t\t\t\t\t\tout.writeObject(infoOut2);\r\n\t\t\t\t\t\tr++;\r\n\t\t\t\t\t\tSystem.out.println(&quot;\\nsending TCP\\n&quot;);\r\n\t\t\t\t\t\t// Thread.sleep(10000000);\r\n\r\n\t\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\tSystem.exit(0);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// receive all missing packets before continuing\r\n\t\t\t\t\twhile (missingpackets) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;\\npackets are missing!!!\\n&quot;);\r\ntry {\r\n```\r\n\r\n// plus 80 (exactly) needed to contain data and wrapper in packet buffer = new byte\\[packetSize + 94\\]; packet = new DatagramPacket(buffer, buffer.length); socket.receive(packet);\r\n\r\n```\r\n\t\tbyte[] receivedData = packet.getData();\r\n\t\tinStream = new ByteArrayInputStream(receivedData);\r\n\t\t// will prob cause issues with mult objinputstr\r\n\t\tobjInStream = new ObjectInputStream(inStream);\r\n\t\treceivedNumberedPacket = (numberedPacket) objInStream.readObject();\r\n\t\t\t\t\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t\t\t\t\tthrow new RuntimeException(e);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t// socket.receive(packet);\r\n\t\t\tlength = receivedNumberedPacket.getData().length;\r\n\t\t\ttotalBytesReceived += length;\r\n\t\t\tburstCounter++;\r\n\t\t\t\t\t\tpacketnumbersreceived.add(receivedNumberedPacket.getId());\r\n\t\t\t\t\t\tpacketMap.put(receivedNumberedPacket.getId(), receivedNumberedPacket.getData());\r\n\r\n\t\t\t\t\t\t// listen for packets that are sent\r\n\t\t\t\ttry {\r\n\t\t\t\tsynchronized (in) {\r\n\t\t\tinfoIn1 (TransferInfo) in.readObject();\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\tpacketNumbers = infoIn1.getPacketList();\r\n\t\t\t\t\t\t} catch (ClassNotFoundException e) {\t\t\t\t\t\t\t\t\t\r\n```\r\n\r\n// TODO Auto-generated catch block e.printStackTrace(); }\r\n\r\n```\r\n\tfor (int i = 0; i &lt; packetNumbers.size(); i++) {\r\n\t\tint element = packetNumbers.get(i);\r\n\tif (!packetnumbersreceived.contains(element)) {\r\n\tinfoOut.addPacket(element);\r\n\t\t\t\t\t\t\t}\r\n\ttry {\r\n\t\tout.writeObject(infoOut);\r\n\t\t} catch (IOException e) {\r\n\t\te.printStackTrace();\r\n\t\tSystem.exit(0);\r\n\t\t\t\t\t\t\t}\r\n// if all missing packets received break out\r\n\tif (infoOut.getPacketList().isEmpty()) {\r\n\t\tmissingpackets = false;\r\n\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\tSystem.out.println(&quot;support: &quot; + in.markSupported());\r\n\r\n\t\t\t\t} catch (EOFException e) {\r\n\t\t\t\t\t// Handle the end of the stream\r\n\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tin.close();\r\n\t\t\t\t\t} catch (IOException ioException) {\r\n\t\t\t\t\t\tioException.printStackTrace();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// ...\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t// Handle the IO error\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t\t\t// Handle the class not found error\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// System.out.println(&quot;end of thread&quot;);\r\n\r\n\t\t\t}\r\n\t\t});\r\n\t\t// try {\r\n\t\t// Thread.sleep(50);\r\n\t\t// } catch (InterruptedException e) {\r\n\t\t// // TODO Auto-generated catch block\r\n\t\t// e.printStackTrace();\r\n\t\t// }\r\n\t\tSystem.out.println(&quot;listening for packets&quot;);\r\n\t\t// Receive packet and retrieve the data\r\n\t\t// System.out.println(&quot;\\ntest before&quot;);\r\n\t\tbyte[] buffer = new byte[packetSize + 94];\r\n\t\t// Arrays.fill(buffer, (byte) 0);\r\n\t\tpacket = new DatagramPacket(buffer, packetSize);\r\n\t\t// socket.receive(packet);\r\n\r\n\t\t// === modified ChatGPT code ==========\r\n\t\ttry {\r\n\t\t\t// System.out.println(&quot;Packet Size: &quot; + packetSize);\r\n\t\t// plus 80 (exactly) needed to contain data and wrapper in packet\r\n\t\t\tpacket = new DatagramPacket(buffer, buffer.length);\r\n\t\t\t// Arrays.fill(buffer, (byte) 0);\r\n\r\n\t\t\tsocket.receive(packet);\r\n\r\n\t\t\tSystem.out.println(&quot;packetlength: &quot; + packet.getLength());\r\n\r\n\t\t\tbyte[] receivedData = packet.getData();\r\n\tByteArrayInputStream inStream = new ByteArrayInputStream(receivedData);\r\n\r\n\t\t\tobjInStream = new ObjectInputStream(inStream);\r\n\treceivedNumberedPacket = (numberedPacket) objInStream.readObject();\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t\t// === modified ChatGPT code end =====\r\n\r\n\t\tburstCounter++;\r\n\t\t// packetnumbersreceived.add(packet.getOffset());\r\n\t\t\r\n\t\tpacketnumbersreceived.add(receivedNumberedPacket.getId());\r\n\t\t\r\n// System.out.println(&quot;ArrayList packetId received&quot; + packetnumbersreceived);\r\n\r\n\t\t// packetMap.put(packet.getOffset(), packet);\r\n\t\tif (receivedNumberedPacket.getId() == 9) {\r\n\t\t\tpacketnumbersreceived.remove(7);\r\n\t\t}\r\npacketMap.put(receivedNumberedPacket.getId(), receivedNumberedPacket.getData());\r\n\r\n\t\tlength = receivedNumberedPacket.getData().length;\r\n\t\t// int length1 = receivedNumberedPacket.getData().length;\r\n\t\ttotalBytesReceived += (long) length;\r\n\t\tSystem.out.println(&quot;in main loop for receiving &quot; + totalBytesReceived + &quot; sizetotal &quot; + totalfilesize);\r\n\t\tpercentage = (double) totalBytesReceived / totalfilesize * 100;\r\n\t\tif (percentage &gt; 100) {\r\n\t\t\tpercentage = 100;\r\n\t\t}\r\n\t\tupdateGUI(percentage);\r\n\t\tSystem.out.println(&quot;percentage received &quot; + (int) percentage);\r\n\t\t// receive another tcp then compare what i have to what i need\r\n\t\tSystem.out.println(&quot;burst counter \\n &quot; + (burstCounter - 1));\r\n\t\ttcpThread.start();\r\n\r\n\t\tif (connected1) {\r\n\t\t\tSystem.out.println(&quot;tcps file received&quot;);\r\n\t\t\t// TransferInfo infoIn1 = new TransferInfo();\r\n\t\t\t// infoIn1 = (TransferInfo) in.readObject();\r\n```\r\n\r\nSystem.out.println(&quot;arraylist of packets that I should have received in connected1: &quot; + infoIn.getPacketList()); // TCP has been received, wait for it to finish before continuing to receive // datagram packets // try { // tcpThread.join(); // } catch (InterruptedException e) { // e.printStackTrace(); // } } // tcpThread.interrupt();\r\n\r\n```\r\n\t\tif (totalBytesReceived &gt;= totalfilesize)\r\n\t\t\ttcpThread.interrupt();\r\n\r\n\t}\r\n}\r\nSystem.out.println(&quot;\\nfinished&quot;);\r\n// ChatGPT inspired, sorts all hashmap values regarding smallest packetid to\r\n// largest, then writes to file. This is necessary if packets order is messed up\r\n// Create a custom comparator to sort the HashMap by the offset value of the\r\n// DatagramPacket\r\nComparator&lt;Integer&gt; offsetComparator = new Comparator&lt;Integer&gt;() {\r\n\r\n\tpublic int compare(Integer key1, Integer key2) {\r\n\t\treturn key1.compareTo(key2);\r\n\t}\r\n};\r\n\r\n// Create a TreeMap with the custom comparator to sort the HashMap by offset\r\n// value\r\nMap&lt;Integer, byte[]&gt; sortedPacketMap = new TreeMap&lt;Integer, byte[]&gt;(\r\n\t\toffsetComparator);\r\nsortedPacketMap.putAll(packetMap);\r\n\r\n// Loop through the sorted TreeMap and write the data to file\r\nfor (Map.Entry&lt;Integer, byte[]&gt; entry : sortedPacketMap.entrySet()) {\r\n\r\n\t// DatagramPacket value = entry.getValue();\r\n\toutToFile.write(entry.getValue());\r\n}\r\n// socket.close();\r\noutToFile.close();\r\n// System.exit(0);\r\n```\r\n\r\n}\r\n\r\npublic static void updateGUI1(double percentageLoaded) { // must update gui whenever percentage of packet changes // do something with percentage // SenderGUIControl.updateProgressBar(percentageLoaded, bar, // senderLanding_pane); return; }\r\n\r\npublic static void main(String\\[\\] args) { String receiverAddress = &quot;localhost&quot;; int receiverUDPPort = 1234; int receiverTCPPort = 5678; try { Receiver test = new Receiver(receiverTCPPort, receiverUDPPort); test.connect();\r\n\r\n```\r\n\ttest.createFile1(receiverAddress);\r\n} catch (Exception e) {\r\n\t// TODO Auto-generated catch block\r\n\te.printStackTrace();\r\n}\r\n```\r\n\r\n}\r\n\r\n} \\` This is the receiver class of a program that transfers udp files with tcp signalling. My current implementation is that the sender has a burst size of number of packets that they send, once they reach the burst size they must send a tcp (using TransferInfo object) to the receiver with an arraylist of packet numbers that should have been received, the receiver then sends a tcp back to to the sender with an arraylist of packetnumbers that they didnt receive but should have, if there are missing packets, they are resent and the process continues until all packages are receieved succesfully. Basically the burst size is used to signify how often missing packages should be looked for.\r\n\r\nThis program works when all packets are received succesfully, however the TCP that the receiver receives gets the first arraylist of packet numbers succesfully but subsequent TCP TransferInfoObjects are all the same.\r\n\r\nsynchronized (in) { infoIn1 = (TransferInfo) in.readObject(); } This works correctly when the burst size is first reached, the arraylist of packets received if the burst size is 3 would be Arraylist(1,2,3) but lets say I send 9 packets and the burst size is reached 3 times, I receive the same Arraylist(1,2,3) every burst size reached, when it should be Arraylist(1,2,3) iteration 1, Arraylist(1,2,3,4,5,6) iteration 2, Arraylist(1,2,3,4,5,6,7,8,9) iteration 3. Why is infoIn1 = (TransferInfo) in.readObject(); reading in the same object and not receiving the new object correctly, I&#39;ve checked sender side and it does send the correct packetnumbers via tcp theyre just no received. Please Help.TransferInfo infoOut1 = new TransferInfo(); //add packet to arraylist to send, would add 1 to arraylist for eg infoOut1.addPacket(1);\r\n\r\n```\r\n                System.out.println(&quot;packets sent &quot; + infoOut1.getPacketList());\r\n                out.writeObject(infoOut1);\r\n\r\n                out.flush();`\r\n```","title":"In.readObject continues reading in same object when a new object is received","body":"<p>The receiver will receive files via both TCP and UDP to the receiver.</p>\n<p>The file storage location can be chosen by the receiver.</p>\n<p>*If the incoming data is larger than the buffer size, the data is received in -multiple packets, and each packet is stored in the buffer one after the other.</p>\n<p>@sources</p>\n<p>*/</p>\n<p>import java.io.*; import java.net.DatagramPacket; import java.net.DatagramSocket; import java.net.InetAddress; import java.net.ServerSocket; import java.net.Socket; import java.nio.file.Files; import java.util.ArrayList; import java.util.Arrays; import java.util.Comparator; import java.util.HashMap; import java.util.Map; import java.util.TreeMap; import java.util.Map.Entry;</p>\n<p>/*TODO *measure incoming packet percentage, but need tcp implemented *process data received</p>\n<p>-API call to receive file location where to save</p>\n<p>*/ public class Receiver {</p>\n<p>private DatagramSocket socket; private byte[] buffer; private int bufferSize; private int port; private long totalBytesReceived; private long totalfilesize; private String filelocation; private boolean connected; private boolean connected1; int r; private Socket tcpSocket; private ObjectInputStream in; private ObjectOutputStream out; private InetAddress addr; private int udpPort; private int tcpPort; Boolean missingpackets; ServerSocket serverSocket; ByteArrayInputStream inStream; ObjectInputStream objInStream; private File f; DatagramPacket packet; numberedPacket receivedNumberedPacket; int length, burstCounter, packetSize, k; ArrayList&lt;Integer&gt; packetNumbers = new ArrayList&lt;Integer&gt;(); ArrayList&lt;Integer&gt; packetnumbersreceived = new ArrayList&lt;Integer&gt;();</p>\n<p>// buffer size is fixed size of packet // burst size is number of packets sent in burst public Receiver(int tcpPort, int udpPort) throws Exception { this.tcpPort = tcpPort; this.socket = new DatagramSocket(udpPort); // this.buffer = new byte[bufferSize]; this.connected = false;</p>\n<p>}</p>\n<p>// Not using anymore // public void receive() throws Exception { // DatagramPacket packet = new DatagramPacket(buffer, bufferSize); // socket.receive(packet);</p>\n<p>// // Process received packet // byte[] data = packet.getData(); // int offset = packet.getOffset(); // int length = packet.getLength(); // InetAddress address = packet.getAddress(); // int port = packet.getPort(); // long percentageloaded = 0; // // work out percentage of file received // percentageloaded = totalBytesReceived / totalfilesize; // updateGUI(percentageloaded); // // Print packet information // System.out.println(&quot;Received packet:&quot;); // System.out.println(&quot;Address: &quot; + address.getHostAddress()); // System.out.println(&quot;Port: &quot; + port); // System.out.println(&quot;Data: &quot; + new String(data, offset, length)); // System.out.println(&quot;Percentage of file received:&quot; + percentageloaded); // }</p>\n<p>public boolean connect() {</p>\n<pre><code>try {\n    // Creating a server socket and binding it to the port\n    serverSocket = new ServerSocket(tcpPort);\n    // Waiting for a client to connect\n    System.out.println(&quot;Waiting for client on port &quot; + serverSocket.getLocalPort() + &quot;...&quot;);\n    Socket serverClientSocket = serverSocket.accept();\n    System.out.println(&quot;Connected to client &quot; + serverClientSocket.getRemoteSocketAddress());\n\n    // tcpSocket = new Socket(&quot;localhost&quot;, tcpPort);\n    // udpSocket = new DatagramSocket();\n    // initialise all sockets\n    out = new ObjectOutputStream(serverClientSocket.getOutputStream());\n    in = new ObjectInputStream(serverClientSocket.getInputStream());\n    connected = true;\n} catch (Exception e) {\n    // System.err.println(&quot;Error connecting to &quot; + addr + &quot;:&quot; + tcpPort);\n    e.printStackTrace();\n    System.exit(0);\n}\n\nreturn connected;\n</code></pre>\n<p>}</p>\n<p>public void createFile1(String serverRoute) { try { // fileName must be an api call returning value String fileName; fileName = &quot;test.txt&quot;; System.out.println(&quot;Creating file&quot;); f = new File(serverRoute + &quot;\\&quot; + fileName); // Creating the file FileOutputStream outToFile = new FileOutputStream(f); // Creating the stream</p>\n<pre><code>    receiveFile(serverRoute);\n} catch (Exception ex) {\n    ex.printStackTrace();\n    System.exit(1);\n}\n</code></pre>\n<p>}</p>\n<p>public void testBlocker(String path) throws Exception { // while (true) { TransferInfo infoIn = new TransferInfo(); infoIn = (TransferInfo) in.readObject(); // if (infoIn == null) receiveFile(path); // } }</p>\n<p>private FileOutputStream createFile(String fullPath) throws FileNotFoundException {</p>\n<pre><code>System.out.println(&quot;Creating file&quot;);\nf = new File(fullPath); // Creating the file\nreturn new FileOutputStream(f); // Creating the stream through which we write the file\n</code></pre>\n<p>}</p>\n<p>// TODO public static void updateGUI(double percentageloaded) { // must update gui whenever percentage of packet changes // do something with percentage return; }</p>\n<p>// receive file object public void receiveFile(String path) throws IOException, ClassNotFoundException { System.out.println(&quot;Receiving file&quot;);</p>\n<pre><code>Map&lt;Integer, byte[]&gt; packetMap = new HashMap&lt;&gt;();\n// Map&lt;Integer, Entry&lt;Action, Boolean&gt;&gt; actionMap = new HashMap&lt;String,\n// Entry&lt;Action, Boolean&gt;&gt;();\n\n// ArrayList&lt;Integer&gt; packetnumbersNotreceived = new ArrayList&lt;Integer&gt;();\nTransferInfo infoIn = new TransferInfo();\nTransferInfo infoOut = new TransferInfo();\nmissingpackets = false;\nint burstSize = 0, numpack = 0;\ndouble percentage = 0;\nString filename = &quot;&quot;;\ntotalfilesize = 0;\n\nburstCounter = 0;\npacketSize = 0;\n// receive first tcp here with vital info\nSystem.out.println(&quot;before first tcp&quot;);\ntry {\n    \n        infoIn = (TransferInfo) in.readObject();\n\n    \n    packetNumbers = infoIn.getPacketList();\n    // totalNumPackets = packetNumbers.size();\n    totalfilesize = infoIn.getFileSize();\n    burstSize = infoIn.getBurstSize();\n    filename = infoIn.getFileName();\n    packetSize = infoIn.getPacketSize();\n    // buffer = new byte[packetSize];\n    // numpack = infoIn.getPacketList().size();\n    System.out.println(&quot;packet num: &quot; + packetNumbers + &quot; totalfilesize : &quot; + totalfilesize + &quot; burstSize : &quot;\n            + burstSize + &quot; &quot; + &quot;filename: &quot; + filename);\n} catch (Exception e) {\n    // TODO: handle exception\n}\n\npacketNumbers = infoIn.getPacketList();\n\n// totalNumPackets = packetNumbers.size();\n// totalfilesize = infoIn.getFileSize();\n// burstSize = infoIn.getBurstSize();\n// filename = infoIn.getFileName();\n// packetSize = infoIn.getPacketSize();\n// buffer = new byte[packetSize];\n// numpack = infoIn.getPacketList().size();\n\n// Creates a new file with the filename at the specific path.\nFileOutputStream outToFile = createFile(path + &quot;\\\\&quot; + infoIn.getFileName());\n\nSystem.out.println(&quot;after first tcp&quot;);\n\nif (infoIn.isTcp) {\n    System.out.println(&quot;Receiving from TCp&quot;);\n\n    ObjectInputStream ois = in;\n    byte[] content = (byte[]) ois.readObject();\n    Files.write(f.toPath(), content);\n} else { // UDP Transfer\n    // serverSocket.close();\n    // connected = false;\n    System.out.println(&quot;Receiving from UDP&quot;);\n    // FileLength is total file size received from tcp\n\n    while (totalBytesReceived &lt; totalfilesize) {\n\n        Thread tcpThread = new Thread(new Runnable() {\n\n            @Override\n            public void run() {\n                // r = 0;\n                // problem receiving multiple different tcp\n                try {\n                    TransferInfo infoIn1 = new TransferInfo();\n                    TransferInfo infoOut2 = new TransferInfo();\n                    synchronized (in) {\n                    infoIn1 = (TransferInfo) in.readObject();\n                    }\n                    packetNumbers = infoIn1.getPacketList();\n                    connected1 = true;\n                    // System.out.println(&quot;tcp received&quot;);\n                    System.out.println(&quot;num times: &quot; + k);\n</code></pre>\n<p>System.out.println(&quot;arraylist of packets that I should have receivedtest: &quot; +infoIn1.getPacketList()); k++;</p>\n<pre><code>// give the inverse of the list received essentially\n// this returns an arraylist with packets still needed\n// packetNumbers is whats sent by Sender\n// packetnumbersreceived is what user has received\n        for (int i = 0; i &lt; packetNumbers.size(); i++) {\n        int element = packetNumbers.get(i);\n\n        if (!packetnumbersreceived.contains(element)) {\n        infoOut2.addPacket(element);\n        System.out.println(&quot;this packet is missing&quot; + element);\n\n                        }\n                    }\n                    System.out.println(&quot;\\n\\nleaving loop&quot;);\n\n                    // if packets missing set boolean\n\n    missingpackets = !infoOut2.getPacketList().isEmpty();\nSystem.out.println(&quot;these packet are missing now\\n&quot; + infoOut2.getPacketList());\n\n// communicate with sender regarding potential missing packets\n// no problem sending multiple tcp and is received by sender\n                    try {\n                        System.out.println(&quot;r: &quot; + r);\n                        infoOut2.addPacket(r);\n                        out.writeObject(infoOut2);\n                        r++;\n                        System.out.println(&quot;\\nsending TCP\\n&quot;);\n                        // Thread.sleep(10000000);\n\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                        System.exit(0);\n                    }\n                    // receive all missing packets before continuing\n                    while (missingpackets) {\n                        System.out.println(&quot;\\npackets are missing!!!\\n&quot;);\ntry {\n</code></pre>\n<p>// plus 80 (exactly) needed to contain data and wrapper in packet buffer = new byte[packetSize + 94]; packet = new DatagramPacket(buffer, buffer.length); socket.receive(packet);</p>\n<pre><code>        byte[] receivedData = packet.getData();\n        inStream = new ByteArrayInputStream(receivedData);\n        // will prob cause issues with mult objinputstr\n        objInStream = new ObjectInputStream(inStream);\n        receivedNumberedPacket = (numberedPacket) objInStream.readObject();\n                        } catch (ClassNotFoundException e) {\n                            throw new RuntimeException(e);\n                        }\n\n            // socket.receive(packet);\n            length = receivedNumberedPacket.getData().length;\n            totalBytesReceived += length;\n            burstCounter++;\n                        packetnumbersreceived.add(receivedNumberedPacket.getId());\n                        packetMap.put(receivedNumberedPacket.getId(), receivedNumberedPacket.getData());\n\n                        // listen for packets that are sent\n                try {\n                synchronized (in) {\n            infoIn1 (TransferInfo) in.readObject();\n\n                            }\n        packetNumbers = infoIn1.getPacketList();\n                        } catch (ClassNotFoundException e) {                                    \n</code></pre>\n<p>// TODO Auto-generated catch block e.printStackTrace(); }</p>\n<pre><code>    for (int i = 0; i &lt; packetNumbers.size(); i++) {\n        int element = packetNumbers.get(i);\n    if (!packetnumbersreceived.contains(element)) {\n    infoOut.addPacket(element);\n                            }\n    try {\n        out.writeObject(infoOut);\n        } catch (IOException e) {\n        e.printStackTrace();\n        System.exit(0);\n                            }\n// if all missing packets received break out\n    if (infoOut.getPacketList().isEmpty()) {\n        missingpackets = false;\n        break;\n                            }\n                        }\n                    }\n        System.out.println(&quot;support: &quot; + in.markSupported());\n\n                } catch (EOFException e) {\n                    // Handle the end of the stream\n\n                    try {\n                        in.close();\n                    } catch (IOException ioException) {\n                        ioException.printStackTrace();\n                    }\n\n                    // ...\n                } catch (IOException e) {\n                    // Handle the IO error\n                    e.printStackTrace();\n                } catch (ClassNotFoundException e) {\n                    // Handle the class not found error\n                    e.printStackTrace();\n                }\n\n                // System.out.println(&quot;end of thread&quot;);\n\n            }\n        });\n        // try {\n        // Thread.sleep(50);\n        // } catch (InterruptedException e) {\n        // // TODO Auto-generated catch block\n        // e.printStackTrace();\n        // }\n        System.out.println(&quot;listening for packets&quot;);\n        // Receive packet and retrieve the data\n        // System.out.println(&quot;\\ntest before&quot;);\n        byte[] buffer = new byte[packetSize + 94];\n        // Arrays.fill(buffer, (byte) 0);\n        packet = new DatagramPacket(buffer, packetSize);\n        // socket.receive(packet);\n\n        // === modified ChatGPT code ==========\n        try {\n            // System.out.println(&quot;Packet Size: &quot; + packetSize);\n        // plus 80 (exactly) needed to contain data and wrapper in packet\n            packet = new DatagramPacket(buffer, buffer.length);\n            // Arrays.fill(buffer, (byte) 0);\n\n            socket.receive(packet);\n\n            System.out.println(&quot;packetlength: &quot; + packet.getLength());\n\n            byte[] receivedData = packet.getData();\n    ByteArrayInputStream inStream = new ByteArrayInputStream(receivedData);\n\n            objInStream = new ObjectInputStream(inStream);\n    receivedNumberedPacket = (numberedPacket) objInStream.readObject();\n        } catch (ClassNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n        // === modified ChatGPT code end =====\n\n        burstCounter++;\n        // packetnumbersreceived.add(packet.getOffset());\n        \n        packetnumbersreceived.add(receivedNumberedPacket.getId());\n        \n// System.out.println(&quot;ArrayList packetId received&quot; + packetnumbersreceived);\n\n        // packetMap.put(packet.getOffset(), packet);\n        if (receivedNumberedPacket.getId() == 9) {\n            packetnumbersreceived.remove(7);\n        }\npacketMap.put(receivedNumberedPacket.getId(), receivedNumberedPacket.getData());\n\n        length = receivedNumberedPacket.getData().length;\n        // int length1 = receivedNumberedPacket.getData().length;\n        totalBytesReceived += (long) length;\n        System.out.println(&quot;in main loop for receiving &quot; + totalBytesReceived + &quot; sizetotal &quot; + totalfilesize);\n        percentage = (double) totalBytesReceived / totalfilesize * 100;\n        if (percentage &gt; 100) {\n            percentage = 100;\n        }\n        updateGUI(percentage);\n        System.out.println(&quot;percentage received &quot; + (int) percentage);\n        // receive another tcp then compare what i have to what i need\n        System.out.println(&quot;burst counter \\n &quot; + (burstCounter - 1));\n        tcpThread.start();\n\n        if (connected1) {\n            System.out.println(&quot;tcps file received&quot;);\n            // TransferInfo infoIn1 = new TransferInfo();\n            // infoIn1 = (TransferInfo) in.readObject();\n</code></pre>\n<p>System.out.println(&quot;arraylist of packets that I should have received in connected1: &quot; + infoIn.getPacketList()); // TCP has been received, wait for it to finish before continuing to receive // datagram packets // try { // tcpThread.join(); // } catch (InterruptedException e) { // e.printStackTrace(); // } } // tcpThread.interrupt();</p>\n<pre><code>        if (totalBytesReceived &gt;= totalfilesize)\n            tcpThread.interrupt();\n\n    }\n}\nSystem.out.println(&quot;\\nfinished&quot;);\n// ChatGPT inspired, sorts all hashmap values regarding smallest packetid to\n// largest, then writes to file. This is necessary if packets order is messed up\n// Create a custom comparator to sort the HashMap by the offset value of the\n// DatagramPacket\nComparator&lt;Integer&gt; offsetComparator = new Comparator&lt;Integer&gt;() {\n\n    public int compare(Integer key1, Integer key2) {\n        return key1.compareTo(key2);\n    }\n};\n\n// Create a TreeMap with the custom comparator to sort the HashMap by offset\n// value\nMap&lt;Integer, byte[]&gt; sortedPacketMap = new TreeMap&lt;Integer, byte[]&gt;(\n        offsetComparator);\nsortedPacketMap.putAll(packetMap);\n\n// Loop through the sorted TreeMap and write the data to file\nfor (Map.Entry&lt;Integer, byte[]&gt; entry : sortedPacketMap.entrySet()) {\n\n    // DatagramPacket value = entry.getValue();\n    outToFile.write(entry.getValue());\n}\n// socket.close();\noutToFile.close();\n// System.exit(0);\n</code></pre>\n<p>}</p>\n<p>public static void updateGUI1(double percentageLoaded) { // must update gui whenever percentage of packet changes // do something with percentage // SenderGUIControl.updateProgressBar(percentageLoaded, bar, // senderLanding_pane); return; }</p>\n<p>public static void main(String[] args) { String receiverAddress = &quot;localhost&quot;; int receiverUDPPort = 1234; int receiverTCPPort = 5678; try { Receiver test = new Receiver(receiverTCPPort, receiverUDPPort); test.connect();</p>\n<pre><code>    test.createFile1(receiverAddress);\n} catch (Exception e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n</code></pre>\n<p>}</p>\n<p>} ` This is the receiver class of a program that transfers udp files with tcp signalling. My current implementation is that the sender has a burst size of number of packets that they send, once they reach the burst size they must send a tcp (using TransferInfo object) to the receiver with an arraylist of packet numbers that should have been received, the receiver then sends a tcp back to to the sender with an arraylist of packetnumbers that they didnt receive but should have, if there are missing packets, they are resent and the process continues until all packages are receieved succesfully. Basically the burst size is used to signify how often missing packages should be looked for.</p>\n<p>This program works when all packets are received succesfully, however the TCP that the receiver receives gets the first arraylist of packet numbers succesfully but subsequent TCP TransferInfoObjects are all the same.</p>\n<p>synchronized (in) { infoIn1 = (TransferInfo) in.readObject(); } This works correctly when the burst size is first reached, the arraylist of packets received if the burst size is 3 would be Arraylist(1,2,3) but lets say I send 9 packets and the burst size is reached 3 times, I receive the same Arraylist(1,2,3) every burst size reached, when it should be Arraylist(1,2,3) iteration 1, Arraylist(1,2,3,4,5,6) iteration 2, Arraylist(1,2,3,4,5,6,7,8,9) iteration 3. Why is infoIn1 = (TransferInfo) in.readObject(); reading in the same object and not receiving the new object correctly, I've checked sender side and it does send the correct packetnumbers via tcp theyre just no received. Please Help.TransferInfo infoOut1 = new TransferInfo(); //add packet to arraylist to send, would add 1 to arraylist for eg infoOut1.addPacket(1);</p>\n<pre><code>                System.out.println(&quot;packets sent &quot; + infoOut1.getPacketList());\n                out.writeObject(infoOut1);\n\n                out.flush();`\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1678997539,"post_id":75760499,"comment_id":133646490,"body_markdown":"Please post the full error message when `ElementClickInterceptedException` is thrown. That will tell us which element is intercepting the click.","body":"Please post the full error message when <code>ElementClickInterceptedException</code> is thrown. That will tell us which element is intercepting the click."},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1678998527,"post_id":75760499,"comment_id":133646723,"body_markdown":"_`ElementClickInterceptedException`_: Update the question with the complete error stacktrace.","body":"<i><code>ElementClickInterceptedException</code></i>: Update the question with the complete error stacktrace."},{"owner":{"account_id":1669643,"reputation":526,"user_id":1536343,"display_name":"Je Je"},"score":0,"creation_date":1679000146,"post_id":75760499,"comment_id":133647024,"body_markdown":"if you don&#39;t HAVE to use selenium, I would recommand that you try playwright. Both are great, but I&#39;ve had better results in general with it. just in case","body":"if you don&#39;t HAVE to use selenium, I would recommand that you try playwright. Both are great, but I&#39;ve had better results in general with it. just in case"}],"answers":[{"tags":[],"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678998072,"creation_date":1678998072,"answer_id":75761305,"question_id":75760499,"body_markdown":"Selenium IS waiting for the element to be clickable but it is not aware that another element is blocking the click until that click is attempted. There are two solutions to this problem:\r\n\r\n1. You can use a JS click to click `submitButton`.\r\n\r\n       WebElement submitButton = driver.findElement(By.cssSelector(&quot;.totalRow button&quot;));\r\n       JavascriptExecutor js = (JavascriptExecutor) driver;\r\n       js.executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, submitButton);\r\n       w.until(ExpectedConditions.elementToBeClickable(submitButton));\r\n       js.executeScript(&quot;arguments[0].click();&quot;, submitButton);\r\n\r\n   If you are creating UI test scripts, don&#39;t use this. Using a JS click will allow the script to click elements that a normal user will not be able to click. If you are just doing webscraping, etc. where you aren&#39;t trying to simulate actual user behavior, this method is fine.\r\n\r\n1. Wait for the blocking element to be invisible. You&#39;ll know which element is blocking the click because the HTML of that element will be in the exception message.\r\n\r\n       WebElement submitButton = driver.findElement(By.cssSelector(&quot;.totalRow button&quot;));\r\n       ((JavascriptExecutor)driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, submitButton);\r\n       By blockingElementLocator = ...;\r\n       w.until(ExpectedConditions.invisibilityOfElementLocated(blockingElementLocator));\r\n       w.until(ExpectedConditions.elementToBeClickable(submitButton)).click();","title":"Selenium button click does not wait until JavascriptExecutor scroll down finishes. That leads to ElementClickIntercepted error","body":"<p>Selenium IS waiting for the element to be clickable but it is not aware that another element is blocking the click until that click is attempted. There are two solutions to this problem:</p>\n<ol>\n<li><p>You can use a JS click to click <code>submitButton</code>.</p>\n<pre><code>WebElement submitButton = driver.findElement(By.cssSelector(&quot;.totalRow button&quot;));\nJavascriptExecutor js = (JavascriptExecutor) driver;\njs.executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, submitButton);\nw.until(ExpectedConditions.elementToBeClickable(submitButton));\njs.executeScript(&quot;arguments[0].click();&quot;, submitButton);\n</code></pre>\n<p>If you are creating UI test scripts, don't use this. Using a JS click will allow the script to click elements that a normal user will not be able to click. If you are just doing webscraping, etc. where you aren't trying to simulate actual user behavior, this method is fine.</p>\n</li>\n<li><p>Wait for the blocking element to be invisible. You'll know which element is blocking the click because the HTML of that element will be in the exception message.</p>\n<pre><code>WebElement submitButton = driver.findElement(By.cssSelector(&quot;.totalRow button&quot;));\n((JavascriptExecutor)driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, submitButton);\nBy blockingElementLocator = ...;\nw.until(ExpectedConditions.invisibilityOfElementLocated(blockingElementLocator));\nw.until(ExpectedConditions.elementToBeClickable(submitButton)).click();\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679002809,"creation_date":1678999557,"answer_id":75761477,"question_id":75760499,"body_markdown":"I don&#39;t see any major issue in your code as such. The complete error stacktrace would have helped us to understand exactly which element intercepts the click throwing _`ElementClickInterceptedException`_.\r\n\r\nHowever, a minor improvement would be to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the [_visibilityOfElementLocated()_](https://stackoverflow.com/a/49749804/7429447) before you attempt to [`scrollIntoView()`](https://stackoverflow.com/a/58537189/7429447) as follows:\r\n\r\n\t((JavascriptExecutor)driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;.totalRow button&quot;))));\r\n\tnew WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;.totalRow button&quot;))).click();","title":"Selenium button click does not wait until JavascriptExecutor scroll down finishes. That leads to ElementClickIntercepted error","body":"<p>I don't see any major issue in your code as such. The complete error stacktrace would have helped us to understand exactly which element intercepts the click throwing <em><code>ElementClickInterceptedException</code></em>.</p>\n<p>However, a minor improvement would be to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/a/49749804/7429447\"><em>visibilityOfElementLocated()</em></a> before you attempt to <a href=\"https://stackoverflow.com/a/58537189/7429447\"><code>scrollIntoView()</code></a> as follows:</p>\n<pre><code>((JavascriptExecutor)driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;.totalRow button&quot;))));\nnew WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;.totalRow button&quot;))).click();\n</code></pre>\n"}],"owner":{"account_id":28035674,"reputation":1,"user_id":21414103,"display_name":"Pooja"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1679002809,"creation_date":1678992498,"question_id":75760499,"body_markdown":"I am trying to click on button which is not viewable on to the screen so that first I have to scroll the window and then perform click operation, but before scrolling entirely happens using `JavascriptExecutor`, Selenium tries to click on button which leads to `ElementClickInterceptedException`.\r\n\r\n    WebElement submitButton = driver.findElement(By.cssSelector(&quot;.totalRow button&quot;));\r\n    ((JavascriptExecutor)driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, submitButton);\r\n    w.until(ExpectedConditions.elementToBeClickable(submitButton));\r\n    submitButton.click();\r\n\r\nIf I use `Thread.sleep(5000)` after scrolling this issue does not happen, but I do not want to use that. I tried using `JavascriptExecutor` and `Action` class that did not work either.","title":"Selenium button click does not wait until JavascriptExecutor scroll down finishes. That leads to ElementClickIntercepted error","body":"<p>I am trying to click on button which is not viewable on to the screen so that first I have to scroll the window and then perform click operation, but before scrolling entirely happens using <code>JavascriptExecutor</code>, Selenium tries to click on button which leads to <code>ElementClickInterceptedException</code>.</p>\n<pre><code>WebElement submitButton = driver.findElement(By.cssSelector(&quot;.totalRow button&quot;));\n((JavascriptExecutor)driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, submitButton);\nw.until(ExpectedConditions.elementToBeClickable(submitButton));\nsubmitButton.click();\n</code></pre>\n<p>If I use <code>Thread.sleep(5000)</code> after scrolling this issue does not happen, but I do not want to use that. I tried using <code>JavascriptExecutor</code> and <code>Action</code> class that did not work either.</p>\n"},{"tags":["java","spring","spring-boot","caching","caffeine"],"comments":[{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1558449712,"post_id":56239146,"comment_id":99100298,"body_markdown":"This was how the Guava support worked and only minor changes were made for migrating to Caffeine. There is an interesting [approach](https://github.com/ben-manes/caffeine/issues/311#issuecomment-478552898) if you use a custom adapter.","body":"This was how the Guava support worked and only minor changes were made for migrating to Caffeine. There is an interesting <a href=\"https://github.com/ben-manes/caffeine/issues/311#issuecomment-478552898\" rel=\"nofollow noreferrer\">approach</a> if you use a custom adapter."},{"owner":{"account_id":7748730,"reputation":1941,"user_id":8027026,"display_name":"Paul Benn"},"score":0,"creation_date":1558507254,"post_id":56239146,"comment_id":99118890,"body_markdown":"Hi Ben, pleasure to see you here :) I&#39;ve read through the issue and it seems your view on this is that we should be using the provider directly. The poster&#39;s solution is quite clever and I&#39;ll look into it further. I have a follow-up question - using your approach, where would you say is the best practice to place the cache definition itself? In the class where it&#39;s used? In a configuration class which makes it available for injection? Somewhere else?","body":"Hi Ben, pleasure to see you here :) I&#39;ve read through the issue and it seems your view on this is that we should be using the provider directly. The poster&#39;s solution is quite clever and I&#39;ll look into it further. I have a follow-up question - using your approach, where would you say is the best practice to place the cache definition itself? In the class where it&#39;s used? In a configuration class which makes it available for injection? Somewhere else?"},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":1,"creation_date":1558508376,"post_id":56239146,"comment_id":99119417,"body_markdown":"I use Guice at work, which is much less AOP minded and plain old Java. I’ll define the spec in a configuration file, parse into and inject a CaffeineSpec, build in the class with a private method as the loader, and register it into the metrics reporter. I might use map computations or asynchronous caching, etc. Other times I define it in the class when not configurable, like a weak keyed cache for an internal lifecycle. I don’t find using a library directly feels dirty and an AOP abstraction appears limiting or not helpful for my uses. But I haven’t used Spring since 1.x so my habits differ.","body":"I use Guice at work, which is much less AOP minded and plain old Java. I’ll define the spec in a configuration file, parse into and inject a CaffeineSpec, build in the class with a private method as the loader, and register it into the metrics reporter. I might use map computations or asynchronous caching, etc. Other times I define it in the class when not configurable, like a weak keyed cache for an internal lifecycle. I don’t find using a library directly feels dirty and an AOP abstraction appears limiting or not helpful for my uses. But I haven’t used Spring since 1.x so my habits differ."},{"owner":{"account_id":448545,"reputation":2006,"user_id":842800,"accept_rate":59,"display_name":"ant-depalma"},"score":0,"creation_date":1641592986,"post_id":56239146,"comment_id":124853566,"body_markdown":"I know this is an old thread but I implemented this behavior without a LoadingCache. I used Springs @Scheduled(fixedDelay = 1000, intitialDelay = 0) and @CachePut annotations on method that returns the updated value of an expensive call (in conjunction with another method that uses standard @Cacheable). Of course it only works if you don&#39;t need a specific cache key (like caching a big collection of data)","body":"I know this is an old thread but I implemented this behavior without a LoadingCache. I used Springs @Scheduled(fixedDelay = 1000, intitialDelay = 0) and @CachePut annotations on method that returns the updated value of an expensive call (in conjunction with another method that uses standard @Cacheable). Of course it only works if you don&#39;t need a specific cache key (like caching a big collection of data)"}],"answers":[{"tags":[],"owner":{"account_id":3642026,"reputation":571,"user_id":3035905,"display_name":"Laurent"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679002775,"creation_date":1679002775,"answer_id":75761869,"question_id":56239146,"body_markdown":"To define a Caffeine LoadingCache&lt;K, V&gt; for use with Spring&#39;s @Cacheable annotation, you can create a custom implementation of Cache that wraps a Caffeine LoadingCache. Here&#39;s an example implementation:\r\n\r\n    import org.springframework.cache.Cache;\r\n    import org.springframework.cache.support.SimpleValueWrapper;\r\n    import java.util.concurrent.Callable;\r\n    import com.github.benmanes.caffeine.cache.LoadingCache;\r\n\r\n    public class CaffeineCache implements Cache {\r\n\r\n        private final String name;\r\n        private final LoadingCache&lt;Object, Object&gt; cache;\r\n\r\n        public CaffeineCache(String name, LoadingCache&lt;Object, Object&gt; cache) {\r\n            this.name = name;\r\n            this.cache = cache;\r\n        }\r\n\r\n        @Override\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        @Override\r\n        public Object getNativeCache() {\r\n            return cache;\r\n        }\r\n\r\n        @Override\r\n        public ValueWrapper get(Object key) {\r\n            Object value = cache.getIfPresent(key);\r\n            return (value != null ? new SimpleValueWrapper(value) : null);\r\n        }\r\n\r\n        @Override\r\n        public &lt;T&gt; T get(Object key, Class&lt;T&gt; type) {\r\n            Object value = cache.getIfPresent(key);\r\n            if (value != null &amp;&amp; type != null &amp;&amp; !type.isInstance(value)) {\r\n                throw new IllegalStateException(&quot;Cached value is not of required type [&quot; + type.getName() + &quot;]: &quot; + value);\r\n            }\r\n            return (T) value;\r\n        }\r\n\r\n        @Override\r\n        public void put(Object key, Object value) {\r\n            cache.put(key, value);\r\n        }\r\n\r\n        @Override\r\n        public void evict(Object key) {\r\n            cache.invalidate(key);\r\n        }\r\n\r\n        @Override\r\n        public void clear() {\r\n            cache.invalidateAll();\r\n        }\r\n\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        @Override\r\n        public &lt;T&gt; T get(Object key, Callable&lt;T&gt; valueLoader) {\r\n            try {\r\n                Object value = cache.get(key, k -&gt; valueLoader.call());\r\n                if (value != null &amp;&amp; !value.getClass().isAssignableFrom(valueLoader.getClass())) {\r\n                    throw new IllegalStateException(&quot;Cached value is not of required type [&quot; + valueLoader.getClass().getName() + &quot;]: &quot; + value);\r\n                }\r\n                return (T) value;\r\n            } catch (Exception ex) {\r\n                throw new ValueRetrievalException(key, valueLoader, ex);\r\n            }\r\n        }\r\n    }\r\n\r\nThen you can register your cache as a Spring bean and use it with the @Cacheable annotation like this:\r\n\r\n    @Bean\r\n    public Cache myCache() {\r\n        LoadingCache&lt;MyKey, MyValue&gt; cache = Caffeine.newBuilder()\r\n            .refreshAfterWrite(1, TimeUnit.MINUTES)\r\n            .build(loadStuffOverHttp());\r\n        return new CaffeineCache(&quot;myCache&quot;, cache);\r\n    }\r\n\r\n    @Cacheable(&quot;myCache&quot;)\r\n    public MyValue getValue(MyKey key) {\r\n        ...\r\n    }\r\n\r\nThis approach allows you to define and configure your Caffeine cache as a LoadingCache&lt;K, V&gt; while still being able to use it with Spring&#39;s caching abstraction.\r\n","title":"Is it possible to adapt a Caffeine LoadingCache for use with Spring Boot&#39;s @Cacheable?","body":"<p>To define a Caffeine LoadingCache&lt;K, V&gt; for use with Spring's @Cacheable annotation, you can create a custom implementation of Cache that wraps a Caffeine LoadingCache. Here's an example implementation:</p>\n<pre><code>import org.springframework.cache.Cache;\nimport org.springframework.cache.support.SimpleValueWrapper;\nimport java.util.concurrent.Callable;\nimport com.github.benmanes.caffeine.cache.LoadingCache;\n\npublic class CaffeineCache implements Cache {\n\n    private final String name;\n    private final LoadingCache&lt;Object, Object&gt; cache;\n\n    public CaffeineCache(String name, LoadingCache&lt;Object, Object&gt; cache) {\n        this.name = name;\n        this.cache = cache;\n    }\n\n    @Override\n    public String getName() {\n        return name;\n    }\n\n    @Override\n    public Object getNativeCache() {\n        return cache;\n    }\n\n    @Override\n    public ValueWrapper get(Object key) {\n        Object value = cache.getIfPresent(key);\n        return (value != null ? new SimpleValueWrapper(value) : null);\n    }\n\n    @Override\n    public &lt;T&gt; T get(Object key, Class&lt;T&gt; type) {\n        Object value = cache.getIfPresent(key);\n        if (value != null &amp;&amp; type != null &amp;&amp; !type.isInstance(value)) {\n            throw new IllegalStateException(&quot;Cached value is not of required type [&quot; + type.getName() + &quot;]: &quot; + value);\n        }\n        return (T) value;\n    }\n\n    @Override\n    public void put(Object key, Object value) {\n        cache.put(key, value);\n    }\n\n    @Override\n    public void evict(Object key) {\n        cache.invalidate(key);\n    }\n\n    @Override\n    public void clear() {\n        cache.invalidateAll();\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    @Override\n    public &lt;T&gt; T get(Object key, Callable&lt;T&gt; valueLoader) {\n        try {\n            Object value = cache.get(key, k -&gt; valueLoader.call());\n            if (value != null &amp;&amp; !value.getClass().isAssignableFrom(valueLoader.getClass())) {\n                throw new IllegalStateException(&quot;Cached value is not of required type [&quot; + valueLoader.getClass().getName() + &quot;]: &quot; + value);\n            }\n            return (T) value;\n        } catch (Exception ex) {\n            throw new ValueRetrievalException(key, valueLoader, ex);\n        }\n    }\n}\n</code></pre>\n<p>Then you can register your cache as a Spring bean and use it with the @Cacheable annotation like this:</p>\n<pre><code>@Bean\npublic Cache myCache() {\n    LoadingCache&lt;MyKey, MyValue&gt; cache = Caffeine.newBuilder()\n        .refreshAfterWrite(1, TimeUnit.MINUTES)\n        .build(loadStuffOverHttp());\n    return new CaffeineCache(&quot;myCache&quot;, cache);\n}\n\n@Cacheable(&quot;myCache&quot;)\npublic MyValue getValue(MyKey key) {\n    ...\n}\n</code></pre>\n<p>This approach allows you to define and configure your Caffeine cache as a LoadingCache&lt;K, V&gt; while still being able to use it with Spring's caching abstraction.</p>\n"}],"owner":{"account_id":7748730,"reputation":1941,"user_id":8027026,"display_name":"Paul Benn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5045,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":1,"score":14,"last_activity_date":1679002775,"creation_date":1558444483,"question_id":56239146,"body_markdown":"I am working on a large Spring Boot 2.1.5.RELEASE application, using Caffeine as a cache provider. To prevent I/O bottlenecks, I am using a Caffeine [`LoadingCache&lt;K,V&gt;`][1] in (essentially) the following way:\r\n\r\n    LoadingCache&lt;K, V&gt; cache = Caffeine.newBuilder()\r\n        .refreshAfterWrite(1, TimeUnit.MINUTES)\r\n        .build(loadStuffOverHttp());\r\n\r\nAs far as I know, I cannot use refresh-after-write functionality without using `LoadingCache`.\r\n\r\nHowever, `LoadingCache` **does not implement Spring&#39;s [`Cache`][2].** This means I cannot rely on `@Bean` methods to register my caches, which each need to be configured differently. Being registered in the Spring context would, in theory, allow them to be used in conjunction with Spring&#39;s [`@Cacheable`][3] annotation.\r\n\r\nFrom what I can see from the source code for [CaffeineCacheConfiguration.java][4], I cannot rely on Spring Boot&#39;s auto-configuration either. Beans of type [`CaffeineCache`][5] (Spring&#39;s cache [adapter pattern][6] for Caffeine&#39;s [`Cache&lt;K,V&gt;`][7]) are registered automatically, **but the adapter forces me to use `&lt;Object, Object&gt;` as the generic types of my [`CacheLoader&lt;K, V&gt;`][8]**. I only want to do this as a last resort.\r\n\r\n[This SO question][9] shows it is possible to configure different caches programmatically:\r\n\r\n&gt; Just expose your custom caches as beans. They are automatically added to the `CaffeineCacheManager`.\r\n\r\nHowever, doing this with `LoadingCache&lt;K, V&gt;` (with arbitrary `K`, `V`, *not* `&lt;Object, Object&gt;`) seems to be harder.\r\n\r\n[This SO question][10] seems to indicate doing it with a [`SimpleCacheManager`][11] instead of a [`CaffeineCacheManager`][12] is possible - but using this solution requires the `CacheLoader` definition to be available to the `Cache` bean. This may easily require the injection of the service using the cache via `@Cacheable` in the first place, for example in the case of an expensive HTTP call. It also seems like a solution prone to dependency cycles, but please correct me if this is not the case.\r\n\r\n### Question\r\nWhat is the proper way to define a Caffeine `LoadingCache&lt;K, V&gt;` for use with Spring&#39;s `@Cacheable`?\r\n\r\n\r\n  [1]: https://static.javadoc.io/com.github.ben-manes.caffeine/caffeine/2.7.0/com/github/benmanes/caffeine/cache/LoadingCache.html\r\n  [2]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/cache/Cache.html\r\n  [3]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/cache/annotation/Cacheable.html\r\n  [4]: https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/cache/CaffeineCacheConfiguration.java\r\n  [5]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/cache/caffeine/CaffeineCache.html\r\n  [6]: https://en.wikipedia.org/wiki/Adapter_pattern\r\n  [7]: https://static.javadoc.io/com.github.ben-manes.caffeine/caffeine/2.7.0/com/github/benmanes/caffeine/cache/Cache.html\r\n  [8]: https://static.javadoc.io/com.github.ben-manes.caffeine/caffeine/2.7.0/com/github/benmanes/caffeine/cache/CacheLoader.html\r\n  [9]: https://stackoverflow.com/q/49885064/8027026\r\n  [10]: https://stackoverflow.com/q/44507309/8027026\r\n  [11]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/cache/support/SimpleCacheManager.html\r\n  [12]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/cache/caffeine/CaffeineCacheManager.html","title":"Is it possible to adapt a Caffeine LoadingCache for use with Spring Boot&#39;s @Cacheable?","body":"<p>I am working on a large Spring Boot 2.1.5.RELEASE application, using Caffeine as a cache provider. To prevent I/O bottlenecks, I am using a Caffeine <a href=\"https://static.javadoc.io/com.github.ben-manes.caffeine/caffeine/2.7.0/com/github/benmanes/caffeine/cache/LoadingCache.html\" rel=\"noreferrer\"><code>LoadingCache&lt;K,V&gt;</code></a> in (essentially) the following way:</p>\n\n<pre><code>LoadingCache&lt;K, V&gt; cache = Caffeine.newBuilder()\n    .refreshAfterWrite(1, TimeUnit.MINUTES)\n    .build(loadStuffOverHttp());\n</code></pre>\n\n<p>As far as I know, I cannot use refresh-after-write functionality without using <code>LoadingCache</code>.</p>\n\n<p>However, <code>LoadingCache</code> <strong>does not implement Spring's <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/cache/Cache.html\" rel=\"noreferrer\"><code>Cache</code></a>.</strong> This means I cannot rely on <code>@Bean</code> methods to register my caches, which each need to be configured differently. Being registered in the Spring context would, in theory, allow them to be used in conjunction with Spring's <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/cache/annotation/Cacheable.html\" rel=\"noreferrer\"><code>@Cacheable</code></a> annotation.</p>\n\n<p>From what I can see from the source code for <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/cache/CaffeineCacheConfiguration.java\" rel=\"noreferrer\">CaffeineCacheConfiguration.java</a>, I cannot rely on Spring Boot's auto-configuration either. Beans of type <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/cache/caffeine/CaffeineCache.html\" rel=\"noreferrer\"><code>CaffeineCache</code></a> (Spring's cache <a href=\"https://en.wikipedia.org/wiki/Adapter_pattern\" rel=\"noreferrer\">adapter pattern</a> for Caffeine's <a href=\"https://static.javadoc.io/com.github.ben-manes.caffeine/caffeine/2.7.0/com/github/benmanes/caffeine/cache/Cache.html\" rel=\"noreferrer\"><code>Cache&lt;K,V&gt;</code></a>) are registered automatically, <strong>but the adapter forces me to use <code>&lt;Object, Object&gt;</code> as the generic types of my <a href=\"https://static.javadoc.io/com.github.ben-manes.caffeine/caffeine/2.7.0/com/github/benmanes/caffeine/cache/CacheLoader.html\" rel=\"noreferrer\"><code>CacheLoader&lt;K, V&gt;</code></a></strong>. I only want to do this as a last resort.</p>\n\n<p><a href=\"https://stackoverflow.com/q/49885064/8027026\">This SO question</a> shows it is possible to configure different caches programmatically:</p>\n\n<blockquote>\n  <p>Just expose your custom caches as beans. They are automatically added to the <code>CaffeineCacheManager</code>.</p>\n</blockquote>\n\n<p>However, doing this with <code>LoadingCache&lt;K, V&gt;</code> (with arbitrary <code>K</code>, <code>V</code>, <em>not</em> <code>&lt;Object, Object&gt;</code>) seems to be harder.</p>\n\n<p><a href=\"https://stackoverflow.com/q/44507309/8027026\">This SO question</a> seems to indicate doing it with a <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/cache/support/SimpleCacheManager.html\" rel=\"noreferrer\"><code>SimpleCacheManager</code></a> instead of a <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/cache/caffeine/CaffeineCacheManager.html\" rel=\"noreferrer\"><code>CaffeineCacheManager</code></a> is possible - but using this solution requires the <code>CacheLoader</code> definition to be available to the <code>Cache</code> bean. This may easily require the injection of the service using the cache via <code>@Cacheable</code> in the first place, for example in the case of an expensive HTTP call. It also seems like a solution prone to dependency cycles, but please correct me if this is not the case.</p>\n\n<h3>Question</h3>\n\n<p>What is the proper way to define a Caffeine <code>LoadingCache&lt;K, V&gt;</code> for use with Spring's <code>@Cacheable</code>?</p>\n"},{"tags":["java","amazon-web-services","hadoop","mapreduce","writable"],"comments":[{"owner":{"account_id":2636775,"reputation":1331,"user_id":2281215,"display_name":"rVr"},"score":1,"creation_date":1392736933,"post_id":21857814,"comment_id":33089462,"body_markdown":"We will not see any significant improvements with input as small as 2MB, even few 100MB or few GB. Overhead of creating map,reduce tasks and all diff threads to run Job might be more compared to running same  task without hadoop. Unless we have multi GB,TB levels of data and really distributed job running we might not see benefits of hadoop.","body":"We will not see any significant improvements with input as small as 2MB, even few 100MB or few GB. Overhead of creating map,reduce tasks and all diff threads to run Job might be more compared to running same  task without hadoop. Unless we have multi GB,TB levels of data and really distributed job running we might not see benefits of hadoop."},{"owner":{"account_id":2937730,"reputation":7422,"user_id":2516301,"accept_rate":100,"display_name":"vefthym"},"score":0,"creation_date":1392737894,"post_id":21857814,"comment_id":33090197,"body_markdown":"What is the output (key, value) pairs of the mapper? Any code that would help us better understand?","body":"What is the output (key, value) pairs of the mapper? Any code that would help us better understand?"}],"answers":[{"comments":[{"owner":{"account_id":2396871,"reputation":13,"user_id":2095513,"display_name":"bxabi"},"score":0,"creation_date":1392737538,"post_id":21858027,"comment_id":33089923,"body_markdown":"Yes, this is what I was wandering on.\nStoring the intermediate values in files (?) instead of memory is a huge overhead.\n\nBut even having small data, this calculation runs 16 hours on a single computer, that&#39;s way we were looking for a cluster solution.\n\nI can of course divide the data myself, run the code and merge results together. It requires configuration and installation on the nodes, which was mostly avoided with hadoop.","body":"Yes, this is what I was wandering on. Storing the intermediate values in files (?) instead of memory is a huge overhead.  But even having small data, this calculation runs 16 hours on a single computer, that&#39;s way we were looking for a cluster solution.  I can of course divide the data myself, run the code and merge results together. It requires configuration and installation on the nodes, which was mostly avoided with hadoop."}],"tags":[],"owner":{"account_id":3508092,"reputation":83,"user_id":2933155,"display_name":"acbod"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1392737004,"creation_date":1392737004,"answer_id":21858027,"question_id":21857814,"body_markdown":"You won&#39;t get any benefit from hadoop with only 2MB of data. Hadoop is all about big data. Distributing the 2MB to your 10 nodes costs more time then just doing the job on a single node. The real benfit starts with a high number of nodes and huge data.\r\n","title":"Hadoop mapreduce with input size ~ 2Mb slow","body":"<p>You won't get any benefit from hadoop with only 2MB of data. Hadoop is all about big data. Distributing the 2MB to your 10 nodes costs more time then just doing the job on a single node. The real benfit starts with a high number of nodes and huge data.</p>\n"},{"tags":[],"owner":{"account_id":2396871,"reputation":13,"user_id":2095513,"display_name":"bxabi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393864173,"creation_date":1393864173,"answer_id":22152017,"question_id":21857814,"body_markdown":"So at the end I figured out a way to not store intermediate values in writables, only in the memory. This way it is faster.\r\nBut still, a non-hadoop solution is the best in this usecase.","title":"Hadoop mapreduce with input size ~ 2Mb slow","body":"<p>So at the end I figured out a way to not store intermediate values in writables, only in the memory. This way it is faster.\nBut still, a non-hadoop solution is the best in this usecase.</p>\n"},{"tags":[],"owner":{"account_id":1336862,"reputation":2349,"user_id":1279411,"display_name":"AaronM"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1393879659,"creation_date":1393879659,"answer_id":22157089,"question_id":21857814,"body_markdown":"If the processing is really that complex, you should be able to realize a benefit from using Hadoop.  \r\n\r\nThe common issue with small files, is that Hadoop will run a single java process per file and that will create overhead from having to start many processes and slows down the output.  In your case this does not sound like it applies.  More likely you have the opposite problem that only one Mapper is trying to process your input and it doesn&#39;t matter how big your cluster is at that point.  Using the input split sounds like the right approach, but because your use case is specialized and deviates significantly from the norm, you may need to tweak a number of components to get the best performance.\r\n\r\nSo you should be able to get the benefits you are seeking from Hadoop Map Reduce, but it will probably take significant tuning and custom Input handling.\r\n\r\nThat said seldom(never?) will MapReduce be faster than a purpose built solution.  It is a generic tool that is useful in that it can be used to distribute and solve many diverse problems without the need to write a purpose built solution for each.\r\n\r\n","title":"Hadoop mapreduce with input size ~ 2Mb slow","body":"<p>If the processing is really that complex, you should be able to realize a benefit from using Hadoop.  </p>\n\n<p>The common issue with small files, is that Hadoop will run a single java process per file and that will create overhead from having to start many processes and slows down the output.  In your case this does not sound like it applies.  More likely you have the opposite problem that only one Mapper is trying to process your input and it doesn't matter how big your cluster is at that point.  Using the input split sounds like the right approach, but because your use case is specialized and deviates significantly from the norm, you may need to tweak a number of components to get the best performance.</p>\n\n<p>So you should be able to get the benefits you are seeking from Hadoop Map Reduce, but it will probably take significant tuning and custom Input handling.</p>\n\n<p>That said seldom(never?) will MapReduce be faster than a purpose built solution.  It is a generic tool that is useful in that it can be used to distribute and solve many diverse problems without the need to write a purpose built solution for each.</p>\n"}],"owner":{"account_id":2396871,"reputation":13,"user_id":2095513,"display_name":"bxabi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":22157089,"answer_count":3,"score":1,"last_activity_date":1679002679,"creation_date":1392736346,"question_id":21857814,"body_markdown":"I tried to distribute a calculation using hadoop.\r\n\r\nI am using Sequence input and output files, and custom Writables.\r\n\r\nThe input is a list of triangles, maximum size 2Mb, but can be smaller around 50kb too.\r\nThe intermediate values and the output is a map(int,double) in the custom Writable.\r\nIs this the bottleneck?\r\n\r\nThe problem is that the calculation is much slower than the version without hadoop. **also, increasing the nodes from 2 to 10, doesn&#39;t speed up the process.**\r\n\r\nOne possibility is that I don&#39;t get enough mappers because of the small input size.\r\nI made tests changing the `mapreduce.input.fileinputformat.split.maxsize`, but it just got worse, not better.\r\n\r\nI am using hadoop 2.2.0 locally, and at amazon elastic mapreduce.\r\n\r\nDid I overlook something? Or this is just the kind of task which should be done without hadoop? (it&#39;s my first time using mapreduce).\r\n\r\nWould you like to see code parts?\r\n\r\nThank you.\r\n\r\n    public void map(IntWritable triangleIndex, TriangleWritable triangle, Context context) throws IOException, InterruptedException {           \r\n            StationWritable[] stations = kernel.newton(triangle.getPoints());\r\n            if (stations != null) {\r\n                for (StationWritable station : stations) {\r\n                    context.write(new IntWritable(station.getId()), station);\r\n                }\r\n            }\r\n        }    \r\n\r\n\r\n    class TriangleWritable implements Writable {\r\n\r\n    private final float[] points = new float[9];\r\n\r\n    @Override\r\n    public void write(DataOutput d) throws IOException {\r\n        for (int i = 0; i &lt; 9; i++) {\r\n            d.writeFloat(points[i]);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void readFields(DataInput di) throws IOException {\r\n        for (int i = 0; i &lt; 9; i++) {\r\n            points[i] = di.readFloat();\r\n        }\r\n    }\r\n    }\r\n\r\n    public class StationWritable implements Writable {\r\n\r\n    private int id;\r\n    private final TIntDoubleHashMap values = new TIntDoubleHashMap();\r\n\r\n    StationWritable(int iz) {\r\n        this.id = iz;\r\n    }\r\n\r\n    @Override\r\n    public void write(DataOutput d) throws IOException {\r\n        d.writeInt(id);\r\n        d.writeInt(values.size());\r\n        TIntDoubleIterator iterator = values.iterator();\r\n        while (iterator.hasNext()) {\r\n            iterator.advance();\r\n            d.writeInt(iterator.key());\r\n            d.writeDouble(iterator.value());\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void readFields(DataInput di) throws IOException {\r\n        id = di.readInt();\r\n\r\n        int count = di.readInt();\r\n        for (int i = 0; i &lt; count; i++) {\r\n            values.put(di.readInt(), di.readDouble());\r\n        }\r\n    }\r\n    }","title":"Hadoop mapreduce with input size ~ 2Mb slow","body":"<p>I tried to distribute a calculation using hadoop.</p>\n\n<p>I am using Sequence input and output files, and custom Writables.</p>\n\n<p>The input is a list of triangles, maximum size 2Mb, but can be smaller around 50kb too.\nThe intermediate values and the output is a map(int,double) in the custom Writable.\nIs this the bottleneck?</p>\n\n<p>The problem is that the calculation is much slower than the version without hadoop. <strong>also, increasing the nodes from 2 to 10, doesn't speed up the process.</strong></p>\n\n<p>One possibility is that I don't get enough mappers because of the small input size.\nI made tests changing the <code>mapreduce.input.fileinputformat.split.maxsize</code>, but it just got worse, not better.</p>\n\n<p>I am using hadoop 2.2.0 locally, and at amazon elastic mapreduce.</p>\n\n<p>Did I overlook something? Or this is just the kind of task which should be done without hadoop? (it's my first time using mapreduce).</p>\n\n<p>Would you like to see code parts?</p>\n\n<p>Thank you.</p>\n\n<pre><code>public void map(IntWritable triangleIndex, TriangleWritable triangle, Context context) throws IOException, InterruptedException {           \n        StationWritable[] stations = kernel.newton(triangle.getPoints());\n        if (stations != null) {\n            for (StationWritable station : stations) {\n                context.write(new IntWritable(station.getId()), station);\n            }\n        }\n    }    \n\n\nclass TriangleWritable implements Writable {\n\nprivate final float[] points = new float[9];\n\n@Override\npublic void write(DataOutput d) throws IOException {\n    for (int i = 0; i &lt; 9; i++) {\n        d.writeFloat(points[i]);\n    }\n}\n\n@Override\npublic void readFields(DataInput di) throws IOException {\n    for (int i = 0; i &lt; 9; i++) {\n        points[i] = di.readFloat();\n    }\n}\n}\n\npublic class StationWritable implements Writable {\n\nprivate int id;\nprivate final TIntDoubleHashMap values = new TIntDoubleHashMap();\n\nStationWritable(int iz) {\n    this.id = iz;\n}\n\n@Override\npublic void write(DataOutput d) throws IOException {\n    d.writeInt(id);\n    d.writeInt(values.size());\n    TIntDoubleIterator iterator = values.iterator();\n    while (iterator.hasNext()) {\n        iterator.advance();\n        d.writeInt(iterator.key());\n        d.writeDouble(iterator.value());\n    }\n}\n\n@Override\npublic void readFields(DataInput di) throws IOException {\n    id = di.readInt();\n\n    int count = di.readInt();\n    for (int i = 0; i &lt; count; i++) {\n        values.put(di.readInt(), di.readDouble());\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","web-scraping","fetch","jsoup"],"comments":[{"owner":{"account_id":70917,"reputation":17743,"user_id":205233,"accept_rate":90,"display_name":"Filburt"},"score":4,"creation_date":1478805474,"post_id":40535314,"comment_id":68310355,"body_markdown":"How about simply using [their API](http://docs.aws.amazon.com/AWSECommerceService/latest/DG/EX_RetrievingPriceInformation.html)?","body":"How about simply using <a href=\"http://docs.aws.amazon.com/AWSECommerceService/latest/DG/EX_RetrievingPriceInformation.html\" rel=\"nofollow noreferrer\">their API</a>?"}],"answers":[{"tags":[],"owner":{"account_id":4181404,"reputation":6036,"user_id":3426328,"accept_rate":83,"display_name":"TDG"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1478815070,"creation_date":1478815070,"answer_id":40537717,"question_id":40535314,"body_markdown":"You have few issues here:\r\n\r\n 1. Your user agent is outdated, so you get a totally different response than you expect. Use a newer one.\r\n 2. `document.select` returns an `Element`, not `String`.\r\n 3. Your seletor is not right.\r\nUse the following code:  \r\n\r\n\r\n        String url = &quot;http://www.amazon.de/DJI-CP-PT-000498-Mavic-Drohne-grau/dp/B01M0AVO1P/&quot;;\r\n        Document document = Jsoup.connect(url).userAgent(&quot;Mozilla/49.0&quot;).get();\r\n        Elements question = document.select(&quot;#priceblock_ourprice&quot;);\r\n        System.out.println(&quot;Price is &quot; + question.html());\r\n\t\t","title":"I am trying to fetch amazon prices using Jsoup on Java","body":"<p>You have few issues here:</p>\n\n<ol>\n<li>Your user agent is outdated, so you get a totally different response than you expect. Use a newer one.</li>\n<li><code>document.select</code> returns an <code>Element</code>, not <code>String</code>.</li>\n<li><p>Your seletor is not right.\nUse the following code:  </p>\n\n<pre><code>String url = \"http://www.amazon.de/DJI-CP-PT-000498-Mavic-Drohne-grau/dp/B01M0AVO1P/\";\nDocument document = Jsoup.connect(url).userAgent(\"Mozilla/49.0\").get();\nElements question = document.select(\"#priceblock_ourprice\");\nSystem.out.println(\"Price is \" + question.html());\n</code></pre></li>\n</ol>\n"}],"owner":{"account_id":9622183,"reputation":51,"user_id":7143034,"accept_rate":0,"display_name":"Kenneth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1684,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1679002467,"creation_date":1478805274,"question_id":40535314,"body_markdown":"I want to get the prices of a amazon product and then put them into a spreadsheet with the price next to the time. I am trying to use Jsoup for this (and I am very new to this)\r\nThis is what I currently have.\r\nI cant even get the price so that is what I need the most help with\r\n\r\n    /*\r\n     * To change this license header, choose License Headers in Project Properties.\r\n     * To change this template file, choose Tools | Templates\r\n     * and open the template in the editor.\r\n     */\r\n    package amazon;\r\n    \r\n    /**\r\n     *\r\n     * @author kennethkreindler\r\n     */\r\n    import java.io.IOException;\r\n    \r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Document;\r\n    import org.jsoup.nodes.Element;\r\n    import org.jsoup.select.Elements;\r\n    public class Amazonmain {\r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         * @throws java.lang.Exception\r\n         */\r\n        \r\n       public static void main(String[] args) throws Exception {\r\n            String url = &quot;http://www.amazon.de/DJI-CP-PT-000498-Mavic-Drohne-grau/dp/B01M0AVO1P/&quot;;\r\n            Document document = Jsoup.connect(url).userAgent(&quot;Mozilla/17.0&quot;).get();\r\n    \r\n            String question = document.select(&quot;span.priceblock_ourprice&quot;);\r\n            System.out.println(&quot;Price is&quot; + question);\r\n    \r\n            \r\n            }\r\n        }\r\n\r\n","title":"I am trying to fetch amazon prices using Jsoup on Java","body":"<p>I want to get the prices of a amazon product and then put them into a spreadsheet with the price next to the time. I am trying to use Jsoup for this (and I am very new to this)\nThis is what I currently have.\nI cant even get the price so that is what I need the most help with</p>\n\n<pre><code>/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\npackage amazon;\n\n/**\n *\n * @author kennethkreindler\n */\nimport java.io.IOException;\n\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Element;\nimport org.jsoup.select.Elements;\npublic class Amazonmain {\n\n    /**\n     * @param args the command line arguments\n     * @throws java.lang.Exception\n     */\n\n   public static void main(String[] args) throws Exception {\n        String url = \"http://www.amazon.de/DJI-CP-PT-000498-Mavic-Drohne-grau/dp/B01M0AVO1P/\";\n        Document document = Jsoup.connect(url).userAgent(\"Mozilla/17.0\").get();\n\n        String question = document.select(\"span.priceblock_ourprice\");\n        System.out.println(\"Price is\" + question);\n\n\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":3870270,"reputation":711,"user_id":3205713,"accept_rate":57,"display_name":"woytech"},"score":3,"creation_date":1413408443,"post_id":26381869,"comment_id":41437663,"body_markdown":"Thanks for your response! I know that I can combine as many specification as I want, but I have couple of methods with *@Query* annotation and now there is a need to use Specification, so I have to rewrite existing queries to Specification&#39;s objects. I thought that maybe there is a way to somehow combine *@Query* and Specification.","body":"Thanks for your response! I know that I can combine as many specification as I want, but I have couple of methods with <i>@Query</i> annotation and now there is a need to use Specification, so I have to rewrite existing queries to Specification&#39;s objects. I thought that maybe there is a way to somehow combine <i>@Query</i> and Specification."},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1413452031,"post_id":26381869,"comment_id":41451762,"body_markdown":"For the API implementer point of view, it&#39;s much easier to separate those concerns and to offer specific querying facilities. Combining them might complicate the implementation even further.","body":"For the API implementer point of view, it&#39;s much easier to separate those concerns and to offer specific querying facilities. Combining them might complicate the implementation even further."},{"owner":{"account_id":3585957,"reputation":4619,"user_id":3241889,"accept_rate":72,"display_name":"Alex"},"score":9,"creation_date":1449511375,"post_id":26381869,"comment_id":56028270,"body_markdown":"This subject is amazing, I have to do a many-to-many join on a JPA query method, and I pass a Specification and Pageable item. For sure the @Query can&#39;t be mixed with it (I tested it). And this brings no answers to my cup. don&#39;t know how to manage to get my query corresponding with a relationship table, and keeping my Specification and Pageable items :(","body":"This subject is amazing, I have to do a many-to-many join on a JPA query method, and I pass a Specification and Pageable item. For sure the @Query can&#39;t be mixed with it (I tested it). And this brings no answers to my cup. don&#39;t know how to manage to get my query corresponding with a relationship table, and keeping my Specification and Pageable items :("},{"owner":{"account_id":3679689,"reputation":159,"user_id":3064905,"accept_rate":25,"display_name":"Anshul Kabra"},"score":2,"creation_date":1566814451,"post_id":26381869,"comment_id":101761535,"body_markdown":"@Alex Did you find any solution for your concern? Because am having a similar situation, I can&#39;t combine both Query and Specification.  Please help us if you have any solution.","body":"@Alex Did you find any solution for your concern? Because am having a similar situation, I can&#39;t combine both Query and Specification.  Please help us if you have any solution."},{"owner":{"account_id":3585957,"reputation":4619,"user_id":3241889,"accept_rate":72,"display_name":"Alex"},"score":2,"creation_date":1566827685,"post_id":26381869,"comment_id":101768030,"body_markdown":"@AnshulKabra it was a very long time ago, but I can remember ended up using QueryBuilder and CriteriaAPI to extends my JpaRepository and implement the query by hand. Receiving Pageable and Specification, I create the whole query and Page item.","body":"@AnshulKabra it was a very long time ago, but I can remember ended up using QueryBuilder and CriteriaAPI to extends my JpaRepository and implement the query by hand. Receiving Pageable and Specification, I create the whole query and Page item."},{"owner":{"account_id":128166,"reputation":173,"user_id":3615209,"accept_rate":83,"display_name":"QStorm"},"score":1,"creation_date":1646391871,"post_id":26381869,"comment_id":126117014,"body_markdown":"I have a similar issue. The data is selected by a complex query using several cta to add aggregated values. I think this can&#39;t be rewritten using specification. The only way I found is a database view. However, this comes with other problems (like dynamic conditions cant be added to the cta part of the query). How to handle such cases?","body":"I have a similar issue. The data is selected by a complex query using several cta to add aggregated values. I think this can&#39;t be rewritten using specification. The only way I found is a database view. However, this comes with other problems (like dynamic conditions cant be added to the cta part of the query). How to handle such cases?"}],"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":6,"down_vote_count":0,"up_vote_count":60,"is_accepted":true,"score":60,"last_activity_date":1600320986,"creation_date":1413373858,"answer_id":26381869,"question_id":26379522,"body_markdown":"First thing, you should read this [Spring blog post][1]. \r\n\r\nSecond, according to the [`JpaSpecificationExecutor`][2] interface, that your repositories should implement, the following method take a `Specification` argument:\r\n\r\n- `count(Specification&lt;T&gt; spec)`\r\n- `List&lt;T&gt; findAll(Specification&lt;T&gt; spec)`\r\n- `Page&lt;T&gt; findAll(Specification&lt;T&gt; spec, Pageable pageable)`\r\n- `List&lt;T&gt; findAll(Specification&lt;T&gt; spec, Sort sort)`\r\n- `T findOne(Specification&lt;T&gt; spec)`\r\n\r\nSo, you can&#39;t mix a `@Query` definition with a `Specification`.\r\n\r\nHowever, since you can express the `firstName &lt;&gt; ?1` condition using a `Specification` and because you combine as many specifications as you want, you can rewrite the whole `@Query` using `Specification`(s) only.\r\n\r\n  [1]: http://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl/\r\n  [2]: http://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaSpecificationExecutor.html","title":"Can I combine a @Query definition with a Specification in a Spring Data JPA repository method?","body":"<p>First thing, you should read this <a href=\"http://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl/\" rel=\"noreferrer\">Spring blog post</a>.</p>\n<p>Second, according to the <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaSpecificationExecutor.html\" rel=\"noreferrer\"><code>JpaSpecificationExecutor</code></a> interface, that your repositories should implement, the following method take a <code>Specification</code> argument:</p>\n<ul>\n<li><code>count(Specification&lt;T&gt; spec)</code></li>\n<li><code>List&lt;T&gt; findAll(Specification&lt;T&gt; spec)</code></li>\n<li><code>Page&lt;T&gt; findAll(Specification&lt;T&gt; spec, Pageable pageable)</code></li>\n<li><code>List&lt;T&gt; findAll(Specification&lt;T&gt; spec, Sort sort)</code></li>\n<li><code>T findOne(Specification&lt;T&gt; spec)</code></li>\n</ul>\n<p>So, you can't mix a <code>@Query</code> definition with a <code>Specification</code>.</p>\n<p>However, since you can express the <code>firstName &lt;&gt; ?1</code> condition using a <code>Specification</code> and because you combine as many specifications as you want, you can rewrite the whole <code>@Query</code> using <code>Specification</code>(s) only.</p>\n"},{"tags":[],"owner":{"account_id":15301090,"reputation":11,"user_id":13608882,"display_name":"Luiz Gustavo Arag&#227;o"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679002099,"creation_date":1679002099,"answer_id":75761791,"question_id":26379522,"body_markdown":"I did this workaround in order to have a response other than the entity type using the specification I have, maybe it can help you to resolve your needs without @Query:\r\n\r\n    public ImovelFilterResponseDTO getImovelsFilterByCriteria(Specification&lt;Imovel&gt; specification) {\r\n        ImovelFilterResponseDTO imovelFilterResponseDTO = new ImovelFilterResponseDTO();\r\n        CriteriaBuilder builder = entityManager.getCriteriaBuilder();\r\n        CriteriaQuery&lt;BigDecimal&gt; query = builder.createQuery(BigDecimal.class);\r\n        Root&lt;Imovel&gt; root = query.from(Imovel.class);\r\n        Predicate predicate = specification.toPredicate(root, query, builder);\r\n        if (predicate != null) {\r\n\t\t\tquery.where(predicate);\r\n\t\t}\r\n        BigDecimal areaHectaresMax =  entityManager.createQuery(query.select(builder.max(root.&lt;BigDecimal&gt;get(&quot;areaHectares&quot;)))).getSingleResult();\r\n        imovelFilterResponseDTO.setFilterMaxArea(areaHectaresMax);\r\n        return imovelFilterResponseDTO;\r\n    }\r\n\r\n","title":"Can I combine a @Query definition with a Specification in a Spring Data JPA repository method?","body":"<p>I did this workaround in order to have a response other than the entity type using the specification I have, maybe it can help you to resolve your needs without @Query:</p>\n<pre><code>public ImovelFilterResponseDTO getImovelsFilterByCriteria(Specification&lt;Imovel&gt; specification) {\n    ImovelFilterResponseDTO imovelFilterResponseDTO = new ImovelFilterResponseDTO();\n    CriteriaBuilder builder = entityManager.getCriteriaBuilder();\n    CriteriaQuery&lt;BigDecimal&gt; query = builder.createQuery(BigDecimal.class);\n    Root&lt;Imovel&gt; root = query.from(Imovel.class);\n    Predicate predicate = specification.toPredicate(root, query, builder);\n    if (predicate != null) {\n        query.where(predicate);\n    }\n    BigDecimal areaHectaresMax =  entityManager.createQuery(query.select(builder.max(root.&lt;BigDecimal&gt;get(&quot;areaHectares&quot;)))).getSingleResult();\n    imovelFilterResponseDTO.setFilterMaxArea(areaHectaresMax);\n    return imovelFilterResponseDTO;\n}\n</code></pre>\n"}],"owner":{"account_id":3870270,"reputation":711,"user_id":3205713,"accept_rate":57,"display_name":"woytech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44253,"favorite_count":0,"down_vote_count":0,"up_vote_count":57,"accepted_answer_id":26381869,"answer_count":2,"score":57,"last_activity_date":1679002099,"creation_date":1413366799,"question_id":26379522,"body_markdown":"Is it possible to use both `@Query` annotation and specification in one repository method? For example I&#39;d like to have a method like this:\r\n\r\n    @Query(value=&quot;SELECT e from EMPLOYEE where firstName &lt;&gt; ?1&quot;)\r\n    public Page&lt;Employee&gt; findEmployeeBySomethigFancy(String firstName, Pageable pageable, Specification&lt;Employee&gt; emp);\r\n\r\nIs it possible or should I build the whole query as a `Predicate` and remove the `@Query` annotation?","title":"Can I combine a @Query definition with a Specification in a Spring Data JPA repository method?","body":"<p>Is it possible to use both <code>@Query</code> annotation and specification in one repository method? For example I'd like to have a method like this:</p>\n\n<pre><code>@Query(value=\"SELECT e from EMPLOYEE where firstName &lt;&gt; ?1\")\npublic Page&lt;Employee&gt; findEmployeeBySomethigFancy(String firstName, Pageable pageable, Specification&lt;Employee&gt; emp);\n</code></pre>\n\n<p>Is it possible or should I build the whole query as a <code>Predicate</code> and remove the <code>@Query</code> annotation?</p>\n"},{"tags":["java","oracle","hibernate","stored-procedures"],"comments":[{"owner":{"account_id":15563381,"reputation":1306,"user_id":11227919,"display_name":"Himanshu Kandpal"},"score":0,"creation_date":1678987638,"post_id":75759163,"comment_id":133643857,"body_markdown":"Hi you will have to define a string which will contain the type name,  check this link   https://stackoverflow.com/questions/54344166/java-how-to-call-an-oracle-procedure-with-custom-types","body":"Hi you will have to define a string which will contain the type name,  check this link   <a href=\"https://stackoverflow.com/questions/54344166/java-how-to-call-an-oracle-procedure-with-custom-types\" title=\"java how to call an oracle procedure with custom types\">stackoverflow.com/questions/54344166/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679001740,"creation_date":1679001343,"answer_id":75761704,"question_id":75759163,"body_markdown":"If you can use a native query then just call your PL/SQL anonymous block. Something like (untested):\r\n\r\n```lang-java\r\nString plsql = &quot;\r\ndeclare\r\n  vl_obl_id number;\r\n  --\r\n  mi_ret PAC_EXAMPLE.reg_ret;\r\n  obj PAC_EXAMPLE.tab_ret;\r\n  --\r\nbegin\r\n   mi_ret.group := 1;\r\n   mi_ret.market := 110;\r\n   mi_ret.amount := 500;\r\n   obj(1) := mi_ret;\r\n   mi_ret.group := 1;\r\n   mi_ret.market := 95;\r\n   mi_ret.amount := 300;\r\n   obj(2) := mi_ret;\r\n\r\nPAC_EXAMPLE.P_CREATE_ELEMENT(?,?,obj,?);\r\nend;\r\n&quot;;\r\nCallableStatement cs = connection.prepareCall(plsql);\r\ncs.setString(1, &quot;JHON&quot;);\r\ncs.setString(2, &quot;JHON R&quot;);\r\ncs.registerOutParameter(3, Types.INTEGER);\r\ncs.execute();\r\nint obl_id = cs.getInt(3);\r\n```","title":"How to execute a packages procedure in Java with specific parameter structure","body":"<p>If you can use a native query then just call your PL/SQL anonymous block. Something like (untested):</p>\n<pre class=\"lang-java prettyprint-override\"><code>String plsql = &quot;\ndeclare\n  vl_obl_id number;\n  --\n  mi_ret PAC_EXAMPLE.reg_ret;\n  obj PAC_EXAMPLE.tab_ret;\n  --\nbegin\n   mi_ret.group := 1;\n   mi_ret.market := 110;\n   mi_ret.amount := 500;\n   obj(1) := mi_ret;\n   mi_ret.group := 1;\n   mi_ret.market := 95;\n   mi_ret.amount := 300;\n   obj(2) := mi_ret;\n\nPAC_EXAMPLE.P_CREATE_ELEMENT(?,?,obj,?);\nend;\n&quot;;\nCallableStatement cs = connection.prepareCall(plsql);\ncs.setString(1, &quot;JHON&quot;);\ncs.setString(2, &quot;JHON R&quot;);\ncs.registerOutParameter(3, Types.INTEGER);\ncs.execute();\nint obl_id = cs.getInt(3);\n</code></pre>\n"}],"owner":{"account_id":13826190,"reputation":493,"user_id":9980464,"display_name":"rolo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679001740,"creation_date":1678984980,"question_id":75759163,"body_markdown":"Im working with java and oracle db and I have the following question:\r\n\r\nIn the oracle database I have a PACKAGE that is something like this:\r\n\r\n     CREATE OR REPLACE PACKAGE PAC_EXAMPLE IS\r\n     \r\n      TYPE reg_ret IS RECORD (group NUMBER(1),market NUMBER(3),amount  NUMBER(16));\r\n      \r\n      TYPE tab_ret is table of reg_ret\r\n      INDEX BY BINARY_INTEGER\r\n      ;\r\n     \r\n      PROCEDURE P_CREATE_ELEMENT(\r\n      pa_name IN VARCHAR2,\r\n      pa_signature IN VARCHAR2,\r\n      pa_ret IN tab_retenciones,\r\n      pa_obl_id OUT NUMBER)\r\n      ;\r\n      --\r\n     END K_SJUD_DER;\r\n\r\n\r\nAs you can see It has two auxiliar type: reg_ret and tab_ret.\r\n\r\nWhen I want to execute this procedure in the database I just do it this way:\r\n\r\n    declare\r\n      vl_obl_id number;\r\n      --\r\n      mi_ret PAC_EXAMPLE.reg_ret;\r\n      obj PAC_EXAMPLE.tab_ret;\r\n      --\r\n    begin\r\n       mi_ret.group := 1;\r\n       mi_ret.market := 110;\r\n       mi_ret.amount := 500;\r\n       obj(1) := mi_ret;\r\n       mi_ret.group := 1;\r\n       mi_ret.market := 95;\r\n       mi_ret.amount := 300;\r\n       obj(2) := mi_ret;\r\n    \r\n    PAC_EXAMPLE.P_CREATE_ELEMENT(&#39;JHON&#39;,&#39;JHON R&#39;,obj,vl_obl_id);\r\n    dbms_output.put_line(&#39;output: &#39;||vl_obl_id);\r\n    end;\r\n\r\nFirst I have to create the types mi_ret and obj and then I could execute the procedure.\r\n\r\nWell, my problem here is that I have to execute this procedure in Java with hibernate. I know that when you want to execute a procedure in Java you have to do something like this:\r\n\r\n    StoredProcedureQuery query = em.createNamedStoredProcedureQuery(&quot;PAC_EXAMPLE.P_CREATE_ELEMENT&quot;)\r\n                    .registerStoredProcedureParameter(1, String.class, ParameterMode.IN)\r\n                    .registerStoredProcedureParameter(2, String.class, ParameterMode.IN)\r\n                    .registerStoredProcedureParameter(&quot;outId&quot;, Integer.class, ParameterMode.OUT)\r\n                    .setParameter(1, &#39;JHON&#39;);\r\n                    .setParameter(2, &#39;JHON R&#39;);\r\n    query.execute();\r\n    // get result\r\n    Integer outId = (Integer)storedProcedure.getOutputParameterValue(&quot;outId&quot;); \r\n\r\n\r\nThe thing here is that I cant find out how to create the types reg_ret and tab_ret in Java and send it by parameter to execute the procedure. I could use some help. Thanks!\r\n\r\n     ","title":"How to execute a packages procedure in Java with specific parameter structure","body":"<p>Im working with java and oracle db and I have the following question:</p>\n<p>In the oracle database I have a PACKAGE that is something like this:</p>\n<pre><code> CREATE OR REPLACE PACKAGE PAC_EXAMPLE IS\n \n  TYPE reg_ret IS RECORD (group NUMBER(1),market NUMBER(3),amount  NUMBER(16));\n  \n  TYPE tab_ret is table of reg_ret\n  INDEX BY BINARY_INTEGER\n  ;\n \n  PROCEDURE P_CREATE_ELEMENT(\n  pa_name IN VARCHAR2,\n  pa_signature IN VARCHAR2,\n  pa_ret IN tab_retenciones,\n  pa_obl_id OUT NUMBER)\n  ;\n  --\n END K_SJUD_DER;\n</code></pre>\n<p>As you can see It has two auxiliar type: reg_ret and tab_ret.</p>\n<p>When I want to execute this procedure in the database I just do it this way:</p>\n<pre><code>declare\n  vl_obl_id number;\n  --\n  mi_ret PAC_EXAMPLE.reg_ret;\n  obj PAC_EXAMPLE.tab_ret;\n  --\nbegin\n   mi_ret.group := 1;\n   mi_ret.market := 110;\n   mi_ret.amount := 500;\n   obj(1) := mi_ret;\n   mi_ret.group := 1;\n   mi_ret.market := 95;\n   mi_ret.amount := 300;\n   obj(2) := mi_ret;\n\nPAC_EXAMPLE.P_CREATE_ELEMENT('JHON','JHON R',obj,vl_obl_id);\ndbms_output.put_line('output: '||vl_obl_id);\nend;\n</code></pre>\n<p>First I have to create the types mi_ret and obj and then I could execute the procedure.</p>\n<p>Well, my problem here is that I have to execute this procedure in Java with hibernate. I know that when you want to execute a procedure in Java you have to do something like this:</p>\n<pre><code>StoredProcedureQuery query = em.createNamedStoredProcedureQuery(&quot;PAC_EXAMPLE.P_CREATE_ELEMENT&quot;)\n                .registerStoredProcedureParameter(1, String.class, ParameterMode.IN)\n                .registerStoredProcedureParameter(2, String.class, ParameterMode.IN)\n                .registerStoredProcedureParameter(&quot;outId&quot;, Integer.class, ParameterMode.OUT)\n                .setParameter(1, 'JHON');\n                .setParameter(2, 'JHON R');\nquery.execute();\n// get result\nInteger outId = (Integer)storedProcedure.getOutputParameterValue(&quot;outId&quot;); \n</code></pre>\n<p>The thing here is that I cant find out how to create the types reg_ret and tab_ret in Java and send it by parameter to execute the procedure. I could use some help. Thanks!</p>\n"},{"tags":["java","xml","jaxb"],"answers":[{"comments":[{"owner":{"account_id":23020749,"reputation":302,"user_id":17141839,"display_name":"zordu-nickim-agzivi-sikm"},"score":0,"creation_date":1678886421,"post_id":75725262,"comment_id":133619602,"body_markdown":"No I don&#39;t need to create xsd file","body":"No I don&#39;t need to create xsd file"}],"tags":[],"owner":{"account_id":3909931,"reputation":406,"user_id":3235583,"display_name":"Rick O&#39;Sullivan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679001348,"creation_date":1678729657,"answer_id":75725262,"question_id":75661656,"body_markdown":"### Solution\r\n\r\nTo enable a character VALUE (i.e. **220**) to appear within the root element *together with subelements*, its `complexType` must have a *mixed* attribute set to &quot;true&quot;.\r\n\r\nCreate a Maven project named **Element** using the standard file layout. This project includes:\r\n\r\n+ An XML Schema file [element.xsd][2] for the `Element` model\r\n+ A JAXB *binding* file [element.xjb][3] for customizations\r\n+ A JUnit test class to demonstrate (un)marshalling\r\n+ Sample XML files with `Element` data.\r\n+ The Maven POM file with `hisrc-higherjaxb-maven-plugin`\r\n\r\n~~~\r\nElement\r\n    src\r\n        main\r\n            java\r\n            resources\r\n                element.xjb\r\n                element.xsd\r\n        test\r\n            java\r\n                org/example/element/ElementTest.java\r\n            resources\r\n                simplelogger.properties\r\n            samples\r\n                Element101.xml\r\n                Element102.xml\r\n    pom.xml\r\n~~~\r\n\r\nThe JAXB classes are generated by this plugin in this project&#39;s [pom.xml][1]\r\n\r\n~~~\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.patrodyne.jvnet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hisrc-higherjaxb-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;${hisrc-higherjaxb-maven-plugin.version}&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;generate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n~~~\r\n\r\nand are generated to:\r\n\r\n~~~\r\ntarget/generated-sources/xjc/\r\n    org.example.element\r\n        Element.java\r\n        Subelement.java\r\n        ObjectFactory.java\r\n~~~\r\n\r\n#### Model\r\n\r\nThe model for this example consists of a root element with attributes, child elements and a value.\r\n\r\n~~~\r\nelement: root mixed=&quot;true&quot;\r\n    Id: attribute\r\n    Composite: attribute\r\n    subelement: children\r\n    VALUE\r\n~~~\r\n\r\n#### Testing\r\n\r\n~~~\r\nmvn clean test\r\n~~~\r\n\r\nThis [output][6] shows the test results.\r\n\r\nThe JUnit test class, [ElementTest][4], scans for the sample files and invokes the method `checkSample(File sample)` to provide each file to the tester. For this project, a `JAXBContext` is created and each file in the [samples][5] path is *unmarshaled* to an `element` object. When successful, the `element` object is *marshaled* for logging and your review.\r\n\r\n&gt; **Note:** For *mixed* content types, JAXB generates a `List` field named `content` to store an array of the sub-elements and value(s) found. There can be multiple values interspersed among the sub-elements. The `List` preserves the order of the sub-elements and values. If white-space is used to format the content, it will be bound to the neighboring values! A better alternative may be to eliminate the need for *mixed* content by declaring individual elements, in the model, for each data value.\r\n\r\n#### Download\r\n\r\nA zip containing the standalone *Maven* project and source code for this solution can be downloaded from [here][7].\r\n\r\n#### Java-First Design\r\n\r\nIn a *Java-First Design* (without xsd), the key to parsing the `220` value is to add a `@XmlMixed` annotation to the `content` field. When unmarshalling, the value will be included in the `content` list.\r\n\r\n**Element.java**\r\n~~~\r\npackage org.example.element;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.*;\r\nimport jakarta.xml.bind.JAXBElement;\r\nimport jakarta.xml.bind.annotation.*;\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = { &quot;content&quot; })\r\n@XmlRootElement(name = &quot;element&quot;)\r\npublic class Element implements Serializable\r\n{\r\n    private static final long serialVersionUID = 20230301L;\r\n\r\n    @XmlElementRef(name = &quot;subelement&quot;, type = JAXBElement.class, required = false)\r\n    @XmlMixed\r\n    protected List&lt;Serializable&gt; content;\r\n    public List&lt;Serializable&gt; getContent() {\r\n        if (content == null) { content = new ArrayList&lt;&gt;(); }\r\n        return this.content;\r\n    }\r\n\r\n    @XmlAttribute(name = &quot;Id&quot;)\r\n    protected String id;\r\n    public String getId() { return id; }\r\n    public void setId(String value) { this.id = value; }\r\n\r\n    @XmlAttribute(name = &quot;Composite&quot;)\r\n    protected String composite;\r\n    public String getComposite() { return composite; }\r\n    public void setComposite(String value) { this.composite = value; }\r\n}\r\n~~~\r\n\r\n**Subelement.java**\r\n~~~\r\npackage org.example.element;\r\n\r\nimport java.io.Serializable;\r\nimport jakarta.xml.bind.annotation.*;\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;subelement&quot;)\r\npublic class Subelement implements Serializable\r\n{\r\n    private static final long serialVersionUID = 20230301L;\r\n\r\n    @XmlAttribute(name = &quot;Id&quot;)\r\n    protected String id;\r\n    public String getId() { return id; }\r\n    public void setId(String value) { this.id = value; }\r\n\r\n    @XmlAttribute(name = &quot;Composite&quot;)\r\n    protected String composite;\r\n    public String getComposite() { return composite; }\r\n    public void setComposite(String value) { this.composite = value; }\r\n}\r\n~~~\r\n\r\n\r\n&lt;!-- References --&gt;\r\n\r\n[1]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/element/project-pom.xml\r\n[2]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/element/src/main/resources/element.xsd\r\n[3]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/element/src/main/resources/element.xjb\r\n[4]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/element/src/test/java/org/example/element/ElementTest.java\r\n[5]: https://github.com/patrodyne/hisrc-higherjaxb/tree/master/assembly/samples/element/src/test/samples\r\n[6]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/element/OUTPUT.txt\r\n[7]: https://github.com/patrodyne/hisrc-higherjaxb/releases/download/2.1.0/hisrc-higherjaxb-sample-element-2.1.0-mvn-src.zip","title":"while using JAXB in converting some values does not converting","body":"<h3>Solution</h3>\n<p>To enable a character VALUE (i.e. <strong>220</strong>) to appear within the root element <em>together with subelements</em>, its <code>complexType</code> must have a <em>mixed</em> attribute set to &quot;true&quot;.</p>\n<p>Create a Maven project named <strong>Element</strong> using the standard file layout. This project includes:</p>\n<ul>\n<li>An XML Schema file <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/element/src/main/resources/element.xsd\" rel=\"nofollow noreferrer\">element.xsd</a> for the <code>Element</code> model</li>\n<li>A JAXB <em>binding</em> file <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/element/src/main/resources/element.xjb\" rel=\"nofollow noreferrer\">element.xjb</a> for customizations</li>\n<li>A JUnit test class to demonstrate (un)marshalling</li>\n<li>Sample XML files with <code>Element</code> data.</li>\n<li>The Maven POM file with <code>hisrc-higherjaxb-maven-plugin</code></li>\n</ul>\n<pre><code>Element\n    src\n        main\n            java\n            resources\n                element.xjb\n                element.xsd\n        test\n            java\n                org/example/element/ElementTest.java\n            resources\n                simplelogger.properties\n            samples\n                Element101.xml\n                Element102.xml\n    pom.xml\n</code></pre>\n<p>The JAXB classes are generated by this plugin in this project's <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/element/project-pom.xml\" rel=\"nofollow noreferrer\">pom.xml</a></p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.patrodyne.jvnet&lt;/groupId&gt;\n    &lt;artifactId&gt;hisrc-higherjaxb-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${hisrc-higherjaxb-maven-plugin.version}&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>and are generated to:</p>\n<pre><code>target/generated-sources/xjc/\n    org.example.element\n        Element.java\n        Subelement.java\n        ObjectFactory.java\n</code></pre>\n<h4>Model</h4>\n<p>The model for this example consists of a root element with attributes, child elements and a value.</p>\n<pre><code>element: root mixed=&quot;true&quot;\n    Id: attribute\n    Composite: attribute\n    subelement: children\n    VALUE\n</code></pre>\n<h4>Testing</h4>\n<pre><code>mvn clean test\n</code></pre>\n<p>This <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/element/OUTPUT.txt\" rel=\"nofollow noreferrer\">output</a> shows the test results.</p>\n<p>The JUnit test class, <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/element/src/test/java/org/example/element/ElementTest.java\" rel=\"nofollow noreferrer\">ElementTest</a>, scans for the sample files and invokes the method <code>checkSample(File sample)</code> to provide each file to the tester. For this project, a <code>JAXBContext</code> is created and each file in the <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/tree/master/assembly/samples/element/src/test/samples\" rel=\"nofollow noreferrer\">samples</a> path is <em>unmarshaled</em> to an <code>element</code> object. When successful, the <code>element</code> object is <em>marshaled</em> for logging and your review.</p>\n<blockquote>\n<p><strong>Note:</strong> For <em>mixed</em> content types, JAXB generates a <code>List</code> field named <code>content</code> to store an array of the sub-elements and value(s) found. There can be multiple values interspersed among the sub-elements. The <code>List</code> preserves the order of the sub-elements and values. If white-space is used to format the content, it will be bound to the neighboring values! A better alternative may be to eliminate the need for <em>mixed</em> content by declaring individual elements, in the model, for each data value.</p>\n</blockquote>\n<h4>Download</h4>\n<p>A zip containing the standalone <em>Maven</em> project and source code for this solution can be downloaded from <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/releases/download/2.1.0/hisrc-higherjaxb-sample-element-2.1.0-mvn-src.zip\" rel=\"nofollow noreferrer\">here</a>.</p>\n<h4>Java-First Design</h4>\n<p>In a <em>Java-First Design</em> (without xsd), the key to parsing the <code>220</code> value is to add a <code>@XmlMixed</code> annotation to the <code>content</code> field. When unmarshalling, the value will be included in the <code>content</code> list.</p>\n<p><strong>Element.java</strong></p>\n<pre><code>package org.example.element;\n\nimport java.io.Serializable;\nimport java.util.*;\nimport jakarta.xml.bind.JAXBElement;\nimport jakarta.xml.bind.annotation.*;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = { &quot;content&quot; })\n@XmlRootElement(name = &quot;element&quot;)\npublic class Element implements Serializable\n{\n    private static final long serialVersionUID = 20230301L;\n\n    @XmlElementRef(name = &quot;subelement&quot;, type = JAXBElement.class, required = false)\n    @XmlMixed\n    protected List&lt;Serializable&gt; content;\n    public List&lt;Serializable&gt; getContent() {\n        if (content == null) { content = new ArrayList&lt;&gt;(); }\n        return this.content;\n    }\n\n    @XmlAttribute(name = &quot;Id&quot;)\n    protected String id;\n    public String getId() { return id; }\n    public void setId(String value) { this.id = value; }\n\n    @XmlAttribute(name = &quot;Composite&quot;)\n    protected String composite;\n    public String getComposite() { return composite; }\n    public void setComposite(String value) { this.composite = value; }\n}\n</code></pre>\n<p><strong>Subelement.java</strong></p>\n<pre><code>package org.example.element;\n\nimport java.io.Serializable;\nimport jakarta.xml.bind.annotation.*;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;subelement&quot;)\npublic class Subelement implements Serializable\n{\n    private static final long serialVersionUID = 20230301L;\n\n    @XmlAttribute(name = &quot;Id&quot;)\n    protected String id;\n    public String getId() { return id; }\n    public void setId(String value) { this.id = value; }\n\n    @XmlAttribute(name = &quot;Composite&quot;)\n    protected String composite;\n    public String getComposite() { return composite; }\n    public void setComposite(String value) { this.composite = value; }\n}\n</code></pre>\n\n"}],"owner":{"account_id":23020749,"reputation":302,"user_id":17141839,"display_name":"zordu-nickim-agzivi-sikm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679001348,"creation_date":1678190039,"question_id":75661656,"body_markdown":"Performing the conversion from XML to Java classes using JAXB statement.But I am facing some problems. That is, it can successfully convert the values in the attributes in the XML tag.But I can&#39;t translate the xml tag&#39;s own values. For example I want to convert this into my java calsses: `&lt;tag&gt;value&lt;/tag&gt;`\r\n\r\nThis is my xml tag line:\r\n            \r\n    &lt;element Id=&quot;BGM01&quot;&gt;220&lt;/element&gt;\r\n\r\nand this is my java classes.\r\n\r\n    @Data\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class element {\r\n        @XmlAttribute(name = &quot;Id&quot;)\r\n        private String Id;\r\n        @XmlAttribute(name = &quot;Composite&quot;)\r\n        private String Composite;\r\n        private List&lt;subelement&gt; subelement;\r\n    }\r\n\r\nwhen generate java classes from xml file it generates values as like\r\n\r\n    {\r\n                    &quot;subelement&quot;: null,\r\n                    &quot;id&quot;: &quot;BGM01&quot;,\r\n                    &quot;composite&quot;: null\r\n    }\r\n\r\nas you can see value of tag **220** are not readed.\r\n\r\nWhat did I forget?","title":"while using JAXB in converting some values does not converting","body":"<p>Performing the conversion from XML to Java classes using JAXB statement.But I am facing some problems. That is, it can successfully convert the values in the attributes in the XML tag.But I can't translate the xml tag's own values. For example I want to convert this into my java calsses: <code>&lt;tag&gt;value&lt;/tag&gt;</code></p>\n<p>This is my xml tag line:</p>\n<pre><code>&lt;element Id=&quot;BGM01&quot;&gt;220&lt;/element&gt;\n</code></pre>\n<p>and this is my java classes.</p>\n<pre><code>@Data\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class element {\n    @XmlAttribute(name = &quot;Id&quot;)\n    private String Id;\n    @XmlAttribute(name = &quot;Composite&quot;)\n    private String Composite;\n    private List&lt;subelement&gt; subelement;\n}\n</code></pre>\n<p>when generate java classes from xml file it generates values as like</p>\n<pre><code>{\n                &quot;subelement&quot;: null,\n                &quot;id&quot;: &quot;BGM01&quot;,\n                &quot;composite&quot;: null\n}\n</code></pre>\n<p>as you can see value of tag <strong>220</strong> are not readed.</p>\n<p>What did I forget?</p>\n"},{"tags":["java","gradle","helidon","jandex"],"comments":[{"owner":{"account_id":385127,"reputation":6294,"user_id":742081,"display_name":"Ladicek"},"score":1,"creation_date":1678984990,"post_id":75759020,"comment_id":133643101,"body_markdown":"If Helidon requires Jandex 2.3 and you generate a Jandex index using Jandex 3.0, that won&#39;t work. Jandex index format is backward compatible, but not forward compatible (see the compatibility promise at https://smallrye.io/jandex/). Just generate an index using Jandex 2.3.1, which the Jandex Gradle plugin 0.x should easily allow. Aside, it is true there&#39;s little &quot;conceptual&quot; documentation for Jandex, but it is overall expected that application developers don&#39;t need to know anything about it. Even in this case, you don&#39;t have a Jandex problem -- you have a dependency convergence problem.","body":"If Helidon requires Jandex 2.3 and you generate a Jandex index using Jandex 3.0, that won&#39;t work. Jandex index format is backward compatible, but not forward compatible (see the compatibility promise at <a href=\"https://smallrye.io/jandex/\" rel=\"nofollow noreferrer\">smallrye.io/jandex</a>). Just generate an index using Jandex 2.3.1, which the Jandex Gradle plugin 0.x should easily allow. Aside, it is true there&#39;s little &quot;conceptual&quot; documentation for Jandex, but it is overall expected that application developers don&#39;t need to know anything about it. Even in this case, you don&#39;t have a Jandex problem -- you have a dependency convergence problem."},{"owner":{"account_id":4008983,"reputation":2115,"user_id":3302921,"accept_rate":22,"display_name":"Eric Kolotyluk"},"score":0,"creation_date":1678989878,"post_id":75759020,"comment_id":133644546,"body_markdown":"There are several Gradle 0.x plugins. Can you recommend a specific one, or should I just use trial and error until I find the latest one that works? Also, in this context, I am not the application developer, I am working in the role of build engineer, although I am doing my best to think more like the application developers who built this. Agreed, in trying to upgrade to Java 11+, I have created a dependency convergence problem.","body":"There are several Gradle 0.x plugins. Can you recommend a specific one, or should I just use trial and error until I find the latest one that works? Also, in this context, I am not the application developer, I am working in the role of build engineer, although I am doing my best to think more like the application developers who built this. Agreed, in trying to upgrade to Java 11+, I have created a dependency convergence problem."},{"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"score":0,"creation_date":1679001262,"post_id":75759020,"comment_id":133647275,"body_markdown":"Helidon 2.x itself appears to standardize on the `org.jboss.jandex:jandex-maven-plugin:1.1.0` artifact. Since presumably that generates indices that SmallRye&#39;s OpenAPI project version 2.0.26 can read, then perhaps it will do fine for you as well. See https://github.com/helidon-io/helidon/blob/helidon-2.x/pom.xml#L456-L460.","body":"Helidon 2.x itself appears to standardize on the <code>org.jboss.jandex:jandex-maven-plugin:1.1.0</code> artifact. Since presumably that generates indices that SmallRye&#39;s OpenAPI project version 2.0.26 can read, then perhaps it will do fine for you as well. See <a href=\"https://github.com/helidon-io/helidon/blob/helidon-2.x/pom.xml#L456-L460\" rel=\"nofollow noreferrer\">github.com/helidon-io/helidon/blob/helidon-2.x/&hellip;</a>."},{"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"score":1,"creation_date":1679001979,"post_id":75759020,"comment_id":133647421,"body_markdown":"(My mistake; I forgot you are a Gradle user. I don&#39;t know Gradle so cannot comment on which plugin you should use.)","body":"(My mistake; I forgot you are a Gradle user. I don&#39;t know Gradle so cannot comment on which plugin you should use.)"},{"owner":{"account_id":385127,"reputation":6294,"user_id":742081,"display_name":"Ladicek"},"score":1,"creation_date":1679007716,"post_id":75759020,"comment_id":133648514,"body_markdown":"I meant the `kordamp` Jandex Gradle plugin, which seems to be the most commonly used one.","body":"I meant the <code>kordamp</code> Jandex Gradle plugin, which seems to be the most commonly used one."},{"owner":{"account_id":4008983,"reputation":2115,"user_id":3302921,"accept_rate":22,"display_name":"Eric Kolotyluk"},"score":0,"creation_date":1679066858,"post_id":75759020,"comment_id":133659790,"body_markdown":"Yes, we are using kordamp jandex plugin.","body":"Yes, we are using kordamp jandex plugin."}],"answers":[{"comments":[{"owner":{"account_id":4008983,"reputation":2115,"user_id":3302921,"accept_rate":22,"display_name":"Eric Kolotyluk"},"score":0,"creation_date":1679066872,"post_id":75761672,"comment_id":133659795,"body_markdown":"So, through trial and error, I was able to back out of my Version 11 problem by progressively downgrading the jandex plugin until I reached 0.8.0. I am still having jandex issues, but they are beyond the scope of this topic.","body":"So, through trial and error, I was able to back out of my Version 11 problem by progressively downgrading the jandex plugin until I reached 0.8.0. I am still having jandex issues, but they are beyond the scope of this topic."},{"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"score":0,"creation_date":1679071461,"post_id":75761672,"comment_id":133661040,"body_markdown":"I don&#39;t know Gradle at all, but another way you could have done this was to go to the source and figure out what version of Jandex the plugin is using and when it changed: https://github.com/kordamp/jandex-gradle-plugin/blame/master/gradle.properties#L23","body":"I don&#39;t know Gradle at all, but another way you could have done this was to go to the source and figure out what version of Jandex the plugin is using and when it changed: <a href=\"https://github.com/kordamp/jandex-gradle-plugin/blame/master/gradle.properties#L23\" rel=\"nofollow noreferrer\">github.com/kordamp/jandex-gradle-plugin/blame/master/&hellip;</a>"}],"tags":[],"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679001164,"creation_date":1679001164,"answer_id":75761672,"question_id":75759020,"body_markdown":"To answer the question as asked:\r\n\r\nNo, you cannot get Helidon 2.x to use Jandex 3.x.  Among other things, this is because ([as previously explained](https://github.com/smallrye/jandex/issues/300#issuecomment-1470939911)) the version of SmallRye&#39;s OpenAPI project (which is actually the thing that uses Jandex, so Helidon is basically irrelevant here) that is used by Helidon 2.x requires the API published by Jandex 2.x.\r\n\r\nTo answer a rephrasing of the question:\r\n\r\n&quot;Can I get SmallRye&#39;s OpenAPI project version 2.0.26, whether it is used by Helidon or not, to use Jandex 3.x?&quot;\r\n\r\nNo, you cannot get SmallRye&#39;s OpenAPI project version 2.0.26 to use Jandex 3.x.  Among other things, this is because ([as previously explained](https://github.com/smallrye/jandex/issues/300#issuecomment-1470786940)) the API exposed by Jandex 2.x is different from the API exposed by Jandex 3.x (which is almost certainly why the major version number increased).","title":"Can I get Helidon 2.x to use the latest Jandex versions","body":"<p>To answer the question as asked:</p>\n<p>No, you cannot get Helidon 2.x to use Jandex 3.x.  Among other things, this is because (<a href=\"https://github.com/smallrye/jandex/issues/300#issuecomment-1470939911\" rel=\"nofollow noreferrer\">as previously explained</a>) the version of SmallRye's OpenAPI project (which is actually the thing that uses Jandex, so Helidon is basically irrelevant here) that is used by Helidon 2.x requires the API published by Jandex 2.x.</p>\n<p>To answer a rephrasing of the question:</p>\n<p>&quot;Can I get SmallRye's OpenAPI project version 2.0.26, whether it is used by Helidon or not, to use Jandex 3.x?&quot;</p>\n<p>No, you cannot get SmallRye's OpenAPI project version 2.0.26 to use Jandex 3.x.  Among other things, this is because (<a href=\"https://github.com/smallrye/jandex/issues/300#issuecomment-1470786940\" rel=\"nofollow noreferrer\">as previously explained</a>) the API exposed by Jandex 2.x is different from the API exposed by Jandex 3.x (which is almost certainly why the major version number increased).</p>\n"}],"owner":{"account_id":4008983,"reputation":2115,"user_id":3302921,"accept_rate":22,"display_name":"Eric Kolotyluk"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679001164,"creation_date":1678984156,"question_id":75759020,"body_markdown":"From \r\n- https://github.com/smallrye/jandex/issues/300\r\n- https://github.com/smallrye/jandex/issues/301\r\n\r\nI am trying to clean up a messy Gradle-based monorepo while upgrading from Java 8 to Java 11/17. I am not a Jandex or Helidon expert, but I am slowly getting more expert with Gradle. I am wondering if Bazel would be a better solution. &#129300;, but I digress...\r\n\r\nAlong the way, many things broke, and my general approach has been upgrading version of tools that hopefully work better with Java 11. However, this is not always an effective strategy.\r\n\r\nWe use Helidon 2.x for several projects, but I have run into trouble with Jandex, and I really don&#39;t understand Jandex as the documentation is weak on context. ChatGPT gave me a better explanation of Jandex than the Jandex documentation, but I can only go so far. &#128527;\r\n\r\nI tried upgrading to Helidon 3.x, but too many things broke. It appears that Jandex wants `org.jboss:jandex:2.3.1.Final (c)`, but I am wondering if there is any way to make it work with `io.smallrye:jandex:3.0.5` or `io.jboss:jandex:3.0.5` just so I can have the latest version of things? Right now, I am trying to figure out the best version of the Gradle Jandex Pluging to use, as `1.1.0` does not seem to work.\r\n\r\nI tried to force this with https://docs.gradle.org/current/userguide/dependency_constraints.html but could not get it working.\r\n\r\nThe people on the https://github.com/smallrye/jandex issues have been enormously helpful and prompt, but have suggested this is a better forum for getting help with my issues.\r\n\r\nFinally, can anyone point me to some more comprehensive documentation on Jandex and how it works?\r\n\r\n","title":"Can I get Helidon 2.x to use the latest Jandex versions","body":"<p>From</p>\n<ul>\n<li><a href=\"https://github.com/smallrye/jandex/issues/300\" rel=\"nofollow noreferrer\">https://github.com/smallrye/jandex/issues/300</a></li>\n<li><a href=\"https://github.com/smallrye/jandex/issues/301\" rel=\"nofollow noreferrer\">https://github.com/smallrye/jandex/issues/301</a></li>\n</ul>\n<p>I am trying to clean up a messy Gradle-based monorepo while upgrading from Java 8 to Java 11/17. I am not a Jandex or Helidon expert, but I am slowly getting more expert with Gradle. I am wondering if Bazel would be a better solution. 🤔, but I digress...</p>\n<p>Along the way, many things broke, and my general approach has been upgrading version of tools that hopefully work better with Java 11. However, this is not always an effective strategy.</p>\n<p>We use Helidon 2.x for several projects, but I have run into trouble with Jandex, and I really don't understand Jandex as the documentation is weak on context. ChatGPT gave me a better explanation of Jandex than the Jandex documentation, but I can only go so far. 😏</p>\n<p>I tried upgrading to Helidon 3.x, but too many things broke. It appears that Jandex wants <code>org.jboss:jandex:2.3.1.Final (c)</code>, but I am wondering if there is any way to make it work with <code>io.smallrye:jandex:3.0.5</code> or <code>io.jboss:jandex:3.0.5</code> just so I can have the latest version of things? Right now, I am trying to figure out the best version of the Gradle Jandex Pluging to use, as <code>1.1.0</code> does not seem to work.</p>\n<p>I tried to force this with <a href=\"https://docs.gradle.org/current/userguide/dependency_constraints.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/dependency_constraints.html</a> but could not get it working.</p>\n<p>The people on the <a href=\"https://github.com/smallrye/jandex\" rel=\"nofollow noreferrer\">https://github.com/smallrye/jandex</a> issues have been enormously helpful and prompt, but have suggested this is a better forum for getting help with my issues.</p>\n<p>Finally, can anyone point me to some more comprehensive documentation on Jandex and how it works?</p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679000832,"creation_date":1679000832,"answer_id":75761640,"question_id":43896694,"body_markdown":"Good cryptographic support did not land in Java until version 8, with fairly good support in version 7.\r\n\r\nBut it should be noted that [according to the 1.0 spec](https://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation), if the JWT was directly obtained from the issuer via a TLS connection, the token signature can be assumed to be valid:\r\n\r\n&gt; 3.1.3.7.  ID Token Validation\r\n&gt;\r\n&gt; Clients MUST validate the ID Token in the Token Response in the following manner:\r\n&gt;\r\n&gt; ...\r\n&gt;\r\n&gt;  6. If the ID Token is received via direct communication between the Client and the Token Endpoint (which it is in [the code] flow), the TLS server validation MAY be used to validate the issuer in place of checking the token signature. The Client MUST validate the signature of all other ID Tokens according to JWS using the algorithm specified in the JWT `alg` Header Parameter. The Client MUST use the keys provided by the Issuer.\r\n&gt;\r\n&gt; ...\r\n\r\nBTW, thanks for your question, it actually answered my question regarding how to check a JWT signature.","title":"How to verify JWT signature using Java 1.4","body":"<p>Good cryptographic support did not land in Java until version 8, with fairly good support in version 7.</p>\n<p>But it should be noted that <a href=\"https://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation\" rel=\"nofollow noreferrer\">according to the 1.0 spec</a>, if the JWT was directly obtained from the issuer via a TLS connection, the token signature can be assumed to be valid:</p>\n<blockquote>\n<p>3.1.3.7.  ID Token Validation</p>\n<p>Clients MUST validate the ID Token in the Token Response in the following manner:</p>\n<p>...</p>\n<ol start=\"6\">\n<li>If the ID Token is received via direct communication between the Client and the Token Endpoint (which it is in [the code] flow), the TLS server validation MAY be used to validate the issuer in place of checking the token signature. The Client MUST validate the signature of all other ID Tokens according to JWS using the algorithm specified in the JWT <code>alg</code> Header Parameter. The Client MUST use the keys provided by the Issuer.</li>\n</ol>\n<p>...</p>\n</blockquote>\n<p>BTW, thanks for your question, it actually answered my question regarding how to check a JWT signature.</p>\n"}],"owner":{"account_id":8655630,"reputation":431,"user_id":6480018,"accept_rate":29,"display_name":"deejo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":482,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679000832,"creation_date":1494429687,"question_id":43896694,"body_markdown":"I am working on a legacy IBM WCS e-Commerce application which is built on JDK 1.4.\r\n\r\n I have requirement verify a JWT token by calling an external JSON Web Key Set (JWKS) (/.well-known/jwks.json) end-point to retrieve the public key and use the verify the token signature and retrieve the Claims. \r\n\r\nBelow is the code using Java 8 which provides the RSA Public Key based on the &#39;n&#39; and &#39;e&#39; values from JSON Web Key. \r\n\r\n    public PublicKey getPublicKey() throws InvalidPublicKeyException {\r\n        try {\r\n            KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            BigInteger modulus = new BigInteger(1,Base64.decodeBase64(stringValue(&quot;n&quot;)));\r\n            BigInteger exponent = new BigInteger(1, \r\n    Base64.decodeBase64(stringValue(&quot;e&quot;)));\r\n            return kf.generatePublic(new RSAPublicKeySpec(modulus, exponent));\r\n        } catch (InvalidKeySpecException e) {\r\n            ......\r\n        } catch (NoSuchAlgorithmException e) {\r\n            ......\r\n        }\r\n    }\r\nLater I use that KEY to verify the signature,\r\n\r\n    Claims claims = Jwts.parser()\r\n                    .setSigningKey(getPublicKey(decodeToken(token)))\r\n                    .parseClaimsJws(token)\r\n                    .getBody();\r\n\r\nIs it possible to achieve the same above 2 functionalities using Java 1.4 (or) at least using Java 5? Please guide, thanks!\r\n\r\n","title":"How to verify JWT signature using Java 1.4","body":"<p>I am working on a legacy IBM WCS e-Commerce application which is built on JDK 1.4.</p>\n\n<p>I have requirement verify a JWT token by calling an external JSON Web Key Set (JWKS) (/.well-known/jwks.json) end-point to retrieve the public key and use the verify the token signature and retrieve the Claims. </p>\n\n<p>Below is the code using Java 8 which provides the RSA Public Key based on the 'n' and 'e' values from JSON Web Key. </p>\n\n<pre><code>public PublicKey getPublicKey() throws InvalidPublicKeyException {\n    try {\n        KeyFactory kf = KeyFactory.getInstance(\"RSA\");\n        BigInteger modulus = new BigInteger(1,Base64.decodeBase64(stringValue(\"n\")));\n        BigInteger exponent = new BigInteger(1, \nBase64.decodeBase64(stringValue(\"e\")));\n        return kf.generatePublic(new RSAPublicKeySpec(modulus, exponent));\n    } catch (InvalidKeySpecException e) {\n        ......\n    } catch (NoSuchAlgorithmException e) {\n        ......\n    }\n}\n</code></pre>\n\n<p>Later I use that KEY to verify the signature,</p>\n\n<pre><code>Claims claims = Jwts.parser()\n                .setSigningKey(getPublicKey(decodeToken(token)))\n                .parseClaimsJws(token)\n                .getBody();\n</code></pre>\n\n<p>Is it possible to achieve the same above 2 functionalities using Java 1.4 (or) at least using Java 5? Please guide, thanks!</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-boot-test"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1678993505,"post_id":75759041,"comment_id":133645533,"body_markdown":"try `@JsonFormat(pattern = &quot;yyyy-MM-dd&quot;)` on the `Date` object, also i do recommend that you use `LocalDate` instead of the old `Date` object","body":"try <code>@JsonFormat(pattern = &quot;yyyy-MM-dd&quot;)</code> on the <code>Date</code> object, also i do recommend that you use <code>LocalDate</code> instead of the old <code>Date</code> object"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1679005843,"post_id":75759041,"comment_id":133648219,"body_markdown":"`new Date(2022-01-01)` is not valid Java syntax.","body":"<code>new Date(2022-01-01)</code> is not valid Java syntax."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1679005885,"post_id":75759041,"comment_id":133648227,"body_markdown":"Which of the two bundled classes did you mean by `Date`? `java.util.Date` or `java.sql.Date`?","body":"Which of the two bundled classes did you mean by <code>Date</code>? <code>java.util.Date</code> or <code>java.sql.Date</code>?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1679005956,"post_id":75759041,"comment_id":133648244,"body_markdown":"You are using terrible date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310. For a date-only value, use `java.time.LocalDate`. Support for *java.time* is mandatory in JDBC 4.2 and later.","body":"You are using terrible date-time classes that were years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310. For a date-only value, use <code>java.time.LocalDate</code>. Support for <i>java.time</i> is mandatory in JDBC 4.2 and later."},{"owner":{"account_id":27800590,"reputation":1,"user_id":21225118,"display_name":"아삭아삭아삭"},"score":0,"creation_date":1679018437,"post_id":75759041,"comment_id":133649874,"body_markdown":"I used java.util.Date. \nand I tried LocalDate Type on dogBirthDate&#39;s field. That was too passed on postman but also failed on test code.\nhow can I coding on test code where stub dogDto.Post post (dogBirthDate) ?","body":"I used java.util.Date.  and I tried LocalDate Type on dogBirthDate&#39;s field. That was too passed on postman but also failed on test code. how can I coding on test code where stub dogDto.Post post (dogBirthDate) ?"}],"owner":{"account_id":27800590,"reputation":1,"user_id":21225118,"display_name":"아삭아삭아삭"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679000619,"creation_date":1678984272,"question_id":75759041,"body_markdown":"Requests and responses are sent and received with Postman, but the test code fails as follows.\r\n[error Message](https://i.stack.imgur.com/z4il7.png)\r\n[error Message](https://i.stack.imgur.com/PvFOs.png)\r\n\r\n```\r\n2023-03-17 01:10:44.796 DEBUG 1388 --- [    Test worker] o.j.s.OpenEntityManagerInViewInterceptor : Opening JPA EntityManager in OpenEntityManagerInViewInterceptor\r\n2023-03-17 01:10:44.920  WARN 1388 --- [    Test worker] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.util.Date` from String &quot;Jan 1, 1970, 9:00:02 AM&quot;: not a valid representation (error: Failed to parse Date value &#39;Jan 1, 1970, 9:00:02 AM&#39;: Cannot parse date &quot;Jan 1, 1970, 9:00:02 AM&quot;: not compatible with any of standard forms (&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&quot;, &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&quot;, &quot;EEE, dd MMM yyyy HH:mm:ss zzz&quot;, &quot;yyyy-MM-dd&quot;)); nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.util.Date` from String &quot;Jan 1, 1970, 9:00:02 AM&quot;: not a valid representation (error: Failed to parse Date value &#39;Jan 1, 1970, 9:00:02 AM&#39;: Cannot parse date &quot;Jan 1, 1970, 9:00:02 AM&quot;: not compatible with any of standard forms (&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&quot;, &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&quot;, &quot;EEE, dd MMM yyyy HH:mm:ss zzz&quot;, &quot;yyyy-MM-dd&quot;))&lt;EOL&gt; at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 36] (through reference chain: com.mainproject.udog_server.api.dto.DogDto$Post[&quot;dogBirthDate&quot;])]\r\n2023-03-17 01:10:44.920 DEBUG 1388 --- [    Test worker] o.j.s.OpenEntityManagerInViewInterceptor : Closing JPA EntityManager in OpenEntityManagerInViewInterceptor\r\n\r\nMockHttpServletRequest:\r\n      HTTP Method = POST\r\n      Request URI = /my-dogs\r\n       Parameters = {}\r\n          Headers = [Content-Type:&quot;application/json;charset=UTF-8&quot;, Accept:&quot;application/json&quot;, Content-Length:&quot;124&quot;]\r\n             Body = {&quot;dogName&quot;:&quot;럭키&quot;,&quot;dogBirthDate&quot;:&quot;Jan 1, 1970, 9:00:02 AM&quot;,&quot;dogSpecies&quot;:&quot;기타&quot;,&quot;dogWeight&quot;:10,&quot;dogDescription&quot;:&quot;없음&quot;}\r\n    Session Attrs = {}\r\n\r\nHandler:\r\n             Type = com.mainproject.udog_server.api.controller.DogController\r\n           Method = com.mainproject.udog_server.api.controller.DogController#postDog(Post, Principal)\r\n\r\nAsync:\r\n    Async started = false\r\n     Async result = null\r\n\r\nResolved Exception:\r\n             Type = org.springframework.http.converter.HttpMessageNotReadableException\r\n\r\nModelAndView:\r\n        View name = null\r\n             View = null\r\n            Model = null\r\n\r\nFlashMap:\r\n       Attributes = null\r\n\r\nMockHttpServletResponse:\r\n           Status = 400\r\n    Error message = null\r\n          Headers = [Vary:&quot;Origin&quot;, &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;, X-Content-Type-Options:&quot;nosniff&quot;, X-XSS-Protection:&quot;1; mode=block&quot;, Cache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;, Pragma:&quot;no-cache&quot;, Expires:&quot;0&quot;, X-Frame-Options:&quot;SAMEORIGIN&quot;]\r\n     Content type = null\r\n             Body = \r\n    Forwarded URL = null\r\n   Redirected URL = null\r\n          Cookies = []\r\n\r\nStatus expected:&lt;201&gt; but was:&lt;400&gt;\r\nExpected :201\r\nActual   :400\r\n&lt;Click to see difference&gt;\r\n\r\njava.lang.AssertionError: Status expected:&lt;201&gt; but was:&lt;400&gt;\r\n\tat org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)\r\n\tat org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)\r\n\tat org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:627)\r\n\tat org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)\r\n\tat com.mainproject.udog_server.restdocs.dog.DogControllerRestDocsTest.postDogTest(DogControllerRestDocsTest.java:109)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat com.sun.proxy.$Proxy2.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n\r\n\r\n```\r\n\r\nMy test code is here\r\n\r\n```\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\n@AutoConfigureRestDocs\r\npublic class DogControllerRestDocsTest {\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @MockBean\r\n    private DogService dogService;\r\n\r\n    @MockBean\r\n    private MemberService memberService;\r\n    @MockBean\r\n    private DogMapper mapper;\r\n\r\n    @Autowired\r\n    private Gson gson;\r\n\r\n    @Test\r\n    void postDogTest() throws Exception {\r\n        //given\r\n\r\n        DogDto.Post post = new DogDto.Post(&quot;럭키&quot;, new Date(2022-01-01), Dog.DogSpecies.기타, 10, &quot;없음&quot;);\r\n        String content = gson.toJson(post);\r\n\r\n        Member mockMember = new Member();\r\n        mockMember.setMemberId(1L);\r\n\r\n        Principal principal = () -&gt; &quot;test@test.com&quot;;\r\n        given(memberService.findLoginMemberByEmail(Mockito.anyString())).willReturn(mockMember);\r\n\r\n        given(mapper.dogPostDtoToDog(Mockito.any(DogDto.Post.class))).willReturn(new Dog());\r\n\r\n        given(dogService.createDog(Mockito.any(Dog.class))).willReturn(new Dog());\r\n\r\n        DogDto.Response responseDto = new DogDto.Response(1L,&quot;럭키&quot;,  &quot;2022-01-01&quot;, Dog.DogSpecies.기타, 10, &quot;없음&quot;);\r\n\r\n        given(mapper.dogToDogResponse(Mockito.any(Dog.class))).willReturn(responseDto);\r\n\r\n        //when\r\n        ResultActions actions =\r\n                mockMvc.perform(\r\n                        post(&quot;/my-dogs&quot;)\r\n                                .accept(MediaType.APPLICATION_JSON)\r\n                                .contentType(MediaType.APPLICATION_JSON)\r\n                                .content(content)\r\n                                .with(user(&quot;test@test.com&quot;))\r\n                                .principal(principal)\r\n                );\r\n\r\n        //then\r\n        actions\r\n                .andExpect(status().isCreated())\r\n                .andExpect(header().string(&quot;Location&quot;, is(startsWith(&quot;/my-dogs&quot;))))\r\n                .andDo(document(\r\n                        &quot;post-dog&quot;,\r\n                        getRequestPreProcessor(),\r\n                        getResponsePreProcessor(),\r\n                        requestFields(\r\n                                List.of(\r\n                                        fieldWithPath(&quot;dogName&quot;).type(JsonFieldType.STRING).description(&quot;강아지 이름&quot;),\r\n                                        fieldWithPath(&quot;dogBirthDate&quot;).type(JsonFieldType.STRING).description(&quot;강아지 생일&quot;),\r\n                                        fieldWithPath(&quot;dogSpecies&quot;).type(JsonFieldType.STRING).description(&quot;강아지 품종&quot;),\r\n                                        fieldWithPath(&quot;dogWeight&quot;).type(JsonFieldType.NUMBER).description(&quot;강아지 몸무게&quot;),\r\n                                        fieldWithPath(&quot;dogDescription&quot;).type(JsonFieldType.STRING).description(&quot;특이사항&quot;)\r\n                                )\r\n                        ),\r\n                        responseHeaders(\r\n                                headerWithName(HttpHeaders.LOCATION).description(&quot;Location header. 등록된 리소스의  URI&quot;)\r\n                        )\r\n\r\n                ));\r\n    }\r\n\r\n```\r\n\r\nand postDto and Response Code is here\r\n\r\n```\r\npublic class DogDto {\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n\r\n    public static class Post {\r\n        @NotBlank\r\n        private String dogName;\r\n\r\n        @NotNull\r\n        @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n        private Date dogBirthDate;\r\n\r\n        @NotNull\r\n        private Dog.DogSpecies dogSpecies;\r\n\r\n        @NotNull\r\n        private int dogWeight;\r\n\r\n        private String dogDescription;\r\n    }\r\n\r\n@AllArgsConstructor\r\n    @Getter\r\n    @Setter\r\n\r\n    public static class Response {\r\n        private long dogId;\r\n        private String dogName;\r\n        private String dogBirthDate;\r\n        private Dog.DogSpecies dogSpecies;\r\n        private int dogWeight;\r\n        private String dogDescription;\r\n   }\r\n}\r\n```\r\n\r\nand controller&#39;s @PostMapping Code is here\r\n```\r\n  @PostMapping\r\n    public ResponseEntity postDog (@Valid @RequestBody DogDto.Post post, Principal principal){\r\n        Dog creatingDog = dogMapper.dogPostDtoToDog(post);\r\n\r\n        Dog createdDog = compositeService.createDog(creatingDog, principal.getName());\r\n        DogDto.Response response = dogMapper.dogToDogResponse(createdDog);\r\n        return new ResponseEntity&lt;&gt;(response, HttpStatus.CREATED);\r\n    }\r\n```\r\n\r\nand Entity&#39;s Code is here\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class Dog {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long dogId;\r\n\r\n    @Column(nullable = false, length = 100)\r\n    private String dogName;\r\n\r\n    @Column(nullable = false, length = 20)\r\n    private Date dogBirthDate;\r\n\r\n    @Enumerated(value = EnumType.STRING)\r\n    @Column(nullable = false, length = 25)\r\n    private DogSpecies dogSpecies = DogSpecies.기타;\r\n\r\n    @Column(nullable = false, length = 20)\r\n    private int dogWeight;\r\n\r\n    @Column\r\n    private String dogDescription;\r\n\r\n    @JsonIgnore\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;MEMBER_ID&quot;)\r\n    private Member member;\r\n  }\r\n\r\n```\r\n\r\n\r\nI used @JsonFormat annotation at dogDto.Post\r\n```\r\n@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&quot;)\r\n private String dogBirthDate;\r\n```\r\n\r\nand used too @DateTimeFormat annotation\r\n```\r\n@DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\nprivate Date dogBirthDate;\r\n```\r\n\r\nbut there are not passed test code too.\r\n\r\nhow can i solve this problem?","title":"I specified the birthdate(yyyy-MM-dd) field as a Date type, but an error occurs in the test code","body":"<p>Requests and responses are sent and received with Postman, but the test code fails as follows.\n<a href=\"https://i.stack.imgur.com/z4il7.png\" rel=\"nofollow noreferrer\">error Message</a>\n<a href=\"https://i.stack.imgur.com/PvFOs.png\" rel=\"nofollow noreferrer\">error Message</a></p>\n<pre><code>2023-03-17 01:10:44.796 DEBUG 1388 --- [    Test worker] o.j.s.OpenEntityManagerInViewInterceptor : Opening JPA EntityManager in OpenEntityManagerInViewInterceptor\n2023-03-17 01:10:44.920  WARN 1388 --- [    Test worker] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.util.Date` from String &quot;Jan 1, 1970, 9:00:02 AM&quot;: not a valid representation (error: Failed to parse Date value 'Jan 1, 1970, 9:00:02 AM': Cannot parse date &quot;Jan 1, 1970, 9:00:02 AM&quot;: not compatible with any of standard forms (&quot;yyyy-MM-dd'T'HH:mm:ss.SSSX&quot;, &quot;yyyy-MM-dd'T'HH:mm:ss.SSS&quot;, &quot;EEE, dd MMM yyyy HH:mm:ss zzz&quot;, &quot;yyyy-MM-dd&quot;)); nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.util.Date` from String &quot;Jan 1, 1970, 9:00:02 AM&quot;: not a valid representation (error: Failed to parse Date value 'Jan 1, 1970, 9:00:02 AM': Cannot parse date &quot;Jan 1, 1970, 9:00:02 AM&quot;: not compatible with any of standard forms (&quot;yyyy-MM-dd'T'HH:mm:ss.SSSX&quot;, &quot;yyyy-MM-dd'T'HH:mm:ss.SSS&quot;, &quot;EEE, dd MMM yyyy HH:mm:ss zzz&quot;, &quot;yyyy-MM-dd&quot;))&lt;EOL&gt; at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 36] (through reference chain: com.mainproject.udog_server.api.dto.DogDto$Post[&quot;dogBirthDate&quot;])]\n2023-03-17 01:10:44.920 DEBUG 1388 --- [    Test worker] o.j.s.OpenEntityManagerInViewInterceptor : Closing JPA EntityManager in OpenEntityManagerInViewInterceptor\n\nMockHttpServletRequest:\n      HTTP Method = POST\n      Request URI = /my-dogs\n       Parameters = {}\n          Headers = [Content-Type:&quot;application/json;charset=UTF-8&quot;, Accept:&quot;application/json&quot;, Content-Length:&quot;124&quot;]\n             Body = {&quot;dogName&quot;:&quot;럭키&quot;,&quot;dogBirthDate&quot;:&quot;Jan 1, 1970, 9:00:02 AM&quot;,&quot;dogSpecies&quot;:&quot;기타&quot;,&quot;dogWeight&quot;:10,&quot;dogDescription&quot;:&quot;없음&quot;}\n    Session Attrs = {}\n\nHandler:\n             Type = com.mainproject.udog_server.api.controller.DogController\n           Method = com.mainproject.udog_server.api.controller.DogController#postDog(Post, Principal)\n\nAsync:\n    Async started = false\n     Async result = null\n\nResolved Exception:\n             Type = org.springframework.http.converter.HttpMessageNotReadableException\n\nModelAndView:\n        View name = null\n             View = null\n            Model = null\n\nFlashMap:\n       Attributes = null\n\nMockHttpServletResponse:\n           Status = 400\n    Error message = null\n          Headers = [Vary:&quot;Origin&quot;, &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;, X-Content-Type-Options:&quot;nosniff&quot;, X-XSS-Protection:&quot;1; mode=block&quot;, Cache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;, Pragma:&quot;no-cache&quot;, Expires:&quot;0&quot;, X-Frame-Options:&quot;SAMEORIGIN&quot;]\n     Content type = null\n             Body = \n    Forwarded URL = null\n   Redirected URL = null\n          Cookies = []\n\nStatus expected:&lt;201&gt; but was:&lt;400&gt;\nExpected :201\nActual   :400\n&lt;Click to see difference&gt;\n\njava.lang.AssertionError: Status expected:&lt;201&gt; but was:&lt;400&gt;\n    at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)\n    at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)\n    at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:627)\n    at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)\n    at com.mainproject.udog_server.restdocs.dog.DogControllerRestDocsTest.postDogTest(DogControllerRestDocsTest.java:109)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy2.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\n\n\n</code></pre>\n<p>My test code is here</p>\n<pre><code>@SpringBootTest\n@AutoConfigureMockMvc\n@AutoConfigureRestDocs\npublic class DogControllerRestDocsTest {\n    @Autowired\n    private MockMvc mockMvc;\n\n    @MockBean\n    private DogService dogService;\n\n    @MockBean\n    private MemberService memberService;\n    @MockBean\n    private DogMapper mapper;\n\n    @Autowired\n    private Gson gson;\n\n    @Test\n    void postDogTest() throws Exception {\n        //given\n\n        DogDto.Post post = new DogDto.Post(&quot;럭키&quot;, new Date(2022-01-01), Dog.DogSpecies.기타, 10, &quot;없음&quot;);\n        String content = gson.toJson(post);\n\n        Member mockMember = new Member();\n        mockMember.setMemberId(1L);\n\n        Principal principal = () -&gt; &quot;test@test.com&quot;;\n        given(memberService.findLoginMemberByEmail(Mockito.anyString())).willReturn(mockMember);\n\n        given(mapper.dogPostDtoToDog(Mockito.any(DogDto.Post.class))).willReturn(new Dog());\n\n        given(dogService.createDog(Mockito.any(Dog.class))).willReturn(new Dog());\n\n        DogDto.Response responseDto = new DogDto.Response(1L,&quot;럭키&quot;,  &quot;2022-01-01&quot;, Dog.DogSpecies.기타, 10, &quot;없음&quot;);\n\n        given(mapper.dogToDogResponse(Mockito.any(Dog.class))).willReturn(responseDto);\n\n        //when\n        ResultActions actions =\n                mockMvc.perform(\n                        post(&quot;/my-dogs&quot;)\n                                .accept(MediaType.APPLICATION_JSON)\n                                .contentType(MediaType.APPLICATION_JSON)\n                                .content(content)\n                                .with(user(&quot;test@test.com&quot;))\n                                .principal(principal)\n                );\n\n        //then\n        actions\n                .andExpect(status().isCreated())\n                .andExpect(header().string(&quot;Location&quot;, is(startsWith(&quot;/my-dogs&quot;))))\n                .andDo(document(\n                        &quot;post-dog&quot;,\n                        getRequestPreProcessor(),\n                        getResponsePreProcessor(),\n                        requestFields(\n                                List.of(\n                                        fieldWithPath(&quot;dogName&quot;).type(JsonFieldType.STRING).description(&quot;강아지 이름&quot;),\n                                        fieldWithPath(&quot;dogBirthDate&quot;).type(JsonFieldType.STRING).description(&quot;강아지 생일&quot;),\n                                        fieldWithPath(&quot;dogSpecies&quot;).type(JsonFieldType.STRING).description(&quot;강아지 품종&quot;),\n                                        fieldWithPath(&quot;dogWeight&quot;).type(JsonFieldType.NUMBER).description(&quot;강아지 몸무게&quot;),\n                                        fieldWithPath(&quot;dogDescription&quot;).type(JsonFieldType.STRING).description(&quot;특이사항&quot;)\n                                )\n                        ),\n                        responseHeaders(\n                                headerWithName(HttpHeaders.LOCATION).description(&quot;Location header. 등록된 리소스의  URI&quot;)\n                        )\n\n                ));\n    }\n\n</code></pre>\n<p>and postDto and Response Code is here</p>\n<pre><code>public class DogDto {\n    @Getter\n    @Setter\n    @AllArgsConstructor\n\n    public static class Post {\n        @NotBlank\n        private String dogName;\n\n        @NotNull\n        @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n        private Date dogBirthDate;\n\n        @NotNull\n        private Dog.DogSpecies dogSpecies;\n\n        @NotNull\n        private int dogWeight;\n\n        private String dogDescription;\n    }\n\n@AllArgsConstructor\n    @Getter\n    @Setter\n\n    public static class Response {\n        private long dogId;\n        private String dogName;\n        private String dogBirthDate;\n        private Dog.DogSpecies dogSpecies;\n        private int dogWeight;\n        private String dogDescription;\n   }\n}\n</code></pre>\n<p>and controller's @PostMapping Code is here</p>\n<pre><code>  @PostMapping\n    public ResponseEntity postDog (@Valid @RequestBody DogDto.Post post, Principal principal){\n        Dog creatingDog = dogMapper.dogPostDtoToDog(post);\n\n        Dog createdDog = compositeService.createDog(creatingDog, principal.getName());\n        DogDto.Response response = dogMapper.dogToDogResponse(createdDog);\n        return new ResponseEntity&lt;&gt;(response, HttpStatus.CREATED);\n    }\n</code></pre>\n<p>and Entity's Code is here</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\npublic class Dog {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long dogId;\n\n    @Column(nullable = false, length = 100)\n    private String dogName;\n\n    @Column(nullable = false, length = 20)\n    private Date dogBirthDate;\n\n    @Enumerated(value = EnumType.STRING)\n    @Column(nullable = false, length = 25)\n    private DogSpecies dogSpecies = DogSpecies.기타;\n\n    @Column(nullable = false, length = 20)\n    private int dogWeight;\n\n    @Column\n    private String dogDescription;\n\n    @JsonIgnore\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;MEMBER_ID&quot;)\n    private Member member;\n  }\n\n</code></pre>\n<p>I used @JsonFormat annotation at dogDto.Post</p>\n<pre><code>@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&quot;)\n private String dogBirthDate;\n</code></pre>\n<p>and used too @DateTimeFormat annotation</p>\n<pre><code>@DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\nprivate Date dogBirthDate;\n</code></pre>\n<p>but there are not passed test code too.</p>\n<p>how can i solve this problem?</p>\n"},{"tags":["java","spring-webflux"],"comments":[{"owner":{"account_id":11308336,"reputation":12935,"user_id":8292178,"accept_rate":57,"display_name":"mahan"},"score":2,"creation_date":1678995314,"post_id":75760875,"comment_id":133645947,"body_markdown":"How about using `serverHttpRequest.getQueryParams()`?","body":"How about using <code>serverHttpRequest.getQueryParams()</code>?"},{"owner":{"account_id":9797098,"reputation":582,"user_id":7259705,"display_name":"Jonathan Hagen"},"score":0,"creation_date":1678995368,"post_id":75760875,"comment_id":133645967,"body_markdown":"I think that requires a &quot;key&quot; which returns value from the query. In my case, I want all the string comes after &quot;?&quot;","body":"I think that requires a &quot;key&quot; which returns value from the query. In my case, I want all the string comes after &quot;?&quot;"},{"owner":{"account_id":22249835,"reputation":1973,"user_id":16482938,"display_name":"j_b"},"score":0,"creation_date":1678998016,"post_id":75760875,"comment_id":133646600,"body_markdown":"You might try: `String.join(&quot;&amp;&quot;, serverHttpRequest.getQueryParams())` or `serverHttpRequest.getQuereyParams().stream(.collect(Collectors.joining(&quot;&amp;&quot;));`","body":"You might try: <code>String.join(&quot;&amp;&quot;, serverHttpRequest.getQueryParams())</code> or <code>serverHttpRequest.getQuereyParams().stream(.collect(Collecto&zwnj;&#8203;rs.joining(&quot;&amp;&quot;));</code>"}],"answers":[{"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1679000385,"post_id":75761558,"comment_id":133647079,"body_markdown":"It&#39;s `getUri()`, which is already mentioned in the question.","body":"It&#39;s <code>getUri()</code>, which is already mentioned in the question."},{"owner":{"account_id":3670600,"reputation":319,"user_id":3057914,"accept_rate":67,"display_name":"fedden"},"score":0,"creation_date":1679000646,"post_id":75761558,"comment_id":133647137,"body_markdown":"Ah, true, I fixed the answer, thanks! \nTrying it out using Kotlin set me up :)","body":"Ah, true, I fixed the answer, thanks!  Trying it out using Kotlin set me up :)"},{"owner":{"account_id":9797098,"reputation":582,"user_id":7259705,"display_name":"Jonathan Hagen"},"score":0,"creation_date":1679058293,"post_id":75761558,"comment_id":133657245,"body_markdown":"I think first answer is the one I needed. Thanks!","body":"I think first answer is the one I needed. Thanks!"}],"tags":[],"owner":{"account_id":3670600,"reputation":319,"user_id":3057914,"accept_rate":67,"display_name":"fedden"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679000541,"creation_date":1679000146,"answer_id":75761558,"question_id":75760875,"body_markdown":"Try to use getRawQuery instead to get the original string after the ? sign\r\n\r\n    request.getURI().getRawQuery()\r\n\r\nSee https://www.geeksforgeeks.org/uri-getrawquery-method-in-java-with-examples/\r\n\r\n\r\n\r\nAs an alternative option to have a look into you could get all of the parameters as a map using \r\n\r\n    @RequestParam Map&lt;String,String&gt; allParams\r\n\r\nSee https://www.baeldung.com/spring-request-param","title":"Best way to get all string comes after &quot;?&quot; in url in spring webflux","body":"<p>Try to use getRawQuery instead to get the original string after the ? sign</p>\n<pre><code>request.getURI().getRawQuery()\n</code></pre>\n<p>See <a href=\"https://www.geeksforgeeks.org/uri-getrawquery-method-in-java-with-examples/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/uri-getrawquery-method-in-java-with-examples/</a></p>\n<p>As an alternative option to have a look into you could get all of the parameters as a map using</p>\n<pre><code>@RequestParam Map&lt;String,String&gt; allParams\n</code></pre>\n<p>See <a href=\"https://www.baeldung.com/spring-request-param\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-request-param</a></p>\n"}],"owner":{"account_id":9797098,"reputation":582,"user_id":7259705,"display_name":"Jonathan Hagen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75761558,"answer_count":1,"score":0,"last_activity_date":1679000541,"creation_date":1678995001,"question_id":75760875,"body_markdown":"I need to extract all the string that comes after &quot;?&quot; in spring webflux. Basically if request was\r\n```\r\nhttp://localhost:8080/test?some=query|test=whatever,|something\r\n```\r\nI want to extract\r\n```\r\nsome=query|test=whatever,|something\r\n```\r\nas one string value. Here is what I am doing:\r\n```\r\n@GetMapping(path = &quot;/test&quot;, produces = APPLICATION_JSON_VALUE)\r\npublic Mono&lt;String&gt; test(ServerHttpRequest serverHttpRequest) {\r\n    String uri = serverHttpRequest.getURI().toString();\r\n    String queryParam = uri.substring(uri.lastIndexOf(&quot;?&quot;) + 1);\r\n    return Mono.just(queryParam);\r\n}\r\n```\r\nIt does work, but I want to know if there is better or cleaner way to write this code.\r\n\r\nUPDATE:\r\nI found that this is little better:\r\n```\r\nString queryParam = serverHttpRequest.getUri().getRawQuery();\r\n```","title":"Best way to get all string comes after &quot;?&quot; in url in spring webflux","body":"<p>I need to extract all the string that comes after &quot;?&quot; in spring webflux. Basically if request was</p>\n<pre><code>http://localhost:8080/test?some=query|test=whatever,|something\n</code></pre>\n<p>I want to extract</p>\n<pre><code>some=query|test=whatever,|something\n</code></pre>\n<p>as one string value. Here is what I am doing:</p>\n<pre><code>@GetMapping(path = &quot;/test&quot;, produces = APPLICATION_JSON_VALUE)\npublic Mono&lt;String&gt; test(ServerHttpRequest serverHttpRequest) {\n    String uri = serverHttpRequest.getURI().toString();\n    String queryParam = uri.substring(uri.lastIndexOf(&quot;?&quot;) + 1);\n    return Mono.just(queryParam);\n}\n</code></pre>\n<p>It does work, but I want to know if there is better or cleaner way to write this code.</p>\n<p>UPDATE:\nI found that this is little better:</p>\n<pre><code>String queryParam = serverHttpRequest.getUri().getRawQuery();\n</code></pre>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":24392869,"reputation":1,"user_id":18322597,"display_name":"Manas Dodiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679000274,"creation_date":1679000274,"answer_id":75761572,"question_id":72849366,"body_markdown":"This error usually comes while working with images if I am not wrong then you can fix this by doing 3 things\r\n\r\n1st = Use painterResource(id = R.drawable.image_id) instead of painterResource(id = drawable.image_id)\r\n\r\n2nd = Go to Finder and to this location /Users/myname/Desktop/AndroidLabs2/app/build/intermediates/packaged_res/debug/\r\n\r\n3rd = Put the same image (copy the same image you added to drawable) into drawable folder\r\n\r\nThis would fix the ERROR if it is with the images.","title":".DS_Store is not a directory error - Android Studio","body":"<p>This error usually comes while working with images if I am not wrong then you can fix this by doing 3 things</p>\n<p>1st = Use painterResource(id = R.drawable.image_id) instead of painterResource(id = drawable.image_id)</p>\n<p>2nd = Go to Finder and to this location /Users/myname/Desktop/AndroidLabs2/app/build/intermediates/packaged_res/debug/</p>\n<p>3rd = Put the same image (copy the same image you added to drawable) into drawable folder</p>\n<p>This would fix the ERROR if it is with the images.</p>\n"}],"owner":{"account_id":24102350,"reputation":3,"user_id":18074018,"display_name":"HugeCodingNoobie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":544,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679000274,"creation_date":1656876973,"question_id":72849366,"body_markdown":"I&#39;m working on an Android project from my Macbook and I&#39;m getting the error \r\n\r\n    &#39;/Users/myname/Desktop/AndroidLabs2/app/build/intermediates/packaged_res/debug/.DS_Store&#39; is not a directory\r\n\r\nI&#39;ve added it to my .gitignore and to under Preferences&gt;File Types&gt;Ignored Files and Folders and yet when I run my project I&#39;m still getting the same error.\r\n\r\nI know that .DS_Store is something that IOS automatically adds when you view the files through the Finder (From my understanding) but I really just need to get this to run.\r\n\r\nI&#39;m pretty new to Android Studio and coding in general so this could very well be an extremely simple fix but I can&#39;t for the life of me figure this out.\r\n\r\n","title":".DS_Store is not a directory error - Android Studio","body":"<p>I'm working on an Android project from my Macbook and I'm getting the error</p>\n<pre><code>'/Users/myname/Desktop/AndroidLabs2/app/build/intermediates/packaged_res/debug/.DS_Store' is not a directory\n</code></pre>\n<p>I've added it to my .gitignore and to under Preferences&gt;File Types&gt;Ignored Files and Folders and yet when I run my project I'm still getting the same error.</p>\n<p>I know that .DS_Store is something that IOS automatically adds when you view the files through the Finder (From my understanding) but I really just need to get this to run.</p>\n<p>I'm pretty new to Android Studio and coding in general so this could very well be an extremely simple fix but I can't for the life of me figure this out.</p>\n"},{"tags":["java","netbeans","javafx-8","netbeans-8","javafx-3d"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1425535584,"post_id":28871075,"comment_id":46005556,"body_markdown":"Right click the project node, select &quot;Properties&quot; from the popup menu, select &quot;Libraries&quot; from the dialog.  In the &quot;Java Platform&quot; combobox, select a valid platform.  If for some reason, there&#39;s nothing there, try clicking &quot;Manage Platforms&quot; and either add a new one or correct the path issues with the exist/default one...","body":"Right click the project node, select &quot;Properties&quot; from the popup menu, select &quot;Libraries&quot; from the dialog.  In the &quot;Java Platform&quot; combobox, select a valid platform.  If for some reason, there&#39;s nothing there, try clicking &quot;Manage Platforms&quot; and either add a new one or correct the path issues with the exist/default one..."},{"owner":{"account_id":5242409,"reputation":886,"user_id":4189071,"accept_rate":70,"display_name":"The Well"},"score":0,"creation_date":1425535783,"post_id":28871075,"comment_id":46005635,"body_markdown":"I did what you suggested, java platform is set to JDK 1.8. It didn&#39;t worked!","body":"I did what you suggested, java platform is set to JDK 1.8. It didn&#39;t worked!"},{"owner":{"account_id":5242409,"reputation":886,"user_id":4189071,"accept_rate":70,"display_name":"The Well"},"score":0,"creation_date":1425536076,"post_id":28871075,"comment_id":46005753,"body_markdown":"I think, the problem here is the build-impl.xml, maybe there is a misconfiguration after opening it with the latest IDE.. What do you think?","body":"I think, the problem here is the build-impl.xml, maybe there is a misconfiguration after opening it with the latest IDE.. What do you think?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1425536197,"post_id":28871075,"comment_id":46005795,"body_markdown":"Possible.  You could close the project and then delete the `build.xml` file (not the `-impl.xml`!) and then re-open the project...Make sure you do a clean and build afterwards...Also, I sometimes just cycle the platform value, open the combobox and select another value, if there are no other values, this seems to work as well..","body":"Possible.  You could close the project and then delete the <code>build.xml</code> file (not the <code>-impl.xml</code>!) and then re-open the project...Make sure you do a clean and build afterwards...Also, I sometimes just cycle the platform value, open the combobox and select another value, if there are no other values, this seems to work as well.."},{"owner":{"account_id":5242409,"reputation":886,"user_id":4189071,"accept_rate":70,"display_name":"The Well"},"score":0,"creation_date":1425537050,"post_id":28871075,"comment_id":46006115,"body_markdown":"It didn&#39;t worked as well.. Oh men! Im stuck!.. Please help!!!!","body":"It didn&#39;t worked as well.. Oh men! Im stuck!.. Please help!!!!"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1425537285,"post_id":28871075,"comment_id":46006191,"body_markdown":"Grab the source, delete the project, start again...","body":"Grab the source, delete the project, start again..."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1425537748,"post_id":28871075,"comment_id":46006361,"body_markdown":"Sometimes, the only way to split a pea is to use a thermal nuclear device!","body":"Sometimes, the only way to split a pea is to use a thermal nuclear device!"},{"owner":{"account_id":164849,"reputation":1375,"user_id":387880,"accept_rate":50,"display_name":"eppesuig"},"score":0,"creation_date":1517087815,"post_id":28871075,"comment_id":83954160,"body_markdown":"I think a very similar problem (with solution) is https://stackoverflow.com/questions/32455793/the-j2se-platform-is-not-correctly-set-up-netbeans-ide-8-0-2/48418101#48418101","body":"I think a very similar problem (with solution) is <a href=\"https://stackoverflow.com/questions/32455793/the-j2se-platform-is-not-correctly-set-up-netbeans-ide-8-0-2/48418101#48418101\" title=\"the j2se platform is not correctly set up netbeans ide 8 0 2\">stackoverflow.com/questions/32455793/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3245347,"reputation":3398,"user_id":3887073,"accept_rate":75,"display_name":"Ben"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516801830,"creation_date":1516801830,"answer_id":48424104,"question_id":28871075,"body_markdown":"The easiest way to resolve this problem is:\r\n\r\n1. open the Project in NetBeans\r\n2. open Project-Settings for this project\r\n3. check (and maybe correct/fix) all settings (including Platform-Settings)\r\n4. click on Save/OK in settings dialog\r\n5. Clean+Build project\r\n\r\nBy doing this, project-settings-file will be updated to current settings.\r\n\r\nCheers!\r\n","title":"Your active platform is: default_platform, but the corresponding property &quot;platforms.default_platform.home&quot; is not found","body":"<p>The easiest way to resolve this problem is:</p>\n\n<ol>\n<li>open the Project in NetBeans</li>\n<li>open Project-Settings for this project</li>\n<li>check (and maybe correct/fix) all settings (including Platform-Settings)</li>\n<li>click on Save/OK in settings dialog</li>\n<li>Clean+Build project</li>\n</ol>\n\n<p>By doing this, project-settings-file will be updated to current settings.</p>\n\n<p>Cheers!</p>\n"},{"tags":[],"owner":{"account_id":371416,"reputation":1004,"user_id":719934,"accept_rate":75,"display_name":"ewh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663621148,"creation_date":1663621148,"answer_id":73779238,"question_id":28871075,"body_markdown":"I know this is a very old question, but I encountered this recently.  The solution I came up with is to modify the user-editable `build.xml` file (which is usually one directory up from build-impl.xml) and add the following after the `&lt;import&gt;` of `build-impl.xml`:\r\n\r\n    &lt;property name=&quot;platforms.default_platform.home&quot;\r\n              location=&quot;${java.home}/..&quot;/&gt;\r\n\r\nThis allows any user/local settings to have precedence, but if not defined, the java used should be the same java that is executing Ant.","title":"Your active platform is: default_platform, but the corresponding property &quot;platforms.default_platform.home&quot; is not found","body":"<p>I know this is a very old question, but I encountered this recently.  The solution I came up with is to modify the user-editable <code>build.xml</code> file (which is usually one directory up from build-impl.xml) and add the following after the <code>&lt;import&gt;</code> of <code>build-impl.xml</code>:</p>\n<pre><code>&lt;property name=&quot;platforms.default_platform.home&quot;\n          location=&quot;${java.home}/..&quot;/&gt;\n</code></pre>\n<p>This allows any user/local settings to have precedence, but if not defined, the java used should be the same java that is executing Ant.</p>\n"},{"tags":[],"owner":{"account_id":993332,"reputation":103,"user_id":7398215,"display_name":"Stig Helmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664179748,"creation_date":1664179748,"answer_id":73851228,"question_id":28871075,"body_markdown":"This problem still exists in Netbeans 15 and can be solved by updating the `nbproject/private/private.properties` file and ensure this row exists:\r\n\r\n    javac.debug=true","title":"Your active platform is: default_platform, but the corresponding property &quot;platforms.default_platform.home&quot; is not found","body":"<p>This problem still exists in Netbeans 15 and can be solved by updating the <code>nbproject/private/private.properties</code> file and ensure this row exists:</p>\n<pre><code>javac.debug=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":82504,"reputation":6723,"user_id":231929,"accept_rate":88,"display_name":"Peter Hull"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679000104,"creation_date":1679000104,"answer_id":75761555,"question_id":28871075,"body_markdown":"This just happened to me (NB 17, in 2023) after I updated my Java installation, just a minor version update. Projects created (using Ant) before the update would obviously not run because the JDK home directory had changed, but when I used Netbeans Resolve References dialog I started to see these messages about `default_platform`. However newly created projects were fine and they had the exact same references to `default_platform` (in the `project.properties` file)\r\n\r\nEnsuring that `javac.debug=true` exists as recommended elsewhere did not help (why would it?), and it seems wrong that I&#39;d have to edit `build-impl.xml` given that it worked before and other projects are fine.\r\n\r\nI also deleted NB cache but this did not help.\r\n\r\nWhat I did was to create another Java platform (using `Tools|Java Platform`) with the same JDK home as the default one. Then I had `JDK 17` and `JDK 17 (Default)`. I switched my project over to the `JDK 17` platform and that fixed the problem.","title":"Your active platform is: default_platform, but the corresponding property &quot;platforms.default_platform.home&quot; is not found","body":"<p>This just happened to me (NB 17, in 2023) after I updated my Java installation, just a minor version update. Projects created (using Ant) before the update would obviously not run because the JDK home directory had changed, but when I used Netbeans Resolve References dialog I started to see these messages about <code>default_platform</code>. However newly created projects were fine and they had the exact same references to <code>default_platform</code> (in the <code>project.properties</code> file)</p>\n<p>Ensuring that <code>javac.debug=true</code> exists as recommended elsewhere did not help (why would it?), and it seems wrong that I'd have to edit <code>build-impl.xml</code> given that it worked before and other projects are fine.</p>\n<p>I also deleted NB cache but this did not help.</p>\n<p>What I did was to create another Java platform (using <code>Tools|Java Platform</code>) with the same JDK home as the default one. Then I had <code>JDK 17</code> and <code>JDK 17 (Default)</code>. I switched my project over to the <code>JDK 17</code> platform and that fixed the problem.</p>\n"}],"owner":{"account_id":5242409,"reputation":886,"user_id":4189071,"accept_rate":70,"display_name":"The Well"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6807,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1679000104,"creation_date":1425535379,"question_id":28871075,"body_markdown":"Im currently developing JavaFX applications. I used Netbeans 7.4 before but now I switch to Netbeans 8.0.2. After running my project with the new IDE, an error occured saying:\r\n\r\n    C:\\projects\\client\\QueueBoard\\nbproject\\build-impl.xml:87: The J2SE Platform is not correctly set up.\r\n    Your active platform is: default_platform, but the corresponding property &quot;platforms.default_platform.home&quot; is not found in the project&#39;s properties files. \r\n    Either open the project in the IDE and setup the Platform with the same name or add it manually.\r\n    For example like this:\r\n    ant -Duser.properties.file=&lt;path_to_property_file&gt; jar (where you put the property &quot;platforms.default_platform.home&quot; in a .properties file)\r\n    or ant -Dplatforms.default_platform.home=&lt;path_to_JDK_home&gt; jar (where no properties file is used)\r\n    BUILD FAILED (total time: 0 seconds)\r\n\r\nHow do you resolve this? ","title":"Your active platform is: default_platform, but the corresponding property &quot;platforms.default_platform.home&quot; is not found","body":"<p>Im currently developing JavaFX applications. I used Netbeans 7.4 before but now I switch to Netbeans 8.0.2. After running my project with the new IDE, an error occured saying:</p>\n\n<pre><code>C:\\projects\\client\\QueueBoard\\nbproject\\build-impl.xml:87: The J2SE Platform is not correctly set up.\nYour active platform is: default_platform, but the corresponding property \"platforms.default_platform.home\" is not found in the project's properties files. \nEither open the project in the IDE and setup the Platform with the same name or add it manually.\nFor example like this:\nant -Duser.properties.file=&lt;path_to_property_file&gt; jar (where you put the property \"platforms.default_platform.home\" in a .properties file)\nor ant -Dplatforms.default_platform.home=&lt;path_to_JDK_home&gt; jar (where no properties file is used)\nBUILD FAILED (total time: 0 seconds)\n</code></pre>\n\n<p>How do you resolve this? </p>\n"},{"tags":["java","graphql","schema","schemagen"],"owner":{"account_id":27322938,"reputation":21,"user_id":20836336,"display_name":"Tom Delebo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678999902,"creation_date":1678999902,"question_id":75761523,"body_markdown":"I am using schemagen (run via gradle) to generate my .graphqls and .json schema files. However, when I run schemagen it doesn&#39;t include the reason on deprecated fields and gives me an ESLint error (ESLint: Directive &quot;@deprecated&quot; must have a reason! (@graphql-eslint/require-deprecation-reason).\r\n\r\nJava code looks like:\r\n\r\n```\r\nfinal GraphQLFieldDefinition oldField = field(\r\n    newFieldDefinition()\r\n        .name( &quot;oldField&quot; )\r\n\t.description( &quot;an old field&quot; )\r\n\t.type( GraphQLDate )\r\n        .deprecate( &quot;deprecated, use newField&quot; )\r\n\t.build() );\r\n\r\ntype( ModelBuilder.fromTransferable( &quot;Example&quot;, &quot;Example Description&quot;, Example.class )\r\n    .field( oldField )\r\n    .field( &quot;newField&quot;, &quot;newField Description&quot;, GraphQLDate )\r\n    .buildObject() );\r\n```\r\n\r\nThe schema.graphqls output:\r\n\r\n```\r\n&quot;Example Description&quot;\r\ntype Example {\r\n  &quot;an old field&quot;\r\n  oldField: ISO8601Date @deprecated\r\n  &quot;newField Description&quot;\r\n  newField: ISO8601Date\r\n}\r\n```\r\n\r\nError: ESLint: Directive &quot;@deprecated&quot; must have a reason! (@graphql-eslint/require-deprecation-reason)\r\n\r\nThe expected output would be:\r\n\r\n```\r\n&quot;Example Description&quot;\r\ntype Example {\r\n  &quot;an old field&quot;\r\n  oldField: ISO8601Date @deprecated(reason: &quot;deprecated, use newField&quot;)\r\n  &quot;newField Description&quot;\r\n  newField: ISO8601Date\r\n}\r\n```","title":"GraphQL Schemagen doesn&#39;t include deprecation reason","body":"<p>I am using schemagen (run via gradle) to generate my .graphqls and .json schema files. However, when I run schemagen it doesn't include the reason on deprecated fields and gives me an ESLint error (ESLint: Directive &quot;@deprecated&quot; must have a reason! (@graphql-eslint/require-deprecation-reason).</p>\n<p>Java code looks like:</p>\n<pre><code>final GraphQLFieldDefinition oldField = field(\n    newFieldDefinition()\n        .name( &quot;oldField&quot; )\n    .description( &quot;an old field&quot; )\n    .type( GraphQLDate )\n        .deprecate( &quot;deprecated, use newField&quot; )\n    .build() );\n\ntype( ModelBuilder.fromTransferable( &quot;Example&quot;, &quot;Example Description&quot;, Example.class )\n    .field( oldField )\n    .field( &quot;newField&quot;, &quot;newField Description&quot;, GraphQLDate )\n    .buildObject() );\n</code></pre>\n<p>The schema.graphqls output:</p>\n<pre><code>&quot;Example Description&quot;\ntype Example {\n  &quot;an old field&quot;\n  oldField: ISO8601Date @deprecated\n  &quot;newField Description&quot;\n  newField: ISO8601Date\n}\n</code></pre>\n<p>Error: ESLint: Directive &quot;@deprecated&quot; must have a reason! (@graphql-eslint/require-deprecation-reason)</p>\n<p>The expected output would be:</p>\n<pre><code>&quot;Example Description&quot;\ntype Example {\n  &quot;an old field&quot;\n  oldField: ISO8601Date @deprecated(reason: &quot;deprecated, use newField&quot;)\n  &quot;newField Description&quot;\n  newField: ISO8601Date\n}\n</code></pre>\n"},{"tags":["java","sorting","topological-sort"],"comments":[{"owner":{"account_id":9685245,"reputation":9531,"user_id":7185318,"accept_rate":88,"display_name":"Luatic"},"score":0,"creation_date":1679000328,"post_id":75761478,"comment_id":133647069,"body_markdown":"Could you provide the test cases?","body":"Could you provide the test cases?"},{"owner":{"account_id":9685245,"reputation":9531,"user_id":7185318,"accept_rate":88,"display_name":"Luatic"},"score":0,"creation_date":1679000503,"post_id":75761478,"comment_id":133647105,"body_markdown":"I would guess that you forgot to throw an error if no topological ordering exists (i.e. if the graph is cyclic). This is the case if `counter &lt; vertices.size()`.","body":"I would guess that you forgot to throw an error if no topological ordering exists (i.e. if the graph is cyclic). This is the case if <code>counter &lt; vertices.size()</code>."}],"owner":{"account_id":26190324,"reputation":9,"user_id":19872276,"display_name":"Preston Little"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678999815,"creation_date":1678999562,"question_id":75761478,"body_markdown":"I&#39;m currently trying to implement a topological sort method but I&#39;m struggling to finish it and need some advice. The errors I get when I test this method are: &quot;Expected exception: java.lang.IllegalArgumentException&quot;, expected:&lt;5&gt; but was:&lt;0&gt;&quot;, &quot;java.lang.IllegalArgumentException: No path found&quot;. What could I be doing wrong and fix?\r\n\r\n/**\r\n     * Helper method for the sort method in the GraphUtility class to generate a sorted ordering of the vertices in the\r\n     * graph. Note that a graph may have more than one valid ordering, and any such ordering is accepted.\r\n     *\r\n     * @param sources      - the source from where we&#39;ll be starting our sort\r\n     * @param destinations - the destination, or end point, of our sort\r\n     * @return a sorted ordering of the vertices in the graph\r\n     */\r\n    public List&lt;Type&gt; topologicalSort(List&lt;Type&gt; sources, List&lt;Type&gt; destinations) throws IllegalArgumentException {\r\n        createGraph(sources, destinations);\r\n\r\n        Queue&lt;Vertex&lt;Type&gt;&gt; doableTasks = new LinkedList&lt;&gt;();\r\n        List&lt;Type&gt; output = new LinkedList&lt;&gt;();\r\n\r\n        for (Vertex&lt;Type&gt; task : vertices.values()) {\r\n            if (task.getIndegree() == 0) {\r\n                doableTasks.add(task);\r\n            }\r\n        }\r\n\r\n        // counter for things we&#39;ve visited in the queue\r\n        int counter = 0;\r\n\r\n        while (!(doableTasks.isEmpty())) {\r\n            Vertex&lt;Type&gt; task = doableTasks.remove();\r\n            counter++;\r\n            output.add(task.getName());\r\n\r\n            for (Iterator&lt;Edge&lt;Type&gt;&gt; it = task.edges(); it.hasNext(); ) {\r\n                Edge&lt;Type&gt; outEdge = it.next();\r\n\r\n                Vertex&lt;Type&gt; neighbor = outEdge.getOtherVertex();\r\n\r\n                neighbor.setIndegree(neighbor.getIndegree() - 1);\r\n\r\n                if (neighbor.getIndegree() == 0) {\r\n                    doableTasks.add(neighbor);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (counter &gt; output.size()) {\r\n            throw new IllegalArgumentException(&quot;The size doesn&#39;t match.&quot;);\r\n        }\r\n        return output;\r\n    }\r\n\r\n    public static &lt;Type&gt; void createGraph(List&lt;Type&gt; sources, List&lt;Type&gt; destinations)\r\n            throws IllegalArgumentException {\r\n        if (sources.size() != destinations.size()) {\r\n            throw new IllegalArgumentException(&quot;Must have the same size&quot;);\r\n        }\r\n\r\n        Graph&lt;Type&gt; graph = new Graph&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; sources.size(); i++) {\r\n            Type sourceData = sources.get(i);\r\n            Type destData = destinations.get(i);\r\n            graph.addEdge(sourceData, destData);\r\n        }\r\n    }\r\n\r\npublic class Vertex&lt;Type&gt; {\r\n\r\n    // Used to id the Vertex\r\n    private final Type name;\r\n\r\n    // Adjacency list\r\n    private final LinkedList&lt;Edge&lt;Type&gt;&gt; adj;\r\n    private int indegree;\r\n\r\n    public int getIndegree() {\r\n        return indegree;\r\n    }\r\n\r\n    public int setIndegree(int newIndegree) {\r\n        return indegree = newIndegree;\r\n    }\r\n\r\n    /**\r\n     * Creates a new Vertex object, using the given name.\r\n     *\r\n     * @param name - string used to identify this Vertex\r\n     */\r\n    public Vertex(Type name) {\r\n        this.name = name;\r\n        this.adj = new LinkedList&lt;&gt;();\r\n\r\n    }\r\n\r\n    /**\r\n     * @return the string used to identify this Vertex\r\n     */\r\n    public Type getName() {\r\n        return name;\r\n    }\r\n\r\n    /**\r\n     * Adds a directed edge from this Vertex to another.\r\n     *\r\n     * @param otherVertex - the Vertex object that is the destination of the edge\r\n     */\r\n    public void addEdge(Vertex&lt;Type&gt; otherVertex) {\r\n        adj.add(new Edge&lt;&gt;(otherVertex));\r\n        otherVertex.indegree++;\r\n    }\r\n\r\n    /**\r\n     * @return an iterator for accessing the edges for which this Vertex is the source\r\n     */\r\n    public Iterator&lt;Edge&lt;Type&gt;&gt; edges() {\r\n        return adj.iterator();\r\n    }\r\n\r\n    /**\r\n     * Generates and returns a textual representation of this Vertex.\r\n     */\r\n    public String toString() {\r\n        StringBuilder s = new StringBuilder(&quot;Vertex &quot; + name + &quot; adjacent to vertices &quot;);\r\n        for (Edge&lt;Type&gt; typeEdge : adj) s.append(typeEdge).append(&quot;  &quot;);\r\n        return s.toString();\r\n    }\r\n}","title":"Implementing a Topological Sort Method","body":"<p>I'm currently trying to implement a topological sort method but I'm struggling to finish it and need some advice. The errors I get when I test this method are: &quot;Expected exception: java.lang.IllegalArgumentException&quot;, expected:&lt;5&gt; but was:&lt;0&gt;&quot;, &quot;java.lang.IllegalArgumentException: No path found&quot;. What could I be doing wrong and fix?</p>\n<p>/**\n* Helper method for the sort method in the GraphUtility class to generate a sorted ordering of the vertices in the\n* graph. Note that a graph may have more than one valid ordering, and any such ordering is accepted.\n*\n* @param sources      - the source from where we'll be starting our sort\n* @param destinations - the destination, or end point, of our sort\n* @return a sorted ordering of the vertices in the graph\n*/\npublic List topologicalSort(List sources, List destinations) throws IllegalArgumentException {\ncreateGraph(sources, destinations);</p>\n<pre><code>    Queue&lt;Vertex&lt;Type&gt;&gt; doableTasks = new LinkedList&lt;&gt;();\n    List&lt;Type&gt; output = new LinkedList&lt;&gt;();\n\n    for (Vertex&lt;Type&gt; task : vertices.values()) {\n        if (task.getIndegree() == 0) {\n            doableTasks.add(task);\n        }\n    }\n\n    // counter for things we've visited in the queue\n    int counter = 0;\n\n    while (!(doableTasks.isEmpty())) {\n        Vertex&lt;Type&gt; task = doableTasks.remove();\n        counter++;\n        output.add(task.getName());\n\n        for (Iterator&lt;Edge&lt;Type&gt;&gt; it = task.edges(); it.hasNext(); ) {\n            Edge&lt;Type&gt; outEdge = it.next();\n\n            Vertex&lt;Type&gt; neighbor = outEdge.getOtherVertex();\n\n            neighbor.setIndegree(neighbor.getIndegree() - 1);\n\n            if (neighbor.getIndegree() == 0) {\n                doableTasks.add(neighbor);\n            }\n        }\n    }\n\n    if (counter &gt; output.size()) {\n        throw new IllegalArgumentException(&quot;The size doesn't match.&quot;);\n    }\n    return output;\n}\n\npublic static &lt;Type&gt; void createGraph(List&lt;Type&gt; sources, List&lt;Type&gt; destinations)\n        throws IllegalArgumentException {\n    if (sources.size() != destinations.size()) {\n        throw new IllegalArgumentException(&quot;Must have the same size&quot;);\n    }\n\n    Graph&lt;Type&gt; graph = new Graph&lt;&gt;();\n\n    for (int i = 0; i &lt; sources.size(); i++) {\n        Type sourceData = sources.get(i);\n        Type destData = destinations.get(i);\n        graph.addEdge(sourceData, destData);\n    }\n}\n</code></pre>\n<p>public class Vertex {</p>\n<pre><code>// Used to id the Vertex\nprivate final Type name;\n\n// Adjacency list\nprivate final LinkedList&lt;Edge&lt;Type&gt;&gt; adj;\nprivate int indegree;\n\npublic int getIndegree() {\n    return indegree;\n}\n\npublic int setIndegree(int newIndegree) {\n    return indegree = newIndegree;\n}\n\n/**\n * Creates a new Vertex object, using the given name.\n *\n * @param name - string used to identify this Vertex\n */\npublic Vertex(Type name) {\n    this.name = name;\n    this.adj = new LinkedList&lt;&gt;();\n\n}\n\n/**\n * @return the string used to identify this Vertex\n */\npublic Type getName() {\n    return name;\n}\n\n/**\n * Adds a directed edge from this Vertex to another.\n *\n * @param otherVertex - the Vertex object that is the destination of the edge\n */\npublic void addEdge(Vertex&lt;Type&gt; otherVertex) {\n    adj.add(new Edge&lt;&gt;(otherVertex));\n    otherVertex.indegree++;\n}\n\n/**\n * @return an iterator for accessing the edges for which this Vertex is the source\n */\npublic Iterator&lt;Edge&lt;Type&gt;&gt; edges() {\n    return adj.iterator();\n}\n\n/**\n * Generates and returns a textual representation of this Vertex.\n */\npublic String toString() {\n    StringBuilder s = new StringBuilder(&quot;Vertex &quot; + name + &quot; adjacent to vertices &quot;);\n    for (Edge&lt;Type&gt; typeEdge : adj) s.append(typeEdge).append(&quot;  &quot;);\n    return s.toString();\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","swing","sql-server-2005","jasper-reports","netbeans-7"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1365748300,"post_id":15964552,"comment_id":22753668,"body_markdown":"Are you able to post the `report1.jrxml` as well?  Does the query return any results?","body":"Are you able to post the <code>report1.jrxml</code> as well?  Does the query return any results?"},{"owner":{"account_id":2496119,"reputation":372,"user_id":2172454,"accept_rate":67,"display_name":"Crystal Maiden"},"score":0,"creation_date":1365748457,"post_id":15964552,"comment_id":22753725,"body_markdown":"I have report1.jrxml sir, and if I click Preview it shows me the JasperReport the way I want it, I also re-arrange it already (I already assumed that it will works fine because I follow the the tutorial right, but I&#39;m wrong.)","body":"I have report1.jrxml sir, and if I click Preview it shows me the JasperReport the way I want it, I also re-arrange it already (I already assumed that it will works fine because I follow the the tutorial right, but I&#39;m wrong.)"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1365748933,"post_id":15964552,"comment_id":22753906,"body_markdown":"Can include the file as part of your question?  That way we might be able to download it and have a look - or construct a simple version","body":"Can include the file as part of your question?  That way we might be able to download it and have a look - or construct a simple version"},{"owner":{"account_id":2496119,"reputation":372,"user_id":2172454,"accept_rate":67,"display_name":"Crystal Maiden"},"score":0,"creation_date":1365750369,"post_id":15964552,"comment_id":22754463,"body_markdown":"how can I do that sir?","body":"how can I do that sir?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1365750449,"post_id":15964552,"comment_id":22754501,"body_markdown":"The report is an XML file, open it in a text editor, copy the contents and edit your question to included, just like you did with your source code","body":"The report is an XML file, open it in a text editor, copy the contents and edit your question to included, just like you did with your source code"},{"owner":{"account_id":2496119,"reputation":372,"user_id":2172454,"accept_rate":67,"display_name":"Crystal Maiden"},"score":0,"creation_date":1365750711,"post_id":15964552,"comment_id":22754626,"body_markdown":"kindly look at the edit sir @MadProgrammer, is that it?","body":"kindly look at the edit sir @MadProgrammer, is that it?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1365751217,"post_id":15964552,"comment_id":22754861,"body_markdown":"A few things come to mind. You define `con` twice.  Once as private class field and once within in the `search` method.  This means that the `con` you use in the `reportviewer` method may be `null`, also, you&#39;re not closing your database resources when your finished with them...","body":"A few things come to mind. You define <code>con</code> twice.  Once as private class field and once within in the <code>search</code> method.  This means that the <code>con</code> you use in the <code>reportviewer</code> method may be <code>null</code>, also, you&#39;re not closing your database resources when your finished with them..."},{"owner":{"account_id":2496119,"reputation":372,"user_id":2172454,"accept_rate":67,"display_name":"Crystal Maiden"},"score":0,"creation_date":1365751843,"post_id":15964552,"comment_id":22755136,"body_markdown":"can you teach me how to fix the con issue and how to close it? sir @MadProgrammer","body":"can you teach me how to fix the con issue and how to close it? sir @MadProgrammer"},{"owner":{"account_id":2496119,"reputation":372,"user_id":2172454,"accept_rate":67,"display_name":"Crystal Maiden"},"score":0,"creation_date":1365752057,"post_id":15964552,"comment_id":22755246,"body_markdown":"I did it! it&#39;s the con issue!, I place Connection conn\n\nand then I edit the Connection conn =  DriverManager.getConnection(url, user, pass);\n\nto conn = DriverManager.getConnection(url,user,pass);","body":"I did it! it&#39;s the con issue!, I place Connection conn  and then I edit the Connection conn =  DriverManager.getConnection(url, user, pass);  to conn = DriverManager.getConnection(url,user,pass);"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1365752199,"post_id":15964552,"comment_id":22755300,"body_markdown":"! Awesome ! Well done !","body":"! Awesome ! Well done !"},{"owner":{"account_id":2496119,"reputation":372,"user_id":2172454,"accept_rate":67,"display_name":"Crystal Maiden"},"score":0,"creation_date":1365752237,"post_id":15964552,"comment_id":22755323,"body_markdown":"the problem now is the loading, should I do another question sir @MadProgrammer ?? :D this becoming a bad habit eh?","body":"the problem now is the loading, should I do another question sir @MadProgrammer ?? :D this becoming a bad habit eh?"},{"owner":{"account_id":2496119,"reputation":372,"user_id":2172454,"accept_rate":67,"display_name":"Crystal Maiden"},"score":0,"creation_date":1365752308,"post_id":15964552,"comment_id":22755350,"body_markdown":"because it takes approximately 15secs to display the `Jasper Report`, is it really like that?","body":"because it takes approximately 15secs to display the <code>Jasper Report</code>, is it really like that?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1365752587,"post_id":15964552,"comment_id":22755460,"body_markdown":"We have one that can take over 30 minutes to compile, you&#39;re lucky;).  Give me a few minutes, I&#39;ll update my answer with some ideas","body":"We have one that can take over 30 minutes to compile, you&#39;re lucky;).  Give me a few minutes, I&#39;ll update my answer with some ideas"},{"owner":{"account_id":2496119,"reputation":372,"user_id":2172454,"accept_rate":67,"display_name":"Crystal Maiden"},"score":0,"creation_date":1365752769,"post_id":15964552,"comment_id":22755542,"body_markdown":"Maybe it&#39;s because my `database` don&#39;t have a large data. Ok sir @MadProgrammer I&#39;ll wait :)","body":"Maybe it&#39;s because my <code>database</code> don&#39;t have a large data. Ok sir @MadProgrammer I&#39;ll wait :)"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1365752950,"post_id":15964552,"comment_id":22755625,"body_markdown":"I&#39;ve added a simple concept of a `SwingWorker`.  I don&#39;t think you can speed up the process greatly, but this will stop the UI from looking like it&#39;s hung","body":"I&#39;ve added a simple concept of a <code>SwingWorker</code>.  I don&#39;t think you can speed up the process greatly, but this will stop the UI from looking like it&#39;s hung"},{"owner":{"account_id":2496119,"reputation":372,"user_id":2172454,"accept_rate":67,"display_name":"Crystal Maiden"},"score":0,"creation_date":1365753423,"post_id":15964552,"comment_id":22755837,"body_markdown":"Sir @MadProgrammer can you spare some time in discussion room? I need to tell you something","body":"Sir @MadProgrammer can you spare some time in discussion room? I need to tell you something"},{"owner":{"account_id":2496119,"reputation":372,"user_id":2172454,"accept_rate":67,"display_name":"Crystal Maiden"},"score":0,"creation_date":1365753428,"post_id":15964552,"comment_id":22755840,"body_markdown":"let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/28086/discussion-between-crystal-maiden-and-madprogrammer)","body":"let us <a href=\"http://chat.stackoverflow.com/rooms/28086/discussion-between-crystal-maiden-and-madprogrammer\">continue this discussion in chat</a>"},{"owner":{"account_id":6134570,"reputation":980,"user_id":4783846,"display_name":"M Siddique"},"score":0,"creation_date":1509734675,"post_id":15964552,"comment_id":81155175,"body_markdown":"This may help you in this case... [ The Document has no page](https://stackoverflow.com/a/47102519/4783846)","body":"This may help you in this case... [ The Document has no page](<a href=\"https://stackoverflow.com/a/47102519/4783846\">stackoverflow.com/a/47102519/4783846</a>)"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678999284,"creation_date":1365752500,"answer_id":15965710,"question_id":15964552,"body_markdown":"Firstly, resource management...\r\n\r\nYou should only open a single connection to the database if you can.  Make sure you close it before the application is closed.  The connection process can be expensive, so you only really want to do it when you absolutely have to...\r\n\r\nYou close your resources once you have finished with them.  This is best achieved by using a `try-finally` block...\r\n\r\n    private Connection con;\r\n\r\n    protected void close() throws SQLException {\r\n        if (con != null) {\r\n            con.close();\r\n        }\r\n    }\r\n\r\n    protected Connection getConnection() throws ClassNotFoundException, SQLException {\r\n        if (con == null) {\r\n            Class.forName(&quot;sun.jdbc.odbc.JdbcOdbcDriver&quot;);\r\n            String url = &quot;jdbc:odbc:*****&quot;;\r\n            String user = &quot;******&quot;;\r\n            String pass = &quot;******&quot;;\r\n            Connection con = DriverManager.getConnection(url, user, pass);\r\n        }\r\n        return con;\r\n    }\r\n\r\n    private void search() throws Exception {\r\n\r\n        Statement state = null;\r\n        ResultSet rs = null;\r\n\r\n        try {\r\n\r\n            state = getConnection().createStatement();\r\n\r\n            rs = state.executeQuery(&quot;SELECT &quot;\r\n                    + &quot;pIDNo AS &#39;Patient ID&#39;,&quot;\r\n                    + &quot;pLName AS &#39;Last Name&#39;,&quot;\r\n                    + &quot;pFName AS &#39;First Name&#39;,&quot;\r\n                    + &quot;pMI AS &#39;M.I.&#39;,&quot;\r\n                    + &quot;pSex AS &#39;Sex&#39;,&quot;\r\n                    + &quot;pStatus AS &#39;Status&#39;,&quot;\r\n                    + &quot;pTelNo AS &#39;Contact No.&#39;,&quot;\r\n                    + &quot;pDocID AS &#39;Doctor ID&#39;,&quot;\r\n                    + &quot;pAddr AS &#39;St. No.&#39;,&quot;\r\n                    + &quot;pStreet AS &#39;St. Name&#39;,&quot;\r\n                    + &quot;pBarangay AS &#39;Barangay&#39;,&quot;\r\n                    + &quot;pCity AS &#39;City&#39;,&quot;\r\n                    + &quot; pProvince AS &#39;Province&#39;,&quot;\r\n                    + &quot; pLNameKIN AS &#39;Last Name&#39;,&quot;\r\n                    + &quot;pFNameKIN AS &#39;First Name&#39;,&quot;\r\n                    + &quot;pMIKIN AS &#39;M.I.&#39;,&quot;\r\n                    + &quot;pRelationKIN AS &#39;Relation&#39;,&quot;\r\n                    + &quot;pTotalDue AS &#39;Total Due&#39;&quot;\r\n                    + &quot; FROM dbo.Patients&quot;);\r\n            ResultSetMetaData rsmetadata = rs.getMetaData();\r\n            int columns = rsmetadata.getColumnCount();\r\n\r\n            DefaultTableModel dtm = new DefaultTableModel();\r\n            Vector column_name = new Vector();\r\n            Vector data_rows = new Vector();\r\n\r\n            for (int i = 1; i &lt; columns; i++) {\r\n                column_name.addElement(rsmetadata.getColumnName(i));\r\n            }\r\n            dtm.setColumnIdentifiers(column_name);\r\n\r\n            while (rs.next()) {\r\n                data_rows = new Vector();\r\n                for (int j = 1; j &lt; columns; j++) {\r\n                    data_rows.addElement(rs.getString(j));\r\n                }\r\n                dtm.addRow(data_rows);\r\n            }\r\n            tblPatient.setModel(dtm);\r\n            \r\n        } finally {\r\n            try {\r\n                rs.close();\r\n            } catch (Exception e) {\r\n            }\r\n            try {\r\n                state.close();\r\n            } catch (Exception e) {\r\n            }\r\n        }\r\n    }\r\n\r\nNow to the problem at hand...\r\n\r\nIt appears you have created two references to `con`.  One as class field and one as a method variable (in `search`).\r\n\r\nYou are then passing `con` to Jasper Reports, which I suspect is `null`.  Instead you should use the `getConnection()` as outlined above.\r\n\r\n    public void reportviewer() {\r\n        try{\r\n            String report = &quot;C:\\\\Users\\\\cleanfuel\\\\Documents\\\\NetBeansProjects\\\\StringManipulation\\\\src\\\\stringmanipulation\\\\report1.jrxml&quot;;\r\n            JasperReport jasp_report = JasperCompileManager.compileReport(report);\r\n            JasperPrint jasp_print = JasperFillManager.fillReport(jasp_report, null, getConnection());\r\n            JasperViewer.viewReport(jasp_print);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n**Updated with background worker...**\r\n\r\nA report can take some time to compile and fill.  You should off load this work to a background thread so it doesn&#39;t interfere with your UI (or make it look like you application as hung).\r\n\r\nThe simplest solution would be to use a `SwingWorker`.  It has functionality to resync the threads with the UI\r\n\r\n    public void reportviewer() {\r\n        // Disable any UI components you don&#39;t want the user using while\r\n        // the report generates...\r\n        new ReportWorker().execute();\r\n    }\r\n\r\n    public class ReportWorker extends SwingWorker&lt;JasperPrint, Void&gt; {\r\n\r\n        @Override\r\n        protected JasperPrint doInBackground() throws Exception {\r\n            String report = &quot;C:\\\\Users\\\\cleanfuel\\\\Documents\\\\NetBeansProjects\\\\StringManipulation\\\\src\\\\stringmanipulation\\\\report1.jrxml&quot;;\r\n            JasperReport jasp_report = JasperCompileManager.compileReport(report);\r\n            JasperPrint jasp_print = JasperFillManager.fillReport(jasp_report, null, getConnection());\r\n            return jasp_print;\r\n        }\r\n\r\n        @Override\r\n        protected void done() {\r\n            try {\r\n                JasperPrint jasp_print = get();\r\n                JasperViewer.viewReport(jasp_print);\r\n            } catch (Exception exp) {\r\n                exp.printStackTrace();\r\n            }\r\n            // Renable any UI components you disabled before the report run\r\n        }\r\n    }\r\n\r\nTake a look at [Concurrency in Swing](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/) for more details.\r\n\r\n**Hints**\r\n\r\nIf you can pre-compile the report and load it (rather the loading the XML), it will make the report process quicker.\r\n","title":"The document has no pages. Jasper Report","body":"<p>Firstly, resource management...</p>\n<p>You should only open a single connection to the database if you can.  Make sure you close it before the application is closed.  The connection process can be expensive, so you only really want to do it when you absolutely have to...</p>\n<p>You close your resources once you have finished with them.  This is best achieved by using a <code>try-finally</code> block...</p>\n<pre><code>private Connection con;\n\nprotected void close() throws SQLException {\n    if (con != null) {\n        con.close();\n    }\n}\n\nprotected Connection getConnection() throws ClassNotFoundException, SQLException {\n    if (con == null) {\n        Class.forName(&quot;sun.jdbc.odbc.JdbcOdbcDriver&quot;);\n        String url = &quot;jdbc:odbc:*****&quot;;\n        String user = &quot;******&quot;;\n        String pass = &quot;******&quot;;\n        Connection con = DriverManager.getConnection(url, user, pass);\n    }\n    return con;\n}\n\nprivate void search() throws Exception {\n\n    Statement state = null;\n    ResultSet rs = null;\n\n    try {\n\n        state = getConnection().createStatement();\n\n        rs = state.executeQuery(&quot;SELECT &quot;\n                + &quot;pIDNo AS 'Patient ID',&quot;\n                + &quot;pLName AS 'Last Name',&quot;\n                + &quot;pFName AS 'First Name',&quot;\n                + &quot;pMI AS 'M.I.',&quot;\n                + &quot;pSex AS 'Sex',&quot;\n                + &quot;pStatus AS 'Status',&quot;\n                + &quot;pTelNo AS 'Contact No.',&quot;\n                + &quot;pDocID AS 'Doctor ID',&quot;\n                + &quot;pAddr AS 'St. No.',&quot;\n                + &quot;pStreet AS 'St. Name',&quot;\n                + &quot;pBarangay AS 'Barangay',&quot;\n                + &quot;pCity AS 'City',&quot;\n                + &quot; pProvince AS 'Province',&quot;\n                + &quot; pLNameKIN AS 'Last Name',&quot;\n                + &quot;pFNameKIN AS 'First Name',&quot;\n                + &quot;pMIKIN AS 'M.I.',&quot;\n                + &quot;pRelationKIN AS 'Relation',&quot;\n                + &quot;pTotalDue AS 'Total Due'&quot;\n                + &quot; FROM dbo.Patients&quot;);\n        ResultSetMetaData rsmetadata = rs.getMetaData();\n        int columns = rsmetadata.getColumnCount();\n\n        DefaultTableModel dtm = new DefaultTableModel();\n        Vector column_name = new Vector();\n        Vector data_rows = new Vector();\n\n        for (int i = 1; i &lt; columns; i++) {\n            column_name.addElement(rsmetadata.getColumnName(i));\n        }\n        dtm.setColumnIdentifiers(column_name);\n\n        while (rs.next()) {\n            data_rows = new Vector();\n            for (int j = 1; j &lt; columns; j++) {\n                data_rows.addElement(rs.getString(j));\n            }\n            dtm.addRow(data_rows);\n        }\n        tblPatient.setModel(dtm);\n        \n    } finally {\n        try {\n            rs.close();\n        } catch (Exception e) {\n        }\n        try {\n            state.close();\n        } catch (Exception e) {\n        }\n    }\n}\n</code></pre>\n<p>Now to the problem at hand...</p>\n<p>It appears you have created two references to <code>con</code>.  One as class field and one as a method variable (in <code>search</code>).</p>\n<p>You are then passing <code>con</code> to Jasper Reports, which I suspect is <code>null</code>.  Instead you should use the <code>getConnection()</code> as outlined above.</p>\n<pre><code>public void reportviewer() {\n    try{\n        String report = &quot;C:\\\\Users\\\\cleanfuel\\\\Documents\\\\NetBeansProjects\\\\StringManipulation\\\\src\\\\stringmanipulation\\\\report1.jrxml&quot;;\n        JasperReport jasp_report = JasperCompileManager.compileReport(report);\n        JasperPrint jasp_print = JasperFillManager.fillReport(jasp_report, null, getConnection());\n        JasperViewer.viewReport(jasp_print);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p><strong>Updated with background worker...</strong></p>\n<p>A report can take some time to compile and fill.  You should off load this work to a background thread so it doesn't interfere with your UI (or make it look like you application as hung).</p>\n<p>The simplest solution would be to use a <code>SwingWorker</code>.  It has functionality to resync the threads with the UI</p>\n<pre><code>public void reportviewer() {\n    // Disable any UI components you don't want the user using while\n    // the report generates...\n    new ReportWorker().execute();\n}\n\npublic class ReportWorker extends SwingWorker&lt;JasperPrint, Void&gt; {\n\n    @Override\n    protected JasperPrint doInBackground() throws Exception {\n        String report = &quot;C:\\\\Users\\\\cleanfuel\\\\Documents\\\\NetBeansProjects\\\\StringManipulation\\\\src\\\\stringmanipulation\\\\report1.jrxml&quot;;\n        JasperReport jasp_report = JasperCompileManager.compileReport(report);\n        JasperPrint jasp_print = JasperFillManager.fillReport(jasp_report, null, getConnection());\n        return jasp_print;\n    }\n\n    @Override\n    protected void done() {\n        try {\n            JasperPrint jasp_print = get();\n            JasperViewer.viewReport(jasp_print);\n        } catch (Exception exp) {\n            exp.printStackTrace();\n        }\n        // Renable any UI components you disabled before the report run\n    }\n}\n</code></pre>\n<p>Take a look at <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> for more details.</p>\n<p><strong>Hints</strong></p>\n<p>If you can pre-compile the report and load it (rather the loading the XML), it will make the report process quicker.</p>\n"}],"owner":{"account_id":2496119,"reputation":372,"user_id":2172454,"accept_rate":67,"display_name":"Crystal Maiden"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7897,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":15965710,"answer_count":1,"score":3,"last_activity_date":1678999284,"creation_date":1365748153,"question_id":15964552,"body_markdown":" I&#39;m having a problem searching for a solution to this issue. My codes works fine after I run it. It suppose to display the data on my sql database to my jtable, and there&#39;s a button that will trigger to display the jasper report but there&#39;s a little bit problem, it always shows me the message &#39;The document has no pages.&#39; why is that? can someone help me with my issue here? What did I do wrong?\r\n\r\nhere is my codes:\r\n\r\n    package stringmanipulation;\r\n    import java.sql.*;\r\n    import java.util.Vector;\r\n    import javax.swing.table.DefaultTableModel;\r\n    import net.sf.jasperreports.engine.JasperCompileManager;\r\n    import net.sf.jasperreports.engine.JasperFillManager;\r\n    import net.sf.jasperreports.engine.JasperPrint;\r\n    import net.sf.jasperreports.engine.JasperReport;\r\n    import net.sf.jasperreports.view.JasperViewer;\r\n    import org.apache.log4j.ConsoleAppender;\r\n    import org.apache.log4j.Logger;\r\n    import org.apache.log4j.PatternLayout;\r\n    \r\n    \r\n    public class r2xml extends javax.swing.JFrame {\r\n    \r\n        \r\n        public r2xml() {\r\n            initComponents();\r\n        }\r\n        \r\n    Connection con;\r\n        private void search() throws Exception{\r\n            Class.forName(&quot;sun.jdbc.odbc.JdbcOdbcDriver&quot;);\r\n                String url = &quot;jdbc:odbc:*****&quot;;\r\n                String user = &quot;******&quot;;\r\n                String pass = &quot;******&quot;;\r\n                Connection con =  DriverManager.getConnection(url, user, pass);\r\n                Statement state = con.createStatement();\r\n                \r\n                ResultSet rs = state.executeQuery(&quot;SELECT &quot;\r\n                        + &quot;pIDNo AS &#39;Patient ID&#39;,&quot;\r\n                        + &quot;pLName AS &#39;Last Name&#39;,&quot; \r\n                        + &quot;pFName AS &#39;First Name&#39;,&quot;\r\n                        + &quot;pMI AS &#39;M.I.&#39;,&quot;\r\n                        + &quot;pSex AS &#39;Sex&#39;,&quot;\r\n                        + &quot;pStatus AS &#39;Status&#39;,&quot;\r\n                        + &quot;pTelNo AS &#39;Contact No.&#39;,&quot;\r\n                        + &quot;pDocID AS &#39;Doctor ID&#39;,&quot;\r\n                        + &quot;pAddr AS &#39;St. No.&#39;,&quot;\r\n                        + &quot;pStreet AS &#39;St. Name&#39;,&quot;\r\n                        + &quot;pBarangay AS &#39;Barangay&#39;,&quot;\r\n                        + &quot;pCity AS &#39;City&#39;,&quot;\r\n                        + &quot; pProvince AS &#39;Province&#39;,&quot;\r\n                        + &quot; pLNameKIN AS &#39;Last Name&#39;,&quot;\r\n                        + &quot;pFNameKIN AS &#39;First Name&#39;,&quot;\r\n                        + &quot;pMIKIN AS &#39;M.I.&#39;,&quot;\r\n                        + &quot;pRelationKIN AS &#39;Relation&#39;,&quot;\r\n                        + &quot;pTotalDue AS &#39;Total Due&#39;&quot;\r\n                        + &quot; FROM dbo.Patients&quot;);\r\n                ResultSetMetaData rsmetadata = rs.getMetaData();\r\n                int columns = rsmetadata.getColumnCount();\r\n                DefaultTableModel dtm = new DefaultTableModel();\r\n                Vector column_name = new Vector();\r\n                Vector data_rows = new Vector();\r\n                \r\n                for (int i=1; i&lt;columns;i++){\r\n                    column_name.addElement(rsmetadata.getColumnName(i));\r\n                }\r\n                dtm.setColumnIdentifiers(column_name);\r\n                \r\n                while(rs.next()){\r\n                    data_rows = new Vector();\r\n                    for (int j=1; j&lt;columns; j++){\r\n                    data_rows.addElement(rs.getString(j));\r\n                    }\r\n                    dtm.addRow(data_rows);\r\n                }\r\n                tblPatient.setModel(dtm);\r\n        }\r\n        \r\n        public void reportviewer() {\r\n            \r\n            \r\n            try{\r\n           \r\n            String report = &quot;C:\\\\Users\\\\cleanfuel\\\\Documents\\\\NetBeansProjects\\\\StringManipulation\\\\src\\\\stringmanipulation\\\\report1.jrxml&quot;;\r\n            JasperReport jasp_report = JasperCompileManager.compileReport(report);\r\n            JasperPrint jasp_print = JasperFillManager.fillReport(jasp_report, null, con);\r\n            JasperViewer.viewReport(jasp_print);\r\n            }\r\n            catch (Exception e) {System.out.print(e);}\r\n        }\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n\r\n\r\n \r\n\r\n    public static void main(String args[]) {\r\n            PatternLayout pl = new PatternLayout(&quot;[%-5p] %C.%M:%L: %m%n&quot;);\r\n            ConsoleAppender appender = new ConsoleAppender(pl);\r\n            Logger.getRootLogger().addAppender(appender);\r\n            \r\n            java.awt.EventQueue.invokeLater(new Runnable() {\r\n    \r\n                public void run() {\r\n                    new r2xml().setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\nhere is the XML report :\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;jasperReport xmlns=&quot;http://jasperreports.sourceforge.net/jasperreports&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd&quot; name=&quot;null&quot; language=&quot;groovy&quot; pageWidth=&quot;842&quot; pageHeight=&quot;595&quot; orientation=&quot;Landscape&quot; columnWidth=&quot;802&quot; leftMargin=&quot;20&quot; rightMargin=&quot;20&quot; topMargin=&quot;20&quot; bottomMargin=&quot;20&quot;&gt;\r\n    \t&lt;property name=&quot;ireport.zoom&quot; value=&quot;1.0&quot;/&gt;\r\n    \t&lt;property name=&quot;ireport.x&quot; value=&quot;0&quot;/&gt;\r\n    \t&lt;property name=&quot;ireport.y&quot; value=&quot;71&quot;/&gt;\r\n    \t&lt;style name=&quot;Title&quot; forecolor=&quot;#FFFFFF&quot; fontName=&quot;Times New Roman&quot; fontSize=&quot;50&quot; isBold=&quot;false&quot; pdfFontName=&quot;Times-Bold&quot;/&gt;\r\n    \t&lt;style name=&quot;SubTitle&quot; forecolor=&quot;#666666&quot; fontName=&quot;Times New Roman&quot; fontSize=&quot;18&quot; isBold=&quot;false&quot; pdfFontName=&quot;Times-Roman&quot;/&gt;\r\n    \t&lt;style name=&quot;Column header&quot; forecolor=&quot;#666666&quot; fontName=&quot;Times New Roman&quot; fontSize=&quot;14&quot; isBold=&quot;true&quot; pdfFontName=&quot;Times-Roman&quot;/&gt;\r\n    \t&lt;style name=&quot;Detail&quot; mode=&quot;Transparent&quot; fontName=&quot;Times New Roman&quot; pdfFontName=&quot;Times-Roman&quot;/&gt;\r\n    \t&lt;style name=&quot;Row&quot; mode=&quot;Transparent&quot; fontName=&quot;Times New Roman&quot; pdfFontName=&quot;Times-Roman&quot;&gt;\r\n    \t\t&lt;conditionalStyle&gt;\r\n    \t\t\t&lt;conditionExpression&gt;&lt;![CDATA[$V{REPORT_COUNT}%2 == 0]]&gt;&lt;/conditionExpression&gt;\r\n    \t\t\t&lt;style mode=&quot;Opaque&quot; backcolor=&quot;#F0EFEF&quot;/&gt;\r\n    \t\t&lt;/conditionalStyle&gt;\r\n    \t&lt;/style&gt;\r\n    \t&lt;subDataset name=&quot;PieChartDataset&quot;/&gt;\r\n    \t&lt;queryString language=&quot;SQL&quot;&gt;\r\n    \t\t&lt;![CDATA[SELECT\r\n         Patients.&quot;pIDNo&quot; AS Patients_pIDNo,\r\n         Patients.&quot;pLName&quot; AS Patients_pLName,\r\n         Patients.&quot;pFName&quot; AS Patients_pFName,\r\n         Patients.&quot;pMI&quot; AS Patients_pMI,\r\n         Patients.&quot;pSex&quot; AS Patients_pSex,\r\n         Patients.&quot;pStatus&quot; AS Patients_pStatus,\r\n         Patients.&quot;pTelNo&quot; AS Patients_pTelNo,\r\n         Patients.&quot;pDocID&quot; AS Patients_pDocID,\r\n         Patients.&quot;pAddr&quot; AS Patients_pAddr,\r\n         Patients.&quot;pStreet&quot; AS Patients_pStreet,\r\n         Patients.&quot;pBarangay&quot; AS Patients_pBarangay,\r\n         Patients.&quot;pCity&quot; AS Patients_pCity,\r\n         Patients.&quot;pProvince&quot; AS Patients_pProvince,\r\n         Patients.&quot;pLNameKIN&quot; AS Patients_pLNameKIN,\r\n         Patients.&quot;pFNameKIN&quot; AS Patients_pFNameKIN,\r\n         Patients.&quot;pMIKIN&quot; AS Patients_pMIKIN,\r\n         Patients.&quot;pRelationKIN&quot; AS Patients_pRelationKIN,\r\n         Patients.&quot;pTotalDue&quot; AS Patients_pTotalDue\r\n    FROM\r\n         &quot;dbo&quot;.&quot;Patients&quot; Patients]]&gt;\r\n    \t&lt;/queryString&gt;\r\n    \t&lt;field name=&quot;Patients_pIDNo&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;Patients_pLName&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;Patients_pFName&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;Patients_pMI&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;Patients_pSex&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;Patients_pStatus&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;Patients_pTelNo&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;Patients_pDocID&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;Patients_pAddr&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;Patients_pStreet&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;Patients_pBarangay&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;Patients_pCity&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;Patients_pProvince&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;Patients_pLNameKIN&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;Patients_pFNameKIN&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;Patients_pMIKIN&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;Patients_pRelationKIN&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;Patients_pTotalDue&quot; class=&quot;java.math.BigDecimal&quot;/&gt;\r\n    \t&lt;group name=&quot;Patients_pIDNo&quot;&gt;\r\n    \t\t&lt;groupExpression&gt;&lt;![CDATA[$F{Patients_pIDNo}]]&gt;&lt;/groupExpression&gt;\r\n    \t\t&lt;groupHeader&gt;\r\n    \t\t\t&lt;band height=&quot;31&quot;&gt;\r\n    \t\t\t\t&lt;frame&gt;\r\n    \t\t\t\t\t&lt;reportElement mode=&quot;Opaque&quot; x=&quot;72&quot; y=&quot;7&quot; width=&quot;730&quot; height=&quot;24&quot; forecolor=&quot;#B89F7D&quot; backcolor=&quot;#70A9C6&quot;/&gt;\r\n    \t\t\t\t\t&lt;textField isStretchWithOverflow=&quot;true&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t\t\t&lt;reportElement style=&quot;SubTitle&quot; isPrintRepeatedValues=&quot;false&quot; x=&quot;155&quot; y=&quot;1&quot; width=&quot;110&quot; height=&quot;23&quot; forecolor=&quot;#FFFFFF&quot;/&gt;\r\n    \t\t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pIDNo}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t\t\t&lt;/textField&gt;\r\n    \t\t\t\t&lt;/frame&gt;\r\n    \t\t\t&lt;/band&gt;\r\n    \t\t&lt;/groupHeader&gt;\r\n    \t\t&lt;groupFooter&gt;\r\n    \t\t\t&lt;band height=&quot;6&quot;/&gt;\r\n    \t\t&lt;/groupFooter&gt;\r\n    \t&lt;/group&gt;\r\n    \t&lt;background&gt;\r\n    \t\t&lt;band height=&quot;555&quot; splitType=&quot;Stretch&quot;&gt;\r\n    \t\t\t&lt;pie3DChart&gt;\r\n    \t\t\t\t&lt;chart isShowLegend=&quot;false&quot; evaluationTime=&quot;Report&quot;&gt;\r\n    \t\t\t\t\t&lt;reportElement x=&quot;-18&quot; y=&quot;406&quot; width=&quot;229&quot; height=&quot;139&quot;/&gt;\r\n    \t\t\t\t\t&lt;chartTitle/&gt;\r\n    \t\t\t\t\t&lt;chartSubtitle/&gt;\r\n    \t\t\t\t\t&lt;chartLegend/&gt;\r\n    \t\t\t\t&lt;/chart&gt;\r\n    \t\t\t\t&lt;pieDataset&gt;\r\n    \t\t\t\t\t&lt;dataset&gt;\r\n    \t\t\t\t\t\t&lt;datasetRun subDataset=&quot;PieChartDataset&quot;&gt;\r\n    \t\t\t\t\t\t\t&lt;dataSourceExpression&gt;&lt;![CDATA[new net.sf.jasperreports.engine.JREmptyDataSource(5)]]&gt;&lt;/dataSourceExpression&gt;\r\n    \t\t\t\t\t\t&lt;/datasetRun&gt;\r\n    \t\t\t\t\t&lt;/dataset&gt;\r\n    \t\t\t\t\t&lt;keyExpression&gt;&lt;![CDATA[/* Replace with your key expression here */\r\n    $V{REPORT_COUNT}]]&gt;&lt;/keyExpression&gt;\r\n    \t\t\t\t\t&lt;valueExpression&gt;&lt;![CDATA[new Double(200*Math.random()*5)]]&gt;&lt;/valueExpression&gt;\r\n    \t\t\t\t&lt;/pieDataset&gt;\r\n    \t\t\t\t&lt;pie3DPlot&gt;\r\n    \t\t\t\t\t&lt;plot backgroundAlpha=&quot;0.5&quot; foregroundAlpha=&quot;0.8&quot;&gt;\r\n    \t\t\t\t\t\t&lt;seriesColor seriesOrder=&quot;0&quot; color=&quot;#3399FF&quot;/&gt;\r\n    \t\t\t\t\t\t&lt;seriesColor seriesOrder=&quot;1&quot; color=&quot;#00CCFF&quot;/&gt;\r\n    \t\t\t\t\t\t&lt;seriesColor seriesOrder=&quot;2&quot; color=&quot;#0066CC&quot;/&gt;\r\n    \t\t\t\t\t\t&lt;seriesColor seriesOrder=&quot;3&quot; color=&quot;#6699FF&quot;/&gt;\r\n    \t\t\t\t\t\t&lt;seriesColor seriesOrder=&quot;4&quot; color=&quot;#004A94&quot;/&gt;\r\n    \t\t\t\t\t\t&lt;seriesColor seriesOrder=&quot;5&quot; color=&quot;#00356A&quot;/&gt;\r\n    \t\t\t\t\t&lt;/plot&gt;\r\n    \t\t\t\t\t&lt;itemLabel color=&quot;#000000&quot; backgroundColor=&quot;#FFFFFF&quot;/&gt;\r\n    \t\t\t\t&lt;/pie3DPlot&gt;\r\n    \t\t\t&lt;/pie3DChart&gt;\r\n    \t\t\t&lt;image&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;-20&quot; y=&quot;65&quot; width=&quot;229&quot; height=&quot;250&quot;&gt;\r\n    \t\t\t\t\t&lt;printWhenExpression&gt;&lt;![CDATA[$V{PAGE_NUMBER} == 1]]&gt;&lt;/printWhenExpression&gt;\r\n    \t\t\t\t&lt;/reportElement&gt;\r\n    \t\t\t\t&lt;imageExpression&gt;&lt;![CDATA[&quot;flower1.png&quot;]]&gt;&lt;/imageExpression&gt;\r\n    \t\t\t&lt;/image&gt;\r\n    \t\t\t&lt;image&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;-20&quot; y=&quot;-20&quot; width=&quot;229&quot; height=&quot;250&quot;&gt;\r\n    \t\t\t\t\t&lt;printWhenExpression&gt;&lt;![CDATA[$V{PAGE_NUMBER} &gt; 1]]&gt;&lt;/printWhenExpression&gt;\r\n    \t\t\t\t&lt;/reportElement&gt;\r\n    \t\t\t\t&lt;imageExpression&gt;&lt;![CDATA[&quot;flower1.png&quot;]]&gt;&lt;/imageExpression&gt;\r\n    \t\t\t&lt;/image&gt;\r\n    \t\t\t&lt;staticText&gt;\r\n    \t\t\t\t&lt;reportElement mode=&quot;Opaque&quot; x=&quot;318&quot; y=&quot;315&quot; width=&quot;239&quot; height=&quot;181&quot; backcolor=&quot;#FFFFCC&quot;&gt;\r\n    \t\t\t\t\t&lt;printWhenExpression&gt;&lt;![CDATA[Boolean.FALSE]]&gt;&lt;/printWhenExpression&gt;\r\n    \t\t\t\t&lt;/reportElement&gt;\r\n    \t\t\t\t&lt;box topPadding=&quot;4&quot; leftPadding=&quot;4&quot; bottomPadding=&quot;4&quot; rightPadding=&quot;4&quot;&gt;\r\n    \t\t\t\t\t&lt;pen lineWidth=&quot;1.0&quot; lineColor=&quot;#CC9900&quot;/&gt;\r\n    \t\t\t\t\t&lt;topPen lineWidth=&quot;1.0&quot; lineColor=&quot;#CC9900&quot;/&gt;\r\n    \t\t\t\t\t&lt;leftPen lineWidth=&quot;1.0&quot; lineColor=&quot;#CC9900&quot;/&gt;\r\n    \t\t\t\t\t&lt;bottomPen lineWidth=&quot;1.0&quot; lineColor=&quot;#CC9900&quot;/&gt;\r\n    \t\t\t\t\t&lt;rightPen lineWidth=&quot;1.0&quot; lineColor=&quot;#CC9900&quot;/&gt;\r\n    \t\t\t\t&lt;/box&gt;\r\n    \t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t&lt;font size=&quot;12&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;text&gt;&lt;![CDATA[Each chart is populated on each page.\r\n    The 3 pie charts are currently using an empty datasource and the values are\r\n    generated using a random generator.\r\n    \r\n    This rectangle element is not printed (see the print when expression of this\r\n    element)]]&gt;&lt;/text&gt;\r\n    \t\t\t&lt;/staticText&gt;\r\n    \t\t\t&lt;line&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;201&quot; y=&quot;431&quot; width=&quot;117&quot; height=&quot;1&quot;&gt;\r\n    \t\t\t\t\t&lt;printWhenExpression&gt;&lt;![CDATA[Boolean.FALSE]]&gt;&lt;/printWhenExpression&gt;\r\n    \t\t\t\t&lt;/reportElement&gt;\r\n    \t\t\t\t&lt;graphicElement&gt;\r\n    \t\t\t\t\t&lt;pen lineWidth=&quot;3.0&quot; lineStyle=&quot;Dotted&quot; lineColor=&quot;#996600&quot;/&gt;\r\n    \t\t\t\t&lt;/graphicElement&gt;\r\n    \t\t\t&lt;/line&gt;\r\n    \t\t\t&lt;staticText&gt;\r\n    \t\t\t\t&lt;reportElement mode=&quot;Opaque&quot; x=&quot;275&quot; y=&quot;-10&quot; width=&quot;240&quot; height=&quot;181&quot; backcolor=&quot;#FFFFCC&quot;&gt;\r\n    \t\t\t\t\t&lt;printWhenExpression&gt;&lt;![CDATA[Boolean.FALSE]]&gt;&lt;/printWhenExpression&gt;\r\n    \t\t\t\t&lt;/reportElement&gt;\r\n    \t\t\t\t&lt;box topPadding=&quot;4&quot; leftPadding=&quot;4&quot; bottomPadding=&quot;4&quot; rightPadding=&quot;4&quot;&gt;\r\n    \t\t\t\t\t&lt;pen lineWidth=&quot;1.0&quot; lineColor=&quot;#CC9900&quot;/&gt;\r\n    \t\t\t\t\t&lt;topPen lineWidth=&quot;1.0&quot; lineColor=&quot;#CC9900&quot;/&gt;\r\n    \t\t\t\t\t&lt;leftPen lineWidth=&quot;1.0&quot; lineColor=&quot;#CC9900&quot;/&gt;\r\n    \t\t\t\t\t&lt;bottomPen lineWidth=&quot;1.0&quot; lineColor=&quot;#CC9900&quot;/&gt;\r\n    \t\t\t\t\t&lt;rightPen lineWidth=&quot;1.0&quot; lineColor=&quot;#CC9900&quot;/&gt;\r\n    \t\t\t\t&lt;/box&gt;\r\n    \t\t\t\t&lt;textElement markup=&quot;none&quot;&gt;\r\n    \t\t\t\t\t&lt;font size=&quot;12&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;text&gt;&lt;![CDATA[Flowers\r\n    \r\n    There are two flowers, the first one is printed only starting from the second page, the other one only in the first page.]]&gt;&lt;/text&gt;\r\n    \t\t\t&lt;/staticText&gt;\r\n    \t\t\t&lt;line&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;72&quot; y=&quot;37&quot; width=&quot;204&quot; height=&quot;1&quot;&gt;\r\n    \t\t\t\t\t&lt;printWhenExpression&gt;&lt;![CDATA[Boolean.FALSE]]&gt;&lt;/printWhenExpression&gt;\r\n    \t\t\t\t&lt;/reportElement&gt;\r\n    \t\t\t\t&lt;graphicElement&gt;\r\n    \t\t\t\t\t&lt;pen lineWidth=&quot;3.0&quot; lineStyle=&quot;Dotted&quot; lineColor=&quot;#996600&quot;/&gt;\r\n    \t\t\t\t&lt;/graphicElement&gt;\r\n    \t\t\t&lt;/line&gt;\r\n    \t\t&lt;/band&gt;\r\n    \t&lt;/background&gt;\r\n    \t&lt;title&gt;\r\n    \t\t&lt;band height=&quot;94&quot; splitType=&quot;Stretch&quot;&gt;\r\n    \t\t\t&lt;staticText&gt;\r\n    \t\t\t\t&lt;reportElement style=&quot;SubTitle&quot; x=&quot;336&quot; y=&quot;65&quot; width=&quot;449&quot; height=&quot;29&quot;/&gt;\r\n    \t\t\t\t&lt;textElement textAlignment=&quot;Right&quot;&gt;\r\n    \t\t\t\t\t&lt;font size=&quot;22&quot; isBold=&quot;false&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;text&gt;&lt;![CDATA[Hospital ]]&gt;&lt;/text&gt;\r\n    \t\t\t&lt;/staticText&gt;\r\n    \t\t\t&lt;frame&gt;\r\n    \t\t\t\t&lt;reportElement mode=&quot;Opaque&quot; x=&quot;-20&quot; y=&quot;0&quot; width=&quot;822&quot; height=&quot;65&quot; forecolor=&quot;#006699&quot; backcolor=&quot;#006699&quot;/&gt;\r\n    \t\t\t\t&lt;staticText&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Title&quot; x=&quot;231&quot; y=&quot;0&quot; width=&quot;578&quot; height=&quot;65&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement textAlignment=&quot;Right&quot;&gt;\r\n    \t\t\t\t\t\t&lt;font size=&quot;54&quot; isBold=&quot;false&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;text&gt;&lt;![CDATA[Patient Form]]&gt;&lt;/text&gt;\r\n    \t\t\t\t&lt;/staticText&gt;\r\n    \t\t\t&lt;/frame&gt;\r\n    \t\t&lt;/band&gt;\r\n    \t&lt;/title&gt;\r\n    \t&lt;pageHeader&gt;\r\n    \t\t&lt;band splitType=&quot;Stretch&quot;/&gt;\r\n    \t&lt;/pageHeader&gt;\r\n    \t&lt;columnHeader&gt;\r\n    \t\t&lt;band height=&quot;14&quot; splitType=&quot;Stretch&quot;&gt;\r\n    \t\t\t&lt;frame&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;210&quot; y=&quot;0&quot; width=&quot;575&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t&lt;staticText&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Column header&quot; positionType=&quot;Float&quot; x=&quot;99&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot; forecolor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;text&gt;&lt;![CDATA[Patients_pSex]]&gt;&lt;/text&gt;\r\n    \t\t\t\t&lt;/staticText&gt;\r\n    \t\t\t\t&lt;staticText&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Column header&quot; positionType=&quot;Float&quot; x=&quot;132&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot; forecolor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;text&gt;&lt;![CDATA[Patients_pStatus]]&gt;&lt;/text&gt;\r\n    \t\t\t\t&lt;/staticText&gt;\r\n    \t\t\t\t&lt;staticText&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Column header&quot; positionType=&quot;Float&quot; x=&quot;165&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot; forecolor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;text&gt;&lt;![CDATA[Patients_pTelNo]]&gt;&lt;/text&gt;\r\n    \t\t\t\t&lt;/staticText&gt;\r\n    \t\t\t\t&lt;staticText&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Column header&quot; positionType=&quot;Float&quot; x=&quot;198&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot; forecolor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;text&gt;&lt;![CDATA[Patients_pDocID]]&gt;&lt;/text&gt;\r\n    \t\t\t\t&lt;/staticText&gt;\r\n    \t\t\t\t&lt;staticText&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Column header&quot; positionType=&quot;Float&quot; x=&quot;231&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot; forecolor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;text&gt;&lt;![CDATA[Patients_pAddr]]&gt;&lt;/text&gt;\r\n    \t\t\t\t&lt;/staticText&gt;\r\n    \t\t\t\t&lt;staticText&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Column header&quot; positionType=&quot;Float&quot; x=&quot;264&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot; forecolor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;text&gt;&lt;![CDATA[Patients_pStreet]]&gt;&lt;/text&gt;\r\n    \t\t\t\t&lt;/staticText&gt;\r\n    \t\t\t\t&lt;staticText&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Column header&quot; positionType=&quot;Float&quot; x=&quot;297&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot; forecolor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;text&gt;&lt;![CDATA[Patients_pBarangay]]&gt;&lt;/text&gt;\r\n    \t\t\t\t&lt;/staticText&gt;\r\n    \t\t\t\t&lt;staticText&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Column header&quot; positionType=&quot;Float&quot; x=&quot;330&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot; forecolor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;text&gt;&lt;![CDATA[Patients_pCity]]&gt;&lt;/text&gt;\r\n    \t\t\t\t&lt;/staticText&gt;\r\n    \t\t\t\t&lt;staticText&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Column header&quot; positionType=&quot;Float&quot; x=&quot;363&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot; forecolor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;text&gt;&lt;![CDATA[Patients_pProvince]]&gt;&lt;/text&gt;\r\n    \t\t\t\t&lt;/staticText&gt;\r\n    \t\t\t\t&lt;staticText&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Column header&quot; positionType=&quot;Float&quot; x=&quot;396&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot; forecolor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;text&gt;&lt;![CDATA[Patients_pLNameKIN]]&gt;&lt;/text&gt;\r\n    \t\t\t\t&lt;/staticText&gt;\r\n    \t\t\t\t&lt;staticText&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Column header&quot; positionType=&quot;Float&quot; x=&quot;429&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot; forecolor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;text&gt;&lt;![CDATA[Patients_pFNameKIN]]&gt;&lt;/text&gt;\r\n    \t\t\t\t&lt;/staticText&gt;\r\n    \t\t\t\t&lt;staticText&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Column header&quot; positionType=&quot;Float&quot; x=&quot;462&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot; forecolor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;text&gt;&lt;![CDATA[Patients_pMIKIN]]&gt;&lt;/text&gt;\r\n    \t\t\t\t&lt;/staticText&gt;\r\n    \t\t\t\t&lt;staticText&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Column header&quot; positionType=&quot;Float&quot; x=&quot;495&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot; forecolor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;text&gt;&lt;![CDATA[Patients_pRelationKIN]]&gt;&lt;/text&gt;\r\n    \t\t\t\t&lt;/staticText&gt;\r\n    \t\t\t\t&lt;staticText&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Column header&quot; positionType=&quot;Float&quot; x=&quot;528&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot; forecolor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;text&gt;&lt;![CDATA[Patients_pTotalDue]]&gt;&lt;/text&gt;\r\n    \t\t\t\t&lt;/staticText&gt;\r\n    \t\t\t&lt;/frame&gt;\r\n    \t\t\t&lt;staticText&gt;\r\n    \t\t\t\t&lt;reportElement style=&quot;Column header&quot; positionType=&quot;Float&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;72&quot; height=&quot;14&quot; forecolor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;text&gt;&lt;![CDATA[ Last Name]]&gt;&lt;/text&gt;\r\n    \t\t\t&lt;/staticText&gt;\r\n    \t\t\t&lt;staticText&gt;\r\n    \t\t\t\t&lt;reportElement style=&quot;Column header&quot; positionType=&quot;Float&quot; x=&quot;72&quot; y=&quot;0&quot; width=&quot;65&quot; height=&quot;14&quot; forecolor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;text&gt;&lt;![CDATA[First Name]]&gt;&lt;/text&gt;\r\n    \t\t\t&lt;/staticText&gt;\r\n    \t\t\t&lt;staticText&gt;\r\n    \t\t\t\t&lt;reportElement style=&quot;Column header&quot; positionType=&quot;Float&quot; x=&quot;137&quot; y=&quot;0&quot; width=&quot;74&quot; height=&quot;14&quot; forecolor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;text&gt;&lt;![CDATA[Middle Initial]]&gt;&lt;/text&gt;\r\n    \t\t\t&lt;/staticText&gt;\r\n    \t\t&lt;/band&gt;\r\n    \t&lt;/columnHeader&gt;\r\n    \t&lt;detail&gt;\r\n    \t\t&lt;band height=&quot;15&quot; splitType=&quot;Stretch&quot;&gt;\r\n    \t\t\t&lt;line&gt;\r\n    \t\t\t\t&lt;reportElement positionType=&quot;FixRelativeToBottom&quot; x=&quot;227&quot; y=&quot;14&quot; width=&quot;575&quot; height=&quot;1&quot;/&gt;\r\n    \t\t\t&lt;/line&gt;\r\n    \t\t\t&lt;frame&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;226&quot; y=&quot;0&quot; width=&quot;575&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t&lt;textField isStretchWithOverflow=&quot;true&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Detail&quot; positionType=&quot;Float&quot; x=&quot;99&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pSex}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t\t&lt;/textField&gt;\r\n    \t\t\t\t&lt;textField isStretchWithOverflow=&quot;true&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Detail&quot; positionType=&quot;Float&quot; x=&quot;132&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pStatus}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t\t&lt;/textField&gt;\r\n    \t\t\t\t&lt;textField isStretchWithOverflow=&quot;true&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Detail&quot; positionType=&quot;Float&quot; x=&quot;165&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pTelNo}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t\t&lt;/textField&gt;\r\n    \t\t\t\t&lt;textField isStretchWithOverflow=&quot;true&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Detail&quot; positionType=&quot;Float&quot; x=&quot;198&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pDocID}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t\t&lt;/textField&gt;\r\n    \t\t\t\t&lt;textField isStretchWithOverflow=&quot;true&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Detail&quot; positionType=&quot;Float&quot; x=&quot;231&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pAddr}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t\t&lt;/textField&gt;\r\n    \t\t\t\t&lt;textField isStretchWithOverflow=&quot;true&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Detail&quot; positionType=&quot;Float&quot; x=&quot;264&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pStreet}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t\t&lt;/textField&gt;\r\n    \t\t\t\t&lt;textField isStretchWithOverflow=&quot;true&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Detail&quot; positionType=&quot;Float&quot; x=&quot;297&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pBarangay}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t\t&lt;/textField&gt;\r\n    \t\t\t\t&lt;textField isStretchWithOverflow=&quot;true&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Detail&quot; positionType=&quot;Float&quot; x=&quot;330&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pCity}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t\t&lt;/textField&gt;\r\n    \t\t\t\t&lt;textField isStretchWithOverflow=&quot;true&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Detail&quot; positionType=&quot;Float&quot; x=&quot;363&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pProvince}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t\t&lt;/textField&gt;\r\n    \t\t\t\t&lt;textField isStretchWithOverflow=&quot;true&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Detail&quot; positionType=&quot;Float&quot; x=&quot;396&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pLNameKIN}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t\t&lt;/textField&gt;\r\n    \t\t\t\t&lt;textField isStretchWithOverflow=&quot;true&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Detail&quot; positionType=&quot;Float&quot; x=&quot;429&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pFNameKIN}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t\t&lt;/textField&gt;\r\n    \t\t\t\t&lt;textField isStretchWithOverflow=&quot;true&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Detail&quot; positionType=&quot;Float&quot; x=&quot;462&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pMIKIN}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t\t&lt;/textField&gt;\r\n    \t\t\t\t&lt;textField isStretchWithOverflow=&quot;true&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Detail&quot; positionType=&quot;Float&quot; x=&quot;495&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pRelationKIN}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t\t&lt;/textField&gt;\r\n    \t\t\t\t&lt;textField isStretchWithOverflow=&quot;true&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Detail&quot; positionType=&quot;Float&quot; x=&quot;528&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pTotalDue}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t\t&lt;/textField&gt;\r\n    \t\t\t&lt;/frame&gt;\r\n    \t\t\t&lt;textField isStretchWithOverflow=&quot;true&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t&lt;reportElement style=&quot;Detail&quot; positionType=&quot;Float&quot; x=&quot;4&quot; y=&quot;0&quot; width=&quot;68&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pLName}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t\t&lt;textField isStretchWithOverflow=&quot;true&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t&lt;reportElement style=&quot;Detail&quot; positionType=&quot;Float&quot; x=&quot;72&quot; y=&quot;1&quot; width=&quot;65&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pFName}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t\t&lt;textField isStretchWithOverflow=&quot;true&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t&lt;reportElement style=&quot;Detail&quot; positionType=&quot;Float&quot; x=&quot;137&quot; y=&quot;1&quot; width=&quot;72&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pMI}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t&lt;/band&gt;\r\n    \t&lt;/detail&gt;\r\n    \t&lt;columnFooter&gt;\r\n    \t\t&lt;band height=&quot;7&quot; splitType=&quot;Stretch&quot;&gt;\r\n    \t\t\t&lt;line&gt;\r\n    \t\t\t\t&lt;reportElement positionType=&quot;FixRelativeToBottom&quot; x=&quot;0&quot; y=&quot;3&quot; width=&quot;555&quot; height=&quot;1&quot;/&gt;\r\n    \t\t\t\t&lt;graphicElement&gt;\r\n    \t\t\t\t\t&lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#999999&quot;/&gt;\r\n    \t\t\t\t&lt;/graphicElement&gt;\r\n    \t\t\t&lt;/line&gt;\r\n    \t\t&lt;/band&gt;\r\n    \t&lt;/columnFooter&gt;\r\n    \t&lt;pageFooter&gt;\r\n    \t\t&lt;band height=&quot;16&quot; splitType=&quot;Stretch&quot;&gt;\r\n    \t\t\t&lt;frame&gt;\r\n    \t\t\t\t&lt;reportElement mode=&quot;Opaque&quot; x=&quot;2&quot; y=&quot;0&quot; width=&quot;800&quot; height=&quot;16&quot; forecolor=&quot;#D0B48E&quot; backcolor=&quot;#006699&quot;/&gt;\r\n    \t\t\t\t&lt;textField evaluationTime=&quot;Report&quot;&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Column header&quot; x=&quot;753&quot; y=&quot;0&quot; width=&quot;40&quot; height=&quot;16&quot; forecolor=&quot;#FFFFFF&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement verticalAlignment=&quot;Middle&quot;&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[&quot; &quot; + $V{PAGE_NUMBER}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t\t&lt;/textField&gt;\r\n    \t\t\t\t&lt;textField&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Column header&quot; x=&quot;673&quot; y=&quot;0&quot; width=&quot;80&quot; height=&quot;16&quot; forecolor=&quot;#FFFFFF&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement textAlignment=&quot;Right&quot; verticalAlignment=&quot;Middle&quot;&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[&quot;Page &quot;+$V{PAGE_NUMBER}+&quot; of&quot;]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t\t&lt;/textField&gt;\r\n    \t\t\t\t&lt;textField pattern=&quot;EEEEE dd MMMMM yyyy&quot;&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Column header&quot; x=&quot;2&quot; y=&quot;0&quot; width=&quot;197&quot; height=&quot;16&quot; forecolor=&quot;#FFFFFF&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement verticalAlignment=&quot;Middle&quot;&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[new java.util.Date()]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t\t&lt;/textField&gt;\r\n    \t\t\t&lt;/frame&gt;\r\n    \t\t&lt;/band&gt;\r\n    \t&lt;/pageFooter&gt;\r\n    \t&lt;summary&gt;\r\n    \t\t&lt;band splitType=&quot;Stretch&quot;/&gt;\r\n    \t&lt;/summary&gt;\r\n    &lt;/jasperReport&gt;\r\n\r\n","title":"The document has no pages. Jasper Report","body":"<p>I'm having a problem searching for a solution to this issue. My codes works fine after I run it. It suppose to display the data on my sql database to my jtable, and there's a button that will trigger to display the jasper report but there's a little bit problem, it always shows me the message 'The document has no pages.' why is that? can someone help me with my issue here? What did I do wrong?</p>\n\n<p>here is my codes:</p>\n\n<pre><code>package stringmanipulation;\nimport java.sql.*;\nimport java.util.Vector;\nimport javax.swing.table.DefaultTableModel;\nimport net.sf.jasperreports.engine.JasperCompileManager;\nimport net.sf.jasperreports.engine.JasperFillManager;\nimport net.sf.jasperreports.engine.JasperPrint;\nimport net.sf.jasperreports.engine.JasperReport;\nimport net.sf.jasperreports.view.JasperViewer;\nimport org.apache.log4j.ConsoleAppender;\nimport org.apache.log4j.Logger;\nimport org.apache.log4j.PatternLayout;\n\n\npublic class r2xml extends javax.swing.JFrame {\n\n\n    public r2xml() {\n        initComponents();\n    }\n\nConnection con;\n    private void search() throws Exception{\n        Class.forName(\"sun.jdbc.odbc.JdbcOdbcDriver\");\n            String url = \"jdbc:odbc:*****\";\n            String user = \"******\";\n            String pass = \"******\";\n            Connection con =  DriverManager.getConnection(url, user, pass);\n            Statement state = con.createStatement();\n\n            ResultSet rs = state.executeQuery(\"SELECT \"\n                    + \"pIDNo AS 'Patient ID',\"\n                    + \"pLName AS 'Last Name',\" \n                    + \"pFName AS 'First Name',\"\n                    + \"pMI AS 'M.I.',\"\n                    + \"pSex AS 'Sex',\"\n                    + \"pStatus AS 'Status',\"\n                    + \"pTelNo AS 'Contact No.',\"\n                    + \"pDocID AS 'Doctor ID',\"\n                    + \"pAddr AS 'St. No.',\"\n                    + \"pStreet AS 'St. Name',\"\n                    + \"pBarangay AS 'Barangay',\"\n                    + \"pCity AS 'City',\"\n                    + \" pProvince AS 'Province',\"\n                    + \" pLNameKIN AS 'Last Name',\"\n                    + \"pFNameKIN AS 'First Name',\"\n                    + \"pMIKIN AS 'M.I.',\"\n                    + \"pRelationKIN AS 'Relation',\"\n                    + \"pTotalDue AS 'Total Due'\"\n                    + \" FROM dbo.Patients\");\n            ResultSetMetaData rsmetadata = rs.getMetaData();\n            int columns = rsmetadata.getColumnCount();\n            DefaultTableModel dtm = new DefaultTableModel();\n            Vector column_name = new Vector();\n            Vector data_rows = new Vector();\n\n            for (int i=1; i&lt;columns;i++){\n                column_name.addElement(rsmetadata.getColumnName(i));\n            }\n            dtm.setColumnIdentifiers(column_name);\n\n            while(rs.next()){\n                data_rows = new Vector();\n                for (int j=1; j&lt;columns; j++){\n                data_rows.addElement(rs.getString(j));\n                }\n                dtm.addRow(data_rows);\n            }\n            tblPatient.setModel(dtm);\n    }\n\n    public void reportviewer() {\n\n\n        try{\n\n        String report = \"C:\\\\Users\\\\cleanfuel\\\\Documents\\\\NetBeansProjects\\\\StringManipulation\\\\src\\\\stringmanipulation\\\\report1.jrxml\";\n        JasperReport jasp_report = JasperCompileManager.compileReport(report);\n        JasperPrint jasp_print = JasperFillManager.fillReport(jasp_report, null, con);\n        JasperViewer.viewReport(jasp_print);\n        }\n        catch (Exception e) {System.out.print(e);}\n    }\n    @SuppressWarnings(\"unchecked\")\n\n\n\n\npublic static void main(String args[]) {\n        PatternLayout pl = new PatternLayout(\"[%-5p] %C.%M:%L: %m%n\");\n        ConsoleAppender appender = new ConsoleAppender(pl);\n        Logger.getRootLogger().addAppender(appender);\n\n        java.awt.EventQueue.invokeLater(new Runnable() {\n\n            public void run() {\n                new r2xml().setVisible(true);\n            }\n        });\n    }\n</code></pre>\n\n<p>here is the XML report :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;jasperReport xmlns=\"http://jasperreports.sourceforge.net/jasperreports\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd\" name=\"null\" language=\"groovy\" pageWidth=\"842\" pageHeight=\"595\" orientation=\"Landscape\" columnWidth=\"802\" leftMargin=\"20\" rightMargin=\"20\" topMargin=\"20\" bottomMargin=\"20\"&gt;\n    &lt;property name=\"ireport.zoom\" value=\"1.0\"/&gt;\n    &lt;property name=\"ireport.x\" value=\"0\"/&gt;\n    &lt;property name=\"ireport.y\" value=\"71\"/&gt;\n    &lt;style name=\"Title\" forecolor=\"#FFFFFF\" fontName=\"Times New Roman\" fontSize=\"50\" isBold=\"false\" pdfFontName=\"Times-Bold\"/&gt;\n    &lt;style name=\"SubTitle\" forecolor=\"#666666\" fontName=\"Times New Roman\" fontSize=\"18\" isBold=\"false\" pdfFontName=\"Times-Roman\"/&gt;\n    &lt;style name=\"Column header\" forecolor=\"#666666\" fontName=\"Times New Roman\" fontSize=\"14\" isBold=\"true\" pdfFontName=\"Times-Roman\"/&gt;\n    &lt;style name=\"Detail\" mode=\"Transparent\" fontName=\"Times New Roman\" pdfFontName=\"Times-Roman\"/&gt;\n    &lt;style name=\"Row\" mode=\"Transparent\" fontName=\"Times New Roman\" pdfFontName=\"Times-Roman\"&gt;\n        &lt;conditionalStyle&gt;\n            &lt;conditionExpression&gt;&lt;![CDATA[$V{REPORT_COUNT}%2 == 0]]&gt;&lt;/conditionExpression&gt;\n            &lt;style mode=\"Opaque\" backcolor=\"#F0EFEF\"/&gt;\n        &lt;/conditionalStyle&gt;\n    &lt;/style&gt;\n    &lt;subDataset name=\"PieChartDataset\"/&gt;\n    &lt;queryString language=\"SQL\"&gt;\n        &lt;![CDATA[SELECT\n     Patients.\"pIDNo\" AS Patients_pIDNo,\n     Patients.\"pLName\" AS Patients_pLName,\n     Patients.\"pFName\" AS Patients_pFName,\n     Patients.\"pMI\" AS Patients_pMI,\n     Patients.\"pSex\" AS Patients_pSex,\n     Patients.\"pStatus\" AS Patients_pStatus,\n     Patients.\"pTelNo\" AS Patients_pTelNo,\n     Patients.\"pDocID\" AS Patients_pDocID,\n     Patients.\"pAddr\" AS Patients_pAddr,\n     Patients.\"pStreet\" AS Patients_pStreet,\n     Patients.\"pBarangay\" AS Patients_pBarangay,\n     Patients.\"pCity\" AS Patients_pCity,\n     Patients.\"pProvince\" AS Patients_pProvince,\n     Patients.\"pLNameKIN\" AS Patients_pLNameKIN,\n     Patients.\"pFNameKIN\" AS Patients_pFNameKIN,\n     Patients.\"pMIKIN\" AS Patients_pMIKIN,\n     Patients.\"pRelationKIN\" AS Patients_pRelationKIN,\n     Patients.\"pTotalDue\" AS Patients_pTotalDue\nFROM\n     \"dbo\".\"Patients\" Patients]]&gt;\n    &lt;/queryString&gt;\n    &lt;field name=\"Patients_pIDNo\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"Patients_pLName\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"Patients_pFName\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"Patients_pMI\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"Patients_pSex\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"Patients_pStatus\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"Patients_pTelNo\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"Patients_pDocID\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"Patients_pAddr\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"Patients_pStreet\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"Patients_pBarangay\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"Patients_pCity\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"Patients_pProvince\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"Patients_pLNameKIN\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"Patients_pFNameKIN\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"Patients_pMIKIN\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"Patients_pRelationKIN\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"Patients_pTotalDue\" class=\"java.math.BigDecimal\"/&gt;\n    &lt;group name=\"Patients_pIDNo\"&gt;\n        &lt;groupExpression&gt;&lt;![CDATA[$F{Patients_pIDNo}]]&gt;&lt;/groupExpression&gt;\n        &lt;groupHeader&gt;\n            &lt;band height=\"31\"&gt;\n                &lt;frame&gt;\n                    &lt;reportElement mode=\"Opaque\" x=\"72\" y=\"7\" width=\"730\" height=\"24\" forecolor=\"#B89F7D\" backcolor=\"#70A9C6\"/&gt;\n                    &lt;textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\"&gt;\n                        &lt;reportElement style=\"SubTitle\" isPrintRepeatedValues=\"false\" x=\"155\" y=\"1\" width=\"110\" height=\"23\" forecolor=\"#FFFFFF\"/&gt;\n                        &lt;textElement&gt;\n                            &lt;font fontName=\"Arial\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                        &lt;/textElement&gt;\n                        &lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pIDNo}]]&gt;&lt;/textFieldExpression&gt;\n                    &lt;/textField&gt;\n                &lt;/frame&gt;\n            &lt;/band&gt;\n        &lt;/groupHeader&gt;\n        &lt;groupFooter&gt;\n            &lt;band height=\"6\"/&gt;\n        &lt;/groupFooter&gt;\n    &lt;/group&gt;\n    &lt;background&gt;\n        &lt;band height=\"555\" splitType=\"Stretch\"&gt;\n            &lt;pie3DChart&gt;\n                &lt;chart isShowLegend=\"false\" evaluationTime=\"Report\"&gt;\n                    &lt;reportElement x=\"-18\" y=\"406\" width=\"229\" height=\"139\"/&gt;\n                    &lt;chartTitle/&gt;\n                    &lt;chartSubtitle/&gt;\n                    &lt;chartLegend/&gt;\n                &lt;/chart&gt;\n                &lt;pieDataset&gt;\n                    &lt;dataset&gt;\n                        &lt;datasetRun subDataset=\"PieChartDataset\"&gt;\n                            &lt;dataSourceExpression&gt;&lt;![CDATA[new net.sf.jasperreports.engine.JREmptyDataSource(5)]]&gt;&lt;/dataSourceExpression&gt;\n                        &lt;/datasetRun&gt;\n                    &lt;/dataset&gt;\n                    &lt;keyExpression&gt;&lt;![CDATA[/* Replace with your key expression here */\n$V{REPORT_COUNT}]]&gt;&lt;/keyExpression&gt;\n                    &lt;valueExpression&gt;&lt;![CDATA[new Double(200*Math.random()*5)]]&gt;&lt;/valueExpression&gt;\n                &lt;/pieDataset&gt;\n                &lt;pie3DPlot&gt;\n                    &lt;plot backgroundAlpha=\"0.5\" foregroundAlpha=\"0.8\"&gt;\n                        &lt;seriesColor seriesOrder=\"0\" color=\"#3399FF\"/&gt;\n                        &lt;seriesColor seriesOrder=\"1\" color=\"#00CCFF\"/&gt;\n                        &lt;seriesColor seriesOrder=\"2\" color=\"#0066CC\"/&gt;\n                        &lt;seriesColor seriesOrder=\"3\" color=\"#6699FF\"/&gt;\n                        &lt;seriesColor seriesOrder=\"4\" color=\"#004A94\"/&gt;\n                        &lt;seriesColor seriesOrder=\"5\" color=\"#00356A\"/&gt;\n                    &lt;/plot&gt;\n                    &lt;itemLabel color=\"#000000\" backgroundColor=\"#FFFFFF\"/&gt;\n                &lt;/pie3DPlot&gt;\n            &lt;/pie3DChart&gt;\n            &lt;image&gt;\n                &lt;reportElement x=\"-20\" y=\"65\" width=\"229\" height=\"250\"&gt;\n                    &lt;printWhenExpression&gt;&lt;![CDATA[$V{PAGE_NUMBER} == 1]]&gt;&lt;/printWhenExpression&gt;\n                &lt;/reportElement&gt;\n                &lt;imageExpression&gt;&lt;![CDATA[\"flower1.png\"]]&gt;&lt;/imageExpression&gt;\n            &lt;/image&gt;\n            &lt;image&gt;\n                &lt;reportElement x=\"-20\" y=\"-20\" width=\"229\" height=\"250\"&gt;\n                    &lt;printWhenExpression&gt;&lt;![CDATA[$V{PAGE_NUMBER} &gt; 1]]&gt;&lt;/printWhenExpression&gt;\n                &lt;/reportElement&gt;\n                &lt;imageExpression&gt;&lt;![CDATA[\"flower1.png\"]]&gt;&lt;/imageExpression&gt;\n            &lt;/image&gt;\n            &lt;staticText&gt;\n                &lt;reportElement mode=\"Opaque\" x=\"318\" y=\"315\" width=\"239\" height=\"181\" backcolor=\"#FFFFCC\"&gt;\n                    &lt;printWhenExpression&gt;&lt;![CDATA[Boolean.FALSE]]&gt;&lt;/printWhenExpression&gt;\n                &lt;/reportElement&gt;\n                &lt;box topPadding=\"4\" leftPadding=\"4\" bottomPadding=\"4\" rightPadding=\"4\"&gt;\n                    &lt;pen lineWidth=\"1.0\" lineColor=\"#CC9900\"/&gt;\n                    &lt;topPen lineWidth=\"1.0\" lineColor=\"#CC9900\"/&gt;\n                    &lt;leftPen lineWidth=\"1.0\" lineColor=\"#CC9900\"/&gt;\n                    &lt;bottomPen lineWidth=\"1.0\" lineColor=\"#CC9900\"/&gt;\n                    &lt;rightPen lineWidth=\"1.0\" lineColor=\"#CC9900\"/&gt;\n                &lt;/box&gt;\n                &lt;textElement&gt;\n                    &lt;font size=\"12\"/&gt;\n                &lt;/textElement&gt;\n                &lt;text&gt;&lt;![CDATA[Each chart is populated on each page.\nThe 3 pie charts are currently using an empty datasource and the values are\ngenerated using a random generator.\n\nThis rectangle element is not printed (see the print when expression of this\nelement)]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n            &lt;line&gt;\n                &lt;reportElement x=\"201\" y=\"431\" width=\"117\" height=\"1\"&gt;\n                    &lt;printWhenExpression&gt;&lt;![CDATA[Boolean.FALSE]]&gt;&lt;/printWhenExpression&gt;\n                &lt;/reportElement&gt;\n                &lt;graphicElement&gt;\n                    &lt;pen lineWidth=\"3.0\" lineStyle=\"Dotted\" lineColor=\"#996600\"/&gt;\n                &lt;/graphicElement&gt;\n            &lt;/line&gt;\n            &lt;staticText&gt;\n                &lt;reportElement mode=\"Opaque\" x=\"275\" y=\"-10\" width=\"240\" height=\"181\" backcolor=\"#FFFFCC\"&gt;\n                    &lt;printWhenExpression&gt;&lt;![CDATA[Boolean.FALSE]]&gt;&lt;/printWhenExpression&gt;\n                &lt;/reportElement&gt;\n                &lt;box topPadding=\"4\" leftPadding=\"4\" bottomPadding=\"4\" rightPadding=\"4\"&gt;\n                    &lt;pen lineWidth=\"1.0\" lineColor=\"#CC9900\"/&gt;\n                    &lt;topPen lineWidth=\"1.0\" lineColor=\"#CC9900\"/&gt;\n                    &lt;leftPen lineWidth=\"1.0\" lineColor=\"#CC9900\"/&gt;\n                    &lt;bottomPen lineWidth=\"1.0\" lineColor=\"#CC9900\"/&gt;\n                    &lt;rightPen lineWidth=\"1.0\" lineColor=\"#CC9900\"/&gt;\n                &lt;/box&gt;\n                &lt;textElement markup=\"none\"&gt;\n                    &lt;font size=\"12\"/&gt;\n                &lt;/textElement&gt;\n                &lt;text&gt;&lt;![CDATA[Flowers\n\nThere are two flowers, the first one is printed only starting from the second page, the other one only in the first page.]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n            &lt;line&gt;\n                &lt;reportElement x=\"72\" y=\"37\" width=\"204\" height=\"1\"&gt;\n                    &lt;printWhenExpression&gt;&lt;![CDATA[Boolean.FALSE]]&gt;&lt;/printWhenExpression&gt;\n                &lt;/reportElement&gt;\n                &lt;graphicElement&gt;\n                    &lt;pen lineWidth=\"3.0\" lineStyle=\"Dotted\" lineColor=\"#996600\"/&gt;\n                &lt;/graphicElement&gt;\n            &lt;/line&gt;\n        &lt;/band&gt;\n    &lt;/background&gt;\n    &lt;title&gt;\n        &lt;band height=\"94\" splitType=\"Stretch\"&gt;\n            &lt;staticText&gt;\n                &lt;reportElement style=\"SubTitle\" x=\"336\" y=\"65\" width=\"449\" height=\"29\"/&gt;\n                &lt;textElement textAlignment=\"Right\"&gt;\n                    &lt;font size=\"22\" isBold=\"false\"/&gt;\n                &lt;/textElement&gt;\n                &lt;text&gt;&lt;![CDATA[Hospital ]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n            &lt;frame&gt;\n                &lt;reportElement mode=\"Opaque\" x=\"-20\" y=\"0\" width=\"822\" height=\"65\" forecolor=\"#006699\" backcolor=\"#006699\"/&gt;\n                &lt;staticText&gt;\n                    &lt;reportElement style=\"Title\" x=\"231\" y=\"0\" width=\"578\" height=\"65\"/&gt;\n                    &lt;textElement textAlignment=\"Right\"&gt;\n                        &lt;font size=\"54\" isBold=\"false\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;text&gt;&lt;![CDATA[Patient Form]]&gt;&lt;/text&gt;\n                &lt;/staticText&gt;\n            &lt;/frame&gt;\n        &lt;/band&gt;\n    &lt;/title&gt;\n    &lt;pageHeader&gt;\n        &lt;band splitType=\"Stretch\"/&gt;\n    &lt;/pageHeader&gt;\n    &lt;columnHeader&gt;\n        &lt;band height=\"14\" splitType=\"Stretch\"&gt;\n            &lt;frame&gt;\n                &lt;reportElement x=\"210\" y=\"0\" width=\"575\" height=\"14\"/&gt;\n                &lt;staticText&gt;\n                    &lt;reportElement style=\"Column header\" positionType=\"Float\" x=\"99\" y=\"0\" width=\"33\" height=\"14\" forecolor=\"#000000\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"true\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;text&gt;&lt;![CDATA[Patients_pSex]]&gt;&lt;/text&gt;\n                &lt;/staticText&gt;\n                &lt;staticText&gt;\n                    &lt;reportElement style=\"Column header\" positionType=\"Float\" x=\"132\" y=\"0\" width=\"33\" height=\"14\" forecolor=\"#000000\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"true\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;text&gt;&lt;![CDATA[Patients_pStatus]]&gt;&lt;/text&gt;\n                &lt;/staticText&gt;\n                &lt;staticText&gt;\n                    &lt;reportElement style=\"Column header\" positionType=\"Float\" x=\"165\" y=\"0\" width=\"33\" height=\"14\" forecolor=\"#000000\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"true\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;text&gt;&lt;![CDATA[Patients_pTelNo]]&gt;&lt;/text&gt;\n                &lt;/staticText&gt;\n                &lt;staticText&gt;\n                    &lt;reportElement style=\"Column header\" positionType=\"Float\" x=\"198\" y=\"0\" width=\"33\" height=\"14\" forecolor=\"#000000\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"true\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;text&gt;&lt;![CDATA[Patients_pDocID]]&gt;&lt;/text&gt;\n                &lt;/staticText&gt;\n                &lt;staticText&gt;\n                    &lt;reportElement style=\"Column header\" positionType=\"Float\" x=\"231\" y=\"0\" width=\"33\" height=\"14\" forecolor=\"#000000\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"true\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;text&gt;&lt;![CDATA[Patients_pAddr]]&gt;&lt;/text&gt;\n                &lt;/staticText&gt;\n                &lt;staticText&gt;\n                    &lt;reportElement style=\"Column header\" positionType=\"Float\" x=\"264\" y=\"0\" width=\"33\" height=\"14\" forecolor=\"#000000\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"true\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;text&gt;&lt;![CDATA[Patients_pStreet]]&gt;&lt;/text&gt;\n                &lt;/staticText&gt;\n                &lt;staticText&gt;\n                    &lt;reportElement style=\"Column header\" positionType=\"Float\" x=\"297\" y=\"0\" width=\"33\" height=\"14\" forecolor=\"#000000\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"true\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;text&gt;&lt;![CDATA[Patients_pBarangay]]&gt;&lt;/text&gt;\n                &lt;/staticText&gt;\n                &lt;staticText&gt;\n                    &lt;reportElement style=\"Column header\" positionType=\"Float\" x=\"330\" y=\"0\" width=\"33\" height=\"14\" forecolor=\"#000000\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"true\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;text&gt;&lt;![CDATA[Patients_pCity]]&gt;&lt;/text&gt;\n                &lt;/staticText&gt;\n                &lt;staticText&gt;\n                    &lt;reportElement style=\"Column header\" positionType=\"Float\" x=\"363\" y=\"0\" width=\"33\" height=\"14\" forecolor=\"#000000\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"true\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;text&gt;&lt;![CDATA[Patients_pProvince]]&gt;&lt;/text&gt;\n                &lt;/staticText&gt;\n                &lt;staticText&gt;\n                    &lt;reportElement style=\"Column header\" positionType=\"Float\" x=\"396\" y=\"0\" width=\"33\" height=\"14\" forecolor=\"#000000\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"true\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;text&gt;&lt;![CDATA[Patients_pLNameKIN]]&gt;&lt;/text&gt;\n                &lt;/staticText&gt;\n                &lt;staticText&gt;\n                    &lt;reportElement style=\"Column header\" positionType=\"Float\" x=\"429\" y=\"0\" width=\"33\" height=\"14\" forecolor=\"#000000\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"true\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;text&gt;&lt;![CDATA[Patients_pFNameKIN]]&gt;&lt;/text&gt;\n                &lt;/staticText&gt;\n                &lt;staticText&gt;\n                    &lt;reportElement style=\"Column header\" positionType=\"Float\" x=\"462\" y=\"0\" width=\"33\" height=\"14\" forecolor=\"#000000\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"true\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;text&gt;&lt;![CDATA[Patients_pMIKIN]]&gt;&lt;/text&gt;\n                &lt;/staticText&gt;\n                &lt;staticText&gt;\n                    &lt;reportElement style=\"Column header\" positionType=\"Float\" x=\"495\" y=\"0\" width=\"33\" height=\"14\" forecolor=\"#000000\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"true\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;text&gt;&lt;![CDATA[Patients_pRelationKIN]]&gt;&lt;/text&gt;\n                &lt;/staticText&gt;\n                &lt;staticText&gt;\n                    &lt;reportElement style=\"Column header\" positionType=\"Float\" x=\"528\" y=\"0\" width=\"33\" height=\"14\" forecolor=\"#000000\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"true\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;text&gt;&lt;![CDATA[Patients_pTotalDue]]&gt;&lt;/text&gt;\n                &lt;/staticText&gt;\n            &lt;/frame&gt;\n            &lt;staticText&gt;\n                &lt;reportElement style=\"Column header\" positionType=\"Float\" x=\"0\" y=\"0\" width=\"72\" height=\"14\" forecolor=\"#000000\"/&gt;\n                &lt;textElement&gt;\n                    &lt;font fontName=\"Arial\" size=\"12\" isBold=\"true\" pdfFontName=\"Helvetica\"/&gt;\n                &lt;/textElement&gt;\n                &lt;text&gt;&lt;![CDATA[ Last Name]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n            &lt;staticText&gt;\n                &lt;reportElement style=\"Column header\" positionType=\"Float\" x=\"72\" y=\"0\" width=\"65\" height=\"14\" forecolor=\"#000000\"/&gt;\n                &lt;textElement&gt;\n                    &lt;font fontName=\"Arial\" size=\"12\" isBold=\"true\" pdfFontName=\"Helvetica\"/&gt;\n                &lt;/textElement&gt;\n                &lt;text&gt;&lt;![CDATA[First Name]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n            &lt;staticText&gt;\n                &lt;reportElement style=\"Column header\" positionType=\"Float\" x=\"137\" y=\"0\" width=\"74\" height=\"14\" forecolor=\"#000000\"/&gt;\n                &lt;textElement&gt;\n                    &lt;font fontName=\"Arial\" size=\"12\" isBold=\"true\" pdfFontName=\"Helvetica\"/&gt;\n                &lt;/textElement&gt;\n                &lt;text&gt;&lt;![CDATA[Middle Initial]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n        &lt;/band&gt;\n    &lt;/columnHeader&gt;\n    &lt;detail&gt;\n        &lt;band height=\"15\" splitType=\"Stretch\"&gt;\n            &lt;line&gt;\n                &lt;reportElement positionType=\"FixRelativeToBottom\" x=\"227\" y=\"14\" width=\"575\" height=\"1\"/&gt;\n            &lt;/line&gt;\n            &lt;frame&gt;\n                &lt;reportElement x=\"226\" y=\"0\" width=\"575\" height=\"14\"/&gt;\n                &lt;textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\"&gt;\n                    &lt;reportElement style=\"Detail\" positionType=\"Float\" x=\"99\" y=\"0\" width=\"33\" height=\"14\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pSex}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n                &lt;textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\"&gt;\n                    &lt;reportElement style=\"Detail\" positionType=\"Float\" x=\"132\" y=\"0\" width=\"33\" height=\"14\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pStatus}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n                &lt;textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\"&gt;\n                    &lt;reportElement style=\"Detail\" positionType=\"Float\" x=\"165\" y=\"0\" width=\"33\" height=\"14\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pTelNo}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n                &lt;textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\"&gt;\n                    &lt;reportElement style=\"Detail\" positionType=\"Float\" x=\"198\" y=\"0\" width=\"33\" height=\"14\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pDocID}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n                &lt;textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\"&gt;\n                    &lt;reportElement style=\"Detail\" positionType=\"Float\" x=\"231\" y=\"0\" width=\"33\" height=\"14\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pAddr}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n                &lt;textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\"&gt;\n                    &lt;reportElement style=\"Detail\" positionType=\"Float\" x=\"264\" y=\"0\" width=\"33\" height=\"14\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pStreet}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n                &lt;textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\"&gt;\n                    &lt;reportElement style=\"Detail\" positionType=\"Float\" x=\"297\" y=\"0\" width=\"33\" height=\"14\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pBarangay}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n                &lt;textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\"&gt;\n                    &lt;reportElement style=\"Detail\" positionType=\"Float\" x=\"330\" y=\"0\" width=\"33\" height=\"14\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pCity}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n                &lt;textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\"&gt;\n                    &lt;reportElement style=\"Detail\" positionType=\"Float\" x=\"363\" y=\"0\" width=\"33\" height=\"14\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pProvince}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n                &lt;textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\"&gt;\n                    &lt;reportElement style=\"Detail\" positionType=\"Float\" x=\"396\" y=\"0\" width=\"33\" height=\"14\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pLNameKIN}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n                &lt;textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\"&gt;\n                    &lt;reportElement style=\"Detail\" positionType=\"Float\" x=\"429\" y=\"0\" width=\"33\" height=\"14\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pFNameKIN}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n                &lt;textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\"&gt;\n                    &lt;reportElement style=\"Detail\" positionType=\"Float\" x=\"462\" y=\"0\" width=\"33\" height=\"14\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pMIKIN}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n                &lt;textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\"&gt;\n                    &lt;reportElement style=\"Detail\" positionType=\"Float\" x=\"495\" y=\"0\" width=\"33\" height=\"14\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pRelationKIN}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n                &lt;textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\"&gt;\n                    &lt;reportElement style=\"Detail\" positionType=\"Float\" x=\"528\" y=\"0\" width=\"33\" height=\"14\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pTotalDue}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n            &lt;/frame&gt;\n            &lt;textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\"&gt;\n                &lt;reportElement style=\"Detail\" positionType=\"Float\" x=\"4\" y=\"0\" width=\"68\" height=\"14\"/&gt;\n                &lt;textElement&gt;\n                    &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                &lt;/textElement&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pLName}]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n            &lt;textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\"&gt;\n                &lt;reportElement style=\"Detail\" positionType=\"Float\" x=\"72\" y=\"1\" width=\"65\" height=\"14\"/&gt;\n                &lt;textElement&gt;\n                    &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                &lt;/textElement&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pFName}]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n            &lt;textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\"&gt;\n                &lt;reportElement style=\"Detail\" positionType=\"Float\" x=\"137\" y=\"1\" width=\"72\" height=\"14\"/&gt;\n                &lt;textElement&gt;\n                    &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                &lt;/textElement&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pMI}]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n        &lt;/band&gt;\n    &lt;/detail&gt;\n    &lt;columnFooter&gt;\n        &lt;band height=\"7\" splitType=\"Stretch\"&gt;\n            &lt;line&gt;\n                &lt;reportElement positionType=\"FixRelativeToBottom\" x=\"0\" y=\"3\" width=\"555\" height=\"1\"/&gt;\n                &lt;graphicElement&gt;\n                    &lt;pen lineWidth=\"0.5\" lineColor=\"#999999\"/&gt;\n                &lt;/graphicElement&gt;\n            &lt;/line&gt;\n        &lt;/band&gt;\n    &lt;/columnFooter&gt;\n    &lt;pageFooter&gt;\n        &lt;band height=\"16\" splitType=\"Stretch\"&gt;\n            &lt;frame&gt;\n                &lt;reportElement mode=\"Opaque\" x=\"2\" y=\"0\" width=\"800\" height=\"16\" forecolor=\"#D0B48E\" backcolor=\"#006699\"/&gt;\n                &lt;textField evaluationTime=\"Report\"&gt;\n                    &lt;reportElement style=\"Column header\" x=\"753\" y=\"0\" width=\"40\" height=\"16\" forecolor=\"#FFFFFF\"/&gt;\n                    &lt;textElement verticalAlignment=\"Middle\"&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[\" \" + $V{PAGE_NUMBER}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n                &lt;textField&gt;\n                    &lt;reportElement style=\"Column header\" x=\"673\" y=\"0\" width=\"80\" height=\"16\" forecolor=\"#FFFFFF\"/&gt;\n                    &lt;textElement textAlignment=\"Right\" verticalAlignment=\"Middle\"&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[\"Page \"+$V{PAGE_NUMBER}+\" of\"]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n                &lt;textField pattern=\"EEEEE dd MMMMM yyyy\"&gt;\n                    &lt;reportElement style=\"Column header\" x=\"2\" y=\"0\" width=\"197\" height=\"16\" forecolor=\"#FFFFFF\"/&gt;\n                    &lt;textElement verticalAlignment=\"Middle\"&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[new java.util.Date()]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n            &lt;/frame&gt;\n        &lt;/band&gt;\n    &lt;/pageFooter&gt;\n    &lt;summary&gt;\n        &lt;band splitType=\"Stretch\"/&gt;\n    &lt;/summary&gt;\n&lt;/jasperReport&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","graphql"],"answers":[{"tags":[],"owner":{"account_id":23109863,"reputation":28,"user_id":17217944,"display_name":"Rohat Can"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678998793,"creation_date":1678998793,"answer_id":75761382,"question_id":75736858,"body_markdown":"There is only one endpoint in GraphQL and that is `www.server.com/graphql`. If you want to secure access to it, you can update the spring security configuration in this way.\r\n\r\n```\r\n        http.authorizeHttpRequests { auth -&gt;\r\n            auth.requestMatchers(HttpMethod.POST, &quot;/graphql&quot;)\r\n                .authenticated()\r\n                .requestMatchers(HttpMethod.GET, &quot;/graphql*&quot;)\r\n                .authenticated()\r\n                .anyRequest()\r\n                .authenticated()\r\n        }\r\n\r\n```\r\n\r\n\r\nWhen using GraphQL in production, you may want to disable introspection query because introspection is the ability to query which resources are available in the current API schema. For some scenarios, it can be counted as a security issue. Here show you can disable `introspection query` in Spring GraphQL.\r\n\r\n\r\n```\r\n    @Bean\r\n    fun wiring(): RuntimeWiringConfigurer {\r\n        return RuntimeWiringConfigurer { builder -&gt;\r\n            builder.fieldVisibility(NoIntrospectionGraphqlFieldVisibility.NO_INTROSPECTION_FIELD_VISIBILITY)\r\n        }\r\n    }\r\n```\r\n","title":"How to disable all graphQL endpoints with a configuration?","body":"<p>There is only one endpoint in GraphQL and that is <code>www.server.com/graphql</code>. If you want to secure access to it, you can update the spring security configuration in this way.</p>\n<pre><code>        http.authorizeHttpRequests { auth -&gt;\n            auth.requestMatchers(HttpMethod.POST, &quot;/graphql&quot;)\n                .authenticated()\n                .requestMatchers(HttpMethod.GET, &quot;/graphql*&quot;)\n                .authenticated()\n                .anyRequest()\n                .authenticated()\n        }\n\n</code></pre>\n<p>When using GraphQL in production, you may want to disable introspection query because introspection is the ability to query which resources are available in the current API schema. For some scenarios, it can be counted as a security issue. Here show you can disable <code>introspection query</code> in Spring GraphQL.</p>\n<pre><code>    @Bean\n    fun wiring(): RuntimeWiringConfigurer {\n        return RuntimeWiringConfigurer { builder -&gt;\n            builder.fieldVisibility(NoIntrospectionGraphqlFieldVisibility.NO_INTROSPECTION_FIELD_VISIBILITY)\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":16540475,"reputation":275,"user_id":11951361,"display_name":"lgean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678998793,"creation_date":1678817197,"question_id":75736858,"body_markdown":"Using this dependency, \r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.graphql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-graphql&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nIs there any configuration that can disable all GraphQL endpoints / controllers? I was suggested to look for something like `spring.graphql.enabled` but no luck so far.","title":"How to disable all graphQL endpoints with a configuration?","body":"<p>Using this dependency,</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.graphql&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-graphql&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Is there any configuration that can disable all GraphQL endpoints / controllers? I was suggested to look for something like <code>spring.graphql.enabled</code> but no luck so far.</p>\n"},{"tags":["java","apache-camel","apache-velocity","velocity-template-language"],"comments":[{"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"score":0,"creation_date":1679047305,"post_id":75759869,"comment_id":133654579,"body_markdown":"You&#39;re at least missing closing Parentheses after your first if and  `#` before your second if. Maybe try opening the template in editor like VSCode with Velocity template plugin that includes syntax highlighting to see if there are any more errors.","body":"You&#39;re at least missing closing Parentheses after your first if and  <code>#</code> before your second if. Maybe try opening the template in editor like VSCode with Velocity template plugin that includes syntax highlighting to see if there are any more errors."}],"owner":{"account_id":28035124,"reputation":1,"user_id":21413651,"display_name":"jorgeglopez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678997331,"creation_date":1678988773,"question_id":75759869,"body_markdown":"I have a Map of this type but I have not been able to print it in a velocity template. This is for a SOAP service\r\n\r\n{DATOS_CONTACTO=\\[{TIPO_DOCUMENTO=CC, NUMERO_DOCUMENTO=1525250, COD_DEPARTAMENTO=10, COD_MUNICIPIO=222, DIR_RESIDENCIA=CL 4A 3 52, TELEFONO=0, CELULAR=325252467, EMAIL=luzceni5252@hotmail.com}\\], DATOS_PARENTESCO=\\[{PARENTESCO=Hijos, DOCUMENTO=1052986, TIPODOC=1}, {PARENTESCO=Hijos, DOCUMENTO=1035252, TIPODOC=5}\\]}\r\n\r\nThe goal is to loop through the map and print its values\r\nValues are not displayed. I tried to get the result and iterate with a foreach\r\n\r\n```\r\n#foreach( $row in ${body} )\r\n#if($row[&#39;DATOS_PARENTESCO&#39;]\r\n#set ($foo = ($row[&quot;PARENTESCO&quot;]))\r\n&lt;ns1:dato_parentesco&gt;\r\n&lt;ns3:tipo_parentesco&gt;#if($foo == &quot;Conyuge&quot;)1 #elseif ($foo == &quot;Compa&#241;ero(a)&quot;)2 #elseif($foo ==&quot;Hijos&quot;)3 #elseif($foo == &quot;Padres&quot;)4 #elseif($foo == &quot;Otros&quot;)5 #else#end&lt;/ns3:tipo_parentesco&gt;\r\n&lt;ns3:tipo_doc_cotizante&gt;#if(!$row[&quot;TIPODOC&quot;])#{else}$row[&quot;TIPODOC&quot;]#end&lt;/ns3:tipo_doc_cotizante&gt;\r\n&lt;ns3:num_doc_cotizante&gt;#if(!$row[&quot;DOCUMENTO&quot;])#{else}$row[&quot;DOCUMENTO&quot;]#end&lt;/ns3:num_doc_cotizante&gt;\r\n&lt;/ns1:dato_parentesco&gt;\r\n#end\r\nif($row[&#39;DATOS_CONTACTO&#39;])\r\n&lt;ns1:datos_contacto&gt;\r\n&lt;ns3:depto_residencia&gt;#if(!$row[&quot;COD_DEPARTAMENTO&quot;])#{else}$row[&quot;COD_DEPARTAMENTO&quot;]#end&lt;/ns3:depto_residencia&gt;\r\n&lt;ns3:municipio_residencia&gt;#if(!$row[&quot;COD_MUNICIPIO&quot;])#{else}$row[&quot;COD_MUNICIPIO&quot;]#end&lt;/ns3:municipio_residencia&gt;\r\n&lt;ns3:direccion_residencia&gt;#if(!$row[&quot;DIR_RESIDENCIA&quot;])#{else}$row[&quot;DIR_RESIDENCIA&quot;]#end&lt;/ns3:direccion_residencia&gt;\r\n&lt;ns3:telefono_residencia&gt;#if(!$row[&quot;TELEFONO&quot;])#{else}$row[&quot;TELEFONO&quot;]#end&lt;/ns3:telefono_residencia&gt;\r\n&lt;ns3:telefono_movil&gt;#if(!$row[&quot;CELULAR&quot;])#{else}$row[&quot;CELULAR&quot;]#end&lt;/ns3:telefono_movil&gt;\r\n&lt;ns3:correo_electronico&gt;#if(!$row[&quot;EMAIL&quot;])#{else}$row[&quot;EMAIL&quot;]#end&lt;/ns3:correo_electronico&gt;\r\n&lt;/ns1:datos_contacto&gt;\r\n#end\r\n#end\r\n```","title":"Iterate a map with VTL velocity template. Camel","body":"<p>I have a Map of this type but I have not been able to print it in a velocity template. This is for a SOAP service</p>\n<p>{DATOS_CONTACTO=[{TIPO_DOCUMENTO=CC, NUMERO_DOCUMENTO=1525250, COD_DEPARTAMENTO=10, COD_MUNICIPIO=222, DIR_RESIDENCIA=CL 4A 3 52, TELEFONO=0, CELULAR=325252467, EMAIL=luzceni5252@hotmail.com}], DATOS_PARENTESCO=[{PARENTESCO=Hijos, DOCUMENTO=1052986, TIPODOC=1}, {PARENTESCO=Hijos, DOCUMENTO=1035252, TIPODOC=5}]}</p>\n<p>The goal is to loop through the map and print its values\nValues are not displayed. I tried to get the result and iterate with a foreach</p>\n<pre><code>#foreach( $row in ${body} )\n#if($row['DATOS_PARENTESCO']\n#set ($foo = ($row[&quot;PARENTESCO&quot;]))\n&lt;ns1:dato_parentesco&gt;\n&lt;ns3:tipo_parentesco&gt;#if($foo == &quot;Conyuge&quot;)1 #elseif ($foo == &quot;Compañero(a)&quot;)2 #elseif($foo ==&quot;Hijos&quot;)3 #elseif($foo == &quot;Padres&quot;)4 #elseif($foo == &quot;Otros&quot;)5 #else#end&lt;/ns3:tipo_parentesco&gt;\n&lt;ns3:tipo_doc_cotizante&gt;#if(!$row[&quot;TIPODOC&quot;])#{else}$row[&quot;TIPODOC&quot;]#end&lt;/ns3:tipo_doc_cotizante&gt;\n&lt;ns3:num_doc_cotizante&gt;#if(!$row[&quot;DOCUMENTO&quot;])#{else}$row[&quot;DOCUMENTO&quot;]#end&lt;/ns3:num_doc_cotizante&gt;\n&lt;/ns1:dato_parentesco&gt;\n#end\nif($row['DATOS_CONTACTO'])\n&lt;ns1:datos_contacto&gt;\n&lt;ns3:depto_residencia&gt;#if(!$row[&quot;COD_DEPARTAMENTO&quot;])#{else}$row[&quot;COD_DEPARTAMENTO&quot;]#end&lt;/ns3:depto_residencia&gt;\n&lt;ns3:municipio_residencia&gt;#if(!$row[&quot;COD_MUNICIPIO&quot;])#{else}$row[&quot;COD_MUNICIPIO&quot;]#end&lt;/ns3:municipio_residencia&gt;\n&lt;ns3:direccion_residencia&gt;#if(!$row[&quot;DIR_RESIDENCIA&quot;])#{else}$row[&quot;DIR_RESIDENCIA&quot;]#end&lt;/ns3:direccion_residencia&gt;\n&lt;ns3:telefono_residencia&gt;#if(!$row[&quot;TELEFONO&quot;])#{else}$row[&quot;TELEFONO&quot;]#end&lt;/ns3:telefono_residencia&gt;\n&lt;ns3:telefono_movil&gt;#if(!$row[&quot;CELULAR&quot;])#{else}$row[&quot;CELULAR&quot;]#end&lt;/ns3:telefono_movil&gt;\n&lt;ns3:correo_electronico&gt;#if(!$row[&quot;EMAIL&quot;])#{else}$row[&quot;EMAIL&quot;]#end&lt;/ns3:correo_electronico&gt;\n&lt;/ns1:datos_contacto&gt;\n#end\n#end\n</code></pre>\n"},{"tags":["java","selenium-webdriver","junit","cucumber"],"owner":{"account_id":21864906,"reputation":41,"user_id":16155234,"display_name":"German Larcher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1678998376,"answer_count":0,"score":1,"last_activity_date":1678996612,"creation_date":1678996612,"question_id":75761102,"body_markdown":"I have already seen some similar issues into other questions but I still be unable to solve my problem. It is weird that I was able to run these tests but not any more and I don&#39;t know why.\r\n\r\n**Info about my project:**\r\n\r\nThis is a basic project with Java and Seleniun.\r\n\r\n**Java JDK version**: 18.0.2.1\r\n\r\n**Gradle version**: 7.5\r\n\r\n**Cucumber**\r\n\r\n**Junit verssion**:  4.13.2\r\n\r\n**OS**: Windows 11\r\n\r\n**Implemented with Page Object Model**:\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nbuild.gradle:\r\n\r\n    plugins {\r\n            id &#39;java&#39;\r\n       }\r\n    group &#39;GerUdemy&#39;\r\n    version &#39;1.0-SNAPSHOT&#39;\r\n    \r\n    sourceCompatibility = 13\r\n    \r\n    repositories {\r\n    \r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        testImplementation group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.13.2&#39;\r\n        implementation group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-java&#39;, version: &#39;4.6.0&#39;\r\n    \r\n        testImplementation &#39;io.cucumber:cucumber-java:7.11.1&#39;\r\n        testImplementation &#39;io.cucumber:cucumber-junit:7.11.1&#39;\r\n        implementation group: &#39;io.cucumber&#39;, name: &#39;cucumber-core&#39;, version: &#39;7.11.1&#39;\r\n    \r\n        testImplementation group: &#39;org.slf4j&#39;, name: &#39;slf4j-simple&#39;, version: &#39;2.0.3&#39;\r\n    \r\n        implementation group: &#39;tech.grasshopper&#39;, name: &#39;extentreports-cucumber7-adapter&#39;, version: &#39;1.9.1&#39;\r\n    \r\n    }\r\n    \r\n    test{\r\n        systemProperty &quot;cucumber.options&quot;, System.getProperty(&quot;cucumber.options&quot;)\r\n    }\r\n\r\nThese are the failings that get when run the tests. **Sorry but this is huge and I have cut some parts**\r\n\r\n    &gt; Task :compileJava UP-TO-DATE\r\n    &gt; Task :processResources UP-TO-DATE\r\n    &gt; Task :classes UP-TO-DATE\r\n    &gt; Task :compileTestJava UP-TO-DATE\r\n    &gt; Task :processTestResources UP-TO-DATE\r\n    &gt; Task :testClasses UP-TO-DATE\r\n    &gt; Task :test\r\n    \r\n    @google\r\n    Scenario: As a user I enter a search criteria in Goggle # src/test/resources/features/Google.feature:4\r\n    Starting ChromeDriver 110.0.5481.77 (65ed616c6e8ee3fe0ad64fe83796c020644d42af-refs/branch-heads/5481@{#839}) on port 34369\r\n    Only local connections are allowed.\r\n    Please see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\n    ChromeDriver was started successfully.\r\n    [1678994810.214][WARNING]: This version of ChromeDriver has not been tested with Chrome version 111.\r\n    [1678994810.219][WARNING]: virtual void DevToolsClientImpl::AddListener(DevToolsEventListener *) subscribing a listener to the already connected DevToolsClient. Connection notification will not arrive.\r\n    Mar 16, 2023 4:26:50 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\r\n    WARNING: Invalid Status code=403 text=Forbidden\r\n    java.io.IOException: Invalid Status code=403 text=Forbidden\r\n    \tat org.asynchttpclient.netty.handler.WebSocketHandler.abort(WebSocketHandler.java:92)\r\n    \tat org.asynchttpclient.netty.handler.WebSocketHandler.handleRead(WebSocketHandler.java:118)\r\n    \tat org.asynchttpclient.netty.handler.AsyncHttpClientHandler.channelRead(AsyncHttpClientHandler.java:78)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n    \tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:336)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:323)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:444)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:280)\r\n    \tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n    \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n    \tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n    \tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    \r\n      Given I am on the Google search page                  # steps.GoogleSteps.navigateToGoogleSearchPage()\r\n          io.cucumber.core.exception.CucumberException: Failed to instantiate class steps.GoogleSteps\r\n    \tat io.cucumber.core.backend.DefaultObjectFactory.cacheNewInstance(DefaultObjectFactory.java:67)\r\n    \tat io.cucumber.core.backend.DefaultObjectFactory.getInstance(DefaultObjectFactory.java:45)\r\n    \tat io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\r\n    \tat io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\r\n    \tat io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\r\n    \tat io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\r\n    \tat io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\r\n    \tat io.cucumber.core.runner.TestStep.executeStep(TestStep.java:84)\r\n    \tat io.cucumber.core.runner.TestStep.run(TestStep.java:56)\r\n    \tat io.cucumber.core.runner.PickleStepTestStep.run(PickleStepTestStep.java:51)\r\n    \tat io.cucumber.core.runner.TestCase.run(TestCase.java:84)\r\n    \tat io.cucumber.core.runner.Runner.runPickle(Runner.java:75)\r\n    \tat io.cucumber.junit.PickleRunners$NoStepDescriptions.lambda$run$0(PickleRunners.java:151)\r\n    \tat io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:130)\r\n    \tat io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\r\n    \tat io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:130)\r\n    \tat io.cucumber.junit.PickleRunners$NoStepDescriptions.run(PickleRunners.java:148)\r\n    \tat io.cucumber.junit.FeatureRunner.runChild(FeatureRunner.java:144)\r\n    \tat io.cucumber.junit.FeatureRunner.runChild(FeatureRunner.java:28)\r\n    \tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n    \tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n    \t...\r\n    \tat io.cucumber.junit.Cucumber$FinishTestRun.evaluate(Cucumber.java:248)\r\n    \tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n    \tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\r\n    \tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n    \tat jdk.proxy1/jdk.proxy1.$Proxy2.processTestClass(Unknown Source)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker$2.run(TestWorker.java:176)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n    \tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n    \tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\r\n    \tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\r\n    \tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n    \tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:79)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)\r\n    \tat io.cucumber.core.backend.DefaultObjectFactory.cacheNewInstance(DefaultObjectFactory.java:53)\r\n    \t... 61 more\r\n    Caused by: java.lang.ExceptionInInitializerError\r\n    \tat steps.GoogleSteps.&lt;init&gt;(GoogleSteps.java:9)\r\n    \tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\r\n    \t... 64 more\r\n    Caused by: org.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:56500/devtools/browser/9a9c85fc-4876-4308-bbdd-bf3e859a839c\r\n    Build info: version: &#39;4.6.0&#39;, revision: &#39;79f1c02ae20&#39;\r\n    System info: os.name: &#39;Windows 11&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;18.0.2.1&#39;\r\n    Driver info: driver.version: ChromeDriver\r\n    \tat org.openqa.selenium.remote.http.netty.NettyWebSocket.&lt;init&gt;(NettyWebSocket.java:102)\r\n    \tat org.openqa.selenium.remote.http.netty.NettyWebSocket.lambda$create$3(NettyWebSocket.java:128)\r\n    \tat org.openqa.selenium.remote.http.netty.NettyClient.openSocket(NettyClient.java:107)\r\n    \tat org.openqa.selenium.devtools.Connection.&lt;init&gt;(Connection.java:77)\r\n    \t... 66 more    \r\n    \r\n    \r\n    Failed to instantiate class steps.GoogleSteps\r\n    io.cucumber.core.exception.CucumberException: Failed to instantiate class steps.GoogleSteps\r\n    \tat app//io.cucumber.core.backend.DefaultObjectFactory.cacheNewInstance(DefaultObjectFactory.java:67)\r\n    \tat app//io.cucumber.core.backend.DefaultObjectFactory.getInstance(DefaultObjectFactory.java:45)\r\n    \tat app//io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\r\n    \tat app//io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\r\n    \tat app//io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\r\n    \tat app//io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\r\n    \tat app//io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\r\n    \tat app//io.cucumber.core.runner.TestCase.run(TestCase.java:84)\r\n    \tat app//io.cucumber.core.runner.Runner.runPickle(Runner.java:75)\r\n    \tat app//io.cucumber.junit.PickleRunners$NoStepDescriptions.lambda$run$0(PickleRunners.java:151)\r\n    \tat app//io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:130)\r\n    \tat app//io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\r\n    \tat app//io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:130)\r\n    \trs.evaluate(RunAfters.java:27)\r\n    \tat app//org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n    \tat app//org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\r\n    \tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\r\n    \tat java.base@18.0.2.1/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base@18.0.2.1/java.lang.reflect.Method.invoke(Method.java:577)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n    \tat jdk.proxy1/jdk.proxy1.$Proxy2.processTestClass(Unknown Source)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker$2.run(TestWorker.java:176)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n    \tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n    \tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\r\n    \tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\r\n    \tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n    \tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:79)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)\r\n    \tat io.cucumber.core.backend.DefaultObjectFactory.cacheNewInstance(DefaultObjectFactory.java:53)\r\n    \t... 61 more\r\n    Caused by: java.lang.ExceptionInInitializerError\r\n    \tat steps.GoogleSteps.&lt;init&gt;(GoogleSteps.java:9)\r\n    \tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\r\n    \t... 64 more\r\n    Caused by: org.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:56500/devtools/browser/9a9c85fc-4876-4308-bbdd-bf3e859a839c\r\n    Build info: version: &#39;4.6.0&#39;, revision: &#39;79f1c02ae20&#39;\r\n    System info: os.name: &#39;Windows 11&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;18.0.2.1&#39;\r\n    Driver info: driver.version: ChromeDriver\r\n    \tat app//org.openqa.selenium.remote.http.netty.NettyWebSocket.&lt;init&gt;(NettyWebSocket.java:102)\r\n    \tat app//pages.BasePage.&lt;clinit&gt;(BasePage.java:27)\r\n    \t... 66 more\r\n    \r\n    Could not initialize class pages.BasePage\r\n    java.lang.NoClassDefFoundError: Could not initialize class pages.BasePage\r\n    \tat runner.runner.cleanBrowser(runner.java:24)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n    \tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\r\n    \tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n    \tat jdk.proxy1/jdk.proxy1.$Proxy2.processTestClass(Unknown Source)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker$2.run(TestWorker.java:176)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n    \tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n    \tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\r\n    \tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\r\n    \tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n    \tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n    Caused by: java.lang.ExceptionInInitializerError: Exception org.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:56500/devtools/browser/9a9c85fc-4876-4308-bbdd-bf3e859a839c [in thread &quot;Test worker&quot;]\r\n    \tat org.openqa.selenium.remote.http.netty.NettyWebSocket.&lt;init&gt;(NettyWebSocket.java:102)\r\n    \tat org.openqa.selenium.remote.http.netty.NettyWebSocket.lambda$create$3(NettyWebSocket.java:128)\r\n    \tat org.openqa.selenium.remote.http.netty.NettyClient.openSocket(NettyClient.java:107)\r\n    \tat org.openqa.selenium.devtools.Connection.&lt;init&gt;(Connection.java:77)\r\n    \tat org.openqa.selenium.chromium.ChromiumDriver.lambda$new$2(ChromiumDriver.java:116)\r\n    \tat java.base/java.util.Optional.map(Optional.java:260)\r\n    \tat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:114)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:81)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:70)\r\n    \tat pages.BasePage.&lt;clinit&gt;(BasePage.java:27)\r\n    \tat steps.GoogleSteps.&lt;init&gt;(GoogleSteps.java:9)\r\n    \tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)\r\n    \tat io.cucumber.core.backend.DefaultObjectFactory.cacheNewInstance(DefaultObjectFactory.java:53)\r\n    \tat io.cucumber.core.backend.DefaultObjectFactory.getInstance(DefaultObjectFactory.java:45)\r\n    \tat io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\r\n    \tat io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\r\n    \tat io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\r\n    \tat io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\r\n    \tat io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\r\n    \tat io.cucumber.core.runner.Runner.runPickle(Runner.java:75)\r\n    \tat io.cucumber.junit.PickleRunners$NoStepDescriptions.lambda$run$0(PickleRunners.java:151)\r\n    \tat io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:130)\r\n    \tat io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\r\n    \tat io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:130)\r\n    \tat io.cucumber.junit.PickleRunners$NoStepDescriptions.run(PickleRunners.java:148)\r\n    \t...\r\n    \tat io.cucumber.junit.Cucumber$StartTestRun.evaluate(Cucumber.java:233)\r\n    \tat io.cucumber.junit.Cucumber$FinishTestRun.evaluate(Cucumber.java:248)\r\n    \tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n    \t... 23 more\r\n    \r\n    ????????????????????????????????????????????????????????????????????????????\r\n    runner.runner &gt; Test Google search functionality.As a user I enter a search criteria in Goggle FAILED\r\n        io.cucumber.core.exception.CucumberException at DefaultObjectFactory.java:67\r\n            Caused by: java.lang.reflect.InvocationTargetException at DirectConstructorHandleAccessor.java:79\r\n                Caused by: java.lang.ExceptionInInitializerError at GoogleSteps.java:9\r\n                    Caused by: org.openqa.selenium.remote.http.ConnectionFailedException at NettyWebSocket.java:102\r\n        java.lang.NoClassDefFoundError at Unsafe.java:-2\r\n            Caused by: java.lang.ExceptionInInitializerError at NettyWebSocket.java:102\r\n    runner.runner &gt; classMethod FAILED\r\n        java.lang.NoClassDefFoundError at runner.java:24\r\n            Caused by: java.lang.ExceptionInInitializerError at NettyWebSocket.java:102\r\n    2 tests completed, 2 failed\r\n    &gt; Task :test FAILED\r\n    FAILURE: Build failed with an exception.\r\n    * What went wrong:\r\n    Execution failed for task &#39;:test&#39;.\r\n    &gt; There were failing tests. See the report at: file:///D:/AUTOMATION/practicas/java-selenium/practica-ger/build/reports/tests/test/index.html\r\n    * Try:\r\n    &gt; Run with --stacktrace option to get the stack trace.\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.\r\n    * Get more help at https://help.gradle.org\r\n    BUILD FAILED in 6s\r\n    5 actionable tasks: 1 executed, 4 up-to-date\r\n\r\n**More info about this project:**\r\n\r\nGoogle.feature:\r\n\r\n    Feature: Test Google search functionality\r\n    \r\n      @google\r\n        Scenario: As a user I enter a search criteria in Goggle\r\n          Given I am on the Google search page\r\n          When I enter a search criteria\r\n          And click on the search button\r\n          Then results match the criteria\r\n\r\nGooglePage.java\r\n\r\n    package pages;\r\n    \r\n    public class GooglePage extends BasePage {\r\n    \r\n        //private String searchButton = &quot;(//div/center/input[@name=&#39;btnK&#39;])[2]&quot;;\r\n        private String searchButton = &quot;//body/div[1]/div[3]/form[1]/div[1]/div[1]/div[2]/div[2]/div[5]/center[1]/input[1]&quot;;\r\n        private String searchTextField = &quot;//input[contains(@class,&#39;gLFyf gsfi&#39;)]&quot;;\r\n        private String firstResult = &quot;//h3[contains(text(),&#39;Argentina.gob.ar: Inicio&#39;)]&quot;;\r\n    \r\n        public GooglePage() {\r\n    \r\n            super(driver);\r\n        }\r\n    \r\n        public void navigateToGoogle() {\r\n    \r\n            navigateTo(&quot;https://www.google.com/&quot;);\r\n        }\r\n    \r\n        public void clickGoogleSearch() {\r\n            super.clickElement(searchButton);\r\n        }\r\n    \r\n        public void enterSearchCriteria(String criteria){\r\n            write(searchTextField, &quot;Argentina&quot;);\r\n        }\r\n    \r\n        public String firstResult(){\r\n            return textFromElement(firstResult);\r\n        }\r\n    }\r\n\r\nGoogleSteps.java\r\n\r\n    package steps;\r\n    \r\n    import io.cucumber.java.en.*;\r\n    import org.junit.Assert;\r\n    import pages.GooglePage;\r\n    \r\n    public class GoogleSteps {\r\n    \r\n        GooglePage google = new GooglePage();\r\n    \r\n        @Given(&quot;^I am on the Google search page$&quot;)\r\n        public void navigateToGoogleSearchPage(){\r\n            google.navigateToGoogle();\r\n        }\r\n    \r\n        @When(&quot;^I enter a search criteria$&quot;)\r\n        public void enterSearchCriteria(){\r\n            google.enterSearchCriteria(&quot;Google&quot;);\r\n        }\r\n    \r\n        @And(&quot;^click on the search button$&quot;)\r\n        public void clickOnSearchButton(){\r\n            google.clickGoogleSearch();\r\n        }\r\n    \r\n        @Then(&quot;^results match the criteria$&quot;)\r\n        public void validateResults(){\r\n            Assert.assertEquals(&quot;Argentina.gob.ar: Inicio&quot;, google.firstResult());\r\n        }\r\n    }\r\n\r\nrunner.java\r\n\r\n    import io.cucumber.junit.Cucumber;\r\n    import io.cucumber.junit.CucumberOptions;\r\n    import org.junit.AfterClass;\r\n    import org.junit.runner.RunWith;\r\n    import pages.BasePage;\r\n    \r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n            tags = &quot;@google&quot;,\r\n            plugin = { &quot;pretty&quot;,\r\n                    &quot;json:target/cucumber-reports/cucumber.json&quot;,\r\n                    &quot;html:target/cucumber-reports/cucumberreport.html&quot;,\r\n                    &quot;com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter:&quot;},\r\n            features = &quot;src/test/resources/features&quot;,\r\n            monochrome = true,\r\n            glue = &quot;steps&quot;\r\n    )\r\n    \r\n    public class runner {\r\n        @AfterClass\r\n        public static void cleanBrowser(){\r\n            BasePage.closeBrowser();\r\n        }\r\n    }\r\n\r\nBasePage.java\r\n\r\n    package pages;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n    import org.openqa.selenium.interactions.Actions;\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    import org.openqa.selenium.support.ui.Select;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    \r\n    import java.time.Duration;\r\n    import java.util.List;\r\n    \r\n    public class BasePage {\r\n        // static hace que haya un solo valor para todas las instancias de esta clase.\r\n        // Es decir, una sola instancia de WebDriver compartida para todas las clases\r\n        protected static WebDriver driver;\r\n        private static WebDriverWait wait;\r\n        private static Actions action;\r\n    \r\n        // bloque estatico que se va a ejecutar al comienzo\r\n        static {\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:\\\\AUTOMATION\\\\practicas\\\\java-selenium\\\\practica-ger\\\\src\\\\main\\\\resources\\\\drivers\\\\chromedriver.exe&quot;);\r\n            ChromeOptions chromeOptions = new ChromeOptions();\r\n            driver = new ChromeDriver(chromeOptions);\r\n            wait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n        }\r\n    \r\n        //Constructor\r\n        public BasePage(WebDriver driver) {\r\n            BasePage.driver = driver;\r\n            wait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n            // [[[*]]] esto es el wait IMPLISCITO PURO que no es recomendable usar ya que va a esperar esos 10 segundos para cada accion.\r\n            // driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n        }\r\n    \r\n        public static void navigateTo(String url) {\r\n            driver.get(url);\r\n        }\r\n    \r\n        public static void closeBrowser(){\r\n            driv\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fGeSP.png","title":"Unable to Run Tests with Cucumber, Selenium, Java 18 and Junit","body":"<p>I have already seen some similar issues into other questions but I still be unable to solve my problem. It is weird that I was able to run these tests but not any more and I don't know why.</p>\n<p><strong>Info about my project:</strong></p>\n<p>This is a basic project with Java and Seleniun.</p>\n<p><strong>Java JDK version</strong>: 18.0.2.1</p>\n<p><strong>Gradle version</strong>: 7.5</p>\n<p><strong>Cucumber</strong></p>\n<p><strong>Junit verssion</strong>:  4.13.2</p>\n<p><strong>OS</strong>: Windows 11</p>\n<p><strong>Implemented with Page Object Model</strong>:</p>\n<p><a href=\"https://i.stack.imgur.com/fGeSP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fGeSP.png\" alt=\"enter image description here\" /></a></p>\n<p>build.gradle:</p>\n<pre><code>plugins {\n        id 'java'\n   }\ngroup 'GerUdemy'\nversion '1.0-SNAPSHOT'\n\nsourceCompatibility = 13\n\nrepositories {\n\n    mavenCentral()\n}\n\ndependencies {\n\n    testImplementation group: 'junit', name: 'junit', version: '4.13.2'\n    implementation group: 'org.seleniumhq.selenium', name: 'selenium-java', version: '4.6.0'\n\n    testImplementation 'io.cucumber:cucumber-java:7.11.1'\n    testImplementation 'io.cucumber:cucumber-junit:7.11.1'\n    implementation group: 'io.cucumber', name: 'cucumber-core', version: '7.11.1'\n\n    testImplementation group: 'org.slf4j', name: 'slf4j-simple', version: '2.0.3'\n\n    implementation group: 'tech.grasshopper', name: 'extentreports-cucumber7-adapter', version: '1.9.1'\n\n}\n\ntest{\n    systemProperty &quot;cucumber.options&quot;, System.getProperty(&quot;cucumber.options&quot;)\n}\n</code></pre>\n<p>These are the failings that get when run the tests. <strong>Sorry but this is huge and I have cut some parts</strong></p>\n<pre><code>&gt; Task :compileJava UP-TO-DATE\n&gt; Task :processResources UP-TO-DATE\n&gt; Task :classes UP-TO-DATE\n&gt; Task :compileTestJava UP-TO-DATE\n&gt; Task :processTestResources UP-TO-DATE\n&gt; Task :testClasses UP-TO-DATE\n&gt; Task :test\n\n@google\nScenario: As a user I enter a search criteria in Goggle # src/test/resources/features/Google.feature:4\nStarting ChromeDriver 110.0.5481.77 (65ed616c6e8ee3fe0ad64fe83796c020644d42af-refs/branch-heads/5481@{#839}) on port 34369\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\n[1678994810.214][WARNING]: This version of ChromeDriver has not been tested with Chrome version 111.\n[1678994810.219][WARNING]: virtual void DevToolsClientImpl::AddListener(DevToolsEventListener *) subscribing a listener to the already connected DevToolsClient. Connection notification will not arrive.\nMar 16, 2023 4:26:50 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\nWARNING: Invalid Status code=403 text=Forbidden\njava.io.IOException: Invalid Status code=403 text=Forbidden\n    at org.asynchttpclient.netty.handler.WebSocketHandler.abort(WebSocketHandler.java:92)\n    at org.asynchttpclient.netty.handler.WebSocketHandler.handleRead(WebSocketHandler.java:118)\n    at org.asynchttpclient.netty.handler.AsyncHttpClientHandler.channelRead(AsyncHttpClientHandler.java:78)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:336)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:323)\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:444)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:280)\n    at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n\n  Given I am on the Google search page                  # steps.GoogleSteps.navigateToGoogleSearchPage()\n      io.cucumber.core.exception.CucumberException: Failed to instantiate class steps.GoogleSteps\n    at io.cucumber.core.backend.DefaultObjectFactory.cacheNewInstance(DefaultObjectFactory.java:67)\n    at io.cucumber.core.backend.DefaultObjectFactory.getInstance(DefaultObjectFactory.java:45)\n    at io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\n    at io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\n    at io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\n    at io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\n    at io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\n    at io.cucumber.core.runner.TestStep.executeStep(TestStep.java:84)\n    at io.cucumber.core.runner.TestStep.run(TestStep.java:56)\n    at io.cucumber.core.runner.PickleStepTestStep.run(PickleStepTestStep.java:51)\n    at io.cucumber.core.runner.TestCase.run(TestCase.java:84)\n    at io.cucumber.core.runner.Runner.runPickle(Runner.java:75)\n    at io.cucumber.junit.PickleRunners$NoStepDescriptions.lambda$run$0(PickleRunners.java:151)\n    at io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:130)\n    at io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\n    at io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:130)\n    at io.cucumber.junit.PickleRunners$NoStepDescriptions.run(PickleRunners.java:148)\n    at io.cucumber.junit.FeatureRunner.runChild(FeatureRunner.java:144)\n    at io.cucumber.junit.FeatureRunner.runChild(FeatureRunner.java:28)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    ...\n    at io.cucumber.junit.Cucumber$FinishTestRun.evaluate(Cucumber.java:248)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\n    at org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy1/jdk.proxy1.$Proxy2.processTestClass(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$2.run(TestWorker.java:176)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:79)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)\n    at io.cucumber.core.backend.DefaultObjectFactory.cacheNewInstance(DefaultObjectFactory.java:53)\n    ... 61 more\nCaused by: java.lang.ExceptionInInitializerError\n    at steps.GoogleSteps.&lt;init&gt;(GoogleSteps.java:9)\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\n    ... 64 more\nCaused by: org.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:56500/devtools/browser/9a9c85fc-4876-4308-bbdd-bf3e859a839c\nBuild info: version: '4.6.0', revision: '79f1c02ae20'\nSystem info: os.name: 'Windows 11', os.arch: 'amd64', os.version: '10.0', java.version: '18.0.2.1'\nDriver info: driver.version: ChromeDriver\n    at org.openqa.selenium.remote.http.netty.NettyWebSocket.&lt;init&gt;(NettyWebSocket.java:102)\n    at org.openqa.selenium.remote.http.netty.NettyWebSocket.lambda$create$3(NettyWebSocket.java:128)\n    at org.openqa.selenium.remote.http.netty.NettyClient.openSocket(NettyClient.java:107)\n    at org.openqa.selenium.devtools.Connection.&lt;init&gt;(Connection.java:77)\n    ... 66 more    \n\n\nFailed to instantiate class steps.GoogleSteps\nio.cucumber.core.exception.CucumberException: Failed to instantiate class steps.GoogleSteps\n    at app//io.cucumber.core.backend.DefaultObjectFactory.cacheNewInstance(DefaultObjectFactory.java:67)\n    at app//io.cucumber.core.backend.DefaultObjectFactory.getInstance(DefaultObjectFactory.java:45)\n    at app//io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\n    at app//io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\n    at app//io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\n    at app//io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\n    at app//io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\n    at app//io.cucumber.core.runner.TestCase.run(TestCase.java:84)\n    at app//io.cucumber.core.runner.Runner.runPickle(Runner.java:75)\n    at app//io.cucumber.junit.PickleRunners$NoStepDescriptions.lambda$run$0(PickleRunners.java:151)\n    at app//io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:130)\n    at app//io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\n    at app//io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:130)\n    rs.evaluate(RunAfters.java:27)\n    at app//org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at app//org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\n    at org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\n    at java.base@18.0.2.1/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base@18.0.2.1/java.lang.reflect.Method.invoke(Method.java:577)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy1/jdk.proxy1.$Proxy2.processTestClass(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$2.run(TestWorker.java:176)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:79)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)\n    at io.cucumber.core.backend.DefaultObjectFactory.cacheNewInstance(DefaultObjectFactory.java:53)\n    ... 61 more\nCaused by: java.lang.ExceptionInInitializerError\n    at steps.GoogleSteps.&lt;init&gt;(GoogleSteps.java:9)\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\n    ... 64 more\nCaused by: org.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:56500/devtools/browser/9a9c85fc-4876-4308-bbdd-bf3e859a839c\nBuild info: version: '4.6.0', revision: '79f1c02ae20'\nSystem info: os.name: 'Windows 11', os.arch: 'amd64', os.version: '10.0', java.version: '18.0.2.1'\nDriver info: driver.version: ChromeDriver\n    at app//org.openqa.selenium.remote.http.netty.NettyWebSocket.&lt;init&gt;(NettyWebSocket.java:102)\n    at app//pages.BasePage.&lt;clinit&gt;(BasePage.java:27)\n    ... 66 more\n\nCould not initialize class pages.BasePage\njava.lang.NoClassDefFoundError: Could not initialize class pages.BasePage\n    at runner.runner.cleanBrowser(runner.java:24)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy1/jdk.proxy1.$Proxy2.processTestClass(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$2.run(TestWorker.java:176)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: java.lang.ExceptionInInitializerError: Exception org.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:56500/devtools/browser/9a9c85fc-4876-4308-bbdd-bf3e859a839c [in thread &quot;Test worker&quot;]\n    at org.openqa.selenium.remote.http.netty.NettyWebSocket.&lt;init&gt;(NettyWebSocket.java:102)\n    at org.openqa.selenium.remote.http.netty.NettyWebSocket.lambda$create$3(NettyWebSocket.java:128)\n    at org.openqa.selenium.remote.http.netty.NettyClient.openSocket(NettyClient.java:107)\n    at org.openqa.selenium.devtools.Connection.&lt;init&gt;(Connection.java:77)\n    at org.openqa.selenium.chromium.ChromiumDriver.lambda$new$2(ChromiumDriver.java:116)\n    at java.base/java.util.Optional.map(Optional.java:260)\n    at org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:114)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:81)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:70)\n    at pages.BasePage.&lt;clinit&gt;(BasePage.java:27)\n    at steps.GoogleSteps.&lt;init&gt;(GoogleSteps.java:9)\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)\n    at io.cucumber.core.backend.DefaultObjectFactory.cacheNewInstance(DefaultObjectFactory.java:53)\n    at io.cucumber.core.backend.DefaultObjectFactory.getInstance(DefaultObjectFactory.java:45)\n    at io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\n    at io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\n    at io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\n    at io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\n    at io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\n    at io.cucumber.core.runner.Runner.runPickle(Runner.java:75)\n    at io.cucumber.junit.PickleRunners$NoStepDescriptions.lambda$run$0(PickleRunners.java:151)\n    at io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:130)\n    at io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\n    at io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:130)\n    at io.cucumber.junit.PickleRunners$NoStepDescriptions.run(PickleRunners.java:148)\n    ...\n    at io.cucumber.junit.Cucumber$StartTestRun.evaluate(Cucumber.java:233)\n    at io.cucumber.junit.Cucumber$FinishTestRun.evaluate(Cucumber.java:248)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    ... 23 more\n\n????????????????????????????????????????????????????????????????????????????\nrunner.runner &gt; Test Google search functionality.As a user I enter a search criteria in Goggle FAILED\n    io.cucumber.core.exception.CucumberException at DefaultObjectFactory.java:67\n        Caused by: java.lang.reflect.InvocationTargetException at DirectConstructorHandleAccessor.java:79\n            Caused by: java.lang.ExceptionInInitializerError at GoogleSteps.java:9\n                Caused by: org.openqa.selenium.remote.http.ConnectionFailedException at NettyWebSocket.java:102\n    java.lang.NoClassDefFoundError at Unsafe.java:-2\n        Caused by: java.lang.ExceptionInInitializerError at NettyWebSocket.java:102\nrunner.runner &gt; classMethod FAILED\n    java.lang.NoClassDefFoundError at runner.java:24\n        Caused by: java.lang.ExceptionInInitializerError at NettyWebSocket.java:102\n2 tests completed, 2 failed\n&gt; Task :test FAILED\nFAILURE: Build failed with an exception.\n* What went wrong:\nExecution failed for task ':test'.\n&gt; There were failing tests. See the report at: file:///D:/AUTOMATION/practicas/java-selenium/practica-ger/build/reports/tests/test/index.html\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n* Get more help at https://help.gradle.org\nBUILD FAILED in 6s\n5 actionable tasks: 1 executed, 4 up-to-date\n</code></pre>\n<p><strong>More info about this project:</strong></p>\n<p>Google.feature:</p>\n<pre><code>Feature: Test Google search functionality\n\n  @google\n    Scenario: As a user I enter a search criteria in Goggle\n      Given I am on the Google search page\n      When I enter a search criteria\n      And click on the search button\n      Then results match the criteria\n</code></pre>\n<p>GooglePage.java</p>\n<pre><code>package pages;\n\npublic class GooglePage extends BasePage {\n\n    //private String searchButton = &quot;(//div/center/input[@name='btnK'])[2]&quot;;\n    private String searchButton = &quot;//body/div[1]/div[3]/form[1]/div[1]/div[1]/div[2]/div[2]/div[5]/center[1]/input[1]&quot;;\n    private String searchTextField = &quot;//input[contains(@class,'gLFyf gsfi')]&quot;;\n    private String firstResult = &quot;//h3[contains(text(),'Argentina.gob.ar: Inicio')]&quot;;\n\n    public GooglePage() {\n\n        super(driver);\n    }\n\n    public void navigateToGoogle() {\n\n        navigateTo(&quot;https://www.google.com/&quot;);\n    }\n\n    public void clickGoogleSearch() {\n        super.clickElement(searchButton);\n    }\n\n    public void enterSearchCriteria(String criteria){\n        write(searchTextField, &quot;Argentina&quot;);\n    }\n\n    public String firstResult(){\n        return textFromElement(firstResult);\n    }\n}\n</code></pre>\n<p>GoogleSteps.java</p>\n<pre><code>package steps;\n\nimport io.cucumber.java.en.*;\nimport org.junit.Assert;\nimport pages.GooglePage;\n\npublic class GoogleSteps {\n\n    GooglePage google = new GooglePage();\n\n    @Given(&quot;^I am on the Google search page$&quot;)\n    public void navigateToGoogleSearchPage(){\n        google.navigateToGoogle();\n    }\n\n    @When(&quot;^I enter a search criteria$&quot;)\n    public void enterSearchCriteria(){\n        google.enterSearchCriteria(&quot;Google&quot;);\n    }\n\n    @And(&quot;^click on the search button$&quot;)\n    public void clickOnSearchButton(){\n        google.clickGoogleSearch();\n    }\n\n    @Then(&quot;^results match the criteria$&quot;)\n    public void validateResults(){\n        Assert.assertEquals(&quot;Argentina.gob.ar: Inicio&quot;, google.firstResult());\n    }\n}\n</code></pre>\n<p>runner.java</p>\n<pre><code>import io.cucumber.junit.Cucumber;\nimport io.cucumber.junit.CucumberOptions;\nimport org.junit.AfterClass;\nimport org.junit.runner.RunWith;\nimport pages.BasePage;\n\n@RunWith(Cucumber.class)\n@CucumberOptions(\n        tags = &quot;@google&quot;,\n        plugin = { &quot;pretty&quot;,\n                &quot;json:target/cucumber-reports/cucumber.json&quot;,\n                &quot;html:target/cucumber-reports/cucumberreport.html&quot;,\n                &quot;com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter:&quot;},\n        features = &quot;src/test/resources/features&quot;,\n        monochrome = true,\n        glue = &quot;steps&quot;\n)\n\npublic class runner {\n    @AfterClass\n    public static void cleanBrowser(){\n        BasePage.closeBrowser();\n    }\n}\n</code></pre>\n<p>BasePage.java</p>\n<pre><code>package pages;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport org.openqa.selenium.interactions.Actions;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.Select;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\nimport java.time.Duration;\nimport java.util.List;\n\npublic class BasePage {\n    // static hace que haya un solo valor para todas las instancias de esta clase.\n    // Es decir, una sola instancia de WebDriver compartida para todas las clases\n    protected static WebDriver driver;\n    private static WebDriverWait wait;\n    private static Actions action;\n\n    // bloque estatico que se va a ejecutar al comienzo\n    static {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:\\\\AUTOMATION\\\\practicas\\\\java-selenium\\\\practica-ger\\\\src\\\\main\\\\resources\\\\drivers\\\\chromedriver.exe&quot;);\n        ChromeOptions chromeOptions = new ChromeOptions();\n        driver = new ChromeDriver(chromeOptions);\n        wait = new WebDriverWait(driver, Duration.ofSeconds(10));\n    }\n\n    //Constructor\n    public BasePage(WebDriver driver) {\n        BasePage.driver = driver;\n        wait = new WebDriverWait(driver, Duration.ofSeconds(10));\n        // [[[*]]] esto es el wait IMPLISCITO PURO que no es recomendable usar ya que va a esperar esos 10 segundos para cada accion.\n        // driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n    }\n\n    public static void navigateTo(String url) {\n        driver.get(url);\n    }\n\n    public static void closeBrowser(){\n        driv\n</code></pre>\n"},{"tags":["java","string","binary","byte","bit"],"comments":[{"owner":{"account_id":6721149,"reputation":1665,"user_id":5181125,"display_name":"Patrick"},"score":0,"creation_date":1474753459,"post_id":39680749,"comment_id":66662698,"body_markdown":"Why do you want the string to get converted to integer ? Is it not possible to save the string with leading 0s when a string without leading 0s can be saved ? What exactly is your problem ?","body":"Why do you want the string to get converted to integer ? Is it not possible to save the string with leading 0s when a string without leading 0s can be saved ? What exactly is your problem ?"},{"owner":{"account_id":6951257,"reputation":1214,"user_id":5333805,"accept_rate":88,"display_name":"Luud van Keulen"},"score":0,"creation_date":1474754483,"post_id":39680749,"comment_id":66662946,"body_markdown":"Well it&#39;s a compression method. So one &#39;a&#39; or &#39;b&#39; gets translated to something like 0110 (which is 4 bits and not 1 byte). The problem is that I&#39;m saving the 1&#39;s and 0&#39;s as 1 byte so there is no compression (its even worse now).","body":"Well it&#39;s a compression method. So one &#39;a&#39; or &#39;b&#39; gets translated to something like 0110 (which is 4 bits and not 1 byte). The problem is that I&#39;m saving the 1&#39;s and 0&#39;s as 1 byte so there is no compression (its even worse now)."}],"answers":[{"comments":[{"owner":{"account_id":6951257,"reputation":1214,"user_id":5333805,"accept_rate":88,"display_name":"Luud van Keulen"},"score":0,"creation_date":1474750716,"post_id":39680821,"comment_id":66662038,"body_markdown":"&quot;Parse each chunk, and put the result into the corresponding byte&quot; that is where I&#39;m stuck on. I can&#39;t use Integer.parseInt because that will remove the leading 0&#39;s. When I try Byte.parseByte(s, 2) it doesn&#39;t work because it isn&#39;t signed.","body":"&quot;Parse each chunk, and put the result into the corresponding byte&quot; that is where I&#39;m stuck on. I can&#39;t use Integer.parseInt because that will remove the leading 0&#39;s. When I try Byte.parseByte(s, 2) it doesn&#39;t work because it isn&#39;t signed."},{"owner":{"account_id":134022,"reputation":717193,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":0,"creation_date":1474750800,"post_id":39680821,"comment_id":66662056,"body_markdown":"@LuudvanKeulen What exception do you get? By the way, if parsing `int` works fine, you can cast the `int` result to `byte`, and it&#39;s going to work, too.","body":"@LuudvanKeulen What exception do you get? By the way, if parsing <code>int</code> works fine, you can cast the <code>int</code> result to <code>byte</code>, and it&#39;s going to work, too."},{"owner":{"account_id":6951257,"reputation":1214,"user_id":5333805,"accept_rate":88,"display_name":"Luud van Keulen"},"score":0,"creation_date":1474751111,"post_id":39680821,"comment_id":66662124,"body_markdown":"&#39;java.lang.NumberFormatException: Value out of range. Value:&quot;11101101&quot; Radix:10&#39; I read that is it because It doesnt accept anything higher then a certain value so 1111111 is not possible.","body":"&#39;java.lang.NumberFormatException: Value out of range. Value:&quot;11101101&quot; Radix:10&#39; I read that is it because It doesnt accept anything higher then a certain value so 1111111 is not possible."},{"owner":{"account_id":134022,"reputation":717193,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":0,"creation_date":1474751239,"post_id":39680821,"comment_id":66662150,"body_markdown":"@LuudvanKeulen Pass `2` for radix the way I suggested in the answer.","body":"@LuudvanKeulen Pass <code>2</code> for radix the way I suggested in the answer."},{"owner":{"account_id":6951257,"reputation":1214,"user_id":5333805,"accept_rate":88,"display_name":"Luud van Keulen"},"score":0,"creation_date":1474751537,"post_id":39680821,"comment_id":66662222,"body_markdown":"Same result. Its because a Byte can only be 127 big and if you have 8 time&#39;s 1 it will be 255.","body":"Same result. Its because a Byte can only be 127 big and if you have 8 time&#39;s 1 it will be 255."},{"owner":{"account_id":134022,"reputation":717193,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":0,"creation_date":1474752110,"post_id":39680821,"comment_id":66662376,"body_markdown":"Cast the int then, it should work. Pass 2 for the radix.","body":"Cast the int then, it should work. Pass 2 for the radix."},{"owner":{"account_id":6951257,"reputation":1214,"user_id":5333805,"accept_rate":88,"display_name":"Luud van Keulen"},"score":0,"creation_date":1474752260,"post_id":39680821,"comment_id":66662415,"body_markdown":"The problem is that int doesnt accept leading 0&#39;s. I need those zero&#39;s because it&#39;s part of the algorithm.","body":"The problem is that int doesnt accept leading 0&#39;s. I need those zero&#39;s because it&#39;s part of the algorithm."}],"tags":[],"owner":{"account_id":134022,"reputation":717193,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474749979,"creation_date":1474749979,"answer_id":39680821,"question_id":39680749,"body_markdown":"Binary files are limited to storing bits in multiples of eight. You can solve this problem by chopping the string into eight-bit chunks, converting them to bytes using `Byte.parseByte(eightCharString, 2)` and adding them to a byte array:\r\n\r\n- Compute the length of the byte array by dividing the length of your bit string by eight\r\n- Allocate an array of bytes of the desired length\r\n- Run a loop that takes substrings from the string at positions representing multiples of eight\r\n- Parse each chunk, and put the result into the corresponding byte\r\n- Call `fos.write()` on the byte array","title":"String of 0&#39;s and 1&#39;s to File as bits","body":"<p>Binary files are limited to storing bits in multiples of eight. You can solve this problem by chopping the string into eight-bit chunks, converting them to bytes using <code>Byte.parseByte(eightCharString, 2)</code> and adding them to a byte array:</p>\n\n<ul>\n<li>Compute the length of the byte array by dividing the length of your bit string by eight</li>\n<li>Allocate an array of bytes of the desired length</li>\n<li>Run a loop that takes substrings from the string at positions representing multiples of eight</li>\n<li>Parse each chunk, and put the result into the corresponding byte</li>\n<li>Call <code>fos.write()</code> on the byte array</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":6951257,"reputation":1214,"user_id":5333805,"accept_rate":88,"display_name":"Luud van Keulen"},"score":0,"creation_date":1474753762,"post_id":39681091,"comment_id":66662772,"body_markdown":"If i&#39;m not mistaken this will get the decimal value of the BinaryString right? It works when i&#39;m saving it but when I try to read it it will remove all the leading zero&#39;s. For instance: I do `Integer.parseInt(&quot;00001111&quot;, 2)` which will return 15. When I try to do `Integer.toBinaryString(15)` it will return 1111.","body":"If i&#39;m not mistaken this will get the decimal value of the BinaryString right? It works when i&#39;m saving it but when I try to read it it will remove all the leading zero&#39;s. For instance: I do <code>Integer.parseInt(&quot;00001111&quot;, 2)</code> which will return 15. When I try to do <code>Integer.toBinaryString(15)</code> it will return 1111."},{"owner":{"display_name":"user4910279"},"score":0,"creation_date":1474754394,"post_id":39681091,"comment_id":66662929,"body_markdown":"You should do like `String s = &quot;00000000&quot; + Integer.toBinaryString(15);` and `String decoded = s.substring(s.length() - 8);`","body":"You should do like <code>String s = &quot;00000000&quot; + Integer.toBinaryString(15);</code> and <code>String decoded = s.substring(s.length() - 8);</code>"}],"tags":[],"owner":{"display_name":"user4910279"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474753095,"creation_date":1474752223,"answer_id":39681091,"question_id":39680749,"body_markdown":"Try this.\r\n\r\n    String encoded = &quot;0101011101&quot;;\r\n    FileOutputStream fos = new FileOutputStream(&quot;encoded.bin&quot;);\r\n    String s = encoded + &quot;00000000&quot;.substring(encoded.length() % 8);\r\n    for (int i = 0, len = s.length(); i &lt; len; i += 8)\r\n        fos.write((byte)Integer.parseInt(s.substring(i, i + 8), 2));\r\n    fos.close();\r\n\r\n","title":"String of 0&#39;s and 1&#39;s to File as bits","body":"<p>Try this.</p>\n\n<pre><code>String encoded = \"0101011101\";\nFileOutputStream fos = new FileOutputStream(\"encoded.bin\");\nString s = encoded + \"00000000\".substring(encoded.length() % 8);\nfor (int i = 0, len = s.length(); i &lt; len; i += 8)\n    fos.write((byte)Integer.parseInt(s.substring(i, i + 8), 2));\nfos.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6951257,"reputation":1214,"user_id":5333805,"accept_rate":88,"display_name":"Luud van Keulen"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1474793887,"creation_date":1474788831,"answer_id":39684467,"question_id":39680749,"body_markdown":"I think I found my answer. I put the 1&#39;s and 0&#39;s in a BitSet using the following code:\r\n\r\n    BitSet bitSet = new BitSet(encoded.length());\r\n    int bitcounter = 0;\r\n    for(Character c : encoded.toCharArray()) {\r\n        if(c.equals(&#39;1&#39;)) {\r\n            bitSet.set(bitcounter);\r\n        }\r\n        bitcounter++;\r\n    }\r\nAfter that I save it to the file using `bitSet.toByteArray()`\r\nWhen I want to read it again I convert it back to a bitset using `BitSet.valueOf(bitSet.toByteArray())`. Then I loop through the bitset like this:\r\n\r\n    String binaryString = &quot;&quot;;\r\n    for(int i = 0; i &lt;= set.length(); i++) {\r\n        if(set.get(i)) {\r\n            binaryString += &quot;1&quot;;\r\n        } else {\r\n            binaryString += &quot;0&quot;;\r\n        }\r\n    }\r\n\r\nThanks to everyone who helped me.","title":"String of 0&#39;s and 1&#39;s to File as bits","body":"<p>I think I found my answer. I put the 1's and 0's in a BitSet using the following code:</p>\n\n<pre><code>BitSet bitSet = new BitSet(encoded.length());\nint bitcounter = 0;\nfor(Character c : encoded.toCharArray()) {\n    if(c.equals('1')) {\n        bitSet.set(bitcounter);\n    }\n    bitcounter++;\n}\n</code></pre>\n\n<p>After that I save it to the file using <code>bitSet.toByteArray()</code>\nWhen I want to read it again I convert it back to a bitset using <code>BitSet.valueOf(bitSet.toByteArray())</code>. Then I loop through the bitset like this:</p>\n\n<pre><code>String binaryString = \"\";\nfor(int i = 0; i &lt;= set.length(); i++) {\n    if(set.get(i)) {\n        binaryString += \"1\";\n    } else {\n        binaryString += \"0\";\n    }\n}\n</code></pre>\n\n<p>Thanks to everyone who helped me.</p>\n"}],"owner":{"account_id":6951257,"reputation":1214,"user_id":5333805,"accept_rate":88,"display_name":"Luud van Keulen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4342,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":39684467,"answer_count":3,"score":4,"last_activity_date":1678996419,"creation_date":1474749494,"question_id":39680749,"body_markdown":"I am working on a Huffman java application and i&#39;m almost done. I have one problem though. I need to save a String of something like: &quot;101011101010&quot; to a file. When I save it with my current code it saves it as characters which take up 1 byte every 0 or 1. I&#39;m pretty sure it&#39;s possible to save every 0/1 as a bit. \r\n\r\nI already tried some things with BitSet and Integer.valueOf but I can&#39;t get them to work. This is my current code:\r\n\r\n    FileOutputStream fos = new FileOutputStream(&quot;encoded.bin&quot;);\r\n    fos.write(encoded.getBytes());\r\n    fos.close();\r\n\r\nWhere &#39;encoded&#39; is a String which can be like: &quot;0101011101&quot;.\r\nIf I try to save it as integer the leading 0 will be removed.\r\n\r\nThanks in advance!\r\n\r\nEDIT: Huffman is a compression method so the outputted file should be as small as possible.","title":"String of 0&#39;s and 1&#39;s to File as bits","body":"<p>I am working on a Huffman java application and i'm almost done. I have one problem though. I need to save a String of something like: \"101011101010\" to a file. When I save it with my current code it saves it as characters which take up 1 byte every 0 or 1. I'm pretty sure it's possible to save every 0/1 as a bit. </p>\n\n<p>I already tried some things with BitSet and Integer.valueOf but I can't get them to work. This is my current code:</p>\n\n<pre><code>FileOutputStream fos = new FileOutputStream(\"encoded.bin\");\nfos.write(encoded.getBytes());\nfos.close();\n</code></pre>\n\n<p>Where 'encoded' is a String which can be like: \"0101011101\".\nIf I try to save it as integer the leading 0 will be removed.</p>\n\n<p>Thanks in advance!</p>\n\n<p>EDIT: Huffman is a compression method so the outputted file should be as small as possible.</p>\n"},{"tags":["java","powershell","shell","maven"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679026036,"post_id":75761049,"comment_id":133650689,"body_markdown":"Configuring a proxy (https://maven.apache.org/guides/mini/guide-proxies.html), `.m2/settings.xml)`","body":"Configuring a proxy (<a href=\"https://maven.apache.org/guides/mini/guide-proxies.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/mini/guide-proxies.html</a>), <code>.m2&#47;settings.xml)</code>"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679026132,"post_id":75761049,"comment_id":133650696,"body_markdown":"Is your Proxy intended for Maven commands or for the Java program being tested?","body":"Is your Proxy intended for Maven commands or for the Java program being tested?"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1679041947,"post_id":75761049,"comment_id":133653228,"body_markdown":"Why the quotes?","body":"Why the quotes?"},{"owner":{"account_id":28036155,"reputation":1,"user_id":21414496,"display_name":"Juan Fernandez"},"score":0,"creation_date":1679338668,"post_id":75761049,"comment_id":133700824,"body_markdown":"already configured the proxy in maven, nothing change.\nthe proxy is for maven commands, it tries to download artifacts from maven central\nThe quotes are because powershell read the &quot;.&quot; as a different command","body":"already configured the proxy in maven, nothing change. the proxy is for maven commands, it tries to download artifacts from maven central The quotes are because powershell read the &quot;.&quot; as a different command"}],"owner":{"account_id":28036155,"reputation":1,"user_id":21414496,"display_name":"Juan Fernandez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678996284,"creation_date":1678996284,"question_id":75761049,"body_markdown":"I need to run this command on powershell\r\n`mvn clean test &quot;-DSUITE_NAME=$SUITE`\r\nbut with proxies, i try this\r\n`mvn clean test &quot;-DSUITE_NAME=$SUITE -X -DproxySet=true -Dhttp.proxyHost=XXXX -Dhttp.proxyPort=XXXX -Dhttps.proxyHost=XXXX-Dhttps.proxyPort=XXXX&quot;`\r\nthe proxies are right (XXXX is because i dont want to show them)\r\nbut the same error came out:\r\n[enter image description here](https://i.stack.imgur.com/CJqLk.png)\r\nneed help, \r\nThanks\r\n\r\ntrying to run mvn command to start building my proyect, but it cant reach connection with maven.","title":"need to use proxy with mvn command","body":"<p>I need to run this command on powershell\n<code>mvn clean test &quot;-DSUITE_NAME=$SUITE</code>\nbut with proxies, i try this\n<code>mvn clean test &quot;-DSUITE_NAME=$SUITE -X -DproxySet=true -Dhttp.proxyHost=XXXX -Dhttp.proxyPort=XXXX -Dhttps.proxyHost=XXXX-Dhttps.proxyPort=XXXX&quot;</code>\nthe proxies are right (XXXX is because i dont want to show them)\nbut the same error came out:\n<a href=\"https://i.stack.imgur.com/CJqLk.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nneed help,\nThanks</p>\n<p>trying to run mvn command to start building my proyect, but it cant reach connection with maven.</p>\n"},{"tags":["java","php","post","apache-commons-httpclient"],"comments":[{"owner":{"account_id":7869117,"reputation":58330,"user_id":5947043,"display_name":"ADyson"},"score":0,"creation_date":1678984907,"post_id":75759052,"comment_id":133643074,"body_markdown":"It would really help if you could show us the PHP code so we can see what it&#39;s expecting and how it processes those values","body":"It would really help if you could show us the PHP code so we can see what it&#39;s expecting and how it processes those values"},{"owner":{"account_id":28026772,"reputation":9,"user_id":21406617,"display_name":"casualsurfer"},"score":1,"creation_date":1679031468,"post_id":75759052,"comment_id":133651297,"body_markdown":"-added them to the question @ADyson","body":"-added them to the question @ADyson"}],"owner":{"account_id":28026772,"reputation":9,"user_id":21406617,"display_name":"casualsurfer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1678996133,"creation_date":1678984323,"question_id":75759052,"body_markdown":"I need to hit a php script which takes some data from-\r\n_POST , _REQUEST and _FILES\r\n\r\nI echoed the key value pairs that are coming in these - _POST and _REQUEST has some key and string value pairs, and _FILE had a key with an array of values as it&#39;s value-\r\nie : key-&#39;p_up_file&#39; value-&gt; Array -&gt; [name] &#39;test&#39;, [type] plain/txt , ....\r\n\r\nI need to hit this php file with Java POST http request. Not very familiar with php codes, so not sure how to set the java post entity such that the php script processes it properly in this case.\r\n\r\nEven with POSTMAN, Iam not quite sure how the php expects the values to be sent such that these _POST, _REQUEST and _FILES gets populated with the required key values. IS there someway to differentiate them like that, such that it mimics the form upload? \r\n\r\n\r\nGave the variables expected in _POST key -&gt; value pair like this -  \r\n  \r\n```\r\nHttpClient client = new DefaultHttpClient();\r\n  HttpPost post = new HttpPost(&quot;http://localhost:8080/WebService/test.php&quot;);\r\n\r\n  List&lt;NameValuePair&gt; nameValuePairs = new ArrayList&lt;NameValuePair&gt;();\r\n\r\n  nameValuePairs.add(new BasicNameValuePair(&quot;f_name&quot;, &quot;Foo&quot;));\r\n  nameValuePairs.add(new BasicNameValuePair(&quot;l_name&quot;, &quot;Bar&quot;));\r\n\r\n  post.setEntity(new UrlEncodedFormEntity(nameValuePairs));\r\n  HttpResponse response = null;\r\n\r\n  try {\r\n    response = client.execute(post);\r\n  } catch (ClientProtocolException e) {\r\n    e.printStackTrace();\r\n  } catch (IOException e) {\r\n    e.printStackTrace();\r\n  }\r\n```\r\nThe PHP code is taking values like the following samples -\r\n```\r\n    $_POST[P_TOKEN_KEY] , $_REQUEST[&#39;p_rootdir&#39;] , $_REQUEST[&#39;p_username&#39;], \r\n    $p_upload_file_name = $_FILES[p_up_file][name];\r\n    $p_upload_file = $_FILES[p_up_file][tmp_name];\r\n```\r\n\r\nNot sure how to send the array values along with this \r\n","title":"Sending file info with other post attributes to php with Java post http request","body":"<p>I need to hit a php script which takes some data from-\n_POST , _REQUEST and _FILES</p>\n<p>I echoed the key value pairs that are coming in these - _POST and _REQUEST has some key and string value pairs, and _FILE had a key with an array of values as it's value-\nie : key-'p_up_file' value-&gt; Array -&gt; [name] 'test', [type] plain/txt , ....</p>\n<p>I need to hit this php file with Java POST http request. Not very familiar with php codes, so not sure how to set the java post entity such that the php script processes it properly in this case.</p>\n<p>Even with POSTMAN, Iam not quite sure how the php expects the values to be sent such that these _POST, _REQUEST and _FILES gets populated with the required key values. IS there someway to differentiate them like that, such that it mimics the form upload?</p>\n<p>Gave the variables expected in _POST key -&gt; value pair like this -</p>\n<pre><code>HttpClient client = new DefaultHttpClient();\n  HttpPost post = new HttpPost(&quot;http://localhost:8080/WebService/test.php&quot;);\n\n  List&lt;NameValuePair&gt; nameValuePairs = new ArrayList&lt;NameValuePair&gt;();\n\n  nameValuePairs.add(new BasicNameValuePair(&quot;f_name&quot;, &quot;Foo&quot;));\n  nameValuePairs.add(new BasicNameValuePair(&quot;l_name&quot;, &quot;Bar&quot;));\n\n  post.setEntity(new UrlEncodedFormEntity(nameValuePairs));\n  HttpResponse response = null;\n\n  try {\n    response = client.execute(post);\n  } catch (ClientProtocolException e) {\n    e.printStackTrace();\n  } catch (IOException e) {\n    e.printStackTrace();\n  }\n</code></pre>\n<p>The PHP code is taking values like the following samples -</p>\n<pre><code>    $_POST[P_TOKEN_KEY] , $_REQUEST['p_rootdir'] , $_REQUEST['p_username'], \n    $p_upload_file_name = $_FILES[p_up_file][name];\n    $p_upload_file = $_FILES[p_up_file][tmp_name];\n</code></pre>\n<p>Not sure how to send the array values along with this</p>\n"},{"tags":["java","spring-boot","graphql"],"answers":[{"tags":[],"owner":{"account_id":27479976,"reputation":97,"user_id":20967366,"display_name":"panic08"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678995494,"creation_date":1678995494,"answer_id":75760942,"question_id":75760793,"body_markdown":"In SpringBoot, you need to return such an object that you request in a query in GraphQL\r\n\r\n    @QueryMapping\r\n    public Person greeting(@Argument String name){\r\n        System.out.println(&quot;\\n\\nrequest-&gt; &quot; + name);\r\n        Person person = new Person(name);\r\n  \r\n        return person;\r\n    }\r\n","title":"Graphiql: The field at path &#39;/greeting/name&#39; was declared as a non null type Java","body":"<p>In SpringBoot, you need to return such an object that you request in a query in GraphQL</p>\n<pre><code>@QueryMapping\npublic Person greeting(@Argument String name){\n    System.out.println(&quot;\\n\\nrequest-&gt; &quot; + name);\n    Person person = new Person(name);\n\n    return person;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23109863,"reputation":28,"user_id":17217944,"display_name":"Rohat Can"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678996080,"creation_date":1678996080,"answer_id":75761021,"question_id":75760793,"body_markdown":"If you want to return string as response, you should define the return type as String instead of Person in schema as shown below\r\n\r\n    type Query {\r\n         greeting(name: String!): String\r\n    }\r\n\r\n","title":"Graphiql: The field at path &#39;/greeting/name&#39; was declared as a non null type Java","body":"<p>If you want to return string as response, you should define the return type as String instead of Person in schema as shown below</p>\n<pre><code>type Query {\n     greeting(name: String!): String\n}\n</code></pre>\n"}],"owner":{"account_id":27479976,"reputation":97,"user_id":20967366,"display_name":"panic08"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75761021,"answer_count":2,"score":0,"last_activity_date":1678996080,"creation_date":1678994512,"question_id":75760793,"body_markdown":"I want to enter a query with a parameter, and get a response in Graphql. I&#39;m sending a request to a spring-boot server and I want to receive a response &quot;Hello, ${name}&quot;, But I get an error:\r\n``` &quot;errors&quot;: [\r\n        {\r\n            &quot;message&quot;: &quot;The field at path &#39;/greeting/name&#39; was declared as a non null type, but the code involved in retrieving data has wrongly returned a null value.  The graphql specification requires that the parent field be set to null, or if that is non nullable that it bubble up null to its parent and so on. The non-nullable type is &#39;String&#39; within parent type &#39;Person&#39;&quot;,\r\n            &quot;path&quot;: [\r\n                &quot;greeting&quot;,\r\n                &quot;name&quot;\r\n            ],\r\n            &quot;extensions&quot;: {\r\n                &quot;classification&quot;: &quot;NullValueInNonNullableField&quot;\r\n            }\r\n        }\r\n    ],\r\n    &quot;data&quot;: {\r\n        &quot;greeting&quot;: null\r\n    }\r\n} \r\n```\r\nHelp me please!\r\nMy schemas:\r\n``` \r\ntype Person{\r\n    name: String\r\n} \r\ntype Query {\r\n    greeting(name: String!): Person\r\n}\r\n```\r\nMy controller:\r\n``` \r\n@Controller\r\npublic class TestGraphController {\r\n\r\n    @QueryMapping\r\n    public String greeting(@Argument String name){\r\n        System.out.println(&quot;\\n\\nrequest-&gt; &quot; + name);\r\n        return &quot;Hello, &quot; + name;\r\n    }\r\n}\r\n\r\n```\r\nMy request:\r\n``` \r\nquery {\r\n  greeting(name: &quot;Test&quot;) {\r\n      name\r\n    }\r\n} \r\n```\r\n","title":"Graphiql: The field at path &#39;/greeting/name&#39; was declared as a non null type Java","body":"<p>I want to enter a query with a parameter, and get a response in Graphql. I'm sending a request to a spring-boot server and I want to receive a response &quot;Hello, ${name}&quot;, But I get an error:</p>\n<pre><code>        {\n            &quot;message&quot;: &quot;The field at path '/greeting/name' was declared as a non null type, but the code involved in retrieving data has wrongly returned a null value.  The graphql specification requires that the parent field be set to null, or if that is non nullable that it bubble up null to its parent and so on. The non-nullable type is 'String' within parent type 'Person'&quot;,\n            &quot;path&quot;: [\n                &quot;greeting&quot;,\n                &quot;name&quot;\n            ],\n            &quot;extensions&quot;: {\n                &quot;classification&quot;: &quot;NullValueInNonNullableField&quot;\n            }\n        }\n    ],\n    &quot;data&quot;: {\n        &quot;greeting&quot;: null\n    }\n} \n</code></pre>\n<p>Help me please!\nMy schemas:</p>\n<pre><code>type Person{\n    name: String\n} \ntype Query {\n    greeting(name: String!): Person\n}\n</code></pre>\n<p>My controller:</p>\n<pre><code>@Controller\npublic class TestGraphController {\n\n    @QueryMapping\n    public String greeting(@Argument String name){\n        System.out.println(&quot;\\n\\nrequest-&gt; &quot; + name);\n        return &quot;Hello, &quot; + name;\n    }\n}\n\n</code></pre>\n<p>My request:</p>\n<pre><code>query {\n  greeting(name: &quot;Test&quot;) {\n      name\n    }\n} \n</code></pre>\n"},{"tags":["java"],"owner":{"account_id":27300535,"reputation":1,"user_id":20817412,"display_name":"Simranjitdehal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678995659,"answer_count":0,"score":0,"last_activity_date":1678995671,"creation_date":1678995638,"question_id":75760958,"body_markdown":"    import java.io.StringReader;\r\n    import java.util.Scanner;\r\n    \r\n    public class takeinput {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            int i = sc.nextInt();\r\n            float db = sc.nextFloat();\r\n            String st  = sc.nextLine();\r\n    \r\n            System.out.println(&quot;String: &quot; + st);\r\n            System.out.println(&quot;Double: &quot; + db);\r\n            System.out.println(&quot;Int: &quot; + i);\r\n        }\r\n    }\r\n\r\nIf I remove all the int and float and then run for string, it works fine then, but not in this code. What should I do ?","title":"I write a code which takes input as int float and string but while running it didnt take input from me for string and directly moves to other line","body":"<pre><code>import java.io.StringReader;\nimport java.util.Scanner;\n\npublic class takeinput {\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int i = sc.nextInt();\n        float db = sc.nextFloat();\n        String st  = sc.nextLine();\n\n        System.out.println(&quot;String: &quot; + st);\n        System.out.println(&quot;Double: &quot; + db);\n        System.out.println(&quot;Int: &quot; + i);\n    }\n}\n</code></pre>\n<p>If I remove all the int and float and then run for string, it works fine then, but not in this code. What should I do ?</p>\n"},{"tags":["java","mysql","maven"],"comments":[{"owner":{"account_id":7220663,"reputation":468,"user_id":5511320,"display_name":"the happy mamba"},"score":0,"creation_date":1446399969,"post_id":33465161,"comment_id":54715966,"body_markdown":"This is related and may help:  http://stackoverflow.com/questions/13471519/running-daemon-with-exec-maven-plugin","body":"This is related and may help:  <a href=\"http://stackoverflow.com/questions/13471519/running-daemon-with-exec-maven-plugin\" title=\"running daemon with exec maven plugin\">stackoverflow.com/questions/13471519/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"score":6,"creation_date":1446401175,"post_id":33465221,"comment_id":54716406,"body_markdown":"thanks Francisco this does work! Instead of adding this to the pom.xml I added it to the command line like this: mvn exec:java -Dexec.mainClass=&quot;com.mycompany.mydivision.App&quot; -Dexec.cleanupDaemonThreads=false","body":"thanks Francisco this does work! Instead of adding this to the pom.xml I added it to the command line like this: mvn exec:java -Dexec.mainClass=&quot;com.mycompany.mydivision.App&quot; -Dexec.cleanupDaemonThreads=false"},{"owner":{"account_id":906628,"reputation":1933,"user_id":980828,"accept_rate":71,"display_name":"LEQADA"},"score":0,"creation_date":1595211322,"post_id":33465221,"comment_id":111386028,"body_markdown":"It works, yes, but where OP has daemon threads in the code? Why this should be necessary?","body":"It works, yes, but where OP has daemon threads in the code? Why this should be necessary?"},{"owner":{"account_id":68986,"reputation":21295,"user_id":200987,"accept_rate":69,"display_name":"oligofren"},"score":1,"creation_date":1615193606,"post_id":33465221,"comment_id":117605772,"body_markdown":"@LEQADA You see from the stacktrace/errors that it is the MySQL libs that create the daemon threads to monitor the execution of statements. Since Maven invokes the class, it will implicitly create these daemon threads.","body":"@LEQADA You see from the stacktrace/errors that it is the MySQL libs that create the daemon threads to monitor the execution of statements. Since Maven invokes the class, it will implicitly create these daemon threads."}],"tags":[],"owner":{"account_id":2042350,"reputation":2418,"user_id":1823204,"display_name":"Francisco Hernandez"},"comment_count":3,"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1446400218,"creation_date":1446400218,"answer_id":33465221,"question_id":33465161,"body_markdown":"Try this in the exec maven plugin\r\n\r\n    &lt;configuration&gt;\r\n           &lt;mainClass&gt;com.test.Startup&lt;/mainClass&gt;\r\n           &lt;cleanupDaemonThreads&gt;false&lt;/cleanupDaemonThreads&gt;\r\n    &lt;/configuration&gt;","title":"Exception while trying to run java program from maven","body":"<p>Try this in the exec maven plugin</p>\n\n<pre><code>&lt;configuration&gt;\n       &lt;mainClass&gt;com.test.Startup&lt;/mainClass&gt;\n       &lt;cleanupDaemonThreads&gt;false&lt;/cleanupDaemonThreads&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2120368,"reputation":425,"user_id":5097395,"accept_rate":39,"display_name":"karlihnos"},"score":4,"creation_date":1504683795,"post_id":45470078,"comment_id":79099524,"body_markdown":"I can confirm this. We use System.exit(0) and the end of main.","body":"I can confirm this. We use System.exit(0) and the end of main."},{"owner":{"account_id":1096,"reputation":9390,"user_id":1454,"accept_rate":84,"display_name":"Raibaz"},"score":0,"creation_date":1556220676,"post_id":45470078,"comment_id":98374201,"body_markdown":"I tried using System.exit(0) first and it didn&#39;t work, while the accepted answer did.","body":"I tried using System.exit(0) first and it didn&#39;t work, while the accepted answer did."},{"owner":{"account_id":12235515,"reputation":114,"user_id":8930080,"display_name":"ssavva05"},"score":0,"creation_date":1601021012,"post_id":45470078,"comment_id":113279657,"body_markdown":"I can Confirm this for my project as well.","body":"I can Confirm this for my project as well."},{"owner":{"account_id":1212752,"reputation":746,"user_id":1180993,"display_name":"White_King"},"score":0,"creation_date":1644474580,"post_id":45470078,"comment_id":125617751,"body_markdown":"This works for me too.","body":"This works for me too."},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1689743925,"post_id":45470078,"comment_id":135254697,"body_markdown":"According to the error message that I got, my four (daemon) threads &quot;…did not finish despite being asked to  via interruption.&quot; Since my daemon threads don&#39;t shut down when interrupted, this make sense. (This doesn&#39;t explain why System.exit(0) didn&#39;t work)","body":"According to the error message that I got, my four (daemon) threads &quot;…did not finish despite being asked to  via interruption.&quot; Since my daemon threads don&#39;t shut down when interrupted, this make sense. (This doesn&#39;t explain why System.exit(0) didn&#39;t work)"}],"tags":[],"owner":{"account_id":263558,"reputation":650,"user_id":549212,"accept_rate":80,"display_name":"gdawgrancid"},"comment_count":5,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1678994994,"creation_date":1501704607,"answer_id":45470078,"question_id":33465161,"body_markdown":"I found a slightly different solution.  I had a similar error and I&#39;m guessing changing the Maven configuration would fix it, but I wanted to see if I could fix the error itself first ;).  Turns out, all I needed was to call `System.exit(status)` at the end of my main method and that solved the problem.  I guess the exec plugin needs an explicit call to System.exit (and similar on other active threads) to behave properly.","title":"Exception while trying to run java program from maven","body":"<p>I found a slightly different solution.  I had a similar error and I'm guessing changing the Maven configuration would fix it, but I wanted to see if I could fix the error itself first ;).  Turns out, all I needed was to call <code>System.exit(status)</code> at the end of my main method and that solved the problem.  I guess the exec plugin needs an explicit call to System.exit (and similar on other active threads) to behave properly.</p>\n"},{"comments":[{"owner":{"account_id":2082051,"reputation":181,"user_id":1853859,"display_name":"user1853859"},"score":1,"creation_date":1616765910,"post_id":66475055,"comment_id":118112868,"body_markdown":"Far better answer than the accepted one !","body":"Far better answer than the accepted one !"},{"owner":{"account_id":323347,"reputation":93,"user_id":643310,"display_name":"fillumina"},"score":0,"creation_date":1630092647,"post_id":66475055,"comment_id":121870753,"body_markdown":"It will stop the maven process even if there would be other steps to complete. The cleanupDaemonThreads method works in this case too.","body":"It will stop the maven process even if there would be other steps to complete. The cleanupDaemonThreads method works in this case too."}],"tags":[],"owner":{"account_id":5167944,"reputation":304,"user_id":4137381,"display_name":"Girivasan"},"comment_count":2,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1614860958,"creation_date":1614860958,"answer_id":66475055,"question_id":33465161,"body_markdown":"Use `System.exit(0);` explicitly in the last line of the program to solve this issue.","title":"Exception while trying to run java program from maven","body":"<p>Use <code>System.exit(0);</code> explicitly in the last line of the program to solve this issue.</p>\n"}],"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7177,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":33465221,"answer_count":3,"score":29,"last_activity_date":1678994994,"creation_date":1446399815,"question_id":33465161,"body_markdown":"I have a small java program that connects to a mysql db and reads data from it. I am able to run it successfully using `java -cp` but when I try to run it using `mvn exec:java` I get this exception after the program has finished:\r\n\r\n    [WARNING] thread Thread[MySQL Statement Cancellation Timer,5,com.mycompany.mydivision.App] was interrupted but is still alive after waiting at least 15000msecs\r\n    [WARNING] thread Thread[MySQL Statement Cancellation Timer,5,com.mycompany.mydivision.App] will linger despite being asked to die via interruption\r\n    [WARNING] NOTE: 1 thread(s) did not finish despite being asked to  via interruption. This is not a problem with exec:java, it is a problem with the running code. Although not serious, it should be remedied.\r\n    [WARNING] Couldn&#39;t destroy threadgroup org.codehaus.mojo.exec.ExecJavaMojo$IsolatedThreadGroup[name=com.mycompany.mydivision.App,maxpri=10]\r\n    java.lang.IllegalThreadStateException\r\n    \tat java.lang.ThreadGroup.destroy(ThreadGroup.java:775)\r\n    \tat org.codehaus.mojo.exec.ExecJavaMojo.execute(ExecJavaMojo.java:328)\r\n    \tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\r\n    \tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\r\n    \tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\r\n    \tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:862)\r\n    \tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:286)\r\n    \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:197)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n\r\nWhy is this happening and how can I fix this? Here is my code in case it is needed:\r\n\r\n    public class App \r\n    {\r\n    \r\n        public static void main( String[] args )\r\n        {\r\n            try (JdbcReader reader = new JdbcReader())\r\n            {\r\n                reader.test();\r\n            }\r\n            catch (SQLException ex) {\r\n                // handle any errors\r\n                System.out.println(&quot;SQLException: &quot; + ex.getMessage());\r\n                System.out.println(&quot;SQLState: &quot; + ex.getSQLState());\r\n                System.out.println(&quot;VendorError: &quot; + ex.getErrorCode());\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n    package com.mycompany.mydivision;\r\n    \r\n    import com.vividsolutions.jts.geom.Geometry;\r\n    \r\n    import java.io.Closeable;\r\n    import java.io.InputStream;\r\n    import java.sql.*;\r\n    \r\n    /**\r\n     * \r\n     */\r\n    public class JdbcReader implements Closeable{\r\n    \r\n        Connection conn;\r\n    \r\n        public JdbcReader() throws ClassNotFoundException, SQLException, IllegalAccessException, InstantiationException\r\n        {\r\n            // The newInstance() call is a work around for some\r\n            // broken Java implementations\r\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();\r\n            this.conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost/mydb?user=guest&quot;);\r\n        }\r\n    \r\n        /**\r\n         * https://dev.mysql.com/doc/connector-j/en/connector-j-usagenotes-statements.html\r\n         */\r\n        public void test() throws Exception\r\n        {\r\n            Statement stmt = null;\r\n            ResultSet rs = null;\r\n            try {\r\n                stmt = this.conn.createStatement();\r\n                if (stmt.execute(&quot;SELECT * FROM mydb.my_table limit 20&quot;)) {\r\n                    rs = stmt.getResultSet();\r\n                    // Fetch each row from the result set\r\n                    while (rs.next()) {\r\n                        String name = rs.getString(&quot;name&quot;);\r\n                        String description = rs.getString(&quot;Descr&quot;);\r\n                        \r\n                        System.out.printf(&quot;%s\\t%s\\n&quot;, name, description);\r\n                    }\r\n                }\r\n            }\r\n            finally {\r\n                // it is a good idea to release\r\n                // resources in a finally{} block\r\n                // in reverse-order of their creation\r\n                // if they are no-longer needed\r\n    \r\n                if (rs != null) {\r\n                    try {\r\n                        System.out.println(&quot;closing ResultSet&quot;);\r\n                        rs.close();\r\n                    } catch (SQLException sqlEx) { } // ignore\r\n    \r\n                    rs = null;\r\n                }\r\n    \r\n                if (stmt != null) {\r\n                    try {\r\n                        System.out.println(&quot;closing Statement&quot;);\r\n                        stmt.close();\r\n                    } catch (SQLException sqlEx) { } // ignore\r\n    \r\n                    stmt = null;\r\n                }\r\n            }\r\n        }\r\n    \r\n        public void close()\r\n        {\r\n            if (conn != null)\r\n            {\r\n                try {\r\n                    System.out.println(&quot;closing connection&quot;);\r\n                    conn.close();\r\n                }\r\n                catch (SQLException ex) { } // ignore\r\n                conn = null;\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Exception while trying to run java program from maven","body":"<p>I have a small java program that connects to a mysql db and reads data from it. I am able to run it successfully using <code>java -cp</code> but when I try to run it using <code>mvn exec:java</code> I get this exception after the program has finished:</p>\n\n<pre><code>[WARNING] thread Thread[MySQL Statement Cancellation Timer,5,com.mycompany.mydivision.App] was interrupted but is still alive after waiting at least 15000msecs\n[WARNING] thread Thread[MySQL Statement Cancellation Timer,5,com.mycompany.mydivision.App] will linger despite being asked to die via interruption\n[WARNING] NOTE: 1 thread(s) did not finish despite being asked to  via interruption. This is not a problem with exec:java, it is a problem with the running code. Although not serious, it should be remedied.\n[WARNING] Couldn't destroy threadgroup org.codehaus.mojo.exec.ExecJavaMojo$IsolatedThreadGroup[name=com.mycompany.mydivision.App,maxpri=10]\njava.lang.IllegalThreadStateException\n    at java.lang.ThreadGroup.destroy(ThreadGroup.java:775)\n    at org.codehaus.mojo.exec.ExecJavaMojo.execute(ExecJavaMojo.java:328)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:862)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:286)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:197)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\n</code></pre>\n\n<p>Why is this happening and how can I fix this? Here is my code in case it is needed:</p>\n\n<pre><code>public class App \n{\n\n    public static void main( String[] args )\n    {\n        try (JdbcReader reader = new JdbcReader())\n        {\n            reader.test();\n        }\n        catch (SQLException ex) {\n            // handle any errors\n            System.out.println(\"SQLException: \" + ex.getMessage());\n            System.out.println(\"SQLState: \" + ex.getSQLState());\n            System.out.println(\"VendorError: \" + ex.getErrorCode());\n        }\n        catch (Exception e)\n        {\n            e.printStackTrace();\n        }\n    }\n}\npackage com.mycompany.mydivision;\n\nimport com.vividsolutions.jts.geom.Geometry;\n\nimport java.io.Closeable;\nimport java.io.InputStream;\nimport java.sql.*;\n\n/**\n * \n */\npublic class JdbcReader implements Closeable{\n\n    Connection conn;\n\n    public JdbcReader() throws ClassNotFoundException, SQLException, IllegalAccessException, InstantiationException\n    {\n        // The newInstance() call is a work around for some\n        // broken Java implementations\n        Class.forName(\"com.mysql.jdbc.Driver\").newInstance();\n        this.conn = DriverManager.getConnection(\"jdbc:mysql://localhost/mydb?user=guest\");\n    }\n\n    /**\n     * https://dev.mysql.com/doc/connector-j/en/connector-j-usagenotes-statements.html\n     */\n    public void test() throws Exception\n    {\n        Statement stmt = null;\n        ResultSet rs = null;\n        try {\n            stmt = this.conn.createStatement();\n            if (stmt.execute(\"SELECT * FROM mydb.my_table limit 20\")) {\n                rs = stmt.getResultSet();\n                // Fetch each row from the result set\n                while (rs.next()) {\n                    String name = rs.getString(\"name\");\n                    String description = rs.getString(\"Descr\");\n\n                    System.out.printf(\"%s\\t%s\\n\", name, description);\n                }\n            }\n        }\n        finally {\n            // it is a good idea to release\n            // resources in a finally{} block\n            // in reverse-order of their creation\n            // if they are no-longer needed\n\n            if (rs != null) {\n                try {\n                    System.out.println(\"closing ResultSet\");\n                    rs.close();\n                } catch (SQLException sqlEx) { } // ignore\n\n                rs = null;\n            }\n\n            if (stmt != null) {\n                try {\n                    System.out.println(\"closing Statement\");\n                    stmt.close();\n                } catch (SQLException sqlEx) { } // ignore\n\n                stmt = null;\n            }\n        }\n    }\n\n    public void close()\n    {\n        if (conn != null)\n        {\n            try {\n                System.out.println(\"closing connection\");\n                conn.close();\n            }\n            catch (SQLException ex) { } // ignore\n            conn = null;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-batch"],"comments":[{"owner":{"account_id":24465,"reputation":6590,"user_id":62201,"accept_rate":50,"display_name":"Michael Pralow"},"score":0,"creation_date":1455610773,"post_id":35402616,"comment_id":58553210,"body_markdown":"please post more infos, how do start the jobs? it looks rather strange to see cglib work there, did you configure any AOP functions?","body":"please post more infos, how do start the jobs? it looks rather strange to see cglib work there, did you configure any AOP functions?"},{"owner":{"account_id":4710206,"reputation":333,"user_id":3810920,"accept_rate":67,"display_name":"arnaldop"},"score":0,"creation_date":1455660146,"post_id":35402616,"comment_id":58585838,"body_markdown":"I added the code that launches the job. Is this all you need?","body":"I added the code that launches the job. Is this all you need?"},{"owner":{"account_id":24465,"reputation":6590,"user_id":62201,"accept_rate":50,"display_name":"Michael Pralow"},"score":0,"creation_date":1455694018,"post_id":35402616,"comment_id":58597668,"body_markdown":"wrong guess from my side, cglib proxies are needed for the stepscoped objects, i debugged here a simple itemwriter example, close is called only once, is your writer used elsewhere? is  the job running twice?","body":"wrong guess from my side, cglib proxies are needed for the stepscoped objects, i debugged here a simple itemwriter example, close is called only once, is your writer used elsewhere? is  the job running twice?"},{"owner":{"account_id":4710206,"reputation":333,"user_id":3810920,"accept_rate":67,"display_name":"arnaldop"},"score":0,"creation_date":1455720438,"post_id":35402616,"comment_id":58615995,"body_markdown":"Found the problem. The way I was handling StepExecution was causing my writer object to reuse StepExecutions, clobbering data. This was also causing some writer objects to have the closed method invoked twice. Not sure why the stack trace is different, but once I fixed the reuse problem, the close problem went away. Thanks!","body":"Found the problem. The way I was handling StepExecution was causing my writer object to reuse StepExecutions, clobbering data. This was also causing some writer objects to have the closed method invoked twice. Not sure why the stack trace is different, but once I fixed the reuse problem, the close problem went away. Thanks!"},{"owner":{"account_id":100999,"reputation":373,"user_id":271955,"accept_rate":60,"display_name":"Zachary Carter"},"score":0,"creation_date":1472058954,"post_id":35402616,"comment_id":65604166,"body_markdown":"Could you please clarify your answer? What exactly did you fix regarding StepExecution and how you were handling it? I&#39;m running into the same problem but I haven&#39;t defined any StepExecution related beans / configuration. Only similarity is that we&#39;re both extending from AbstractItemStreamItemWriter","body":"Could you please clarify your answer? What exactly did you fix regarding StepExecution and how you were handling it? I&#39;m running into the same problem but I haven&#39;t defined any StepExecution related beans / configuration. Only similarity is that we&#39;re both extending from AbstractItemStreamItemWriter"},{"owner":{"account_id":4710206,"reputation":333,"user_id":3810920,"accept_rate":67,"display_name":"arnaldop"},"score":0,"creation_date":1478464548,"post_id":35402616,"comment_id":68153866,"body_markdown":"Unfortunately, Zachary, I don&#39;t remember exactly what I did, and no longer have access to the codebase. One thing I do remember that is not included in my answer is that the way I was defining my workflow, I did not have a way to &quot;stop&quot;, or signal that I had reached the end. Therefore, it kept looping over the same data. I had to know from my input stream that I had no more data and let the StepExecution that it was done. Hope this helps!","body":"Unfortunately, Zachary, I don&#39;t remember exactly what I did, and no longer have access to the codebase. One thing I do remember that is not included in my answer is that the way I was defining my workflow, I did not have a way to &quot;stop&quot;, or signal that I had reached the end. Therefore, it kept looping over the same data. I had to know from my input stream that I had no more data and let the StepExecution that it was done. Hope this helps!"}],"answers":[{"tags":[],"owner":{"account_id":5859401,"reputation":1532,"user_id":4615649,"display_name":"CRISTIAN ROMERO MATESANZ"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1538642983,"creation_date":1538642983,"answer_id":52642676,"question_id":35402616,"body_markdown":"I had a terrible headache because of this error.\r\n\r\nSpring tries to automatically infer a destroyMethod when using Java configuration (but it does not do so when using XML configuration). To disable this automatic inference, use:\r\n\r\n     @Bean(destroyMethod=&quot;&quot;)\r\n\r\nNow using this annotation Spring stop calling my method twice and it will only be \r\ncalled once by Spring batch.","title":"Spring Batch custom writer close method getting called twice (requiring special handling)","body":"<p>I had a terrible headache because of this error.</p>\n\n<p>Spring tries to automatically infer a destroyMethod when using Java configuration (but it does not do so when using XML configuration). To disable this automatic inference, use:</p>\n\n<pre><code> @Bean(destroyMethod=\"\")\n</code></pre>\n\n<p>Now using this annotation Spring stop calling my method twice and it will only be \ncalled once by Spring batch.</p>\n"},{"tags":[],"owner":{"account_id":2131277,"reputation":51,"user_id":1892057,"display_name":"gizmo71"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670938748,"creation_date":1670938748,"answer_id":74785749,"question_id":35402616,"body_markdown":"In addition to the `destroyMethod=&quot;&quot;` trick, if you have several methods producing beans of the same type, you can have that type implement `DisposableBean` and include an empty `destroy()` method to avoid `close()` being called.","title":"Spring Batch custom writer close method getting called twice (requiring special handling)","body":"<p>In addition to the <code>destroyMethod=&quot;&quot;</code> trick, if you have several methods producing beans of the same type, you can have that type implement <code>DisposableBean</code> and include an empty <code>destroy()</code> method to avoid <code>close()</code> being called.</p>\n"},{"tags":[],"owner":{"account_id":260495,"reputation":984,"user_id":544084,"display_name":"Jim Cox"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678994951,"creation_date":1678904606,"answer_id":75748701,"question_id":35402616,"body_markdown":"It&#39;s being called twice because you are missing @StepScope on your step bean.  ","title":"Spring Batch custom writer close method getting called twice (requiring special handling)","body":"<p>It's being called twice because you are missing @StepScope on your step bean.</p>\n"}],"owner":{"account_id":4710206,"reputation":333,"user_id":3810920,"accept_rate":67,"display_name":"arnaldop"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2233,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1678994951,"creation_date":1455516838,"question_id":35402616,"body_markdown":"I have the following writer class prototype:\r\n\r\n    public class MyWriter extends AbstractItemStreamItemWriter&lt;FieldSet&gt; {\r\n        ...\r\n        @Override\r\n\t\tpublic void close()\r\n\t\t{\r\n    \t\t...\r\n    \t{\r\n    \t...\r\n    }\r\n\r\nMy Job is defined by these `@Beans`:\r\n\r\n    \t@Bean\r\n    \tprotected Step step(ItemReader&lt;FieldSet&gt; reader, ItemWriter&lt;FieldSet&gt; writer)\r\n    \t{\r\n    \t\treturn stepBuilder.get(&quot;step&quot;)\r\n    \t\t\t.&lt;FieldSet, FieldSet&gt; chunk(chunkSize)\r\n    \t\t\t.reader(reader)\r\n    \t\t\t.writer(writer)\r\n    \t\t\t.listener(this)\r\n    \t\t\t.build();\r\n    \t}\r\n\r\n    \t@Bean\r\n    \tprotected Job myImportJob(Step step, JobExecutionListener jobExecutionListener)\r\n    \t{\r\n    \t\treturn jobBuilder\r\n    \t\t\t.get(&quot;myImportJob&quot;)\r\n    \t\t\t.listener(jobExecutionListener)\r\n    \t\t\t.start(step)\r\n    \t\t\t.build();\r\n    \t}\r\n\r\nThe job is triggered from a MQ listener like this:\r\n\r\n    @Autowired\r\n    private Job job;\r\n\r\n    @Autowired\r\n    private JobLauncher jobLauncher;\r\n\r\n    @JmsListener(destination = &quot;queue_name&quot;)\r\n    public void receiveMessage(TextMessage message) throws JMSException\r\n    {\r\n    \tlog.warn(&quot;Received message {} with listener {}.&quot;, message, this);\r\n        \r\n\t   \tJobParametersBuilder jobParametersBuilder = new JobParametersBuilder();\r\n\t    \r\n\t   \t// add job parameters here\r\n\t   \t...\r\n\t    \r\n\t   \tJobParameters jobParameters = jobParametersBuilder.toJobParameters();\r\n\t    \r\n\t   \ttry\r\n\t   \t{\r\n\t   \t\tJobExecution jobExecution = jobLauncher.run(job, jobParameters);\r\n\t   \t\tlog.trace(&quot;jobExecution = &quot; + jobExecution);\r\n\t   \t}\r\n\t   \tcatch (JobExecutionException jee)\r\n\t   \t{\r\n\t   \t\tlog.warn(&quot;Could not run job {}&quot;, job);\r\n\t   \t}\r\n    }\r\n\r\nThe problem I&#39;m encountering is that MyWriter&#39;s close method gets called twice. The stack traces for each call are:\r\n\r\n    Thread [DefaultMessageListenerContainer-2] (Suspended (breakpoint at line 162 in MyWriter))\t\r\n    \tMyWriter.close() line: 162\t\r\n    \tMyWriter$$FastClassBySpringCGLIB$$80508a22.invoke(int, Object, Object[]) line: not available\t\r\n    \tMethodProxy.invoke(Object, Object[]) line: 204\t\r\n    \tCglibAopProxy$CglibMethodInvocation.invokeJoinpoint() line: 720\t\r\n    \tCglibAopProxy$CglibMethodInvocation(ReflectiveMethodInvocation).proceed() line: 157\t\r\n    \tDelegatingIntroductionInterceptor.doProceed(MethodInvocation) line: 133\t\r\n    \tDelegatingIntroductionInterceptor.invoke(MethodInvocation) line: 121\t\r\n    \tCglibAopProxy$CglibMethodInvocation(ReflectiveMethodInvocation).proceed() line: 179\t\r\n    \tCglibAopProxy$DynamicAdvisedInterceptor.intercept(Object, Method, Object[], MethodProxy) line: 655\t\r\n    \tMyWriter$$EnhancerBySpringCGLIB$$e345242b.close() line: not available\t\r\n    \tCompositeItemStream.close() line: 85\t\r\n    \tTaskletStep.close(ExecutionContext) line: 305\t\r\n    \tTaskletStep(AbstractStep).execute(StepExecution) line: 271\t\r\n    --&gt;\tSimpleStepHandler.handleStep(Step, JobExecution) line: 148\t\r\n    \tSimpleJob(AbstractJob).handleStep(Step, JobExecution) line: 392\t\r\n    \tSimpleJob.doExecute(JobExecution) line: 135\t\r\n    \tSimpleJob(AbstractJob).execute(JobExecution) line: 306\t\r\n    \tSimpleJobLauncher$1.run() line: 135\t\r\n    \tSyncTaskExecutor.execute(Runnable) line: 50\t\r\n    \tSimpleJobLauncher.run(Job, JobParameters) line: 128\t\r\n    \tNativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]\t\r\n    \tNativeMethodAccessorImpl.invoke(Object, Object[]) line: 62\t\r\n    \tDelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 43\t\r\n    \tMethod.invoke(Object, Object...) line: 497\t\r\n    \tAopUtils.invokeJoinpointUsingReflection(Object, Method, Object[]) line: 302\t\r\n    \tReflectiveMethodInvocation.invokeJoinpoint() line: 190\t\r\n    \tReflectiveMethodInvocation.proceed() line: 157\t\r\n    \tSimpleBatchConfiguration$PassthruAdvice.invoke(MethodInvocation) line: 127\t\r\n    \tReflectiveMethodInvocation.proceed() line: 179\t\r\n    \tJdkDynamicAopProxy.invoke(Object, Method, Object[]) line: 208\t\r\n    \t$Proxy105.run(Job, JobParameters) line: not available\t\r\n    \tMyMQListener$$EnhancerBySpringCGLIB$$28277c0e(MyMQListener).receiveMessage(TextMessage) line: 74\t\r\n    \tNativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]\t\r\n    \tNativeMethodAccessorImpl.invoke(Object, Object[]) line: 62\t\r\n    \tDelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 43\t\r\n    \tMethod.invoke(Object, Object...) line: 497\t\r\n    \tInvocableHandlerMethod.doInvoke(Object...) line: 198\t\r\n    \tInvocableHandlerMethod.invoke(Message&lt;?&gt;, Object...) line: 116\t\r\n    \tMessagingMessageListenerAdapter.invokeHandler(Message, Session, Message&lt;?&gt;) line: 90\t\r\n    \tMessagingMessageListenerAdapter.onMessage(Message, Session) line: 66\t\r\n    \tDefaultMessageListenerContainer(AbstractMessageListenerContainer).doInvokeListener(SessionAwareMessageListener, Session, Message) line: 721\t\r\n    \tDefaultMessageListenerContainer(AbstractMessageListenerContainer).invokeListener(Session, Message) line: 681\t\r\n    \tDefaultMessageListenerContainer(AbstractMessageListenerContainer).doExecuteListener(Session, Message) line: 651\t\r\n    \tDefaultMessageListenerContainer(AbstractPollingMessageListenerContainer).doReceiveAndExecute(Object, Session, MessageConsumer, TransactionStatus) line: 315\t\r\n    \tDefaultMessageListenerContainer(AbstractPollingMessageListenerContainer).receiveAndExecute(Object, Session, MessageConsumer) line: 253\t\r\n    \tDefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener() line: 1150\t\r\n    \tDefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop() line: 1142\t\r\n    \tDefaultMessageListenerContainer$AsyncMessageListenerInvoker.run() line: 1039\t\r\n    \tThread.run() line: 745\t\r\n\r\nand\r\n\r\n    Thread [DefaultMessageListenerContainer-2] (Suspended (breakpoint at line 162 in MyWriter))\t\r\n    \tMyWriter.close() line: 162\t\r\n    \tNativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]\t\r\n    \tNativeMethodAccessorImpl.invoke(Object, Object[]) line: 62\t\r\n    \tDelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 43\t\r\n    \tMethod.invoke(Object, Object...) line: 497\t\r\n    \tDisposableBeanAdapter.invokeCustomDestroyMethod(Method) line: 354\t\r\n    \tDisposableBeanAdapter.destroy() line: 277\t\r\n    \tDisposableBeanAdapter.run() line: 236\t\r\n    \tStepContext.close() line: 213\t\r\n    \tStepSynchronizationManager$1.close(StepContext) line: 53\t\r\n    \tStepSynchronizationManager$1.close(Object) line: 36\t\r\n    \tStepSynchronizationManager$1(SynchronizationManagerSupport&lt;E,C&gt;).release() line: 190\t\r\n    \tStepSynchronizationManager.release() line: 112\t\r\n    \tTaskletStep(AbstractStep).doExecutionRelease() line: 290\t\r\n    \tTaskletStep(AbstractStep).execute(StepExecution) line: 278\t\r\n    --&gt;\tSimpleStepHandler.handleStep(Step, JobExecution) line: 148\t\r\n    \tSimpleJob(AbstractJob).handleStep(Step, JobExecution) line: 392\t\r\n    \tSimpleJob.doExecute(JobExecution) line: 135\t\r\n    \tSimpleJob(AbstractJob).execute(JobExecution) line: 306\t\r\n    \tSimpleJobLauncher$1.run() line: 135\t\r\n    \tSyncTaskExecutor.execute(Runnable) line: 50\t\r\n    \tSimpleJobLauncher.run(Job, JobParameters) line: 128\t\r\n    \tNativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]\t\r\n    \tNativeMethodAccessorImpl.invoke(Object, Object[]) line: 62\t\r\n    \tDelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 43\t\r\n    \tMethod.invoke(Object, Object...) line: 497\t\r\n    \tAopUtils.invokeJoinpointUsingReflection(Object, Method, Object[]) line: 302\t\r\n    \tReflectiveMethodInvocation.invokeJoinpoint() line: 190\t\r\n    \tReflectiveMethodInvocation.proceed() line: 157\t\r\n    \tSimpleBatchConfiguration$PassthruAdvice.invoke(MethodInvocation) line: 127\t\r\n    \tReflectiveMethodInvocation.proceed() line: 179\t\r\n    \tJdkDynamicAopProxy.invoke(Object, Method, Object[]) line: 208\t\r\n    \t$Proxy105.run(Job, JobParameters) line: not available\t\r\n    \tMyMQListener$$EnhancerBySpringCGLIB$$28277c0e(MyMQListener).receiveMessage(TextMessage) line: 74\t\r\n    \tNativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]\t\r\n    \tNativeMethodAccessorImpl.invoke(Object, Object[]) line: 62\t\r\n    \tDelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 43\t\r\n    \tMethod.invoke(Object, Object...) line: 497\t\r\n    \tInvocableHandlerMethod.doInvoke(Object...) line: 198\t\r\n    \tInvocableHandlerMethod.invoke(Message&lt;?&gt;, Object...) line: 116\t\r\n    \tMessagingMessageListenerAdapter.invokeHandler(Message, Session, Message&lt;?&gt;) line: 90\t\r\n    \tMessagingMessageListenerAdapter.onMessage(Message, Session) line: 66\t\r\n    \tDefaultMessageListenerContainer(AbstractMessageListenerContainer).doInvokeListener(SessionAwareMessageListener, Session, Message) line: 721\t\r\n    \tDefaultMessageListenerContainer(AbstractMessageListenerContainer).invokeListener(Session, Message) line: 681\t\r\n    \tDefaultMessageListenerContainer(AbstractMessageListenerContainer).doExecuteListener(Session, Message) line: 651\t\r\n    \tDefaultMessageListenerContainer(AbstractPollingMessageListenerContainer).doReceiveAndExecute(Object, Session, MessageConsumer, TransactionStatus) line: 315\t\r\n    \tDefaultMessageListenerContainer(AbstractPollingMessageListenerContainer).receiveAndExecute(Object, Session, MessageConsumer) line: 253\t\r\n    \tDefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener() line: 1150\t\r\n    \tDefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop() line: 1142\t\r\n    \tDefaultMessageListenerContainer$AsyncMessageListenerInvoker.run() line: 1039\t\r\n    \tThread.run() line: 745\t\r\n\r\nThe last common line in the stack is `SimpleStepHandler.handleStep(Step, JobExecution) line: 148`, marked with arrows.\r\n\r\nI currently have a special class-level boolean variable that only exists to make sure the guts of the close method only run once, but this seems not quite right to me.\r\n\r\nThere are no exceptions or problems with reading or writing. This is not due to Skip or Restart functionality.\r\n\r\nHow can I keep the ItemWriter.close() method from getting called twice?","title":"Spring Batch custom writer close method getting called twice (requiring special handling)","body":"<p>I have the following writer class prototype:</p>\n\n<pre><code>public class MyWriter extends AbstractItemStreamItemWriter&lt;FieldSet&gt; {\n    ...\n    @Override\n    public void close()\n    {\n        ...\n    {\n    ...\n}\n</code></pre>\n\n<p>My Job is defined by these <code>@Beans</code>:</p>\n\n<pre><code>    @Bean\n    protected Step step(ItemReader&lt;FieldSet&gt; reader, ItemWriter&lt;FieldSet&gt; writer)\n    {\n        return stepBuilder.get(\"step\")\n            .&lt;FieldSet, FieldSet&gt; chunk(chunkSize)\n            .reader(reader)\n            .writer(writer)\n            .listener(this)\n            .build();\n    }\n\n    @Bean\n    protected Job myImportJob(Step step, JobExecutionListener jobExecutionListener)\n    {\n        return jobBuilder\n            .get(\"myImportJob\")\n            .listener(jobExecutionListener)\n            .start(step)\n            .build();\n    }\n</code></pre>\n\n<p>The job is triggered from a MQ listener like this:</p>\n\n<pre><code>@Autowired\nprivate Job job;\n\n@Autowired\nprivate JobLauncher jobLauncher;\n\n@JmsListener(destination = \"queue_name\")\npublic void receiveMessage(TextMessage message) throws JMSException\n{\n    log.warn(\"Received message {} with listener {}.\", message, this);\n\n    JobParametersBuilder jobParametersBuilder = new JobParametersBuilder();\n\n    // add job parameters here\n    ...\n\n    JobParameters jobParameters = jobParametersBuilder.toJobParameters();\n\n    try\n    {\n        JobExecution jobExecution = jobLauncher.run(job, jobParameters);\n        log.trace(\"jobExecution = \" + jobExecution);\n    }\n    catch (JobExecutionException jee)\n    {\n        log.warn(\"Could not run job {}\", job);\n    }\n}\n</code></pre>\n\n<p>The problem I'm encountering is that MyWriter's close method gets called twice. The stack traces for each call are:</p>\n\n<pre><code>Thread [DefaultMessageListenerContainer-2] (Suspended (breakpoint at line 162 in MyWriter)) \n    MyWriter.close() line: 162  \n    MyWriter$$FastClassBySpringCGLIB$$80508a22.invoke(int, Object, Object[]) line: not available    \n    MethodProxy.invoke(Object, Object[]) line: 204  \n    CglibAopProxy$CglibMethodInvocation.invokeJoinpoint() line: 720 \n    CglibAopProxy$CglibMethodInvocation(ReflectiveMethodInvocation).proceed() line: 157 \n    DelegatingIntroductionInterceptor.doProceed(MethodInvocation) line: 133 \n    DelegatingIntroductionInterceptor.invoke(MethodInvocation) line: 121    \n    CglibAopProxy$CglibMethodInvocation(ReflectiveMethodInvocation).proceed() line: 179 \n    CglibAopProxy$DynamicAdvisedInterceptor.intercept(Object, Method, Object[], MethodProxy) line: 655  \n    MyWriter$$EnhancerBySpringCGLIB$$e345242b.close() line: not available   \n    CompositeItemStream.close() line: 85    \n    TaskletStep.close(ExecutionContext) line: 305   \n    TaskletStep(AbstractStep).execute(StepExecution) line: 271  \n--&gt; SimpleStepHandler.handleStep(Step, JobExecution) line: 148  \n    SimpleJob(AbstractJob).handleStep(Step, JobExecution) line: 392 \n    SimpleJob.doExecute(JobExecution) line: 135 \n    SimpleJob(AbstractJob).execute(JobExecution) line: 306  \n    SimpleJobLauncher$1.run() line: 135 \n    SyncTaskExecutor.execute(Runnable) line: 50 \n    SimpleJobLauncher.run(Job, JobParameters) line: 128 \n    NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]  \n    NativeMethodAccessorImpl.invoke(Object, Object[]) line: 62  \n    DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 43  \n    Method.invoke(Object, Object...) line: 497  \n    AopUtils.invokeJoinpointUsingReflection(Object, Method, Object[]) line: 302 \n    ReflectiveMethodInvocation.invokeJoinpoint() line: 190  \n    ReflectiveMethodInvocation.proceed() line: 157  \n    SimpleBatchConfiguration$PassthruAdvice.invoke(MethodInvocation) line: 127  \n    ReflectiveMethodInvocation.proceed() line: 179  \n    JdkDynamicAopProxy.invoke(Object, Method, Object[]) line: 208   \n    $Proxy105.run(Job, JobParameters) line: not available   \n    MyMQListener$$EnhancerBySpringCGLIB$$28277c0e(MyMQListener).receiveMessage(TextMessage) line: 74    \n    NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]  \n    NativeMethodAccessorImpl.invoke(Object, Object[]) line: 62  \n    DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 43  \n    Method.invoke(Object, Object...) line: 497  \n    InvocableHandlerMethod.doInvoke(Object...) line: 198    \n    InvocableHandlerMethod.invoke(Message&lt;?&gt;, Object...) line: 116  \n    MessagingMessageListenerAdapter.invokeHandler(Message, Session, Message&lt;?&gt;) line: 90    \n    MessagingMessageListenerAdapter.onMessage(Message, Session) line: 66    \n    DefaultMessageListenerContainer(AbstractMessageListenerContainer).doInvokeListener(SessionAwareMessageListener, Session, Message) line: 721 \n    DefaultMessageListenerContainer(AbstractMessageListenerContainer).invokeListener(Session, Message) line: 681    \n    DefaultMessageListenerContainer(AbstractMessageListenerContainer).doExecuteListener(Session, Message) line: 651 \n    DefaultMessageListenerContainer(AbstractPollingMessageListenerContainer).doReceiveAndExecute(Object, Session, MessageConsumer, TransactionStatus) line: 315 \n    DefaultMessageListenerContainer(AbstractPollingMessageListenerContainer).receiveAndExecute(Object, Session, MessageConsumer) line: 253  \n    DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener() line: 1150 \n    DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop() line: 1142 \n    DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run() line: 1039    \n    Thread.run() line: 745  \n</code></pre>\n\n<p>and</p>\n\n<pre><code>Thread [DefaultMessageListenerContainer-2] (Suspended (breakpoint at line 162 in MyWriter)) \n    MyWriter.close() line: 162  \n    NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]  \n    NativeMethodAccessorImpl.invoke(Object, Object[]) line: 62  \n    DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 43  \n    Method.invoke(Object, Object...) line: 497  \n    DisposableBeanAdapter.invokeCustomDestroyMethod(Method) line: 354   \n    DisposableBeanAdapter.destroy() line: 277   \n    DisposableBeanAdapter.run() line: 236   \n    StepContext.close() line: 213   \n    StepSynchronizationManager$1.close(StepContext) line: 53    \n    StepSynchronizationManager$1.close(Object) line: 36 \n    StepSynchronizationManager$1(SynchronizationManagerSupport&lt;E,C&gt;).release() line: 190    \n    StepSynchronizationManager.release() line: 112  \n    TaskletStep(AbstractStep).doExecutionRelease() line: 290    \n    TaskletStep(AbstractStep).execute(StepExecution) line: 278  \n--&gt; SimpleStepHandler.handleStep(Step, JobExecution) line: 148  \n    SimpleJob(AbstractJob).handleStep(Step, JobExecution) line: 392 \n    SimpleJob.doExecute(JobExecution) line: 135 \n    SimpleJob(AbstractJob).execute(JobExecution) line: 306  \n    SimpleJobLauncher$1.run() line: 135 \n    SyncTaskExecutor.execute(Runnable) line: 50 \n    SimpleJobLauncher.run(Job, JobParameters) line: 128 \n    NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]  \n    NativeMethodAccessorImpl.invoke(Object, Object[]) line: 62  \n    DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 43  \n    Method.invoke(Object, Object...) line: 497  \n    AopUtils.invokeJoinpointUsingReflection(Object, Method, Object[]) line: 302 \n    ReflectiveMethodInvocation.invokeJoinpoint() line: 190  \n    ReflectiveMethodInvocation.proceed() line: 157  \n    SimpleBatchConfiguration$PassthruAdvice.invoke(MethodInvocation) line: 127  \n    ReflectiveMethodInvocation.proceed() line: 179  \n    JdkDynamicAopProxy.invoke(Object, Method, Object[]) line: 208   \n    $Proxy105.run(Job, JobParameters) line: not available   \n    MyMQListener$$EnhancerBySpringCGLIB$$28277c0e(MyMQListener).receiveMessage(TextMessage) line: 74    \n    NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]  \n    NativeMethodAccessorImpl.invoke(Object, Object[]) line: 62  \n    DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 43  \n    Method.invoke(Object, Object...) line: 497  \n    InvocableHandlerMethod.doInvoke(Object...) line: 198    \n    InvocableHandlerMethod.invoke(Message&lt;?&gt;, Object...) line: 116  \n    MessagingMessageListenerAdapter.invokeHandler(Message, Session, Message&lt;?&gt;) line: 90    \n    MessagingMessageListenerAdapter.onMessage(Message, Session) line: 66    \n    DefaultMessageListenerContainer(AbstractMessageListenerContainer).doInvokeListener(SessionAwareMessageListener, Session, Message) line: 721 \n    DefaultMessageListenerContainer(AbstractMessageListenerContainer).invokeListener(Session, Message) line: 681    \n    DefaultMessageListenerContainer(AbstractMessageListenerContainer).doExecuteListener(Session, Message) line: 651 \n    DefaultMessageListenerContainer(AbstractPollingMessageListenerContainer).doReceiveAndExecute(Object, Session, MessageConsumer, TransactionStatus) line: 315 \n    DefaultMessageListenerContainer(AbstractPollingMessageListenerContainer).receiveAndExecute(Object, Session, MessageConsumer) line: 253  \n    DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener() line: 1150 \n    DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop() line: 1142 \n    DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run() line: 1039    \n    Thread.run() line: 745  \n</code></pre>\n\n<p>The last common line in the stack is <code>SimpleStepHandler.handleStep(Step, JobExecution) line: 148</code>, marked with arrows.</p>\n\n<p>I currently have a special class-level boolean variable that only exists to make sure the guts of the close method only run once, but this seems not quite right to me.</p>\n\n<p>There are no exceptions or problems with reading or writing. This is not due to Skip or Restart functionality.</p>\n\n<p>How can I keep the ItemWriter.close() method from getting called twice?</p>\n"},{"tags":["java","mysql","jsp","datetime","jdbc"],"comments":[{"owner":{"account_id":1194436,"reputation":5099,"user_id":1166447,"display_name":"Jhanvi"},"score":0,"creation_date":1384928316,"post_id":20088808,"comment_id":29929263,"body_markdown":"Please write some code.","body":"Please write some code."}],"answers":[{"comments":[{"owner":{"account_id":3532319,"reputation":409,"user_id":2951465,"accept_rate":44,"display_name":"user2951465"},"score":0,"creation_date":1384929178,"post_id":20089003,"comment_id":29929620,"body_markdown":"mark when i try that, it shows error stating &quot;The method setDate(int, Date) in the type PreparedStatement is not applicable for the arguments (int, Date)&quot;","body":"mark when i try that, it shows error stating &quot;The method setDate(int, Date) in the type PreparedStatement is not applicable for the arguments (int, Date)&quot;"},{"owner":{"account_id":2496531,"reputation":2781,"user_id":2172752,"display_name":"MartenCatcher"},"score":0,"creation_date":1384929262,"post_id":20089003,"comment_id":29929660,"body_markdown":"use java.sql.Date, not java.util.Date =)","body":"use java.sql.Date, not java.util.Date =)"},{"owner":{"account_id":3532319,"reputation":409,"user_id":2951465,"accept_rate":44,"display_name":"user2951465"},"score":0,"creation_date":1384929379,"post_id":20089003,"comment_id":29929706,"body_markdown":"do you mean something lik this java.sql.Date date = new java.sql.Date();","body":"do you mean something lik this java.sql.Date date = new java.sql.Date();"},{"owner":{"account_id":3532319,"reputation":409,"user_id":2951465,"accept_rate":44,"display_name":"user2951465"},"score":0,"creation_date":1384929437,"post_id":20089003,"comment_id":29929735,"body_markdown":"when i try that it shows me this error &quot;The constructor Date() is undefined&quot;","body":"when i try that it shows me this error &quot;The constructor Date() is undefined&quot;"},{"owner":{"account_id":2496531,"reputation":2781,"user_id":2172752,"display_name":"MartenCatcher"},"score":0,"creation_date":1384929877,"post_id":20089003,"comment_id":29929936,"body_markdown":"And don&#39;t forget to add a check null and empty string!","body":"And don&#39;t forget to add a check null and empty string!"},{"owner":{"account_id":2496531,"reputation":2781,"user_id":2172752,"display_name":"MartenCatcher"},"score":0,"creation_date":1384930126,"post_id":20089003,"comment_id":29930047,"body_markdown":"Do you import it? import java.text.SimpleDateFormat;","body":"Do you import it? import java.text.SimpleDateFormat;"},{"owner":{"account_id":3532319,"reputation":409,"user_id":2951465,"accept_rate":44,"display_name":"user2951465"},"score":0,"creation_date":1384930536,"post_id":20089003,"comment_id":29930191,"body_markdown":"jus now i did. but nw i get error in &quot;preparedStatement.setDate(4,date);&quot; stating &quot; The method setDate(int, Date) in the type PreparedStatement is not applicable for the arguments \n\t (int, String)&quot;","body":"jus now i did. but nw i get error in &quot;preparedStatement.setDate(4,date);&quot; stating &quot; The method setDate(int, Date) in the type PreparedStatement is not applicable for the arguments  \t (int, String)&quot;"},{"owner":{"account_id":2496531,"reputation":2781,"user_id":2172752,"display_name":"MartenCatcher"},"score":0,"creation_date":1384930907,"post_id":20089003,"comment_id":29930328,"body_markdown":"preparedStatement.setDate(4,dateDB); // dateDB is a object of class java.sql.Date","body":"preparedStatement.setDate(4,dateDB); // dateDB is a object of class java.sql.Date"},{"owner":{"account_id":6009919,"reputation":547,"user_id":4720669,"display_name":"Aakash Patel"},"score":0,"creation_date":1540989930,"post_id":20089003,"comment_id":93063904,"body_markdown":"@Mark I need help for the same: My sql(5.7) field is TimeStamp, and I am using `getSimpleJDBCTemgetSimpleJdbcTemplate().update(query.toString(),\n\t\t\t\tnew Object[] { userProfile.getLastLoginDate(), userId });` to update the field. Here, **getLastLoginDate** returns _java.Util.Date_ so, somehow i am getting exception: _Data truncation: Incorrect datetime value: &#39;&#39; for column &#39;LASTLOGINDATE&#39;._ Can you help me with this?","body":"@Mark I need help for the same: My sql(5.7) field is TimeStamp, and I am using <code>getSimpleJDBCTemgetSimpleJdbcTemplate().update(query.toStrin&zwnj;&#8203;g(), \t\t\t\tnew Object[] { userProfile.getLastLoginDate(), userId });</code> to update the field. Here, <b>getLastLoginDate</b> returns <i>java.Util.Date</i> so, somehow i am getting exception: <i>Data truncation: Incorrect datetime value: &#39;&#39; for column &#39;LASTLOGINDATE&#39;.</i> Can you help me with this?"},{"owner":{"account_id":2496531,"reputation":2781,"user_id":2172752,"display_name":"MartenCatcher"},"score":0,"creation_date":1541005610,"post_id":20089003,"comment_id":93074267,"body_markdown":"@AakashPatel try to manually convert the LastLoginDate to java.sql.Date: `getSimpleJDBCTemgetSimpleJdbcTemplate().update(query.toString(), new Object[] { new java.sql.Date(userProfile.getLastLoginDate().getTime()), userId });`","body":"@AakashPatel try to manually convert the LastLoginDate to java.sql.Date: <code>getSimpleJDBCTemgetSimpleJdbcTemplate().update(query.toStrin&zwnj;&#8203;g(), new Object[] { new java.sql.Date(userProfile.getLastLoginDate().getTime()), userId });</code>"}],"tags":[],"owner":{"account_id":2496531,"reputation":2781,"user_id":2172752,"display_name":"MartenCatcher"},"comment_count":10,"down_vote_count":1,"up_vote_count":22,"is_accepted":true,"score":21,"last_activity_date":1384929684,"creation_date":1384929062,"answer_id":20089003,"question_id":20088808,"body_markdown":"To set date to prepared statement you need change type of value:\r\n\r\n    String date = request.getParameter(&quot;date&quot;);\r\n    SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;); // your template here\r\n    java.util.Date dateStr = formatter.parse(date);\r\n    java.sql.Date dateDB = new java.sql.Date(dateStr.getTime());\r\n\r\nnow convert String date to java.sql.Date and use another method:\r\n\r\n    preparedStatement.setDate(4,dateDB);","title":"Data truncation: Incorrect datetime value: &#39;&#39;","body":"<p>To set date to prepared statement you need change type of value:</p>\n\n<pre><code>String date = request.getParameter(\"date\");\nSimpleDateFormat formatter = new SimpleDateFormat(\"yyyy-MM-dd\"); // your template here\njava.util.Date dateStr = formatter.parse(date);\njava.sql.Date dateDB = new java.sql.Date(dateStr.getTime());\n</code></pre>\n\n<p>now convert String date to java.sql.Date and use another method:</p>\n\n<pre><code>preparedStatement.setDate(4,dateDB);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3624367,"reputation":376,"user_id":3022395,"display_name":"md_rasler"},"score":0,"creation_date":1635371356,"post_id":20089065,"comment_id":123283634,"body_markdown":"This is helpful if one cannot update the dependency jar as per @Kimball Robinson&#39;s answer.","body":"This is helpful if one cannot update the dependency jar as per @Kimball Robinson&#39;s answer."}],"tags":[],"owner":{"account_id":3605301,"reputation":320,"user_id":3007597,"display_name":"sumitsabhnani"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1549182726,"creation_date":1384929297,"answer_id":20089065,"question_id":20088808,"body_markdown":"Try reformating the date\r\n\r\n       String date = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;)\r\n                                 .format(new Date(request.getParameter(&quot;date&quot;)));\r\n\r\nand then insert into the database.\r\nNote that request.getParameter(&quot;date&quot;) should be in format 11/20/2013 for this to work or you can use a similar way to achieve.","title":"Data truncation: Incorrect datetime value: &#39;&#39;","body":"<p>Try reformating the date</p>\n\n<pre><code>   String date = new SimpleDateFormat(\"yyyy-MM-dd\")\n                             .format(new Date(request.getParameter(\"date\")));\n</code></pre>\n\n<p>and then insert into the database.\nNote that request.getParameter(\"date\") should be in format 11/20/2013 for this to work or you can use a similar way to achieve.</p>\n"},{"comments":[{"owner":{"account_id":1522428,"reputation":2916,"user_id":1616656,"accept_rate":67,"display_name":"jmcollin92"},"score":1,"creation_date":1474318726,"post_id":28288202,"comment_id":66473930,"body_markdown":"You save my life ! I was using a MySQL 5.7 DB with mysql-connector 3.3.1. Changing to mysql-connector-5.x resolve the issue. Download here : https://mvnrepository.com/artifact/mysql/mysql-connector-java/5.1.39","body":"You save my life ! I was using a MySQL 5.7 DB with mysql-connector 3.3.1. Changing to mysql-connector-5.x resolve the issue. Download here : <a href=\"https://mvnrepository.com/artifact/mysql/mysql-connector-java/5.1.39\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/mysql/mysql-connector-java/5.1.39</a>"},{"owner":{"account_id":40307,"reputation":3297,"user_id":116810,"accept_rate":80,"display_name":"Kimball Robinson"},"score":0,"creation_date":1498857633,"post_id":28288202,"comment_id":76690750,"body_markdown":"I believe the version number can be incorrect in either direction, and different people may need different version numbers--depending on your situation.  Which is why I didn&#39;t note a specific version number in my answer.","body":"I believe the version number can be incorrect in either direction, and different people may need different version numbers--depending on your situation.  Which is why I didn&#39;t note a specific version number in my answer."},{"owner":{"account_id":79489,"reputation":1968,"user_id":225341,"display_name":"Victor Ionescu"},"score":0,"creation_date":1700826532,"post_id":28288202,"comment_id":136703617,"body_markdown":"God bless you, doh","body":"God bless you, doh"}],"tags":[],"owner":{"account_id":40307,"reputation":3297,"user_id":116810,"accept_rate":80,"display_name":"Kimball Robinson"},"comment_count":3,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1422918573,"creation_date":1422916898,"answer_id":28288202,"question_id":20088808,"body_markdown":"I had a similar error.  It turns out I just needed to update the jar version for mysql-connector-java (using maven)\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;...&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"Data truncation: Incorrect datetime value: &#39;&#39;","body":"<p>I had a similar error.  It turns out I just needed to update the jar version for mysql-connector-java (using maven)</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;...&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7646572,"reputation":5204,"user_id":5797023,"display_name":"Serhii Maksymchuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487342537,"creation_date":1487235037,"answer_id":42268975,"question_id":20088808,"body_markdown":"If someone will have similar error for entity field with Data type annotated as `@Temporal`, the solution for me was to replace annotation value `TemporalType.TIMESTAMP` by `TemporalType.TIME`:\r\n\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    private Date dateField;\r\n\r\nshould be like this:\r\n\r\n    @Temporal(TemporalType.TIME)\r\n    private Date dateField;\r\n\r\nAnother way to resolve this problem without any changes in code (at least for me) was to run application on higher Tomcat version, hope it will help.","title":"Data truncation: Incorrect datetime value: &#39;&#39;","body":"<p>If someone will have similar error for entity field with Data type annotated as <code>@Temporal</code>, the solution for me was to replace annotation value <code>TemporalType.TIMESTAMP</code> by <code>TemporalType.TIME</code>:</p>\n\n<pre><code>@Temporal(TemporalType.TIMESTAMP)\nprivate Date dateField;\n</code></pre>\n\n<p>should be like this:</p>\n\n<pre><code>@Temporal(TemporalType.TIME)\nprivate Date dateField;\n</code></pre>\n\n<p>Another way to resolve this problem without any changes in code (at least for me) was to run application on higher Tomcat version, hope it will help.</p>\n"},{"tags":[],"owner":{"account_id":4572120,"reputation":1820,"user_id":3711562,"display_name":"Anantha Raju C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497614708,"creation_date":1497614708,"answer_id":44588850,"question_id":20088808,"body_markdown":"Make sure that the Date value that you are trying to insert into the table is exactly in the format defined in the date column of your table. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xH2Bb.png","title":"Data truncation: Incorrect datetime value: &#39;&#39;","body":"<p>Make sure that the Date value that you are trying to insert into the table is exactly in the format defined in the date column of your table. </p>\n\n<p><a href=\"https://i.stack.imgur.com/xH2Bb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xH2Bb.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":4095273,"reputation":1557,"user_id":3362244,"accept_rate":60,"display_name":"teuber789"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499033044,"creation_date":1499033044,"answer_id":44875611,"question_id":20088808,"body_markdown":"I know this is an old thread, but none of these solutions solved the problem for me. What worked for me was to upgrade hibernate to version 5.2.10.Final (see [this SO post][1]).\r\n\r\nRunning Spring Boot and Spring Data JPA 1.5.4.RELEASE and hibernate 5.2.10.Final.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/43897326/java-zoneddatetime-save-in-the-database","title":"Data truncation: Incorrect datetime value: &#39;&#39;","body":"<p>I know this is an old thread, but none of these solutions solved the problem for me. What worked for me was to upgrade hibernate to version 5.2.10.Final (see <a href=\"https://stackoverflow.com/questions/43897326/java-zoneddatetime-save-in-the-database\">this SO post</a>).</p>\n\n<p>Running Spring Boot and Spring Data JPA 1.5.4.RELEASE and hibernate 5.2.10.Final.</p>\n"},{"tags":[],"owner":{"account_id":139351,"reputation":907,"user_id":344887,"display_name":"JERKER"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665047191,"creation_date":1665047191,"answer_id":73971225,"question_id":20088808,"body_markdown":"Accepted answer only handles date, not datetime. Anyways...\r\n\r\nMy problem was it didn&#39;t accept really old datetime&#39;s. I generated date in .net environment, where default date was &quot;1900-01-01 01:01:01&quot;. I had to change date to somthing later in time... Ooops.\r\n\r\nMy error message:\r\n\r\n    com.mysql.jdbc.MysqlDataTruncation: Data truncation: Incorrect datetime value: &#39;1900-01-01 01:01:01&#39; for column &#39;added&#39; at row 1","title":"Data truncation: Incorrect datetime value: &#39;&#39;","body":"<p>Accepted answer only handles date, not datetime. Anyways...</p>\n<p>My problem was it didn't accept really old datetime's. I generated date in .net environment, where default date was &quot;1900-01-01 01:01:01&quot;. I had to change date to somthing later in time... Ooops.</p>\n<p>My error message:</p>\n<pre><code>com.mysql.jdbc.MysqlDataTruncation: Data truncation: Incorrect datetime value: '1900-01-01 01:01:01' for column 'added' at row 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1986826,"reputation":2226,"user_id":4175822,"display_name":"spacether"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678739945,"creation_date":1677796689,"answer_id":75621494,"question_id":20088808,"body_markdown":"This issue came up for me using mysql and inserting TIMESTAMP data. When times in dropped DST hours were input, mysql was unable to insert a record with that timestamp data. There are mysql docs on how to fix it here:\r\nhttps://dev.mysql.com/doc/connector-j/8.0/en/connector-j-time-instants.html\r\n\r\nAnd I fixed it by appending:\r\n`?connectionTimeZone=LOCAL&amp;forceConnectionTimeZoneToSession=true` onto the db connection url which is solution 2b","title":"Data truncation: Incorrect datetime value: &#39;&#39;","body":"<p>This issue came up for me using mysql and inserting TIMESTAMP data. When times in dropped DST hours were input, mysql was unable to insert a record with that timestamp data. There are mysql docs on how to fix it here:\n<a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-time-instants.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-time-instants.html</a></p>\n<p>And I fixed it by appending:\n<code>?connectionTimeZone=LOCAL&amp;forceConnectionTimeZoneToSession=true</code> onto the db connection url which is solution 2b</p>\n"},{"tags":[],"owner":{"account_id":5068712,"reputation":2406,"user_id":4068123,"display_name":"Michael Sims"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678994255,"creation_date":1678994255,"answer_id":75760751,"question_id":20088808,"body_markdown":"In my case, I was converting an epoch time value that was precise to the millisecond to a Timestamp object then I was using that object in my PreparedStatement. The solution for me was to simply divide the time value by 1000 so that it was only accurate to the second and it worked.","title":"Data truncation: Incorrect datetime value: &#39;&#39;","body":"<p>In my case, I was converting an epoch time value that was precise to the millisecond to a Timestamp object then I was using that object in my PreparedStatement. The solution for me was to simply divide the time value by 1000 so that it was only accurate to the second and it worked.</p>\n"}],"owner":{"account_id":3532319,"reputation":409,"user_id":2951465,"accept_rate":44,"display_name":"user2951465"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126335,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":20089003,"answer_count":9,"score":22,"last_activity_date":1678994255,"creation_date":1384928283,"question_id":20088808,"body_markdown":"Can anyone help me with a sample JSP code to store date in a MySql database through JDBC?\r\nWhen I try to execute the code given below, I get the following exception:\r\n\r\n&gt; com.mysql.jdbc.MysqlDataTruncation: Data truncation: Incorrect datetime value: &#39;&#39; for column &#39;date&#39; at row 1\r\n\r\nHow to overcome this problem? Following is my code:\r\n        \r\n    Connection con = null;\r\n\r\n    String StaffName = request.getParameter(&quot;StaffName&quot;);\r\n    // String subcode = request.getParameter(&quot;subcode&quot;);\r\n    String hourId = request.getParameter(&quot;hourId&quot;);\r\n    if (hourId == null)\r\n        hourId = &quot;&quot;;\r\n    String day = request.getParameter(&quot;day&quot;);\r\n    if (day == null)\r\n        day = &quot;&quot;;\r\n    String date = request.getParameter(&quot;date&quot;);\r\n    try {\r\n        Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n        con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/StaffAllocation&quot;, &quot;root&quot;, &quot;success&quot;);\r\n\r\n        // PreparedStatement stat = con.PrepareStatement();\r\n        String updateString = &quot;INSERT INTO tblstaffallocation (StaffName,hourId,daysId,date) VALUES (?,?,?,?)&quot;;\r\n        PreparedStatement preparedStatement = con.prepareStatement(updateString);\r\n\r\n        preparedStatement.setString(1, StaffName);\r\n        preparedStatement.setInt(2, 0);\r\n        preparedStatement.setInt(3, 0);\r\n        preparedStatement.setString(4, date);\r\n    } catch (Exception e) {\r\n        out.print(e);\r\n    }","title":"Data truncation: Incorrect datetime value: &#39;&#39;","body":"<p>Can anyone help me with a sample JSP code to store date in a MySql database through JDBC?\nWhen I try to execute the code given below, I get the following exception:</p>\n\n<blockquote>\n  <p>com.mysql.jdbc.MysqlDataTruncation: Data truncation: Incorrect datetime value: '' for column 'date' at row 1</p>\n</blockquote>\n\n<p>How to overcome this problem? Following is my code:</p>\n\n<pre><code>Connection con = null;\n\nString StaffName = request.getParameter(\"StaffName\");\n// String subcode = request.getParameter(\"subcode\");\nString hourId = request.getParameter(\"hourId\");\nif (hourId == null)\n    hourId = \"\";\nString day = request.getParameter(\"day\");\nif (day == null)\n    day = \"\";\nString date = request.getParameter(\"date\");\ntry {\n    Class.forName(\"com.mysql.jdbc.Driver\");\n    con = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/StaffAllocation\", \"root\", \"success\");\n\n    // PreparedStatement stat = con.PrepareStatement();\n    String updateString = \"INSERT INTO tblstaffallocation (StaffName,hourId,daysId,date) VALUES (?,?,?,?)\";\n    PreparedStatement preparedStatement = con.prepareStatement(updateString);\n\n    preparedStatement.setString(1, StaffName);\n    preparedStatement.setInt(2, 0);\n    preparedStatement.setInt(3, 0);\n    preparedStatement.setString(4, date);\n} catch (Exception e) {\n    out.print(e);\n}\n</code></pre>\n"},{"tags":["java","spring","boot"],"comments":[{"owner":{"account_id":14182472,"reputation":198,"user_id":10245558,"display_name":"Roland"},"score":0,"creation_date":1675771442,"post_id":75372874,"comment_id":132996395,"body_markdown":"can you provide your application configuration","body":"can you provide your application configuration"},{"owner":{"account_id":21739251,"reputation":179,"user_id":16046846,"display_name":"Konstantinos K."},"score":0,"creation_date":1675780789,"post_id":75372874,"comment_id":132999588,"body_markdown":"Can you provide us with your full pom.xml file;","body":"Can you provide us with your full pom.xml file;"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675800645,"post_id":75372874,"comment_id":133005864,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":27724829,"reputation":11,"user_id":21164598,"display_name":"kiran"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678993988,"creation_date":1676011128,"answer_id":75407685,"question_id":75372874,"body_markdown":"it was fixed after adding the keystore properties to management port .\r\n\r\n    management:\r\n      endpoints:\r\n        web:\r\n          exposure:\r\n             include: [&quot;health&quot;, &quot;info&quot;, &quot;metrics&quot;, &quot;prometheus&quot;, &quot;bindings&quot;, &quot;beans&quot;, &quot;env&quot;, &quot;loggers&quot;,&quot;actuator&quot;]\r\n          base-path: /\r\n          path-mapping:\r\n            prometheus: metrics\r\n        prometheus:\r\n          enabled: true\r\n      server:\r\n        port: ${npbprog.metrics.server.port}\r\n        ssl:\r\n          enabled: true \r\n           key-store: ${ssl.key-store}\r\n        key-store-type: ${ssl.key-store-type}\r\n        key-store-password: ${ssl.key-store-password}\r\n        key-password: ${ssl.key-password}\r\n        key-alias: ${ssl.key-alias}\r\n        protocol: TLS \r\n        enabled-protocols: \r\n        - TLSv1.2  \r\n\r\n","title":"Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Could not load key","body":"<p>it was fixed after adding the keystore properties to management port .</p>\n<pre><code>management:\n  endpoints:\n    web:\n      exposure:\n         include: [&quot;health&quot;, &quot;info&quot;, &quot;metrics&quot;, &quot;prometheus&quot;, &quot;bindings&quot;, &quot;beans&quot;, &quot;env&quot;, &quot;loggers&quot;,&quot;actuator&quot;]\n      base-path: /\n      path-mapping:\n        prometheus: metrics\n    prometheus:\n      enabled: true\n  server:\n    port: ${npbprog.metrics.server.port}\n    ssl:\n      enabled: true \n       key-store: ${ssl.key-store}\n    key-store-type: ${ssl.key-store-type}\n    key-store-password: ${ssl.key-store-password}\n    key-password: ${ssl.key-password}\n    key-alias: ${ssl.key-alias}\n    protocol: TLS \n    enabled-protocols: \n    - TLSv1.2  \n</code></pre>\n"}],"owner":{"account_id":27724829,"reputation":11,"user_id":21164598,"display_name":"kiran"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2024,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75407685,"answer_count":1,"score":0,"last_activity_date":1678993988,"creation_date":1675770147,"question_id":75372874,"body_markdown":"Any one help me with this below error \r\n\r\n org.springframework.context.ApplicationContextException: Failed to start bean &#39;webServerStartStop&#39;; nested exception is org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Could not load key store &#39;null&#39;\r\n\r\ni have placed the key store file out side the project . i check key file also using keytool list command. Still application not starting .\r\n\r\ni am using java 11 , maven 3.6.3 . spring boot 2.3.2 release \r\n\r\ni did not find any solutions for it .\r\n\r\nbut i tried loading keystore inside the project , outside, adding new key file . northing works .","title":"Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Could not load key","body":"<p>Any one help me with this below error</p>\n<p>org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Could not load key store 'null'</p>\n<p>i have placed the key store file out side the project . i check key file also using keytool list command. Still application not starting .</p>\n<p>i am using java 11 , maven 3.6.3 . spring boot 2.3.2 release</p>\n<p>i did not find any solutions for it .</p>\n<p>but i tried loading keystore inside the project , outside, adding new key file . northing works .</p>\n"},{"tags":["java","xpath","webdriver"],"comments":[{"owner":{"account_id":1203541,"reputation":24718,"user_id":1173729,"accept_rate":75,"display_name":"Arran"},"score":7,"creation_date":1383298008,"post_id":19721111,"comment_id":29302835,"body_markdown":"I don&#39;t get it...what&#39;s wrong with an **equals** search? ...`//button[text()=&#39;abc&#39;]`....?","body":"I don&#39;t get it...what&#39;s wrong with an <b>equals</b> search? ...<code>&#47;&#47;button[text()=&#39;abc&#39;]</code>....?"},{"owner":{"account_id":2922082,"reputation":3729,"user_id":2504101,"accept_rate":86,"display_name":"olyv"},"score":3,"creation_date":1383304581,"post_id":19721111,"comment_id":29305593,"body_markdown":"@Arrana looks like the wrong was `//button[Text=&#39;abc&#39;]` but the right one is `//button[Text()=&#39;abc&#39;]` (as you wrote)","body":"@Arrana looks like the wrong was <code>&#47;&#47;button[Text=&#39;abc&#39;]</code> but the right one is <code>&#47;&#47;button[Text()=&#39;abc&#39;]</code> (as you wrote)"},{"owner":{"account_id":3263191,"reputation":521,"user_id":2748305,"accept_rate":25,"display_name":"souvik"},"score":0,"creation_date":1465393300,"post_id":19721111,"comment_id":62882339,"body_markdown":"Yes its absolutely right....it would be something like an Equal search...//button[text()=&#39;abc&#39;] this xpath works properly...thanks a lot.","body":"Yes its absolutely right....it would be something like an Equal search...//button[text()=&#39;abc&#39;] this xpath works properly...thanks a lot."},{"owner":{"account_id":1617069,"reputation":19784,"user_id":4094231,"accept_rate":46,"display_name":"Umair Ayub"},"score":0,"creation_date":1640153785,"post_id":19721111,"comment_id":124525350,"body_markdown":"How to do case-insensitive exact match?","body":"How to do case-insensitive exact match?"}],"answers":[{"comments":[{"owner":{"account_id":3263191,"reputation":521,"user_id":2748305,"accept_rate":25,"display_name":"souvik"},"score":0,"creation_date":1383284364,"post_id":19721251,"comment_id":29298757,"body_markdown":"thanx for ur comment, tell me one thing, the html contains leading and trailing space for the text. like &quot; abcd &quot; and &quot; abc &quot;.if I use [contains(text(),&#39;abc&#39;)] xpath then its performing on &quot;abcd&quot; button. but if i&#39;m using [starts-with(text(),&#39; abc&#39;) or [ends-with(text(),&#39;abc &#39;), its showing unable to find locator.the space i mentioned in xpath leading or trailing to the string is correct??And secondly the &quot;td&quot; number is not fixed in my case. the button may contain in any td in the table. infact in some other tr tag also as the button generation is dynamic. Hence I can&#39;t go by hierarchy.","body":"thanx for ur comment, tell me one thing, the html contains leading and trailing space for the text. like &quot; abcd &quot; and &quot; abc &quot;.if I use [contains(text(),&#39;abc&#39;)] xpath then its performing on &quot;abcd&quot; button. but if i&#39;m using [starts-with(text(),&#39; abc&#39;) or [ends-with(text(),&#39;abc &#39;), its showing unable to find locator.the space i mentioned in xpath leading or trailing to the string is correct??And secondly the &quot;td&quot; number is not fixed in my case. the button may contain in any td in the table. infact in some other tr tag also as the button generation is dynamic. Hence I can&#39;t go by hierarchy."},{"owner":{"account_id":1831013,"reputation":1513,"user_id":1662411,"accept_rate":47,"display_name":"Akbar"},"score":0,"creation_date":1383284688,"post_id":19721251,"comment_id":29298826,"body_markdown":"Cannot tell without accessing the application but you can do it the round about way by getting text attribute value and do a string comparison using the language functions.","body":"Cannot tell without accessing the application but you can do it the round about way by getting text attribute value and do a string comparison using the language functions."},{"owner":{"account_id":1831013,"reputation":1513,"user_id":1662411,"accept_rate":47,"display_name":"Akbar"},"score":0,"creation_date":1383284869,"post_id":19721251,"comment_id":29298873,"body_markdown":"Element.getattribute(&quot;text&quot;)","body":"Element.getattribute(&quot;text&quot;)"},{"owner":{"account_id":3263191,"reputation":521,"user_id":2748305,"accept_rate":25,"display_name":"souvik"},"score":0,"creation_date":1383300242,"post_id":19721251,"comment_id":29303672,"body_markdown":"thanx for the suggestion. It would be better if i had a predicate to match for an exact text. though it was a bit hectic anyway i made the library using string checking by Element.getText() method and now its working fine...","body":"thanx for the suggestion. It would be better if i had a predicate to match for an exact text. though it was a bit hectic anyway i made the library using string checking by Element.getText() method and now its working fine..."},{"owner":{"account_id":87093,"reputation":9555,"user_id":241753,"accept_rate":100,"display_name":"Ross Patterson"},"score":1,"creation_date":1383302025,"post_id":19721251,"comment_id":29304400,"body_markdown":"@souvik The `normalize-space()` function will clean up your text for comparison purposes.  Try `//button[normalize-space(text())=&#39;abc&#39;]`","body":"@souvik The <code>normalize-space()</code> function will clean up your text for comparison purposes.  Try <code>&#47;&#47;button[normalize-space(text())=&#39;abc&#39;]</code>"},{"owner":{"account_id":1831013,"reputation":1513,"user_id":1662411,"accept_rate":47,"display_name":"Akbar"},"score":0,"creation_date":1383310507,"post_id":19721251,"comment_id":29307989,"body_markdown":"It is commom to accept or upvote if your problem is resolved.","body":"It is commom to accept or upvote if your problem is resolved."}],"tags":[],"owner":{"account_id":1831013,"reputation":1513,"user_id":1662411,"accept_rate":47,"display_name":"Akbar"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1383283223,"creation_date":1383283223,"answer_id":19721251,"question_id":19721111,"body_markdown":"Try with ends-with instead of contains. If the buttons dont have unique attributes, you can add the parent hierarchy as well. Like //table/tr/td[1].","title":"How to search node by exact text match using Xpath in webdriver","body":"<p>Try with ends-with instead of contains. If the buttons dont have unique attributes, you can add the parent hierarchy as well. Like //table/tr/td[1].</p>\n"},{"tags":[],"owner":{"account_id":2922082,"reputation":3729,"user_id":2504101,"accept_rate":86,"display_name":"olyv"},"comment_count":0,"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1383292910,"creation_date":1383292910,"answer_id":19722904,"question_id":19721111,"body_markdown":"I would use next xpath `//button[text()=&#39;abc&#39;]`. You have mentioned `text()` function but I&#39;m not sure syntax was correct. Also you tried to use `contains()` -- it searches partial text and WebDriver gets first element found. I your case it is `&lt;button&gt;abcd&lt;/button&gt;` button","title":"How to search node by exact text match using Xpath in webdriver","body":"<p>I would use next xpath <code>//button[text()='abc']</code>. You have mentioned <code>text()</code> function but I'm not sure syntax was correct. Also you tried to use <code>contains()</code> -- it searches partial text and WebDriver gets first element found. I your case it is <code>&lt;button&gt;abcd&lt;/button&gt;</code> button</p>\n"},{"tags":[],"owner":{"account_id":1502229,"reputation":2973,"user_id":1406510,"accept_rate":64,"display_name":"nanosoft"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1529415267,"creation_date":1523516530,"answer_id":49790024,"question_id":19721111,"body_markdown":"    //button[.=&quot;abc&quot;]\r\n\r\nThe dot before the equality operator will do the text comparison.  Another example is `/PROJECT[.=&quot;MyProject&quot;]` from the [xPath Java tutorial][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/jaxp/xslt/xpath.html","title":"How to search node by exact text match using Xpath in webdriver","body":"<pre><code>//button[.=\"abc\"]\n</code></pre>\n\n<p>The dot before the equality operator will do the text comparison.  Another example is <code>/PROJECT[.=\"MyProject\"]</code> from the <a href=\"https://docs.oracle.com/javase/tutorial/jaxp/xslt/xpath.html\" rel=\"noreferrer\">xPath Java tutorial</a>.</p>\n"},{"comments":[{"owner":{"account_id":376055,"reputation":95,"user_id":727266,"display_name":"Tarmac"},"score":3,"creation_date":1588186900,"post_id":51336623,"comment_id":108806935,"body_markdown":"normalize-space example worked for me on Selenium IDE for chrome","body":"normalize-space example worked for me on Selenium IDE for chrome"}],"tags":[],"owner":{"account_id":9096692,"reputation":363,"user_id":6770421,"display_name":"Priyanka Chaturvedi"},"comment_count":1,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1531556076,"creation_date":1531556076,"answer_id":51336623,"question_id":19721111,"body_markdown":"To find the element &#39;abcd&#39; you can simply use:\r\n\r\n    //button[contains(text(),&#39;abcd&#39;)]\r\n\r\nTo find &#39;abc&#39; use the normalize-space() function which will clean up your text for comparison purposes. \r\n\r\n    //button[normalize-space(text())=&#39;abc&#39;]\r\n\r\n","title":"How to search node by exact text match using Xpath in webdriver","body":"<p>To find the element 'abcd' you can simply use:</p>\n\n<pre><code>//button[contains(text(),'abcd')]\n</code></pre>\n\n<p>To find 'abc' use the normalize-space() function which will clean up your text for comparison purposes. </p>\n\n<pre><code>//button[normalize-space(text())='abc']\n</code></pre>\n"},{"comments":[{"owner":{"account_id":910157,"reputation":4964,"user_id":944190,"accept_rate":54,"display_name":"a Learner"},"score":0,"creation_date":1678976190,"post_id":57551685,"comment_id":133640177,"body_markdown":"`button[starts-with(.,&#39;abc&#39;)]` is not working.","body":"<code>button[starts-with(.,&#39;abc&#39;)]</code> is not working."}],"tags":[],"owner":{"account_id":8779620,"reputation":161,"user_id":6563634,"display_name":"asadahm"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1566198820,"creation_date":1566197229,"answer_id":57551685,"question_id":19721111,"body_markdown":"For exact search:\r\n\r\n    button[text()=&#39;abc&#39;]\r\n\r\nFor pattern matching search:\r\n\r\n    button[starts-with(.,&#39;abc&#39;)]","title":"How to search node by exact text match using Xpath in webdriver","body":"<p>For exact search:</p>\n\n<pre><code>button[text()='abc']\n</code></pre>\n\n<p>For pattern matching search:</p>\n\n<pre><code>button[starts-with(.,'abc')]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18145525,"reputation":1,"user_id":13198896,"display_name":"Anshu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603372031,"creation_date":1603287534,"answer_id":64464799,"question_id":19721111,"body_markdown":"Using something like below worked perfectly fine for me. \r\n````\r\n//button[(contains(.,&#39;abc&#39;)) and not(contains(.,&#39;abcd&#39;))]\r\n````","title":"How to search node by exact text match using Xpath in webdriver","body":"<p>Using something like below worked perfectly fine for me.</p>\n<pre><code>//button[(contains(.,'abc')) and not(contains(.,'abcd'))]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1674980628,"post_id":75257011,"comment_id":132826648,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75257011/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27634478,"reputation":1,"user_id":21092697,"display_name":"Nikunj"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674816254,"creation_date":1674816254,"answer_id":75257011,"question_id":19721111,"body_markdown":"For exact search:\r\n.//button[./text()=&#39;abc&#39;]\r\n\r\nNote: make you there is no space is available into ","title":"How to search node by exact text match using Xpath in webdriver","body":"<p>For exact search:\n.//button[./text()='abc']</p>\n<p>Note: make you there is no space is available into</p>\n"},{"tags":[],"owner":{"account_id":910157,"reputation":4964,"user_id":944190,"accept_rate":54,"display_name":"a Learner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678993770,"creation_date":1678993770,"answer_id":75760683,"question_id":19721111,"body_markdown":"`//td//text()` will select both buttons\r\n\r\n`(//td//text())[1]` will select `&lt;button&gt;abcd&lt;/button&gt;` \r\n\r\n`(//td//text())[2]` will select `&lt;button&gt;abc&lt;/button&gt;` \r\n","title":"How to search node by exact text match using Xpath in webdriver","body":"<p><code>//td//text()</code> will select both buttons</p>\n<p><code>(//td//text())[1]</code> will select <code>&lt;button&gt;abcd&lt;/button&gt;</code></p>\n<p><code>(//td//text())[2]</code> will select <code>&lt;button&gt;abc&lt;/button&gt;</code></p>\n"}],"owner":{"account_id":3263191,"reputation":521,"user_id":2748305,"accept_rate":25,"display_name":"souvik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103821,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"answer_count":8,"score":49,"last_activity_date":1678993770,"creation_date":1383282257,"question_id":19721111,"body_markdown":"I need a little help regarding searching an exact text using xpath in webDriver.\r\n\r\nSuppose i have the html as follows..\r\n\r\n    &lt;html&gt;&lt;body&gt;\r\n      &lt;table&gt;\r\n        &lt;tr&gt;\r\n          &lt;td&gt;&lt;button&gt;abcd&lt;/button&gt;&lt;/td&gt;\r\n          &lt;td&gt;&lt;button&gt;abc&lt;/button&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n      &lt;/table&gt;\r\n    &lt;/body&gt;&lt;/html&gt;\r\n\r\nNow i want to click button &quot;abc&quot;\r\n\r\nI used xpath as `//button[contains(text(),&#39;abc&#39;)]` but it is always performing on button &quot;abcd&quot; as it also contain the text &quot;abc&quot;. In this regards I need a predicate or some other procedure which can search exact text instead of containing text.\r\n\r\nI also tried with `//button[matches(text(),&#39;abc&#39;)]`,  `//button[matches($string,&#39;abc&#39;)]`, `//button[Text=&#39;abc&#39;)]`, `//button[.=&#39;abc&#39;)]` and many more but none of these worked out to identify &quot;abc&quot; button. \r\n\r\nI do not know if there is any problem regarding my xpath version as I&#39;m not aware of the version. But I&#39;m using java 1.6 JDK.\r\n\r\nThough my exact scenario is not the example shown but similar logic needs to be applied.\r\n\r\nHence any help or suggestion would be highly appreciated.","title":"How to search node by exact text match using Xpath in webdriver","body":"<p>I need a little help regarding searching an exact text using xpath in webDriver.</p>\n\n<p>Suppose i have the html as follows..</p>\n\n<pre><code>&lt;html&gt;&lt;body&gt;\n  &lt;table&gt;\n    &lt;tr&gt;\n      &lt;td&gt;&lt;button&gt;abcd&lt;/button&gt;&lt;/td&gt;\n      &lt;td&gt;&lt;button&gt;abc&lt;/button&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;/table&gt;\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>Now i want to click button \"abc\"</p>\n\n<p>I used xpath as <code>//button[contains(text(),'abc')]</code> but it is always performing on button \"abcd\" as it also contain the text \"abc\". In this regards I need a predicate or some other procedure which can search exact text instead of containing text.</p>\n\n<p>I also tried with <code>//button[matches(text(),'abc')]</code>,  <code>//button[matches($string,'abc')]</code>, <code>//button[Text='abc')]</code>, <code>//button[.='abc')]</code> and many more but none of these worked out to identify \"abc\" button. </p>\n\n<p>I do not know if there is any problem regarding my xpath version as I'm not aware of the version. But I'm using java 1.6 JDK.</p>\n\n<p>Though my exact scenario is not the example shown but similar logic needs to be applied.</p>\n\n<p>Hence any help or suggestion would be highly appreciated.</p>\n"},{"tags":["java","kotlin","initialization"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":2,"creation_date":1678990525,"post_id":75760082,"comment_id":133644739,"body_markdown":"Fairly sure in Java `String name = &quot;Name&quot;` will actually be run _in_ the Java constructor if you inspect the byte code.  I am not familiar with Kotlin but it seems like `init` may be similar in the way that it works.","body":"Fairly sure in Java <code>String name = &quot;Name&quot;</code> will actually be run <i>in</i> the Java constructor if you inspect the byte code.  I am not familiar with Kotlin but it seems like <code>init</code> may be similar in the way that it works."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1678992425,"post_id":75760082,"comment_id":133645267,"body_markdown":"By &quot;before&quot;, do you mean written on a higher line in your file, or *executed* earlier in time? The second is not exactly true in your Java code above. `name` is initialized after the implicit super-constructor call that is first called inside your constructor.","body":"By &quot;before&quot;, do you mean written on a higher line in your file, or <i>executed</i> earlier in time? The second is not exactly true in your Java code above. <code>name</code> is initialized after the implicit super-constructor call that is first called inside your constructor."},{"owner":{"account_id":10074708,"reputation":1692,"user_id":7447228,"accept_rate":0,"display_name":"Ekaterina"},"score":0,"creation_date":1678992835,"post_id":75760082,"comment_id":133645386,"body_markdown":"executed earlier in time than the constructor of Cat1 class","body":"executed earlier in time than the constructor of Cat1 class"}],"answers":[{"comments":[{"owner":{"account_id":10074708,"reputation":1692,"user_id":7447228,"accept_rate":0,"display_name":"Ekaterina"},"score":0,"creation_date":1678991964,"post_id":75760375,"comment_id":133645159,"body_markdown":"Could you specify the example? Here class InitOrderDemo(name: String) initialization occurs In primary constructor.","body":"Could you specify the example? Here class InitOrderDemo(name: String) initialization occurs In primary constructor."},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1678992330,"post_id":75760375,"comment_id":133645237,"body_markdown":"What do you mean &quot;Specify the example?&quot; What is `InitOrderDemo(name: String)`?","body":"What do you mean &quot;Specify the example?&quot; What is <code>InitOrderDemo(name: String)</code>?"}],"tags":[],"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678991761,"creation_date":1678991761,"answer_id":75760375,"question_id":75760082,"body_markdown":"&gt; Is it possible to initialize Kotlin instance variables before constructor like in Java\r\n\r\nYes, it is.\r\n\r\n&gt; Is there a similar code in Kotlin?\r\n\r\nYes, it&#39;s almost exactly the same. Explained in the documentation: \r\n\r\nhttps://kotlinlang.org/docs/classes.html#constructors\r\n\r\n&gt; Can we initialize an instance variable before the constructor?\r\n\r\nYes, you can.","title":"Is it possible to initialize Kotlin instance variables before constructor like in Java","body":"<blockquote>\n<p>Is it possible to initialize Kotlin instance variables before constructor like in Java</p>\n</blockquote>\n<p>Yes, it is.</p>\n<blockquote>\n<p>Is there a similar code in Kotlin?</p>\n</blockquote>\n<p>Yes, it's almost exactly the same. Explained in the documentation:</p>\n<p><a href=\"https://kotlinlang.org/docs/classes.html#constructors\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/classes.html#constructors</a></p>\n<blockquote>\n<p>Can we initialize an instance variable before the constructor?</p>\n</blockquote>\n<p>Yes, you can.</p>\n"},{"tags":[],"owner":{"account_id":26536005,"reputation":1,"user_id":21410102,"display_name":"Raquel Plane"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678992170,"creation_date":1678992170,"answer_id":75760441,"question_id":75760082,"body_markdown":"In Kotlin you cannot instantiate a variable before the constructor but you can do something similar.\r\n\r\n 1. \r\n You can declare a variable without initialising it and then add its value to it in a function. This allows you to add its own functionality to it.\r\nFor example:\r\n\r\n    class one {\r\n      lateinit var variable1: String\r\n      \r\n      constructor(){}\r\n      \r\n      fun play() {\r\n        variable1 = &quot;one&quot;\r\n      }\r\n    }\r\n\r\n 2. \r\nYou can declare the variable with a null and then assign a value to it in the constructor. \r\nFor example:\r\n\r\n    class two(val parameter: Int) {\r\n        var two: String? = null\r\n    \r\n        init {\r\n            two= &quot;two&quot;\r\n        }\r\n    }\r\n\r\n","title":"Is it possible to initialize Kotlin instance variables before constructor like in Java","body":"<p>In Kotlin you cannot instantiate a variable before the constructor but you can do something similar.</p>\n<p>1.\nYou can declare a variable without initialising it and then add its value to it in a function. This allows you to add its own functionality to it.\nFor example:</p>\n<pre><code>class one {\n  lateinit var variable1: String\n  \n  constructor(){}\n  \n  fun play() {\n    variable1 = &quot;one&quot;\n  }\n}\n</code></pre>\n<ol start=\"2\">\n<li></li>\n</ol>\n<p>You can declare the variable with a null and then assign a value to it in the constructor.\nFor example:</p>\n<pre><code>class two(val parameter: Int) {\n    var two: String? = null\n\n    init {\n        two= &quot;two&quot;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1678993491,"creation_date":1678993491,"answer_id":75760644,"question_id":75760082,"body_markdown":"Just to be clear about what we&#39;re talking about, in your Java example, the member variables are getting initialized here:\r\n\r\n```java\r\npublic class Cat1 {\r\n    String name = &quot;Name&quot;;\r\n\r\n    public Cat1() {\r\n        // super(); &lt;-- Implicit when you omit it\r\n        // name gets initialized at this point of time during constructor call.\r\n        System.out.println(name); \r\n    }\r\n}\r\n```\r\n\r\nSo it&#39;s not initialized before the constructor, but it&#39;s initialized immediately following the super-constructor call.\r\n\r\nIn Kotlin, you have both property initializations and `init` blocks that are called *after* the initialization of any properties in the *primary* constructor, but before the code in the blocks of any *secondary* constructors.\r\n\r\nProperty initializations and `init` blocks are called in order from top to bottom.\r\n\r\nSo the simplest way to duplicate your class example is to use a primary constructor and an `init` block after your property:\r\n```kotlin\r\npublic class Cat1() { \r\n    var name: String = &quot;Name&quot;\r\n\r\n    init {\r\n        println(name)\r\n    }\r\n}\r\n```\r\nNote, parentheses for the primary constructor are optional if it has no parameters and there are no secondary constructors.\r\n\r\nIf you have a secondary constructor, your properties will initialized before its block of code:\r\n\r\n```kotlin\r\npublic class Cat1 { \r\n    var name: String = &quot;Name&quot;\r\n\r\n    constructor() {\r\n        println(name)\r\n    }\r\n}\r\n```\r\n...even if they are declared later (just like in Java):\r\n```kotlin\r\npublic class Cat1 { \r\n    constructor() {\r\n        println(name)\r\n    }\r\n\r\n    var name: String = &quot;Name&quot;\r\n}\r\n```","title":"Is it possible to initialize Kotlin instance variables before constructor like in Java","body":"<p>Just to be clear about what we're talking about, in your Java example, the member variables are getting initialized here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Cat1 {\n    String name = &quot;Name&quot;;\n\n    public Cat1() {\n        // super(); &lt;-- Implicit when you omit it\n        // name gets initialized at this point of time during constructor call.\n        System.out.println(name); \n    }\n}\n</code></pre>\n<p>So it's not initialized before the constructor, but it's initialized immediately following the super-constructor call.</p>\n<p>In Kotlin, you have both property initializations and <code>init</code> blocks that are called <em>after</em> the initialization of any properties in the <em>primary</em> constructor, but before the code in the blocks of any <em>secondary</em> constructors.</p>\n<p>Property initializations and <code>init</code> blocks are called in order from top to bottom.</p>\n<p>So the simplest way to duplicate your class example is to use a primary constructor and an <code>init</code> block after your property:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>public class Cat1() { \n    var name: String = &quot;Name&quot;\n\n    init {\n        println(name)\n    }\n}\n</code></pre>\n<p>Note, parentheses for the primary constructor are optional if it has no parameters and there are no secondary constructors.</p>\n<p>If you have a secondary constructor, your properties will initialized before its block of code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>public class Cat1 { \n    var name: String = &quot;Name&quot;\n\n    constructor() {\n        println(name)\n    }\n}\n</code></pre>\n<p>...even if they are declared later (just like in Java):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>public class Cat1 { \n    constructor() {\n        println(name)\n    }\n\n    var name: String = &quot;Name&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":10074708,"reputation":1692,"user_id":7447228,"accept_rate":0,"display_name":"Ekaterina"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75760644,"answer_count":3,"score":0,"last_activity_date":1678993491,"creation_date":1678990002,"question_id":75760082,"body_markdown":"In Java the `name` is initialized before the constructor:\r\n\r\n     public class Cat1 {\r\n        String name = &quot;Name&quot;;\r\n    \r\n        public Cat1() {\r\n            System.out.println(name);  //prints &quot; Name&quot;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            new Cat1();\r\n        }\r\n    }\r\n\r\nIs there a similar code in Kotlin? Can we initialize an instance variable before the constructor?","title":"Is it possible to initialize Kotlin instance variables before constructor like in Java","body":"<p>In Java the <code>name</code> is initialized before the constructor:</p>\n<pre><code> public class Cat1 {\n    String name = &quot;Name&quot;;\n\n    public Cat1() {\n        System.out.println(name);  //prints &quot; Name&quot;\n    }\n\n    public static void main(String[] args) {\n        new Cat1();\n    }\n}\n</code></pre>\n<p>Is there a similar code in Kotlin? Can we initialize an instance variable before the constructor?</p>\n"},{"tags":["java","input"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1678993906,"post_id":75760580,"comment_id":133645632,"body_markdown":"&quot;The scanner reads up to the white space&quot; I think you are confused, your current code does not read anything, you do not have `keyboard.nextLine` or `keyboard.next` or any variation that moves the pointer. (I am not the downvoter)","body":"&quot;The scanner reads up to the white space&quot; I think you are confused, your current code does not read anything, you do not have <code>keyboard.nextLine</code> or <code>keyboard.next</code> or any variation that moves the pointer. (I am not the downvoter)"},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":1,"creation_date":1678994053,"post_id":75760580,"comment_id":133645666,"body_markdown":"https://stackoverflow.com/a/8352102/11434552 might have some information that can help you","body":"<a href=\"https://stackoverflow.com/a/8352102/11434552\">stackoverflow.com/a/8352102/11434552</a> might have some information that can help you"},{"owner":{"account_id":15958638,"reputation":11,"user_id":12740138,"display_name":"Kon"},"score":0,"creation_date":1678994809,"post_id":75760580,"comment_id":133645815,"body_markdown":"But keyboard.hasNext() asks for input doesn’t it ? At least in the above program , i get true after I enter something. So my question is why do I get true if there’s no next input ? Thanks a lot for your comments","body":"But keyboard.hasNext() asks for input doesn’t it ? At least in the above program , i get true after I enter something. So my question is why do I get true if there’s no next input ? Thanks a lot for your comments"},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1678995204,"post_id":75760580,"comment_id":133645920,"body_markdown":"The [Javadocs](https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#hasNext--) state that &quot;This method may _block_ while waiting for input to scan.  The scanner does not advance past any input.&quot;  It blocks it does not &quot;ask for input&quot; and it does not move past the first character without using another method.","body":"The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#hasNext--\" rel=\"nofollow noreferrer\">Javadocs</a> state that &quot;This method may <i>block</i> while waiting for input to scan.  The scanner does not advance past any input.&quot;  It blocks it does not &quot;ask for input&quot; and it does not move past the first character without using another method."},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1678995364,"post_id":75760580,"comment_id":133645966,"body_markdown":"Here is another answer that pretty much answers your question directly: https://stackoverflow.com/a/29528355/11434552","body":"Here is another answer that pretty much answers your question directly: <a href=\"https://stackoverflow.com/a/29528355/11434552\">stackoverflow.com/a/29528355/11434552</a>"},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1678995509,"post_id":75760580,"comment_id":133646002,"body_markdown":"So to summarize I think you are confused on two things.  1 - You need to call a `next` method in order to actually read the data, and 2 - `hasNext` will always be `true` if you are reading from `System.in` and not from a file.","body":"So to summarize I think you are confused on two things.  1 - You need to call a <code>next</code> method in order to actually read the data, and 2 - <code>hasNext</code> will always be <code>true</code> if you are reading from <code>System.in</code> and not from a file."},{"owner":{"account_id":15958638,"reputation":11,"user_id":12740138,"display_name":"Kon"},"score":0,"creation_date":1678995599,"post_id":75760580,"comment_id":133646023,"body_markdown":"This is great Nexevis! Appreciate it.","body":"This is great Nexevis! Appreciate it."}],"owner":{"account_id":15958638,"reputation":11,"user_id":12740138,"display_name":"Kon"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1678993076,"creation_date":1678992996,"question_id":75760580,"body_markdown":"Relatively new to Java and probably a very trivial question but I have been getting super confused. Suppose I have the following program:\r\n\r\n     Scanner keyboard = new Scanner(System.in);\r\n     System.out.println(keyboard.hasNext());\r\n\r\nWhen I run this program, it prompts me to enter something, I press enter and then the console output is (obviously) true. But precisely, how does the hasNext() method work? From the Oracle website: returns true if the scanner has another token in its input. In my example, there only **one** input . How exactly is being read and why exactly do I get true if there&#39;s **no next** input into the program? From what I understand the scanner breaks the input into tokens based on the delimiter (in this case we have the default delimiter), so in my case, say i enter &quot;test&quot;, then press enter. The scanner reads up to the white space but then there&#39;s no next token to read? Then why is hasNext true?\r\n\r\nHopfully not too silly but I am genuinely confused. \r\nMany thanks!\r\n\r\n\r\n\r\nI have tried various runs on the above code and i always get true. (obviously ctrl+D , ctrl+C kill the program)","title":"keyboard.hasNext() for console input","body":"<p>Relatively new to Java and probably a very trivial question but I have been getting super confused. Suppose I have the following program:</p>\n<pre><code> Scanner keyboard = new Scanner(System.in);\n System.out.println(keyboard.hasNext());\n</code></pre>\n<p>When I run this program, it prompts me to enter something, I press enter and then the console output is (obviously) true. But precisely, how does the hasNext() method work? From the Oracle website: returns true if the scanner has another token in its input. In my example, there only <strong>one</strong> input . How exactly is being read and why exactly do I get true if there's <strong>no next</strong> input into the program? From what I understand the scanner breaks the input into tokens based on the delimiter (in this case we have the default delimiter), so in my case, say i enter &quot;test&quot;, then press enter. The scanner reads up to the white space but then there's no next token to read? Then why is hasNext true?</p>\n<p>Hopfully not too silly but I am genuinely confused.\nMany thanks!</p>\n<p>I have tried various runs on the above code and i always get true. (obviously ctrl+D , ctrl+C kill the program)</p>\n"},{"tags":["java","maven","selenium-webdriver","inheritance","testng"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1678915055,"post_id":75719899,"comment_id":133627897,"body_markdown":"just because you&#39;ve extended a class doesn&#39;t mean all new class objects inherit the same instance of that super object.  They&#39;ll inherit properties and methods that are defined there (unless overridden) but without dependency injection you won&#39;t have the same driver.  I&#39;d stick with your frameworks architecture, which seems to be more about static classes.","body":"just because you&#39;ve extended a class doesn&#39;t mean all new class objects inherit the same instance of that super object.  They&#39;ll inherit properties and methods that are defined there (unless overridden) but without dependency injection you won&#39;t have the same driver.  I&#39;d stick with your frameworks architecture, which seems to be more about static classes."}],"answers":[{"comments":[{"owner":{"account_id":21808223,"reputation":9,"user_id":16106145,"display_name":"Sandesh"},"score":0,"creation_date":1678703335,"post_id":75720113,"comment_id":133578499,"body_markdown":"I removed the WebDriver driver declration from the page class but it is again showing the same error. java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because &quot;this.driver&quot; is null","body":"I removed the WebDriver driver declration from the page class but it is again showing the same error. java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because &quot;this.driver&quot; is null"}],"tags":[],"owner":{"account_id":3411393,"reputation":306,"user_id":2861219,"accept_rate":100,"display_name":"Harish"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678700612,"creation_date":1678700130,"answer_id":75720113,"question_id":75719899,"body_markdown":"You&#39;re getting this  *java.lang.NullPointerException* because, in your first &#39;BasicAuthPages&#39; class, you have declared ```Webdriver driver ``` but this driver is NOT initialized.\r\n\r\nWhereas, in your second &#39;BasicAuthPages&#39; class, &#39;driver&#39; is initialized under the constructor of &#39;BasicAuthPages&#39; class. Hence, its working fine.\r\n\r\nIn first case, since you&#39;re extending the base class, no need to declare ```Webdriver driver ``` again in your page class &#39;BasicAuthPages&#39;. Since you have only declared the driver but not initialized, you&#39;re getting NullPOinterException when you&#39;re trying to access driver.","title":"The WebDriver initialized in BaseClass is not getting inherited in PageClass","body":"<p>You're getting this  <em>java.lang.NullPointerException</em> because, in your first 'BasicAuthPages' class, you have declared <code>Webdriver driver </code> but this driver is NOT initialized.</p>\n<p>Whereas, in your second 'BasicAuthPages' class, 'driver' is initialized under the constructor of 'BasicAuthPages' class. Hence, its working fine.</p>\n<p>In first case, since you're extending the base class, no need to declare <code>Webdriver driver </code> again in your page class 'BasicAuthPages'. Since you have only declared the driver but not initialized, you're getting NullPOinterException when you're trying to access driver.</p>\n"},{"tags":[],"owner":{"account_id":8333123,"reputation":51,"user_id":6260960,"display_name":"gords"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678701678,"creation_date":1678701678,"answer_id":75720352,"question_id":75719899,"body_markdown":"If you ever want to run tests in parallel (needed for a big suite of tests to run as quickly as possible) then the driver is best initialised in the test class\r\n\r\nIf the Page Object classes inherit from the Base class, then pass in the driver during initalisation","title":"The WebDriver initialized in BaseClass is not getting inherited in PageClass","body":"<p>If you ever want to run tests in parallel (needed for a big suite of tests to run as quickly as possible) then the driver is best initialised in the test class</p>\n<p>If the Page Object classes inherit from the Base class, then pass in the driver during initalisation</p>\n"},{"comments":[{"owner":{"account_id":21808223,"reputation":9,"user_id":16106145,"display_name":"Sandesh"},"score":0,"creation_date":1678711606,"post_id":75721184,"comment_id":133580889,"body_markdown":"It did not work. I am getting the same Null Pointer Exception. java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because &quot;this.driver&quot; is null","body":"It did not work. I am getting the same Null Pointer Exception. java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because &quot;this.driver&quot; is null"}],"tags":[],"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678706407,"creation_date":1678706407,"answer_id":75721184,"question_id":75719899,"body_markdown":"Try using `super()` keyword in the `BaseAuthPages` constructor as below:\r\n\r\n````\r\npublic class BasicAuthPages extends BaseClass {\r\n\r\n//WebDriver driver;\r\npublic BasicAuthPages() {\r\n\t\tsuper();\r\n}\t\r\nBy congratulationMessage = By.xpath(&quot;//p[contains(text(),&#39;Congratulations&#39;)]&quot;);\r\n````\r\n\r\n`super` keyword is used to refer to parent class objects. In your case, to the `BaseClass` objects.","title":"The WebDriver initialized in BaseClass is not getting inherited in PageClass","body":"<p>Try using <code>super()</code> keyword in the <code>BaseAuthPages</code> constructor as below:</p>\n<pre><code>public class BasicAuthPages extends BaseClass {\n\n//WebDriver driver;\npublic BasicAuthPages() {\n        super();\n}   \nBy congratulationMessage = By.xpath(&quot;//p[contains(text(),'Congratulations')]&quot;);\n</code></pre>\n<p><code>super</code> keyword is used to refer to parent class objects. In your case, to the <code>BaseClass</code> objects.</p>\n"},{"comments":[{"owner":{"account_id":21808223,"reputation":9,"user_id":16106145,"display_name":"Sandesh"},"score":0,"creation_date":1679037282,"post_id":75760553,"comment_id":133652161,"body_markdown":"thank you for the comment but can I ask why the driver is initialized in the test class and not thrown as null? Is it because of the TestNG annotations?","body":"thank you for the comment but can I ask why the driver is initialized in the test class and not thrown as null? Is it because of the TestNG annotations?"},{"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"score":0,"creation_date":1679052610,"post_id":75760553,"comment_id":133655840,"body_markdown":"@Sandesh TestNg will call the setUp() Method in Your baseClass annotated with BeforeSuite Annotation and it will initialise the driver but you are not storing the created driver anywhere,Once TestNG is done with this method execution that driver instance is gone","body":"@Sandesh TestNg will call the setUp() Method in Your baseClass annotated with BeforeSuite Annotation and it will initialise the driver but you are not storing the created driver anywhere,Once TestNG is done with this method execution that driver instance is gone"}],"tags":[],"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678992848,"creation_date":1678992848,"answer_id":75760553,"question_id":75719899,"body_markdown":"Make below change so that Driver it is stored as Static will tie it to Class rather Instance of the Class\r\n\r\n    protected WebDriver driver;\r\n   to \r\n\r\n    protected static WebDriver driver;\r\n\r\nWhen you are Inheriting Base class everything will be null as your inheriting the properties of this class ,not the initialisation done in BaseClass by TestNG\r\n\r\n","title":"The WebDriver initialized in BaseClass is not getting inherited in PageClass","body":"<p>Make below change so that Driver it is stored as Static will tie it to Class rather Instance of the Class</p>\n<pre><code>protected WebDriver driver;\n</code></pre>\n<p>to</p>\n<pre><code>protected static WebDriver driver;\n</code></pre>\n<p>When you are Inheriting Base class everything will be null as your inheriting the properties of this class ,not the initialisation done in BaseClass by TestNG</p>\n"}],"owner":{"account_id":21808223,"reputation":9,"user_id":16106145,"display_name":"Sandesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":474,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1678992848,"creation_date":1678699006,"question_id":75719899,"body_markdown":"I am writing a simple Selenium with TestNG code. I have initialized the driver in the Base Class and both the page class and test class are extending base class, however, the driver is not getting inherited in the page class. However, the same driver is getting inherited in the test class. Can someone please explain why this is happening? **Edited: removed the WebDriver driver from the pageclass but it giving the same error :java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because &quot;this.driver&quot; is null**\r\n\r\n**Base Class**\r\n\r\n    public class BaseClass {\r\n\tprotected WebDriver driver;\r\n\tprotected String username;\r\n\tprotected String password;\r\n\tprotected String browserName;\r\n\tprotected String url;\r\n\r\n\t@BeforeSuite\r\n\tpublic void setUp() throws IOException, InterruptedException {\r\n\t\tusername = &quot;admin&quot;;\r\n\t\tpassword = &quot;admin&quot;;\r\n\t\tbrowserName = &quot;chrome&quot;;\r\n\t\turl = &quot;https://practice-cybertekschool.herokuapp.com/&quot;;\r\n\r\n\t\t// get the driver setp and type and the browser\r\n\t\tif (browserName.equalsIgnoreCase(&quot;Chrome&quot;)) {\r\n\t\t\tWebDriverManager.chromedriver().setup();\r\n\t\t\tdriver = new ChromeDriver();\r\n\t\t} else if (browserName.equalsIgnoreCase(&quot;FireFox&quot;)) {\r\n\t\t\tWebDriverManager.firefoxdriver().setup();\r\n\t\t\tdriver = new FirefoxDriver();\r\n\t\t} else if (browserName.equalsIgnoreCase(&quot;Edge&quot;)) {\r\n\t\t\tWebDriverManager.edgedriver().setup();\r\n\t\t\tdriver = new EdgeDriver();\r\n\t\t}\r\n\r\n\t\tdriver.manage().deleteAllCookies();\r\n\t\tdriver.manage().window().maximize();\r\n\r\n\t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\r\n\t\tdriver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(30));\r\n\t\tdriver.get(url);\r\n\r\n\t}\r\n\r\n\t@AfterSuite\r\n\tpublic void tearDown() {\r\n\t\tdriver.quit();\r\n\t}\r\n\r\n    }\r\n\r\n**Page Class**\r\n   \r\n\r\n     public class BasicAuthPages extends BaseClass {\r\n\r\n    \tBy congratulationMessage = By.xpath(&quot;//p[contains(text(),&#39;Congratulations&#39;)]&quot;);\r\n    \t\r\n\r\n\t// for authentication\r\n\tpublic boolean authentication() {\r\n\t\r\n\t\tdriver.get(&quot;https://&quot;+username+&quot;:&quot;+password+&quot;@practice-cybertekschool.herokuapp.com/basic_auth&quot;);\r\n\t\treturn authenticationMessage();\r\n\t}\r\n\r\n\t// to get authentication message\r\n\tprivate boolean authenticationMessage() {\r\n\t\tString message = driver.findElement(congratulationMessage).getText();\r\n\t\t//System.out.println(message);\r\n\t\tif (message.equals(&quot;Congratulations! You must have the proper credentials.&quot;)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\telse {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n    }\r\n\r\n\r\n**Test Class**\r\n\r\n    public class Tests extends BaseClass {\r\n    \tBasicAuthPages basicAuthPages;\r\n    \t\r\n\r\n\t@Test\r\n\tpublic void authTest() {\r\n\t\tbasicAuthPages = new BasicAuthPages();\r\n\t\tBoolean success = basicAuthPages.authentication();\r\n\t\t// System.out.println(username+&quot; :&quot;+password);\r\n\t\tAssert.assertTrue(success);\r\n\t}\r\n    }\r\n\r\nOn running this, it gives java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because &quot;this.driver&quot; is null exception. However, the driver gets initialized in Test class and if I make the following changes, it runs. \r\n\r\n**Base Class**\r\n\r\n    public class BaseClass {\r\n\tprotected WebDriver driver;\r\n\tprotected String username;\r\n\tprotected String password;\r\n\tprotected String browserName;\r\n\tprotected String url;\r\n\r\n\t@BeforeSuite\r\n\tpublic void setUp() throws IOException, InterruptedException {\r\n\t\tusername = &quot;admin&quot;;\r\n\t\tpassword = &quot;admin&quot;;\r\n\t\tbrowserName = &quot;chrome&quot;;\r\n\t\turl = &quot;https://practice-cybertekschool.herokuapp.com/&quot;;\r\n\r\n\t\t// get the driver setp and type and the browser\r\n\t\tif (browserName.equalsIgnoreCase(&quot;Chrome&quot;)) {\r\n\t\t\tWebDriverManager.chromedriver().setup();\r\n\t\t\tdriver = new ChromeDriver();\r\n\t\t} else if (browserName.equalsIgnoreCase(&quot;FireFox&quot;)) {\r\n\t\t\tWebDriverManager.firefoxdriver().setup();\r\n\t\t\tdriver = new FirefoxDriver();\r\n\t\t} else if (browserName.equalsIgnoreCase(&quot;Edge&quot;)) {\r\n\t\t\tWebDriverManager.edgedriver().setup();\r\n\t\t\tdriver = new EdgeDriver();\r\n\t\t}\r\n\r\n\t\tdriver.manage().deleteAllCookies();\r\n\t\tdriver.manage().window().maximize();\r\n\r\n\t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\r\n\t\tdriver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(30));\r\n\t\tdriver.get(url);\r\n\r\n\t}\r\n\r\n\t@AfterSuite\r\n\tpublic void tearDown() {\r\n\t\tdriver.quit();\r\n\t}\r\n}\r\n\r\n**Page Class**\r\n\r\n    public class BasicAuthPages extends BaseClass {\r\n\tWebDriver driver;\r\n\tBy congratulationMessage = By.xpath(&quot;//p[contains(text(),&#39;Congratulations&#39;)]&quot;);\r\n\r\n\tpublic BasicAuthPages(WebDriver driver) {\r\n\t\tthis.driver = driver;\r\n\t}\r\n\r\n\t// for authentication\r\n\tpublic boolean authentication(String username, String password) {\r\n\t\tdriver.get(&quot;https://&quot;+username+&quot;:&quot;+password+&quot;@practice-cybertekschool.herokuapp.com/basic_auth&quot;);\r\n\t\treturn authenticationMessage();\r\n\t}\r\n\r\n\t// to get authentication message\r\n\tprivate boolean authenticationMessage() {\r\n\t\tString message = driver.findElement(congratulationMessage).getText();\r\n\t\t//System.out.println(message);\r\n\t\tif (message.equals(&quot;Congratulations! You must have the proper credentials.&quot;)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\telse {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n    }\r\n\r\n**Test Class**\r\n\r\n    public class Tests extends BaseClass {\r\n\tBasicAuthPages basicAuthPages;\r\n\tCheckBoxPages checkBoxPages;\r\n\r\n\t@Test\r\n\tpublic void authTest() {\r\n\t\tbasicAuthPages = new BasicAuthPages(driver);\r\n\t\tBoolean success = basicAuthPages.authentication(username, password);\r\n\t\t// System.out.println(username+&quot; :&quot;+password);\r\n\t\tAssert.assertTrue(success);\r\n\t}\r\n    }\r\n**Please someone explain me why the driver is not getting inherited in the first case? The driver gets inherited in the second one where it gets inherited in the test class and why not on the first one on the page class? Thank you in advance** \r\n ","title":"The WebDriver initialized in BaseClass is not getting inherited in PageClass","body":"<p>I am writing a simple Selenium with TestNG code. I have initialized the driver in the Base Class and both the page class and test class are extending base class, however, the driver is not getting inherited in the page class. However, the same driver is getting inherited in the test class. Can someone please explain why this is happening? <strong>Edited: removed the WebDriver driver from the pageclass but it giving the same error :java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because &quot;this.driver&quot; is null</strong></p>\n<p><strong>Base Class</strong></p>\n<pre><code>public class BaseClass {\nprotected WebDriver driver;\nprotected String username;\nprotected String password;\nprotected String browserName;\nprotected String url;\n\n@BeforeSuite\npublic void setUp() throws IOException, InterruptedException {\n    username = &quot;admin&quot;;\n    password = &quot;admin&quot;;\n    browserName = &quot;chrome&quot;;\n    url = &quot;https://practice-cybertekschool.herokuapp.com/&quot;;\n\n    // get the driver setp and type and the browser\n    if (browserName.equalsIgnoreCase(&quot;Chrome&quot;)) {\n        WebDriverManager.chromedriver().setup();\n        driver = new ChromeDriver();\n    } else if (browserName.equalsIgnoreCase(&quot;FireFox&quot;)) {\n        WebDriverManager.firefoxdriver().setup();\n        driver = new FirefoxDriver();\n    } else if (browserName.equalsIgnoreCase(&quot;Edge&quot;)) {\n        WebDriverManager.edgedriver().setup();\n        driver = new EdgeDriver();\n    }\n\n    driver.manage().deleteAllCookies();\n    driver.manage().window().maximize();\n\n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\n    driver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(30));\n    driver.get(url);\n\n}\n\n@AfterSuite\npublic void tearDown() {\n    driver.quit();\n}\n\n}\n</code></pre>\n<p><strong>Page Class</strong></p>\n<pre><code> public class BasicAuthPages extends BaseClass {\n\n    By congratulationMessage = By.xpath(&quot;//p[contains(text(),'Congratulations')]&quot;);\n    \n\n// for authentication\npublic boolean authentication() {\n\n    driver.get(&quot;https://&quot;+username+&quot;:&quot;+password+&quot;@practice-cybertekschool.herokuapp.com/basic_auth&quot;);\n    return authenticationMessage();\n}\n\n// to get authentication message\nprivate boolean authenticationMessage() {\n    String message = driver.findElement(congratulationMessage).getText();\n    //System.out.println(message);\n    if (message.equals(&quot;Congratulations! You must have the proper credentials.&quot;)) {\n        return true;\n    }\n\n    else {\n        return false;\n    }\n}\n\n}\n</code></pre>\n<p><strong>Test Class</strong></p>\n<pre><code>public class Tests extends BaseClass {\n    BasicAuthPages basicAuthPages;\n    \n\n@Test\npublic void authTest() {\n    basicAuthPages = new BasicAuthPages();\n    Boolean success = basicAuthPages.authentication();\n    // System.out.println(username+&quot; :&quot;+password);\n    Assert.assertTrue(success);\n}\n}\n</code></pre>\n<p>On running this, it gives java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because &quot;this.driver&quot; is null exception. However, the driver gets initialized in Test class and if I make the following changes, it runs.</p>\n<p><strong>Base Class</strong></p>\n<pre><code>public class BaseClass {\nprotected WebDriver driver;\nprotected String username;\nprotected String password;\nprotected String browserName;\nprotected String url;\n\n@BeforeSuite\npublic void setUp() throws IOException, InterruptedException {\n    username = &quot;admin&quot;;\n    password = &quot;admin&quot;;\n    browserName = &quot;chrome&quot;;\n    url = &quot;https://practice-cybertekschool.herokuapp.com/&quot;;\n\n    // get the driver setp and type and the browser\n    if (browserName.equalsIgnoreCase(&quot;Chrome&quot;)) {\n        WebDriverManager.chromedriver().setup();\n        driver = new ChromeDriver();\n    } else if (browserName.equalsIgnoreCase(&quot;FireFox&quot;)) {\n        WebDriverManager.firefoxdriver().setup();\n        driver = new FirefoxDriver();\n    } else if (browserName.equalsIgnoreCase(&quot;Edge&quot;)) {\n        WebDriverManager.edgedriver().setup();\n        driver = new EdgeDriver();\n    }\n\n    driver.manage().deleteAllCookies();\n    driver.manage().window().maximize();\n\n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\n    driver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(30));\n    driver.get(url);\n\n}\n\n@AfterSuite\npublic void tearDown() {\n    driver.quit();\n}\n</code></pre>\n<p>}</p>\n<p><strong>Page Class</strong></p>\n<pre><code>public class BasicAuthPages extends BaseClass {\nWebDriver driver;\nBy congratulationMessage = By.xpath(&quot;//p[contains(text(),'Congratulations')]&quot;);\n\npublic BasicAuthPages(WebDriver driver) {\n    this.driver = driver;\n}\n\n// for authentication\npublic boolean authentication(String username, String password) {\n    driver.get(&quot;https://&quot;+username+&quot;:&quot;+password+&quot;@practice-cybertekschool.herokuapp.com/basic_auth&quot;);\n    return authenticationMessage();\n}\n\n// to get authentication message\nprivate boolean authenticationMessage() {\n    String message = driver.findElement(congratulationMessage).getText();\n    //System.out.println(message);\n    if (message.equals(&quot;Congratulations! You must have the proper credentials.&quot;)) {\n        return true;\n    }\n\n    else {\n        return false;\n    }\n}\n\n}\n</code></pre>\n<p><strong>Test Class</strong></p>\n<pre><code>public class Tests extends BaseClass {\nBasicAuthPages basicAuthPages;\nCheckBoxPages checkBoxPages;\n\n@Test\npublic void authTest() {\n    basicAuthPages = new BasicAuthPages(driver);\n    Boolean success = basicAuthPages.authentication(username, password);\n    // System.out.println(username+&quot; :&quot;+password);\n    Assert.assertTrue(success);\n}\n}\n</code></pre>\n<p><strong>Please someone explain me why the driver is not getting inherited in the first case? The driver gets inherited in the second one where it gets inherited in the test class and why not on the first one on the page class? Thank you in advance</strong></p>\n"},{"tags":["java","gradle","annotation-processing","ecj"],"comments":[{"owner":{"account_id":459879,"reputation":17931,"user_id":860630,"display_name":"Colin Alworth"},"score":0,"creation_date":1679089086,"post_id":75760483,"comment_id":133664931,"body_markdown":"It looks like `my.AnnotationProcessor` doesnt have a public no-args constructor - if this isn&#39;t the case, can you share its contents?","body":"It looks like <code>my.AnnotationProcessor</code> doesnt have a public no-args constructor - if this isn&#39;t the case, can you share its contents?"},{"owner":{"account_id":1531936,"reputation":349,"user_id":1428945,"accept_rate":64,"display_name":"user1428945"},"score":0,"creation_date":1679090640,"post_id":75760483,"comment_id":133665184,"body_markdown":"I did add a public no-arg constructor to `my.AnnotationProcessor`, it did not fix the error.","body":"I did add a public no-arg constructor to <code>my.AnnotationProcessor</code>, it did not fix the error."},{"owner":{"account_id":459879,"reputation":17931,"user_id":860630,"display_name":"Colin Alworth"},"score":0,"creation_date":1679106892,"post_id":75760483,"comment_id":133666820,"body_markdown":"Sharing the code is going to help in looking for other issues, or reproducing the issue to make concrete suggestions. The `--add-opens` is not required by other annotation processors, so it shouldn&#39;t be needed here, and other annotation processors don&#39;t require it. I think this is less likely to help, but perhaps share the rest of the dependency setup as well (since it seems missing)?","body":"Sharing the code is going to help in looking for other issues, or reproducing the issue to make concrete suggestions. The <code>--add-opens</code> is not required by other annotation processors, so it shouldn&#39;t be needed here, and other annotation processors don&#39;t require it. I think this is less likely to help, but perhaps share the rest of the dependency setup as well (since it seems missing)?"}],"owner":{"account_id":1531936,"reputation":349,"user_id":1428945,"accept_rate":64,"display_name":"user1428945"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678992392,"creation_date":1678992392,"question_id":75760483,"body_markdown":"I&#39;m trying to compile a gradle project with the ECJ compiler.  I have an annotation processor in one of the projects, that the other projects depend on.\r\n\r\nWhen ECJ attempts to run the annotation processor, it produces this error:\r\n\r\n```\r\n1. ERROR in C:\\...\\MyClass.java (at line 0)\r\n        package my.package;\r\n        ^\r\nInternal compiler error: java.util.ServiceConfigurationError: javax.annotation.processing.Processor: my.AnnotationProcessor Unable to get public no-arg constructor at java.base/java.util.ServiceLoader.fail(ServiceLoader.java:582)\r\n```\r\n\r\nI tried adding a public, no-arg constructor to the annotation processor and it didn&#39;t fix the error.  I also tried adding **--add-opens java.base/java.util=ALL-UNNAMED** to the commandline arguments, that also did not work.  \r\n\r\nThis is the gradle configuration:\r\n\r\n```\r\nconfigurations {\r\n    ecj\r\n}\r\ndependencies {\r\n    ecj &#39;org.eclipse.jdt:ecj:3.25.0&#39;\r\n}\r\ntasks.withType(JavaCompile) {\r\n    options.headerOutputDirectory.convention(null) //To stop gradle from passing in -h, which ecj doesn&#39;t recognize\r\n}\r\ncompileJava {\r\n    options.fork = true\r\n    options.forkOptions.with {\r\n    executable = &#39;java&#39;\r\n    jvmArgs = [&#39;-classpath&#39;, project.configurations.ecj.asPath, &#39;--add-opens&#39;, &#39;java.base/java.util=ALL-UNNAMED&#39;, &#39;org.eclipse.jdt.internal.compiler.batch.Main&#39;]\r\n    }\r\n}\r\n```\r\n\r\n","title":"Gradle annotation processor with ECJ compiler produces &quot;Unable to get public no-arg constructor&quot; error","body":"<p>I'm trying to compile a gradle project with the ECJ compiler.  I have an annotation processor in one of the projects, that the other projects depend on.</p>\n<p>When ECJ attempts to run the annotation processor, it produces this error:</p>\n<pre><code>1. ERROR in C:\\...\\MyClass.java (at line 0)\n        package my.package;\n        ^\nInternal compiler error: java.util.ServiceConfigurationError: javax.annotation.processing.Processor: my.AnnotationProcessor Unable to get public no-arg constructor at java.base/java.util.ServiceLoader.fail(ServiceLoader.java:582)\n</code></pre>\n<p>I tried adding a public, no-arg constructor to the annotation processor and it didn't fix the error.  I also tried adding <strong>--add-opens java.base/java.util=ALL-UNNAMED</strong> to the commandline arguments, that also did not work.</p>\n<p>This is the gradle configuration:</p>\n<pre><code>configurations {\n    ecj\n}\ndependencies {\n    ecj 'org.eclipse.jdt:ecj:3.25.0'\n}\ntasks.withType(JavaCompile) {\n    options.headerOutputDirectory.convention(null) //To stop gradle from passing in -h, which ecj doesn't recognize\n}\ncompileJava {\n    options.fork = true\n    options.forkOptions.with {\n    executable = 'java'\n    jvmArgs = ['-classpath', project.configurations.ecj.asPath, '--add-opens', 'java.base/java.util=ALL-UNNAMED', 'org.eclipse.jdt.internal.compiler.batch.Main']\n    }\n}\n</code></pre>\n"},{"tags":["java","android","grpc","runtimeexception","clarifai"],"owner":{"account_id":28020964,"reputation":1207,"user_id":21401783,"display_name":"Dinux"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678992182,"creation_date":1678990087,"question_id":75760094,"body_markdown":"I am building an Android app to predict objects in an image. I am using the Clarifai gRPC Java client for the purpose. However, I am getting a RuntimeException: An error occurred while executing doInBackground(). \r\n\r\nMy code:\r\n\r\n```\r\npublic class ClarifaiTask extends AsyncTask&lt;File, Integer, Boolean&gt; {\r\n\r\n    protected Boolean doInBackground(File... images) {\r\n        Security.insertProviderAt(Conscrypt.newProvider(), 1);\r\n\r\n        V2Grpc.V2BlockingStub stub = V2Grpc.newBlockingStub(ClarifaiChannel.INSTANCE.getGrpcChannel()).withCallCredentials(new ClarifaiCallCredentials(API_KEY));\r\n\r\n        MultiOutputResponse response = stub.postModelOutputs(PostModelOutputsRequest.newBuilder().setModelId(MODEL_ID).addInputs(Input.newBuilder().setData(Data.newBuilder().setImage(Image.newBuilder().setUrl(IMG_URL)))).build());\r\n\r\n        if (response.getStatus().getCode() != StatusCode.SUCCESS) {\r\n            throw new RuntimeException(&quot;Request failed, status: &quot; + response.getStatus());\r\n        }\r\n\r\n        for (Concept c : response.getOutputs(0).getData().getConceptsList()) {\r\n            System.out.println(String.format(&quot;%12s: %,.2f&quot;, c.getName(), c.getValue()));\r\n        }\r\n\r\n        return true;\r\n    }\r\n    protected void onPostExecute(Boolean result) {\r\n        \r\n    }\r\n}\r\n```\r\n\r\n\r\nMy error:\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: AsyncTask #1\r\n    Process: com.package.name, PID: 5221\r\n    java.lang.RuntimeException: An error occurred while executing doInBackground()\r\n        at android.os.AsyncTask$4.done(AsyncTask.java:415)\r\n        at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:381)\r\n        at java.util.concurrent.FutureTask.setException(FutureTask.java:250)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:269)\r\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\r\n        at java.lang.Thread.run(Thread.java:1012)\r\n     Caused by: java.lang.RuntimeException: Request failed, status: code: FAILURE\r\n    description: &quot;Failure&quot;\r\n    req_id: &quot;dc2dbb8c4460e2b7e25a6bf9304ad582&quot;\r\n    \r\n        at com.package.name.ClarifaiTask.doInBackground(ClarifaiTask.java:65)\r\n        at com.package.name.ClarifaiTask.doInBackground(ClarifaiTask.java:37)\r\n        at android.os.AsyncTask$3.call(AsyncTask.java:394)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n```\r\nAny help would be appreciated.","title":"Clarifai gRPC Java client throwing RuntimeException: An error occurred while executing doInBackground()","body":"<p>I am building an Android app to predict objects in an image. I am using the Clarifai gRPC Java client for the purpose. However, I am getting a RuntimeException: An error occurred while executing doInBackground().</p>\n<p>My code:</p>\n<pre><code>public class ClarifaiTask extends AsyncTask&lt;File, Integer, Boolean&gt; {\n\n    protected Boolean doInBackground(File... images) {\n        Security.insertProviderAt(Conscrypt.newProvider(), 1);\n\n        V2Grpc.V2BlockingStub stub = V2Grpc.newBlockingStub(ClarifaiChannel.INSTANCE.getGrpcChannel()).withCallCredentials(new ClarifaiCallCredentials(API_KEY));\n\n        MultiOutputResponse response = stub.postModelOutputs(PostModelOutputsRequest.newBuilder().setModelId(MODEL_ID).addInputs(Input.newBuilder().setData(Data.newBuilder().setImage(Image.newBuilder().setUrl(IMG_URL)))).build());\n\n        if (response.getStatus().getCode() != StatusCode.SUCCESS) {\n            throw new RuntimeException(&quot;Request failed, status: &quot; + response.getStatus());\n        }\n\n        for (Concept c : response.getOutputs(0).getData().getConceptsList()) {\n            System.out.println(String.format(&quot;%12s: %,.2f&quot;, c.getName(), c.getValue()));\n        }\n\n        return true;\n    }\n    protected void onPostExecute(Boolean result) {\n        \n    }\n}\n</code></pre>\n<p>My error:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: AsyncTask #1\n    Process: com.package.name, PID: 5221\n    java.lang.RuntimeException: An error occurred while executing doInBackground()\n        at android.os.AsyncTask$4.done(AsyncTask.java:415)\n        at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:381)\n        at java.util.concurrent.FutureTask.setException(FutureTask.java:250)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:269)\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\n        at java.lang.Thread.run(Thread.java:1012)\n     Caused by: java.lang.RuntimeException: Request failed, status: code: FAILURE\n    description: &quot;Failure&quot;\n    req_id: &quot;dc2dbb8c4460e2b7e25a6bf9304ad582&quot;\n    \n        at com.package.name.ClarifaiTask.doInBackground(ClarifaiTask.java:65)\n        at com.package.name.ClarifaiTask.doInBackground(ClarifaiTask.java:37)\n        at android.os.AsyncTask$3.call(AsyncTask.java:394)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:264)\n</code></pre>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","string","split","collections"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":2,"creation_date":1678988958,"post_id":75759857,"comment_id":133644284,"body_markdown":"You are looking for [String.indexOf()](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#indexOf(int)) and [String.lastIndexOf()](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#lastIndexOf(int)).","body":"You are looking for <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#indexOf(int)\" rel=\"nofollow noreferrer\">String.indexOf()</a> and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#lastIndexOf(int)\" rel=\"nofollow noreferrer\">String.lastIndexOf()</a>."},{"owner":{"account_id":18822418,"reputation":1,"user_id":13728117,"display_name":"Savaant"},"score":1,"creation_date":1678989384,"post_id":75759857,"comment_id":133644406,"body_markdown":"[This link](https://stackoverflow.com/questions/56411197/how-to-pull-from-a-string-into-first-middle-and-last-name-and-how-to-recogniz) might be of use to your particular case.","body":"<a href=\"https://stackoverflow.com/questions/56411197/how-to-pull-from-a-string-into-first-middle-and-last-name-and-how-to-recogniz\">This link</a> might be of use to your particular case."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1678989821,"post_id":75759857,"comment_id":133644523,"body_markdown":"Mandatory read: [Falsehoods Programmers Believe About Names](https://www.kalzumeus.com/2010/06/17/falsehoods-programmers-believe-about-names/)","body":"Mandatory read: <a href=\"https://www.kalzumeus.com/2010/06/17/falsehoods-programmers-believe-about-names/\" rel=\"nofollow noreferrer\">Falsehoods Programmers Believe About Names</a>"},{"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"score":0,"creation_date":1678990996,"post_id":75759857,"comment_id":133644877,"body_markdown":"What about &quot;Joe Michael Parker Jr&quot;, is the last name &quot;Jr&quot;?","body":"What about &quot;Joe Michael Parker Jr&quot;, is the last name &quot;Jr&quot;?"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1678995672,"post_id":75759857,"comment_id":133646046,"body_markdown":"`name = name.substring(0, name.indexOf(&quot; &quot;)) + name.substring(name.lastIndexOf(&quot; &quot;));`","body":"<code>name = name.substring(0, name.indexOf(&quot; &quot;)) + name.substring(name.lastIndexOf(&quot; &quot;));</code>"}],"answers":[{"tags":[],"owner":{"account_id":17247129,"reputation":28,"user_id":12488111,"display_name":"KuNet"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678989396,"creation_date":1678989396,"answer_id":75759981,"question_id":75759857,"body_markdown":"As Chaosfire has stated, it&#39;s possible to use `String.indexOf()` and `String.lastIndexOf()` to search for where the first and last spaces are. After that, it&#39;s just a matter of using those indexes to break the original string into substrings.\r\n\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        String name = &quot;Enrico \\&quot;The Goat\\&quot; Fermi&quot;;\r\n        int firstBreak = name.indexOf(&quot; &quot;);\r\n        int lastBreak = name.lastIndexOf(&quot; &quot;);\r\n\r\n        System.out.println(name.substring(0, firstBreak)); // first name\r\n        System.out.println(name.substring(firstBreak + 1, lastBreak)); // middle name\r\n        System.out.println(name.substring(lastBreak + 1)); // last name\r\n    }\r\n}\r\n```","title":"Java string splitting issue","body":"<p>As Chaosfire has stated, it's possible to use <code>String.indexOf()</code> and <code>String.lastIndexOf()</code> to search for where the first and last spaces are. After that, it's just a matter of using those indexes to break the original string into substrings.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        String name = &quot;Enrico \\&quot;The Goat\\&quot; Fermi&quot;;\n        int firstBreak = name.indexOf(&quot; &quot;);\n        int lastBreak = name.lastIndexOf(&quot; &quot;);\n\n        System.out.println(name.substring(0, firstBreak)); // first name\n        System.out.println(name.substring(firstBreak + 1, lastBreak)); // middle name\n        System.out.println(name.substring(lastBreak + 1)); // last name\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28035253,"reputation":3,"user_id":21413761,"display_name":"user21413761"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75759981,"answer_count":1,"score":0,"last_activity_date":1678991805,"creation_date":1678988689,"question_id":75759857,"body_markdown":"String name = &quot;Chris Mike Soloman Miller Cooper&quot;;\r\nI want to split this string to firstname=(first word), lastname=(last word), middlename=(remaining all words). how can I do it without using for loop. Any java 8 feature to implement here ?\r\nDesired ans:\r\nfirstname = Chris, lastname = Cooper, middlename = Mike Soloman Miller\r\nI have tried this but I don&#39;t want to use for loop.\r\n\r\n    String name = &quot;Chris Mike Soloman Miller Cooper&quot;;\r\n    String [] fullName = name.split(&quot; &quot;);\r\n    String firstName = fullName[0];\r\n    String lastName = fullName[fullName.length-1];\r\n    StringBuilder middleName = new StringBuilder();\r\n    for(int i=1; i&lt;fullName.length-1; i++) {\r\n\t    middleName.append(fullName[i]);\r\n\t    middleName.append(&quot; &quot;);\r\n    }\r\n   String middleName = \r\n    String.valueOf(middleName.toString().trim());","title":"Java string splitting issue","body":"<p>String name = &quot;Chris Mike Soloman Miller Cooper&quot;;\nI want to split this string to firstname=(first word), lastname=(last word), middlename=(remaining all words). how can I do it without using for loop. Any java 8 feature to implement here ?\nDesired ans:\nfirstname = Chris, lastname = Cooper, middlename = Mike Soloman Miller\nI have tried this but I don't want to use for loop.</p>\n<pre><code>String name = &quot;Chris Mike Soloman Miller Cooper&quot;;\nString [] fullName = name.split(&quot; &quot;);\nString firstName = fullName[0];\nString lastName = fullName[fullName.length-1];\nStringBuilder middleName = new StringBuilder();\nfor(int i=1; i&lt;fullName.length-1; i++) {\n    middleName.append(fullName[i]);\n    middleName.append(&quot; &quot;);\n}\n</code></pre>\n<p>String middleName =\nString.valueOf(middleName.toString().trim());</p>\n"},{"tags":["java","spring","spring-boot","hardcode"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1678985556,"post_id":75758791,"comment_id":133643264,"body_markdown":"I don&#39;t understand the reason it needs to be threadsafe. All classes and instances are to share the same value. Also the value that is visible to all threads should change at the same time.","body":"I don&#39;t understand the reason it needs to be threadsafe. All classes and instances are to share the same value. Also the value that is visible to all threads should change at the same time."},{"owner":{"account_id":14742273,"reputation":81,"user_id":10646656,"display_name":"asdasasd"},"score":0,"creation_date":1678985844,"post_id":75758791,"comment_id":133643353,"body_markdown":"@JohnWilliams yes, should change at same time. So, it needs to be thread safe? Can i use static?","body":"@JohnWilliams yes, should change at same time. So, it needs to be thread safe? Can i use static?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1678986292,"post_id":75758791,"comment_id":133643482,"body_markdown":"Yes, use a static. neededString does **not** need to be thread safe, it needs to be the opposite.","body":"Yes, use a static. neededString does <b>not</b> need to be thread safe, it needs to be the opposite."},{"owner":{"account_id":14742273,"reputation":81,"user_id":10646656,"display_name":"asdasasd"},"score":0,"creation_date":1678989299,"post_id":75758791,"comment_id":133644380,"body_markdown":"@JohnWilliams static string and initialize with postconstruct?","body":"@JohnWilliams static string and initialize with postconstruct?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1678989699,"post_id":75758791,"comment_id":133644493,"body_markdown":"Yes, if it needs initialisation logic.","body":"Yes, if it needs initialisation logic."},{"owner":{"account_id":14742273,"reputation":81,"user_id":10646656,"display_name":"asdasasd"},"score":0,"creation_date":1678990583,"post_id":75758791,"comment_id":133644755,"body_markdown":"@JohnWilliams methodSome() needs to use that variable. Both class needs that variable so at first, it needs to be initialized at somewhere. Maybe at another bean or postconstruct are the options i think.","body":"@JohnWilliams methodSome() needs to use that variable. Both class needs that variable so at first, it needs to be initialized at somewhere. Maybe at another bean or postconstruct are the options i think."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678991232,"creation_date":1678991232,"answer_id":75760278,"question_id":75758791,"body_markdown":"This is first class:\r\n\r\n    @Service\r\n    public class ServiceA{\r\n    \r\n    @Autowired\r\n    ServiceB serviceB;\r\n    \r\n    public static String neededString;\r\n\r\n    @PostConstruct\r\n    public void setupNeededString() {\r\n        neededString = “”;\r\n    }\r\n   \r\n    public void methodSome(){\r\n    //uses neededString\r\n    }\r\n    \r\n    }\r\n\r\nThis is second\r\n\r\n    @Service\r\n    public class ServiceB{\r\n    \r\n    \r\n    \r\n    public void methodSome(){\r\n    //uses ServiceA.neededString\r\n    }\r\n    }\r\n\r\n","title":"Best way to initialize a variable and use it in 2 service classes in java , as thread safe","body":"<p>This is first class:</p>\n<pre><code>@Service\npublic class ServiceA{\n\n@Autowired\nServiceB serviceB;\n\npublic static String neededString;\n\n@PostConstruct\npublic void setupNeededString() {\n    neededString = “”;\n}\n\npublic void methodSome(){\n//uses neededString\n}\n\n}\n</code></pre>\n<p>This is second</p>\n<pre><code>@Service\npublic class ServiceB{\n\n\n\npublic void methodSome(){\n//uses ServiceA.neededString\n}\n}\n</code></pre>\n"}],"owner":{"account_id":14742273,"reputation":81,"user_id":10646656,"display_name":"asdasasd"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1678991232,"creation_date":1678982910,"question_id":75758791,"body_markdown":"\r\nThis is first class:\r\n\r\n    @Service\r\n    public class ServiceA{\r\n    \r\n    @Autowired\r\n    ServiceB serviceB;\r\n    \r\n    String neededString;\r\n    \r\n    public void methodSome(){\r\n    //uses neededString\r\n    }\r\n    \r\n    }\r\n\r\nThis is second\r\n\r\n    @Service\r\n    public class ServiceB{\r\n    \r\n    String neededString;\r\n    \r\n    public void methodSome(){\r\n    //uses neededString\r\n    }\r\n    }\r\n\r\nand i need to get the variable from another service:\r\n\r\n    neededString = thirdServiceToReturn();\r\n\r\n\r\nBoth classes need that **neededString** variable to do their own methods. I can get from 3. service in the method seperately or i can get with **PostConstruct** for each class.\r\n\r\nBut i want to get from a common place for both classes. Maybe from 2. class . I can try **static** but it wont be thread safe i guess.\r\n\r\nThe variable wont change for months maybe. It takes some values and returns from database. After some deploy, it can change so, it should get new one at some point.\r\n\r\nI use `Spring Boot` also. What do you suggest?\r\n\r\nMaybe a `Constant` class with `@Bean` and do the initializing there and then `Autowired` to second class? Like that:\r\nhttps://stackoverflow.com/questions/59559302/is-there-any-way-to-pass-autowired-variable-to-some-other-class-in-a-spring-boo\r\n\r\nThe variable will change in future. It is reading from database, which is derived with @cached so it will read from cache until the application is restarted or is deployed. Variable needs to be parametric, not hardcoded.\r\n\r\n`Static variable` is not thread safe. I want to reach the solution. Thread safe.","title":"Best way to initialize a variable and use it in 2 service classes in java , as thread safe","body":"<p>This is first class:</p>\n<pre><code>@Service\npublic class ServiceA{\n\n@Autowired\nServiceB serviceB;\n\nString neededString;\n\npublic void methodSome(){\n//uses neededString\n}\n\n}\n</code></pre>\n<p>This is second</p>\n<pre><code>@Service\npublic class ServiceB{\n\nString neededString;\n\npublic void methodSome(){\n//uses neededString\n}\n}\n</code></pre>\n<p>and i need to get the variable from another service:</p>\n<pre><code>neededString = thirdServiceToReturn();\n</code></pre>\n<p>Both classes need that <strong>neededString</strong> variable to do their own methods. I can get from 3. service in the method seperately or i can get with <strong>PostConstruct</strong> for each class.</p>\n<p>But i want to get from a common place for both classes. Maybe from 2. class . I can try <strong>static</strong> but it wont be thread safe i guess.</p>\n<p>The variable wont change for months maybe. It takes some values and returns from database. After some deploy, it can change so, it should get new one at some point.</p>\n<p>I use <code>Spring Boot</code> also. What do you suggest?</p>\n<p>Maybe a <code>Constant</code> class with <code>@Bean</code> and do the initializing there and then <code>Autowired</code> to second class? Like that:\n<a href=\"https://stackoverflow.com/questions/59559302/is-there-any-way-to-pass-autowired-variable-to-some-other-class-in-a-spring-boo\">Is there any way to pass @Autowired variable to some other class in a Spring Boot application?</a></p>\n<p>The variable will change in future. It is reading from database, which is derived with @cached so it will read from cache until the application is restarted or is deployed. Variable needs to be parametric, not hardcoded.</p>\n<p><code>Static variable</code> is not thread safe. I want to reach the solution. Thread safe.</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1678999511,"post_id":75760217,"comment_id":133646904,"body_markdown":"`BoundStatement` vs `BatchStatement` looks suspicious.","body":"<code>BoundStatement</code> vs <code>BatchStatement</code> looks suspicious."},{"owner":{"account_id":24256934,"reputation":47,"user_id":18207142,"display_name":"Cris Manrique"},"score":0,"creation_date":1679005251,"post_id":75760217,"comment_id":133648127,"body_markdown":"Yup that was it lol. Thank you","body":"Yup that was it lol. Thank you"}],"owner":{"account_id":24256934,"reputation":47,"user_id":18207142,"display_name":"Cris Manrique"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678990899,"creation_date":1678990899,"question_id":75760217,"body_markdown":"I&#39;m trying to create some junits for a dao class using junit5, but i keep getting an NPE. Below is my junit. \r\n\r\n``` @Test\r\n  void saveObject) throws ParseException, TimeoutException, ExecutionException, InterruptedException {\r\n    Object rec16 = getRec16_3();\r\n    Mockito.when(cassandraSession.getOrCreateStatement(any(String.class)))\r\n        .thenReturn(preparedStatement);\r\n    Mockito.when(preparedStatement.bind()).thenReturn(boundStatement);\r\n    Mockito.when(boundStatement.setString(anyInt(), any(String.class))).thenReturn(boundStatement);\r\n    Mockito.when(boundStatement.setTimestamp(anyInt(), any(Date.class))).thenReturn(boundStatement);\r\n    Mockito.when(boundStatement.setLong(anyInt(), anyLong())).thenReturn(boundStatement);\r\n    Mockito.when(boundStatement.setDouble(anyInt(), any(Double.class))).thenReturn(boundStatement);\r\n    Mockito.when(boundStatement.setInt(anyInt(), anyInt())).thenReturn(boundStatement);\r\n    Mockito.when(cassandraSuppSession.getCassandraSession()).thenReturn(session);\r\n    Mockito.when(session.executeAsync(any(BoundStatement.class))).thenReturn(resultSetFuture);\r\n    Mockito.when(resultSetFuture.getUninterruptibly(anyLong(), any(TimeUnit.class))).thenReturn(resultSet);\r\n    objectDao.saveObject(rec16);\r\n  }\r\n```\r\nAnd the part where it&#39;s failing is in the below method on ```getUninterruptibly(CASSANDRA_QUERY_WAIT_IN_SECONDS, TimeUnit.SECONDS);```\r\n\r\n```\r\nprivate void executeBatch(BatchStatement objectBatch, String tableName) {\r\n    try {\r\n      cassandraSuppSession\r\n          .getCassandraSession()\r\n          .executeAsync(objectBatch)\r\n          .getUninterruptibly(CASSANDRA_QUERY_WAIT_IN_SECONDS, TimeUnit.SECONDS);\r\n    } catch (TimeoutException e) {\r\n      throw new RuntimeException(&quot;Exception inserting into &quot; + tableName, e);\r\n    } finally {\r\n      objectBatch.clear();\r\n    }\r\n  }\r\n```\r\nTurning the ```executeAsync``` call into a synchronous call (```execute```) and removing the ```getUinterruptibly``` method allows the junit to run successfully. So i know my issue is within this block, but no idea how to resolve it. I do want to keep the async call instead of switching to a sync call. Any ideas?\r\n","title":"How to resolve an NPE during mock of resultSet.getUninterruptibly","body":"<p>I'm trying to create some junits for a dao class using junit5, but i keep getting an NPE. Below is my junit.</p>\n<pre><code>  void saveObject) throws ParseException, TimeoutException, ExecutionException, InterruptedException {\n    Object rec16 = getRec16_3();\n    Mockito.when(cassandraSession.getOrCreateStatement(any(String.class)))\n        .thenReturn(preparedStatement);\n    Mockito.when(preparedStatement.bind()).thenReturn(boundStatement);\n    Mockito.when(boundStatement.setString(anyInt(), any(String.class))).thenReturn(boundStatement);\n    Mockito.when(boundStatement.setTimestamp(anyInt(), any(Date.class))).thenReturn(boundStatement);\n    Mockito.when(boundStatement.setLong(anyInt(), anyLong())).thenReturn(boundStatement);\n    Mockito.when(boundStatement.setDouble(anyInt(), any(Double.class))).thenReturn(boundStatement);\n    Mockito.when(boundStatement.setInt(anyInt(), anyInt())).thenReturn(boundStatement);\n    Mockito.when(cassandraSuppSession.getCassandraSession()).thenReturn(session);\n    Mockito.when(session.executeAsync(any(BoundStatement.class))).thenReturn(resultSetFuture);\n    Mockito.when(resultSetFuture.getUninterruptibly(anyLong(), any(TimeUnit.class))).thenReturn(resultSet);\n    objectDao.saveObject(rec16);\n  }\n</code></pre>\n<p>And the part where it's failing is in the below method on <code>getUninterruptibly(CASSANDRA_QUERY_WAIT_IN_SECONDS, TimeUnit.SECONDS);</code></p>\n<pre><code>private void executeBatch(BatchStatement objectBatch, String tableName) {\n    try {\n      cassandraSuppSession\n          .getCassandraSession()\n          .executeAsync(objectBatch)\n          .getUninterruptibly(CASSANDRA_QUERY_WAIT_IN_SECONDS, TimeUnit.SECONDS);\n    } catch (TimeoutException e) {\n      throw new RuntimeException(&quot;Exception inserting into &quot; + tableName, e);\n    } finally {\n      objectBatch.clear();\n    }\n  }\n</code></pre>\n<p>Turning the <code>executeAsync</code> call into a synchronous call (<code>execute</code>) and removing the <code>getUinterruptibly</code> method allows the junit to run successfully. So i know my issue is within this block, but no idea how to resolve it. I do want to keep the async call instead of switching to a sync call. Any ideas?</p>\n"},{"tags":["java","spring-boot","azure"],"comments":[{"owner":{"account_id":63568,"reputation":129767,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"score":0,"creation_date":1678613519,"post_id":75712170,"comment_id":133564517,"body_markdown":"Please edit your question and include the code you’ve written.","body":"Please edit your question and include the code you’ve written."},{"owner":{"account_id":26066994,"reputation":23,"user_id":19767287,"display_name":"Mohamed Osama"},"score":0,"creation_date":1678613774,"post_id":75712170,"comment_id":133564553,"body_markdown":"okay i will post it write now","body":"okay i will post it write now"},{"owner":{"account_id":26066994,"reputation":23,"user_id":19767287,"display_name":"Mohamed Osama"},"score":0,"creation_date":1678613945,"post_id":75712170,"comment_id":133564575,"body_markdown":"plase check the code above @Guarav Mantri","body":"plase check the code above @Guarav Mantri"},{"owner":{"account_id":63568,"reputation":129767,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"score":0,"creation_date":1678624137,"post_id":75712170,"comment_id":133565923,"body_markdown":"Can you share the SAS URL? Please obfuscate the account name and sig portion in your SAS URL before sharing.","body":"Can you share the SAS URL? Please obfuscate the account name and sig portion in your SAS URL before sharing."},{"owner":{"account_id":26066994,"reputation":23,"user_id":19767287,"display_name":"Mohamed Osama"},"score":0,"creation_date":1678624370,"post_id":75712170,"comment_id":133565953,"body_markdown":"https://accountName.blob.core.windows.net/containerName/subDircetoty1/subDircetoty2/subDircetoty3/filename?sv=2021-12-02&amp;st=2023-03-12T10%3A50%3A20Z&amp;se=2023-03-13T10%3A50%3A15Z&amp;sr=b&amp;sp=r&amp;sig=sig , that&#39;s the generated url","body":"<a href=\"https://accountName.blob.core.windows.net/containerName/subDircetoty1/subDircetoty2/subDircetoty3/filename?sv=2021-12-02&amp;st=2023-03-12T10%3A50%3A20Z&amp;se=2023-03-13T10%3A50%3A15Z&amp;sr=b&amp;sp=r&amp;sig=sig\" rel=\"nofollow noreferrer\">accountName.blob.core.windows.net/containerName/subDircetoty&zwnj;&#8203;1/&hellip;</a> , that&#39;s the generated url"},{"owner":{"account_id":63568,"reputation":129767,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"score":0,"creation_date":1678625739,"post_id":75712170,"comment_id":133566161,"body_markdown":"Thanks! Your SAS Token looks ok to me. What happens when you copy the SAS URL and paste it in a browser? Do you still get 404 error?","body":"Thanks! Your SAS Token looks ok to me. What happens when you copy the SAS URL and paste it in a browser? Do you still get 404 error?"},{"owner":{"account_id":26066994,"reputation":23,"user_id":19767287,"display_name":"Mohamed Osama"},"score":0,"creation_date":1678625888,"post_id":75712170,"comment_id":133566185,"body_markdown":"yes !!  should the container be public ? although when the path is containerName/fileName it downloads normally .","body":"yes !!  should the container be public ? although when the path is containerName/fileName it downloads normally ."},{"owner":{"account_id":63568,"reputation":129767,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"score":0,"creation_date":1678626062,"post_id":75712170,"comment_id":133566209,"body_markdown":"No, the container need not be public (in fact, it **should not** be public unless really needed). I am wondering if there&#39;s something special in your virtual directory name considering everything works if the blob is put directly beneath a container.","body":"No, the container need not be public (in fact, it <b>should not</b> be public unless really needed). I am wondering if there&#39;s something special in your virtual directory name considering everything works if the blob is put directly beneath a container."},{"owner":{"account_id":26066994,"reputation":23,"user_id":19767287,"display_name":"Mohamed Osama"},"score":0,"creation_date":1678626607,"post_id":75712170,"comment_id":133566281,"body_markdown":"can the subDirectory name be a uuid or not ?","body":"can the subDirectory name be a uuid or not ?"},{"owner":{"account_id":63568,"reputation":129767,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"score":0,"creation_date":1678627867,"post_id":75712170,"comment_id":133566457,"body_markdown":"Sure, it can be. no issues with that.","body":"Sure, it can be. no issues with that."},{"owner":{"account_id":26066994,"reputation":23,"user_id":19767287,"display_name":"Mohamed Osama"},"score":0,"creation_date":1678628616,"post_id":75712170,"comment_id":133566570,"body_markdown":"is there any special configuration to be done from azure portal side ?","body":"is there any special configuration to be done from azure portal side ?"},{"owner":{"account_id":63568,"reputation":129767,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"score":0,"creation_date":1678628711,"post_id":75712170,"comment_id":133566586,"body_markdown":"Not that I can think of.","body":"Not that I can think of."}],"answers":[{"comments":[{"owner":{"account_id":26066994,"reputation":23,"user_id":19767287,"display_name":"Mohamed Osama"},"score":0,"creation_date":1678789997,"post_id":75722329,"comment_id":133597668,"body_markdown":"actually i did this and it is working becauce the file is directly in the container but if it is for example pravuworkitem/subDirectory1/subDirectory2/text.json it will not work as expected","body":"actually i did this and it is working becauce the file is directly in the container but if it is for example pravuworkitem/subDirectory1/subDirectory2/text.json it will not work as expected"},{"owner":{"account_id":26331226,"reputation":3311,"user_id":19991670,"display_name":"Pravallika KV"},"score":0,"creation_date":1678990651,"post_id":75722329,"comment_id":133644775,"body_markdown":"I have checked with the filepath also and it is working fine. Please check the updated answer and the code provided.","body":"I have checked with the filepath also and it is working fine. Please check the updated answer and the code provided."},{"owner":{"account_id":26066994,"reputation":23,"user_id":19767287,"display_name":"Mohamed Osama"},"score":0,"creation_date":1679085285,"post_id":75722329,"comment_id":133664234,"body_markdown":"Okay so what i understood that while downloading i will get the blob client with path and the file name and when downloading i pass the path and the file name too !! Am i right ?","body":"Okay so what i understood that while downloading i will get the blob client with path and the file name and when downloading i pass the path and the file name too !! Am i right ?"},{"owner":{"account_id":26331226,"reputation":3311,"user_id":19991670,"display_name":"Pravallika KV"},"score":0,"creation_date":1679118914,"post_id":75722329,"comment_id":133667666,"body_markdown":"Yes, you are right.","body":"Yes, you are right."},{"owner":{"account_id":26066994,"reputation":23,"user_id":19767287,"display_name":"Mohamed Osama"},"score":1,"creation_date":1679911117,"post_id":75722329,"comment_id":133799518,"body_markdown":"done accepting the answer thanks for your help @PravallikaKV","body":"done accepting the answer thanks for your help @PravallikaKV"}],"tags":[],"owner":{"account_id":26331226,"reputation":3311,"user_id":19991670,"display_name":"Pravallika KV"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678990557,"creation_date":1678713096,"answer_id":75722329,"question_id":75712170,"body_markdown":"I have reproduced your requirement in my environment using below code and got expected results. Check if it helps you to fix the issue and achieve your requirement. \r\n\r\n- *Be sure that your container has the required privileges*.\r\n\r\nHere, I&#39;m using the post mapping to upload the file via REST API call.\r\n\r\n```Java\r\n@PostMapping(&quot;/upload&quot;)\r\n\tpublic String uploadFile(@RequestParam(value = &quot;file&quot;) MultipartFile file) throws IOException {\r\n\r\n\t\tString str = &quot;DefaultEndpointsProtocol=https;AccountName=&lt;your_account_name&gt;;AccountKey=&lt;your_account_key&gt;;EndpointSuffix=core.windows.net&quot;;\r\n\r\n\t\tOffsetDateTime expiryTime = OffsetDateTime.now().plusDays(1);\r\n\t\tBlobSasPermission permission = new BlobSasPermission().setReadPermission(true);\r\n\t\tBlobServiceSasSignatureValues values = new BlobServiceSasSignatureValues(expiryTime, permission)\r\n\t\t\t\t.setStartTime(OffsetDateTime.now());\r\n\t\tBlobContainerClient container = new BlobContainerClientBuilder().connectionString(str)\r\n\t\t\t\t.containerName(&quot;&lt;your_container_name&gt;&quot;).buildClient();\r\n\r\n\t\tBlobClient blob = container.getBlobClient(&quot;ParentDir/&quot;+&quot;ChildDir/&quot;+file.getOriginalFilename());\r\n\t\tblob.upload(file.getInputStream(), file.getSize(), true);\r\n\t\tString sasToken = blob.generateSas(values);\r\n\r\n\t\tString  result  = java.net.URLDecoder.decode(blob.getBlobUrl()  +  &quot;?&quot;,  StandardCharsets.UTF_8.name());\r\n\r\n     return result +  sasToken;\r\n}\r\n```\r\n**Update:**\r\n\r\nwhen calling the BlobClient class, if we pass the filename as parameter in the `container.getBlobClient()`, it will create file inside the container.\r\nTo create file inside the directory, we have to pass directory with `/` along with the filename inside the `container.getBlobClient()` as shown below:\r\n\r\n```java\r\nBlobClient blob = container.getBlobClient(&quot;ParentDir/&quot;+&quot;ChildDir/&quot;+file.getOriginalFilename());\r\n```\r\n\r\n![enter image description here](https://i.stack.imgur.com/BIg2j.png)\r\n\r\n![enter image description here](https://i.stack.imgur.com/j3Y3g.png)\r\n\r\n**Updated Output:**\r\n\r\nI could download the file with the generated URL as shown below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/6WBri.png)\r\n\r\n","title":"Cant generate a download link for a file that exists in virtual directory in azure using spring boot","body":"<p>I have reproduced your requirement in my environment using below code and got expected results. Check if it helps you to fix the issue and achieve your requirement.</p>\n<ul>\n<li><em>Be sure that your container has the required privileges</em>.</li>\n</ul>\n<p>Here, I'm using the post mapping to upload the file via REST API call.</p>\n<pre><code>@PostMapping(&quot;/upload&quot;)\n    public String uploadFile(@RequestParam(value = &quot;file&quot;) MultipartFile file) throws IOException {\n\n        String str = &quot;DefaultEndpointsProtocol=https;AccountName=&lt;your_account_name&gt;;AccountKey=&lt;your_account_key&gt;;EndpointSuffix=core.windows.net&quot;;\n\n        OffsetDateTime expiryTime = OffsetDateTime.now().plusDays(1);\n        BlobSasPermission permission = new BlobSasPermission().setReadPermission(true);\n        BlobServiceSasSignatureValues values = new BlobServiceSasSignatureValues(expiryTime, permission)\n                .setStartTime(OffsetDateTime.now());\n        BlobContainerClient container = new BlobContainerClientBuilder().connectionString(str)\n                .containerName(&quot;&lt;your_container_name&gt;&quot;).buildClient();\n\n        BlobClient blob = container.getBlobClient(&quot;ParentDir/&quot;+&quot;ChildDir/&quot;+file.getOriginalFilename());\n        blob.upload(file.getInputStream(), file.getSize(), true);\n        String sasToken = blob.generateSas(values);\n\n        String  result  = java.net.URLDecoder.decode(blob.getBlobUrl()  +  &quot;?&quot;,  StandardCharsets.UTF_8.name());\n\n     return result +  sasToken;\n}\n</code></pre>\n<p><strong>Update:</strong></p>\n<p>when calling the BlobClient class, if we pass the filename as parameter in the <code>container.getBlobClient()</code>, it will create file inside the container.\nTo create file inside the directory, we have to pass directory with <code>/</code> along with the filename inside the <code>container.getBlobClient()</code> as shown below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BlobClient blob = container.getBlobClient(&quot;ParentDir/&quot;+&quot;ChildDir/&quot;+file.getOriginalFilename());\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/BIg2j.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/j3Y3g.png\" alt=\"enter image description here\" /></p>\n<p><strong>Updated Output:</strong></p>\n<p>I could download the file with the generated URL as shown below:</p>\n<p><img src=\"https://i.stack.imgur.com/6WBri.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":26066994,"reputation":23,"user_id":19767287,"display_name":"Mohamed Osama"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75722329,"answer_count":1,"score":1,"last_activity_date":1678990557,"creation_date":1678613124,"question_id":75712170,"body_markdown":"i have a container which consists of many virtual directories for example :\r\nhttps://accountName.blob.core.windows.net/containerName/blobName , and the blob name is a virtual directory on azure let&#39;s say for example : number/name/UUID/anotherUUID/file.txt and iam trying to download the file.txt but each time i get the following error : \r\n&lt;Code&gt;BlobNotFound&lt;/Code&gt;\r\nalthough i can generate the download link using sas token from azure portal and get a download link for the file and it is downloaded succesfully , but when i generate the download link from inside my spring boot application i get the error above .\r\n\r\nhere is the code for uploading a blob : \r\n\r\n \r\n\r\n        BlobClient blob = container.getBlobClient(filePath); // where file path is the virutal directory path\r\n         blob.upload(BinaryData.fromBytes(bytes));\r\n    \r\n    and here is the code for downloading the blob :\r\n    \r\n     BlobClient blobClient = blobServiceClient.getBlobContainerClient(container name)\r\n              .getBlobClient(filepath);\r\n    \r\n          OffsetDateTime expiryTime = OffsetDateTime.now()\r\n                                                    .plusDays(1);\r\n          BlobSasPermission permission = new BlobSasPermission().setReadPermission(true);\r\n          BlobServiceSasSignatureValues values = new BlobServiceSasSignatureValues(expiryTime, permission).setStartTime(\r\n              OffsetDateTime.now());\r\n          String sasToken = blobClient.generateSas(values);\r\n    \r\n          String fileUrl = blobClient.getBlobUrl();\r\n          StringBuilder stringBuilder = new StringBuilder(fileUrl);\r\n          stringBuilder.append(&quot;?&quot;);\r\n          String last = stringBuilder.toString();\r\n          String result = java.net.URLDecoder.decode(last, StandardCharsets.UTF_8.name());\r\n    \r\n          return result+sasToken;","title":"Cant generate a download link for a file that exists in virtual directory in azure using spring boot","body":"<p>i have a container which consists of many virtual directories for example :\n<a href=\"https://accountName.blob.core.windows.net/containerName/blobName\" rel=\"nofollow noreferrer\">https://accountName.blob.core.windows.net/containerName/blobName</a> , and the blob name is a virtual directory on azure let's say for example : number/name/UUID/anotherUUID/file.txt and iam trying to download the file.txt but each time i get the following error :\n<Code>BlobNotFound</Code>\nalthough i can generate the download link using sas token from azure portal and get a download link for the file and it is downloaded succesfully , but when i generate the download link from inside my spring boot application i get the error above .</p>\n<p>here is the code for uploading a blob :</p>\n<pre><code>    BlobClient blob = container.getBlobClient(filePath); // where file path is the virutal directory path\n     blob.upload(BinaryData.fromBytes(bytes));\n\nand here is the code for downloading the blob :\n\n BlobClient blobClient = blobServiceClient.getBlobContainerClient(container name)\n          .getBlobClient(filepath);\n\n      OffsetDateTime expiryTime = OffsetDateTime.now()\n                                                .plusDays(1);\n      BlobSasPermission permission = new BlobSasPermission().setReadPermission(true);\n      BlobServiceSasSignatureValues values = new BlobServiceSasSignatureValues(expiryTime, permission).setStartTime(\n          OffsetDateTime.now());\n      String sasToken = blobClient.generateSas(values);\n\n      String fileUrl = blobClient.getBlobUrl();\n      StringBuilder stringBuilder = new StringBuilder(fileUrl);\n      stringBuilder.append(&quot;?&quot;);\n      String last = stringBuilder.toString();\n      String result = java.net.URLDecoder.decode(last, StandardCharsets.UTF_8.name());\n\n      return result+sasToken;\n</code></pre>\n"},{"tags":["java","android","c++","qt","qt5"],"comments":[{"owner":{"account_id":26238260,"reputation":13,"user_id":19913032,"display_name":"VoiceShifter"},"score":0,"creation_date":1678838884,"post_id":75739034,"comment_id":133610547,"body_markdown":"Well, I rolled back to java 14, didnt change any","body":"Well, I rolled back to java 14, didnt change any"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1678882943,"post_id":75739034,"comment_id":133618589,"body_markdown":"Downvote can come from the multiple things named. You mention emulators but it doesn&#39;t seems to be the subject, and no we don&#39;t see you downgrade java, only that you tried jdk 16. If your question is beeing closed and you think it&#39;s wrong, and you want to understand why your question specially, there is [meta] for this","body":"Downvote can come from the multiple things named. You mention emulators but it doesn&#39;t seems to be the subject, and no we don&#39;t see you downgrade java, only that you tried jdk 16. If your question is beeing closed and you think it&#39;s wrong, and you want to understand why your question specially, there is <a href=\"https://meta.stackoverflow.com\">Meta Stack Overflow</a> for this"},{"owner":{"account_id":26238260,"reputation":13,"user_id":19913032,"display_name":"VoiceShifter"},"score":0,"creation_date":1678892957,"post_id":75739034,"comment_id":133621855,"body_markdown":"Thanks for reply, Im surely dumb and used wrong words, Its seems to be true, that I only changed JDK. Is changing a enviroment variable considering changing Java? Since I cant find a way to download official java installer after oracle policy changes. Or using openJDK is a way here?","body":"Thanks for reply, Im surely dumb and used wrong words, Its seems to be true, that I only changed JDK. Is changing a enviroment variable considering changing Java? Since I cant find a way to download official java installer after oracle policy changes. Or using openJDK is a way here?"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1678894811,"post_id":75739034,"comment_id":133622474,"body_markdown":"OpenJDK should be the solution, and &quot;changing JDK&quot; is very large things. Also, even if we could understand, the picture is different from what you said ^^ ELse, I suggest you to upgrade gradle","body":"OpenJDK should be the solution, and &quot;changing JDK&quot; is very large things. Also, even if we could understand, the picture is different from what you said ^^ ELse, I suggest you to upgrade gradle"},{"owner":{"account_id":26238260,"reputation":13,"user_id":19913032,"display_name":"VoiceShifter"},"score":0,"creation_date":1678913918,"post_id":75739034,"comment_id":133627646,"body_markdown":"Okay, I did things, tell me If I did wrong thing. I downloaded grandle separately(I believe it was installed with android studio before), added to environment variables and such, I downloaded OpenJDK and choose it in Qt in JDK location, deleted every java I had(there was 7 and 8, so I first uninstalled 8, tried with 7, no changes), ran into same problem, changed to another version of openJDK, same. Installed java back, nothing changes. Sorry if Im doing everything wrong, but can you tell if this is what you ment?","body":"Okay, I did things, tell me If I did wrong thing. I downloaded grandle separately(I believe it was installed with android studio before), added to environment variables and such, I downloaded OpenJDK and choose it in Qt in JDK location, deleted every java I had(there was 7 and 8, so I first uninstalled 8, tried with 7, no changes), ran into same problem, changed to another version of openJDK, same. Installed java back, nothing changes. Sorry if Im doing everything wrong, but can you tell if this is what you ment?"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1678951541,"post_id":75739034,"comment_id":133632976,"body_markdown":"Does this answer your question? [Gradle: Could not determine java version from &#39;11.0.2&#39;](https://stackoverflow.com/questions/54358107/gradle-could-not-determine-java-version-from-11-0-2) I was meaning to upgrade both, and use Java 16 but with latest version of gradle, upgraded separatly of Qt (or downloaded by Qt if it can)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/54358107/gradle-could-not-determine-java-version-from-11-0-2\">Gradle: Could not determine java version from &#39;11.0.2&#39;</a> I was meaning to upgrade both, and use Java 16 but with latest version of gradle, upgraded separatly of Qt (or downloaded by Qt if it can)"}],"answers":[{"tags":[],"owner":{"account_id":26238260,"reputation":13,"user_id":19913032,"display_name":"VoiceShifter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678990091,"creation_date":1678989883,"answer_id":75760058,"question_id":75739034,"body_markdown":"Oh god I didnt expect this rabit hole to be so deep. First thing - Thanks to Elikill58, he&#39;s a god. \r\nI dont yet know if JDK change any-thing. I managed to start project on java 8 update 361, Eclipse Foundation\\jdk-16.0.2.7-hotspot, but I guess it has nothing to do with java or JDK, untill its not 10 years old. \r\nWhat I did:\r\n\r\n - Download and install Gradle \r\n - Create a new project\r\n - Run it once\r\n - Go to generated folder-&gt;android.build-&gt;gradle.properties.\r\n\r\n- [Here what you will see][1]\r\n\r\nIn my case - its 7.4.2, I changed it to this, it was 3.2.0.\r\nYou also need to go to android-build\\gradle\\wrapper-&gt;gradle-wrapper.properties and change it to gradle you install (cmd - &quot;gradle --version&quot;). Those versions may not be the same, its ok.\r\nAnd after that I managed to lauch a project. I dont know, maybe you could run gradle init in project folder, will check this later, untill then - this is a working methon on QT 5.12.12\r\n\r\nYou may read https://stackoverflow.com/questions/54358107/gradle-could-not-determine-java-version-from-11-0-2 article, it didnt help me, but it gave me right direction.\r\n\r\nKeep in mind - before that I had Android Studio installed and I was thinking, that it installed everything for me.\r\n\r\n  [1]: https://i.stack.imgur.com/Lk8PJ.png","title":"Could not determine java version from &quot;N&quot;. QT","body":"<p>Oh god I didnt expect this rabit hole to be so deep. First thing - Thanks to Elikill58, he's a god.\nI dont yet know if JDK change any-thing. I managed to start project on java 8 update 361, Eclipse Foundation\\jdk-16.0.2.7-hotspot, but I guess it has nothing to do with java or JDK, untill its not 10 years old.\nWhat I did:</p>\n<ul>\n<li><p>Download and install Gradle</p>\n</li>\n<li><p>Create a new project</p>\n</li>\n<li><p>Run it once</p>\n</li>\n<li><p>Go to generated folder-&gt;android.build-&gt;gradle.properties.</p>\n</li>\n<li><p><a href=\"https://i.stack.imgur.com/Lk8PJ.png\" rel=\"nofollow noreferrer\">Here what you will see</a></p>\n</li>\n</ul>\n<p>In my case - its 7.4.2, I changed it to this, it was 3.2.0.\nYou also need to go to android-build\\gradle\\wrapper-&gt;gradle-wrapper.properties and change it to gradle you install (cmd - &quot;gradle --version&quot;). Those versions may not be the same, its ok.\nAnd after that I managed to lauch a project. I dont know, maybe you could run gradle init in project folder, will check this later, untill then - this is a working methon on QT 5.12.12</p>\n<p>You may read <a href=\"https://stackoverflow.com/questions/54358107/gradle-could-not-determine-java-version-from-11-0-2\">Gradle: Could not determine java version from &#39;11.0.2&#39;</a> article, it didnt help me, but it gave me right direction.</p>\n<p>Keep in mind - before that I had Android Studio installed and I was thinking, that it installed everything for me.</p>\n"}],"owner":{"account_id":26238260,"reputation":13,"user_id":19913032,"display_name":"VoiceShifter"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75760058,"answer_count":1,"score":-2,"last_activity_date":1678990091,"creation_date":1678833792,"question_id":75739034,"body_markdown":"I wanted to start android developing with QT, but ran into a problem.\r\n![Pic related](https://i.stack.imgur.com/40UX8.png)\r\n\r\nQt version is 5.12.12\r\n![Pic related](https://i.stack.imgur.com/CH0vt.png)\r\n\r\nInstalled offline, didnt turn off anything in installation.\r\n\r\nIm running standart project, hello world, here is errors\r\n![Pic related](https://i.stack.imgur.com/yPCL6.png)\r\n\r\nThe thing is - emulator starts, but doesnt launch project.\r\n\r\nFound on qt forum, that I need to downgrade java to 1.8 or lower, the thing is - on picture you see already downgraded java. I started with 1.9, went to 1.8 and now on 1.6, nothing changes, exept error changing mentioned java version. Probably will try even lower one, but hopes are low.","title":"Could not determine java version from &quot;N&quot;. QT","body":"<p>I wanted to start android developing with QT, but ran into a problem.\n<img src=\"https://i.stack.imgur.com/40UX8.png\" alt=\"Pic related\" /></p>\n<p>Qt version is 5.12.12\n<img src=\"https://i.stack.imgur.com/CH0vt.png\" alt=\"Pic related\" /></p>\n<p>Installed offline, didnt turn off anything in installation.</p>\n<p>Im running standart project, hello world, here is errors\n<img src=\"https://i.stack.imgur.com/yPCL6.png\" alt=\"Pic related\" /></p>\n<p>The thing is - emulator starts, but doesnt launch project.</p>\n<p>Found on qt forum, that I need to downgrade java to 1.8 or lower, the thing is - on picture you see already downgraded java. I started with 1.9, went to 1.8 and now on 1.6, nothing changes, exept error changing mentioned java version. Probably will try even lower one, but hopes are low.</p>\n"},{"tags":["java","arrays","integer"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1678987078,"post_id":75759387,"comment_id":133643689,"body_markdown":"Create a record `Boxer` with 3 fields, then fill two `List&lt;Boxer&gt;` for both weights, then sort them by score and take the last element.","body":"Create a record <code>Boxer</code> with 3 fields, then fill two <code>List&lt;Boxer&gt;</code> for both weights, then sort them by score and take the last element."},{"owner":{"account_id":28034994,"reputation":1,"user_id":21413552,"display_name":"aurellia"},"score":0,"creation_date":1678987801,"post_id":75759387,"comment_id":133643899,"body_markdown":"what do you mean by boxer... T-T i&#39;m sorry i&#39;m a super beginner @f1sh","body":"what do you mean by boxer... T-T i&#39;m sorry i&#39;m a super beginner @f1sh"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1678988026,"post_id":75759387,"comment_id":133643969,"body_markdown":"Have you learned about Java classes?  Boxer would be a class (or a record as suggested by @f1sh)  And another way to do this would be to use a map.","body":"Have you learned about Java classes?  Boxer would be a class (or a record as suggested by @f1sh)  And another way to do this would be to use a map."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1678988605,"post_id":75759387,"comment_id":133644166,"body_markdown":"Check out [The Java Tutorials](https://docs.oracle.com/javase/tutorial/index.html) for more about the basics of Java (note that `record&#39;s` won&#39;t be covered there but `classes` will).","body":"Check out <a href=\"https://docs.oracle.com/javase/tutorial/index.html\" rel=\"nofollow noreferrer\">The Java Tutorials</a> for more about the basics of Java (note that <code>record&#39;s</code> won&#39;t be covered there but <code>classes</code> will)."},{"owner":{"account_id":28034994,"reputation":1,"user_id":21413552,"display_name":"aurellia"},"score":0,"creation_date":1678990146,"post_id":75759387,"comment_id":133644633,"body_markdown":"@WJS okaayy thankyou for the inputs :)","body":"@WJS okaayy thankyou for the inputs :)"}],"answers":[{"comments":[{"owner":{"account_id":28034994,"reputation":1,"user_id":21413552,"display_name":"aurellia"},"score":0,"creation_date":1678990106,"post_id":75760023,"comment_id":133644619,"body_markdown":"thankyou i owe u big time","body":"thankyou i owe u big time"}],"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678989657,"creation_date":1678989657,"answer_id":75760023,"question_id":75759387,"body_markdown":"You can utilize Java 8+ &#39;s collection utilities to find the max values.\r\n\r\nJust parse each line into an object and place it in a list. You can now group by division, and for each division list, locate the max. You must make sure your `Boxer` class implements `Comparable` for `Collection.max` to actually work.\r\n\r\n```java\r\nimport java.util.*;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class BoxingScores {\r\n    public static void main(String[] args) {\r\n        BoxingCompetition competition = parseFile(&quot;/boxingcompetition.txt&quot;);\r\n        Map&lt;String, List&lt;Boxer&gt;&gt; grouped = competition.getBoxers().stream()\r\n                .collect(Collectors.groupingBy(Boxer::getDivision));\r\n        List&lt;Boxer&gt; topScores = grouped.entrySet().stream()\r\n                .map(Map.Entry::getValue)\r\n                .map(Collections::max)\r\n                .collect(Collectors.toList());\r\n        System.out.println(topScores);\r\n    }\r\n\r\n    private static BoxingCompetition parseFile(String filename) {\r\n        List&lt;Boxer&gt; boxers = new ArrayList&lt;&gt;();\r\n        Scanner scan = new Scanner(BoxingScores.class.getResourceAsStream(filename));\r\n        int competitions = scan.nextInt();\r\n        scan.nextLine();\r\n        System.out.printf(&quot;Competitions: %d%n&quot;, competitions);\r\n\r\n        while (scan.hasNextLine()) {\r\n            String line = scan.nextLine();\r\n            String[] tokens = line.split(&quot;,&quot;);\r\n            String name = tokens[0];\r\n            int score = Integer.parseInt(tokens[1]);\r\n            String division = tokens[2];\r\n            boxers.add(new Boxer(name, division, score));\r\n        }\r\n\r\n        scan.close();\r\n\r\n        return new BoxingCompetition(competitions, boxers);\r\n    }\r\n\r\n    private static class BoxingCompetition {\r\n        private int count;\r\n        private List&lt;Boxer&gt; boxers;\r\n\r\n        public BoxingCompetition(int count, List&lt;Boxer&gt; boxers) {\r\n            this.count = count;\r\n            this.boxers = boxers;\r\n        }\r\n\r\n        public int getCount() {\r\n            return count;\r\n        }\r\n\r\n        public void setCount(int count) {\r\n            this.count = count;\r\n        }\r\n\r\n        public List&lt;Boxer&gt; getBoxers() {\r\n            return boxers;\r\n        }\r\n\r\n        public void setBoxers(List&lt;Boxer&gt; boxers) {\r\n            this.boxers = boxers;\r\n        }\r\n    }\r\n\r\n    private static class Boxer implements Comparable&lt;Boxer&gt; {\r\n        private String name;\r\n        private String division;\r\n        private int score;\r\n\r\n        public Boxer(String name, String division, int score) {\r\n            this.name = name;\r\n            this.division = division;\r\n            this.score = score;\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public String getDivision() {\r\n            return division;\r\n        }\r\n\r\n        public void setDivision(String division) {\r\n            this.division = division;\r\n        }\r\n\r\n        public int getScore() {\r\n            return score;\r\n        }\r\n\r\n        public void setScore(int score) {\r\n            this.score = score;\r\n        }\r\n\r\n        @Override\r\n        public int compareTo(Boxer other) {\r\n            return this.score - other.score; // Descending\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return String.format(&quot;{ name: \\&quot;%s\\&quot;, division: \\&quot;%s\\&quot;, score: %d }&quot;, name, division, score);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n## Output\r\n\r\n```json\r\n[\r\n  { name: &quot;Eva&quot;, division: &quot;flyweight&quot;, score: 96 },\r\n  { name: &quot;Harry&quot;, division: &quot;featherweight&quot;, score: 90 }\r\n]\r\n```","title":"How to create array from elements from another file in Java","body":"<p>You can utilize Java 8+ 's collection utilities to find the max values.</p>\n<p>Just parse each line into an object and place it in a list. You can now group by division, and for each division list, locate the max. You must make sure your <code>Boxer</code> class implements <code>Comparable</code> for <code>Collection.max</code> to actually work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.util.stream.Collectors;\n\npublic class BoxingScores {\n    public static void main(String[] args) {\n        BoxingCompetition competition = parseFile(&quot;/boxingcompetition.txt&quot;);\n        Map&lt;String, List&lt;Boxer&gt;&gt; grouped = competition.getBoxers().stream()\n                .collect(Collectors.groupingBy(Boxer::getDivision));\n        List&lt;Boxer&gt; topScores = grouped.entrySet().stream()\n                .map(Map.Entry::getValue)\n                .map(Collections::max)\n                .collect(Collectors.toList());\n        System.out.println(topScores);\n    }\n\n    private static BoxingCompetition parseFile(String filename) {\n        List&lt;Boxer&gt; boxers = new ArrayList&lt;&gt;();\n        Scanner scan = new Scanner(BoxingScores.class.getResourceAsStream(filename));\n        int competitions = scan.nextInt();\n        scan.nextLine();\n        System.out.printf(&quot;Competitions: %d%n&quot;, competitions);\n\n        while (scan.hasNextLine()) {\n            String line = scan.nextLine();\n            String[] tokens = line.split(&quot;,&quot;);\n            String name = tokens[0];\n            int score = Integer.parseInt(tokens[1]);\n            String division = tokens[2];\n            boxers.add(new Boxer(name, division, score));\n        }\n\n        scan.close();\n\n        return new BoxingCompetition(competitions, boxers);\n    }\n\n    private static class BoxingCompetition {\n        private int count;\n        private List&lt;Boxer&gt; boxers;\n\n        public BoxingCompetition(int count, List&lt;Boxer&gt; boxers) {\n            this.count = count;\n            this.boxers = boxers;\n        }\n\n        public int getCount() {\n            return count;\n        }\n\n        public void setCount(int count) {\n            this.count = count;\n        }\n\n        public List&lt;Boxer&gt; getBoxers() {\n            return boxers;\n        }\n\n        public void setBoxers(List&lt;Boxer&gt; boxers) {\n            this.boxers = boxers;\n        }\n    }\n\n    private static class Boxer implements Comparable&lt;Boxer&gt; {\n        private String name;\n        private String division;\n        private int score;\n\n        public Boxer(String name, String division, int score) {\n            this.name = name;\n            this.division = division;\n            this.score = score;\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n\n        public String getDivision() {\n            return division;\n        }\n\n        public void setDivision(String division) {\n            this.division = division;\n        }\n\n        public int getScore() {\n            return score;\n        }\n\n        public void setScore(int score) {\n            this.score = score;\n        }\n\n        @Override\n        public int compareTo(Boxer other) {\n            return this.score - other.score; // Descending\n        }\n\n        @Override\n        public String toString() {\n            return String.format(&quot;{ name: \\&quot;%s\\&quot;, division: \\&quot;%s\\&quot;, score: %d }&quot;, name, division, score);\n        }\n    }\n}\n</code></pre>\n<h2>Output</h2>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  { name: &quot;Eva&quot;, division: &quot;flyweight&quot;, score: 96 },\n  { name: &quot;Harry&quot;, division: &quot;featherweight&quot;, score: 90 }\n]\n</code></pre>\n"}],"owner":{"account_id":28034994,"reputation":1,"user_id":21413552,"display_name":"aurellia"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1678988170,"answer_count":1,"score":-2,"last_activity_date":1678989657,"creation_date":1678986173,"question_id":75759387,"body_markdown":"[my coursework](https://i.stack.imgur.com/M232X.png)\r\n\r\nso I want to create an array each for the score of flyweight and featherweight. but i have no idea how. this is my code so far\r\n```\r\nScanner readFile = new Scanner (Main.class.getResourceAsStream(&quot;boxingcompetition.txt&quot;));\r\n        int competition = Integer.parseInt(readFile.nextLine());\r\n        int totalCompetition = competition *2;\r\n        \r\n        String line;\r\n        String[] lineSplit;\r\n        String name;\r\n        int score;\r\n        String categories;\r\n        \r\n        for (int i = 1; i&lt;= totalCompetition; i++)\r\n        {\r\n            line = readFile.nextLine();\r\n            lineSplit = line.split(&quot;,&quot;);\r\n            name = lineSplit[0];\r\n            score = Integer.parseInt(lineSplit[1]);\r\n            categories = lineSplit[2];\r\n            \r\n            if (categories.equals(&quot;flyweight&quot;))\r\n            {}\r\n```","title":"How to create array from elements from another file in Java","body":"<p><a href=\"https://i.stack.imgur.com/M232X.png\" rel=\"nofollow noreferrer\">my coursework</a></p>\n<p>so I want to create an array each for the score of flyweight and featherweight. but i have no idea how. this is my code so far</p>\n<pre><code>Scanner readFile = new Scanner (Main.class.getResourceAsStream(&quot;boxingcompetition.txt&quot;));\n        int competition = Integer.parseInt(readFile.nextLine());\n        int totalCompetition = competition *2;\n        \n        String line;\n        String[] lineSplit;\n        String name;\n        int score;\n        String categories;\n        \n        for (int i = 1; i&lt;= totalCompetition; i++)\n        {\n            line = readFile.nextLine();\n            lineSplit = line.split(&quot;,&quot;);\n            name = lineSplit[0];\n            score = Integer.parseInt(lineSplit[1]);\n            categories = lineSplit[2];\n            \n            if (categories.equals(&quot;flyweight&quot;))\n            {}\n</code></pre>\n"},{"tags":["java","gpu","opencl","gpgpu","aparapi"],"comments":[{"owner":{"account_id":20380,"reputation":22513,"user_id":48660,"accept_rate":70,"display_name":"pmdj"},"score":0,"creation_date":1679062712,"post_id":75365328,"comment_id":133658490,"body_markdown":"It sounds like the problem here is that you&#39;re confusing maximum **image** size with maximum **work-group** size. I&#39;m unfortunately not familiar with the OpenCL wrapper you&#39;re using, but make sure you don&#39;t try to make the group size the same as the total work size when enqueuing.","body":"It sounds like the problem here is that you&#39;re confusing maximum <b>image</b> size with maximum <b>work-group</b> size. I&#39;m unfortunately not familiar with the OpenCL wrapper you&#39;re using, but make sure you don&#39;t try to make the group size the same as the total work size when enqueuing."},{"owner":{"account_id":16453092,"reputation":852,"user_id":11886026,"display_name":"Trayan Momkov"},"score":0,"creation_date":1679241830,"post_id":75365328,"comment_id":133682111,"body_markdown":"@pmdj I think you are right. **work-group** is called **localSize** if I&#39;m not mistaken. Aparapi automatically chooses the best localSize. You can set it manually with `create(size, localSize)` as long as `size % localSize == 0`. In my case I have size of 10240 and the chosen localSize is 640. But when Aparapi tries to run the code I get the error: `!!!!!!! Kernel overall local size: 640 exceeds maximum kernel allowed local size of: 256 failed (null)` The question is: Can we somehow change this maximum kernel allowed local size?","body":"@pmdj I think you are right. <b>work-group</b> is called <b>localSize</b> if I&#39;m not mistaken. Aparapi automatically chooses the best localSize. You can set it manually with <code>create(size, localSize)</code> as long as <code>size % localSize == 0</code>. In my case I have size of 10240 and the chosen localSize is 640. But when Aparapi tries to run the code I get the error: <code>!!!!!!! Kernel overall local size: 640 exceeds maximum kernel allowed local size of: 256 failed (null)</code> The question is: Can we somehow change this maximum kernel allowed local size?"},{"owner":{"account_id":20380,"reputation":22513,"user_id":48660,"accept_rate":70,"display_name":"pmdj"},"score":0,"creation_date":1679299863,"post_id":75365328,"comment_id":133689898,"body_markdown":"The local size is a limitation of the hardware &amp; driver, and also the resource usage of the kernel itself. You don’t need any work groups at all (group size 1) if you don’t use local memory. This won’t have any negative performance impact.","body":"The local size is a limitation of the hardware &amp; driver, and also the resource usage of the kernel itself. You don’t need any work groups at all (group size 1) if you don’t use local memory. This won’t have any negative performance impact."},{"owner":{"account_id":16453092,"reputation":852,"user_id":11886026,"display_name":"Trayan Momkov"},"score":0,"creation_date":1681047021,"post_id":75365328,"comment_id":133992933,"body_markdown":"The localSize matters. 256 is definitely faster than 1 in my case.","body":"The localSize matters. 256 is definitely faster than 1 in my case."}],"owner":{"account_id":27581834,"reputation":21,"user_id":21050883,"display_name":"forreg16"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678989301,"creation_date":1675708691,"question_id":75365328,"body_markdown":"When I use Aparapi with an **AMD Radeon R7 450** graphics card with older drivers installed, the maximum value of the size parameter in the code below can be 268,435,455.\r\nWhich corresponds to the **2D image size** 16384 X 16384 = 268,435,456 (screenshot below).\r\nWhen I usually use the **AMD Radeon RX 5700 XT** graphics card, which also has a **2D image size** of 16384 X 16384 = 268,435,456, I get this error:\r\n**Total Local Kernel Size: Exceeds Maximum Allowed Local Kernel Size: 256 failed [ERROR] Failed to execute command**\r\nThat is size value cannot be greater than 256.\r\nSame issue with **NVIDIA GeForce RTX 3060 Ti** even though it has a **2D image size** of 32768 X 32768 = 1,073,741,824.\r\nTell me what could be the problem? Why is code performance lower in this case on newer video cards?\r\n\r\nCode:\r\n```\r\n        int size = 268435455;\r\n        double[] a = new double[size];\r\n        double[] b = new double[size];\r\n        double[] c = new double[size];\r\n\r\n        for (int i = 0; i &lt; size; i++)\r\n        {\r\n            a[i] = i;\r\n            b[i] = i;\r\n        }\r\n\r\n        Kernel kernel = new Kernel()\r\n        {\r\n            @Override \r\n            public void run() \r\n            {\r\n                int gid = getGlobalId();                \r\n                c[gid] = a[gid] + b[gid];\r\n            }            \r\n        };\r\n\r\n        kernel.execute(size);          \r\n        kernel.dispose();\r\n```\r\n\r\n\r\n\r\nscreen GPU Caps Viewer\r\nAMD Radeon R7 450:\r\n[![enter image description here](https://i.stack.imgur.com/SYU7E.png)](https://i.stack.imgur.com/SYU7E.png)\r\nAMD Radeon RX 5700 XT:\r\n[![enter image description here](https://i.stack.imgur.com/iDuS9.png)](https://i.stack.imgur.com/iDuS9.png)\r\nNVIDIA GeForce RTX 3060 Ti:\r\n[![enter image description here](https://i.stack.imgur.com/ug3B8.png)](https://i.stack.imgur.com/ug3B8.png)\r\n\r\nADDITION:\r\n \r\nWe managed to work around this problem in this way. If you use this code, the size can be greater than 256\r\n\r\n```\r\nRange range = Range.create2D(size, 1);\r\nkernel.execute(range);\r\nkernel.dispose();\r\n```\r\n\r\nBut if the array is two-dimensional, as in this case, then for AMD Radeon RX 5700 XT **Range.create 2D(size, 1)** works with a size greater than 256, but not for NVIDIA GeForce RTX 3060 Ti. For NVIDIA GeForce RTX 3060 Ti still size more than 256 does not work.\r\n\r\n```\r\n        Kernel kernel = new Kernel()\r\n        {\r\n            @Override \r\n            public void run() \r\n            {\r\n                int gid = getGlobalId();\r\n                \r\n                for (int i = 0; i &lt; size; i++)\r\n                {                  \r\n                    c[i][gid] = a[i][gid] + b[i][gid];\r\n                }\r\n            } \r\n\t    }\r\n```\r\nPerhaps, for Aparapi AMD video cards are preferable to NVIDIA. Keep this in mind when buying a video card.","title":"ERROR exceeds maximum kernel allowed local size","body":"<p>When I use Aparapi with an <strong>AMD Radeon R7 450</strong> graphics card with older drivers installed, the maximum value of the size parameter in the code below can be 268,435,455.\nWhich corresponds to the <strong>2D image size</strong> 16384 X 16384 = 268,435,456 (screenshot below).\nWhen I usually use the <strong>AMD Radeon RX 5700 XT</strong> graphics card, which also has a <strong>2D image size</strong> of 16384 X 16384 = 268,435,456, I get this error:\n<strong>Total Local Kernel Size: Exceeds Maximum Allowed Local Kernel Size: 256 failed [ERROR] Failed to execute command</strong>\nThat is size value cannot be greater than 256.\nSame issue with <strong>NVIDIA GeForce RTX 3060 Ti</strong> even though it has a <strong>2D image size</strong> of 32768 X 32768 = 1,073,741,824.\nTell me what could be the problem? Why is code performance lower in this case on newer video cards?</p>\n<p>Code:</p>\n<pre><code>        int size = 268435455;\n        double[] a = new double[size];\n        double[] b = new double[size];\n        double[] c = new double[size];\n\n        for (int i = 0; i &lt; size; i++)\n        {\n            a[i] = i;\n            b[i] = i;\n        }\n\n        Kernel kernel = new Kernel()\n        {\n            @Override \n            public void run() \n            {\n                int gid = getGlobalId();                \n                c[gid] = a[gid] + b[gid];\n            }            \n        };\n\n        kernel.execute(size);          \n        kernel.dispose();\n</code></pre>\n<p>screen GPU Caps Viewer\nAMD Radeon R7 450:\n<a href=\"https://i.stack.imgur.com/SYU7E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SYU7E.png\" alt=\"enter image description here\" /></a>\nAMD Radeon RX 5700 XT:\n<a href=\"https://i.stack.imgur.com/iDuS9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iDuS9.png\" alt=\"enter image description here\" /></a>\nNVIDIA GeForce RTX 3060 Ti:\n<a href=\"https://i.stack.imgur.com/ug3B8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ug3B8.png\" alt=\"enter image description here\" /></a></p>\n<p>ADDITION:</p>\n<p>We managed to work around this problem in this way. If you use this code, the size can be greater than 256</p>\n<pre><code>Range range = Range.create2D(size, 1);\nkernel.execute(range);\nkernel.dispose();\n</code></pre>\n<p>But if the array is two-dimensional, as in this case, then for AMD Radeon RX 5700 XT <strong>Range.create 2D(size, 1)</strong> works with a size greater than 256, but not for NVIDIA GeForce RTX 3060 Ti. For NVIDIA GeForce RTX 3060 Ti still size more than 256 does not work.</p>\n<pre><code>        Kernel kernel = new Kernel()\n        {\n            @Override \n            public void run() \n            {\n                int gid = getGlobalId();\n                \n                for (int i = 0; i &lt; size; i++)\n                {                  \n                    c[i][gid] = a[i][gid] + b[i][gid];\n                }\n            } \n        }\n</code></pre>\n<p>Perhaps, for Aparapi AMD video cards are preferable to NVIDIA. Keep this in mind when buying a video card.</p>\n"},{"tags":["java","reactjs","cors","cxf","tomcat9"],"comments":[{"owner":{"account_id":2021661,"reputation":62048,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":0,"creation_date":1678994581,"post_id":75759922,"comment_id":133645767,"body_markdown":"Change the value of `cors.exposed.headers` to `alias,authorization,content-type,customerid`.","body":"Change the value of <code>cors.exposed.headers</code> to <code>alias,authorization,content-type,customerid</code>."},{"owner":{"account_id":24509069,"reputation":23,"user_id":18423650,"display_name":"David D"},"score":0,"creation_date":1678999666,"post_id":75759922,"comment_id":133646935,"body_markdown":"I have already added what you mentioned, however, I still cannot see the headers in the response and, even worse, I continue to have the CORS block. :(","body":"I have already added what you mentioned, however, I still cannot see the headers in the response and, even worse, I continue to have the CORS block. :("},{"owner":{"account_id":2021661,"reputation":62048,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":0,"creation_date":1679000157,"post_id":75759922,"comment_id":133647028,"body_markdown":"Ah, hold on, I&#39;ve just noticed something in the request: `access-control-request-private-network: true`. You&#39;re sending a request from a more public to a more local network; see https://github.com/WICG/local-network-access. Not sure Tomcat&#39;s CORS thing supports that yet.","body":"Ah, hold on, I&#39;ve just noticed something in the request: <code>access-control-request-private-network: true</code>. You&#39;re sending a request from a more public to a more local network; see <a href=\"https://github.com/WICG/local-network-access\" rel=\"nofollow noreferrer\">github.com/WICG/local-network-access</a>. Not sure Tomcat&#39;s CORS thing supports that yet."},{"owner":{"account_id":24509069,"reputation":23,"user_id":18423650,"display_name":"David D"},"score":1,"creation_date":1680498715,"post_id":75759922,"comment_id":133902704,"body_markdown":"A few days ago I solved it, the conclusion is as follows:\n1. In my web.xml I had a security-constraint filter which was blocking OPTIONS requests.\n2. Adding custom headers is also part of the solution because if they are not added, the request is blocked.\n3. Adding or keeping in mind the Access-Control-Request-Headers header is also part of the solution because this header is allowed to enable the validation of custom headers and others. \nThank you for your help @jub0bs, it was greatly appreciated.","body":"A few days ago I solved it, the conclusion is as follows: 1. In my web.xml I had a security-constraint filter which was blocking OPTIONS requests. 2. Adding custom headers is also part of the solution because if they are not added, the request is blocked. 3. Adding or keeping in mind the Access-Control-Request-Headers header is also part of the solution because this header is allowed to enable the validation of custom headers and others.  Thank you for your help @jub0bs, it was greatly appreciated."},{"owner":{"account_id":2021661,"reputation":62048,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":0,"creation_date":1680503056,"post_id":75759922,"comment_id":133903212,"body_markdown":"Glad you figured it out. Remember that, on Stack Overflow, you can write an answer to your own question.","body":"Glad you figured it out. Remember that, on Stack Overflow, you can write an answer to your own question."}],"owner":{"account_id":24509069,"reputation":23,"user_id":18423650,"display_name":"David D"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678989085,"creation_date":1678989085,"question_id":75759922,"body_markdown":"I’m currently having problems with CORS in Tomcat, when I consume a service from React from another domain I receive the following error\r\n`Access to fetch at &#39;https://tomcat:8443/post/service &#39; from origin &#39;https://domainReact:8443/react&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: It does not have HTTP ok status.`\r\nMy configuration on the backend is as follows:\r\nTomcat9/conf/web.xml\r\n```\r\n&lt;filter&gt;\r\n        &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;org.apache.catalina.filters.CorsFilter&lt;/filter-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;cors.allowed.origins&lt;/param-name&gt;\r\n            &lt;param-value&gt;*&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;cors.support.credentials&lt;/param-name&gt;\r\n            &lt;param-value&gt;false&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;cors.request.decorate&lt;/param-name&gt;\r\n            &lt;param-value&gt;true&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;cors.allowed.methods&lt;/param-name&gt;\r\n            &lt;param-value&gt;GET,POST,DELETE,OPTIONS,PUT&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;cors.allowed.headers&lt;/param-name&gt;\r\n            &lt;param-value&gt;Content-Type,X-Requested-With,Access-Control-Request-Method,Access-Control-Request-Headers,accept,Origin,Access-Control-Allows-Origin,alias,Authorization,customerId&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;cors.exposed.headers&lt;/param-name&gt;\r\n            &lt;param-value&gt;Access-Control-Allow-Origin,Access-Control-Allow-Credentials,Access-Control-Request-Headers&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;cors.preflight.maxage&lt;/param-name&gt;\r\n            &lt;param-value&gt;1728000&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n    &lt;/filter&gt;\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;CSRF&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;org.apache.catalina.filters.CsrfPreventionFilter&lt;/filter-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;entryPoints&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;/html,/html/&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;httpHeaderSecurity&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t\t&lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\r\n    &lt;/filter-mapping&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;CSRF&lt;/filter-name&gt;\r\n\t\t&lt;servlet-name&gt;servlet&lt;/servlet-name&gt;\r\n\t&lt;/filter-mapping&gt;\r\n```\r\nNetwork\r\n```\r\nGeneral:\r\nRequest URL: https://tomcat:8443/post/service\r\nRequest Method: OPTIONS\r\nStatus Code: 403 \r\nRemote Address: 172.16.0.233:8443\r\nReferrer Policy: strict-origin-when-cross-origin\r\n\r\nRequest:\r\n:authority: https://tomcat:8443\r\n:method: OPTIONS\r\n:path: /post/service\r\n:scheme: https\r\naccept: */*\r\naccept-encoding: gzip, deflate, br\r\naccess-control-request-headers: alias,authorization,content-type,customerid\r\naccess-control-request-method: POST\r\naccess-control-request-private-network: true\r\norigin: https://domainReact:8443/react\r\nreferer: https://domainReact:8443/react/\r\nsec-fetch-dest: empty\r\nsec-fetch-mode: cors\r\nsec-fetch-site: same-site\r\n\r\nResponse:\r\nControl-Request-Headers\r\ncache-control: private\r\ncontent-length: 683\r\ncontent-type: text/html;charset=utf-8\r\n```\r\nI have two custom headers, the API is exposed with JAX-RS and has no CORS filters.\r\n\r\n\r\n\r\nI tried removing the tomcat/conf/web.xml filter, however, I received the same error. I tried consuming the service from Java and it worked without problems. The problem arises when it is consumed with React or Javascript. I added my custom headers to the Tomcat filter, but the result is the same when consumed from React.\r\nI still don’t understand why the headers are not visible in the response when the service is consumed. Is there something that could be misconfigured in Tomcat?","title":"Why is there a CORS block even though there is no CORS restriction on my backend?","body":"<p>I’m currently having problems with CORS in Tomcat, when I consume a service from React from another domain I receive the following error\n<code>Access to fetch at 'https://tomcat:8443/post/service ' from origin 'https://domainReact:8443/react' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: It does not have HTTP ok status.</code>\nMy configuration on the backend is as follows:\nTomcat9/conf/web.xml</p>\n<pre><code>&lt;filter&gt;\n        &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.apache.catalina.filters.CorsFilter&lt;/filter-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;cors.allowed.origins&lt;/param-name&gt;\n            &lt;param-value&gt;*&lt;/param-value&gt;\n        &lt;/init-param&gt;\n\n        &lt;init-param&gt;\n            &lt;param-name&gt;cors.support.credentials&lt;/param-name&gt;\n            &lt;param-value&gt;false&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;cors.request.decorate&lt;/param-name&gt;\n            &lt;param-value&gt;true&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;cors.allowed.methods&lt;/param-name&gt;\n            &lt;param-value&gt;GET,POST,DELETE,OPTIONS,PUT&lt;/param-value&gt;\n        &lt;/init-param&gt;\n\n        &lt;init-param&gt;\n            &lt;param-name&gt;cors.allowed.headers&lt;/param-name&gt;\n            &lt;param-value&gt;Content-Type,X-Requested-With,Access-Control-Request-Method,Access-Control-Request-Headers,accept,Origin,Access-Control-Allows-Origin,alias,Authorization,customerId&lt;/param-value&gt;\n        &lt;/init-param&gt;\n\n        &lt;init-param&gt;\n            &lt;param-name&gt;cors.exposed.headers&lt;/param-name&gt;\n            &lt;param-value&gt;Access-Control-Allow-Origin,Access-Control-Allow-Credentials,Access-Control-Request-Headers&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;cors.preflight.maxage&lt;/param-name&gt;\n            &lt;param-value&gt;1728000&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/filter&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;CSRF&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.apache.catalina.filters.CsrfPreventionFilter&lt;/filter-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;entryPoints&lt;/param-name&gt;\n            &lt;param-value&gt;/html,/html/&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/filter&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;httpHeaderSecurity&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n        &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\n    &lt;/filter-mapping&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;CSRF&lt;/filter-name&gt;\n        &lt;servlet-name&gt;servlet&lt;/servlet-name&gt;\n    &lt;/filter-mapping&gt;\n</code></pre>\n<p>Network</p>\n<pre><code>General:\nRequest URL: https://tomcat:8443/post/service\nRequest Method: OPTIONS\nStatus Code: 403 \nRemote Address: 172.16.0.233:8443\nReferrer Policy: strict-origin-when-cross-origin\n\nRequest:\n:authority: https://tomcat:8443\n:method: OPTIONS\n:path: /post/service\n:scheme: https\naccept: */*\naccept-encoding: gzip, deflate, br\naccess-control-request-headers: alias,authorization,content-type,customerid\naccess-control-request-method: POST\naccess-control-request-private-network: true\norigin: https://domainReact:8443/react\nreferer: https://domainReact:8443/react/\nsec-fetch-dest: empty\nsec-fetch-mode: cors\nsec-fetch-site: same-site\n\nResponse:\nControl-Request-Headers\ncache-control: private\ncontent-length: 683\ncontent-type: text/html;charset=utf-8\n</code></pre>\n<p>I have two custom headers, the API is exposed with JAX-RS and has no CORS filters.</p>\n<p>I tried removing the tomcat/conf/web.xml filter, however, I received the same error. I tried consuming the service from Java and it worked without problems. The problem arises when it is consumed with React or Javascript. I added my custom headers to the Tomcat filter, but the result is the same when consumed from React.\nI still don’t understand why the headers are not visible in the response when the service is consumed. Is there something that could be misconfigured in Tomcat?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1678989118,"post_id":75752865,"comment_id":133644322,"body_markdown":"Don&#39;t put your entire project in a post. Reduce it to _only_ the code to show off the problem. If you have a button that you make transparent, show code that only sets up your frame, adds the button, and then shows off the transparency problem on mouse-over, without anything else. Have a look at the [mcve] article for tips on how to reduce your code.","body":"Don&#39;t put your entire project in a post. Reduce it to <i>only</i> the code to show off the problem. If you have a button that you make transparent, show code that only sets up your frame, adds the button, and then shows off the transparency problem on mouse-over, without anything else. Have a look at the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> article for tips on how to reduce your code."}],"owner":{"account_id":28029819,"reputation":1,"user_id":21409188,"display_name":"김명섭"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678988958,"creation_date":1678949023,"question_id":75752865,"body_markdown":"I&#39;m sorry in advance if the translation is weird.\r\n\r\nI made the button of Java transparent and inserted a rounded icon to complete the button as shown below.\r\n\r\nStrangely, however, every time you put your mouse cursor on a button, a strange white box is created. How can I solve it?\r\n\r\n(Button Part Code)\r\n```\r\n// 버튼 추가\r\n\t\tJButton DataListenBotton = new JButton(ListenBtnOff);\r\n\t\t\r\n\t\t// 위치 및 크기\r\n\t\tDataListenBotton.setBounds(388, 17, 207, 31);\r\n\t\t\r\n\t\t// 색깔 지정\r\n\t\tDataListenBotton.setBackground(new Color(0, 0, 0, 0));\r\n\t\t\r\n\t\t// 테두리 제거\r\n\t\tDataListenBotton.setBorderPainted(false);\r\n\t\t\r\n\t\t// 내용 채우기 제거\r\n\t\tDataListenBotton.setContentAreaFilled(false);\r\n\t\t\r\n\t\t// 선택 시 테두리 제거\r\n\t\tDataListenBotton.setFocusPainted(false);\r\n\t\t\r\n\t\t// 투명하게\r\n\t\tDataListenBotton.setOpaque(false);\r\n\t\t\r\n\t\t// Listen 버튼 - 추가\r\n\t\tSub_Panel_01.add(DataListenBotton);\r\n\t\t\r\n\t\tDataListenBotton.addActionListener(event -&gt; {\r\n\t\t\t\r\n\t\t\tSystem.out.println(&#39;!&#39;);\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\tDataListenBotton.addMouseListener(new java.awt.event.MouseAdapter() {\r\n\t\t    public void mouseEntered(java.awt.event.MouseEvent evt) {\r\n\t\t    \tDataListenBotton.setIcon(ListenBtnOn);\r\n\t\t    }\r\n\r\n\t\t    public void mouseExited(java.awt.event.MouseEvent evt) {\r\n\t\t    \tDataListenBotton.setIcon(ListenBtnOff);\r\n\t\t    }\r\n\t\t});\r\n```\r\n\r\n(All Code)\r\n```\r\nimport java.awt.EventQueue;\r\nimport java.awt.FlowLayout;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.border.Border;\r\nimport javax.swing.border.EmptyBorder;\r\n\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Font;\r\nimport java.awt.Graphics;\r\nimport java.awt.Image;\r\nimport java.awt.Insets;\r\nimport java.awt.event.KeyAdapter;\r\nimport java.awt.event.KeyEvent;\r\nimport java.io.BufferedReader;\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileReader;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\nimport java.net.InetSocketAddress;\r\nimport java.net.Socket;\r\nimport java.net.SocketAddress;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\nimport java.util.Properties;\r\nimport java.util.Scanner;\r\nimport java.util.concurrent.TimeUnit;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JOptionPane;\r\nimport javax.swing.SwingConstants;\r\nimport javax.swing.JComboBox;\r\nimport javax.swing.JDialog;\r\nimport javax.swing.JFileChooser;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JTextField;\r\nimport javax.swing.BorderFactory;\r\nimport javax.swing.DefaultComboBoxModel;\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JTextArea;\r\nimport javax.swing.JTable;\r\nimport java.awt.Component;\r\n\r\nimport javax.swing.table.DefaultTableCellRenderer;\r\nimport javax.swing.table.DefaultTableModel;\r\nimport javax.swing.table.TableColumnModel;\r\nimport javax.swing.JFormattedTextField;\r\nimport java.awt.Toolkit;\r\nimport java.awt.GridLayout;\r\nimport javax.swing.JRadioButton;\r\nimport javax.swing.JCheckBox;\r\nimport com.toedter.calendar.JDateChooser;\r\nimport com.toedter.components.JLocaleChooser;\r\n\r\npublic class Main_View extends JFrame {\r\n\t\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\t// 배경 패널\r\n\tprivate JPanel BackGround_Panel;\r\n\t\r\n\t// 수신 시간\r\n\tpublic static JLabel DateLabel = new JLabel(&quot;최근 데이터 수신 시간 : 2023-03-14 AM 11:05:30&quot;);\r\n\t\r\n\t// 실시간 배터리 데이터 영역\r\n\tprivate JPanel Sub_Panel_01;\r\n\t\r\n\t// 실시간 차트 영역\r\n\tprivate JPanel Sub_Panel_02;\r\n\t\r\n\t// 시리얼 설정 영역\r\n\tprivate JPanel Sub_Panel_03;\r\n\t\r\n\t// 메인 생성\r\n\tpublic static void main(String[] args) {\r\n\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// 메인 화면 생성\r\n\t\t\t\t\tMain_View frame = new Main_View();\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 화면 보이게 설정\r\n\t\t\t\t\tframe.setVisible(true);\r\n\t\t\t\t\t\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tpublic Main_View() {\r\n\t\tsetAutoRequestFocus(false);\r\n\t\t\r\n\t\t// 아이콘 설정\r\n\t\tsetIconImage(Toolkit.getDefaultToolkit().getImage(View.class.getResource(&quot;/Image/GB_ICON.png&quot;)));\r\n\t\t\r\n\t\t// 배경 색상 설정\r\n\t\tsetBackground(new Color(128, 128, 128));\r\n\t\t\r\n\t\t// 화면 크기 변경 방지 설정\r\n\t\tsetResizable(false);\r\n\t\t\r\n\t\t// 기본 폰트 설정\r\n\t\tsetFont(new Font(&quot;굴림&quot;, Font.BOLD, 12));\r\n\t\t\r\n\t\t// 타이틀 설정\r\n\t\tsetTitle(&quot;Wireless Battery Data Gathering System&quot;);\r\n\t\t\r\n\t\t// 프로그램 종료 설정\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\r\n\t\t// 화면 크기 설정(고정)\r\n\t\tsetBounds(0, 0, 1326, 521);\r\n\t\tsetSize(1326, 521);\r\n\t\t\r\n\t\t// 프로그램을 화면 가운데 정렬 설정\r\n\t\tsetLocationRelativeTo(null);\r\n\t\t\r\n\t\t// 배경 패널 추가\r\n\t\tBackGround_Panel = new JPanel();\r\n\t\t\r\n\t\t// 배경 패널 보더 설정\r\n\t\tBackGround_Panel.setBorder(null);\r\n\t\t\r\n\t\t// 배경 패널 크기\r\n\t\tBackGround_Panel.setBounds(0, 0, 1310, 482);\r\n\t\t\r\n\t\t// 배경 패널 레이아웃 설정\r\n\t\tBackGround_Panel.setLayout(null);\r\n        \r\n        // 배경 이미지 생성\r\n        ImageIcon bsImg = new ImageIcon(Main_View.class.getResource(&quot;/Image/Main_Background_Image.png&quot;));\r\n        \r\n        // 이미지를 삽입할 라벨 생성\r\n        JLabel Background_Image = new JLabel();\r\n\t\t\r\n        // 이미지 삽입\r\n        Background_Image.setIcon(bsImg);\r\n        \r\n        // 이미지 사이즈 지정\r\n        Background_Image.setBounds(0, 0, 1310, 482);\r\n        \r\n        // 선택되었을 때 이미지\r\n        ImageIcon checkBoxOn = new ImageIcon(Main_View.class.getResource(&quot;/Image/CheckToggle_On.png&quot;));\r\n        \r\n        // 선택이 안 되었을 때 이미지\r\n        ImageIcon checkBoxOff = new ImageIcon(Main_View.class.getResource(&quot;/Image/CheckToggle_Off.png&quot;));\r\n\t\t\r\n        // 체크 박스 설정 영역\r\n\t\tJCheckBox WriteLog_CheckBox = new JCheckBox(checkBoxOff);\r\n\t\t\r\n\t\t// 선택되었을 때 이미지 변경\r\n\t\tWriteLog_CheckBox.setSelectedIcon(checkBoxOn);\r\n\t\t\r\n\t\t// 위치 및 크기\r\n\t\tWriteLog_CheckBox.setBounds(614, 71, 21, 23);\r\n\t\t\r\n\t\t// 색깔 지정\r\n\t\tWriteLog_CheckBox.setBackground(new Color(0, 0, 0));\r\n\t\t\r\n\t\t// 투명하게\r\n\t\tWriteLog_CheckBox.setOpaque(false);\r\n\t\t\r\n\t\t// 체크박스 - 추가\r\n\t\tBackGround_Panel.add(WriteLog_CheckBox);\r\n\t\t\r\n\t\t// 텍스트 설정 영역\r\n\t\tJLabel WirteLog = new JLabel(&quot;Write Log&quot;);\r\n\t\tWirteLog.setHorizontalAlignment(SwingConstants.RIGHT);\r\n\t\tWirteLog.setForeground(Color.WHITE);\r\n\t\tWirteLog.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\r\n\t\tWirteLog.setBounds(546, 75, 65, 15);\r\n\t\tBackGround_Panel.add(WirteLog);\r\n\t\tDateLabel.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\r\n\t\t\r\n\t\t// 최근 수신 날짜 - 색깔 지정\r\n\t\tDateLabel.setForeground(new Color(255, 255, 255));\r\n\t\t\r\n\t\t// 최근 수신 날짜 - 위치 지정\r\n\t\tDateLabel.setBounds(66, 75, 269, 15);\r\n\t\t\r\n\t\t// 최근 수신 날짜 - 추가\r\n\t\tBackGround_Panel.add(DateLabel);\r\n\t\t\r\n\t\t// 기본 설정\r\n\t\tSub_Panel_01 = new JPanel();\r\n\t\t\r\n\t\t// 배경 패널 보더 설정\r\n\t\tSub_Panel_01.setBorder(null);\r\n\t\t\r\n\t\t// 배경 패널 보더 설정\r\n\t\tSub_Panel_01.setLayout(null);\r\n\t\t\r\n\t\t// 배경 패널 크기\r\n\t\tSub_Panel_01.setBounds(38, 89, 770, 190);\r\n\t\t\r\n\t\t// 배경 이미지 생성\r\n        ImageIcon subImage_01 = new ImageIcon(Main_View.class.getResource(&quot;/Image/Sub_Background_Image01.png&quot;));\r\n\t\t\r\n\t\t// 기본 설정\r\n\t\tSub_Panel_03 = new JPanel();\r\n\t\t\r\n\t\t// 배경 패널 보더 설정\r\n\t\tSub_Panel_03.setBorder(null);\r\n\t\t\t\t\r\n\t\t// 배경 패널 레이아웃 설정\r\n\t\tSub_Panel_03.setLayout(null);\r\n\t\t\t\t\r\n\t\t// 배경 패널 크기\r\n\t\tSub_Panel_03.setBounds(647, 89, 654, 382);\r\n\t\t\t\t\r\n\t\t// 배경 이미지\r\n\t\tJLabel Sub_Background_03 = new JLabel();\r\n\t\t\r\n\t\t// 배경 이미지 생성\r\n        ImageIcon subImage_03 = new ImageIcon(Main_View.class.getResource(&quot;/Image/Sub_Background_Image03.png&quot;));\r\n\t\t\t\t\r\n        // 이미지 삽입\r\n        Sub_Background_03.setIcon(subImage_03);\r\n        \r\n        // 이미지 사이즈 지정\r\n        Sub_Background_03.setBounds(0, 0, 654, 382);\r\n        \r\n\t\t// 투명하게\r\n\t\tSub_Panel_03.setBackground(new Color(0, 0, 0, 0));\r\n\t\t\r\n\t\t// 이미지 추가\r\n\t\tSub_Panel_03.add(Sub_Background_03);\r\n\t\t\r\n\t\t// 시리얼 설정 - 추가\r\n\t\tBackGround_Panel.add(Sub_Panel_03);\r\n        \r\n\t\t// 배경 이미지\r\n\t\tJLabel Sub_Background_01 = new JLabel();\r\n\t\t\r\n\t\t// 이미지 삽입\r\n\t\tSub_Background_01.setIcon(subImage_01);\r\n\t\t\r\n\t\t// 이미지 사이즈 지정\r\n\t\tSub_Background_01.setBounds(0, 0, 770, 190);\r\n\t\t\r\n\t\t// 투명하게\r\n\t\tSub_Panel_01.setBackground(new Color(0, 0, 0, 0));\r\n\t\t\r\n\t\tJLabel Module_Id_Text = new JLabel(&quot;01&quot;);\r\n\t\tModule_Id_Text.setFont(new Font(&quot;Gulim&quot;, Font.PLAIN, 12));\r\n\t\tModule_Id_Text.setBounds(122, 66, 102, 13);\r\n\t\tSub_Panel_01.add(Module_Id_Text);\r\n\t\t\r\n\t\tJLabel TimeStamp_Text = new JLabel(&quot;24&quot;);\r\n\t\tTimeStamp_Text.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tTimeStamp_Text.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\r\n\t\tTimeStamp_Text.setBounds(332, 66, 83, 13);\r\n\t\tSub_Panel_01.add(TimeStamp_Text);\r\n\t\t\r\n\t\tJLabel Cell_Voltage_Text_01 = new JLabel(&quot;33.42V&quot;);\r\n\t\tCell_Voltage_Text_01.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tCell_Voltage_Text_01.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\r\n\t\tCell_Voltage_Text_01.setBounds(150, 90, 83, 13);\r\n\t\tSub_Panel_01.add(Cell_Voltage_Text_01);\r\n\t\t\r\n\t\tJLabel Cell_Voltage_Text_02 = new JLabel(&quot;33.42V&quot;);\r\n\t\tCell_Voltage_Text_02.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tCell_Voltage_Text_02.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\r\n\t\tCell_Voltage_Text_02.setBounds(150, 114, 83, 13);\r\n\t\tSub_Panel_01.add(Cell_Voltage_Text_02);\r\n\t\t\r\n\t\tJLabel Cell_Voltage_Text_03 = new JLabel(&quot;33.42V&quot;);\r\n\t\tCell_Voltage_Text_03.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tCell_Voltage_Text_03.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\r\n\t\tCell_Voltage_Text_03.setBounds(150, 139, 83, 13);\r\n\t\tSub_Panel_01.add(Cell_Voltage_Text_03);\r\n\t\t\r\n\t\tJLabel Cell_Voltage_Text_04 = new JLabel(&quot;33.42V&quot;);\r\n\t\tCell_Voltage_Text_04.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tCell_Voltage_Text_04.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\r\n\t\tCell_Voltage_Text_04.setBounds(150, 163, 83, 13);\r\n\t\tSub_Panel_01.add(Cell_Voltage_Text_04);\r\n\t\t\r\n\t\tJLabel Cell_Voltage_Text_05 = new JLabel(&quot;33.42V&quot;);\r\n\t\tCell_Voltage_Text_05.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tCell_Voltage_Text_05.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\r\n\t\tCell_Voltage_Text_05.setBounds(332, 90, 83, 13);\r\n\t\tSub_Panel_01.add(Cell_Voltage_Text_05);\r\n\t\t\r\n\t\tJLabel Cell_Voltage_Text_06 = new JLabel(&quot;33.42V&quot;);\r\n\t\tCell_Voltage_Text_06.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tCell_Voltage_Text_06.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\r\n\t\tCell_Voltage_Text_06.setBounds(332, 114, 83, 13);\r\n\t\tSub_Panel_01.add(Cell_Voltage_Text_06);\r\n\t\t\r\n\t\tJLabel Cell_Voltage_Text_07 = new JLabel(&quot;33.42V&quot;);\r\n\t\tCell_Voltage_Text_07.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tCell_Voltage_Text_07.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\r\n\t\tCell_Voltage_Text_07.setBounds(332, 139, 83, 13);\r\n\t\tSub_Panel_01.add(Cell_Voltage_Text_07);\r\n\t\t\r\n\t\tJLabel Cell_Voltage_Text_08 = new JLabel(&quot;33.42V&quot;);\r\n\t\tCell_Voltage_Text_08.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tCell_Voltage_Text_08.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\r\n\t\tCell_Voltage_Text_08.setBounds(332, 163, 83, 13);\r\n\t\tSub_Panel_01.add(Cell_Voltage_Text_08);\r\n\t\t\r\n\t\tJLabel Cell_Voltage_Text_09 = new JLabel(&quot;33.42V&quot;);\r\n\t\tCell_Voltage_Text_09.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tCell_Voltage_Text_09.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\r\n\t\tCell_Voltage_Text_09.setBounds(533, 66, 83, 13);\r\n\t\tSub_Panel_01.add(Cell_Voltage_Text_09);\r\n\t\t\r\n\t\tJLabel Cell_Voltage_Text_10 = new JLabel(&quot;33.42V&quot;);\r\n\t\tCell_Voltage_Text_10.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tCell_Voltage_Text_10.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\r\n\t\tCell_Voltage_Text_10.setBounds(533, 90, 83, 13);\r\n\t\tSub_Panel_01.add(Cell_Voltage_Text_10);\r\n\t\t\r\n\t\tJLabel Cell_Temperature_Text_01 = new JLabel(&quot;21.32&#176;C&quot;);\r\n\t\tCell_Temperature_Text_01.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tCell_Temperature_Text_01.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\r\n\t\tCell_Temperature_Text_01.setBounds(533, 114, 83, 13);\r\n\t\tSub_Panel_01.add(Cell_Temperature_Text_01);\r\n\t\t\r\n\t\tJLabel Cell_Temperature_Text_02 = new JLabel(&quot;21.32&#176;C&quot;);\r\n\t\tCell_Temperature_Text_02.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tCell_Temperature_Text_02.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\r\n\t\tCell_Temperature_Text_02.setBounds(533, 139, 83, 13);\r\n\t\tSub_Panel_01.add(Cell_Temperature_Text_02);\r\n\t\t\r\n\t\tJLabel Cell_Temperature_Text_03 = new JLabel(&quot;21.32&#176;C&quot;);\r\n\t\tCell_Temperature_Text_03.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tCell_Temperature_Text_03.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\r\n\t\tCell_Temperature_Text_03.setBounds(533, 163, 83, 13);\r\n\t\tSub_Panel_01.add(Cell_Temperature_Text_03);\r\n\t\t\r\n\t\t// 선택되었을 때 이미지\r\n        ImageIcon ListenBtnOn = new ImageIcon(Main_View.class.getResource(&quot;/Image/Button_Listen_Image_On.png&quot;));\r\n        \r\n        // 선택이 안 되었을 때 이미지\r\n        ImageIcon ListenBtnOff = new ImageIcon(Main_View.class.getResource(&quot;/Image/Button_Listen_Image_Off.png&quot;));\r\n\t\t\r\n\t\t// 버튼 추가\r\n\t\tJButton DataListenBotton = new JButton(ListenBtnOff);\r\n\t\t\r\n\t\t// 위치 및 크기\r\n\t\tDataListenBotton.setBounds(388, 17, 207, 31);\r\n\t\t\r\n\t\t// 색깔 지정\r\n\t\tDataListenBotton.setBackground(new Color(0, 0, 0, 0));\r\n\t\t\r\n\t\t// 테두리 제거\r\n\t\tDataListenBotton.setBorderPainted(false);\r\n\t\t\r\n\t\t// 내용 채우기 제거\r\n\t\tDataListenBotton.setContentAreaFilled(false);\r\n\t\t\r\n\t\t// 선택 시 테두리 제거\r\n\t\tDataListenBotton.setFocusPainted(false);\r\n\t\t\r\n\t\t// 투명하게\r\n\t\tDataListenBotton.setOpaque(false);\r\n\t\t\r\n\t\t// Listen 버튼 - 추가\r\n\t\tSub_Panel_01.add(DataListenBotton);\r\n\t\t\r\n\t\tDataListenBotton.addActionListener(event -&gt; {\r\n\t\t\t\r\n\t\t\tSystem.out.println(&#39;!&#39;);\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\tDataListenBotton.addMouseListener(new java.awt.event.MouseAdapter() {\r\n\t\t    public void mouseEntered(java.awt.event.MouseEvent evt) {\r\n\t\t    \tDataListenBotton.setIcon(ListenBtnOn);\r\n\t\t    }\r\n\r\n\t\t    public void mouseExited(java.awt.event.MouseEvent evt) {\r\n\t\t    \tDataListenBotton.setIcon(ListenBtnOff);\r\n\t\t    }\r\n\t\t});\r\n\t\t\r\n\t\t// 이미지 추가\r\n\t\tSub_Panel_01.add(Sub_Background_01);\r\n\t\t\r\n\t\t// 실시간 데이터 확인 - 추가\r\n\t\tBackGround_Panel.add(Sub_Panel_01);\r\n\t\t\r\n\t\t// 기본 설정\r\n\t\tSub_Panel_02 = new JPanel();\r\n\t\t\r\n\t\t// 배경 패널 보더 설정\r\n\t\tSub_Panel_02.setBorder(null);\r\n\t\t\r\n\t\t// 배경 패널 레이아웃 설정\r\n\t\tSub_Panel_02.setLayout(null);\r\n\t\t\r\n\t\t// 배경 패널 크기\r\n\t\tSub_Panel_02.setBounds(38, 280, 770, 190);\r\n\t\t\r\n\t\t// 배경 이미지 생성\r\n        ImageIcon subImage_02 = new ImageIcon(Main_View.class.getResource(&quot;/Image/Sub_Background_Image02.png&quot;));\r\n\t\t\r\n        // 배경 이미지\r\n\t\tJLabel Sub_Background_02 = new JLabel();\r\n\t\t\r\n\t\t// 이미지 삽입\r\n\t\tSub_Background_02.setIcon(subImage_02);\r\n\t\t\r\n\t\t// 이미지 사이즈 지정\r\n\t\tSub_Background_02.setBounds(0, 0, 770, 190);\r\n\t\t\r\n\t\t// 투명하게\r\n\t\tSub_Panel_02.setBackground(new Color(0, 0, 0, 0));\r\n\t\t\r\n\t\t// 이미지 추가\r\n\t\tSub_Panel_02.add(Sub_Background_02);\r\n\t\t\r\n\t\t// 실시간 데이터 확인 - 추가\r\n\t\tBackGround_Panel.add(Sub_Panel_02);\r\n\t\t\r\n\t\t// 배경 이미지 삽입\r\n\t\tBackGround_Panel.add(Background_Image);\r\n\t\t\r\n\t\t// 배경 패널 추가\r\n\t\tsetContentPane(BackGround_Panel);\r\n\t}\r\n}\r\n\r\n```\r\n\r\n(picture of the problem)\r\n\r\nThe first time you turned on the program (normal)\r\n[enter image description here](https://i.stack.imgur.com/Ie7xP.png)\r\n\r\nBring the mouse cursor over (a translucent white box appears)\r\n[enter image description here](https://i.stack.imgur.com/1vDLO.png)\r\n\r\nBring the mouse cursor over several times (whiter and then completely white)\r\n[enter image description here](https://i.stack.imgur.com/FtIf4.png)\r\n\r\n\r\n```\r\n// 색깔 지정\r\n\t\tDataListenBotton.setBackground(new Color(0, 0, 0, 0));\r\n\t\t\r\n\t\t// 테두리 제거\r\n\t\tDataListenBotton.setBorderPainted(false);\r\n\t\t\r\n\t\t// 내용 채우기 제거\r\n\t\tDataListenBotton.setContentAreaFilled(false);\r\n\t\t\r\n\t\t// 선택 시 테두리 제거\r\n\t\tDataListenBotton.setFocusPainted(false);\r\n\t\t\r\n\t\t// 투명하게\r\n\t\tDataListenBotton.setOpaque(false);\r\n```\r\n","title":"I made the button of Java Swing transparent and inserted the image, and a white box occurs","body":"<p>I'm sorry in advance if the translation is weird.</p>\n<p>I made the button of Java transparent and inserted a rounded icon to complete the button as shown below.</p>\n<p>Strangely, however, every time you put your mouse cursor on a button, a strange white box is created. How can I solve it?</p>\n<p>(Button Part Code)</p>\n<pre><code>// 버튼 추가\n        JButton DataListenBotton = new JButton(ListenBtnOff);\n        \n        // 위치 및 크기\n        DataListenBotton.setBounds(388, 17, 207, 31);\n        \n        // 색깔 지정\n        DataListenBotton.setBackground(new Color(0, 0, 0, 0));\n        \n        // 테두리 제거\n        DataListenBotton.setBorderPainted(false);\n        \n        // 내용 채우기 제거\n        DataListenBotton.setContentAreaFilled(false);\n        \n        // 선택 시 테두리 제거\n        DataListenBotton.setFocusPainted(false);\n        \n        // 투명하게\n        DataListenBotton.setOpaque(false);\n        \n        // Listen 버튼 - 추가\n        Sub_Panel_01.add(DataListenBotton);\n        \n        DataListenBotton.addActionListener(event -&gt; {\n            \n            System.out.println('!');\n            \n        });\n        \n        DataListenBotton.addMouseListener(new java.awt.event.MouseAdapter() {\n            public void mouseEntered(java.awt.event.MouseEvent evt) {\n                DataListenBotton.setIcon(ListenBtnOn);\n            }\n\n            public void mouseExited(java.awt.event.MouseEvent evt) {\n                DataListenBotton.setIcon(ListenBtnOff);\n            }\n        });\n</code></pre>\n<p>(All Code)</p>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.FlowLayout;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.border.Border;\nimport javax.swing.border.EmptyBorder;\n\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Font;\nimport java.awt.Graphics;\nimport java.awt.Image;\nimport java.awt.Insets;\nimport java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\nimport java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.net.InetSocketAddress;\nimport java.net.Socket;\nimport java.net.SocketAddress;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.Properties;\nimport java.util.Scanner;\nimport java.util.concurrent.TimeUnit;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.SwingConstants;\nimport javax.swing.JComboBox;\nimport javax.swing.JDialog;\nimport javax.swing.JFileChooser;\nimport javax.swing.JButton;\nimport javax.swing.JTextField;\nimport javax.swing.BorderFactory;\nimport javax.swing.DefaultComboBoxModel;\nimport javax.swing.ImageIcon;\nimport javax.swing.JTextArea;\nimport javax.swing.JTable;\nimport java.awt.Component;\n\nimport javax.swing.table.DefaultTableCellRenderer;\nimport javax.swing.table.DefaultTableModel;\nimport javax.swing.table.TableColumnModel;\nimport javax.swing.JFormattedTextField;\nimport java.awt.Toolkit;\nimport java.awt.GridLayout;\nimport javax.swing.JRadioButton;\nimport javax.swing.JCheckBox;\nimport com.toedter.calendar.JDateChooser;\nimport com.toedter.components.JLocaleChooser;\n\npublic class Main_View extends JFrame {\n    \n    private static final long serialVersionUID = 1L;\n    \n    // 배경 패널\n    private JPanel BackGround_Panel;\n    \n    // 수신 시간\n    public static JLabel DateLabel = new JLabel(&quot;최근 데이터 수신 시간 : 2023-03-14 AM 11:05:30&quot;);\n    \n    // 실시간 배터리 데이터 영역\n    private JPanel Sub_Panel_01;\n    \n    // 실시간 차트 영역\n    private JPanel Sub_Panel_02;\n    \n    // 시리얼 설정 영역\n    private JPanel Sub_Panel_03;\n    \n    // 메인 생성\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    // 메인 화면 생성\n                    Main_View frame = new Main_View();\n                    \n                    // 화면 보이게 설정\n                    frame.setVisible(true);\n                    \n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    public Main_View() {\n        setAutoRequestFocus(false);\n        \n        // 아이콘 설정\n        setIconImage(Toolkit.getDefaultToolkit().getImage(View.class.getResource(&quot;/Image/GB_ICON.png&quot;)));\n        \n        // 배경 색상 설정\n        setBackground(new Color(128, 128, 128));\n        \n        // 화면 크기 변경 방지 설정\n        setResizable(false);\n        \n        // 기본 폰트 설정\n        setFont(new Font(&quot;굴림&quot;, Font.BOLD, 12));\n        \n        // 타이틀 설정\n        setTitle(&quot;Wireless Battery Data Gathering System&quot;);\n        \n        // 프로그램 종료 설정\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        // 화면 크기 설정(고정)\n        setBounds(0, 0, 1326, 521);\n        setSize(1326, 521);\n        \n        // 프로그램을 화면 가운데 정렬 설정\n        setLocationRelativeTo(null);\n        \n        // 배경 패널 추가\n        BackGround_Panel = new JPanel();\n        \n        // 배경 패널 보더 설정\n        BackGround_Panel.setBorder(null);\n        \n        // 배경 패널 크기\n        BackGround_Panel.setBounds(0, 0, 1310, 482);\n        \n        // 배경 패널 레이아웃 설정\n        BackGround_Panel.setLayout(null);\n        \n        // 배경 이미지 생성\n        ImageIcon bsImg = new ImageIcon(Main_View.class.getResource(&quot;/Image/Main_Background_Image.png&quot;));\n        \n        // 이미지를 삽입할 라벨 생성\n        JLabel Background_Image = new JLabel();\n        \n        // 이미지 삽입\n        Background_Image.setIcon(bsImg);\n        \n        // 이미지 사이즈 지정\n        Background_Image.setBounds(0, 0, 1310, 482);\n        \n        // 선택되었을 때 이미지\n        ImageIcon checkBoxOn = new ImageIcon(Main_View.class.getResource(&quot;/Image/CheckToggle_On.png&quot;));\n        \n        // 선택이 안 되었을 때 이미지\n        ImageIcon checkBoxOff = new ImageIcon(Main_View.class.getResource(&quot;/Image/CheckToggle_Off.png&quot;));\n        \n        // 체크 박스 설정 영역\n        JCheckBox WriteLog_CheckBox = new JCheckBox(checkBoxOff);\n        \n        // 선택되었을 때 이미지 변경\n        WriteLog_CheckBox.setSelectedIcon(checkBoxOn);\n        \n        // 위치 및 크기\n        WriteLog_CheckBox.setBounds(614, 71, 21, 23);\n        \n        // 색깔 지정\n        WriteLog_CheckBox.setBackground(new Color(0, 0, 0));\n        \n        // 투명하게\n        WriteLog_CheckBox.setOpaque(false);\n        \n        // 체크박스 - 추가\n        BackGround_Panel.add(WriteLog_CheckBox);\n        \n        // 텍스트 설정 영역\n        JLabel WirteLog = new JLabel(&quot;Write Log&quot;);\n        WirteLog.setHorizontalAlignment(SwingConstants.RIGHT);\n        WirteLog.setForeground(Color.WHITE);\n        WirteLog.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\n        WirteLog.setBounds(546, 75, 65, 15);\n        BackGround_Panel.add(WirteLog);\n        DateLabel.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\n        \n        // 최근 수신 날짜 - 색깔 지정\n        DateLabel.setForeground(new Color(255, 255, 255));\n        \n        // 최근 수신 날짜 - 위치 지정\n        DateLabel.setBounds(66, 75, 269, 15);\n        \n        // 최근 수신 날짜 - 추가\n        BackGround_Panel.add(DateLabel);\n        \n        // 기본 설정\n        Sub_Panel_01 = new JPanel();\n        \n        // 배경 패널 보더 설정\n        Sub_Panel_01.setBorder(null);\n        \n        // 배경 패널 보더 설정\n        Sub_Panel_01.setLayout(null);\n        \n        // 배경 패널 크기\n        Sub_Panel_01.setBounds(38, 89, 770, 190);\n        \n        // 배경 이미지 생성\n        ImageIcon subImage_01 = new ImageIcon(Main_View.class.getResource(&quot;/Image/Sub_Background_Image01.png&quot;));\n        \n        // 기본 설정\n        Sub_Panel_03 = new JPanel();\n        \n        // 배경 패널 보더 설정\n        Sub_Panel_03.setBorder(null);\n                \n        // 배경 패널 레이아웃 설정\n        Sub_Panel_03.setLayout(null);\n                \n        // 배경 패널 크기\n        Sub_Panel_03.setBounds(647, 89, 654, 382);\n                \n        // 배경 이미지\n        JLabel Sub_Background_03 = new JLabel();\n        \n        // 배경 이미지 생성\n        ImageIcon subImage_03 = new ImageIcon(Main_View.class.getResource(&quot;/Image/Sub_Background_Image03.png&quot;));\n                \n        // 이미지 삽입\n        Sub_Background_03.setIcon(subImage_03);\n        \n        // 이미지 사이즈 지정\n        Sub_Background_03.setBounds(0, 0, 654, 382);\n        \n        // 투명하게\n        Sub_Panel_03.setBackground(new Color(0, 0, 0, 0));\n        \n        // 이미지 추가\n        Sub_Panel_03.add(Sub_Background_03);\n        \n        // 시리얼 설정 - 추가\n        BackGround_Panel.add(Sub_Panel_03);\n        \n        // 배경 이미지\n        JLabel Sub_Background_01 = new JLabel();\n        \n        // 이미지 삽입\n        Sub_Background_01.setIcon(subImage_01);\n        \n        // 이미지 사이즈 지정\n        Sub_Background_01.setBounds(0, 0, 770, 190);\n        \n        // 투명하게\n        Sub_Panel_01.setBackground(new Color(0, 0, 0, 0));\n        \n        JLabel Module_Id_Text = new JLabel(&quot;01&quot;);\n        Module_Id_Text.setFont(new Font(&quot;Gulim&quot;, Font.PLAIN, 12));\n        Module_Id_Text.setBounds(122, 66, 102, 13);\n        Sub_Panel_01.add(Module_Id_Text);\n        \n        JLabel TimeStamp_Text = new JLabel(&quot;24&quot;);\n        TimeStamp_Text.setHorizontalAlignment(SwingConstants.CENTER);\n        TimeStamp_Text.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\n        TimeStamp_Text.setBounds(332, 66, 83, 13);\n        Sub_Panel_01.add(TimeStamp_Text);\n        \n        JLabel Cell_Voltage_Text_01 = new JLabel(&quot;33.42V&quot;);\n        Cell_Voltage_Text_01.setHorizontalAlignment(SwingConstants.CENTER);\n        Cell_Voltage_Text_01.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\n        Cell_Voltage_Text_01.setBounds(150, 90, 83, 13);\n        Sub_Panel_01.add(Cell_Voltage_Text_01);\n        \n        JLabel Cell_Voltage_Text_02 = new JLabel(&quot;33.42V&quot;);\n        Cell_Voltage_Text_02.setHorizontalAlignment(SwingConstants.CENTER);\n        Cell_Voltage_Text_02.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\n        Cell_Voltage_Text_02.setBounds(150, 114, 83, 13);\n        Sub_Panel_01.add(Cell_Voltage_Text_02);\n        \n        JLabel Cell_Voltage_Text_03 = new JLabel(&quot;33.42V&quot;);\n        Cell_Voltage_Text_03.setHorizontalAlignment(SwingConstants.CENTER);\n        Cell_Voltage_Text_03.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\n        Cell_Voltage_Text_03.setBounds(150, 139, 83, 13);\n        Sub_Panel_01.add(Cell_Voltage_Text_03);\n        \n        JLabel Cell_Voltage_Text_04 = new JLabel(&quot;33.42V&quot;);\n        Cell_Voltage_Text_04.setHorizontalAlignment(SwingConstants.CENTER);\n        Cell_Voltage_Text_04.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\n        Cell_Voltage_Text_04.setBounds(150, 163, 83, 13);\n        Sub_Panel_01.add(Cell_Voltage_Text_04);\n        \n        JLabel Cell_Voltage_Text_05 = new JLabel(&quot;33.42V&quot;);\n        Cell_Voltage_Text_05.setHorizontalAlignment(SwingConstants.CENTER);\n        Cell_Voltage_Text_05.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\n        Cell_Voltage_Text_05.setBounds(332, 90, 83, 13);\n        Sub_Panel_01.add(Cell_Voltage_Text_05);\n        \n        JLabel Cell_Voltage_Text_06 = new JLabel(&quot;33.42V&quot;);\n        Cell_Voltage_Text_06.setHorizontalAlignment(SwingConstants.CENTER);\n        Cell_Voltage_Text_06.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\n        Cell_Voltage_Text_06.setBounds(332, 114, 83, 13);\n        Sub_Panel_01.add(Cell_Voltage_Text_06);\n        \n        JLabel Cell_Voltage_Text_07 = new JLabel(&quot;33.42V&quot;);\n        Cell_Voltage_Text_07.setHorizontalAlignment(SwingConstants.CENTER);\n        Cell_Voltage_Text_07.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\n        Cell_Voltage_Text_07.setBounds(332, 139, 83, 13);\n        Sub_Panel_01.add(Cell_Voltage_Text_07);\n        \n        JLabel Cell_Voltage_Text_08 = new JLabel(&quot;33.42V&quot;);\n        Cell_Voltage_Text_08.setHorizontalAlignment(SwingConstants.CENTER);\n        Cell_Voltage_Text_08.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\n        Cell_Voltage_Text_08.setBounds(332, 163, 83, 13);\n        Sub_Panel_01.add(Cell_Voltage_Text_08);\n        \n        JLabel Cell_Voltage_Text_09 = new JLabel(&quot;33.42V&quot;);\n        Cell_Voltage_Text_09.setHorizontalAlignment(SwingConstants.CENTER);\n        Cell_Voltage_Text_09.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\n        Cell_Voltage_Text_09.setBounds(533, 66, 83, 13);\n        Sub_Panel_01.add(Cell_Voltage_Text_09);\n        \n        JLabel Cell_Voltage_Text_10 = new JLabel(&quot;33.42V&quot;);\n        Cell_Voltage_Text_10.setHorizontalAlignment(SwingConstants.CENTER);\n        Cell_Voltage_Text_10.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\n        Cell_Voltage_Text_10.setBounds(533, 90, 83, 13);\n        Sub_Panel_01.add(Cell_Voltage_Text_10);\n        \n        JLabel Cell_Temperature_Text_01 = new JLabel(&quot;21.32°C&quot;);\n        Cell_Temperature_Text_01.setHorizontalAlignment(SwingConstants.CENTER);\n        Cell_Temperature_Text_01.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\n        Cell_Temperature_Text_01.setBounds(533, 114, 83, 13);\n        Sub_Panel_01.add(Cell_Temperature_Text_01);\n        \n        JLabel Cell_Temperature_Text_02 = new JLabel(&quot;21.32°C&quot;);\n        Cell_Temperature_Text_02.setHorizontalAlignment(SwingConstants.CENTER);\n        Cell_Temperature_Text_02.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\n        Cell_Temperature_Text_02.setBounds(533, 139, 83, 13);\n        Sub_Panel_01.add(Cell_Temperature_Text_02);\n        \n        JLabel Cell_Temperature_Text_03 = new JLabel(&quot;21.32°C&quot;);\n        Cell_Temperature_Text_03.setHorizontalAlignment(SwingConstants.CENTER);\n        Cell_Temperature_Text_03.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 12));\n        Cell_Temperature_Text_03.setBounds(533, 163, 83, 13);\n        Sub_Panel_01.add(Cell_Temperature_Text_03);\n        \n        // 선택되었을 때 이미지\n        ImageIcon ListenBtnOn = new ImageIcon(Main_View.class.getResource(&quot;/Image/Button_Listen_Image_On.png&quot;));\n        \n        // 선택이 안 되었을 때 이미지\n        ImageIcon ListenBtnOff = new ImageIcon(Main_View.class.getResource(&quot;/Image/Button_Listen_Image_Off.png&quot;));\n        \n        // 버튼 추가\n        JButton DataListenBotton = new JButton(ListenBtnOff);\n        \n        // 위치 및 크기\n        DataListenBotton.setBounds(388, 17, 207, 31);\n        \n        // 색깔 지정\n        DataListenBotton.setBackground(new Color(0, 0, 0, 0));\n        \n        // 테두리 제거\n        DataListenBotton.setBorderPainted(false);\n        \n        // 내용 채우기 제거\n        DataListenBotton.setContentAreaFilled(false);\n        \n        // 선택 시 테두리 제거\n        DataListenBotton.setFocusPainted(false);\n        \n        // 투명하게\n        DataListenBotton.setOpaque(false);\n        \n        // Listen 버튼 - 추가\n        Sub_Panel_01.add(DataListenBotton);\n        \n        DataListenBotton.addActionListener(event -&gt; {\n            \n            System.out.println('!');\n            \n        });\n        \n        DataListenBotton.addMouseListener(new java.awt.event.MouseAdapter() {\n            public void mouseEntered(java.awt.event.MouseEvent evt) {\n                DataListenBotton.setIcon(ListenBtnOn);\n            }\n\n            public void mouseExited(java.awt.event.MouseEvent evt) {\n                DataListenBotton.setIcon(ListenBtnOff);\n            }\n        });\n        \n        // 이미지 추가\n        Sub_Panel_01.add(Sub_Background_01);\n        \n        // 실시간 데이터 확인 - 추가\n        BackGround_Panel.add(Sub_Panel_01);\n        \n        // 기본 설정\n        Sub_Panel_02 = new JPanel();\n        \n        // 배경 패널 보더 설정\n        Sub_Panel_02.setBorder(null);\n        \n        // 배경 패널 레이아웃 설정\n        Sub_Panel_02.setLayout(null);\n        \n        // 배경 패널 크기\n        Sub_Panel_02.setBounds(38, 280, 770, 190);\n        \n        // 배경 이미지 생성\n        ImageIcon subImage_02 = new ImageIcon(Main_View.class.getResource(&quot;/Image/Sub_Background_Image02.png&quot;));\n        \n        // 배경 이미지\n        JLabel Sub_Background_02 = new JLabel();\n        \n        // 이미지 삽입\n        Sub_Background_02.setIcon(subImage_02);\n        \n        // 이미지 사이즈 지정\n        Sub_Background_02.setBounds(0, 0, 770, 190);\n        \n        // 투명하게\n        Sub_Panel_02.setBackground(new Color(0, 0, 0, 0));\n        \n        // 이미지 추가\n        Sub_Panel_02.add(Sub_Background_02);\n        \n        // 실시간 데이터 확인 - 추가\n        BackGround_Panel.add(Sub_Panel_02);\n        \n        // 배경 이미지 삽입\n        BackGround_Panel.add(Background_Image);\n        \n        // 배경 패널 추가\n        setContentPane(BackGround_Panel);\n    }\n}\n\n</code></pre>\n<p>(picture of the problem)</p>\n<p>The first time you turned on the program (normal)\n<a href=\"https://i.stack.imgur.com/Ie7xP.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Bring the mouse cursor over (a translucent white box appears)\n<a href=\"https://i.stack.imgur.com/1vDLO.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Bring the mouse cursor over several times (whiter and then completely white)\n<a href=\"https://i.stack.imgur.com/FtIf4.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>// 색깔 지정\n        DataListenBotton.setBackground(new Color(0, 0, 0, 0));\n        \n        // 테두리 제거\n        DataListenBotton.setBorderPainted(false);\n        \n        // 내용 채우기 제거\n        DataListenBotton.setContentAreaFilled(false);\n        \n        // 선택 시 테두리 제거\n        DataListenBotton.setFocusPainted(false);\n        \n        // 투명하게\n        DataListenBotton.setOpaque(false);\n</code></pre>\n"},{"tags":["java","spring","reactive-programming","spring-webflux","server-response"],"answers":[{"tags":[],"owner":{"account_id":8499365,"reputation":51,"user_id":6372930,"display_name":"Yiğit Anıl"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1584879662,"creation_date":1584879662,"answer_id":60799233,"question_id":60740572,"body_markdown":"As far as i know **ServerResponse** is used at the controller or router function.\r\nFor testing you can use **WebTestClient**\r\n\r\n\r\n\r\n    @Autowired\r\n\tWebTestClient webTestClient;\r\n\t\r\n\r\n\t@Test\r\n\tvoid test() {\r\n\r\n\t\twebTestClient.get()\r\n\t\t\t\t.exchange()\r\n\t\t\t\t.expectStatus()\r\n\t\t\t\t.isOk()\r\n\t\t\t\t.expectHeader()\r\n\t\t\t\t.contentType(MediaType.APPLICATION_JSON)\r\n\t\t\t\t.expectBody()\r\n\t\t\t\t.jsonPath(&quot;data.name&quot;).isEqualTo(&quot;name&quot;);\r\n\t\t\t\t\r\n\r\n\t}\r\n\r\n\r\nor\r\n\r\n    @Autowired\r\n\tWebTestClient webTestClient;\r\n\t\r\n\r\n\t@Test\r\n\tvoid test() {\r\n\r\n\t\tFluxExchangeResult&lt;String&gt; result = webTestClient.get()\r\n\t\t\t\t.exchange()\r\n\t\t\t\t.returnResult(String.class);\r\n\r\n\t\tint rawStatusCode = result.getRawStatusCode();\r\n\t\tHttpStatus status = result.getStatus();\r\n\t\tHttpHeaders responseHeaders = result.getResponseHeaders();\r\n\t\tString stringResponseBody = result.getResponseBody().blockFirst();\r\n\t\t\t\t\r\n\t}\r\n","title":"How to get body as String from ServerResponse for test?","body":"<p>As far as i know <strong>ServerResponse</strong> is used at the controller or router function.\nFor testing you can use <strong>WebTestClient</strong></p>\n\n<pre><code>@Autowired\nWebTestClient webTestClient;\n\n\n@Test\nvoid test() {\n\n    webTestClient.get()\n            .exchange()\n            .expectStatus()\n            .isOk()\n            .expectHeader()\n            .contentType(MediaType.APPLICATION_JSON)\n            .expectBody()\n            .jsonPath(\"data.name\").isEqualTo(\"name\");\n\n\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>@Autowired\nWebTestClient webTestClient;\n\n\n@Test\nvoid test() {\n\n    FluxExchangeResult&lt;String&gt; result = webTestClient.get()\n            .exchange()\n            .returnResult(String.class);\n\n    int rawStatusCode = result.getRawStatusCode();\n    HttpStatus status = result.getStatus();\n    HttpHeaders responseHeaders = result.getResponseHeaders();\n    String stringResponseBody = result.getResponseBody().blockFirst();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7815823,"reputation":300,"user_id":5910564,"display_name":"Alan Yeung"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1596066706,"creation_date":1596066706,"answer_id":63164161,"question_id":60740572,"body_markdown":"I was digging around for something similar for unit testing purposes, and stitched together the below code. It&#39;s in Kotlin, but should be relatively easy to translate to Java and solve your problem (though it definitely does seem a bit hacky). \r\n\r\n```\r\n    fun fetchBodyAsString(serverResponse: ServerResponse): String {\r\n        val DEFAULT_CONTEXT: ServerResponse.Context = object : ServerResponse.Context {\r\n            override fun messageWriters(): List&lt;HttpMessageWriter&lt;*&gt;&gt; {\r\n                return HandlerStrategies.withDefaults().messageWriters()\r\n            }\r\n\r\n            override fun viewResolvers(): List&lt;ViewResolver&gt; {\r\n                return Collections.emptyList()\r\n            }\r\n        }\r\n\r\n        // Only way I could figure out how to get the ServerResponse body was to have it write to an exchange\r\n        val request = MockServerHttpRequest.get(&quot;http://thisdoenstmatter.com&quot;).build()\r\n        val exchange = MockServerWebExchange.from(request)\r\n        serverResponse.writeTo(exchange, DEFAULT_CONTEXT).block()\r\n        val response = exchange.response\r\n        return response.bodyAsString.block()!!\r\n    }\r\n```\r\n\r\nBasically needed to create a fake `MockServerWebExchange` and have the `ServerResponse` write to it to translate it into a `MockServerHttpResponse` of which you can pull the response body out of fairly painlessly. This is definitely not elegant, but it works. \r\n\r\nAlso note, I didn&#39;t test the above function itself, just that it compiles. It should work though as the function&#39;s inner code is exactly what we&#39;re using.\r\n\r\nAs for your other questions about `ServerResponse`, I don&#39;t know the answers, but am curious about that as well!","title":"How to get body as String from ServerResponse for test?","body":"<p>I was digging around for something similar for unit testing purposes, and stitched together the below code. It's in Kotlin, but should be relatively easy to translate to Java and solve your problem (though it definitely does seem a bit hacky).</p>\n<pre><code>    fun fetchBodyAsString(serverResponse: ServerResponse): String {\n        val DEFAULT_CONTEXT: ServerResponse.Context = object : ServerResponse.Context {\n            override fun messageWriters(): List&lt;HttpMessageWriter&lt;*&gt;&gt; {\n                return HandlerStrategies.withDefaults().messageWriters()\n            }\n\n            override fun viewResolvers(): List&lt;ViewResolver&gt; {\n                return Collections.emptyList()\n            }\n        }\n\n        // Only way I could figure out how to get the ServerResponse body was to have it write to an exchange\n        val request = MockServerHttpRequest.get(&quot;http://thisdoenstmatter.com&quot;).build()\n        val exchange = MockServerWebExchange.from(request)\n        serverResponse.writeTo(exchange, DEFAULT_CONTEXT).block()\n        val response = exchange.response\n        return response.bodyAsString.block()!!\n    }\n</code></pre>\n<p>Basically needed to create a fake <code>MockServerWebExchange</code> and have the <code>ServerResponse</code> write to it to translate it into a <code>MockServerHttpResponse</code> of which you can pull the response body out of fairly painlessly. This is definitely not elegant, but it works.</p>\n<p>Also note, I didn't test the above function itself, just that it compiles. It should work though as the function's inner code is exactly what we're using.</p>\n<p>As for your other questions about <code>ServerResponse</code>, I don't know the answers, but am curious about that as well!</p>\n"},{"tags":[],"owner":{"account_id":3237003,"reputation":1250,"user_id":2730950,"display_name":"Vladimir"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611608329,"creation_date":1611608329,"answer_id":65892338,"question_id":60740572,"body_markdown":"This is based on Alan Yeung solution above, except in Java. There has to be a better &#39;native&#39; way to do this without loading application context.\r\n\r\n\r\n    public class ServerResponseExtractor {\r\n    \r\n      public static &lt;T&gt; T serverResponseAsObject(ServerResponse serverResponse,\r\n          ObjectMapper mapper, Class&lt;T&gt; type) {\r\n        String response = serverResponseAsString(serverResponse);\r\n        try {\r\n          return mapper.readValue(response, type);\r\n        } catch (JsonProcessingException e) {\r\n          throw new RuntimeException(e);\r\n        }\r\n      }\r\n    \r\n      public static String serverResponseAsString(ServerResponse serverResponse) {\r\n        MockServerWebExchange exchange = MockServerWebExchange.from(\r\n                MockServerHttpRequest.get(&quot;/foo/foo&quot;));\r\n    \r\n        DebugServerContext debugServerContext = new DebugServerContext();\r\n        serverResponse.writeTo(exchange, debugServerContext).block();\r\n    \r\n        MockServerHttpResponse response = exchange.getResponse();\r\n        return response.getBodyAsString().block();\r\n    \r\n      }\r\n    \r\n      private static class DebugServerContext implements ServerResponse.Context {\r\n        @Override\r\n        public List&lt;HttpMessageWriter&lt;?&gt;&gt; messageWriters() {\r\n          return HandlerStrategies.withDefaults().messageWriters();\r\n        }\r\n        @Override\r\n        public List&lt;ViewResolver&gt; viewResolvers() {\r\n          return Collections.emptyList();\r\n        }\r\n      }\r\n    \r\n    }","title":"How to get body as String from ServerResponse for test?","body":"<p>This is based on Alan Yeung solution above, except in Java. There has to be a better 'native' way to do this without loading application context.</p>\n<pre><code>public class ServerResponseExtractor {\n\n  public static &lt;T&gt; T serverResponseAsObject(ServerResponse serverResponse,\n      ObjectMapper mapper, Class&lt;T&gt; type) {\n    String response = serverResponseAsString(serverResponse);\n    try {\n      return mapper.readValue(response, type);\n    } catch (JsonProcessingException e) {\n      throw new RuntimeException(e);\n    }\n  }\n\n  public static String serverResponseAsString(ServerResponse serverResponse) {\n    MockServerWebExchange exchange = MockServerWebExchange.from(\n            MockServerHttpRequest.get(&quot;/foo/foo&quot;));\n\n    DebugServerContext debugServerContext = new DebugServerContext();\n    serverResponse.writeTo(exchange, debugServerContext).block();\n\n    MockServerHttpResponse response = exchange.getResponse();\n    return response.getBodyAsString().block();\n\n  }\n\n  private static class DebugServerContext implements ServerResponse.Context {\n    @Override\n    public List&lt;HttpMessageWriter&lt;?&gt;&gt; messageWriters() {\n      return HandlerStrategies.withDefaults().messageWriters();\n    }\n    @Override\n    public List&lt;ViewResolver&gt; viewResolvers() {\n      return Collections.emptyList();\n    }\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":239994,"reputation":24567,"user_id":509967,"accept_rate":74,"display_name":"Bobbake4"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674664887,"creation_date":1674664887,"answer_id":75237158,"question_id":60740572,"body_markdown":"Another way to test the body inside a unit test is to cast the `ServerResponse` to an `EntityResponse`. This does show a warning for an unchecked cast but inside a controlled unit test I wasn&#39;t too worried about it. This just exposes the object that was set using `bodyValue()` before it is serialized. If you are trying to test the serialization of said body this might not work for your needs.\r\n\r\n\r\n```kotlin\r\nval entityResponse = serverResponse as EntityResponse&lt;{ Insert Class of Body }&gt;\r\nval bodyObject = entityResponse.entity()\r\n\r\n```","title":"How to get body as String from ServerResponse for test?","body":"<p>Another way to test the body inside a unit test is to cast the <code>ServerResponse</code> to an <code>EntityResponse</code>. This does show a warning for an unchecked cast but inside a controlled unit test I wasn't too worried about it. This just exposes the object that was set using <code>bodyValue()</code> before it is serialized. If you are trying to test the serialization of said body this might not work for your needs.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val entityResponse = serverResponse as EntityResponse&lt;{ Insert Class of Body }&gt;\nval bodyObject = entityResponse.entity()\n\n</code></pre>\n"}],"owner":{"account_id":3298176,"reputation":7146,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10358,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":63164161,"answer_count":4,"score":9,"last_activity_date":1678988862,"creation_date":1584538027,"question_id":60740572,"body_markdown":"Say we have an instance of `o.s.w.reactive.function.server.ServerResponse`.\r\n\r\nWhat is the proper way to fetch the contents of its body, in other words how to implement `fetchBodyAsString` function?\r\n\r\n\r\n    test(){\r\n      ServerResponse response = getResponseFromService(&quot;mock data&quot;);\r\n      \r\n      String body = fetchBodyAsString(response);\r\n    \r\n      assertEquals(&quot;hello&quot;, body);\r\n    }\r\n\r\nCould you also elaborate a bit on why does `ServerResponse` have methods for everything (`cookies(), headers(), statusCode()`), but the response body? I guess there should be a way to get the body with  `writeTo()` method, although it is absolutely vague how to use it.","title":"How to get body as String from ServerResponse for test?","body":"<p>Say we have an instance of <code>o.s.w.reactive.function.server.ServerResponse</code>.</p>\n\n<p>What is the proper way to fetch the contents of its body, in other words how to implement <code>fetchBodyAsString</code> function?</p>\n\n<pre><code>test(){\n  ServerResponse response = getResponseFromService(\"mock data\");\n\n  String body = fetchBodyAsString(response);\n\n  assertEquals(\"hello\", body);\n}\n</code></pre>\n\n<p>Could you also elaborate a bit on why does <code>ServerResponse</code> have methods for everything (<code>cookies(), headers(), statusCode()</code>), but the response body? I guess there should be a way to get the body with  <code>writeTo()</code> method, although it is absolutely vague how to use it.</p>\n"},{"tags":["java","archunit"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1676468305,"post_id":75460512,"comment_id":133142184,"body_markdown":"Can you include an example of such a class in your question?","body":"Can you include an example of such a class in your question?"},{"owner":{"account_id":1109371,"reputation":14160,"user_id":1100135,"accept_rate":53,"display_name":"piotrek"},"score":0,"creation_date":1676469242,"post_id":75460512,"comment_id":133142495,"body_markdown":"@knittl done, i added class structure","body":"@knittl done, i added class structure"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1678910412,"post_id":75460512,"comment_id":133626833,"body_markdown":"Did the provided answer work for you?","body":"Did the provided answer work for you?"}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676492364,"creation_date":1676491324,"answer_id":75464904,"question_id":75460512,"body_markdown":"This should work:\r\n\r\n    @ArchTest\r\n    final static ArchRule rule = ArchRuleDefinition.classes()\r\n            .that().areMetaAnnotatedWith(Immutable.class)\r\n            .or().areAssignableTo(CanBeAnnotated.Predicates.metaAnnotatedWith(Immutable.class))\r\n            .should(...)\r\n\r\nIt applies the rule to all classes that are meta-annnotated with `@Immutable` or that extend/implement a class/interface that itself is annotameta-annotated with `@Immutable`.\r\n\r\nIf you require more flexibility, you can also define your own predicates to select the relevant classes, e.g.:\r\n\r\n    @ArchTest\r\n    static ArchRule rule = ArchRuleDefinition.classes()\r\n            .that().areMetaAnnotatedWith(nameEndsWith(&quot;Immutable&quot;))\r\n            .or().areAssignableTo(CanBeAnnotated.Predicates.metaAnnotatedWith(nameEndsWith(&quot;Immutable&quot;)))\r\n            .should(...);\r\n\r\n    private static DescribedPredicate&lt;JavaAnnotation&lt;?&gt;&gt; nameEndsWith(final String suffix) {\r\n        return DescribedPredicate.describe(\r\n                &quot;annotation name ending with &quot; + suffix,\r\n                javaAnnotation -&gt; javaAnnotation.getRawType().getSimpleName().endsWith(suffix));\r\n    }\r\n","title":"How to build a rule: assignableTo metaannotated?","body":"<p>This should work:</p>\n<pre><code>@ArchTest\nfinal static ArchRule rule = ArchRuleDefinition.classes()\n        .that().areMetaAnnotatedWith(Immutable.class)\n        .or().areAssignableTo(CanBeAnnotated.Predicates.metaAnnotatedWith(Immutable.class))\n        .should(...)\n</code></pre>\n<p>It applies the rule to all classes that are meta-annnotated with <code>@Immutable</code> or that extend/implement a class/interface that itself is annotameta-annotated with <code>@Immutable</code>.</p>\n<p>If you require more flexibility, you can also define your own predicates to select the relevant classes, e.g.:</p>\n<pre><code>@ArchTest\nstatic ArchRule rule = ArchRuleDefinition.classes()\n        .that().areMetaAnnotatedWith(nameEndsWith(&quot;Immutable&quot;))\n        .or().areAssignableTo(CanBeAnnotated.Predicates.metaAnnotatedWith(nameEndsWith(&quot;Immutable&quot;)))\n        .should(...);\n\nprivate static DescribedPredicate&lt;JavaAnnotation&lt;?&gt;&gt; nameEndsWith(final String suffix) {\n    return DescribedPredicate.describe(\n            &quot;annotation name ending with &quot; + suffix,\n            javaAnnotation -&gt; javaAnnotation.getRawType().getSimpleName().endsWith(suffix));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1109371,"reputation":14160,"user_id":1100135,"accept_rate":53,"display_name":"piotrek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678988850,"creation_date":1678988850,"answer_id":75759886,"question_id":75460512,"body_markdown":"that worked for me\r\n\r\n    final DescribedPredicate&lt;HasType&gt; immutable =\r\n                    rawType(simpleNameEndingWith(&quot;Immutable&quot;)); // string due to multiple annotation providers\r\n    \r\n    fields().that()\r\n         .areDeclaredInClassesThat().areMetaAnnotatedWith(immutable) \r\n         .or().areDeclaredInClassesThat()\r\n                     .implement(INTERFACES.and(metaAnnotatedWith(immutable))) ","title":"How to build a rule: assignableTo metaannotated?","body":"<p>that worked for me</p>\n<pre><code>final DescribedPredicate&lt;HasType&gt; immutable =\n                rawType(simpleNameEndingWith(&quot;Immutable&quot;)); // string due to multiple annotation providers\n\nfields().that()\n     .areDeclaredInClassesThat().areMetaAnnotatedWith(immutable) \n     .or().areDeclaredInClassesThat()\n                 .implement(INTERFACES.and(metaAnnotatedWith(immutable))) \n</code></pre>\n"}],"owner":{"account_id":1109371,"reputation":14160,"user_id":1100135,"accept_rate":53,"display_name":"piotrek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678988850,"creation_date":1676467794,"question_id":75460512,"body_markdown":"I want to find all classes that are `metaAnnotated` or are `assignableTo` `metaannotated` with any version of `Immutable` annotation.\r\n\r\nThat is all classes metaAnnotated as immutable or implementing / extending anything that&#39;s metaAnnotated as immutable.\r\n\r\nI tried:\r\n\r\n```\r\nDescribedPredicate m = simpleNameEndingWith(&quot;Immutable&quot;);\r\nDescribedPredicate a = CanBeAnnotated.Predicates.metaAnnotatedWith(m);\r\n\r\nSystem.out.println(productionClasses.that(a));\r\n```\r\n\r\nbut it throws runtime exception:\r\n&gt; java.lang.ClassCastException: class com.tngtech.archunit.core.domain.JavaAnnotation cannot be cast to class com.tngtech.archunit.core.domain.JavaClass (com.tngtech.archunit.core.domain.JavaAnnotation and com.tngtech.archunit.core.domain.JavaClass are in unnamed module of loader &#39;app&#39;)\r\n\r\nHow can I find all those classes?\r\n\r\nSample structure\r\n```\r\nclass A extends B {}\r\nclass B implements C {}\r\n\r\n@AnnotationD\r\ninterface C {}\r\n\r\n@Immutable\r\n@interface AnnotationD {}\r\n```\r\nI want to find class A and B because they are assignable to classes meta-annotated with @Immutable.","title":"How to build a rule: assignableTo metaannotated?","body":"<p>I want to find all classes that are <code>metaAnnotated</code> or are <code>assignableTo</code> <code>metaannotated</code> with any version of <code>Immutable</code> annotation.</p>\n<p>That is all classes metaAnnotated as immutable or implementing / extending anything that's metaAnnotated as immutable.</p>\n<p>I tried:</p>\n<pre><code>DescribedPredicate m = simpleNameEndingWith(&quot;Immutable&quot;);\nDescribedPredicate a = CanBeAnnotated.Predicates.metaAnnotatedWith(m);\n\nSystem.out.println(productionClasses.that(a));\n</code></pre>\n<p>but it throws runtime exception:</p>\n<blockquote>\n<p>java.lang.ClassCastException: class com.tngtech.archunit.core.domain.JavaAnnotation cannot be cast to class com.tngtech.archunit.core.domain.JavaClass (com.tngtech.archunit.core.domain.JavaAnnotation and com.tngtech.archunit.core.domain.JavaClass are in unnamed module of loader 'app')</p>\n</blockquote>\n<p>How can I find all those classes?</p>\n<p>Sample structure</p>\n<pre><code>class A extends B {}\nclass B implements C {}\n\n@AnnotationD\ninterface C {}\n\n@Immutable\n@interface AnnotationD {}\n</code></pre>\n<p>I want to find class A and B because they are assignable to classes meta-annotated with @Immutable.</p>\n"},{"tags":["java","soap","xsd","jaxb","saaj"],"answers":[{"comments":[{"owner":{"account_id":7241283,"reputation":183,"user_id":5524788,"accept_rate":86,"display_name":"Jill"},"score":0,"creation_date":1678340234,"post_id":75675560,"comment_id":133514188,"body_markdown":"It is generating like this after your change &lt;AirShoppingRQ xmlns:ns5=&quot;http://www.iata.org/IATA/EDIST/2017.2&quot;  . with ns5 server is not accepting it","body":"It is generating like this after your change &lt;AirShoppingRQ xmlns:ns5=&quot;<a href=\"http://www.iata.org/IATA/EDIST/2017.2\" rel=\"nofollow noreferrer\">iata.org/IATA/EDIST/2017.2</a>&quot;  . with ns5 server is not accepting it"}],"tags":[],"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678292296,"creation_date":1678292296,"answer_id":75675560,"question_id":75643159,"body_markdown":"I would try\r\n\r\n    @XmlRootElement(name = &quot;AirShoppingRQ&quot;, namespace = &quot;http://www.iata.org/IATA/EDIST/2017.2&quot;)\r\n    public class AirShoppingRQ {\r\n    }\r\n\r\nor if you have a schema with that namespace as the targetNamespace I think you can use e.g.\r\n\r\n    @XmlRootElement(name = &quot;AirShoppingRQ&quot;, namespace = &quot;##default&quot;)\r\n    public class AirShoppingRQ {\r\n    }","title":"Change xmlns value of soap root element","body":"<p>I would try</p>\n<pre><code>@XmlRootElement(name = &quot;AirShoppingRQ&quot;, namespace = &quot;http://www.iata.org/IATA/EDIST/2017.2&quot;)\npublic class AirShoppingRQ {\n}\n</code></pre>\n<p>or if you have a schema with that namespace as the targetNamespace I think you can use e.g.</p>\n<pre><code>@XmlRootElement(name = &quot;AirShoppingRQ&quot;, namespace = &quot;##default&quot;)\npublic class AirShoppingRQ {\n}\n</code></pre>\n"}],"owner":{"account_id":7241283,"reputation":183,"user_id":5524788,"accept_rate":86,"display_name":"Jill"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678988063,"creation_date":1678028816,"question_id":75643159,"body_markdown":"I need to change the xmlns empty string value that is getting generated. \r\n\r\n    &lt;SOAP-ENV:Body&gt;\r\n            &lt;AirShoppingRQ xmlns=&quot;&quot;\r\n                 xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; Version=&quot;17.2&quot; &gt; \r\n\r\n  \r\n\r\nExpected : \r\n\r\n    &lt;SOAP-ENV:Body&gt;\r\n            &lt;AirShoppingRQ xmlns=&quot;http://www.iata.org/IATA/EDIST/2017.2&quot;\r\n                 xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; Version=&quot;17.2&quot; &gt;\r\n\r\nHave tried editing packag-info.java as \r\n\r\n        @javax.xml.bind.annotation.XmlSchema(\r\n            xmlns = {\r\n                    @javax.xml.bind.annotation.XmlNs(prefix = &quot;xsd&quot;,\r\n                            namespaceURI = &quot;http://www.w3.org/2001/XMLSchema&quot;),\r\n                    @javax.xml.bind.annotation.XmlNs(prefix = &quot;xsi&quot;,\r\n                            namespaceURI = &quot;http://www.w3.org/2001/XMLSchema-instance&quot;)\r\n            }\r\n    )\r\n\r\nbelow is the root element : \r\n\r\n    @XmlRootElement(name = &quot;AirShoppingRQ&quot;)\r\n    public class AirShoppingRQ {\r\n    }\r\nEven though i tried removing it as attribute, but not able to add it again.\r\n\r\n     SOAPElement x = (SOAPElement) body.getChildElements().next();\r\n            x.removeAttribute(&quot;xmlns&quot;);\r\n\r\nPlease note : **xmlns should not have any &quot;ns2&quot; or &quot;ns3&quot; prefix** ,as server is not accepting it.\r\n\r\n   Can anyone please help ?","title":"Change xmlns value of soap root element","body":"<p>I need to change the xmlns empty string value that is getting generated.</p>\n<pre><code>&lt;SOAP-ENV:Body&gt;\n        &lt;AirShoppingRQ xmlns=&quot;&quot;\n             xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; Version=&quot;17.2&quot; &gt; \n</code></pre>\n<p>Expected :</p>\n<pre><code>&lt;SOAP-ENV:Body&gt;\n        &lt;AirShoppingRQ xmlns=&quot;http://www.iata.org/IATA/EDIST/2017.2&quot;\n             xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; \nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; Version=&quot;17.2&quot; &gt;\n</code></pre>\n<p>Have tried editing packag-info.java as</p>\n<pre><code>    @javax.xml.bind.annotation.XmlSchema(\n        xmlns = {\n                @javax.xml.bind.annotation.XmlNs(prefix = &quot;xsd&quot;,\n                        namespaceURI = &quot;http://www.w3.org/2001/XMLSchema&quot;),\n                @javax.xml.bind.annotation.XmlNs(prefix = &quot;xsi&quot;,\n                        namespaceURI = &quot;http://www.w3.org/2001/XMLSchema-instance&quot;)\n        }\n)\n</code></pre>\n<p>below is the root element :</p>\n<pre><code>@XmlRootElement(name = &quot;AirShoppingRQ&quot;)\npublic class AirShoppingRQ {\n}\n</code></pre>\n<p>Even though i tried removing it as attribute, but not able to add it again.</p>\n<pre><code> SOAPElement x = (SOAPElement) body.getChildElements().next();\n        x.removeAttribute(&quot;xmlns&quot;);\n</code></pre>\n<p>Please note : <strong>xmlns should not have any &quot;ns2&quot; or &quot;ns3&quot; prefix</strong> ,as server is not accepting it.</p>\n<p>Can anyone please help ?</p>\n"},{"tags":["java","android","service","nfc","hce"],"answers":[{"tags":[],"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678987737,"creation_date":1678987737,"answer_id":75759680,"question_id":75736515,"body_markdown":"I&#39;m answering my own question with the solution that is working.\r\n\r\nThe main error was to try to get the context in the constructor of the service:\r\n\r\n    public HceService() {\r\n        // check for a specific file in internal storage\r\n        System.out.println(&quot;start HceService&quot;);\r\n        System.out.println(&quot;getBaseContext: &quot; + getBaseContext());\r\n        System.out.println(&quot;getApplicationContext: &quot; + getApplicationContext());\r\n\r\n        File file = getFilesDir();\r\n        //File file2 = getExternalFilesDir(null);\r\n        System.out.println(&quot;file exists: &quot; + file.exists());\r\n    }\r\n\r\nAt this time the context is not available yet and I received the Null Pointer Exception.\r\n\r\nThe solution is to **move the code from the constructor to the onCreate-method**:\r\n\r\n    public HceService() {\r\n        /*\r\n        // move these lines to onCreate method\r\n        // check for a specific file in internal storage\r\n        System.out.println(&quot;start HceService&quot;);\r\n        System.out.println(&quot;getBaseContext: &quot; + getBaseContext());\r\n        System.out.println(&quot;getApplicationContext: &quot; + getApplicationContext());\r\n\r\n        File file = getFilesDir();\r\n        //File file2 = getExternalFilesDir(null);\r\n        System.out.println(&quot;file exists: &quot; + file.exists());\r\n         */\r\n    }\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        // check for a specific file in internal storage\r\n        System.out.println(&quot;start HceService&quot;);\r\n        System.out.println(&quot;getBaseContext: &quot; + getBaseContext());\r\n        System.out.println(&quot;getApplicationContext: &quot; + getApplicationContext());\r\n\r\n        File file = getFilesDir();\r\n        //File file2 = getExternalFilesDir(null);\r\n        System.out.println(&quot;file exists: &quot; + file.exists());\r\n    }\r\n\r\nThis is the result:\r\n\r\n    I/System.out: start HceService\r\n    I/System.out: getBaseContext: android.app.ContextImpl@ecd5e6\r\n    I/System.out: getApplicationContext: android.app.Application@3e75727\r\n    I/System.out: file exists: true\r\n\r\n","title":"Service class (HostApduService) has no access to files ()NPE NullPointerException)","body":"<p>I'm answering my own question with the solution that is working.</p>\n<p>The main error was to try to get the context in the constructor of the service:</p>\n<pre><code>public HceService() {\n    // check for a specific file in internal storage\n    System.out.println(&quot;start HceService&quot;);\n    System.out.println(&quot;getBaseContext: &quot; + getBaseContext());\n    System.out.println(&quot;getApplicationContext: &quot; + getApplicationContext());\n\n    File file = getFilesDir();\n    //File file2 = getExternalFilesDir(null);\n    System.out.println(&quot;file exists: &quot; + file.exists());\n}\n</code></pre>\n<p>At this time the context is not available yet and I received the Null Pointer Exception.</p>\n<p>The solution is to <strong>move the code from the constructor to the onCreate-method</strong>:</p>\n<pre><code>public HceService() {\n    /*\n    // move these lines to onCreate method\n    // check for a specific file in internal storage\n    System.out.println(&quot;start HceService&quot;);\n    System.out.println(&quot;getBaseContext: &quot; + getBaseContext());\n    System.out.println(&quot;getApplicationContext: &quot; + getApplicationContext());\n\n    File file = getFilesDir();\n    //File file2 = getExternalFilesDir(null);\n    System.out.println(&quot;file exists: &quot; + file.exists());\n     */\n}\n\n@Override\npublic void onCreate() {\n    super.onCreate();\n    // check for a specific file in internal storage\n    System.out.println(&quot;start HceService&quot;);\n    System.out.println(&quot;getBaseContext: &quot; + getBaseContext());\n    System.out.println(&quot;getApplicationContext: &quot; + getApplicationContext());\n\n    File file = getFilesDir();\n    //File file2 = getExternalFilesDir(null);\n    System.out.println(&quot;file exists: &quot; + file.exists());\n}\n</code></pre>\n<p>This is the result:</p>\n<pre><code>I/System.out: start HceService\nI/System.out: getBaseContext: android.app.ContextImpl@ecd5e6\nI/System.out: getApplicationContext: android.app.Application@3e75727\nI/System.out: file exists: true\n</code></pre>\n"}],"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75759680,"answer_count":1,"score":0,"last_activity_date":1678987737,"creation_date":1678814948,"question_id":75736515,"body_markdown":"I&#39;m trying to implement a Credit Card emulating app and setup a HostApduService-class that runs like expected.\r\n\r\nNow I&#39;m trying to load card data from a file (can be in internal or external storage, fixed name and folder) to be more flexible with the card data I&#39;m going to emulate.\r\n\r\nAlthough HostApduService is a service with a context **I&#39;m not been able to access files from the service** - I&#39;m always getting a &quot;**java.lang.NullPointerException**&quot;:\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: de.androidcrypto.hcecreditcardemulator, PID: 26574\r\n        java.lang.RuntimeException: Unable to instantiate service de.androidcrypto.hcecreditcardemulator.HceService: java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.io.File android.content.Context.getFilesDir()&#39; on a null object reference\r\n            at android.app.ActivityThread.handleCreateService(ActivityThread.java:3529)\r\n            at android.app.ActivityThread.-wrap4(Unknown Source:0)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1786)\r\n            at android.os.Handler.dispatchMessage(Handler.java:105)\r\n            at android.os.Looper.loop(Looper.java:164)\r\n            at android.app.ActivityThread.main(ActivityThread.java:6944)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\r\n         Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.io.File android.content.Context.getFilesDir()&#39; on a null object reference\r\n            at android.content.ContextWrapper.getFilesDir(ContextWrapper.java:237)\r\n            at de.androidcrypto.hcecreditcardemulator.HceService.&lt;init&gt;(HceService.java:13)\r\n            at java.lang.Class.newInstance(Native Method)\r\n            at android.app.ActivityThread.handleCreateService(ActivityThread.java:3526)\r\n            at android.app.ActivityThread.-wrap4(Unknown Source:0)&#160;\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1786)&#160;\r\n            at android.os.Handler.dispatchMessage(Handler.java:105)&#160;\r\n            at android.os.Looper.loop(Looper.java:164)&#160;\r\n            at android.app.ActivityThread.main(ActivityThread.java:6944)&#160;\r\n            at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n            at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)&#160;\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)&#160;\r\n\r\n**Edit March 15th:** I checked that the `getBaseContext()` returns `null`but `getApplicationContext()` forced the `NullPointerException`. Due to this the `getFiles()` fails with the NPE as well.\r\n\r\nThis is the (very shortened) HceService.java class I&#39;m using:\r\n\r\n    package de.androidcrypto.hcecreditcardemulator;\r\n    \r\n    import android.nfc.cardemulation.HostApduService;\r\n    import android.os.Bundle;\r\n    \r\n    import java.io.File;\r\n    \r\n    public class HceService extends HostApduService {\r\n    \r\n        public HceService() {\r\n            // check for a specific file in internal storage\r\n            System.out.println(&quot;start HceService&quot;);\r\n            File file = getFilesDir();\r\n            //File file2 = getExternalFilesDir(null);\r\n            System.out.println(&quot;file exists: &quot; + file.exists());\r\n        }\r\n    \r\n        @Override\r\n        public byte[] processCommandApdu(byte[] bytes, Bundle bundle) {\r\n            return new byte[0];\r\n        }\r\n    \r\n        @Override\r\n        public void onDeactivated(int i) {\r\n    \r\n        }\r\n    }\r\n\r\nIt will be started from AndroidManifest.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    \r\n        &lt;!-- Card emulation was introduced in API 19. --&gt;\r\n        &lt;!-- Min/target SDK versions (&lt;uses-sdk&gt;) managed by build.gradle --&gt;\r\n        &lt;uses-feature android:name=&quot;android.hardware.nfc.hce&quot; android:required=&quot;true&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.NFC&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n            android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.HceCreditCardEmulator&quot;\r\n            tools:targetApi=&quot;31&quot;&gt;\r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            &lt;!-- BEGIN_INCLUDE(CardEmulationManifest) --&gt;\r\n            &lt;!-- Service for handling communication with NFC terminal. --&gt;\r\n            &lt;service android:name=&quot;.HceService&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:permission=&quot;android.permission.BIND_NFC_SERVICE&quot;&gt;\r\n                &lt;!-- Intent filter indicating that we support card emulation. --&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.nfc.cardemulation.action.HOST_APDU_SERVICE&quot;/&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n                &lt;/intent-filter&gt;\r\n                &lt;!-- Required XML configuration file, listing the AIDs that we are emulating cards\r\n                     for. This defines what protocols our card emulation service supports. --&gt;\r\n                &lt;meta-data android:name=&quot;android.nfc.cardemulation.host_apdu_service&quot;\r\n                    android:resource=&quot;@xml/aid_list&quot;/&gt;\r\n            &lt;/service&gt;\r\n            &lt;!-- END_INCLUDE(CardEmulationManifest) --&gt;\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\nand has this aid.xml-file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;aid-group android:description=&quot;@string/card_title&quot; android:category=&quot;payment&quot;&gt;\r\n            &lt;aid-filter android:name=&quot;F222222222&quot;/&gt;\r\n            &lt;aid-filter android:name=&quot;325041592E5359532E4444463031&quot;/&gt;\r\n            &lt;aid-filter android:name=&quot;A0000000031010&quot;/&gt;\r\n        &lt;/aid-group&gt;\r\n    &lt;!-- END_INCLUDE(CardEmulationXML) --&gt;\r\n    &lt;/host-apdu-service&gt;\r\n\r\nAs it has the category &quot;payments&quot; the service can be easily switched in the device&#39;s settings:\r\n\r\n    Settings -&gt; connections -&gt; NFC -&gt; Tap and pay -&gt; tab &quot;payments&quot; select &quot;HCE&quot;\r\n\r\nAt this time the NPE is thrown on this line 13 in HceService.java:\r\n\r\n    File file = getFilesDir();\r\n\r\n**So the main question is: how can I access to a file from a Service or better HostApduService class ?**. Is there a way to provide a non-null context to the service ?\r\n\r\nThanks in advance.","title":"Service class (HostApduService) has no access to files ()NPE NullPointerException)","body":"<p>I'm trying to implement a Credit Card emulating app and setup a HostApduService-class that runs like expected.</p>\n<p>Now I'm trying to load card data from a file (can be in internal or external storage, fixed name and folder) to be more flexible with the card data I'm going to emulate.</p>\n<p>Although HostApduService is a service with a context <strong>I'm not been able to access files from the service</strong> - I'm always getting a &quot;<strong>java.lang.NullPointerException</strong>&quot;:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: de.androidcrypto.hcecreditcardemulator, PID: 26574\n    java.lang.RuntimeException: Unable to instantiate service de.androidcrypto.hcecreditcardemulator.HceService: java.lang.NullPointerException: Attempt to invoke virtual method 'java.io.File android.content.Context.getFilesDir()' on a null object reference\n        at android.app.ActivityThread.handleCreateService(ActivityThread.java:3529)\n        at android.app.ActivityThread.-wrap4(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1786)\n        at android.os.Handler.dispatchMessage(Handler.java:105)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6944)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'java.io.File android.content.Context.getFilesDir()' on a null object reference\n        at android.content.ContextWrapper.getFilesDir(ContextWrapper.java:237)\n        at de.androidcrypto.hcecreditcardemulator.HceService.&lt;init&gt;(HceService.java:13)\n        at java.lang.Class.newInstance(Native Method)\n        at android.app.ActivityThread.handleCreateService(ActivityThread.java:3526)\n        at android.app.ActivityThread.-wrap4(Unknown Source:0) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1786) \n        at android.os.Handler.dispatchMessage(Handler.java:105) \n        at android.os.Looper.loop(Looper.java:164) \n        at android.app.ActivityThread.main(ActivityThread.java:6944) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374) \n</code></pre>\n<p><strong>Edit March 15th:</strong> I checked that the <code>getBaseContext()</code> returns <code>null</code>but <code>getApplicationContext()</code> forced the <code>NullPointerException</code>. Due to this the <code>getFiles()</code> fails with the NPE as well.</p>\n<p>This is the (very shortened) HceService.java class I'm using:</p>\n<pre><code>package de.androidcrypto.hcecreditcardemulator;\n\nimport android.nfc.cardemulation.HostApduService;\nimport android.os.Bundle;\n\nimport java.io.File;\n\npublic class HceService extends HostApduService {\n\n    public HceService() {\n        // check for a specific file in internal storage\n        System.out.println(&quot;start HceService&quot;);\n        File file = getFilesDir();\n        //File file2 = getExternalFilesDir(null);\n        System.out.println(&quot;file exists: &quot; + file.exists());\n    }\n\n    @Override\n    public byte[] processCommandApdu(byte[] bytes, Bundle bundle) {\n        return new byte[0];\n    }\n\n    @Override\n    public void onDeactivated(int i) {\n\n    }\n}\n</code></pre>\n<p>It will be started from AndroidManifest.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;!-- Card emulation was introduced in API 19. --&gt;\n    &lt;!-- Min/target SDK versions (&lt;uses-sdk&gt;) managed by build.gradle --&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.nfc.hce&quot; android:required=&quot;true&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.NFC&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.HceCreditCardEmulator&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;!-- BEGIN_INCLUDE(CardEmulationManifest) --&gt;\n        &lt;!-- Service for handling communication with NFC terminal. --&gt;\n        &lt;service android:name=&quot;.HceService&quot;\n            android:exported=&quot;true&quot;\n            android:permission=&quot;android.permission.BIND_NFC_SERVICE&quot;&gt;\n            &lt;!-- Intent filter indicating that we support card emulation. --&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.nfc.cardemulation.action.HOST_APDU_SERVICE&quot;/&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\n            &lt;/intent-filter&gt;\n            &lt;!-- Required XML configuration file, listing the AIDs that we are emulating cards\n                 for. This defines what protocols our card emulation service supports. --&gt;\n            &lt;meta-data android:name=&quot;android.nfc.cardemulation.host_apdu_service&quot;\n                android:resource=&quot;@xml/aid_list&quot;/&gt;\n        &lt;/service&gt;\n        &lt;!-- END_INCLUDE(CardEmulationManifest) --&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>and has this aid.xml-file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;aid-group android:description=&quot;@string/card_title&quot; android:category=&quot;payment&quot;&gt;\n        &lt;aid-filter android:name=&quot;F222222222&quot;/&gt;\n        &lt;aid-filter android:name=&quot;325041592E5359532E4444463031&quot;/&gt;\n        &lt;aid-filter android:name=&quot;A0000000031010&quot;/&gt;\n    &lt;/aid-group&gt;\n&lt;!-- END_INCLUDE(CardEmulationXML) --&gt;\n&lt;/host-apdu-service&gt;\n</code></pre>\n<p>As it has the category &quot;payments&quot; the service can be easily switched in the device's settings:</p>\n<pre><code>Settings -&gt; connections -&gt; NFC -&gt; Tap and pay -&gt; tab &quot;payments&quot; select &quot;HCE&quot;\n</code></pre>\n<p>At this time the NPE is thrown on this line 13 in HceService.java:</p>\n<pre><code>File file = getFilesDir();\n</code></pre>\n<p><strong>So the main question is: how can I access to a file from a Service or better HostApduService class ?</strong>. Is there a way to provide a non-null context to the service ?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","proxy"],"comments":[{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1678979858,"post_id":75757980,"comment_id":133641426,"body_markdown":"I can&#39;t see why that would be the same thing, you didn&#39;t say how `properties` variable is set or its type.","body":"I can&#39;t see why that would be the same thing, you didn&#39;t say how <code>properties</code> variable is set or its type."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1678980770,"post_id":75757980,"comment_id":133641752,"body_markdown":"What library are you using? What does its documentation say about configuring a proxy? Why do you assume that passing those properties will magically make the library use them?","body":"What library are you using? What does its documentation say about configuring a proxy? Why do you assume that passing those properties will magically make the library use them?"},{"owner":{"account_id":9107344,"reputation":889,"user_id":6777238,"accept_rate":80,"display_name":"gjin"},"score":0,"creation_date":1678983293,"post_id":75757980,"comment_id":133642527,"body_markdown":"@Jorn because https://stackoverflow.com/questions/120797/how-do-i-set-the-proxy-to-be-used-by-the-jvm and https://docs.oracle.com/javase/7/docs/api/java/net/doc-files/net-properties.html","body":"@Jorn because <a href=\"https://stackoverflow.com/questions/120797/how-do-i-set-the-proxy-to-be-used-by-the-jvm\" title=\"how do i set the proxy to be used by the jvm\">stackoverflow.com/questions/120797/&hellip;</a> and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/doc-files/net-properties.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/net/doc-files/&hellip;</a>"},{"owner":{"account_id":9107344,"reputation":889,"user_id":6777238,"accept_rate":80,"display_name":"gjin"},"score":0,"creation_date":1678983542,"post_id":75757980,"comment_id":133642611,"body_markdown":"@And It&#39;s a pojo. A few vars and their getters and setters. Used to pass host and port values.","body":"@And It&#39;s a pojo. A few vars and their getters and setters. Used to pass host and port values."},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":1,"creation_date":1678983945,"post_id":75757980,"comment_id":133642753,"body_markdown":"That oracle documentation is for the jvm not the `HttpHost` class. Jsut from the start is states that: `There are a few standard system properties used to alter the mechanisms and behavior of the various classes of the java.net package`","body":"That oracle documentation is for the jvm not the <code>HttpHost</code> class. Jsut from the start is states that: <code>There are a few standard system properties used to alter the mechanisms and behavior of the various classes of the java.net package</code>"}],"answers":[{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678987673,"creation_date":1678987673,"answer_id":75759674,"question_id":75757980,"body_markdown":"`RequestConfig.Builder` is a low-level API, it does NOT resolve proxy automatically.\r\n\r\nTo make your code work the same way as `HttpClient` you need to choose and configure proxy manually:\r\n```\r\npublic static void main(String[] args) {\r\n    URI uri = URI.create(&quot;https://www.google.com&quot;);\r\n    RequestConfig config = RequestConfig.custom()\r\n        .setProxy(resolveProxy(uri))\r\n        .build();\r\n    ...\r\n}\r\n\r\nstatic HttpHost resolveProxy(URI uri) {\r\n    return ProxySelector.getDefault().select(uri).stream().map(it -&gt; {\r\n        if (it.type() != Proxy.Type.HTTP) {\r\n            return null;\r\n        }\r\n        if (!(it.address() instanceof InetSocketAddress)) {\r\n            return null;\r\n        }\r\n        InetSocketAddress address = (InetSocketAddress) it.address();\r\n        return new HttpHost(\r\n            address.isUnresolved() ? address.getHostName() : address.getAddress().getHostAddress(),\r\n            address.getPort()\r\n        );\r\n    }).filter(Objects::nonNull).findFirst().orElse(null);\r\n}\r\n```","title":"Difference between setting up proxy at startup and after","body":"<p><code>RequestConfig.Builder</code> is a low-level API, it does NOT resolve proxy automatically.</p>\n<p>To make your code work the same way as <code>HttpClient</code> you need to choose and configure proxy manually:</p>\n<pre><code>public static void main(String[] args) {\n    URI uri = URI.create(&quot;https://www.google.com&quot;);\n    RequestConfig config = RequestConfig.custom()\n        .setProxy(resolveProxy(uri))\n        .build();\n    ...\n}\n\nstatic HttpHost resolveProxy(URI uri) {\n    return ProxySelector.getDefault().select(uri).stream().map(it -&gt; {\n        if (it.type() != Proxy.Type.HTTP) {\n            return null;\n        }\n        if (!(it.address() instanceof InetSocketAddress)) {\n            return null;\n        }\n        InetSocketAddress address = (InetSocketAddress) it.address();\n        return new HttpHost(\n            address.isUnresolved() ? address.getHostName() : address.getAddress().getHostAddress(),\n            address.getPort()\n        );\n    }).filter(Objects::nonNull).findFirst().orElse(null);\n}\n</code></pre>\n"}],"owner":{"account_id":9107344,"reputation":889,"user_id":6777238,"accept_rate":80,"display_name":"gjin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678987673,"creation_date":1678978798,"question_id":75757980,"body_markdown":"This works.\r\n\r\n    HttpHost proxy = new HttpHost(properties.getProxyHost(), properties.getProxyPort());\r\n    RequestConfig config = RequestConfig.custom()\r\n      .setProxy(proxy)\r\n      .build();\r\n    \r\n    URI uri = new URIBuilder(properties.getUri())\r\n      .build();\r\n    \r\n    HttpGet request = new HttpGet(uri);\r\n    request.setConfig(config);\r\n    \r\n    HttpResponse response = client.execute(request);\r\n\r\n\r\nBut when I try to set the proxy at startup\r\n\r\n    java \\\r\n    ${JAVA_OPTS} \\\r\n    -Dhttp.proxyHost=my-proxy \\\r\n    -Dhttp.proxyPort=my-port \\\r\n    -jar ${PROJECT_DIR}/${TARGET_JAR} \\\r\n\r\nAnd run this script\r\n\r\n    URI uri = new URIBuilder(properties.getUri())\r\n      .build();\r\n    \r\n    HttpGet request = new HttpGet(uri);\r\n    \r\n    HttpResponse response = client.execute(request);\r\n\r\nIt fails with this error\r\n\r\n    I/O exception (java.net.SocketException) caught when processing request to {s}-&gt;https://site-address:443: Network is unreachable (connect failed)\r\n\r\nWhy does it fail? Isn&#39;t this basicaly the same thing?\r\n\r\nEdit\r\n\r\nMy dependency\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n      &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n      &lt;version&gt;4.5.13&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Difference between setting up proxy at startup and after","body":"<p>This works.</p>\n<pre><code>HttpHost proxy = new HttpHost(properties.getProxyHost(), properties.getProxyPort());\nRequestConfig config = RequestConfig.custom()\n  .setProxy(proxy)\n  .build();\n\nURI uri = new URIBuilder(properties.getUri())\n  .build();\n\nHttpGet request = new HttpGet(uri);\nrequest.setConfig(config);\n\nHttpResponse response = client.execute(request);\n</code></pre>\n<p>But when I try to set the proxy at startup</p>\n<pre><code>java \\\n${JAVA_OPTS} \\\n-Dhttp.proxyHost=my-proxy \\\n-Dhttp.proxyPort=my-port \\\n-jar ${PROJECT_DIR}/${TARGET_JAR} \\\n</code></pre>\n<p>And run this script</p>\n<pre><code>URI uri = new URIBuilder(properties.getUri())\n  .build();\n\nHttpGet request = new HttpGet(uri);\n\nHttpResponse response = client.execute(request);\n</code></pre>\n<p>It fails with this error</p>\n<pre><code>I/O exception (java.net.SocketException) caught when processing request to {s}-&gt;https://site-address:443: Network is unreachable (connect failed)\n</code></pre>\n<p>Why does it fail? Isn't this basicaly the same thing?</p>\n<p>Edit</p>\n<p>My dependency</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n  &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n  &lt;version&gt;4.5.13&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1678979672,"post_id":75758053,"comment_id":133641374,"body_markdown":"The above comment applies to &#39;ans.getText() == randomElement&#39;","body":"The above comment applies to &#39;ans.getText() == randomElement&#39;"}],"answers":[{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678987169,"creation_date":1678987169,"answer_id":75759584,"question_id":75758053,"body_markdown":"You would not use a loop, because you would be awaiting user input.\r\n\r\nYour button&#39;s action listener would wait for the user to click a button. There would be no loops inside the hander function, unless you are iterating over the buttons.\r\n\r\nAll you need to do is subtract the guessed letter from the target letter. If the delta (difference) is 0, and the player has not exhausted all their guesses, then they win. Else, if they run out, let them know they lost and reveal the letter. If they still have guesses let them now if they guessed too low/high.\r\n\r\nIn the Swing app below, if the player guesses too high, all buttons after the button (including the guessed button) will be disabled. This is a simple UX design to make guessing easier for the user.  \r\n\r\n**Note:** I created an interface called `InputAcceptor` that has an `acceptInput(input:String):void` signature. I then gave this interface to the `ButtonListener`&#39;s constructor for handling buttons input and passing its text around.\r\n\r\n### GuessApp.java\r\n\r\n```java\r\nimport java.util.List;\r\nimport java.util.OptionalInt;\r\nimport java.util.function.Function;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.IntStream;\r\n\r\nimport java.awt.GridLayout;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JOptionPane;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.SwingUtilities;\r\n\r\npublic class GuessApp implements InputAcceptor, Runnable {\r\n    private static final char[] alphabet;\r\n\r\n    private List&lt;JButton&gt; buttons;\r\n    private ButtonListener buttonListener;\r\n\r\n    private char letterToGuess;\r\n    private int guessesLeft;\r\n    private int maxGuesses;\r\n\r\n    static {\r\n        alphabet = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;.toCharArray();\r\n    }\r\n\r\n    public GuessApp(int maxGuesses) {\r\n        this.maxGuesses = maxGuesses;\r\n        this.buttonListener = new ButtonListener(this);\r\n\r\n        setup();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(new GuessApp(3));\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        JFrame frame = new JFrame(&quot;Guess a Letter&quot;);\r\n        frame.setContentPane(initializeContent());\r\n        frame.pack();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    @Override\r\n    public void acceptInput(String input) {\r\n        int buttonIndex = indexOf(buttons, input, JButton::getText).orElse(-1);\r\n        char guessed = input.toUpperCase().charAt(0);\r\n        int diff = guessed - letterToGuess;\r\n\r\n        guessesLeft--;\r\n\r\n        if (diff == 0) {\r\n            int response = JOptionPane.showConfirmDialog(null,\r\n                    String.format(&quot;You won with %d guess(es) left! Restart?&quot;, this.guessesLeft),\r\n                    &quot;Congratulations!&quot;,\r\n                    JOptionPane.INFORMATION_MESSAGE);\r\n            if (response == JOptionPane.OK_OPTION) {\r\n                setup();\r\n            } else if (response == JOptionPane.NO_OPTION || response == JOptionPane.CANCEL_OPTION) {\r\n                System.exit(0);\r\n            }\r\n        } else {\r\n            if (guessesLeft &lt; 1) {\r\n                int response = JOptionPane.showConfirmDialog(null,\r\n                        String.format(&quot;You ran out of guesses! The answer was %c. Restart?&quot;, this.letterToGuess),\r\n                        &quot;You Lose!&quot;,\r\n                        JOptionPane.ERROR_MESSAGE);\r\n                if (response == JOptionPane.OK_OPTION) {\r\n                    setup();\r\n                } else if (response == JOptionPane.NO_OPTION) {\r\n                    System.exit(0);\r\n                }\r\n            } else {\r\n                if (diff &gt; 0) {\r\n                    JOptionPane.showMessageDialog(null,\r\n                            String.format(&quot;You need to guess lower than %c&quot;, guessed),\r\n                            &quot;Too High&quot;,\r\n                            JOptionPane.WARNING_MESSAGE);\r\n                    disableButtons(buttonIndex, buttons.size());\r\n                } else {\r\n                    JOptionPane.showMessageDialog(null,\r\n                            String.format(&quot;You need to guess higher than %c&quot;, guessed),\r\n                            &quot;Too Low&quot;,\r\n                            JOptionPane.WARNING_MESSAGE);\r\n                    disableButtons(0, buttonIndex + 1);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    protected void setup() {\r\n        this.guessesLeft = maxGuesses;\r\n        this.letterToGuess = randomValue(alphabet);\r\n        if (buttons != null &amp;&amp; !buttons.isEmpty()) {\r\n            buttons.forEach(button -&gt; {\r\n                if (!button.isEnabled()) {\r\n                    button.setEnabled(true);\r\n                }\r\n            });\r\n        }\r\n        System.out.printf(&quot;Answer: %c%n&quot;, this.letterToGuess);\r\n    }\r\n\r\n    protected JPanel initializeContent() {\r\n        JPanel container = new JPanel(new GridLayout(4, 8));\r\n        buttons = generateButtons();\r\n        buttons.forEach(button -&gt; {\r\n            button.addActionListener(buttonListener);\r\n            container.add(button);\r\n        });\r\n        return container;\r\n    }\r\n\r\n    private List&lt;JButton&gt; generateButtons() {\r\n        return IntStream\r\n                .range(0, alphabet.length)\r\n                .mapToObj(i -&gt; alphabet[i])\r\n                .map(letter -&gt; new JButton(Character.toString(letter)))\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n    private void disableButtons(int from, int to) {\r\n        for (int i = from; i &lt; to; i++) {\r\n            if (buttons.get(i).isEnabled()) {\r\n                buttons.get(i).setEnabled(false);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static char randomValue(char[] arr) {\r\n        int index = (int) (Math.random() * arr.length);\r\n        return arr[index];\r\n    }\r\n\r\n    private static &lt;E&gt; OptionalInt indexOf(List&lt;E&gt; list, String text, Function&lt;E, String&gt; predicate) {\r\n        return IntStream.range(0, list.size())\r\n                .filter(i -&gt; text.equals(predicate.apply(list.get(i))))\r\n                .findFirst();\r\n    }\r\n}\r\n```\r\n\r\n### InputAcceptor.java\r\n\r\n```java\r\npublic interface InputAcceptor {\r\n    void acceptInput(String input);\r\n}\r\n```\r\n\r\n### ButtonListener.java\r\n\r\n```java\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport javax.swing.JButton;\r\n\r\npublic class ButtonListener implements ActionListener {\r\n    private InputAcceptor inputAcceptor;\r\n\r\n    public ButtonListener(InputAcceptor inputAcceptor) {\r\n        this.inputAcceptor = inputAcceptor;\r\n    }\r\n\r\n    public void actionPerformed(ActionEvent e) {\r\n        if (!(e.getSource() instanceof JButton)) {\r\n            throw new IllegalArgumentException(&quot;Event source must be a JButton&quot;);\r\n        }\r\n        this.inputAcceptor.acceptInput(((JButton) e.getSource()).getText());\r\n    }\r\n}\r\n```","title":"Nested For-loops ignoring nested Ifs in a java random guessing game","body":"<p>You would not use a loop, because you would be awaiting user input.</p>\n<p>Your button's action listener would wait for the user to click a button. There would be no loops inside the hander function, unless you are iterating over the buttons.</p>\n<p>All you need to do is subtract the guessed letter from the target letter. If the delta (difference) is 0, and the player has not exhausted all their guesses, then they win. Else, if they run out, let them know they lost and reveal the letter. If they still have guesses let them now if they guessed too low/high.</p>\n<p>In the Swing app below, if the player guesses too high, all buttons after the button (including the guessed button) will be disabled. This is a simple UX design to make guessing easier for the user.</p>\n<p><strong>Note:</strong> I created an interface called <code>InputAcceptor</code> that has an <code>acceptInput(input:String):void</code> signature. I then gave this interface to the <code>ButtonListener</code>'s constructor for handling buttons input and passing its text around.</p>\n<h3>GuessApp.java</h3>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\nimport java.util.OptionalInt;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\nimport java.awt.GridLayout;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class GuessApp implements InputAcceptor, Runnable {\n    private static final char[] alphabet;\n\n    private List&lt;JButton&gt; buttons;\n    private ButtonListener buttonListener;\n\n    private char letterToGuess;\n    private int guessesLeft;\n    private int maxGuesses;\n\n    static {\n        alphabet = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;.toCharArray();\n    }\n\n    public GuessApp(int maxGuesses) {\n        this.maxGuesses = maxGuesses;\n        this.buttonListener = new ButtonListener(this);\n\n        setup();\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new GuessApp(3));\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Guess a Letter&quot;);\n        frame.setContentPane(initializeContent());\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n    }\n\n    @Override\n    public void acceptInput(String input) {\n        int buttonIndex = indexOf(buttons, input, JButton::getText).orElse(-1);\n        char guessed = input.toUpperCase().charAt(0);\n        int diff = guessed - letterToGuess;\n\n        guessesLeft--;\n\n        if (diff == 0) {\n            int response = JOptionPane.showConfirmDialog(null,\n                    String.format(&quot;You won with %d guess(es) left! Restart?&quot;, this.guessesLeft),\n                    &quot;Congratulations!&quot;,\n                    JOptionPane.INFORMATION_MESSAGE);\n            if (response == JOptionPane.OK_OPTION) {\n                setup();\n            } else if (response == JOptionPane.NO_OPTION || response == JOptionPane.CANCEL_OPTION) {\n                System.exit(0);\n            }\n        } else {\n            if (guessesLeft &lt; 1) {\n                int response = JOptionPane.showConfirmDialog(null,\n                        String.format(&quot;You ran out of guesses! The answer was %c. Restart?&quot;, this.letterToGuess),\n                        &quot;You Lose!&quot;,\n                        JOptionPane.ERROR_MESSAGE);\n                if (response == JOptionPane.OK_OPTION) {\n                    setup();\n                } else if (response == JOptionPane.NO_OPTION) {\n                    System.exit(0);\n                }\n            } else {\n                if (diff &gt; 0) {\n                    JOptionPane.showMessageDialog(null,\n                            String.format(&quot;You need to guess lower than %c&quot;, guessed),\n                            &quot;Too High&quot;,\n                            JOptionPane.WARNING_MESSAGE);\n                    disableButtons(buttonIndex, buttons.size());\n                } else {\n                    JOptionPane.showMessageDialog(null,\n                            String.format(&quot;You need to guess higher than %c&quot;, guessed),\n                            &quot;Too Low&quot;,\n                            JOptionPane.WARNING_MESSAGE);\n                    disableButtons(0, buttonIndex + 1);\n                }\n            }\n        }\n    }\n\n    protected void setup() {\n        this.guessesLeft = maxGuesses;\n        this.letterToGuess = randomValue(alphabet);\n        if (buttons != null &amp;&amp; !buttons.isEmpty()) {\n            buttons.forEach(button -&gt; {\n                if (!button.isEnabled()) {\n                    button.setEnabled(true);\n                }\n            });\n        }\n        System.out.printf(&quot;Answer: %c%n&quot;, this.letterToGuess);\n    }\n\n    protected JPanel initializeContent() {\n        JPanel container = new JPanel(new GridLayout(4, 8));\n        buttons = generateButtons();\n        buttons.forEach(button -&gt; {\n            button.addActionListener(buttonListener);\n            container.add(button);\n        });\n        return container;\n    }\n\n    private List&lt;JButton&gt; generateButtons() {\n        return IntStream\n                .range(0, alphabet.length)\n                .mapToObj(i -&gt; alphabet[i])\n                .map(letter -&gt; new JButton(Character.toString(letter)))\n                .collect(Collectors.toList());\n    }\n\n    private void disableButtons(int from, int to) {\n        for (int i = from; i &lt; to; i++) {\n            if (buttons.get(i).isEnabled()) {\n                buttons.get(i).setEnabled(false);\n            }\n        }\n    }\n\n    public static char randomValue(char[] arr) {\n        int index = (int) (Math.random() * arr.length);\n        return arr[index];\n    }\n\n    private static &lt;E&gt; OptionalInt indexOf(List&lt;E&gt; list, String text, Function&lt;E, String&gt; predicate) {\n        return IntStream.range(0, list.size())\n                .filter(i -&gt; text.equals(predicate.apply(list.get(i))))\n                .findFirst();\n    }\n}\n</code></pre>\n<h3>InputAcceptor.java</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public interface InputAcceptor {\n    void acceptInput(String input);\n}\n</code></pre>\n<h3>ButtonListener.java</h3>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JButton;\n\npublic class ButtonListener implements ActionListener {\n    private InputAcceptor inputAcceptor;\n\n    public ButtonListener(InputAcceptor inputAcceptor) {\n        this.inputAcceptor = inputAcceptor;\n    }\n\n    public void actionPerformed(ActionEvent e) {\n        if (!(e.getSource() instanceof JButton)) {\n            throw new IllegalArgumentException(&quot;Event source must be a JButton&quot;);\n        }\n        this.inputAcceptor.acceptInput(((JButton) e.getSource()).getText());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23880988,"reputation":21,"user_id":17881693,"display_name":"i dont know how to code"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1678979649,"accepted_answer_id":75759584,"answer_count":1,"score":-2,"last_activity_date":1678987169,"creation_date":1678979199,"question_id":75758053,"body_markdown":"I&#39;ve been using JForm for this code, but I somehow can&#39;t get the for loop to work. I&#39;m not even quite sure if the for loop is the problem here. There should be a maximum of 3 attempts, submitting 3 different answers on the same button, trying to guess a single character from an array. Plus, despite me entering the random element as displayed, it would still display that I got it wrong :(( I would really appreciate help on this for a project! \r\n\r\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        //Scanner gags = new Scanner(System.in); \r\n                String newr = ans.getText();\r\n                \r\n        \r\n\t\tfor (int i = 0; i &lt; 3; i++) {\r\n                    \r\n                    if (ans.getText() == randomElement) {\r\n                        \r\n                        finalAns.setText(&quot;You got it right!&quot;);\r\n                        \r\n                    } \r\n                    \r\n                    else {\r\n\t\t\t\r\n                        for (int j = 0; j &lt; 0; j++){\r\n                            if (arriba[j] == newr){\r\n                                if (j &gt; go){\r\n                                    guesses.setText(&quot;guess lower&quot;);\r\n                                }\r\n                                if (j &lt; go){\r\n                                    guesses.setText(&quot;guess higher&quot;);\r\n                                }\r\n                            }\r\n                        }\r\n                                 }\t\r\n                } while  (++attemptsNum &lt; maxAttempts );\r\n\r\n                 if (attemptsNum == maxAttempts)\r\n                    ambotGags.setText(&quot;You lose. The letter was : &quot; + randomElement);\r\n\t\t//}\r\n                \r\n                \r\n    } ","title":"Nested For-loops ignoring nested Ifs in a java random guessing game","body":"<p>I've been using JForm for this code, but I somehow can't get the for loop to work. I'm not even quite sure if the for loop is the problem here. There should be a maximum of 3 attempts, submitting 3 different answers on the same button, trying to guess a single character from an array. Plus, despite me entering the random element as displayed, it would still display that I got it wrong :(( I would really appreciate help on this for a project!</p>\n<pre><code>private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n    //Scanner gags = new Scanner(System.in); \n            String newr = ans.getText();\n            \n    \n    for (int i = 0; i &lt; 3; i++) {\n                \n                if (ans.getText() == randomElement) {\n                    \n                    finalAns.setText(&quot;You got it right!&quot;);\n                    \n                } \n                \n                else {\n        \n                    for (int j = 0; j &lt; 0; j++){\n                        if (arriba[j] == newr){\n                            if (j &gt; go){\n                                guesses.setText(&quot;guess lower&quot;);\n                            }\n                            if (j &lt; go){\n                                guesses.setText(&quot;guess higher&quot;);\n                            }\n                        }\n                    }\n                             }  \n            } while  (++attemptsNum &lt; maxAttempts );\n\n             if (attemptsNum == maxAttempts)\n                ambotGags.setText(&quot;You lose. The letter was : &quot; + randomElement);\n    //}\n            \n            \n} \n</code></pre>\n"},{"tags":["java","csv","character-encoding","export-to-csv"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678979754,"post_id":75758011,"comment_id":133641396,"body_markdown":"You should be using a `Writer` not the raw output stream with UTF-8 as the encoding and that as the response charset","body":"You should be using a <code>Writer</code> not the raw output stream with UTF-8 as the encoding and that as the response charset"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1678980483,"post_id":75758011,"comment_id":133641656,"body_markdown":"`try (Writer out = new OutputStreamWriter(response.getOutputStream(), StandardCharsets.UTF_8)) {\n            out.write(csv);\n        }\n`","body":"<code>try (Writer out = new OutputStreamWriter(response.getOutputStream(), StandardCharsets.UTF_8)) {             out.write(csv);         } </code>"},{"owner":{"account_id":20222102,"reputation":65,"user_id":14831247,"display_name":"Hippo"},"score":0,"creation_date":1678982449,"post_id":75758011,"comment_id":133642267,"body_markdown":"I tried your code and adapt it and it works now! I had to change the charset from UTF-8 to ISO-8859, thanks a lot @g00se","body":"I tried your code and adapt it and it works now! I had to change the charset from UTF-8 to ISO-8859, thanks a lot @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678986328,"post_id":75758011,"comment_id":133643490,"body_markdown":"*I had to change the charset from UTF-8 to ISO-8859* Why so?","body":"<i>I had to change the charset from UTF-8 to ISO-8859</i> Why so?"},{"owner":{"account_id":20222102,"reputation":65,"user_id":14831247,"display_name":"Hippo"},"score":0,"creation_date":1678987285,"post_id":75758011,"comment_id":133643749,"body_markdown":"I guess it&#39;s the encoding supported by my application, the issue i get appears when the  downloaded file was encoded with UTF-8 charset","body":"I guess it&#39;s the encoding supported by my application, the issue i get appears when the  downloaded file was encoded with UTF-8 charset"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678988004,"post_id":75758011,"comment_id":133643961,"body_markdown":"Just seems strange these days to find &#39;something&#39; won&#39;t read a file encoded as UTF-8","body":"Just seems strange these days to find &#39;something&#39; won&#39;t read a file encoded as UTF-8"},{"owner":{"account_id":20222102,"reputation":65,"user_id":14831247,"display_name":"Hippo"},"score":0,"creation_date":1679306446,"post_id":75758011,"comment_id":133691611,"body_markdown":"Yes i agree, but it&#39;s a very old application (+20 years...) so i guess it&#39;s wasn&#39;t the same encoding standard at this time","body":"Yes i agree, but it&#39;s a very old application (+20 years...) so i guess it&#39;s wasn&#39;t the same encoding standard at this time"}],"owner":{"account_id":20222102,"reputation":65,"user_id":14831247,"display_name":"Hippo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678986847,"creation_date":1678979000,"question_id":75758011,"body_markdown":"I&#39;m working on a Struts 1 application (Java 1.8.0_333) for a client, and I have an encoding issue when export CSV data. I&#39;m using WebLogic version 12.1 locally, on this environment. I have no problems with special characters (accents are correctly displayed):\r\n \r\n[![Local display][1]][1]\r\n\r\nBut on the testing server of the client, I have a strange encoding problem:\r\n\r\n[![Server display][2]][2]\r\n\r\nI think it&#39;s something related to the OS, server run on Linux and my local OS is Windows. \r\n\r\nHere is the code of the CSV export:\r\n\r\n```java\r\npublic ActionForward exporter(final ActionMapping mapping, final ActionForm aForm, final HttpServletRequest request,\r\n\t\tfinal HttpServletResponse response) throws HibernateException, ServletException, IOException {\r\n\r\n\tDateFormat format = new SimpleDateFormat(&quot;dd_MM_yyyy&quot;);\r\n\tString filename = &quot;agents&quot; + format.format(new Date()) + &quot;.csv&quot;;\r\n\tresponse.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=\\&quot;&quot; + filename + &quot;\\&quot;&quot;);\r\n\r\n\tfinal Session session = Persistance.getSession();\r\n\r\n\tArrayList&lt;Agents&gt; listAgents = null;\r\n\tString q = &quot;FROM Agents agents JOIN FETCH agents.organisation WHERE agents.supprime = &#39;0&#39;  &quot;;\r\n\r\n\t// export agents actifs\r\n\tif (&quot;active&quot;.equals(request.getParameter(&quot;choix&quot;))) {\r\n\t\tq += &quot; AND statut_agent = &#39;1&#39;&quot;;\r\n\t}\r\n\r\n\t// export agents d&#233;sactiv&#233;s\r\n\tif (&quot;desactive&quot;.equals(request.getParameter(&quot;choix&quot;))) {\r\n\t\tq += &quot; AND statut_agent = &#39;0&#39;&quot;;\r\n\t}\r\n\r\n\tq += &quot; ORDER BY agents.nom, agents.prenom, agents.organisation.label&quot;;\r\n\tlistAgents = (ArrayList&lt;Agents&gt;) session.createQuery(q).list();\r\n\r\n\t//FileWriter csvWriter = new FileWriter(filename);\r\n\r\n\t// ent&#234;tes\r\n\tString csv = &quot;Nom;Prenom;Service;ID_UNITE;Batiment;Actif\\n&quot;;\r\n\r\n\tfor (Agents agent : listAgents) {\r\n\t\tString organisation = agent.getOrganisation().getLabel() == null ? &quot;&quot; : agent.getOrganisation().getLabel();\r\n\t\tString batiment = agent.getBatiment() == null ? &quot;&quot; : agent.getBatiment();\r\n\t\tcsv += agent.getNom() + &quot;;&quot; + agent.getPrenom() + &quot;;&quot; + organisation + &quot;;&quot; + agent.getOrganisation().getIdUnite() + &quot;;&quot;\r\n\t\t\t\t+ batiment + &quot;;&quot;\r\n\t\t\t\t+ (&quot;1&quot;.equals(agent.getStatut_agent()) ? &quot;Oui&quot; : &quot;Non&quot;) + &quot;\\n&quot;;\r\n\t}\r\n\r\n\tServletOutputStream out = response.getOutputStream();\r\n\tout.write(csv.getBytes());\r\n\tout.flush();\r\n\tout.close();\r\n\r\n\treturn mapping.findForward(&quot;exporter&quot;);\r\n}\r\n```\r\n\r\nI tried to display the encoding of the csv downloaded and I noted a difference between local/server:\r\n\r\n- CSV from local: `file dev.csv -- Output : ISO-8859 text` - No encoding problems\r\n- CSV from server: `file server.csv -- Output : Unicode text, UTF-8 text` - Encoding problems\r\n\r\nThanks in advance for your response\r\n\r\n  [1]: https://i.stack.imgur.com/UdB2U.png\r\n  [2]: https://i.stack.imgur.com/aRpsM.png","title":"Java Struts 1 Encoding issue","body":"<p>I'm working on a Struts 1 application (Java 1.8.0_333) for a client, and I have an encoding issue when export CSV data. I'm using WebLogic version 12.1 locally, on this environment. I have no problems with special characters (accents are correctly displayed):</p>\n<p><a href=\"https://i.stack.imgur.com/UdB2U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UdB2U.png\" alt=\"Local display\" /></a></p>\n<p>But on the testing server of the client, I have a strange encoding problem:</p>\n<p><a href=\"https://i.stack.imgur.com/aRpsM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aRpsM.png\" alt=\"Server display\" /></a></p>\n<p>I think it's something related to the OS, server run on Linux and my local OS is Windows.</p>\n<p>Here is the code of the CSV export:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ActionForward exporter(final ActionMapping mapping, final ActionForm aForm, final HttpServletRequest request,\n        final HttpServletResponse response) throws HibernateException, ServletException, IOException {\n\n    DateFormat format = new SimpleDateFormat(&quot;dd_MM_yyyy&quot;);\n    String filename = &quot;agents&quot; + format.format(new Date()) + &quot;.csv&quot;;\n    response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=\\&quot;&quot; + filename + &quot;\\&quot;&quot;);\n\n    final Session session = Persistance.getSession();\n\n    ArrayList&lt;Agents&gt; listAgents = null;\n    String q = &quot;FROM Agents agents JOIN FETCH agents.organisation WHERE agents.supprime = '0'  &quot;;\n\n    // export agents actifs\n    if (&quot;active&quot;.equals(request.getParameter(&quot;choix&quot;))) {\n        q += &quot; AND statut_agent = '1'&quot;;\n    }\n\n    // export agents désactivés\n    if (&quot;desactive&quot;.equals(request.getParameter(&quot;choix&quot;))) {\n        q += &quot; AND statut_agent = '0'&quot;;\n    }\n\n    q += &quot; ORDER BY agents.nom, agents.prenom, agents.organisation.label&quot;;\n    listAgents = (ArrayList&lt;Agents&gt;) session.createQuery(q).list();\n\n    //FileWriter csvWriter = new FileWriter(filename);\n\n    // entêtes\n    String csv = &quot;Nom;Prenom;Service;ID_UNITE;Batiment;Actif\\n&quot;;\n\n    for (Agents agent : listAgents) {\n        String organisation = agent.getOrganisation().getLabel() == null ? &quot;&quot; : agent.getOrganisation().getLabel();\n        String batiment = agent.getBatiment() == null ? &quot;&quot; : agent.getBatiment();\n        csv += agent.getNom() + &quot;;&quot; + agent.getPrenom() + &quot;;&quot; + organisation + &quot;;&quot; + agent.getOrganisation().getIdUnite() + &quot;;&quot;\n                + batiment + &quot;;&quot;\n                + (&quot;1&quot;.equals(agent.getStatut_agent()) ? &quot;Oui&quot; : &quot;Non&quot;) + &quot;\\n&quot;;\n    }\n\n    ServletOutputStream out = response.getOutputStream();\n    out.write(csv.getBytes());\n    out.flush();\n    out.close();\n\n    return mapping.findForward(&quot;exporter&quot;);\n}\n</code></pre>\n<p>I tried to display the encoding of the csv downloaded and I noted a difference between local/server:</p>\n<ul>\n<li>CSV from local: <code>file dev.csv -- Output : ISO-8859 text</code> - No encoding problems</li>\n<li>CSV from server: <code>file server.csv -- Output : Unicode text, UTF-8 text</code> - Encoding problems</li>\n</ul>\n<p>Thanks in advance for your response</p>\n"},{"tags":["java","android","facebook-login","facebook-android-sdk"],"comments":[{"owner":{"account_id":6549060,"reputation":255,"user_id":5064034,"accept_rate":100,"display_name":"sabith.ak"},"score":0,"creation_date":1679573434,"post_id":71317253,"comment_id":133747540,"body_markdown":"I resolved the same bug by upgrading Facebook dependency to the latest(16.0.0).","body":"I resolved the same bug by upgrading Facebook dependency to the latest(16.0.0)."}],"answers":[{"comments":[{"owner":{"account_id":229487,"reputation":6571,"user_id":492482,"accept_rate":72,"display_name":"Emil"},"score":0,"creation_date":1665236274,"post_id":71317432,"comment_id":130655004,"body_markdown":"why would you suggest loginbutton if he wants to use LoginManager. those are 2 different solutions","body":"why would you suggest loginbutton if he wants to use LoginManager. those are 2 different solutions"}],"tags":[],"owner":{"account_id":3078147,"reputation":835,"user_id":2607017,"accept_rate":53,"display_name":"Zhang Zhan"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646197013,"creation_date":1646194872,"answer_id":71317432,"question_id":71317253,"body_markdown":"According to the post:\r\nhttps://stackoverflow.com/questions/67297326/how-to-use-facebook-sign-in-callbackmanager-with-onactivityresult-deprecated\r\n\r\nIt seems after Facebook Android SDK 12, the approach of using \r\n\r\n&gt; onActivityResult\r\n\r\n is deprecated. And as of today, I am posting this question (2/March/2022), Facebook official developer document: https://developers.facebook.com/docs/facebook-login/android/#9--register-a-callback\r\nis still telling everyone the old way of doing Facebook login.\r\n\r\nI hope this post could help others facing the same problem.\r\n\r\nThe following are the solution\r\n\r\nSample code:\r\nhttps://github.com/facebook/facebook-android-sdk/blob/main/samples/FBLoginSample/src/main/java/com/facebook/fbloginsample/FacebookLoginActivity.java\r\n\r\nSolution:\r\n1. Remove\r\n\r\n    callbackManager.onActivityResult(requestCode, resultCode, data);\r\nfrom onActivityResult\r\n2. Setup your Facebook button with permission\r\n\r\n    LoginButton mLoginButton = findViewById(R.id.login_button);\r\n    mLoginButton.setPermissions(Arrays.asList(&quot;public_profile&quot;, &quot;email&quot;));\r\n\r\n3. Replace LoginManager with your LoginButton instance. Change:\r\n\r\n    LoginManager.getInstance().registerCallback(callbackManager,\r\n                    new FacebookCallback&lt;LoginResult&gt;() {\r\nChange to:\r\n\r\n    mLoginButton.registerCallback(callbackManager,\r\n                    new FacebookCallback&lt;LoginResult&gt;() {","title":"Android CallbackManager call back stopped working after upgrading to Facebook SDK 12.0.0 (Or 13)","body":"<p>According to the post:\n<a href=\"https://stackoverflow.com/questions/67297326/how-to-use-facebook-sign-in-callbackmanager-with-onactivityresult-deprecated\">How to use Facebook Sign in CallbackManager with onActivityResult deprecated?</a></p>\n<p>It seems after Facebook Android SDK 12, the approach of using</p>\n<blockquote>\n<p>onActivityResult</p>\n</blockquote>\n<p>is deprecated. And as of today, I am posting this question (2/March/2022), Facebook official developer document: <a href=\"https://developers.facebook.com/docs/facebook-login/android/#9--register-a-callback\" rel=\"nofollow noreferrer\">https://developers.facebook.com/docs/facebook-login/android/#9--register-a-callback</a>\nis still telling everyone the old way of doing Facebook login.</p>\n<p>I hope this post could help others facing the same problem.</p>\n<p>The following are the solution</p>\n<p>Sample code:\n<a href=\"https://github.com/facebook/facebook-android-sdk/blob/main/samples/FBLoginSample/src/main/java/com/facebook/fbloginsample/FacebookLoginActivity.java\" rel=\"nofollow noreferrer\">https://github.com/facebook/facebook-android-sdk/blob/main/samples/FBLoginSample/src/main/java/com/facebook/fbloginsample/FacebookLoginActivity.java</a></p>\n<p>Solution:</p>\n<ol>\n<li><p>Remove</p>\n<p>callbackManager.onActivityResult(requestCode, resultCode, data);\nfrom onActivityResult</p>\n</li>\n<li><p>Setup your Facebook button with permission</p>\n<p>LoginButton mLoginButton = findViewById(R.id.login_button);\nmLoginButton.setPermissions(Arrays.asList(&quot;public_profile&quot;, &quot;email&quot;));</p>\n</li>\n<li><p>Replace LoginManager with your LoginButton instance. Change:</p>\n<p>LoginManager.getInstance().registerCallback(callbackManager,\nnew FacebookCallback() {\nChange to:</p>\n<p>mLoginButton.registerCallback(callbackManager,\nnew FacebookCallback() {</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":18779513,"reputation":1070,"user_id":13694485,"display_name":"PRANAV SINGH"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668779607,"creation_date":1668779607,"answer_id":74490705,"question_id":71317253,"body_markdown":"Emil&#39;s comment is correct we can&#39;t use loginButton solution with LoginManger. But after several hours of experiments I solved it by downgrading the dependencies version please refer this: https://stackoverflow.com/a/74490644/13694485","title":"Android CallbackManager call back stopped working after upgrading to Facebook SDK 12.0.0 (Or 13)","body":"<p>Emil's comment is correct we can't use loginButton solution with LoginManger. But after several hours of experiments I solved it by downgrading the dependencies version please refer this: <a href=\"https://stackoverflow.com/a/74490644/13694485\">https://stackoverflow.com/a/74490644/13694485</a></p>\n"},{"comments":[{"owner":{"account_id":18855528,"reputation":83,"user_id":13753575,"display_name":"Joanne Chang"},"score":0,"creation_date":1691115674,"post_id":75759496,"comment_id":135451432,"body_markdown":"Thanks,I fixed it by this solution. I used 12.1.0, update to 16.0.0 then it works.","body":"Thanks,I fixed it by this solution. I used 12.1.0, update to 16.0.0 then it works."},{"owner":{"account_id":9720883,"reputation":173,"user_id":7209673,"display_name":"Gabriel Trifa"},"score":0,"creation_date":1694426467,"post_id":75759496,"comment_id":135884851,"body_markdown":"@JoanneChang you&#39;re welcome!","body":"@JoanneChang you&#39;re welcome!"}],"tags":[],"owner":{"account_id":9720883,"reputation":173,"user_id":7209673,"display_name":"Gabriel Trifa"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678986731,"creation_date":1678986731,"answer_id":75759496,"question_id":71317253,"body_markdown":"The issue was fixed for me after updating to the latest (for now) version: 16.0.0 (I had 13.2.0). No code changes were needed besides this.","title":"Android CallbackManager call back stopped working after upgrading to Facebook SDK 12.0.0 (Or 13)","body":"<p>The issue was fixed for me after updating to the latest (for now) version: 16.0.0 (I had 13.2.0). No code changes were needed besides this.</p>\n"}],"owner":{"account_id":3078147,"reputation":835,"user_id":2607017,"accept_rate":53,"display_name":"Zhang Zhan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1616,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71317432,"answer_count":3,"score":2,"last_activity_date":1678986731,"creation_date":1646193029,"question_id":71317253,"body_markdown":"I have an Android app that does login via Facebook.\r\nEverything was working when I was on Facebook SDK\r\n\r\n    implementation &#39;com.facebook.android:facebook-android-sdk:11.1.1&#39;\r\n\r\nHowever, recently I noticed in my Gradle file that there is an update available for Facebook SDK, so I updated it to\r\n\r\n    implementation &#39;com.facebook.android:facebook-android-sdk:13.0.0&#39;\r\n\r\nAnd then the problem happens.\r\n\r\nBefore I have my code setup like the following:\r\n\r\n    private void facebookSignInSetup() {\r\n        //Facebook login setup\r\n        callbackManager = CallbackManager.Factory.create();\r\n        LoginManager.getInstance().registerCallback(callbackManager,\r\n                new FacebookCallback&lt;LoginResult&gt;() {\r\n                    @Override\r\n                    public void onSuccess(LoginResult loginResult) {\r\n                      ....\r\n                    }\r\n\r\nAnd in my Activity class I have the following code:\r\n\r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n            callbackManager.onActivityResult(requestCode, resultCode, data);\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n            ......\r\n        }\r\n\r\nWhen I was on Facebook SDK 11.1.1, after user login via Facebook, method: onActivityResult is fired then FacebookCallback registered is fired.\r\n\r\nAfter upgrading to Facebook SDK 13.0.0 (I tried 12.0.0 also having the same problem), after the user login to Facebook, onActivityResult is called, however, FacebookCallback is not called.\r\n\r\nHence my login process is broken.\r\n\r\nAnyone has the same problem and is the resolution?","title":"Android CallbackManager call back stopped working after upgrading to Facebook SDK 12.0.0 (Or 13)","body":"<p>I have an Android app that does login via Facebook.\nEverything was working when I was on Facebook SDK</p>\n<pre><code>implementation 'com.facebook.android:facebook-android-sdk:11.1.1'\n</code></pre>\n<p>However, recently I noticed in my Gradle file that there is an update available for Facebook SDK, so I updated it to</p>\n<pre><code>implementation 'com.facebook.android:facebook-android-sdk:13.0.0'\n</code></pre>\n<p>And then the problem happens.</p>\n<p>Before I have my code setup like the following:</p>\n<pre><code>private void facebookSignInSetup() {\n    //Facebook login setup\n    callbackManager = CallbackManager.Factory.create();\n    LoginManager.getInstance().registerCallback(callbackManager,\n            new FacebookCallback&lt;LoginResult&gt;() {\n                @Override\n                public void onSuccess(LoginResult loginResult) {\n                  ....\n                }\n</code></pre>\n<p>And in my Activity class I have the following code:</p>\n<pre><code>    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        callbackManager.onActivityResult(requestCode, resultCode, data);\n        super.onActivityResult(requestCode, resultCode, data);\n        ......\n    }\n</code></pre>\n<p>When I was on Facebook SDK 11.1.1, after user login via Facebook, method: onActivityResult is fired then FacebookCallback registered is fired.</p>\n<p>After upgrading to Facebook SDK 13.0.0 (I tried 12.0.0 also having the same problem), after the user login to Facebook, onActivityResult is called, however, FacebookCallback is not called.</p>\n<p>Hence my login process is broken.</p>\n<p>Anyone has the same problem and is the resolution?</p>\n"},{"tags":["java","exception","maze"],"comments":[{"owner":{"account_id":285492,"reputation":77387,"user_id":584192,"accept_rate":100,"display_name":"Samuel Liew"},"score":0,"creation_date":1679129871,"post_id":75748868,"comment_id":133668636,"body_markdown":"**Comments have been [moved to chat](https://chat.stackoverflow.com/rooms/252583/discussion-on-question-by-joel-alex-how-do-i-change-my-code-so-it-stops-catching); please do not continue the discussion here.** Before posting a comment below this one, please review the [purposes of comments](/help/privileges/comment). Comments that do not request clarification or suggest improvements usually belong as an [answer](/help/how-to-answer), on [meta], or in [chat]. Comments continuing discussion may be removed.","body":"<b>Comments have been <a href=\"https://chat.stackoverflow.com/rooms/252583/discussion-on-question-by-joel-alex-how-do-i-change-my-code-so-it-stops-catching\">moved to chat</a>; please do not continue the discussion here.</b> Before posting a comment below this one, please review the <a href=\"/help/privileges/comment\">purposes of comments</a>. Comments that do not request clarification or suggest improvements usually belong as an <a href=\"/help/how-to-answer\">answer</a>, on <a href=\"https://meta.stackoverflow.com\">Meta Stack Overflow</a>, or in <a href=\"https://chat.stackoverflow.com/\">Stack Overflow Chat</a>. Comments continuing discussion may be removed."}],"answers":[{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678986586,"creation_date":1678986586,"answer_id":75759469,"question_id":75748868,"body_markdown":"First, move the line to extract the next character that was input to just below the `for` loop statement:\r\n\r\n    while (true) {\r\n          System.out.println(&quot;\\nWhat direction would you like to move?&quot;\r\n             + &quot;(Controls: w - a - s - d): &quot;);\r\n          tempInput = myInput.nextLine();          \r\n          try {             \r\n            for (int i = 0; i &lt; tempInput.length(); i++) {       \r\n              playerMove = tempInput.toUpperCase().charAt(i);\r\n    ... \r\n\r\nNote this uses the index controlled by the `for` loop, rather than always using `0`. \r\n\r\nNext, examine the `playerMove` to put it into one of the following categories:\r\n\r\n - Whitespace: `continue;` the `for` loop.\r\n - Valid and possible: process the move.\r\n - Valid and impossible:\r\n - - Bump into wall: Display error message\r\n - - Out of bounds: Display error message\r\n\r\nBy &quot;valid&quot;, I mean one of w, a, s, d, as specified in the question. By &quot;valid and impossible&quot;, I mean the input criteria were met, but the move would go out of bounds or into a wall. \r\n \r\nDon&#39;t try to use exceptions to categorize the move. Use `break` to exit a loop and `continue` to jump to the next iteration. \r\n\r\nExample:\r\n\r\n      for (int i = 0; i &lt; tempInput.length(); i++) {       \r\n          playerMove = tempInput.toUpperCase().charAt(i);\r\n      if (Character.isWhitespace (playerMove) { \r\n          continue;\r\n      }\r\n      if (    playerMove != &#39;W&#39; &amp;&amp; playerMove != &#39;D&#39; \r\n           &amp;&amp; playerMove != &#39;A&#39; &amp;&amp; playerMove != &#39;S&#39;) {\r\n        System.out.println (&quot;\\nPlease provide a move, the only valid moves&quot;\r\n              + &quot; are w, a, s or d.&quot;);\r\n        continue;\r\n      }\r\n\r\nThat would be followed by code to check if the player remains in bounds and avoids a wall. After that would be the code to make valid move.\r\n                     \r\n               \r\n\r\n\r\n","title":"How do I change my code so it stops catching valid inputs?","body":"<p>First, move the line to extract the next character that was input to just below the <code>for</code> loop statement:</p>\n<pre><code>while (true) {\n      System.out.println(&quot;\\nWhat direction would you like to move?&quot;\n         + &quot;(Controls: w - a - s - d): &quot;);\n      tempInput = myInput.nextLine();          \n      try {             \n        for (int i = 0; i &lt; tempInput.length(); i++) {       \n          playerMove = tempInput.toUpperCase().charAt(i);\n... \n</code></pre>\n<p>Note this uses the index controlled by the <code>for</code> loop, rather than always using <code>0</code>.</p>\n<p>Next, examine the <code>playerMove</code> to put it into one of the following categories:</p>\n<ul>\n<li>Whitespace: <code>continue;</code> the <code>for</code> loop.</li>\n<li>Valid and possible: process the move.</li>\n<li>Valid and impossible:</li>\n<li>\n<ul>\n<li>Bump into wall: Display error message</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>Out of bounds: Display error message</li>\n</ul>\n</li>\n</ul>\n<p>By &quot;valid&quot;, I mean one of w, a, s, d, as specified in the question. By &quot;valid and impossible&quot;, I mean the input criteria were met, but the move would go out of bounds or into a wall.</p>\n<p>Don't try to use exceptions to categorize the move. Use <code>break</code> to exit a loop and <code>continue</code> to jump to the next iteration.</p>\n<p>Example:</p>\n<pre><code>  for (int i = 0; i &lt; tempInput.length(); i++) {       \n      playerMove = tempInput.toUpperCase().charAt(i);\n  if (Character.isWhitespace (playerMove) { \n      continue;\n  }\n  if (    playerMove != 'W' &amp;&amp; playerMove != 'D' \n       &amp;&amp; playerMove != 'A' &amp;&amp; playerMove != 'S') {\n    System.out.println (&quot;\\nPlease provide a move, the only valid moves&quot;\n          + &quot; are w, a, s or d.&quot;);\n    continue;\n  }\n</code></pre>\n<p>That would be followed by code to check if the player remains in bounds and avoids a wall. After that would be the code to make valid move.</p>\n"}],"owner":{"account_id":27820929,"reputation":3,"user_id":21241331,"display_name":"Joel Alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75759469,"answer_count":1,"score":-1,"last_activity_date":1678986586,"creation_date":1678905652,"question_id":75748868,"body_markdown":"I am a java beginner that has to complete a school assignment. It tells me to create a maze that allow the user to move through the maze until he/she reaches the end. The movement keys are w, a, s, d. I&#39;ve made the maze and basically created the program, however my try and catch block is forcing an error even if the input is valid. \r\n\r\nThis is my maze, the player is represented by an asterisk and E means the end. An X represents a wall and any space is a path. \r\n\r\n     X  X  X  X  X  X  X  X  X  X  X \r\n     X     X  X        X  X  X     X \r\n     X     X  X     X  X  X  X     X \r\n     X              X  X  X  X     X \r\n     X  X     X  X  E        X     X \r\n     X  X     X  X  X  X     X     X \r\n     X  X     X  X  X  X     X       \r\n     X  X                          X \r\n     X  X  X     X     X  X  X     X \r\n     X  X  X  X  X  X  X  X  X  *  X \r\n\r\nThis is my code, I apologize if it is too long.\r\n```\r\n    Scanner myInput = new Scanner(System.in);\r\n    String mazeOutput = &quot;&quot;, tempInput;\r\n    char playerMove;\r\n    int playerRowPosition, playerColPosition;\r\n```\r\nOuterWhile:\r\n```\r\n        while (!mapOfMaze[4][5].equals(&quot; * &quot;))\r\n        {\r\n          \r\n          for(int row = 0; row &lt; mapOfMaze.length; row++)\r\n          {\r\n            for(int col = 0; col &lt; mapOfMaze[row].length; col++)\r\n            {\r\n              System.out.print(mapOfMaze[row][col]);\r\n            }\r\n            \r\n            System.out.println(&quot;&quot;);\r\n          }\r\n```        \r\n          \r\n    InnerWhile:\r\n  ```        \r\n          while (true)\r\n          {\r\n            System.out.println(&quot;\\nWhat direction would you like to move (Controls: w - a - s - d): &quot;);\r\n            tempInput = myInput.nextLine();\r\n            \r\n            try\r\n            {\r\n               \r\n              for (int i = 0; i &lt; tempInput.length(); i++)\r\n              {       \r\n                if (Character.isDigit(tempInput.charAt(i)))\r\n                {\r\n                  Integer.parseInt(&quot;a&quot;);\r\n                }  \r\n              }                \r\n              \r\n              if (tempInput.length() != 1)\r\n              {\r\n                Integer.parseInt(&quot;a&quot;);\r\n              }\r\n              \r\n              playerMove = tempInput.toUpperCase().charAt(0);\r\n              \r\n              if ((int)playerMove == 87 || (int)playerMove == 65 || (int)playerMove == 83 || (int)playerMove == 68)\r\n              {\r\n                playerMove = playerMove;\r\n              }\r\n              \r\n              else\r\n              {\r\n                Integer.parseInt(&quot;a&quot;);\r\n              }\r\n              break;\r\n            }\r\n            \r\n            catch (NumberFormatException error)\r\n            {\r\n              System.out.println(&quot;\\nPlease provide a move, the only valid moves are w, a, s or d.&quot;);      \r\n            }\r\n          }\r\n```\r\n  continue OuterWhile   \r\n```     \r\n          try\r\n          {\r\n            playerRowPosition = 9;\r\n            playerColPosition = 8;\r\n            \r\n            if ((int)playerMove == 87 &amp;&amp; mapOfMaze[playerRowPosition - 1][playerColPosition].equals(&quot;   &quot;))\r\n            {\r\n              playerRowPosition = playerRowPosition - 1;\r\n              mapOfMaze[playerRowPosition][playerColPosition] = &quot; * &quot;;\r\n            }\r\n            \r\n            else if ((int)playerMove == 65 &amp;&amp; mapOfMaze[playerRowPosition][playerColPosition - 1].equals(&quot;   &quot;))\r\n            {\r\n              playerColPosition = playerColPosition - 1;\r\n              mapOfMaze[playerRowPosition][playerColPosition] = &quot; * &quot;;\r\n            }\r\n            \r\n            else if ((int)playerMove == 83 &amp;&amp; mapOfMaze[playerRowPosition + 1][playerColPosition].equals(&quot;   &quot;))\r\n            {\r\n              playerRowPosition = playerRowPosition + 1;\r\n              mapOfMaze[playerRowPosition][playerColPosition] = &quot; * &quot;;\r\n            }\r\n            \r\n            else if ((int)playerMove == 68 &amp;&amp; mapOfMaze[playerRowPosition][playerColPosition + 1].equals(&quot;   &quot;))\r\n            {\r\n              playerColPosition = playerColPosition + 1;\r\n              mapOfMaze[playerRowPosition][playerColPosition] = &quot; * &quot;;\r\n            }\r\n            \r\n            else\r\n            {\r\n              throw new NumberFormatException ();\r\n            }\r\n          }\r\n          \r\n          catch (NumberFormatException error)\r\n          {\r\n            System.out.println(&quot;\\nThat move is not possible, the player is not able to move on walls or out of the maze.&quot;);\r\n          }\r\n        }\r\n ```    \r\n\r\n\r\nI tried to change the position of the player based on the input but also catch any exceptions, but it seems like the code is catching valid inputs as well. \r\nFor example, if I input w, the output will be \r\n\r\n```\r\nWhat direction would you like to move (Controls: w - a - s - d): \r\n [DrJava Input Box]\r\n\r\nThat move is not possible, the player is not able to move on walls or out of the maze.\r\n```\r\n\r\nI appreciate any help.\r\n","title":"How do I change my code so it stops catching valid inputs?","body":"<p>I am a java beginner that has to complete a school assignment. It tells me to create a maze that allow the user to move through the maze until he/she reaches the end. The movement keys are w, a, s, d. I've made the maze and basically created the program, however my try and catch block is forcing an error even if the input is valid.</p>\n<p>This is my maze, the player is represented by an asterisk and E means the end. An X represents a wall and any space is a path.</p>\n<pre><code> X  X  X  X  X  X  X  X  X  X  X \n X     X  X        X  X  X     X \n X     X  X     X  X  X  X     X \n X              X  X  X  X     X \n X  X     X  X  E        X     X \n X  X     X  X  X  X     X     X \n X  X     X  X  X  X     X       \n X  X                          X \n X  X  X     X     X  X  X     X \n X  X  X  X  X  X  X  X  X  *  X \n</code></pre>\n<p>This is my code, I apologize if it is too long.</p>\n<pre><code>    Scanner myInput = new Scanner(System.in);\n    String mazeOutput = &quot;&quot;, tempInput;\n    char playerMove;\n    int playerRowPosition, playerColPosition;\n</code></pre>\n<p>OuterWhile:</p>\n<pre><code>        while (!mapOfMaze[4][5].equals(&quot; * &quot;))\n        {\n          \n          for(int row = 0; row &lt; mapOfMaze.length; row++)\n          {\n            for(int col = 0; col &lt; mapOfMaze[row].length; col++)\n            {\n              System.out.print(mapOfMaze[row][col]);\n            }\n            \n            System.out.println(&quot;&quot;);\n          }\n</code></pre>\n<pre><code>InnerWhile:\n</code></pre>\n<pre><code>        while (true)\n        {\n          System.out.println(&quot;\\nWhat direction would you like to move (Controls: w - a - s - d): &quot;);\n          tempInput = myInput.nextLine();\n          \n          try\n          {\n             \n            for (int i = 0; i &lt; tempInput.length(); i++)\n            {       \n              if (Character.isDigit(tempInput.charAt(i)))\n              {\n                Integer.parseInt(&quot;a&quot;);\n              }  \n            }                \n            \n            if (tempInput.length() != 1)\n            {\n              Integer.parseInt(&quot;a&quot;);\n            }\n            \n            playerMove = tempInput.toUpperCase().charAt(0);\n            \n            if ((int)playerMove == 87 || (int)playerMove == 65 || (int)playerMove == 83 || (int)playerMove == 68)\n            {\n              playerMove = playerMove;\n            }\n            \n            else\n            {\n              Integer.parseInt(&quot;a&quot;);\n            }\n            break;\n          }\n          \n          catch (NumberFormatException error)\n          {\n            System.out.println(&quot;\\nPlease provide a move, the only valid moves are w, a, s or d.&quot;);      \n          }\n        }\n</code></pre>\n<p>continue OuterWhile</p>\n<pre><code>          try\n          {\n            playerRowPosition = 9;\n            playerColPosition = 8;\n            \n            if ((int)playerMove == 87 &amp;&amp; mapOfMaze[playerRowPosition - 1][playerColPosition].equals(&quot;   &quot;))\n            {\n              playerRowPosition = playerRowPosition - 1;\n              mapOfMaze[playerRowPosition][playerColPosition] = &quot; * &quot;;\n            }\n            \n            else if ((int)playerMove == 65 &amp;&amp; mapOfMaze[playerRowPosition][playerColPosition - 1].equals(&quot;   &quot;))\n            {\n              playerColPosition = playerColPosition - 1;\n              mapOfMaze[playerRowPosition][playerColPosition] = &quot; * &quot;;\n            }\n            \n            else if ((int)playerMove == 83 &amp;&amp; mapOfMaze[playerRowPosition + 1][playerColPosition].equals(&quot;   &quot;))\n            {\n              playerRowPosition = playerRowPosition + 1;\n              mapOfMaze[playerRowPosition][playerColPosition] = &quot; * &quot;;\n            }\n            \n            else if ((int)playerMove == 68 &amp;&amp; mapOfMaze[playerRowPosition][playerColPosition + 1].equals(&quot;   &quot;))\n            {\n              playerColPosition = playerColPosition + 1;\n              mapOfMaze[playerRowPosition][playerColPosition] = &quot; * &quot;;\n            }\n            \n            else\n            {\n              throw new NumberFormatException ();\n            }\n          }\n          \n          catch (NumberFormatException error)\n          {\n            System.out.println(&quot;\\nThat move is not possible, the player is not able to move on walls or out of the maze.&quot;);\n          }\n        }\n</code></pre>\n<p>I tried to change the position of the player based on the input but also catch any exceptions, but it seems like the code is catching valid inputs as well.\nFor example, if I input w, the output will be</p>\n<pre><code>What direction would you like to move (Controls: w - a - s - d): \n [DrJava Input Box]\n\nThat move is not possible, the player is not able to move on walls or out of the maze.\n</code></pre>\n<p>I appreciate any help.</p>\n"},{"tags":["java","gradle","multi-module"],"owner":{"account_id":9842817,"reputation":515,"user_id":7291343,"display_name":"Roni Koren Kurtberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678986543,"creation_date":1678986543,"question_id":75759463,"body_markdown":"I have two classes: `ClassA` that is using (as a dependency) `ClassB`.\r\nClassA is having an application.conf file within the resources, while also ClassB within its own resources. \r\nWhile creating `ClassA` jar, when it is reaching the code of ClassB that is loading the application.conf, it&#39;s telling that there are some configurations missing, which means that it&#39;s still reading `ClassA` application.conf.\r\n\r\nQuestion is, how I can work on a multi-module project in gradle, and use two different application.conf file. There is any special configuration for that in the build.gradle? Other than stating the dependency? \r\n","title":"Cannot read application.conf of a dependent module in gradle","body":"<p>I have two classes: <code>ClassA</code> that is using (as a dependency) <code>ClassB</code>.\nClassA is having an application.conf file within the resources, while also ClassB within its own resources.\nWhile creating <code>ClassA</code> jar, when it is reaching the code of ClassB that is loading the application.conf, it's telling that there are some configurations missing, which means that it's still reading <code>ClassA</code> application.conf.</p>\n<p>Question is, how I can work on a multi-module project in gradle, and use two different application.conf file. There is any special configuration for that in the build.gradle? Other than stating the dependency?</p>\n"},{"tags":["java","nio"],"comments":[{"owner":{"account_id":4276,"reputation":14213,"user_id":6365,"accept_rate":65,"display_name":"Michael Barker"},"score":0,"creation_date":1274509916,"post_id":2883970,"comment_id":2935221,"body_markdown":"You probably don&#39;t want to use more than 16 buffers for a read or a write.  I know Java 5 had a hard limit of 16 (would accept more but would only read/write 16 of them) due to limit within Solaris.","body":"You probably don&#39;t want to use more than 16 buffers for a read or a write.  I know Java 5 had a hard limit of 16 (would accept more but would only read/write 16 of them) due to limit within Solaris."}],"answers":[{"tags":[],"owner":{"account_id":109303,"reputation":3464,"user_id":289684,"display_name":"Ha."},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1274507412,"creation_date":1274507412,"answer_id":2887108,"question_id":2883970,"body_markdown":"Does `packets.poll()` creates every time a new `Buffer`? If not, your are writing wrong data in the first case.","title":"Java: GatheringByteChannel advantages?","body":"<p>Does <code>packets.poll()</code> creates every time a new <code>Buffer</code>? If not, your are writing wrong data in the first case.</p>\n"},{"tags":[],"owner":{"account_id":1010291,"reputation":393,"user_id":1023009,"accept_rate":50,"display_name":"squarewav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678986498,"creation_date":1678986498,"answer_id":75759455,"question_id":2883970,"body_markdown":"GatheringByteChannel and ScatteringByteChannel maps to writev and readv system calls (or equivalent on other systems) with struct iovec to hold multiple buffers.\r\n\r\nFor a network socket this means that the data will appear in the same network frame to the extent that it would if all data were in one buffer. This might be used to encode a header in a one buffer, load data from a file into another direct buffer but be written to the socket as if they were one continuous buffer. If writev semantics were not used in this case, the header and file data might be written in separate network frames which has significant implications at the network level. \r\n\r\nFor a file, writing multiple buffers as if they were one has implications for file consistency. If you write data to a file with two separate writes and the second write fails, the file data will not be consistent. Write operations are atomic as far as the operating system is concerned (although that wasn&#39;t always true and may not be true for certain systems). When writev is used, the file should be consistent and get both buffers or neither.","title":"Java: GatheringByteChannel advantages?","body":"<p>GatheringByteChannel and ScatteringByteChannel maps to writev and readv system calls (or equivalent on other systems) with struct iovec to hold multiple buffers.</p>\n<p>For a network socket this means that the data will appear in the same network frame to the extent that it would if all data were in one buffer. This might be used to encode a header in a one buffer, load data from a file into another direct buffer but be written to the socket as if they were one continuous buffer. If writev semantics were not used in this case, the header and file data might be written in separate network frames which has significant implications at the network level.</p>\n<p>For a file, writing multiple buffers as if they were one has implications for file consistency. If you write data to a file with two separate writes and the second write fails, the file data will not be consistent. Write operations are atomic as far as the operating system is concerned (although that wasn't always true and may not be true for certain systems). When writev is used, the file should be consistent and get both buffers or neither.</p>\n"}],"owner":{"account_id":19061,"reputation":185746,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1093,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678986498,"creation_date":1274460808,"question_id":2883970,"body_markdown":"I&#39;m wondering when the [GatheringByteChannel][1]&#39;s write methods (taking in an array of ByteBuffers) have advantages over the &quot;regular&quot; WritableByteChannel write methods. \r\n\r\nI tried a test where I could use the regular vs. the gathering write method on a FileChannel, with approx 400KB/sec total in ByteBuffers of between 23-27 bytes in length in both cases. Gathering writes used an array of 64. The regular method used up approx 12% of my CPU, and the gathering method used up approx 16% of my CPU (worse than the regular method!)\r\n\r\nThis tells me it&#39;s NOT useful to use gathering writes on a FileChannel around this range of operating parameters. Why would this be the case, and when would you ever use GatheringByteChannel? (on network I/O?)\r\n\r\nRelevant differences here:\r\n\r\n    public void log(Queue&lt;Packet&gt; packets) throws IOException\r\n\t{\r\n\t\tif (this.gather)\r\n\t\t{\r\n\t\t\tint Nbuf = 64;\r\n\t\t\tByteBuffer[] bbufs = new ByteBuffer[Nbuf];\r\n\t\t\tint i = 0;\r\n\t\t\tPacket p;\r\n\t\t\twhile ((p = packets.poll()) != null)\r\n\t\t\t{\r\n\t\t\t\tbbufs[i++] = p.getBuffer();\r\n\t\t\t\tif (i == Nbuf)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.fc.write(bbufs);\r\n\t\t\t\t\ti = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (i &gt; 0)\r\n\t\t\t{\r\n\t\t\t\tthis.fc.write(bbufs, 0, i);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tPacket p;\r\n\t\t\twhile ((p = packets.poll()) != null)\r\n\t\t\t{\r\n\t\t\t\tthis.fc.write(p.getBuffer());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n**update:**\r\n\r\nI did some testing and the gathering approach for various lengths of ByteBuffers seems to have no benefit for file I/O. Far more relevant was the &quot;fragmentation&quot; of the I/O stream via byte buffer length. I changed my program so it copied a relatively large (27MB) file via reading the input into byte buffers of a particular length. The program starts to slow down significantly if the buffers are less than 256 bytes in length.\r\n\r\nI decided to try a third option, namely to write my own simple &quot;gathering&quot; routine that takes buffers and consolidates them into a larger buffer before writing to a filechannel. This blows away the GatheringByteChannel `write(ByteBuffer[] buffers)` method for speed. (Note: The *reading* size is the same for all three modes of writing, so the fact that I&#39;m creating a bunch of small ByteBuffers and using them to read I/O isn&#39;t causing a significant slowdown.) I&#39;m kind of disappointed that Java doesn&#39;t just do this for you. Oh well.\r\n\r\n    enum GatherType { NONE, AUTOMATIC, MANUAL }\r\n\r\n    static class BufferWriter\r\n\t{\r\n\t\tfinal private FileChannel fc;\r\n\t\tprivate GatherType gather = GatherType.NONE;\r\n\t\t\r\n\t\tBufferWriter(FileChannel f) { this.fc = f; } \r\n\t\t\r\n\t\tpublic void setGather(GatherType gather) { this.gather=gather; }\r\n\t\tpublic void write(Queue&lt;ByteBuffer&gt; buffers) throws IOException\r\n\t\t{\r\n\t\t\tswitch (this.gather)\r\n\t\t\t{\r\n\t\t\t\tcase AUTOMATIC:\r\n\t\t\t\t{\r\n\t\t\t\t\tint Nbuf = 64;\r\n\t\t\t\t\tByteBuffer[] bbufs = new ByteBuffer[Nbuf];\r\n\t\t\t\t\tint i = 0;\r\n\t\t\t\t\tByteBuffer b;\r\n\t\t\t\t\twhile ((b = buffers.poll()) != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tbbufs[i++] = b;\r\n\t\t\t\t\t\tif (i == Nbuf)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.fc.write(bbufs);\r\n\t\t\t\t\t\t\ti = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (i &gt; 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.fc.write(bbufs, 0, i);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase MANUAL:\r\n\t\t\t\t{\r\n\t\t\t\t\tByteBuffer consolidatedBuffer = ByteBuffer.allocate(4096);\r\n\t\t\t\t\tByteBuffer b;\r\n\t\t\t\t\twhile ((b = buffers.poll()) != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (b.remaining() &gt; consolidatedBuffer.remaining())\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tconsolidatedBuffer.flip();\r\n\t\t\t\t\t\t\tthis.fc.write(consolidatedBuffer);\r\n\t\t\t\t\t\t\tconsolidatedBuffer.clear();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (b.remaining() &gt; consolidatedBuffer.remaining())\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.fc.write(b);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tconsolidatedBuffer.put(b);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tconsolidatedBuffer.flip();\r\n\t\t\t\t\tif (consolidatedBuffer.hasRemaining())\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.fc.write(consolidatedBuffer);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase NONE:\r\n\t\t\t\t{\r\n\t\t\t\t\tByteBuffer b;\r\n\t\t\t\t\twhile ((b = buffers.poll()) != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.fc.write(b);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/nio/channels/GatheringByteChannel.html\r\n","title":"Java: GatheringByteChannel advantages?","body":"<p>I'm wondering when the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/nio/channels/GatheringByteChannel.html\" rel=\"nofollow noreferrer\">GatheringByteChannel</a>'s write methods (taking in an array of ByteBuffers) have advantages over the \"regular\" WritableByteChannel write methods. </p>\n\n<p>I tried a test where I could use the regular vs. the gathering write method on a FileChannel, with approx 400KB/sec total in ByteBuffers of between 23-27 bytes in length in both cases. Gathering writes used an array of 64. The regular method used up approx 12% of my CPU, and the gathering method used up approx 16% of my CPU (worse than the regular method!)</p>\n\n<p>This tells me it's NOT useful to use gathering writes on a FileChannel around this range of operating parameters. Why would this be the case, and when would you ever use GatheringByteChannel? (on network I/O?)</p>\n\n<p>Relevant differences here:</p>\n\n<pre><code>public void log(Queue&lt;Packet&gt; packets) throws IOException\n{\n    if (this.gather)\n    {\n        int Nbuf = 64;\n        ByteBuffer[] bbufs = new ByteBuffer[Nbuf];\n        int i = 0;\n        Packet p;\n        while ((p = packets.poll()) != null)\n        {\n            bbufs[i++] = p.getBuffer();\n            if (i == Nbuf)\n            {\n                this.fc.write(bbufs);\n                i = 0;\n            }\n        }\n        if (i &gt; 0)\n        {\n            this.fc.write(bbufs, 0, i);\n        }\n    }\n    else\n    {\n        Packet p;\n        while ((p = packets.poll()) != null)\n        {\n            this.fc.write(p.getBuffer());\n        }\n    }\n}\n</code></pre>\n\n<p><strong>update:</strong></p>\n\n<p>I did some testing and the gathering approach for various lengths of ByteBuffers seems to have no benefit for file I/O. Far more relevant was the \"fragmentation\" of the I/O stream via byte buffer length. I changed my program so it copied a relatively large (27MB) file via reading the input into byte buffers of a particular length. The program starts to slow down significantly if the buffers are less than 256 bytes in length.</p>\n\n<p>I decided to try a third option, namely to write my own simple \"gathering\" routine that takes buffers and consolidates them into a larger buffer before writing to a filechannel. This blows away the GatheringByteChannel <code>write(ByteBuffer[] buffers)</code> method for speed. (Note: The <em>reading</em> size is the same for all three modes of writing, so the fact that I'm creating a bunch of small ByteBuffers and using them to read I/O isn't causing a significant slowdown.) I'm kind of disappointed that Java doesn't just do this for you. Oh well.</p>\n\n<pre><code>enum GatherType { NONE, AUTOMATIC, MANUAL }\n\nstatic class BufferWriter\n{\n    final private FileChannel fc;\n    private GatherType gather = GatherType.NONE;\n\n    BufferWriter(FileChannel f) { this.fc = f; } \n\n    public void setGather(GatherType gather) { this.gather=gather; }\n    public void write(Queue&lt;ByteBuffer&gt; buffers) throws IOException\n    {\n        switch (this.gather)\n        {\n            case AUTOMATIC:\n            {\n                int Nbuf = 64;\n                ByteBuffer[] bbufs = new ByteBuffer[Nbuf];\n                int i = 0;\n                ByteBuffer b;\n                while ((b = buffers.poll()) != null)\n                {\n                    bbufs[i++] = b;\n                    if (i == Nbuf)\n                    {\n                        this.fc.write(bbufs);\n                        i = 0;\n                    }\n                }\n                if (i &gt; 0)\n                {\n                    this.fc.write(bbufs, 0, i);\n                }\n            }\n            break;\n            case MANUAL:\n            {\n                ByteBuffer consolidatedBuffer = ByteBuffer.allocate(4096);\n                ByteBuffer b;\n                while ((b = buffers.poll()) != null)\n                {\n                    if (b.remaining() &gt; consolidatedBuffer.remaining())\n                    {\n                        consolidatedBuffer.flip();\n                        this.fc.write(consolidatedBuffer);\n                        consolidatedBuffer.clear();\n                    }\n\n                    if (b.remaining() &gt; consolidatedBuffer.remaining())\n                    {\n                        this.fc.write(b);\n                    }\n                    else\n                    {\n                        consolidatedBuffer.put(b);\n                    }\n                }\n\n                consolidatedBuffer.flip();\n                if (consolidatedBuffer.hasRemaining())\n                {\n                    this.fc.write(consolidatedBuffer);\n                }\n            }\n            break;\n            case NONE:\n            {\n                ByteBuffer b;\n                while ((b = buffers.poll()) != null)\n                {\n                    this.fc.write(b);\n                }\n            }\n            break;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","azure","github","github-actions"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1678985086,"post_id":75759126,"comment_id":133643123,"body_markdown":"Don&#39;t put them in GitHub.  Put them in a credential store of some kind.","body":"Don&#39;t put them in GitHub.  Put them in a credential store of some kind."}],"answers":[{"comments":[{"owner":{"account_id":1669643,"reputation":526,"user_id":1536343,"display_name":"Je Je"},"score":0,"creation_date":1678986264,"post_id":75759350,"comment_id":133643473,"body_markdown":"and add this file to .gitignore so that it doesn&#39;t get uploaded to github?","body":"and add this file to .gitignore so that it doesn&#39;t get uploaded to github?"}],"tags":[],"owner":{"account_id":19286557,"reputation":1,"user_id":14097402,"display_name":"Gireesh d"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678986424,"creation_date":1678985986,"answer_id":75759350,"question_id":75759126,"body_markdown":"Set Your User Name &amp; Password to some environmental variables in your system ..\r\nLike \r\n\r\nDB_USERNAME=&quot;username&quot;\r\n\r\nDB_PASSWORD=&quot;password&quot; \r\n\r\nuse System.getProperty to fetch that value and use in your code..\r\n```\r\nString dbUsername = System.getenv(&quot;DB_USERNAME&quot;);\r\nString dbPassword = System.getenv(&quot;DB_PASSWORD&quot;);\r\n\r\n```\r\nMake sure to set those env variables in Azure App As Well\r\n\r\nI&#39;m not aware of Azure App If there is a way to set while deploying. this works","title":"How to hide credentials in Github Repository: Spring Boot and Azure","body":"<p>Set Your User Name &amp; Password to some environmental variables in your system ..\nLike</p>\n<p>DB_USERNAME=&quot;username&quot;</p>\n<p>DB_PASSWORD=&quot;password&quot;</p>\n<p>use System.getProperty to fetch that value and use in your code..</p>\n<pre><code>String dbUsername = System.getenv(&quot;DB_USERNAME&quot;);\nString dbPassword = System.getenv(&quot;DB_PASSWORD&quot;);\n\n</code></pre>\n<p>Make sure to set those env variables in Azure App As Well</p>\n<p>I'm not aware of Azure App If there is a way to set while deploying. this works</p>\n"}],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678986424,"creation_date":1678984819,"question_id":75759126,"body_markdown":"I have a **Spring Boot Application** which uses **Azure Storage** for several features. Also, I will be deploying it on Azure App Service and also use a SQL database on Azure. I have to upload the code on GitHub. I am not sure how I can hide my **db credentials** and **connection urls** from public access on GitHub. The repository needs to be public. Please help!","title":"How to hide credentials in Github Repository: Spring Boot and Azure","body":"<p>I have a <strong>Spring Boot Application</strong> which uses <strong>Azure Storage</strong> for several features. Also, I will be deploying it on Azure App Service and also use a SQL database on Azure. I have to upload the code on GitHub. I am not sure how I can hide my <strong>db credentials</strong> and <strong>connection urls</strong> from public access on GitHub. The repository needs to be public. Please help!</p>\n"},{"tags":["java","google-my-business-api","google-my-business","google-business-profile-api"],"comments":[{"owner":{"account_id":267372,"reputation":9372,"user_id":555515,"accept_rate":78,"display_name":"neuront"},"score":0,"creation_date":1673423373,"post_id":74938272,"comment_id":132492901,"body_markdown":"I have the same question, and additionally, the old `reportInsights` API allows getting insights from up to 10 locations, while `getDailyMetricsTimeSeries` seems to take only one location at a time. It is very very unfortunate.","body":"I have the same question, and additionally, the old <code>reportInsights</code> API allows getting insights from up to 10 locations, while <code>getDailyMetricsTimeSeries</code> seems to take only one location at a time. It is very very unfortunate."}],"answers":[{"comments":[{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":0,"creation_date":1672313587,"post_id":74945206,"comment_id":132264757,"body_markdown":"yes, it is exactly like what you said. it works, unfortunately, with only a single `dailyMetric` during each request.","body":"yes, it is exactly like what you said. it works, unfortunately, with only a single <code>dailyMetric</code> during each request."}],"tags":[],"owner":{"account_id":3238786,"reputation":1473,"user_id":3062971,"accept_rate":86,"display_name":"vpgcloud"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672263259,"creation_date":1672263259,"answer_id":74945206,"question_id":74938272,"body_markdown":"If setting `dailyMetric` to `&quot;CALL_CLICKS&quot;` works and setting it to `&quot;CALL_CLICKS,WEBSITE_CLICKS&quot;` does not work, it would seem that the new API does not support that use case anymore.","title":"How to set multiple metrics for setDailyMetric method while sending request to Business Profile Performance API?","body":"<p>If setting <code>dailyMetric</code> to <code>&quot;CALL_CLICKS&quot;</code> works and setting it to <code>&quot;CALL_CLICKS,WEBSITE_CLICKS&quot;</code> does not work, it would seem that the new API does not support that use case anymore.</p>\n"},{"tags":[],"owner":{"account_id":15273161,"reputation":71,"user_id":11019735,"display_name":"Andrew Walker"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678986099,"creation_date":1678986099,"answer_id":75759373,"question_id":74938272,"body_markdown":"As of March 16th, 2023, Google added a new method [locations.fetchMultiDailyMetricsTimeSeries](https://developers.google.com/my-business/reference/performance/rest/v1/locations/fetchMultiDailyMetricsTimeSeries#MultiDailyMetricTimeSeries) that serves the same function as &quot;ALL&quot; in the old 4.9 API.","title":"How to set multiple metrics for setDailyMetric method while sending request to Business Profile Performance API?","body":"<p>As of March 16th, 2023, Google added a new method <a href=\"https://developers.google.com/my-business/reference/performance/rest/v1/locations/fetchMultiDailyMetricsTimeSeries#MultiDailyMetricTimeSeries\" rel=\"nofollow noreferrer\">locations.fetchMultiDailyMetricsTimeSeries</a> that serves the same function as &quot;ALL&quot; in the old 4.9 API.</p>\n"}],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75759373,"answer_count":2,"score":2,"last_activity_date":1678986099,"creation_date":1672218334,"question_id":74938272,"body_markdown":"Following this link [getDailyMetricsTimeSeries][1], I wanna have all the metrics in one request, since I have many locations for every client, it does not seem to be professional if I send one separate request for every single metric.\r\n\r\nbefore in [Google My business V4.9][2] we could use &quot;ALL&quot; to request all available metrics. Unfortunately, this is not working with the new API. Can I get ALL the metrics in ONE single request from Google Business Profile Performance API? \r\n\r\n Here is my code in JAVA: \r\nsupposing that the variable *business_profile_performance* is the initialiser global parameters via its Builder and also takes care of authentication. \r\n\r\n    try {\r\n\r\n\t\t\t\t\tBusinessProfilePerformance.Locations.GetDailyMetricsTimeSeries metricReport =\r\n\t\t\t\t\t\t\tbusiness_profile_perfomance.locations().\r\n\t\t\t\t\t\t\tgetDailyMetricsTimeSeries(&quot;My locationID&quot; ).\r\n\t\t\t\t\t\t\tsetDailyMetric(dailyMetric).\r\n\t\t\t\t\t\t\tsetDailyRangeStartDateYear(Integer.valueOf(&quot;the desired start Year&quot;)).\r\n\t\t\t\t\t\t\tsetDailyRangeStartDateMonth(Integer.valueOf(&quot; the desired start Month&quot; )).\r\n\t\t\t\t\t\t\tsetDailyRangeStartDateDay(Integer.valueOf(&quot; the desired start Day &quot;)).\r\n\r\n\t\t\t\t\t\t\tsetDailyRangeEndDateYear(Integer.valueOf(&quot;the desired End Year&quot; )).\r\n\t\t\t\t\t\t\tsetDailyRangeEndDateMonth(Integer.valueOf(&quot; the desired End Month&quot;)).\r\n\t\t\t\t\t\t\tsetDailyRangeEndDateDay(Integer.valueOf(&quot;the desired End Day&quot;));\r\n\r\n\t\t\t\t\tGetDailyMetricsTimeSeriesResponse response = metricReport.execute();\r\n\t\t\t\t\tif (!response.isEmpty()) {\r\n\t\t\t\t\t\tSystem.out.println(dailyMetric + &quot; Response == &quot; + response);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\tSystem.out.println(e);\r\n\t\t\t\t}\r\n\r\nI used a list&lt;string&gt; for my *dailyMetric* variable, and using a for loop it takes turn as photo below: \r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://developers.google.com/my-business/reference/performance/rest/v1/locations/getDailyMetricsTimeSeries#DailyMetric\r\n  [2]: https://developers.google.com/my-business/reference/rest/v4/Metric\r\n  [3]: https://i.stack.imgur.com/Sw0qQ.png","title":"How to set multiple metrics for setDailyMetric method while sending request to Business Profile Performance API?","body":"<p>Following this link <a href=\"https://developers.google.com/my-business/reference/performance/rest/v1/locations/getDailyMetricsTimeSeries#DailyMetric\" rel=\"nofollow noreferrer\">getDailyMetricsTimeSeries</a>, I wanna have all the metrics in one request, since I have many locations for every client, it does not seem to be professional if I send one separate request for every single metric.</p>\n<p>before in <a href=\"https://developers.google.com/my-business/reference/rest/v4/Metric\" rel=\"nofollow noreferrer\">Google My business V4.9</a> we could use &quot;ALL&quot; to request all available metrics. Unfortunately, this is not working with the new API. Can I get ALL the metrics in ONE single request from Google Business Profile Performance API?</p>\n<p>Here is my code in JAVA:\nsupposing that the variable <em>business_profile_performance</em> is the initialiser global parameters via its Builder and also takes care of authentication.</p>\n<pre><code>try {\n\n                BusinessProfilePerformance.Locations.GetDailyMetricsTimeSeries metricReport =\n                        business_profile_perfomance.locations().\n                        getDailyMetricsTimeSeries(&quot;My locationID&quot; ).\n                        setDailyMetric(dailyMetric).\n                        setDailyRangeStartDateYear(Integer.valueOf(&quot;the desired start Year&quot;)).\n                        setDailyRangeStartDateMonth(Integer.valueOf(&quot; the desired start Month&quot; )).\n                        setDailyRangeStartDateDay(Integer.valueOf(&quot; the desired start Day &quot;)).\n\n                        setDailyRangeEndDateYear(Integer.valueOf(&quot;the desired End Year&quot; )).\n                        setDailyRangeEndDateMonth(Integer.valueOf(&quot; the desired End Month&quot;)).\n                        setDailyRangeEndDateDay(Integer.valueOf(&quot;the desired End Day&quot;));\n\n                GetDailyMetricsTimeSeriesResponse response = metricReport.execute();\n                if (!response.isEmpty()) {\n                    System.out.println(dailyMetric + &quot; Response == &quot; + response);\n                }\n\n            } catch (Exception e) {\n                System.out.println(e);\n            }\n</code></pre>\n<p>I used a list for my <em>dailyMetric</em> variable, and using a for loop it takes turn as photo below:</p>\n<p><a href=\"https://i.stack.imgur.com/Sw0qQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sw0qQ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android-studio"],"owner":{"account_id":28032115,"reputation":1,"user_id":21411146,"display_name":"Hamo Harutyunyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678985858,"creation_date":1678985737,"question_id":75759315,"body_markdown":"I need to give size to my bitmaps and I use Bitmap.createScaledBitmap(), but my app loads very slowly. How can I fix it?\r\nCode example:\r\n\r\n\r\n        bitmapUsual1 = Bitmap.createScaledBitmap(bitmapUsual1, (int) (birdWidth * canvas.getWidth()), (int) (canvas.getHeight() * birdHeight), true);\r\n\r\n        bitmapUsual2 = Bitmap.createScaledBitmap(bitmapUsual2, (int) (birdWidth * canvas.getWidth()), (int) (canvas.getHeight() * birdHeight), true);\r\n\r\n        bitmapDTSH1 = Bitmap.createScaledBitmap(bitmapDTSH1, (int) (birdWidth * canvas.getWidth()), (int) (canvas.getHeight() * birdHeight), true);\r\n\r\n        bitmapDTSH2 = Bitmap.createScaledBitmap(bitmapDTSH2, (int) (birdWidth * canvas.getWidth()), (int) (canvas.getHeight() * birdHeight), true);\r\n\r\n        bitmapDTS1 = Bitmap.createScaledBitmap(bitmapDTS1, (int) (birdWidth * canvas.getWidth()), (int) (canvas.getHeight() * birdHeight), true);\r\n\r\n        bitmapDTS2 = Bitmap.createScaledBitmap(bitmapDTS2, (int) (birdWidth * canvas.getWidth()), (int) (canvas.getHeight() * birdHeight), true);\r\n\r\n        bitmapDTH1 = Bitmap.createScaledBitmap(bitmapDTH1, (int) (birdWidth * canvas.getWidth()), (int) (canvas.getHeight() * birdHeight), true);\r\n.\r\n.\r\n.\r\n.\r\n.\r\n.\r\n\r\nI don&#39;t know what to do :(","title":"How do Bitmap.createScaledBitmap() faster?","body":"<p>I need to give size to my bitmaps and I use Bitmap.createScaledBitmap(), but my app loads very slowly. How can I fix it?\nCode example:</p>\n<pre><code>    bitmapUsual1 = Bitmap.createScaledBitmap(bitmapUsual1, (int) (birdWidth * canvas.getWidth()), (int) (canvas.getHeight() * birdHeight), true);\n\n    bitmapUsual2 = Bitmap.createScaledBitmap(bitmapUsual2, (int) (birdWidth * canvas.getWidth()), (int) (canvas.getHeight() * birdHeight), true);\n\n    bitmapDTSH1 = Bitmap.createScaledBitmap(bitmapDTSH1, (int) (birdWidth * canvas.getWidth()), (int) (canvas.getHeight() * birdHeight), true);\n\n    bitmapDTSH2 = Bitmap.createScaledBitmap(bitmapDTSH2, (int) (birdWidth * canvas.getWidth()), (int) (canvas.getHeight() * birdHeight), true);\n\n    bitmapDTS1 = Bitmap.createScaledBitmap(bitmapDTS1, (int) (birdWidth * canvas.getWidth()), (int) (canvas.getHeight() * birdHeight), true);\n\n    bitmapDTS2 = Bitmap.createScaledBitmap(bitmapDTS2, (int) (birdWidth * canvas.getWidth()), (int) (canvas.getHeight() * birdHeight), true);\n\n    bitmapDTH1 = Bitmap.createScaledBitmap(bitmapDTH1, (int) (birdWidth * canvas.getWidth()), (int) (canvas.getHeight() * birdHeight), true);\n</code></pre>\n<p>.\n.\n.\n.\n.\n.</p>\n<p>I don't know what to do :(</p>\n"},{"tags":["java","resteasy"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1678991971,"post_id":75759263,"comment_id":133645160,"body_markdown":"What servlet container or application server are you running in?","body":"What servlet container or application server are you running in?"},{"owner":{"account_id":26589839,"reputation":21,"user_id":20213228,"display_name":"DB2fan"},"score":0,"creation_date":1678992501,"post_id":75759263,"comment_id":133645303,"body_markdown":"I am using JBOSS","body":"I am using JBOSS"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1679004117,"post_id":75759263,"comment_id":133647895,"body_markdown":"Which version? Newer versions it should be pretty easy.","body":"Which version? Newer versions it should be pretty easy."},{"owner":{"account_id":26589839,"reputation":21,"user_id":20213228,"display_name":"DB2fan"},"score":0,"creation_date":1679040454,"post_id":75759263,"comment_id":133652898,"body_markdown":"It is Red Hat JBoss 7.3","body":"It is Red Hat JBoss 7.3"},{"owner":{"account_id":26589839,"reputation":21,"user_id":20213228,"display_name":"DB2fan"},"score":0,"creation_date":1679041528,"post_id":75759263,"comment_id":133653136,"body_markdown":"The thing is how can I ignore the project url?","body":"The thing is how can I ignore the project url?"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1679108347,"post_id":75759263,"comment_id":133666951,"body_markdown":"What do you mean by the &quot;project url&quot;? The &quot;JAXRS-RESTEasy&quot; part?","body":"What do you mean by the &quot;project url&quot;? The &quot;JAXRS-RESTEasy&quot; part?"}],"owner":{"account_id":26589839,"reputation":21,"user_id":20213228,"display_name":"DB2fan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678985632,"creation_date":1678985477,"question_id":75759263,"body_markdown":"I am using a RESTeasy and want to host the web application on the url\r\n[http://localhost:8080/rest/JAXRS-RESTEasy/][1], now it is hosted on\r\n[http://localhost:8080/JAXRS-RESTEasy/rest/][2]\r\n\r\nHow I have to change the current web.xml?\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n    \txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\r\n    \tid=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\r\n    \t&lt;display-name&gt;JAXRS-RESTEasy&lt;/display-name&gt;\r\n    \t\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;resteasy-servlet&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    \r\n    \t&lt;!-- this should be the same URL pattern as the servlet-mapping property --&gt;\r\n    \t&lt;context-param&gt;\r\n    \t\t&lt;param-name&gt;resteasy.servlet.mapping.prefix&lt;/param-name&gt;\r\n    \t\t&lt;param-value&gt;/rest&lt;/param-value&gt;\r\n    \t&lt;/context-param&gt;\r\n    \r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;resteasy-servlet&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;\r\n    \t\t\torg.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher\r\n    \t\t&lt;/servlet-class&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;com.javacodegeeks.enterprise.rest.resteasy.MyRESTApplication&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t&lt;/servlet&gt;   \t\r\n    &lt;/web-app&gt;\r\n\r\nThe java code\r\n\r\n    package com.javacodegeeks.enterprise.rest.resteasy;\r\n    \r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    import javax.ws.rs.core.Application;\r\n     \r\n    \r\n        public class MyRESTApplication  extends Application {\r\n        \t\r\n        \tprivate Set&lt;Object&gt; singletons = new HashSet&lt;Object&gt;();\r\n        \t \r\n        \tpublic MyRESTApplication() {\r\n        \t\tsingletons.add(new RESTEasyHelloWorldService());\r\n        \t}\r\n         \r\n        \t@Override\r\n        \tpublic Set&lt;Object&gt; getSingletons() {\r\n        \t\treturn singletons;\r\n        \t}\r\n        \r\n        }\r\n\r\n\r\n  [1]: http://localhost:8080/rest/JAXRS-RESTEasy/\r\n  [2]: http://localhost:8080/JAXRS-RESTEasy/rest/","title":"Configuring web.xml in resteasy","body":"<p>I am using a RESTeasy and want to host the web application on the url\n<a href=\"http://localhost:8080/rest/JAXRS-RESTEasy/\" rel=\"nofollow noreferrer\">http://localhost:8080/rest/JAXRS-RESTEasy/</a>, now it is hosted on\n<a href=\"http://localhost:8080/JAXRS-RESTEasy/rest/\" rel=\"nofollow noreferrer\">http://localhost:8080/JAXRS-RESTEasy/rest/</a></p>\n<p>How I have to change the current web.xml?</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\n    id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\n    &lt;display-name&gt;JAXRS-RESTEasy&lt;/display-name&gt;\n    \n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;resteasy-servlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;!-- this should be the same URL pattern as the servlet-mapping property --&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;resteasy.servlet.mapping.prefix&lt;/param-name&gt;\n        &lt;param-value&gt;/rest&lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;resteasy-servlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;\n            org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher\n        &lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\n            &lt;param-value&gt;com.javacodegeeks.enterprise.rest.resteasy.MyRESTApplication&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/servlet&gt;      \n&lt;/web-app&gt;\n</code></pre>\n<p>The java code</p>\n<pre><code>package com.javacodegeeks.enterprise.rest.resteasy;\n\nimport java.util.HashSet;\nimport java.util.Set;\nimport javax.ws.rs.core.Application;\n \n\n    public class MyRESTApplication  extends Application {\n        \n        private Set&lt;Object&gt; singletons = new HashSet&lt;Object&gt;();\n         \n        public MyRESTApplication() {\n            singletons.add(new RESTEasyHelloWorldService());\n        }\n     \n        @Override\n        public Set&lt;Object&gt; getSingletons() {\n            return singletons;\n        }\n    \n    }\n</code></pre>\n"},{"tags":["java","json","spring-boot","datetime","jackson"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1678989392,"post_id":75759094,"comment_id":133644409,"body_markdown":"Sorry, this does not make sense. A `Date` neither prints like `2022-01-30T23:00:00.000+00:00` nor like `1675119600000`. Typically like `Mon Jan 31 00:00:00 CET 2022`, though the subclasses of `Date` look different. Also the two results are equal (they denote the same point in time), so you are getting the value that you asked for. What makes you think that t is not right? And how did you obtain the formats you mention? A [mre], please?","body":"Sorry, this does not make sense. A <code>Date</code> neither prints like <code>2022-01-30T23:00:00.000+00:00</code> nor like <code>1675119600000</code>. Typically like <code>Mon Jan 31 00:00:00 CET 2022</code>, though the subclasses of <code>Date</code> look different. Also the two results are equal (they denote the same point in time), so you are getting the value that you asked for. What makes you think that t is not right? And how did you obtain the formats you mention? A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, please?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1678989528,"post_id":75759094,"comment_id":133644448,"body_markdown":"Not answering your question, you should not use the `Date` class at all. It was poorly designed and is long outdated. Use `Instant` (or another appropriate class) from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html).","body":"Not answering your question, you should not use the <code>Date</code> class at all. It was poorly designed and is long outdated. Use <code>Instant</code> (or another appropriate class) from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1679059991,"post_id":75759094,"comment_id":133657699,"body_markdown":"I am assuming that your Date is a java.util.Date. I tested with spring-boot 2.7.7 (jdk11) and 3.0.4 (jdk17) and it always returns it formatted as follows: &quot;2023-03-17T13:32:52.644+00:00&quot;. I need some more code to determine the actual class of Date.","body":"I am assuming that your Date is a java.util.Date. I tested with spring-boot 2.7.7 (jdk11) and 3.0.4 (jdk17) and it always returns it formatted as follows: &quot;2023-03-17T13:32:52.644+00:00&quot;. I need some more code to determine the actual class of Date."}],"owner":{"account_id":28034713,"reputation":1,"user_id":21413312,"display_name":"Jeanne Lauwers"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678985176,"creation_date":1678984644,"question_id":75759094,"body_markdown":"I have built my application to Sprint version 2.7.7. Now, when a date is returned by a Controller method, we receive it as a TimeStamp in milliseconds.\r\n\r\nFor example this method:\r\n\r\n```\r\n@PostMapping(&quot;stbClobil&quot;)\r\npublic Date getClobil(\r\n\t\t@RequestParam(name = &quot;idBilan&quot;) Integer idBilan, \r\n\t\t@RequestParam(name = &quot;idDomaine&quot;) Integer idDomaine) {\r\n\tSystem.out.println( this.stbService.getMaxClobil(idBalance, idDomain));\r\n\treturn this.stbService.getMaxClobil(idBalance, idDomain);\r\n}\r\n```\r\n\r\nInstead of returning this date: `2022-01-30T23:00:00.000+00:00`, it returns this: `1675119600000`.\r\n\r\nHowever, when returning a JSON object with a date attribute, the date is in the correct format.\r\n\r\nI tried to use the `@JsonFormat`, without success.\r\nI also tried to change in the properties like this: \r\n`spring.jackson.serialization.write-dates-as-timestamps=false`\r\nAnd also, I tried to change the properties of `spring.mvc.date`, `spring.mvc.date-time`, `spring.mvc.time`, without success too.","title":"Date Format Spring in milliseconds when it was previously in format : yyyy-MM-dd HH:mm:ss.SSS","body":"<p>I have built my application to Sprint version 2.7.7. Now, when a date is returned by a Controller method, we receive it as a TimeStamp in milliseconds.</p>\n<p>For example this method:</p>\n<pre><code>@PostMapping(&quot;stbClobil&quot;)\npublic Date getClobil(\n        @RequestParam(name = &quot;idBilan&quot;) Integer idBilan, \n        @RequestParam(name = &quot;idDomaine&quot;) Integer idDomaine) {\n    System.out.println( this.stbService.getMaxClobil(idBalance, idDomain));\n    return this.stbService.getMaxClobil(idBalance, idDomain);\n}\n</code></pre>\n<p>Instead of returning this date: <code>2022-01-30T23:00:00.000+00:00</code>, it returns this: <code>1675119600000</code>.</p>\n<p>However, when returning a JSON object with a date attribute, the date is in the correct format.</p>\n<p>I tried to use the <code>@JsonFormat</code>, without success.\nI also tried to change in the properties like this:\n<code>spring.jackson.serialization.write-dates-as-timestamps=false</code>\nAnd also, I tried to change the properties of <code>spring.mvc.date</code>, <code>spring.mvc.date-time</code>, <code>spring.mvc.time</code>, without success too.</p>\n"},{"tags":["java","swing","jframe","jpanel","jbutton"],"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1678983051,"post_id":75758665,"comment_id":133642434,"body_markdown":"You need to put this in the containing `JFrame` and post as a [mre] that can be compiled and run.  And in general, don&#39;t use `setBounds()` to position components.  Use a layout manager.  I would also define the `JButton` and its `actionListener` outside of the constructor. You might consider making the `actonListener` an inner class.","body":"You need to put this in the containing <code>JFrame</code> and post as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that can be compiled and run.  And in general, don&#39;t use <code>setBounds()</code> to position components.  Use a layout manager.  I would also define the <code>JButton</code> and its <code>actionListener</code> outside of the constructor. You might consider making the <code>actonListener</code> an inner class."},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1678983386,"post_id":75758665,"comment_id":133642559,"body_markdown":"I have done those changes, yet there is no difference","body":"I have done those changes, yet there is no difference"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1678984804,"post_id":75758665,"comment_id":133643037,"body_markdown":"to put it more strongly than @WJS - a null layout is __wrong__ (very very near to) always!","body":"to put it more strongly than @WJS - a null layout is <b>wrong</b> (very very near to) always!"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1678984856,"post_id":75758665,"comment_id":133643060,"body_markdown":"@kleopatra well, I didn&#39;t stress that but it&#39;s what I meant.","body":"@kleopatra well, I didn&#39;t stress that but it&#39;s what I meant."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1678984919,"post_id":75758665,"comment_id":133643080,"body_markdown":"@WJS yeah ... :))","body":"@WJS yeah ... :))"}],"answers":[{"comments":[{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1678983913,"post_id":75758943,"comment_id":133642743,"body_markdown":"The `this`, used in the first file is referring to the JPanel, can I also know the exact changes you made to the code?","body":"The <code>this</code>, used in the first file is referring to the JPanel, can I also know the exact changes you made to the code?"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1678985230,"post_id":75758943,"comment_id":133643162,"body_markdown":"After adding some slight adjustments this code does work.","body":"After adding some slight adjustments this code does work."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1678985915,"post_id":75758943,"comment_id":133643381,"body_markdown":"Keep in mind that you may need to add additional `JPanels` to hold other components to get the look you want.  It is not out of the ordinary to have multiple panels in a frame, organized by a layout manager  And each of those panels can have their own layout manager.  You may want to sketch the overall look of your `gui` on paper and then try different techniques to get the desired look.","body":"Keep in mind that you may need to add additional <code>JPanels</code> to hold other components to get the look you want.  It is not out of the ordinary to have multiple panels in a frame, organized by a layout manager  And each of those panels can have their own layout manager.  You may want to sketch the overall look of your <code>gui</code> on paper and then try different techniques to get the desired look."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678984627,"creation_date":1678983729,"answer_id":75758943,"question_id":75758665,"body_markdown":"Try this.\r\n- I added a private class that implements the actionListener.\r\n- Moved file and button declarations as instance fields.\r\n- Returns the preferred size when `getPreferredSize()` is called.\r\n- added JFrame.pack() to size the components.\r\n\r\nAlso, check out [The Java Tutorials](https://docs.oracle.com/javase/tutorial/index.html) for many examples of using Swing as well as how to paint.\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Desktop;\r\nimport java.awt.Dimension;\r\nimport java.awt.FlowLayout;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.SwingUtilities;\r\n\r\npublic class FrameDemo extends JPanel {\r\n    JFrame frame = new JFrame();\r\n    JButton b = new JButton();\r\n    String app = &quot;res/files/debugging.jar&quot;;\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; new FrameDemo().start());\r\n    }\r\n\r\n    public void start() {\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        b.setText(&quot;Login&quot;);\r\n        b.addActionListener(new MyActionListener());\r\n        Dimension size = b.getPreferredSize();\r\n        this.setLayout(new FlowLayout());\r\n        add(b);\r\n        this.add(b);\r\n    }\r\n    public Dimension getPreferredSize() {\r\n        return new Dimension(600,400);\r\n    }\r\n    public FrameDemo() {\r\n        frame.add(this);\r\n        this.setBackground(Color.darkGray);\r\n        frame.setVisible(true);\r\n        frame.pack();\r\n    }\r\n\r\n    private class MyActionListener implements ActionListener {\r\n        public void actionPerformed(ActionEvent evt) {\r\n            if (app != null) {\r\n                File file = new File(app);\r\n                try {\r\n                    Desktop.getDesktop().open(file);\r\n\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n","title":"JButton and JPanel not being shown on JFrame","body":"<p>Try this.</p>\n<ul>\n<li>I added a private class that implements the actionListener.</li>\n<li>Moved file and button declarations as instance fields.</li>\n<li>Returns the preferred size when <code>getPreferredSize()</code> is called.</li>\n<li>added JFrame.pack() to size the components.</li>\n</ul>\n<p>Also, check out <a href=\"https://docs.oracle.com/javase/tutorial/index.html\" rel=\"nofollow noreferrer\">The Java Tutorials</a> for many examples of using Swing as well as how to paint.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Desktop;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.io.File;\nimport java.io.IOException;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class FrameDemo extends JPanel {\n    JFrame frame = new JFrame();\n    JButton b = new JButton();\n    String app = &quot;res/files/debugging.jar&quot;;\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; new FrameDemo().start());\n    }\n\n    public void start() {\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        b.setText(&quot;Login&quot;);\n        b.addActionListener(new MyActionListener());\n        Dimension size = b.getPreferredSize();\n        this.setLayout(new FlowLayout());\n        add(b);\n        this.add(b);\n    }\n    public Dimension getPreferredSize() {\n        return new Dimension(600,400);\n    }\n    public FrameDemo() {\n        frame.add(this);\n        this.setBackground(Color.darkGray);\n        frame.setVisible(true);\n        frame.pack();\n    }\n\n    private class MyActionListener implements ActionListener {\n        public void actionPerformed(ActionEvent evt) {\n            if (app != null) {\n                File file = new File(app);\n                try {\n                    Desktop.getDesktop().open(file);\n\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75758943,"answer_count":1,"score":-1,"last_activity_date":1678984627,"creation_date":1678982285,"question_id":75758665,"body_markdown":"I have made a program where there is a &quot;login&quot; button at the bottom, this was working fine for sometime before it started not showing background of the JPanel on which the JButton is placed. After trying for sometime I had discovered that the JButton gets displayed **only** when I hover over it.\r\n\r\nI tried excluding specific areas of the code and I realized this glitch occurred when I initialized the variable JButton, even excluding the `addAll();` method (from the code given below) makes the JPanel visible.\r\nThe code is very basic and simple\r\n```\r\npublic Panel() {\r\n\t\tthis.setBackground(Color.darkGray);\r\n\t\tthis.setSize(600,400);\r\n\t\tthis.setVisible(true);\r\n\t\taddAll();\r\n\t}\r\n\r\n\tprivate void addAll() {\r\n\t\tString app = &quot;res/files/debugging.jar&quot;;\r\n\t\tJButton b = new JButton();\r\n\t\t\r\n\t\tb.addActionListener(new ActionListener() {\r\n\r\n\t\t\tpublic void actionPerformed(ActionEvent evt) {\r\n\t\t\t\t if (app!=null) {\r\n\t\t\t\t\t File file = new File(app);\r\n\t\t\t\t\t try {\r\n\t\t\t\t\t\tDesktop.getDesktop().open(file);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t }\r\n\t            }});\r\n\t\tb.setText(&quot;Login&quot;);\r\n\t\tDimension size = b.getPreferredSize();\r\n\t\tb.setBounds(250,290,(int)size.getWidth(),(int)size.getHeight());\r\n\t\tthis.setLayout(null);\r\n\t\tthis.add(b);\r\n\t}\r\n```\r\nPanel extends the class JPanel.\r\nThe JFrame being used is provided below\r\n```\r\npublic static void main(String[] args) {\r\n\t\tJFrame frame = new JFrame();\r\n\t\t\r\n\t\t\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setResizable(false);\r\n\t\tframe.setTitle(&quot;Login to your Account&quot;);\r\n\t\t//frame.setIconImage(frameIcon);\r\n\t\tframe.setSize(600,400);\r\n\t\tframe.setLocationRelativeTo(null);\r\n\t\tframe.setVisible(true);\r\n\t\tframe.add(new Panel());\r\n\t}\r\n```","title":"JButton and JPanel not being shown on JFrame","body":"<p>I have made a program where there is a &quot;login&quot; button at the bottom, this was working fine for sometime before it started not showing background of the JPanel on which the JButton is placed. After trying for sometime I had discovered that the JButton gets displayed <strong>only</strong> when I hover over it.</p>\n<p>I tried excluding specific areas of the code and I realized this glitch occurred when I initialized the variable JButton, even excluding the <code>addAll();</code> method (from the code given below) makes the JPanel visible.\nThe code is very basic and simple</p>\n<pre><code>public Panel() {\n        this.setBackground(Color.darkGray);\n        this.setSize(600,400);\n        this.setVisible(true);\n        addAll();\n    }\n\n    private void addAll() {\n        String app = &quot;res/files/debugging.jar&quot;;\n        JButton b = new JButton();\n        \n        b.addActionListener(new ActionListener() {\n\n            public void actionPerformed(ActionEvent evt) {\n                 if (app!=null) {\n                     File file = new File(app);\n                     try {\n                        Desktop.getDesktop().open(file);\n                        \n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                 }\n                }});\n        b.setText(&quot;Login&quot;);\n        Dimension size = b.getPreferredSize();\n        b.setBounds(250,290,(int)size.getWidth(),(int)size.getHeight());\n        this.setLayout(null);\n        this.add(b);\n    }\n</code></pre>\n<p>Panel extends the class JPanel.\nThe JFrame being used is provided below</p>\n<pre><code>public static void main(String[] args) {\n        JFrame frame = new JFrame();\n        \n        \n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setResizable(false);\n        frame.setTitle(&quot;Login to your Account&quot;);\n        //frame.setIconImage(frameIcon);\n        frame.setSize(600,400);\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n        frame.add(new Panel());\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":0,"creation_date":1678980794,"post_id":75758338,"comment_id":133641758,"body_markdown":"you need to join() all your threads otherwise the program will exit after the loop.","body":"you need to join() all your threads otherwise the program will exit after the loop."},{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":1,"creation_date":1678981006,"post_id":75758338,"comment_id":133641823,"body_markdown":"and you didnt understand what CDL does...you don&#39;t release a CDL, you count down until it reaches 0 and then all threads pass through it. all threads which await() will be blocked, until other threads will reduce the latch to 0. so your program does nothing. all thread are blocked.","body":"and you didnt understand what CDL does...you don&#39;t release a CDL, you count down until it reaches 0 and then all threads pass through it. all threads which await() will be blocked, until other threads will reduce the latch to 0. so your program does nothing. all thread are blocked."},{"owner":{"account_id":1802065,"reputation":123,"user_id":1640135,"display_name":"Karthikeyan"},"score":0,"creation_date":1678981252,"post_id":75758338,"comment_id":133641901,"body_markdown":"I stared learning CDL and i wanted to understand by implementing this sample can you help me out by changing the code so i can get an idea about the CDL.I could not get your solutions on the comment you gave me.","body":"I stared learning CDL and i wanted to understand by implementing this sample can you help me out by changing the code so i can get an idea about the CDL.I could not get your solutions on the comment you gave me."}],"answers":[{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678984607,"creation_date":1678984607,"answer_id":75759088,"question_id":75758338,"body_markdown":"There are two types of concurrency structures you need:\r\n\r\n- `CountDownLatch` to track completion of all jobs and \r\n- `Semaphore` to control exclusive access to the limited resource\r\n\r\nSee an example:\r\n\r\n```\r\nprivate static final int NUM_FLIGHTS = 5;\r\nprivate static final int RUNWAY_CAPACITY = 1;\r\n\r\npublic static void main(String[] args) throws InterruptedException {\r\n    Semaphore semaphore = new Semaphore(RUNWAY_CAPACITY);\r\n    CountDownLatch latch = new CountDownLatch(NUM_FLIGHTS);\r\n\r\n    for (int i = 0; i &lt; NUM_FLIGHTS; i++) {\r\n        Runway flight = new Runway(i + 1, semaphore, latch);\r\n        new Thread(flight).start();\r\n    }\r\n    latch.await();\r\n    System.out.println(&quot;All flights have been managed.&quot;);\r\n}\r\n\r\nprivate static class Runway implements Runnable {\r\n    private final int flightNum;\r\n    private final Semaphore semaphore;\r\n    private final CountDownLatch latch;\r\n\r\n    public Runway(int flightNum, Semaphore semaphore, CountDownLatch latch) {\r\n        this.flightNum = flightNum;\r\n        this.semaphore = semaphore;\r\n        this.latch = latch;\r\n    }\r\n\r\n    public void run() {\r\n        try {\r\n            // Wait for runway availability\r\n            semaphore.acquire(1);\r\n\r\n            // Land/take off the flight\r\n            if (flightNum % 2 == 0) {\r\n                System.out.println(&quot;Flight &quot; + flightNum + &quot; is taking off [&quot; + Thread.currentThread().getName() + &quot;]&quot;);\r\n            } else {\r\n                System.out.println(&quot;Flight &quot; + flightNum + &quot; is landing [&quot; + Thread.currentThread().getName() + &quot;]&quot;);\r\n            }\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            // Release the runway\r\n            semaphore.release(1);\r\n\r\n            // Notify main thread about completion\r\n            latch.countDown();\r\n        }\r\n    }\r\n}\r\n```","title":"CountDownLatch for designing a runway","body":"<p>There are two types of concurrency structures you need:</p>\n<ul>\n<li><code>CountDownLatch</code> to track completion of all jobs and</li>\n<li><code>Semaphore</code> to control exclusive access to the limited resource</li>\n</ul>\n<p>See an example:</p>\n<pre><code>private static final int NUM_FLIGHTS = 5;\nprivate static final int RUNWAY_CAPACITY = 1;\n\npublic static void main(String[] args) throws InterruptedException {\n    Semaphore semaphore = new Semaphore(RUNWAY_CAPACITY);\n    CountDownLatch latch = new CountDownLatch(NUM_FLIGHTS);\n\n    for (int i = 0; i &lt; NUM_FLIGHTS; i++) {\n        Runway flight = new Runway(i + 1, semaphore, latch);\n        new Thread(flight).start();\n    }\n    latch.await();\n    System.out.println(&quot;All flights have been managed.&quot;);\n}\n\nprivate static class Runway implements Runnable {\n    private final int flightNum;\n    private final Semaphore semaphore;\n    private final CountDownLatch latch;\n\n    public Runway(int flightNum, Semaphore semaphore, CountDownLatch latch) {\n        this.flightNum = flightNum;\n        this.semaphore = semaphore;\n        this.latch = latch;\n    }\n\n    public void run() {\n        try {\n            // Wait for runway availability\n            semaphore.acquire(1);\n\n            // Land/take off the flight\n            if (flightNum % 2 == 0) {\n                System.out.println(&quot;Flight &quot; + flightNum + &quot; is taking off [&quot; + Thread.currentThread().getName() + &quot;]&quot;);\n            } else {\n                System.out.println(&quot;Flight &quot; + flightNum + &quot; is landing [&quot; + Thread.currentThread().getName() + &quot;]&quot;);\n            }\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        } finally {\n            // Release the runway\n            semaphore.release(1);\n\n            // Notify main thread about completion\n            latch.countDown();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1802065,"reputation":123,"user_id":1640135,"display_name":"Karthikeyan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75759088,"answer_count":1,"score":1,"last_activity_date":1678984607,"creation_date":1678980607,"question_id":75758338,"body_markdown":"I am trying to design a solution for problem using countdownlatch. I have only one runway  the flights landing and takeoff should use that runway while one flight is landing or take off the other flight has to wait still the run is free so it tried to implement it through countdownlatch but it is not working can anyone help to find the issue with the below code.\r\n\r\n```\r\npublic class LandingArrivingFlights {\r\n    private static final int NUM_FLIGHTS = 5;\r\n    private static final int RUNWAY_CAPACITY = 1;\r\n\r\n    public static void main(String[] args) {\r\n        CountDownLatch latch = new CountDownLatch(RUNWAY_CAPACITY);\r\n\r\n        for (int i = 0; i &lt; NUM_FLIGHTS; i++) {\r\n            Runway flight = new Runway(i + 1, latch);\r\n            new Thread(flight).start();\r\n        }\r\n    }\r\n\r\n    private static class Runway implements Runnable {\r\n        private int flightNum;\r\n        private CountDownLatch latch;\r\n\r\n        public Runway(int flightNum, CountDownLatch latch) {\r\n            this.flightNum = flightNum;\r\n            this.latch = latch;\r\n        }\r\n\r\n        public void run() {\r\n            try {\r\n                // Wait for runway availability\r\n                latch.await();\r\n\r\n                // Land/take off the flight\r\n                if (flightNum % 2 == 0) {\r\n                    System.out.println(&quot;Flight &quot; + flightNum + &quot; is taking off.&quot;);\r\n                } else {\r\n                    System.out.println(&quot;Flight &quot; + flightNum + &quot; is landing.&quot;);\r\n                }\r\n\r\n                // Release the runway\r\n                latch.countDown();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"CountDownLatch for designing a runway","body":"<p>I am trying to design a solution for problem using countdownlatch. I have only one runway  the flights landing and takeoff should use that runway while one flight is landing or take off the other flight has to wait still the run is free so it tried to implement it through countdownlatch but it is not working can anyone help to find the issue with the below code.</p>\n<pre><code>public class LandingArrivingFlights {\n    private static final int NUM_FLIGHTS = 5;\n    private static final int RUNWAY_CAPACITY = 1;\n\n    public static void main(String[] args) {\n        CountDownLatch latch = new CountDownLatch(RUNWAY_CAPACITY);\n\n        for (int i = 0; i &lt; NUM_FLIGHTS; i++) {\n            Runway flight = new Runway(i + 1, latch);\n            new Thread(flight).start();\n        }\n    }\n\n    private static class Runway implements Runnable {\n        private int flightNum;\n        private CountDownLatch latch;\n\n        public Runway(int flightNum, CountDownLatch latch) {\n            this.flightNum = flightNum;\n            this.latch = latch;\n        }\n\n        public void run() {\n            try {\n                // Wait for runway availability\n                latch.await();\n\n                // Land/take off the flight\n                if (flightNum % 2 == 0) {\n                    System.out.println(&quot;Flight &quot; + flightNum + &quot; is taking off.&quot;);\n                } else {\n                    System.out.println(&quot;Flight &quot; + flightNum + &quot; is landing.&quot;);\n                }\n\n                // Release the runway\n                latch.countDown();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2684795,"reputation":182470,"user_id":2319407,"display_name":"Dmitry Bychenko"},"score":0,"creation_date":1595696387,"post_id":63091009,"comment_id":111566739,"body_markdown":"probably, `for (int i = fis.read(), i &gt;= 0, i = fis.read()) {\n            System.out.print((char) i ); }` is more readable","body":"probably, <code>for (int i = fis.read(), i &gt;= 0, i = fis.read()) {             System.out.print((char) i ); }</code> is more readable"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1595696483,"post_id":63091009,"comment_id":111566767,"body_markdown":"Note that 1) input streams are for reading bytes, not chars: use an `InputStreamReader` if you want to read chars; 2) the read on the variable declaration and immediately following print shouldn&#39;t be there: if the file is empty, the read will yield -1.","body":"Note that 1) input streams are for reading bytes, not chars: use an <code>InputStreamReader</code> if you want to read chars; 2) the read on the variable declaration and immediately following print shouldn&#39;t be there: if the file is empty, the read will yield -1."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1595697297,"post_id":63091009,"comment_id":111566982,"body_markdown":"&quot;why we put i = fis.read() in a parenthesis&quot; because of [operators precedence](https://introcs.cs.princeton.edu/java/11precedence/). Assignment operator `=` has lower precedence than comparison operator `!=` or `==` so if we have code like `a = b == c` it would be interpreted as if it was written like `a = (b == c)` but in case of your example you first want to assign value from `fis.read()` to `i` and then compare it against `-1`.","body":"&quot;why we put i = fis.read() in a parenthesis&quot; because of <a href=\"https://introcs.cs.princeton.edu/java/11precedence/\" rel=\"nofollow noreferrer\">operators precedence</a>. Assignment operator <code>=</code> has lower precedence than comparison operator <code>!=</code> or <code>==</code> so if we have code like <code>a = b == c</code> it would be interpreted as if it was written like <code>a = (b == c)</code> but in case of your example you first want to assign value from <code>fis.read()</code> to <code>i</code> and then compare it against <code>-1</code>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1595697328,"post_id":63091009,"comment_id":111566991,"body_markdown":"Also your code doesn&#39;t contain `if ((i = fis.read()) != -1)` but `while ((i = fis.read()) != -1)`.","body":"Also your code doesn&#39;t contain <code>if ((i = fis.read()) != -1)</code> but <code>while ((i = fis.read()) != -1)</code>."}],"answers":[{"tags":[],"owner":{"account_id":10032767,"reputation":381,"user_id":7418626,"display_name":"Nima"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1595698350,"creation_date":1595696191,"answer_id":63091028,"question_id":63091009,"body_markdown":"**First Question**\r\n\r\nThat means you would continue reading from the stream until you reached the end. When `fis.read()` returns `-1`, that means that you reached the end of the stream and there is no more data to read.\r\n\r\n**Second Question**\r\n\r\n    i = fis.read() != -1\r\n\r\nYou might get the impression that the compiler does not know the proper order of execution and there are two scenarios:\r\n\r\n - We check `fis.read() != -1` (`boolean` result) then assign it to `i`\r\n - We get `fis.read()` and assign it to `i` then check `i != -1`\r\n\r\nBut java has well-defined rules, there is only one because of operator precedence.\r\n\r\nSee the table at:\r\nhttps://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html\r\n\r\nAssignment has a lower precedence than `!=`, so definitely the first scenario will happen.\r\nBut that is not what we want. (We don&#39;t want `i` to be the boolean result of `fis.read() != -1`)\r\n\r\nAlso see:\r\nhttps://introcs.cs.princeton.edu/java/11precedence/#:~:text=Java%20has%20well-defined%20rules,be%20overridden%20by%20explicit%20parentheses.\r\n\r\n**&quot;Precedence rules can be overridden by explicit parentheses&quot;**\r\n\r\nSo we explicitly put the parentheses to make sure the statement inside it (`i = fis.read()`) is executed first and the second scenario happens.","title":"what exactly if ((i = fis.read()) != -1) means in this program?","body":"<p><strong>First Question</strong></p>\n<p>That means you would continue reading from the stream until you reached the end. When <code>fis.read()</code> returns <code>-1</code>, that means that you reached the end of the stream and there is no more data to read.</p>\n<p><strong>Second Question</strong></p>\n<pre><code>i = fis.read() != -1\n</code></pre>\n<p>You might get the impression that the compiler does not know the proper order of execution and there are two scenarios:</p>\n<ul>\n<li>We check <code>fis.read() != -1</code> (<code>boolean</code> result) then assign it to <code>i</code></li>\n<li>We get <code>fis.read()</code> and assign it to <code>i</code> then check <code>i != -1</code></li>\n</ul>\n<p>But java has well-defined rules, there is only one because of operator precedence.</p>\n<p>See the table at:\n<a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html</a></p>\n<p>Assignment has a lower precedence than <code>!=</code>, so definitely the first scenario will happen.\nBut that is not what we want. (We don't want <code>i</code> to be the boolean result of <code>fis.read() != -1</code>)</p>\n<p>Also see:\n<a href=\"https://introcs.cs.princeton.edu/java/11precedence/#:%7E:text=Java%20has%20well-defined%20rules,be%20overridden%20by%20explicit%20parentheses\" rel=\"nofollow noreferrer\">https://introcs.cs.princeton.edu/java/11precedence/#:~:text=Java%20has%20well-defined%20rules,be%20overridden%20by%20explicit%20parentheses</a>.</p>\n<p><strong>&quot;Precedence rules can be overridden by explicit parentheses&quot;</strong></p>\n<p>So we explicitly put the parentheses to make sure the statement inside it (<code>i = fis.read()</code>) is executed first and the second scenario happens.</p>\n"},{"tags":[],"owner":{"account_id":17581272,"reputation":575,"user_id":12755035,"display_name":"ThRnk"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1595696617,"creation_date":1595696255,"answer_id":63091036,"question_id":63091009,"body_markdown":"It means \r\n\r\n&gt; &quot;read until the find the end of file char&quot;.\r\n\r\nAnd for the second question:\r\n\r\n    while((i = fis.read())!= -1) {\r\n        System.out.print((char) i );\r\n    }\r\n\r\nThe `(i = fis.read())` defines that &quot;i variable&quot; for the print below while check if it&#39;s different from `-1`.","title":"what exactly if ((i = fis.read()) != -1) means in this program?","body":"<p>It means</p>\n<blockquote>\n<p>&quot;read until the find the end of file char&quot;.</p>\n</blockquote>\n<p>And for the second question:</p>\n<pre><code>while((i = fis.read())!= -1) {\n    System.out.print((char) i );\n}\n</code></pre>\n<p>The <code>(i = fis.read())</code> defines that &quot;i variable&quot; for the print below while check if it's different from <code>-1</code>.</p>\n"},{"tags":[],"owner":{"account_id":13598,"reputation":102599,"user_id":27439,"accept_rate":100,"display_name":"Vincent Ramdhanie"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1595696405,"creation_date":1595696405,"answer_id":63091057,"question_id":63091009,"body_markdown":"You can think of `(i = fis.read())!= -1` as doing two separate things.\r\n\r\nFirst `i = fis.read()` is executed. That is, you read a byte from the input stream. If there is nothing to read then i is set to -1.\r\n\r\nSecond this comparison happens: `i != -1` If that is true the loop continues. If that is false the loop ends.","title":"what exactly if ((i = fis.read()) != -1) means in this program?","body":"<p>You can think of <code>(i = fis.read())!= -1</code> as doing two separate things.</p>\n<p>First <code>i = fis.read()</code> is executed. That is, you read a byte from the input stream. If there is nothing to read then i is set to -1.</p>\n<p>Second this comparison happens: <code>i != -1</code> If that is true the loop continues. If that is false the loop ends.</p>\n"},{"tags":[],"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1606163889,"creation_date":1595696599,"answer_id":63091099,"question_id":63091009,"body_markdown":"[`FileInputStream`][1] &#39;s `read()` method follows this logic:\r\n\r\n&gt;    *Reads a byte of data from this input stream. \r\n    This method blocks if no input is yet available.*\r\n\r\nThe method will **return**:\r\n\r\n&gt;    *The next byte of data, or -1 if the end of the file is reached.*\r\n\r\nSo `-1` is its flag for the `EOF` check. With this in mind, this code snippet \r\n    \r\n    while((i = fis.read())!= -1) \r\n          System.out.print((char) i);\r\n      \r\nIs telling that:\r\n\r\n **1**. Assign `fis.read()` to the var `i`\r\n\r\n **2a**. If `i != -1`, print the `ASCII char` representing the integer just read from the inputstream, and *continue the loop*.\r\n\r\n **2b**. If `i == -1`, *end the loop* / stop reading, because it reached the end of file.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/io/FileInputStream.html#read()","title":"what exactly if ((i = fis.read()) != -1) means in this program?","body":"<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/FileInputStream.html#read()\" rel=\"nofollow noreferrer\"><code>FileInputStream</code></a> 's <code>read()</code> method follows this logic:</p>\n<blockquote>\n<p><em>Reads a byte of data from this input stream.\nThis method blocks if no input is yet available.</em></p>\n</blockquote>\n<p>The method will <strong>return</strong>:</p>\n<blockquote>\n<p><em>The next byte of data, or -1 if the end of the file is reached.</em></p>\n</blockquote>\n<p>So <code>-1</code> is its flag for the <code>EOF</code> check. With this in mind, this code snippet</p>\n<pre><code>while((i = fis.read())!= -1) \n      System.out.print((char) i);\n  \n</code></pre>\n<p>Is telling that:</p>\n<p><strong>1</strong>. Assign <code>fis.read()</code> to the var <code>i</code></p>\n<p><strong>2a</strong>. If <code>i != -1</code>, print the <code>ASCII char</code> representing the integer just read from the inputstream, and <em>continue the loop</em>.</p>\n<p><strong>2b</strong>. If <code>i == -1</code>, <em>end the loop</em> / stop reading, because it reached the end of file.</p>\n"}],"owner":{"account_id":18586945,"reputation":39,"user_id":13545083,"display_name":"Rsp"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2071,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":63091099,"answer_count":4,"score":3,"last_activity_date":1678984157,"creation_date":1595696084,"question_id":63091009,"body_markdown":"   \r\n\r\n    package IO;\r\n    import java.io.*;\r\n    public class test {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tFile f1 = new File(&quot;C:\\\\Users\\\\rs\\\\New folder\\\\myname.txt&quot;);\r\n\t\ttry {\r\n\t\t\tFileInputStream fis = new FileInputStream(f1);\r\n\t\t\tint i = fis.read();\t\t\r\n\t\t\tSystem.out.print((char)i);\r\n\t\t\twhile((i = fis.read())!= -1) {\r\n\t\t\t\tSystem.out.print((char) i );\r\n\t\t\t}\r\n\t\t\t\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\r\n\t }\r\n\r\n    }\r\nI am a new java programmer and i have a trouble in this code. This code reads bytes from my file (f1) and I can cast this bytes to char and print them, but something is here that I do not understand and its the condition in my while loop. What it exactly means? I mean what exactly `if ((i = fis.read()) != -1)` means??? And the second question is why we put \r\n`i = fis.read()` in a paranthesis???\r\nMy file has a text (1 line) in it.","title":"what exactly if ((i = fis.read()) != -1) means in this program?","body":"<pre><code>package IO;\nimport java.io.*;\npublic class test {\n\npublic static void main(String[] args) throws IOException {\n    File f1 = new File(&quot;C:\\\\Users\\\\rs\\\\New folder\\\\myname.txt&quot;);\n    try {\n        FileInputStream fis = new FileInputStream(f1);\n        int i = fis.read();     \n        System.out.print((char)i);\n        while((i = fis.read())!= -1) {\n            System.out.print((char) i );\n        }\n        \n    } catch (FileNotFoundException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    \n\n }\n\n}\n</code></pre>\n<p>I am a new java programmer and i have a trouble in this code. This code reads bytes from my file (f1) and I can cast this bytes to char and print them, but something is here that I do not understand and its the condition in my while loop. What it exactly means? I mean what exactly <code>if ((i = fis.read()) != -1)</code> means??? And the second question is why we put\n<code>i = fis.read()</code> in a paranthesis???\nMy file has a text (1 line) in it.</p>\n"},{"tags":["java","selenium","selenium-webdriver","wait","predicate"],"answers":[{"comments":[{"owner":{"account_id":4746883,"reputation":1553,"user_id":3837982,"accept_rate":8,"display_name":"Shek"},"score":0,"creation_date":1493955896,"post_id":20903328,"comment_id":74632703,"body_markdown":"either it should be &lt;WebDriver&gt; or it should be &lt;&gt; if you are using java 8 &lt;driver&gt; would give you compilation error.","body":"either it should be &lt;WebDriver&gt; or it should be &lt;&gt; if you are using java 8 &lt;driver&gt; would give you compilation error."},{"owner":{"account_id":3164577,"reputation":478,"user_id":2895913,"display_name":"Sugat Mankar"},"score":1,"creation_date":1497671856,"post_id":20903328,"comment_id":76189102,"body_markdown":"Its NOT implemented in ExpectedCondition....its in WebDriverWait.  public WebDriverWait(WebDriver driver, Clock clock, Sleeper sleeper, long timeOutInSeconds, long sleepTimeOut) {\n        super(driver, clock, sleeper);\n        this.withTimeout(timeOutInSeconds, TimeUnit.SECONDS);\n        this.pollingEvery(sleepTimeOut, TimeUnit.MILLISECONDS);\n        this.ignoring(NotFoundException.class);\n        this.driver = driver;\n    }","body":"Its NOT implemented in ExpectedCondition....its in WebDriverWait.  public WebDriverWait(WebDriver driver, Clock clock, Sleeper sleeper, long timeOutInSeconds, long sleepTimeOut) {         super(driver, clock, sleeper);         this.withTimeout(timeOutInSeconds, TimeUnit.SECONDS);         this.pollingEvery(sleepTimeOut, TimeUnit.MILLISECONDS);         this.ignoring(NotFoundException.class);         this.driver = driver;     }"}],"tags":[],"owner":{"account_id":1031744,"reputation":27054,"user_id":1039952,"accept_rate":81,"display_name":"Petr Mensik"},"comment_count":2,"down_vote_count":1,"up_vote_count":82,"is_accepted":true,"score":81,"last_activity_date":1678983872,"creation_date":1388750938,"answer_id":20903328,"question_id":20903231,"body_markdown":"You need to call `ignoring` with an exception to ignore while the `WebDriver` will wait.\r\n\r\n    FluentWait&lt;WebDriver&gt; fluentWait = new FluentWait&lt;&gt;(driver)\r\n            .withTimeout(30, TimeUnit.SECONDS)\r\n            .pollingEvery(200, TimeUnit.MILLISECONDS)\r\n            .ignoring(NoSuchElementException.class);\r\n\r\nSee the documentation of [FluentWait][1] for more information. But beware that this condition is already implemented in [ExpectedConditions][2], so you should use:\r\n\r\n    WebElement element = (new WebDriverWait(driver, 10))\r\n       .until(ExpectedConditions.elementToBeClickable(By.id(&quot;someid&quot;)));\r\n\r\n[*Fewer versions of Selenium][3]:\r\n\r\n    withTimeout(long, TimeUnit) has become withTimeout(Duration)\r\n    pollingEvery(long, TimeUnit) has become pollingEvery(Duration)\r\n\r\nSo the code will look as such:\r\n\r\n```\r\nFluentWait&lt;WebDriver&gt; fluentWait = new FluentWait&lt;&gt;(driver)\r\n        .withTimeout(Duration.ofSeconds(30)\r\n        .pollingEvery(Duration.ofMillis(200)\r\n        .ignoring(NoSuchElementException.class);\r\n```\r\n\r\nA basic tutorial for waiting can be found [here][4].\r\n\r\n  [1]: https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/FluentWait.html\r\n  [2]: https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html\r\n  [3]: https://seleniumhq.github.io/selenium/docs/api/java/\r\n  [4]: https://www.selenium.dev/documentation/webdriver/waits/\r\n","title":"How to make Selenium wait until an element is present?","body":"<p>You need to call <code>ignoring</code> with an exception to ignore while the <code>WebDriver</code> will wait.</p>\n<pre><code>FluentWait&lt;WebDriver&gt; fluentWait = new FluentWait&lt;&gt;(driver)\n        .withTimeout(30, TimeUnit.SECONDS)\n        .pollingEvery(200, TimeUnit.MILLISECONDS)\n        .ignoring(NoSuchElementException.class);\n</code></pre>\n<p>See the documentation of <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/FluentWait.html\" rel=\"nofollow noreferrer\">FluentWait</a> for more information. But beware that this condition is already implemented in <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html\" rel=\"nofollow noreferrer\">ExpectedConditions</a>, so you should use:</p>\n<pre><code>WebElement element = (new WebDriverWait(driver, 10))\n   .until(ExpectedConditions.elementToBeClickable(By.id(&quot;someid&quot;)));\n</code></pre>\n<p><a href=\"https://seleniumhq.github.io/selenium/docs/api/java/\" rel=\"nofollow noreferrer\">*Fewer versions of Selenium</a>:</p>\n<pre><code>withTimeout(long, TimeUnit) has become withTimeout(Duration)\npollingEvery(long, TimeUnit) has become pollingEvery(Duration)\n</code></pre>\n<p>So the code will look as such:</p>\n<pre><code>FluentWait&lt;WebDriver&gt; fluentWait = new FluentWait&lt;&gt;(driver)\n        .withTimeout(Duration.ofSeconds(30)\n        .pollingEvery(Duration.ofMillis(200)\n        .ignoring(NoSuchElementException.class);\n</code></pre>\n<p>A basic tutorial for waiting can be found <a href=\"https://www.selenium.dev/documentation/webdriver/waits/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":408193,"reputation":1810,"user_id":778694,"accept_rate":79,"display_name":"franklin"},"score":1,"creation_date":1455386432,"post_id":27672065,"comment_id":58471282,"body_markdown":"No chance this is being ported to python?","body":"No chance this is being ported to python?"},{"owner":{"account_id":274340,"reputation":480,"user_id":566511,"display_name":"Andrei Solntsev"},"score":2,"creation_date":1487713338,"post_id":27672065,"comment_id":71906253,"body_markdown":"It&#39;s ported to Python. See &quot;Selene&quot; python library.","body":"It&#39;s ported to Python. See &quot;Selene&quot; python library."}],"tags":[],"owner":{"account_id":274340,"reputation":480,"user_id":566511,"display_name":"Andrei Solntsev"},"comment_count":2,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1419719639,"creation_date":1419719639,"answer_id":27672065,"question_id":20903231,"body_markdown":"Let me recommend you using [Selenide][1] library. \r\nIt allows writing much more concise and readable tests. It can wait for presence of elements with much shorter syntax:\r\n\r\n    $(&quot;#elementId&quot;).shouldBe(visible);\r\n\r\nHere is a sample project for testing Google search:\r\nhttps://github.com/selenide-examples/google\r\n\r\n\r\n  [1]: http://selenide.org","title":"How to make Selenium wait until an element is present?","body":"<p>Let me recommend you using <a href=\"http://selenide.org\" rel=\"nofollow\">Selenide</a> library. \nIt allows writing much more concise and readable tests. It can wait for presence of elements with much shorter syntax:</p>\n\n<pre><code>$(\"#elementId\").shouldBe(visible);\n</code></pre>\n\n<p>Here is a sample project for testing Google search:\n<a href=\"https://github.com/selenide-examples/google\" rel=\"nofollow\">https://github.com/selenide-examples/google</a></p>\n"},{"tags":[],"owner":{"account_id":8987344,"reputation":119,"user_id":6700507,"display_name":"Ashwini"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1471607643,"creation_date":1471606498,"answer_id":39038067,"question_id":20903231,"body_markdown":"    public WebElement fluientWaitforElement(WebElement element, int timoutSec, int pollingSec) {\r\n    \r\n    \tFluentWait&lt;WebDriver&gt; fWait = new FluentWait&lt;WebDriver&gt;(driver).withTimeout(timoutSec, TimeUnit.SECONDS)\r\n    \t\t.pollingEvery(pollingSec, TimeUnit.SECONDS)\r\n    \t\t.ignoring(NoSuchElementException.class, TimeoutException.class).ignoring(StaleElementReferenceException.class);\r\n    \r\n    \tfor (int i = 0; i &lt; 2; i++) {\r\n    \t    try {\r\n    \t    \t//fWait.until(ExpectedConditions.invisibilityOfElementLocated(By.xpath(&quot;//*[@id=&#39;reportmanager-wrapper&#39;]/div[1]/div[2]/ul/li/span[3]/i[@data-original--title=&#39;We are processing through trillions of data events, this insight may take more than 15 minutes to complete.&#39;]&quot;)));\r\n    \t\tfWait.until(ExpectedConditions.visibilityOf(element));\r\n    \t\tfWait.until(ExpectedConditions.elementToBeClickable(element));\r\n    \t    } catch (Exception e) {\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Element Not found trying again - &quot; + element.toString().substring(70));\r\n    \t\te.printStackTrace();\r\n    \r\n    \t    }\r\n    \t}\r\n    \r\n    \treturn element;\r\n    \r\n        }\r\n\r\n","title":"How to make Selenium wait until an element is present?","body":"<pre><code>public WebElement fluientWaitforElement(WebElement element, int timoutSec, int pollingSec) {\n\n    FluentWait&lt;WebDriver&gt; fWait = new FluentWait&lt;WebDriver&gt;(driver).withTimeout(timoutSec, TimeUnit.SECONDS)\n        .pollingEvery(pollingSec, TimeUnit.SECONDS)\n        .ignoring(NoSuchElementException.class, TimeoutException.class).ignoring(StaleElementReferenceException.class);\n\n    for (int i = 0; i &lt; 2; i++) {\n        try {\n            //fWait.until(ExpectedConditions.invisibilityOfElementLocated(By.xpath(\"//*[@id='reportmanager-wrapper']/div[1]/div[2]/ul/li/span[3]/i[@data-original--title='We are processing through trillions of data events, this insight may take more than 15 minutes to complete.']\")));\n        fWait.until(ExpectedConditions.visibilityOf(element));\n        fWait.until(ExpectedConditions.elementToBeClickable(element));\n        } catch (Exception e) {\n\n        System.out.println(\"Element Not found trying again - \" + element.toString().substring(70));\n        e.printStackTrace();\n\n        }\n    }\n\n    return element;\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4759986,"reputation":529,"user_id":3847595,"accept_rate":67,"display_name":"palandlom"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497734948,"creation_date":1497734948,"answer_id":44609539,"question_id":20903231,"body_markdown":"FluentWait throws a NoSuchElementException is case of the confusion\r\n\r\n    org.openqa.selenium.NoSuchElementException;\t\t\r\nwith\r\n\r\n    java.util.NoSuchElementException\r\n\r\nin \r\n\r\n    .ignoring(NoSuchElementException.class)\r\n\r\n","title":"How to make Selenium wait until an element is present?","body":"<p>FluentWait throws a NoSuchElementException is case of the confusion</p>\n\n<pre><code>org.openqa.selenium.NoSuchElementException;     \n</code></pre>\n\n<p>with</p>\n\n<pre><code>java.util.NoSuchElementException\n</code></pre>\n\n<p>in </p>\n\n<pre><code>.ignoring(NoSuchElementException.class)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10344813,"reputation":191,"user_id":7630101,"display_name":"bhupendra"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1667259950,"creation_date":1526281446,"answer_id":50324722,"question_id":20903231,"body_markdown":"Use:\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 5)\r\n    wait.until(ExpectedConditions.visibilityOf(element));\r\n\r\nYou can use this as some time before loading the whole page, the code gets executed and throws an error. The time is in seconds.\r\n\r\n\r\n\r\n\r\n","title":"How to make Selenium wait until an element is present?","body":"<p>Use:</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 5)\nwait.until(ExpectedConditions.visibilityOf(element));\n</code></pre>\n<p>You can use this as some time before loading the whole page, the code gets executed and throws an error. The time is in seconds.</p>\n"}],"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260156,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"accepted_answer_id":20903328,"answer_count":5,"score":62,"last_activity_date":1678983872,"creation_date":1388750623,"question_id":20903231,"body_markdown":"I&#39;m trying to make Selenium wait for an element that is dynamically added to the DOM after page load. I tried this:\r\n\r\n    fluentWait.until(ExpectedConditions.presenceOfElement(By.id(&quot;elementId&quot;));\r\n\r\nIn case it helps, here is `fluentWait`:\r\n\r\n    FluentWait fluentWait = new FluentWait&lt;&gt;(webDriver) {\r\n        .withTimeout(30, TimeUnit.SECONDS)\r\n        .pollingEvery(200, TimeUnit.MILLISECONDS);\r\n    }\r\n\r\nBut it throws a `NoSuchElementException`. It looks like `presenceOfElement` expects the element to be there, so this is flawed. This must be bread and butter to Selenium, and I don&#39;t want to reinvent the wheel... Is there an alternative, ideally without rolling my own `Predicate`?\r\n","title":"How to make Selenium wait until an element is present?","body":"<p>I'm trying to make Selenium wait for an element that is dynamically added to the DOM after page load. I tried this:</p>\n<pre><code>fluentWait.until(ExpectedConditions.presenceOfElement(By.id(&quot;elementId&quot;));\n</code></pre>\n<p>In case it helps, here is <code>fluentWait</code>:</p>\n<pre><code>FluentWait fluentWait = new FluentWait&lt;&gt;(webDriver) {\n    .withTimeout(30, TimeUnit.SECONDS)\n    .pollingEvery(200, TimeUnit.MILLISECONDS);\n}\n</code></pre>\n<p>But it throws a <code>NoSuchElementException</code>. It looks like <code>presenceOfElement</code> expects the element to be there, so this is flawed. This must be bread and butter to Selenium, and I don't want to reinvent the wheel... Is there an alternative, ideally without rolling my own <code>Predicate</code>?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1679034335,"post_id":75758962,"comment_id":133651671,"body_markdown":"I&#39;m not sure I understand.\nWhat exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"}],"owner":{"account_id":26292922,"reputation":1,"user_id":19959661,"display_name":"Arup Tarafdar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678983850,"creation_date":1678983850,"question_id":75758962,"body_markdown":"I am making a chat app, using Firebase Realtime Database. Now, the username and avatar of the user is saved in another node, and the chat node contains the user_id of the author. Hence, to display the username, I read the user id from the chat node, and then add an event listener for the UserData node. The problem is that the user data listener for the same sender id runs at once, and then the other which messes up the order, grouping message from one user and then the other\r\n\r\n The Code:\r\n```\r\n       DatabaseReference group_chat_reference = uni_ref\r\n                .child(&quot;Spaces&quot;)\r\n                .child(&quot;Space_data&quot;)\r\n                .child(space_name)\r\n                .child(&quot;Group_Chat&quot;);\r\n        Query group_chat_query;\r\n        first_time = false;\r\n        group_chats_arrayList.clear();\r\n        limit_to_last += 50;\r\n        last_item_visible_pos += 50;\r\n        group_chat_query = group_chat_reference.limitToLast(limit_to_last);\r\n\r\n        group_chat_query.addChildEventListener(new ChildEventListener() {\r\n            @Override\r\n            public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n                String message = snapshot.child(&quot;message&quot;).getValue(String.class);\r\n                Long timestamp = snapshot.child(&quot;timestamp&quot;).getValue(Long.class);\r\n                String sender = snapshot.child(&quot;sender&quot;).getValue(String.class);\r\n                DatabaseReference userdata = uni_ref.child(&quot;UserData&quot;)\r\n                        .child(sender);\r\n                System.out.println(&quot;EVENT LISTENER ADDED FOR: &quot; + sender);\r\n                userdata.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                        System.out.println(snapshot.child(&quot;Username&quot;).getValue(String.class));\r\n                        boolean date_visible = false, show_profile_pic_and_avatar = false;\r\n                        int avatar = getResources().getIdentifier(snapshot.child(&quot;Avatar&quot;).getValue(String.class), &quot;drawable&quot;, getPackageName());\r\n                        if (group_chats_arrayList.size() == 0 || !date_format.format(group_chats_arrayList.get(group_chats_arrayList.size() - 1).time_stamp).equals(date_format.format(timestamp))) {\r\n                            date_visible = true;\r\n                        }\r\n                        if((group_chats_arrayList.size() != 0) &amp;&amp; (!group_chats_arrayList.get(group_chats_arrayList.size() - 1).sender_uid.equals(FirebaseAuth.getInstance().getUid()) || !group_chats_arrayList.get(group_chats_arrayList.size() - 1).sender_uid.equals(sender))){\r\n                            show_profile_pic_and_avatar = true;\r\n                        }\r\n                        group_chats_arrayList.add(new Model_Chat_Inside(message, sender, timestamp, date_visible, snapshot.child(&quot;Username&quot;).getValue(String.class), avatar, show_profile_pic_and_avatar, true));\r\n                        adapter.notifyItemInserted(group_chats_arrayList.size());\r\n                        if (fab.getVisibility() != View.VISIBLE) {\r\n                            recyclerView.scrollToPosition(group_chats_arrayList.size() - 1);\r\n                        }\r\n                        else{\r\n                            recyclerView.scrollToPosition(last_item_visible_pos);\r\n                        }\r\n                        userdata.removeEventListener(this);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                    }\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public void onChildChanged(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onChildRemoved(@NonNull DataSnapshot snapshot) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onChildMoved(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n```\r\n\r\nThe output should be:\r\n\r\n&gt; user1: Hey how are you!\r\n&gt; \r\n&gt; user2: I am fine what about you??\r\n&gt; \r\n&gt; user2: A nice weather innit\r\n&gt; \r\n&gt; user1: Yeah sure it is \r\n&gt; \r\n&gt; user2: Alright see ya later\r\n&gt; \r\n&gt; user1: Bye\r\n\r\nThe output that I am getting:\r\n&gt; user1: Hey how are you!\r\n&gt; \r\n&gt; user1: Yeah sure it is \r\n&gt; \r\n&gt; user1: Bye\r\n&gt; \r\n&gt; user2: I am fine what about you??\r\n&gt; \r\n&gt; user2: A nice weather innit\r\n&gt; \r\n&gt; user2: Alright see ya later\r\n\r\nIs there a way I can adjust what I have to achieve the output that I desire?","title":"ValueEventListener for the same node runs at once when called one after other, resulting in jumbled output","body":"<p>I am making a chat app, using Firebase Realtime Database. Now, the username and avatar of the user is saved in another node, and the chat node contains the user_id of the author. Hence, to display the username, I read the user id from the chat node, and then add an event listener for the UserData node. The problem is that the user data listener for the same sender id runs at once, and then the other which messes up the order, grouping message from one user and then the other</p>\n<p>The Code:</p>\n<pre><code>       DatabaseReference group_chat_reference = uni_ref\n                .child(&quot;Spaces&quot;)\n                .child(&quot;Space_data&quot;)\n                .child(space_name)\n                .child(&quot;Group_Chat&quot;);\n        Query group_chat_query;\n        first_time = false;\n        group_chats_arrayList.clear();\n        limit_to_last += 50;\n        last_item_visible_pos += 50;\n        group_chat_query = group_chat_reference.limitToLast(limit_to_last);\n\n        group_chat_query.addChildEventListener(new ChildEventListener() {\n            @Override\n            public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\n                String message = snapshot.child(&quot;message&quot;).getValue(String.class);\n                Long timestamp = snapshot.child(&quot;timestamp&quot;).getValue(Long.class);\n                String sender = snapshot.child(&quot;sender&quot;).getValue(String.class);\n                DatabaseReference userdata = uni_ref.child(&quot;UserData&quot;)\n                        .child(sender);\n                System.out.println(&quot;EVENT LISTENER ADDED FOR: &quot; + sender);\n                userdata.addListenerForSingleValueEvent(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\n                        System.out.println(snapshot.child(&quot;Username&quot;).getValue(String.class));\n                        boolean date_visible = false, show_profile_pic_and_avatar = false;\n                        int avatar = getResources().getIdentifier(snapshot.child(&quot;Avatar&quot;).getValue(String.class), &quot;drawable&quot;, getPackageName());\n                        if (group_chats_arrayList.size() == 0 || !date_format.format(group_chats_arrayList.get(group_chats_arrayList.size() - 1).time_stamp).equals(date_format.format(timestamp))) {\n                            date_visible = true;\n                        }\n                        if((group_chats_arrayList.size() != 0) &amp;&amp; (!group_chats_arrayList.get(group_chats_arrayList.size() - 1).sender_uid.equals(FirebaseAuth.getInstance().getUid()) || !group_chats_arrayList.get(group_chats_arrayList.size() - 1).sender_uid.equals(sender))){\n                            show_profile_pic_and_avatar = true;\n                        }\n                        group_chats_arrayList.add(new Model_Chat_Inside(message, sender, timestamp, date_visible, snapshot.child(&quot;Username&quot;).getValue(String.class), avatar, show_profile_pic_and_avatar, true));\n                        adapter.notifyItemInserted(group_chats_arrayList.size());\n                        if (fab.getVisibility() != View.VISIBLE) {\n                            recyclerView.scrollToPosition(group_chats_arrayList.size() - 1);\n                        }\n                        else{\n                            recyclerView.scrollToPosition(last_item_visible_pos);\n                        }\n                        userdata.removeEventListener(this);\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {\n\n                    }\n                });\n            }\n\n            @Override\n            public void onChildChanged(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\n\n            }\n\n            @Override\n            public void onChildRemoved(@NonNull DataSnapshot snapshot) {\n\n            }\n\n            @Override\n            public void onChildMoved(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\n\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n</code></pre>\n<p>The output should be:</p>\n<blockquote>\n<p>user1: Hey how are you!</p>\n<p>user2: I am fine what about you??</p>\n<p>user2: A nice weather innit</p>\n<p>user1: Yeah sure it is</p>\n<p>user2: Alright see ya later</p>\n<p>user1: Bye</p>\n</blockquote>\n<p>The output that I am getting:</p>\n<blockquote>\n<p>user1: Hey how are you!</p>\n<p>user1: Yeah sure it is</p>\n<p>user1: Bye</p>\n<p>user2: I am fine what about you??</p>\n<p>user2: A nice weather innit</p>\n<p>user2: Alright see ya later</p>\n</blockquote>\n<p>Is there a way I can adjust what I have to achieve the output that I desire?</p>\n"},{"tags":["java","queue","executorservice"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1678984723,"post_id":75758937,"comment_id":133643001,"body_markdown":"Your elements are not expiring (we have no way to check from your code snippet) or you are processing them slower than they are being added (...). Possibly both.","body":"Your elements are not expiring (we have no way to check from your code snippet) or you are processing them slower than they are being added (...). Possibly both."},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1678984914,"post_id":75758937,"comment_id":133643078,"body_markdown":"Add a bit of logging after the `take` and see if anything expires at all.","body":"Add a bit of logging after the <code>take</code> and see if anything expires at all."}],"owner":{"account_id":1582951,"reputation":67,"user_id":1467889,"display_name":"Alberto"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678983684,"creation_date":1678983684,"question_id":75758937,"body_markdown":"I&#39;ve been trying to identify if this section of code is the cause of an application running out of memory, as is proposed by a MAT report.\r\n\r\n&gt; One instance of java.util.concurrent.DelayQueue loaded by &lt;system class loader&gt; occupies 10,866,002,360 (22.41%) bytes. \r\n\r\nin summary the code snippet is \r\n\r\n    private final ExecutorService timerExecutor = Executors.newSingleThreadExecutor(timerThreadFactory);\r\n    private final ExecutorService responseHandlerExecutor = Executors.newCachedThreadPool(responseHandlerThreadFactory);\r\n    \r\n    timerExecutor.execute(() -&gt; {\r\n                    while (true) {\r\n                        try {\r\n                            ResponseCallback responseCb = delayQueue.take();\r\n                            if (!responseCb.isProcessed()) {\r\n                                LOG.warn(&quot;RPC request with id {} timedout &quot;, responseCb.getRpcId());\r\n                                responseHandlerExecutor.execute(() -&gt; responseCb.sendResponse(null));\r\n                            }\r\n                        } catch (InterruptedException e) {\r\n                            LOG.info(&quot;interrupted while waiting for an element from delayQueue&quot;, e);\r\n                            break;\r\n                        } catch (Exception e) {\r\n                            LOG.warn(&quot;error while sending response from timeout handler&quot;, e);\r\n                        }\r\n                    }\r\n                });\r\n\r\nAnother report from a profiler mentions  that most memory allocation where made by one thread from responseHandlerExecutor\r\n\r\nTo me this doesn&#39;t look obvious. Not sure if someone could give me some insight.\r\n","title":"Running out of memory with DelayQueue","body":"<p>I've been trying to identify if this section of code is the cause of an application running out of memory, as is proposed by a MAT report.</p>\n<blockquote>\n<p>One instance of java.util.concurrent.DelayQueue loaded by  occupies 10,866,002,360 (22.41%) bytes.</p>\n</blockquote>\n<p>in summary the code snippet is</p>\n<pre><code>private final ExecutorService timerExecutor = Executors.newSingleThreadExecutor(timerThreadFactory);\nprivate final ExecutorService responseHandlerExecutor = Executors.newCachedThreadPool(responseHandlerThreadFactory);\n\ntimerExecutor.execute(() -&gt; {\n                while (true) {\n                    try {\n                        ResponseCallback responseCb = delayQueue.take();\n                        if (!responseCb.isProcessed()) {\n                            LOG.warn(&quot;RPC request with id {} timedout &quot;, responseCb.getRpcId());\n                            responseHandlerExecutor.execute(() -&gt; responseCb.sendResponse(null));\n                        }\n                    } catch (InterruptedException e) {\n                        LOG.info(&quot;interrupted while waiting for an element from delayQueue&quot;, e);\n                        break;\n                    } catch (Exception e) {\n                        LOG.warn(&quot;error while sending response from timeout handler&quot;, e);\n                    }\n                }\n            });\n</code></pre>\n<p>Another report from a profiler mentions  that most memory allocation where made by one thread from responseHandlerExecutor</p>\n<p>To me this doesn't look obvious. Not sure if someone could give me some insight.</p>\n"},{"tags":["java","log4j","wildfly"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1642101514,"post_id":70681866,"comment_id":124988979,"body_markdown":"The documentation says a system property https://logging.apache.org/log4j/2.x/manual/migration.html#Log4j1.2Bridge.","body":"The documentation says a system property <a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html#Log4j1.2Bridge\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/manual/&hellip;</a>."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1646950348,"post_id":70681866,"comment_id":126257232,"body_markdown":"Does this answer your question? [Setting system properties for Log4j in Tomcat](https://stackoverflow.com/questions/70843538/setting-system-properties-for-log4j-in-tomcat)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/70843538/setting-system-properties-for-log4j-in-tomcat\">Setting system properties for Log4j in Tomcat</a>"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1646950454,"post_id":70681866,"comment_id":126257256,"body_markdown":"Basically since Log4j 2.10 _&quot;system property&quot;_ refers to any property source (cf. [documentation](https://logging.apache.org/log4j/2.x/manual/configuration.html#SystemProperties)).","body":"Basically since Log4j 2.10 <i>&quot;system property&quot;</i> refers to any property source (cf. <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#SystemProperties\" rel=\"nofollow noreferrer\">documentation</a>)."}],"answers":[{"tags":[],"owner":{"account_id":170035,"reputation":6390,"user_id":396483,"accept_rate":68,"display_name":"john k"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678983596,"creation_date":1646935015,"answer_id":71428722,"question_id":70681866,"body_markdown":"You can set it via the command line when you run your program.  E.g. `java -Dlog4j1.compatibility=&quot;true&quot; myapp`.  \r\n\r\nSee https://www.ibm.com/docs/en/i/7.4?topic=java-system-properties\r\n\r\nIf you use gradle you can include it in  gradle.properties.  \r\nhttps://javabydeveloper.com/gradle-system-properties-via-command-line-step-by-step-example/\r\n","title":"where to add system property log4j1.compatibility=true in log4j","body":"<p>You can set it via the command line when you run your program.  E.g. <code>java -Dlog4j1.compatibility=&quot;true&quot; myapp</code>.</p>\n<p>See <a href=\"https://www.ibm.com/docs/en/i/7.4?topic=java-system-properties\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/i/7.4?topic=java-system-properties</a></p>\n<p>If you use gradle you can include it in  gradle.properties.<br />\n<a href=\"https://javabydeveloper.com/gradle-system-properties-via-command-line-step-by-step-example/\" rel=\"nofollow noreferrer\">https://javabydeveloper.com/gradle-system-properties-via-command-line-step-by-step-example/</a></p>\n"}],"owner":{"account_id":23754979,"reputation":63,"user_id":17771205,"display_name":"Pradeep Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5173,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678983596,"creation_date":1641991803,"question_id":70681866,"body_markdown":" I am using wildfly22 with log4j.properties file \r\n\r\n    where we need to add  system property value -\r\n    log4j1.compatibility=true.\r\n    \r\n    any help is appreciated.\r\n    thanks.\r\n   \r\n   \r\n     ","title":"where to add system property log4j1.compatibility=true in log4j","body":"<p>I am using wildfly22 with log4j.properties file</p>\n<pre><code>where we need to add  system property value -\nlog4j1.compatibility=true.\n\nany help is appreciated.\nthanks.\n\n\n \n</code></pre>\n"},{"tags":["java","android","minimize","onbackpressed"],"comments":[{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":1,"creation_date":1678983212,"post_id":75753756,"comment_id":133642495,"body_markdown":"From your extremely limited description, maybe you&#39;re looking for Picture-in-Picture: https://developer.android.com/develop/ui/views/picture-in-picture","body":"From your extremely limited description, maybe you&#39;re looking for Picture-in-Picture: <a href=\"https://developer.android.com/develop/ui/views/picture-in-picture\" rel=\"nofollow noreferrer\">developer.android.com/develop/ui/views/picture-in-picture</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1678987533,"post_id":75753756,"comment_id":133643826,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":27811853,"reputation":323,"user_id":21234100,"display_name":"WebDesk Solution"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678977425,"creation_date":1678977425,"answer_id":75757748,"question_id":75753756,"body_markdown":"The code below demonstrates how to emulate the home button press when the user presses the back button, and in my opinion, treating the back event as a home event is necessary.\r\n\r\n     public void minimizeApp() \r\n     {\r\n        Intent startMain = new Intent(Intent.ACTION_MAIN);\r\n        startMain.addCategory(Intent.CATEGORY_HOME);\r\n        startMain.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n        startActivity(startMain);\r\n     }","title":"How to minimize app on pressing back button or home button in android","body":"<p>The code below demonstrates how to emulate the home button press when the user presses the back button, and in my opinion, treating the back event as a home event is necessary.</p>\n<pre><code> public void minimizeApp() \n {\n    Intent startMain = new Intent(Intent.ACTION_MAIN);\n    startMain.addCategory(Intent.CATEGORY_HOME);\n    startMain.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n    startActivity(startMain);\n }\n</code></pre>\n"}],"owner":{"account_id":24292647,"reputation":1,"user_id":18237371,"display_name":"Sita Soni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678983230,"creation_date":1678956021,"question_id":75753756,"body_markdown":"I want to show app in particular  size on pressing back button or home button.","title":"How to minimize app on pressing back button or home button in android","body":"<p>I want to show app in particular  size on pressing back button or home button.</p>\n"},{"tags":["java","post","httpurlconnection","serversocket"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679028118,"post_id":75758846,"comment_id":133650908,"body_markdown":"(1) Why does your client want to use the `http` protocol to connect to your server? (2) Does your server use the Http protocol? (3) I don&#39;t see any http implementation on your server. (4) Please stop using the http protocol to connect to your server. (5) The easiest way to test your server is to open a terminal and execute the command `telnet 127.0.0.1 9876`.","body":"(1) Why does your client want to use the <code>http</code> protocol to connect to your server? (2) Does your server use the Http protocol? (3) I don&#39;t see any http implementation on your server. (4) Please stop using the http protocol to connect to your server. (5) The easiest way to test your server is to open a terminal and execute the command <code>telnet 127.0.0.1 9876</code>."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679028725,"post_id":75758846,"comment_id":133650995,"body_markdown":"if you want write a simple http server yourself, you can reference this `Create a Simple Web Server in Java (1) - HTTP Server`(https://www.codeproject.com/Tips/1040097/Create-a-Simple-Web-Server-in-Java-HTTP-Server)","body":"if you want write a simple http server yourself, you can reference this <code>Create a Simple Web Server in Java (1) - HTTP Server</code>(<a href=\"https://www.codeproject.com/Tips/1040097/Create-a-Simple-Web-Server-in-Java-HTTP-Server\" rel=\"nofollow noreferrer\">codeproject.com/Tips/1040097/&hellip;</a>)"}],"owner":{"account_id":28024924,"reputation":9,"user_id":21405109,"display_name":"Giovanni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1678983164,"creation_date":1678983164,"question_id":75758846,"body_markdown":"I&#39;m trying to configure a system client-server.\r\nThe server uses a java server socket, and the client uses and http url connection to connect to the server.\r\n\r\n\r\nThe code of the server is:\r\n\r\n```\r\nprivate static ServerSocket server;\r\nprivate static int port = 9876;\r\nserver = new ServerSocket(port);\r\nwhile(true){\r\n    System.out.println(&quot;Waiting for the client request&quot;);\r\n    Socket socket = server.accept();\r\n    InputStream inputStream = socket.getInputStream();\r\n    ObjectInputStream objectInputStream = new ObjectInputStream(inputStream);\r\n\r\n    Object object = objectInputStream.readObject();\r\n    if (object instanceof String) {\r\n        String payload = (String) object;\r\n        System.out.println(&quot;Payload received from client: &quot; + payload);\r\n    }\r\nsocket.close();\r\n```\r\n\r\n\r\n\r\nThe code of the client is:\r\n\r\n```\r\nint serverPort = 9876;\r\nString serverURL = &quot;http://localhost:&quot; + serverPort;\r\nObject payload = &quot;Test payload&quot;;\r\nHttpURLConnection connection = null;\r\n\r\ntry {\r\n    URL url = new URL(serverURL);\r\n    connection = (HttpURLConnection) url.openConnection();\r\n    connection.setDoInput(true);\r\n    connection.setDoOutput(true);\r\n\r\n    connection.setRequestMethod(&quot;POST&quot;);\r\n    connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;);\r\n\r\n    OutputStream outputStream = connection.getOutputStream();\r\n    ObjectOutputStream objectOutputStream = new ObjectOutputStream(outputStream);\r\n\r\n    objectOutputStream.writeObject(payload);\r\n    objectOutputStream.flush();\r\n    objectOutputStream.close();\r\n} catch (IOException e) {\r\n    e.printStackTrace();\r\n} finally {\r\n    if (connection != null) {\r\n        connection.disconnect();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nThe error returned by the system is: java.io.EOFException in this line:    \r\nObjectInputStream objectInputStream = new ObjectInputStream(inputStream).\r\nWhat could be the probelm?\r\nThank you for your time!\r\n\r\n\r\nI tried to use different functions to read the stream, but I need to use the class ObjectInputStream.\r\nUsing that, it doesn&#39;t work. ","title":"Sending POST request using http url connection java","body":"<p>I'm trying to configure a system client-server.\nThe server uses a java server socket, and the client uses and http url connection to connect to the server.</p>\n<p>The code of the server is:</p>\n<pre><code>private static ServerSocket server;\nprivate static int port = 9876;\nserver = new ServerSocket(port);\nwhile(true){\n    System.out.println(&quot;Waiting for the client request&quot;);\n    Socket socket = server.accept();\n    InputStream inputStream = socket.getInputStream();\n    ObjectInputStream objectInputStream = new ObjectInputStream(inputStream);\n\n    Object object = objectInputStream.readObject();\n    if (object instanceof String) {\n        String payload = (String) object;\n        System.out.println(&quot;Payload received from client: &quot; + payload);\n    }\nsocket.close();\n</code></pre>\n<p>The code of the client is:</p>\n<pre><code>int serverPort = 9876;\nString serverURL = &quot;http://localhost:&quot; + serverPort;\nObject payload = &quot;Test payload&quot;;\nHttpURLConnection connection = null;\n\ntry {\n    URL url = new URL(serverURL);\n    connection = (HttpURLConnection) url.openConnection();\n    connection.setDoInput(true);\n    connection.setDoOutput(true);\n\n    connection.setRequestMethod(&quot;POST&quot;);\n    connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;);\n\n    OutputStream outputStream = connection.getOutputStream();\n    ObjectOutputStream objectOutputStream = new ObjectOutputStream(outputStream);\n\n    objectOutputStream.writeObject(payload);\n    objectOutputStream.flush();\n    objectOutputStream.close();\n} catch (IOException e) {\n    e.printStackTrace();\n} finally {\n    if (connection != null) {\n        connection.disconnect();\n        }\n    }\n}\n</code></pre>\n<p>The error returned by the system is: java.io.EOFException in this line:<br />\nObjectInputStream objectInputStream = new ObjectInputStream(inputStream).\nWhat could be the probelm?\nThank you for your time!</p>\n<p>I tried to use different functions to read the stream, but I need to use the class ObjectInputStream.\nUsing that, it doesn't work.</p>\n"},{"tags":["java","database","system-design","bloom-filter"],"comments":[{"owner":{"account_id":11360961,"reputation":647,"user_id":8408137,"display_name":"fshabashev"},"score":0,"creation_date":1678703903,"post_id":75720376,"comment_id":133578668,"body_markdown":"why don&#39;t you just use indexes?","body":"why don&#39;t you just use indexes?"},{"owner":{"account_id":16211503,"reputation":197,"user_id":11705388,"display_name":"Alex Sparrow"},"score":0,"creation_date":1678776370,"post_id":75720376,"comment_id":133594255,"body_markdown":"@fshabashev: I agree with your point. Can I use it without an indexing column?\nI want to search name or email","body":"@fshabashev: I agree with your point. Can I use it without an indexing column? I want to search name or email"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1678982284,"post_id":75720376,"comment_id":133642215,"body_markdown":"It doesn&#39;t have to search all 40 million entries. If using binary search, the correct entry can be determined to exist or not exist with ~26 comparisons. Why do you think that the database would have to search through all entries?","body":"It doesn&#39;t have to search all 40 million entries. If using binary search, the correct entry can be determined to exist or not exist with ~26 comparisons. Why do you think that the database would have to search through all entries?"}],"answers":[{"tags":[],"owner":{"account_id":1096969,"reputation":1372,"user_id":6997699,"display_name":"AndrewR"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678982096,"creation_date":1678982096,"answer_id":75758622,"question_id":75720376,"body_markdown":"Traditional approach is to build an index on data and do look ups there. That will give you sub linear lookup time (in big O notation terms).\r\n\r\nEven with sub linear time, you still may get some meaningful gains with a bloom filter. If there are many lookup for non existing records, then a bloom filter will be a cheap approach to terminate those lookups early.\r\n\r\nOverall, having an index and/or a bloom filter adds complexity to your system; this is where I would explore how the system performs around given requirements.","title":"Can I use Bloom Filters in searching?","body":"<p>Traditional approach is to build an index on data and do look ups there. That will give you sub linear lookup time (in big O notation terms).</p>\n<p>Even with sub linear time, you still may get some meaningful gains with a bloom filter. If there are many lookup for non existing records, then a bloom filter will be a cheap approach to terminate those lookups early.</p>\n<p>Overall, having an index and/or a bloom filter adds complexity to your system; this is where I would explore how the system performs around given requirements.</p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678982952,"creation_date":1678982952,"answer_id":75758796,"question_id":75720376,"body_markdown":"If a key is added to a Bloom filter, the filter will not falsely report that it is absent in later queries. However, if a key is never added to a Bloom filter, the filter may falsely report its presence. In other words, you won&#39;t get false negatives, but you may get false positives. This probability of a false positive depends on the size of the filter. This doesn&#39;t seem like a huge problem; there is only a small chance of doing a search unnecessarily, and in the end, you get the correct result either way.\r\n\r\nHowever, you say that your user IDs are stored in a &quot;table&quot; in a &quot;database.&quot; If it&#39;s an indexed field in a relational database, you should be able to test for its presence in O(log(n)) time; for 40 million entries, this is on the order of 25 operations, and I would expect this time to be dwarfed by overhead like network traffic. And, with this approach, the index search can easily result in additional information, like the user record, while a Bloom filter check can&#39;t associate values with a key.\r\n\r\nSo, my recommendation would be to use something that supports a traditional index, and avoid the novelty of a Bloom filter for this. I would look for alternatives only when supported by profiling metrics that show that lookup misses are a bottleneck.","title":"Can I use Bloom Filters in searching?","body":"<p>If a key is added to a Bloom filter, the filter will not falsely report that it is absent in later queries. However, if a key is never added to a Bloom filter, the filter may falsely report its presence. In other words, you won't get false negatives, but you may get false positives. This probability of a false positive depends on the size of the filter. This doesn't seem like a huge problem; there is only a small chance of doing a search unnecessarily, and in the end, you get the correct result either way.</p>\n<p>However, you say that your user IDs are stored in a &quot;table&quot; in a &quot;database.&quot; If it's an indexed field in a relational database, you should be able to test for its presence in O(log(n)) time; for 40 million entries, this is on the order of 25 operations, and I would expect this time to be dwarfed by overhead like network traffic. And, with this approach, the index search can easily result in additional information, like the user record, while a Bloom filter check can't associate values with a key.</p>\n<p>So, my recommendation would be to use something that supports a traditional index, and avoid the novelty of a Bloom filter for this. I would look for alternatives only when supported by profiling metrics that show that lookup misses are a bottleneck.</p>\n"}],"owner":{"account_id":16211503,"reputation":197,"user_id":11705388,"display_name":"Alex Sparrow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1678982952,"creation_date":1678701799,"question_id":75720376,"body_markdown":"I have a single table in my database that contains 40 million user data entries. My goal is to determine whether a user is present or not, based on their unique ID.\r\n\r\nHowever, if I were to provide an incorrect ID, the database would search through all 40 million entries before returning an empty result set.\r\n\r\nTo optimize this process, I am considering not checking the database at all if the user ID is not present in the database. This would help to reduce the number of unnecessary queries made to the database. \r\n\r\nWould it be possible to use a bloom filter in this case?","title":"Can I use Bloom Filters in searching?","body":"<p>I have a single table in my database that contains 40 million user data entries. My goal is to determine whether a user is present or not, based on their unique ID.</p>\n<p>However, if I were to provide an incorrect ID, the database would search through all 40 million entries before returning an empty result set.</p>\n<p>To optimize this process, I am considering not checking the database at all if the user ID is not present in the database. This would help to reduce the number of unnecessary queries made to the database.</p>\n<p>Would it be possible to use a bloom filter in this case?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"score":0,"creation_date":1399784469,"post_id":23589058,"comment_id":36205337,"body_markdown":"Your post is confusing. Of course, `==` is enough if you are really talking about **variables**. What is the real scenario?","body":"Your post is confusing. Of course, <code>==</code> is enough if you are really talking about <b>variables</b>. What is the real scenario?"},{"owner":{"account_id":1777742,"reputation":583,"user_id":1621190,"display_name":"Newyacht Zhang"},"score":0,"creation_date":1399784475,"post_id":23589058,"comment_id":36205339,"body_markdown":"the java doc does not answer this question.","body":"the java doc does not answer this question."},{"owner":{"account_id":173890,"reputation":30412,"user_id":402884,"accept_rate":75,"display_name":"Chris Martin"},"score":1,"creation_date":1399784916,"post_id":23589058,"comment_id":36205418,"body_markdown":"The presence of `==` on `Object`s is tantamount to a bug in Java. Occasions for its use are rare.","body":"The presence of <code>==</code> on <code>Object</code>s is tantamount to a bug in Java. Occasions for its use are rare."},{"owner":{"account_id":2029833,"reputation":11611,"user_id":1813853,"display_name":"Chris Hayes"},"score":1,"creation_date":1399785171,"post_id":23589058,"comment_id":36205471,"body_markdown":"You *could* use `==` for UUIDs, but only if you had some very strong guarantees about how they&#39;re used (never created via deserialization; never copied; never provided by any outside code). It&#39;s not worth it. Use `.equals`.","body":"You <i>could</i> use <code>==</code> for UUIDs, but only if you had some very strong guarantees about how they&#39;re used (never created via deserialization; never copied; never provided by any outside code). It&#39;s not worth it. Use <code>.equals</code>."}],"answers":[{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1399784695,"creation_date":1399784695,"answer_id":23589114,"question_id":23589058,"body_markdown":"Well...no.\r\n\r\n`==` against an object checks for reference equality.  That is, it checks to see if these two objects are literally the same spot in memory.\r\n\r\n`.equals()` will check for actual object equivalence.  And, the [Javadoc for `UUID`](http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html#compareTo(java.util.UUID)) goes into great detail to explain when two `UUID` instances are equivalent.","title":"To compare UUID, can I use == or have to use UUID.equals(UUID)?","body":"<p>Well...no.</p>\n\n<p><code>==</code> against an object checks for reference equality.  That is, it checks to see if these two objects are literally the same spot in memory.</p>\n\n<p><code>.equals()</code> will check for actual object equivalence.  And, the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html#compareTo%28java.util.UUID%29\" rel=\"noreferrer\">Javadoc for <code>UUID</code></a> goes into great detail to explain when two <code>UUID</code> instances are equivalent.</p>\n"},{"comments":[{"owner":{"account_id":1777742,"reputation":583,"user_id":1621190,"display_name":"Newyacht Zhang"},"score":1,"creation_date":1399792789,"post_id":23589523,"comment_id":36206919,"body_markdown":"Ah, you are correct. I should have thought about writing such a piece of code myself to verify. Thanks.","body":"Ah, you are correct. I should have thought about writing such a piece of code myself to verify. Thanks."},{"owner":{"account_id":1777742,"reputation":583,"user_id":1621190,"display_name":"Newyacht Zhang"},"score":0,"creation_date":1399792950,"post_id":23589523,"comment_id":36206952,"body_markdown":"At beginning, I thought as each UUID value is unique, why not implement each value as a singleton.","body":"At beginning, I thought as each UUID value is unique, why not implement each value as a singleton."},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1399793596,"post_id":23589523,"comment_id":36207079,"body_markdown":"@NewyachtZhang first, `new` *always* creates a new object, so you&#39;d need to use something else like (hypothetically) `UUID.get`. Also, presumably these &quot;singletons&quot; are created on demand (otherwise there would be 340,282,366,920,938,463,463,374,607,431,768,211,456 objects) so they&#39;re not actually singletons. Also, it would be a waste of time to track all the UUID objects in existence and search through them every time you use a UUID. Also, the only benefit is to let you use `==`. Is it worth it? (If it was, they&#39;d also do it with String)","body":"@NewyachtZhang first, <code>new</code> <i>always</i> creates a new object, so you&#39;d need to use something else like (hypothetically) <code>UUID.get</code>. Also, presumably these &quot;singletons&quot; are created on demand (otherwise there would be 340,282,366,920,938,463,463,374,607,431,768,211,456 objects) so they&#39;re not actually singletons. Also, it would be a waste of time to track all the UUID objects in existence and search through them every time you use a UUID. Also, the only benefit is to let you use <code>==</code>. Is it worth it? (If it was, they&#39;d also do it with String)"},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1609445911,"post_id":23589523,"comment_id":115847072,"body_markdown":"It&#39;s a rhetorical question by the way. *Obviously* you want `.equals` in this case.","body":"It&#39;s a rhetorical question by the way. <i>Obviously</i> you want <code>.equals</code> in this case."}],"tags":[],"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"comment_count":4,"down_vote_count":0,"up_vote_count":104,"is_accepted":true,"score":104,"last_activity_date":1651918810,"creation_date":1399788539,"answer_id":23589523,"question_id":23589058,"body_markdown":"It depends: which type of equality do you want?\r\n\r\n    UUID a = new UUID(12345678, 87654321);\r\n    UUID b = new UUID(12345678, 87654321);\r\n    UUID c = new UUID(11111111, 22222222);\r\n\r\n    System.out.println(a == a); // returns true\r\n    System.out.println(a.equals(a)); // returns true\r\n\r\n    System.out.println(a == b); // returns false\r\n    System.out.println(a.equals(b)); // returns true\r\n\r\n    System.out.println(a == c); // returns false\r\n    System.out.println(a.equals(c)); // returns false\r\n\r\n`a == b` is true only if `a` and `b` are the same object. If they are two identical objects, it will still be false.\r\n\r\n`a.equals(b)` is true if `a` and `b` are the same UUID value - if their two parts are the same.\r\n\r\nIt&#39;s a rhetorical question, by the way. Almost always you want `.equals`. There isn&#39;t much use for `==` with UUIDs.","title":"To compare UUID, can I use == or have to use UUID.equals(UUID)?","body":"<p>It depends: which type of equality do you want?</p>\n<pre><code>UUID a = new UUID(12345678, 87654321);\nUUID b = new UUID(12345678, 87654321);\nUUID c = new UUID(11111111, 22222222);\n\nSystem.out.println(a == a); // returns true\nSystem.out.println(a.equals(a)); // returns true\n\nSystem.out.println(a == b); // returns false\nSystem.out.println(a.equals(b)); // returns true\n\nSystem.out.println(a == c); // returns false\nSystem.out.println(a.equals(c)); // returns false\n</code></pre>\n<p><code>a == b</code> is true only if <code>a</code> and <code>b</code> are the same object. If they are two identical objects, it will still be false.</p>\n<p><code>a.equals(b)</code> is true if <code>a</code> and <code>b</code> are the same UUID value - if their two parts are the same.</p>\n<p>It's a rhetorical question, by the way. Almost always you want <code>.equals</code>. There isn't much use for <code>==</code> with UUIDs.</p>\n"},{"tags":[],"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600636731,"creation_date":1600636731,"answer_id":63983775,"question_id":23589058,"body_markdown":"Uncommonly they are no flyweight objects because of bad ood (and wont be for compatibility reasons)! So, its a mind-trap.\r\n\r\nOnly in flyweight objects who provide a static-factory-method to create instances only you can be quite sure take usage of `==` instead of `.equals(`. Unfortunately because you have a public constructor its no flyweight-pattern.\r\n\r\nThis means you indeed have to use `.equals(`.","title":"To compare UUID, can I use == or have to use UUID.equals(UUID)?","body":"<p>Uncommonly they are no flyweight objects because of bad ood (and wont be for compatibility reasons)! So, its a mind-trap.</p>\n<p>Only in flyweight objects who provide a static-factory-method to create instances only you can be quite sure take usage of <code>==</code> instead of <code>.equals(</code>. Unfortunately because you have a public constructor its no flyweight-pattern.</p>\n<p>This means you indeed have to use <code>.equals(</code>.</p>\n"},{"tags":[],"owner":{"account_id":25597204,"reputation":1,"user_id":19372761,"display_name":"Nisarg Mistry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655738572,"creation_date":1655709699,"answer_id":72683526,"question_id":23589058,"body_markdown":"The `equals()` method of `UUID` class in Java is used to check for the equality of one UUID with another. The method returns `true` if both the UUIDs are exactly identical bit by bit.\r\n\r\nSyntax:\r\n\r\n```java\r\npublic boolean equals(Object uuidObj)\r\n```","title":"To compare UUID, can I use == or have to use UUID.equals(UUID)?","body":"<p>The <code>equals()</code> method of <code>UUID</code> class in Java is used to check for the equality of one UUID with another. The method returns <code>true</code> if both the UUIDs are exactly identical bit by bit.</p>\n<p>Syntax:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean equals(Object uuidObj)\n</code></pre>\n"}],"owner":{"account_id":1777742,"reputation":583,"user_id":1621190,"display_name":"Newyacht Zhang"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53266,"favorite_count":0,"down_vote_count":0,"up_vote_count":58,"accepted_answer_id":23589523,"answer_count":4,"score":58,"last_activity_date":1678982738,"creation_date":1399784200,"question_id":23589058,"body_markdown":"Just start using `java.util.UUID`. My question is if I have two UUID variables, say u1 and u2, and I would like to check if they are equal, can I safely use expression `u1 == u2` or have to write `u1.equals(u2)`? assuming both are not null. \r\n\r\nBTW, I am using its `randomUUID` method to create new UUID values, but I think this should not be matter. \r\nI wonder as UUID is unique, each value could be a singleton, then it is safe to use `u1 == u2`.  \r\n\r\n    void method1(UUID u1, UUID u2) {\r\n     \r\n       // I know it is always safe to use equal method\r\n       if (u1.equals(u2)){ \r\n         // do something\r\n       }\r\n    \r\n       // is it safe to use  ==\r\n       if (u1 == u2) {\r\n         // do something\r\n       }\r\n    }\r\n\r\n","title":"To compare UUID, can I use == or have to use UUID.equals(UUID)?","body":"<p>Just start using <code>java.util.UUID</code>. My question is if I have two UUID variables, say u1 and u2, and I would like to check if they are equal, can I safely use expression <code>u1 == u2</code> or have to write <code>u1.equals(u2)</code>? assuming both are not null. </p>\n\n<p>BTW, I am using its <code>randomUUID</code> method to create new UUID values, but I think this should not be matter. \nI wonder as UUID is unique, each value could be a singleton, then it is safe to use <code>u1 == u2</code>.  </p>\n\n<pre><code>void method1(UUID u1, UUID u2) {\n\n   // I know it is always safe to use equal method\n   if (u1.equals(u2)){ \n     // do something\n   }\n\n   // is it safe to use  ==\n   if (u1 == u2) {\n     // do something\n   }\n}\n</code></pre>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":898648,"reputation":10303,"user_id":935374,"accept_rate":50,"display_name":"Abhishek Singh"},"score":0,"creation_date":1376372186,"post_id":18201381,"comment_id":26675602,"body_markdown":"Both of them return me the same answer","body":"Both of them return me the same answer"},{"owner":{"account_id":4184282,"reputation":33,"user_id":3428403,"display_name":"Sajjad Ali"},"score":0,"creation_date":1443767749,"post_id":18201381,"comment_id":53631900,"body_markdown":"row.getNoOfPhysicalCell() will take non-empty cell count but row.getLastCellNum() will take last number of cell.values of them may vary if you have empty or null cells in your excel sheet.","body":"row.getNoOfPhysicalCell() will take non-empty cell count but row.getLastCellNum() will take last number of cell.values of them may vary if you have empty or null cells in your excel sheet."}],"answers":[{"comments":[{"owner":{"account_id":898648,"reputation":10303,"user_id":935374,"accept_rate":50,"display_name":"Abhishek Singh"},"score":0,"creation_date":1376373081,"post_id":18201465,"comment_id":26675895,"body_markdown":"Both of them return me 68 . Even if i deleted few columns in the sheet. Why so ? I am deleting not only contents but objects and formulas also.","body":"Both of them return me 68 . Even if i deleted few columns in the sheet. Why so ? I am deleting not only contents but objects and formulas also."}],"tags":[],"owner":{"account_id":2519746,"reputation":8347,"user_id":2190336,"display_name":"Prabhaker A"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1376373008,"creation_date":1376372580,"answer_id":18201465,"question_id":18201381,"body_markdown":"[getLastCellNum()](http://poi.apache.org/apidocs/org/apache/poi/hssf/usermodel/HSSFRow.html#getLastCellNum())\r\n&gt;Gets the index of the last cell contained in this row PLUS ONE  \r\n\r\n[getPhysicalNumberOfCells()](http://poi.apache.org/apidocs/org/apache/poi/hssf/usermodel/HSSFRow.html#getPhysicalNumberOfCells)\r\n&gt;gets the number of defined cells (NOT number of cells in the actual row!). That is to say if only columns 0,4,5 have values then there would be 3.  \r\n","title":"Apache POI : Difference between row.getLastCellNum and row.getNoOfPhysicalCell","body":"<p><a href=\"http://poi.apache.org/apidocs/org/apache/poi/hssf/usermodel/HSSFRow.html#getLastCellNum%28%29\" rel=\"nofollow\">getLastCellNum()</a></p>\n\n<blockquote>\n  <p>Gets the index of the last cell contained in this row PLUS ONE  </p>\n</blockquote>\n\n<p><a href=\"http://poi.apache.org/apidocs/org/apache/poi/hssf/usermodel/HSSFRow.html#getPhysicalNumberOfCells\" rel=\"nofollow\">getPhysicalNumberOfCells()</a></p>\n\n<blockquote>\n  <p>gets the number of defined cells (NOT number of cells in the actual row!). That is to say if only columns 0,4,5 have values then there would be 3.  </p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":20918570,"reputation":1,"user_id":15367707,"display_name":"Saurabh"},"score":1,"creation_date":1678982676,"post_id":75758705,"comment_id":133642334,"body_markdown":"note -  rows that had content before and were set to empty later might still be counted as rows.","body":"note -  rows that had content before and were set to empty later might still be counted as rows."}],"tags":[],"owner":{"account_id":20918570,"reputation":1,"user_id":15367707,"display_name":"Saurabh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678982595,"creation_date":1678982498,"answer_id":75758705,"question_id":18201381,"body_markdown":"getLastRowNum() retrieves the index of the last row in a spreadsheet. These indexes are 0 based, and if you have no missing rows, 100th row that is the last row will have index 99. getPhysicalNumberOfRows() returns the number of rows actually used in the spreadsheet. Unused rows are just missing from the spreadsheet. So you could have a situation where you only have one row at row 100th. In that case getPhysicalNumberOfRows() would return 1, but getLastRowNum() would return 99.","title":"Apache POI : Difference between row.getLastCellNum and row.getNoOfPhysicalCell","body":"<p>getLastRowNum() retrieves the index of the last row in a spreadsheet. These indexes are 0 based, and if you have no missing rows, 100th row that is the last row will have index 99. getPhysicalNumberOfRows() returns the number of rows actually used in the spreadsheet. Unused rows are just missing from the spreadsheet. So you could have a situation where you only have one row at row 100th. In that case getPhysicalNumberOfRows() would return 1, but getLastRowNum() would return 99.</p>\n"}],"owner":{"account_id":898648,"reputation":10303,"user_id":935374,"accept_rate":50,"display_name":"Abhishek Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":18201465,"answer_count":2,"score":0,"last_activity_date":1678982595,"creation_date":1376372155,"question_id":18201381,"body_markdown":"What is the difference between `row.getLastCellNum()` and `row.getNoOfPhysicalCell()` in POI HSSFRow ? Or are they same ?","title":"Apache POI : Difference between row.getLastCellNum and row.getNoOfPhysicalCell","body":"<p>What is the difference between <code>row.getLastCellNum()</code> and <code>row.getNoOfPhysicalCell()</code> in POI HSSFRow ? Or are they same ?</p>\n"},{"tags":["java","spring-webflux","aggregation"],"owner":{"account_id":21442704,"reputation":31,"user_id":15796921,"display_name":"paulo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678982402,"creation_date":1678968571,"question_id":75756063,"body_markdown":"I have a method that does a aggregatio action an in the end ir returns:\r\n\r\n    return reactiveMongoTemplate.aggregate(agg,\r\n                    reactiveMongoTemplate.getCollectionName(TagEntity.class), TagWithConditionalDTO.class);\r\n\r\nand im trying to write a unit test for it. so far, i have this code:\r\n\r\n    @Test\r\n    public void testGetTagsWithCategory() {\r\n    \r\n        List&lt;TagWithConditionalDTO&gt; expectedTags = Arrays.asList(\r\n                new TagWithConditionalDTO(&quot;1&quot;, &quot;Tag 1&quot;, &quot;Desc&quot;, &quot;Category&quot;, &quot;1&quot;),\r\n                new TagWithConditionalDTO(&quot;2&quot;, &quot;Tag 2&quot;, &quot;Desc&quot;, &quot;Category&quot;, &quot;1&quot;)\r\n        );\r\n    \r\n        when(reactiveMongoTemplate.aggregate(any(Aggregation.class), anyString(), eq(TagWithConditionalDTO.class)))\r\n                .thenReturn(Flux.fromIterable(expectedTags));\r\n    \r\n        Flux&lt;ConditionalTagWithConditionalDTO&gt; result = conditionalTagService.getTagsWithCategory();\r\n    \r\n    \r\n        ArgumentCaptor&lt;Aggregation&gt; aggregationCaptor = ArgumentCaptor.forClass(Aggregation.class);\r\n        ArgumentCaptor&lt;Class&gt; resultTypeCaptor = ArgumentCaptor.forClass(Class.class);\r\n        verify(reactiveMongoTemplate).aggregate(aggregationCaptor.capture(), &quot;Tag&quot;, resultTypeCaptor.capture());\r\n        Aggregation aggregation = aggregationCaptor.getValue();\r\n        assertThat(aggregation.toString(), containsString(&quot;$lookup&quot;));\r\n        assertThat(aggregation.toString(), containsString(&quot;$unwind&quot;));\r\n        assertThat(aggregation.toString(), containsString(&quot;$addFields&quot;));\r\n        assertThat(resultTypeCaptor.getValue(), equalTo(ConditionalTagWithConditionalDTO.class));\r\n    }\r\n\r\n\r\nThe problem with this code, is that in on when\r\n\r\n    when(reactiveMongoTemplate.aggregate(any(Aggregation.class), anyString(), eq(ConditionalTagWithCategoryDTO.class)))\r\n                    .thenReturn(Flux.fromIterable(expectedConditionalTags));\r\n\r\nit gives me the error &quot;Cannot resolve method &#39;aggregate(T, String, Bson)&#39;&#39;&quot;\r\n\r\ni&#39;ve tried to do it like this: \r\n\r\n    when(reactiveMongoTemplate.aggregate(any(Aggregation.class), anyString(), ConditionalTagWithCategoryDTO.class))\r\n                    .thenReturn(Flux.fromIterable(expectedConditionalTags));\r\n\r\nthen i can run the test, but it doesnt work. returns the error \r\n\r\n    Invalid use of argument matchers!\r\n    3 matchers expected, 1 recorded\r\n\r\nso what can i do to solve it?\r\nthank you for helping me.","title":"How to mock reactiveMongoTemplate.aggregate?","body":"<p>I have a method that does a aggregatio action an in the end ir returns:</p>\n<pre><code>return reactiveMongoTemplate.aggregate(agg,\n                reactiveMongoTemplate.getCollectionName(TagEntity.class), TagWithConditionalDTO.class);\n</code></pre>\n<p>and im trying to write a unit test for it. so far, i have this code:</p>\n<pre><code>@Test\npublic void testGetTagsWithCategory() {\n\n    List&lt;TagWithConditionalDTO&gt; expectedTags = Arrays.asList(\n            new TagWithConditionalDTO(&quot;1&quot;, &quot;Tag 1&quot;, &quot;Desc&quot;, &quot;Category&quot;, &quot;1&quot;),\n            new TagWithConditionalDTO(&quot;2&quot;, &quot;Tag 2&quot;, &quot;Desc&quot;, &quot;Category&quot;, &quot;1&quot;)\n    );\n\n    when(reactiveMongoTemplate.aggregate(any(Aggregation.class), anyString(), eq(TagWithConditionalDTO.class)))\n            .thenReturn(Flux.fromIterable(expectedTags));\n\n    Flux&lt;ConditionalTagWithConditionalDTO&gt; result = conditionalTagService.getTagsWithCategory();\n\n\n    ArgumentCaptor&lt;Aggregation&gt; aggregationCaptor = ArgumentCaptor.forClass(Aggregation.class);\n    ArgumentCaptor&lt;Class&gt; resultTypeCaptor = ArgumentCaptor.forClass(Class.class);\n    verify(reactiveMongoTemplate).aggregate(aggregationCaptor.capture(), &quot;Tag&quot;, resultTypeCaptor.capture());\n    Aggregation aggregation = aggregationCaptor.getValue();\n    assertThat(aggregation.toString(), containsString(&quot;$lookup&quot;));\n    assertThat(aggregation.toString(), containsString(&quot;$unwind&quot;));\n    assertThat(aggregation.toString(), containsString(&quot;$addFields&quot;));\n    assertThat(resultTypeCaptor.getValue(), equalTo(ConditionalTagWithConditionalDTO.class));\n}\n</code></pre>\n<p>The problem with this code, is that in on when</p>\n<pre><code>when(reactiveMongoTemplate.aggregate(any(Aggregation.class), anyString(), eq(ConditionalTagWithCategoryDTO.class)))\n                .thenReturn(Flux.fromIterable(expectedConditionalTags));\n</code></pre>\n<p>it gives me the error &quot;Cannot resolve method 'aggregate(T, String, Bson)''&quot;</p>\n<p>i've tried to do it like this:</p>\n<pre><code>when(reactiveMongoTemplate.aggregate(any(Aggregation.class), anyString(), ConditionalTagWithCategoryDTO.class))\n                .thenReturn(Flux.fromIterable(expectedConditionalTags));\n</code></pre>\n<p>then i can run the test, but it doesnt work. returns the error</p>\n<pre><code>Invalid use of argument matchers!\n3 matchers expected, 1 recorded\n</code></pre>\n<p>so what can i do to solve it?\nthank you for helping me.</p>\n"},{"tags":["java","apache-nifi"],"comments":[{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1600704700,"post_id":63991172,"comment_id":113164897,"body_markdown":"EvaluateXPath does not support namespaces. just remove all `s:` prefixes from xpath","body":"EvaluateXPath does not support namespaces. just remove all <code>s:</code> prefixes from xpath"},{"owner":{"account_id":13550471,"reputation":98,"user_id":9775470,"display_name":"Dario Lurido"},"score":0,"creation_date":1600759722,"post_id":63991172,"comment_id":113180884,"body_markdown":"I tried but nothing, it returns NO MATCH, as a solution I found this\n\n&#39;&#39;&#39; //*[local-name()=&#39;ByteListFile&#39;]  &#39;&#39;&#39;","body":"I tried but nothing, it returns NO MATCH, as a solution I found this  &#39;&#39;&#39; //*[local-name()=&#39;ByteListFile&#39;]  &#39;&#39;&#39;"}],"answers":[{"tags":[],"owner":{"account_id":145181,"reputation":1559,"user_id":354806,"display_name":"Valtoni Boaventura"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678982003,"creation_date":1678982003,"answer_id":75758601,"question_id":63991172,"body_markdown":"You can try to replace your namespace prefix with asteriks:\r\n```\r\n/*:Envelope/*:Body/GetDataSetResponse/GetDataSetResult/*:ByteListFile\r\n```\r\nBUT GetDataSetResponse and GetDataSetResult have owns namespaces. This might not work. If is the case, you can add two additional EvaluateXPath in sequence and get each of then in sequence.","title":"Nifi EvaluateXPath","body":"<p>You can try to replace your namespace prefix with asteriks:</p>\n<pre><code>/*:Envelope/*:Body/GetDataSetResponse/GetDataSetResult/*:ByteListFile\n</code></pre>\n<p>BUT GetDataSetResponse and GetDataSetResult have owns namespaces. This might not work. If is the case, you can add two additional EvaluateXPath in sequence and get each of then in sequence.</p>\n"}],"owner":{"account_id":13550471,"reputation":98,"user_id":9775470,"display_name":"Dario Lurido"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":453,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678982003,"creation_date":1600687008,"question_id":63991172,"body_markdown":"I have a problem with this XML in Nifi processor EvaluateXPath\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;s:Envelope xmlns:s=&quot;http://....&quot;&gt;\r\n        &lt;s:Body&gt;\r\n            &lt;GetDataSetResponse xmlns=&quot;http://....&quot;&gt;\r\n             &lt;GetDataSetResult xmlns:a=&quot;http://....&quot;xmlns:i=&quot;http://....&quot;&gt;\r\n                &lt;a:ByteListFile&gt;BLABLABLA&lt;/a:ByteListFile&gt;\r\n                &lt;a:CodEsito&gt;OK&lt;/a:CodEsito&gt;\r\n                &lt;a:DescEsito&gt;OK&lt;/a:DescEsito&gt;\r\n                &lt;a:OutputValue&gt;1&lt;/a:OutputValue&gt;\r\n             &lt;/GetDataSetResult&gt;\r\n          &lt;/GetDataSetResponse&gt;\r\n       &lt;/s:Body&gt;\r\n    &lt;/s:Envelope&gt;\r\n\r\n \r\n\r\ni want to check this out  BLABLABLA , but nifi doesn&#39;t want to let me.. i use this expression \r\n\r\n&#39;&#39;&#39;\r\n/s:Envelope/s:Body/GetDataSetResponse/GetDataSetResult/a:ByteListFile\r\n&#39;&#39;&#39;\r\n\r\nthe error is : Prefix s han not been declared \r\n\r\nsomeone help me! THX","title":"Nifi EvaluateXPath","body":"<p>I have a problem with this XML in Nifi processor EvaluateXPath</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;s:Envelope xmlns:s=&quot;http://....&quot;&gt;\n    &lt;s:Body&gt;\n        &lt;GetDataSetResponse xmlns=&quot;http://....&quot;&gt;\n         &lt;GetDataSetResult xmlns:a=&quot;http://....&quot;xmlns:i=&quot;http://....&quot;&gt;\n            &lt;a:ByteListFile&gt;BLABLABLA&lt;/a:ByteListFile&gt;\n            &lt;a:CodEsito&gt;OK&lt;/a:CodEsito&gt;\n            &lt;a:DescEsito&gt;OK&lt;/a:DescEsito&gt;\n            &lt;a:OutputValue&gt;1&lt;/a:OutputValue&gt;\n         &lt;/GetDataSetResult&gt;\n      &lt;/GetDataSetResponse&gt;\n   &lt;/s:Body&gt;\n&lt;/s:Envelope&gt;\n</code></pre>\n<p>i want to check this out  BLABLABLA , but nifi doesn't want to let me.. i use this expression</p>\n<p>'''\n/s:Envelope/s:Body/GetDataSetResponse/GetDataSetResult/a:ByteListFile\n'''</p>\n<p>the error is : Prefix s han not been declared</p>\n<p>someone help me! THX</p>\n"},{"tags":["java","spring-boot","rest","vaadin","vaadin-flow"],"answers":[{"comments":[{"owner":{"account_id":27187046,"reputation":23,"user_id":20721373,"display_name":"Szyu"},"score":1,"creation_date":1675780620,"post_id":75374300,"comment_id":132999526,"body_markdown":"I tried your suggestion. I guess I was missing the whole &quot;/api&quot; part... But unfortunately, when I add the &quot;/api&quot; then I can no longer access the webservice at all. No matter what combination of urls I try, I will always be redirected to :8080/project/ui/login","body":"I tried your suggestion. I guess I was missing the whole &quot;/api&quot; part... But unfortunately, when I add the &quot;/api&quot; then I can no longer access the webservice at all. No matter what combination of urls I try, I will always be redirected to :8080/project/ui/login"}],"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675784176,"creation_date":1675777852,"answer_id":75374300,"question_id":75372808,"body_markdown":"    @RequestMapping(&quot;/test&quot;) \r\n\r\ndoes not contain api! So it should be:\r\n\r\n    @RequestMapping(&quot;/api/test&quot;)\r\n\r\nThen you must also adjust the security configuration:\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n \r\n        http.authorizeRequests()\r\n       .requestMatchers(new AntPathRequestMatcher(&quot;/api/**&quot;).permitAll();\r\n\r\n        super.configure(http);\r\n        setLoginView(http, LoginView.class, LOGOUT_SUCCESS_URL);\r\n\r\n\r\n        http.rememberMe().key(&quot;ABC&quot;)\r\n            .tokenValiditySeconds(2 * 24 * 60 * 60)\r\n            .userDetailsService(this.userDetailsService);\r\n\r\n        http.logout()\r\n            .invalidateHttpSession(true)\r\n            .deleteCookies(&quot;JSESSIONID&quot;, &quot;remember-me&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) throws Exception {\r\n        super.configure(web);\r\n        web.ignoring().antMatchers(&quot;/images/*.png&quot;);\r\n    }\r\n","title":"Vaadin 23 Rest-API and UI in Spring Boot app","body":"<pre><code>@RequestMapping(&quot;/test&quot;) \n</code></pre>\n<p>does not contain api! So it should be:</p>\n<pre><code>@RequestMapping(&quot;/api/test&quot;)\n</code></pre>\n<p>Then you must also adjust the security configuration:</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n\n    http.authorizeRequests()\n   .requestMatchers(new AntPathRequestMatcher(&quot;/api/**&quot;).permitAll();\n\n    super.configure(http);\n    setLoginView(http, LoginView.class, LOGOUT_SUCCESS_URL);\n\n\n    http.rememberMe().key(&quot;ABC&quot;)\n        .tokenValiditySeconds(2 * 24 * 60 * 60)\n        .userDetailsService(this.userDetailsService);\n\n    http.logout()\n        .invalidateHttpSession(true)\n        .deleteCookies(&quot;JSESSIONID&quot;, &quot;remember-me&quot;);\n}\n\n@Override\npublic void configure(WebSecurity web) throws Exception {\n    super.configure(web);\n    web.ignoring().antMatchers(&quot;/images/*.png&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18336090,"reputation":17,"user_id":13353450,"display_name":"Buddhima Chamaranga"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678174511,"creation_date":1678174511,"answer_id":75659102,"question_id":75372808,"body_markdown":"    @Override\r\n        public void configure(WebSecurity web) throws Exception {\r\n            web.ignoring().antMatchers(&quot;/api/**&quot;);\r\n            super.configure(web);\r\n    }\r\n\r\nthis may work add this to your security configarations","title":"Vaadin 23 Rest-API and UI in Spring Boot app","body":"<pre><code>@Override\n    public void configure(WebSecurity web) throws Exception {\n        web.ignoring().antMatchers(&quot;/api/**&quot;);\n        super.configure(web);\n}\n</code></pre>\n<p>this may work add this to your security configarations</p>\n"},{"tags":[],"owner":{"account_id":11528836,"reputation":31,"user_id":8448386,"display_name":"Sam Nya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678981901,"creation_date":1678981901,"answer_id":75758583,"question_id":75372808,"body_markdown":"So basically you need to tell Spring security to permit your api and disable csrf for it.\r\n\r\n\r\n```java\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests().antMatchers(&quot;/images/**&quot;).permitAll();\r\n        http.authorizeRequests().antMatchers(&quot;/public/**&quot;).permitAll();\r\n\r\n\r\n        // Permit your api\r\n        // If you don&#39;t need authentication, just use permitAll to /api/**\r\n        http.authorizeRequests()\r\n                .antMatchers(&quot;/api/auth/login&quot;).permitAll()\r\n                .antMatchers(&quot;/api/**&quot;).hasRole(&quot;USER&quot;);\r\n\r\n\r\n        // Maybe you need token header filter for your api authentication\r\n        // Following other Spring Security tutorial to implement it.\r\n        // https://stackoverflow.com/questions/41975045/how-to-design-a-good-jwt-authentication-filter\r\n        http.addFilterBefore(jwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n        // Vaadin Security\r\n        super.configure(http);\r\n        setLoginView(http, LoginView.class);\r\n\r\n        // IMPORTENT: csrf must disable for Rest API, otherwise post\r\n        // request won&#39;t work\r\n        http.cors().and().csrf().ignoringAntMatchers(&quot;/api/**&quot;);\r\n    }\r\n```\r\n\r\nOnly one small problem I noticed was JSESSIONID cookie will still sent to every Rest api response but I don&#39;t use that for authentication. \r\n\r\nAnd set SessionCreationPolicy to STATELESS seems break Vaadin session.\r\n\r\n```java\r\nhttp.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n```\r\n\r\n","title":"Vaadin 23 Rest-API and UI in Spring Boot app","body":"<p>So basically you need to tell Spring security to permit your api and disable csrf for it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests().antMatchers(&quot;/images/**&quot;).permitAll();\n        http.authorizeRequests().antMatchers(&quot;/public/**&quot;).permitAll();\n\n\n        // Permit your api\n        // If you don't need authentication, just use permitAll to /api/**\n        http.authorizeRequests()\n                .antMatchers(&quot;/api/auth/login&quot;).permitAll()\n                .antMatchers(&quot;/api/**&quot;).hasRole(&quot;USER&quot;);\n\n\n        // Maybe you need token header filter for your api authentication\n        // Following other Spring Security tutorial to implement it.\n        // https://stackoverflow.com/questions/41975045/how-to-design-a-good-jwt-authentication-filter\n        http.addFilterBefore(jwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n\n        // Vaadin Security\n        super.configure(http);\n        setLoginView(http, LoginView.class);\n\n        // IMPORTENT: csrf must disable for Rest API, otherwise post\n        // request won't work\n        http.cors().and().csrf().ignoringAntMatchers(&quot;/api/**&quot;);\n    }\n</code></pre>\n<p>Only one small problem I noticed was JSESSIONID cookie will still sent to every Rest api response but I don't use that for authentication.</p>\n<p>And set SessionCreationPolicy to STATELESS seems break Vaadin session.</p>\n<pre class=\"lang-java prettyprint-override\"><code>http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n</code></pre>\n"}],"owner":{"account_id":27187046,"reputation":23,"user_id":20721373,"display_name":"Szyu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1094,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75374300,"answer_count":3,"score":2,"last_activity_date":1678981901,"creation_date":1675769797,"question_id":75372808,"body_markdown":"I&#39;ve developed a small application with Vaadin 23.3.5. Until now I only used Spring Boot Security in combination with the default LoginView to authenticate and then use the MainLayout to navigate through my application. But now I require the possibility to access certain informations from outside the app. So the best way to do that would be to implement a REST-API.\r\n\r\nBut no matter what I try, I just can&#39;t seem to get it working. I read that I should not use JAX-RS with Spring Boot applications when I want to have stateless webservices, so I tried to stick with libraries offered by Spring. I also tried to integrate working examples from other people into my application, but none of them worked for me.\r\n\r\nI want to have some configuration, when I use http://localhost:8080/project/ui, then I can access my view layer (i.e. LoginView), but when I use http://localhost:8080/project/api, I want to be able to call my webservices.\r\n\r\nin my applicatoin.properties, I declared &quot;/project&quot; to be my context-path and &quot;/ui/*&quot; to be my urlMapping like this:\r\n\r\n\r\n```\r\nserver.servlet.context-path=/project\r\nserver.port=${PORT:8080}\r\n\r\nvaadin.urlMapping=/ui/*\r\nvaadin.excludeUrls=/api/**\r\n```\r\n\r\nMy configuration used in my class extending from VaadinWebSecurity:\r\n\r\n```\r\n@Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        super.configure(http);\r\n        setLoginView(http, LoginView.class, LOGOUT_SUCCESS_URL);\r\n\r\n        this.applyUrlMapping(&quot;api&quot;);\r\n\r\n        http.rememberMe().key(&quot;ABC&quot;)\r\n            .tokenValiditySeconds(2 * 24 * 60 * 60)\r\n            .userDetailsService(this.userDetailsService);\r\n        http.logout()\r\n            .invalidateHttpSession(true)\r\n            .deleteCookies(&quot;JSESSIONID&quot;, &quot;remember-me&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) throws Exception {\r\n        super.configure(web);\r\n        web.ignoring().antMatchers(&quot;/images/*.png&quot;);\r\n    }\r\n```\r\n\r\nand finally my Controller class I want to access via postman:\r\n\r\n```\r\n@RequestMapping(&quot;/test&quot;)\r\n@RestController()\r\npublic class TestRestController {\r\n\r\n\r\n    @GetMapping(&quot;/hello&quot;)\r\npublic String hello() {\r\nreturn &quot;Hello World!&quot;;\r\n    }\r\n\r\n}\r\n```\r\n\r\nIt seems like I can access the &quot;hello&quot;-method when using http://localhost:8080/project/test/hello in my browser, but there are two things not working:\r\n1. the &quot;/api/*&quot; path is not recognized\r\n2. (this is more critical) when I use postman to access the same resource, I can some auto-generated doc as response instead of &quot;Hello World&quot;...\r\n\r\n\r\n```\r\n&lt;!doctype html&gt;&lt;!--\r\nThis file is auto-generated by Vaadin.\r\n--&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n &lt;head&gt;\r\n  &lt;script initial=&quot;&quot;&gt;window.Vaadin = window.Vaadin || {};window.Vaadin.VaadinLicenseChecker = {  maybeCheck: (productInfo) =&gt; {  }};window.Vaadin.devTools = window.Vaadin.devTools || {};window.Vaadin.devTools.createdCvdlElements = window.Vaadin.devTools.createdCvdlElements || [];const originalCustomElementDefineFn = window.customElements.define;window.customElements.define = function (tagName, constructor, ...args) {const { cvdlName, version } = constructor;if (cvdlName &amp;&amp; version) {  const { connectedCallback } = constructor.prototype;  constructor.prototype.connectedCallback = function () {    window.Vaadin.devTools.createdCvdlElements.push(this);    if (connectedCallback) {      connectedCallback.call(this);    }  }}originalCustomElementDefineFn.call(this, tagName, constructor, ...args);};&lt;/script&gt;\r\n  &lt;script initial=&quot;&quot;&gt;window.Vaadin = window.Vaadin || {};window.Vaadin.ConsoleErrors = window.Vaadin.ConsoleErrors || [];const browserConsoleError = window.console.error.bind(window.console);console.error = (...args) =&gt; {    browserConsoleError(...args);    window.Vaadin.ConsoleErrors.push(args);};window.onerror = (message, source, lineno, colno, error) =&gt; {const location=source+&#39;:&#39;+lineno+&#39;:&#39;+colno;window.Vaadin.ConsoleErrors.push([message, &#39;(&#39;+location+&#39;)&#39;]);};window.addEventListener(&#39;unhandledrejection&#39;, e =&gt; {    window.Vaadin.ConsoleErrors.push([e.reason]);});&lt;/script&gt;\r\n  &lt;script initial=&quot;&quot;&gt;window.Vaadin = window.Vaadin || {};window.Vaadin.TypeScript= {};&lt;/script&gt;\r\n  &lt;meta name=&quot;_csrf_parameter&quot; content=&quot;_csrf&quot;&gt;\r\n  &lt;meta name=&quot;_csrf_header&quot; content=&quot;X-CSRF-TOKEN&quot;&gt;\r\n  &lt;meta name=&quot;_csrf&quot; content=&quot;df39cb78-0c37-4125-8d87-68e986050db5&quot;&gt;&lt;base href=&quot;.&quot;&gt;\r\n  &lt;script type=&quot;text/javascript&quot;&gt;window.JSCompiler_renameProperty = function(a) { return a;}&lt;/script&gt;\r\n  &lt;script type=&quot;module&quot;&gt;import { inject } from &quot;/project/ui/VAADIN/@vite-plugin-checker-runtime&quot;;\r\ninject({\r\n  overlayConfig: {},\r\n  base: &quot;/project/ui/VAADIN/&quot;,\r\n});&lt;/script&gt;\r\n  &lt;script type=&quot;module&quot; src=&quot;/project/ui/VAADIN/@vite/client&quot;&gt;&lt;/script&gt;\r\n  &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\r\n  &lt;style&gt;\r\n    body, #outlet {\r\n      height: 100vh;\r\n      width: 100%;\r\n      margin: 0;\r\n    }\r\n  &lt;/style&gt; &lt;!-- index.ts is included here automatically (either by the dev server or during the build) --&gt;\r\n  &lt;script type=&quot;module&quot; src=&quot;/project/ui/VAADIN/generated/vite-devmode.ts&quot;&gt;&lt;/script&gt;\r\n  &lt;script type=&quot;module&quot; src=&quot;/project/ui/VAADIN/generated/vaadin.ts&quot;&gt;&lt;/script&gt;\r\n  &lt;style&gt;.v-reconnect-dialog,.v-system-error {position: absolute;color: black;background: white;top: 1em;right: 1em;border: 1px solid black;padding: 1em;z-index: 10000;max-width: calc(100vw - 4em);max-height: calc(100vh - 4em);overflow: auto;} .v-system-error {color: indianred;pointer-events: auto;} .v-system-error h3, .v-system-error b {color: red;}&lt;/style&gt;\r\n  &lt;style&gt;[hidden] { display: none !important; }&lt;/style&gt;\r\n  &lt;meta name=&quot;apple-mobile-web-app-capable&quot; content=&quot;yes&quot;&gt;\r\n  &lt;meta name=&quot;mobile-web-app-capable&quot; content=&quot;yes&quot;&gt;\r\n  &lt;meta name=&quot;apple-touch-fullscreen&quot; content=&quot;yes&quot;&gt;\r\n  &lt;meta name=&quot;apple-mobile-web-app-title&quot; content=&quot;project&quot;&gt;\r\n  &lt;meta name=&quot;theme-color&quot; content=&quot;#ffffff&quot;&gt;\r\n  &lt;meta name=&quot;apple-mobile-web-app-status-bar-style&quot; content=&quot;#ffffff&quot;&gt;\r\n  &lt;link rel=&quot;manifest&quot; href=&quot;manifest.webmanifest&quot;&gt;\r\n  &lt;link sizes=&quot;16x16&quot; rel=&quot;shortcut icon&quot; href=&quot;icons/icon-16x16.png&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;32x32&quot; rel=&quot;icon&quot; href=&quot;icons/icon-32x32.png&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;96x96&quot; rel=&quot;icon&quot; href=&quot;icons/icon-96x96.png?1713631522&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;180x180&quot; rel=&quot;apple-touch-icon&quot; href=&quot;icons/icon-180x180.png?-533695959&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2048x2732&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-2048x2732.png?-1201942874&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2732x2048&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2732x2048.png?266277477&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1668x2388&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-1668x2388.png?-1539431919&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2388x1668&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2388x1668.png?598404288&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1668x2224&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-1668x2224.png?1678662124&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2224x1668&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2224x1668.png?746534339&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1620x2160&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-1620x2160.png?-770300885&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2160x1620&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2160x1620.png?-525914264&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1536x2048&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-1536x2048.png?713310212&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2048x1536&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2048x1536.png?1750378074&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1284x2778&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1284x2778.png?1984992155&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2778x1284&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2778x1284.png?389448020&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1170x2532&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1170x2532.png?-743684054&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2532x1170&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2532x1170.png?2114630635&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1125x2436&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1125x2436.png?-688834165&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2436x1125&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2436x1125.png?-221066565&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1242x2688&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1242x2688.png?-313405698&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2688x1242&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2688x1242.png?20506735&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;828x1792&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-828x1792.png?1276193420&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1792x828&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-1792x828.png?1725405299&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1242x2208&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1242x2208.png?1508207887&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2208x1242&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2208x1242.png?-167637239&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;750x1334&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-750x1334.png?-1346703542&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1334x750&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-1334x750.png?-1196513029&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;640x1136&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-640x1136.png?893776263&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1136x640&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-1136x640.png?-1834685424&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;script&gt;if (&#39;serviceWorker&#39; in navigator) {\r\n  window.addEventListener(&#39;load&#39;, function() {\r\n    navigator.serviceWorker.register(&#39;sw.js&#39;)\r\n  });\r\n}&lt;/script&gt;\r\n &lt;/head&gt;\r\n &lt;body&gt;&lt;!-- This outlet div is where the views are rendered --&gt;\r\n  &lt;div id=&quot;outlet&quot;&gt;&lt;/div&gt;\r\n  &lt;script&gt;window.Vaadin = window.Vaadin || {};\r\nwindow.Vaadin.registrations = window.Vaadin.registrations || [];\r\nwindow.Vaadin.registrations.push({&quot;is&quot;:&quot;flow/SpringInstantiator&quot;,&quot;version&quot;:&quot;23.3.0.alpha1&quot;},{&quot;is&quot;:&quot;routing/server&quot;,&quot;version&quot;:&quot;23.3.0.alpha1&quot;},{&quot;is&quot;:&quot;flow/AtmospherePushConnection&quot;,&quot;version&quot;:&quot;2.7.3.slf4jvaadin4&quot;},{&quot;is&quot;:&quot;java&quot;,&quot;version&quot;:&quot;17.0.5&quot;});&lt;/script&gt;&lt;vaadin-dev-tools url=&quot;&quot; springbootlivereloadport=&quot;35729&quot;&gt;&lt;/vaadin-dev-tools&gt;\r\n &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nI tried using code examples from Stackoverflow and the official Vaadin forum, as well as examples from Github and other places. But I found no example or description that would fit my requirements as having both &quot;:8080/project/ui/*&quot; and &quot;:8080/project/api/*&quot; working together.\r\n\r\nCould anyone possibly point me in the right direction please?\r\n","title":"Vaadin 23 Rest-API and UI in Spring Boot app","body":"<p>I've developed a small application with Vaadin 23.3.5. Until now I only used Spring Boot Security in combination with the default LoginView to authenticate and then use the MainLayout to navigate through my application. But now I require the possibility to access certain informations from outside the app. So the best way to do that would be to implement a REST-API.</p>\n<p>But no matter what I try, I just can't seem to get it working. I read that I should not use JAX-RS with Spring Boot applications when I want to have stateless webservices, so I tried to stick with libraries offered by Spring. I also tried to integrate working examples from other people into my application, but none of them worked for me.</p>\n<p>I want to have some configuration, when I use http://localhost:8080/project/ui, then I can access my view layer (i.e. LoginView), but when I use http://localhost:8080/project/api, I want to be able to call my webservices.</p>\n<p>in my applicatoin.properties, I declared &quot;/project&quot; to be my context-path and &quot;/ui/*&quot; to be my urlMapping like this:</p>\n<pre><code>server.servlet.context-path=/project\nserver.port=${PORT:8080}\n\nvaadin.urlMapping=/ui/*\nvaadin.excludeUrls=/api/**\n</code></pre>\n<p>My configuration used in my class extending from VaadinWebSecurity:</p>\n<pre><code>@Override\n    protected void configure(HttpSecurity http) throws Exception {\n        super.configure(http);\n        setLoginView(http, LoginView.class, LOGOUT_SUCCESS_URL);\n\n        this.applyUrlMapping(&quot;api&quot;);\n\n        http.rememberMe().key(&quot;ABC&quot;)\n            .tokenValiditySeconds(2 * 24 * 60 * 60)\n            .userDetailsService(this.userDetailsService);\n        http.logout()\n            .invalidateHttpSession(true)\n            .deleteCookies(&quot;JSESSIONID&quot;, &quot;remember-me&quot;);\n    }\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        super.configure(web);\n        web.ignoring().antMatchers(&quot;/images/*.png&quot;);\n    }\n</code></pre>\n<p>and finally my Controller class I want to access via postman:</p>\n<pre><code>@RequestMapping(&quot;/test&quot;)\n@RestController()\npublic class TestRestController {\n\n\n    @GetMapping(&quot;/hello&quot;)\npublic String hello() {\nreturn &quot;Hello World!&quot;;\n    }\n\n}\n</code></pre>\n<p>It seems like I can access the &quot;hello&quot;-method when using http://localhost:8080/project/test/hello in my browser, but there are two things not working:</p>\n<ol>\n<li>the &quot;/api/*&quot; path is not recognized</li>\n<li>(this is more critical) when I use postman to access the same resource, I can some auto-generated doc as response instead of &quot;Hello World&quot;...</li>\n</ol>\n<pre><code>&lt;!doctype html&gt;&lt;!--\nThis file is auto-generated by Vaadin.\n--&gt;\n&lt;html lang=&quot;en&quot;&gt;\n &lt;head&gt;\n  &lt;script initial=&quot;&quot;&gt;window.Vaadin = window.Vaadin || {};window.Vaadin.VaadinLicenseChecker = {  maybeCheck: (productInfo) =&gt; {  }};window.Vaadin.devTools = window.Vaadin.devTools || {};window.Vaadin.devTools.createdCvdlElements = window.Vaadin.devTools.createdCvdlElements || [];const originalCustomElementDefineFn = window.customElements.define;window.customElements.define = function (tagName, constructor, ...args) {const { cvdlName, version } = constructor;if (cvdlName &amp;&amp; version) {  const { connectedCallback } = constructor.prototype;  constructor.prototype.connectedCallback = function () {    window.Vaadin.devTools.createdCvdlElements.push(this);    if (connectedCallback) {      connectedCallback.call(this);    }  }}originalCustomElementDefineFn.call(this, tagName, constructor, ...args);};&lt;/script&gt;\n  &lt;script initial=&quot;&quot;&gt;window.Vaadin = window.Vaadin || {};window.Vaadin.ConsoleErrors = window.Vaadin.ConsoleErrors || [];const browserConsoleError = window.console.error.bind(window.console);console.error = (...args) =&gt; {    browserConsoleError(...args);    window.Vaadin.ConsoleErrors.push(args);};window.onerror = (message, source, lineno, colno, error) =&gt; {const location=source+':'+lineno+':'+colno;window.Vaadin.ConsoleErrors.push([message, '('+location+')']);};window.addEventListener('unhandledrejection', e =&gt; {    window.Vaadin.ConsoleErrors.push([e.reason]);});&lt;/script&gt;\n  &lt;script initial=&quot;&quot;&gt;window.Vaadin = window.Vaadin || {};window.Vaadin.TypeScript= {};&lt;/script&gt;\n  &lt;meta name=&quot;_csrf_parameter&quot; content=&quot;_csrf&quot;&gt;\n  &lt;meta name=&quot;_csrf_header&quot; content=&quot;X-CSRF-TOKEN&quot;&gt;\n  &lt;meta name=&quot;_csrf&quot; content=&quot;df39cb78-0c37-4125-8d87-68e986050db5&quot;&gt;&lt;base href=&quot;.&quot;&gt;\n  &lt;script type=&quot;text/javascript&quot;&gt;window.JSCompiler_renameProperty = function(a) { return a;}&lt;/script&gt;\n  &lt;script type=&quot;module&quot;&gt;import { inject } from &quot;/project/ui/VAADIN/@vite-plugin-checker-runtime&quot;;\ninject({\n  overlayConfig: {},\n  base: &quot;/project/ui/VAADIN/&quot;,\n});&lt;/script&gt;\n  &lt;script type=&quot;module&quot; src=&quot;/project/ui/VAADIN/@vite/client&quot;&gt;&lt;/script&gt;\n  &lt;meta charset=&quot;UTF-8&quot;&gt;\n  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\n  &lt;style&gt;\n    body, #outlet {\n      height: 100vh;\n      width: 100%;\n      margin: 0;\n    }\n  &lt;/style&gt; &lt;!-- index.ts is included here automatically (either by the dev server or during the build) --&gt;\n  &lt;script type=&quot;module&quot; src=&quot;/project/ui/VAADIN/generated/vite-devmode.ts&quot;&gt;&lt;/script&gt;\n  &lt;script type=&quot;module&quot; src=&quot;/project/ui/VAADIN/generated/vaadin.ts&quot;&gt;&lt;/script&gt;\n  &lt;style&gt;.v-reconnect-dialog,.v-system-error {position: absolute;color: black;background: white;top: 1em;right: 1em;border: 1px solid black;padding: 1em;z-index: 10000;max-width: calc(100vw - 4em);max-height: calc(100vh - 4em);overflow: auto;} .v-system-error {color: indianred;pointer-events: auto;} .v-system-error h3, .v-system-error b {color: red;}&lt;/style&gt;\n  &lt;style&gt;[hidden] { display: none !important; }&lt;/style&gt;\n  &lt;meta name=&quot;apple-mobile-web-app-capable&quot; content=&quot;yes&quot;&gt;\n  &lt;meta name=&quot;mobile-web-app-capable&quot; content=&quot;yes&quot;&gt;\n  &lt;meta name=&quot;apple-touch-fullscreen&quot; content=&quot;yes&quot;&gt;\n  &lt;meta name=&quot;apple-mobile-web-app-title&quot; content=&quot;project&quot;&gt;\n  &lt;meta name=&quot;theme-color&quot; content=&quot;#ffffff&quot;&gt;\n  &lt;meta name=&quot;apple-mobile-web-app-status-bar-style&quot; content=&quot;#ffffff&quot;&gt;\n  &lt;link rel=&quot;manifest&quot; href=&quot;manifest.webmanifest&quot;&gt;\n  &lt;link sizes=&quot;16x16&quot; rel=&quot;shortcut icon&quot; href=&quot;icons/icon-16x16.png&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;32x32&quot; rel=&quot;icon&quot; href=&quot;icons/icon-32x32.png&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;96x96&quot; rel=&quot;icon&quot; href=&quot;icons/icon-96x96.png?1713631522&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;180x180&quot; rel=&quot;apple-touch-icon&quot; href=&quot;icons/icon-180x180.png?-533695959&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2048x2732&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-2048x2732.png?-1201942874&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2732x2048&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2732x2048.png?266277477&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1668x2388&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-1668x2388.png?-1539431919&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2388x1668&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2388x1668.png?598404288&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1668x2224&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-1668x2224.png?1678662124&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2224x1668&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2224x1668.png?746534339&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1620x2160&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-1620x2160.png?-770300885&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2160x1620&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2160x1620.png?-525914264&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1536x2048&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-1536x2048.png?713310212&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2048x1536&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2048x1536.png?1750378074&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1284x2778&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1284x2778.png?1984992155&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2778x1284&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2778x1284.png?389448020&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1170x2532&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1170x2532.png?-743684054&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2532x1170&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2532x1170.png?2114630635&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1125x2436&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1125x2436.png?-688834165&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2436x1125&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2436x1125.png?-221066565&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1242x2688&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1242x2688.png?-313405698&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2688x1242&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2688x1242.png?20506735&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;828x1792&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-828x1792.png?1276193420&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1792x828&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-1792x828.png?1725405299&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1242x2208&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1242x2208.png?1508207887&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2208x1242&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2208x1242.png?-167637239&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;750x1334&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-750x1334.png?-1346703542&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1334x750&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-1334x750.png?-1196513029&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;640x1136&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-640x1136.png?893776263&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1136x640&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-1136x640.png?-1834685424&quot; type=&quot;image/png&quot;&gt;\n  &lt;script&gt;if ('serviceWorker' in navigator) {\n  window.addEventListener('load', function() {\n    navigator.serviceWorker.register('sw.js')\n  });\n}&lt;/script&gt;\n &lt;/head&gt;\n &lt;body&gt;&lt;!-- This outlet div is where the views are rendered --&gt;\n  &lt;div id=&quot;outlet&quot;&gt;&lt;/div&gt;\n  &lt;script&gt;window.Vaadin = window.Vaadin || {};\nwindow.Vaadin.registrations = window.Vaadin.registrations || [];\nwindow.Vaadin.registrations.push({&quot;is&quot;:&quot;flow/SpringInstantiator&quot;,&quot;version&quot;:&quot;23.3.0.alpha1&quot;},{&quot;is&quot;:&quot;routing/server&quot;,&quot;version&quot;:&quot;23.3.0.alpha1&quot;},{&quot;is&quot;:&quot;flow/AtmospherePushConnection&quot;,&quot;version&quot;:&quot;2.7.3.slf4jvaadin4&quot;},{&quot;is&quot;:&quot;java&quot;,&quot;version&quot;:&quot;17.0.5&quot;});&lt;/script&gt;&lt;vaadin-dev-tools url=&quot;&quot; springbootlivereloadport=&quot;35729&quot;&gt;&lt;/vaadin-dev-tools&gt;\n &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I tried using code examples from Stackoverflow and the official Vaadin forum, as well as examples from Github and other places. But I found no example or description that would fit my requirements as having both &quot;:8080/project/ui/<em>&quot; and &quot;:8080/project/api/</em>&quot; working together.</p>\n<p>Could anyone possibly point me in the right direction please?</p>\n"},{"tags":["java","selenium-webdriver","intellij-idea","testng"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1678984219,"post_id":75758526,"comment_id":133642840,"body_markdown":"So what is the issue? Are you getting any error message or any failure?","body":"So what is the issue? Are you getting any error message or any failure?"},{"owner":{"account_id":18987793,"reputation":1,"user_id":13857683,"display_name":"Denis Kuznecow"},"score":0,"creation_date":1678986439,"post_id":75758526,"comment_id":133643515,"body_markdown":"I am getting an error when running the test method setUp and i can&#39;t solve it. do you need any additional information?","body":"I am getting an error when running the test method setUp and i can&#39;t solve it. do you need any additional information?"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1678992639,"post_id":75758526,"comment_id":133645337,"body_markdown":"&quot;WebDriver driver = new ChromeDriver();&quot; creates a new in-method-scope instance of &quot;driver&quot;.  Try with:  driver = new ChromeDriver();  (I&#39;m also assuming the duplicate properties for driver and loginPage are a typo?)","body":"&quot;WebDriver driver = new ChromeDriver();&quot; creates a new in-method-scope instance of &quot;driver&quot;.  Try with:  driver = new ChromeDriver();  (I&#39;m also assuming the duplicate properties for driver and loginPage are a typo?)"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1678996428,"post_id":75758526,"comment_id":133646232,"body_markdown":"@DenisKuznecow which error? Is it compilation error or runtime error. What do you expect vs what you actually get.","body":"@DenisKuznecow which error? Is it compilation error or runtime error. What do you expect vs what you actually get."},{"owner":{"account_id":18987793,"reputation":1,"user_id":13857683,"display_name":"Denis Kuznecow"},"score":0,"creation_date":1679031761,"post_id":75758526,"comment_id":133651328,"body_markdown":"Alexey R.\nerror output &quot;Method SetUp requires 1 parameters but 0 were supplied in the @Configuration annotation.&quot; in run terminal Intelligence idea","body":"Alexey R. error output &quot;Method SetUp requires 1 parameters but 0 were supplied in the @Configuration annotation.&quot; in run terminal Intelligence idea"},{"owner":{"account_id":18987793,"reputation":1,"user_id":13857683,"display_name":"Denis Kuznecow"},"score":0,"creation_date":1679031908,"post_id":75758526,"comment_id":133651343,"body_markdown":"pcalkins\n&quot;I&#39;m also assuming the duplicate properties for driver and loginPage are a typo&quot; - Yes. I defined it in another class С: driver = new ChromeDriver();","body":"pcalkins &quot;I&#39;m also assuming the duplicate properties for driver and loginPage are a typo&quot; - Yes. I defined it in another class С: driver = new ChromeDriver();"}],"owner":{"account_id":18987793,"reputation":1,"user_id":13857683,"display_name":"Denis Kuznecow"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678981686,"creation_date":1678981686,"question_id":75758526,"body_markdown":"\r\n    package TestCart;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import static org.testng.Assert.assertEquals;\r\n    \r\n    import org.testng.annotations.BeforeTest;\r\n    import static org.testng.Assert.assertTrue;\r\n    \r\n    import org.testng.annotations.Test;\r\n    \r\n    \r\n    public class LoginEnter {\r\n    \r\n        private WebDriver driver;\r\n        private LoginPage loginPage;\r\n    \r\n    private WebDriver driver;\r\n    private LoginPage loginPage;\r\n\r\n    @BeforeTest\r\n    public void setUp() {\r\n        WebDriver driver = new ChromeDriver();\r\n        loginPage = new LoginPage(driver);\r\n    \r\n    }\r\n    \r\n    @Test\r\n    public void successfulLoginTest() {\r\n    \r\n    loginPage.open();\r\n        assertTrue(loginPage.atPage());\r\n        loginPage.enterUserName(&quot;standard_user&quot;);\r\n        loginPage.enterPassword(&quot;secret_sauce&quot;);\r\n        loginPage.clickLogin();\r\n    \r\n    }\r\n    \r\n    @Test\r\n    public void wrongPasswordLoginTest() {\r\n    \r\n    loginPage.open();\r\n        assertTrue(loginPage.atPage());\r\n        loginPage.enterUserName(&quot;standard_user&quot;);\r\n        loginPage.enterPassword(&quot;secret_sauce&quot;);\r\n        loginPage.clickLogin();\r\n    \r\n    }\r\n    \r\n    @Test\r\n    public void wrongLoginNameLoginTest() {\r\n        driver.get(&quot;https://saucedemo.com&quot;);\r\n        driver.findElement(By.id(&quot;//*[@id=\\&quot;user-name\\&quot;]&quot;)).sendKeys(&quot;test&quot;);\r\n        driver.findElement(By.id(&quot;//*[@id=\\\\\\&quot;password\\\\\\&quot;]\\&quot;&quot;)).sendKeys(&quot;test&quot;);\r\n        assertEquals(&quot;Home Page&quot;, driver.getTitle());\r\n    }\r\n    }\r\n\r\nI tried to rewrite the code, change the test logs, turned to neural networks and this is what they gave me\r\n\r\n**The code block shown is a setup method which initializes the \\`driver\\` object as \\`ChromeDriver\\` and \\`loginPage\\` object as \\`LoginPage\\` with the \\`driver\\`. Without additional context or the complete code, it is not possible to say whether there is any mistake in this setup code. However, it is important to ensure that the necessary Selenium and ChromeDriver imports are added at the top of the file and that \\`loginPage\\` has been properly defined and is accessible within the test class.**\r\n\r\nI tried to rewrite the code and change the dependencies of the method, although the build builds normally[enter image description here](https://i.stack.imgur.com/gZIhw.png)","title":"error when running test on public void method when defining driver","body":"<pre><code>package TestCart;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport static org.testng.Assert.assertEquals;\n\nimport org.testng.annotations.BeforeTest;\nimport static org.testng.Assert.assertTrue;\n\nimport org.testng.annotations.Test;\n\n\npublic class LoginEnter {\n\n    private WebDriver driver;\n    private LoginPage loginPage;\n\nprivate WebDriver driver;\nprivate LoginPage loginPage;\n\n@BeforeTest\npublic void setUp() {\n    WebDriver driver = new ChromeDriver();\n    loginPage = new LoginPage(driver);\n\n}\n\n@Test\npublic void successfulLoginTest() {\n\nloginPage.open();\n    assertTrue(loginPage.atPage());\n    loginPage.enterUserName(&quot;standard_user&quot;);\n    loginPage.enterPassword(&quot;secret_sauce&quot;);\n    loginPage.clickLogin();\n\n}\n\n@Test\npublic void wrongPasswordLoginTest() {\n\nloginPage.open();\n    assertTrue(loginPage.atPage());\n    loginPage.enterUserName(&quot;standard_user&quot;);\n    loginPage.enterPassword(&quot;secret_sauce&quot;);\n    loginPage.clickLogin();\n\n}\n\n@Test\npublic void wrongLoginNameLoginTest() {\n    driver.get(&quot;https://saucedemo.com&quot;);\n    driver.findElement(By.id(&quot;//*[@id=\\&quot;user-name\\&quot;]&quot;)).sendKeys(&quot;test&quot;);\n    driver.findElement(By.id(&quot;//*[@id=\\\\\\&quot;password\\\\\\&quot;]\\&quot;&quot;)).sendKeys(&quot;test&quot;);\n    assertEquals(&quot;Home Page&quot;, driver.getTitle());\n}\n}\n</code></pre>\n<p>I tried to rewrite the code, change the test logs, turned to neural networks and this is what they gave me</p>\n<p><strong>The code block shown is a setup method which initializes the `driver` object as `ChromeDriver` and `loginPage` object as `LoginPage` with the `driver`. Without additional context or the complete code, it is not possible to say whether there is any mistake in this setup code. However, it is important to ensure that the necessary Selenium and ChromeDriver imports are added at the top of the file and that `loginPage` has been properly defined and is accessible within the test class.</strong></p>\n<p>I tried to rewrite the code and change the dependencies of the method, although the build builds normally<a href=\"https://i.stack.imgur.com/gZIhw.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","google-chrome","selenium-webdriver","testing","captcha"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676649806,"post_id":75485955,"comment_id":133186003,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":1669643,"reputation":526,"user_id":1536343,"display_name":"Je Je"},"score":0,"creation_date":1678983893,"post_id":75485955,"comment_id":133642732,"body_markdown":"alternatively, there is a google api to interact with gmail etc, to circonvent this problem..","body":"alternatively, there is a google api to interact with gmail etc, to circonvent this problem.."}],"answers":[{"tags":[],"owner":{"account_id":2156954,"reputation":5870,"user_id":1911941,"accept_rate":100,"display_name":"ELITE"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678981510,"creation_date":1678981510,"answer_id":75758492,"question_id":75485955,"body_markdown":"**There are two ways to do this.**\r\n\r\n\r\n1) Take screenshot of the captcha image web element and try to find the text inside the image using `tesseract` which uses `OCR` technique to get text from image.\r\n2) Use third party service like Fast Captcha ([How to bypass image captcha using java selenium automation][1]), which gives you the text from image and you have to paste it in the captcha text box.\r\n\r\n&gt;The question I have is, what do you want to achieve by logging into google account using selenium? Google provides various APIs to use their services.\r\n\r\n\r\n  [1]: https://thedataextractors.com/how-to-bypass-image-captcha-using-selenium-java.html","title":"Google login using Selenium (CAPTCHA appears only in CI)","body":"<p><strong>There are two ways to do this.</strong></p>\n<ol>\n<li>Take screenshot of the captcha image web element and try to find the text inside the image using <code>tesseract</code> which uses <code>OCR</code> technique to get text from image.</li>\n<li>Use third party service like Fast Captcha (<a href=\"https://thedataextractors.com/how-to-bypass-image-captcha-using-selenium-java.html\" rel=\"nofollow noreferrer\">How to bypass image captcha using java selenium automation</a>), which gives you the text from image and you have to paste it in the captcha text box.</li>\n</ol>\n<blockquote>\n<p>The question I have is, what do you want to achieve by logging into google account using selenium? Google provides various APIs to use their services.</p>\n</blockquote>\n"}],"owner":{"account_id":27812645,"reputation":11,"user_id":21234744,"display_name":"AnisCht"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678981510,"creation_date":1676646288,"question_id":75485955,"body_markdown":"I write a test using Selenium WebDriver (JAVA) to do an authentification on a google account. It&#39;s work in local but not in the CI. When I run the test on a CI , it gets a CAPTCHA as seen in the screenshot below. I don&#39;t know how to bypass the captcha or solve this issue.\r\n\r\n[![enter image description here][1]][1]\r\n\r\ni try some solutions find on this website but without success\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5mQkIm.png","title":"Google login using Selenium (CAPTCHA appears only in CI)","body":"<p>I write a test using Selenium WebDriver (JAVA) to do an authentification on a google account. It's work in local but not in the CI. When I run the test on a CI , it gets a CAPTCHA as seen in the screenshot below. I don't know how to bypass the captcha or solve this issue.</p>\n<p><a href=\"https://i.stack.imgur.com/5mQkIm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5mQkIm.png\" alt=\"enter image description here\" /></a></p>\n<p>i try some solutions find on this website but without success</p>\n"},{"tags":["java","kotlin","spring-webflux"],"owner":{"account_id":18476555,"reputation":517,"user_id":13459947,"display_name":"Violetta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678981487,"creation_date":1678981487,"question_id":75758490,"body_markdown":"I&#39;m just studying Project Reactor and trying to save several lists to the database. Is there any way to remove the &#39;map&#39; method? Or will the code of the &#39;saveAll&#39; method be executed asynchronously and the costs of synchronous map traversal will be minimal?\r\nCan I improve this code somehow?\r\n\r\n```\r\nclass CarService(val repository: CarRepository) {\r\n\r\n    fun saveAll(cars: Map&lt;Int, List&lt;Car&gt;&gt;): Flux&lt;String&gt; {\r\n        return Flux.concat(cars.map { entry -&gt;\r\n            repository.saveAll(entry.key, entry.value)\r\n                .onErrorResume {\r\n                    print(&quot;Error&quot;)\r\n                    Mono.empty()\r\n                }\r\n        })\r\n    }\r\n}\r\n\r\nclass Car\r\n\r\nclass CarRepository(databaseClient: DatabaseClient) {\r\n    //...\r\n    \r\n    fun saveAll(num: Int, cars: List&lt;Car&gt;): Flux&lt;String&gt; {\r\n        return databaseClient.inConnectionMany { connection -&gt;\r\n            val statement = connection.createStatement(sqlQuery)\r\n                .returnGeneratedValues(&quot;id&quot;)\r\n            cars.forEachIndexed { i, car -&gt;statement.bind(i, car).add()}\r\n            Flux.from(statement.execute())\r\n                .flatMap{result -&gt; result.map { row, rowMetadata -&gt; row.get(&quot;id&quot;, String::class.java)} }\r\n        }\r\n    }\r\n}\r\n```","title":"Saving multiple lists to a database using reactive (Spring Reactor)","body":"<p>I'm just studying Project Reactor and trying to save several lists to the database. Is there any way to remove the 'map' method? Or will the code of the 'saveAll' method be executed asynchronously and the costs of synchronous map traversal will be minimal?\nCan I improve this code somehow?</p>\n<pre><code>class CarService(val repository: CarRepository) {\n\n    fun saveAll(cars: Map&lt;Int, List&lt;Car&gt;&gt;): Flux&lt;String&gt; {\n        return Flux.concat(cars.map { entry -&gt;\n            repository.saveAll(entry.key, entry.value)\n                .onErrorResume {\n                    print(&quot;Error&quot;)\n                    Mono.empty()\n                }\n        })\n    }\n}\n\nclass Car\n\nclass CarRepository(databaseClient: DatabaseClient) {\n    //...\n    \n    fun saveAll(num: Int, cars: List&lt;Car&gt;): Flux&lt;String&gt; {\n        return databaseClient.inConnectionMany { connection -&gt;\n            val statement = connection.createStatement(sqlQuery)\n                .returnGeneratedValues(&quot;id&quot;)\n            cars.forEachIndexed { i, car -&gt;statement.bind(i, car).add()}\n            Flux.from(statement.execute())\n                .flatMap{result -&gt; result.map { row, rowMetadata -&gt; row.get(&quot;id&quot;, String::class.java)} }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","pdf","pdfbox"],"comments":[{"owner":{"account_id":11524089,"reputation":161,"user_id":8445079,"display_name":"Paolino L Angeletti"},"score":0,"creation_date":1678981456,"post_id":75758376,"comment_id":133641963,"body_markdown":"to solve the first point is to understand what uri.getPath() returns. try to run in debug or putting a log and read what the instruction return.\ni tell this because File pdf = new File(uri.getPath()); should be correct.","body":"to solve the first point is to understand what uri.getPath() returns. try to run in debug or putting a log and read what the instruction return. i tell this because File pdf = new File(uri.getPath()); should be correct."},{"owner":{"account_id":18982820,"reputation":13,"user_id":18290206,"display_name":"Bastian"},"score":0,"creation_date":1678983368,"post_id":75758376,"comment_id":133642554,"body_markdown":"So the log gives me &quot;/document/document:1000000018&quot; which kinda looks wrong to me as a file path idk. I also figured out know what uri even is (I remembered websites xD) but still the problem remains. You are right there is no problem with the new File(uri.getPath()); but I do not really get the error at the fis. Do I have to save the File somewhere or something like this?","body":"So the log gives me &quot;/document/document:1000000018&quot; which kinda looks wrong to me as a file path idk. I also figured out know what uri even is (I remembered websites xD) but still the problem remains. You are right there is no problem with the new File(uri.getPath()); but I do not really get the error at the fis. Do I have to save the File somewhere or something like this?"}],"answers":[{"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1678983435,"post_id":75758486,"comment_id":133642576,"body_markdown":"Just to empasize here-  a picker doesn&#39;t have to return a file.  It returns a URI, because the content may not be a file-  it could be a result returned by an app with a content provider.  Except in very specific circumstances you can&#39;t assume file, so use the content resolver APIs.","body":"Just to empasize here-  a picker doesn&#39;t have to return a file.  It returns a URI, because the content may not be a file-  it could be a result returned by an app with a content provider.  Except in very specific circumstances you can&#39;t assume file, so use the content resolver APIs."},{"owner":{"account_id":18982820,"reputation":13,"user_id":18290206,"display_name":"Bastian"},"score":0,"creation_date":1678983443,"post_id":75758486,"comment_id":133642579,"body_markdown":"Thank you it kind of worked but now I got an error at the PDDocument document = PDDocument.load(fis); line.","body":"Thank you it kind of worked but now I got an error at the PDDocument document = PDDocument.load(fis); line."},{"owner":{"account_id":18982820,"reputation":13,"user_id":18290206,"display_name":"Bastian"},"score":0,"creation_date":1678983806,"post_id":75758486,"comment_id":133642704,"body_markdown":"It is a ClassNotFoundException because java.lang.NoClassDefFoundError: Failed resolution of: Ljava/awt/Point;. I am new to pdfbox, could there be the problem?","body":"It is a ClassNotFoundException because java.lang.NoClassDefFoundError: Failed resolution of: Ljava/awt/Point;. I am new to pdfbox, could there be the problem?"},{"owner":{"account_id":18982820,"reputation":13,"user_id":18290206,"display_name":"Bastian"},"score":0,"creation_date":1678987124,"post_id":75758486,"comment_id":133643703,"body_markdown":"So yeah, the version of pdfbox didnt work with gradle, but I fixed it now and it works thanks!","body":"So yeah, the version of pdfbox didnt work with gradle, but I fixed it now and it works thanks!"}],"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678981473,"creation_date":1678981473,"answer_id":75758486,"question_id":75758376,"body_markdown":"No. Uri.getPath() does not give you a path to a file.\r\n\r\nYou got a nice uri and that uri gives you access to the file.\r\n\r\nUri.toString() shows you the content scheme.\r\n\r\nJust open an InputStream for the obtained uri.\r\n\r\nThe rest is the same as with FileInputStream.\r\n\r\n    InputStream is = getContentResolver().openInputStream(uri);","title":"Extract text from pdf java android","body":"<p>No. Uri.getPath() does not give you a path to a file.</p>\n<p>You got a nice uri and that uri gives you access to the file.</p>\n<p>Uri.toString() shows you the content scheme.</p>\n<p>Just open an InputStream for the obtained uri.</p>\n<p>The rest is the same as with FileInputStream.</p>\n<pre><code>InputStream is = getContentResolver().openInputStream(uri);\n</code></pre>\n"}],"owner":{"account_id":18982820,"reputation":13,"user_id":18290206,"display_name":"Bastian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75758486,"answer_count":1,"score":1,"last_activity_date":1678981473,"creation_date":1678980901,"question_id":75758376,"body_markdown":"I&#39;m trying to extract the raw text from a pdf file with android studio java (api 26 min and api33 is the emulator) and apache pdfbox\r\n\r\nThis is my code. There seems to be a problem with converting a uri to an ordinary file, because I get a FileNotFoundException error in this line &quot;FileInputStream fis = new FileInputStream(pdf);&quot;. I&#39;m not 100% sure if uri.getPath() really gives me the path I need for a file.\r\n\r\nThanks for any help\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    ActivityResultLauncher&lt;Intent&gt; resultLauncher;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        resultLauncher = registerForActivityResult(\r\n                new ActivityResultContracts.StartActivityForResult(),\r\n                result -&gt; {\r\n                    if (result.getResultCode() == Activity.RESULT_OK) {\r\n                        Intent data = result.getData();\r\n                        Uri uri = data.getData();\r\n                        try {\r\n                            readTextFromPDF(uri);\r\n                        } catch (IOException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                    }\r\n                });\r\n    }\r\n    public void chooseFile(View view) {\r\n        Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\r\n        intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n        intent.setType(&quot;application/pdf&quot;);\r\n        resultLauncher.launch(intent);\r\n    }\r\n\r\n    private void readTextFromPDF(Uri uri) throws IOException {\r\n        File pdf = new File(uri.getPath());\r\n        FileInputStream fis = new FileInputStream(pdf);\r\n\r\n        PDDocument document = PDDocument.load(fis);\r\n        PDFTextStripper pdfTextStripper = new PDFTextStripper();\r\n        String text = pdfTextStripper.getText(document);\r\n\r\n        TextView textView = findViewById(R.id.test);\r\n        textView.setText(text);\r\n\r\n        document.close();\r\n        fis.close();\r\n    }\r\n\r\n\r\n}\r\n```\r\n","title":"Extract text from pdf java android","body":"<p>I'm trying to extract the raw text from a pdf file with android studio java (api 26 min and api33 is the emulator) and apache pdfbox</p>\n<p>This is my code. There seems to be a problem with converting a uri to an ordinary file, because I get a FileNotFoundException error in this line &quot;FileInputStream fis = new FileInputStream(pdf);&quot;. I'm not 100% sure if uri.getPath() really gives me the path I need for a file.</p>\n<p>Thanks for any help</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    ActivityResultLauncher&lt;Intent&gt; resultLauncher;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        resultLauncher = registerForActivityResult(\n                new ActivityResultContracts.StartActivityForResult(),\n                result -&gt; {\n                    if (result.getResultCode() == Activity.RESULT_OK) {\n                        Intent data = result.getData();\n                        Uri uri = data.getData();\n                        try {\n                            readTextFromPDF(uri);\n                        } catch (IOException e) {\n                            throw new RuntimeException(e);\n                        }\n                    }\n                });\n    }\n    public void chooseFile(View view) {\n        Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\n        intent.addCategory(Intent.CATEGORY_OPENABLE);\n        intent.setType(&quot;application/pdf&quot;);\n        resultLauncher.launch(intent);\n    }\n\n    private void readTextFromPDF(Uri uri) throws IOException {\n        File pdf = new File(uri.getPath());\n        FileInputStream fis = new FileInputStream(pdf);\n\n        PDDocument document = PDDocument.load(fis);\n        PDFTextStripper pdfTextStripper = new PDFTextStripper();\n        String text = pdfTextStripper.getText(document);\n\n        TextView textView = findViewById(R.id.test);\n        textView.setText(text);\n\n        document.close();\n        fis.close();\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","excel","apache-poi","xlsx"],"comments":[{"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"score":0,"creation_date":1678976490,"post_id":75757544,"comment_id":133640264,"body_markdown":"can you share the code","body":"can you share the code"},{"owner":{"account_id":21076034,"reputation":13,"user_id":15491446,"display_name":"insane"},"score":0,"creation_date":1678977486,"post_id":75757544,"comment_id":133640607,"body_markdown":"updated post by adding code sample","body":"updated post by adding code sample"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1678981820,"post_id":75757544,"comment_id":133642080,"body_markdown":"Does this answer your question? [How can I access password protected Excel workbook in Java using POI api](https://stackoverflow.com/questions/3042694/how-can-i-access-password-protected-excel-workbook-in-java-using-poi-api)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3042694/how-can-i-access-password-protected-excel-workbook-in-java-using-poi-api\">How can I access password protected Excel workbook in Java using POI api</a>"}],"owner":{"account_id":21076034,"reputation":13,"user_id":15491446,"display_name":"insane"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678981439,"creation_date":1678976405,"question_id":75757544,"body_markdown":"I have an excel file with table which cells are locked. I want to insert a new row between existing locked rows, but with editing abilities. Is it able in Apache POI?\r\n\r\nI tried to use many different sheet protection options\r\n\r\nExample of code:\r\n\r\n    var book = new SXSSFWorkbook();\r\n    var sheet = book.createSheet(SHEET_NAME);\r\n    sheet.protectSheet(&quot;password&quot;);\r\n    var unlockedStyle = book.createCellStyle();\r\n    unlockedStyle.setLocked(false);\r\n    \r\n    var lockedStyle = book.createCellStyle();\r\n    lockedStyle.setLocked(true);\r\n    \r\n    for (int rowNum = 0; rowNum &lt; 20; rowNum++) {\r\n\t    var row = sheet.createRow(rowNum);\r\n\t    for (int colNum = 0; colNum &lt; 10; colNum++) {\r\n\t\t    var cell = row.createCell(colNum);\r\n\t\t    cell.setCellStyle(lockedStyle);\r\n\t    }\r\n    }\r\n    \r\n    for (int colNum = 0; colNum &lt; 10; colNum++) {\r\n\t    sheet.setDefaultColumnStyle(colNum, unlockedStyle);\r\n    }","title":"Apache POI. Insert an editing row between locked rows","body":"<p>I have an excel file with table which cells are locked. I want to insert a new row between existing locked rows, but with editing abilities. Is it able in Apache POI?</p>\n<p>I tried to use many different sheet protection options</p>\n<p>Example of code:</p>\n<pre><code>var book = new SXSSFWorkbook();\nvar sheet = book.createSheet(SHEET_NAME);\nsheet.protectSheet(&quot;password&quot;);\nvar unlockedStyle = book.createCellStyle();\nunlockedStyle.setLocked(false);\n\nvar lockedStyle = book.createCellStyle();\nlockedStyle.setLocked(true);\n\nfor (int rowNum = 0; rowNum &lt; 20; rowNum++) {\n    var row = sheet.createRow(rowNum);\n    for (int colNum = 0; colNum &lt; 10; colNum++) {\n        var cell = row.createCell(colNum);\n        cell.setCellStyle(lockedStyle);\n    }\n}\n\nfor (int colNum = 0; colNum &lt; 10; colNum++) {\n    sheet.setDefaultColumnStyle(colNum, unlockedStyle);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","junit"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1678388660,"post_id":75688841,"comment_id":133527641,"body_markdown":"Private methods are part of the implementation. They are not unit tested. Or, more accurately, they are unit tested indirectly by unit testing the public methods which rely on the private methods.","body":"Private methods are part of the implementation. They are not unit tested. Or, more accurately, they are unit tested indirectly by unit testing the public methods which rely on the private methods."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1678397141,"post_id":75688841,"comment_id":133529581,"body_markdown":"Regarding your edit: If a downstream application detected the issue, then presumably there is some sort of state involved that you could test for in the unit test. In other words, that `extras` call must have a visible side-effect that you can make assertions about.","body":"Regarding your edit: If a downstream application detected the issue, then presumably there is some sort of state involved that you could test for in the unit test. In other words, that <code>extras</code> call must have a visible side-effect that you can make assertions about."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1678485011,"post_id":75688841,"comment_id":133548347,"body_markdown":"You can`verify(pennyCancelOrderService) .requestCancelOrder(ctxCaptor.capture())` with an appropriate `ArgumentCaptor` and then assert that the passed context contains the expected data.","body":"You can<code>verify(pennyCancelOrderService) .requestCancelOrder(ctxCaptor.capture())</code> with an appropriate <code>ArgumentCaptor</code> and then assert that the passed context contains the expected data."}],"answers":[{"tags":[],"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678396887,"creation_date":1678396887,"answer_id":75690160,"question_id":75688841,"body_markdown":"&gt; I recently encountered an issue where the line .extras(VoluntaryExtras.calculateVoluntaryExtrasAmount(currentState.getVoluntaryExtras())) was missing but it wasn&#39;t picked up until an an issue was detected by a downstream application. I&#39;d like to put something in place where if this was accidentally removed, it would not go unnoticed.\r\n\r\nWhat was the issue the downstream application encountered? Presumably there is some external state (perhaps the very `CancelOrder` object being returned) that is effected by the addition or removal of that line. Test that.\r\n\r\nIn other words:\r\n\r\n    @Test\r\n    public void generateCancelOrder() {\r\n       // TODO: Get current state of the world before method is called\r\n      \r\n       CurrentState state = createDummyCurrentState();\r\n       Contract contract = createDummyContract();\r\n       CancelOrder order = generateCancelOrder(state, contract);\r\n       \r\n       // Assert expected state on state, contract, order, some other object, or any combination of all of the above\r\n    }\r\n       ","title":"Unit test to check a value that gets returned from a private method","body":"<blockquote>\n<p>I recently encountered an issue where the line .extras(VoluntaryExtras.calculateVoluntaryExtrasAmount(currentState.getVoluntaryExtras())) was missing but it wasn't picked up until an an issue was detected by a downstream application. I'd like to put something in place where if this was accidentally removed, it would not go unnoticed.</p>\n</blockquote>\n<p>What was the issue the downstream application encountered? Presumably there is some external state (perhaps the very <code>CancelOrder</code> object being returned) that is effected by the addition or removal of that line. Test that.</p>\n<p>In other words:</p>\n<pre><code>@Test\npublic void generateCancelOrder() {\n   // TODO: Get current state of the world before method is called\n  \n   CurrentState state = createDummyCurrentState();\n   Contract contract = createDummyContract();\n   CancelOrder order = generateCancelOrder(state, contract);\n   \n   // Assert expected state on state, contract, order, some other object, or any combination of all of the above\n}\n   \n</code></pre>\n"},{"comments":[{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1678981768,"post_id":75758458,"comment_id":133642062,"body_markdown":"Is that really what you want to test, though? If someone edits the private method to call `VoluntaryExtras.calc...` but not store the result in `.extras(...)`, your test will pass but your code will fail. You should test the _expected final state / result_ of calling the method, not the _implementation details_ of the method.","body":"Is that really what you want to test, though? If someone edits the private method to call <code>VoluntaryExtras.calc...</code> but not store the result in <code>.extras(...)</code>, your test will pass but your code will fail. You should test the <i>expected final state / result</i> of calling the method, not the <i>implementation details</i> of the method."}],"tags":[],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678981309,"creation_date":1678981309,"answer_id":75758458,"question_id":75688841,"body_markdown":"I added a test check that `VoluntaryExtras.calculateVoluntaryExtrasAmount(currentState.getVoluntaryExtras()` was called once when `generateCancelOrder()` was run.","title":"Unit test to check a value that gets returned from a private method","body":"<p>I added a test check that <code>VoluntaryExtras.calculateVoluntaryExtrasAmount(currentState.getVoluntaryExtras()</code> was called once when <code>generateCancelOrder()</code> was run.</p>\n"}],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75758458,"answer_count":2,"score":0,"last_activity_date":1678981309,"creation_date":1678387517,"question_id":75688841,"body_markdown":"I have these two methods in my `Java` class:\r\n\r\n```Java\r\npublic CancelOrder generateCancelOrder(\r\n  final CurrentState currentState,\r\n  final Contract contract) {\r\n\r\n    Context ctx = new Context();\r\n    ctx.setVariable(\r\n        ORDER_STATE_NOW, trans(currentState, contract));\r\n\r\n    PennyOrderDetails pennyCancelOrderDetails =\r\n        pennyCancelOrderService.requestCancelOrder(ctx);\r\n\r\n    return CancelOrderResponse.builder()\r\n        .premiumSummary(pennyCancelOrderDetails.getOrderSummary())\r\n        .build();\r\n}\r\n\r\nprivate QuoteMessageCurrentState transform(\r\n  final CurrentState currentState, final Contract contract) {\r\nreturn QuoteMessageCurrentState.builder()\r\n    .fromRequest(messageTemplateChanges.change(currentState, contract))\r\n    .extras(\r\n        VoluntaryExtras.calculateVoluntaryExtrasAmount(currentState.getVoluntaryExtras()))\r\n    .build();\r\n}\r\n```\r\n\r\n`extras` is a string value. Is there any way I can unit test this that I can confirm what that value is so as to ensure a value is returned for this and that it is the correct value?\r\n\r\nI&#39;m aware that private methods shouldn&#39;t be unit tested. I recently encountered an issue where the line `.extras(VoluntaryExtras.calculateVoluntaryExtrasAmount(currentState.getVoluntaryExtras()))` was missing but it wasn&#39;t picked up until an an issue was detected by a downstream application. I&#39;d like to put something in place where if this was accidentally removed, it would not go unnoticed.","title":"Unit test to check a value that gets returned from a private method","body":"<p>I have these two methods in my <code>Java</code> class:</p>\n<pre><code>public CancelOrder generateCancelOrder(\n  final CurrentState currentState,\n  final Contract contract) {\n\n    Context ctx = new Context();\n    ctx.setVariable(\n        ORDER_STATE_NOW, trans(currentState, contract));\n\n    PennyOrderDetails pennyCancelOrderDetails =\n        pennyCancelOrderService.requestCancelOrder(ctx);\n\n    return CancelOrderResponse.builder()\n        .premiumSummary(pennyCancelOrderDetails.getOrderSummary())\n        .build();\n}\n\nprivate QuoteMessageCurrentState transform(\n  final CurrentState currentState, final Contract contract) {\nreturn QuoteMessageCurrentState.builder()\n    .fromRequest(messageTemplateChanges.change(currentState, contract))\n    .extras(\n        VoluntaryExtras.calculateVoluntaryExtrasAmount(currentState.getVoluntaryExtras()))\n    .build();\n}\n</code></pre>\n<p><code>extras</code> is a string value. Is there any way I can unit test this that I can confirm what that value is so as to ensure a value is returned for this and that it is the correct value?</p>\n<p>I'm aware that private methods shouldn't be unit tested. I recently encountered an issue where the line <code>.extras(VoluntaryExtras.calculateVoluntaryExtrasAmount(currentState.getVoluntaryExtras()))</code> was missing but it wasn't picked up until an an issue was detected by a downstream application. I'd like to put something in place where if this was accidentally removed, it would not go unnoticed.</p>\n"},{"tags":["java","maven","jmh"],"comments":[{"owner":{"account_id":1426019,"reputation":4217,"user_id":1356883,"display_name":"kofemann"},"score":0,"creation_date":1594055092,"post_id":62760852,"comment_id":110986190,"body_markdown":"try to run mvn -X and inspect the output","body":"try to run mvn -X and inspect the output"},{"owner":{"account_id":1558450,"reputation":1184,"user_id":1448906,"accept_rate":70,"display_name":"a3dsfcv"},"score":0,"creation_date":1594055656,"post_id":62760852,"comment_id":110986454,"body_markdown":"Haven&#39;t found anything about annotation preprocessors there. Nothing suspicious, Anyway, what should I pay attention to?","body":"Haven&#39;t found anything about annotation preprocessors there. Nothing suspicious, Anyway, what should I pay attention to?"}],"answers":[{"tags":[],"owner":{"account_id":1558450,"reputation":1184,"user_id":1448906,"accept_rate":70,"display_name":"a3dsfcv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594077132,"creation_date":1594077132,"answer_id":62765801,"question_id":62760852,"body_markdown":"Posting the solution: \r\nMy project has `annotationProcessorPaths` inside `maven-compiler-plugin`. So any new preprocessor should be added to this path","title":"Annotation processor for JMH is not working. How can I investigate the reason?","body":"<p>Posting the solution:\nMy project has <code>annotationProcessorPaths</code> inside <code>maven-compiler-plugin</code>. So any new preprocessor should be added to this path</p>\n"},{"tags":[],"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678981133,"creation_date":1678981133,"answer_id":75758422,"question_id":62760852,"body_markdown":"Here is how it&#39;s done:\r\n\r\n```\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n  &lt;configuration&gt;\r\n    &lt;annotationProcessorPaths&gt;\r\n      &lt;!-- WORKAROUND: https://issues.apache.org/jira/browse/MCOMPILER-369 --&gt;\r\n      &lt;path&gt;\r\n        &lt;groupId&gt;org.openjdk.jmh&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jmh-generator-annprocess&lt;/artifactId&gt;\r\n        &lt;version&gt;${jmh.version}&lt;/version&gt;\r\n      &lt;/path&gt;\r\n    &lt;/annotationProcessorPaths&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```","title":"Annotation processor for JMH is not working. How can I investigate the reason?","body":"<p>Here is how it's done:</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;annotationProcessorPaths&gt;\n      &lt;!-- WORKAROUND: https://issues.apache.org/jira/browse/MCOMPILER-369 --&gt;\n      &lt;path&gt;\n        &lt;groupId&gt;org.openjdk.jmh&lt;/groupId&gt;\n        &lt;artifactId&gt;jmh-generator-annprocess&lt;/artifactId&gt;\n        &lt;version&gt;${jmh.version}&lt;/version&gt;\n      &lt;/path&gt;\n    &lt;/annotationProcessorPaths&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":1558450,"reputation":1184,"user_id":1448906,"accept_rate":70,"display_name":"a3dsfcv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":581,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678981133,"creation_date":1594054526,"question_id":62760852,"body_markdown":"I recently joined the company and need to add jmh tests. I created a test project and add simple jmh test there, it runs. But when I move my test, dependencies and `maven-shade-plugin` to my work project - jhm tests are not visible as the tests. \r\nI&#39;ve noticed that no classed generated under `target/generated-source/annotations` what is vital for jmh.\r\n\r\nWhat should be my steps to investigate the issue? I&#39;ve also noticed that there are other annotation processing libraries is used. I wonder if that can be the reason of some conflict. ","title":"Annotation processor for JMH is not working. How can I investigate the reason?","body":"<p>I recently joined the company and need to add jmh tests. I created a test project and add simple jmh test there, it runs. But when I move my test, dependencies and <code>maven-shade-plugin</code> to my work project - jhm tests are not visible as the tests.\nI've noticed that no classed generated under <code>target/generated-source/annotations</code> what is vital for jmh.</p>\n<p>What should be my steps to investigate the issue? I've also noticed that there are other annotation processing libraries is used. I wonder if that can be the reason of some conflict.</p>\n"},{"tags":["java","android","xamarin","android-recyclerview","android-animation"],"answers":[{"comments":[{"owner":{"account_id":162806,"reputation":2917,"user_id":384511,"accept_rate":59,"display_name":"amitairos"},"score":0,"creation_date":1472046086,"post_id":39124520,"comment_id":65595458,"body_markdown":"Thanks, but I&#39;m using Xamarin, so it doesn&#39;t work for me.","body":"Thanks, but I&#39;m using Xamarin, so it doesn&#39;t work for me."}],"tags":[],"owner":{"display_name":"user3126480"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472044797,"creation_date":1472044797,"answer_id":39124520,"question_id":39124434,"body_markdown":"This might not be the answer, but it might help. I think you should set a delay between your animations. \r\n\r\n    new Handler().postDelayed(new Runnable()\r\n    {\r\n       @Override\r\n       public void run()\r\n       {\r\n         // your code that you want to delay here\r\n       }\r\n    }, 1000/* 1000ms = 1sec delay */);","title":"Animate RecyclerView items one by one","body":"<p>This might not be the answer, but it might help. I think you should set a delay between your animations. </p>\n\n<pre><code>new Handler().postDelayed(new Runnable()\n{\n   @Override\n   public void run()\n   {\n     // your code that you want to delay here\n   }\n}, 1000/* 1000ms = 1sec delay */);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":162806,"reputation":2917,"user_id":384511,"accept_rate":59,"display_name":"amitairos"},"score":0,"creation_date":1472378918,"post_id":39190160,"comment_id":65720863,"body_markdown":"Doesn&#39;t work. It animates all of the items together.","body":"Doesn&#39;t work. It animates all of the items together."},{"owner":{"account_id":162806,"reputation":2917,"user_id":384511,"accept_rate":59,"display_name":"amitairos"},"score":0,"creation_date":1472379148,"post_id":39190160,"comment_id":65720906,"body_markdown":"Perhaps it is because I add my items from code one after each other?","body":"Perhaps it is because I add my items from code one after each other?"},{"owner":{"account_id":370965,"reputation":10053,"user_id":719212,"accept_rate":83,"display_name":"ductran"},"score":0,"creation_date":1472393873,"post_id":39190160,"comment_id":65724996,"body_markdown":"@amitairos I updated my answer. If you want to animate in order, you can use my sample code (it may not work, you have to check by yourself).","body":"@amitairos I updated my answer. If you want to animate in order, you can use my sample code (it may not work, you have to check by yourself)."},{"owner":{"account_id":162806,"reputation":2917,"user_id":384511,"accept_rate":59,"display_name":"amitairos"},"score":0,"creation_date":1472402440,"post_id":39190160,"comment_id":65727526,"body_markdown":"Thanks!!! It works like a charm. One revision I added- I set the itemView&#39;s default visibility to gone, and before calling StartAnimation I set it to visibile. Otherwise, it would appear and then animate. Now it animates before it appears.","body":"Thanks!!! It works like a charm. One revision I added- I set the itemView&#39;s default visibility to gone, and before calling StartAnimation I set it to visibile. Otherwise, it would appear and then animate. Now it animates before it appears."}],"tags":[],"owner":{"account_id":370965,"reputation":10053,"user_id":719212,"accept_rate":83,"display_name":"ductran"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1472393769,"creation_date":1472378813,"answer_id":39190160,"question_id":39124434,"body_markdown":"How about this:\r\n    \r\n    public override void OnBindViewHolder(RecyclerView.ViewHolder holder, int position)\r\n    {\r\n        myHolder = holder as MyView;\r\n        if (position &gt; mCurrentPosition)\r\n        {\r\n            Handler h = new Handler();\r\n            int currentAnim = Android.Resource.Animation.SlideInLeft;\r\n            Action myAction = () =&gt; \r\n            {\r\n                SetAnimation(holder.ItemView, currentAnim);\r\n            };\r\n\r\n            h.PostDelayed(myAction, 1000);\r\n\r\n            \r\n            mCurrentPosition = position;\r\n        }\r\n\r\n    }\r\n\r\n**Update**: if you want to animate all items in order, you should put logic code out side an adapter.&lt;br&gt;\r\nFor example, in activity, after set adapter for RecyleView\r\n\r\n       List&lt;YourObject&gt; data; // your data list for RecycleView\r\n\r\n       // CALL this code after set adapter for RecycleView\r\n       Handler h = new Handler();\r\n       int currentAnim = Android.Resource.Animation.SlideInLeft;\r\n       Action myAction = () =&gt; \r\n       {     \r\n          // assume you use LinearLayoutManager  for RecyecleView\r\n\t\t    View itemView = linearLayoutManager.findViewByPosition(0);\r\n\t\t\tStartAnimation(itemView, 0);\r\n       };\r\n\r\n       h.PostDelayed(myAction, 1000);\r\n       \r\n\r\n       private void StartAnimation(View view, int position)\r\n\t\t{\r\n\r\n\t\t\tAnimation anim = AnimationUtils.LoadAnimation(mContext, currentAnim);\r\n\t\t\tanim.SetInterpolator(mContext, Android.Resource.Interpolator.Bounce);\r\n\t\t\tview.StartAnimation(anim);\r\n\t\t\tanim.AnimationEnd += (sender, e) =&gt;\r\n\t\t\t{\r\n\t\t\t\t// animate next item\r\n\r\n\t\t\t\t++position;\r\n\t\t\t\tif (position &lt; data.size()) // data is your array list\r\n                {\r\n\t\t\t\t\r\n\t\t\t\t\t// assume you use LinearLayoutManager  for RecyecleView\r\n\t\t\t\t\tView itemView = linearLayoutManager.findViewByPosition(position);\r\n\t\t\t\t\tif (itemView != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tStartAnimation(itemView, position);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n","title":"Animate RecyclerView items one by one","body":"<p>How about this:</p>\n\n<pre><code>public override void OnBindViewHolder(RecyclerView.ViewHolder holder, int position)\n{\n    myHolder = holder as MyView;\n    if (position &gt; mCurrentPosition)\n    {\n        Handler h = new Handler();\n        int currentAnim = Android.Resource.Animation.SlideInLeft;\n        Action myAction = () =&gt; \n        {\n            SetAnimation(holder.ItemView, currentAnim);\n        };\n\n        h.PostDelayed(myAction, 1000);\n\n\n        mCurrentPosition = position;\n    }\n\n}\n</code></pre>\n\n<p><strong>Update</strong>: if you want to animate all items in order, you should put logic code out side an adapter.<br>\nFor example, in activity, after set adapter for RecyleView</p>\n\n<pre><code>   List&lt;YourObject&gt; data; // your data list for RecycleView\n\n   // CALL this code after set adapter for RecycleView\n   Handler h = new Handler();\n   int currentAnim = Android.Resource.Animation.SlideInLeft;\n   Action myAction = () =&gt; \n   {     \n      // assume you use LinearLayoutManager  for RecyecleView\n        View itemView = linearLayoutManager.findViewByPosition(0);\n        StartAnimation(itemView, 0);\n   };\n\n   h.PostDelayed(myAction, 1000);\n\n\n   private void StartAnimation(View view, int position)\n    {\n\n        Animation anim = AnimationUtils.LoadAnimation(mContext, currentAnim);\n        anim.SetInterpolator(mContext, Android.Resource.Interpolator.Bounce);\n        view.StartAnimation(anim);\n        anim.AnimationEnd += (sender, e) =&gt;\n        {\n            // animate next item\n\n            ++position;\n            if (position &lt; data.size()) // data is your array list\n            {\n\n                // assume you use LinearLayoutManager  for RecyecleView\n                View itemView = linearLayoutManager.findViewByPosition(position);\n                if (itemView != null)\n                {\n                    StartAnimation(itemView, position);\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11701637,"reputation":11,"user_id":8566479,"display_name":"ANKsite"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504665346,"creation_date":1504665346,"answer_id":46065929,"question_id":39124434,"body_markdown":"You need to add delay time to your animation and increment the delay every item bind.\r\n\r\n    int delayAnimate = 300; //global variable\r\n\t\r\n\t@Override\r\n    public void onBindViewHolder(final MyViewHolder holder, int position) {\r\n\t\t//set view to INVISIBLE before animate\r\n        holder.viewAnimate.setVisibility(View.INVISIBLE);\r\n        setAnimation(holder.ll_root);\r\n    }\r\n\t\r\n\tprivate void setAnimation(final View view) {\r\n        Handler handler = new Handler();\r\n        handler.postDelayed(new Runnable() {\r\n            public void run() {\r\n                Animation animation = AnimationUtils.loadAnimation(mContext, android.R.anim.slide_in_left);\r\n                if(view!=null){\r\n                    view.startAnimation(animation);\r\n                    view.setVisibility(View.VISIBLE);\r\n                }\r\n            }\r\n        }, delayAnimate);\r\n        delayAnimate+=300;\r\n    }","title":"Animate RecyclerView items one by one","body":"<p>You need to add delay time to your animation and increment the delay every item bind.</p>\n\n<pre><code>int delayAnimate = 300; //global variable\n\n@Override\npublic void onBindViewHolder(final MyViewHolder holder, int position) {\n    //set view to INVISIBLE before animate\n    holder.viewAnimate.setVisibility(View.INVISIBLE);\n    setAnimation(holder.ll_root);\n}\n\nprivate void setAnimation(final View view) {\n    Handler handler = new Handler();\n    handler.postDelayed(new Runnable() {\n        public void run() {\n            Animation animation = AnimationUtils.loadAnimation(mContext, android.R.anim.slide_in_left);\n            if(view!=null){\n                view.startAnimation(animation);\n                view.setVisibility(View.VISIBLE);\n            }\n        }\n    }, delayAnimate);\n    delayAnimate+=300;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13445839,"reputation":11,"user_id":9701810,"display_name":"msLalith"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524718657,"creation_date":1524718657,"answer_id":50035104,"question_id":39124434,"body_markdown":"    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\r\n        Handler().postDelayed({\r\n            // animate here\r\n        }, DURATION * position)\r\n    }\r\n\r\nDURATION * position helps to animate recyclerview items one by one.&lt;br&gt;DURATION is best when set between 50-75.\r\n","title":"Animate RecyclerView items one by one","body":"<pre><code>override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    Handler().postDelayed({\n        // animate here\n    }, DURATION * position)\n}\n</code></pre>\n\n<p>DURATION * position helps to animate recyclerview items one by one.<br>DURATION is best when set between 50-75.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1679446055,"post_id":75758420,"comment_id":133723121,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75758420/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27906462,"reputation":1,"user_id":21309549,"display_name":"Dilan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678981127,"creation_date":1678981127,"answer_id":75758420,"question_id":39124434,"body_markdown":"This line of code add in **onBindViewHolder**\r\n\r\n\r\n          @Override\r\n            protected void onBindViewHolder(@NonNull final MainActiviy.PostsViewHolder holder, final int position, @NonNull final Post model)\r\n            {\r\n\r\n\r\n                Animation animation = AnimationUtils.loadAnimation(holder.itemView.getContext(),android.R.anim.slide_in_left);\r\n                holder.itemView.setAnimation(animation);\r\n                \r\n              \r\n\r\n            }\r\n\r\n\r\n\r\n\r\n\r\n            \r\n","title":"Animate RecyclerView items one by one","body":"<p>This line of code add in <strong>onBindViewHolder</strong></p>\n<pre><code>      @Override\n        protected void onBindViewHolder(@NonNull final MainActiviy.PostsViewHolder holder, final int position, @NonNull final Post model)\n        {\n\n\n            Animation animation = AnimationUtils.loadAnimation(holder.itemView.getContext(),android.R.anim.slide_in_left);\n            holder.itemView.setAnimation(animation);\n            \n          \n\n        }\n\n\n\n\n\n        \n</code></pre>\n"}],"owner":{"account_id":162806,"reputation":2917,"user_id":384511,"accept_rate":59,"display_name":"amitairos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10233,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":39190160,"answer_count":5,"score":4,"last_activity_date":1678981127,"creation_date":1472044593,"question_id":39124434,"body_markdown":"I&#39;m trying to animate my `RecyclerView` items in my app. I tried using this code in my adapter:\r\n\r\n        public override void OnBindViewHolder(RecyclerView.ViewHolder holder, int position)\r\n        {\r\n            myHolder = holder as MyView;\r\n            if (position &gt; mCurrentPosition)\r\n            {\r\n                int currentAnim = Android.Resource.Animation.SlideInLeft;\r\n                SetAnimation(holder.ItemView, currentAnim);\r\n                mCurrentPosition = position;\r\n            }\r\n\r\n        }\r\n\r\n        private void SetAnimation(View view, int currentAnim)\r\n        {\r\n            \r\n            Animation anim = AnimationUtils.LoadAnimation(mContext, currentAnim);\r\n            anim.SetInterpolator(mContext, Android.Resource.Interpolator.Bounce);\r\n            view.StartAnimation(anim);\r\n        }\r\n\r\n\r\nHowever, because all of my items appear together when the view is created, and not added when the user clicks a button, for example, all of the items animate together.   \r\n\r\nI want the items to animate one after the other, in the order of their position.  \r\nHow is this possible to do?","title":"Animate RecyclerView items one by one","body":"<p>I'm trying to animate my <code>RecyclerView</code> items in my app. I tried using this code in my adapter:</p>\n\n<pre><code>    public override void OnBindViewHolder(RecyclerView.ViewHolder holder, int position)\n    {\n        myHolder = holder as MyView;\n        if (position &gt; mCurrentPosition)\n        {\n            int currentAnim = Android.Resource.Animation.SlideInLeft;\n            SetAnimation(holder.ItemView, currentAnim);\n            mCurrentPosition = position;\n        }\n\n    }\n\n    private void SetAnimation(View view, int currentAnim)\n    {\n\n        Animation anim = AnimationUtils.LoadAnimation(mContext, currentAnim);\n        anim.SetInterpolator(mContext, Android.Resource.Interpolator.Bounce);\n        view.StartAnimation(anim);\n    }\n</code></pre>\n\n<p>However, because all of my items appear together when the view is created, and not added when the user clicks a button, for example, all of the items animate together.   </p>\n\n<p>I want the items to animate one after the other, in the order of their position.<br>\nHow is this possible to do?</p>\n"},{"tags":["java","paho","activemq-artemis"],"answers":[{"tags":[],"owner":{"account_id":4470608,"reputation":592,"user_id":3637038,"display_name":"Richard Tyregrim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471597411,"creation_date":1471597411,"answer_id":39035078,"question_id":39034316,"body_markdown":"Just try to connect to the master, surround the call with appropriate error handling. If timed out or connection error, simply have code in handlers to call slave instead. If no response there either, bail out and assume the chain is broken. \r\n\r\nAlso the cluster could use a different configuration to expose only a single IP, which makes more sense. So that here are one alias queue facing out but logical queues on different machines in the cluster. This will help you later if you want to distribute to externals the possibility to connect to the cluster. ","title":"Eclipse paho connecting to distributed broker","body":"<p>Just try to connect to the master, surround the call with appropriate error handling. If timed out or connection error, simply have code in handlers to call slave instead. If no response there either, bail out and assume the chain is broken. </p>\n\n<p>Also the cluster could use a different configuration to expose only a single IP, which makes more sense. So that here are one alias queue facing out but logical queues on different machines in the cluster. This will help you later if you want to distribute to externals the possibility to connect to the cluster. </p>\n"},{"comments":[{"owner":{"account_id":1356587,"reputation":6293,"user_id":1294870,"accept_rate":36,"display_name":"NIrav Modi"},"score":0,"creation_date":1548412098,"post_id":40508712,"comment_id":95540792,"body_markdown":"Need to provide an address with below format &quot;tcp://x.x.x.x&quot;","body":"Need to provide an address with below format &quot;tcp://x.x.x.x&quot;"}],"tags":[],"owner":{"account_id":5772118,"reputation":849,"user_id":4555266,"accept_rate":68,"display_name":"aries"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678980894,"creation_date":1478699801,"answer_id":40508712,"question_id":39034316,"body_markdown":"Client libraries in many languages have this option. The list can be checked here:\r\nhttps://www.eclipse.org/paho/index.php?page=downloads.php\r\n\r\nFor those clients for which &quot;high-availability&quot; is marked, support list of urls to be specified using the &quot;MqttConnectOptions&quot;.\r\n\r\nExample:\r\n\r\n            String[] URIs = {&quot;address1&quot;,&quot;address2&quot;};\r\n            MqttConnectOptions mqttConnectOptions = new MqttConnectOptions();\r\n            mqttConnectOptions.setServerURIs(URIs);","title":"Eclipse paho connecting to distributed broker","body":"<p>Client libraries in many languages have this option. The list can be checked here:\n<a href=\"https://www.eclipse.org/paho/index.php?page=downloads.php\" rel=\"nofollow noreferrer\">https://www.eclipse.org/paho/index.php?page=downloads.php</a></p>\n<p>For those clients for which &quot;high-availability&quot; is marked, support list of urls to be specified using the &quot;MqttConnectOptions&quot;.</p>\n<p>Example:</p>\n<pre><code>        String[] URIs = {&quot;address1&quot;,&quot;address2&quot;};\n        MqttConnectOptions mqttConnectOptions = new MqttConnectOptions();\n        mqttConnectOptions.setServerURIs(URIs);\n</code></pre>\n"}],"owner":{"account_id":5772118,"reputation":849,"user_id":4555266,"accept_rate":68,"display_name":"aries"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":985,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":40508712,"answer_count":2,"score":1,"last_activity_date":1678980894,"creation_date":1471594863,"question_id":39034316,"body_markdown":"I am using Apache Artemis as my mqtt broker. I have an Artemis cluster which is configured in Master-Slave fashion. When the Master server fails, the backup server takes over and the client has to connect to the slave server. Master and slave are having different IP.\r\n\r\nIs there an option to specify multiple connect url (address of master and slave) while creating a MqttClient object in eclipse paho?\r\n\r\nSomething like\r\n\r\n    MqttClient cl = new MqttClient(&quot;LIST OF IPs&quot;, &quot;Publisher&quot;, new    \r\n    MemoryPersistence());\r\n\r\ninstead of just \r\n\r\n    MqttClient cl = new MqttClient(&quot;tcp://localhost:1883&quot;, &quot;Publisher&quot;, new \r\n    MemoryPersistence());\r\n\r\nsuch that when the connection to first address fails, a connection to the next address is tried.\r\n\r\nCould someone please guide in this? Much appreciated.","title":"Eclipse paho connecting to distributed broker","body":"<p>I am using Apache Artemis as my mqtt broker. I have an Artemis cluster which is configured in Master-Slave fashion. When the Master server fails, the backup server takes over and the client has to connect to the slave server. Master and slave are having different IP.</p>\n\n<p>Is there an option to specify multiple connect url (address of master and slave) while creating a MqttClient object in eclipse paho?</p>\n\n<p>Something like</p>\n\n<pre><code>MqttClient cl = new MqttClient(\"LIST OF IPs\", \"Publisher\", new    \nMemoryPersistence());\n</code></pre>\n\n<p>instead of just </p>\n\n<pre><code>MqttClient cl = new MqttClient(\"tcp://localhost:1883\", \"Publisher\", new \nMemoryPersistence());\n</code></pre>\n\n<p>such that when the connection to first address fails, a connection to the next address is tried.</p>\n\n<p>Could someone please guide in this? Much appreciated.</p>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1678963063,"post_id":75754964,"comment_id":133636065,"body_markdown":"You mean `IntSupplier call1 = () -&gt; method1(a, b);` and `call1.getAsInt();`?","body":"You mean <code>IntSupplier call1 = () -&gt; method1(a, b);</code> and <code>call1.getAsInt();</code>?"},{"owner":{"account_id":12975436,"reputation":17,"user_id":9379598,"display_name":"vaanchit kaul"},"score":0,"creation_date":1678963172,"post_id":75754964,"comment_id":133636121,"body_markdown":"Can we make it for any return type?","body":"Can we make it for any return type?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1678963291,"post_id":75754964,"comment_id":133636169,"body_markdown":"@vaanchitkaul use a `Supplier&lt;T&gt;`, see Bohemian&#39;s answer below for an example.","body":"@vaanchitkaul use a <code>Supplier&lt;T&gt;</code>, see Bohemian&#39;s answer below for an example."}],"answers":[{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1678966334,"post_id":75755069,"comment_id":133637043,"body_markdown":"For `int`, I recommend using `IntSupplier` as it avoids boxing and unboxing.","body":"For <code>int</code>, I recommend using <code>IntSupplier</code> as it avoids boxing and unboxing."}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678963158,"creation_date":1678963158,"answer_id":75755069,"question_id":75754964,"body_markdown":"Use lambdas:\r\n\r\n    Supplier&lt;Integer&gt; call1 = () -&gt; method1(a,b);\r\n    Supplier&lt;Integer&gt; call2 = () -&gt; method2(a,b,c);\r\n\r\nThen later:\r\n\r\n    return call1.get() + call2.get();\r\n\r\n    ","title":"Put function call into a variable in Java","body":"<p>Use lambdas:</p>\n<pre><code>Supplier&lt;Integer&gt; call1 = () -&gt; method1(a,b);\nSupplier&lt;Integer&gt; call2 = () -&gt; method2(a,b,c);\n</code></pre>\n<p>Then later:</p>\n<pre><code>return call1.get() + call2.get();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27635017,"reputation":43,"user_id":21093121,"display_name":"ARNR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678980449,"creation_date":1678977988,"answer_id":75757861,"question_id":75754964,"body_markdown":" Somehow we need to check how many arguments and then split the parameter before sending it to invoke method as I did in methodInvoke.\r\n\r\nMain class \r\n\r\n    public static void main(String[] args) {\r\n            try {\r\n                Class clazz = DummyClass.class;\r\n                //If I want run all methods in the same instance\r\n                Object instance = clazz.newInstance();\r\n                // this method is void\r\n                CreateCall.call(clazz, instance, &quot;setObject&quot;, new Object[]{1, 2});\r\n                System.out.println(&quot;a : &quot; + CreateCall.call(clazz, instance, &quot;getA&quot;));\r\n                System.out.println(&quot;b : &quot; + CreateCall.call(clazz, instance, &quot;getB&quot;));\r\n                System.out.println(&quot; a + b :&quot; + CreateCall.call(clazz, instance, &quot;sum&quot;));\r\n            } catch (InstantiationException e) {\r\n                throw new RuntimeException(e);\r\n            } catch (IllegalAccessException e) {\r\n                throw new RuntimeException(e);\r\n            } catch (InvocationTargetException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n\r\nCreateCall class\r\n\r\n    class CreateCall {\r\n        public static Object call(Class clazz, Object instance, String methodName, Object... args) throws InstantiationException, IllegalAccessException, InvocationTargetException {\r\n            Object result = null;\r\n            Method[] methods = clazz.getDeclaredMethods();\r\n            for (Method method : methods) {\r\n                if (method.getName().equals(methodName))\r\n                    result = methodInvoke(instance, method, args);\r\n            }\r\n            return result;\r\n        }\r\n    \r\n        private static Object methodInvoke(Object instance, Method method, Object[] args) throws InvocationTargetException, IllegalAccessException {\r\n            return switch (method.getParameterCount()) {\r\n                case 0 -&gt; method.invoke(instance);\r\n                case 1 -&gt; method.invoke(instance, args[0]);\r\n                case 2 -&gt; method.invoke(instance, args[0], args[1]);\r\n                case 3 -&gt; method.invoke(instance, args[0], args[1], args[2]);\r\n                default -&gt; method.invoke(instance, args);\r\n            };\r\n        }\r\n    }\r\n\r\n","title":"Put function call into a variable in Java","body":"<p>Somehow we need to check how many arguments and then split the parameter before sending it to invoke method as I did in methodInvoke.</p>\n<p>Main class</p>\n<pre><code>public static void main(String[] args) {\n        try {\n            Class clazz = DummyClass.class;\n            //If I want run all methods in the same instance\n            Object instance = clazz.newInstance();\n            // this method is void\n            CreateCall.call(clazz, instance, &quot;setObject&quot;, new Object[]{1, 2});\n            System.out.println(&quot;a : &quot; + CreateCall.call(clazz, instance, &quot;getA&quot;));\n            System.out.println(&quot;b : &quot; + CreateCall.call(clazz, instance, &quot;getB&quot;));\n            System.out.println(&quot; a + b :&quot; + CreateCall.call(clazz, instance, &quot;sum&quot;));\n        } catch (InstantiationException e) {\n            throw new RuntimeException(e);\n        } catch (IllegalAccessException e) {\n            throw new RuntimeException(e);\n        } catch (InvocationTargetException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>CreateCall class</p>\n<pre><code>class CreateCall {\n    public static Object call(Class clazz, Object instance, String methodName, Object... args) throws InstantiationException, IllegalAccessException, InvocationTargetException {\n        Object result = null;\n        Method[] methods = clazz.getDeclaredMethods();\n        for (Method method : methods) {\n            if (method.getName().equals(methodName))\n                result = methodInvoke(instance, method, args);\n        }\n        return result;\n    }\n\n    private static Object methodInvoke(Object instance, Method method, Object[] args) throws InvocationTargetException, IllegalAccessException {\n        return switch (method.getParameterCount()) {\n            case 0 -&gt; method.invoke(instance);\n            case 1 -&gt; method.invoke(instance, args[0]);\n            case 2 -&gt; method.invoke(instance, args[0], args[1]);\n            case 3 -&gt; method.invoke(instance, args[0], args[1], args[2]);\n            default -&gt; method.invoke(instance, args);\n        };\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12975436,"reputation":17,"user_id":9379598,"display_name":"vaanchit kaul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75755069,"answer_count":2,"score":0,"last_activity_date":1678980449,"creation_date":1678962744,"question_id":75754964,"body_markdown":"I wanted to know if there&#39;s a way in Java to put the entire method call, with the parameters, into a variable and then just call something like `variable.call()` to actually call it. It should work for any number of parameters. For example:\r\n\r\n```\r\nclass MyClass{\r\n    int method1(int a, int b){\r\n        return a*b;\r\n    }\r\n    int method2(int a, int b, int c){\r\n        return a*b*c;\r\n    }\r\n    int main(){\r\n        int a=1,b=2;\r\n        var call1=createCall(&quot;method1&quot;,a,b), call2=createCall(&quot;method2&quot;,a,b,c);\r\n        return call1.call()+call2.call();\r\n    }\r\n}\r\n```\r\n\r\nI referenced [this](https://stackoverflow.com/questions/160970/how-do-i-invoke-a-java-method-when-given-the-method-name-as-a-string), but this requires for me to define the call-structure for the different calls because of the change in either type or number of parameters.","title":"Put function call into a variable in Java","body":"<p>I wanted to know if there's a way in Java to put the entire method call, with the parameters, into a variable and then just call something like <code>variable.call()</code> to actually call it. It should work for any number of parameters. For example:</p>\n<pre><code>class MyClass{\n    int method1(int a, int b){\n        return a*b;\n    }\n    int method2(int a, int b, int c){\n        return a*b*c;\n    }\n    int main(){\n        int a=1,b=2;\n        var call1=createCall(&quot;method1&quot;,a,b), call2=createCall(&quot;method2&quot;,a,b,c);\n        return call1.call()+call2.call();\n    }\n}\n</code></pre>\n<p>I referenced <a href=\"https://stackoverflow.com/questions/160970/how-do-i-invoke-a-java-method-when-given-the-method-name-as-a-string\">this</a>, but this requires for me to define the call-structure for the different calls because of the change in either type or number of parameters.</p>\n"},{"tags":["java","gradle","build","classloader","jmh"],"answers":[{"tags":[],"owner":{"account_id":8633465,"reputation":99,"user_id":6464416,"display_name":"Arijeet Bhakat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678980400,"creation_date":1678980400,"answer_id":75758302,"question_id":70394933,"body_markdown":"I have seen a similar use case where because of the architecture the benchmarks were being run on the application, and it was evident from the JMH log (use verbose mode for more logs) that the fork is running with the classpath which was missing the ForkedMain class.\r\n\r\nSo if we tried moving the `jmh-core` library to the classpath the next issue was `ERROR: Unable to find the resource: /META-INF/BenchmarkList` because the fork wasn&#39;t able to find the BenchmarkList, again because of the way the application was architected.\r\n\r\n\r\nEven though it is not recommended, but you can try setting the forks to 0 by `.forks(0)` or `@Forks(0)` and that should perform the test under the same process. (Forks are used to normalize the run-to-run variance)\r\n\r\n\r\nAdditional note: Also, the JMH won&#39;t help you out with the dependency injection, so you will have to manually ensure that the corresponding required dependencies are present for the test when you are not working with dummies","title":"JMH, Gradle - Error: Could not find or load main class org.openjdk.jmh.runner.ForkedMain","body":"<p>I have seen a similar use case where because of the architecture the benchmarks were being run on the application, and it was evident from the JMH log (use verbose mode for more logs) that the fork is running with the classpath which was missing the ForkedMain class.</p>\n<p>So if we tried moving the <code>jmh-core</code> library to the classpath the next issue was <code>ERROR: Unable to find the resource: /META-INF/BenchmarkList</code> because the fork wasn't able to find the BenchmarkList, again because of the way the application was architected.</p>\n<p>Even though it is not recommended, but you can try setting the forks to 0 by <code>.forks(0)</code> or <code>@Forks(0)</code> and that should perform the test under the same process. (Forks are used to normalize the run-to-run variance)</p>\n<p>Additional note: Also, the JMH won't help you out with the dependency injection, so you will have to manually ensure that the corresponding required dependencies are present for the test when you are not working with dummies</p>\n"}],"owner":{"account_id":18391865,"reputation":53,"user_id":13397358,"display_name":"ExtraExtremeERA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":615,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1678980400,"creation_date":1639752664,"question_id":70394933,"body_markdown":"**Details:**\r\n1. I use Gradle as my build system.\r\n2. I need to run microbenchmarks when &quot;main&quot; application is running. (Due to bad architecture using adapters everywhere, there is no way to do dummies) My running method is:\r\n```java\r\npublic void benchmark() throws RunnerException {\r\n        getLogger().info(&quot;Starting microbenchmarks with JMH...&quot;);\r\n        Options opts = new OptionsBuilder()\r\n                .include(ElectricGroupBenchmark.class.getSimpleName())\r\n                .forks(1)\r\n                .threads(1)\r\n                .build();\r\n        new Runner(opts).run();\r\n}\r\n```\r\n3. Application I am developing is loaded by &quot;main&quot; application using class loader, so I don&#39;t need to shade its API and some other dependencies, that&#39;s why I don&#39;t use [gradle jmh plugin](https://github.com/melix/jmh-gradle-plugin), if I try to add dependencies using ```jmhCompileOnly``` then jmhJar will fail because plugin&#39;s sub-task generating jmh classes wouldn&#39;t deal with API classes that&#39;s not shaded in jar. Instead I use:\r\n```groovy\r\n    implementation group: &#39;org.openjdk.jmh&#39;, name: &#39;jmh-core&#39;, version: &#39;1.33&#39;\r\n    annotationProcessor group: &#39;org.openjdk.jmh&#39;, name: &#39;jmh-generator-annprocess&#39;, version: &#39;1.33&#39;\r\n```\r\nAnd this simple options to shade JMH into jar:\r\n```groovy\r\njar {\r\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n    from {\r\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it)}\r\n    }\r\n}\r\n```\r\nIf I try to run benchmarks while my &quot;main&quot; application is running and loaded this jar with microbenchmarks, I&#39;ll get:\r\n```\r\n[17:13:58 INFO]: # JMH version: 1.33\r\n[17:13:58 INFO]: # VM version: JDK 17.0.1, OpenJDK 64-Bit Server VM, 17.0.1+12-jvmci-21.3-b05\r\n[17:13:58 INFO]: # VM invoker: /usr/lib/jvm/graalvm-ce-java17-21.3.0/bin/java\r\n[17:13:58 INFO]: # VM options: -XX:ThreadPriorityPolicy=1 -XX:+UnlockExperimentalVMOptions -XX:+EnableJVMCIProduct -XX:-UnlockExperimentalVMOptions -javaagent:/home/denery/IdeaProjects/ElectricityMBenchmarks/.server/paper-1.17.1-400.jar -Xms1G -Xmx1G -Dfile.encoding=UTF-8 -Duser.country=RU -Duser.language=ru -Duser.variant\r\n[17:13:58 INFO]: # Blackhole mode: full + dont-inline hint (default, use -Djmh.blackhole.autoDetect=true to auto-detect)\r\n[17:13:58 INFO]: # Warmup: 3 iterations, 10 s each\r\n[17:13:58 INFO]: # Measurement: 3 iterations, 10 s each\r\n[17:13:58 INFO]: # Timeout: 10 min per iteration\r\n[17:13:58 INFO]: # Threads: 1 thread, will synchronize iterations\r\n[17:13:58 INFO]: # Benchmark mode: Average time, time/op\r\n[17:13:58 INFO]: # Benchmark: ru.worldm.electricity.benchmarks.ElectricGroupBenchmark.connectBenchmark\r\n[17:13:58 INFO]: \r\n[17:13:58 INFO]: # Run progress: 0,00% complete, ETA 00:01:00\r\n[17:13:58 INFO]: # Fork: 1 of 1\r\n[17:13:58 INFO]: OpenJDK 64-Bit Server VM warning: -XX:ThreadPriorityPolicy=1 may require system level permission, e.g., being the root user. If the necessary permission is not possessed, changes to priority will be silently ignored.\r\n[17:14:00 INFO]: Error: Could not find or load main class org.openjdk.jmh.runner.ForkedMain\r\n[17:14:00 INFO]: Caused by: java.lang.ClassNotFoundException: org.openjdk.jmh.runner.ForkedMain\r\n[17:14:00 INFO]: &lt;forked VM failed with exit code 1&gt;\r\n[17:14:00 INFO]: &lt;stdout last=&#39;20 lines&#39;&gt;\r\n[17:14:00 INFO]: &lt;/stdout&gt;\r\n[17:14:00 INFO]: &lt;stderr last=&#39;20 lines&#39;&gt;\r\n[17:14:00 INFO]: OpenJDK 64-Bit Server VM warning: -XX:ThreadPriorityPolicy=1 may require system level permission, e.g., being the root user. If the necessary permission is not possessed, changes to priority will be silently ignored.\r\n[17:14:00 INFO]: Error: Could not find or load main class org.openjdk.jmh.runner.ForkedMain\r\n[17:14:00 INFO]: Caused by: java.lang.ClassNotFoundException: org.openjdk.jmh.runner.ForkedMain\r\n[17:14:00 INFO]: &lt;/stderr&gt;\r\n[17:14:00 INFO]: \r\n[17:14:00 INFO]: # Run complete. Total time: 00:00:00\r\n[17:14:00 INFO]: \r\n[17:14:00 INFO]: REMEMBER: The numbers below are just data. To gain reusable insights, you need to follow up on\r\n[17:14:00 INFO]: why the numbers are the way they are. Use profilers (see -prof, -lprof), design factorial\r\n[17:14:00 INFO]: experiments, perform baseline and negative tests that provide experimental control, make sure\r\n[17:14:00 INFO]: the benchmarking environment is safe on JVM/OS/HW level, ask for reviews from the domain experts.\r\n[17:14:00 INFO]: Do not assume the numbers tell you what you want them to tell.\r\n[17:14:00 INFO]: \r\n[17:14:00 INFO]: Benchmark  Mode  Cnt  Score   Error  Units\r\n```\r\nBut org.openjdk.jmh.runner.ForkedMain is shaded into my Jar which is loaded my &quot;main&quot; application, what&#39;s problem in there?","title":"JMH, Gradle - Error: Could not find or load main class org.openjdk.jmh.runner.ForkedMain","body":"<p><strong>Details:</strong></p>\n<ol>\n<li>I use Gradle as my build system.</li>\n<li>I need to run microbenchmarks when &quot;main&quot; application is running. (Due to bad architecture using adapters everywhere, there is no way to do dummies) My running method is:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public void benchmark() throws RunnerException {\n        getLogger().info(&quot;Starting microbenchmarks with JMH...&quot;);\n        Options opts = new OptionsBuilder()\n                .include(ElectricGroupBenchmark.class.getSimpleName())\n                .forks(1)\n                .threads(1)\n                .build();\n        new Runner(opts).run();\n}\n</code></pre>\n<ol start=\"3\">\n<li>Application I am developing is loaded by &quot;main&quot; application using class loader, so I don't need to shade its API and some other dependencies, that's why I don't use <a href=\"https://github.com/melix/jmh-gradle-plugin\" rel=\"nofollow noreferrer\">gradle jmh plugin</a>, if I try to add dependencies using <code>jmhCompileOnly</code> then jmhJar will fail because plugin's sub-task generating jmh classes wouldn't deal with API classes that's not shaded in jar. Instead I use:</li>\n</ol>\n<pre><code>    implementation group: 'org.openjdk.jmh', name: 'jmh-core', version: '1.33'\n    annotationProcessor group: 'org.openjdk.jmh', name: 'jmh-generator-annprocess', version: '1.33'\n</code></pre>\n<p>And this simple options to shade JMH into jar:</p>\n<pre><code>jar {\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n    from {\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it)}\n    }\n}\n</code></pre>\n<p>If I try to run benchmarks while my &quot;main&quot; application is running and loaded this jar with microbenchmarks, I'll get:</p>\n<pre><code>[17:13:58 INFO]: # JMH version: 1.33\n[17:13:58 INFO]: # VM version: JDK 17.0.1, OpenJDK 64-Bit Server VM, 17.0.1+12-jvmci-21.3-b05\n[17:13:58 INFO]: # VM invoker: /usr/lib/jvm/graalvm-ce-java17-21.3.0/bin/java\n[17:13:58 INFO]: # VM options: -XX:ThreadPriorityPolicy=1 -XX:+UnlockExperimentalVMOptions -XX:+EnableJVMCIProduct -XX:-UnlockExperimentalVMOptions -javaagent:/home/denery/IdeaProjects/ElectricityMBenchmarks/.server/paper-1.17.1-400.jar -Xms1G -Xmx1G -Dfile.encoding=UTF-8 -Duser.country=RU -Duser.language=ru -Duser.variant\n[17:13:58 INFO]: # Blackhole mode: full + dont-inline hint (default, use -Djmh.blackhole.autoDetect=true to auto-detect)\n[17:13:58 INFO]: # Warmup: 3 iterations, 10 s each\n[17:13:58 INFO]: # Measurement: 3 iterations, 10 s each\n[17:13:58 INFO]: # Timeout: 10 min per iteration\n[17:13:58 INFO]: # Threads: 1 thread, will synchronize iterations\n[17:13:58 INFO]: # Benchmark mode: Average time, time/op\n[17:13:58 INFO]: # Benchmark: ru.worldm.electricity.benchmarks.ElectricGroupBenchmark.connectBenchmark\n[17:13:58 INFO]: \n[17:13:58 INFO]: # Run progress: 0,00% complete, ETA 00:01:00\n[17:13:58 INFO]: # Fork: 1 of 1\n[17:13:58 INFO]: OpenJDK 64-Bit Server VM warning: -XX:ThreadPriorityPolicy=1 may require system level permission, e.g., being the root user. If the necessary permission is not possessed, changes to priority will be silently ignored.\n[17:14:00 INFO]: Error: Could not find or load main class org.openjdk.jmh.runner.ForkedMain\n[17:14:00 INFO]: Caused by: java.lang.ClassNotFoundException: org.openjdk.jmh.runner.ForkedMain\n[17:14:00 INFO]: &lt;forked VM failed with exit code 1&gt;\n[17:14:00 INFO]: &lt;stdout last='20 lines'&gt;\n[17:14:00 INFO]: &lt;/stdout&gt;\n[17:14:00 INFO]: &lt;stderr last='20 lines'&gt;\n[17:14:00 INFO]: OpenJDK 64-Bit Server VM warning: -XX:ThreadPriorityPolicy=1 may require system level permission, e.g., being the root user. If the necessary permission is not possessed, changes to priority will be silently ignored.\n[17:14:00 INFO]: Error: Could not find or load main class org.openjdk.jmh.runner.ForkedMain\n[17:14:00 INFO]: Caused by: java.lang.ClassNotFoundException: org.openjdk.jmh.runner.ForkedMain\n[17:14:00 INFO]: &lt;/stderr&gt;\n[17:14:00 INFO]: \n[17:14:00 INFO]: # Run complete. Total time: 00:00:00\n[17:14:00 INFO]: \n[17:14:00 INFO]: REMEMBER: The numbers below are just data. To gain reusable insights, you need to follow up on\n[17:14:00 INFO]: why the numbers are the way they are. Use profilers (see -prof, -lprof), design factorial\n[17:14:00 INFO]: experiments, perform baseline and negative tests that provide experimental control, make sure\n[17:14:00 INFO]: the benchmarking environment is safe on JVM/OS/HW level, ask for reviews from the domain experts.\n[17:14:00 INFO]: Do not assume the numbers tell you what you want them to tell.\n[17:14:00 INFO]: \n[17:14:00 INFO]: Benchmark  Mode  Cnt  Score   Error  Units\n</code></pre>\n<p>But org.openjdk.jmh.runner.ForkedMain is shaded into my Jar which is loaded my &quot;main&quot; application, what's problem in there?</p>\n"},{"tags":["java","docker","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1678980567,"post_id":75758274,"comment_id":133641694,"body_markdown":"Only if you run IDE inside the VM and connect to it via the Gateway. https://www.jetbrains.com/remote-development/.","body":"Only if you run IDE inside the VM and connect to it via the Gateway. <a href=\"https://www.jetbrains.com/remote-development/\" rel=\"nofollow noreferrer\">jetbrains.com/remote-development</a>."},{"owner":{"account_id":104398,"reputation":4444,"user_id":279147,"accept_rate":50,"display_name":"Christopher Thomas"},"score":0,"creation_date":1678982129,"post_id":75758274,"comment_id":133642160,"body_markdown":"hmm, unfortunate that I can&#39;t configure java and intellij to put all the gradle stuff into the project folder, which when mounted for development could be used to resolve this information locally and inside the container","body":"hmm, unfortunate that I can&#39;t configure java and intellij to put all the gradle stuff into the project folder, which when mounted for development could be used to resolve this information locally and inside the container"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1678983206,"post_id":75758274,"comment_id":133642492,"body_markdown":"You can have a local copy of the project on your system and deploy it to Docker for testing, see https://www.jetbrains.com/help/idea/running-a-java-app-in-a-container.html.","body":"You can have a local copy of the project on your system and deploy it to Docker for testing, see <a href=\"https://www.jetbrains.com/help/idea/running-a-java-app-in-a-container.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/running-a-java-app-in-a-container.ht&zwnj;&#8203;ml</a>."},{"owner":{"account_id":104398,"reputation":4444,"user_id":279147,"accept_rate":50,"display_name":"Christopher Thomas"},"score":0,"creation_date":1678984374,"post_id":75758274,"comment_id":133642899,"body_markdown":"I would always have a local copy of the project on the computer, but the container is where it&#39;s being run, and gradle is executing, so the issue is, how to have both working at the same time. I found some option that lets me configure gradle to define the class path. I was thinking to put that into the project directory. Then tell IntelliJ to use that same directory for the classpath","body":"I would always have a local copy of the project on the computer, but the container is where it&#39;s being run, and gradle is executing, so the issue is, how to have both working at the same time. I found some option that lets me configure gradle to define the class path. I was thinking to put that into the project directory. Then tell IntelliJ to use that same directory for the classpath"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1678984457,"post_id":75758274,"comment_id":133642930,"body_markdown":"Gradle sets the classpath for your project. It should work locally. If it doesn&#39;t work, please provide the [Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve).","body":"Gradle sets the classpath for your project. It should work locally. If it doesn&#39;t work, please provide the <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>."}],"owner":{"account_id":104398,"reputation":4444,"user_id":279147,"accept_rate":50,"display_name":"Christopher Thomas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678980210,"creation_date":1678980210,"question_id":75758274,"body_markdown":"When my app is running inside a docker container, the problem is the integration between the environment inside the container and outside the container means my IDE does not know what classes are defined and all the gradle packages that I think my java app is setting in the class path are not available for my IDE (IntelliJ in this case).\r\n\r\nIs there a solution to this, that would allow me to properly work in Docker, yet have some IDE integration for autocomplete and associated functionality?","title":"When java app run inside Docker Container, IDE cannot find classes, how to connect them together?","body":"<p>When my app is running inside a docker container, the problem is the integration between the environment inside the container and outside the container means my IDE does not know what classes are defined and all the gradle packages that I think my java app is setting in the class path are not available for my IDE (IntelliJ in this case).</p>\n<p>Is there a solution to this, that would allow me to properly work in Docker, yet have some IDE integration for autocomplete and associated functionality?</p>\n"},{"tags":["java","spring","kotlin","serialization","jackson"],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678980136,"creation_date":1678814436,"answer_id":75736423,"question_id":75733304,"body_markdown":"&gt; Is there a way of defaulting for empty string to null without writing\r\n&gt; custom deserializer?\r\n\r\nYes, you can enable the [`ACCEPT_EMPTY_STRING_AS_NULL_OBJECT`](https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/DeserializationFeature.html#ACCEPT_EMPTY_STRING_AS_NULL_OBJECT) deserialization feature to allow JSON empty String value (&quot;&quot;) to be bound as `null` for POJOs and other structured values (Maps, Collections):\r\n\r\n~~~\r\nval mapper = ObjectMapper()\r\nmapper.enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT)\r\nval testRequest = mapper1.readValue&lt;TestRequest&gt;(request)\r\n~~~\r\n\r\nIf the change is limited to just one endpoint like you described you can create inside the bound controller a new `ObjectMapper` mapper with the enabled feature to avoid unknown side effects in other parts of your application and convert the `RequestBody` value to a `string` value, then passing the string value to the local mapper.","title":"Kotlin Spring optional RequestBody map empty string to null","body":"<blockquote>\n<p>Is there a way of defaulting for empty string to null without writing\ncustom deserializer?</p>\n</blockquote>\n<p>Yes, you can enable the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/DeserializationFeature.html#ACCEPT_EMPTY_STRING_AS_NULL_OBJECT\" rel=\"nofollow noreferrer\"><code>ACCEPT_EMPTY_STRING_AS_NULL_OBJECT</code></a> deserialization feature to allow JSON empty String value (&quot;&quot;) to be bound as <code>null</code> for POJOs and other structured values (Maps, Collections):</p>\n<pre><code>val mapper = ObjectMapper()\nmapper.enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT)\nval testRequest = mapper1.readValue&lt;TestRequest&gt;(request)\n</code></pre>\n<p>If the change is limited to just one endpoint like you described you can create inside the bound controller a new <code>ObjectMapper</code> mapper with the enabled feature to avoid unknown side effects in other parts of your application and convert the <code>RequestBody</code> value to a <code>string</code> value, then passing the string value to the local mapper.</p>\n"}],"owner":{"account_id":25541651,"reputation":53,"user_id":19327603,"display_name":"Lofalan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75736423,"answer_count":1,"score":3,"last_activity_date":1678980136,"creation_date":1678797854,"question_id":75733304,"body_markdown":"Recently I did a change to an **API** which at first should&#39;ve been backwards compatible, but due to the client my endpoint started responding **400 Bad Request**, what I did is added optional RequestBody to **PUT** endpoint which shouldn&#39;t have cause any issues since it&#39;s optional, but client send empty string value which can&#39;t be deserialized into object and Jackson fails to deserialize.\r\n\r\nMy dto object:\r\n\r\n```\r\ndata class TestRequest(@field:Future val expiresDatetime: Instant? )\r\n```\r\n\r\nEndpoint definition:\r\n\r\n```\r\n@PutMapping(&quot;/{testId}/revoke&quot;)\r\nfun revoke(\r\n@PathVariable testId: String,\r\n@Valid\r\n@RequestBody(required = false)\r\nrequest: TestRequest? = null,\r\n): TestRevokeResponse =\r\ntestService.revoke(testId, request)\r\n```\r\n\r\nUpon debugging what is being sent to the endpoint I noticed these headers:\r\n`Content-Type: application/json content-type: application/json; charset=utf-8 content-length: 2`\r\n\r\nAnd payload being: `&quot;&quot;`\r\n\r\nIs there a way of defaulting for empty string to null without writing custom deserializer?\r\n\r\n I&#39;ve tried writting my own deserializer but it seems as an overhead for such a case to create deserializer.","title":"Kotlin Spring optional RequestBody map empty string to null","body":"<p>Recently I did a change to an <strong>API</strong> which at first should've been backwards compatible, but due to the client my endpoint started responding <strong>400 Bad Request</strong>, what I did is added optional RequestBody to <strong>PUT</strong> endpoint which shouldn't have cause any issues since it's optional, but client send empty string value which can't be deserialized into object and Jackson fails to deserialize.</p>\n<p>My dto object:</p>\n<pre><code>data class TestRequest(@field:Future val expiresDatetime: Instant? )\n</code></pre>\n<p>Endpoint definition:</p>\n<pre><code>@PutMapping(&quot;/{testId}/revoke&quot;)\nfun revoke(\n@PathVariable testId: String,\n@Valid\n@RequestBody(required = false)\nrequest: TestRequest? = null,\n): TestRevokeResponse =\ntestService.revoke(testId, request)\n</code></pre>\n<p>Upon debugging what is being sent to the endpoint I noticed these headers:\n<code>Content-Type: application/json content-type: application/json; charset=utf-8 content-length: 2</code></p>\n<p>And payload being: <code>&quot;&quot;</code></p>\n<p>Is there a way of defaulting for empty string to null without writing custom deserializer?</p>\n<p>I've tried writting my own deserializer but it seems as an overhead for such a case to create deserializer.</p>\n"},{"tags":["java","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1678979463,"post_id":75758061,"comment_id":133641309,"body_markdown":"Take out &#39;@ExceptionHandler(NotFoundException.class) &amp; &#39;@ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)","body":"Take out &#39;@ExceptionHandler(NotFoundException.class) &amp; &#39;@ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)"}],"answers":[{"tags":[],"owner":{"account_id":28034117,"reputation":26,"user_id":21412826,"display_name":"Сулейман Хаттабыч"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678980125,"creation_date":1678980125,"answer_id":75758260,"question_id":75758061,"body_markdown":"Your handler need a parameter same as your exception:\r\n\r\n    @ExceptionHandler(NotFoundException.class)\r\n    public Response handleException(NotFoundException e) {\r\n        return new Response(e.getMessage());\r\n    }","title":"Problem handling Exception with Spring boot","body":"<p>Your handler need a parameter same as your exception:</p>\n<pre><code>@ExceptionHandler(NotFoundException.class)\npublic Response handleException(NotFoundException e) {\n    return new Response(e.getMessage());\n}\n</code></pre>\n"}],"owner":{"account_id":28033904,"reputation":3,"user_id":21412641,"display_name":"Loppy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679152755,"accepted_answer_id":75758260,"answer_count":1,"score":0,"last_activity_date":1678980125,"creation_date":1678979263,"question_id":75758061,"body_markdown":"I&#39;m new to the Spring universe so i decided to try something simple to learn it.\r\ni tryed to create a simple rest api with simple crud operations. The problem comes out trying to handle the different type of exceptions.\r\n\r\nI tryed to handle the exception in the @RestController class with this function:\r\n    \r\n```\r\n@ExceptionHandler(NotFoundException.class)\r\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\r\n    @GetMapping(value = &quot;userino/{id}&quot;)\r\n    public User getUserino(@PathVariable long id){\r\n        Optional&lt;User&gt; u = userRepo.findById(id);\r\n\r\n        if(u.isPresent())\r\n            return u.get();\r\n        \r\n        throw new NotFoundException(&quot;Inexistent user &quot;+id);\r\n        \r\n    }\r\n```\r\n\r\nbut using the path &quot;localhost:8080/userino/3&quot; (User 3 doesn&#39;t exist) on postman i visualize the following message: \r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;2023-03-16T14:46:10.041+00:00&quot;,\r\n    &quot;status&quot;: 500,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;path&quot;: &quot;/userino/3&quot;\r\n}\r\n\r\n```\r\nHow do i fix this? i just want to visualize my own Error message.\r\nthx to evryone\r\n\r\ni expet to visualize my own txt error nt the default one.","title":"Problem handling Exception with Spring boot","body":"<p>I'm new to the Spring universe so i decided to try something simple to learn it.\ni tryed to create a simple rest api with simple crud operations. The problem comes out trying to handle the different type of exceptions.</p>\n<p>I tryed to handle the exception in the @RestController class with this function:</p>\n<pre><code>@ExceptionHandler(NotFoundException.class)\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\n    @GetMapping(value = &quot;userino/{id}&quot;)\n    public User getUserino(@PathVariable long id){\n        Optional&lt;User&gt; u = userRepo.findById(id);\n\n        if(u.isPresent())\n            return u.get();\n        \n        throw new NotFoundException(&quot;Inexistent user &quot;+id);\n        \n    }\n</code></pre>\n<p>but using the path &quot;localhost:8080/userino/3&quot; (User 3 doesn't exist) on postman i visualize the following message:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2023-03-16T14:46:10.041+00:00&quot;,\n    &quot;status&quot;: 500,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;path&quot;: &quot;/userino/3&quot;\n}\n\n</code></pre>\n<p>How do i fix this? i just want to visualize my own Error message.\nthx to evryone</p>\n<p>i expet to visualize my own txt error nt the default one.</p>\n"},{"tags":["java","spi","java-9","service-locator","module-info"],"comments":[{"owner":{"account_id":10098519,"reputation":5323,"user_id":7463126,"display_name":"Alan Bateman"},"score":4,"creation_date":1507473342,"post_id":46632187,"comment_id":80213809,"body_markdown":"I assume you meant to add `provides eu.com.example.text.spi.TextAPI with eu.com.example.implb.text.TextB` as TextB is the implementation (not the service type).","body":"I assume you meant to add <code>provides eu.com.example.text.spi.TextAPI with eu.com.example.implb.text.TextB</code> as TextB is the implementation (not the service type)."},{"owner":{"account_id":1295412,"reputation":396,"user_id":1246599,"accept_rate":70,"display_name":"Radosław Osiński"},"score":0,"creation_date":1507473548,"post_id":46632187,"comment_id":80213871,"body_markdown":"Thank you very much! I have spend on this typo few hours. That solved my problem.","body":"Thank you very much! I have spend on this typo few hours. That solved my problem."}],"answers":[{"tags":[],"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1507473752,"creation_date":1507473379,"answer_id":46632280,"question_id":46632187,"body_markdown":"You can change to using:-\r\n\r\n    provides eu.com.example.text.spi.TextAPI with eu.com.example.implb.text.TextB; \r\n    // you provide a service through its implementation\r\n\r\ninstead of \r\n\r\n    provides eu.com.example.implb.text.TextB with eu.com.example.text.spi.TextAPI; \r\n\r\n\r\n***[Services](http://openjdk.java.net/projects/jigsaw/spec/sotms/#services)*** in the document provides a sample around the implementation.\r\n","title":"SPI + JDK 9 + module-info.java","body":"<p>You can change to using:-</p>\n\n<pre><code>provides eu.com.example.text.spi.TextAPI with eu.com.example.implb.text.TextB; \n// you provide a service through its implementation\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>provides eu.com.example.implb.text.TextB with eu.com.example.text.spi.TextAPI; \n</code></pre>\n\n<p><strong><em><a href=\"http://openjdk.java.net/projects/jigsaw/spec/sotms/#services\" rel=\"nofollow noreferrer\">Services</a></em></strong> in the document provides a sample around the implementation.</p>\n"},{"tags":[],"owner":{"account_id":10894943,"reputation":529,"user_id":8009264,"display_name":"Yuresh Karunanayake"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628480745,"creation_date":1628480745,"answer_id":68706624,"question_id":46632187,"body_markdown":"A module can specify that it provides a service with a specific type of service providers. It is declared using `provides` and `with` keyword.\r\n\r\nsyntax : **provides** serviceType **with** implementationTypes;\r\n\r\n( Can specify multiple implementations types as a comma-separated list )\r\n\r\nTherefore in your module `eu.com.example.implb.text` should add following statement.\r\n\r\n\r\n\r\n    provides eu.com.example.implb.text.TextB with eu.com.example.text.spi.TextAPI;\r\n\r\n\r\nNOTE : `provides` does not equal `exports`. So any other modules that requires `eu.com.example.implb.text` will not access `eu.com.example.implb.text.TextB` if it doesn&#39;t exports.","title":"SPI + JDK 9 + module-info.java","body":"<p>A module can specify that it provides a service with a specific type of service providers. It is declared using <code>provides</code> and <code>with</code> keyword.</p>\n<p>syntax : <strong>provides</strong> serviceType <strong>with</strong> implementationTypes;</p>\n<p>( Can specify multiple implementations types as a comma-separated list )</p>\n<p>Therefore in your module <code>eu.com.example.implb.text</code> should add following statement.</p>\n<pre><code>provides eu.com.example.implb.text.TextB with eu.com.example.text.spi.TextAPI;\n</code></pre>\n<p>NOTE : <code>provides</code> does not equal <code>exports</code>. So any other modules that requires <code>eu.com.example.implb.text</code> will not access <code>eu.com.example.implb.text.TextB</code> if it doesn't exports.</p>\n"}],"owner":{"account_id":1295412,"reputation":396,"user_id":1246599,"accept_rate":70,"display_name":"Radosław Osiński"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1413,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":46632280,"answer_count":2,"score":7,"last_activity_date":1678979993,"creation_date":1507472808,"question_id":46632187,"body_markdown":"I am experimenting with SPI on JDK 9. Entire example works on JDK 9 without &quot;module-info.java&quot;. After adding &quot;module-info.java&quot; ServiceLocator is not finding implementing class. I am confused and I cannot find working SPI example in modularized JDK 9 project.\r\n\r\n\r\nSo my example project looks like this:\r\n\r\n    /spidemo\r\n    ├── apiModule\r\n    │&#160;&#160; ├── pom.xml\r\n    │&#160;&#160; └── src\r\n    │&#160;&#160;     └── main\r\n    │&#160;&#160;         └── java\r\n    │&#160;&#160;             ├── eu\r\n    │&#160;&#160;             │&#160;&#160; └── com\r\n    │&#160;&#160;             │&#160;&#160;     └── example\r\n    │&#160;&#160;             │&#160;&#160;         └── text\r\n    │&#160;&#160;             │&#160;&#160;             └── spi\r\n    │&#160;&#160;             │&#160;&#160;                 └── TextAPI.java\r\n    │&#160;&#160;             └── module-info.java\r\n    ├── applicationB\r\n    │&#160;&#160; ├── pom.xml\r\n    │&#160;&#160; └── src\r\n    │&#160;&#160;     └── main\r\n    │&#160;&#160;         ├── java\r\n    │&#160;&#160;         │&#160;&#160; └── eu\r\n    │&#160;&#160;         │&#160;&#160;     └── com\r\n    │&#160;&#160;         │&#160;&#160;         └── example\r\n    │&#160;&#160;         │&#160;&#160;             └── spi\r\n    │&#160;&#160;         │&#160;&#160;                 └── b\r\n    │&#160;&#160;         │&#160;&#160;                     └── application\r\n    │&#160;&#160;         │&#160;&#160;                         └── DemoB.java\r\n    │&#160;&#160;         └── module-info.java\r\n    ├── applicationCommon\r\n    │&#160;&#160; ├── pom.xml\r\n    │&#160;&#160; └── src\r\n    │&#160;&#160;     └── main\r\n    │&#160;&#160;         └── java\r\n    │&#160;&#160;             ├── eu\r\n    │&#160;&#160;             │&#160;&#160; └── com\r\n    │&#160;&#160;             │&#160;&#160;     └── example\r\n    │&#160;&#160;             │&#160;&#160;         └── spi\r\n    │&#160;&#160;             │&#160;&#160;             └── application\r\n    │&#160;&#160;             │&#160;&#160;                 └── TextAPIProvider.java\r\n    │&#160;&#160;             └── module-info.java\r\n    ├── implementationB\r\n    │&#160;&#160; ├── pom.xml\r\n    │&#160;&#160; └── src\r\n    │&#160;&#160;     └── main\r\n    │&#160;&#160;         ├── java\r\n    │&#160;&#160;         │&#160;&#160; └── eu\r\n    │&#160;&#160;         │&#160;&#160;     └── com\r\n    │&#160;&#160;         │&#160;&#160;         └── example\r\n    │&#160;&#160;         │&#160;&#160;             └── implb\r\n    │&#160;&#160;         │&#160;&#160;                 └── text\r\n    │&#160;&#160;         │&#160;&#160;                     └── TextB.java\r\n    │&#160;&#160;         ├── module-info.java\r\n    │&#160;&#160;         └── resources\r\n    │&#160;&#160;             └── META-INF\r\n    │&#160;&#160;                 └── services\r\n    │&#160;&#160;                     └── eu.com.example.text.spi.TextAPI\r\n\r\nI have introduced interface:\r\n\r\n    package eu.com.example.text.spi;\r\n    public interface TextAPI {\r\n        String getHelloWorldText();\r\n    }\r\nThis interface is implemented by:\r\n   \r\n    package eu.com.example.implb.text;\r\n    import eu.com.example.text.spi.TextAPI;\r\n    public class TextB implements TextAPI { \r\n        public String getHelloWorldText() {\r\n            return &quot;Text from B implementation&quot;;\r\n        }\r\n    }\r\n\r\nThe implementation is searched by code similar to:\r\n\r\n    package eu.com.example.spi.application;\r\n    import eu.com.example.text.spi.DefaultTextAPI;\r\n    import eu.com.example.text.spi.TextAPI;\r\n    import java.util.ServiceLoader;\r\n    public class TextAPIProvider {\r\n    \r\n        public static TextAPI getProvider(String providerName) {\r\n            ServiceLoader&lt;TextAPI&gt; serviceLoader = ServiceLoader.load(TextAPI.class);\r\n            for (TextAPI provider : serviceLoader) {\r\n                String className = provider.getClass().getName();\r\n                if (providerName.equals(className)) {\r\n                    return provider;\r\n                }\r\n            }\r\n            throw new RuntimeException(providerName + &quot; provider is not found!&quot;);\r\n        }\r\n    }\r\nAnd now is the fun part. When I am executing class below without:\r\n\r\n - /implementationB/src/main/java/module-info.java\r\n - /applicationB/src/main/java/module-info.java\r\n\r\nthen implementation class is found and text is printed out.\r\n\r\n    package eu.com.example.spi.b.application;\r\n    import eu.com.example.spi.application.TextAPIProvider;\r\n    public class DemoB {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;---&gt; &quot; + TextAPIProvider.getProvider(&quot;eu.com.example.implb.text.TextB&quot;).getHelloWorldText());\r\n        }\r\n    }\r\nAfter introducing this two &quot;module-info.java&quot; files implementation class is not found by ServiceLocator.\r\nContent of /applicationB/src/main/java/module-info.java:\r\n\r\n    module eu.com.example.applicationB {\r\n        requires eu.com.example.apiModule;\r\n        requires transitive eu.com.example.applicationCommon;\r\n        uses eu.com.example.text.spi.TextAPI;\r\n    }\r\nContent of /implementationB/src/main/java/module-info.java:\r\n\r\n    module eu.com.example.implb.text {\r\n        requires eu.com.example.apiModule;\r\n        exports eu.com.example.implb.text;\r\n    //    provides eu.com.example.implb.text.TextB with eu.com.example.text.spi.TextAPI;\r\n    }\r\nWhen I uncomment:\r\n\r\n    provides eu.com.example.implb.text.TextB with eu.com.example.text.spi.TextAPI;\r\nline then compilation error occurs:\r\n\r\n    .../implementationB/src/main/java/module-info.java:[7,74] the service implementation type must be a subtype of the service interface type, or have a public static no-args method named &quot;provider&quot; returning the service implementation\r\n    .../implementationB/src/main/java/module-info.java:[7,5] service implementation must be defined in the same module as the provides directive\r\n\r\nI have tried to change package names as compilation error sugests, but then I have introduced &quot;split package&quot; issues. \r\n\r\nWhat I should do to use ServiceLocator in fully modularized JDK 9? Is it possible? Have anyone seen working example?\r\nCode can be also seen here: https://github.com/RadoslawOsinski/spidemo","title":"SPI + JDK 9 + module-info.java","body":"<p>I am experimenting with SPI on JDK 9. Entire example works on JDK 9 without &quot;module-info.java&quot;. After adding &quot;module-info.java&quot; ServiceLocator is not finding implementing class. I am confused and I cannot find working SPI example in modularized JDK 9 project.</p>\n<p>So my example project looks like this:</p>\n<pre><code>/spidemo\n├── apiModule\n│   ├── pom.xml\n│   └── src\n│       └── main\n│           └── java\n│               ├── eu\n│               │   └── com\n│               │       └── example\n│               │           └── text\n│               │               └── spi\n│               │                   └── TextAPI.java\n│               └── module-info.java\n├── applicationB\n│   ├── pom.xml\n│   └── src\n│       └── main\n│           ├── java\n│           │   └── eu\n│           │       └── com\n│           │           └── example\n│           │               └── spi\n│           │                   └── b\n│           │                       └── application\n│           │                           └── DemoB.java\n│           └── module-info.java\n├── applicationCommon\n│   ├── pom.xml\n│   └── src\n│       └── main\n│           └── java\n│               ├── eu\n│               │   └── com\n│               │       └── example\n│               │           └── spi\n│               │               └── application\n│               │                   └── TextAPIProvider.java\n│               └── module-info.java\n├── implementationB\n│   ├── pom.xml\n│   └── src\n│       └── main\n│           ├── java\n│           │   └── eu\n│           │       └── com\n│           │           └── example\n│           │               └── implb\n│           │                   └── text\n│           │                       └── TextB.java\n│           ├── module-info.java\n│           └── resources\n│               └── META-INF\n│                   └── services\n│                       └── eu.com.example.text.spi.TextAPI\n</code></pre>\n<p>I have introduced interface:</p>\n<pre><code>package eu.com.example.text.spi;\npublic interface TextAPI {\n    String getHelloWorldText();\n}\n</code></pre>\n<p>This interface is implemented by:</p>\n<pre><code>package eu.com.example.implb.text;\nimport eu.com.example.text.spi.TextAPI;\npublic class TextB implements TextAPI { \n    public String getHelloWorldText() {\n        return &quot;Text from B implementation&quot;;\n    }\n}\n</code></pre>\n<p>The implementation is searched by code similar to:</p>\n<pre><code>package eu.com.example.spi.application;\nimport eu.com.example.text.spi.DefaultTextAPI;\nimport eu.com.example.text.spi.TextAPI;\nimport java.util.ServiceLoader;\npublic class TextAPIProvider {\n\n    public static TextAPI getProvider(String providerName) {\n        ServiceLoader&lt;TextAPI&gt; serviceLoader = ServiceLoader.load(TextAPI.class);\n        for (TextAPI provider : serviceLoader) {\n            String className = provider.getClass().getName();\n            if (providerName.equals(className)) {\n                return provider;\n            }\n        }\n        throw new RuntimeException(providerName + &quot; provider is not found!&quot;);\n    }\n}\n</code></pre>\n<p>And now is the fun part. When I am executing class below without:</p>\n<ul>\n<li>/implementationB/src/main/java/module-info.java</li>\n<li>/applicationB/src/main/java/module-info.java</li>\n</ul>\n<p>then implementation class is found and text is printed out.</p>\n<pre><code>package eu.com.example.spi.b.application;\nimport eu.com.example.spi.application.TextAPIProvider;\npublic class DemoB {\n    public static void main(String[] args) {\n        System.out.println(&quot;---&gt; &quot; + TextAPIProvider.getProvider(&quot;eu.com.example.implb.text.TextB&quot;).getHelloWorldText());\n    }\n}\n</code></pre>\n<p>After introducing this two &quot;module-info.java&quot; files implementation class is not found by ServiceLocator.\nContent of /applicationB/src/main/java/module-info.java:</p>\n<pre><code>module eu.com.example.applicationB {\n    requires eu.com.example.apiModule;\n    requires transitive eu.com.example.applicationCommon;\n    uses eu.com.example.text.spi.TextAPI;\n}\n</code></pre>\n<p>Content of /implementationB/src/main/java/module-info.java:</p>\n<pre><code>module eu.com.example.implb.text {\n    requires eu.com.example.apiModule;\n    exports eu.com.example.implb.text;\n//    provides eu.com.example.implb.text.TextB with eu.com.example.text.spi.TextAPI;\n}\n</code></pre>\n<p>When I uncomment:</p>\n<pre><code>provides eu.com.example.implb.text.TextB with eu.com.example.text.spi.TextAPI;\n</code></pre>\n<p>line then compilation error occurs:</p>\n<pre><code>.../implementationB/src/main/java/module-info.java:[7,74] the service implementation type must be a subtype of the service interface type, or have a public static no-args method named &quot;provider&quot; returning the service implementation\n.../implementationB/src/main/java/module-info.java:[7,5] service implementation must be defined in the same module as the provides directive\n</code></pre>\n<p>I have tried to change package names as compilation error sugests, but then I have introduced &quot;split package&quot; issues.</p>\n<p>What I should do to use ServiceLocator in fully modularized JDK 9? Is it possible? Have anyone seen working example?\nCode can be also seen here: <a href=\"https://github.com/RadoslawOsinski/spidemo\" rel=\"nofollow noreferrer\">https://github.com/RadoslawOsinski/spidemo</a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9655,"page":570,"page_size":100}
