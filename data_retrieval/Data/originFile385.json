{"items":[{"tags":["java","oop"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1686189360,"post_id":76428121,"comment_id":134766262,"body_markdown":"It’s just a method.","body":"It’s just a method."},{"owner":{"account_id":22633544,"reputation":588,"user_id":16810646,"display_name":"Ananta"},"score":2,"creation_date":1686189465,"post_id":76428121,"comment_id":134766273,"body_markdown":"It is method chaining.","body":"It is method chaining."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1686189513,"post_id":76428121,"comment_id":134766283,"body_markdown":"What is `A` and what does `method` do? Methods don&#39;t get special names solely based on return types.","body":"What is <code>A</code> and what does <code>method</code> do? Methods don&#39;t get special names solely based on return types."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1686190624,"post_id":76428121,"comment_id":134766365,"body_markdown":"Depending on what the rest of the code is, it could be a Builder pattern. It could be a lot of different things. But in most examples the method would return `this`; what is `objA`?","body":"Depending on what the rest of the code is, it could be a Builder pattern. It could be a lot of different things. But in most examples the method would return <code>this</code>; what is <code>objA</code>?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686191950,"post_id":76428121,"comment_id":134766462,"body_markdown":"There is not a term, no.  Methods either return a value or nothing.","body":"There is not a term, no.  Methods either return a value or nothing."}],"answers":[{"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1686190710,"post_id":76428169,"comment_id":134766371,"body_markdown":"`method` is not `static`. So how would one get the instance of `A` to invoke `method`?","body":"<code>method</code> is not <code>static</code>. So how would one get the instance of <code>A</code> to invoke <code>method</code>?"},{"owner":{"account_id":18047872,"reputation":11,"user_id":13118348,"display_name":"Aaron Winters"},"score":0,"creation_date":1686192404,"post_id":76428169,"comment_id":134766490,"body_markdown":"Correct, the method is not static, but when asking for a method that is returning an object reference, I proposed that maybe the terminology that they are looking for is something like the singleton design pattern. This is also why I stated that there&#39;s more that goes into a singleton and provided a reference to the singleton design pattern.","body":"Correct, the method is not static, but when asking for a method that is returning an object reference, I proposed that maybe the terminology that they are looking for is something like the singleton design pattern. This is also why I stated that there&#39;s more that goes into a singleton and provided a reference to the singleton design pattern."}],"tags":[],"owner":{"account_id":18047872,"reputation":11,"user_id":13118348,"display_name":"Aaron Winters"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686190512,"creation_date":1686190512,"answer_id":76428169,"question_id":76428121,"body_markdown":"There are Singletons that are used to ensure a single static instance of a class is returned, but there is much more that goes into the singleton design pattern than just a method that returns an instance of the same class.\r\n\r\nMore on Singleton Design Pattern\r\nhttps://www.geeksforgeeks.org/singleton-design-pattern/","title":"What are methods having same return type as its class called?","body":"<p>There are Singletons that are used to ensure a single static instance of a class is returned, but there is much more that goes into the singleton design pattern than just a method that returns an instance of the same class.</p>\n<p>More on Singleton Design Pattern\n<a href=\"https://www.geeksforgeeks.org/singleton-design-pattern/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/singleton-design-pattern/</a></p>\n"},{"tags":[],"owner":{"account_id":20122579,"reputation":44,"user_id":14756793,"display_name":"Ogheneovie Oki-Peter"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686192967,"creation_date":1686192967,"answer_id":76428316,"question_id":76428121,"body_markdown":"I think you can call that a constructor.","title":"What are methods having same return type as its class called?","body":"<p>I think you can call that a constructor.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686197708,"creation_date":1686197708,"answer_id":76428578,"question_id":76428121,"body_markdown":"If the implementation finishes with:\r\n\r\n    return this;\r\n\r\nths class is said to have a [*fluent interface*][1], and such a method is called a *fluent method*.\r\n\r\nSince your implementation has:\r\n\r\n    return objA;\r\n\r\nit suggests a new instance is created within the instance method, making this a kind of [*factory method*][2], which further suggests that the class is [*immutable*][3] and methods are available to create a new instance based wholly on `this` - aka a *copy method* - or partly on `this` - eg like `BigInteger`&#39;s `add()` method - to make creating instances based on the state of `this` using an (possibly parameterized) action named by the name of the method more convenient; AFAIK such methods have no particular name.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Fluent_interface\r\n  [2]: https://en.wikipedia.org/wiki/Factory_method_pattern\r\n  [3]: https://en.wikipedia.org/wiki/Immutable_object","title":"What are methods having same return type as its class called?","body":"<p>If the implementation finishes with:</p>\n<pre><code>return this;\n</code></pre>\n<p>ths class is said to have a <a href=\"https://en.wikipedia.org/wiki/Fluent_interface\" rel=\"nofollow noreferrer\"><em>fluent interface</em></a>, and such a method is called a <em>fluent method</em>.</p>\n<p>Since your implementation has:</p>\n<pre><code>return objA;\n</code></pre>\n<p>it suggests a new instance is created within the instance method, making this a kind of <a href=\"https://en.wikipedia.org/wiki/Factory_method_pattern\" rel=\"nofollow noreferrer\"><em>factory method</em></a>, which further suggests that the class is <a href=\"https://en.wikipedia.org/wiki/Immutable_object\" rel=\"nofollow noreferrer\"><em>immutable</em></a> and methods are available to create a new instance based wholly on <code>this</code> - aka a <em>copy method</em> - or partly on <code>this</code> - eg like <code>BigInteger</code>'s <code>add()</code> method - to make creating instances based on the state of <code>this</code> using an (possibly parameterized) action named by the name of the method more convenient; AFAIK such methods have no particular name.</p>\n"},{"tags":[],"owner":{"account_id":14373743,"reputation":39,"user_id":10382742,"display_name":"Skyhigh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686204407,"creation_date":1686198346,"answer_id":76428615,"question_id":76428121,"body_markdown":"I did a quick Google search, Looks like a normal method, but also can be referred to as `method chaining`. \r\n\r\nRead more here: \r\n\r\nhttps://www.geeksforgeeks.org/method-chaining-in-java-with-examples/","title":"What are methods having same return type as its class called?","body":"<p>I did a quick Google search, Looks like a normal method, but also can be referred to as <code>method chaining</code>.</p>\n<p>Read more here:</p>\n<p><a href=\"https://www.geeksforgeeks.org/method-chaining-in-java-with-examples/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/method-chaining-in-java-with-examples/</a></p>\n"}],"owner":{"account_id":28776615,"reputation":1,"user_id":22039097,"display_name":"Sayan Ghosh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1686204407,"creation_date":1686189294,"question_id":76428121,"body_markdown":"Is there any specific name for the methods that returns object reference of the same class it belongs to? Like\r\n\r\n    class A {\r\n        public A method() { // What is such a method called?\r\n            ...\r\n            return objA;\r\n        }\r\n    } \r\n\r\nI would like to know what specific term is used for these methods.","title":"What are methods having same return type as its class called?","body":"<p>Is there any specific name for the methods that returns object reference of the same class it belongs to? Like</p>\n<pre><code>class A {\n    public A method() { // What is such a method called?\n        ...\n        return objA;\n    }\n} \n</code></pre>\n<p>I would like to know what specific term is used for these methods.</p>\n"},{"tags":["java","azure","web-services","azure-web-app-service"],"comments":[{"owner":{"account_id":26619036,"reputation":1003,"user_id":20238030,"display_name":"Suresh Chikkam"},"score":0,"creation_date":1686199168,"post_id":76414636,"comment_id":134767051,"body_markdown":"Hi @user3204086, can you specify what web service framework do you use.","body":"Hi @user3204086, can you specify what web service framework do you use."}],"answers":[{"comments":[{"owner":{"account_id":3868047,"reputation":59,"user_id":3204086,"display_name":"user3204086"},"score":1,"creation_date":1686288267,"post_id":76428996,"comment_id":134781075,"body_markdown":"I figured it out. the thing I was doing wrong that I haven&#39;t whitelisted the ip address of WinVM in one of the parameters file for WebService. After adding the ip, it started working.","body":"I figured it out. the thing I was doing wrong that I haven&#39;t whitelisted the ip address of WinVM in one of the parameters file for WebService. After adding the ip, it started working."},{"owner":{"account_id":26619036,"reputation":1003,"user_id":20238030,"display_name":"Suresh Chikkam"},"score":0,"creation_date":1686288526,"post_id":76428996,"comment_id":134781096,"body_markdown":"Great to hear, it&#39;s essential to properly configure the IP whitelisting or access control settings in your web service to ensure that only trusted and authorized sources can access the service.","body":"Great to hear, it&#39;s essential to properly configure the IP whitelisting or access control settings in your web service to ensure that only trusted and authorized sources can access the service."}],"tags":[],"owner":{"account_id":26619036,"reputation":1003,"user_id":20238030,"display_name":"Suresh Chikkam"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686204084,"creation_date":1686204084,"answer_id":76428996,"question_id":76414636,"body_markdown":"- Configure CORS to permit requests from various origins if your web service is accessible via a different domain or port than Postman. To accept requests from Postman, include the proper CORS headers in the response from your web service.\r\n```\r\nAccess-Control-Allow-Origin: *\r\nAccess-Control-Allow-Methods: GET, POST, PUT, DELETE\r\nAccess-Control-Allow-Headers: Content-Type\r\n```\r\n- Confirm that the IP address of your Windows VM is permitted access to the web service on the Linux VM.\r\n![enter image description here](https://i.imgur.com/CCl5b9G.png)\r\n- Verify that your web service is set up properly on the Linux VM to listen on the private IP address (10.0.0.4). Make sure the web service is available from within the VM itself and is bound to the proper IP address and port.\r\n&gt;When I send GET request to webservice API , I receive the error.\r\n\r\nJust try to test the curl command to check whether the web service is accepting GET requests on the Linux VM itself. **`curl http://localhost`**\r\n\r\n- Try and check by changing the port in Linux VM.\r\n![enter image description here](https://i.imgur.com/PGDEv1b.png)","title":"Webservice not accepting get request from postman","body":"<ul>\n<li>Configure CORS to permit requests from various origins if your web service is accessible via a different domain or port than Postman. To accept requests from Postman, include the proper CORS headers in the response from your web service.</li>\n</ul>\n<pre><code>Access-Control-Allow-Origin: *\nAccess-Control-Allow-Methods: GET, POST, PUT, DELETE\nAccess-Control-Allow-Headers: Content-Type\n</code></pre>\n<ul>\n<li>Confirm that the IP address of your Windows VM is permitted access to the web service on the Linux VM.\n<img src=\"https://i.imgur.com/CCl5b9G.png\" alt=\"enter image description here\" /></li>\n<li>Verify that your web service is set up properly on the Linux VM to listen on the private IP address (10.0.0.4). Make sure the web service is available from within the VM itself and is bound to the proper IP address and port.</li>\n</ul>\n<blockquote>\n<p>When I send GET request to webservice API , I receive the error.</p>\n</blockquote>\n<p>Just try to test the curl command to check whether the web service is accepting GET requests on the Linux VM itself. <strong><code>curl http://localhost</code></strong></p>\n<ul>\n<li>Try and check by changing the port in Linux VM.\n<img src=\"https://i.imgur.com/PGDEv1b.png\" alt=\"enter image description here\" /></li>\n</ul>\n"}],"owner":{"account_id":3868047,"reputation":59,"user_id":3204086,"display_name":"user3204086"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686204084,"creation_date":1686054417,"question_id":76414636,"body_markdown":"I created a java based process on my local machine, published it as a web service and deployed on a linux VM on azure. Opened the required ports and provided private ip 10.0.0.4 as endpoint to host the webservice.\r\n\r\nProcess which webservice will execute have read/write/execute permissions.\r\n\r\nA batch file from webservice is executed to open the rest endpoints to get the requests.\r\n\r\nI created another Windows VM on azure within same network as of Linux VM. Both VMs are able to ping each other.\r\n\r\nWhen I send GET request to webservice API , I receive the error \r\n```\r\nHttp Error 403:The IP address/hostname is not allowed\r\n```\r\nAlternatively, I hosted the webservice from Windows VM and started the endpoint using localhost, tested on Postman from the same VM and it works smooth.\r\n\r\nProblem:\r\nWhy postman on Windows VM can&#39;t send GET request to webservice on Linux VM?\r\nWhen I run curl http://10.0.0.4 , I get \r\n```\r\ncurl: (7) Failed to connect to 10.0.0.4 port 80: Connection refused\r\n```\r\nI added 10.0.0.4 in /etc/hosts file as:\r\n10.0.0.4 &lt;DNS name of VM&gt;\r\n\r\nPlease help.","title":"Webservice not accepting get request from postman","body":"<p>I created a java based process on my local machine, published it as a web service and deployed on a linux VM on azure. Opened the required ports and provided private ip 10.0.0.4 as endpoint to host the webservice.</p>\n<p>Process which webservice will execute have read/write/execute permissions.</p>\n<p>A batch file from webservice is executed to open the rest endpoints to get the requests.</p>\n<p>I created another Windows VM on azure within same network as of Linux VM. Both VMs are able to ping each other.</p>\n<p>When I send GET request to webservice API , I receive the error</p>\n<pre><code>Http Error 403:The IP address/hostname is not allowed\n</code></pre>\n<p>Alternatively, I hosted the webservice from Windows VM and started the endpoint using localhost, tested on Postman from the same VM and it works smooth.</p>\n<p>Problem:\nWhy postman on Windows VM can't send GET request to webservice on Linux VM?\nWhen I run curl <a href=\"http://10.0.0.4\" rel=\"nofollow noreferrer\">http://10.0.0.4</a> , I get</p>\n<pre><code>curl: (7) Failed to connect to 10.0.0.4 port 80: Connection refused\n</code></pre>\n<p>I added 10.0.0.4 in /etc/hosts file as:\n10.0.0.4 </p>\n<p>Please help.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":0,"creation_date":1686202469,"post_id":76428840,"comment_id":134767415,"body_markdown":"There&#39;s quite a lot of code there - see https://stackoverflow.com/help/how-to-ask and in particular the guidance on minimal reproducible examples: https://stackoverflow.com/help/minimal-reproducible-example","body":"There&#39;s quite a lot of code there - see <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> and in particular the guidance on minimal reproducible examples: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":28367824,"reputation":73,"user_id":21696871,"display_name":"fnymmm"},"score":1,"creation_date":1686202731,"post_id":76428840,"comment_id":134767441,"body_markdown":"I think you could make your code better understandable, if you saved all the buttons in a ```List&lt;javax.swing.JButton&gt;```. You could then iterate over them when the main button is pressed","body":"I think you could make your code better understandable, if you saved all the buttons in a <code>List&lt;javax.swing.JButton&gt;</code>. You could then iterate over them when the main button is pressed"},{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":0,"creation_date":1686202773,"post_id":76428840,"comment_id":134767447,"body_markdown":"Also, you have a load of variables named `jButtonN`, where N goes 1, 2, 3, ... . That&#39;s a sign you have a collection of things, so instead of having the separate variables, use some kind of collection to hold them (e.g. an array or something in the Collections framework like `java.util.ArrayList`). That will make it easier to manipulate all the items.","body":"Also, you have a load of variables named <code>jButtonN</code>, where N goes 1, 2, 3, ... . That&#39;s a sign you have a collection of things, so instead of having the separate variables, use some kind of collection to hold them (e.g. an array or something in the Collections framework like <code>java.util.ArrayList</code>). That will make it easier to manipulate all the items."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1686206953,"post_id":76428840,"comment_id":134768043,"body_markdown":"You can have an instance field `boolean running`, which should be marked `true` when `start` button is clicked (actionPerformed of start button), and it should be set to `false` when `stop` button is clicked. All the jButton1 to jButton10&#39;s `actionPerformed` implementation should have a number of logical exit points where that instance field&#39;s value should be checked and those methods should come out of loops, processes, etc. as soon as possible, when that flag is found to be `false`. There should be graceful exits with proper clean-up of whatever resources those methods are consuming.","body":"You can have an instance field <code>boolean running</code>, which should be marked <code>true</code> when <code>start</code> button is clicked (actionPerformed of start button), and it should be set to <code>false</code> when <code>stop</code> button is clicked. All the jButton1 to jButton10&#39;s <code>actionPerformed</code> implementation should have a number of logical exit points where that instance field&#39;s value should be checked and those methods should come out of loops, processes, etc. as soon as possible, when that flag is found to be <code>false</code>. There should be graceful exits with proper clean-up of whatever resources those methods are consuming."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1686207335,"post_id":76428840,"comment_id":134768124,"body_markdown":"Also, if you want all 10 buttons&#39; actionPerformed to run concurrently, make sure that `jButtonNActionPerformed` method of each button uses SwingWorker (finally a separate thread) to do the button-related process. Otherwise, it will block the event processing thread and actions won&#39;t be performed in parallel, but one by one.","body":"Also, if you want all 10 buttons&#39; actionPerformed to run concurrently, make sure that <code>jButtonNActionPerformed</code> method of each button uses SwingWorker (finally a separate thread) to do the button-related process. Otherwise, it will block the event processing thread and actions won&#39;t be performed in parallel, but one by one."}],"owner":{"account_id":28777347,"reputation":1,"user_id":22039668,"display_name":"DISCOUNT CENTRE"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686202414,"creation_date":1686202006,"question_id":76428840,"body_markdown":"am new in using java, i want to create ten buttons with different functions but i want one button that will be able to stop any of the ten buttons\r\n\r\n    /*\r\n     * To change this license header, choose License Headers in Project Properties.\r\n     * To change this template file, choose Tools | Templates\r\n     * and open the template in the editor.\r\n     */\r\n    package dc.android.doctor.v3;\r\n    \r\n    /**\r\n     *\r\n     * @author JAY\r\n     */\r\n    public class DCJFrame extends javax.swing.JFrame {\r\n    \r\n        /**\r\n         * Creates new form DCJFrame\r\n         */\r\n        public DCJFrame() {\r\n            initComponents();\r\n        }\r\n    \r\n        /**\r\n         * This method is called from within the constructor to initialize the form.\r\n         * WARNING: Do NOT modify this code. The content of this method is always\r\n         * regenerated by the Form Editor.\r\n         */\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n        private void initComponents() {\r\n    \r\n            jButton1 = new javax.swing.JButton();\r\n            jButton2 = new javax.swing.JButton();\r\n            jButton3 = new javax.swing.JButton();\r\n            jButton4 = new javax.swing.JButton();\r\n            jButton5 = new javax.swing.JButton();\r\n            jButton6 = new javax.swing.JButton();\r\n            jButton7 = new javax.swing.JButton();\r\n            jButton8 = new javax.swing.JButton();\r\n            jButton9 = new javax.swing.JButton();\r\n            jButton10 = new javax.swing.JButton();\r\n            jProgressBar1 = new javax.swing.JProgressBar();\r\n            start = new javax.swing.JButton();\r\n            stop = new javax.swing.JButton();\r\n    \r\n            setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n    \r\n            jButton1.setText(&quot;jButton1&quot;);\r\n    \r\n            jButton2.setText(&quot;jButton2&quot;);\r\n    \r\n            jButton3.setText(&quot;jButton3&quot;);\r\n    \r\n            jButton4.setText(&quot;jButton4&quot;);\r\n    \r\n            jButton5.setText(&quot;jButton5&quot;);\r\n            jButton5.addActionListener(new java.awt.event.ActionListener() {\r\n                public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                    jButton5ActionPerformed(evt);\r\n                }\r\n            });\r\n    \r\n            jButton6.setText(&quot;jButton6&quot;);\r\n    \r\n            jButton7.setText(&quot;jButton7&quot;);\r\n    \r\n            jButton8.setText(&quot;jButton8&quot;);\r\n    \r\n            jButton9.setText(&quot;jButton9&quot;);\r\n    \r\n            jButton10.setText(&quot;jButton10&quot;);\r\n    \r\n            start.setText(&quot;START&quot;);\r\n            start.addActionListener(new java.awt.event.ActionListener() {\r\n                public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                    startActionPerformed(evt);\r\n                }\r\n            });\r\n    \r\n            stop.setText(&quot;STOP&quot;);\r\n            stop.addActionListener(new java.awt.event.ActionListener() {\r\n                public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                    stopActionPerformed(evt);\r\n                }\r\n            });\r\n    \r\n            javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n            getContentPane().setLayout(layout);\r\n            layout.setHorizontalGroup(\r\n                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addGroup(layout.createSequentialGroup()\r\n                    .addContainerGap()\r\n                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                        .addComponent(jProgressBar1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                        .addGroup(layout.createSequentialGroup()\r\n                            .addComponent(jButton1)\r\n                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                            .addComponent(jButton2)\r\n                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                            .addComponent(jButton3)\r\n                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                            .addComponent(jButton4)\r\n                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                            .addComponent(jButton5, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n                        .addGroup(layout.createSequentialGroup()\r\n                            .addComponent(jButton6)\r\n                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                            .addComponent(jButton7)\r\n                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                            .addComponent(jButton8)\r\n                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                            .addComponent(jButton9)\r\n                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                            .addComponent(jButton10)\r\n                            .addGap(0, 0, Short.MAX_VALUE))\r\n                        .addGroup(layout.createSequentialGroup()\r\n                            .addComponent(start)\r\n                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                            .addComponent(stop)))\r\n                    .addContainerGap())\r\n            );\r\n            layout.setVerticalGroup(\r\n                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addGroup(layout.createSequentialGroup()\r\n                    .addGap(25, 25, 25)\r\n                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                        .addComponent(jButton1)\r\n                        .addComponent(jButton2)\r\n                        .addComponent(jButton3)\r\n                        .addComponent(jButton4)\r\n                        .addComponent(jButton5))\r\n                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\r\n                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                        .addComponent(jButton6)\r\n                        .addComponent(jButton7)\r\n                        .addComponent(jButton8)\r\n                        .addComponent(jButton9)\r\n                        .addComponent(jButton10))\r\n                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 146, Short.MAX_VALUE)\r\n                    .addComponent(jProgressBar1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addGap(18, 18, 18)\r\n                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                        .addComponent(start)\r\n                        .addComponent(stop))\r\n                    .addGap(17, 17, 17))\r\n            );\r\n    \r\n            pack();\r\n        }// &lt;/editor-fold&gt;                        \r\n    \r\n        private void jButton5ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n    \r\n        }                                        \r\n    \r\n        private void startActionPerformed(java.awt.event.ActionEvent evt) {                                      \r\n            // TODO add your handling code here:\r\n        }                                     \r\n    \r\n        private void stopActionPerformed(java.awt.event.ActionEvent evt) {                                     \r\n            // TODO add your handling code here:\r\n        }                                    \r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String args[]) {\r\n            /* Set the Nimbus look and feel */\r\n            //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\r\n            /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\r\n             * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \r\n             */\r\n            try {\r\n                for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\r\n                    if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                        javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                        break;\r\n                    }\r\n                }\r\n            } catch (ClassNotFoundException ex) {\r\n                java.util.logging.Logger.getLogger(DCJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            } catch (InstantiationException ex) {\r\n                java.util.logging.Logger.getLogger(DCJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            } catch (IllegalAccessException ex) {\r\n                java.util.logging.Logger.getLogger(DCJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            } catch (javax.swing.UnsupportedLookAndFeelException ex) {\r\n                java.util.logging.Logger.getLogger(DCJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            }\r\n            //&lt;/editor-fold&gt;\r\n    \r\n            /* Create and display the form */\r\n            java.awt.EventQueue.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    new DCJFrame().setVisible(true);\r\n                }\r\n            });\r\n        }\r\n    \r\n        // Variables declaration - do not modify                     \r\n        private javax.swing.JButton jButton1;\r\n        private javax.swing.JButton jButton10;\r\n        private javax.swing.JButton jButton2;\r\n        private javax.swing.JButton jButton3;\r\n        private javax.swing.JButton jButton4;\r\n        private javax.swing.JButton jButton5;\r\n        private javax.swing.JButton jButton6;\r\n        private javax.swing.JButton jButton7;\r\n        private javax.swing.JButton jButton8;\r\n        private javax.swing.JButton jButton9;\r\n        private javax.swing.JProgressBar jProgressBar1;\r\n        private javax.swing.JButton start;\r\n        private javax.swing.JButton stop;\r\n        // End of variables declaration                   \r\n    }\r\n\r\n","title":"one button to be able to stop all ten buttons","body":"<p>am new in using java, i want to create ten buttons with different functions but i want one button that will be able to stop any of the ten buttons</p>\n<pre><code>/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\npackage dc.android.doctor.v3;\n\n/**\n *\n * @author JAY\n */\npublic class DCJFrame extends javax.swing.JFrame {\n\n    /**\n     * Creates new form DCJFrame\n     */\n    public DCJFrame() {\n        initComponents();\n    }\n\n    /**\n     * This method is called from within the constructor to initialize the form.\n     * WARNING: Do NOT modify this code. The content of this method is always\n     * regenerated by the Form Editor.\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        jButton1 = new javax.swing.JButton();\n        jButton2 = new javax.swing.JButton();\n        jButton3 = new javax.swing.JButton();\n        jButton4 = new javax.swing.JButton();\n        jButton5 = new javax.swing.JButton();\n        jButton6 = new javax.swing.JButton();\n        jButton7 = new javax.swing.JButton();\n        jButton8 = new javax.swing.JButton();\n        jButton9 = new javax.swing.JButton();\n        jButton10 = new javax.swing.JButton();\n        jProgressBar1 = new javax.swing.JProgressBar();\n        start = new javax.swing.JButton();\n        stop = new javax.swing.JButton();\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n        jButton1.setText(&quot;jButton1&quot;);\n\n        jButton2.setText(&quot;jButton2&quot;);\n\n        jButton3.setText(&quot;jButton3&quot;);\n\n        jButton4.setText(&quot;jButton4&quot;);\n\n        jButton5.setText(&quot;jButton5&quot;);\n        jButton5.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jButton5ActionPerformed(evt);\n            }\n        });\n\n        jButton6.setText(&quot;jButton6&quot;);\n\n        jButton7.setText(&quot;jButton7&quot;);\n\n        jButton8.setText(&quot;jButton8&quot;);\n\n        jButton9.setText(&quot;jButton9&quot;);\n\n        jButton10.setText(&quot;jButton10&quot;);\n\n        start.setText(&quot;START&quot;);\n        start.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                startActionPerformed(evt);\n            }\n        });\n\n        stop.setText(&quot;STOP&quot;);\n        stop.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                stopActionPerformed(evt);\n            }\n        });\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addContainerGap()\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addComponent(jProgressBar1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                    .addGroup(layout.createSequentialGroup()\n                        .addComponent(jButton1)\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                        .addComponent(jButton2)\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                        .addComponent(jButton3)\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                        .addComponent(jButton4)\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                        .addComponent(jButton5, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n                    .addGroup(layout.createSequentialGroup()\n                        .addComponent(jButton6)\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                        .addComponent(jButton7)\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                        .addComponent(jButton8)\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                        .addComponent(jButton9)\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                        .addComponent(jButton10)\n                        .addGap(0, 0, Short.MAX_VALUE))\n                    .addGroup(layout.createSequentialGroup()\n                        .addComponent(start)\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                        .addComponent(stop)))\n                .addContainerGap())\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGap(25, 25, 25)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(jButton1)\n                    .addComponent(jButton2)\n                    .addComponent(jButton3)\n                    .addComponent(jButton4)\n                    .addComponent(jButton5))\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(jButton6)\n                    .addComponent(jButton7)\n                    .addComponent(jButton8)\n                    .addComponent(jButton9)\n                    .addComponent(jButton10))\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 146, Short.MAX_VALUE)\n                .addComponent(jProgressBar1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addGap(18, 18, 18)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(start)\n                    .addComponent(stop))\n                .addGap(17, 17, 17))\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n\n    private void jButton5ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n\n    }                                        \n\n    private void startActionPerformed(java.awt.event.ActionEvent evt) {                                      \n        // TODO add your handling code here:\n    }                                     \n\n    private void stopActionPerformed(java.awt.event.ActionEvent evt) {                                     \n        // TODO add your handling code here:\n    }                                    \n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String args[]) {\n        /* Set the Nimbus look and feel */\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n         */\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(DCJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(DCJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(DCJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(DCJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //&lt;/editor-fold&gt;\n\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new DCJFrame().setVisible(true);\n            }\n        });\n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JButton jButton1;\n    private javax.swing.JButton jButton10;\n    private javax.swing.JButton jButton2;\n    private javax.swing.JButton jButton3;\n    private javax.swing.JButton jButton4;\n    private javax.swing.JButton jButton5;\n    private javax.swing.JButton jButton6;\n    private javax.swing.JButton jButton7;\n    private javax.swing.JButton jButton8;\n    private javax.swing.JButton jButton9;\n    private javax.swing.JProgressBar jProgressBar1;\n    private javax.swing.JButton start;\n    private javax.swing.JButton stop;\n    // End of variables declaration                   \n}\n</code></pre>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"answers":[{"comments":[{"owner":{"account_id":5088059,"reputation":5319,"user_id":4081949,"accept_rate":64,"display_name":"KitKarson"},"score":0,"creation_date":1564281235,"post_id":57237198,"comment_id":100976963,"body_markdown":"1) It could have been `consumer.seek(offset)`. why partition as well? at least this ok 2) assign is mandatory - `java.lang.IllegalStateException: No current assignment for partition &lt;topic&gt;` - does not seem to make any sense!","body":"1) It could have been <code>consumer.seek(offset)</code>. why partition as well? at least this ok 2) assign is mandatory - <code>java.lang.IllegalStateException: No current assignment for partition &lt;topic&gt;</code> - does not seem to make any sense!"},{"owner":{"account_id":15292276,"reputation":1270,"user_id":11033447,"display_name":"Yannick"},"score":0,"creation_date":1564302914,"post_id":57237198,"comment_id":100979949,"body_markdown":"It could no be seek(offset) only because how do you know for which topic or partition you want to change your offset position? Your consumer can be bound to multiple topics / partitions. As for why calling assign() before, I think it&#39;s because you need the Kafka cluster be aware of what topic/ partition you&#39;re bound, in order to maintain internal state of your consumer_offsets for example","body":"It could no be seek(offset) only because how do you know for which topic or partition you want to change your offset position? Your consumer can be bound to multiple topics / partitions. As for why calling assign() before, I think it&#39;s because you need the Kafka cluster be aware of what topic/ partition you&#39;re bound, in order to maintain internal state of your consumer_offsets for example"}],"tags":[],"owner":{"account_id":15292276,"reputation":1270,"user_id":11033447,"display_name":"Yannick"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564275642,"creation_date":1564275642,"answer_id":57237198,"question_id":57236899,"body_markdown":"1 - first keep in mind that your consumer can be assigned to many different topics / partitions through kafka API.\r\nThen, seek and assign have two different independent responsibilities, that&#39;s why you might think it&#39;s redundant, but whenever you need to go back to an offset, or for whatever reason you need to redo an offset, you&#39;ll use seek, and for this, seek() need topic and partition info, either you used static assignment ( assign) or dynamic ( subscribe).\r\n\r\nYou cannot just use seek () without specifying a topic)/ partition, it would be ambiguous in many cases.\r\n\r\n\r\n2 - Are you sure you need to do assign before calling seek ()? I know both can be used before calling poll().., but did not know assign was mandatory before a seek().., do you have an error message ( I might check anyway tomorrow and edit this post)\r\n\r\n\r\nYannick ","title":"Kafka consumer - assign and seek","body":"<p>1 - first keep in mind that your consumer can be assigned to many different topics / partitions through kafka API.\nThen, seek and assign have two different independent responsibilities, that's why you might think it's redundant, but whenever you need to go back to an offset, or for whatever reason you need to redo an offset, you'll use seek, and for this, seek() need topic and partition info, either you used static assignment ( assign) or dynamic ( subscribe).</p>\n\n<p>You cannot just use seek () without specifying a topic)/ partition, it would be ambiguous in many cases.</p>\n\n<p>2 - Are you sure you need to do assign before calling seek ()? I know both can be used before calling poll().., but did not know assign was mandatory before a seek().., do you have an error message ( I might check anyway tomorrow and edit this post)</p>\n\n<p>Yannick </p>\n"},{"tags":[],"owner":{"account_id":6287079,"reputation":302,"user_id":5834219,"accept_rate":40,"display_name":"noobCoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637037289,"creation_date":1637037289,"answer_id":69983803,"question_id":57236899,"body_markdown":"Short answer - \r\nIt is not necessary to always call &quot;seek&quot; after &quot;assign&quot;.\r\n\r\nLong answer - \r\n\r\n\r\n    consumer.subscribe(Arrays.asList(&quot;some-topic&quot;)); and \r\n    consumer.assign(Arrays.asList(partition));\r\nDo similar job except for one detail - \r\n\r\n&quot;subscribe&quot; allocates the topic to the consumer which belongs to a consumer group. This takes care of any future rebalances i.e. in case new partitions are added to the topic the consumer group will atomatically adjust its consumer to consume from the new partition.\r\n\r\n&quot;assign&quot; gives more power and responsibility to the caller code. It will not do any rebalancing and caller is responsible for committing the offsets. \r\nCall &quot;seek&quot; only if you wish to start consuming from a specific offset. In this case it is offset &quot;0&quot;, which is same as initial assignment so that makes it redundant.\r\nThe seek is used to go to a specific offset \r\n","title":"Kafka consumer - assign and seek","body":"<p>Short answer -\nIt is not necessary to always call &quot;seek&quot; after &quot;assign&quot;.</p>\n<p>Long answer -</p>\n<pre><code>consumer.subscribe(Arrays.asList(&quot;some-topic&quot;)); and \nconsumer.assign(Arrays.asList(partition));\n</code></pre>\n<p>Do similar job except for one detail -</p>\n<p>&quot;subscribe&quot; allocates the topic to the consumer which belongs to a consumer group. This takes care of any future rebalances i.e. in case new partitions are added to the topic the consumer group will atomatically adjust its consumer to consume from the new partition.</p>\n<p>&quot;assign&quot; gives more power and responsibility to the caller code. It will not do any rebalancing and caller is responsible for committing the offsets.\nCall &quot;seek&quot; only if you wish to start consuming from a specific offset. In this case it is offset &quot;0&quot;, which is same as initial assignment so that makes it redundant.\nThe seek is used to go to a specific offset</p>\n"}],"owner":{"account_id":5088059,"reputation":5319,"user_id":4081949,"accept_rate":64,"display_name":"KitKarson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12721,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1686200866,"creation_date":1564271407,"question_id":57236899,"body_markdown":"I could not understand this API design!\r\n\r\nIn the below code, we subscribe to a list of topics with dynamically assigned partition. This is totally fine.\r\n\r\n        KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;String, String&gt;(properties);\r\n        consumer.subscribe(Arrays.asList(&quot;some-topic&quot;));\r\n\r\n        while(true){\r\n\r\n            ConsumerRecords&lt;String, String&gt; records = consumer.poll(Duration.ofMillis(100));\r\n            StreamSupport.stream(records.spliterator(), false)\r\n                        .forEach(r -&gt; {\r\n                            System.out.println(r.key() + &quot;::&quot; + r.value());\r\n                        });\r\n\r\n\r\n        }\r\n\r\nConfusion is here.\r\n\r\n        KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;String, String&gt;(properties);\r\n        //seek for specific partition\r\n        TopicPartition partition = new TopicPartition(&quot;some-topic&quot;, 0);\r\n        consumer.assign(Arrays.asList(partition));\r\n        consumer.seek(partition, 0);\r\n\r\n        while(true){\r\n\r\n            ConsumerRecords&lt;String, String&gt; records = consumer.poll(Duration.ofMillis(100));\r\n            StreamSupport.stream(records.spliterator(), false)\r\n                    .forEach(r -&gt; {\r\n                        System.out.println(r.key() + &quot;::&quot; + r.value());\r\n                    });\r\n\r\n\r\n        }\r\n\r\n**Question:**\r\n\r\n 1. We have already assigned list of partitions using the `assign` method. Why does the `seek` method also look for partition info? Somehow I feel like it is **redundant**. \r\n 2. `seek` method has the partition with topic and offset. Why does it require a `assign` first to call a `seek`?\r\n","title":"Kafka consumer - assign and seek","body":"<p>I could not understand this API design!</p>\n\n<p>In the below code, we subscribe to a list of topics with dynamically assigned partition. This is totally fine.</p>\n\n<pre><code>    KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;String, String&gt;(properties);\n    consumer.subscribe(Arrays.asList(\"some-topic\"));\n\n    while(true){\n\n        ConsumerRecords&lt;String, String&gt; records = consumer.poll(Duration.ofMillis(100));\n        StreamSupport.stream(records.spliterator(), false)\n                    .forEach(r -&gt; {\n                        System.out.println(r.key() + \"::\" + r.value());\n                    });\n\n\n    }\n</code></pre>\n\n<p>Confusion is here.</p>\n\n<pre><code>    KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;String, String&gt;(properties);\n    //seek for specific partition\n    TopicPartition partition = new TopicPartition(\"some-topic\", 0);\n    consumer.assign(Arrays.asList(partition));\n    consumer.seek(partition, 0);\n\n    while(true){\n\n        ConsumerRecords&lt;String, String&gt; records = consumer.poll(Duration.ofMillis(100));\n        StreamSupport.stream(records.spliterator(), false)\n                .forEach(r -&gt; {\n                    System.out.println(r.key() + \"::\" + r.value());\n                });\n\n\n    }\n</code></pre>\n\n<p><strong>Question:</strong></p>\n\n<ol>\n<li>We have already assigned list of partitions using the <code>assign</code> method. Why does the <code>seek</code> method also look for partition info? Somehow I feel like it is <strong>redundant</strong>. </li>\n<li><code>seek</code> method has the partition with topic and offset. Why does it require a <code>assign</code> first to call a <code>seek</code>?</li>\n</ol>\n"},{"tags":["java","build.gradle","blockchain","hyperledger-fabric","hyperledger"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1686268624,"post_id":76428653,"comment_id":134779509,"body_markdown":"Where are you running the fabric network? in VM or Docker container? And can you also share the full stack trace~","body":"Where are you running the fabric network? in VM or Docker container? And can you also share the full stack trace~"},{"owner":{"account_id":27060180,"reputation":1,"user_id":21071854,"display_name":"Aviral"},"score":0,"creation_date":1686806996,"post_id":76428653,"comment_id":134850488,"body_markdown":"VM, what is stack trace?","body":"VM, what is stack trace?"},{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1686808202,"post_id":76428653,"comment_id":134850623,"body_markdown":"[check this](https://en.wikipedia.org/wiki/Stack_trace)","body":"<a href=\"https://en.wikipedia.org/wiki/Stack_trace\" rel=\"nofollow noreferrer\">check this</a>"}],"owner":{"account_id":27060180,"reputation":1,"user_id":21071854,"display_name":"Aviral"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686198982,"creation_date":1686198892,"question_id":76428653,"body_markdown":"**LogChain.java**\r\n\r\n```\r\npackage LogChain;\r\nimport org.hyperledger.fabric.contract.Context;\r\n\r\n@Contract(\r\n    name = &quot;logchain&quot;,\r\n    info = @org.hyperledger.fabric.contract.annotation.Info(\r\n        title = &quot;LogChain&quot;,\r\n        description = &quot;Chaincode for storing and retrieving log lines&quot;\r\n    )\r\n)\r\npublic class LogChain extends ChaincodeBase implements ContractInterface {\r\n\r\n    private static final String CONFIG_FILE = &quot;config.txt&quot;;\r\n\r\n    @Override\r\n    public Response init(ChaincodeStub stub) {\r\n        // Initialization logic goes here (if any)\r\n        return newSuccessResponse();\r\n    }\r\n\r\n    @Override\r\n    @Transaction\r\n    public Response invoke(Context ctx) {\r\n        ChaincodeStub stub = ctx.getStub();\r\n        String function = stub.getFunction();\r\n\r\n        if (&quot;storeLogsFromFile&quot;.equals(function)) {\r\n            return storeLogsFromFile(stub);\r\n        } else if (&quot;getLogs&quot;.equals(function)) {\r\n            return getLogs(stub);\r\n        }\r\n\r\n        return newErrorResponse(&quot;Invalid function: &quot; + function);\r\n    }\r\n\r\n    @Transaction\r\n    public Response storeLogsFromFile(ChaincodeStub stub) {\r\n        try {\r\n            String logFile = readLogFileLocation();\r\n\r\n            StringBuilder logLines = new StringBuilder();\r\n            BufferedReader reader = new BufferedReader(new FileReader(logFile));\r\n            String line;\r\n            while ((line = reader.readLine()) != null) {\r\n                logLines.append(line).append(&quot;\\n&quot;);\r\n            }\r\n            reader.close();\r\n\r\n            // Store log lines on the blockchain\r\n            stub.putStringState(&quot;logLines&quot;, logLines.toString());\r\n\r\n            return newSuccessResponse(&quot;Logs stored successfully&quot;);\r\n        } catch (IOException e) {\r\n            return newErrorResponse(&quot;Failed to read log file location from config file: &quot; + e.getMessage());\r\n        } catch (Exception e) {\r\n            return newErrorResponse(&quot;Failed to store logs: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n    @Transaction\r\n    public Response getLogs(ChaincodeStub stub) {\r\n        try {\r\n            // Retrieve log lines from the blockchain\r\n            String logLines = stub.getStringState(&quot;logLines&quot;);\r\n\r\n            JSONArray logs = new JSONArray();\r\n            logs.put(logLines);\r\n\r\n            return newSuccessResponse(logs.toString());\r\n        } catch (Exception e) {\r\n            return newErrorResponse(&quot;Failed to get logs: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n    private String readLogFileLocation() throws IOException {\r\n        BufferedReader reader = new BufferedReader(new FileReader(CONFIG_FILE));\r\n        String logFileLocation = reader.readLine();\r\n        reader.close();\r\n\r\n        return logFileLocation;\r\n    }\r\n\r\n    private Response newSuccessResponse(String message) {\r\n        return newSuccessResponse(message.getBytes());\r\n    }\r\n\r\n    private Response newErrorResponse(String message) {\r\n        return newErrorResponse(message.getBytes());\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new LogChain().start(args);\r\n    }\r\n}\r\n```\r\n**Build.gradle** file is:\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n    id &#39;java-library-distribution&#39;\r\n}\r\n\r\ngroup &#39;LogChain&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nsourceCompatibility = 1.8\r\ntargetCompatibility = 1.8\r\n\r\nrepositories {\r\n    maven {\r\n       url &quot;https://hyperledger.jfrog.io/hyperledger/fabric-maven&quot;\r\n    }\r\n    jcenter()\r\n    maven {\r\n        url &#39;https://jitpack.io&#39;\r\n    }\r\n   \r\n    mavenCentral()\r\n    \r\n    \r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.hyperledger.fabric-chaincode-java:fabric-chaincode-shim:2.3.0&#39;\r\n    implementation &#39;org.hyperledger.fabric-chaincode-java:fabric-chaincode-annotations:2.3.0&#39;\r\n    implementation &#39;org.json:json:20210307&#39;\r\n\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.7.1&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.7.1&#39;\r\n\r\n    // Add other dependencies specific to your chaincode project if needed\r\n}\r\n\r\nmainClassName = &#39;org.hyperledger.fabric.contract.ContractRouter&#39;\r\n\r\njar {\r\n    from {\r\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n    }\r\n}\r\n\r\ntask fatJar(type: Jar) {\r\n    manifest {\r\n        attributes &#39;Main-Class&#39;: &#39;org.hyperledger.fabric.contract.ContractRouter&#39;\r\n    }\r\n    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\r\n    with jar\r\n}\r\n```\r\n**Errors** are:\r\n\r\n**1. The method invoke(Context) of type LogChain must override or implement a supertype method\tLogChain.java\t/lib/src/main/java/LogChain\tline 34\tJava Problem :** \r\n```@Override\r\n    @Transaction\r\n    public Response invoke(Context ctx) {\r\n        ChaincodeStub stub = ctx.getStub();\r\n        String function = stub.getFunction();\r\n```\r\n\r\n**2. The type LogChain must implement the inherited abstract method ChaincodeBase.invoke(ChaincodeStub)\tLogChain.java\t/lib/src/main/java/LogChain\tline 22\tJava Problem** :\r\n```\r\npublic class LogChain extends ChaincodeBase implements ContractInterface {\r\n```\r\n\r\n**3.This instance method cannot override the static method from ChaincodeBase\tLogChain.java\t/lib/src/main/java/LogChain\tline 94\tJava Problem** :\r\n```\r\nprivate Response newSuccessResponse(String message) {\r\n        return newSuccessResponse(message.getBytes());\r\n    }\r\n```\r\n\r\n**4. This instance method cannot override the static method from ChaincodeBase\tLogChain.java\t/lib/src/main/java/LogChain\tline 98\tJava Problem** :\r\n```\r\nprivate Response newErrorResponse(String message) {\r\n        return newErrorResponse(message.getBytes());\r\n    }\r\n```\r\n**5. Unresolved dependency: org.hyperledger.fabric-chaincode-java:fabric-chaincode-annotations:2.3.0\tLogChain\t\tline 0\tGradle Error Marker**\r\n\r\nPlease Help!","title":"I am trying to store logs from a file on Hyperledger blockchain and facing these errors","body":"<p><strong>LogChain.java</strong></p>\n<pre><code>package LogChain;\nimport org.hyperledger.fabric.contract.Context;\n\n@Contract(\n    name = &quot;logchain&quot;,\n    info = @org.hyperledger.fabric.contract.annotation.Info(\n        title = &quot;LogChain&quot;,\n        description = &quot;Chaincode for storing and retrieving log lines&quot;\n    )\n)\npublic class LogChain extends ChaincodeBase implements ContractInterface {\n\n    private static final String CONFIG_FILE = &quot;config.txt&quot;;\n\n    @Override\n    public Response init(ChaincodeStub stub) {\n        // Initialization logic goes here (if any)\n        return newSuccessResponse();\n    }\n\n    @Override\n    @Transaction\n    public Response invoke(Context ctx) {\n        ChaincodeStub stub = ctx.getStub();\n        String function = stub.getFunction();\n\n        if (&quot;storeLogsFromFile&quot;.equals(function)) {\n            return storeLogsFromFile(stub);\n        } else if (&quot;getLogs&quot;.equals(function)) {\n            return getLogs(stub);\n        }\n\n        return newErrorResponse(&quot;Invalid function: &quot; + function);\n    }\n\n    @Transaction\n    public Response storeLogsFromFile(ChaincodeStub stub) {\n        try {\n            String logFile = readLogFileLocation();\n\n            StringBuilder logLines = new StringBuilder();\n            BufferedReader reader = new BufferedReader(new FileReader(logFile));\n            String line;\n            while ((line = reader.readLine()) != null) {\n                logLines.append(line).append(&quot;\\n&quot;);\n            }\n            reader.close();\n\n            // Store log lines on the blockchain\n            stub.putStringState(&quot;logLines&quot;, logLines.toString());\n\n            return newSuccessResponse(&quot;Logs stored successfully&quot;);\n        } catch (IOException e) {\n            return newErrorResponse(&quot;Failed to read log file location from config file: &quot; + e.getMessage());\n        } catch (Exception e) {\n            return newErrorResponse(&quot;Failed to store logs: &quot; + e.getMessage());\n        }\n    }\n\n    @Transaction\n    public Response getLogs(ChaincodeStub stub) {\n        try {\n            // Retrieve log lines from the blockchain\n            String logLines = stub.getStringState(&quot;logLines&quot;);\n\n            JSONArray logs = new JSONArray();\n            logs.put(logLines);\n\n            return newSuccessResponse(logs.toString());\n        } catch (Exception e) {\n            return newErrorResponse(&quot;Failed to get logs: &quot; + e.getMessage());\n        }\n    }\n\n    private String readLogFileLocation() throws IOException {\n        BufferedReader reader = new BufferedReader(new FileReader(CONFIG_FILE));\n        String logFileLocation = reader.readLine();\n        reader.close();\n\n        return logFileLocation;\n    }\n\n    private Response newSuccessResponse(String message) {\n        return newSuccessResponse(message.getBytes());\n    }\n\n    private Response newErrorResponse(String message) {\n        return newErrorResponse(message.getBytes());\n    }\n\n    public static void main(String[] args) {\n        new LogChain().start(args);\n    }\n}\n</code></pre>\n<p><strong>Build.gradle</strong> file is:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n    id 'java-library-distribution'\n}\n\ngroup 'LogChain'\nversion '1.0-SNAPSHOT'\n\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\n\nrepositories {\n    maven {\n       url &quot;https://hyperledger.jfrog.io/hyperledger/fabric-maven&quot;\n    }\n    jcenter()\n    maven {\n        url 'https://jitpack.io'\n    }\n   \n    mavenCentral()\n    \n    \n}\n\ndependencies {\n    implementation 'org.hyperledger.fabric-chaincode-java:fabric-chaincode-shim:2.3.0'\n    implementation 'org.hyperledger.fabric-chaincode-java:fabric-chaincode-annotations:2.3.0'\n    implementation 'org.json:json:20210307'\n\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.1'\n\n    // Add other dependencies specific to your chaincode project if needed\n}\n\nmainClassName = 'org.hyperledger.fabric.contract.ContractRouter'\n\njar {\n    from {\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n}\n\ntask fatJar(type: Jar) {\n    manifest {\n        attributes 'Main-Class': 'org.hyperledger.fabric.contract.ContractRouter'\n    }\n    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\n    with jar\n}\n</code></pre>\n<p><strong>Errors</strong> are:</p>\n<p><strong>1. The method invoke(Context) of type LogChain must override or implement a supertype method  LogChain.java   /lib/src/main/java/LogChain line 34 Java Problem :</strong></p>\n<pre><code>    @Transaction\n    public Response invoke(Context ctx) {\n        ChaincodeStub stub = ctx.getStub();\n        String function = stub.getFunction();\n</code></pre>\n<p><strong>2. The type LogChain must implement the inherited abstract method ChaincodeBase.invoke(ChaincodeStub) LogChain.java   /lib/src/main/java/LogChain line 22 Java Problem</strong> :</p>\n<pre><code>public class LogChain extends ChaincodeBase implements ContractInterface {\n</code></pre>\n<p><strong>3.This instance method cannot override the static method from ChaincodeBase   LogChain.java   /lib/src/main/java/LogChain line 94 Java Problem</strong> :</p>\n<pre><code>private Response newSuccessResponse(String message) {\n        return newSuccessResponse(message.getBytes());\n    }\n</code></pre>\n<p><strong>4. This instance method cannot override the static method from ChaincodeBase  LogChain.java   /lib/src/main/java/LogChain line 98 Java Problem</strong> :</p>\n<pre><code>private Response newErrorResponse(String message) {\n        return newErrorResponse(message.getBytes());\n    }\n</code></pre>\n<p><strong>5. Unresolved dependency: org.hyperledger.fabric-chaincode-java:fabric-chaincode-annotations:2.3.0    LogChain        line 0  Gradle Error Marker</strong></p>\n<p>Please Help!</p>\n"},{"tags":["java","eclipse","apache-spark","rdd"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1683631506,"post_id":76207654,"comment_id":134393074,"body_markdown":"Please use code block formatting for errors and logs.","body":"Please use code block formatting for errors and logs."},{"owner":{"account_id":9963,"reputation":82992,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1684411594,"post_id":76207654,"comment_id":134515456,"body_markdown":"Why do you use RDD API for that?","body":"Why do you use RDD API for that?"}],"owner":{"account_id":27242510,"reputation":31,"user_id":20768437,"display_name":"Raging Horse"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":609,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1686198952,"creation_date":1683623667,"question_id":76207654,"body_markdown":"My code in Eclipse I have created Maven project-\r\n\r\n    public static void main(String[] args) {\r\n    \t\r\n    \tString url = &quot;jdbc:mysql://localhost:3306/test&quot;;\r\n    \tProperties props = new Properties();\r\n    \tprops.setProperty(&quot;user&quot;, &quot;root&quot;);\r\n    \tprops.setProperty(&quot;password&quot;, &quot;root&quot;);\r\n    \tprops.setProperty(&quot;driver&quot;, &quot;com.mysql.cj.jdbc.Driver&quot;);\r\n    \r\n    \tSparkConf conf = new SparkConf().setAppName(&quot;NameFilteringApp&quot;).setMaster(&quot;local&quot;);\r\n    \tJavaSparkContext sc = new JavaSparkContext(conf);\r\n    \r\n    \tJavaRDD&lt;String&gt; namesRDD = JdbcRDD.create(sc,\r\n    \t\t\t()-&gt;DriverManager.getConnection(url, props),\r\n    \t\t\t&quot;select name from test&quot;, 1, 100, 2,\r\n    \t\t\t(ResultSet rs)-&gt;rs.getString(&quot;name&quot;));\t\r\n    \t\r\n    \tJavaRDD&lt;String&gt; filteredNamesRDD = namesRDD.filter(name -&gt;name.startsWith(&quot;D&quot;));\r\n    \t\r\n    \tList&lt;String&gt; filteredNames = filteredNamesRDD.collect();\r\n    \tSystem.out.println(filteredNames);\r\n    \t\r\n    \t\r\n    }\r\n\r\npom.xml -\r\n\r\n  \r\n\r\n      &lt;dependency&gt;\r\n    \t  &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n    \t   &lt;artifactId&gt;spark-core_2.13&lt;/artifactId&gt;\r\n    \t   &lt;version&gt;3.4.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n\r\n  \r\n\r\nOutput in console with Exception -\r\n`Using Spark&#39;s default log4j profile: org/apache/spark/log4j2-defaults.properties 23/05/09 13:09:36 INFO SparkContext: Running Spark version 3.4.0 23/05/09 13:09:36 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable 23/05/09 13:09:36 INFO ResourceUtils: ============================================================== 23/05/09 13:09:36 INFO ResourceUtils: No custom resources configured for spark.driver. 23/05/09 13:09:36 INFO ResourceUtils: ============================================================== 23/05/09 13:09:36 INFO SparkContext: Submitted application: NameFilteringApp 23/05/09 13:09:36 INFO ResourceProfile: Default ResourceProfile created, executor resources: Map(cores -&gt; name: cores, amount: 1, script: , vendor: , memory -&gt; name: memory, amount: 1024, script: , vendor: , offHeap -&gt; name: offHeap, amount: 0, script: , vendor: ), task resources: Map(cpus -&gt; name: cpus, amount: 1.0) 23/05/09 13:09:36 INFO ResourceProfile: Limiting resource is cpu 23/05/09 13:09:36 INFO ResourceProfileManager: Added ResourceProfile id: 0 23/05/09 13:09:36 INFO SecurityManager: Changing view acls to: sankarsh.b 23/05/09 13:09:36 INFO SecurityManager: Changing modify acls to: sankarsh.b 23/05/09 13:09:36 INFO SecurityManager: Changing view acls groups to:  23/05/09 13:09:36 INFO SecurityManager: Changing modify acls groups to:  23/05/09 13:09:36 INFO SecurityManager: SecurityManager: authentication disabled; ui acls disabled; users with view permissions: sankarsh.b; groups with view permissions: EMPTY; users with modify permissions: sankarsh.b; groups with modify permissions: EMPTY 23/05/09 13:09:36 INFO Utils: Successfully started service &#39;sparkDriver&#39; on port 49985. 23/05/09 13:09:36 INFO SparkEnv: Registering MapOutputTracker 23/05/09 13:09:37 INFO SparkEnv: Registering BlockManagerMaster 23/05/09 13:09:37 INFO BlockManagerMasterEndpoint: Using org.apache.spark.storage.DefaultTopologyMapper for getting topology information 23/05/09 13:09:37 INFO BlockManagerMasterEndpoint: BlockManagerMasterEndpoint up Exception in thread &quot;main&quot; java.lang.IllegalAccessError: class org.apache.spark.storage.StorageUtils$ (in unnamed module @0x5afa3c9) cannot access class sun.nio.ch.DirectBuffer (in module java.base) because module java.base does not export sun.nio.ch to unnamed module @0x5afa3c9 \tat org.apache.spark.storage.StorageUtils$.&lt;clinit&gt;(StorageUtils.scala:213) \tat org.apache.spark.storage.BlockManagerMasterEndpoint.&lt;init&gt;(BlockManagerMasterEndpoint.scala:114) \tat org.apache.spark.SparkEnv$.$anonfun$create$9(SparkEnv.scala:358) \tat org.apache.spark.SparkEnv$.registerOrLookupEndpoint$1(SparkEnv.scala:295) \tat org.apache.spark.SparkEnv$.create(SparkEnv.scala:344) \tat org.apache.spark.SparkEnv$.createDriverEnv(SparkEnv.scala:196) \tat org.apache.spark.SparkContext.createSparkEnv(SparkContext.scala:279) \tat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:464) \tat org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58) \tat one.MainClass.main(MainClass.java:24)`\r\n\r\nI am using javaSE-17 and jdk 17\r\n\r\nI added this &quot;--add-exports java.base/sun.nio.ch=ALL-UNNAMED&quot; in jvm arguments but it didnt work\r\n\r\nHow to solve this?","title":"Apache Spark 3.4.0 breaks on Java 17 with &quot;cannot access class sun.nio.ch.DirectBuffer&quot;","body":"<p>My code in Eclipse I have created Maven project-</p>\n<pre><code>public static void main(String[] args) {\n    \n    String url = &quot;jdbc:mysql://localhost:3306/test&quot;;\n    Properties props = new Properties();\n    props.setProperty(&quot;user&quot;, &quot;root&quot;);\n    props.setProperty(&quot;password&quot;, &quot;root&quot;);\n    props.setProperty(&quot;driver&quot;, &quot;com.mysql.cj.jdbc.Driver&quot;);\n\n    SparkConf conf = new SparkConf().setAppName(&quot;NameFilteringApp&quot;).setMaster(&quot;local&quot;);\n    JavaSparkContext sc = new JavaSparkContext(conf);\n\n    JavaRDD&lt;String&gt; namesRDD = JdbcRDD.create(sc,\n            ()-&gt;DriverManager.getConnection(url, props),\n            &quot;select name from test&quot;, 1, 100, 2,\n            (ResultSet rs)-&gt;rs.getString(&quot;name&quot;));  \n    \n    JavaRDD&lt;String&gt; filteredNamesRDD = namesRDD.filter(name -&gt;name.startsWith(&quot;D&quot;));\n    \n    List&lt;String&gt; filteredNames = filteredNamesRDD.collect();\n    System.out.println(filteredNames);\n    \n    \n}\n</code></pre>\n<p>pom.xml -</p>\n<pre><code>  &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n       &lt;artifactId&gt;spark-core_2.13&lt;/artifactId&gt;\n       &lt;version&gt;3.4.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Output in console with Exception -\n<code>Using Spark's default log4j profile: org/apache/spark/log4j2-defaults.properties 23/05/09 13:09:36 INFO SparkContext: Running Spark version 3.4.0 23/05/09 13:09:36 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable 23/05/09 13:09:36 INFO ResourceUtils: ============================================================== 23/05/09 13:09:36 INFO ResourceUtils: No custom resources configured for spark.driver. 23/05/09 13:09:36 INFO ResourceUtils: ============================================================== 23/05/09 13:09:36 INFO SparkContext: Submitted application: NameFilteringApp 23/05/09 13:09:36 INFO ResourceProfile: Default ResourceProfile created, executor resources: Map(cores -&gt; name: cores, amount: 1, script: , vendor: , memory -&gt; name: memory, amount: 1024, script: , vendor: , offHeap -&gt; name: offHeap, amount: 0, script: , vendor: ), task resources: Map(cpus -&gt; name: cpus, amount: 1.0) 23/05/09 13:09:36 INFO ResourceProfile: Limiting resource is cpu 23/05/09 13:09:36 INFO ResourceProfileManager: Added ResourceProfile id: 0 23/05/09 13:09:36 INFO SecurityManager: Changing view acls to: sankarsh.b 23/05/09 13:09:36 INFO SecurityManager: Changing modify acls to: sankarsh.b 23/05/09 13:09:36 INFO SecurityManager: Changing view acls groups to:  23/05/09 13:09:36 INFO SecurityManager: Changing modify acls groups to:  23/05/09 13:09:36 INFO SecurityManager: SecurityManager: authentication disabled; ui acls disabled; users with view permissions: sankarsh.b; groups with view permissions: EMPTY; users with modify permissions: sankarsh.b; groups with modify permissions: EMPTY 23/05/09 13:09:36 INFO Utils: Successfully started service 'sparkDriver' on port 49985. 23/05/09 13:09:36 INFO SparkEnv: Registering MapOutputTracker 23/05/09 13:09:37 INFO SparkEnv: Registering BlockManagerMaster 23/05/09 13:09:37 INFO BlockManagerMasterEndpoint: Using org.apache.spark.storage.DefaultTopologyMapper for getting topology information 23/05/09 13:09:37 INFO BlockManagerMasterEndpoint: BlockManagerMasterEndpoint up Exception in thread &quot;main&quot; java.lang.IllegalAccessError: class org.apache.spark.storage.StorageUtils$ (in unnamed module @0x5afa3c9) cannot access class sun.nio.ch.DirectBuffer (in module java.base) because module java.base does not export sun.nio.ch to unnamed module @0x5afa3c9     at org.apache.spark.storage.StorageUtils$.&lt;clinit&gt;(StorageUtils.scala:213)  at org.apache.spark.storage.BlockManagerMasterEndpoint.&lt;init&gt;(BlockManagerMasterEndpoint.scala:114)     at org.apache.spark.SparkEnv$.$anonfun$create$9(SparkEnv.scala:358)     at org.apache.spark.SparkEnv$.registerOrLookupEndpoint$1(SparkEnv.scala:295)    at org.apache.spark.SparkEnv$.create(SparkEnv.scala:344)    at org.apache.spark.SparkEnv$.createDriverEnv(SparkEnv.scala:196)   at org.apache.spark.SparkContext.createSparkEnv(SparkContext.scala:279)     at org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:464)     at org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)     at one.MainClass.main(MainClass.java:24)</code></p>\n<p>I am using javaSE-17 and jdk 17</p>\n<p>I added this &quot;--add-exports java.base/sun.nio.ch=ALL-UNNAMED&quot; in jvm arguments but it didnt work</p>\n<p>How to solve this?</p>\n"},{"tags":["java","mongodb","google-cloud-dataflow","beam"],"answers":[{"tags":[],"owner":{"account_id":1874246,"reputation":1390,"user_id":1695821,"display_name":"Bruno Volpato"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686198604,"creation_date":1686198604,"answer_id":76428633,"question_id":76426067,"body_markdown":"You don&#39;t have a lot of control over how many threads Beam / Dataflow will create.\r\n\r\nThe correct way of limiting parallelism is probably through the usage of a specific set of keys, as any operations for the same key, when followed by keyed operations (e.g., if you use state), will be guaranteed to be processed by the same worker.\r\n\r\nThis template Pub/Sub to Splunk has a good example of how this can be accomplished: [CreateKeys](https://github.com/GoogleCloudPlatform/DataflowTemplates/blob/main/v1/src/main/java/com/google/cloud/teleport/splunk/SplunkIO.java#L102-L105) and [Batching]( https://github.com/GoogleCloudPlatform/DataflowTemplates/blob/main/v1/src/main/java/com/google/cloud/teleport/splunk/SplunkEventWriter.java#L98-L102).\r\n","title":"Java - Apache Beam - Control number of connections when writing in MongoDB","body":"<p>You don't have a lot of control over how many threads Beam / Dataflow will create.</p>\n<p>The correct way of limiting parallelism is probably through the usage of a specific set of keys, as any operations for the same key, when followed by keyed operations (e.g., if you use state), will be guaranteed to be processed by the same worker.</p>\n<p>This template Pub/Sub to Splunk has a good example of how this can be accomplished: <a href=\"https://github.com/GoogleCloudPlatform/DataflowTemplates/blob/main/v1/src/main/java/com/google/cloud/teleport/splunk/SplunkIO.java#L102-L105\" rel=\"nofollow noreferrer\">CreateKeys</a> and <a href=\"https://github.com/GoogleCloudPlatform/DataflowTemplates/blob/main/v1/src/main/java/com/google/cloud/teleport/splunk/SplunkEventWriter.java#L98-L102\" rel=\"nofollow noreferrer\">Batching</a>.</p>\n"}],"owner":{"account_id":28774663,"reputation":1,"user_id":22037635,"display_name":"Thibault Coudert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686198604,"creation_date":1686161925,"question_id":76426067,"body_markdown":"I&#39;m currently working on a streaming pipeline in Apache Beam (v2.43) to insert data in mongoDB. It runs on dataflow quite fine, but I&#39;m not able to control the number of connections : in case of input peak (PubSub),  dataflow scales up and overwhelms Mongo with thousands of connections. Even with a limited number of workers (**15**), I reach more than 20K connections on MongoDB side.\r\n\r\nI use a custom doFn (input data is already formatted as KV&lt;Document, Document&gt; : first document is the search query and the second document is the update operation) to upsert records in BulkMode. To improve performances, I accumulate records until reaching a number of elements and then flush the buffer.\r\n\r\nIn this class, I create a pool of connections during @setup and pick connections from this pool in the process @elementElement step. I put a max size of **10** elements in the ConnectionPoolSettings, so I was expecting around 150 connections at most (15 workers * 10 connection/worker).\r\n\r\n\r\nHere is a code snippet.\r\n\r\n```\r\nstatic class BatchUpsertFn extends DoFn&lt;KV&lt;Document, Document&gt;, CustomBulkWriteError&gt; {\r\n\r\n  private final ConcurrentHashMap&lt;String, MongoClient&gt; workerHashmap;\r\n  private final String instanceId;\r\n  private List&lt;WriteModel&lt;Document&gt;&gt; batch;\r\n\r\n  BatchUpsertFn() {\r\n    this.workerHashmap = new ConcurrentHashMap&lt;&gt;();\r\n    this.instanceId = UUID.randomUUID().toString();\r\n  }\r\n\r\n  @Setup\r\n  public void createMongoClient() {\r\n    workerHashmap.putIfAbsent(instanceId, MongoClients\r\n        .create(MongoClientSettings.builder()\r\n            .applyConnectionString(new ConnectionString(&quot;myUri&quot;))\r\n            .applyToConnectionPoolSettings(builder -&gt; builder\r\n                .maxConnectionIdleTime(60, SECONDS)\r\n                .maxConnectionLifeTime(60, SECONDS)\r\n                .maxSize(10)\r\n                .minSize(1)\r\n            )\r\n            .applyToSocketSettings(builder -&gt; builder\r\n                .connectTimeout(10, SECONDS)\r\n                .readTimeout(20, SECONDS))\r\n            .build()));\r\n  }\r\n\r\n  @StartBundle\r\n  public void startBundle() {\r\n    batch = new ArrayList&lt;&gt;();\r\n  }\r\n\r\n  @ProcessElement\r\n  public void processElement(ProcessContext ctx) {\r\n\r\n    batch.add(\r\n          new UpdateManyModel&lt;&gt;(\r\n              ctx.element().getKey(),\r\n              ctx.element().getValue(),\r\n              new UpdateOptions().upsert(true)));\r\n\r\n    // If batch limit is exceeded\r\n    if (batch.size() &gt;= 1024L) {\r\n      try {\r\n        flush();\r\n      } catch (MongoBulkWriteException pException) {\r\n        pException.getWriteErrors()\r\n            .forEach(pBulkWriteError -&gt;\r\n                ctx.output(new CustomBulkWriteError(pBulkWriteError)));\r\n      }\r\n    }\r\n  }\r\n\r\n  @FinishBundle\r\n  public void finishBundle(FinishBundleContext ctx) {\r\n    try {\r\n      flush();\r\n    } catch (MongoBulkWriteException pException) {\r\n      pException.getWriteErrors()\r\n          .forEach(pBulkWriteError -&gt;\r\n              ctx.output(new CustomBulkWriteError(pBulkWriteError),\r\n                  Instant.now(),\r\n                  GlobalWindow.INSTANCE));\r\n    }\r\n  }\r\n\r\n  private void flush() throws MongoBulkWriteException {\r\n    if (batch.isEmpty()) {\r\n      return;\r\n    }\r\n    MongoDatabase mongoDatabase = workerHashmap.get(instanceId).getDatabase(&quot;myDatabase&quot;);\r\n    MongoCollection&lt;Document&gt; mongoCollection = mongoDatabase.getCollection(&quot;myCollection&quot;);\r\n    try {\r\n      mongoCollection.bulkWrite(batch, new BulkWriteOptions().ordered(false));\r\n      batch.clear();\r\n    } catch (MongoBulkWriteException pException) {\r\n      batch.clear();\r\n      throw pException;\r\n    }\r\n  }\r\n\r\n  @Teardown\r\n  public void closeMongoClient() {\r\n    workerHashmap.get(instanceId).close();\r\n  }\r\n}\r\n```\r\n\r\nAny idea is more than welcome\r\n","title":"Java - Apache Beam - Control number of connections when writing in MongoDB","body":"<p>I'm currently working on a streaming pipeline in Apache Beam (v2.43) to insert data in mongoDB. It runs on dataflow quite fine, but I'm not able to control the number of connections : in case of input peak (PubSub),  dataflow scales up and overwhelms Mongo with thousands of connections. Even with a limited number of workers (<strong>15</strong>), I reach more than 20K connections on MongoDB side.</p>\n<p>I use a custom doFn (input data is already formatted as KV&lt;Document, Document&gt; : first document is the search query and the second document is the update operation) to upsert records in BulkMode. To improve performances, I accumulate records until reaching a number of elements and then flush the buffer.</p>\n<p>In this class, I create a pool of connections during @setup and pick connections from this pool in the process @elementElement step. I put a max size of <strong>10</strong> elements in the ConnectionPoolSettings, so I was expecting around 150 connections at most (15 workers * 10 connection/worker).</p>\n<p>Here is a code snippet.</p>\n<pre><code>static class BatchUpsertFn extends DoFn&lt;KV&lt;Document, Document&gt;, CustomBulkWriteError&gt; {\n\n  private final ConcurrentHashMap&lt;String, MongoClient&gt; workerHashmap;\n  private final String instanceId;\n  private List&lt;WriteModel&lt;Document&gt;&gt; batch;\n\n  BatchUpsertFn() {\n    this.workerHashmap = new ConcurrentHashMap&lt;&gt;();\n    this.instanceId = UUID.randomUUID().toString();\n  }\n\n  @Setup\n  public void createMongoClient() {\n    workerHashmap.putIfAbsent(instanceId, MongoClients\n        .create(MongoClientSettings.builder()\n            .applyConnectionString(new ConnectionString(&quot;myUri&quot;))\n            .applyToConnectionPoolSettings(builder -&gt; builder\n                .maxConnectionIdleTime(60, SECONDS)\n                .maxConnectionLifeTime(60, SECONDS)\n                .maxSize(10)\n                .minSize(1)\n            )\n            .applyToSocketSettings(builder -&gt; builder\n                .connectTimeout(10, SECONDS)\n                .readTimeout(20, SECONDS))\n            .build()));\n  }\n\n  @StartBundle\n  public void startBundle() {\n    batch = new ArrayList&lt;&gt;();\n  }\n\n  @ProcessElement\n  public void processElement(ProcessContext ctx) {\n\n    batch.add(\n          new UpdateManyModel&lt;&gt;(\n              ctx.element().getKey(),\n              ctx.element().getValue(),\n              new UpdateOptions().upsert(true)));\n\n    // If batch limit is exceeded\n    if (batch.size() &gt;= 1024L) {\n      try {\n        flush();\n      } catch (MongoBulkWriteException pException) {\n        pException.getWriteErrors()\n            .forEach(pBulkWriteError -&gt;\n                ctx.output(new CustomBulkWriteError(pBulkWriteError)));\n      }\n    }\n  }\n\n  @FinishBundle\n  public void finishBundle(FinishBundleContext ctx) {\n    try {\n      flush();\n    } catch (MongoBulkWriteException pException) {\n      pException.getWriteErrors()\n          .forEach(pBulkWriteError -&gt;\n              ctx.output(new CustomBulkWriteError(pBulkWriteError),\n                  Instant.now(),\n                  GlobalWindow.INSTANCE));\n    }\n  }\n\n  private void flush() throws MongoBulkWriteException {\n    if (batch.isEmpty()) {\n      return;\n    }\n    MongoDatabase mongoDatabase = workerHashmap.get(instanceId).getDatabase(&quot;myDatabase&quot;);\n    MongoCollection&lt;Document&gt; mongoCollection = mongoDatabase.getCollection(&quot;myCollection&quot;);\n    try {\n      mongoCollection.bulkWrite(batch, new BulkWriteOptions().ordered(false));\n      batch.clear();\n    } catch (MongoBulkWriteException pException) {\n      batch.clear();\n      throw pException;\n    }\n  }\n\n  @Teardown\n  public void closeMongoClient() {\n    workerHashmap.get(instanceId).close();\n  }\n}\n</code></pre>\n<p>Any idea is more than welcome</p>\n"},{"tags":["java","spring","h2","mybatis"],"answers":[{"comments":[{"owner":{"account_id":22506547,"reputation":980,"user_id":16702058,"display_name":"Hi computer"},"score":1,"creation_date":1686281731,"post_id":76428628,"comment_id":134780534,"body_markdown":"I change datasource like you said, to a customed h2 databases, url like `jdbc:h2:mem:testdb;DATABASE_TO_LOWER=TRUE;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false;` and it worked, thanks a lot, I think I know how to deal with embedded database now","body":"I change datasource like you said, to a customed h2 databases, url like <code>jdbc:h2:mem:testdb;DATABASE_TO_LOWER=TRUE;DB_CLOSE_DELAY=-1;&zwnj;&#8203;DB_CLOSE_ON_EXIT=fal&zwnj;&#8203;se;</code> and it worked, thanks a lot, I think I know how to deal with embedded database now"},{"owner":{"account_id":22506547,"reputation":980,"user_id":16702058,"display_name":"Hi computer"},"score":1,"creation_date":1686282170,"post_id":76428628,"comment_id":134780569,"body_markdown":"Another thing is I have to put `@AutoConfigureTestDatabase(replace= AutoConfigureTestDatabase.Replace.NONE)` on top of my test class, to prevent the embedded database being activated","body":"Another thing is I have to put <code>@AutoConfigureTestDatabase(replace= AutoConfigureTestDatabase.Replace.NONE)</code> on top of my test class, to prevent the embedded database being activated"},{"owner":{"account_id":14794402,"reputation":1,"user_id":10684385,"display_name":"Soheil Babadi"},"score":1,"creation_date":1686283606,"post_id":76428628,"comment_id":134780680,"body_markdown":"I&#39;m glad I could help","body":"I&#39;m glad I could help"}],"tags":[],"owner":{"account_id":14794402,"reputation":1,"user_id":10684385,"display_name":"Soheil Babadi"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686198560,"creation_date":1686198560,"answer_id":76428628,"question_id":76428481,"body_markdown":"One way to achieve this is by creating a custom configuration for test to overrides the default configuration provided by @MybatisPlusTest. You can create a new configuration and annotate it with @TestConfiguration. Then you can define a bean for the embedded H2 database and set its JDBC URL with the required parameters.\r\n\r\nfor example I defined a bean for the embedded H2 database and set its JDBC URL with the required parameters: `CASE_INSENSITIVE_IDENTIFIERS=TRUE`\r\n\r\n    @TestConfiguration\r\n    public class TestConfig {\r\n    \r\n        @Bean\r\n        public DataSource dataSource() {\r\n            return new EmbeddedDatabaseBuilder()\r\n                    .setType(EmbeddedDatabaseType.H2)\r\n                    .addScript(&quot;schema-h2.sql&quot;)\r\n                    .build();\r\n        }\r\n    \r\n        @Bean\r\n        public MybatisSqlSessionFactoryBean mybatisSqlSessionFactoryBean(DataSource dataSource) {\r\n            MybatisSqlSessionFactoryBean sessionFactory = new MybatisSqlSessionFactoryBean();\r\n            sessionFactory.setDataSource(dataSource);\r\n    \r\n            org.apache.ibatis.session.Configuration configuration = new org.apache.ibatis.session.Configuration();\r\n            configuration.setMapUnderscoreToCamelCase(true);\r\n    \r\n            sessionFactory.setConfiguration(configuration);\r\n    \r\n            Resource[] mapperLocations = new PathMatchingResourcePatternResolver()\r\n                    .getResources(&quot;classpath:mapper/*.xml&quot;);\r\n    \r\n            sessionFactory.setMapperLocations(mapperLocations);\r\n            return sessionFactory;\r\n        }\r\n    \r\n        @Primary\r\n        @Bean\r\n        public DataSourceInitializer dataSourceInitializer(DataSource dataSource) {\r\n            ResourceDatabasePopulator resourceDatabasePopulator = new ResourceDatabasePopulator();\r\n            resourceDatabasePopulator.addScript(new ClassPathResource(&quot;schema-h2.sql&quot;));\r\n    \r\n            DataSourceInitializer dataSourceInitializer = new DataSourceInitializer();\r\n            dataSourceInitializer.setDataSource(dataSource);\r\n            dataSourceInitializer.setDatabasePopulator(resourceDatabasePopulator);\r\n    \r\n            return dataSourceInitializer;\r\n        }\r\n    \r\n        @Bean\r\n        public SqlSessionFactory sqlSessionFactory(DataSource dataSource) throws Exception {\r\n            SqlSessionFactoryBean sessionFactory = new SqlSessionFactoryBean();\r\n            sessionFactory.setDataSource(dataSource);\r\n    \r\n            org.apache.ibatis.session.Configuration configuration = new org.apache.ibatis.session.Configuration();\r\n            configuration.setMapUnderscoreToCamelCase(true);\r\n    \r\n            sessionFactory.setConfiguration(configuration);\r\n    \r\n            Resource[] mapperLocations = new PathMatchingResourcePatternResolver()\r\n                    .getResources(&quot;classpath:mapper/*.xml&quot;);\r\n    \r\n            sessionFactory.setMapperLocations(mapperLocations);\r\n            return sessionFactory.getObject();\r\n        }\r\n    }\r\n\r\nAfterward to use custom configuration in your tests, annotate your test class with `@ContextConfiguration(classes = TestConfig.class)`.\r\n\r\nI hope it solve the problem\r\n","title":"Could you offer some tips on configuring CASE_IGNORING to an embedded H2 database?","body":"<p>One way to achieve this is by creating a custom configuration for test to overrides the default configuration provided by @MybatisPlusTest. You can create a new configuration and annotate it with @TestConfiguration. Then you can define a bean for the embedded H2 database and set its JDBC URL with the required parameters.</p>\n<p>for example I defined a bean for the embedded H2 database and set its JDBC URL with the required parameters: <code>CASE_INSENSITIVE_IDENTIFIERS=TRUE</code></p>\n<pre><code>@TestConfiguration\npublic class TestConfig {\n\n    @Bean\n    public DataSource dataSource() {\n        return new EmbeddedDatabaseBuilder()\n                .setType(EmbeddedDatabaseType.H2)\n                .addScript(&quot;schema-h2.sql&quot;)\n                .build();\n    }\n\n    @Bean\n    public MybatisSqlSessionFactoryBean mybatisSqlSessionFactoryBean(DataSource dataSource) {\n        MybatisSqlSessionFactoryBean sessionFactory = new MybatisSqlSessionFactoryBean();\n        sessionFactory.setDataSource(dataSource);\n\n        org.apache.ibatis.session.Configuration configuration = new org.apache.ibatis.session.Configuration();\n        configuration.setMapUnderscoreToCamelCase(true);\n\n        sessionFactory.setConfiguration(configuration);\n\n        Resource[] mapperLocations = new PathMatchingResourcePatternResolver()\n                .getResources(&quot;classpath:mapper/*.xml&quot;);\n\n        sessionFactory.setMapperLocations(mapperLocations);\n        return sessionFactory;\n    }\n\n    @Primary\n    @Bean\n    public DataSourceInitializer dataSourceInitializer(DataSource dataSource) {\n        ResourceDatabasePopulator resourceDatabasePopulator = new ResourceDatabasePopulator();\n        resourceDatabasePopulator.addScript(new ClassPathResource(&quot;schema-h2.sql&quot;));\n\n        DataSourceInitializer dataSourceInitializer = new DataSourceInitializer();\n        dataSourceInitializer.setDataSource(dataSource);\n        dataSourceInitializer.setDatabasePopulator(resourceDatabasePopulator);\n\n        return dataSourceInitializer;\n    }\n\n    @Bean\n    public SqlSessionFactory sqlSessionFactory(DataSource dataSource) throws Exception {\n        SqlSessionFactoryBean sessionFactory = new SqlSessionFactoryBean();\n        sessionFactory.setDataSource(dataSource);\n\n        org.apache.ibatis.session.Configuration configuration = new org.apache.ibatis.session.Configuration();\n        configuration.setMapUnderscoreToCamelCase(true);\n\n        sessionFactory.setConfiguration(configuration);\n\n        Resource[] mapperLocations = new PathMatchingResourcePatternResolver()\n                .getResources(&quot;classpath:mapper/*.xml&quot;);\n\n        sessionFactory.setMapperLocations(mapperLocations);\n        return sessionFactory.getObject();\n    }\n}\n</code></pre>\n<p>Afterward to use custom configuration in your tests, annotate your test class with <code>@ContextConfiguration(classes = TestConfig.class)</code>.</p>\n<p>I hope it solve the problem</p>\n"}],"owner":{"account_id":22506547,"reputation":980,"user_id":16702058,"display_name":"Hi computer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76428628,"answer_count":1,"score":1,"last_activity_date":1686198560,"creation_date":1686195853,"question_id":76428481,"body_markdown":"I am using spring, mybatis plus, and unit test with @MybatisPlusTest annotation. \r\n\r\nI believe that @MybatisPlusTest will assist me in building an embedded database server.\r\n\r\nHere are the logs relating to the database when the spring container starts.\r\n\r\n```\r\n2023-06-08 10:36:02.187  INFO 1911 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing &#39;dataSource&#39; DataSource bean with embedded version\r\n2023-06-08 10:36:02.749  INFO 1911 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url=&#39;jdbc:h2:mem:e9cde56b-3395-44fb-8251-c79b0b36e653;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false&#39;, username=&#39;sa&#39;\r\n```\r\n\r\nhere is schema-h2.sql\r\n```\r\ncreate table if not exists person\r\n(\r\n    id   int auto_increment primary key,\r\n    name varchar(50) not null,\r\n    age  int         not null\r\n);\r\n```\r\n\r\nhere is the PersonMapper\r\n```\r\n@Repository\r\npublic interface PersonMapper extends BaseMapper&lt;Person&gt; {\r\n    @Select(&quot;select name, age from person&quot;)\r\n    public List&lt;Map&lt;String, Object&gt;&gt; selectCertainColumns();\r\n}\r\n```\r\n\r\nAfter I call `personMapper.selectCertainColumns()`, I get a `List&lt;Map&lt;String, Object&gt;&gt; rows`, and I want to get value of column `name`:\r\n\r\n### Expected:\r\n\r\nrows.get(0).get(&quot;name&quot;)\r\n\r\n### Actual:\r\n\r\nrows.get(0).get(&quot;NAME&quot;)\r\n\r\nfrom [JDBC URL with ignorecase is not working for H2 database connection][1], I understand that I should change the h2 datasource bean&#39;s url as follows:\r\n\r\n```\r\njdbc:h2:mem:xxxx;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false;CASE_INSENSITIVE_IDENTIFIERS=TRUE\r\n```\r\n\r\n### Problem is: \r\n\r\n**I am unable to modify the configuration or url used to build the embedded H2 database.**\r\n\r\nCould you offer some tips on setting up an embedded H2 database?\r\n\r\nAny advice is appreciated.\r\n\r\n [1]:https://stackoverflow.com/q/66871730/16702058","title":"Could you offer some tips on configuring CASE_IGNORING to an embedded H2 database?","body":"<p>I am using spring, mybatis plus, and unit test with @MybatisPlusTest annotation.</p>\n<p>I believe that @MybatisPlusTest will assist me in building an embedded database server.</p>\n<p>Here are the logs relating to the database when the spring container starts.</p>\n<pre><code>2023-06-08 10:36:02.187  INFO 1911 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version\n2023-06-08 10:36:02.749  INFO 1911 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:e9cde56b-3395-44fb-8251-c79b0b36e653;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'\n</code></pre>\n<p>here is schema-h2.sql</p>\n<pre><code>create table if not exists person\n(\n    id   int auto_increment primary key,\n    name varchar(50) not null,\n    age  int         not null\n);\n</code></pre>\n<p>here is the PersonMapper</p>\n<pre><code>@Repository\npublic interface PersonMapper extends BaseMapper&lt;Person&gt; {\n    @Select(&quot;select name, age from person&quot;)\n    public List&lt;Map&lt;String, Object&gt;&gt; selectCertainColumns();\n}\n</code></pre>\n<p>After I call <code>personMapper.selectCertainColumns()</code>, I get a <code>List&lt;Map&lt;String, Object&gt;&gt; rows</code>, and I want to get value of column <code>name</code>:</p>\n<h3>Expected:</h3>\n<p>rows.get(0).get(&quot;name&quot;)</p>\n<h3>Actual:</h3>\n<p>rows.get(0).get(&quot;NAME&quot;)</p>\n<p>from <a href=\"https://stackoverflow.com/q/66871730/16702058\">JDBC URL with ignorecase is not working for H2 database connection</a>, I understand that I should change the h2 datasource bean's url as follows:</p>\n<pre><code>jdbc:h2:mem:xxxx;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false;CASE_INSENSITIVE_IDENTIFIERS=TRUE\n</code></pre>\n<h3>Problem is:</h3>\n<p><strong>I am unable to modify the configuration or url used to build the embedded H2 database.</strong></p>\n<p>Could you offer some tips on setting up an embedded H2 database?</p>\n<p>Any advice is appreciated.</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","abstractmethoderror"],"answers":[{"comments":[{"owner":{"account_id":13004762,"reputation":141,"user_id":9399653,"display_name":"Suresh Madhusanka Rodrigo"},"score":0,"creation_date":1686209727,"post_id":76428627,"comment_id":134768595,"body_markdown":"Even with this change I am getting the error: (Part of the error is extracted here)\n\nCaused by: java.lang.AbstractMethodError: Receiver class org.openqa.selenium.chrome.ChromeDriverService$Builder does not define or inherit an implementation of the resolved method &#39;abstract void loadSystemProperties()&#39; of abstract class org.openqa.selenium.remote.service.DriverService$Builder.\n    at org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:496)\n    at org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:146)","body":"Even with this change I am getting the error: (Part of the error is extracted here)  Caused by: java.lang.AbstractMethodError: Receiver class org.openqa.selenium.chrome.ChromeDriverService$Builder does not define or inherit an implementation of the resolved method &#39;abstract void loadSystemProperties()&#39; of abstract class org.openqa.selenium.remote.service.DriverService$Builder.     at org.openqa.selenium.remote.service.DriverService$Builder.bui&zwnj;&#8203;ld(DriverService.jav&zwnj;&#8203;a:496)     at org.openqa.selenium.chrome.ChromeDriverService.createDefault&zwnj;&#8203;Service(ChromeDriver&zwnj;&#8203;Service.java:146)"}],"tags":[],"owner":{"account_id":27653683,"reputation":13,"user_id":21108043,"display_name":"varadharajan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686198546,"creation_date":1686198546,"answer_id":76428627,"question_id":76423979,"body_markdown":"Instead of setup() can you try with this,\r\n\r\n    driver = WebDriverManager.chromedriver().create();","title":"&#39;java.lang.AbstractMethodError&#39; when initializing the Chrome driver and Firefox driver in Selenium","body":"<p>Instead of setup() can you try with this,</p>\n<pre><code>driver = WebDriverManager.chromedriver().create();\n</code></pre>\n"}],"owner":{"account_id":13004762,"reputation":141,"user_id":9399653,"display_name":"Suresh Madhusanka Rodrigo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686198546,"creation_date":1686145446,"question_id":76423979,"body_markdown":"I am getting the below error when initializing the Chrome driver and Firefox driver in Selenium.\r\n\r\nInitializing the Chrome Driver\r\n------------------------------\r\n\r\n&gt; java.lang.AbstractMethodError: Receiver class\r\n&gt; org.openqa.selenium.chrome.ChromeDriverService$Builder does not define\r\n&gt; or inherit an implementation of the resolved method &#39;abstract void\r\n&gt; loadSystemProperties()&#39; of abstract class\r\n&gt; org.openqa.selenium.remote.service.DriverService$Builder.\r\n\r\n\r\nInitializing the Firefox Driver\r\n-------------------------------\r\n\r\n&gt; java.lang.AbstractMethodError: Receiver class\r\n&gt; org.openqa.selenium.firefox.GeckoDriverService$Builder does not define\r\n&gt; or inherit an implementation of the resolved method &#39;abstract void\r\n&gt; loadSystemProperties()&#39; of abstract class\r\n&gt; org.openqa.selenium.remote.service.DriverService$Builder.\r\n\r\nMy code is below. In below code I have tried only for the Chrome and Firefox browsers.\r\n\r\nI have tried with use of the WebDriver Manager as well as without the WebDriver Manager for the Chrome Driver initialization (As commented in the below code). For both these scenarios this error message is visible. \r\n\r\nI have executed the same code 2 months back and it was working fine. But suddenly from yesterday I was facing this issue and up to now could not identify the root cause for this issue.\r\n\r\n    public static WebDriver initialization() {\r\n    \r\n        if (driver == null) {\r\n    \r\n            switch (propertyBrowserValue) {\r\n                case &quot;chrome&quot;:\r\n                   // System.setProperty(getPropertyInitializeValue(initFilePath, &quot;chromeDriverName&quot;), getPropertyInitializeValue(initFilePath, &quot;chromeDriverPath&quot;));\r\n    \r\n                  //  ChromeOptions options = new ChromeOptions();\r\n                  //  options.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n                  //  driver = new ChromeDriver(options);\r\n    \r\n                    WebDriverManager.chromedriver().setup();\r\n                    driver = new ChromeDriver();\r\n                    break;\r\n    \r\n                case &quot;firefox&quot;:\r\n                    WebDriverManager.firefoxdriver().setup();\r\n                    driver = new FirefoxDriver();\r\n                    break;\r\n    \r\n                case &quot;IE&quot;:\r\n                    WebDriverManager.iedriver().setup();\r\n                    driver = new InternetExplorerDriver();\r\n                    break;\r\n    \r\n                case &quot;Edge&quot;:\r\n                    WebDriverManager.edgedriver().setup();\r\n                    driver = new EdgeDriver();\r\n                    break;\r\n    \r\n                default:\r\n                    System.out.println(&quot;You have not setup a correct browser &quot;\r\n                            + &quot;type in configuration file&quot;);\r\n            }\r\n    \r\n    \r\n        }\r\n    \r\n        driver.manage().deleteAllCookies();\r\n        driver.manage().window().maximize();\r\n        return driver;\r\n    \r\n    }","title":"&#39;java.lang.AbstractMethodError&#39; when initializing the Chrome driver and Firefox driver in Selenium","body":"<p>I am getting the below error when initializing the Chrome driver and Firefox driver in Selenium.</p>\n<h2>Initializing the Chrome Driver</h2>\n<blockquote>\n<p>java.lang.AbstractMethodError: Receiver class\norg.openqa.selenium.chrome.ChromeDriverService$Builder does not define\nor inherit an implementation of the resolved method 'abstract void\nloadSystemProperties()' of abstract class\norg.openqa.selenium.remote.service.DriverService$Builder.</p>\n</blockquote>\n<h2>Initializing the Firefox Driver</h2>\n<blockquote>\n<p>java.lang.AbstractMethodError: Receiver class\norg.openqa.selenium.firefox.GeckoDriverService$Builder does not define\nor inherit an implementation of the resolved method 'abstract void\nloadSystemProperties()' of abstract class\norg.openqa.selenium.remote.service.DriverService$Builder.</p>\n</blockquote>\n<p>My code is below. In below code I have tried only for the Chrome and Firefox browsers.</p>\n<p>I have tried with use of the WebDriver Manager as well as without the WebDriver Manager for the Chrome Driver initialization (As commented in the below code). For both these scenarios this error message is visible.</p>\n<p>I have executed the same code 2 months back and it was working fine. But suddenly from yesterday I was facing this issue and up to now could not identify the root cause for this issue.</p>\n<pre><code>public static WebDriver initialization() {\n\n    if (driver == null) {\n\n        switch (propertyBrowserValue) {\n            case &quot;chrome&quot;:\n               // System.setProperty(getPropertyInitializeValue(initFilePath, &quot;chromeDriverName&quot;), getPropertyInitializeValue(initFilePath, &quot;chromeDriverPath&quot;));\n\n              //  ChromeOptions options = new ChromeOptions();\n              //  options.addArguments(&quot;--remote-allow-origins=*&quot;);\n              //  driver = new ChromeDriver(options);\n\n                WebDriverManager.chromedriver().setup();\n                driver = new ChromeDriver();\n                break;\n\n            case &quot;firefox&quot;:\n                WebDriverManager.firefoxdriver().setup();\n                driver = new FirefoxDriver();\n                break;\n\n            case &quot;IE&quot;:\n                WebDriverManager.iedriver().setup();\n                driver = new InternetExplorerDriver();\n                break;\n\n            case &quot;Edge&quot;:\n                WebDriverManager.edgedriver().setup();\n                driver = new EdgeDriver();\n                break;\n\n            default:\n                System.out.println(&quot;You have not setup a correct browser &quot;\n                        + &quot;type in configuration file&quot;);\n        }\n\n\n    }\n\n    driver.manage().deleteAllCookies();\n    driver.manage().window().maximize();\n    return driver;\n\n}\n</code></pre>\n"},{"tags":["java","generics","design-patterns","software-design","object-oriented-analysis"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1686192258,"post_id":76428260,"comment_id":134766483,"body_markdown":"What does each of the methods do? If they all return different types, then they probably do different things, and are therefore not code duplication. Can you show the implementations of those methods?","body":"What does each of the methods do? If they all return different types, then they probably do different things, and are therefore not code duplication. Can you show the implementations of those methods?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1686192433,"post_id":76428260,"comment_id":134766496,"body_markdown":"If A,B and C shared a common interface, then you could reduce this is one method, which would take a a parameter indicating which  `computer` method to call","body":"If A,B and C shared a common interface, then you could reduce this is one method, which would take a a parameter indicating which  <code>computer</code> method to call"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1686192434,"post_id":76428260,"comment_id":134766497,"body_markdown":"Are you ***reading*** `A`, `B` and `C` or are you ***computing*** `A`, `B` and `C`? Are `A`, `B` and `C` related through a type hierarchy? Can they be? Perhaps a `Computable` interface? What are you doing with the results?","body":"Are you <b><i>reading</i></b> <code>A</code>, <code>B</code> and <code>C</code> or are you <b><i>computing</i></b> <code>A</code>, <code>B</code> and <code>C</code>? Are <code>A</code>, <code>B</code> and <code>C</code> related through a type hierarchy? Can they be? Perhaps a <code>Computable</code> interface? What are you doing with the results?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1686192552,"post_id":76428260,"comment_id":134766509,"body_markdown":"What does the code where you call the readX methods look like?","body":"What does the code where you call the readX methods look like?"},{"owner":{"account_id":23885089,"reputation":1,"user_id":18131522,"display_name":"KII"},"score":0,"creation_date":1686192554,"post_id":76428260,"comment_id":134766511,"body_markdown":"I should&#39;ve also mentioned that computeA(), computeB() and  computeC() are also very similar (but complex) functions that can be improved via code reuse. Getting an idea on how to clean up the read() function would help me reduce code duplications in these functions too","body":"I should&#39;ve also mentioned that computeA(), computeB() and  computeC() are also very similar (but complex) functions that can be improved via code reuse. Getting an idea on how to clean up the read() function would help me reduce code duplications in these functions too"}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686196833,"creation_date":1686194844,"answer_id":76428430,"question_id":76428260,"body_markdown":"The classic solution would be to have a class hierarchy with an abstract base class and a concrete class for each of A, B and C:\r\n\r\n```\r\npublic abstract class AbstractReader&lt;T&gt; {\r\n  protected void doLotsOfCommmonThings() {\r\n    // do the things\r\n  }\r\n  protected abstract T compute();\r\n  public T read() {\r\n    doLotsOfCommmonThings();\r\n    return compute();\r\n  }\r\n}\r\n\r\npublic class AReader extends AbstractReader&lt;A&gt; {\r\n   protected A compute() {\r\n     // do the computing\r\n   }\r\n}\r\n\r\npublic class BReader extends AbstractReader&lt;B&gt; {\r\n   protected B compute() {\r\n     // do the computing\r\n   }\r\n}\r\n\r\n...\r\n```\r\nDuplicate code in the compute methods can also be moved into `protected` methods of `AbstractReader`.\r\n\r\nThe other way to do it, which I would probably choose, uses composition:\r\n\r\n```\r\npublic class ThingDoer {\r\n  private CommonThingsResult doLotsOfCommmonThings(CommonThingsParameters params) {\r\n    // do the things\r\n  }\r\n\r\n  public &lt;T&gt; T read(Function&lt;CommonThingsResult, T&gt; computeFn) {\r\n    return computeFn.apply(thingDoer.doLotsOfCommmonThings(...));\r\n  }\r\n}\r\n\r\npublic class AReader {\r\n  private final ThingDoer thingDoer;\r\n\r\n  public AReader(ThingDoer thingDoer) {\r\n    this.thingDoer = thingDoer;\r\n  }\r\n\r\n  public A read() {\r\n    return thingDoer.read(AReader::compute);\r\n  }\r\n\r\n  private A compute(CommonThingsResult result) {\r\n   // compute an A\r\n  }\r\n}\r\n```\r\nWhich allows testing `ThingDoer` separately from `A/B/CReader`\r\n\r\nYou can put other `public` methods on `ThingDoer` to call in your `compute` implementations, or have another class for them.","title":"Resolve code duplication using Generics VS Inheritance","body":"<p>The classic solution would be to have a class hierarchy with an abstract base class and a concrete class for each of A, B and C:</p>\n<pre><code>public abstract class AbstractReader&lt;T&gt; {\n  protected void doLotsOfCommmonThings() {\n    // do the things\n  }\n  protected abstract T compute();\n  public T read() {\n    doLotsOfCommmonThings();\n    return compute();\n  }\n}\n\npublic class AReader extends AbstractReader&lt;A&gt; {\n   protected A compute() {\n     // do the computing\n   }\n}\n\npublic class BReader extends AbstractReader&lt;B&gt; {\n   protected B compute() {\n     // do the computing\n   }\n}\n\n...\n</code></pre>\n<p>Duplicate code in the compute methods can also be moved into <code>protected</code> methods of <code>AbstractReader</code>.</p>\n<p>The other way to do it, which I would probably choose, uses composition:</p>\n<pre><code>public class ThingDoer {\n  private CommonThingsResult doLotsOfCommmonThings(CommonThingsParameters params) {\n    // do the things\n  }\n\n  public &lt;T&gt; T read(Function&lt;CommonThingsResult, T&gt; computeFn) {\n    return computeFn.apply(thingDoer.doLotsOfCommmonThings(...));\n  }\n}\n\npublic class AReader {\n  private final ThingDoer thingDoer;\n\n  public AReader(ThingDoer thingDoer) {\n    this.thingDoer = thingDoer;\n  }\n\n  public A read() {\n    return thingDoer.read(AReader::compute);\n  }\n\n  private A compute(CommonThingsResult result) {\n   // compute an A\n  }\n}\n</code></pre>\n<p>Which allows testing <code>ThingDoer</code> separately from <code>A/B/CReader</code></p>\n<p>You can put other <code>public</code> methods on <code>ThingDoer</code> to call in your <code>compute</code> implementations, or have another class for them.</p>\n"}],"owner":{"account_id":23885089,"reputation":1,"user_id":18131522,"display_name":"KII"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686196833,"creation_date":1686192124,"question_id":76428260,"body_markdown":"I have a common reader for three different classes, but there is some code duplication because the reader has different methods for each of the classes A, B, and C. Is there anyway I can make the code cleaner? e.g., by having only one read method?\r\n\r\nAny insights would be appreciated :)\r\n\r\n(Due to legacy issues I **wasn&#39;t** able to let A, B, and C **extend** another superclass or **implement** another superclass.)\r\n\r\n```\r\npublic class ReaderForABC {\r\n\r\n    public A readA() {\r\n        doLotsOfCommonThings();\r\n        A result = computeA();\r\n        return result;\r\n    }\r\n    public B readB() {\r\n        doLotsOfCommonThings();\r\n        B result = computeB();\r\n        return result;\r\n    }\r\n    public C readC() {\r\n        doLotsOfCommonThings();\r\n        C result = computeC();\r\n        return result;\r\n    }\r\n    \r\n    private static void doLotsOfCommonThings(){}\r\n    private static A computeA(){\r\n        //do something common\r\n        //call helper function to compute A\r\n        /*This helper function is similar to computeA(), \r\n        where there are some code duplication and some differences in the end\r\n        (and also a cascade of calls to similar functions like computeA())\r\n        */\r\n         \r\n    }\r\n    private static B computeB(){\r\n        //do something common\r\n        //call helper function to compute B\r\n        /*This helper function is similar to computeB(), \r\n        where there are some code duplication and some differences in the end\r\n        (and also a cascade of calls to similar functions like computeB())\r\n        */\r\n    }\r\n    private static C computeC(){\r\n        //do something common\r\n        ///call helper function to compute B\r\n        /*This helper function is similar to computeC(), \r\n        where there are some code duplication and some differences in the end\r\n        (and also a cascade of calls to similar functions like computeC())\r\n        */\r\n    }\r\n}\r\n```\r\n\r\nTo use the reader:\r\n```\r\nReaderForABC readerForABC = new ReaderForABC()\r\nA a = readerForABC.readA();\r\nA b = readerForABC.readB();\r\n//...similarly for C.\r\n```\r\nThe main issue I face is that those readX and computeX functions have lots of code duplication because computeX calls a cascade of other functions that have code duplication for each type of A, B, and C. If I have a way to address code duplication in readX, I can address similarly in computeX and other functions that are called within it.\r\n\r\nI tried to use generics, but it made things worse...because it has to decide on which action to take by checking class type\r\n\r\n```\r\npublic &lt;T&gt; T read(Class&lt;T&gt; classType) {\r\n        doLotsOfCommonThings();\r\n        T result;\r\n        if (classType.getSimpleName().equals(&quot;A&quot;)) {\r\n            result = (T) computeA();\r\n            return result;\r\n        } else if (classType.getSimpleName().equals(&quot;B&quot;)) {\r\n            result = (T) computeB();\r\n            return result;\r\n        }\r\n        //...handle C similarly\r\n    }\r\n```\r\n(edited computeX() to make things more clear, hopefully)","title":"Resolve code duplication using Generics VS Inheritance","body":"<p>I have a common reader for three different classes, but there is some code duplication because the reader has different methods for each of the classes A, B, and C. Is there anyway I can make the code cleaner? e.g., by having only one read method?</p>\n<p>Any insights would be appreciated :)</p>\n<p>(Due to legacy issues I <strong>wasn't</strong> able to let A, B, and C <strong>extend</strong> another superclass or <strong>implement</strong> another superclass.)</p>\n<pre><code>public class ReaderForABC {\n\n    public A readA() {\n        doLotsOfCommonThings();\n        A result = computeA();\n        return result;\n    }\n    public B readB() {\n        doLotsOfCommonThings();\n        B result = computeB();\n        return result;\n    }\n    public C readC() {\n        doLotsOfCommonThings();\n        C result = computeC();\n        return result;\n    }\n    \n    private static void doLotsOfCommonThings(){}\n    private static A computeA(){\n        //do something common\n        //call helper function to compute A\n        /*This helper function is similar to computeA(), \n        where there are some code duplication and some differences in the end\n        (and also a cascade of calls to similar functions like computeA())\n        */\n         \n    }\n    private static B computeB(){\n        //do something common\n        //call helper function to compute B\n        /*This helper function is similar to computeB(), \n        where there are some code duplication and some differences in the end\n        (and also a cascade of calls to similar functions like computeB())\n        */\n    }\n    private static C computeC(){\n        //do something common\n        ///call helper function to compute B\n        /*This helper function is similar to computeC(), \n        where there are some code duplication and some differences in the end\n        (and also a cascade of calls to similar functions like computeC())\n        */\n    }\n}\n</code></pre>\n<p>To use the reader:</p>\n<pre><code>ReaderForABC readerForABC = new ReaderForABC()\nA a = readerForABC.readA();\nA b = readerForABC.readB();\n//...similarly for C.\n</code></pre>\n<p>The main issue I face is that those readX and computeX functions have lots of code duplication because computeX calls a cascade of other functions that have code duplication for each type of A, B, and C. If I have a way to address code duplication in readX, I can address similarly in computeX and other functions that are called within it.</p>\n<p>I tried to use generics, but it made things worse...because it has to decide on which action to take by checking class type</p>\n<pre><code>public &lt;T&gt; T read(Class&lt;T&gt; classType) {\n        doLotsOfCommonThings();\n        T result;\n        if (classType.getSimpleName().equals(&quot;A&quot;)) {\n            result = (T) computeA();\n            return result;\n        } else if (classType.getSimpleName().equals(&quot;B&quot;)) {\n            result = (T) computeB();\n            return result;\n        }\n        //...handle C similarly\n    }\n</code></pre>\n<p>(edited computeX() to make things more clear, hopefully)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1686137553,"post_id":76422839,"comment_id":134757208,"body_markdown":"What do you mean by &quot;2 days older&quot;? Like &quot;exactly 2 days ago&quot; or more like &quot;the day before yesterday&quot; which could be about 3 days depending on the time? And what did you try so far?","body":"What do you mean by &quot;2 days older&quot;? Like &quot;exactly 2 days ago&quot; or more like &quot;the day before yesterday&quot; which could be about 3 days depending on the time? And what did you try so far?"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1686137588,"post_id":76422839,"comment_id":134757221,"body_markdown":"Given date of what data type?","body":"Given date of what data type?"},{"owner":{"account_id":1096311,"reputation":2246,"user_id":1089841,"accept_rate":33,"display_name":"Girish"},"score":0,"creation_date":1686137693,"post_id":76422839,"comment_id":134757249,"body_markdown":"@OHGODSPIDERS it is in String","body":"@OHGODSPIDERS it is in String"},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1686138058,"post_id":76422839,"comment_id":134757331,"body_markdown":"2 days older than what ? Today? In the same timezone ? Is the time relevant? Your question needs more details","body":"2 days older than what ? Today? In the same timezone ? Is the time relevant? Your question needs more details"},{"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"score":1,"creation_date":1686140927,"post_id":76422839,"comment_id":134757928,"body_markdown":"Check out the java.time.LocalDate package. It provides everything you need: [JavaDoc LocalDate](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html)","body":"Check out the java.time.LocalDate package. It provides everything you need: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\">JavaDoc LocalDate</a>"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686192792,"post_id":76422839,"comment_id":134766529,"body_markdown":"The _.243_ there is the milliseconds, the _Z_ character has no correlation to it.  The _Z_ is a way to represent the time-zone at the _UTC_, which is also referred to as the _Zulu_ time-zone.  Thus, that time-stamp was calculated with a _0_ offset, in terms of time-zone.","body":"The <i>.243</i> there is the milliseconds, the <i>Z</i> character has no correlation to it.  The <i>Z</i> is a way to represent the time-zone at the <i>UTC</i>, which is also referred to as the <i>Zulu</i> time-zone.  Thus, that time-stamp was calculated with a <i>0</i> offset, in terms of time-zone."},{"owner":{"account_id":1096311,"reputation":2246,"user_id":1089841,"accept_rate":33,"display_name":"Girish"},"score":0,"creation_date":1686743701,"post_id":76422839,"comment_id":134840527,"body_markdown":"2023-06-12T10:49:010Z In this case seconds having three digits how to solve this","body":"2023-06-12T10:49:010Z In this case seconds having three digits how to solve this"}],"answers":[{"comments":[{"owner":{"account_id":1096311,"reputation":2246,"user_id":1089841,"accept_rate":33,"display_name":"Girish"},"score":0,"creation_date":1686743770,"post_id":76423210,"comment_id":134840541,"body_markdown":"How to solve this 2023-06-12T10:49:010Z","body":"How to solve this 2023-06-12T10:49:010Z"},{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1686747615,"post_id":76423210,"comment_id":134841514,"body_markdown":"The line to parse it would be:\n        OffsetDateTime testDate = OffsetDateTime.parse(testDateStr, DateTimeFormatter.ISO_OFFSET_DATE_TIME);\n\nBut your String is problematic - Look at your time part &quot;...10:49:010Z&quot; - the number of seconds is &#39;010&#39; - you got an extra digit there is meant to be &#39;01&#39; or &#39;10&#39;? Remove extra-digit and you should be fine","body":"The line to parse it would be:         OffsetDateTime testDate = OffsetDateTime.parse(testDateStr, DateTimeFormatter.ISO_OFFSET_DATE_TIME);  But your String is problematic - Look at your time part &quot;...10:49:010Z&quot; - the number of seconds is &#39;010&#39; - you got an extra digit there is meant to be &#39;01&#39; or &#39;10&#39;? Remove extra-digit and you should be fine"},{"owner":{"account_id":1096311,"reputation":2246,"user_id":1089841,"accept_rate":33,"display_name":"Girish"},"score":0,"creation_date":1686747847,"post_id":76423210,"comment_id":134841576,"body_markdown":"right , which one to remove need to figure out","body":"right , which one to remove need to figure out"}],"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1686142115,"creation_date":1686140120,"answer_id":76423210,"question_id":76422839,"body_markdown":"Parse your date to `OffsetDateTime` instance say givenDate, and than create `OffsetDateTime currDate = new OffsetDateTime();`After that do \r\n\r\n    boolean res = currDate.minusDays(2).isAfter(givenDate);\r\nIf your res is true than your given days is earlier (older) than two days before","title":"How to compare the given date is 2 days older in java","body":"<p>Parse your date to <code>OffsetDateTime</code> instance say givenDate, and than create <code>OffsetDateTime currDate = new OffsetDateTime();</code>After that do</p>\n<pre><code>boolean res = currDate.minusDays(2).isAfter(givenDate);\n</code></pre>\n<p>If your res is true than your given days is earlier (older) than two days before</p>\n"},{"comments":[{"owner":{"account_id":1096311,"reputation":2246,"user_id":1089841,"accept_rate":33,"display_name":"Girish"},"score":1,"creation_date":1686143335,"post_id":76423305,"comment_id":134758502,"body_markdown":"Have clubbed both the answers\nString givenDate = &quot;2023-05-20T08:32:23.243Z&quot;;\nOffsetDateTime givenOffsetDateTime = OffsetDateTime.parse(givenDate);\n        // get the current date and time in the same zone (UTC)\n        OffsetDateTime now = OffsetDateTime.now(ZoneOffset.UTC);\n\n        boolean res = now.minusDays(2).isAfter(givenOffsetDateTime);","body":"Have clubbed both the answers String givenDate = &quot;2023-05-20T08:32:23.243Z&quot;; OffsetDateTime givenOffsetDateTime = OffsetDateTime.parse(givenDate);         // get the current date and time in the same zone (UTC)         OffsetDateTime now = OffsetDateTime.now(ZoneOffset.UTC);          boolean res = now.minusDays(2).isAfter(givenOffsetDateTime);"}],"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686140786,"creation_date":1686140786,"answer_id":76423305,"question_id":76422839,"body_markdown":"### steps to perform\r\n- parse the `String` to an `OffsetDateTime`\r\n- get the current `OffsetDateTime` with the same offset\r\n- calculate the difference in days using the date only while disregarding the time of day\r\n- check if the result is 2 or older\r\n\r\n### code example\r\n```Java\r\npublic static void main(String[] args) {\r\n\t// example input\r\n\tString givenDate = &quot;2023-05-20T08:32:23.243Z&quot;;\r\n\t// parse the String\r\n\tOffsetDateTime givenOffsetDateTime = OffsetDateTime.parse(givenDate);\r\n\t// get the current date and time in the same zone (UTC)\r\n\tOffsetDateTime now = OffsetDateTime.now(ZoneOffset.UTC);\r\n\t// calculate the time difference of the dates (disregarding time of day)\r\n\tPeriod period = Period.between(\r\n\t\t\t\t\t\tgivenOffsetDateTime.toLocalDate(),\r\n\t\t\t\t\t\tnow.toLocalDate()\r\n\t\t\t\t\t);\r\n\t// print the result including a check for 2 days or older\r\n\tSystem.out.println(\r\n\t\t\tString.format(&quot;%s is %d days older than %s\\nwhich means it is %s days in the past&quot;,\r\n\t\t\t\t\t\t\tgivenOffsetDateTime.toLocalDate(),\r\n\t\t\t\t\t\t\tperiod.getDays(),\r\n\t\t\t\t\t\t\tnow.toLocalDate(),\r\n\t\t\t\t\t\t\tperiod.getDays() &lt; 2 ? &quot;less than 2&quot; : &quot;2 or more&quot;\r\n\t\t\t\t\t\t)\r\n\t\t\t);\r\n}\r\n```\r\n### example output\r\n```none\r\n2023-05-20 is 18 days older than 2023-06-07\r\nwhich means it is 2 or more days in the past\r\n```","title":"How to compare the given date is 2 days older in java","body":"<h3>steps to perform</h3>\n<ul>\n<li>parse the <code>String</code> to an <code>OffsetDateTime</code></li>\n<li>get the current <code>OffsetDateTime</code> with the same offset</li>\n<li>calculate the difference in days using the date only while disregarding the time of day</li>\n<li>check if the result is 2 or older</li>\n</ul>\n<h3>code example</h3>\n<pre><code>public static void main(String[] args) {\n    // example input\n    String givenDate = &quot;2023-05-20T08:32:23.243Z&quot;;\n    // parse the String\n    OffsetDateTime givenOffsetDateTime = OffsetDateTime.parse(givenDate);\n    // get the current date and time in the same zone (UTC)\n    OffsetDateTime now = OffsetDateTime.now(ZoneOffset.UTC);\n    // calculate the time difference of the dates (disregarding time of day)\n    Period period = Period.between(\n                        givenOffsetDateTime.toLocalDate(),\n                        now.toLocalDate()\n                    );\n    // print the result including a check for 2 days or older\n    System.out.println(\n            String.format(&quot;%s is %d days older than %s\\nwhich means it is %s days in the past&quot;,\n                            givenOffsetDateTime.toLocalDate(),\n                            period.getDays(),\n                            now.toLocalDate(),\n                            period.getDays() &lt; 2 ? &quot;less than 2&quot; : &quot;2 or more&quot;\n                        )\n            );\n}\n</code></pre>\n<h3>example output</h3>\n<pre class=\"lang-none prettyprint-override\"><code>2023-05-20 is 18 days older than 2023-06-07\nwhich means it is 2 or more days in the past\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686195825,"creation_date":1686195324,"answer_id":76428460,"question_id":76422839,"body_markdown":"Here is a resource.\r\n\r\nThe time-stamp has a _milliseconds_ field, the _&quot;Z&quot;_ is a different field.\r\n\r\n_Z_ is used to represent the time-zone at the _[UTC](https://en.wikipedia.org/wiki/Coordinated_Universal_Time)_, which is also referred to as the _Zulu_ time-zone.  \r\nWhich, stems from military and aeronautical applications, which use a _[phonetic alphabet](https://en.wikipedia.org/wiki/NATO_phonetic_alphabet)_, where _Z_ is _Zulu_.\r\n\r\n&gt; _&quot;Since the NATO phonetic alphabet word for Z is &quot;Zulu&quot;, UTC is sometimes known as &quot;Zulu time&quot;. This is especially true in aviation, where &quot;Zulu&quot; is the universal standard.&quot;_\r\n\r\nThis format is widely used throughout computer science.\r\n\r\nThe format is defined in _[ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)_.\r\n\r\nA _[time-zone](https://en.wikipedia.org/wiki/Time_zone)_ simply defines an offset, from the _UTC_&amp;mdash;negative numbers are _West_, towards America, and positive numbers are _East_, towards _Asia_.\r\n\r\nFor example, if you&#39;re time-stamp had the following format\r\n\r\n```none\r\n2023-05-20T08:32:23.243-0400\r\n```\r\n\r\nThe _&quot;-0400&quot;_ signifies an offset in hours and minutes.  \r\nThus, _negative 4 hours and 0 minutes_.\r\n\r\nWhich, depending on whether _[Day Light Saving](https://en.wikipedia.org/wiki/Daylight_saving_time)_ is currently being observed, will be either the _[Atlantic Time Zone](https://en.wikipedia.org/wiki/Atlantic_Time_Zone)_, or the _[Eastern Time Zone](https://en.wikipedia.org/wiki/Eastern_Time_Zone)_.","title":"How to compare the given date is 2 days older in java","body":"<p>Here is a resource.</p>\n<p>The time-stamp has a <em>milliseconds</em> field, the <em>&quot;Z&quot;</em> is a different field.</p>\n<p><em>Z</em> is used to represent the time-zone at the <em><a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"nofollow noreferrer\">UTC</a></em>, which is also referred to as the <em>Zulu</em> time-zone.<br />\nWhich, stems from military and aeronautical applications, which use a <em><a href=\"https://en.wikipedia.org/wiki/NATO_phonetic_alphabet\" rel=\"nofollow noreferrer\">phonetic alphabet</a></em>, where <em>Z</em> is <em>Zulu</em>.</p>\n<blockquote>\n<p><em>&quot;Since the NATO phonetic alphabet word for Z is &quot;Zulu&quot;, UTC is sometimes known as &quot;Zulu time&quot;. This is especially true in aviation, where &quot;Zulu&quot; is the universal standard.&quot;</em></p>\n</blockquote>\n<p>This format is widely used throughout computer science.</p>\n<p>The format is defined in <em><a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a></em>.</p>\n<p>A <em><a href=\"https://en.wikipedia.org/wiki/Time_zone\" rel=\"nofollow noreferrer\">time-zone</a></em> simply defines an offset, from the <em>UTC</em>—negative numbers are <em>West</em>, towards America, and positive numbers are <em>East</em>, towards <em>Asia</em>.</p>\n<p>For example, if you're time-stamp had the following format</p>\n<pre class=\"lang-none prettyprint-override\"><code>2023-05-20T08:32:23.243-0400\n</code></pre>\n<p>The <em>&quot;-0400&quot;</em> signifies an offset in hours and minutes.<br />\nThus, <em>negative 4 hours and 0 minutes</em>.</p>\n<p>Which, depending on whether <em><a href=\"https://en.wikipedia.org/wiki/Daylight_saving_time\" rel=\"nofollow noreferrer\">Day Light Saving</a></em> is currently being observed, will be either the <em><a href=\"https://en.wikipedia.org/wiki/Atlantic_Time_Zone\" rel=\"nofollow noreferrer\">Atlantic Time Zone</a></em>, or the <em><a href=\"https://en.wikipedia.org/wiki/Eastern_Time_Zone\" rel=\"nofollow noreferrer\">Eastern Time Zone</a></em>.</p>\n"}],"owner":{"account_id":1096311,"reputation":2246,"user_id":1089841,"accept_rate":33,"display_name":"Girish"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1686195825,"creation_date":1686137466,"question_id":76422839,"body_markdown":"How to compare that the given date is 2 days older than the current date?\r\n\r\nWill `.243Z` make any difference based on the timezone?\r\n\r\nGiven date: `&quot;2023-05-20T08:32:23.243Z&quot;`\r\n\r\nNeed to compare given date with current date if it is 2 days before/ago.\r\n","title":"How to compare the given date is 2 days older in java","body":"<p>How to compare that the given date is 2 days older than the current date?</p>\n<p>Will <code>.243Z</code> make any difference based on the timezone?</p>\n<p>Given date: <code>&quot;2023-05-20T08:32:23.243Z&quot;</code></p>\n<p>Need to compare given date with current date if it is 2 days before/ago.</p>\n"},{"tags":["java","regex","pattern-matching"],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686194729,"creation_date":1686194729,"answer_id":76428419,"question_id":76428377,"body_markdown":"You may simply match on `\\d+`, which matches groups of numbers of one or more digits:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String ss = &quot;ramesh_gone_to_avbp_92_vc.pdf&quot;;\r\n    String output = ss.replaceAll(&quot;\\\\d+&quot;, &quot;*&quot;);\r\n    System.out.println(output);  // ramesh_gone_to_avbp_*_vc.pdf","title":"Replace All numeric substring with character","body":"<p>You may simply match on <code>\\d+</code>, which matches groups of numbers of one or more digits:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String ss = &quot;ramesh_gone_to_avbp_92_vc.pdf&quot;;\nString output = ss.replaceAll(&quot;\\\\d+&quot;, &quot;*&quot;);\nSystem.out.println(output);  // ramesh_gone_to_avbp_*_vc.pdf\n</code></pre>\n"}],"owner":{"account_id":28203287,"reputation":31,"user_id":21556763,"display_name":"Jharokha "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76428419,"answer_count":1,"score":1,"last_activity_date":1686194729,"creation_date":1686194004,"question_id":76428377,"body_markdown":"I have to replace all digit patterns with some character. For 1 digit its working fine  for e.g for given string `ramesh_gone_to_avbp_9_vc.pdf` its working fine changing it to `ramesh_gone_to_avbp_*_vc.pdf` but for given input `ramesh_gone_to_avbp_91_vc.pdf` its changing to `ramesh_gone_to_avbp_**_vc.pdf` but i want output like `ramesh_gone_to_avbp_*_vc.pdf`\r\n\r\nThis is what i tried so far \r\n```\r\nString ss = &quot;ramesh_gone_to_avbp_92_vc.pdf&quot;;\r\nSystem.out.println(ss.replaceAll(&quot;(?&lt;=[\\\\d\\\\.])-(?=[\\\\d\\\\.])&quot;, &quot;*&quot;));\r\n```\r\n","title":"Replace All numeric substring with character","body":"<p>I have to replace all digit patterns with some character. For 1 digit its working fine  for e.g for given string <code>ramesh_gone_to_avbp_9_vc.pdf</code> its working fine changing it to <code>ramesh_gone_to_avbp_*_vc.pdf</code> but for given input <code>ramesh_gone_to_avbp_91_vc.pdf</code> its changing to <code>ramesh_gone_to_avbp_**_vc.pdf</code> but i want output like <code>ramesh_gone_to_avbp_*_vc.pdf</code></p>\n<p>This is what i tried so far</p>\n<pre><code>String ss = &quot;ramesh_gone_to_avbp_92_vc.pdf&quot;;\nSystem.out.println(ss.replaceAll(&quot;(?&lt;=[\\\\d\\\\.])-(?=[\\\\d\\\\.])&quot;, &quot;*&quot;));\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1686195359,"post_id":76428369,"comment_id":134766723,"body_markdown":"Are you doing this for academic reasons? Because why not just use a `javafx.fxml.FXMLLoader`?","body":"Are you doing this for academic reasons? Because why not just use a <code>javafx.fxml.FXMLLoader</code>?"}],"owner":{"account_id":28776893,"reputation":1,"user_id":22039306,"display_name":"R&#234;f&#238;&#238;lw&#235; Ipfi Mashau"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686193907,"creation_date":1686193907,"question_id":76428369,"body_markdown":"\r\n\r\n```\r\n(creating ui)\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.layout.VBox;\r\nimport org.w3c.dom.Document;\r\nimport org.w3c.dom.Element;\r\nimport org.w3c.dom.NodeList;\r\n\r\nimport javax.xml.parsers.DocumentBuilder;\r\nimport javax.xml.parsers.DocumentBuilderFactory;\r\nimport javax.xml.xpath.XPath;\r\nimport javax.xml.xpath.XPathConstants;\r\nimport javax.xml.xpath.XPathExpressionException;\r\nimport javax.xml.xpath.XPathFactory;\r\nimport java.io.File;\r\n\r\npublic class XMLJavaFXLoader {\r\n    protected static double minWidth;\r\n    protected  static double minHeight;\r\n    protected static Class controller;\r\n    protected static String stageTitle;\r\n    protected static Scene scene;\r\n    public XMLJavaFXLoader(String filename) throws Exception {\r\n        Document loaded = LoadXMLDocument(filename);\r\n        getAttributes(loaded);\r\n        minWidth = scene.getWidth();\r\n        minHeight = scene.getHeight();\r\n    }\r\n    public static void getAttributes(Document doc) throws Exception {\r\n\r\n        XPathFactory xpFactory = XPathFactory.newInstance();\r\n        XPath path = xpFactory.newXPath();\r\n\r\n        Element stage = (Element) path.evaluate(&quot;Stage&quot;,doc, XPathConstants.NODE);\r\n        stageTitle = stage.getAttribute(&quot;title&quot;);\r\n        String controllerName = stage.getAttribute(&quot;controller&quot;);\r\n        controller = Class.forName(controllerName);\r\n        Element rootElement = (Element) path.evaluate(&quot;*&quot;,stage,XPathConstants.NODE);\r\n        Pane root;\r\n        if(rootElement.getNodeName().equalsIgnoreCase(&quot;vbox&quot;)){\r\n            root = new VBox();\r\n        }\r\n        else root = new HBox();\r\n\r\n        NodeList rootChildren = (NodeList) path.evaluate(&quot;*&quot;,rootElement,XPathConstants.NODESET);\r\n        for (int i = 0; i &lt; rootChildren.getLength(); i++) {\r\n            Element curChild = (Element) rootChildren.item(i);\r\n            getChildren(root,curChild);\r\n        }\r\n        scene = new Scene(root,Double.parseDouble(stage.getAttribute(&quot;width&quot;)),Double.parseDouble(stage.getAttribute(&quot;height&quot;)));\r\n    }\r\n    private static void getChildren(Pane parent,Element curNode) throws Exception {\r\n        if(curNode.getNodeName().equalsIgnoreCase(&quot;Label&quot;)){\r\n            Label newLabel = new Label(curNode.getAttribute(&quot;text&quot;));\r\n            parent.getChildren().add(newLabel);\r\n        }\r\n        else if(curNode.getNodeName().equalsIgnoreCase(&quot;Textfield&quot;)){\r\n            TextField newTextField = new TextField(curNode.getAttribute(&quot;text&quot;));\r\n            newTextField.setId(curNode.getAttribute(&quot;id&quot;));\r\n            parent.getChildren().add(newTextField);\r\n        }\r\n        else if(curNode.getNodeName().equalsIgnoreCase(&quot;button&quot;)){\r\n            Button newButton = new Button(curNode.getAttribute(&quot;text&quot;));\r\n            newButton.setId(curNode.getAttribute(&quot;id&quot;));\r\n            parent.getChildren().add(newButton);\r\n        }\r\n        else{\r\n\r\n            XPathFactory xpFactory = XPathFactory.newInstance();\r\n            XPath path = xpFactory.newXPath();\r\n\r\n            Pane newNode;\r\n            if(curNode.getNodeName().equalsIgnoreCase(&quot;vbox&quot;)){\r\n                newNode = new VBox();\r\n            }\r\n            else newNode = new HBox();\r\n\r\n            NodeList rootChildren = (NodeList) path.evaluate(&quot;*&quot;,curNode,XPathConstants.NODESET);\r\n            for (int i = 0; i &lt; rootChildren.getLength(); i++) {\r\n                Element curChild = (Element) rootChildren.item(i);\r\n                getChildren(newNode,curChild);\r\n            }\r\n            parent.getChildren().add(newNode);\r\n        }\r\n    }\r\n    public static Document  LoadXMLDocument(String filename) throws Exception {\r\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n        DocumentBuilder builder = factory.newDocumentBuilder();\r\n        File myFile = new File(filename);\r\n        Document doc = builder.parse(myFile);\r\n        return doc;\r\n    }\r\n}\r\n\r\n\r\n\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.layout.VBox;\r\nimport org.w3c.dom.Document;\r\nimport org.w3c.dom.Element;\r\nimport org.w3c.dom.NodeList;\r\n\r\nimport javax.xml.parsers.DocumentBuilder;\r\nimport javax.xml.parsers.DocumentBuilderFactory;\r\nimport javax.xml.xpath.XPath;\r\nimport javax.xml.xpath.XPathConstants;\r\nimport javax.xml.xpath.XPathExpressionException;\r\nimport javax.xml.xpath.XPathFactory;\r\nimport java.io.File;\r\n\r\npublic class XMLJavaFXLoader {\r\n    protected static double minWidth;\r\n    protected  static double minHeight;\r\n    protected static Class controller;\r\n    protected static String stageTitle;\r\n    protected static Scene scene;\r\n    public XMLJavaFXLoader(String filename) throws Exception {\r\n        Document loaded = LoadXMLDocument(filename);\r\n        getAttributes(loaded);\r\n        minWidth = scene.getWidth();\r\n        minHeight = scene.getHeight();\r\n    }\r\n    public static void getAttributes(Document doc) throws Exception {\r\n\r\n        XPathFactory xpFactory = XPathFactory.newInstance();\r\n        XPath path = xpFactory.newXPath();\r\n\r\n        Element stage = (Element) path.evaluate(&quot;Stage&quot;,doc, XPathConstants.NODE);\r\n        stageTitle = stage.getAttribute(&quot;title&quot;);\r\n        String controllerName = stage.getAttribute(&quot;controller&quot;);\r\n        controller = Class.forName(controllerName);\r\n        Element rootElement = (Element) path.evaluate(&quot;*&quot;,stage,XPathConstants.NODE);\r\n        Pane root;\r\n        if(rootElement.getNodeName().equalsIgnoreCase(&quot;vbox&quot;)){\r\n            root = new VBox();\r\n        }\r\n        else root = new HBox();\r\n\r\n        NodeList rootChildren = (NodeList) path.evaluate(&quot;*&quot;,rootElement,XPathConstants.NODESET);\r\n        for (int i = 0; i &lt; rootChildren.getLength(); i++) {\r\n            Element curChild = (Element) rootChildren.item(i);\r\n            getChildren(root,curChild);\r\n        }\r\n        scene = new Scene(root,Double.parseDouble(stage.getAttribute(&quot;width&quot;)),Double.parseDouble(stage.getAttribute(&quot;height&quot;)));\r\n    }\r\n    private static void getChildren(Pane parent,Element curNode) throws Exception {\r\n        if(curNode.getNodeName().equalsIgnoreCase(&quot;Label&quot;)){\r\n            Label newLabel = new Label(curNode.getAttribute(&quot;text&quot;));\r\n            parent.getChildren().add(newLabel);\r\n        }\r\n        else if(curNode.getNodeName().equalsIgnoreCase(&quot;Textfield&quot;)){\r\n            TextField newTextField = new TextField(curNode.getAttribute(&quot;text&quot;));\r\n            newTextField.setId(curNode.getAttribute(&quot;id&quot;));\r\n            parent.getChildren().add(newTextField);\r\n        }\r\n        else if(curNode.getNodeName().equalsIgnoreCase(&quot;button&quot;)){\r\n            Button newButton = new Button(curNode.getAttribute(&quot;text&quot;));\r\n            newButton.setId(curNode.getAttribute(&quot;id&quot;));\r\n            parent.getChildren().add(newButton);\r\n        }\r\n        else{\r\n\r\n            XPathFactory xpFactory = XPathFactory.newInstance();\r\n            XPath path = xpFactory.newXPath();\r\n\r\n            Pane newNode;\r\n            if(curNode.getNodeName().equalsIgnoreCase(&quot;vbox&quot;)){\r\n                newNode = new VBox();\r\n            }\r\n            else newNode = new HBox();\r\n\r\n            NodeList rootChildren = (NodeList) path.evaluate(&quot;*&quot;,curNode,XPathConstants.NODESET);\r\n            for (int i = 0; i &lt; rootChildren.getLength(); i++) {\r\n                Element curChild = (Element) rootChildren.item(i);\r\n                getChildren(newNode,curChild);\r\n            }\r\n            parent.getChildren().add(newNode);\r\n        }\r\n    }\r\n    public static Document  LoadXMLDocument(String filename) throws Exception {\r\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n        DocumentBuilder builder = factory.newDocumentBuilder();\r\n        File myFile = new File(filename);\r\n        Document doc = builder.parse(myFile);\r\n        return doc;\r\n    }\r\n}\r\n\r\nmain class\r\n\r\npublic class Main extends Application {\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception {\r\n        System.out.println(&quot;Creating scene and controller from XML...&quot;);\r\n        XMLJavaFXLoader loader = new XMLJavaFXLoader(&quot;layout02.xml&quot;);\r\n\r\n         System.out.println(&quot;Initialising stage...&quot;);\r\n        primaryStage.setMinWidth(loader.minWidth);\r\n        primaryStage.setMinHeight(loader.minHeight);\r\n        primaryStage.setTitle(loader.stageTitle);\r\n        primaryStage.setScene(loader.scene);\r\n\r\n        System.out.println(&quot;Showing stage...&quot;);\r\n        primaryStage.show();\r\n    }\r\n}\r\n\r\nController\r\n\r\npublic class Controller implements JavaFXController {\r\n    public void btnAddClicked(ActionEvent event) {\r\n        lblOutput.setText(&quot;btnAddClicked, X=&quot;\r\n                + txtX.getText() + &quot;, Y=&quot; + txtY.getText());\r\n    }\r\n\r\n    public void btnMultiplyClicked(ActionEvent event) {\r\n        lblOutput.setText(&quot;btnMultiplyClicked, X=&quot;\r\n                + txtX.getText() + &quot;, Y=&quot; + txtY.getText());\r\n    }\r\n\r\n    public void btnFactorXClicked(ActionEvent event) {\r\n        lblOutput.setText(&quot;btnFactorXClicked, X=&quot;\r\n                + txtX.getText() + &quot;, Y=&quot; + txtY.getText());\r\n    }\r\n\r\n    public void btnDiffClicked(ActionEvent event) {\r\n        lblOutput.setText(&quot;btnDiffClicked, X=&quot;\r\n                + txtX.getText() + &quot;, Y=&quot; + txtY.getText());\r\n    }\r\n\r\n    private Scene scene;\r\n    private Label lblOutput;`your text`\r\n    private TextField txtX;\r\n    private TextField txtY;\r\n\r\n    @Override\r\n    public void setScene(Scene scene) {\r\n        this.scene = scene;\r\n        lblOutput = (Label) scene.lookup(&quot;#lblOutput&quot;);\r\n        txtX = (TextField) scene.lookup(&quot;#txtX&quot;);\r\n        txtY = (TextField) scene.lookup(&quot;#txtY&quot;);\r\n    }``\r\n}\r\n\r\n```\r\ni tried doing this but it gives errors in the factors but it does not work kindly please assist on how to fix this Not inherently. This is due to the fact that reflection gives one the option to make changes to the current class in use during runtime. For instance, the accessibility of fields could be changed to public. As a result, this might distort the overall functionality of the class at hand. For instance, you could get that the private field has getter and setter methods – thus, having its accessibility changed would therefore make these methods redundant. \r\n\r\n","title":"Loading and xml file and also creating java fx ui with it","body":"<pre><code>(creating ui)\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.layout.VBox;\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Element;\nimport org.w3c.dom.NodeList;\n\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.xpath.XPath;\nimport javax.xml.xpath.XPathConstants;\nimport javax.xml.xpath.XPathExpressionException;\nimport javax.xml.xpath.XPathFactory;\nimport java.io.File;\n\npublic class XMLJavaFXLoader {\n    protected static double minWidth;\n    protected  static double minHeight;\n    protected static Class controller;\n    protected static String stageTitle;\n    protected static Scene scene;\n    public XMLJavaFXLoader(String filename) throws Exception {\n        Document loaded = LoadXMLDocument(filename);\n        getAttributes(loaded);\n        minWidth = scene.getWidth();\n        minHeight = scene.getHeight();\n    }\n    public static void getAttributes(Document doc) throws Exception {\n\n        XPathFactory xpFactory = XPathFactory.newInstance();\n        XPath path = xpFactory.newXPath();\n\n        Element stage = (Element) path.evaluate(&quot;Stage&quot;,doc, XPathConstants.NODE);\n        stageTitle = stage.getAttribute(&quot;title&quot;);\n        String controllerName = stage.getAttribute(&quot;controller&quot;);\n        controller = Class.forName(controllerName);\n        Element rootElement = (Element) path.evaluate(&quot;*&quot;,stage,XPathConstants.NODE);\n        Pane root;\n        if(rootElement.getNodeName().equalsIgnoreCase(&quot;vbox&quot;)){\n            root = new VBox();\n        }\n        else root = new HBox();\n\n        NodeList rootChildren = (NodeList) path.evaluate(&quot;*&quot;,rootElement,XPathConstants.NODESET);\n        for (int i = 0; i &lt; rootChildren.getLength(); i++) {\n            Element curChild = (Element) rootChildren.item(i);\n            getChildren(root,curChild);\n        }\n        scene = new Scene(root,Double.parseDouble(stage.getAttribute(&quot;width&quot;)),Double.parseDouble(stage.getAttribute(&quot;height&quot;)));\n    }\n    private static void getChildren(Pane parent,Element curNode) throws Exception {\n        if(curNode.getNodeName().equalsIgnoreCase(&quot;Label&quot;)){\n            Label newLabel = new Label(curNode.getAttribute(&quot;text&quot;));\n            parent.getChildren().add(newLabel);\n        }\n        else if(curNode.getNodeName().equalsIgnoreCase(&quot;Textfield&quot;)){\n            TextField newTextField = new TextField(curNode.getAttribute(&quot;text&quot;));\n            newTextField.setId(curNode.getAttribute(&quot;id&quot;));\n            parent.getChildren().add(newTextField);\n        }\n        else if(curNode.getNodeName().equalsIgnoreCase(&quot;button&quot;)){\n            Button newButton = new Button(curNode.getAttribute(&quot;text&quot;));\n            newButton.setId(curNode.getAttribute(&quot;id&quot;));\n            parent.getChildren().add(newButton);\n        }\n        else{\n\n            XPathFactory xpFactory = XPathFactory.newInstance();\n            XPath path = xpFactory.newXPath();\n\n            Pane newNode;\n            if(curNode.getNodeName().equalsIgnoreCase(&quot;vbox&quot;)){\n                newNode = new VBox();\n            }\n            else newNode = new HBox();\n\n            NodeList rootChildren = (NodeList) path.evaluate(&quot;*&quot;,curNode,XPathConstants.NODESET);\n            for (int i = 0; i &lt; rootChildren.getLength(); i++) {\n                Element curChild = (Element) rootChildren.item(i);\n                getChildren(newNode,curChild);\n            }\n            parent.getChildren().add(newNode);\n        }\n    }\n    public static Document  LoadXMLDocument(String filename) throws Exception {\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n        DocumentBuilder builder = factory.newDocumentBuilder();\n        File myFile = new File(filename);\n        Document doc = builder.parse(myFile);\n        return doc;\n    }\n}\n\n\n\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.layout.VBox;\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Element;\nimport org.w3c.dom.NodeList;\n\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.xpath.XPath;\nimport javax.xml.xpath.XPathConstants;\nimport javax.xml.xpath.XPathExpressionException;\nimport javax.xml.xpath.XPathFactory;\nimport java.io.File;\n\npublic class XMLJavaFXLoader {\n    protected static double minWidth;\n    protected  static double minHeight;\n    protected static Class controller;\n    protected static String stageTitle;\n    protected static Scene scene;\n    public XMLJavaFXLoader(String filename) throws Exception {\n        Document loaded = LoadXMLDocument(filename);\n        getAttributes(loaded);\n        minWidth = scene.getWidth();\n        minHeight = scene.getHeight();\n    }\n    public static void getAttributes(Document doc) throws Exception {\n\n        XPathFactory xpFactory = XPathFactory.newInstance();\n        XPath path = xpFactory.newXPath();\n\n        Element stage = (Element) path.evaluate(&quot;Stage&quot;,doc, XPathConstants.NODE);\n        stageTitle = stage.getAttribute(&quot;title&quot;);\n        String controllerName = stage.getAttribute(&quot;controller&quot;);\n        controller = Class.forName(controllerName);\n        Element rootElement = (Element) path.evaluate(&quot;*&quot;,stage,XPathConstants.NODE);\n        Pane root;\n        if(rootElement.getNodeName().equalsIgnoreCase(&quot;vbox&quot;)){\n            root = new VBox();\n        }\n        else root = new HBox();\n\n        NodeList rootChildren = (NodeList) path.evaluate(&quot;*&quot;,rootElement,XPathConstants.NODESET);\n        for (int i = 0; i &lt; rootChildren.getLength(); i++) {\n            Element curChild = (Element) rootChildren.item(i);\n            getChildren(root,curChild);\n        }\n        scene = new Scene(root,Double.parseDouble(stage.getAttribute(&quot;width&quot;)),Double.parseDouble(stage.getAttribute(&quot;height&quot;)));\n    }\n    private static void getChildren(Pane parent,Element curNode) throws Exception {\n        if(curNode.getNodeName().equalsIgnoreCase(&quot;Label&quot;)){\n            Label newLabel = new Label(curNode.getAttribute(&quot;text&quot;));\n            parent.getChildren().add(newLabel);\n        }\n        else if(curNode.getNodeName().equalsIgnoreCase(&quot;Textfield&quot;)){\n            TextField newTextField = new TextField(curNode.getAttribute(&quot;text&quot;));\n            newTextField.setId(curNode.getAttribute(&quot;id&quot;));\n            parent.getChildren().add(newTextField);\n        }\n        else if(curNode.getNodeName().equalsIgnoreCase(&quot;button&quot;)){\n            Button newButton = new Button(curNode.getAttribute(&quot;text&quot;));\n            newButton.setId(curNode.getAttribute(&quot;id&quot;));\n            parent.getChildren().add(newButton);\n        }\n        else{\n\n            XPathFactory xpFactory = XPathFactory.newInstance();\n            XPath path = xpFactory.newXPath();\n\n            Pane newNode;\n            if(curNode.getNodeName().equalsIgnoreCase(&quot;vbox&quot;)){\n                newNode = new VBox();\n            }\n            else newNode = new HBox();\n\n            NodeList rootChildren = (NodeList) path.evaluate(&quot;*&quot;,curNode,XPathConstants.NODESET);\n            for (int i = 0; i &lt; rootChildren.getLength(); i++) {\n                Element curChild = (Element) rootChildren.item(i);\n                getChildren(newNode,curChild);\n            }\n            parent.getChildren().add(newNode);\n        }\n    }\n    public static Document  LoadXMLDocument(String filename) throws Exception {\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n        DocumentBuilder builder = factory.newDocumentBuilder();\n        File myFile = new File(filename);\n        Document doc = builder.parse(myFile);\n        return doc;\n    }\n}\n\nmain class\n\npublic class Main extends Application {\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        System.out.println(&quot;Creating scene and controller from XML...&quot;);\n        XMLJavaFXLoader loader = new XMLJavaFXLoader(&quot;layout02.xml&quot;);\n\n         System.out.println(&quot;Initialising stage...&quot;);\n        primaryStage.setMinWidth(loader.minWidth);\n        primaryStage.setMinHeight(loader.minHeight);\n        primaryStage.setTitle(loader.stageTitle);\n        primaryStage.setScene(loader.scene);\n\n        System.out.println(&quot;Showing stage...&quot;);\n        primaryStage.show();\n    }\n}\n\nController\n\npublic class Controller implements JavaFXController {\n    public void btnAddClicked(ActionEvent event) {\n        lblOutput.setText(&quot;btnAddClicked, X=&quot;\n                + txtX.getText() + &quot;, Y=&quot; + txtY.getText());\n    }\n\n    public void btnMultiplyClicked(ActionEvent event) {\n        lblOutput.setText(&quot;btnMultiplyClicked, X=&quot;\n                + txtX.getText() + &quot;, Y=&quot; + txtY.getText());\n    }\n\n    public void btnFactorXClicked(ActionEvent event) {\n        lblOutput.setText(&quot;btnFactorXClicked, X=&quot;\n                + txtX.getText() + &quot;, Y=&quot; + txtY.getText());\n    }\n\n    public void btnDiffClicked(ActionEvent event) {\n        lblOutput.setText(&quot;btnDiffClicked, X=&quot;\n                + txtX.getText() + &quot;, Y=&quot; + txtY.getText());\n    }\n\n    private Scene scene;\n    private Label lblOutput;`your text`\n    private TextField txtX;\n    private TextField txtY;\n\n    @Override\n    public void setScene(Scene scene) {\n        this.scene = scene;\n        lblOutput = (Label) scene.lookup(&quot;#lblOutput&quot;);\n        txtX = (TextField) scene.lookup(&quot;#txtX&quot;);\n        txtY = (TextField) scene.lookup(&quot;#txtY&quot;);\n    }``\n}\n\n</code></pre>\n<p>i tried doing this but it gives errors in the factors but it does not work kindly please assist on how to fix this Not inherently. This is due to the fact that reflection gives one the option to make changes to the current class in use during runtime. For instance, the accessibility of fields could be changed to public. As a result, this might distort the overall functionality of the class at hand. For instance, you could get that the private field has getter and setter methods – thus, having its accessibility changed would therefore make these methods redundant.</p>\n"},{"tags":["java","spring-boot","war","spring-tool-suite","war-filedeployment"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686204990,"post_id":76428324,"comment_id":134767730,"body_markdown":"Don&#39;t. Use your build tool (maven or gradle) to create the proper war. Exporting it through your IDE won&#39;t work.","body":"Don&#39;t. Use your build tool (maven or gradle) to create the proper war. Exporting it through your IDE won&#39;t work."}],"owner":{"account_id":27857897,"reputation":1,"user_id":21271027,"display_name":"Shazrin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686193273,"creation_date":1686193110,"question_id":76428324,"body_markdown":"I was trying to create a war file on spring tool suite 4 (windows version). But as I was about to export the it to the local file system, I couldn&#39;t find the web project (wiseai-console) option of the project I want to export. There was another web project (wiseai-box) in the options, but it wasn&#39;t the one I want to export. \r\n\r\n[web project options](https://i.stack.imgur.com/jqWHD.png)\r\n\r\nI tried configuring the project properties in project facets by adding dynamic web module, but it said I needed java 1.8 or newer. Then, I tried updating my java version and spring tool suite version, but it made no difference. I still couldn&#39;t add the dynamic web module. Who knows what I should do here to get the web project option?\r\n\r\n[project facets, dynamic web module](https://i.stack.imgur.com/K03eI.png)","title":"WAF FILE could not EXPORT due to no WEB PROJECT option found","body":"<p>I was trying to create a war file on spring tool suite 4 (windows version). But as I was about to export the it to the local file system, I couldn't find the web project (wiseai-console) option of the project I want to export. There was another web project (wiseai-box) in the options, but it wasn't the one I want to export.</p>\n<p><a href=\"https://i.stack.imgur.com/jqWHD.png\" rel=\"nofollow noreferrer\">web project options</a></p>\n<p>I tried configuring the project properties in project facets by adding dynamic web module, but it said I needed java 1.8 or newer. Then, I tried updating my java version and spring tool suite version, but it made no difference. I still couldn't add the dynamic web module. Who knows what I should do here to get the web project option?</p>\n<p><a href=\"https://i.stack.imgur.com/K03eI.png\" rel=\"nofollow noreferrer\">project facets, dynamic web module</a></p>\n"},{"tags":["java","spring-boot","spring-security","thymeleaf","spring-thymeleaf"],"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1686310451,"post_id":76428293,"comment_id":134784718,"body_markdown":"Maybe inject the runtimeMXBean into your controller and add an attribute into the Model manually?","body":"Maybe inject the runtimeMXBean into your controller and add an attribute into the Model manually?"}],"owner":{"account_id":25416325,"reputation":1,"user_id":19223182,"display_name":"superfly"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686192622,"creation_date":1686192622,"question_id":76428293,"body_markdown":"I have an HTML login file. \r\nHowever, after upgrading SpringBoot to version 3.1, I encounter an issue where the login page fails to load. \r\nThe error appears to be related to accessing @runtimeMXBean.startTime through Thymeleaf. \r\nIt seems that SpringBoot 3.1 has enhanced its security measures and restricted access to this functionality.\r\n\r\nThe purpose of using @runtimeMXBean.startTime was to cache the browser by utilizing the server start time as a key. This was done to facilitate UI translation data.\r\n\r\nDo you know of any possible solutions or workarounds for this problem?\r\n\r\nBelow is the html code:\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n  &lt;head&gt;\r\n   ....\r\n  &lt;/head&gt;\r\n  &lt;body th:data-cb=&quot;${@runtimeMXBean.startTime}&quot;&gt;\r\n    &lt;div id=&quot;app&quot;&gt;Loading...&lt;/div&gt;\r\n    &lt;script th:src=&quot;@{/app-lib/bundles/login.js}&quot;&gt;&lt;/script&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nBelow is the error:\r\n\r\n```\r\nCaused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: &quot;@runtimeMXBean.startTime&quot; (template: &quot;login&quot; - line 12, col 9)\r\n\tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)\r\n\tat org.attoparser.MarkupParser.parse(MarkupParser.java:257)\r\n\tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)\r\n\t... 173 common frames omitted\r\nCaused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: &quot;@runtimeMXBean.startTime&quot; (template: &quot;login&quot; - line 12, col 9)\r\n\tat org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:292)\r\n\tat org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)\r\n\tat org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)\r\n\tat org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)\r\n\tat org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)\r\n\tat org.thymeleaf.standard.processor.StandardDefaultAttributesTagProcessor.processDefaultAttribute(StandardDefaultAttributesTagProcessor.java:165)\r\n\tat org.thymeleaf.standard.processor.StandardDefaultAttributesTagProcessor.process(StandardDefaultAttributesTagProcessor.java:98)\r\n\tat org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\r\n\tat org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)\r\n\tat org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)\r\n\tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)\r\n\tat org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)\r\n\tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)\r\n\tat org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)\r\n\tat org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)\r\n\tat org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)\r\n\tat org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)\r\n\tat org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)\r\n\tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)\r\n\t... 175 common frames omitted\r\nCaused by: org.springframework.expression.spel.SpelEvaluationException: EL1021E: A problem occurred whilst attempting to access the property &#39;startTime&#39;: &#39;Accessing member &#39;startTime&#39; is forbidden for type &#39;class sun.management.RuntimeImpl&#39; in Thymeleaf expressions. Blocked classes are: [com.sun.*, jakarta.*, java.*, javax.*, jdk.*, org.ietf.jgss.*, org.omg.*, org.w3c.dom.*, org.xml.sax.*, sun.*]. Allowed classes are: [java.lang.Boolean, java.lang.Byte, java.lang.Character, java.lang.Double, java.lang.Enum, java.lang.Float, java.lang.Integer, java.lang.Iterable, java.lang.Long, java.lang.Math, java.lang.Number, java.lang.Short, java.lang.String, java.math.BigDecimal, java.math.BigInteger, java.math.RoundingMode, java.time.*, java.util.ArrayList, java.util.Calendar, java.util.Calendar, java.util.Collection, java.util.Date, java.util.Enumeration, java.util.HashMap, java.util.HashSet, java.util.Iterator, java.util.LinkedHashMap, java.util.LinkedHashSet, java.util.LinkedList, java.util.List, java.util.Locale, java.util.Map, java.util.Map$Entry, java.util.Optional, java.util.Properties, java.util.Set, java.util.stream.Stream].&#39;\r\n\tat org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:214)\r\n\tat org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:105)\r\n\tat org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:410)\r\n\tat org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:93)\r\n\tat org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:114)\r\n\tat org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:338)\r\n\tat org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265)\r\n\t... 193 common frames omitted\r\nCaused by: org.springframework.expression.EvaluationException: Accessing member &#39;startTime&#39; is forbidden for type &#39;class sun.management.RuntimeImpl&#39; in Thymeleaf expressions. Blocked classes are: [com.sun.*, jakarta.*, java.*, javax.*, jdk.*, org.ietf.jgss.*, org.omg.*, org.w3c.dom.*, org.xml.sax.*, sun.*]. Allowed classes are: [java.lang.Boolean, java.lang.Byte, java.lang.Character, java.lang.Double, java.lang.Enum, java.lang.Float, java.lang.Integer, java.lang.Iterable, java.lang.Long, java.lang.Math, java.lang.Number, java.lang.Short, java.lang.String, java.math.BigDecimal, java.math.BigInteger, java.math.RoundingMode, java.time.*, java.util.ArrayList, java.util.Calendar, java.util.Calendar, java.util.Collection, java.util.Date, java.util.Enumeration, java.util.HashMap, java.util.HashSet, java.util.Iterator, java.util.LinkedHashMap, java.util.LinkedHashSet, java.util.LinkedList, java.util.List, java.util.Locale, java.util.Map, java.util.Map$Entry, java.util.Optional, java.util.Properties, java.util.Set, java.util.stream.Stream].\r\n\tat org.thymeleaf.spring6.expression.ThymeleafEvaluationContext$ThymeleafEvaluationContextACLPropertyAccessor.canRead(ThymeleafEvaluationContext.java:237)\r\n\tat org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:203)\r\n\t... 199 common frames omitted\r\n```\r\n\r\nDo you know of any possible solutions or workarounds for this problem?","title":"Error accessing @runtimeMXBean.startTime in SpringBoot 3.1 when loading a page","body":"<p>I have an HTML login file.\nHowever, after upgrading SpringBoot to version 3.1, I encounter an issue where the login page fails to load.\nThe error appears to be related to accessing @runtimeMXBean.startTime through Thymeleaf.\nIt seems that SpringBoot 3.1 has enhanced its security measures and restricted access to this functionality.</p>\n<p>The purpose of using @runtimeMXBean.startTime was to cache the browser by utilizing the server start time as a key. This was done to facilitate UI translation data.</p>\n<p>Do you know of any possible solutions or workarounds for this problem?</p>\n<p>Below is the html code:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n  &lt;head&gt;\n   ....\n  &lt;/head&gt;\n  &lt;body th:data-cb=&quot;${@runtimeMXBean.startTime}&quot;&gt;\n    &lt;div id=&quot;app&quot;&gt;Loading...&lt;/div&gt;\n    &lt;script th:src=&quot;@{/app-lib/bundles/login.js}&quot;&gt;&lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Below is the error:</p>\n<pre><code>Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: &quot;@runtimeMXBean.startTime&quot; (template: &quot;login&quot; - line 12, col 9)\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)\n    at org.attoparser.MarkupParser.parse(MarkupParser.java:257)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)\n    ... 173 common frames omitted\nCaused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: &quot;@runtimeMXBean.startTime&quot; (template: &quot;login&quot; - line 12, col 9)\n    at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:292)\n    at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)\n    at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)\n    at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)\n    at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)\n    at org.thymeleaf.standard.processor.StandardDefaultAttributesTagProcessor.processDefaultAttribute(StandardDefaultAttributesTagProcessor.java:165)\n    at org.thymeleaf.standard.processor.StandardDefaultAttributesTagProcessor.process(StandardDefaultAttributesTagProcessor.java:98)\n    at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\n    at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)\n    at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)\n    at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)\n    at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)\n    at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)\n    at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)\n    at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)\n    at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)\n    ... 175 common frames omitted\nCaused by: org.springframework.expression.spel.SpelEvaluationException: EL1021E: A problem occurred whilst attempting to access the property 'startTime': 'Accessing member 'startTime' is forbidden for type 'class sun.management.RuntimeImpl' in Thymeleaf expressions. Blocked classes are: [com.sun.*, jakarta.*, java.*, javax.*, jdk.*, org.ietf.jgss.*, org.omg.*, org.w3c.dom.*, org.xml.sax.*, sun.*]. Allowed classes are: [java.lang.Boolean, java.lang.Byte, java.lang.Character, java.lang.Double, java.lang.Enum, java.lang.Float, java.lang.Integer, java.lang.Iterable, java.lang.Long, java.lang.Math, java.lang.Number, java.lang.Short, java.lang.String, java.math.BigDecimal, java.math.BigInteger, java.math.RoundingMode, java.time.*, java.util.ArrayList, java.util.Calendar, java.util.Calendar, java.util.Collection, java.util.Date, java.util.Enumeration, java.util.HashMap, java.util.HashSet, java.util.Iterator, java.util.LinkedHashMap, java.util.LinkedHashSet, java.util.LinkedList, java.util.List, java.util.Locale, java.util.Map, java.util.Map$Entry, java.util.Optional, java.util.Properties, java.util.Set, java.util.stream.Stream].'\n    at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:214)\n    at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:105)\n    at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:410)\n    at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:93)\n    at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:114)\n    at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:338)\n    at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265)\n    ... 193 common frames omitted\nCaused by: org.springframework.expression.EvaluationException: Accessing member 'startTime' is forbidden for type 'class sun.management.RuntimeImpl' in Thymeleaf expressions. Blocked classes are: [com.sun.*, jakarta.*, java.*, javax.*, jdk.*, org.ietf.jgss.*, org.omg.*, org.w3c.dom.*, org.xml.sax.*, sun.*]. Allowed classes are: [java.lang.Boolean, java.lang.Byte, java.lang.Character, java.lang.Double, java.lang.Enum, java.lang.Float, java.lang.Integer, java.lang.Iterable, java.lang.Long, java.lang.Math, java.lang.Number, java.lang.Short, java.lang.String, java.math.BigDecimal, java.math.BigInteger, java.math.RoundingMode, java.time.*, java.util.ArrayList, java.util.Calendar, java.util.Calendar, java.util.Collection, java.util.Date, java.util.Enumeration, java.util.HashMap, java.util.HashSet, java.util.Iterator, java.util.LinkedHashMap, java.util.LinkedHashSet, java.util.LinkedList, java.util.List, java.util.Locale, java.util.Map, java.util.Map$Entry, java.util.Optional, java.util.Properties, java.util.Set, java.util.stream.Stream].\n    at org.thymeleaf.spring6.expression.ThymeleafEvaluationContext$ThymeleafEvaluationContextACLPropertyAccessor.canRead(ThymeleafEvaluationContext.java:237)\n    at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:203)\n    ... 199 common frames omitted\n</code></pre>\n<p>Do you know of any possible solutions or workarounds for this problem?</p>\n"},{"tags":["java","spring-webflux","micrometer","zipkin"],"comments":[{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1685835992,"post_id":76396188,"comment_id":134716993,"body_markdown":"based on some posts where they show how to use spring boot, micrometer and zipkin together (like [Micrometer and Zipkin: How to Trace HTTP Requests in Spring Boot 3](https://www.appsdeveloperblog.com/micrometer-and-zipkin-in-spring-boot/#Adding_Micrometer_to_Spring_Boot_3_Application), wrote a few days ago), you have to add [spring-boot-actuator](https://github.com/spring-projects/spring-boot/tree/v3.0.5/spring-boot-project/spring-boot-actuator) as a dependency to be able to monitor your services","body":"based on some posts where they show how to use spring boot, micrometer and zipkin together (like <a href=\"https://www.appsdeveloperblog.com/micrometer-and-zipkin-in-spring-boot/#Adding_Micrometer_to_Spring_Boot_3_Application\" rel=\"nofollow noreferrer\">Micrometer and Zipkin: How to Trace HTTP Requests in Spring Boot 3</a>, wrote a few days ago), you have to add <a href=\"https://github.com/spring-projects/spring-boot/tree/v3.0.5/spring-boot-project/spring-boot-actuator\" rel=\"nofollow noreferrer\">spring-boot-actuator</a> as a dependency to be able to monitor your services"},{"owner":{"account_id":7819979,"reputation":1197,"user_id":5913407,"accept_rate":57,"display_name":"LowCool"},"score":0,"creation_date":1685863564,"post_id":76396188,"comment_id":134718365,"body_markdown":"@Gast&#243;nSchabas yes I have added it. But missed to add in my question","body":"@Gast&#243;nSchabas yes I have added it. But missed to add in my question"},{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1685936629,"post_id":76396188,"comment_id":134725377,"body_markdown":"could you edit your question and provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)?","body":"could you edit your question and provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":7819979,"reputation":1197,"user_id":5913407,"accept_rate":57,"display_name":"LowCool"},"score":0,"creation_date":1685956104,"post_id":76396188,"comment_id":134727906,"body_markdown":"@Gast&#243;nSchabas added link in question","body":"@Gast&#243;nSchabas added link in question"},{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1685978875,"post_id":76396188,"comment_id":134733107,"body_markdown":"I can&#39;t find the `micrometer-observation` in the [build.gradle](https://github.com/vihang16/micrometerExample/blob/master/build.gradle). Maybe it is not required. Are you following some tutorial saying that you should use those dependencies? In the one I sahred is using maven and it doesn&#39;t set the version of each dependency. Not sure how it work in gradle","body":"I can&#39;t find the <code>micrometer-observation</code> in the <a href=\"https://github.com/vihang16/micrometerExample/blob/master/build.gradle\" rel=\"nofollow noreferrer\">build.gradle</a>. Maybe it is not required. Are you following some tutorial saying that you should use those dependencies? In the one I sahred is using maven and it doesn&#39;t set the version of each dependency. Not sure how it work in gradle"},{"owner":{"account_id":7819979,"reputation":1197,"user_id":5913407,"accept_rate":57,"display_name":"LowCool"},"score":0,"creation_date":1685984897,"post_id":76396188,"comment_id":134734350,"body_markdown":"@Gast&#243;nSchabas in your case how it decide which version pick? I am following the tutorial you gave let me try `observation`  in my gradle","body":"@Gast&#243;nSchabas in your case how it decide which version pick? I am following the tutorial you gave let me try <code>observation</code>  in my gradle"},{"owner":{"account_id":7819979,"reputation":1197,"user_id":5913407,"accept_rate":57,"display_name":"LowCool"},"score":0,"creation_date":1685990501,"post_id":76396188,"comment_id":134735353,"body_markdown":"@Gast&#243;nSchabas updated but still same issue","body":"@Gast&#243;nSchabas updated but still same issue"}],"answers":[{"comments":[{"owner":{"account_id":7819979,"reputation":1197,"user_id":5913407,"accept_rate":57,"display_name":"LowCool"},"score":0,"creation_date":1686305478,"post_id":76428233,"comment_id":134783870,"body_markdown":"From what I see in the web flux example, you are generating traceId inside the actual call, I need to segregate that as AOP, is it possible to configure it?","body":"From what I see in the web flux example, you are generating traceId inside the actual call, I need to segregate that as AOP, is it possible to configure it?"},{"owner":{"account_id":7819979,"reputation":1197,"user_id":5913407,"accept_rate":57,"display_name":"LowCool"},"score":0,"creation_date":1686311059,"post_id":76428233,"comment_id":134784847,"body_markdown":"I updated my code based on your comment, but how do I make sure `traceId` part it does not come from a request, I will generate my own.","body":"I updated my code based on your comment, but how do I make sure <code>traceId</code> part it does not come from a request, I will generate my own."}],"tags":[],"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686192137,"creation_date":1686191784,"answer_id":76428233,"question_id":76396188,"body_markdown":"Please do not define versions and let the Boot BOM define them for you. This is what you need:\r\n```groovy\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\nimplementation &#39;io.micrometer:micrometer-tracing-bridge-brave&#39;\r\nimplementation &#39;io.zipkin.reporter2:zipkin-reporter-brave&#39;\r\n```\r\n\r\nYou can find a bunck of working samples in our [micrometer-samples](https://github.com/micrometer-metrics/micrometer-samples) repo, for example:  [micrometer-samples-boot3-web](https://github.com/micrometer-metrics/micrometer-samples/blob/main/micrometer-samples-boot3-web/build.gradle).\r\nAlso, we publish our artifacts to Maven Central, use mvnrepository at your own risk.\r\n\r\nThere are a few other things that are wrong here:\r\n1. Boot creates a `MeterRegistry` for you, you don&#39;t need to and you should not use the global registry (`Metrics.globalRegistry`) in Boot.\r\n2. You are trying to add high cardinality tags to your metrics: `meterRegistry.config().commonTags(&quot;TraceId&quot;, MDC.get(&quot;TraceId&quot;));` please read [this](https://develotters.com/posts/high-cardinality/) article to see why this is wrong (you are trying to kill your app there).\r\n3. I think what you are trying to do is attaching the traceId for every request but your code will only run bean initialization time once, where you will not even have a TrceId, hence the NPE: `at com.configuration.MicroMeterConfig.meterRegistry(MicroMeterConfig.java:26)`\r\n\r\nIf you want tracing information (TraceId, SpanId) attached to you metrics, please consider using exemplars, we support them for Prometheus and it works out of the box.\r\n\r\n","title":"Micrometer integration for spring reactive","body":"<p>Please do not define versions and let the Boot BOM define them for you. This is what you need:</p>\n<pre><code>implementation 'org.springframework.boot:spring-boot-starter-actuator'\nimplementation 'io.micrometer:micrometer-tracing-bridge-brave'\nimplementation 'io.zipkin.reporter2:zipkin-reporter-brave'\n</code></pre>\n<p>You can find a bunck of working samples in our <a href=\"https://github.com/micrometer-metrics/micrometer-samples\" rel=\"nofollow noreferrer\">micrometer-samples</a> repo, for example:  <a href=\"https://github.com/micrometer-metrics/micrometer-samples/blob/main/micrometer-samples-boot3-web/build.gradle\" rel=\"nofollow noreferrer\">micrometer-samples-boot3-web</a>.\nAlso, we publish our artifacts to Maven Central, use mvnrepository at your own risk.</p>\n<p>There are a few other things that are wrong here:</p>\n<ol>\n<li>Boot creates a <code>MeterRegistry</code> for you, you don't need to and you should not use the global registry (<code>Metrics.globalRegistry</code>) in Boot.</li>\n<li>You are trying to add high cardinality tags to your metrics: <code>meterRegistry.config().commonTags(&quot;TraceId&quot;, MDC.get(&quot;TraceId&quot;));</code> please read <a href=\"https://develotters.com/posts/high-cardinality/\" rel=\"nofollow noreferrer\">this</a> article to see why this is wrong (you are trying to kill your app there).</li>\n<li>I think what you are trying to do is attaching the traceId for every request but your code will only run bean initialization time once, where you will not even have a TrceId, hence the NPE: <code>at com.configuration.MicroMeterConfig.meterRegistry(MicroMeterConfig.java:26)</code></li>\n</ol>\n<p>If you want tracing information (TraceId, SpanId) attached to you metrics, please consider using exemplars, we support them for Prometheus and it works out of the box.</p>\n"}],"owner":{"account_id":7819979,"reputation":1197,"user_id":5913407,"accept_rate":57,"display_name":"LowCool"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1210,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686192137,"creation_date":1685796642,"question_id":76396188,"body_markdown":"I am trying to integrate micrometer with zipkin2 with brave for spring-webflux 3.0.5, below are my gradle dependencies. Here is my [GitHub repo][1] for the same\r\n\r\n    implementation &#39;io.micrometer:micrometer-core:1.11.0&#39;\r\n    implementation( group: &#39;org.apache.commons&#39;, name: &#39;commons-lang3&#39;, version: &#39;3.12.0&#39;)\r\n    implementation &#39;io.zipkin.reporter2:zipkin-reporter-metrics-micrometer:2.16.4&#39;\r\n    // https://mvnrepository.com/artifact/io.micrometer/micrometer-tracing-bridge-brave\r\n    implementation &#39;io.micrometer:micrometer-tracing-bridge-brave:1.1.1&#39;\r\n    // https://mvnrepository.com/artifact/io.zipkin.reporter2/zipkin-reporter-brave\r\n    implementation &#39;io.zipkin.reporter2:zipkin-reporter-brave:2.16.4&#39;\r\n    \r\nbelow is my Configuration class\r\n\r\n    @Configuration(proxyBeanMethods = false)\r\n    @Slf4j\r\n    public class MicroMeterConfig {\r\n    \r\n    \r\n        @Bean\r\n        public ObservedAspect observedAspect(ObservationRegistry observationRegistry) {\r\n            return new ObservedAspect(observationRegistry);\r\n        }\r\n    \r\n        @Bean\r\n        public MeterRegistry meterRegistry() {\r\n            MeterRegistry meterRegistry = Metrics.globalRegistry;\r\n            log.info(&quot;MDC get value:{}&quot;, MDC.get(&quot;TraceId&quot;));\r\n            meterRegistry.config().commonTags(&quot;TraceId&quot;, MDC.get(&quot;TraceId&quot;));\r\n            return meterRegistry;\r\n        }\r\n    \r\n    }\r\n    \r\nand below is my `TraceIdFilter` as I want to keep track of the trace id (or generate a new one if it is not present)\r\n\r\n    public class TraceIDFilter implements WebFilter {\r\n        public static final String TRACE_ID_HEADER_NAME = &quot;TraceId&quot;;\r\n        private static final String STATUS_URI_PATTERN = &quot;_status&quot;;\r\n    \r\n        private final Timer timer;\r\n        private static final Logger logger = Loggers.getLogger(TraceIDFilter.class);\r\n    \r\n        private final CustomTraceBaggage customTraceBaggage;\r\n    \r\n        public TraceIDFilter(MeterRegistry meterRegistry, CustomTraceBaggage customTraceBaggage) {\r\n            this.customTraceBaggage = customTraceBaggage;\r\n            this.timer = Timer.builder(&quot;trace_id_filter_timer&quot;)\r\n                    .description(&quot;Timer for Trace ID Filter&quot;)\r\n                    .register(meterRegistry);\r\n        }\r\n    \r\n        @Override\r\n        public Mono&lt;Void&gt; filter(ServerWebExchange serverWebExchange, WebFilterChain chain) {\r\n            Timer.Sample sample = Timer.start();\r\n            return Mono.just(serverWebExchange)\r\n                    .doOnNext(exchange -&gt; {\r\n                        final ServerHttpRequest request = exchange.getRequest();\r\n                        final String uriPath = request.getURI().getPath();\r\n                        final String incomingTraceId = request.getHeaders().getFirst(TRACE_ID_HEADER_NAME);\r\n                        final String traceId = Optional.ofNullable(incomingTraceId).orElse(UUID.randomUUID().toString());\r\n                        customTraceBaggage.updateTraceId(traceId);\r\n                        MDC.put(TRACE_ID_HEADER_NAME, traceId);\r\n                        logConditionally(uriPath, &quot;incomingTraceId={}, HttpMethod={}&quot;,\r\n                                incomingTraceId,\r\n                     \r\n                                request.getMethod());\r\n                    })\r\n                    .doOnNext(exchange -&gt; exchange.getResponse()\r\n                            .beforeCommit(() -&gt; {\r\n                                exchange\r\n                                        .getResponse()\r\n                                        .getHeaders()\r\n                                        .add(TRACE_ID_HEADER_NAME, customTraceBaggage.getTraceId());\r\n    \r\n                                final ServerHttpRequest request = exchange.getRequest();\r\n                                final String requestUri = request.getURI().getPath();\r\n                                long duration = sample.stop(timer);\r\n                                logConditionally(requestUri, &quot;MSG=Response, incomingTraceId={},  HttpMethod={}, responseStatus={}, content-length={}, timeTaken={}&quot;,\r\n                                        (Object) request.getHeaders().getFirst(TRACE_ID_HEADER_NAME),\r\n                                     \r\n                                        request.getMethod(),\r\n                                        exchange.getResponse().getStatusCode(),\r\n                                        exchange.getResponse().getHeaders().getFirst(&quot;content-length&quot;), duration);\r\n                                return Mono.empty();\r\n                            })\r\n                    )\r\n                    .then(chain.filter(serverWebExchange));\r\n        }\r\n        private void logConditionally(final String requestUri, final String format, final Object... arguments) {\r\n           \r\n                logger.info(format, arguments);\r\n            \r\n        }\r\n    }\r\n\r\nbelow is MyCustomBaggage configuration class\r\n\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class CustomTraceBaggage {\r\n        private final BaggageField traceIdBaggage;\r\n    \r\n        public boolean updateTraceId(final String value) {\r\n            return traceIdBaggage.updateValue(value);\r\n        }\r\n    \r\n        public String getTraceId() {\r\n            return traceIdBaggage.getValue();\r\n        }\r\n    }\r\n\r\nbut I am getting NPE while registering `MicroMeterRegistry` as in MDC I am not having TraceId value.\r\n\t\r\n\r\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n    \t... 98 common frames omitted\r\n    Caused by: java.lang.NullPointerException: null\r\n    Caused by: java.lang.NullPointerException: null\r\n    \r\n    \tat java.base/java.util.Objects.requireNonNull(Objects.java:233)\r\n    \tat io.micrometer.core.instrument.ImmutableTag.&lt;init&gt;(ImmutableTag.java:37)\r\n    \tat io.micrometer.core.instrument.Tag.of(Tag.java:31)\r\n    \tat io.micrometer.core.instrument.Tags.of(Tags.java:265)\r\n    \tat io.micrometer.core.instrument.MeterRegistry$Config.commonTags(MeterRegistry.java:756)\r\n    \tat com.configuration.MicroMeterConfig.meterRegistry(MicroMeterConfig.java:26)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\r\n    \t... 99 common frames omitted\r\n    \r\nif anyone point me to the correct source on how I can configure Micrometer with zipkin2 would be great\r\n\r\n**Edit1:**\r\n\r\nI updated my Github repo by removing MDC tags and adding `netty-core` for MacOS, now app started correctly but when I am hitting an endpoint, getting the below error\r\n\r\n    2023-06-06T12:46:32.925+02:00 ERROR [,,] 13151 --- [ender@5b03a20a}] i.n.r.d.DnsServerAddressStreamProviders  : Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on &#39;io.netty:netty-resolver-dns-native-macos&#39;. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library\r\n    2023-06-06T12:46:32.999+02:00  WARN [,,] 13151 --- [ender@5b03a20a}] z.r.AsyncReporter$BoundedAsyncReporter   : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.\r\n    2023-06-06T12:46:32.999+02:00  WARN [,,] 13151 --- [ender@5b03a20a}] z.r.AsyncReporter$BoundedAsyncReporter   : Dropped 1 spans due to WebClientRequestException(Connection refused: localhost/[0:0:0:0:0:0:0:1]:9411)\r\n    \r\n    org.springframework.web.reactive.function.client.WebClientRequestException: Connection refused: localhost/[0:0:0:0:0:0:0:1]:9411\r\n    \t\tat reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:211) ~[reactor-core-3.5.4.jar:3.5.4]\r\n    \t\tat reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[reactor-core-3.5.4.jar:3.5.4]\r\n    \t\tat reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:471) ~[reactor-core-3.5.4.jar:3.5.4]\r\n    \t\tat reactor.core.publisher.SinkManyEmitterProcessor$EmitterInner.drainParent(SinkManyEmitterProcessor.java:615) ~[reactor-core-3.5.4.jar:3.5.4]\r\n    \t\tat reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onError(DefaultPooledConnectionProvider.java:162) ~[reactor-netty-core-1.1.5.jar:1.1.5]\r\n    \t\tat reactor.netty.internal.shaded.reactor.pool.AbstractPool$Borrower.fail(AbstractPool.java:475) ~[reactor-netty-core-1.1.5.jar:1.1.5]\r\n    \t\tat reactor.netty.internal.shaded.reactor.pool.SimpleDequePool.lambda$drainLoop$9(SimpleDequePool.java:429) ~[reactor-netty-core-1.1.5.jar:1.1.5]\r\n    \t\tat reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onError(FluxDoOnEach.java:186) ~[reactor-core-3.5.4.jar:3.5.4]\r\n    \t\tat reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.maybeOnError(FluxConcatMapNoPrefetch.java:326) ~[reactor-core-3.5.4.jar:3.5.4]\r\n    \t\tat reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:211) ~[reactor-core-3.5.4.jar:3.5.4]\r\n    \t\tat reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[reactor-core-3.5.4.jar:3.5.4]\r\n    \t\tat reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:471) ~[reactor-core-3.5.4.jar:3.5.4]\r\n    \t\tat reactor.core.publisher.SinkManyEmitterProcessor$EmitterInner.drainParent(SinkManyEmitterProcessor.java:615) ~[reactor-core-3.5.4.jar:3.5.4]\r\n    \t\tat reactor.core.publisher.FluxPublish$PubSubInner.request(FluxPublish.java:602) ~[reactor-core-3.5.4.jar:3.5.4]\r\n    \t\tat reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.5.4.jar:3.5.4]\r\n    \t\tat reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:336) ~[reactor-core-3.5.4.jar:3.5.4]\r\n    \t\tat reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.5.4.jar:3.5.4]\r\n    \t\tat reactor.core.publisher.Operators$DeferredSubscription.request(Operators.java:1717) ~[reactor-core-3.5.4.jar:3.5.4]\r\n    \t\tat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:192) ~[reactor-core-3.5.4.jar:3.5.4]\r\n    \t\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241) ~[reactor-core-3.5.4.jar:3.5.4]\r\n    \t\t\r\n    \tSuppressed: java.lang.Exception: #block terminated with an error\r\n    \t\tat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99) ~[reactor-core-3.5.4.jar:3.5.4]\r\n    \t\tat reactor.core.publisher.Mono.block(Mono.java:1710) ~[reactor-core-3.5.4.jar:3.5.4]\r\n    \t\tat \r\n    Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/[0:0:0:0:0:0:0:1]:9411\r\n    Caused by: java.net.ConnectException: Connection refused\r\n    \tat java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]\r\n    \tat java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]\r\n    \tat java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]\r\n    \tat \r\n    \tjava.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n    \r\n    Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/[0:0:0:0:0:0:0:1]:9411\r\n    \r\n    Caused by: java.net.ConnectException: Connection refused\r\n\r\n\r\n  [1]: https://github.com/vihang16/micrometerExample/","title":"Micrometer integration for spring reactive","body":"<p>I am trying to integrate micrometer with zipkin2 with brave for spring-webflux 3.0.5, below are my gradle dependencies. Here is my <a href=\"https://github.com/vihang16/micrometerExample/\" rel=\"nofollow noreferrer\">GitHub repo</a> for the same</p>\n<pre><code>implementation 'io.micrometer:micrometer-core:1.11.0'\nimplementation( group: 'org.apache.commons', name: 'commons-lang3', version: '3.12.0')\nimplementation 'io.zipkin.reporter2:zipkin-reporter-metrics-micrometer:2.16.4'\n// https://mvnrepository.com/artifact/io.micrometer/micrometer-tracing-bridge-brave\nimplementation 'io.micrometer:micrometer-tracing-bridge-brave:1.1.1'\n// https://mvnrepository.com/artifact/io.zipkin.reporter2/zipkin-reporter-brave\nimplementation 'io.zipkin.reporter2:zipkin-reporter-brave:2.16.4'\n</code></pre>\n<p>below is my Configuration class</p>\n<pre><code>@Configuration(proxyBeanMethods = false)\n@Slf4j\npublic class MicroMeterConfig {\n\n\n    @Bean\n    public ObservedAspect observedAspect(ObservationRegistry observationRegistry) {\n        return new ObservedAspect(observationRegistry);\n    }\n\n    @Bean\n    public MeterRegistry meterRegistry() {\n        MeterRegistry meterRegistry = Metrics.globalRegistry;\n        log.info(&quot;MDC get value:{}&quot;, MDC.get(&quot;TraceId&quot;));\n        meterRegistry.config().commonTags(&quot;TraceId&quot;, MDC.get(&quot;TraceId&quot;));\n        return meterRegistry;\n    }\n\n}\n</code></pre>\n<p>and below is my <code>TraceIdFilter</code> as I want to keep track of the trace id (or generate a new one if it is not present)</p>\n<pre><code>public class TraceIDFilter implements WebFilter {\n    public static final String TRACE_ID_HEADER_NAME = &quot;TraceId&quot;;\n    private static final String STATUS_URI_PATTERN = &quot;_status&quot;;\n\n    private final Timer timer;\n    private static final Logger logger = Loggers.getLogger(TraceIDFilter.class);\n\n    private final CustomTraceBaggage customTraceBaggage;\n\n    public TraceIDFilter(MeterRegistry meterRegistry, CustomTraceBaggage customTraceBaggage) {\n        this.customTraceBaggage = customTraceBaggage;\n        this.timer = Timer.builder(&quot;trace_id_filter_timer&quot;)\n                .description(&quot;Timer for Trace ID Filter&quot;)\n                .register(meterRegistry);\n    }\n\n    @Override\n    public Mono&lt;Void&gt; filter(ServerWebExchange serverWebExchange, WebFilterChain chain) {\n        Timer.Sample sample = Timer.start();\n        return Mono.just(serverWebExchange)\n                .doOnNext(exchange -&gt; {\n                    final ServerHttpRequest request = exchange.getRequest();\n                    final String uriPath = request.getURI().getPath();\n                    final String incomingTraceId = request.getHeaders().getFirst(TRACE_ID_HEADER_NAME);\n                    final String traceId = Optional.ofNullable(incomingTraceId).orElse(UUID.randomUUID().toString());\n                    customTraceBaggage.updateTraceId(traceId);\n                    MDC.put(TRACE_ID_HEADER_NAME, traceId);\n                    logConditionally(uriPath, &quot;incomingTraceId={}, HttpMethod={}&quot;,\n                            incomingTraceId,\n                 \n                            request.getMethod());\n                })\n                .doOnNext(exchange -&gt; exchange.getResponse()\n                        .beforeCommit(() -&gt; {\n                            exchange\n                                    .getResponse()\n                                    .getHeaders()\n                                    .add(TRACE_ID_HEADER_NAME, customTraceBaggage.getTraceId());\n\n                            final ServerHttpRequest request = exchange.getRequest();\n                            final String requestUri = request.getURI().getPath();\n                            long duration = sample.stop(timer);\n                            logConditionally(requestUri, &quot;MSG=Response, incomingTraceId={},  HttpMethod={}, responseStatus={}, content-length={}, timeTaken={}&quot;,\n                                    (Object) request.getHeaders().getFirst(TRACE_ID_HEADER_NAME),\n                                 \n                                    request.getMethod(),\n                                    exchange.getResponse().getStatusCode(),\n                                    exchange.getResponse().getHeaders().getFirst(&quot;content-length&quot;), duration);\n                            return Mono.empty();\n                        })\n                )\n                .then(chain.filter(serverWebExchange));\n    }\n    private void logConditionally(final String requestUri, final String format, final Object... arguments) {\n       \n            logger.info(format, arguments);\n        \n    }\n}\n</code></pre>\n<p>below is MyCustomBaggage configuration class</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class CustomTraceBaggage {\n    private final BaggageField traceIdBaggage;\n\n    public boolean updateTraceId(final String value) {\n        return traceIdBaggage.updateValue(value);\n    }\n\n    public String getTraceId() {\n        return traceIdBaggage.getValue();\n    }\n}\n</code></pre>\n<p>but I am getting NPE while registering <code>MicroMeterRegistry</code> as in MDC I am not having TraceId value.</p>\n<pre><code>at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n    ... 98 common frames omitted\nCaused by: java.lang.NullPointerException: null\nCaused by: java.lang.NullPointerException: null\n\n    at java.base/java.util.Objects.requireNonNull(Objects.java:233)\n    at io.micrometer.core.instrument.ImmutableTag.&lt;init&gt;(ImmutableTag.java:37)\n    at io.micrometer.core.instrument.Tag.of(Tag.java:31)\n    at io.micrometer.core.instrument.Tags.of(Tags.java:265)\n    at io.micrometer.core.instrument.MeterRegistry$Config.commonTags(MeterRegistry.java:756)\n    at com.configuration.MicroMeterConfig.meterRegistry(MicroMeterConfig.java:26)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\n    ... 99 common frames omitted\n</code></pre>\n<p>if anyone point me to the correct source on how I can configure Micrometer with zipkin2 would be great</p>\n<p><strong>Edit1:</strong></p>\n<p>I updated my Github repo by removing MDC tags and adding <code>netty-core</code> for MacOS, now app started correctly but when I am hitting an endpoint, getting the below error</p>\n<pre><code>2023-06-06T12:46:32.925+02:00 ERROR [,,] 13151 --- [ender@5b03a20a}] i.n.r.d.DnsServerAddressStreamProviders  : Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library\n2023-06-06T12:46:32.999+02:00  WARN [,,] 13151 --- [ender@5b03a20a}] z.r.AsyncReporter$BoundedAsyncReporter   : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.\n2023-06-06T12:46:32.999+02:00  WARN [,,] 13151 --- [ender@5b03a20a}] z.r.AsyncReporter$BoundedAsyncReporter   : Dropped 1 spans due to WebClientRequestException(Connection refused: localhost/[0:0:0:0:0:0:0:1]:9411)\n\norg.springframework.web.reactive.function.client.WebClientRequestException: Connection refused: localhost/[0:0:0:0:0:0:0:1]:9411\n        at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:211) ~[reactor-core-3.5.4.jar:3.5.4]\n        at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[reactor-core-3.5.4.jar:3.5.4]\n        at reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:471) ~[reactor-core-3.5.4.jar:3.5.4]\n        at reactor.core.publisher.SinkManyEmitterProcessor$EmitterInner.drainParent(SinkManyEmitterProcessor.java:615) ~[reactor-core-3.5.4.jar:3.5.4]\n        at reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onError(DefaultPooledConnectionProvider.java:162) ~[reactor-netty-core-1.1.5.jar:1.1.5]\n        at reactor.netty.internal.shaded.reactor.pool.AbstractPool$Borrower.fail(AbstractPool.java:475) ~[reactor-netty-core-1.1.5.jar:1.1.5]\n        at reactor.netty.internal.shaded.reactor.pool.SimpleDequePool.lambda$drainLoop$9(SimpleDequePool.java:429) ~[reactor-netty-core-1.1.5.jar:1.1.5]\n        at reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onError(FluxDoOnEach.java:186) ~[reactor-core-3.5.4.jar:3.5.4]\n        at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.maybeOnError(FluxConcatMapNoPrefetch.java:326) ~[reactor-core-3.5.4.jar:3.5.4]\n        at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:211) ~[reactor-core-3.5.4.jar:3.5.4]\n        at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[reactor-core-3.5.4.jar:3.5.4]\n        at reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:471) ~[reactor-core-3.5.4.jar:3.5.4]\n        at reactor.core.publisher.SinkManyEmitterProcessor$EmitterInner.drainParent(SinkManyEmitterProcessor.java:615) ~[reactor-core-3.5.4.jar:3.5.4]\n        at reactor.core.publisher.FluxPublish$PubSubInner.request(FluxPublish.java:602) ~[reactor-core-3.5.4.jar:3.5.4]\n        at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.5.4.jar:3.5.4]\n        at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:336) ~[reactor-core-3.5.4.jar:3.5.4]\n        at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.5.4.jar:3.5.4]\n        at reactor.core.publisher.Operators$DeferredSubscription.request(Operators.java:1717) ~[reactor-core-3.5.4.jar:3.5.4]\n        at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:192) ~[reactor-core-3.5.4.jar:3.5.4]\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:241) ~[reactor-core-3.5.4.jar:3.5.4]\n        \n    Suppressed: java.lang.Exception: #block terminated with an error\n        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99) ~[reactor-core-3.5.4.jar:3.5.4]\n        at reactor.core.publisher.Mono.block(Mono.java:1710) ~[reactor-core-3.5.4.jar:3.5.4]\n        at \nCaused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/[0:0:0:0:0:0:0:1]:9411\nCaused by: java.net.ConnectException: Connection refused\n    at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]\n    at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]\n    at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]\n    at \n    java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n\nCaused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/[0:0:0:0:0:0:0:1]:9411\n\nCaused by: java.net.ConnectException: Connection refused\n</code></pre>\n"},{"tags":["java","dna-sequence"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":1,"creation_date":1451284842,"post_id":34487722,"comment_id":56719526,"body_markdown":"Do you want *help* as in you&#39;re stuck with something, or do you want us to actually *do* this work?  You&#39;ll only ever get the former, and only after you tell us what&#39;s specifically broken and where you&#39;re stuck.","body":"Do you want <i>help</i> as in you&#39;re stuck with something, or do you want us to actually <i>do</i> this work?  You&#39;ll only ever get the former, and only after you tell us what&#39;s specifically broken and where you&#39;re stuck."},{"owner":{"account_id":7316771,"reputation":81,"user_id":5574152,"accept_rate":50,"display_name":"A. K."},"score":0,"creation_date":1451285621,"post_id":34487722,"comment_id":56719767,"body_markdown":"I&#39;ve edited the question to reflect what the real problems are that I&#39;m having.","body":"I&#39;ve edited the question to reflect what the real problems are that I&#39;m having."}],"answers":[{"tags":[],"owner":{"account_id":2846896,"reputation":5346,"user_id":2445025,"accept_rate":59,"display_name":"Prabhu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686191868,"creation_date":1458295681,"answer_id":36081541,"question_id":34487722,"body_markdown":"Your `storeAll` method is defined as \r\n\r\n    public StorageResource storeAll(String dna)\r\n\r\nThis means the storeAll method returns object of type `StorageResource`. But you have used \r\n\r\n    String geneList = FMG.storeAll(dna);\r\n\r\nThe type of variable used in left side is `string` but the type of variable that right side returns is `StorageResource`. This cannot be done, because **Java** does not know how to convert `StorageResource` to `String`. As far as your problem is concerned, writing these many lines are not necessary. To print genes stored in `StorageResource`, you can write:\r\n\r\n    public void printAll(StorageResource s){\r\n        for(String gene : s.data())\r\n            System.out.println(gene);\r\n    }\r\n\r\nTo count genes of length greater than 60 or cg ratio greater than .35, or find longest gene on one go, you can modify above program and do following\r\n\r\n    public void printAll(StorageResource s){\r\n        int count60 = 0;\r\n        int cg35 = 0;\r\n        int longest = null;\r\n\r\n        for (String gene : s.data()){\r\n            System.out.println(gene.length() + &quot;\\t&quot; + gene);\r\n            if (gene.length() &gt; 60) count60++;\r\n            if (cgRatio(gene) &gt; 0.35) cg35++;\r\n            if (gene.length() &gt; longest) longest = gene.length();\r\n        }\r\n\r\n        System.out.println(&quot;Greater than 60 nucleotides is &quot;+ count60);\r\n        System.out.println(&quot;Longest gene length is &quot;+ longest);\r\n        System.out.println(&quot;CG ratio greater than 0.35 is &quot;+ countCG);\r\n    }\r\n\r\nFor finding CG ratio, you can do following\r\n\r\n    public float cgRatio(String gene){\r\n        int c = gene.length() - gene.replace(&quot;c&quot;, &quot;&quot;).length();\r\n        int g = gene.length() - gene.replace(&quot;g&quot;, &quot;&quot;).length();\r\n\r\n        return ((float) c + g) / gene.length();\r\n    }","title":"Debugging/Decoding DNA Java","body":"<p>Your <code>storeAll</code> method is defined as</p>\n<pre><code>public StorageResource storeAll(String dna)\n</code></pre>\n<p>This means the storeAll method returns object of type <code>StorageResource</code>. But you have used</p>\n<pre><code>String geneList = FMG.storeAll(dna);\n</code></pre>\n<p>The type of variable used in left side is <code>string</code> but the type of variable that right side returns is <code>StorageResource</code>. This cannot be done, because <strong>Java</strong> does not know how to convert <code>StorageResource</code> to <code>String</code>. As far as your problem is concerned, writing these many lines are not necessary. To print genes stored in <code>StorageResource</code>, you can write:</p>\n<pre><code>public void printAll(StorageResource s){\n    for(String gene : s.data())\n        System.out.println(gene);\n}\n</code></pre>\n<p>To count genes of length greater than 60 or cg ratio greater than .35, or find longest gene on one go, you can modify above program and do following</p>\n<pre><code>public void printAll(StorageResource s){\n    int count60 = 0;\n    int cg35 = 0;\n    int longest = null;\n\n    for (String gene : s.data()){\n        System.out.println(gene.length() + &quot;\\t&quot; + gene);\n        if (gene.length() &gt; 60) count60++;\n        if (cgRatio(gene) &gt; 0.35) cg35++;\n        if (gene.length() &gt; longest) longest = gene.length();\n    }\n\n    System.out.println(&quot;Greater than 60 nucleotides is &quot;+ count60);\n    System.out.println(&quot;Longest gene length is &quot;+ longest);\n    System.out.println(&quot;CG ratio greater than 0.35 is &quot;+ countCG);\n}\n</code></pre>\n<p>For finding CG ratio, you can do following</p>\n<pre><code>public float cgRatio(String gene){\n    int c = gene.length() - gene.replace(&quot;c&quot;, &quot;&quot;).length();\n    int g = gene.length() - gene.replace(&quot;g&quot;, &quot;&quot;).length();\n\n    return ((float) c + g) / gene.length();\n}\n</code></pre>\n"}],"owner":{"account_id":7316771,"reputation":81,"user_id":5574152,"accept_rate":50,"display_name":"A. K."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1760,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1686191868,"creation_date":1451277200,"question_id":34487722,"body_markdown":"I&#39;m trying to debug my program for errors; for example the error `incompatible types: edu.duke.StorageResource cannot be converted to java.lang.String` on the line `String geneList = FMG.storeAll(dna);` what does it mean?. \r\n\r\n\r\nThe storeAll and printGenes methods is what I&#39;m having trouble with. I can&#39;t seem to get the syntax right for storing genes. I have a basic outline of what it should look like but I don&#39;t know how to use the StorageResource properly. Also in the printGenes method, I don&#39;t know what is needed so all of my desired print statements execute. Specifically I&#39;d like to know (what the syntax is of) how to count up the number of genes, count the characters in the DNA strand, etc.. Also I have a problem with the location of where I should call the methods that I have already created; I want to know the exact location, in the code. Any suggestions would be greatly appreciated. \r\n\r\n(PS: The main method has been changed to `printGenes` method, because my class uses BlueJ in which you can&#39;t call Main methods.\r\n\r\n\r\nHere is where you can download the file necessary to do this assignment, http://www.dukelearntoprogram.com/course2/data/dna.zip\r\nAny suggestions are helpful.  \r\n\r\n   Here&#39;s my faulty code: \r\n\r\n\r\n    \r\n    import java.io.*;\r\n    import edu.duke.FileResource;\r\n    import edu.duke.StorageResource;\r\n    import edu.duke.DirectoryResource;\r\n    \r\n    public class FindMultiGenes5 {\r\n        public int findStopIndex(String dna, int index) {\r\n            int stop1 = dna.indexOf(&quot;TGA&quot;, index);\r\n            if (stop1 == -1 || (stop1 - index) % 3 != 0) {\r\n                stop1 = dna.length();\r\n            }\r\n            int stop2 = dna.indexOf(&quot;TAA&quot;, index);\r\n            if (stop2 == -1 || (stop2 - index) % 3 != 0) {\r\n                stop2 = dna.length();\r\n            }\r\n            int stop3 = dna.indexOf(&quot;TAG&quot;, index);\r\n            if (stop3 == -1 || (stop3 - index) % 3 != 0) {\r\n                stop3 = dna.length();\r\n            }\r\n            return Math.min(stop1, Math.min(stop2, stop3));\r\n        }\r\n    \r\n        public StorageResource storeAll(String dna) {\r\n    \r\n            //CATGTAATAGATGAATGACTGATAGATATGCTTGTATGCTATGAAAATGTGAAATGACCCAdna = &quot;CATGTAATAGATGAATGACTGATAGATATGCTTGTATGCTATGAAAATGTGAAATGACCCA&quot;;\r\n            \r\n            String sequence = dna.toUpperCase();\r\n            StorageResource store = new StorageResource();\r\n            int index = 0;\r\n            \r\n    \r\n            while (true) {\r\n                index = sequence.indexOf(&quot;ATG&quot;, index);\r\n                if (index == -1)\r\n                    break;\r\n               \r\n                int stop = findStopIndex(sequence, index + 3);\r\n                \r\n                if (stop != sequence.length()) {\r\n                    String gene = dna.substring(index, stop + 3);\r\n                    store.add(gene);\r\n                    \r\n                    System.out.println(&quot;From: &quot; + index + &quot; to &quot; + stop + &quot; Gene: &quot; + gene );//index = sequence.substring(index, stop + 3).length();\r\n                index = stop + 3; // start at the end of the stop codon\r\n              }else{  index = index + 3;\r\n            }\r\n    \r\n        }\r\n        return store;//System.out.println(sequence);\r\n        }\r\n       public void testStorageFinder() {\r\n    \t  DirectoryResource dr = new DirectoryResource();\r\n          StorageResource dnaStore = new StorageResource(); \r\n        for (File f : dr.selectedFiles()) {\r\n            FileResource fr = new FileResource(f);\r\n            String s = fr.asString();\r\n            dnaStore = storeAll(s);\r\n            printGenes(dnaStore);\r\n        }\r\n    \t\t\t\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;size = &quot; + dnaStore.size());\r\n    \t\t\r\n    \t}  \r\n      public String readStrFromFile(){\r\n    \t\t\r\n    \t\tFileResource readFile = new FileResource();\r\n    \t\t\r\n    \t\tString DNA = readFile.asString();\r\n    \t\t\r\n    \t\t//System.out.println(&quot;DNA: &quot; + DNA);\r\n    \t\t\r\n    \t\treturn DNA;\r\n    \t\t\r\n    \t}//end readStrFromFile() method;\r\n      public float calCGRatio(String gene){\r\n    \t\t\r\n    \t\tgene = gene.toUpperCase();\t\r\n    \t\tint len = gene.length();\r\n    \t\tint CGCount = 0;\r\n    \t\t\r\n    \t\tfor(int i=0; i&lt;len; i++){\r\n    \t\t\t\t\t\t\r\n    \t\t\tif(gene.charAt(i) == &#39;C&#39; || gene.charAt(i) == &#39;G&#39;)\r\n    \t\t\t\tCGCount++;\r\n    \t\t\t\r\n    \t\t}//end for loop\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;CGCount &quot; + CGCount + &quot; Length: &quot; + len + &quot; Ratio: &quot; + (float)CGCount/len);\r\n    \t\treturn (float)CGCount/len;\r\n    \t}//end of calCGRatio() method;\r\n    \tpublic void printGenes(StorageResource sr){\r\n       for(String gene: sr.data()){\r\n         if (gene.length() &gt; 60) {\r\n           System.out.println(gene.length()+&quot;\\t&quot;+gene);\r\n         }\r\n         if(calCGRatio(gene)&gt; 0.35) {\r\n           System.out.println(gene.length()+&quot;\\t&quot;+gene);\r\n          }\r\n      }\r\n        \r\n            //create a FindMultiGenesFile object FMG\r\n    \t\tFindMultiGenes5 FMG = new FindMultiGenes5();\r\n    \t\t\r\n    \t\t//read a DNA sequence from file\r\n    \t\tString dna = FMG.readStrFromFile();\r\n    \t\t\r\n    \t\tString geneList = FMG.storeAll(dna);\r\n    \t\t\r\n    \t\t//store all genes into a document\r\n    \t\tStorageResource dnaStore = new StorageResource();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;\\n There are &quot; + geneList.size() + &quot; genes. &quot;);\r\n    \t\t\r\n    \t\tint longerthan60 = 0;\r\n    \t\tint CGGreaterthan35 = 0;\r\n    \t\tfor(int i=0; i&lt;geneList.size(); i++){\r\n    \t\t\t\r\n    \t\t\tif(!dnaStore.contains(geneList.get(i)))\r\n    \t\t\t\tdnaStore.add(geneList.get(i));\r\n    \t\t\t\r\n    \t\t\tif(geneList.get(i).length() &gt; 60) longerthan60++;\r\n    \t\t\tif(FMG.calCGRatio(geneList.get(i)) &gt; 0.35) CGGreaterthan35++;\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;dnaStore.size: &quot; + dnaStore.size());\r\n    \t\t\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;\\n There are &quot; + dnaStore.size() + &quot; genes. &quot;);\r\n    \t\tSystem.out.println(&quot;There are &quot; + longerthan60 + &quot; genes longer than 60.&quot;);\r\n         \tSystem.out.println(&quot;There are &quot; + CGGreaterthan35 + &quot; genes with CG ratio greater than 0.35.&quot;);\r\n    \t}//end main();\r\n    }\r\n\r\n","title":"Debugging/Decoding DNA Java","body":"<p>I'm trying to debug my program for errors; for example the error <code>incompatible types: edu.duke.StorageResource cannot be converted to java.lang.String</code> on the line <code>String geneList = FMG.storeAll(dna);</code> what does it mean?. </p>\n\n<p>The storeAll and printGenes methods is what I'm having trouble with. I can't seem to get the syntax right for storing genes. I have a basic outline of what it should look like but I don't know how to use the StorageResource properly. Also in the printGenes method, I don't know what is needed so all of my desired print statements execute. Specifically I'd like to know (what the syntax is of) how to count up the number of genes, count the characters in the DNA strand, etc.. Also I have a problem with the location of where I should call the methods that I have already created; I want to know the exact location, in the code. Any suggestions would be greatly appreciated. </p>\n\n<p>(PS: The main method has been changed to <code>printGenes</code> method, because my class uses BlueJ in which you can't call Main methods.</p>\n\n<p>Here is where you can download the file necessary to do this assignment, <a href=\"http://www.dukelearntoprogram.com/course2/data/dna.zip\" rel=\"nofollow\">http://www.dukelearntoprogram.com/course2/data/dna.zip</a>\nAny suggestions are helpful.  </p>\n\n<p>Here's my faulty code: </p>\n\n<pre><code>import java.io.*;\nimport edu.duke.FileResource;\nimport edu.duke.StorageResource;\nimport edu.duke.DirectoryResource;\n\npublic class FindMultiGenes5 {\n    public int findStopIndex(String dna, int index) {\n        int stop1 = dna.indexOf(\"TGA\", index);\n        if (stop1 == -1 || (stop1 - index) % 3 != 0) {\n            stop1 = dna.length();\n        }\n        int stop2 = dna.indexOf(\"TAA\", index);\n        if (stop2 == -1 || (stop2 - index) % 3 != 0) {\n            stop2 = dna.length();\n        }\n        int stop3 = dna.indexOf(\"TAG\", index);\n        if (stop3 == -1 || (stop3 - index) % 3 != 0) {\n            stop3 = dna.length();\n        }\n        return Math.min(stop1, Math.min(stop2, stop3));\n    }\n\n    public StorageResource storeAll(String dna) {\n\n        //CATGTAATAGATGAATGACTGATAGATATGCTTGTATGCTATGAAAATGTGAAATGACCCAdna = \"CATGTAATAGATGAATGACTGATAGATATGCTTGTATGCTATGAAAATGTGAAATGACCCA\";\n\n        String sequence = dna.toUpperCase();\n        StorageResource store = new StorageResource();\n        int index = 0;\n\n\n        while (true) {\n            index = sequence.indexOf(\"ATG\", index);\n            if (index == -1)\n                break;\n\n            int stop = findStopIndex(sequence, index + 3);\n\n            if (stop != sequence.length()) {\n                String gene = dna.substring(index, stop + 3);\n                store.add(gene);\n\n                System.out.println(\"From: \" + index + \" to \" + stop + \" Gene: \" + gene );//index = sequence.substring(index, stop + 3).length();\n            index = stop + 3; // start at the end of the stop codon\n          }else{  index = index + 3;\n        }\n\n    }\n    return store;//System.out.println(sequence);\n    }\n   public void testStorageFinder() {\n      DirectoryResource dr = new DirectoryResource();\n      StorageResource dnaStore = new StorageResource(); \n    for (File f : dr.selectedFiles()) {\n        FileResource fr = new FileResource(f);\n        String s = fr.asString();\n        dnaStore = storeAll(s);\n        printGenes(dnaStore);\n    }\n\n\n        System.out.println(\"size = \" + dnaStore.size());\n\n    }  \n  public String readStrFromFile(){\n\n        FileResource readFile = new FileResource();\n\n        String DNA = readFile.asString();\n\n        //System.out.println(\"DNA: \" + DNA);\n\n        return DNA;\n\n    }//end readStrFromFile() method;\n  public float calCGRatio(String gene){\n\n        gene = gene.toUpperCase();  \n        int len = gene.length();\n        int CGCount = 0;\n\n        for(int i=0; i&lt;len; i++){\n\n            if(gene.charAt(i) == 'C' || gene.charAt(i) == 'G')\n                CGCount++;\n\n        }//end for loop\n\n        System.out.println(\"CGCount \" + CGCount + \" Length: \" + len + \" Ratio: \" + (float)CGCount/len);\n        return (float)CGCount/len;\n    }//end of calCGRatio() method;\n    public void printGenes(StorageResource sr){\n   for(String gene: sr.data()){\n     if (gene.length() &gt; 60) {\n       System.out.println(gene.length()+\"\\t\"+gene);\n     }\n     if(calCGRatio(gene)&gt; 0.35) {\n       System.out.println(gene.length()+\"\\t\"+gene);\n      }\n  }\n\n        //create a FindMultiGenesFile object FMG\n        FindMultiGenes5 FMG = new FindMultiGenes5();\n\n        //read a DNA sequence from file\n        String dna = FMG.readStrFromFile();\n\n        String geneList = FMG.storeAll(dna);\n\n        //store all genes into a document\n        StorageResource dnaStore = new StorageResource();\n\n        System.out.println(\"\\n There are \" + geneList.size() + \" genes. \");\n\n        int longerthan60 = 0;\n        int CGGreaterthan35 = 0;\n        for(int i=0; i&lt;geneList.size(); i++){\n\n            if(!dnaStore.contains(geneList.get(i)))\n                dnaStore.add(geneList.get(i));\n\n            if(geneList.get(i).length() &gt; 60) longerthan60++;\n            if(FMG.calCGRatio(geneList.get(i)) &gt; 0.35) CGGreaterthan35++;\n\n        }\n\n        System.out.println(\"dnaStore.size: \" + dnaStore.size());\n\n\n        System.out.println(\"\\n There are \" + dnaStore.size() + \" genes. \");\n        System.out.println(\"There are \" + longerthan60 + \" genes longer than 60.\");\n        System.out.println(\"There are \" + CGGreaterthan35 + \" genes with CG ratio greater than 0.35.\");\n    }//end main();\n}\n</code></pre>\n"},{"tags":["java","spring-boot","webclient"],"answers":[{"comments":[{"owner":{"account_id":16535035,"reputation":437,"user_id":11947303,"display_name":"CodeSlave"},"score":0,"creation_date":1650276795,"post_id":61816261,"comment_id":127070317,"body_markdown":"Hello Colon, is there any source?","body":"Hello Colon, is there any source?"},{"owner":{"account_id":10739811,"reputation":377,"user_id":7903316,"display_name":"Amol Patil"},"score":0,"creation_date":1661506602,"post_id":61816261,"comment_id":129793608,"body_markdown":"May be this helps: https://docs.spring.io/spring-framework/docs/5.0.0.RC4/spring-framework-reference/reactive-web.html#webflux-fn-handler-functions","body":"May be this helps: <a href=\"https://docs.spring.io/spring-framework/docs/5.0.0.RC4/spring-framework-reference/reactive-web.html#webflux-fn-handler-functions\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/5.0.0.RC4/&hellip;</a>"}],"tags":[],"owner":{"account_id":10956463,"reputation":375,"user_id":12181609,"display_name":"Colon"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1661722686,"creation_date":1589535748,"answer_id":61816261,"question_id":61814434,"body_markdown":" - If you are retrieving a single item, use bodyToMono. It emits 0-1 items\r\n   \r\n - For multiple items, use bodyToFlux. It emits 0-N items.\r\n\r\nmore about handler function [spring reactive web handler][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/5.0.0.RC4/spring-framework-reference/reactive-web.html#webflux-fn-handler-functions","title":"What is the difference between bodyToMono ParameterizedTypeReference and bodyToFlux","body":"<ul>\n<li><p>If you are retrieving a single item, use bodyToMono. It emits 0-1 items</p>\n</li>\n<li><p>For multiple items, use bodyToFlux. It emits 0-N items.</p>\n</li>\n</ul>\n<p>more about handler function <a href=\"https://docs.spring.io/spring-framework/docs/5.0.0.RC4/spring-framework-reference/reactive-web.html#webflux-fn-handler-functions\" rel=\"noreferrer\">spring reactive web handler</a></p>\n"}],"owner":{"account_id":13207582,"reputation":542,"user_id":9538809,"display_name":"RenceAbi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15004,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":1,"score":13,"last_activity_date":1686191214,"creation_date":1589529384,"question_id":61814434,"body_markdown":"I dont see any major time complexity difference between these two approaches, both of them working charm, I would like to understand what is the major different between these two approach\r\n\r\nI&#39;m getting collection of Student object from service.\r\n\r\nbodyToMono ParameterizedTypeReference\r\n\r\n```\r\npublic Mono&lt;Collection&lt;Student&gt;&gt; getStudents(String id) {\r\n\r\n    return webClient\r\n         .get()\r\n         .uri(uriBuilder -&gt; uriBuilder\r\n             .path(&quot;/students/{0}&quot;)\r\n             .build(id))\r\n         .retrieve()\r\n         .onStatus(HttpStatus::isError, resp -&gt; resp.createException()\r\n             .map(WebClientGraphqlException::new)\r\n             .flatMap(Mono::error)\r\n         ).bodyToMono(new ParameterizedTypeReference&lt;Collection&lt;Student&gt;&gt;() {}); // This Line\r\n  }\r\n```\r\n\r\nbodyToFlux Collectors\r\n\r\n```\r\npublic Mono&lt;Collection&lt;Student&gt;&gt; getStudents(String id) {\r\n\r\n    return webClient\r\n         .get()\r\n         .uri(uriBuilder -&gt; uriBuilder\r\n             .path(&quot;/students/{0}&quot;)\r\n             .build(id))\r\n         .retrieve()\r\n         .onStatus(HttpStatus::isError, resp -&gt; resp.createException()\r\n             .map(WebClientGraphqlException::new)\r\n             .flatMap(Mono::error)\r\n         ).bodyToFlux(Student.class).collect(Collectors.toList()); // This Line\r\n  }\r\n```","title":"What is the difference between bodyToMono ParameterizedTypeReference and bodyToFlux","body":"<p>I dont see any major time complexity difference between these two approaches, both of them working charm, I would like to understand what is the major different between these two approach</p>\n<p>I'm getting collection of Student object from service.</p>\n<p>bodyToMono ParameterizedTypeReference</p>\n<pre><code>public Mono&lt;Collection&lt;Student&gt;&gt; getStudents(String id) {\n\n    return webClient\n         .get()\n         .uri(uriBuilder -&gt; uriBuilder\n             .path(&quot;/students/{0}&quot;)\n             .build(id))\n         .retrieve()\n         .onStatus(HttpStatus::isError, resp -&gt; resp.createException()\n             .map(WebClientGraphqlException::new)\n             .flatMap(Mono::error)\n         ).bodyToMono(new ParameterizedTypeReference&lt;Collection&lt;Student&gt;&gt;() {}); // This Line\n  }\n</code></pre>\n<p>bodyToFlux Collectors</p>\n<pre><code>public Mono&lt;Collection&lt;Student&gt;&gt; getStudents(String id) {\n\n    return webClient\n         .get()\n         .uri(uriBuilder -&gt; uriBuilder\n             .path(&quot;/students/{0}&quot;)\n             .build(id))\n         .retrieve()\n         .onStatus(HttpStatus::isError, resp -&gt; resp.createException()\n             .map(WebClientGraphqlException::new)\n             .flatMap(Mono::error)\n         ).bodyToFlux(Student.class).collect(Collectors.toList()); // This Line\n  }\n</code></pre>\n"},{"tags":["java","eclipse","javafx","fxml","scenebuilder"],"comments":[{"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"score":0,"creation_date":1453997550,"post_id":35065468,"comment_id":57856007,"body_markdown":"Are there any options available in the combo box next to root element? since there is an option to use `fx:root` this probably is just the choice of the Layout to use, which seems to be mandatory...","body":"Are there any options available in the combo box next to root element? since there is an option to use <code>fx:root</code> this probably is just the choice of the Layout to use, which seems to be mandatory..."},{"owner":{"account_id":6637184,"reputation":7560,"user_id":5124009,"accept_rate":100,"display_name":"Kas Elvirov"},"score":0,"creation_date":1453997948,"post_id":35065468,"comment_id":57856313,"body_markdown":"@fabian No options and when i click on the **fx:root** the problem is not solved","body":"@fabian No options and when i click on the <b>fx:root</b> the problem is not solved"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1454001630,"post_id":35065468,"comment_id":57858862,"body_markdown":"I&#39;ve seen this. It was something really crazy, like having a closed project selected in the package explorer. Make sure you select the package in package explorer where you want to create the fxml file...","body":"I&#39;ve seen this. It was something really crazy, like having a closed project selected in the package explorer. Make sure you select the package in package explorer where you want to create the fxml file..."},{"owner":{"account_id":6637184,"reputation":7560,"user_id":5124009,"accept_rate":100,"display_name":"Kas Elvirov"},"score":0,"creation_date":1454005612,"post_id":35065468,"comment_id":57861251,"body_markdown":"@James_D Thank you. It still does not working.","body":"@James_D Thank you. It still does not working."}],"answers":[{"tags":[],"owner":{"account_id":7893037,"reputation":56,"user_id":5962606,"display_name":"Moon Housney"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1456139430,"creation_date":1456139430,"answer_id":35552096,"question_id":35065468,"body_markdown":"The problem is solved for me by installing the latest jdk 8u73 and by adding the new build path in eclipse \r\n\r\nPs : sorry for my english\r\n\r\nMounir (France)","title":"Cannot create FXML file in JavaFX project in Eclipse","body":"<p>The problem is solved for me by installing the latest jdk 8u73 and by adding the new build path in eclipse </p>\n\n<p>Ps : sorry for my english</p>\n\n<p>Mounir (France)</p>\n"},{"comments":[{"owner":{"account_id":6637184,"reputation":7560,"user_id":5124009,"accept_rate":100,"display_name":"Kas Elvirov"},"score":0,"creation_date":1498109993,"post_id":44673238,"comment_id":76365270,"body_markdown":"Thanks. I&#39;ll try it","body":"Thanks. I&#39;ll try it"}],"tags":[],"owner":{"account_id":11164437,"reputation":21,"user_id":8193543,"display_name":"Andrea Manno"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498040083,"creation_date":1498040083,"answer_id":44673238,"question_id":35065468,"body_markdown":"I stumbled on this problem because I was under the impression that JavaFX was bundled with Java 8, but that&#39;s not true (or maybe not always true) for OpenJDK. Installing the **openjfx** package solved the problem for me.","title":"Cannot create FXML file in JavaFX project in Eclipse","body":"<p>I stumbled on this problem because I was under the impression that JavaFX was bundled with Java 8, but that's not true (or maybe not always true) for OpenJDK. Installing the <strong>openjfx</strong> package solved the problem for me.</p>\n"},{"tags":[],"owner":{"account_id":5211690,"reputation":561,"user_id":4167902,"display_name":"Vincz777"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1502543852,"creation_date":1502543852,"answer_id":45650723,"question_id":35065468,"body_markdown":"I solved this problem by referencing the JavaFX library to the project. One way to do that is to right-click the project folder in Eclipse, then select Build Path -&gt; Add External Archive.\r\n\r\nThe JavaFX archive, named `jfxrt.jar` is located in the directory `jre\\lib\\ext` of your JDK directory.\r\n\r\nSurprisingly, the JavaFX libraries are not automatically linked in a JavaFX project... This operation also allows to build JavaFX sample projects, which otherwise don&#39;t compile.","title":"Cannot create FXML file in JavaFX project in Eclipse","body":"<p>I solved this problem by referencing the JavaFX library to the project. One way to do that is to right-click the project folder in Eclipse, then select Build Path -> Add External Archive.</p>\n\n<p>The JavaFX archive, named <code>jfxrt.jar</code> is located in the directory <code>jre\\lib\\ext</code> of your JDK directory.</p>\n\n<p>Surprisingly, the JavaFX libraries are not automatically linked in a JavaFX project... This operation also allows to build JavaFX sample projects, which otherwise don't compile.</p>\n"},{"tags":[],"owner":{"account_id":12309499,"reputation":11,"user_id":8981453,"display_name":"Jan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1511288395,"creation_date":1511288395,"answer_id":47420056,"question_id":35065468,"body_markdown":"I had exactly same problem when using e(fx)clipse 3.0. In my situation, changing to version 2.4 helped to fix solution with creating new JavaFX projects (it generates .java, .fxml and .css files automatically now) and with adding files to existing projects. Just uninstall 3.0 and try 2.4","title":"Cannot create FXML file in JavaFX project in Eclipse","body":"<p>I had exactly same problem when using e(fx)clipse 3.0. In my situation, changing to version 2.4 helped to fix solution with creating new JavaFX projects (it generates .java, .fxml and .css files automatically now) and with adding files to existing projects. Just uninstall 3.0 and try 2.4</p>\n"},{"tags":[],"owner":{"account_id":17869184,"reputation":751,"user_id":12980862,"display_name":"ABDELLATIF ANAFLOUS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591581114,"creation_date":1591581114,"answer_id":62253842,"question_id":35065468,"body_markdown":"Hello I fixed the problem for my case, it was by right click on the project name &gt; Build and Path &gt; Add libraries &gt; User libraries then click on next select your JavaFX libraries .\r\n\r\ni suggest to watch this video :\r\nhttps://www.youtube.com/watch?v=oVn6_2KuYbM&amp;t=334s","title":"Cannot create FXML file in JavaFX project in Eclipse","body":"<p>Hello I fixed the problem for my case, it was by right click on the project name > Build and Path > Add libraries > User libraries then click on next select your JavaFX libraries .</p>\n\n<p>i suggest to watch this video :\n<a href=\"https://www.youtube.com/watch?v=oVn6_2KuYbM&amp;t=334s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=oVn6_2KuYbM&amp;t=334s</a></p>\n"},{"tags":[],"owner":{"account_id":16935041,"reputation":1,"user_id":12248269,"display_name":"Habib Mh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610119362,"creation_date":1610094744,"answer_id":65625668,"question_id":35065468,"body_markdown":"You can resolve this by right click in `your project -&gt; Build Path-&gt; Add external archives`\r\nThen select the path of scene builder like this `C:\\Program Files (x86)\\Oracle\\JavaFX Scene Builder 2.0\\runtime\\jre\\lib\\ext`. In this path now select `jfxrt.jar` and it&#39;s done.\r\n","title":"Cannot create FXML file in JavaFX project in Eclipse","body":"<p>You can resolve this by right click in <code>your project -&gt; Build Path-&gt; Add external archives</code>\nThen select the path of scene builder like this <code>C:\\Program Files (x86)\\Oracle\\JavaFX Scene Builder 2.0\\runtime\\jre\\lib\\ext</code>. In this path now select <code>jfxrt.jar</code> and it's done.</p>\n"}],"owner":{"account_id":6637184,"reputation":7560,"user_id":5124009,"accept_rate":100,"display_name":"Kas Elvirov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16665,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":35552096,"answer_count":6,"score":4,"last_activity_date":1686189067,"creation_date":1453994783,"question_id":35065468,"body_markdown":"OS: Ubuntu 14.04.&lt;br&gt;\r\nIDE: (Eclipse Mars.1 Release (4.5.1)) and Scene builder 2.\r\n&lt;hr&gt;\r\nI can&#39;t choose root element because as I understand it should be done.&lt;br&gt;\r\nThis window I see when creating a file.\r\n[![enter image description here][1]][1]\r\n\r\n&lt;hr&gt;\r\nMaybe I incorrectly set the path to my Scene Builder executable.&lt;br&gt;\r\n[![enter image description here][2]][2]\r\n\r\nHow to solving this problem?&lt;br&gt;\r\nI did everything according to [instructions][3].\r\n&lt;hr&gt;Update 1: Not yet solved the problem, I&#39;ll use the [Idea IDE][4]\r\n&lt;hr&gt;Update 2: Now i use Netbeans with JDK from ORACLE [website][5]. I chose the easiest way.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/V08BE.png\r\n  [2]: http://i.stack.imgur.com/VMYUg.png\r\n  [3]: http://docs.oracle.com/javase/8/scene-builder-2/installation-guide/jfxsb-installation_2_0.htm\r\n  [4]: https://www.jetbrains.com/idea/help/preparing-for-javafx-application-development.html\r\n  [5]: http://www.oracle.com/technetwork/developer-tools/netbeans/downloads/index.html","title":"Cannot create FXML file in JavaFX project in Eclipse","body":"<p>OS: Ubuntu 14.04.<br>\nIDE: (Eclipse Mars.1 Release (4.5.1)) and Scene builder 2.\n<hr>\nI can't choose root element because as I understand it should be done.<br>\nThis window I see when creating a file.\n<a href=\"https://i.stack.imgur.com/V08BE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V08BE.png\" alt=\"enter image description here\"></a></p>\n\n<p><hr>\nMaybe I incorrectly set the path to my Scene Builder executable.<br>\n<a href=\"https://i.stack.imgur.com/VMYUg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VMYUg.png\" alt=\"enter image description here\"></a></p>\n\n<p>How to solving this problem?<br>\nI did everything according to <a href=\"http://docs.oracle.com/javase/8/scene-builder-2/installation-guide/jfxsb-installation_2_0.htm\" rel=\"nofollow noreferrer\">instructions</a>.\n<hr>Update 1: Not yet solved the problem, I'll use the <a href=\"https://www.jetbrains.com/idea/help/preparing-for-javafx-application-development.html\" rel=\"nofollow noreferrer\">Idea IDE</a>\n<hr>Update 2: Now i use Netbeans with JDK from ORACLE <a href=\"http://www.oracle.com/technetwork/developer-tools/netbeans/downloads/index.html\" rel=\"nofollow noreferrer\">website</a>. I chose the easiest way.</p>\n"},{"tags":["java","ajax","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686130023,"post_id":76421755,"comment_id":134755645,"body_markdown":"You should read the complete error. The part you have cited is not the full error.","body":"You should read the complete error. The part you have cited is not the full error."},{"owner":{"account_id":25728102,"reputation":11,"user_id":19484075,"display_name":"v k"},"score":0,"creation_date":1686132068,"post_id":76421755,"comment_id":134756043,"body_markdown":"It shows this line caused the error in the BaseController..     \t                                                      @ModelAttribute(value = &quot;user&quot;)\n\t  protected Jwt getUserInfo() {\n\t    Authentication auth = SecurityContextHolder\n\t      .getContext()\n\t      .getAuthentication();\n\t    Jwt oidcUser = (Jwt) auth.getPrincipal();\n\t    return oidcUser;\n\t  }","body":"It shows this line caused the error in the BaseController..     \t                                                      @ModelAttribute(value = &quot;user&quot;) \t  protected Jwt getUserInfo() { \t    Authentication auth = SecurityContextHolder \t      .getContext() \t      .getAuthentication(); \t    Jwt oidcUser = (Jwt) auth.getPrincipal(); \t    return oidcUser; \t  }"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686132468,"post_id":76421755,"comment_id":134756124,"body_markdown":"Every exception has a type. Which type does your exception have? Then, if the printout is like `SomeException: …`, every thing after the colon is the exception message. It did not start with the first `(`. I could guess that you have a `ClassCastException` but why should I? Do we really expect to much when we expect a *complete exception* and not just some arbitrary fragment of it?","body":"Every exception has a type. Which type does your exception have? Then, if the printout is like <code>SomeException: …</code>, every thing after the colon is the exception message. It did not start with the first <code>(</code>. I could guess that you have a <code>ClassCastException</code> but why should I? Do we really expect to much when we expect a <i>complete exception</i> and not just some arbitrary fragment of it?"},{"owner":{"account_id":25728102,"reputation":11,"user_id":19484075,"display_name":"v k"},"score":0,"creation_date":1686132920,"post_id":76421755,"comment_id":134756217,"body_markdown":"I get the error like this \nclass java.lang.String cannot be cast to class org.springframework.security.oauth2.jwt.Jwt (java.lang.String is in module java.base of loader &#39;bootstrap&#39;; org.springframework.security.oauth2.jwt.Jwt is in unnamed module of loader &#39;app&#39;)","body":"I get the error like this  class java.lang.String cannot be cast to class org.springframework.security.oauth2.jwt.Jwt (java.lang.String is in module java.base of loader &#39;bootstrap&#39;; org.springframework.security.oauth2.jwt.Jwt is in unnamed module of loader &#39;app&#39;)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686134194,"post_id":76421755,"comment_id":134756467,"body_markdown":"Don’t write that in a comment. As said, include the full exception. In the question. And post the relevant code that produces the exception. Again *in the question*. I don’t see the code of [this comment](https://stackoverflow.com/questions/76421755/java-lang-string-is-in-module-java-base-of-loader-bootstrap-org-springframew#comment134756043_76421755) anywhere in the question.","body":"Don’t write that in a comment. As said, include the full exception. In the question. And post the relevant code that produces the exception. Again <i>in the question</i>. I don’t see the code of <a href=\"https://stackoverflow.com/questions/76421755/java-lang-string-is-in-module-java-base-of-loader-bootstrap-org-springframew#comment134756043_76421755\">this comment</a> anywhere in the question."},{"owner":{"account_id":25728102,"reputation":11,"user_id":19484075,"display_name":"v k"},"score":1,"creation_date":1686189159,"post_id":76421755,"comment_id":134766248,"body_markdown":"I posted the errors in the question. This is the error I get now after I click the website. In the website message shows Message class java.lang.String cannot be cast to class org.springframework.security.oauth2.jwt.Jwt (java.lang.String is in module java.base of loader &#39;bootstrap&#39;; org.springframework.security.oauth2.jwt.Jwt is in unnamed module of loader &#39;app&#39;).","body":"I posted the errors in the question. This is the error I get now after I click the website. In the website message shows Message class java.lang.String cannot be cast to class org.springframework.security.oauth2.jwt.Jwt (java.lang.String is in module java.base of loader &#39;bootstrap&#39;; org.springframework.security.oauth2.jwt.Jwt is in unnamed module of loader &#39;app&#39;)."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686207522,"post_id":76421755,"comment_id":134768158,"body_markdown":"The code containing the `getPrincipal()` call and the problematic type cast still is not contained in the question. And instead of adding the `ClassCastException` of your question, you posted an entirely different `AccessDeniedException`. Are you serious?","body":"The code containing the <code>getPrincipal()</code> call and the problematic type cast still is not contained in the question. And instead of adding the <code>ClassCastException</code> of your question, you posted an entirely different <code>AccessDeniedException</code>. Are you serious?"},{"owner":{"account_id":25728102,"reputation":11,"user_id":19484075,"display_name":"v k"},"score":0,"creation_date":1686212234,"post_id":76421755,"comment_id":134768984,"body_markdown":"Sorry, I&#39;m newbie for Java and in the console, it starts with this error.. I try find ClassCastException in the console but haven&#39;t find any related to ClassCastException.","body":"Sorry, I&#39;m newbie for Java and in the console, it starts with this error.. I try find ClassCastException in the console but haven&#39;t find any related to ClassCastException."}],"owner":{"account_id":25728102,"reputation":11,"user_id":19484075,"display_name":"v k"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1780,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686189031,"creation_date":1686129728,"question_id":76421755,"body_markdown":"[1] the errors pic\r\n\r\nWhen I run the spring boot application, I get this error, (java.lang.String is in module java.base of loader &#39;bootstrap&#39;; org.springframework.security.oauth2.jwt.Jwt is in unnamed module of loader &#39;app&#39;). I try to follow other article but still not get the answer.\r\n\r\nI want the html page shows the sharepoint list page in my web page.\r\n\r\n    Controller page\r\n    \r\n    \t@GetMapping(&quot;/leave&quot;)\r\n    \tpublic List&lt;LeaveRequestDetail&gt; leave() throws IOException {\r\n    \t\treturn dao.getAll(getSharepointClient());\r\n    \t}\t\r\n    \t\r\n    Dao page\r\n    public List&lt;LeaveRequestDetail&gt; getAll(\r\n    \r\n            SharepointClient&lt;Request&gt; sharepointClient\r\n          )\r\n            throws IOException {\r\n            JsonElement element = sharepointClient.items(\r\n              leaveDetailService.LEAVES_SITE_NAME,\r\n              leaveDetailService.LEAVE_REQ_LIST_ID\r\n            );\r\n            return _getListFromJsonElement(sharepointClient, element, true, false);\r\n          }\r\n\r\n    Controller page\r\n      public interface LeaveRequestDetailRepo extends BaseRepo&lt;LeaveRequestDetail&gt; {\r\n\r\n\tpublic LeaveRequestDetail findById(String id);\r\n\t\r\n\tpublic Optional&lt;LeaveRequestDetail&gt; getById(String id);\r\n\r\n\tpublic List&lt;LeaveRequestDetail&gt; findAll();\r\n\t\r\n\tpublic LeaveRequestDetail deleteById(String id);\r\n\t\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\tpublic LeaveRequestDetail save(LeaveRequestDetail leave);\r\n\r\n\t}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yO1nP.png\r\n\r\nErrors:        \r\norg.springframework.security.access.AccessDeniedException: Access is denied\r\n\tat org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:73) ~[spring-security-core-5.7.5.jar:5.7.5]","title":"(java.lang.String is in module java.base of loader &#39;bootstrap&#39;; org.springframework.security.oauth2.jwt.Jwt is in unnamed module of loader &#39;app&#39;)","body":"<p><a href=\"https://i.stack.imgur.com/yO1nP.png\" rel=\"nofollow noreferrer\">1</a> the errors pic</p>\n<p>When I run the spring boot application, I get this error, (java.lang.String is in module java.base of loader 'bootstrap'; org.springframework.security.oauth2.jwt.Jwt is in unnamed module of loader 'app'). I try to follow other article but still not get the answer.</p>\n<p>I want the html page shows the sharepoint list page in my web page.</p>\n<pre><code>Controller page\n\n    @GetMapping(&quot;/leave&quot;)\n    public List&lt;LeaveRequestDetail&gt; leave() throws IOException {\n        return dao.getAll(getSharepointClient());\n    }   \n    \nDao page\npublic List&lt;LeaveRequestDetail&gt; getAll(\n\n        SharepointClient&lt;Request&gt; sharepointClient\n      )\n        throws IOException {\n        JsonElement element = sharepointClient.items(\n          leaveDetailService.LEAVES_SITE_NAME,\n          leaveDetailService.LEAVE_REQ_LIST_ID\n        );\n        return _getListFromJsonElement(sharepointClient, element, true, false);\n      }\n\nController page\n  public interface LeaveRequestDetailRepo extends BaseRepo&lt;LeaveRequestDetail&gt; {\n\npublic LeaveRequestDetail findById(String id);\n\npublic Optional&lt;LeaveRequestDetail&gt; getById(String id);\n\npublic List&lt;LeaveRequestDetail&gt; findAll();\n\npublic LeaveRequestDetail deleteById(String id);\n\n@SuppressWarnings(&quot;unchecked&quot;)\npublic LeaveRequestDetail save(LeaveRequestDetail leave);\n\n}\n</code></pre>\n<p>Errors:<br />\norg.springframework.security.access.AccessDeniedException: Access is denied\nat org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:73) ~[spring-security-core-5.7.5.jar:5.7.5]</p>\n"},{"tags":["java","arrays","string","compression","byte"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1686163750,"post_id":76426235,"comment_id":134763062,"body_markdown":"*Now the result[2] elements will be compressed using the following method:* So how do you know that this binary data won&#39;t contain the delimiter? You should probably Base64-encode it","body":"<i>Now the result[2] elements will be compressed using the following method:</i> So how do you know that this binary data won&#39;t contain the delimiter? You should probably Base64-encode it"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":2,"creation_date":1686163757,"post_id":76426235,"comment_id":134763063,"body_markdown":"Compressed data is binary data. No matter if you save it to a file and later load it to a String it will remain binary data. Loading binary data is wrong and will destroy the binary data with a certain probability. so please do never load binary data into a String without proper encoding, e.g. using base64.","body":"Compressed data is binary data. No matter if you save it to a file and later load it to a String it will remain binary data. Loading binary data is wrong and will destroy the binary data with a certain probability. so please do never load binary data into a String without proper encoding, e.g. using base64."},{"owner":{"account_id":1752749,"reputation":1119,"user_id":1601471,"accept_rate":69,"display_name":"Raj"},"score":0,"creation_date":1686163923,"post_id":76426235,"comment_id":134763092,"body_markdown":"Thank you folks! Question is if I Base64 encode the compressed string will it not expand the length of the string?","body":"Thank you folks! Question is if I Base64 encode the compressed string will it not expand the length of the string?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1686163998,"post_id":76426235,"comment_id":134763106,"body_markdown":"Yes it will but it&#39;s a. necessary and b. probably the most compact way","body":"Yes it will but it&#39;s a. necessary and b. probably the most compact way"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686164561,"post_id":76426235,"comment_id":134763221,"body_markdown":"fwiw I just tried it will a text file of high entropy of size c. 1MB and it actually made it larger (text-&gt;gz-&gt;base64). Original size 1026025, final size 1041900. If there&#39;s lots of repetition in your text, is might be worth it","body":"fwiw I just tried it will a text file of high entropy of size c. 1MB and it actually made it larger (text-&gt;gz-&gt;base64). Original size 1026025, final size 1041900. If there&#39;s lots of repetition in your text, is might be worth it"},{"owner":{"account_id":1752749,"reputation":1119,"user_id":1601471,"accept_rate":69,"display_name":"Raj"},"score":0,"creation_date":1686164978,"post_id":76426235,"comment_id":134763300,"body_markdown":"Thank you folks! With Base64 encoding the issue is resolved but the compression takes a beating. As an example; my sample payload was 287 chars, compression made it to 222 chars but Base64 encoding made it 296 chars!!","body":"Thank you folks! With Base64 encoding the issue is resolved but the compression takes a beating. As an example; my sample payload was 287 chars, compression made it to 222 chars but Base64 encoding made it 296 chars!!"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686165059,"post_id":76426235,"comment_id":134763311,"body_markdown":"Yes (see above). You could of course compress the whole thing maybe?","body":"Yes (see above). You could of course compress the whole thing maybe?"},{"owner":{"account_id":1752749,"reputation":1119,"user_id":1601471,"accept_rate":69,"display_name":"Raj"},"score":0,"creation_date":1686165502,"post_id":76426235,"comment_id":134763383,"body_markdown":"It would be a tall task since the pipe delimited string with the payload is written to a journal. If I compress and Base64 encode the whole line then it would make it harder to read for any person. We do write some bash scripts on the journal for maintenance purpose which requires our journal should be human readable. Only payload part is ideal for compression as they can get very huge!","body":"It would be a tall task since the pipe delimited string with the payload is written to a journal. If I compress and Base64 encode the whole line then it would make it harder to read for any person. We do write some bash scripts on the journal for maintenance purpose which requires our journal should be human readable. Only payload part is ideal for compression as they can get very huge!"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686176166,"post_id":76426235,"comment_id":134765131,"body_markdown":"Don&#39;t forget, word-processing files, such as LibreOffice spreadsheets are compressed. You might find that smaller to store","body":"Don&#39;t forget, word-processing files, such as LibreOffice spreadsheets are compressed. You might find that smaller to store"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1686185762,"post_id":76426235,"comment_id":134765996,"body_markdown":"You are using binary data. Is not supposed to be easy to read. You could as well put the base64 strings in a json file if readbility is important.","body":"You are using binary data. Is not supposed to be easy to read. You could as well put the base64 strings in a json file if readbility is important."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686186651,"post_id":76426235,"comment_id":134766049,"body_markdown":"@Raj, to clarify the question.  You want to compress a list of _string_ values, and then add each value to a file, delimited, so that you can later open the file, and decompress each value?","body":"@Raj, to clarify the question.  You want to compress a list of <i>string</i> values, and then add each value to a file, delimited, so that you can later open the file, and decompress each value?"},{"owner":{"account_id":1752749,"reputation":1119,"user_id":1601471,"accept_rate":69,"display_name":"Raj"},"score":0,"creation_date":1686187631,"post_id":76426235,"comment_id":134766122,"body_markdown":"@Reilas basically, I have a string in the format as A|B|HUGE_PAYLOAD|D|E. I need to compress HUGE_PAYLOAD string and append it to the same string. This will result in A|B|HUGE_PAYLOAD_COMPRESSED|D|E. Next I want to store this string in a file. Read it again from the same file. Parse it and decompress the HUGE_PAYLOAD_COMPRESSED to the original HUGE_PAYLOAD","body":"@Reilas basically, I have a string in the format as A|B|HUGE_PAYLOAD|D|E. I need to compress HUGE_PAYLOAD string and append it to the same string. This will result in A|B|HUGE_PAYLOAD_COMPRESSED|D|E. Next I want to store this string in a file. Read it again from the same file. Parse it and decompress the HUGE_PAYLOAD_COMPRESSED to the original HUGE_PAYLOAD"},{"owner":{"account_id":1752749,"reputation":1119,"user_id":1601471,"accept_rate":69,"display_name":"Raj"},"score":0,"creation_date":1686187824,"post_id":76426235,"comment_id":134766145,"body_markdown":"@g00se I realized that I don&#39;t need to Base64 encode it. Because I was already encrypting the payload. The encryption uses AES cryptography resulting in already Base64 encoded string. So basically, the approach was payload -&gt; compression -&gt; encryption -&gt; store it in the file. This resolved my problem.","body":"@g00se I realized that I don&#39;t need to Base64 encode it. Because I was already encrypting the payload. The encryption uses AES cryptography resulting in already Base64 encoded string. So basically, the approach was payload -&gt; compression -&gt; encryption -&gt; store it in the file. This resolved my problem."}],"answers":[{"tags":[],"owner":{"account_id":1752749,"reputation":1119,"user_id":1601471,"accept_rate":69,"display_name":"Raj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686188367,"creation_date":1686188367,"answer_id":76428078,"question_id":76426235,"body_markdown":"A generous thanks to @g00se and @Robert for helping me understand my problem. \r\n\r\nBasically, if you compress a string then it no longer is a text. It becomes a binary. And you cannot store binary as a string. If you do then you might lose some data which will eventually corrupt it. \r\n\r\nTo overcome this, we use Base64 encoding so that there is no data loss. This was explained to me by both @g00se and @Robert.\r\n\r\nIn my case I was using encryption using the AES cryptography which results in Base64 encoded string. So I merely had to take the payload, compress it and then encrypt it. This resulted in what I intended. \r\n\r\nTake a look at this image where I played around with different sets of payload sizes:\r\n[![Image shows for smaller string we lose compression but we get good compression for bigger strings][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Fy1lc.png","title":"Java String read as a byte array","body":"<p>A generous thanks to @g00se and @Robert for helping me understand my problem.</p>\n<p>Basically, if you compress a string then it no longer is a text. It becomes a binary. And you cannot store binary as a string. If you do then you might lose some data which will eventually corrupt it.</p>\n<p>To overcome this, we use Base64 encoding so that there is no data loss. This was explained to me by both @g00se and @Robert.</p>\n<p>In my case I was using encryption using the AES cryptography which results in Base64 encoded string. So I merely had to take the payload, compress it and then encrypt it. This resulted in what I intended.</p>\n<p>Take a look at this image where I played around with different sets of payload sizes:\n<a href=\"https://i.stack.imgur.com/Fy1lc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fy1lc.png\" alt=\"Image shows for smaller string we lose compression but we get good compression for bigger strings\" /></a></p>\n"}],"owner":{"account_id":1752749,"reputation":1119,"user_id":1601471,"accept_rate":69,"display_name":"Raj"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686188367,"creation_date":1686163545,"question_id":76426235,"body_markdown":"I have a string in the following format:\r\n\r\n`A|B|A_VERY_LONG_STRING_THAT_WILL_BE_COMPRESSED|C|D`.\r\n\r\nThe above string will be parsed with pipe as a delimiter and stored in some array, let say result\\[\\].\r\n\r\n```\r\nresult[0]=A;\r\nresult[1]=B;\r\nresult[2]=A_VERY_LONG_STRING_THAT_WILL_BE_COMPRESSED;\r\nresult[3]=C;\r\nresult[4]=D\r\n````\r\n\r\nNow the result[2] elements will be compressed using the following method:\r\n\r\n```\r\npublic static byte[] compressUsingStream(String payload) {\r\n\r\n        try (ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n             GZIPOutputStream gzipOutputStream = new GZIPOutputStream(byteArrayOutputStream)) {\r\n\r\n            gzipOutputStream.write(payload.getBytes(&quot;UTF-8&quot;));\r\n\r\n            gzipOutputStream.finish();\r\n            gzipOutputStream.close();\r\n\r\n            return byteArrayOutputStream.toByteArray();\r\n\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```\r\n\r\nSo something like this:\r\n```\r\nbyte[] compressedPayloadAsBytes = PayloadCompressionDecompression.compressUsingStream(result2);\r\n```\r\n\r\nNext I intend to convert the rest of the elements in the result[] array to byte as well and create another array:\r\n\r\n```\r\nbyte[] finalArray = concatAll(result[0].getBytes(), \r\n&quot;|&quot;.getBytes(), \r\nresult[1].getBytes(), \r\n&quot;|&quot;.getBytes(), \r\ncompressedPayloadAsBytes, \r\n&quot;|&quot;.getBytes(), \r\nresult[3].getBytes(), \r\n&quot;|&quot;.getBytes(), \r\nresult[4].getBytes());\r\n```\r\n\r\nAnd then write the finalArray[] to a file:\r\n\r\n```\r\nPath path = Path.of(file);\r\nFiles.write(path, finalArray);\r\n```\r\n\r\nI want to read the same data from the file which I will do as follows:\r\n\r\n```\r\nbyte[]  allBytesFromFile = Files.readAllBytes(path);\r\nString recordWithCompressedPayload = new String(allBytesFromFile);\r\n````\r\n\r\nI separate the compressed payload as follows:\r\n\r\n```\r\nint payloadStart = StringUtils.ordinalIndexOf(recordWithCompressedPayload, &quot;|&quot;, 2);\r\nint payloadEnd = StringUtils.lastOrdinalIndexOf(recordWithCompressedPayload, &quot;|&quot;, 2);\r\n\r\nString compressedPayloadAsStr = recordWithCompressedPayload.substring(payloadStart+1, payloadEnd);\r\n```\r\n\r\nNow when I pass the `compressedPayloadAsStr` to a decompression method I get `java.lang.RuntimeException: java.util.zip.ZipException: Not in GZIP format`\r\n\r\nMy decompression method is as follows:\r\n```\r\npublic static String deCompressUsingStream(byte[] compressedPayload) {\r\n\r\n        try (GZIPInputStream gzipInputStream = new GZIPInputStream(new ByteArrayInputStream(compressedPayload))) {\r\n\r\n            final StringWriter stringWriter = new StringWriter();\r\n            IOUtils.copy(gzipInputStream, stringWriter, UTF_8);\r\n            gzipInputStream.close();\r\n            return stringWriter.toString();\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```\r\n\r\nCall to the above method is `PayloadCompressionDecompression.deCompressUsingStream(compressedPayloadAsStr.getBytes())`\r\n\r\nCan someone help with me with retrieving my compressed payload from the file and passing it correctly to the `deCompressUsingStream()` method?","title":"Java String read as a byte array","body":"<p>I have a string in the following format:</p>\n<p><code>A|B|A_VERY_LONG_STRING_THAT_WILL_BE_COMPRESSED|C|D</code>.</p>\n<p>The above string will be parsed with pipe as a delimiter and stored in some array, let say result[].</p>\n<pre><code>result[0]=A;\nresult[1]=B;\nresult[2]=A_VERY_LONG_STRING_THAT_WILL_BE_COMPRESSED;\nresult[3]=C;\nresult[4]=D\n</code></pre>\n<p>Now the result[2] elements will be compressed using the following method:</p>\n<pre><code>public static byte[] compressUsingStream(String payload) {\n\n        try (ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n             GZIPOutputStream gzipOutputStream = new GZIPOutputStream(byteArrayOutputStream)) {\n\n            gzipOutputStream.write(payload.getBytes(&quot;UTF-8&quot;));\n\n            gzipOutputStream.finish();\n            gzipOutputStream.close();\n\n            return byteArrayOutputStream.toByteArray();\n\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>So something like this:</p>\n<pre><code>byte[] compressedPayloadAsBytes = PayloadCompressionDecompression.compressUsingStream(result2);\n</code></pre>\n<p>Next I intend to convert the rest of the elements in the result[] array to byte as well and create another array:</p>\n<pre><code>byte[] finalArray = concatAll(result[0].getBytes(), \n&quot;|&quot;.getBytes(), \nresult[1].getBytes(), \n&quot;|&quot;.getBytes(), \ncompressedPayloadAsBytes, \n&quot;|&quot;.getBytes(), \nresult[3].getBytes(), \n&quot;|&quot;.getBytes(), \nresult[4].getBytes());\n</code></pre>\n<p>And then write the finalArray[] to a file:</p>\n<pre><code>Path path = Path.of(file);\nFiles.write(path, finalArray);\n</code></pre>\n<p>I want to read the same data from the file which I will do as follows:</p>\n<pre><code>byte[]  allBytesFromFile = Files.readAllBytes(path);\nString recordWithCompressedPayload = new String(allBytesFromFile);\n</code></pre>\n<p>I separate the compressed payload as follows:</p>\n<pre><code>int payloadStart = StringUtils.ordinalIndexOf(recordWithCompressedPayload, &quot;|&quot;, 2);\nint payloadEnd = StringUtils.lastOrdinalIndexOf(recordWithCompressedPayload, &quot;|&quot;, 2);\n\nString compressedPayloadAsStr = recordWithCompressedPayload.substring(payloadStart+1, payloadEnd);\n</code></pre>\n<p>Now when I pass the <code>compressedPayloadAsStr</code> to a decompression method I get <code>java.lang.RuntimeException: java.util.zip.ZipException: Not in GZIP format</code></p>\n<p>My decompression method is as follows:</p>\n<pre><code>public static String deCompressUsingStream(byte[] compressedPayload) {\n\n        try (GZIPInputStream gzipInputStream = new GZIPInputStream(new ByteArrayInputStream(compressedPayload))) {\n\n            final StringWriter stringWriter = new StringWriter();\n            IOUtils.copy(gzipInputStream, stringWriter, UTF_8);\n            gzipInputStream.close();\n            return stringWriter.toString();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>Call to the above method is <code>PayloadCompressionDecompression.deCompressUsingStream(compressedPayloadAsStr.getBytes())</code></p>\n<p>Can someone help with me with retrieving my compressed payload from the file and passing it correctly to the <code>deCompressUsingStream()</code> method?</p>\n"},{"tags":["java","xml-parsing","adapter","hana","mts"],"comments":[{"owner":{"account_id":1056207,"reputation":1915,"user_id":1058846,"accept_rate":69,"display_name":"Gal Appelbaum"},"score":0,"creation_date":1686053408,"post_id":76409084,"comment_id":134743689,"body_markdown":"This shouldnt be your place to start my friend. This should be the place you come after you did homework, research and have a specific direction we can help you with... to &quot;find you a direction&quot; you can use google, chatGPT...","body":"This shouldnt be your place to start my friend. This should be the place you come after you did homework, research and have a specific direction we can help you with... to &quot;find you a direction&quot; you can use google, chatGPT..."}],"answers":[{"tags":[],"owner":{"account_id":5246088,"reputation":9998,"user_id":4191767,"display_name":"Lars Br."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686188130,"creation_date":1686188130,"answer_id":76428066,"question_id":76409084,"body_markdown":"This question is very vague and the commentators correctly point out, that there should be more preparation on the OP&#39;s end. \r\n\r\nThe best starting point for that preparation is checking the SAP documentation on developing your own adapters for SDI:\r\n\r\n[Data Provisioning Adapter SDK Guide](https://help.sap.com/docs/HANA_SMART_DATA_INTEGRATION/e974128d984d4bfeaa0c0b582ce24d79/d4b02f02b92a4242a57a6d1a9b84ea7c.html?locale=en-US)\r\n\r\nThis documentation contains examples for how to build, install and use custom SDI adapters.\r\n\r\n","title":"Java Adapter .mts Parsing","body":"<p>This question is very vague and the commentators correctly point out, that there should be more preparation on the OP's end.</p>\n<p>The best starting point for that preparation is checking the SAP documentation on developing your own adapters for SDI:</p>\n<p><a href=\"https://help.sap.com/docs/HANA_SMART_DATA_INTEGRATION/e974128d984d4bfeaa0c0b582ce24d79/d4b02f02b92a4242a57a6d1a9b84ea7c.html?locale=en-US\" rel=\"nofollow noreferrer\">Data Provisioning Adapter SDK Guide</a></p>\n<p>This documentation contains examples for how to build, install and use custom SDI adapters.</p>\n"}],"owner":{"account_id":28759305,"reputation":1,"user_id":22025593,"display_name":"Lazecodces"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1686188130,"creation_date":1685989502,"question_id":76409084,"body_markdown":"I am trying to write an adapter to parse data from an mts file and I don&#39;t know where to start \r\n\r\nthe adapter should create virtual tables with the metadata and filter it whenever it recieves a SQL statement to do so.\r\n\r\nthe mts file raw data has keys for each attribute to tell what type it is.(&quot; for strings, % for numbers ) .","title":"Java Adapter .mts Parsing","body":"<p>I am trying to write an adapter to parse data from an mts file and I don't know where to start</p>\n<p>the adapter should create virtual tables with the metadata and filter it whenever it recieves a SQL statement to do so.</p>\n<p>the mts file raw data has keys for each attribute to tell what type it is.(&quot; for strings, % for numbers ) .</p>\n"},{"tags":["java","user-interface"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1686187707,"post_id":76428039,"comment_id":134766128,"body_markdown":"*&quot; I have an error with the &#39;setSelected&#39; method&quot;* - Do you have a compiler error or a runtime error or does it just not work?","body":"<i>&quot; I have an error with the &#39;setSelected&#39; method&quot;</i> - Do you have a compiler error or a runtime error or does it just not work?"},{"owner":{"account_id":28752940,"reputation":1,"user_id":22020583,"display_name":"S3mi_Ko"},"score":0,"creation_date":1686187884,"post_id":76428039,"comment_id":134766152,"body_markdown":"The error just says &#39;cannot find symbol&#39; within netbeans, and it&#39;s a compiler error","body":"The error just says &#39;cannot find symbol&#39; within netbeans, and it&#39;s a compiler error"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1686188067,"post_id":76428039,"comment_id":134766170,"body_markdown":"Sooo, you have a compiler error - which seems like `Priority_Checkbox` isn&#39;t defined within the context of where you&#39;re trying to use it - a [mcve] would go along way to helping understand the context of the issue","body":"Sooo, you have a compiler error - which seems like <code>Priority_Checkbox</code> isn&#39;t defined within the context of where you&#39;re trying to use it - a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would go along way to helping understand the context of the issue"},{"owner":{"account_id":28752940,"reputation":1,"user_id":22020583,"display_name":"S3mi_Ko"},"score":0,"creation_date":1686188476,"post_id":76428039,"comment_id":134766201,"body_markdown":"I&#39;m really sorry, I&#39;m having a hard time trying to find the exact context of this in my code, as the only thing I am referencing is the jCheckbox that is already part of my GUI, if you&#39;d like, I can give the entire method of the Event for the mouseclick, but I am not sure if it would provide much context outside of the error","body":"I&#39;m really sorry, I&#39;m having a hard time trying to find the exact context of this in my code, as the only thing I am referencing is the jCheckbox that is already part of my GUI, if you&#39;d like, I can give the entire method of the Event for the mouseclick, but I am not sure if it would provide much context outside of the error"}],"owner":{"account_id":28752940,"reputation":1,"user_id":22020583,"display_name":"S3mi_Ko"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686187482,"creation_date":1686187482,"question_id":76428039,"body_markdown":"I have this snippet of code here: \r\n\r\n                String priorityCheck = model.getValueAt(row, 5).toString();\r\n            if (priorityCheck.equals(&quot;Priority&quot;))\r\n            {\r\n                Priority_Checkbox.setSelected(true);\r\n            }\r\n\r\nand I am basically trying to get the values of whatever the row has into textfields/checkboxes underneath the table when it is clicked on. However, I have an error with the &#39;setSelected&#39; method, is something else required for a jCheckbox?","title":"setSelected method isn&#39;t working for a jCheckBox","body":"<p>I have this snippet of code here:</p>\n<pre><code>            String priorityCheck = model.getValueAt(row, 5).toString();\n        if (priorityCheck.equals(&quot;Priority&quot;))\n        {\n            Priority_Checkbox.setSelected(true);\n        }\n</code></pre>\n<p>and I am basically trying to get the values of whatever the row has into textfields/checkboxes underneath the table when it is clicked on. However, I have an error with the 'setSelected' method, is something else required for a jCheckbox?</p>\n"},{"tags":["java","h2"],"comments":[{"owner":{"account_id":440421,"reputation":16338,"user_id":829970,"accept_rate":89,"display_name":"Moshe Katz"},"score":1,"creation_date":1686186334,"post_id":76427985,"comment_id":134766032,"body_markdown":"Have you read the [H2 version 2 migration docs](https://www.h2database.com/html/migration-to-v2.html)? The format is *mostly* the same, but there have been some changes. The docs describe how to move from the old format to the new format.","body":"Have you read the <a href=\"https://www.h2database.com/html/migration-to-v2.html\" rel=\"nofollow noreferrer\">H2 version 2 migration docs</a>? The format is <i>mostly</i> the same, but there have been some changes. The docs describe how to move from the old format to the new format."},{"owner":{"account_id":22912940,"reputation":11,"user_id":17049937,"display_name":"Stanja"},"score":0,"creation_date":1686187861,"post_id":76427985,"comment_id":134766149,"body_markdown":"@moshe-katz I have read the doc, but there is about how to convert the existing db to version 2. But I need to create it dinamically.","body":"@moshe-katz I have read the doc, but there is about how to convert the existing db to version 2. But I need to create it dinamically."},{"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"score":0,"creation_date":1686492188,"post_id":76427985,"comment_id":134802802,"body_markdown":"`.h2.db` extension is used by historic PageStore engine, it was removed from H2, you cannot read or write files in that format even with outdated H2 2.0.202.","body":"<code>.h2.db</code> extension is used by historic PageStore engine, it was removed from H2, you cannot read or write files in that format even with outdated H2 2.0.202."}],"owner":{"account_id":22912940,"reputation":11,"user_id":17049937,"display_name":"Stanja"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686187341,"creation_date":1686186115,"question_id":76427985,"body_markdown":"Using H2 version 1.3 my code used to create a new in-file H2 database.\r\nIt was generated by invocation\r\n```\r\ndataSource.getConnection()\r\n```\r\nwhere dataSource URL points to a non-existent file:\r\n```\r\nurl=&#39;jdbc:h2:file:C\\DEV\\test&#39;\r\n```\r\nAs a result a file C\\DEV\\test.h2.db was generated.\r\n\r\nAfter upgrating to H2 version 2.0 the same code generates a file test.mv.db instead.\r\n\r\nI tried to add a parameter `MV_STORE=FALSE` to the url string, then nothing is created.\r\n\r\nDependencies in pom:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n    &lt;version&gt;2.1.1.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    &lt;version&gt;8.0.16&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.202&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.xerial&lt;/groupId&gt;\r\n    &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\r\n    &lt;version&gt;3.28.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nCan you help, how can I create a file in H2 format using version 2.0? ","title":"After migration to H2 version 2.0 can not generate a database in H2 format","body":"<p>Using H2 version 1.3 my code used to create a new in-file H2 database.\nIt was generated by invocation</p>\n<pre><code>dataSource.getConnection()\n</code></pre>\n<p>where dataSource URL points to a non-existent file:</p>\n<pre><code>url='jdbc:h2:file:C\\DEV\\test'\n</code></pre>\n<p>As a result a file C\\DEV\\test.h2.db was generated.</p>\n<p>After upgrating to H2 version 2.0 the same code generates a file test.mv.db instead.</p>\n<p>I tried to add a parameter <code>MV_STORE=FALSE</code> to the url string, then nothing is created.</p>\n<p>Dependencies in pom:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;2.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;8.0.16&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n    &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;version&gt;2.0.202&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.xerial&lt;/groupId&gt;\n    &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;3.28.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Can you help, how can I create a file in H2 format using version 2.0?</p>\n"},{"tags":["java","spring","rest","resttemplate","weather-api"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1685610777,"post_id":76380175,"comment_id":134685248,"body_markdown":"Could it be that you simply should be using a GET instead of POST? Cause the endpoint can be called in browser with GET","body":"Could it be that you simply should be using a GET instead of POST? Cause the endpoint can be called in browser with GET"},{"owner":{"account_id":3004801,"reputation":486,"user_id":2550576,"accept_rate":71,"display_name":"Khanh Luong Van"},"score":0,"creation_date":1685613491,"post_id":76380175,"comment_id":134685848,"body_markdown":"Hi @JAsgarov, I have used method GET, but it same error","body":"Hi @JAsgarov, I have used method GET, but it same error"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1685614105,"post_id":76380175,"comment_id":134685964,"body_markdown":"but rather: *too many* people/apis use (literally:) `User-Agent: (myweatherapp.com, contact@myweatherapp.com)` (instead of reading the &quot;small print&quot;:)","body":"but rather: <i>too many</i> people/apis use (literally:) <code>User-Agent: (myweatherapp.com, contact@myweatherapp.com)</code> (instead of reading the &quot;small print&quot;:)"},{"owner":{"account_id":3004801,"reputation":486,"user_id":2550576,"accept_rate":71,"display_name":"Khanh Luong Van"},"score":1,"creation_date":1685614382,"post_id":76380175,"comment_id":134686025,"body_markdown":"Hi @xerx593, could you comment as answer me ?","body":"Hi @xerx593, could you comment as answer me ?"},{"owner":{"account_id":3004801,"reputation":486,"user_id":2550576,"accept_rate":71,"display_name":"Khanh Luong Van"},"score":0,"creation_date":1685614873,"post_id":76380175,"comment_id":134686119,"body_markdown":"@xerx593: okey, i can waiting for you","body":"@xerx593: okey, i can waiting for you"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1685616521,"post_id":76380175,"comment_id":134686466,"body_markdown":"i *had* also (spring-boot) issues with &quot;Accept: application/geo+json&quot;! ..accept=* much simpler/better!","body":"i <i>had</i> also (spring-boot) issues with &quot;Accept: application/geo+json&quot;! ..accept=* much simpler/better!"},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1685617268,"post_id":76380175,"comment_id":134686620,"body_markdown":"please show exactly how u have used the GET method","body":"please show exactly how u have used the GET method"}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685620336,"creation_date":1685617456,"answer_id":76381234,"question_id":76380175,"body_markdown":"One problem could be:\r\n```\r\nUser-Agent: (myweatherapp.com, contact@myweatherapp.com)\r\n```\r\n..when reading the &quot;Pricing&quot; and &quot;Authentication&quot; sections.\r\n\r\nI could *reproduce the issue immediately* with HTTP POST! (-&gt; 403), so don&#39;t use that (unless API changes).\r\n\r\nHere is the working mvc version with comments:\r\n```\r\n// import java.util.*, org.spr..fr..*\r\n@RestController\r\nstatic class WeatherController {\r\n\t@Autowired\r\n\tRestTemplateBuilder rtplB;\r\n\r\n\t@GetMapping(&quot;/forecast&quot;)\r\n\tpublic Map getForecast() {\r\n\t\t// customize your api call(+response) from here:\r\n\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\theaders.put(&quot;User-Agent&quot;,\r\n\t\t\t\tList.of(UUID.randomUUID().toString(), // &lt;- until API changes\r\n\t\t\t\t\t\t&quot;contact@my.funky.website.com&quot;)); // &lt;- *your* contact, if you like\r\n\t\theaders.setAccept(List.of(MediaType.valueOf(&quot;application/geo+json&quot;)));\r\n\t\tHttpEntity&lt;Void&gt; ent = new HttpEntity&lt;&gt;(headers);\r\n\t\treturn rtplB\r\n\t\t\t\t.build()\r\n\t\t\t\t.exchange(\r\n\t\t\t\t\t\t&quot;https://api.weather.gov/gridpoints/OKX/33,35/forecast&quot;, // customize, parametrize, call dynamically\r\n\t\t\t\t\t\tHttpMethod.GET, // &lt;- POST works not well (-&gt;403), didn&#39;t try the others..\r\n\t\t\t\t\t\tent, // &lt;- request headers (+ body)\r\n\t\t\t\t\t\tMap.class // response type\r\n\t\t\t\t\t\t/* , uriVars/... */\r\n\t\t\t\t).getBody(); // &lt;- returning ResponseEntity directly gave &quot;strange&quot; issues, &quot;referencing&quot; the body performs better (in browser).\r\n\t}\r\n}\r\n```\r\n\r\nHere the webflux version:\r\n```lang-java\r\n@Autowired\r\nWebClient.Builder wcB;\r\n\r\n@GetMapping(&quot;/forecast&quot;)\r\npublic Mono&lt;Map&gt; getForecast(/*...*/) {\r\n\treturn wcB.build()\r\n\t\t\t.get()\r\n\t\t\t.uri(&quot;https://api.weather.gov/gridpoints/OKX/33,35/forecast&quot;)\r\n\t\t\t.headers(\r\n\t\t\t    h -&gt; {\r\n                    h.put(&quot;User-Agent&quot;, List.of(UUID.randomUUID().toString(), &quot;contact@my.funky.website.com&quot;));\r\n                    h.setAccept(List.of(MediaType.valueOf(&quot;application/geo+json&quot;)));\r\n                }\r\n            )\r\n\t\t\t.retrieve().bodyToMono(Map.class);\r\n}\r\n```\r\n\r\n### BTW\r\nI had the &quot;strange issues&quot; (browser loading behavior) only on the mvc version, when directly returning resttemplate response, a &quot;hold of the body&quot; improves/fixes this. And a minimalist version:\r\n```\r\nreturn rtplB.build()\r\n .getForObject(\r\n   &quot;https://api.weather.gov/gridpoints/OKX/33,35/forecast&quot;,\r\n   Map.class\r\n ); // #\r\n```\r\n... &quot;seems to work just fine&quot;.","title":"403 Forbidden: &quot;&lt;HTML&gt;&lt;HEAD&gt;&lt;EOL&gt;&lt;TITLE&gt;Access Denied&lt;/TITLE&gt;&lt;EOL&gt;&lt;/HEAD&gt;&lt;BODY&gt;&lt;EOL&gt;&lt;H1&gt;You don&#39;t have permission to access","body":"<p>One problem could be:</p>\n<pre><code>User-Agent: (myweatherapp.com, contact@myweatherapp.com)\n</code></pre>\n<p>..when reading the &quot;Pricing&quot; and &quot;Authentication&quot; sections.</p>\n<p>I could <em>reproduce the issue immediately</em> with HTTP POST! (-&gt; 403), so don't use that (unless API changes).</p>\n<p>Here is the working mvc version with comments:</p>\n<pre><code>// import java.util.*, org.spr..fr..*\n@RestController\nstatic class WeatherController {\n    @Autowired\n    RestTemplateBuilder rtplB;\n\n    @GetMapping(&quot;/forecast&quot;)\n    public Map getForecast() {\n        // customize your api call(+response) from here:\n        HttpHeaders headers = new HttpHeaders();\n        headers.put(&quot;User-Agent&quot;,\n                List.of(UUID.randomUUID().toString(), // &lt;- until API changes\n                        &quot;contact@my.funky.website.com&quot;)); // &lt;- *your* contact, if you like\n        headers.setAccept(List.of(MediaType.valueOf(&quot;application/geo+json&quot;)));\n        HttpEntity&lt;Void&gt; ent = new HttpEntity&lt;&gt;(headers);\n        return rtplB\n                .build()\n                .exchange(\n                        &quot;https://api.weather.gov/gridpoints/OKX/33,35/forecast&quot;, // customize, parametrize, call dynamically\n                        HttpMethod.GET, // &lt;- POST works not well (-&gt;403), didn't try the others..\n                        ent, // &lt;- request headers (+ body)\n                        Map.class // response type\n                        /* , uriVars/... */\n                ).getBody(); // &lt;- returning ResponseEntity directly gave &quot;strange&quot; issues, &quot;referencing&quot; the body performs better (in browser).\n    }\n}\n</code></pre>\n<p>Here the webflux version:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nWebClient.Builder wcB;\n\n@GetMapping(&quot;/forecast&quot;)\npublic Mono&lt;Map&gt; getForecast(/*...*/) {\n    return wcB.build()\n            .get()\n            .uri(&quot;https://api.weather.gov/gridpoints/OKX/33,35/forecast&quot;)\n            .headers(\n                h -&gt; {\n                    h.put(&quot;User-Agent&quot;, List.of(UUID.randomUUID().toString(), &quot;contact@my.funky.website.com&quot;));\n                    h.setAccept(List.of(MediaType.valueOf(&quot;application/geo+json&quot;)));\n                }\n            )\n            .retrieve().bodyToMono(Map.class);\n}\n</code></pre>\n<h3>BTW</h3>\n<p>I had the &quot;strange issues&quot; (browser loading behavior) only on the mvc version, when directly returning resttemplate response, a &quot;hold of the body&quot; improves/fixes this. And a minimalist version:</p>\n<pre><code>return rtplB.build()\n .getForObject(\n   &quot;https://api.weather.gov/gridpoints/OKX/33,35/forecast&quot;,\n   Map.class\n ); // #\n</code></pre>\n<p>... &quot;seems to work just fine&quot;.</p>\n"}],"owner":{"account_id":3004801,"reputation":486,"user_id":2550576,"accept_rate":71,"display_name":"Khanh Luong Van"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":568,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76381234,"answer_count":1,"score":1,"last_activity_date":1686187187,"creation_date":1685609443,"question_id":76380175,"body_markdown":"I&#39;m using Spring and Rest Template to access and get data json \r\n\r\nthis is my code: \r\n\r\n    @RequestMapping(value = &quot;/api/v1/forecast&quot;, method = RequestMethod.GET)\r\n\t@ResponseBody\r\n\tpublic ResponseEntity&lt;ReturnMessage&gt; getForecast(@RequestParam Map&lt;String, Object&gt; params, ModelMap model) {\t\r\n\t\t\r\n\t    final Logger LOGGER = LoggerFactory.getLogger(ForecastController.class);\r\n\t\t\r\n\t\tReturnMessage message = new ReturnMessage();\r\n\t\tRestTemplate restTemplate = new RestTemplate();\t\t\r\n\t\t\r\n\t\tString url = &quot;https://api.golde.gov&quot;;\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\tSystem.out.println(&quot;loggg=======&quot;);\r\n\t\tLOGGER.info(&quot;link part &quot; + url);\t\t\r\n\t    \t\t\r\n\t\tHttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(jsonObject.toString(), headers);\r\n\t\tString result = restTemplate.postForObject(url, entity, String.class);\r\n\t\t\r\n\t\tSystem.out.println(result);\r\n\t\t\r\n\t\treturn ResponseEntity.ok(message);\r\n\t}\r\n\r\nI have included a ***User-Agent*** header in my request but when i send to request to weather.gov to response an exception error:\r\n\r\n    org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden: &quot;&lt;HTML&gt;&lt;HEAD&gt;&lt;EOL&gt;&lt;TITLE&gt;Access Denied&lt;/TITLE&gt;&lt;EOL&gt;&lt;/HEAD&gt;&lt;BODY&gt;&lt;EOL&gt;&lt;H1&gt;Access Denied&lt;/H1&gt;&lt;EOL&gt; &lt;EOL&gt;You don&#39;t have permission to access &quot;http&amp;#58;&amp;#47;&amp;#47;api&amp;#46;weather&amp;#46;gov&amp;#47;gridpoints&amp;#47;OKX&amp;#47;33&amp;#44;35&amp;#47;forecast&quot; on this server.&lt;P&gt;&lt;EOL&gt;Reference&amp;#32;&amp;#35;18&amp;#46;177c2117&amp;#46;1685609346&amp;#46;4b1d971&lt;EOL&gt;&lt;/BODY&gt;&lt;EOL&gt;&lt;/HTML&gt;&lt;EOL&gt;&quot;\r\n\tat org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:915) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:864) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:764) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.client.RestTemplate.postForObject(RestTemplate.java:481) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat com.forecast.veriserve.controller.ForecastController.getForecast(ForecastController.java:105) ~[classes/:na]\r\n\r\n\r\nHow to fix the problem ? many thank\r\n","title":"403 Forbidden: &quot;&lt;HTML&gt;&lt;HEAD&gt;&lt;EOL&gt;&lt;TITLE&gt;Access Denied&lt;/TITLE&gt;&lt;EOL&gt;&lt;/HEAD&gt;&lt;BODY&gt;&lt;EOL&gt;&lt;H1&gt;You don&#39;t have permission to access","body":"<p>I'm using Spring and Rest Template to access and get data json</p>\n<p>this is my code:</p>\n<pre><code>@RequestMapping(value = &quot;/api/v1/forecast&quot;, method = RequestMethod.GET)\n@ResponseBody\npublic ResponseEntity&lt;ReturnMessage&gt; getForecast(@RequestParam Map&lt;String, Object&gt; params, ModelMap model) {    \n    \n    final Logger LOGGER = LoggerFactory.getLogger(ForecastController.class);\n    \n    ReturnMessage message = new ReturnMessage();\n    RestTemplate restTemplate = new RestTemplate();     \n    \n    String url = &quot;https://api.golde.gov&quot;;\n                                    \n    System.out.println(&quot;loggg=======&quot;);\n    LOGGER.info(&quot;link part &quot; + url);        \n            \n    HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(jsonObject.toString(), headers);\n    String result = restTemplate.postForObject(url, entity, String.class);\n    \n    System.out.println(result);\n    \n    return ResponseEntity.ok(message);\n}\n</code></pre>\n<p>I have included a <em><strong>User-Agent</strong></em> header in my request but when i send to request to weather.gov to response an exception error:</p>\n<pre><code>org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden: &quot;&lt;HTML&gt;&lt;HEAD&gt;&lt;EOL&gt;&lt;TITLE&gt;Access Denied&lt;/TITLE&gt;&lt;EOL&gt;&lt;/HEAD&gt;&lt;BODY&gt;&lt;EOL&gt;&lt;H1&gt;Access Denied&lt;/H1&gt;&lt;EOL&gt; &lt;EOL&gt;You don't have permission to access &quot;http&amp;#58;&amp;#47;&amp;#47;api&amp;#46;weather&amp;#46;gov&amp;#47;gridpoints&amp;#47;OKX&amp;#47;33&amp;#44;35&amp;#47;forecast&quot; on this server.&lt;P&gt;&lt;EOL&gt;Reference&amp;#32;&amp;#35;18&amp;#46;177c2117&amp;#46;1685609346&amp;#46;4b1d971&lt;EOL&gt;&lt;/BODY&gt;&lt;EOL&gt;&lt;/HTML&gt;&lt;EOL&gt;&quot;\nat org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109) ~[spring-web-6.0.9.jar:6.0.9]\nat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183) ~[spring-web-6.0.9.jar:6.0.9]\nat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137) ~[spring-web-6.0.9.jar:6.0.9]\nat org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-6.0.9.jar:6.0.9]\nat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:915) ~[spring-web-6.0.9.jar:6.0.9]\nat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:864) ~[spring-web-6.0.9.jar:6.0.9]\nat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:764) ~[spring-web-6.0.9.jar:6.0.9]\nat org.springframework.web.client.RestTemplate.postForObject(RestTemplate.java:481) ~[spring-web-6.0.9.jar:6.0.9]\nat com.forecast.veriserve.controller.ForecastController.getForecast(ForecastController.java:105) ~[classes/:na]\n</code></pre>\n<p>How to fix the problem ? many thank</p>\n"},{"tags":["java","json","spring","spring-boot","rest"],"answers":[{"comments":[{"owner":{"account_id":3004801,"reputation":486,"user_id":2550576,"accept_rate":71,"display_name":"Khanh Luong Van"},"score":0,"creation_date":1685955469,"post_id":76404772,"comment_id":134727759,"body_markdown":"Hi @Irremediable, Yes i want to get json data of &quot;properties.periods&quot;, i need to display forecast weather on jsp file","body":"Hi @Irremediable, Yes i want to get json data of &quot;properties.periods&quot;, i need to display forecast weather on jsp file"},{"owner":{"account_id":3004801,"reputation":486,"user_id":2550576,"accept_rate":71,"display_name":"Khanh Luong Van"},"score":0,"creation_date":1685955907,"post_id":76404772,"comment_id":134727856,"body_markdown":"i have viewed your number 1, but i don&#39;t know how to transfer data to jsp, could you explain more or update your answer ?","body":"i have viewed your number 1, but i don&#39;t know how to transfer data to jsp, could you explain more or update your answer ?"},{"owner":{"account_id":25926563,"reputation":119,"user_id":19648355,"display_name":"Irremediable"},"score":1,"creation_date":1685957341,"post_id":76404772,"comment_id":134728126,"body_markdown":"In both options I described you receive Forecast[] array so you can use functionality you already have to pass it to the template","body":"In both options I described you receive Forecast[] array so you can use functionality you already have to pass it to the template"},{"owner":{"account_id":3004801,"reputation":486,"user_id":2550576,"accept_rate":71,"display_name":"Khanh Luong Van"},"score":0,"creation_date":1685957423,"post_id":76404772,"comment_id":134728142,"body_markdown":"Yes i got it.. i still use List&lt;&gt;","body":"Yes i got it.. i still use List&lt;&gt;"},{"owner":{"account_id":3004801,"reputation":486,"user_id":2550576,"accept_rate":71,"display_name":"Khanh Luong Van"},"score":0,"creation_date":1685957469,"post_id":76404772,"comment_id":134728156,"body_markdown":"How to ignore unknown fields as: probabilityOfPrecipitation, dewpoint, relativeHumidity..","body":"How to ignore unknown fields as: probabilityOfPrecipitation, dewpoint, relativeHumidity.."},{"owner":{"account_id":25926563,"reputation":119,"user_id":19648355,"display_name":"Irremediable"},"score":0,"creation_date":1685957646,"post_id":76404772,"comment_id":134728195,"body_markdown":"@JsonIgnoreProperties(ignoreUnknown = true) on your POJO classes, or\n\nObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);","body":"@JsonIgnoreProperties(ignoreUnknown = true) on your POJO classes, or  ObjectMapper objectMapper = new ObjectMapper(); objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOW&zwnj;&#8203;N_PROPERTIES, false);"},{"owner":{"account_id":3004801,"reputation":486,"user_id":2550576,"accept_rate":71,"display_name":"Khanh Luong Van"},"score":0,"creation_date":1685957977,"post_id":76404772,"comment_id":134728259,"body_markdown":"could you update those your answer ? it will really well for me","body":"could you update those your answer ? it will really well for me"},{"owner":{"account_id":25926563,"reputation":119,"user_id":19648355,"display_name":"Irremediable"},"score":0,"creation_date":1685958375,"post_id":76404772,"comment_id":134728348,"body_markdown":"Added examples in the answer","body":"Added examples in the answer"},{"owner":{"account_id":3004801,"reputation":486,"user_id":2550576,"accept_rate":71,"display_name":"Khanh Luong Van"},"score":0,"creation_date":1685960297,"post_id":76404772,"comment_id":134728745,"body_markdown":"i have ignored unknown fields, by the way, could you update how add json data into List or Map ? i need to transfer list of data to jsp file","body":"i have ignored unknown fields, by the way, could you update how add json data into List or Map ? i need to transfer list of data to jsp file"}],"tags":[],"owner":{"account_id":25926563,"reputation":119,"user_id":19648355,"display_name":"Irremediable"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685958246,"creation_date":1685954665,"answer_id":76404772,"question_id":76403515,"body_markdown":"Your problem is that your json has a complex structure and you are trying to parse its nested part. If I get it correct, you want to deserialize values under &quot;properties.periods&quot; path, so you should change approach you to use.\r\n\r\n\r\n1) Manually walk through the nested structure, reaching the desired path\r\n \r\n\r\n        ResponseEntity&lt;String&gt; responseEntity = restTemplate.getForEntity(&quot;https://api.weather.gov/gridpoints/OKX/33,35/forecast&quot;, String.class);\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        JsonNode properties = objectMapper.readTree(responseEntity.getBody()).get(&quot;properties&quot;);\r\n        JsonNode periods = properties.get(&quot;periods&quot;);\r\n        Forecast[] forecasts = objectMapper.readValue(periods.toString(), Forecast[].class);\r\n\r\n2. Reproduce the response structure with the appropriate nesting of java objects, and deserialize to the parent object (Nested &#39;Properties&#39; class here only for shorteness, you&#39;re good to use simple one instead)\r\n\r\n\r\n        @Data\r\n        public class Response {\r\n        \r\n          private Properties properties;\r\n        \r\n          @Data\r\n          public static class Properties {\r\n            private Forecast[] periods;\r\n          }\r\n        }\r\n\r\n        //\r\n\r\n        ResponseEntity&lt;Response&gt; responseEntity = restTemplate.getForEntity(&quot;https://api.weather.gov/gridpoints/OKX/33,35/forecast&quot;, Response.class);\r\n\r\n\r\nNOTE: In both cases you should take to attention that many fields are absent in desired result, so consider proper configuration to ignore unknown fields.\r\n\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true) \r\non your POJO classes, or \r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n","title":"com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `[]` from Object value (token `JsonToken.START_OBJECT`)","body":"<p>Your problem is that your json has a complex structure and you are trying to parse its nested part. If I get it correct, you want to deserialize values under &quot;properties.periods&quot; path, so you should change approach you to use.</p>\n<ol>\n<li><p>Manually walk through the nested structure, reaching the desired path</p>\n<pre><code> ResponseEntity&lt;String&gt; responseEntity = restTemplate.getForEntity(&quot;https://api.weather.gov/gridpoints/OKX/33,35/forecast&quot;, String.class);\n ObjectMapper objectMapper = new ObjectMapper();\n JsonNode properties = objectMapper.readTree(responseEntity.getBody()).get(&quot;properties&quot;);\n JsonNode periods = properties.get(&quot;periods&quot;);\n Forecast[] forecasts = objectMapper.readValue(periods.toString(), Forecast[].class);\n</code></pre>\n</li>\n</ol>\n<ol start=\"2\">\n<li><p>Reproduce the response structure with the appropriate nesting of java objects, and deserialize to the parent object (Nested 'Properties' class here only for shorteness, you're good to use simple one instead)</p>\n<pre><code> @Data\n public class Response {\n\n   private Properties properties;\n\n   @Data\n   public static class Properties {\n     private Forecast[] periods;\n   }\n }\n\n //\n\n ResponseEntity&lt;Response&gt; responseEntity = restTemplate.getForEntity(&quot;https://api.weather.gov/gridpoints/OKX/33,35/forecast&quot;, Response.class);\n</code></pre>\n</li>\n</ol>\n<p>NOTE: In both cases you should take to attention that many fields are absent in desired result, so consider proper configuration to ignore unknown fields.</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true) \n</code></pre>\n<p>on your POJO classes, or</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n</code></pre>\n"}],"owner":{"account_id":3004801,"reputation":486,"user_id":2550576,"accept_rate":71,"display_name":"Khanh Luong Van"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1882,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76404772,"answer_count":1,"score":0,"last_activity_date":1686187097,"creation_date":1685939773,"question_id":76403515,"body_markdown":"I have tried everything to read the following JSON string, but I still get the below error.\r\nMy JSON string is valid and I think the issue is that the sub element is having problem with the mapping.\r\n\r\nHere is my JSON string:\r\n\r\n    {\r\n    \r\n    &quot;properties&quot;: {\r\n        &quot;updated&quot;: &quot;2023-06-01T07:20:53+00:00&quot;,\r\n        &quot;units&quot;: &quot;us&quot;,\r\n        &quot;forecastGenerator&quot;: &quot;BaselineForecastGenerator&quot;,\r\n        &quot;generatedAt&quot;: &quot;2023-06-01T08:08:29+00:00&quot;,\r\n        &quot;updateTime&quot;: &quot;2023-06-01T07:20:53+00:00&quot;,\r\n        &quot;validTimes&quot;: &quot;2023-06-01T01:00:00+00:00/P7DT11H&quot;,\r\n        &quot;elevation&quot;: {\r\n            &quot;unitCode&quot;: &quot;wmoUnit:m&quot;,\r\n            &quot;value&quot;: 2.1335999999999999      \r\n    }\r\n    }\r\n\r\n**My Java POJO**\r\n\r\n    @JsonIgnoreProperties\r\n    public class Forecast {\r\n    \r\n    private int number;\r\n    private String name;\r\n    private String startTime;\r\n    private String endTime;\r\n    \r\n    public int getNumber() {\r\n    \treturn number;\r\n    }\r\n    \r\n    public void setNumber(int number) {\r\n    \tthis.number = number;\r\n    }\r\n    \r\n    public String getName() {\r\n    \treturn name;\r\n    }\r\n    \r\n    public void setName(String name) {\r\n    \tthis.name = name;\r\n    }\r\n    \r\n    public String getStartTime() {\r\n    \treturn startTime;\r\n    }\r\n    \r\n    public void setStartTime(String startTime) {\r\n    \tthis.startTime = startTime;\r\n    }\r\n    \r\n    public String getEndTime() {\r\n    \treturn endTime;\r\n    }\r\n    \r\n    public void setEndTime(String endTime) {\r\n    \tthis.endTime = endTime;\r\n    }\r\n    }\r\n\r\n**This is my controller**\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/test&quot;)\r\n    public class ConsumeController {\r\n\r\n\tRestTemplate restTemplate = new RestTemplate();\r\n\t\r\n\t@RequestMapping(&quot;/show&quot;)\r\n\tpublic ModelAndView showForecast() {\r\n\t\t\r\n\t\tModelAndView mv = new ModelAndView();\r\n\t\tmv.setViewName(&quot;show&quot;);\r\n\t\t\r\n\t\tResponseEntity&lt;Forecast[]&gt; responseEntity = restTemplate.getForEntity(&quot;https://api.golde.gov&quot;, Forecast[].class);\r\n\t\tForecast[] responseBody = responseEntity.getBody();\t\t\r\n\t\t\r\n\t\tList&lt;Forecast&gt; allForeCast = Arrays.asList(responseBody);\r\n\t\tmv.addObject(&quot;myjson&quot;, allForeCast);\r\n\t\t\r\n\t\tSystem.out.println(&quot;data: &quot; + allForeCast);\r\n\t\t\r\n\t\treturn mv;\r\n\t}\t\r\n    }\r\n\r\nMy JSP:\r\n    \r\n    &lt;p&gt;List data: &lt;/p&gt;\r\n    &lt;c:forEach items=&quot;${myjson}&quot; var=&quot;myjson&quot;&gt;     \r\n\t\t   \t&lt;td&gt;${myjson.name}&lt;/td&gt;\r\n   \t\t\t&lt;td&gt;${myjson.startTime}&lt;/td&gt;\t\t\r\n\t&lt;/c:forEach&gt;\r\n    \r\n**Logger error:**\r\n\r\n    com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `[Lcom.forecast.model.Forecast;` from Object value (token `JsonToken.START_OBJECT`)\r\n     at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 1]\r\n     at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59) ~[jackson-databind-2.15.0.jar:2.15.0]\r\n     at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1752) ~[jackson-databind-2.15.0.jar:2.15.0]\r\n     at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1526) ~[jackson-databind-2.15.0.jar:2.15.0]\r\n     at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1473) ~[jackson-databind-2.15.0.jar:2.15.0]\r\n\r\nHow to fix them problem? many thank      \r\n\r\n","title":"com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `[]` from Object value (token `JsonToken.START_OBJECT`)","body":"<p>I have tried everything to read the following JSON string, but I still get the below error.\nMy JSON string is valid and I think the issue is that the sub element is having problem with the mapping.</p>\n<p>Here is my JSON string:</p>\n<pre><code>{\n\n&quot;properties&quot;: {\n    &quot;updated&quot;: &quot;2023-06-01T07:20:53+00:00&quot;,\n    &quot;units&quot;: &quot;us&quot;,\n    &quot;forecastGenerator&quot;: &quot;BaselineForecastGenerator&quot;,\n    &quot;generatedAt&quot;: &quot;2023-06-01T08:08:29+00:00&quot;,\n    &quot;updateTime&quot;: &quot;2023-06-01T07:20:53+00:00&quot;,\n    &quot;validTimes&quot;: &quot;2023-06-01T01:00:00+00:00/P7DT11H&quot;,\n    &quot;elevation&quot;: {\n        &quot;unitCode&quot;: &quot;wmoUnit:m&quot;,\n        &quot;value&quot;: 2.1335999999999999      \n}\n}\n</code></pre>\n<p><strong>My Java POJO</strong></p>\n<pre><code>@JsonIgnoreProperties\npublic class Forecast {\n\nprivate int number;\nprivate String name;\nprivate String startTime;\nprivate String endTime;\n\npublic int getNumber() {\n    return number;\n}\n\npublic void setNumber(int number) {\n    this.number = number;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic String getStartTime() {\n    return startTime;\n}\n\npublic void setStartTime(String startTime) {\n    this.startTime = startTime;\n}\n\npublic String getEndTime() {\n    return endTime;\n}\n\npublic void setEndTime(String endTime) {\n    this.endTime = endTime;\n}\n}\n</code></pre>\n<p><strong>This is my controller</strong></p>\n<pre><code>@Controller\n@RequestMapping(&quot;/test&quot;)\npublic class ConsumeController {\n\nRestTemplate restTemplate = new RestTemplate();\n\n@RequestMapping(&quot;/show&quot;)\npublic ModelAndView showForecast() {\n    \n    ModelAndView mv = new ModelAndView();\n    mv.setViewName(&quot;show&quot;);\n    \n    ResponseEntity&lt;Forecast[]&gt; responseEntity = restTemplate.getForEntity(&quot;https://api.golde.gov&quot;, Forecast[].class);\n    Forecast[] responseBody = responseEntity.getBody();     \n    \n    List&lt;Forecast&gt; allForeCast = Arrays.asList(responseBody);\n    mv.addObject(&quot;myjson&quot;, allForeCast);\n    \n    System.out.println(&quot;data: &quot; + allForeCast);\n    \n    return mv;\n}   \n}\n</code></pre>\n<p>My JSP:</p>\n<pre><code>&lt;p&gt;List data: &lt;/p&gt;\n&lt;c:forEach items=&quot;${myjson}&quot; var=&quot;myjson&quot;&gt;     \n        &lt;td&gt;${myjson.name}&lt;/td&gt;\n        &lt;td&gt;${myjson.startTime}&lt;/td&gt;        \n&lt;/c:forEach&gt;\n</code></pre>\n<p><strong>Logger error:</strong></p>\n<pre><code>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `[Lcom.forecast.model.Forecast;` from Object value (token `JsonToken.START_OBJECT`)\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 1]\n at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59) ~[jackson-databind-2.15.0.jar:2.15.0]\n at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1752) ~[jackson-databind-2.15.0.jar:2.15.0]\n at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1526) ~[jackson-databind-2.15.0.jar:2.15.0]\n at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1473) ~[jackson-databind-2.15.0.jar:2.15.0]\n</code></pre>\n<p>How to fix them problem? many thank</p>\n"},{"tags":["java","json","spring","spring-boot","jsp"],"answers":[{"comments":[{"owner":{"account_id":3004801,"reputation":486,"user_id":2550576,"accept_rate":71,"display_name":"Khanh Luong Van"},"score":0,"creation_date":1686026256,"post_id":76411316,"comment_id":134738997,"body_markdown":"Hi @Phat Nguyen: i have try your suggest, but it happen an error: java.lang.NumberFormatException: For input string: &quot;number&quot;\nCould you check again ?","body":"Hi @Phat Nguyen: i have try your suggest, but it happen an error: java.lang.NumberFormatException: For input string: &quot;number&quot; Could you check again ?"},{"owner":{"account_id":28761592,"reputation":1,"user_id":22027370,"display_name":"Phat Nguyen"},"score":0,"creation_date":1686034252,"post_id":76411316,"comment_id":134739868,"body_markdown":"Hi @KhanhLuongVan, I can run successfully with the backend code, the error must come from JSP. Can you provide github link to your source code?","body":"Hi @KhanhLuongVan, I can run successfully with the backend code, the error must come from JSP. Can you provide github link to your source code?"},{"owner":{"account_id":3004801,"reputation":486,"user_id":2550576,"accept_rate":71,"display_name":"Khanh Luong Van"},"score":0,"creation_date":1686034629,"post_id":76411316,"comment_id":134739936,"body_markdown":"Thank @Phat Nguyen: i only run on my local, and not use git for this, can you send to me your code you run success ? send to my email: khanh.luongvan.app@gmail.com","body":"Thank @Phat Nguyen: i only run on my local, and not use git for this, can you send to me your code you run success ? send to my email: khanh.luongvan.app@gmail.com"},{"owner":{"account_id":3004801,"reputation":486,"user_id":2550576,"accept_rate":71,"display_name":"Khanh Luong Van"},"score":0,"creation_date":1686035254,"post_id":76411316,"comment_id":134740050,"body_markdown":"Or could you updated your code in answer ? include jsp file","body":"Or could you updated your code in answer ? include jsp file"}],"tags":[],"owner":{"account_id":28761592,"reputation":1,"user_id":22027370,"display_name":"Phat Nguyen"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686023136,"creation_date":1686023136,"answer_id":76411316,"question_id":76411192,"body_markdown":"I found the problem in your code, this block\r\n```java\r\nfor (final JsonNode objNode : periods) {\r\n            System.out.println(objNode);                                \r\n            result = objectMapper.convertValue(objNode, new TypeReference&lt;Map&lt;String, Object&gt;&gt;(){});                \r\n}       \r\n```\r\nyou set the result variable value to the latest element of periods array. That&#39;s why you only received one record in result map. To fix that, you can change the result variable to List&lt;Map&lt;String, Object&gt;&gt;. For example\r\n```\r\nList&lt;Map&lt;String, Object&gt;&gt; result = new ArrayList&lt;&gt;();\r\n```\r\nand in the for loop\r\n```java\r\nfor (final JsonNode objNode : periods) {\r\n            System.out.println(objNode);                                \r\n            result.add(objectMapper.convertValue(objNode, new TypeReference&lt;Map&lt;String, Object&gt;&gt;(){}));                \r\n}    \r\n```\r\n","title":"How to get all elements in arrays type Map and send to JSP file by JSTL in Spring","body":"<p>I found the problem in your code, this block</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (final JsonNode objNode : periods) {\n            System.out.println(objNode);                                \n            result = objectMapper.convertValue(objNode, new TypeReference&lt;Map&lt;String, Object&gt;&gt;(){});                \n}       \n</code></pre>\n<p>you set the result variable value to the latest element of periods array. That's why you only received one record in result map. To fix that, you can change the result variable to List&lt;Map&lt;String, Object&gt;&gt;. For example</p>\n<pre><code>List&lt;Map&lt;String, Object&gt;&gt; result = new ArrayList&lt;&gt;();\n</code></pre>\n<p>and in the for loop</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (final JsonNode objNode : periods) {\n            System.out.println(objNode);                                \n            result.add(objectMapper.convertValue(objNode, new TypeReference&lt;Map&lt;String, Object&gt;&gt;(){}));                \n}    \n</code></pre>\n"}],"owner":{"account_id":3004801,"reputation":486,"user_id":2550576,"accept_rate":71,"display_name":"Khanh Luong Van"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686186924,"creation_date":1686020599,"question_id":76411192,"body_markdown":"I have a JSON attribute&#39;s value in Java, I can get the value properly but I couldn&#39;t send to JSP file..\r\n\r\n**My JSON:**\r\n\r\n     periods =  \r\n     {&quot;number&quot;:1,&quot;name&quot;:&quot;Tonight&quot;,&quot;startTime&quot;:&quot;2023-06-05T22:00:00-04:00&quot;,&quot;endTime&quot;:&quot;2023-06-06T06:00:00-04:00&quot;,&quot;isDaytime&quot;:false,&quot;temperature&quot;:63,&quot;temperatureUnit&quot;:&quot;F&quot;,&quot;temperatureTrend&quot;:&quot;rising&quot;,&quot;probabilityOfPrecipitation&quot;:{&quot;unitCode&quot;:&quot;wmoUnit:percent&quot;,&quot;value&quot;:null},&quot;dewpoint&quot;:{&quot;unitCode&quot;:&quot;wmoUnit:degC&quot;,&quot;value&quot;:8.333333333333334},&quot;relativeHumidity&quot;:{&quot;unitCode&quot;:&quot;wmoUnit:percent&quot;,&quot;value&quot;:50},&quot;windSpeed&quot;:&quot;9 mph&quot;,&quot;windDirection&quot;:&quot;NW&quot;,&quot;icon&quot;:&quot;https://api.weather.gov/icons/land/night/sct?size=medium&quot;,&quot;shortForecast&quot;:&quot;Partly Cloudy&quot;,&quot;detailedForecast&quot;:&quot;Partly cloudy. Low around 63, with temperatures rising to around 65 overnight. Northwest wind around 9 mph.&quot;}\r\n     {&quot;number&quot;:2,&quot;name&quot;:&quot;Tuesday&quot;,&quot;startTime&quot;:&quot;2023-06-06T06:00:00-04:00&quot;,&quot;endTime&quot;:&quot;2023-06-06T18:00:00-04:00&quot;,&quot;isDaytime&quot;:true,&quot;temperature&quot;:76,&quot;temperatureUnit&quot;:&quot;F&quot;,&quot;temperatureTrend&quot;:null,&quot;probabilityOfPrecipitation&quot;:{&quot;unitCode&quot;:&quot;wmoUnit:percent&quot;,&quot;value&quot;:40},&quot;dewpoint&quot;:{&quot;unitCode&quot;:&quot;wmoUnit:degC&quot;,&quot;value&quot;:10},&quot;relativeHumidity&quot;:{&quot;unitCode&quot;:&quot;wmoUnit:percent&quot;,&quot;value&quot;:52},&quot;windSpeed&quot;:&quot;7 to 15 mph&quot;,&quot;windDirection&quot;:&quot;NW&quot;,&quot;icon&quot;:&quot;https://api.weather.gov/icons/land/day/tsra_hi,40?size=medium&quot;,&quot;shortForecast&quot;:&quot;Haze&quot;,&quot;detailedForecast&quot;:&quot;Haze and a chance of rain showers and patchy smoke between 8am and 11am, then haze and patchy smoke and a chance of showers and thunderstorms. Mostly sunny, with a high near 76. Northwest wind 7 to 15 mph. Chance of precipitation is 40%.&quot;}\r\n     \r\n**This is controller:**\r\n\r\n        @RequestMapping(&quot;/show&quot;)\r\n\t    public ModelAndView showForecast(ModelMap model) throws IOException {\r\n\t\t\r\n\t\tModelAndView mv = new ModelAndView();\r\n\t\tmv.setViewName(&quot;show&quot;);\t\t\t\t\r\n\t\t\r\n\t\tResponseEntity&lt;String&gt; responseEntity = restTemplate.getForEntity(&quot;https://api.golde.gov&quot;, String.class);\r\n  \t    ObjectMapper objectMapper = new ObjectMapper();\r\n  \t     \t    \r\n  \t    Map&lt;String, Object&gt; result = new HashMap&lt;String, Object&gt;();\r\n  \t    \t   \r\n  \t    objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n  \t    \t    \r\n\t\tJsonNode properties = objectMapper.readTree(responseEntity.getBody()).get(&quot;properties&quot;);\r\n\t\tJsonNode periods = properties.get(&quot;periods&quot;);\r\n\t\t// Forecast[] forecasts = objectMapper.readValue(periods.toString(), Forecast[].class);\t\t\r\n\t\t\r\n\t\tif (periods.isArray()) {\r\n\t\t\tfor (final JsonNode objNode : periods) {\r\n\t\t\t\tSystem.out.println(objNode);\t\t\t\t\t\t\t\t\r\n\t\t\t\tresult = objectMapper.convertValue(objNode, new TypeReference&lt;Map&lt;String, Object&gt;&gt;(){});\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// mv.addObject(&quot;result&quot;, result);\r\n\t\t\t\r\n\t\t\tmodel.addAttribute(&quot;result&quot;, result);\r\n\t\t}\t\t\r\n\t\treturn mv;\r\n\t   }\r\nI want to send all values to jsp and i used:\r\n\r\n    model.addAttribute(&quot;results&quot;, result);\r\n\r\n**This is JSP file:**\r\n\r\n    &lt;c:forEach items=&quot;${results}&quot; var=&quot;result&quot;&gt;   \r\n\t        &lt;td&gt;${result.number}&lt;/td&gt; &lt;/br&gt;\r\n\t        &lt;td&gt;${result.name}&lt;/td&gt; &lt;/br&gt;\r\n\t        &lt;td&gt;${result.startTime}&lt;/td&gt; &lt;/br&gt;\t        \r\n\t        &lt;td&gt;${result.endTime}&lt;/td&gt; &lt;/br&gt;  \t\t        \r\n\t  \t\t&lt;td&gt;${result.isDaytime}&lt;/td&gt; &lt;/br&gt;\r\n\t  \t\t&lt;td&gt;${result.temperature}&lt;/td&gt; &lt;/br&gt;\t  \t\t\r\n\t  \t\t&lt;td&gt;${result.temperatureUnit}&lt;/td&gt; &lt;/br&gt;\t  \t\t\r\n\t  \t\t&lt;td&gt;${result.temperatureTrend}&lt;/td&gt; &lt;/br&gt;\t  \t\t\r\n\t  \t\t&lt;td&gt;${result.windSpeed}&lt;/td&gt; &lt;/br&gt;\r\n\t  \t\t&lt;td&gt;${result.windDirection}&lt;/td&gt; &lt;/br&gt;\t\t \t\t\t  \t\t\r\n\t  \t\t&lt;img src=&quot;${result.icon}&quot; alt=&quot;Image&quot; height=&quot;50px&quot; width=&quot;50px&quot;&gt;\t  \t\t\r\n\t  \t\t&lt;td&gt;${result.shortForecast}&lt;/td&gt; &lt;/br&gt;\r\n\t  \t\t&lt;td&gt;${result.detailedForecast}&lt;/td&gt; &lt;/br&gt;\t\t\t\r\n\t&lt;/c:forEach&gt;\r\n\r\nHowever when i run i only received 1 row is: \r\n\r\n     {&quot;number&quot;:3,&quot;name&quot;:&quot;Monday&quot;,&quot;startTime&quot;:&quot;2023-06-12T06:00:00-04:00&quot;,&quot;endTime&quot;:&quot;2023-06-12T18:00:00-04:00&quot;,&quot;isDaytime&quot;:true,&quot;temperature&quot;:77,&quot;temperatureUnit&quot;:&quot;F&quot;,&quot;temperatureTrend&quot;:null,&quot;probabilityOfPrecipitation&quot;:{&quot;unitCode&quot;:&quot;wmoUnit:percent&quot;}\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\nHow I can get all JSON data","title":"How to get all elements in arrays type Map and send to JSP file by JSTL in Spring","body":"<p>I have a JSON attribute's value in Java, I can get the value properly but I couldn't send to JSP file..</p>\n<p><strong>My JSON:</strong></p>\n<pre><code> periods =  \n {&quot;number&quot;:1,&quot;name&quot;:&quot;Tonight&quot;,&quot;startTime&quot;:&quot;2023-06-05T22:00:00-04:00&quot;,&quot;endTime&quot;:&quot;2023-06-06T06:00:00-04:00&quot;,&quot;isDaytime&quot;:false,&quot;temperature&quot;:63,&quot;temperatureUnit&quot;:&quot;F&quot;,&quot;temperatureTrend&quot;:&quot;rising&quot;,&quot;probabilityOfPrecipitation&quot;:{&quot;unitCode&quot;:&quot;wmoUnit:percent&quot;,&quot;value&quot;:null},&quot;dewpoint&quot;:{&quot;unitCode&quot;:&quot;wmoUnit:degC&quot;,&quot;value&quot;:8.333333333333334},&quot;relativeHumidity&quot;:{&quot;unitCode&quot;:&quot;wmoUnit:percent&quot;,&quot;value&quot;:50},&quot;windSpeed&quot;:&quot;9 mph&quot;,&quot;windDirection&quot;:&quot;NW&quot;,&quot;icon&quot;:&quot;https://api.weather.gov/icons/land/night/sct?size=medium&quot;,&quot;shortForecast&quot;:&quot;Partly Cloudy&quot;,&quot;detailedForecast&quot;:&quot;Partly cloudy. Low around 63, with temperatures rising to around 65 overnight. Northwest wind around 9 mph.&quot;}\n {&quot;number&quot;:2,&quot;name&quot;:&quot;Tuesday&quot;,&quot;startTime&quot;:&quot;2023-06-06T06:00:00-04:00&quot;,&quot;endTime&quot;:&quot;2023-06-06T18:00:00-04:00&quot;,&quot;isDaytime&quot;:true,&quot;temperature&quot;:76,&quot;temperatureUnit&quot;:&quot;F&quot;,&quot;temperatureTrend&quot;:null,&quot;probabilityOfPrecipitation&quot;:{&quot;unitCode&quot;:&quot;wmoUnit:percent&quot;,&quot;value&quot;:40},&quot;dewpoint&quot;:{&quot;unitCode&quot;:&quot;wmoUnit:degC&quot;,&quot;value&quot;:10},&quot;relativeHumidity&quot;:{&quot;unitCode&quot;:&quot;wmoUnit:percent&quot;,&quot;value&quot;:52},&quot;windSpeed&quot;:&quot;7 to 15 mph&quot;,&quot;windDirection&quot;:&quot;NW&quot;,&quot;icon&quot;:&quot;https://api.weather.gov/icons/land/day/tsra_hi,40?size=medium&quot;,&quot;shortForecast&quot;:&quot;Haze&quot;,&quot;detailedForecast&quot;:&quot;Haze and a chance of rain showers and patchy smoke between 8am and 11am, then haze and patchy smoke and a chance of showers and thunderstorms. Mostly sunny, with a high near 76. Northwest wind 7 to 15 mph. Chance of precipitation is 40%.&quot;}\n \n</code></pre>\n<p><strong>This is controller:</strong></p>\n<pre><code>    @RequestMapping(&quot;/show&quot;)\n    public ModelAndView showForecast(ModelMap model) throws IOException {\n    \n    ModelAndView mv = new ModelAndView();\n    mv.setViewName(&quot;show&quot;);             \n    \n    ResponseEntity&lt;String&gt; responseEntity = restTemplate.getForEntity(&quot;https://api.golde.gov&quot;, String.class);\n    ObjectMapper objectMapper = new ObjectMapper();\n            \n    Map&lt;String, Object&gt; result = new HashMap&lt;String, Object&gt;();\n           \n    objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n            \n    JsonNode properties = objectMapper.readTree(responseEntity.getBody()).get(&quot;properties&quot;);\n    JsonNode periods = properties.get(&quot;periods&quot;);\n    // Forecast[] forecasts = objectMapper.readValue(periods.toString(), Forecast[].class);     \n    \n    if (periods.isArray()) {\n        for (final JsonNode objNode : periods) {\n            System.out.println(objNode);                                \n            result = objectMapper.convertValue(objNode, new TypeReference&lt;Map&lt;String, Object&gt;&gt;(){});                \n        }\n        \n        // mv.addObject(&quot;result&quot;, result);\n        \n        model.addAttribute(&quot;result&quot;, result);\n    }       \n    return mv;\n   }\n</code></pre>\n<p>I want to send all values to jsp and i used:</p>\n<pre><code>model.addAttribute(&quot;results&quot;, result);\n</code></pre>\n<p><strong>This is JSP file:</strong></p>\n<pre><code>&lt;c:forEach items=&quot;${results}&quot; var=&quot;result&quot;&gt;   \n        &lt;td&gt;${result.number}&lt;/td&gt; &lt;/br&gt;\n        &lt;td&gt;${result.name}&lt;/td&gt; &lt;/br&gt;\n        &lt;td&gt;${result.startTime}&lt;/td&gt; &lt;/br&gt;          \n        &lt;td&gt;${result.endTime}&lt;/td&gt; &lt;/br&gt;                \n        &lt;td&gt;${result.isDaytime}&lt;/td&gt; &lt;/br&gt;\n        &lt;td&gt;${result.temperature}&lt;/td&gt; &lt;/br&gt;            \n        &lt;td&gt;${result.temperatureUnit}&lt;/td&gt; &lt;/br&gt;            \n        &lt;td&gt;${result.temperatureTrend}&lt;/td&gt; &lt;/br&gt;           \n        &lt;td&gt;${result.windSpeed}&lt;/td&gt; &lt;/br&gt;\n        &lt;td&gt;${result.windDirection}&lt;/td&gt; &lt;/br&gt;                          \n        &lt;img src=&quot;${result.icon}&quot; alt=&quot;Image&quot; height=&quot;50px&quot; width=&quot;50px&quot;&gt;           \n        &lt;td&gt;${result.shortForecast}&lt;/td&gt; &lt;/br&gt;\n        &lt;td&gt;${result.detailedForecast}&lt;/td&gt; &lt;/br&gt;           \n&lt;/c:forEach&gt;\n</code></pre>\n<p>However when i run i only received 1 row is:</p>\n<pre><code> {&quot;number&quot;:3,&quot;name&quot;:&quot;Monday&quot;,&quot;startTime&quot;:&quot;2023-06-12T06:00:00-04:00&quot;,&quot;endTime&quot;:&quot;2023-06-12T18:00:00-04:00&quot;,&quot;isDaytime&quot;:true,&quot;temperature&quot;:77,&quot;temperatureUnit&quot;:&quot;F&quot;,&quot;temperatureTrend&quot;:null,&quot;probabilityOfPrecipitation&quot;:{&quot;unitCode&quot;:&quot;wmoUnit:percent&quot;}\n</code></pre>\n<p>[![enter image description here][1]][1]\nHow I can get all JSON data</p>\n"},{"tags":["java","android","tcp","printing","pcl"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1686194725,"post_id":76428001,"comment_id":134766672,"body_markdown":"From: https://developers.hp.com/hp-printer-command-languages-pcl/doc/hp-pcl3 `PCL 3GUI is used in most DeskJet series printers and HP DesignJet large-formate printers (plotters). It uses a proprietary compressed Raster Transfer Language format that is not compatible with standard PCL 3.`","body":"From: <a href=\"https://developers.hp.com/hp-printer-command-languages-pcl/doc/hp-pcl3\" rel=\"nofollow noreferrer\">developers.hp.com/hp-printer-command-languages-pcl/doc/hp-pc&zwnj;&#8203;l3</a> <code>PCL 3GUI is used in most DeskJet series printers and HP DesignJet large-formate printers (plotters). It uses a proprietary compressed Raster Transfer Language format that is not compatible with standard PCL 3.</code>"}],"owner":{"account_id":9845781,"reputation":374,"user_id":7293353,"display_name":"Jose Lopez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1686186871,"creation_date":1686186355,"question_id":76428001,"body_markdown":"I&#39;m encountering difficulties when attempting to print simple text using PCL in Java with my Deskjet 2752e printer. The printer [supports HP PCL 3 GUI, HP PCLm (HP Apps/UPD)][1], and URF (AirPrint)[1]. Despite multiple attempts and variations of the PCL code, I have been unable to achieve successful printing. Even sending plain text results in no response from the printer.\r\n\r\nMy objective is to send a straightforward text print job directly to my printer network, with the ability to position the text using x and y coordinates. To accomplish this, I am developing an Android app that can print text without prompting the user for print settings or leaving the app. It is crucial for the app to automatically and efficiently send the necessary data to the printer and initiate the printing process promptly. As the sole user of the app, I aim to streamline the printing experience and eliminate unnecessary prompts, thereby making the app faster and more efficient.\r\n\r\nHere is the last code I have been working with:\r\n\r\n```\r\nprivate void sendPrintJob() {\r\n    System.out.println(&quot;Connecting to the printer...&quot;);\r\n    try (Socket socket = new Socket(&quot;192.168.0.6&quot;, 9100)) {\r\n        System.out.println(&quot;Connected.&quot;);\r\n\r\n        DataOutputStream out = new DataOutputStream(socket.getOutputStream());\r\n        out.write(generatePCL3GUI().getBytes());\r\n        out.flush();\r\n        out.close();\r\n\r\n        System.out.println(&quot;Print job successfully sent.&quot;);\r\n    } catch (Exception e) {\r\n        System.out.println(e);\r\n    }\r\n}\r\n\r\npublic String generatePCL3GUI() {\r\n    StringBuilder pclCode = new StringBuilder();\r\n    \r\n    pclCode.append(&quot;\\u001B%-12345X@PJL JOB\\r\\n&quot;);\r\n    pclCode.append(&quot;@PJL ENTER LANGUAGE=PCL3GUI\\r\\n&quot;);\r\n    \r\n    pclCode.append(&quot;\\u001B*s0M&quot;); // Set color mode to monochrome\r\n    pclCode.append(&quot;\\u001B*t300R&quot;); // Set resolution to 300 dpi\r\n    pclCode.append(&quot;\\u001B*r0F&quot;); // Set orientation to portrait\r\n\r\n    \r\n    pclCode.append(&quot;\\u001B(8U&quot;); // Select font: Courier New\r\n    pclCode.append(&quot;\\u001BE&quot;); // Start of the print job\r\n    pclCode.append(&quot;\\u001B&amp;a100H&quot;); // Set position (x=100, y=100)\r\n    pclCode.append(&quot;Hello, world!\\r\\n&quot;); // Print text\r\n    \r\n    pclCode.append(&quot;\\u001B%-12345X@PJL EOJ\\r\\n&quot;);\r\n\r\n    return pclCode.toString();\r\n}\r\n```\r\n\r\n\r\n  [1]: https://support.hp.com/us-en/product/hp-deskjet-2700e-all-in-one-series/2100187844/model/2100187848/document/c07062180#:~:text=to%201000%20pages-,Print%20languages,-HP%20PCL%203","title":"Printing Directly to my Deskjet 2752e Printer network using TCP Connection","body":"<p>I'm encountering difficulties when attempting to print simple text using PCL in Java with my Deskjet 2752e printer. The printer <a href=\"https://support.hp.com/us-en/product/hp-deskjet-2700e-all-in-one-series/2100187844/model/2100187848/document/c07062180#:%7E:text=to%201000%20pages-,Print%20languages,-HP%20PCL%203\" rel=\"nofollow noreferrer\">supports HP PCL 3 GUI, HP PCLm (HP Apps/UPD)</a>, and URF (AirPrint)<a href=\"https://support.hp.com/us-en/product/hp-deskjet-2700e-all-in-one-series/2100187844/model/2100187848/document/c07062180#:%7E:text=to%201000%20pages-,Print%20languages,-HP%20PCL%203\" rel=\"nofollow noreferrer\">1</a>. Despite multiple attempts and variations of the PCL code, I have been unable to achieve successful printing. Even sending plain text results in no response from the printer.</p>\n<p>My objective is to send a straightforward text print job directly to my printer network, with the ability to position the text using x and y coordinates. To accomplish this, I am developing an Android app that can print text without prompting the user for print settings or leaving the app. It is crucial for the app to automatically and efficiently send the necessary data to the printer and initiate the printing process promptly. As the sole user of the app, I aim to streamline the printing experience and eliminate unnecessary prompts, thereby making the app faster and more efficient.</p>\n<p>Here is the last code I have been working with:</p>\n<pre><code>private void sendPrintJob() {\n    System.out.println(&quot;Connecting to the printer...&quot;);\n    try (Socket socket = new Socket(&quot;192.168.0.6&quot;, 9100)) {\n        System.out.println(&quot;Connected.&quot;);\n\n        DataOutputStream out = new DataOutputStream(socket.getOutputStream());\n        out.write(generatePCL3GUI().getBytes());\n        out.flush();\n        out.close();\n\n        System.out.println(&quot;Print job successfully sent.&quot;);\n    } catch (Exception e) {\n        System.out.println(e);\n    }\n}\n\npublic String generatePCL3GUI() {\n    StringBuilder pclCode = new StringBuilder();\n    \n    pclCode.append(&quot;\\u001B%-12345X@PJL JOB\\r\\n&quot;);\n    pclCode.append(&quot;@PJL ENTER LANGUAGE=PCL3GUI\\r\\n&quot;);\n    \n    pclCode.append(&quot;\\u001B*s0M&quot;); // Set color mode to monochrome\n    pclCode.append(&quot;\\u001B*t300R&quot;); // Set resolution to 300 dpi\n    pclCode.append(&quot;\\u001B*r0F&quot;); // Set orientation to portrait\n\n    \n    pclCode.append(&quot;\\u001B(8U&quot;); // Select font: Courier New\n    pclCode.append(&quot;\\u001BE&quot;); // Start of the print job\n    pclCode.append(&quot;\\u001B&amp;a100H&quot;); // Set position (x=100, y=100)\n    pclCode.append(&quot;Hello, world!\\r\\n&quot;); // Print text\n    \n    pclCode.append(&quot;\\u001B%-12345X@PJL EOJ\\r\\n&quot;);\n\n    return pclCode.toString();\n}\n</code></pre>\n"},{"tags":["java","string","java.util.scanner","equals"],"comments":[{"owner":{"account_id":2784842,"reputation":67281,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"score":0,"creation_date":1406617176,"post_id":25009738,"comment_id":38888602,"body_markdown":"beacause OP says u can answer the same question over and over again, and get credits for it and has provided no stack trace","body":"beacause OP says u can answer the same question over and over again, and get credits for it and has provided no stack trace"},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1406617185,"post_id":25009738,"comment_id":38888605,"body_markdown":"*I just get a bunch of errors*: no, you don&#39;t. Each error you get comes with a precise message explaining what and where the problem is. Not reading them, and not posting them is the error.","body":"<i>I just get a bunch of errors</i>: no, you don&#39;t. Each error you get comes with a precise message explaining what and where the problem is. Not reading them, and not posting them is the error."},{"owner":{"account_id":1441892,"reputation":13687,"user_id":1361787,"accept_rate":68,"display_name":"ChiefTwoPencils"},"score":0,"creation_date":1406619825,"post_id":25009738,"comment_id":38889807,"body_markdown":"Reformat your data file; have only single spaces between the entries. Then, use `String[] entry = scan.nextLine().split(&quot; &quot;);`... This way you can just access the  calculation as `entry[2], [3], ...` Read ahead the same way.","body":"Reformat your data file; have only single spaces between the entries. Then, use <code>String[] entry = scan.nextLine().split(&quot; &quot;);</code>... This way you can just access the  calculation as <code>entry[2], [3], ...</code> Read ahead the same way."}],"answers":[{"comments":[{"owner":{"account_id":2881495,"reputation":185,"user_id":2472289,"display_name":"Popsyjunior"},"score":0,"creation_date":1406617663,"post_id":25009804,"comment_id":38888808,"body_markdown":"I believe this should be a comment.","body":"I believe this should be a comment."},{"owner":{"account_id":65271,"reputation":5615,"user_id":192221,"accept_rate":59,"display_name":"kristianp"},"score":0,"creation_date":1406617798,"post_id":25009804,"comment_id":38888859,"body_markdown":"It does help with the code, but it&#39;s hard to say what the problem is exactly, to answer.  I would bet it probably does answer the question though.","body":"It does help with the code, but it&#39;s hard to say what the problem is exactly, to answer.  I would bet it probably does answer the question though."},{"owner":{"account_id":4122642,"reputation":27,"user_id":3382562,"display_name":"Geryones"},"score":0,"creation_date":1406618147,"post_id":25009804,"comment_id":38889027,"body_markdown":"And how do i compare those Strings if not with an if-statement?","body":"And how do i compare those Strings if not with an if-statement?"},{"owner":{"account_id":65271,"reputation":5615,"user_id":192221,"accept_rate":59,"display_name":"kristianp"},"score":0,"creation_date":1406618318,"post_id":25009804,"comment_id":38889112,"body_markdown":"See my edit.  Make use of the existing variables, not by calling scan.next extra times.","body":"See my edit.  Make use of the existing variables, not by calling scan.next extra times."},{"owner":{"account_id":2881495,"reputation":185,"user_id":2472289,"display_name":"Popsyjunior"},"score":0,"creation_date":1406618332,"post_id":25009804,"comment_id":38889121,"body_markdown":"@Geryones I&#39;m adding an answer.","body":"@Geryones I&#39;m adding an answer."},{"owner":{"account_id":4122642,"reputation":27,"user_id":3382562,"display_name":"Geryones"},"score":0,"creation_date":1406618628,"post_id":25009804,"comment_id":38889248,"body_markdown":"That with the highest number works, the problem is the camparison of the calculation. i try to compare string 3,4 and 5 which represents the calculation.if you answer a question you can spam the check button and cheat witch highscore. i tried to elliminate the problem by checking the three strings wich make up the calculaton. i dont know what the date is doing there, cause i aint touching it, that would be string a and b","body":"That with the highest number works, the problem is the camparison of the calculation. i try to compare string 3,4 and 5 which represents the calculation.if you answer a question you can spam the check button and cheat witch highscore. i tried to elliminate the problem by checking the three strings wich make up the calculaton. i dont know what the date is doing there, cause i aint touching it, that would be string a and b"},{"owner":{"account_id":65271,"reputation":5615,"user_id":192221,"accept_rate":59,"display_name":"kristianp"},"score":0,"creation_date":1406619504,"post_id":25009804,"comment_id":38889672,"body_markdown":"If your data file has 9 columns, you should only call scan.next 9 time inside the while loop.  You are calling it 10 to 12 times because of the additional calls to scan.next.  Try printing the value of each variable, or using a debugger to view the values.","body":"If your data file has 9 columns, you should only call scan.next 9 time inside the while loop.  You are calling it 10 to 12 times because of the additional calls to scan.next.  Try printing the value of each variable, or using a debugger to view the values."}],"tags":[],"owner":{"account_id":65271,"reputation":5615,"user_id":192221,"accept_rate":59,"display_name":"kristianp"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406618255,"creation_date":1406617321,"answer_id":25009804,"question_id":25009738,"body_markdown":"It&#39;s a bad idea to call scan.next() in an if statement.  The second scan.next will only be called if the first equals is true and so on for the second one, so it is very easy to mix up what columns you&#39;re trying to read.  Move those scan.next out of the if statement for starters.\r\n\r\nFrom the error message, you are calling `Integer.parseInt(i);` on a date string.\r\n\r\nIt looks like you are trying to find the largest number in the file?  What you should be doing is storing the highest int, which is declared outside the loop.  e.g.\r\n\r\n    int Highscore = 0;\r\n    while (...) {\r\n       .... \r\n    \r\n      int num = Integer.parseInt(i);\r\n      if (num &gt; Highscore) {\r\n        Highscore = num;\r\n      } \r\n\r\nIf you get my drift.  \r\n","title":"Comparing Strings while reading a file with Scanner .hasNext(), .next","body":"<p>It's a bad idea to call scan.next() in an if statement.  The second scan.next will only be called if the first equals is true and so on for the second one, so it is very easy to mix up what columns you're trying to read.  Move those scan.next out of the if statement for starters.</p>\n\n<p>From the error message, you are calling <code>Integer.parseInt(i);</code> on a date string.</p>\n\n<p>It looks like you are trying to find the largest number in the file?  What you should be doing is storing the highest int, which is declared outside the loop.  e.g.</p>\n\n<pre><code>int Highscore = 0;\nwhile (...) {\n   .... \n\n  int num = Integer.parseInt(i);\n  if (num &gt; Highscore) {\n    Highscore = num;\n  } \n</code></pre>\n\n<p>If you get my drift.  </p>\n"},{"comments":[{"owner":{"account_id":4122642,"reputation":27,"user_id":3382562,"display_name":"Geryones"},"score":0,"creation_date":1406618802,"post_id":25010125,"comment_id":38889337,"body_markdown":"sadly no, same errors.\nthe text-file hast 9 seperated Strings, id like to compare the 3,4 and 5 String of line 1 with the same Strings on line 2.","body":"sadly no, same errors. the text-file hast 9 seperated Strings, id like to compare the 3,4 and 5 String of line 1 with the same Strings on line 2."},{"owner":{"account_id":65271,"reputation":5615,"user_id":192221,"accept_rate":59,"display_name":"kristianp"},"score":0,"creation_date":1406619587,"post_id":25010125,"comment_id":38889711,"body_markdown":"If you want to compare the previous line, declare 3 variables outside the loop, similar to score here.","body":"If you want to compare the previous line, declare 3 variables outside the loop, similar to score here."}],"tags":[],"owner":{"account_id":2881495,"reputation":185,"user_id":2472289,"display_name":"Popsyjunior"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1406618574,"creation_date":1406618574,"answer_id":25010125,"question_id":25009738,"body_markdown":"If you keep using scan.next in your conditional statements, your scanner will scan for the next value. I think you want to get the next value and use for your comparison instead.\r\n\r\n    public int readFile() {\r\n        String score = null;\r\n        while (scan.hasNext()) {\r\n            String a = scan.next();\r\n            String b = scan.next();\r\n            String c = scan.next();\r\n            String d = scan.next();\r\n            String e = scan.next();\r\n            String f = scan.next();\r\n            String g = scan.next();\r\n            String h = scan.next();\r\n            String i = scan.next();\r\n    \r\n    \t\tString nextVal = scan.next();\r\n    \t\t\r\n            if (c.equals(nextVal) &amp;&amp; d.equals(nextVal) &amp;&amp; e.equals(nextVal)) {\r\n            } else {\r\n                temp = Integer.parseInt(i);\r\n                if (temp &gt; highscore) {\r\n                    highscore = temp;\r\n                }\r\n            }\r\n    \r\n        }\r\n        return highscore;\r\n    }\r\n\r\nI hope this helps.\r\nCheers..!","title":"Comparing Strings while reading a file with Scanner .hasNext(), .next","body":"<p>If you keep using scan.next in your conditional statements, your scanner will scan for the next value. I think you want to get the next value and use for your comparison instead.</p>\n\n<pre><code>public int readFile() {\n    String score = null;\n    while (scan.hasNext()) {\n        String a = scan.next();\n        String b = scan.next();\n        String c = scan.next();\n        String d = scan.next();\n        String e = scan.next();\n        String f = scan.next();\n        String g = scan.next();\n        String h = scan.next();\n        String i = scan.next();\n\n        String nextVal = scan.next();\n\n        if (c.equals(nextVal) &amp;&amp; d.equals(nextVal) &amp;&amp; e.equals(nextVal)) {\n        } else {\n            temp = Integer.parseInt(i);\n            if (temp &gt; highscore) {\n                highscore = temp;\n            }\n        }\n\n    }\n    return highscore;\n}\n</code></pre>\n\n<p>I hope this helps.\nCheers..!</p>\n"}],"owner":{"account_id":4122642,"reputation":27,"user_id":3382562,"display_name":"Geryones"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":771,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":25010125,"answer_count":2,"score":-2,"last_activity_date":1686185757,"creation_date":1406617057,"question_id":25009738,"body_markdown":"I am trying to make a little Highscore for my Programm. The programm has a LogFile, i want to read that file and determine the winner. Because my programm has a few issues, you can answer the same question over and over again, and get credits for it. \r\nWith the code bellow I tried to prevent a cheated score. I tried to compare the third, fourth and fifth String, which represents the calculation you have to solve. I want to ignore the count of the highscore when the next line has the same calculation\r\nCan someone help me with this ? I just get a bunch of errors. \r\n\r\nThanks for your time and help.\r\n\r\n    public int readFile() {\r\n        String score = null;\r\n        while (scan.hasNext()) {\r\n            String a = scan.next();\r\n            String b = scan.next();\r\n            String c = scan.next();\r\n            String d = scan.next();\r\n            String e = scan.next();\r\n            String f = scan.next();\r\n            String g = scan.next();\r\n            String h = scan.next();\r\n            String i = scan.next();\r\n\r\n            if (c.equals(scan.next()) &amp;&amp; d.equals(scan.next()) &amp;&amp; e.equals(scan.next())) {\r\n            } else {\r\n                temp = Integer.parseInt(i);\r\n                if (temp &gt; highscore) {\r\n                    highscore = temp;\r\n                }\r\n            }\r\n\r\n        }\r\n        return highscore;\r\n    }\r\n\r\n\r\n**Textfile :**\r\n\r\n        \r\n        014/07/29 08:25:15\t95 + 80\t4\t\tfalse\t\t-171\t\t0\r\n        2014/07/29 08:25:15\t95 + 80\t4\t\tfalse\t\t-171\t\t0\r\n        2014/07/29 08:25:49\t8 * 3\t24\t\ttrue\t\t0\t\t1\r\n        2014/07/29 08:25:49\t8 * 3\t24\t\ttrue\t\t0\t\t2\r\n        2014/07/29 08:25:49\t8 * 3\t24\t\ttrue\t\t0\t\t3\r\n        2014/07/29 08:25:50\t8 * 3\t24\t\ttrue\t\t0\t\t4\r\n        2014/07/29 08:25:50\t8 * 3\t24\t\ttrue\t\t0\t\t5\r\nErrors:\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NumberFormatException: For input string: &quot;2014/07/28&quot;\r\n    \tat java.lang.NumberFormatException.forInputString(Unknown Source)\r\n    \tat java.lang.Integer.parseInt(Unknown Source)\r\n    \tat java.lang.Integer.parseInt(Unknown Source)\r\n    \tat mathe.Highscore.readFile(Highscore.java:42)\r\n    \tat mathe.Gui$TestActionListener.actionPerformed(Gui.java:231)\r\n    \tat javax.swing.AbstractButton.fireActionPerformed(Unknown Source)\r\n    \tat javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source)\r\n    \tat javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source)\r\n    \tat javax.swing.DefaultButtonModel.setPressed(Unknown Source)\r\n    \tat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(Unknown Source)\r\n    \tat java.awt.Component.processMouseEvent(Unknown Source)\r\n    \tat javax.swing.JComponent.processMouseEvent(Unknown Source)\r\n    \tat java.awt.Component.processEvent(Unknown Source)\r\n    \tat java.awt.Container.processEvent(Unknown Source)\r\n    \tat java.awt.Component.dispatchEventImpl(Unknown Source)\r\n    \tat java.awt.Container.dispatchEventImpl(Unknown Source)\r\n    \tat java.awt.Component.dispatchEvent(Unknown Source)\r\n    \tat java.awt.LightweightDispatcher.retargetMouseEvent(Unknown Source)\r\n    \tat java.awt.LightweightDispatcher.processMouseEvent(Unknown Source)\r\n    \tat java.awt.LightweightDispatcher.dispatchEvent(Unknown Source)\r\n    \tat java.awt.Container.dispatchEventImpl(Unknown Source)\r\n    \tat java.awt.Window.dispatchEventImpl(Unknown Source)\r\n    \tat java.awt.Component.dispatchEvent(Unknown Source)\r\n    \tat java.awt.EventQueue.dispatchEventImpl(Unknown Source)\r\n    \tat java.awt.EventQueue.access$200(Unknown Source)\r\n    \tat java.awt.EventQueue$3.run(Unknown Source)\r\n    \tat java.awt.EventQueue$3.run(Unknown Source)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)\r\n    \tat java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)\r\n    \tat java.awt.EventQueue$4.run(Unknown Source)\r\n    \tat java.awt.EventQueue$4.run(Unknown Source)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)\r\n    \tat java.awt.EventQueue.dispatchEvent(Unknown Source)\r\n    \tat java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)\r\n    \tat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\r\n    \tat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\r\n    \tat java.awt.EventDispatchThread.run(Unknown Source)\r\n\r\n","title":"Comparing Strings while reading a file with Scanner .hasNext(), .next","body":"<p>I am trying to make a little Highscore for my Programm. The programm has a LogFile, i want to read that file and determine the winner. Because my programm has a few issues, you can answer the same question over and over again, and get credits for it. \nWith the code bellow I tried to prevent a cheated score. I tried to compare the third, fourth and fifth String, which represents the calculation you have to solve. I want to ignore the count of the highscore when the next line has the same calculation\nCan someone help me with this ? I just get a bunch of errors. </p>\n\n<p>Thanks for your time and help.</p>\n\n<pre><code>public int readFile() {\n    String score = null;\n    while (scan.hasNext()) {\n        String a = scan.next();\n        String b = scan.next();\n        String c = scan.next();\n        String d = scan.next();\n        String e = scan.next();\n        String f = scan.next();\n        String g = scan.next();\n        String h = scan.next();\n        String i = scan.next();\n\n        if (c.equals(scan.next()) &amp;&amp; d.equals(scan.next()) &amp;&amp; e.equals(scan.next())) {\n        } else {\n            temp = Integer.parseInt(i);\n            if (temp &gt; highscore) {\n                highscore = temp;\n            }\n        }\n\n    }\n    return highscore;\n}\n</code></pre>\n\n<p><strong>Textfile :</strong></p>\n\n<pre><code>    014/07/29 08:25:15  95 + 80 4       false       -171        0\n    2014/07/29 08:25:15 95 + 80 4       false       -171        0\n    2014/07/29 08:25:49 8 * 3   24      true        0       1\n    2014/07/29 08:25:49 8 * 3   24      true        0       2\n    2014/07/29 08:25:49 8 * 3   24      true        0       3\n    2014/07/29 08:25:50 8 * 3   24      true        0       4\n    2014/07/29 08:25:50 8 * 3   24      true        0       5\n</code></pre>\n\n<p>Errors:</p>\n\n<pre><code>Exception in thread \"AWT-EventQueue-0\" java.lang.NumberFormatException: For input string: \"2014/07/28\"\n    at java.lang.NumberFormatException.forInputString(Unknown Source)\n    at java.lang.Integer.parseInt(Unknown Source)\n    at java.lang.Integer.parseInt(Unknown Source)\n    at mathe.Highscore.readFile(Highscore.java:42)\n    at mathe.Gui$TestActionListener.actionPerformed(Gui.java:231)\n    at javax.swing.AbstractButton.fireActionPerformed(Unknown Source)\n    at javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source)\n    at javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source)\n    at javax.swing.DefaultButtonModel.setPressed(Unknown Source)\n    at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(Unknown Source)\n    at java.awt.Component.processMouseEvent(Unknown Source)\n    at javax.swing.JComponent.processMouseEvent(Unknown Source)\n    at java.awt.Component.processEvent(Unknown Source)\n    at java.awt.Container.processEvent(Unknown Source)\n    at java.awt.Component.dispatchEventImpl(Unknown Source)\n    at java.awt.Container.dispatchEventImpl(Unknown Source)\n    at java.awt.Component.dispatchEvent(Unknown Source)\n    at java.awt.LightweightDispatcher.retargetMouseEvent(Unknown Source)\n    at java.awt.LightweightDispatcher.processMouseEvent(Unknown Source)\n    at java.awt.LightweightDispatcher.dispatchEvent(Unknown Source)\n    at java.awt.Container.dispatchEventImpl(Unknown Source)\n    at java.awt.Window.dispatchEventImpl(Unknown Source)\n    at java.awt.Component.dispatchEvent(Unknown Source)\n    at java.awt.EventQueue.dispatchEventImpl(Unknown Source)\n    at java.awt.EventQueue.access$200(Unknown Source)\n    at java.awt.EventQueue$3.run(Unknown Source)\n    at java.awt.EventQueue$3.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)\n    at java.awt.EventQueue$4.run(Unknown Source)\n    at java.awt.EventQueue$4.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)\n    at java.awt.EventQueue.dispatchEvent(Unknown Source)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)\n    at java.awt.EventDispatchThread.pumpEvents(Unknown Source)\n    at java.awt.EventDispatchThread.pumpEvents(Unknown Source)\n    at java.awt.EventDispatchThread.run(Unknown Source)\n</code></pre>\n"},{"tags":["java","date","time"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1686173905,"post_id":76427182,"comment_id":134764837,"body_markdown":"I believe the reason this is happening is because one format specifier must take precedence over the other.  In this case the _H_, or _h_, appears to take precedence over the _a_.","body":"I believe the reason this is happening is because one format specifier must take precedence over the other.  In this case the <i>H</i>, or <i>h</i>, appears to take precedence over the <i>a</i>."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1686183076,"post_id":76427182,"comment_id":134765794,"body_markdown":"Your code is basically doing what you&#39;re telling it to do - the problem is, you&#39;re format specifier is incorrect - you should also no longer be making use of `Calendar` or the `java.util` based date/time classes and instead prefer the `java.time` classes","body":"Your code is basically doing what you&#39;re telling it to do - the problem is, you&#39;re format specifier is incorrect - you should also no longer be making use of <code>Calendar</code> or the <code>java.util</code> based date/time classes and instead prefer the <code>java.time</code> classes"}],"answers":[{"tags":[],"owner":{"account_id":7876987,"reputation":121,"user_id":5952448,"accept_rate":91,"display_name":"todivefor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686173399,"creation_date":1686173399,"answer_id":76427232,"question_id":76427182,"body_markdown":"Never mind. \r\n\r\nChange:\r\n\r\nSimpleDateFormat df = new SimpleDateFormat(&quot;HH:mm a&quot;, Locale.US); \r\n\r\nto:\r\n\r\nSimpleDateFormat df = new SimpleDateFormat(&quot;hh:mm a&quot;, Locale.US); ","title":"Increment time with 12 hour clock from AM to PM","body":"<p>Never mind.</p>\n<p>Change:</p>\n<p>SimpleDateFormat df = new SimpleDateFormat(&quot;HH:mm a&quot;, Locale.US);</p>\n<p>to:</p>\n<p>SimpleDateFormat df = new SimpleDateFormat(&quot;hh:mm a&quot;, Locale.US);</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686184317,"creation_date":1686176965,"answer_id":76427475,"question_id":76427182,"body_markdown":"SimpleDateFormat and Date are obsolete and buggy.  Use the more modern classes from the [java.time](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/package-summary.html) package.\r\n```\r\nDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;h:mm a&quot;, Locale.US));\r\nLocalTime ldt = LocalTime.of(9, 0);\r\nfor (int h = 1; h &lt; 10; h++) {\r\n    System.out.println(ldt.format(dtf));\r\n    ldt = ldt.plusHours(h);\r\n}\r\n```\r\nprints\r\n```\r\n9:00 AM\r\n10:00 AM\r\n12:00 PM\r\n3:00 PM\r\n7:00 PM\r\n12:00 AM\r\n6:00 AM\r\n1:00 PM\r\n9:00 PM\r\n```\r\nDefault Locale will be used if not specified.  And use `&quot;hh:mm a&quot;` if you want leading zeros for single digit hours.","title":"Increment time with 12 hour clock from AM to PM","body":"<p>SimpleDateFormat and Date are obsolete and buggy.  Use the more modern classes from the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> package.</p>\n<pre><code>DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;h:mm a&quot;, Locale.US));\nLocalTime ldt = LocalTime.of(9, 0);\nfor (int h = 1; h &lt; 10; h++) {\n    System.out.println(ldt.format(dtf));\n    ldt = ldt.plusHours(h);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>9:00 AM\n10:00 AM\n12:00 PM\n3:00 PM\n7:00 PM\n12:00 AM\n6:00 AM\n1:00 PM\n9:00 PM\n</code></pre>\n<p>Default Locale will be used if not specified.  And use <code>&quot;hh:mm a&quot;</code> if you want leading zeros for single digit hours.</p>\n"}],"owner":{"account_id":7876987,"reputation":121,"user_id":5952448,"accept_rate":91,"display_name":"todivefor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76427475,"answer_count":2,"score":0,"last_activity_date":1686184317,"creation_date":1686172684,"question_id":76427182,"body_markdown":"I am trying to increment a time value and getting odd results:\r\n   \r\n\r\n     private String getNextTime(String time) {\r\n    \r\n            final int INTERVAL = 1;\r\n    \r\n            SimpleDateFormat df = new SimpleDateFormat(&quot;HH:mm a&quot;, Locale.US);           /\r\n            Date d = null;                                                              \r\n            try {\r\n                d = df.parse(time);\r\n            } catch (ParseException e) {\r\n                System.out.println(&quot;Bad tee time: &quot; + time);\r\n                System.exit(-1);\r\n            }\r\n            Calendar cal = Calendar.getInstance();                                      \r\n            cal.setTime(d);                                                             \r\n            cal.add(Calendar.MINUTE, INTERVAL);                                         \r\n            String outTime = df.format(cal.getTime());                                  \r\n            return (outTime);                                                           \r\n        }\r\n\r\nIf I input 11:59 AM the result is 12:00PM. If I input 12:59 PM I am expecting 01:00 PM, but get 13:00 PM. If I input 01:00 PM, I am expecting 01:01 PM, but get 01:01 AM. How do I get this to work correctly with a 12 hour clock?","title":"Increment time with 12 hour clock from AM to PM","body":"<p>I am trying to increment a time value and getting odd results:</p>\n<pre><code> private String getNextTime(String time) {\n\n        final int INTERVAL = 1;\n\n        SimpleDateFormat df = new SimpleDateFormat(&quot;HH:mm a&quot;, Locale.US);           /\n        Date d = null;                                                              \n        try {\n            d = df.parse(time);\n        } catch (ParseException e) {\n            System.out.println(&quot;Bad tee time: &quot; + time);\n            System.exit(-1);\n        }\n        Calendar cal = Calendar.getInstance();                                      \n        cal.setTime(d);                                                             \n        cal.add(Calendar.MINUTE, INTERVAL);                                         \n        String outTime = df.format(cal.getTime());                                  \n        return (outTime);                                                           \n    }\n</code></pre>\n<p>If I input 11:59 AM the result is 12:00PM. If I input 12:59 PM I am expecting 01:00 PM, but get 13:00 PM. If I input 01:00 PM, I am expecting 01:01 PM, but get 01:01 AM. How do I get this to work correctly with a 12 hour clock?</p>\n"},{"tags":["java","maven","automated-tests","allure"],"owner":{"account_id":20299994,"reputation":123,"user_id":18502120,"display_name":"Максим"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686193581,"answer_count":0,"score":0,"last_activity_date":1686183657,"creation_date":1686183657,"question_id":76427862,"body_markdown":"    PS C:\\Users\\MARSHAL\\Desktop\\Framework\\untitled&gt; mvn clean test\r\nAfter running these command i see that:\r\n\r\n    [INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\r\n\r\nWhat can be the reason?\r\n \r\n\r\n    public class AllureReportUITest {\r\n       private static WebDriver driver;\r\n\r\n    @BeforeClass\r\n    public static void setUp() {\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\MARSHAL\\\\Desktop\\\\Framework\\\\untitled\\\\drivers\\\\chromedriver.exe&quot;);\r\n        driver = new ChromeDriver();\r\n    }\r\n\r\n    @Test\r\n    @Step(&quot;UI Test&quot;)\r\n    public void openLoginPage() throws InterruptedException {\r\n        // Step 1\r\n        driver.get(&quot;http://127.0.0.1:8000&quot;);\r\n\r\n        WebElement element = driver.findElement(By.className(&quot;log&quot;));\r\n        element.click();\r\n        WebElement element1 = driver.findElement(By.xpath(&quot;//a[contains(text(), &#39;Sign up&#39;)]&quot;));\r\n        element1.click();\r\n        Thread.sleep(1000);\r\n\r\n        // Step 2\r\n        String generatedUsername = random();\r\n\r\n        WebElement usernameInput = driver.findElement(By.name(&quot;username&quot;));\r\n        usernameInput.sendKeys(generatedUsername);\r\n\r\n        String generatedPassword = random();\r\n        WebElement passwordInput = driver.findElement(By.name(&quot;password1&quot;));\r\n        passwordInput.sendKeys(generatedPassword);\r\n\r\n        WebElement passwordConfirm = driver.findElement(By.name(&quot;password2&quot;));\r\n        passwordConfirm.sendKeys(generatedPassword);\r\n\r\n        WebElement registerButton = driver.findElement(By.cssSelector(&quot;input[value=&#39;Register&#39;]&quot;));\r\n        registerButton.click();\r\n        Thread.sleep(1000);\r\n\r\n        // Step 3\r\n        WebElement spanElement = driver.findElement(By.id(&quot;un&quot;));\r\n        String actualText = spanElement.getText();\r\n        String expectedText = generatedUsername;\r\n        Assert.assertEquals(actualText, expectedText, &quot;unexpected message&quot;);\r\n        Thread.sleep(1000);\r\n\r\n        // Step 4\r\n        WebElement hpclick = driver.findElement(By.xpath(&quot;//a[contains(text(), &#39;HP&#39;)]&quot;));\r\n        hpclick.click();\r\n        WebElement hpLaptop = driver.findElement(By.xpath(&quot;//a[contains(text(), &#39;Ноутбук HP Pavilion 14-dv0047ua&#39;)]&quot;));\r\n        hpLaptop.click();\r\n        Thread.sleep(1000);\r\n\r\n        // Step 5\r\n        WebElement comment = driver.findElement(By.cssSelector(&quot;input[placeholder=&#39;Write your message here..&#39;]&quot;));\r\n        comment.sendKeys(&quot;Good Product&quot;);\r\n        comment.sendKeys(Keys.ENTER);\r\n        Thread.sleep(3000);\r\n\r\n        // Attachments\r\n        takeScreenshot();\r\n        attachHtmlCode(&quot;&lt;html&gt;&lt;body&gt;HTML Code&lt;/body&gt;&lt;/html&gt;&quot;);\r\n        attachRequest(&quot;Request&quot;);\r\n        attachResponse(&quot;Response&quot;);\r\n    }\r\n\r\n    @AfterClass\r\n    public static void tearDown() {\r\n        if (driver != null) {\r\n            driver.quit();\r\n        }\r\n    }\r\n\r\n    private String random() {\r\n        return UUID.randomUUID().toString().substring(0, 8).replace(&quot;-&quot;, &quot;&quot;);\r\n    }\r\n\r\n    @Attachment(&quot;Screenshot&quot;)\r\n    public static byte[] takeScreenshot() {\r\n        return ((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES);\r\n    }\r\n\r\n    @Attachment(&quot;HTML Code&quot;)\r\n    public static ByteArrayInputStream attachHtmlCode(String htmlCode) {\r\n        return new ByteArrayInputStream(htmlCode.getBytes());\r\n    }\r\n\r\n    @Attachment(&quot;Request&quot;)\r\n    public static String attachRequest(String request) {\r\n        return request;\r\n    }\r\n\r\n    @Attachment(&quot;Response&quot;)\r\n    public static String attachResponse(String response) {\r\n        return response;\r\n    }\r\n}                                                                                                      ---testing.xml---                                                                               \r\n\r\n        &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot; &gt;\r\n    &lt;suite name=&quot;End-to-End Test Suite&quot;&gt;\r\n        &lt;listeners&gt;\r\n            &lt;listener class-name=&quot;io.qameta.allure.testng.AllureTestNg&quot; /&gt;\r\n        &lt;/listeners&gt;\r\n        &lt;test name=&quot;AllureReportTest&quot;&gt;\r\n            &lt;classes&gt;\r\n                &lt;class name=&quot;AllureReport.AllureReportUITest&quot; /&gt;\r\n            &lt;/classes&gt;\r\n        &lt;/test&gt;\r\n    &lt;/suite&gt;                                                                                               \r\n ---pom.xml---                                                                                           \r\n\r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n      &lt;artifactId&gt;untitled&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;name&gt;Archetype - untitled&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n      &lt;properties&gt;\r\n        &lt;aspectj.version&gt;1.8.10&lt;/aspectj.version&gt;\r\n      &lt;/properties&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n          &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n          &lt;version&gt;3.141.59&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n          &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n          &lt;version&gt;3.12.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n          &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n          &lt;version&gt;7.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n          &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n          &lt;version&gt;6.1.7.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n          &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n          &lt;version&gt;4.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n          &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n          &lt;version&gt;4.5.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.xerial&lt;/groupId&gt;\r\n          &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\r\n          &lt;version&gt;3.36.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n          &lt;version&gt;2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n          &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n          &lt;version&gt;4.4.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;4.13.2&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n          &lt;artifactId&gt;allure-junit5&lt;/artifactId&gt;\r\n          &lt;version&gt;2.16.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n          &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\r\n          &lt;version&gt;2.16.0&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n          &lt;version&gt;1.7.32&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\r\n              &lt;argLine&gt;\r\n                -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\r\n              &lt;/argLine&gt;\r\n              &lt;properties&gt;\r\n                &lt;property&gt;\r\n                  &lt;name&gt;listener&lt;/name&gt;\r\n                  &lt;value&gt;io.qameta.allure.testng.AllureTestNg&lt;/value&gt;\r\n                &lt;/property&gt;\r\n              &lt;/properties&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;dependencies&gt;\r\n              &lt;dependency&gt;\r\n                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n                &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n              &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n[![My structure of files][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NYLxS.png                                                                                                                                                        \r\n    Maybe i&#39;m doing something wrong but i don&#39;t know what and could you help me out with this and tell me what should or change or how should i run it properly etc","title":"0 tests runned while using Allure","body":"<pre><code>PS C:\\Users\\MARSHAL\\Desktop\\Framework\\untitled&gt; mvn clean test\n</code></pre>\n<p>After running these command i see that:</p>\n<pre><code>[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\n</code></pre>\n<p>What can be the reason?</p>\n<pre><code>public class AllureReportUITest {\n   private static WebDriver driver;\n\n@BeforeClass\npublic static void setUp() {\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\MARSHAL\\\\Desktop\\\\Framework\\\\untitled\\\\drivers\\\\chromedriver.exe&quot;);\n    driver = new ChromeDriver();\n}\n\n@Test\n@Step(&quot;UI Test&quot;)\npublic void openLoginPage() throws InterruptedException {\n    // Step 1\n    driver.get(&quot;http://127.0.0.1:8000&quot;);\n\n    WebElement element = driver.findElement(By.className(&quot;log&quot;));\n    element.click();\n    WebElement element1 = driver.findElement(By.xpath(&quot;//a[contains(text(), 'Sign up')]&quot;));\n    element1.click();\n    Thread.sleep(1000);\n\n    // Step 2\n    String generatedUsername = random();\n\n    WebElement usernameInput = driver.findElement(By.name(&quot;username&quot;));\n    usernameInput.sendKeys(generatedUsername);\n\n    String generatedPassword = random();\n    WebElement passwordInput = driver.findElement(By.name(&quot;password1&quot;));\n    passwordInput.sendKeys(generatedPassword);\n\n    WebElement passwordConfirm = driver.findElement(By.name(&quot;password2&quot;));\n    passwordConfirm.sendKeys(generatedPassword);\n\n    WebElement registerButton = driver.findElement(By.cssSelector(&quot;input[value='Register']&quot;));\n    registerButton.click();\n    Thread.sleep(1000);\n\n    // Step 3\n    WebElement spanElement = driver.findElement(By.id(&quot;un&quot;));\n    String actualText = spanElement.getText();\n    String expectedText = generatedUsername;\n    Assert.assertEquals(actualText, expectedText, &quot;unexpected message&quot;);\n    Thread.sleep(1000);\n\n    // Step 4\n    WebElement hpclick = driver.findElement(By.xpath(&quot;//a[contains(text(), 'HP')]&quot;));\n    hpclick.click();\n    WebElement hpLaptop = driver.findElement(By.xpath(&quot;//a[contains(text(), 'Ноутбук HP Pavilion 14-dv0047ua')]&quot;));\n    hpLaptop.click();\n    Thread.sleep(1000);\n\n    // Step 5\n    WebElement comment = driver.findElement(By.cssSelector(&quot;input[placeholder='Write your message here..']&quot;));\n    comment.sendKeys(&quot;Good Product&quot;);\n    comment.sendKeys(Keys.ENTER);\n    Thread.sleep(3000);\n\n    // Attachments\n    takeScreenshot();\n    attachHtmlCode(&quot;&lt;html&gt;&lt;body&gt;HTML Code&lt;/body&gt;&lt;/html&gt;&quot;);\n    attachRequest(&quot;Request&quot;);\n    attachResponse(&quot;Response&quot;);\n}\n\n@AfterClass\npublic static void tearDown() {\n    if (driver != null) {\n        driver.quit();\n    }\n}\n\nprivate String random() {\n    return UUID.randomUUID().toString().substring(0, 8).replace(&quot;-&quot;, &quot;&quot;);\n}\n\n@Attachment(&quot;Screenshot&quot;)\npublic static byte[] takeScreenshot() {\n    return ((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES);\n}\n\n@Attachment(&quot;HTML Code&quot;)\npublic static ByteArrayInputStream attachHtmlCode(String htmlCode) {\n    return new ByteArrayInputStream(htmlCode.getBytes());\n}\n\n@Attachment(&quot;Request&quot;)\npublic static String attachRequest(String request) {\n    return request;\n}\n\n@Attachment(&quot;Response&quot;)\npublic static String attachResponse(String response) {\n    return response;\n}\n</code></pre>\n<p>}                                                                                                      ---testing.xml---</p>\n<pre><code>    &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot; &gt;\n&lt;suite name=&quot;End-to-End Test Suite&quot;&gt;\n    &lt;listeners&gt;\n        &lt;listener class-name=&quot;io.qameta.allure.testng.AllureTestNg&quot; /&gt;\n    &lt;/listeners&gt;\n    &lt;test name=&quot;AllureReportTest&quot;&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;AllureReport.AllureReportUITest&quot; /&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;                                                                                               \n</code></pre>\n<p>---pom.xml---</p>\n<pre><code>    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;untitled&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;Archetype - untitled&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;properties&gt;\n    &lt;aspectj.version&gt;1.8.10&lt;/aspectj.version&gt;\n  &lt;/properties&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n      &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n      &lt;version&gt;3.141.59&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n      &lt;version&gt;3.12.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.testng&lt;/groupId&gt;\n      &lt;artifactId&gt;testng&lt;/artifactId&gt;\n      &lt;version&gt;7.4.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n      &lt;version&gt;6.1.7.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n      &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n      &lt;version&gt;4.4.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n      &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n      &lt;version&gt;4.5.13&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.xerial&lt;/groupId&gt;\n      &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\n      &lt;version&gt;3.36.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n      &lt;version&gt;2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n      &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n      &lt;version&gt;4.4.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.13.2&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n      &lt;artifactId&gt;allure-junit5&lt;/artifactId&gt;\n      &lt;version&gt;2.16.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n      &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\n      &lt;version&gt;2.16.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n      &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n      &lt;version&gt;1.7.32&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-M5&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\n          &lt;argLine&gt;\n            -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\n          &lt;/argLine&gt;\n          &lt;properties&gt;\n            &lt;property&gt;\n              &lt;name&gt;listener&lt;/name&gt;\n              &lt;value&gt;io.qameta.allure.testng.AllureTestNg&lt;/value&gt;\n            &lt;/property&gt;\n          &lt;/properties&gt;\n        &lt;/configuration&gt;\n        &lt;dependencies&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n            &lt;version&gt;${aspectj.version}&lt;/version&gt;\n          &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n      &lt;/plugin&gt;\n      &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/NYLxS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NYLxS.png\" alt=\"My structure of files\" /></a></p>\n<p>Maybe i'm doing something wrong but i don't know what and could you help me out with this and tell me what should or change or how should i run it properly etc</p>\n"},{"tags":["java","spring-boot","api-gateway"],"comments":[{"owner":{"account_id":1359473,"reputation":1054,"user_id":1297091,"accept_rate":40,"display_name":"codezoner"},"score":0,"creation_date":1684173278,"post_id":75766435,"comment_id":134475459,"body_markdown":"Did you resolve the issue ? @user14807402","body":"Did you resolve the issue ? @user14807402"},{"owner":{"account_id":17966953,"reputation":99,"user_id":13056650,"display_name":"Valentine Sean"},"score":0,"creation_date":1684748662,"post_id":75766435,"comment_id":134557054,"body_markdown":"Share your API Gateway routes code.","body":"Share your API Gateway routes code."}],"owner":{"account_id":19207007,"reputation":23,"user_id":14807402,"display_name":"user14807402"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":549,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686181428,"creation_date":1679048467,"question_id":75766435,"body_markdown":"I have a simple Product project where I want to create multiple instances of the Product microservice and API-Gateway that will register to Eureka server. \r\n\r\nI have the following eureka server configurations: \r\n\r\n[![enter image description here][1]][1]\r\n\r\napplication.properties: \r\n```\r\nserver.port=8761\r\neureka.client.register-with-eureka=false\r\neureka.client.fetch-registry=false\r\neureka.instance.prefer-ip-address=true\r\neureka.client.service-url.defaultZone=http://localhost:8761/eureka\r\n``` \r\n\r\nI have the following application.properties for the API-Gateway microservice:\r\n[![enter image description here][2]][2]\r\n```\r\nspring.application.name=api-gateway\r\nserver.port=8082\r\neureka.client.service-url.defaultZone=http://localhost:8761/eureka\r\nspring.cloud.gateway.discovery.locator.enabled=true\r\nspring.cloud.gateway.discovery.locator.lower-case-service-id=true\r\n```\r\n\r\nI have the following application.properties for the Product microservice\r\n\r\n```\r\neureka.client.service-url.defaultZone=http://localhost:8761/eureka\r\nspring.application.name=product-service\r\nserver.port=0\r\neureka.instance.instance-id=${spring.application.name}:${instanceId:${random.value}}\r\n```\r\n\r\nI have created the RestController for the /products mapping\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/products&quot;)\r\n@Slf4j\r\npublic class ProductController {\r\n\r\n    private final CommandGateway commandGateway;\r\n\r\n    public ProductController(CommandGateway commandGateway) {\r\n        this.commandGateway = commandGateway;\r\n    }\r\n\r\n    @PostMapping\r\n    public String createProduct(@RequestBody CreateProductDTO createProductDTO) {\r\n        ...\r\n    }\r\n}\r\n```\r\n\r\nWhen I start the applications and check the localhost:8761, I notice that the host of the gateway microservice is host.docker.internal\r\n[![enter image description here][3]][3]\r\n\r\n\r\nWhen I send the request from Postman application I receive the following response: \r\n\r\n[![enter image description here][4]][4] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pxFm0.png\r\n  [2]: https://i.stack.imgur.com/A39Q1.png\r\n  [3]: https://i.stack.imgur.com/UI9WF.png\r\n  [4]: https://i.stack.imgur.com/W2A8U.png","title":"API-Gateway with Spring boot Eureka is not found","body":"<p>I have a simple Product project where I want to create multiple instances of the Product microservice and API-Gateway that will register to Eureka server.</p>\n<p>I have the following eureka server configurations:</p>\n<p><a href=\"https://i.stack.imgur.com/pxFm0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pxFm0.png\" alt=\"enter image description here\" /></a></p>\n<p>application.properties:</p>\n<pre><code>server.port=8761\neureka.client.register-with-eureka=false\neureka.client.fetch-registry=false\neureka.instance.prefer-ip-address=true\neureka.client.service-url.defaultZone=http://localhost:8761/eureka\n</code></pre>\n<p>I have the following application.properties for the API-Gateway microservice:\n<a href=\"https://i.stack.imgur.com/A39Q1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A39Q1.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>spring.application.name=api-gateway\nserver.port=8082\neureka.client.service-url.defaultZone=http://localhost:8761/eureka\nspring.cloud.gateway.discovery.locator.enabled=true\nspring.cloud.gateway.discovery.locator.lower-case-service-id=true\n</code></pre>\n<p>I have the following application.properties for the Product microservice</p>\n<pre><code>eureka.client.service-url.defaultZone=http://localhost:8761/eureka\nspring.application.name=product-service\nserver.port=0\neureka.instance.instance-id=${spring.application.name}:${instanceId:${random.value}}\n</code></pre>\n<p>I have created the RestController for the /products mapping</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/products&quot;)\n@Slf4j\npublic class ProductController {\n\n    private final CommandGateway commandGateway;\n\n    public ProductController(CommandGateway commandGateway) {\n        this.commandGateway = commandGateway;\n    }\n\n    @PostMapping\n    public String createProduct(@RequestBody CreateProductDTO createProductDTO) {\n        ...\n    }\n}\n</code></pre>\n<p>When I start the applications and check the localhost:8761, I notice that the host of the gateway microservice is host.docker.internal\n<a href=\"https://i.stack.imgur.com/UI9WF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UI9WF.png\" alt=\"enter image description here\" /></a></p>\n<p>When I send the request from Postman application I receive the following response:</p>\n<p><a href=\"https://i.stack.imgur.com/W2A8U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W2A8U.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":0,"creation_date":1590149233,"post_id":61954609,"comment_id":109577559,"body_markdown":"On what port are you running it? Also, what is the underlying web server that you&#39;re using for Spring Boot? Is it listening on all interfaces? How many network interfaces are you on? What version of Java is this?","body":"On what port are you running it? Also, what is the underlying web server that you&#39;re using for Spring Boot? Is it listening on all interfaces? How many network interfaces are you on? What version of Java is this?"},{"owner":{"account_id":3210091,"reputation":5835,"user_id":2710256,"accept_rate":46,"display_name":"breakline"},"score":0,"creation_date":1590149394,"post_id":61954609,"comment_id":109577648,"body_markdown":"Tried a lot of ports. Generally I&#39;m running this on 8580. Wireshark shows me the connection tries but there is never any answer. The server is an embedded tomcat. The tomcat access logs are empty. I&#39;m on one network via ethernet. Running Java 8.","body":"Tried a lot of ports. Generally I&#39;m running this on 8580. Wireshark shows me the connection tries but there is never any answer. The server is an embedded tomcat. The tomcat access logs are empty. I&#39;m on one network via ethernet. Running Java 8."},{"owner":{"account_id":6306033,"reputation":467,"user_id":4899086,"display_name":"Mukesh Keshu"},"score":0,"creation_date":1590149685,"post_id":61954609,"comment_id":109577827,"body_markdown":"Did you also try this in the default port - 8080 ? And he same issue happening there too ?","body":"Did you also try this in the default port - 8080 ? And he same issue happening there too ?"},{"owner":{"account_id":6154133,"reputation":643,"user_id":4797662,"accept_rate":80,"display_name":"Ishank Gulati"},"score":0,"creation_date":1590149689,"post_id":61954609,"comment_id":109577834,"body_markdown":"Have you tried turning on debug logs?","body":"Have you tried turning on debug logs?"},{"owner":{"account_id":3210091,"reputation":5835,"user_id":2710256,"accept_rate":46,"display_name":"breakline"},"score":0,"creation_date":1590149867,"post_id":61954609,"comment_id":109577940,"body_markdown":"Yes, tomcat logs are in debug mode. Nothing is on the console nor in log files. Spring logs run well otherwise but they show nothing about any incoming connections in these cases. When it runs well I can see requests/responses normally in all logs.","body":"Yes, tomcat logs are in debug mode. Nothing is on the console nor in log files. Spring logs run well otherwise but they show nothing about any incoming connections in these cases. When it runs well I can see requests/responses normally in all logs."},{"owner":{"account_id":1051236,"reputation":18972,"user_id":1055118,"accept_rate":100,"display_name":"doctorlove"},"score":0,"creation_date":1606313144,"post_id":61954609,"comment_id":114926643,"body_markdown":"Leaving myself  comment for a future me: running a tomcat server inside wsl2 also gave me a err_connection_refused. Restarting wsl2 fixed this (via services.msc and restart LxssManager)","body":"Leaving myself  comment for a future me: running a tomcat server inside wsl2 also gave me a err_connection_refused. Restarting wsl2 fixed this (via services.msc and restart LxssManager)"}],"answers":[{"tags":[],"owner":{"account_id":3210091,"reputation":5835,"user_id":2710256,"accept_rate":46,"display_name":"breakline"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599670663,"creation_date":1599670663,"answer_id":63816216,"question_id":61954609,"body_markdown":"I have figured this one out, so turns out, if you&#39;re using Quartz for task scheduling, Quartz WILL block your incoming requests in some way until it handles all the triggers it was supposed to fire while the server was off. So the longer you waited between runs the longer you have to wait while Quartz fixes itself. The solution for local work is simply to turn Quartz off unless you&#39;re debugging Quartz itself. \r\n\r\nSuper weird, took me months to understand it.","title":"Spring Boot app on localhost: connection refused","body":"<p>I have figured this one out, so turns out, if you're using Quartz for task scheduling, Quartz WILL block your incoming requests in some way until it handles all the triggers it was supposed to fire while the server was off. So the longer you waited between runs the longer you have to wait while Quartz fixes itself. The solution for local work is simply to turn Quartz off unless you're debugging Quartz itself.</p>\n<p>Super weird, took me months to understand it.</p>\n"},{"tags":[],"owner":{"account_id":28776131,"reputation":1,"user_id":22038733,"display_name":"SDrgn9"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686180573,"creation_date":1686180547,"answer_id":76427687,"question_id":61954609,"body_markdown":"Old Question, by in my case this was the solution:\r\n\r\n 1. End eclipse and all potentially running java/spring processs\r\n 2. Delete /target directory contents\r\n 3. Start eclipse\r\n 4. clean project\r\n 5. run app","title":"Spring Boot app on localhost: connection refused","body":"<p>Old Question, by in my case this was the solution:</p>\n<ol>\n<li>End eclipse and all potentially running java/spring processs</li>\n<li>Delete /target directory contents</li>\n<li>Start eclipse</li>\n<li>clean project</li>\n<li>run app</li>\n</ol>\n"}],"owner":{"account_id":3210091,"reputation":5835,"user_id":2710256,"accept_rate":46,"display_name":"breakline"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2367,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1686180573,"creation_date":1590148932,"question_id":61954609,"body_markdown":"I have a Spring Boot app which runs fine 80% of the time.\r\n\r\nIn the other 20% however, I get &quot;refused to connect&quot; errors on localhost. What I have tried:\r\n\r\n - changing ports \r\n - turning windows defender/firewall completely off\r\n - restarting\r\n\r\nNothing works. Then after a while when I keep the app running, it suddenly starts working again.\r\n\r\nAs you might know this is really bad for my workflow. I only have had this problem with Spring Boot apps. \r\n\r\nBut if I check the logs, when trying to connect nothing gets logged: these connection attempts don&#39;t even reach my app. I&#39;m running on an embedded server under Windows 10.\r\n\r\nIt might be the server blocks incoming connections, and if so, why? \r\n\r\nEverything here runs on localhost. Basically trying to open my spring boot app in chrome. Yet neither chrome nor anything on the local network can reach my spring boot app.\r\n\r\nAny ideas where to proceed with this?","title":"Spring Boot app on localhost: connection refused","body":"<p>I have a Spring Boot app which runs fine 80% of the time.</p>\n\n<p>In the other 20% however, I get \"refused to connect\" errors on localhost. What I have tried:</p>\n\n<ul>\n<li>changing ports </li>\n<li>turning windows defender/firewall completely off</li>\n<li>restarting</li>\n</ul>\n\n<p>Nothing works. Then after a while when I keep the app running, it suddenly starts working again.</p>\n\n<p>As you might know this is really bad for my workflow. I only have had this problem with Spring Boot apps. </p>\n\n<p>But if I check the logs, when trying to connect nothing gets logged: these connection attempts don't even reach my app. I'm running on an embedded server under Windows 10.</p>\n\n<p>It might be the server blocks incoming connections, and if so, why? </p>\n\n<p>Everything here runs on localhost. Basically trying to open my spring boot app in chrome. Yet neither chrome nor anything on the local network can reach my spring boot app.</p>\n\n<p>Any ideas where to proceed with this?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1686181780,"post_id":76427677,"comment_id":134765659,"body_markdown":"I can&#39;t find much about this question that I understand.  Do you want to know how to execute your integration tests against an environment, vis-a-vis a Spring profile-driven test?","body":"I can&#39;t find much about this question that I understand.  Do you want to know how to execute your integration tests against an environment, vis-a-vis a Spring profile-driven test?"},{"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"score":0,"creation_date":1686181957,"post_id":76427677,"comment_id":134765676,"body_markdown":"I think the right way is: make use of junit test framework and setup pipeline in Jenkins to run it.","body":"I think the right way is: make use of junit test framework and setup pipeline in Jenkins to run it."},{"owner":{"account_id":13181158,"reputation":420,"user_id":9520479,"display_name":"Jhilton"},"score":0,"creation_date":1686185011,"post_id":76427677,"comment_id":134765943,"body_markdown":"What are you using to write your integration tests? In JUnit 5 you could use Tags https://www.baeldung.com/junit-filtering-tests. In JUnit 4 the same concept is called Categories. How to run tests for an specific Tag is described in the same link ;)","body":"What are you using to write your integration tests? In JUnit 5 you could use Tags <a href=\"https://www.baeldung.com/junit-filtering-tests\" rel=\"nofollow noreferrer\">baeldung.com/junit-filtering-tests</a>. In JUnit 4 the same concept is called Categories. How to run tests for an specific Tag is described in the same link ;)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1686221947,"post_id":76427677,"comment_id":134770791,"body_markdown":"in maven (the naming convention (suffix) is already super), &quot;we&quot; have an extra &quot;life cycle phase&quot; and a plugin ([maven-failsafe-plugin](https://maven.apache.org/surefire/maven-failsafe-plugin/index.html) ..very similar to &quot;unit&quot;/surefire) (exactly) for this purpose...in gradle &quot;they&quot; :) have similar https://docs.gradle.org/current/userguide/java_testing.html#sec:configuring_java_integration_tests)","body":"in maven (the naming convention (suffix) is already super), &quot;we&quot; have an extra &quot;life cycle phase&quot; and a plugin (<a href=\"https://maven.apache.org/surefire/maven-failsafe-plugin/index.html\" rel=\"nofollow noreferrer\">maven-failsafe-plugin</a> ..very similar to &quot;unit&quot;/surefire) (exactly) for this purpose...in gradle &quot;they&quot; :) have similar <a href=\"https://docs.gradle.org/current/userguide/java_testing.html#sec:configuring_java_integration_tests\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/&hellip;</a>)"}],"owner":{"account_id":27660885,"reputation":7,"user_id":21113755,"display_name":"cs55"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686180370,"creation_date":1686180370,"question_id":76427677,"body_markdown":"What would be the best way of going about it?\r\n\r\nI am thinking of creating a scheduled API which will run all integration tests present in the project daily at a specified time. If I were to go for this route, can anyone point me out how I can write an endpoint that will pick up only integration tests to run in LLE and not in Prod?\r\n\r\nI suppose for this I will have to make sure all integration tests files are ending with `IntegrationTest.java` and will have to write a code to check for files ending with this name?","title":"How do I run integration tests in only lower lane environment?","body":"<p>What would be the best way of going about it?</p>\n<p>I am thinking of creating a scheduled API which will run all integration tests present in the project daily at a specified time. If I were to go for this route, can anyone point me out how I can write an endpoint that will pick up only integration tests to run in LLE and not in Prod?</p>\n<p>I suppose for this I will have to make sure all integration tests files are ending with <code>IntegrationTest.java</code> and will have to write a code to check for files ending with this name?</p>\n"},{"tags":["java","xml","spring","rest","jackson"],"comments":[{"owner":{"account_id":9147861,"reputation":159,"user_id":6803365,"display_name":"Hans FooBar"},"score":0,"creation_date":1686388161,"post_id":76427344,"comment_id":134794279,"body_markdown":"If one of the setters should be responsible, try setting `@JacksonXmlProperty(localName = &quot;year&quot;)` to this setter.  Maybe you can take the selection away from Jackson. For JSON there is the annotation @JacksonSetter to determine the setter. For XML, however, there is no such annotation.","body":"If one of the setters should be responsible, try setting <code>@JacksonXmlProperty(localName = &quot;year&quot;)</code> to this setter.  Maybe you can take the selection away from Jackson. For JSON there is the annotation @JacksonSetter to determine the setter. For XML, however, there is no such annotation."},{"owner":{"account_id":16223118,"reputation":85,"user_id":11714220,"display_name":"Alfredo Morales"},"score":0,"creation_date":1688001434,"post_id":76427344,"comment_id":135016545,"body_markdown":"@HansFooBar yes that would do it in any other class, but XMLGregorianCalendar  is a library I cant touch, I change XMLGregorianCalendar  to Date and it worked","body":"@HansFooBar yes that would do it in any other class, but XMLGregorianCalendar  is a library I cant touch, I change XMLGregorianCalendar  to Date and it worked"}],"owner":{"account_id":16223118,"reputation":85,"user_id":11714220,"display_name":"Alfredo Morales"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686179355,"creation_date":1686174952,"question_id":76427344,"body_markdown":"I&#39;m getting this error:\r\n\r\n    java.lang.IllegalArgumentException: Conflicting setter definitions for property &amp;quot;year&amp;quot;: javax.xml.datatype.XMLGregorianCalendar#setYear(1 params) vs javax.xml.datatype.XMLGregorianCalendar#setYear(1 params)\r\n\tcom.fasterxml.jackson.databind.introspect.POJOPropertyBuilder.getSetter(POJOPropertyBuilder.java:293)\r\n\tspringfox.documentation.schema.Annotations.tryGetSetterAnnotation(Annotations.java:74)\r\n\tspringfox.documentation.schema.Annotations.findPropertyAnnotation(Annotations.java:48)\r\n\t...\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.lang.Thread.run(Thread.java:748)\r\n\r\nbecause I have this mapping in one of my POJOs:\r\n\r\n    @XmlElement(name = &quot;FechaCreacion&quot;, required = true)\r\n\t@XmlSchemaType(name = &quot;dateTime&quot;)\r\n\tprotected XMLGregorianCalendar fechaCreacion;\r\n\r\nas I have checked *javax.xml.datatype.XMLGregorianCalendar* does have 2 setters for year,\r\n\r\n    public abstract void setYear(BigInteger year);\r\n\r\n    public abstract void setYear(int year);\r\n\r\nand is causing the conflict, so, how could I indicate what setter should it use?  \r\nOr how to avoid this conflict?  \r\n","title":"Conflicting setter definitions for property","body":"<p>I'm getting this error:</p>\n<pre><code>java.lang.IllegalArgumentException: Conflicting setter definitions for property &amp;quot;year&amp;quot;: javax.xml.datatype.XMLGregorianCalendar#setYear(1 params) vs javax.xml.datatype.XMLGregorianCalendar#setYear(1 params)\ncom.fasterxml.jackson.databind.introspect.POJOPropertyBuilder.getSetter(POJOPropertyBuilder.java:293)\nspringfox.documentation.schema.Annotations.tryGetSetterAnnotation(Annotations.java:74)\nspringfox.documentation.schema.Annotations.findPropertyAnnotation(Annotations.java:48)\n...\norg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\norg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\norg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\njava.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>because I have this mapping in one of my POJOs:</p>\n<pre><code>@XmlElement(name = &quot;FechaCreacion&quot;, required = true)\n@XmlSchemaType(name = &quot;dateTime&quot;)\nprotected XMLGregorianCalendar fechaCreacion;\n</code></pre>\n<p>as I have checked <em>javax.xml.datatype.XMLGregorianCalendar</em> does have 2 setters for year,</p>\n<pre><code>public abstract void setYear(BigInteger year);\n\npublic abstract void setYear(int year);\n</code></pre>\n<p>and is causing the conflict, so, how could I indicate what setter should it use?<br />\nOr how to avoid this conflict?</p>\n"},{"tags":["java","telegram","telegram-api"],"answers":[{"tags":[],"owner":{"account_id":12110694,"reputation":53,"user_id":8847608,"display_name":"IncogVito"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686179137,"creation_date":1686179137,"answer_id":76427608,"question_id":71968115,"body_markdown":"Make sure you provide a good token. \r\nYou can check it by manually requesting your telegram bot to delete webhook.\r\n[POST] https://api.telegram.org/bot&lt;your_token&gt;/deleteWebhook\r\n\r\nIf everything is alright you should get as a response: \r\n&lt;code&gt;\r\n{\r\n    &quot;ok&quot;: true,\r\n    &quot;result&quot;: true,\r\n    &quot;description&quot;: &quot;Webhook is already deleted&quot;\r\n}\r\n&lt;/code&gt;\r\n\r\nThen you&#39;ll be sure that your token is correct but you&#39;re providing it wrong.\r\nMaybe check your application.properties\r\n\r\nHowever if your response is different (eg. Not Found) - there&#39;s problem with your telegram token.","title":"How to solve telegram api java api error 404","body":"<p>Make sure you provide a good token.\nYou can check it by manually requesting your telegram bot to delete webhook.\n[POST] <a href=\"https://api.telegram.org/bot\" rel=\"nofollow noreferrer\">https://api.telegram.org/bot</a>&lt;your_token&gt;/deleteWebhook</p>\n<p>If everything is alright you should get as a response:\n<code>\n{\n&quot;ok&quot;: true,\n&quot;result&quot;: true,\n&quot;description&quot;: &quot;Webhook is already deleted&quot;\n}\n</code></p>\n<p>Then you'll be sure that your token is correct but you're providing it wrong.\nMaybe check your application.properties</p>\n<p>However if your response is different (eg. Not Found) - there's problem with your telegram token.</p>\n"}],"owner":{"account_id":1551684,"reputation":1024,"user_id":1443928,"accept_rate":93,"display_name":"Hard Worker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":844,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1686179137,"creation_date":1650627504,"question_id":71968115,"body_markdown":"\r\nI need help with this error when working with Telegram API\r\n\r\n    Error removing old webhook\r\n    at org.telegram.telegrambots.util.WebhookUtils.clearWebhook(WebhookUtils.java:112)\r\n    .....\r\n    Caused by: Error deleting webhook: [404] Not Found\r\n\r\n\r\nI have created a bot with telegram,\r\n\r\n\r\nService class:\r\n   \r\n    @Service\r\n    public class Test1Api {\r\n   \r\n   \r\n        @Autowired\r\n        public Test1Api(@Value(&quot;${bot.username:}&quot;) String botUserName, @Value(&quot;${bot.token:}&quot;) String botToken) {\r\n            try {\r\n                TelegramBotsApi telegramBotsApi = new TelegramBotsApi(DefaultBotSession.class);\r\n                telegramBotsApi.registerBot(new Test1Bot(botUserName, botToken));\r\n            } catch (TelegramApiException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nhere is the bot class\r\n\r\n    public class Test1Bot extends TelegramLongPollingBot {\r\n\r\n    private final String botUserName;\r\n    private final String botToken;\r\n\r\n    public Test1Bot(String botUserName, String botToken) {\r\n        this.botUserName = botUserName;\r\n        this.botToken = botToken;\r\n    }\r\n\r\n\r\n    @Override\r\n    public String getBotUsername() {\r\n        return botUserName;\r\n    }\r\n\r\n    @Override\r\n    public String getBotToken() {\r\n        return botToken;\r\n    }\r\n\r\n    @Override\r\n    public void onUpdateReceived(Update update) {\r\n        System.out.println(update.getMessage().getText());\r\n        System.out.println(update.getMessage().getFrom());\r\n    }\r\n\r\n\r\n\r\n\r\nWhen i try to run my code i have an error from telegram\r\nattaching here\r\nThe error from telegram:\r\nWhat can i do to fix it?\r\n \r\n\r\n\r\n","title":"How to solve telegram api java api error 404","body":"<p>I need help with this error when working with Telegram API</p>\n<pre><code>Error removing old webhook\nat org.telegram.telegrambots.util.WebhookUtils.clearWebhook(WebhookUtils.java:112)\n.....\nCaused by: Error deleting webhook: [404] Not Found\n</code></pre>\n<p>I have created a bot with telegram,</p>\n<p>Service class:</p>\n<pre><code>@Service\npublic class Test1Api {\n\n\n    @Autowired\n    public Test1Api(@Value(&quot;${bot.username:}&quot;) String botUserName, @Value(&quot;${bot.token:}&quot;) String botToken) {\n        try {\n            TelegramBotsApi telegramBotsApi = new TelegramBotsApi(DefaultBotSession.class);\n            telegramBotsApi.registerBot(new Test1Bot(botUserName, botToken));\n        } catch (TelegramApiException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>here is the bot class</p>\n<pre><code>public class Test1Bot extends TelegramLongPollingBot {\n\nprivate final String botUserName;\nprivate final String botToken;\n\npublic Test1Bot(String botUserName, String botToken) {\n    this.botUserName = botUserName;\n    this.botToken = botToken;\n}\n\n\n@Override\npublic String getBotUsername() {\n    return botUserName;\n}\n\n@Override\npublic String getBotToken() {\n    return botToken;\n}\n\n@Override\npublic void onUpdateReceived(Update update) {\n    System.out.println(update.getMessage().getText());\n    System.out.println(update.getMessage().getFrom());\n}\n</code></pre>\n<p>When i try to run my code i have an error from telegram\nattaching here\nThe error from telegram:\nWhat can i do to fix it?</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":8501246,"reputation":666,"user_id":6374123,"accept_rate":75,"display_name":"vsbehere"},"score":0,"creation_date":1498649757,"post_id":44801205,"comment_id":76582365,"body_markdown":"can you specify actual error you are getting/ problem you are facing?","body":"can you specify actual error you are getting/ problem you are facing?"},{"owner":{"account_id":9469264,"reputation":293,"user_id":7040565,"accept_rate":61,"display_name":"Roja"},"score":0,"creation_date":1498711922,"post_id":44801205,"comment_id":76613229,"body_markdown":"There is no error come out. The typed text just vanished immediately after tabbing to next field. Due to which the mandatory fields are left blank and that made me not to proceed further.","body":"There is no error come out. The typed text just vanished immediately after tabbing to next field. Due to which the mandatory fields are left blank and that made me not to proceed further."}],"answers":[{"tags":[],"owner":{"account_id":9469264,"reputation":293,"user_id":7040565,"accept_rate":61,"display_name":"Roja"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1499333117,"creation_date":1499333117,"answer_id":44944880,"question_id":44801205,"body_markdown":"Finally a solution found. After entering the text, sending the upwards key that worked perfectly.\r\n\r\n        element.sendKeys(text);\r\n        element.sendKeys(Keys.UP);","title":"Selenium Webdriver - The entered text is vanished when jumping to the next field","body":"<p>Finally a solution found. After entering the text, sending the upwards key that worked perfectly.</p>\n\n<pre><code>    element.sendKeys(text);\n    element.sendKeys(Keys.UP);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9498896,"reputation":11,"user_id":7060815,"display_name":"Ravi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579069998,"creation_date":1579069998,"answer_id":59746172,"question_id":44801205,"body_markdown":"If other options don&#39;t work, try\r\n    element.sendKeys(text);\r\n    element.sendKeys(Keys.RETURN);","title":"Selenium Webdriver - The entered text is vanished when jumping to the next field","body":"<p>If other options don't work, try\n    element.sendKeys(text);\n    element.sendKeys(Keys.RETURN);</p>\n"}],"owner":{"account_id":9469264,"reputation":293,"user_id":7040565,"accept_rate":61,"display_name":"Roja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":44944880,"answer_count":2,"score":0,"last_activity_date":1686178180,"creation_date":1498649492,"question_id":44801205,"body_markdown":"I am trying to enter the text and ensure it gets saved. In my project, there is no save button, as soon as it entered it gets saved. Only few fields that cracks me when entering the text. \r\n\r\nNote: I&#39;m using the latest version of Chrome and passing the numeric values as text.\r\n\r\nI referred to below pages and updated my code accordingly, then also this issue persists:\r\n\r\n* https://stackoverflow.com/questions/19137109/selenium-webdriver-entering-text-into-text-field\r\n\r\n* https://stackoverflow.com/questions/23412912/selenium-send-keys-doesnt-work-if-input-type-number\r\n\r\nBelow is the code that I used,\r\n\r\n     public void EnterValuesByIndex(String locator, String locatorValue, String text, int indexvalue) throws InterruptedException\r\n\t\t  {\r\n\t\t    WebElement element = null;\r\n\t\t    \r\n\t\t    if (locator.equalsIgnoreCase(&quot;cssSelector&quot;)) {\r\n\t\t      element = (WebElement)driver.findElements(By.cssSelector(locatorValue)).get(indexvalue - 1);\r\n\r\n\t\t    } else if (locator.equalsIgnoreCase(&quot;xpath&quot;)) {\r\n\t\t      element = (WebElement)driver.findElements(By.xpath(locatorValue)).get(indexvalue - 1);\r\n\r\n\t\t    } else if (locator.equalsIgnoreCase(&quot;id&quot;)) {\r\n\t\t      element = (WebElement)driver.findElements(By.id(locatorValue)).get(indexvalue - 1);\r\n\t\t    }\r\n\t\t    //element.clear();\r\n\t\t    element.sendKeys(text);\r\n\t\t    Thread.sleep(2000);\r\n\t\t    element.sendKeys(Keys.ENTER);\r\n\t\t\tSystem.out.println(&quot;Enter key is pressed&quot;);\r\n\t\t  }\r\n\r\nBelow code also used to enter character by character, same issue persists,\r\n\r\n    public void EnterTextbyChar(String locator, String locatorValue, String text, int indexvalue) throws InterruptedException\r\n\t\t\t{\r\n\t\t\t\tString value = text;\t\t\t\t\r\n\t\t\t\tWebElement element = null;\r\n\r\n\t\t\t    if (locator.equalsIgnoreCase(&quot;cssSelector&quot;)) {\r\n\t\t\t\telement = (WebElement)driver.findElements(By.cssSelector(locatorValue)).get(indexvalue - 1);\r\n\t\t\t    } else if (locator.equalsIgnoreCase(&quot;xpath&quot;)) {\r\n\t\t\t    \telement = (WebElement)driver.findElements(By.xpath(locatorValue)).get(indexvalue - 1);\r\n \r\n\t\t\t    } else if (locator.equalsIgnoreCase(&quot;id&quot;)){\r\n\t\t\t      element = (WebElement)driver.findElements(By.id(locatorValue)).get(indexvalue - 1);\t\t\t    }\r\n\t\t\t\telement.clear();\r\n\t\t\t\tfor (int i = 0; i &lt; value.length(); i++)\r\n\t\t\t\t{\r\n\t\t\t\t  char c = value.charAt(i);\r\n\t\t\t\t  String s = new StringBuilder().append(c).toString();\r\n\t\t\t\t  element.sendKeys(s);\r\n\t\t\t\t  element.sendKeys(Keys.RETURN);\r\n\t\t\t\t  element.click();\r\n\t\t\t\t  Thread.sleep(2000);\r\n\t\t\t\t  System.out.println(&quot;Return key is pressed in EnterTextByChar method&quot;);\r\n\t\t\t\t  System.out.println(c);\r\n\t\t\t\t }  \r\n\t\t\t }","title":"Selenium Webdriver - The entered text is vanished when jumping to the next field","body":"<p>I am trying to enter the text and ensure it gets saved. In my project, there is no save button, as soon as it entered it gets saved. Only few fields that cracks me when entering the text. </p>\n\n<p>Note: I'm using the latest version of Chrome and passing the numeric values as text.</p>\n\n<p>I referred to below pages and updated my code accordingly, then also this issue persists:</p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/19137109/selenium-webdriver-entering-text-into-text-field\">Selenium Webdriver: Entering text into text field</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/23412912/selenium-send-keys-doesnt-work-if-input-type-number\">Selenium send_keys doesn&#39;t work if input type=&quot;number&quot;</a></p></li>\n</ul>\n\n<p>Below is the code that I used,</p>\n\n<pre><code> public void EnterValuesByIndex(String locator, String locatorValue, String text, int indexvalue) throws InterruptedException\n      {\n        WebElement element = null;\n\n        if (locator.equalsIgnoreCase(\"cssSelector\")) {\n          element = (WebElement)driver.findElements(By.cssSelector(locatorValue)).get(indexvalue - 1);\n\n        } else if (locator.equalsIgnoreCase(\"xpath\")) {\n          element = (WebElement)driver.findElements(By.xpath(locatorValue)).get(indexvalue - 1);\n\n        } else if (locator.equalsIgnoreCase(\"id\")) {\n          element = (WebElement)driver.findElements(By.id(locatorValue)).get(indexvalue - 1);\n        }\n        //element.clear();\n        element.sendKeys(text);\n        Thread.sleep(2000);\n        element.sendKeys(Keys.ENTER);\n        System.out.println(\"Enter key is pressed\");\n      }\n</code></pre>\n\n<p>Below code also used to enter character by character, same issue persists,</p>\n\n<pre><code>public void EnterTextbyChar(String locator, String locatorValue, String text, int indexvalue) throws InterruptedException\n        {\n            String value = text;                \n            WebElement element = null;\n\n            if (locator.equalsIgnoreCase(\"cssSelector\")) {\n            element = (WebElement)driver.findElements(By.cssSelector(locatorValue)).get(indexvalue - 1);\n            } else if (locator.equalsIgnoreCase(\"xpath\")) {\n                element = (WebElement)driver.findElements(By.xpath(locatorValue)).get(indexvalue - 1);\n\n            } else if (locator.equalsIgnoreCase(\"id\")){\n              element = (WebElement)driver.findElements(By.id(locatorValue)).get(indexvalue - 1);               }\n            element.clear();\n            for (int i = 0; i &lt; value.length(); i++)\n            {\n              char c = value.charAt(i);\n              String s = new StringBuilder().append(c).toString();\n              element.sendKeys(s);\n              element.sendKeys(Keys.RETURN);\n              element.click();\n              Thread.sleep(2000);\n              System.out.println(\"Return key is pressed in EnterTextByChar method\");\n              System.out.println(c);\n             }  \n         }\n</code></pre>\n"},{"tags":["java","applet","awt"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1686179448,"post_id":76427501,"comment_id":134765458,"body_markdown":"And you are using (or learning) applets because .... ?  Applets were deprecated a long time ago.  Web browsers no longer support them.  Java (9 onwards) is progressively removing support.  Writing new applet code (or learning how to do it) is nugatory.","body":"And you are using (or learning) applets because .... ?  Applets were deprecated a long time ago.  Web browsers no longer support them.  Java (9 onwards) is progressively removing support.  Writing new applet code (or learning how to do it) is nugatory."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1686179695,"post_id":76427501,"comment_id":134765481,"body_markdown":"See also https://stackoverflow.com/questions/45535112","body":"See also <a href=\"https://stackoverflow.com/questions/45535112\">stackoverflow.com/questions/45535112</a>"},{"owner":{"account_id":19056555,"reputation":3,"user_id":13913585,"display_name":"Vedant Bahel"},"score":0,"creation_date":1686193126,"post_id":76427501,"comment_id":134766551,"body_markdown":"Coz I&#39;m working on a legacy code originally written in 2002. It&#39;s research work, so got to stick to the interface. @StephenC","body":"Coz I&#39;m working on a legacy code originally written in 2002. It&#39;s research work, so got to stick to the interface. @StephenC"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1686239172,"post_id":76427501,"comment_id":134774905,"body_markdown":"@StephenC [Everything old is new again!](https://www.webswing.org/docs/23.1/configure/applet.html)","body":"@StephenC <a href=\"https://www.webswing.org/docs/23.1/configure/applet.html\" rel=\"nofollow noreferrer\">Everything old is new again!</a>"}],"answers":[{"comments":[{"owner":{"account_id":19056555,"reputation":3,"user_id":13913585,"display_name":"Vedant Bahel"},"score":0,"creation_date":1686192985,"post_id":76427511,"comment_id":134766545,"body_markdown":"Thanks, that worked. \nI also want to do this for another button. I tried implementing the same thing but that didn&#39;t work. \nThis is the code for the other button:\nopenExplanationPanel = new JPanel();\n        openExplanationPanel.setAlignmentX(0.0f);\n        JButton openExplanationButton = new JButton(\n                isLevel1HintExplanation ? Content.getLevel1Question() : Content.getLevel1QuestionAgain());","body":"Thanks, that worked.  I also want to do this for another button. I tried implementing the same thing but that didn&#39;t work.  This is the code for the other button: openExplanationPanel = new JPanel();         openExplanationPanel.setAlignmentX(0.0f);         JButton openExplanationButton = new JButton(                 isLevel1HintExplanation ? Content.getLevel1Question() : Content.getLevel1QuestionAgain());"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1686194007,"post_id":76427511,"comment_id":134766624,"body_markdown":"Why are you creating another panel? `buttonsPanel.add(openExplanationButton, BorderLayout.EAST);` should do it. Maybe.","body":"Why are you creating another panel? <code>buttonsPanel.add(openExplanationButton, BorderLayout.EAST);</code> should do it. Maybe."},{"owner":{"account_id":19056555,"reputation":3,"user_id":13913585,"display_name":"Vedant Bahel"},"score":0,"creation_date":1686195074,"post_id":76427511,"comment_id":134766694,"body_markdown":"Cool. It could make it work. Thanks a lot!","body":"Cool. It could make it work. Thanks a lot!"}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686177596,"creation_date":1686177596,"answer_id":76427511,"question_id":76427501,"body_markdown":"This\r\n\r\n    JButton closeButton = new JButton(&quot; Close Hint &quot;);\r\n\r\ncreates a [*variable shadow*](https://en.wikipedia.org/wiki/Variable_shadowing). Remove the type declaration. And use `this`.\r\n\r\n    this.closeButton = new JButton(&quot; Close Hint &quot;);\r\n","title":"IsEnabled not working when a function is triggered in Java applet","body":"<p>This</p>\n<pre><code>JButton closeButton = new JButton(&quot; Close Hint &quot;);\n</code></pre>\n<p>creates a <a href=\"https://en.wikipedia.org/wiki/Variable_shadowing\" rel=\"nofollow noreferrer\"><em>variable shadow</em></a>. Remove the type declaration. And use <code>this</code>.</p>\n<pre><code>this.closeButton = new JButton(&quot; Close Hint &quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686178123,"creation_date":1686178123,"answer_id":76427545,"question_id":76427501,"body_markdown":"&lt;h3&gt; Access to variable issue &lt;/h3&gt;\r\n\r\nBy declaring `closeButton` variable outside of `initUI` you now make it possible to access this variable from the `openExplanation()` method.\r\n\r\n**Code:**\r\n\r\n    // Declare JButton closeButton variable here\r\n    private JButton closeButton;\r\n    \r\n    private void initUI() {\r\n    \r\n      hintArea = new JDialog(this);\r\n    \r\n      buttonsPanel = new JPanel();\r\n      buttonsPanel.setAlignmentX(0.0 f);\r\n    \r\n      closeButton = new JButton(&quot; Close Hint &quot;);\r\n      closeButton.setActionCommand(&quot;closeHint&quot;);\r\n      closeButton.setVisible(true);\r\n      closeButton.addActionListener(this);\r\n      closeButton.setFocusable(false);\r\n      closeButton.setIcon(createImageIcon(&quot;images/constraint/close.gif&quot;));\r\n      buttonsPanel.add(closeButton, BorderLayout.WEST);\r\n    \r\n      hintArea.add(buttonsPanel, BorderLayout.CENTER);\r\n    }\r\n    \r\n    private void openExplanation() {\r\n      closeButton.setEnabled(false);\r\n    }","title":"IsEnabled not working when a function is triggered in Java applet","body":"<h3> Access to variable issue </h3>\n<p>By declaring <code>closeButton</code> variable outside of <code>initUI</code> you now make it possible to access this variable from the <code>openExplanation()</code> method.</p>\n<p><strong>Code:</strong></p>\n<pre><code>// Declare JButton closeButton variable here\nprivate JButton closeButton;\n\nprivate void initUI() {\n\n  hintArea = new JDialog(this);\n\n  buttonsPanel = new JPanel();\n  buttonsPanel.setAlignmentX(0.0 f);\n\n  closeButton = new JButton(&quot; Close Hint &quot;);\n  closeButton.setActionCommand(&quot;closeHint&quot;);\n  closeButton.setVisible(true);\n  closeButton.addActionListener(this);\n  closeButton.setFocusable(false);\n  closeButton.setIcon(createImageIcon(&quot;images/constraint/close.gif&quot;));\n  buttonsPanel.add(closeButton, BorderLayout.WEST);\n\n  hintArea.add(buttonsPanel, BorderLayout.CENTER);\n}\n\nprivate void openExplanation() {\n  closeButton.setEnabled(false);\n}\n</code></pre>\n"}],"owner":{"account_id":19056555,"reputation":3,"user_id":13913585,"display_name":"Vedant Bahel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686178123,"creation_date":1686177424,"question_id":76427501,"body_markdown":"I want a button (&quot;closeButton&quot;) to grey out when the function &quot;openExplanations&quot; run. But it is not working. \r\n\r\nGives error \r\nCannot invoke &quot;javax.swing.JButton.setEnabled(boolean)&quot; because &quot;this.closeButton&quot; is null\r\n\r\n```\r\n\r\n//the UI\r\nprivate void initUI() {\r\n\r\nhintArea = new JDialog(this);\r\n\r\nbuttonsPanel = new JPanel();\r\nbuttonsPanel.setAlignmentX(0.0f);\r\n\r\nJButton closeButton = new JButton(&quot; Close Hint &quot;);\r\n        closeButton.setActionCommand(&quot;closeHint&quot;);\r\n        closeButton.setVisible(true);\r\n        closeButton.addActionListener(this);\r\n        closeButton.setFocusable(false);\r\n        closeButton.setIcon(createImageIcon(&quot;images/constraint/close.gif&quot;));\r\n        buttonsPanel.add(closeButton, BorderLayout.WEST);\r\n\r\nhintArea.add(buttonsPanel, BorderLayout.CENTER);\r\n}\r\n\r\n\r\nprivate void openExplanation(){\r\n        closeButton.setEnabled(false);\r\n    }\r\n\r\n```","title":"IsEnabled not working when a function is triggered in Java applet","body":"<p>I want a button (&quot;closeButton&quot;) to grey out when the function &quot;openExplanations&quot; run. But it is not working.</p>\n<p>Gives error\nCannot invoke &quot;javax.swing.JButton.setEnabled(boolean)&quot; because &quot;this.closeButton&quot; is null</p>\n<pre><code>\n//the UI\nprivate void initUI() {\n\nhintArea = new JDialog(this);\n\nbuttonsPanel = new JPanel();\nbuttonsPanel.setAlignmentX(0.0f);\n\nJButton closeButton = new JButton(&quot; Close Hint &quot;);\n        closeButton.setActionCommand(&quot;closeHint&quot;);\n        closeButton.setVisible(true);\n        closeButton.addActionListener(this);\n        closeButton.setFocusable(false);\n        closeButton.setIcon(createImageIcon(&quot;images/constraint/close.gif&quot;));\n        buttonsPanel.add(closeButton, BorderLayout.WEST);\n\nhintArea.add(buttonsPanel, BorderLayout.CENTER);\n}\n\n\nprivate void openExplanation(){\n        closeButton.setEnabled(false);\n    }\n\n</code></pre>\n"},{"tags":["java","html","web-services","server","tomcat8"],"comments":[{"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"score":0,"creation_date":1525718968,"post_id":41690854,"comment_id":87458420,"body_markdown":"It can also happen, if you use `com.sun.xml.bind.marshaller.NamespacePrefixMapper` and its `getPreferredPrefix` returns an empty (or null) string.","body":"It can also happen, if you use <code>com.sun.xml.bind.marshaller.NamespacePrefixMapper</code> and its <code>getPreferredPrefix</code> returns an empty (or null) string."}],"answers":[{"tags":[],"owner":{"account_id":2580571,"reputation":166,"user_id":2237351,"display_name":"deepakborania"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485245760,"creation_date":1485245760,"answer_id":41823127,"question_id":41690854,"body_markdown":"I am not an expert in this area but it seems like some sort of problem with request or cookies encoding. Might also be a tomcat bug. \r\n\r\nFor the first error can you try Rfc6265CookieProcessor.Please check [this][1] for details.\r\n\r\n    &lt;Context&gt;\r\n    ....\r\n    \t&lt;CookieProcessor className=&quot;org.apache.tomcat.util.http.Rfc6265CookieProcessor&quot; /&gt;\r\n    ....\r\n    &lt;/Context&gt;\r\n\r\n  [1]: http://tomcat.apache.org/tomcat-8.0-doc/config/cookie-processor.html","title":"Server: [http-nio-8080-exec-7] org.apache.coyote.http11.Http11Processor.service Error processing request java.lang.NullPointerException","body":"<p>I am not an expert in this area but it seems like some sort of problem with request or cookies encoding. Might also be a tomcat bug. </p>\n\n<p>For the first error can you try Rfc6265CookieProcessor.Please check <a href=\"http://tomcat.apache.org/tomcat-8.0-doc/config/cookie-processor.html\" rel=\"nofollow noreferrer\">this</a> for details.</p>\n\n<pre><code>&lt;Context&gt;\n....\n    &lt;CookieProcessor className=\"org.apache.tomcat.util.http.Rfc6265CookieProcessor\" /&gt;\n....\n&lt;/Context&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7674343,"reputation":4141,"user_id":5815673,"accept_rate":0,"display_name":"Farmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485756655,"creation_date":1485756655,"answer_id":41929919,"question_id":41690854,"body_markdown":"This type of error occur when some problem with your tomcat version. Without a test case to reproduce the problem there is little the Tomcat developers can do. It looks like multiple threads are acting on the same socket at the same time. What I can&#39;t tell is if that is intentional, the result of a Tomcat bug or something the frameworks/app is doing.\r\n\r\nI don&#39;t have much knowledge of this but i have fixed my issue [after ready this.][1]\r\n\r\n&gt; Other solution:-\r\n\r\nThis was also [asked before here][2]. It possible that which version of tomcat are you using?\r\n\r\nFor this exception \r\n\r\n    SEVERE: An exception or error occurred in the container during the request processing\r\n    java.lang.NullPointerException\r\n\r\nyou need to [read this stack overflow answer.][3]\r\n\r\nThe 502 Bad Gateway error is an HTTP status code that means that one server on the internet received an invalid response from another server.\r\nFor that you need to [read this tutorial.][4]\r\n\r\n\r\n  [1]: https://bz.apache.org/bugzilla/show_bug.cgi?id=53697\r\n  [2]: https://github.com/magro/memcached-session-manager/issues/301\r\n  [3]: https://stackoverflow.com/questions/8119143/org-apache-coyote-http11-http11protocolhttp11connectionhandler-process-severe\r\n  [4]: https://www.lifewire.com/502-bad-gateway-error-explained-2622939","title":"Server: [http-nio-8080-exec-7] org.apache.coyote.http11.Http11Processor.service Error processing request java.lang.NullPointerException","body":"<p>This type of error occur when some problem with your tomcat version. Without a test case to reproduce the problem there is little the Tomcat developers can do. It looks like multiple threads are acting on the same socket at the same time. What I can't tell is if that is intentional, the result of a Tomcat bug or something the frameworks/app is doing.</p>\n\n<p>I don't have much knowledge of this but i have fixed my issue <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=53697\" rel=\"nofollow noreferrer\">after ready this.</a></p>\n\n<blockquote>\n  <p>Other solution:-</p>\n</blockquote>\n\n<p>This was also <a href=\"https://github.com/magro/memcached-session-manager/issues/301\" rel=\"nofollow noreferrer\">asked before here</a>. It possible that which version of tomcat are you using?</p>\n\n<p>For this exception </p>\n\n<pre><code>SEVERE: An exception or error occurred in the container during the request processing\njava.lang.NullPointerException\n</code></pre>\n\n<p>you need to <a href=\"https://stackoverflow.com/questions/8119143/org-apache-coyote-http11-http11protocolhttp11connectionhandler-process-severe\">read this stack overflow answer.</a></p>\n\n<p>The 502 Bad Gateway error is an HTTP status code that means that one server on the internet received an invalid response from another server.\nFor that you need to <a href=\"https://www.lifewire.com/502-bad-gateway-error-explained-2622939\" rel=\"nofollow noreferrer\">read this tutorial.</a></p>\n"},{"tags":[],"owner":{"account_id":11688771,"reputation":9,"user_id":8557703,"display_name":"TRC4"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686177763,"creation_date":1522291542,"answer_id":49547205,"question_id":41690854,"body_markdown":"Replace `http-nio-8080` with `http://localhost:8080` or `ip:8080`.","title":"Server: [http-nio-8080-exec-7] org.apache.coyote.http11.Http11Processor.service Error processing request java.lang.NullPointerException","body":"<p>Replace <code>http-nio-8080</code> with <code>http://localhost:8080</code> or <code>ip:8080</code>.</p>\n"},{"tags":[],"owner":{"account_id":5964912,"reputation":11,"user_id":4688912,"display_name":"zhHebut"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600258771,"creation_date":1600258771,"answer_id":63919947,"question_id":41690854,"body_markdown":"This is a bug of tomcat that was introduced by the refactoring in 8.5.x onwards. You can search the tomcat bug list https://bz.apache.org/bugzilla/show_bug.cgi?id=60918\r\n\r\nYou can solve the problem by upgrade the tomcat version, or modify the server.xml\r\nset useSendfile=&quot;false&quot;\r\n\r\n    &lt;Connector executor=&quot;tomcatThreadPool&quot; port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot; maxHttpHeaderSize=&quot;16384&quot; maxThreads=&quot;2000&quot; connectionTimeout=&quot;60000&quot; disableUploadTimeout=&quot;true&quot; redirectPort=&quot;8443&quot; useSendfile=&quot;false&quot;/&gt;","title":"Server: [http-nio-8080-exec-7] org.apache.coyote.http11.Http11Processor.service Error processing request java.lang.NullPointerException","body":"<p>This is a bug of tomcat that was introduced by the refactoring in 8.5.x onwards. You can search the tomcat bug list <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=60918\" rel=\"nofollow noreferrer\">https://bz.apache.org/bugzilla/show_bug.cgi?id=60918</a></p>\n<p>You can solve the problem by upgrade the tomcat version, or modify the server.xml\nset useSendfile=&quot;false&quot;</p>\n<pre><code>&lt;Connector executor=&quot;tomcatThreadPool&quot; port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot; maxHttpHeaderSize=&quot;16384&quot; maxThreads=&quot;2000&quot; connectionTimeout=&quot;60000&quot; disableUploadTimeout=&quot;true&quot; redirectPort=&quot;8443&quot; useSendfile=&quot;false&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":7118627,"reputation":2330,"user_id":5443977,"accept_rate":45,"display_name":"Python Basketball"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43533,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1686177763,"creation_date":1484636628,"question_id":41690854,"body_markdown":"My tomcat server always throws the following the errors(in the linux,Tomcat version is 8.5.4, using tail -f catalina.out):\r\n\r\nThe first error:\r\n\r\n    17-Jan-2017 10:39:24.982 SEVERE [http-nio-8080-exec-7] org.apache.coyote.http11.Http11Processor.service Error processing request\r\n     java.lang.NullPointerException\r\n    \tat org.apache.catalina.connector.Request.parseCookies(Request.java:3047)\r\n    \tat org.apache.catalina.connector.Request.getServerCookies(Request.java:2098)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.parseSessionCookiesId(CoyoteAdapter.java:1007)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.postParseRequest(CoyoteAdapter.java:707)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:1110)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:785)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1425)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    \r\n    17-Jan-2017 10:39:24.983 SEVERE [http-nio-8080-exec-7] org.apache.coyote.http11.Http11Processor.endRequest Error finishing response\r\n     java.lang.NullPointerException\r\n    \r\nThe second error:\r\n\r\n    17-Jan-2017 11:08:33.696 SEVERE [http-nio-8080-exec-8] org.apache.coyote.http11.Http11Processor.endRequest Error finishing response\r\n     java.lang.NullPointerException\r\n    \r\n    17-Jan-2017 11:08:33.743 SEVERE [http-nio-8080-exec-7] org.apache.coyote.http11.Http11Processor.service Error processing request\r\n     java.lang.NullPointerException\r\n    \r\n    17-Jan-2017 11:08:33.743 SEVERE [http-nio-8080-exec-7] org.apache.coyote.http11.Http11Processor.endRequest Error finishing response\r\n     java.lang.NullPointerException\r\n    \r\n    17-Jan-2017 11:08:33.838 SEVERE [http-nio-8080-exec-7] org.apache.coyote.http11.Http11Processor.service Error processing request\r\n     java.lang.NullPointerException\r\n    \r\n    17-Jan-2017 11:08:33.838 SEVERE [http-nio-8080-exec-7] org.apache.coyote.http11.Http11Processor.endRequest Error finishing response\r\n     java.lang.NullPointerException\r\n\r\nThe third error:\r\n\r\n    17-Jan-2017 11:20:52.232 SEVERE [http-nio-8080-exec-3] org.apache.coyote.http11.Http11Processor.service Error processing request\r\n     java.lang.NullPointerException\r\n    \tat org.apache.tomcat.util.buf.MessageBytes.toChars(MessageBytes.java:257)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.postParseRequest(CoyoteAdapter.java:641)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:1110)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:785)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1425)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n\r\nThe front end html always print the errors:\r\n\r\n    Failed to load resource: the server responded with a status of 502 (Bad Gateway)\r\n\r\nBackend server mainly use Spring, Jersey and the front end uses H5, AngularJS. Any idea, i will appreciate!\r\n","title":"Server: [http-nio-8080-exec-7] org.apache.coyote.http11.Http11Processor.service Error processing request java.lang.NullPointerException","body":"<p>My tomcat server always throws the following the errors(in the linux,Tomcat version is 8.5.4, using tail -f catalina.out):</p>\n\n<p>The first error:</p>\n\n<pre><code>17-Jan-2017 10:39:24.982 SEVERE [http-nio-8080-exec-7] org.apache.coyote.http11.Http11Processor.service Error processing request\n java.lang.NullPointerException\n    at org.apache.catalina.connector.Request.parseCookies(Request.java:3047)\n    at org.apache.catalina.connector.Request.getServerCookies(Request.java:2098)\n    at org.apache.catalina.connector.CoyoteAdapter.parseSessionCookiesId(CoyoteAdapter.java:1007)\n    at org.apache.catalina.connector.CoyoteAdapter.postParseRequest(CoyoteAdapter.java:707)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:1110)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:785)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1425)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:745)\n\n17-Jan-2017 10:39:24.983 SEVERE [http-nio-8080-exec-7] org.apache.coyote.http11.Http11Processor.endRequest Error finishing response\n java.lang.NullPointerException\n</code></pre>\n\n<p>The second error:</p>\n\n<pre><code>17-Jan-2017 11:08:33.696 SEVERE [http-nio-8080-exec-8] org.apache.coyote.http11.Http11Processor.endRequest Error finishing response\n java.lang.NullPointerException\n\n17-Jan-2017 11:08:33.743 SEVERE [http-nio-8080-exec-7] org.apache.coyote.http11.Http11Processor.service Error processing request\n java.lang.NullPointerException\n\n17-Jan-2017 11:08:33.743 SEVERE [http-nio-8080-exec-7] org.apache.coyote.http11.Http11Processor.endRequest Error finishing response\n java.lang.NullPointerException\n\n17-Jan-2017 11:08:33.838 SEVERE [http-nio-8080-exec-7] org.apache.coyote.http11.Http11Processor.service Error processing request\n java.lang.NullPointerException\n\n17-Jan-2017 11:08:33.838 SEVERE [http-nio-8080-exec-7] org.apache.coyote.http11.Http11Processor.endRequest Error finishing response\n java.lang.NullPointerException\n</code></pre>\n\n<p>The third error:</p>\n\n<pre><code>17-Jan-2017 11:20:52.232 SEVERE [http-nio-8080-exec-3] org.apache.coyote.http11.Http11Processor.service Error processing request\n java.lang.NullPointerException\n    at org.apache.tomcat.util.buf.MessageBytes.toChars(MessageBytes.java:257)\n    at org.apache.catalina.connector.CoyoteAdapter.postParseRequest(CoyoteAdapter.java:641)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:1110)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:785)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1425)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>The front end html always print the errors:</p>\n\n<pre><code>Failed to load resource: the server responded with a status of 502 (Bad Gateway)\n</code></pre>\n\n<p>Backend server mainly use Spring, Jersey and the front end uses H5, AngularJS. Any idea, i will appreciate!</p>\n"},{"tags":["java","gatling"],"answers":[{"tags":[],"owner":{"account_id":4980140,"reputation":3385,"user_id":4005379,"accept_rate":64,"display_name":"Alferd Nobel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686176795,"creation_date":1686176185,"answer_id":76427424,"question_id":76420113,"body_markdown":"Ok , I managed to get this working like so :\r\n\r\n```\r\n protected ScenarioBuilder createScenario(GatlingScenario scenario) {\r\n\r\n        List&lt;ChainBuilder&gt; chainBuildersList = new ArrayList&lt;&gt;();\r\n\r\n        LinkedHashMap&lt;String,List&lt;ChainBuilder&gt;&gt; groupChainMap = \r\n                             scenario.getGroupChainBuilderMap();\r\n\r\n        groupChainMap.forEach((groupName,groupChainList) -&gt; {\r\n            chainBuildersList.add(\r\n               exec(group(groupName).on(exec((groupChainList)))));\r\n        });\r\n\r\n        return scenario(scenario.getScenarioName())\r\n                .exec(session -&gt; session.setAll(Map.of(\r\n                       &quot;timeStamp&quot;, nlocalDateTime, &quot;baseUrl&quot;, this.baseUrl)))\r\n                .exec(chainBuildersList);\r\n\r\n    }\r\n\r\n@AllArgsConstructor\r\n@Getter\r\npublic class GatlingScenario {\r\n    private String scenarioName;\r\n    private LinkedHashMap&lt;String, List&lt;ChainBuilder&gt;&gt; groupChainBuilderMap;\r\n}\r\n\r\n// ChainBuilders are like :\r\n\r\n   List&lt;ChainBuilder&gt; loginChainList = List.of(LLogin.doLogin,\r\n                LPlan.doAdminLoginMain);\r\n\r\n   List&lt;ChainBuilder&gt; getUserChainList = \r\n             List.of(LmsUser.doGetUserMetaData,\r\n                LUser.doGetUserInitSearchEndPoint,\r\n                LUser.doSearchAllUsers);","title":"Creating Gatling ScenarioBuilder using multiple ChainBuilders groups","body":"<p>Ok , I managed to get this working like so :</p>\n<pre><code> protected ScenarioBuilder createScenario(GatlingScenario scenario) {\n\n        List&lt;ChainBuilder&gt; chainBuildersList = new ArrayList&lt;&gt;();\n\n        LinkedHashMap&lt;String,List&lt;ChainBuilder&gt;&gt; groupChainMap = \n                             scenario.getGroupChainBuilderMap();\n\n        groupChainMap.forEach((groupName,groupChainList) -&gt; {\n            chainBuildersList.add(\n               exec(group(groupName).on(exec((groupChainList)))));\n        });\n\n        return scenario(scenario.getScenarioName())\n                .exec(session -&gt; session.setAll(Map.of(\n                       &quot;timeStamp&quot;, nlocalDateTime, &quot;baseUrl&quot;, this.baseUrl)))\n                .exec(chainBuildersList);\n\n    }\n\n@AllArgsConstructor\n@Getter\npublic class GatlingScenario {\n    private String scenarioName;\n    private LinkedHashMap&lt;String, List&lt;ChainBuilder&gt;&gt; groupChainBuilderMap;\n}\n\n// ChainBuilders are like :\n\n   List&lt;ChainBuilder&gt; loginChainList = List.of(LLogin.doLogin,\n                LPlan.doAdminLoginMain);\n\n   List&lt;ChainBuilder&gt; getUserChainList = \n             List.of(LmsUser.doGetUserMetaData,\n                LUser.doGetUserInitSearchEndPoint,\n                LUser.doSearchAllUsers);\n</code></pre>\n"}],"owner":{"account_id":4980140,"reputation":3385,"user_id":4005379,"accept_rate":64,"display_name":"Alferd Nobel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76427424,"answer_count":1,"score":0,"last_activity_date":1686176795,"creation_date":1686115787,"question_id":76420113,"body_markdown":"In gatling, How do I create scenarioBuilder by iterating on the `groupBuilderMap`? \r\n\r\nI attempted with the  below code , however I see only the first chainBuilder group gets executed . The session gets invalidated for the subsequent chain builder groups, and the session attributes does not get resolved. \r\n\r\n\r\n \r\n\r\n    protected ScenarioBuilder createScenario(GatlingScenario scenario) {\r\n            Map&lt;String, ChainBuilder[]&gt; groupBuilderMap = scenario.getGroupChainBuilderMap();\r\n    \r\n            this.scenarioBuilder = scenario(this.gatlingScenario.getScenarioName())\r\n                    .exec(session -&gt; session.\r\n                            setAll(Map.of(&quot;timeStamp&quot;, nlocalDateTime, &quot;baseUrl&quot;, this.baseUrl)));\r\n    \r\n            groupBuilderMap.forEach((groupName, chainBuilders) -&gt; {\r\n                this.scenarioBuilder = this.scenarioBuilder\r\n                        .group(groupName)\r\n                        .on(exec(chainBuilders));\r\n            });\r\n            return this.scenarioBuilder;\r\n        }\r\n\r\n    @AllArgsConstructor\r\n    @Getter\r\n    public class GatlingScenario {\r\n        private String scenarioName;\r\n        private Map&lt;String ,ChainBuilder[]&gt; groupBuilderMap;\r\n    }\r\n\r\nThat&#39;s how I&#39;m initializing the ChainBuilder . Only the loginChainBuilder gets executed. The session gets invalidated for the `addItemChainbuilder` as the session attributes does not get resolved. \r\n\r\n How do I maintain the session from loginChainBuilder to addItemChainBuilder. ?\r\n\r\n \r\n\r\n    ChainBuilder[] loginChainBuilder = new ChainBuilder[]{\r\n                    login.doLogin,\r\n                    lPlan.doAdminLoginMain,\r\n                    lmsUser.doGetUserMetaData\r\n            };\r\n    \r\n      ChainBuilder[] addItemChainbuilder = new ChainBuilder[]{\r\n                    userItem.doGetItem,\r\n                    userItem.doGetItemSearch,\r\n                    userItem.doAllItemSearch,\r\n                    userItem.getDoGetItemById,\r\n                    userItem.doAssignItemToUser\r\n            };\r\n    \r\n      Map&lt;String,ChainBuilder[]&gt; gpNameChainBuilderMap = Stream.of(\r\n                    Map.entry(&quot;Login Group&quot;,loginChainBuilder),\r\n                    Map.entry(&quot;AddItemGroup&quot;,addItemChainbuilder)\r\n            ).collect(Collectors.toMap(Map.Entry::getKey,Map.Entry::getValue));\r\n\r\n","title":"Creating Gatling ScenarioBuilder using multiple ChainBuilders groups","body":"<p>In gatling, How do I create scenarioBuilder by iterating on the <code>groupBuilderMap</code>?</p>\n<p>I attempted with the  below code , however I see only the first chainBuilder group gets executed . The session gets invalidated for the subsequent chain builder groups, and the session attributes does not get resolved.</p>\n<pre><code>protected ScenarioBuilder createScenario(GatlingScenario scenario) {\n        Map&lt;String, ChainBuilder[]&gt; groupBuilderMap = scenario.getGroupChainBuilderMap();\n\n        this.scenarioBuilder = scenario(this.gatlingScenario.getScenarioName())\n                .exec(session -&gt; session.\n                        setAll(Map.of(&quot;timeStamp&quot;, nlocalDateTime, &quot;baseUrl&quot;, this.baseUrl)));\n\n        groupBuilderMap.forEach((groupName, chainBuilders) -&gt; {\n            this.scenarioBuilder = this.scenarioBuilder\n                    .group(groupName)\n                    .on(exec(chainBuilders));\n        });\n        return this.scenarioBuilder;\n    }\n\n@AllArgsConstructor\n@Getter\npublic class GatlingScenario {\n    private String scenarioName;\n    private Map&lt;String ,ChainBuilder[]&gt; groupBuilderMap;\n}\n</code></pre>\n<p>That's how I'm initializing the ChainBuilder . Only the loginChainBuilder gets executed. The session gets invalidated for the <code>addItemChainbuilder</code> as the session attributes does not get resolved.</p>\n<p>How do I maintain the session from loginChainBuilder to addItemChainBuilder. ?</p>\n<pre><code>ChainBuilder[] loginChainBuilder = new ChainBuilder[]{\n                login.doLogin,\n                lPlan.doAdminLoginMain,\n                lmsUser.doGetUserMetaData\n        };\n\n  ChainBuilder[] addItemChainbuilder = new ChainBuilder[]{\n                userItem.doGetItem,\n                userItem.doGetItemSearch,\n                userItem.doAllItemSearch,\n                userItem.getDoGetItemById,\n                userItem.doAssignItemToUser\n        };\n\n  Map&lt;String,ChainBuilder[]&gt; gpNameChainBuilderMap = Stream.of(\n                Map.entry(&quot;Login Group&quot;,loginChainBuilder),\n                Map.entry(&quot;AddItemGroup&quot;,addItemChainbuilder)\n        ).collect(Collectors.toMap(Map.Entry::getKey,Map.Entry::getValue));\n</code></pre>\n"},{"tags":["java","android","gradle","build","android-gradle-plugin"],"comments":[{"owner":{"account_id":7077550,"reputation":824,"user_id":5416975,"accept_rate":33,"display_name":"Naveen"},"score":0,"creation_date":1581653270,"post_id":55801157,"comment_id":106516837,"body_markdown":"Hi, I am also getting same exception, I have checked online, also checked Firewall but none worked.I am stuck here from 4 days.Please help me on this. My Question - https://stackoverflow.com/questions/60182192/updated-androidstudio3-5-3-not-building-android-project-caused-by-org-gradle?noredirect=1#comment106492346_60182192","body":"Hi, I am also getting same exception, I have checked online, also checked Firewall but none worked.I am stuck here from 4 days.Please help me on this. My Question - <a href=\"https://stackoverflow.com/questions/60182192/updated-androidstudio3-5-3-not-building-android-project-caused-by-org-gradle?noredirect=1#comment106492346_60182192\" title=\"updated androidstudio3 5 3 not building android project caused by org gradle\">stackoverflow.com/questions/60182192/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":7042527,"reputation":119,"user_id":5394546,"display_name":"Markov"},"score":0,"creation_date":1556665644,"post_id":55801337,"comment_id":98512924,"body_markdown":"I added exception for both x86 and x64 version of android studio exe in firewall and turned off avast antivirus. Don&#39;t know what was the exact cause but it seems to be downloading all the files now. Synced successfully.","body":"I added exception for both x86 and x64 version of android studio exe in firewall and turned off avast antivirus. Don&#39;t know what was the exact cause but it seems to be downloading all the files now. Synced successfully."},{"owner":{"account_id":7077550,"reputation":824,"user_id":5416975,"accept_rate":33,"display_name":"Naveen"},"score":0,"creation_date":1582094783,"post_id":55801337,"comment_id":106653872,"body_markdown":"Hi, I am also getting same exception, I have checked online, also checked Firewall but none worked.I am stuck here from 4 days.Please help me on this. My Question -  https://stackoverflow.com/questions/60182192/updated-androidstudio3-5-3-not-building-android-project-caused-by-org-gradle?noredirect=1#comment106492346_60182192","body":"Hi, I am also getting same exception, I have checked online, also checked Firewall but none worked.I am stuck here from 4 days.Please help me on this. My Question -  <a href=\"https://stackoverflow.com/questions/60182192/updated-androidstudio3-5-3-not-building-android-project-caused-by-org-gradle?noredirect=1#comment106492346_60182192\" title=\"updated androidstudio3 5 3 not building android project caused by org gradle\">stackoverflow.com/questions/60182192/&hellip;</a>"}],"tags":[],"owner":{"account_id":14816747,"reputation":339,"user_id":10700490,"display_name":"Brainsucker92"},"comment_count":2,"down_vote_count":1,"up_vote_count":12,"is_accepted":true,"score":11,"last_activity_date":1556039188,"creation_date":1555968430,"answer_id":55801337,"question_id":55801157,"body_markdown":"The very first thing I&#39;d guess, there might be a Firewall blocking the connection of Android Studio. \r\n\r\nIf so, try to disable it for a brief moment and test again. If it works, you might want to add Android Studio to your firewall whitelist.\r\n\r\n\r\n","title":"How to fix gradle build error A problem occurred configuring root project?","body":"<p>The very first thing I'd guess, there might be a Firewall blocking the connection of Android Studio. </p>\n\n<p>If so, try to disable it for a brief moment and test again. If it works, you might want to add Android Studio to your firewall whitelist.</p>\n"},{"tags":[],"owner":{"account_id":10932052,"reputation":12327,"user_id":8034839,"display_name":"shizhen"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1556072888,"creation_date":1556072888,"answer_id":55821536,"question_id":55801157,"body_markdown":"Note that \r\n```\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n    }\r\n}\r\n```\r\nand \r\n```\r\nbuildscript {\r\n    repositories {\r\n        jcenter()\r\n        maven {\r\n            url &#39;https://maven.google.com/&#39;\r\n            name &#39;Google&#39;\r\n        }\r\n    }\r\n}\r\n```\r\nare different, you should also put `google()` to top for `buildscript {repositories { } } `: i.e. \r\n\r\n```\r\nbuildscript {\r\n    repositories {\r\n        google() // &lt;-- here\r\n        jcenter()\r\n        maven {\r\n            url &#39;https://maven.google.com/&#39;\r\n            name &#39;Google&#39;\r\n        }\r\n    }\r\n}\r\n```","title":"How to fix gradle build error A problem occurred configuring root project?","body":"<p>Note that </p>\n\n<pre><code>allprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>buildscript {\n    repositories {\n        jcenter()\n        maven {\n            url 'https://maven.google.com/'\n            name 'Google'\n        }\n    }\n}\n</code></pre>\n\n<p>are different, you should also put <code>google()</code> to top for <code>buildscript {repositories { } }</code>: i.e. </p>\n\n<pre><code>buildscript {\n    repositories {\n        google() // &lt;-- here\n        jcenter()\n        maven {\n            url 'https://maven.google.com/'\n            name 'Google'\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10404920,"reputation":898,"user_id":7751011,"display_name":"Pascal Tovohery"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579104169,"creation_date":1579104169,"answer_id":59755240,"question_id":55801157,"body_markdown":"May your download was not succeffully done &lt;br&gt;\r\nRemove gradle cache and dists at `$HOME` folder\r\n\r\n    rm -r $HOME/.gradle/caches $HOME/.gradle/dists/*\r\nTry to redownload it.","title":"How to fix gradle build error A problem occurred configuring root project?","body":"<p>May your download was not succeffully done <br>\nRemove gradle cache and dists at <code>$HOME</code> folder</p>\n\n<pre><code>rm -r $HOME/.gradle/caches $HOME/.gradle/dists/*\n</code></pre>\n\n<p>Try to redownload it.</p>\n"},{"tags":[],"owner":{"account_id":21637076,"reputation":11,"user_id":15959839,"display_name":"GameChanger"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621519179,"creation_date":1621518516,"answer_id":67621672,"question_id":55801157,"body_markdown":"We have the same problem but i just solve it today. and What causes this is because i Transfer the Toolkit(Flutter) in D Drive. :) what i do is go to the location of your emulator. and open the **emu-launch-params.txt** with notepad\r\n\r\n    C:\\Users\\admin\\.android\\avd\\emu-launch-params.txt\r\n\r\nAnd you will see this.\r\n \r\n\r\n    C:\\src\\flutter // &lt;--- old Location\r\n    C:\\Users\\sonim\\AppData\\Local\\Android\\sdk\\emulator\\emulator.exe3\r\n    C:\\Users\\sonim\\AppData\\Local\\Android\\sdk\\emulator\\emulator.exe\r\n    -avd\r\n    Pixel_3a_API_29\r\n\r\nchange the **first line** which is the location of your toolkit (flutter) to where your transfer it ex **D:\\src\\flutter**. \r\n\r\n    D:\\src\\flutter // &lt;--- New Location\r\n    C:\\Users\\sonim\\AppData\\Local\\Android\\sdk\\emulator\\emulator.exe3\r\n    C:\\Users\\sonim\\AppData\\Local\\Android\\sdk\\emulator\\emulator.exe\r\n    -avd\r\n    Pixel_3a_API_29\r\n\r\nAfter changing save it :)","title":"How to fix gradle build error A problem occurred configuring root project?","body":"<p>We have the same problem but i just solve it today. and What causes this is because i Transfer the Toolkit(Flutter) in D Drive. :) what i do is go to the location of your emulator. and open the <strong>emu-launch-params.txt</strong> with notepad</p>\n<pre><code>C:\\Users\\admin\\.android\\avd\\emu-launch-params.txt\n</code></pre>\n<p>And you will see this.</p>\n<pre><code>C:\\src\\flutter // &lt;--- old Location\nC:\\Users\\sonim\\AppData\\Local\\Android\\sdk\\emulator\\emulator.exe3\nC:\\Users\\sonim\\AppData\\Local\\Android\\sdk\\emulator\\emulator.exe\n-avd\nPixel_3a_API_29\n</code></pre>\n<p>change the <strong>first line</strong> which is the location of your toolkit (flutter) to where your transfer it ex <strong>D:\\src\\flutter</strong>.</p>\n<pre><code>D:\\src\\flutter // &lt;--- New Location\nC:\\Users\\sonim\\AppData\\Local\\Android\\sdk\\emulator\\emulator.exe3\nC:\\Users\\sonim\\AppData\\Local\\Android\\sdk\\emulator\\emulator.exe\n-avd\nPixel_3a_API_29\n</code></pre>\n<p>After changing save it :)</p>\n"},{"tags":[],"owner":{"account_id":11466156,"reputation":61,"user_id":8404293,"display_name":"El Houcine Es-sanhaji"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631112988,"creation_date":1631112988,"answer_id":69105371,"question_id":55801157,"body_markdown":"Try to remove the `.gradle` folder and re-downloaded it again\r\n\r\n    rm -r $HOME/.gradle\r\n","title":"How to fix gradle build error A problem occurred configuring root project?","body":"<p>Try to remove the <code>.gradle</code> folder and re-downloaded it again</p>\n<pre><code>rm -r $HOME/.gradle\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4162960,"reputation":11,"user_id":3412616,"display_name":"Horatious Harris"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686175114,"creation_date":1686004311,"answer_id":76410379,"question_id":55801157,"body_markdown":"Try looking into the build configurations. None of the suggestions worked for me. What I would suggest is looking at the Java version your IDE is working with and what your project requires. In my error message I was able to pick out it was looking for Java 17 and I was running 11. Since I was new to my IDE and still needed to configure the Java build settings to work with Gradle I just opened this window to make my changes.\r\n\r\n[![settings screenshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/B5kLp.png","title":"How to fix gradle build error A problem occurred configuring root project?","body":"<p>Try looking into the build configurations. None of the suggestions worked for me. What I would suggest is looking at the Java version your IDE is working with and what your project requires. In my error message I was able to pick out it was looking for Java 17 and I was running 11. Since I was new to my IDE and still needed to configure the Java build settings to work with Gradle I just opened this window to make my changes.</p>\n<p><a href=\"https://i.stack.imgur.com/B5kLp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B5kLp.png\" alt=\"settings screenshot\" /></a></p>\n"}],"owner":{"account_id":7042527,"reputation":119,"user_id":5394546,"display_name":"Markov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99783,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":55801337,"answer_count":6,"score":9,"last_activity_date":1686175114,"creation_date":1555967343,"question_id":55801157,"body_markdown":"Every time I try to build a project this happens.\r\nAndroid studio version 3.4 Gradle sync fails at configure build\r\n\r\nFor some reason it can not get resource at the url. But I can download the file from browser.\r\n```\r\nCaused by: org.gradle.api.resources.ResourceException: Could not get resource &#39;https://maven.google.com/com/android/tools/build/gradle/3.2.1/gradle-3.2.1.jar&#39;.\r\n```\r\n\r\nFull Error:\r\n```\r\norg.gradle.api.ProjectConfigurationException: A problem occurred configuring root project &#39;Web2App&#39;.\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator.addConfigurationFailure(LifecycleProjectEvaluator.java:94)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator.doConfigure(LifecycleProjectEvaluator.java:66)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator.access$100(LifecycleProjectEvaluator.java:34)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator$ConfigureProject.run(LifecycleProjectEvaluator.java:110)\r\n\t\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration &#39;:classpath&#39;.\r\n\tat org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.rethrowFailure(DefaultConfiguration.java:915)\r\n\tat org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.access$1600(DefaultConfiguration.java:116)\r\n\tat org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$ConfigurationFileCollection.getFiles(DefaultConfiguration.java:889)\r\n\tat org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.getFiles(DefaultConfiguration.java:401)\r\n\tat org.gradle.api.internal.artifacts.configurations.DefaultConfiguration_Decorated.getFiles(Unknown Source)\r\n\tat org.gradle.api.internal.file.AbstractFileCollection.iterator(AbstractFileCollection.java:68)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:58)\r\n\tat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:41)\r\n\tat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\r\n\tat org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:34)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator.doConfigure(LifecycleProjectEvaluator.java:64)\r\n\t... 84 more\r\nCaused by: org.gradle.internal.resolve.ArtifactResolveException: Could not download gradle.jar (com.android.tools.build:gradle:3.2.1)\r\n\tat org.gradle.api.internal.artifacts.repositories.resolver.ExternalResourceResolver$RemoteRepositoryAccess.resolveArtifact(ExternalResourceResolver.java:439)\r\n\tat org.gradle.api.internal.artifacts.ivyservice.ivyresolve.CachingModuleComponentRepository$ResolveAndCacheRepositoryAccess.resolveArtifact(CachingModuleComponentRepository.java:409)\r\n\tat org.gradle.api.internal.artifacts.ivyservice.ivyresolve.BaseModuleComponentRepositoryAccess.resolveArtifact(BaseModuleComponentRepositoryAccess.java:65)\r\n\tat org.gradle.api.internal.artifacts.ivyservice.ivyresolve.memcache.InMemoryCachedModuleComponentRepository$CachedAccess.resolveArtifact(InMemoryCachedModuleComponentRepository.java:124)\r\n\tat org.gradle.api.internal.artifacts.ivyservice.ivyresolve.ErrorHandlingModuleComponentRepository$ErrorHandlingModuleComponentRepositoryAccess.resolveArtifact(ErrorHandlingModuleComponentRepository.java:174)\r\n\tat org.gradle.api.internal.artifacts.ivyservice.ivyresolve.RepositoryChainArtifactResolver.resolveArtifact(RepositoryChainArtifactResolver.java:80)\r\n\tat org.gradle.api.internal.artifacts.ivyservice.resolveengine.artifact.DefaultArtifactSet$LazyArtifactSource.create(DefaultArtifactSet.java:170)\r\n\tat org.gradle.api.internal.artifacts.ivyservice.resolveengine.artifact.DefaultArtifactSet$LazyArtifactSource.create(DefaultArtifactSet.java:157)\r\n\tat org.gradle.api.internal.artifacts.DefaultResolvedArtifact.getFile(DefaultResolvedArtifact.java:135)\r\n\tat org.gradle.api.internal.artifacts.ivyservice.resolveengine.artifact.ArtifactBackedResolvedVariant$DownloadArtifactFile.run(ArtifactBackedResolvedVariant.java:146)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor.access$900(DefaultBuildOperationExecutor.java:63)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor$ParentPreservingQueueWorker.execute(DefaultBuildOperationExecutor.java:378)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable.runOperation(DefaultBuildOperationQueue.java:230)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable.access$600(DefaultBuildOperationQueue.java:172)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable$1.call(DefaultBuildOperationQueue.java:209)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable$1.call(DefaultBuildOperationQueue.java:203)\r\n\t\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor.runAll(DefaultBuildOperationExecutor.java:130)\r\n\tat org.gradle.api.internal.artifacts.ivyservice.resolveengine.artifact.ParallelResolveArtifactSet$VisitingSet.visit(ParallelResolveArtifactSet.java:60)\r\n\t\r\n\t... 139 more\r\nCaused by: org.gradle.internal.resource.transport.http.HttpRequestException: Could not GET &#39;https://maven.google.com/com/android/tools/build/gradle/3.2.1/gradle-3.2.1.jar&#39;.\r\n\tat org.gradle.internal.resource.transport.http.HttpClientHelper.performRequest(HttpClientHelper.java:96)\r\n\tat org.gradle.internal.resource.transport.http.HttpClientHelper.performRawGet(HttpClientHelper.java:80)\r\n\tat org.gradle.internal.resource.transport.http.HttpClientHelper.performGet(HttpClientHelper.java:84)\r\n\tat org.gradle.internal.resource.transport.http.HttpResourceAccessor.openResource(HttpResourceAccessor.java:43)\r\n\tat org.gradle.internal.resource.transport.http.HttpResourceAccessor.openResource(HttpResourceAccessor.java:29)\r\n\tat org.gradle.internal.resource.transfer.DefaultExternalResourceConnector.openResource(DefaultExternalResourceConnector.java:56)\r\n\tat org.gradle.internal.resource.transfer.ProgressLoggingExternalResourceAccessor.openResource(ProgressLoggingExternalResourceAccessor.java:36)\r\n\tat org.gradle.internal.resource.transfer.AccessorBackedExternalResource.withContentIfPresent(AccessorBackedExternalResource.java:130)\r\n\tat org.gradle.internal.resource.BuildOperationFiringExternalResourceDecorator$11.call(BuildOperationFiringExternalResourceDecorator.java:237)\r\n\tat org.gradle.internal.resource.BuildOperationFiringExternalResourceDecorator$11.call(BuildOperationFiringExternalResourceDecorator.java:229)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:350)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:340)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:120)\r\n\tat org.gradle.internal.resource.BuildOperationFiringExternalResourceDecorator.withContentIfPresent(BuildOperationFiringExternalResourceDecorator.java:229)\r\n\tat org.gradle.internal.resource.transfer.DefaultCacheAwareExternalResourceAccessor.copyToCache(DefaultCacheAwareExternalResourceAccessor.java:199)\r\n\t... 148 more\r\nCaused by: java.net.SocketException: Software caused connection abort: recv failed\r\n\tat java.net.SocketInputStream.socketRead0(Native Method)\r\n\tat java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:170)\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n\tat sun.security.ssl.InputRecord.readFully(InputRecord.java:465)\r\n\tat sun.security.ssl.InputRecord.read(InputRecord.java:503)\r\n\tat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:973)\r\n\tat sun.security.ssl.SSLSocketImpl.readDataRecord(SSLSocketImpl.java:930)\r\n\tat sun.security.ssl.AppInputStream.read(AppInputStream.java:105)\r\n\tat org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:139)\r\n\tat org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:155)\r\n\tat org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:284)\r\n\tat org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:140)\r\n\tat org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:57)\r\n\tat org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:261)\r\n\tat org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:165)\r\n\tat org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:167)\r\n\tat org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:272)\r\n\tat org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:124)\r\n\tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:271)\r\n\tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\r\n\tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:88)\r\n\tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n\tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\r\n\tat org.gradle.internal.resource.transport.http.HttpClientHelper.performHttpRequest(HttpClientHelper.java:148)\r\n\tat org.gradle.internal.resource.transport.http.HttpClientHelper.performHttpRequest(HttpClientHelper.java:126)\r\n\tat org.gradle.internal.resource.transport.http.HttpClientHelper.executeGetOrHead(HttpClientHelper.java:103)\r\n\tat org.gradle.internal.resource.transport.http.HttpClientHelper.performRequest(HttpClientHelper.java:94)\r\n\t... 163 more\r\n\r\n```\r\n\r\nBelow is the gradle file:\r\n```\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\nbuildscript {\r\n    repositories {\r\n        jcenter()\r\n        maven {\r\n            url &#39;https://maven.google.com/&#39;\r\n            name &#39;Google&#39;\r\n        }\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:3.2.1&#39;\r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\next {\r\n    supportlib_version = &#39;28.0.0&#39;\r\n    gps_version = &#39;[16.0.0, 17.0.0)&#39;\r\n    fb_version = &#39;[15.0.0, 17.0.0)&#39;\r\n}\r\n\r\n//Ensure that all dependencies use the same version of the Android Support library\r\nsubprojects {\r\n    project.configurations.all {\r\n        resolutionStrategy.eachDependency { details -&gt;\r\n            if (details.requested.group == &#39;com.android.support&#39;\r\n                    &amp;&amp; !details.requested.name.contains(&#39;multidex&#39;)) {\r\n                details.useVersion &quot;$supportlib_version&quot;\r\n            }\r\n            if (details.requested.group == &#39;com.google.android.gms&#39;\r\n                    &amp;&amp; !details.requested.name.contains(&#39;multidex&#39;)) {\r\n                details.useVersion &quot;$gps_version&quot;\r\n            }\r\n            if (details.requested.group == &#39;com.google.firebase&#39;\r\n                    &amp;&amp; !details.requested.name.contains(&#39;multidex&#39;)) {\r\n                details.useVersion &quot;$fb_version&quot;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI have tried following.\r\n\r\n1. Invalided cache restart,\r\n2. Local gradle distribution\r\n3. rebuild project/clean project\r\n4. Reinstall android studio\r\n5. Re download sdk\r\n6. sync project with gradle files\r\n7. Check marked enable embedded maven repository.","title":"How to fix gradle build error A problem occurred configuring root project?","body":"<p>Every time I try to build a project this happens.\nAndroid studio version 3.4 Gradle sync fails at configure build</p>\n\n<p>For some reason it can not get resource at the url. But I can download the file from browser.</p>\n\n<pre><code>Caused by: org.gradle.api.resources.ResourceException: Could not get resource 'https://maven.google.com/com/android/tools/build/gradle/3.2.1/gradle-3.2.1.jar'.\n</code></pre>\n\n<p>Full Error:</p>\n\n<pre><code>org.gradle.api.ProjectConfigurationException: A problem occurred configuring root project 'Web2App'.\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.addConfigurationFailure(LifecycleProjectEvaluator.java:94)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.doConfigure(LifecycleProjectEvaluator.java:66)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.access$100(LifecycleProjectEvaluator.java:34)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$ConfigureProject.run(LifecycleProjectEvaluator.java:110)\n\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration ':classpath'.\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.rethrowFailure(DefaultConfiguration.java:915)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.access$1600(DefaultConfiguration.java:116)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$ConfigurationFileCollection.getFiles(DefaultConfiguration.java:889)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.getFiles(DefaultConfiguration.java:401)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration_Decorated.getFiles(Unknown Source)\n    at org.gradle.api.internal.file.AbstractFileCollection.iterator(AbstractFileCollection.java:68)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:58)\n    at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:41)\n    at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\n    at org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:34)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.doConfigure(LifecycleProjectEvaluator.java:64)\n    ... 84 more\nCaused by: org.gradle.internal.resolve.ArtifactResolveException: Could not download gradle.jar (com.android.tools.build:gradle:3.2.1)\n    at org.gradle.api.internal.artifacts.repositories.resolver.ExternalResourceResolver$RemoteRepositoryAccess.resolveArtifact(ExternalResourceResolver.java:439)\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.CachingModuleComponentRepository$ResolveAndCacheRepositoryAccess.resolveArtifact(CachingModuleComponentRepository.java:409)\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.BaseModuleComponentRepositoryAccess.resolveArtifact(BaseModuleComponentRepositoryAccess.java:65)\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.memcache.InMemoryCachedModuleComponentRepository$CachedAccess.resolveArtifact(InMemoryCachedModuleComponentRepository.java:124)\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.ErrorHandlingModuleComponentRepository$ErrorHandlingModuleComponentRepositoryAccess.resolveArtifact(ErrorHandlingModuleComponentRepository.java:174)\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.RepositoryChainArtifactResolver.resolveArtifact(RepositoryChainArtifactResolver.java:80)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.artifact.DefaultArtifactSet$LazyArtifactSource.create(DefaultArtifactSet.java:170)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.artifact.DefaultArtifactSet$LazyArtifactSource.create(DefaultArtifactSet.java:157)\n    at org.gradle.api.internal.artifacts.DefaultResolvedArtifact.getFile(DefaultResolvedArtifact.java:135)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.artifact.ArtifactBackedResolvedVariant$DownloadArtifactFile.run(ArtifactBackedResolvedVariant.java:146)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.access$900(DefaultBuildOperationExecutor.java:63)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$ParentPreservingQueueWorker.execute(DefaultBuildOperationExecutor.java:378)\n    at org.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable.runOperation(DefaultBuildOperationQueue.java:230)\n    at org.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable.access$600(DefaultBuildOperationQueue.java:172)\n    at org.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable$1.call(DefaultBuildOperationQueue.java:209)\n    at org.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable$1.call(DefaultBuildOperationQueue.java:203)\n\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.runAll(DefaultBuildOperationExecutor.java:130)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.artifact.ParallelResolveArtifactSet$VisitingSet.visit(ParallelResolveArtifactSet.java:60)\n\n    ... 139 more\nCaused by: org.gradle.internal.resource.transport.http.HttpRequestException: Could not GET 'https://maven.google.com/com/android/tools/build/gradle/3.2.1/gradle-3.2.1.jar'.\n    at org.gradle.internal.resource.transport.http.HttpClientHelper.performRequest(HttpClientHelper.java:96)\n    at org.gradle.internal.resource.transport.http.HttpClientHelper.performRawGet(HttpClientHelper.java:80)\n    at org.gradle.internal.resource.transport.http.HttpClientHelper.performGet(HttpClientHelper.java:84)\n    at org.gradle.internal.resource.transport.http.HttpResourceAccessor.openResource(HttpResourceAccessor.java:43)\n    at org.gradle.internal.resource.transport.http.HttpResourceAccessor.openResource(HttpResourceAccessor.java:29)\n    at org.gradle.internal.resource.transfer.DefaultExternalResourceConnector.openResource(DefaultExternalResourceConnector.java:56)\n    at org.gradle.internal.resource.transfer.ProgressLoggingExternalResourceAccessor.openResource(ProgressLoggingExternalResourceAccessor.java:36)\n    at org.gradle.internal.resource.transfer.AccessorBackedExternalResource.withContentIfPresent(AccessorBackedExternalResource.java:130)\n    at org.gradle.internal.resource.BuildOperationFiringExternalResourceDecorator$11.call(BuildOperationFiringExternalResourceDecorator.java:237)\n    at org.gradle.internal.resource.BuildOperationFiringExternalResourceDecorator$11.call(BuildOperationFiringExternalResourceDecorator.java:229)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:350)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:340)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:120)\n    at org.gradle.internal.resource.BuildOperationFiringExternalResourceDecorator.withContentIfPresent(BuildOperationFiringExternalResourceDecorator.java:229)\n    at org.gradle.internal.resource.transfer.DefaultCacheAwareExternalResourceAccessor.copyToCache(DefaultCacheAwareExternalResourceAccessor.java:199)\n    ... 148 more\nCaused by: java.net.SocketException: Software caused connection abort: recv failed\n    at java.net.SocketInputStream.socketRead0(Native Method)\n    at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\n    at java.net.SocketInputStream.read(SocketInputStream.java:170)\n    at java.net.SocketInputStream.read(SocketInputStream.java:141)\n    at sun.security.ssl.InputRecord.readFully(InputRecord.java:465)\n    at sun.security.ssl.InputRecord.read(InputRecord.java:503)\n    at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:973)\n    at sun.security.ssl.SSLSocketImpl.readDataRecord(SSLSocketImpl.java:930)\n    at sun.security.ssl.AppInputStream.read(AppInputStream.java:105)\n    at org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:139)\n    at org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:155)\n    at org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:284)\n    at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:140)\n    at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:57)\n    at org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:261)\n    at org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:165)\n    at org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:167)\n    at org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:272)\n    at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:124)\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:271)\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:88)\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\n    at org.gradle.internal.resource.transport.http.HttpClientHelper.performHttpRequest(HttpClientHelper.java:148)\n    at org.gradle.internal.resource.transport.http.HttpClientHelper.performHttpRequest(HttpClientHelper.java:126)\n    at org.gradle.internal.resource.transport.http.HttpClientHelper.executeGetOrHead(HttpClientHelper.java:103)\n    at org.gradle.internal.resource.transport.http.HttpClientHelper.performRequest(HttpClientHelper.java:94)\n    ... 163 more\n\n</code></pre>\n\n<p>Below is the gradle file:</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    repositories {\n        jcenter()\n        maven {\n            url 'https://maven.google.com/'\n            name 'Google'\n        }\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.2.1'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\next {\n    supportlib_version = '28.0.0'\n    gps_version = '[16.0.0, 17.0.0)'\n    fb_version = '[15.0.0, 17.0.0)'\n}\n\n//Ensure that all dependencies use the same version of the Android Support library\nsubprojects {\n    project.configurations.all {\n        resolutionStrategy.eachDependency { details -&gt;\n            if (details.requested.group == 'com.android.support'\n                    &amp;&amp; !details.requested.name.contains('multidex')) {\n                details.useVersion \"$supportlib_version\"\n            }\n            if (details.requested.group == 'com.google.android.gms'\n                    &amp;&amp; !details.requested.name.contains('multidex')) {\n                details.useVersion \"$gps_version\"\n            }\n            if (details.requested.group == 'com.google.firebase'\n                    &amp;&amp; !details.requested.name.contains('multidex')) {\n                details.useVersion \"$fb_version\"\n            }\n        }\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\n</code></pre>\n\n<p>I have tried following.</p>\n\n<ol>\n<li>Invalided cache restart,</li>\n<li>Local gradle distribution</li>\n<li>rebuild project/clean project</li>\n<li>Reinstall android studio</li>\n<li>Re download sdk</li>\n<li>sync project with gradle files</li>\n<li>Check marked enable embedded maven repository.</li>\n</ol>\n"},{"tags":["java","scala","ssl","sbt"],"answers":[{"tags":[],"owner":{"account_id":167376,"reputation":3383,"user_id":392130,"display_name":"Brian Smith"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1485961250,"creation_date":1485961250,"answer_id":41982915,"question_id":41981320,"body_markdown":"If I recall correctly, SBT indirectly uses an old version of apache commons httpclient (3.1) which doesn&#39;t respect the java system properties for specifying truststores by default.\r\n\r\nI can think of three potential solutions:\r\n\r\n1. Use a proxy repository like [artifactory][1] so SBT can only has to connect to the proxy and the proxy can take care of https outwards via the corporate proxy.\r\n\r\n2. Install the corporate issuing certificate into the default truststore for the JVM (usually `%JDK_HOME%/jre/lib/security/cacerts`).  You would have to do this each time you run a new JRE.\r\n\r\n3. Try using [coursier][2].  It&#39;s a plugin for SBT which provides a different way of fetching dependencies that does not go through apache httpclient.  It uses an http library which I think should respect the java system properties for truststore.  It&#39;s also much faster.\r\n\r\n\r\n  [1]: https://www.jfrog.com/open-source/\r\n  [2]: https://github.com/alexarchambault/coursier","title":"scala sbt and corporate proxy - SunCertPathBuilderException","body":"<p>If I recall correctly, SBT indirectly uses an old version of apache commons httpclient (3.1) which doesn't respect the java system properties for specifying truststores by default.</p>\n\n<p>I can think of three potential solutions:</p>\n\n<ol>\n<li><p>Use a proxy repository like <a href=\"https://www.jfrog.com/open-source/\" rel=\"noreferrer\">artifactory</a> so SBT can only has to connect to the proxy and the proxy can take care of https outwards via the corporate proxy.</p></li>\n<li><p>Install the corporate issuing certificate into the default truststore for the JVM (usually <code>%JDK_HOME%/jre/lib/security/cacerts</code>).  You would have to do this each time you run a new JRE.</p></li>\n<li><p>Try using <a href=\"https://github.com/alexarchambault/coursier\" rel=\"noreferrer\">coursier</a>.  It's a plugin for SBT which provides a different way of fetching dependencies that does not go through apache httpclient.  It uses an http library which I think should respect the java system properties for truststore.  It's also much faster.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2142244,"reputation":2287,"user_id":1900620,"accept_rate":41,"display_name":"Thiago Say&#227;o"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1485969774,"creation_date":1485969774,"answer_id":41985847,"question_id":41981320,"body_markdown":"This solved the problem:\r\n\r\nAdd -Djavax.net.ssl.trustStore=&quot;C:\\Program Files\\Java\\jre1.8.0_121\\lib\\security\\cacerts&quot; to the sbt config file (sbtconfig).\r\n\r\nIf using IntelliJ Idea, click on &quot;SBT Settings&quot; -&gt; JVM Options -&gt; VM Parameters and add the same line.\r\n\r\nThe path is the path to the cacerts file that resides on the JDK path -&gt; lib -&gt; security. \r\n\r\nIt is necessary to import the proxy certificate with the keystore tool, as described in: https://stackoverflow.com/questions/6492122/ssl-certificate-problem-in-a-web-service-proxy\r\n","title":"scala sbt and corporate proxy - SunCertPathBuilderException","body":"<p>This solved the problem:</p>\n\n<p>Add -Djavax.net.ssl.trustStore=\"C:\\Program Files\\Java\\jre1.8.0_121\\lib\\security\\cacerts\" to the sbt config file (sbtconfig).</p>\n\n<p>If using IntelliJ Idea, click on \"SBT Settings\" -> JVM Options -> VM Parameters and add the same line.</p>\n\n<p>The path is the path to the cacerts file that resides on the JDK path -> lib -> security. </p>\n\n<p>It is necessary to import the proxy certificate with the keystore tool, as described in: <a href=\"https://stackoverflow.com/questions/6492122/ssl-certificate-problem-in-a-web-service-proxy\">SSL certificate problem in a web service proxy</a></p>\n"},{"comments":[{"owner":{"account_id":2940282,"reputation":145,"user_id":2518336,"accept_rate":100,"display_name":"BCZmarts"},"score":0,"creation_date":1547157573,"post_id":48671697,"comment_id":95106534,"body_markdown":"Added Step, Restart JVM or Computer to update the ssl certs","body":"Added Step, Restart JVM or Computer to update the ssl certs"},{"owner":{"account_id":19422347,"reputation":151,"user_id":14204617,"display_name":"Ali Sed"},"score":1,"creation_date":1659720856,"post_id":48671697,"comment_id":129369929,"body_markdown":"The initial password for cacerts is &quot;changeit&quot;.","body":"The initial password for cacerts is &quot;changeit&quot;."}],"tags":[],"owner":{"account_id":3821282,"reputation":1460,"user_id":3169330,"accept_rate":69,"display_name":"ameet chaubal"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1580919156,"creation_date":1518031157,"answer_id":48671697,"question_id":41981320,"body_markdown":"So this happens when you are behind a proxy and we need the proxy server certificate to be added to the java truststore \r\n\r\n    cp $JAVA_HOME/jre/lib/security/cacerts &lt;some accessible dir&gt;/\r\n    # Get the certificate of the proxy server and store it in a file-proxy.pem\r\n    keytool -keystore cacerts -import -file proxy.pem -alias my_proxy\r\n    # Now we can invoke sbt with following config\r\n    sbt  &quot;-Djavax.net.ssl.trustStore=/path/to/included/proxycert/cacerts&quot; compile","title":"scala sbt and corporate proxy - SunCertPathBuilderException","body":"<p>So this happens when you are behind a proxy and we need the proxy server certificate to be added to the java truststore </p>\n\n<pre><code>cp $JAVA_HOME/jre/lib/security/cacerts &lt;some accessible dir&gt;/\n# Get the certificate of the proxy server and store it in a file-proxy.pem\nkeytool -keystore cacerts -import -file proxy.pem -alias my_proxy\n# Now we can invoke sbt with following config\nsbt  \"-Djavax.net.ssl.trustStore=/path/to/included/proxycert/cacerts\" compile\n</code></pre>\n"},{"tags":[],"owner":{"account_id":145150,"reputation":8892,"user_id":1885392,"display_name":"stefan.schwetschke"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572686112,"creation_date":1572686112,"answer_id":58669704,"question_id":41981320,"body_markdown":"This error can also happen if you use an outdated Java version. I&#39;ve got this error using Java version 1.8.0_45-b14. Updating to Java version 11.0.2+7 (2018-10-16) solved it for me.\r\n\r\nJust for reference, the full error message I got was:\r\n\r\n&gt; [error] \ttypesafe-ivy-releases: unable to get resource for com.geirsson#sbt-scalafmt;1.6.0-RC4: res=https://repo.typesafe.com/typesafe/ivy-releases/com.geirsson/sbt-scalafmt/1.6.0-RC4/jars/sbt-scalafmt.jar: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\nSwitching to the newer Java version solved it instantly.","title":"scala sbt and corporate proxy - SunCertPathBuilderException","body":"<p>This error can also happen if you use an outdated Java version. I've got this error using Java version 1.8.0_45-b14. Updating to Java version 11.0.2+7 (2018-10-16) solved it for me.</p>\n\n<p>Just for reference, the full error message I got was:</p>\n\n<blockquote>\n  <p>[error]   typesafe-ivy-releases: unable to get resource for com.geirsson#sbt-scalafmt;1.6.0-RC4: res=<a href=\"https://repo.typesafe.com/typesafe/ivy-releases/com.geirsson/sbt-scalafmt/1.6.0-RC4/jars/sbt-scalafmt.jar\" rel=\"nofollow noreferrer\">https://repo.typesafe.com/typesafe/ivy-releases/com.geirsson/sbt-scalafmt/1.6.0-RC4/jars/sbt-scalafmt.jar</a>: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</p>\n</blockquote>\n\n<p>Switching to the newer Java version solved it instantly.</p>\n"},{"comments":[{"owner":{"account_id":3660787,"reputation":351,"user_id":3050664,"display_name":"Ryan Deschamps"},"score":0,"creation_date":1614014864,"post_id":60676001,"comment_id":117249121,"body_markdown":"For me, this was a problem inside IntelliJ only. Working from terminal allowed me to install the plugin and move on.","body":"For me, this was a problem inside IntelliJ only. Working from terminal allowed me to install the plugin and move on."}],"tags":[],"owner":{"account_id":1324115,"reputation":844,"user_id":1269333,"accept_rate":50,"display_name":"Vlad"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1584126473,"creation_date":1584126473,"answer_id":60676001,"question_id":41981320,"body_markdown":"On MacOS, I solved it by running the `sbt` command with `sudo`.","title":"scala sbt and corporate proxy - SunCertPathBuilderException","body":"<p>On MacOS, I solved it by running the <code>sbt</code> command with <code>sudo</code>.</p>\n"},{"comments":[{"owner":{"account_id":70205,"reputation":706,"user_id":203805,"accept_rate":80,"display_name":"Andy Long"},"score":3,"creation_date":1653906534,"post_id":67918172,"comment_id":127957844,"body_markdown":"This fixed the certificate issues for me, no need to download the certificate, just added in the changes to the sbtconfig.txt file","body":"This fixed the certificate issues for me, no need to download the certificate, just added in the changes to the sbtconfig.txt file"},{"owner":{"account_id":2876384,"reputation":559,"user_id":2468335,"display_name":"aprodan"},"score":0,"creation_date":1656454469,"post_id":67918172,"comment_id":128575558,"body_markdown":"For  windows, this  is  much  easier  than creating cacerts  file  especially  because  certificates in  Windows  are  updated   via  browser.  I  tested  these with  JAVA_OPTIONS  variable  and  it  worked.","body":"For  windows, this  is  much  easier  than creating cacerts  file  especially  because  certificates in  Windows  are  updated   via  browser.  I  tested  these with  JAVA_OPTIONS  variable  and  it  worked."}],"tags":[],"owner":{"account_id":1605721,"reputation":509,"user_id":1485864,"accept_rate":33,"display_name":"user1485864"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1653919757,"creation_date":1623316284,"answer_id":67918172,"question_id":41981320,"body_markdown":"Assuming you are under windows, which is of course configured correctly you can instead:\r\n\r\n 1. Download the certificate. Right-Click -&gt; Install Certificate -&gt; Local Machine -&gt; Automatically.\r\n 2. Update ``C:\\Program Files (x86)\\sbt\\conf\\sbtconfig.txt``\r\n```\r\n-Djavax.net.ssl.trustStore=C:\\\\Windows\\\\win.ini\r\n-Djavax.net.ssl.trustStoreType=Windows-ROOT\r\n```\r\n\r\nThen if you use IntelliJ, you can add these parameters into the &quot;VM parameter&quot; of your sbt project settings.","title":"scala sbt and corporate proxy - SunCertPathBuilderException","body":"<p>Assuming you are under windows, which is of course configured correctly you can instead:</p>\n<ol>\n<li>Download the certificate. Right-Click -&gt; Install Certificate -&gt; Local Machine -&gt; Automatically.</li>\n<li>Update <code>C:\\Program Files (x86)\\sbt\\conf\\sbtconfig.txt</code></li>\n</ol>\n<pre><code>-Djavax.net.ssl.trustStore=C:\\\\Windows\\\\win.ini\n-Djavax.net.ssl.trustStoreType=Windows-ROOT\n</code></pre>\n<p>Then if you use IntelliJ, you can add these parameters into the &quot;VM parameter&quot; of your sbt project settings.</p>\n"},{"tags":[],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635971908,"creation_date":1635971908,"answer_id":69831450,"question_id":41981320,"body_markdown":"In my case it was the wrong content of `SBT_OPTS` environmental variable","title":"scala sbt and corporate proxy - SunCertPathBuilderException","body":"<p>In my case it was the wrong content of <code>SBT_OPTS</code> environmental variable</p>\n"},{"tags":[],"owner":{"account_id":5849308,"reputation":887,"user_id":4608441,"display_name":"swapnil shashank"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686175102,"creation_date":1670320333,"answer_id":74700458,"question_id":41981320,"body_markdown":" 1. Download certificates for the URLs for which it is failing.\r\n\r\n    1.1. Copy the URL and paste it in the browser.\r\n\r\n    1.2. Beside the address bar on the browser there is a lock symbol, click on it.\r\n\r\n    1.3 Click on &quot;Connection is sure&quot;\r\n\r\n    1.4 Click on &quot;Certificate is valid&quot;\r\n\r\n    1.5 Click on Details in the tab\r\n\r\n    1.6 Export the certificate in Base64 format\r\n\r\n2. Goto to the following location (change as per you own JDK version):\r\n\r\n```\r\ncd /Library/Java/JavaVirtualMachines/jdk-17.0.5.jdk/Contents/Home/lib/security/\r\n```\r\n\r\n3. Make cacerts writable\r\n\r\n```\r\nsudo chmod -R 777 /Library/Java/JavaVirtualMachines/jdk-17.0.5.jdk/Contents/Home/lib/security/cacerts\r\n```\r\n\r\n4. Use the following command to install certificates\r\n```\r\nkeytool -importcert -file /Users/IN45599512/Downloads/_.jfrog.io.cer  -trustcacerts -keystore &quot;/Library/Java/JavaVirtualMachines/jdk-17.0.5.jdk/Contents/Home/lib/security/cacerts&quot;\r\n    \r\nkeytool -importcert -file /Users/IN45599512/Downloads/ repo1.maven.org.cer  -trustcacerts -keystore &quot;/Library/Java/JavaVirtualMachines/jdk-17.0.5.jdk/Contents/Home/lib/security/cacerts&quot;\r\n```\r\nIf prompted for password, use “changeit”\r\n\r\n5. Changing Permissions for cacerts again back\r\n\r\n```\r\nsudo chmod -R 644 /Library/Java/JavaVirtualMachines/jdk-17.0.5.jdk/Contents/Home/lib/security/cacerts\r\n```\r\n\r\n  \r\n\r\n\r\n      \r\n\r\n \r\n\r\n\r\n\r\n\r\n","title":"scala sbt and corporate proxy - SunCertPathBuilderException","body":"<ol>\n<li><p>Download certificates for the URLs for which it is failing.</p>\n<p>1.1. Copy the URL and paste it in the browser.</p>\n<p>1.2. Beside the address bar on the browser there is a lock symbol, click on it.</p>\n<p>1.3 Click on &quot;Connection is sure&quot;</p>\n<p>1.4 Click on &quot;Certificate is valid&quot;</p>\n<p>1.5 Click on Details in the tab</p>\n<p>1.6 Export the certificate in Base64 format</p>\n</li>\n<li><p>Goto to the following location (change as per you own JDK version):</p>\n</li>\n</ol>\n<pre><code>cd /Library/Java/JavaVirtualMachines/jdk-17.0.5.jdk/Contents/Home/lib/security/\n</code></pre>\n<ol start=\"3\">\n<li>Make cacerts writable</li>\n</ol>\n<pre><code>sudo chmod -R 777 /Library/Java/JavaVirtualMachines/jdk-17.0.5.jdk/Contents/Home/lib/security/cacerts\n</code></pre>\n<ol start=\"4\">\n<li>Use the following command to install certificates</li>\n</ol>\n<pre><code>keytool -importcert -file /Users/IN45599512/Downloads/_.jfrog.io.cer  -trustcacerts -keystore &quot;/Library/Java/JavaVirtualMachines/jdk-17.0.5.jdk/Contents/Home/lib/security/cacerts&quot;\n    \nkeytool -importcert -file /Users/IN45599512/Downloads/ repo1.maven.org.cer  -trustcacerts -keystore &quot;/Library/Java/JavaVirtualMachines/jdk-17.0.5.jdk/Contents/Home/lib/security/cacerts&quot;\n</code></pre>\n<p>If prompted for password, use “changeit”</p>\n<ol start=\"5\">\n<li>Changing Permissions for cacerts again back</li>\n</ol>\n<pre><code>sudo chmod -R 644 /Library/Java/JavaVirtualMachines/jdk-17.0.5.jdk/Contents/Home/lib/security/cacerts\n</code></pre>\n"}],"owner":{"account_id":2142244,"reputation":2287,"user_id":1900620,"accept_rate":41,"display_name":"Thiago Say&#227;o"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29173,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":8,"score":21,"last_activity_date":1686175102,"creation_date":1485956603,"question_id":41981320,"body_markdown":"When I try to use SBT some files cannot be downloaded with the following error:\r\n\r\n&gt; Server access Error: sun.security.validator.ValidatorException: PKIX\r\n&gt; path building failed:\r\n&gt; sun.security.provider.certpath.SunCertPathBuilderException: unable to\r\n&gt; find valid certification path to requested target\r\n&gt; url=https://repo1.maven.org/maven2/org/scala-sbt/sbt/1.0.0-M4/sbt-1.0.0-M4.jar\r\n\r\nI have followed some advice on Stack Overflow and imported the corporate proxy SSL certificate with the java keytool as described in:\r\nhttps://stackoverflow.com/questions/6492122/ssl-certificate-problem-in-a-web-service-proxy\r\n\r\n It does not seems to affect the SBT tool. Does it look in a different keystore? Any ideas?\r\n\r\nIf I paste the URL on the browser the file downloads.\r\n\r\nI get this error when simply running the SBT tool I have installed. When I try to create a SBT project on IntelliJ Idea and update it, it gives me the same error with different URLs. Same thing when trying to use the lightbend activator.","title":"scala sbt and corporate proxy - SunCertPathBuilderException","body":"<p>When I try to use SBT some files cannot be downloaded with the following error:</p>\n\n<blockquote>\n  <p>Server access Error: sun.security.validator.ValidatorException: PKIX\n  path building failed:\n  sun.security.provider.certpath.SunCertPathBuilderException: unable to\n  find valid certification path to requested target\n  url=<a href=\"https://repo1.maven.org/maven2/org/scala-sbt/sbt/1.0.0-M4/sbt-1.0.0-M4.jar\" rel=\"noreferrer\">https://repo1.maven.org/maven2/org/scala-sbt/sbt/1.0.0-M4/sbt-1.0.0-M4.jar</a></p>\n</blockquote>\n\n<p>I have followed some advice on Stack Overflow and imported the corporate proxy SSL certificate with the java keytool as described in:\n<a href=\"https://stackoverflow.com/questions/6492122/ssl-certificate-problem-in-a-web-service-proxy\">SSL certificate problem in a web service proxy</a></p>\n\n<p>It does not seems to affect the SBT tool. Does it look in a different keystore? Any ideas?</p>\n\n<p>If I paste the URL on the browser the file downloads.</p>\n\n<p>I get this error when simply running the SBT tool I have installed. When I try to create a SBT project on IntelliJ Idea and update it, it gives me the same error with different URLs. Same thing when trying to use the lightbend activator.</p>\n"},{"tags":["java","swing","user-interface"],"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":4,"creation_date":1686161263,"post_id":76425958,"comment_id":134762639,"body_markdown":"You&#39;re declaring JLabel twice.  The local one is rhe one you are initializing. Same for JFrame and JButton.","body":"You&#39;re declaring JLabel twice.  The local one is rhe one you are initializing. Same for JFrame and JButton."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1686162224,"post_id":76425958,"comment_id":134762813,"body_markdown":"Watch your [class names](https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions)","body":"Watch your <a href=\"https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions\" rel=\"nofollow noreferrer\">class names</a>"}],"answers":[{"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1686175368,"post_id":76427350,"comment_id":134765020,"body_markdown":"@roTenshi2: 1) Reilas is correct.  Please consider &quot;upvoting&quot; and &quot;acceptinhg&quot; this reply. 2) GENERAL RULES: a) declare and define variables as close to their use as possible, b) Don&#39;t declare member variables unless they&#39;re being used by different places in your class.  3) Per g00se: Watch your [class names](https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions).  Consider renaming &quot;firstGui&quot; =&gt; `FirstGui()`.","body":"@roTenshi2: 1) Reilas is correct.  Please consider &quot;upvoting&quot; and &quot;acceptinhg&quot; this reply. 2) GENERAL RULES: a) declare and define variables as close to their use as possible, b) Don&#39;t declare member variables unless they&#39;re being used by different places in your class.  3) Per g00se: Watch your <a href=\"https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions\" rel=\"nofollow noreferrer\">class names</a>.  Consider renaming &quot;firstGui&quot; =&gt; <code>FirstGui()</code>."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1686242226,"post_id":76427350,"comment_id":134775489,"body_markdown":"I wouldn&#39;t describe it as a &quot;new object.&quot; I mean, of course you&#39;re creating a new object; you&#39;re instantiating a `Label`. The key thing is that it&#39;s assigned to a *local variable*.","body":"I wouldn&#39;t describe it as a &quot;new object.&quot; I mean, of course you&#39;re creating a new object; you&#39;re instantiating a <code>Label</code>. The key thing is that it&#39;s assigned to a <i>local variable</i>."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686242364,"post_id":76427350,"comment_id":134775519,"body_markdown":"@DavidConrad, I don&#39;t follow.","body":"@DavidConrad, I don&#39;t follow."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1686242714,"post_id":76427350,"comment_id":134775584,"body_markdown":"Where you say, &quot;a new *object* for your label,&quot; there is only one object regardless of which variable you store it in, whether `this.label` or the local variable `label` which shadows it. So, the problem, I think, is more clearly stated by saying that the local variable `label` is shadowing the field `label`, the field is never assigned, and the local variable goes out of scope at the end of the method. Pedantic, perhaps.","body":"Where you say, &quot;a new <i>object</i> for your label,&quot; there is only one object regardless of which variable you store it in, whether <code>this.label</code> or the local variable <code>label</code> which shadows it. So, the problem, I think, is more clearly stated by saying that the local variable <code>label</code> is shadowing the field <code>label</code>, the field is never assigned, and the local variable goes out of scope at the end of the method. Pedantic, perhaps."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686243046,"post_id":76427350,"comment_id":134775669,"body_markdown":"@DavidConrad, the _label_ field is an object, and the local variable _label_ is an object.  _[Lesson: Classes and Objects (The Java™ Tutorials &gt; Learning the Java Language)](https://docs.oracle.com/javase/tutorial/java/javaOO/index.html)_.","body":"@DavidConrad, the <i>label</i> field is an object, and the local variable <i>label</i> is an object.  <i><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/index.html\" rel=\"nofollow noreferrer\">Lesson: Classes and Objects (The Java™ Tutorials &gt; Learning the Java Language)</a></i>."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1686243186,"post_id":76427350,"comment_id":134775695,"body_markdown":"Neither of them are objects. They are variables, which ***refer*** to objects.","body":"Neither of them are objects. They are variables, which <b><i>refer</i></b> to objects."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1686243242,"post_id":76427350,"comment_id":134775706,"body_markdown":"If I write `String a = &quot;Hello&quot;; String b = a;` how many objects do I have? Two? No, one.","body":"If I write <code>String a = &quot;Hello&quot;; String b = a;</code> how many objects do I have? Two? No, one."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686243340,"post_id":76427350,"comment_id":134775732,"body_markdown":"@DavidConrad, I see what you mean, although, I&#39;m referring to the new objects, not the variables.  You&#39;re in the wrong context.","body":"@DavidConrad, I see what you mean, although, I&#39;m referring to the new objects, not the variables.  You&#39;re in the wrong context."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686243437,"post_id":76427350,"comment_id":134775751,"body_markdown":"@DavidConrad, there are two objects there.  You might be talking about reference?  _a_ and _b_ are both objects.","body":"@DavidConrad, there are two objects there.  You might be talking about reference?  <i>a</i> and <i>b</i> are both objects."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686243605,"post_id":76427350,"comment_id":134775789,"body_markdown":"@DavidConrad, for example, _String a, b;_ are two variables, unassigned.  If you assigned both, you have two objects.  You&#39;re attempting to say that is the reference is the same, it&#39;s the same object.","body":"@DavidConrad, for example, <i>String a, b;</i> are two variables, unassigned.  If you assigned both, you have two objects.  You&#39;re attempting to say that is the reference is the same, it&#39;s the same object."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1686243673,"post_id":76427350,"comment_id":134775801,"body_markdown":"No, `a` and `b` both ***refer*** to objects. There is only one object on the heap. And in the Swing case, there is also only one object, the one allocated and initialized by calling `new Label`. To get two objects, you would have to do `new Label` twice.","body":"No, <code>a</code> and <code>b</code> both <b><i>refer</i></b> to objects. There is only one object on the heap. And in the Swing case, there is also only one object, the one allocated and initialized by calling <code>new Label</code>. To get two objects, you would have to do <code>new Label</code> twice."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1686243709,"post_id":76427350,"comment_id":134775809,"body_markdown":"If you assign them both to the ***same object*** then there is only ***one*** object, and `a == b`.","body":"If you assign them both to the <b><i>same object</i></b> then there is only <b><i>one</i></b> object, and <code>a == b</code>."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686243775,"post_id":76427350,"comment_id":134775817,"body_markdown":"@DavidConrad, exactly, you are referring to the memory allocation, I&#39;m talking about an _object_.  You have your terminology crossed.","body":"@DavidConrad, exactly, you are referring to the memory allocation, I&#39;m talking about an <i>object</i>.  You have your terminology crossed."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1686243793,"post_id":76427350,"comment_id":134775820,"body_markdown":"@Reilas &quot;I&#39;m referring to new objects&quot; -- there is only one new object, the one created by `new`.","body":"@Reilas &quot;I&#39;m referring to new objects&quot; -- there is only one new object, the one created by <code>new</code>."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1686243834,"post_id":76427350,"comment_id":134775832,"body_markdown":"I do not have my terminology crossed. I have been programming in Java since 1997 and in general, since 1978. You have your terminology crossed.","body":"I do not have my terminology crossed. I have been programming in Java since 1997 and in general, since 1978. You have your terminology crossed."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686243857,"post_id":76427350,"comment_id":134775840,"body_markdown":"@DavidConrad, you&#39;re referring to a reference in memory, not an object.","body":"@DavidConrad, you&#39;re referring to a reference in memory, not an object."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1686243951,"post_id":76427350,"comment_id":134775860,"body_markdown":"The object is the data on the heap. Variables do not contain objects, they only contain the address in memory where the object is found. Of course, normally one doesn&#39;t need to think about this when writing code, but it is just wrong to talk about two different objects in this case when only one `JLabel` is ever created by this code.","body":"The object is the data on the heap. Variables do not contain objects, they only contain the address in memory where the object is found. Of course, normally one doesn&#39;t need to think about this when writing code, but it is just wrong to talk about two different objects in this case when only one <code>JLabel</code> is ever created by this code."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686244169,"post_id":76427350,"comment_id":134775909,"body_markdown":"@DavidConrad, how about a _method_, is that an object?","body":"@DavidConrad, how about a <i>method</i>, is that an object?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1686244459,"post_id":76427350,"comment_id":134775958,"body_markdown":"No, of course a method is not an object.","body":"No, of course a method is not an object."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686244910,"post_id":76427350,"comment_id":134776034,"body_markdown":"@DavidConrad, variables, class structures, functions, and procedures, are objects.","body":"@DavidConrad, variables, class structures, functions, and procedures, are objects."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1686245117,"post_id":76427350,"comment_id":134776076,"body_markdown":"That statement would make Alan Kay very sad. It&#39;s also simply incorrect.","body":"That statement would make Alan Kay very sad. It&#39;s also simply incorrect."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686245845,"post_id":76427350,"comment_id":134776219,"body_markdown":"@DavidConrad, good for him.  It&#39;s the definition, look it up.  https://en.m.wikipedia.org/wiki/Object_(computer_science).","body":"@DavidConrad, good for him.  It&#39;s the definition, look it up.  <a href=\"https://en.m.wikipedia.org/wiki/Object_(computer_science)\" rel=\"nofollow noreferrer\">en.m.wikipedia.org/wiki/Object_(computer_science)</a>."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686245993,"post_id":76427350,"comment_id":134776246,"body_markdown":"@DavidConrad, if I can reiterate.  Computer Science has several contexts, in terms of terminology.  You are referring to memory allocation, which references &quot;objects&quot;.  Same word, different context.","body":"@DavidConrad, if I can reiterate.  Computer Science has several contexts, in terms of terminology.  You are referring to memory allocation, which references &quot;objects&quot;.  Same word, different context."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1686246077,"post_id":76427350,"comment_id":134776266,"body_markdown":"Good for him? He is the one who invented object-oriented programming. If Wikipedia says something different, then Wikipedia is wrong. In a Computer Science context, Alan Kay&#39;s definition of &#39;Object&#39; is the only one that matters. If you don&#39;t know who he is, you should not be opining on the subject.","body":"Good for him? He is the one who invented object-oriented programming. If Wikipedia says something different, then Wikipedia is wrong. In a Computer Science context, Alan Kay&#39;s definition of &#39;Object&#39; is the only one that matters. If you don&#39;t know who he is, you should not be opining on the subject."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1686246203,"post_id":76427350,"comment_id":134776289,"body_markdown":"I should clarify, the point is not about memory allocation. I was only trying, fruitlessly, to get you to see that two variables can refer to the same object. The point is that an object is an instance of a class, and there is only one instance ever created. Even if you assign it to a hundred variables, only one instance exists.","body":"I should clarify, the point is not about memory allocation. I was only trying, fruitlessly, to get you to see that two variables can refer to the same object. The point is that an object is an instance of a class, and there is only one instance ever created. Even if you assign it to a hundred variables, only one instance exists."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686247078,"post_id":76427350,"comment_id":134776461,"body_markdown":"@DavidConrad, so, hey man, if you want to argue the definition of an object, go to Wikipedia and change it.","body":"@DavidConrad, so, hey man, if you want to argue the definition of an object, go to Wikipedia and change it."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1686247311,"post_id":76427350,"comment_id":134776515,"body_markdown":"No thanks. If you think an object is not an instance of a class, that&#39;s your problem.","body":"No thanks. If you think an object is not an instance of a class, that&#39;s your problem."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686247398,"post_id":76427350,"comment_id":134776529,"body_markdown":"@DavidConrad, that&#39;s great, buddy.","body":"@DavidConrad, that&#39;s great, buddy."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":28,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686175045,"creation_date":1686175045,"answer_id":76427350,"question_id":76425958,"body_markdown":"The reason this is happening is because you have used a new _object_ for your label.  \r\nRather than using the declared _label_ field.\r\n\r\nYour following fields here, accessible to any non-static method within the _firstGui_ class.\r\n\r\n```java\r\nprivate int count = 0;\r\nprivate JLabel label;\r\nprivate JFrame frame;\r\nprivate JButton b;\r\n```\r\n\r\nSo, instead of using a new _JLabel_ object, here\r\n\r\n```java\r\nJLabel label = new JLabel(&quot;Number of times clicked: &quot;);\r\n```\r\n\r\nUse the same one from the class fields&amp;mdash;remove the object type, in the declaration.\r\n\r\n```java\r\nlabel = new JLabel(&quot;Number of times clicked: &quot;);\r\n```","title":"Getting an error message in Java while using Java Swing?","body":"<p>The reason this is happening is because you have used a new <em>object</em> for your label.<br />\nRather than using the declared <em>label</em> field.</p>\n<p>Your following fields here, accessible to any non-static method within the <em>firstGui</em> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private int count = 0;\nprivate JLabel label;\nprivate JFrame frame;\nprivate JButton b;\n</code></pre>\n<p>So, instead of using a new <em>JLabel</em> object, here</p>\n<pre class=\"lang-java prettyprint-override\"><code>JLabel label = new JLabel(&quot;Number of times clicked: &quot;);\n</code></pre>\n<p>Use the same one from the class fields—remove the object type, in the declaration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>label = new JLabel(&quot;Number of times clicked: &quot;);\n</code></pre>\n"}],"owner":{"account_id":26733364,"reputation":59,"user_id":20335327,"display_name":"roTenshi2"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686175045,"creation_date":1686160885,"question_id":76425958,"body_markdown":"This is one of my very first mini-projects using GUI and Java swing. Everything runs fine with no errors until I invoke the setText() method. Here is my code:\r\n\r\n```\r\npublic class firstGui implements ActionListener {\r\n\t\r\n\tprivate int count = 0;\r\n\tprivate JLabel label;\r\n\tprivate JFrame frame;\r\n\tprivate JButton b;\r\n\t\r\n\tpublic firstGui() {\r\n\t\t// Creating the window\r\n\t\tJFrame frame = new JFrame();\r\n\t\tJPanel panel1 = new JPanel();\r\n\t\tpanel1.setBorder(BorderFactory.createEmptyBorder(30, 30, 10, 30));\r\n\t\tpanel1.setLayout(new GridLayout(0, 1));\r\n\t\r\n\t\t\r\n\t\t// Creating the panel\r\n\t\tframe.add(panel1, BorderLayout.CENTER);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setTitle(&quot;Here is our first GUI!&quot;);\r\n\t\tframe.pack();\r\n\t\tframe.setVisible(true);\r\n\t\t\r\n\t\t// Creating a button to click on\r\n\t\tJButton b = new JButton(&quot;Click here! :) &quot;);\r\n\t\tpanel1.add(b); \r\n\t\t// Adding actions to the button when clicked\r\n\t\t\r\n\t\tb.addActionListener(this);\r\n\t\t\r\n\t\t// Creating a label\r\n\t\tJLabel label = new JLabel(&quot;Number of times clicked: &quot;);\r\n\t\tpanel1.add(label);\r\n\t\t\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tfirstGui user1 = new firstGui();\r\n\t\t\r\n\t\r\n\t\t\r\n\t\t\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\r\n\t\tcount++;\r\n\t\tlabel.setText(&quot;Number of times clicked: &quot; + count); // here is where the problem seems to occur.\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\nI&#39;m not sure as to why it gives me a:\r\n\r\n    &quot;Cannot invoke &quot;javax.swing.JLabel.setText(String)&quot; because &quot;this.label&quot; is null&quot; error message.","title":"Getting an error message in Java while using Java Swing?","body":"<p>This is one of my very first mini-projects using GUI and Java swing. Everything runs fine with no errors until I invoke the setText() method. Here is my code:</p>\n<pre><code>public class firstGui implements ActionListener {\n    \n    private int count = 0;\n    private JLabel label;\n    private JFrame frame;\n    private JButton b;\n    \n    public firstGui() {\n        // Creating the window\n        JFrame frame = new JFrame();\n        JPanel panel1 = new JPanel();\n        panel1.setBorder(BorderFactory.createEmptyBorder(30, 30, 10, 30));\n        panel1.setLayout(new GridLayout(0, 1));\n    \n        \n        // Creating the panel\n        frame.add(panel1, BorderLayout.CENTER);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setTitle(&quot;Here is our first GUI!&quot;);\n        frame.pack();\n        frame.setVisible(true);\n        \n        // Creating a button to click on\n        JButton b = new JButton(&quot;Click here! :) &quot;);\n        panel1.add(b); \n        // Adding actions to the button when clicked\n        \n        b.addActionListener(this);\n        \n        // Creating a label\n        JLabel label = new JLabel(&quot;Number of times clicked: &quot;);\n        panel1.add(label);\n        \n    }\n\n    public static void main(String[] args) {\n        \n        firstGui user1 = new firstGui();\n        \n    \n        \n        \n\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        \n        count++;\n        label.setText(&quot;Number of times clicked: &quot; + count); // here is where the problem seems to occur.\n        \n        \n    }\n\n}\n</code></pre>\n<p>I'm not sure as to why it gives me a:</p>\n<pre><code>&quot;Cannot invoke &quot;javax.swing.JLabel.setText(String)&quot; because &quot;this.label&quot; is null&quot; error message.\n</code></pre>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1645803112,"post_id":71265432,"comment_id":125974309,"body_markdown":"It sounds like a pretty clear use-case, but I&#39;m not sure where you are having problems. Can you edit your question to show what you tried already?","body":"It sounds like a pretty clear use-case, but I&#39;m not sure where you are having problems. Can you edit your question to show what you tried already?"}],"answers":[{"comments":[{"owner":{"account_id":24375909,"reputation":1,"user_id":18308267,"display_name":"Samurbandy Vlog Channel"},"score":0,"creation_date":1645839617,"post_id":71271290,"comment_id":125984088,"body_markdown":"But in my case we dont know how much product inside the cart before we call the checkOut method. I mean when in the cart has only one idProduct, so it should update stock at only one  idProduct. Same when in the cart has two idProduct, so it should update stock at those two.\n\nI got myself confused when trying to get idProduct string from every child in the cart. And no idea how to update every idProduct inventory stock that I dont know how much product inside the cart.","body":"But in my case we dont know how much product inside the cart before we call the checkOut method. I mean when in the cart has only one idProduct, so it should update stock at only one  idProduct. Same when in the cart has two idProduct, so it should update stock at those two.  I got myself confused when trying to get idProduct string from every child in the cart. And no idea how to update every idProduct inventory stock that I dont know how much product inside the cart."},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1645850122,"post_id":71271290,"comment_id":125985192,"body_markdown":"I&#39;m not sure I understand, which is why I tried to cover all cases in my answer. Did you try any of the code I gave in my answer?","body":"I&#39;m not sure I understand, which is why I tried to cover all cases in my answer. Did you try any of the code I gave in my answer?"},{"owner":{"account_id":24375909,"reputation":1,"user_id":18308267,"display_name":"Samurbandy Vlog Channel"},"score":0,"creation_date":1645881725,"post_id":71271290,"comment_id":125989903,"body_markdown":"I&#39;ve tried all of them before but it can only update stock value for one product only. Not all product inside the cart. What I want is in one method checkOut() I can get every quantity value from the product inside cart and update specific product stock in user inventory. My idea is move cartRef into productRef (inventory) and I hope it will update the inventory stock magically with something code I dont know.","body":"I&#39;ve tried all of them before but it can only update stock value for one product only. Not all product inside the cart. What I want is in one method checkOut() I can get every quantity value from the product inside cart and update specific product stock in user inventory. My idea is move cartRef into productRef (inventory) and I hope it will update the inventory stock magically with something code I dont know."},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1645890550,"post_id":71271290,"comment_id":125991624,"body_markdown":"I added an example of updating the `stock` property for multiple products in one call to my answer too.","body":"I added an example of updating the <code>stock</code> property for multiple products in one call to my answer too."},{"owner":{"account_id":24375909,"reputation":1,"user_id":18308267,"display_name":"Samurbandy Vlog Channel"},"score":0,"creation_date":1645896235,"post_id":71271290,"comment_id":125992866,"body_markdown":"Thank you its new for me. But in your example is updating stock for 2 (two) products. And the number of product inside userCart is not always 2 (two). And what I want to get from userCart are number of product and each idProduct. Then when I have those data how to use it into your example method.","body":"Thank you its new for me. But in your example is updating stock for 2 (two) products. And the number of product inside userCart is not always 2 (two). And what I want to get from userCart are number of product and each idProduct. Then when I have those data how to use it into your example method."},{"owner":{"account_id":24375909,"reputation":1,"user_id":18308267,"display_name":"Samurbandy Vlog Channel"},"score":0,"creation_date":1645928691,"post_id":71271290,"comment_id":125998056,"body_markdown":"Thank you, I am new on this forum and than information is very useful for me. But its say Thanks for the feedback! You need at least 15 reputation to cast a vote, but your feedback has been recorded. I will update my question to increase chance to get accepted answer...","body":"Thank you, I am new on this forum and than information is very useful for me. But its say Thanks for the feedback! You need at least 15 reputation to cast a vote, but your feedback has been recorded. I will update my question to increase chance to get accepted answer..."},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1645931328,"post_id":71271290,"comment_id":125998286,"body_markdown":"Did you *try* using what I showed already, to make your use-case?","body":"Did you <i>try</i> using what I showed already, to make your use-case?"},{"owner":{"account_id":24375909,"reputation":1,"user_id":18308267,"display_name":"Samurbandy Vlog Channel"},"score":0,"creation_date":1645936550,"post_id":71271290,"comment_id":125998821,"body_markdown":"Yes of course I use your example method for editing specific product detail. And will use your another example method &quot;update the stock of multiple products in one go&quot; when I know how to get all idProduct and quantity from cart first. And now I almost solved my case. Its about the position of my cartList. Start from 0 to last position in my cartList. When I get all data per product on cart, then I just call your &quot;update the stock of multiple products in one go&quot; method. Can you help me to get all value from my cartList? It would be very helpfull...","body":"Yes of course I use your example method for editing specific product detail. And will use your another example method &quot;update the stock of multiple products in one go&quot; when I know how to get all idProduct and quantity from cart first. And now I almost solved my case. Its about the position of my cartList. Start from 0 to last position in my cartList. When I get all data per product on cart, then I just call your &quot;update the stock of multiple products in one go&quot; method. Can you help me to get all value from my cartList? It would be very helpfull..."}],"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645890639,"creation_date":1645820113,"answer_id":71271290,"question_id":71265432,"body_markdown":"If you want to update the value of the `stock` property when you know the user and the product ID, you can do that with:\r\n```\r\nFirebaseDatabase.getInstance().getReference()\r\n    .child(&quot;users&quot;)\r\n    .child(&quot;user1&quot;)\r\n    .child(&quot;product&quot;)\r\n    .child(&quot;product-0001&quot;)\r\n    .child(&quot;stock&quot;)\r\n    .setValue(42);\r\n```\r\n\r\nThe same result can be accomplished with this shorter code:\r\n\r\n```\r\nFirebaseDatabase.getInstance().getReference()\r\n    .child(&quot;users/user1/product/product-0001/stock&quot;)\r\n    .setValue(42);\r\n```\r\n\r\nOr with this use of `updateChildren` to only update one or a few of the properties:\r\n\r\n```\r\nMap&lt;String,Object&gt; values = new HashMap&lt;&gt;();\r\nvalues.put(&quot;stock&quot;, 42);\r\n\r\nFirebaseDatabase.getInstance().getReference()\r\n    .child(&quot;users/user1/product/product-0001&quot;)\r\n    .updateChildren(values);\r\n```\r\n\r\n---\r\n\r\nIf you want to increment/decrement the stock based on its current value, you can either [use a transaction](https://firebase.google.com/docs/database/android/read-and-write#save_data_as_transactions) or use the [atomic increment/decrement operation](https://firebase.google.com/docs/database/android/read-and-write#atomic_server-side_increments):\r\n\r\n```\r\nFirebaseDatabase.getInstance().getReference()\r\n    .child(&quot;users/user1/product/product-0001/stock&quot;)\r\n    .setValue(ServerValue.increment(-20));\r\n```\r\n\r\n---\r\n\r\nFinally, not that your data structure is not in line with the recommendations in the Firebase documentation on [keeping your data structure flat](https://firebase.google.com/docs/database/android/structure-data#flatten_data_structures). I&#39;d recommend changing it to two top-level lists (say `userProducts` and `userCarts`) and then the same UID-based child nodes under it.\r\n\r\n---\r\n\r\n**Update**: If you want to update the stock of multiple products in one go, you can use `updateChildren` to perform a multi-path update like this:\r\n\r\n```\r\nMap&lt;String,Object&gt; values = new HashMap&lt;&gt;();\r\nvalues.put(&quot;product/product-0001/stock&quot;, 42);\r\nvalues.put(&quot;product/product-0002/stock&quot;, 21);\r\n\r\nFirebaseDatabase.getInstance().getReference(&quot;users/user1&quot;)\r\n    .updateChildren(values);\r\n```\r\n","title":"Updating Inventory Stock After Check Out in Cart Activity Using Firebase Realtime Database","body":"<p>If you want to update the value of the <code>stock</code> property when you know the user and the product ID, you can do that with:</p>\n<pre><code>FirebaseDatabase.getInstance().getReference()\n    .child(&quot;users&quot;)\n    .child(&quot;user1&quot;)\n    .child(&quot;product&quot;)\n    .child(&quot;product-0001&quot;)\n    .child(&quot;stock&quot;)\n    .setValue(42);\n</code></pre>\n<p>The same result can be accomplished with this shorter code:</p>\n<pre><code>FirebaseDatabase.getInstance().getReference()\n    .child(&quot;users/user1/product/product-0001/stock&quot;)\n    .setValue(42);\n</code></pre>\n<p>Or with this use of <code>updateChildren</code> to only update one or a few of the properties:</p>\n<pre><code>Map&lt;String,Object&gt; values = new HashMap&lt;&gt;();\nvalues.put(&quot;stock&quot;, 42);\n\nFirebaseDatabase.getInstance().getReference()\n    .child(&quot;users/user1/product/product-0001&quot;)\n    .updateChildren(values);\n</code></pre>\n<hr />\n<p>If you want to increment/decrement the stock based on its current value, you can either <a href=\"https://firebase.google.com/docs/database/android/read-and-write#save_data_as_transactions\" rel=\"nofollow noreferrer\">use a transaction</a> or use the <a href=\"https://firebase.google.com/docs/database/android/read-and-write#atomic_server-side_increments\" rel=\"nofollow noreferrer\">atomic increment/decrement operation</a>:</p>\n<pre><code>FirebaseDatabase.getInstance().getReference()\n    .child(&quot;users/user1/product/product-0001/stock&quot;)\n    .setValue(ServerValue.increment(-20));\n</code></pre>\n<hr />\n<p>Finally, not that your data structure is not in line with the recommendations in the Firebase documentation on <a href=\"https://firebase.google.com/docs/database/android/structure-data#flatten_data_structures\" rel=\"nofollow noreferrer\">keeping your data structure flat</a>. I'd recommend changing it to two top-level lists (say <code>userProducts</code> and <code>userCarts</code>) and then the same UID-based child nodes under it.</p>\n<hr />\n<p><strong>Update</strong>: If you want to update the stock of multiple products in one go, you can use <code>updateChildren</code> to perform a multi-path update like this:</p>\n<pre><code>Map&lt;String,Object&gt; values = new HashMap&lt;&gt;();\nvalues.put(&quot;product/product-0001/stock&quot;, 42);\nvalues.put(&quot;product/product-0002/stock&quot;, 21);\n\nFirebaseDatabase.getInstance().getReference(&quot;users/user1&quot;)\n    .updateChildren(values);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28759594,"reputation":1,"user_id":22025815,"display_name":"Fixonet IT Solution"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686175038,"creation_date":1685991949,"answer_id":76409307,"question_id":71265432,"body_markdown":"```\r\ndatabaseReference = FirebaseDatabase.getInstance().getReference(&quot;cart_item&quot;).child(mobileNo).child(orderId);\r\ndatabaseReference.addListenerForSingleValueEvent(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n        if (snapshot.exists())\r\n\r\n            for (DataSnapshot ds: snapshot.getChildren()){\r\n\r\n                databaseReference = FirebaseDatabase.getInstance().getReference(&quot;products&quot;)\r\n                                .child(mobileNo);\r\n                databaseReference.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                        for (DataSnapshot dss: snapshot.getChildren()){\r\n\r\n                            int itemStock = (Integer.parseInt(dss.child(&quot;stock&quot;).getValue().toString())) -Integer.parseInt(ds.child(&quot;itemQuantity&quot;).getValue().toString());\r\n                                    String s_stock = String.valueOf(itemStock);\r\n\r\n                            databaseReference = FirebaseDatabase.getInstance().getReference(&quot;products&quot;).child(mobileNo).child(ds.child(&quot;itemCode&quot;).getValue().toString());\r\n                            Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n                            map.put(&quot;stock&quot;,s_stock);\r\n                            databaseReference.updateChildren(map);\r\n\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                    }\r\n                });\r\n\r\n\r\n            }\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n    }\r\n});\r\n```","title":"Updating Inventory Stock After Check Out in Cart Activity Using Firebase Realtime Database","body":"<pre><code>databaseReference = FirebaseDatabase.getInstance().getReference(&quot;cart_item&quot;).child(mobileNo).child(orderId);\ndatabaseReference.addListenerForSingleValueEvent(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\n        if (snapshot.exists())\n\n            for (DataSnapshot ds: snapshot.getChildren()){\n\n                databaseReference = FirebaseDatabase.getInstance().getReference(&quot;products&quot;)\n                                .child(mobileNo);\n                databaseReference.addListenerForSingleValueEvent(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n                        for (DataSnapshot dss: snapshot.getChildren()){\n\n                            int itemStock = (Integer.parseInt(dss.child(&quot;stock&quot;).getValue().toString())) -Integer.parseInt(ds.child(&quot;itemQuantity&quot;).getValue().toString());\n                                    String s_stock = String.valueOf(itemStock);\n\n                            databaseReference = FirebaseDatabase.getInstance().getReference(&quot;products&quot;).child(mobileNo).child(ds.child(&quot;itemCode&quot;).getValue().toString());\n                            Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n                            map.put(&quot;stock&quot;,s_stock);\n                            databaseReference.updateChildren(map);\n\n                        }\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {\n\n                    }\n                });\n\n\n            }\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":24375909,"reputation":1,"user_id":18308267,"display_name":"Samurbandy Vlog Channel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686175038,"creation_date":1645789785,"question_id":71265432,"body_markdown":"I&#39;m creating a point of sales project using Firebase Realtime Db. As the picture attached each user has children&#39;s &quot;product&quot; and &quot;cart&quot;. What I want to ask is how to update the value of &quot;stock&quot; in the inventory when doing the check out the method in the cart activity.\r\n\r\n\r\n![My db screenshot for example][1]\r\n\r\n\r\n\r\nI found this method but I know it will not working. It will destroy another node and child instead update it. But later I found `updateChildren()` method but I didnt have any idea to use that into my project.\r\n\r\n    private void checkOut() { //when I press the check out button\r\n        String userId = &quot;user1&quot;; //as shown at the db screenshot\r\n\r\n        DatabaseReference inventoryRef = FirebaseDatabase.getInstance().getReference()\r\n                .child(&quot;users&quot;).child(userId).child(&quot;product&quot;);\r\n        DatabaseReference cartRef = FirebaseDatabase.getInstance().getReference()\r\n                .child(&quot;users&quot;).child(userId).child(&quot;shopingCart&quot;);\r\n\r\n        cartRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                inventoryRef.setValue(dataSnapshot.getValue(), new DatabaseReference.CompletionListener() {\r\n                    @Override\r\n                    public void onComplete(DatabaseError firebaseError, DatabaseReference firebase) {\r\n                        if (firebaseError != null) {\r\n                            System.out.println(&quot;Copy failed&quot;);\r\n                        } else {\r\n                            System.out.println(&quot;Success&quot;);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/q0mKI.png","title":"Updating Inventory Stock After Check Out in Cart Activity Using Firebase Realtime Database","body":"<p>I'm creating a point of sales project using Firebase Realtime Db. As the picture attached each user has children's &quot;product&quot; and &quot;cart&quot;. What I want to ask is how to update the value of &quot;stock&quot; in the inventory when doing the check out the method in the cart activity.</p>\n<p><img src=\"https://i.stack.imgur.com/q0mKI.png\" alt=\"My db screenshot for example\" /></p>\n<p>I found this method but I know it will not working. It will destroy another node and child instead update it. But later I found <code>updateChildren()</code> method but I didnt have any idea to use that into my project.</p>\n<pre><code>private void checkOut() { //when I press the check out button\n    String userId = &quot;user1&quot;; //as shown at the db screenshot\n\n    DatabaseReference inventoryRef = FirebaseDatabase.getInstance().getReference()\n            .child(&quot;users&quot;).child(userId).child(&quot;product&quot;);\n    DatabaseReference cartRef = FirebaseDatabase.getInstance().getReference()\n            .child(&quot;users&quot;).child(userId).child(&quot;shopingCart&quot;);\n\n    cartRef.addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n            inventoryRef.setValue(dataSnapshot.getValue(), new DatabaseReference.CompletionListener() {\n                @Override\n                public void onComplete(DatabaseError firebaseError, DatabaseReference firebase) {\n                    if (firebaseError != null) {\n                        System.out.println(&quot;Copy failed&quot;);\n                    } else {\n                        System.out.println(&quot;Success&quot;);\n                    }\n                }\n            });\n        }\n        @Override\n        public void onCancelled(@NonNull DatabaseError databaseError) {\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","javafx","tic-tac-toe","mouseclick-event","onmouseclick"],"answers":[{"tags":[],"owner":{"account_id":20995189,"reputation":11,"user_id":15427200,"display_name":"Baffler"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686174861,"creation_date":1686096495,"answer_id":76419142,"question_id":76418761,"body_markdown":"It is not a bug. In your case, you have to click first because the code within your `OnMouseClicked` event is only executed when `pane` is clicked.\r\n\r\nIn order for the &quot;computer&quot; to make its move when it starts, you should make the check outside of the `OnMouseClicked` event.\r\n","title":"JavaFX: Why doesn&#39;t my MinMax algorithm make a move when it starts a TicTacToe game?","body":"<p>It is not a bug. In your case, you have to click first because the code within your <code>OnMouseClicked</code> event is only executed when <code>pane</code> is clicked.</p>\n<p>In order for the &quot;computer&quot; to make its move when it starts, you should make the check outside of the <code>OnMouseClicked</code> event.</p>\n"}],"owner":{"account_id":28633818,"reputation":13,"user_id":21924304,"display_name":"reizorwins"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686174861,"creation_date":1686089392,"question_id":76418761,"body_markdown":"I have a working MinMax algorithm, tested in other situations, the JavaFX implementation doesn&#39;t work when the computer (MinMax) has to make the first move, I have to click first.\r\n\r\nThere is a bug in the code, because when the computer (player2) starts, it doesn&#39;t want to make a move first, then when I click for it, then the game goes on normally and the algorithm works correctly, when I start as player1 it&#39;s ok.\r\n\r\n            pane.setOnMouseClicked(event -&gt; {\r\n                if (currentPlayer.equals(player1)) {\r\n                    if (label.getText().isEmpty() &amp;&amp; !isEndOfGame) {\r\n                        label.setText(currentPlayer.getSymbol());\r\n                        changePlayerTurn();\r\n                        verifyResultOfTheDuel();\r\n\r\n                        if (mode.equals(SINGLE_PLAYER) &amp;&amp; !isEndOfGame &amp;&amp; currentPlayer.equals(player2)) {\r\n                            makeComputerMove(difficulty);\r\n                            changePlayerTurn();\r\n                            verifyResultOfTheDuel();\r\n                        }\r\n                    }\r\n                } else if (currentPlayer.equals(player2)) {\r\n                    if (label.getText().isEmpty() &amp;&amp; !isEndOfGame) {\r\n                        if (mode.equals(SINGLE_PLAYER)) {\r\n                            makeComputerMove(difficulty);\r\n                            changePlayerTurn();\r\n                            verifyResultOfTheDuel();\r\n                        } else if (mode.equals(MULTI_PLAYER)) {\r\n                            label.setText(currentPlayer.getSymbol());\r\n                            changePlayerTurn();\r\n                            verifyResultOfTheDuel();\r\n                        }\r\n                    }\r\n                }\r\n            });","title":"JavaFX: Why doesn&#39;t my MinMax algorithm make a move when it starts a TicTacToe game?","body":"<p>I have a working MinMax algorithm, tested in other situations, the JavaFX implementation doesn't work when the computer (MinMax) has to make the first move, I have to click first.</p>\n<p>There is a bug in the code, because when the computer (player2) starts, it doesn't want to make a move first, then when I click for it, then the game goes on normally and the algorithm works correctly, when I start as player1 it's ok.</p>\n<pre><code>        pane.setOnMouseClicked(event -&gt; {\n            if (currentPlayer.equals(player1)) {\n                if (label.getText().isEmpty() &amp;&amp; !isEndOfGame) {\n                    label.setText(currentPlayer.getSymbol());\n                    changePlayerTurn();\n                    verifyResultOfTheDuel();\n\n                    if (mode.equals(SINGLE_PLAYER) &amp;&amp; !isEndOfGame &amp;&amp; currentPlayer.equals(player2)) {\n                        makeComputerMove(difficulty);\n                        changePlayerTurn();\n                        verifyResultOfTheDuel();\n                    }\n                }\n            } else if (currentPlayer.equals(player2)) {\n                if (label.getText().isEmpty() &amp;&amp; !isEndOfGame) {\n                    if (mode.equals(SINGLE_PLAYER)) {\n                        makeComputerMove(difficulty);\n                        changePlayerTurn();\n                        verifyResultOfTheDuel();\n                    } else if (mode.equals(MULTI_PLAYER)) {\n                        label.setText(currentPlayer.getSymbol());\n                        changePlayerTurn();\n                        verifyResultOfTheDuel();\n                    }\n                }\n            }\n        });\n</code></pre>\n"},{"tags":["java","access-modifiers"],"answers":[{"tags":[],"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381461823,"creation_date":1381461823,"answer_id":19309766,"question_id":19309755,"body_markdown":"`default` is [keyword][1] which there for different purpose. Modifiers (`like public, private, protected`) are part of keywords.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/_keywords.html","title":"java access modifiers : no-modifier vs &quot;default&quot;","body":"<p><code>default</code> is <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/_keywords.html\" rel=\"nofollow\">keyword</a> which there for different purpose. Modifiers (<code>like public, private, protected</code>) are part of keywords.</p>\n"},{"comments":[{"owner":{"account_id":3216552,"reputation":2553,"user_id":2715083,"accept_rate":57,"display_name":"Somjit"},"score":0,"creation_date":1381462273,"post_id":19309773,"comment_id":28598992,"body_markdown":"Thanks for pointing the two out! for some reason i forgot all about the default in switch !","body":"Thanks for pointing the two out! for some reason i forgot all about the default in switch !"}],"tags":[],"owner":{"account_id":77142,"reputation":9356,"user_id":220381,"accept_rate":75,"display_name":"Ash"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1381461893,"creation_date":1381461893,"answer_id":19309773,"question_id":19309755,"body_markdown":"The &quot;default&quot; access modifier is when there is no access modifier given (that is, not one of public, private or protected).\r\n\r\n`default` the keyword is used in the context of a switch statement. It is the &quot;default action&quot; to take if none of the other cases match.\r\n","title":"java access modifiers : no-modifier vs &quot;default&quot;","body":"<p>The \"default\" access modifier is when there is no access modifier given (that is, not one of public, private or protected).</p>\n\n<p><code>default</code> the keyword is used in the context of a switch statement. It is the \"default action\" to take if none of the other cases match.</p>\n"},{"tags":[],"owner":{"account_id":2704546,"reputation":2297,"user_id":2334422,"display_name":"Ishan Liyanage"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1381462283,"creation_date":1381462283,"answer_id":19309828,"question_id":19309755,"body_markdown":"The default can optionally be used in a switch statement to label a block of statements to be executed if no case matches the specified value. Alternatively, the default keyword can also be used to declare default values in a Java annotation.\r\n\r\n","title":"java access modifiers : no-modifier vs &quot;default&quot;","body":"<p>The default can optionally be used in a switch statement to label a block of statements to be executed if no case matches the specified value. Alternatively, the default keyword can also be used to declare default values in a Java annotation.</p>\n"},{"comments":[{"owner":{"account_id":1951203,"reputation":10695,"user_id":1755242,"accept_rate":80,"display_name":"sunleo"},"score":0,"creation_date":1381464965,"post_id":19309854,"comment_id":28599589,"body_markdown":"came to say no keyword for default.","body":"came to say no keyword for default."}],"tags":[],"owner":{"account_id":1951203,"reputation":10695,"user_id":1755242,"accept_rate":80,"display_name":"sunleo"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686174538,"creation_date":1381462623,"answer_id":19309854,"question_id":19309755,"body_markdown":"\r\n\r\n    Access Levels\r\n    Modifier\tClass\t\tPackage\t\tSubclass\tWorld\r\n    public\t\tY\t\t\tY\t\t\tY\t\t\tY\r\n    protected\tY\t\t\tY\t\t\tY\t\t\tN\r\n    no modifier\tY\t\t\tY\t\t\tN\t\t\tN\r\n    private\t\tY\t\t\tN\t\t\tN\t\t\tN\r\n\r\n\r\nThere no keyword for default of modifier .That is in different context of switch.\r\n\r\n[LINK][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html","title":"java access modifiers : no-modifier vs &quot;default&quot;","body":"<pre><code>Access Levels\nModifier    Class       Package     Subclass    World\npublic      Y           Y           Y           Y\nprotected   Y           Y           Y           N\nno modifier Y           Y           N           N\nprivate     Y           N           N           N\n</code></pre>\n<p>There no keyword for default of modifier .That is in different context of switch.</p>\n<p><a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"nofollow noreferrer\">LINK</a></p>\n"},{"tags":[],"owner":{"account_id":2436112,"reputation":5684,"user_id":2125973,"accept_rate":38,"display_name":"Thusitha Thilina Dayaratne"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381462660,"creation_date":1381462660,"answer_id":19309858,"question_id":19309755,"body_markdown":"You can&#39;t mention default as your access modifier. If you don&#39;t mention any access modifier (public, protected or private) then compiler consider it as a default access modifier. where if it is a method you can only access within that package only.\r\n\r\nDefault keyword is used in switch. that keyword doesn&#39;t have any relationship with access modifier","title":"java access modifiers : no-modifier vs &quot;default&quot;","body":"<p>You can't mention default as your access modifier. If you don't mention any access modifier (public, protected or private) then compiler consider it as a default access modifier. where if it is a method you can only access within that package only.</p>\n\n<p>Default keyword is used in switch. that keyword doesn't have any relationship with access modifier</p>\n"}],"owner":{"account_id":3216552,"reputation":2553,"user_id":2715083,"accept_rate":57,"display_name":"Somjit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1279,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":19309773,"answer_count":5,"score":1,"last_activity_date":1686174538,"creation_date":1381461746,"question_id":19309755,"body_markdown":"I learned that there was a &quot;default&quot; access-modifier , as in &quot;default&quot; being a keyword . However this [oracle tutorial](http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html) doesn&#39;t mention any modifier with such a keyword. It only has a *no-modifier* that acts as a default. Has the &quot;default&quot; keyword deprecated ?","title":"java access modifiers : no-modifier vs &quot;default&quot;","body":"<p>I learned that there was a \"default\" access-modifier , as in \"default\" being a keyword . However this <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"nofollow\">oracle tutorial</a> doesn't mention any modifier with such a keyword. It only has a <em>no-modifier</em> that acts as a default. Has the \"default\" keyword deprecated ?</p>\n"},{"tags":["java","spring","aop"],"comments":[{"owner":{"account_id":1118810,"reputation":105,"user_id":1107563,"accept_rate":0,"display_name":"Srikanth M"},"score":0,"creation_date":1324377936,"post_id":8573954,"comment_id":10631065,"body_markdown":"can pls anyone hlep me here, thanks","body":"can pls anyone hlep me here, thanks"}],"answers":[{"comments":[{"owner":{"account_id":1118810,"reputation":105,"user_id":1107563,"accept_rate":0,"display_name":"Srikanth M"},"score":0,"creation_date":1324378692,"post_id":8574234,"comment_id":10631280,"body_markdown":"sorry, yes am new to this, i worked few basic things which went fine, when i tried with the afterthowing i got stucked, I only did this coding.","body":"sorry, yes am new to this, i worked few basic things which went fine, when i tried with the afterthowing i got stucked, I only did this coding."},{"owner":{"account_id":1118810,"reputation":105,"user_id":1107563,"accept_rate":0,"display_name":"Srikanth M"},"score":0,"creation_date":1324378918,"post_id":8574234,"comment_id":10631340,"body_markdown":"sorry i tried with change, its giving new exception Exception in thread &quot;AWT-EventQueue-0&quot; org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;Login&#39; defined in class path resource [LoginApp.xml]: Initialization of bean failed; nested exception is java.lang.IllegalArgumentException: warning no match for this type name: SQLException [Xlint:invalidAbsoluteTypeName]   I tried with throwing parameter but dint worked same error","body":"sorry i tried with change, its giving new exception Exception in thread &quot;AWT-EventQueue-0&quot; org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;Login&#39; defined in class path resource [LoginApp.xml]: Initialization of bean failed; nested exception is java.lang.IllegalArgumentException: warning no match for this type name: SQLException [Xlint:invalidAbsoluteTypeName]   I tried with throwing parameter but dint worked same error"},{"owner":{"account_id":341781,"reputation":20847,"user_id":672586,"display_name":"gkamal"},"score":1,"creation_date":1324379202,"post_id":8574234,"comment_id":10631412,"body_markdown":"The exception names in the pointcut expression should be fully qualified. Updated my answer.  You can also remove the throws clause from the pointcut expression and try.","body":"The exception names in the pointcut expression should be fully qualified. Updated my answer.  You can also remove the throws clause from the pointcut expression and try."}],"tags":[],"owner":{"account_id":341781,"reputation":20847,"user_id":672586,"display_name":"gkamal"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1324379145,"creation_date":1324378049,"answer_id":8574234,"question_id":8573954,"body_markdown":"Try this.\r\n\r\n    @Aspect\r\n    public class LoginProfiler {\r\n    \r\n           @Pointcut(&quot;execution(* dbapp.Login.loginMethod(String, char[])throws java.lang.ClassNotFoundException, java.sql.SQLException)&quot;)\r\n           public void loginMethod(){}\r\n\r\n           @AfterThrowing(&quot;loginMethod()&quot;)\r\n            public void handleException(final JoinPoint joinPoint){ \r\n                   System.out.println(&quot;Am able to Handle&quot;);\r\n            }\r\n    }\r\n\r\nor\r\n\r\n\r\n    @Aspect\r\n    public class LoginProfiler {\r\n    \r\n           @AfterThrowing(&quot;execution(* dbapp.Login.loginMethod(String, char[])throws java.lang.ClassNotFoundException, java.sql.SQLException)&quot;)\r\n            public void handleException(final JoinPoint joinPoint){ \r\n                   System.out.println(&quot;Am able to Handle&quot;);\r\n            }\r\n    }\r\n\r\n\r\nAlso it would be better if you spend some time learning about spring-aop. From your question it looks like you really don&#39;t understand AOP. You are trying to cut and paste from some sample code.","title":"java spring aop: java.lang.IllegalArgumentException: error at ::0 can&#39;t find referenced pointcut LoginMethod","body":"<p>Try this.</p>\n\n<pre><code>@Aspect\npublic class LoginProfiler {\n\n       @Pointcut(\"execution(* dbapp.Login.loginMethod(String, char[])throws java.lang.ClassNotFoundException, java.sql.SQLException)\")\n       public void loginMethod(){}\n\n       @AfterThrowing(\"loginMethod()\")\n        public void handleException(final JoinPoint joinPoint){ \n               System.out.println(\"Am able to Handle\");\n        }\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>@Aspect\npublic class LoginProfiler {\n\n       @AfterThrowing(\"execution(* dbapp.Login.loginMethod(String, char[])throws java.lang.ClassNotFoundException, java.sql.SQLException)\")\n        public void handleException(final JoinPoint joinPoint){ \n               System.out.println(\"Am able to Handle\");\n        }\n}\n</code></pre>\n\n<p>Also it would be better if you spend some time learning about spring-aop. From your question it looks like you really don't understand AOP. You are trying to cut and paste from some sample code.</p>\n"}],"owner":{"account_id":1118810,"reputation":105,"user_id":1107563,"accept_rate":0,"display_name":"Srikanth M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6494,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686174396,"creation_date":1324376557,"question_id":8573954,"body_markdown":"I&#39;ve designed a database application and am now having trouble handling exceptions when connecting to the database using spring aop. The classes involved are shown below:\r\n\r\nLoginInterface.java\r\n```java\r\ninterface LoginInterface {\r\n    ApplicationContext context = new ClassPathXmlApplicationContext(&quot;LoginApp.xml&quot;);\r\n    Login login = (Login) context.getBean(&quot;Login&quot;);\r\n\tlogin.loginMethod(username,password);\r\n}\r\n```\r\n    \r\nLogin.java\r\n```java\r\nclass Login {\r\n    public void loginMethod(String username, char[] pwd) throws ClassNOtFoundException, SQLException{\r\n         ...\r\n    }\r\n}\r\n```\r\n\r\nLoginProfiler.java\r\n```java\r\n@Aspect\r\npublic class LoginProfiler {\r\n\r\n    @Pointcut(&quot;execution(* dbapp.Login.loginMethod(String, char[])throws java.lang.ClassNotFoundException, java.sql.SQLException)&quot;)\r\n    public void loginMethod() {\r\n    }\r\n\r\n    @Around(&quot;loginMethod()&quot;)\r\n    public void handleException(final ProceedingJoinPoint pJoinPoint) throws Throwable {\r\n        try {\r\n            pJoinPoint.proceed();\r\n        } catch (Exception e) {\r\n            if ((e.getCause().toString()).contains(&quot;UnknownHostException&quot;))\r\n                System.out.println(&quot;Unknown Host &quot;);\r\n            else if ((e.getCause().toString()).contains(&quot;ConnectException&quot;))\r\n                System.out.println(&quot;Connection Problem &quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n \t          \r\nLoginApp.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n    xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd\r\n                        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd\r\n                        http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd&quot;\r\n    default-destroy-method=&quot;destroy&quot;\r\n    default-init-method=&quot;afterPropertiesSet&quot;\r\n    default-autowire=&quot;byName&quot;&gt;\r\n\r\n    &lt;!-- Enable the @AspectJ support --&gt;\r\n    &lt;aop:aspectj-autoproxy /&gt;\r\n\r\n    &lt;bean id=&quot;LoginProfiler&quot; class=&quot;dbapp.LoginProfiler&quot; /&gt;\r\n    &lt;bean id=&quot;Login&quot; class=&quot;dbapp.Login&quot; /&gt;\r\n&lt;/beans&gt;\r\n```\r\n\r\nI&#39;ve got the following exception:\r\n```\r\nErg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;Login&#39; defined in class path resource [LoginApp.xml]: Initialization of bean failed; nested exception is java.lang.IllegalArgumentException: error at ::0 can&#39;t find referenced pointcut LoginMethod\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:480)\r\n    at \r\n    ..\r\nCaused by: java.lang.IllegalArgumentException: error at ::0 can&#39;t find referenced pointcut LoginMethod\r\n    at org.aspectj.weaver.tools.PointcutParser.parsePointcutExpression(PointcutParser.java:315)\r\n    at org.springframework.aop.aspectj.AspectJExpressionPointcut.buildPointcutExpression(AspectJExpressionPointcut.java:206)\r\n    at \r\n```","title":"java spring aop: java.lang.IllegalArgumentException: error at ::0 can&#39;t find referenced pointcut LoginMethod","body":"<p>I've designed a database application and am now having trouble handling exceptions when connecting to the database using spring aop. The classes involved are shown below:</p>\n<p>LoginInterface.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface LoginInterface {\n    ApplicationContext context = new ClassPathXmlApplicationContext(&quot;LoginApp.xml&quot;);\n    Login login = (Login) context.getBean(&quot;Login&quot;);\n    login.loginMethod(username,password);\n}\n</code></pre>\n<p>Login.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Login {\n    public void loginMethod(String username, char[] pwd) throws ClassNOtFoundException, SQLException{\n         ...\n    }\n}\n</code></pre>\n<p>LoginProfiler.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\npublic class LoginProfiler {\n\n    @Pointcut(&quot;execution(* dbapp.Login.loginMethod(String, char[])throws java.lang.ClassNotFoundException, java.sql.SQLException)&quot;)\n    public void loginMethod() {\n    }\n\n    @Around(&quot;loginMethod()&quot;)\n    public void handleException(final ProceedingJoinPoint pJoinPoint) throws Throwable {\n        try {\n            pJoinPoint.proceed();\n        } catch (Exception e) {\n            if ((e.getCause().toString()).contains(&quot;UnknownHostException&quot;))\n                System.out.println(&quot;Unknown Host &quot;);\n            else if ((e.getCause().toString()).contains(&quot;ConnectException&quot;))\n                System.out.println(&quot;Connection Problem &quot;);\n        }\n    }\n}\n</code></pre>\n<p>LoginApp.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\n    xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd\n                        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd\n                        http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd&quot;\n    default-destroy-method=&quot;destroy&quot;\n    default-init-method=&quot;afterPropertiesSet&quot;\n    default-autowire=&quot;byName&quot;&gt;\n\n    &lt;!-- Enable the @AspectJ support --&gt;\n    &lt;aop:aspectj-autoproxy /&gt;\n\n    &lt;bean id=&quot;LoginProfiler&quot; class=&quot;dbapp.LoginProfiler&quot; /&gt;\n    &lt;bean id=&quot;Login&quot; class=&quot;dbapp.Login&quot; /&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>I've got the following exception:</p>\n<pre><code>Erg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'Login' defined in class path resource [LoginApp.xml]: Initialization of bean failed; nested exception is java.lang.IllegalArgumentException: error at ::0 can't find referenced pointcut LoginMethod\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:480)\n    at \n    ..\nCaused by: java.lang.IllegalArgumentException: error at ::0 can't find referenced pointcut LoginMethod\n    at org.aspectj.weaver.tools.PointcutParser.parsePointcutExpression(PointcutParser.java:315)\n    at org.springframework.aop.aspectj.AspectJExpressionPointcut.buildPointcutExpression(AspectJExpressionPointcut.java:206)\n    at \n</code></pre>\n"},{"tags":["java","network-programming"],"comments":[{"owner":{"account_id":12029,"reputation":40909,"user_id":23478,"accept_rate":89,"display_name":"Mark Wilkins"},"score":0,"creation_date":1304952728,"post_id":5938530,"comment_id":6843923,"body_markdown":"How is the game supporting multi-player functionality in its current state?  Is it using sockets to communicate with multiple instances on the same machine?","body":"How is the game supporting multi-player functionality in its current state?  Is it using sockets to communicate with multiple instances on the same machine?"},{"owner":{"account_id":749507,"reputation":179,"user_id":745344,"display_name":"Bob Anderson"},"score":0,"creation_date":1304952821,"post_id":5938530,"comment_id":6843957,"body_markdown":"No it&#39;s just based upon taking turns but i guess that is something I would need to do then before i can put make it playable over a network?","body":"No it&#39;s just based upon taking turns but i guess that is something I would need to do then before i can put make it playable over a network?"},{"owner":{"account_id":90221,"reputation":80129,"user_id":248432,"accept_rate":85,"display_name":"Peter Knego"},"score":0,"creation_date":1304952980,"post_id":5938530,"comment_id":6844005,"body_markdown":"Multi-player means that multiple users are playing the same game and that there is some interaction between players in the game. You said your game is &quot;based upon taking turns&quot;. Is it multi-player at all?","body":"Multi-player means that multiple users are playing the same game and that there is some interaction between players in the game. You said your game is &quot;based upon taking turns&quot;. Is it multi-player at all?"},{"owner":{"account_id":749507,"reputation":179,"user_id":745344,"display_name":"Bob Anderson"},"score":0,"creation_date":1304953175,"post_id":5938530,"comment_id":6844077,"body_markdown":"it&#39;s multiplayer in the way chess is a multiplayer game i guess","body":"it&#39;s multiplayer in the way chess is a multiplayer game i guess"},{"owner":{"account_id":12029,"reputation":40909,"user_id":23478,"accept_rate":89,"display_name":"Mark Wilkins"},"score":2,"creation_date":1304953280,"post_id":5938530,"comment_id":6844110,"body_markdown":"@Bob: Without knowing more about the game architecture, it&#39;s hard to formulate advice.  Basically, though, you likely need to learn how to use sockets.  The first google hit for &quot;java socket tutorial&quot; turned up [this link](http://www.javaworld.com/javaworld/jw-12-1996/jw-12-sockets.html) which might not be a bad place to start.","body":"@Bob: Without knowing more about the game architecture, it&#39;s hard to formulate advice.  Basically, though, you likely need to learn how to use sockets.  The first google hit for &quot;java socket tutorial&quot; turned up <a href=\"http://www.javaworld.com/javaworld/jw-12-1996/jw-12-sockets.html\" rel=\"nofollow noreferrer\">this link</a> which might not be a bad place to start."},{"owner":{"account_id":749507,"reputation":179,"user_id":745344,"display_name":"Bob Anderson"},"score":0,"creation_date":1304953452,"post_id":5938530,"comment_id":6844158,"body_markdown":"basically the architecture is like a chess game or checkers game but for 4 players so simple piece classes that can perform certain moves a board that keeps track of all the pieces and different players does that help?","body":"basically the architecture is like a chess game or checkers game but for 4 players so simple piece classes that can perform certain moves a board that keeps track of all the pieces and different players does that help?"}],"answers":[{"tags":[],"owner":{"account_id":330056,"reputation":1591,"user_id":653941,"display_name":"Soronthar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1304954995,"creation_date":1304954995,"answer_id":5939080,"question_id":5938530,"body_markdown":"If you want to add the multiplayer feature over the network, it may be useful to you to take a look at the [Netty project][1] to build the communication infrastructure.\r\n\r\nBut before you can do that, you need to make sure that your game has the right &quot;architecture&quot;. You need to have to big modules: the Client and the Server.\r\n\r\nThe Server is responsible for all the game logic. In a sense, it is the game engine. The Client is responsible to query the Server for the game state, display it to the player, get the player input and sending commands to the server.\r\n\r\nOne way to decouple our Client and Server code without the hassle involved in learning network programming is to have two different programs that run from the CLI. The sequence of execution can be like this:\r\n\r\n 1. The server is run to initialize the game state, the game state is saved in a file.\r\n 2. The client is run, it reads the game state, display it somehow and gets some input from the player. It saves that input to a file.\r\n 3. The server is run, it reads the commands from the client, changes the state of the game and updates the state file.\r\n\r\nRinse and repeat. This is basically what PBEM servers do.\r\n\r\nTo help decouple the Client and the Server, it makes sense to define a &quot;language&quot; to represent changes in the state of the game, and the commands to be executed by the server. It helps if the client caches the state and apply the changes as sent from the server.\r\n\r\nOnce your Client and Server code is completely decoupled, and the &quot;language&quot; is completely defined, you&#39;re ready to change the communication mechanism from being file-based to being socket-based.\r\n\r\n \r\n\r\n  [1]: http://www.jboss.org/netty","title":"Making a multi-player game playable over a network or on the internet","body":"<p>If you want to add the multiplayer feature over the network, it may be useful to you to take a look at the <a href=\"http://www.jboss.org/netty\" rel=\"nofollow\">Netty project</a> to build the communication infrastructure.</p>\n\n<p>But before you can do that, you need to make sure that your game has the right \"architecture\". You need to have to big modules: the Client and the Server.</p>\n\n<p>The Server is responsible for all the game logic. In a sense, it is the game engine. The Client is responsible to query the Server for the game state, display it to the player, get the player input and sending commands to the server.</p>\n\n<p>One way to decouple our Client and Server code without the hassle involved in learning network programming is to have two different programs that run from the CLI. The sequence of execution can be like this:</p>\n\n<ol>\n<li>The server is run to initialize the game state, the game state is saved in a file.</li>\n<li>The client is run, it reads the game state, display it somehow and gets some input from the player. It saves that input to a file.</li>\n<li>The server is run, it reads the commands from the client, changes the state of the game and updates the state file.</li>\n</ol>\n\n<p>Rinse and repeat. This is basically what PBEM servers do.</p>\n\n<p>To help decouple the Client and the Server, it makes sense to define a \"language\" to represent changes in the state of the game, and the commands to be executed by the server. It helps if the client caches the state and apply the changes as sent from the server.</p>\n\n<p>Once your Client and Server code is completely decoupled, and the \"language\" is completely defined, you're ready to change the communication mechanism from being file-based to being socket-based.</p>\n"},{"tags":[],"owner":{"account_id":12029,"reputation":40909,"user_id":23478,"accept_rate":89,"display_name":"Mark Wilkins"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1304956703,"creation_date":1304956703,"answer_id":5939433,"question_id":5938530,"body_markdown":"One possible architectural approach would be to have one instance of the game act as the host (e.g., the first one to start).  It would coordinate the game and send information of the game state and turns to each of the other players.  \r\n\r\nWhen a player makes a move, it would send the move information to the host, which would update the state of the game (and check for validity of the move, etc.).  It would then send the new game state to each of the players and also send (likely as a separate communication) notification of the next turn to the appropriate client and await its response.\r\n\r\nIn some sense, the host acts as the game server in this scenario, but may be simpler to use/play in that there is not a separate process that must be run in order to play the game.  \r\n","title":"Making a multi-player game playable over a network or on the internet","body":"<p>One possible architectural approach would be to have one instance of the game act as the host (e.g., the first one to start).  It would coordinate the game and send information of the game state and turns to each of the other players.  </p>\n\n<p>When a player makes a move, it would send the move information to the host, which would update the state of the game (and check for validity of the move, etc.).  It would then send the new game state to each of the players and also send (likely as a separate communication) notification of the next turn to the appropriate client and await its response.</p>\n\n<p>In some sense, the host acts as the game server in this scenario, but may be simpler to use/play in that there is not a separate process that must be run in order to play the game.  </p>\n"},{"tags":[],"owner":{"account_id":54473,"reputation":3407,"user_id":162967,"display_name":"Jeff Tucker"},"comment_count":0,"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1686174293,"creation_date":1304979803,"answer_id":5943206,"question_id":5938530,"body_markdown":"Those other answers are both fairly high-level, which is fine, but you don&#39;t want high-level, you want low-level, as in &quot;how do I make it actually send data and what does that mean and what do I send , etc.&quot;  Here&#39;s what you do:\r\n\r\nFirst, TCP or UDP?  If you don&#39;t know what either of those things are, read up on them as I don&#39;t have space to give a good rundown on both here, but for your choice know the following:\r\n\r\n1.  TCP is good for turn based games or games where high latency is generally ok, since TCP guarantees packet delivery so it&#39;s possible that it could take some time for a dropped packet to be re-delivered.  This is good for things like Chess, or anything else that takes turns.\r\n2.  UDP is good for games where you don&#39;t necessarily care about reliability in messages and would prefer that data just keeps sending and if you miss something, oh well.  This is good for games that are real-time action based games, such as HALO:Reach or Call of Duty.  In those, if you send an object&#39;s position, and the object never gets there, it&#39;s better to send a new position than to re-send an old position (which is now even older) so it&#39;s not important to guarantee reliability all the time.  That said, you MUST have certain things be 100% reliable, so you&#39;ll still need certain things to guarantee delivery, such as object creation and object destruction.  This means you need to implement your own semi-reliable, priority based protocol on top of UDP.  This is difficult.\r\n\r\nSo, ask yourself what is important, learn how TCP and UDP work, and then make an intelligent choice.\r\n\r\nThat said, now you have to synchronize object state across the network.  This means that your objects need to serialize to something that can be represented in a byte stream and written to a socket.  Writing to a socket is easy; if you can write to a file you can write to a socket, it&#39;s really not hard.  What&#39;s important is to make sure that you are able to represent an object as a buffer, so if your object has references/pointers to other objects, you won&#39;t be able to just send those pointers since they&#39;re different on the other clients, so you have to convert them to something that is common to all the hosts.  This means ID&#39;s, although an object&#39;s ID must be unique across all hosts, so you have to have a way to coordinate between hosts such that no two hosts will create different objects with the same ID.  There are ways to handle hosts doing this, but we won&#39;t worry about that here (hint: use some sort of mapping between the host&#39;s ID and the network ID.  Bigger hint:  Don&#39;t do this if you don&#39;t need to).\r\n\r\nSo now you can send data, great, now what?  Every time the game state changes, you must send an update to the other machines somehow.  This is where the client-server architecture comes in, or peer-to-peer if you want.  Client-Server is easier to implement.  Also, one host &quot;acting&quot; as the server is still Client-Server and anyone who says differently is wrong.\r\n\r\nSo, the server&#39;s responsibility is to &quot;own&quot; all game state.  Only the server can definitively say what state an object is in.  If you want to move an object, you tell the server that you would like to move, however the server then tells you that you should move the object, you don&#39;t just do it (although some sort of client-side prediction is often useful).  THen the server sends the updated object state out to all the other hosts.\r\n\r\nSo, you mentioned a turn-based game, right?  Very simple:\r\n\r\n1.  You&#39;re going to resolve a full turn on the client who&#39;s turn it currently is.  Once that client does what they want to do, send the results of that turn to the server.  The server then validates the client&#39;s moves (don&#39;t just trust the client, cheating happens that way) and applies them to its object state.  \r\n2.  Once the server is up to date, it sends messages to every other client with the new state of the world, and those clients apply those updates.  This includes the client that just took their turn; that client should only update its world state when the server tells it to, since you want to ensure consistency with the rest of the hosts AND you want to prevent a host from cheating.  \r\n3.  The server then sends out a message indicating whose turn it is.  You could send this at the same time as the world state update in the previous step, that would be fine.  Just be aware of clients attempting to take their turn out of order.  That&#39;s why the server has authority over the world; if a client tries to cheat, the server can smack them down.\r\n\r\nThat&#39;s all you&#39;ll need to do for a turn-based game.  Hint: Use TCP\r\nBigger hint:  TCP implements something called &quot;Nagle&#39;s Algorithm&quot; which will combine your messages into a single packet.  What this means is that if you send two separate messages with two separate calls to &quot;Send&quot;, it&#39;s possible that the other hosts will receive only one packet on a single call to &quot;Receive&quot; but that packet will contain the contents of BOTH of the packets that were sent.  Thus if you send two 100-byte packets with two calls to send, you may get one 200-byte packet on a single call to receive.  This is normal, so you need to be able to deal with this somehow.  One trick is to make every single packet the same size, and then just read that many bytes from the socket every time you check for input.  Keep in mind also that you could get partial messages as well.  For example, if you send two 100-byte messages, they can be combined into a single 200 byte message.  Next, if you read from the socket on the other end, but you read with a buffer size of 150 bytes, you&#39;ll have 150-bytes, which contains the first packet and part of the second.  You&#39;ll have to make a second call to receive to get the rest of the second message, so KEEP TRACK OF HOW MUCH DATA YOU&#39;VE RECEIVED so that you don&#39;t miss part of a packet somewhere.  This is why keeping your packets the same size is useful.\r\n\r\nThere are a number of other useful tricks for reducing the size and frequency of your messages and for keeping track of games that are not turn-based and act in real time, but if you have a turn-based game, then the correct thing to do is probably use TCP and not worry about any of that other stuff.  Here are some links to useful websites and articles that will give you more information on how game network programming is done:\r\n\r\n* [Glenn Fiedler&#39;s site][1], some great info here.\r\n* [1500 archers][2], A great paper on how to implement a technique called deterministic lockstep, which is useful for many types of games.\r\n\r\nLet me know if you want more details on any of this stuff or if you have more specific questions.\r\n\r\n\r\n  [1]: http://www.gafferongames.com/\r\n  [2]: http://web.archive.org/web/20190311091417/http://www.gamasutra.com/view/feature/3094/1500_archers_on_a_288_network_.php","title":"Making a multi-player game playable over a network or on the internet","body":"<p>Those other answers are both fairly high-level, which is fine, but you don't want high-level, you want low-level, as in &quot;how do I make it actually send data and what does that mean and what do I send , etc.&quot;  Here's what you do:</p>\n<p>First, TCP or UDP?  If you don't know what either of those things are, read up on them as I don't have space to give a good rundown on both here, but for your choice know the following:</p>\n<ol>\n<li>TCP is good for turn based games or games where high latency is generally ok, since TCP guarantees packet delivery so it's possible that it could take some time for a dropped packet to be re-delivered.  This is good for things like Chess, or anything else that takes turns.</li>\n<li>UDP is good for games where you don't necessarily care about reliability in messages and would prefer that data just keeps sending and if you miss something, oh well.  This is good for games that are real-time action based games, such as HALO:Reach or Call of Duty.  In those, if you send an object's position, and the object never gets there, it's better to send a new position than to re-send an old position (which is now even older) so it's not important to guarantee reliability all the time.  That said, you MUST have certain things be 100% reliable, so you'll still need certain things to guarantee delivery, such as object creation and object destruction.  This means you need to implement your own semi-reliable, priority based protocol on top of UDP.  This is difficult.</li>\n</ol>\n<p>So, ask yourself what is important, learn how TCP and UDP work, and then make an intelligent choice.</p>\n<p>That said, now you have to synchronize object state across the network.  This means that your objects need to serialize to something that can be represented in a byte stream and written to a socket.  Writing to a socket is easy; if you can write to a file you can write to a socket, it's really not hard.  What's important is to make sure that you are able to represent an object as a buffer, so if your object has references/pointers to other objects, you won't be able to just send those pointers since they're different on the other clients, so you have to convert them to something that is common to all the hosts.  This means ID's, although an object's ID must be unique across all hosts, so you have to have a way to coordinate between hosts such that no two hosts will create different objects with the same ID.  There are ways to handle hosts doing this, but we won't worry about that here (hint: use some sort of mapping between the host's ID and the network ID.  Bigger hint:  Don't do this if you don't need to).</p>\n<p>So now you can send data, great, now what?  Every time the game state changes, you must send an update to the other machines somehow.  This is where the client-server architecture comes in, or peer-to-peer if you want.  Client-Server is easier to implement.  Also, one host &quot;acting&quot; as the server is still Client-Server and anyone who says differently is wrong.</p>\n<p>So, the server's responsibility is to &quot;own&quot; all game state.  Only the server can definitively say what state an object is in.  If you want to move an object, you tell the server that you would like to move, however the server then tells you that you should move the object, you don't just do it (although some sort of client-side prediction is often useful).  THen the server sends the updated object state out to all the other hosts.</p>\n<p>So, you mentioned a turn-based game, right?  Very simple:</p>\n<ol>\n<li>You're going to resolve a full turn on the client who's turn it currently is.  Once that client does what they want to do, send the results of that turn to the server.  The server then validates the client's moves (don't just trust the client, cheating happens that way) and applies them to its object state.</li>\n<li>Once the server is up to date, it sends messages to every other client with the new state of the world, and those clients apply those updates.  This includes the client that just took their turn; that client should only update its world state when the server tells it to, since you want to ensure consistency with the rest of the hosts AND you want to prevent a host from cheating.</li>\n<li>The server then sends out a message indicating whose turn it is.  You could send this at the same time as the world state update in the previous step, that would be fine.  Just be aware of clients attempting to take their turn out of order.  That's why the server has authority over the world; if a client tries to cheat, the server can smack them down.</li>\n</ol>\n<p>That's all you'll need to do for a turn-based game.  Hint: Use TCP\nBigger hint:  TCP implements something called &quot;Nagle's Algorithm&quot; which will combine your messages into a single packet.  What this means is that if you send two separate messages with two separate calls to &quot;Send&quot;, it's possible that the other hosts will receive only one packet on a single call to &quot;Receive&quot; but that packet will contain the contents of BOTH of the packets that were sent.  Thus if you send two 100-byte packets with two calls to send, you may get one 200-byte packet on a single call to receive.  This is normal, so you need to be able to deal with this somehow.  One trick is to make every single packet the same size, and then just read that many bytes from the socket every time you check for input.  Keep in mind also that you could get partial messages as well.  For example, if you send two 100-byte messages, they can be combined into a single 200 byte message.  Next, if you read from the socket on the other end, but you read with a buffer size of 150 bytes, you'll have 150-bytes, which contains the first packet and part of the second.  You'll have to make a second call to receive to get the rest of the second message, so KEEP TRACK OF HOW MUCH DATA YOU'VE RECEIVED so that you don't miss part of a packet somewhere.  This is why keeping your packets the same size is useful.</p>\n<p>There are a number of other useful tricks for reducing the size and frequency of your messages and for keeping track of games that are not turn-based and act in real time, but if you have a turn-based game, then the correct thing to do is probably use TCP and not worry about any of that other stuff.  Here are some links to useful websites and articles that will give you more information on how game network programming is done:</p>\n<ul>\n<li><a href=\"http://www.gafferongames.com/\" rel=\"nofollow noreferrer\">Glenn Fiedler's site</a>, some great info here.</li>\n<li><a href=\"http://web.archive.org/web/20190311091417/http://www.gamasutra.com/view/feature/3094/1500_archers_on_a_288_network_.php\" rel=\"nofollow noreferrer\">1500 archers</a>, A great paper on how to implement a technique called deterministic lockstep, which is useful for many types of games.</li>\n</ul>\n<p>Let me know if you want more details on any of this stuff or if you have more specific questions.</p>\n"}],"owner":{"account_id":749507,"reputation":179,"user_id":745344,"display_name":"Bob Anderson"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39007,"favorite_count":0,"down_vote_count":1,"up_vote_count":18,"answer_count":3,"score":17,"last_activity_date":1686174293,"creation_date":1304952409,"question_id":5938530,"body_markdown":"Hi I&#39;ve written a multi-player game in Java and I was wondering what I need to learn and/or what I should use in order to make the game playable over a network or on the internet by multiple computers. I&#39;m really kind of clueless as to where to start so any advice would be helpful, thanks.","title":"Making a multi-player game playable over a network or on the internet","body":"<p>Hi I've written a multi-player game in Java and I was wondering what I need to learn and/or what I should use in order to make the game playable over a network or on the internet by multiple computers. I'm really kind of clueless as to where to start so any advice would be helpful, thanks.</p>\n"},{"tags":["java","spring-boot","exception","jpa","jdbc"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1686151085,"post_id":76418543,"comment_id":134760564,"body_markdown":"&quot;How is that possible?&quot; - stacktrace is printed before catch/&quot;inside L27&quot;. &quot;Why is it not printing(?)&quot; - (probably) because it is not &quot;cause&quot; but &quot;mapped/translated&quot;;)","body":"&quot;How is that possible?&quot; - stacktrace is printed before catch/&quot;inside L27&quot;. &quot;Why is it not printing(?)&quot; - (probably) because it is not &quot;cause&quot; but &quot;mapped/translated&quot;;)"}],"answers":[{"comments":[{"owner":{"account_id":410264,"reputation":3756,"user_id":782011,"accept_rate":47,"display_name":"pacoverflow"},"score":0,"creation_date":1686125805,"post_id":76420913,"comment_id":134754791,"body_markdown":"So I edited my `OurApplication` class to remove the try/catch block, and I added a new method to the class with annotation `@ExceptionHandler(SQLSyntaxErrorException.class)` and that takes a single `SQLSyntaxErrorException` parameter. I also added a log message to the new method. When I run the application, I see the `java.sql.SQLSyntaxErrorException` exception as before, however, I do not see the log message from the new method that I added, so it is not working.","body":"So I edited my <code>OurApplication</code> class to remove the try/catch block, and I added a new method to the class with annotation <code>@ExceptionHandler(SQLSyntaxErrorException.class)</code> and that takes a single <code>SQLSyntaxErrorException</code> parameter. I also added a log message to the new method. When I run the application, I see the <code>java.sql.SQLSyntaxErrorException</code> exception as before, however, I do not see the log message from the new method that I added, so it is not working."},{"owner":{"account_id":14245148,"reputation":949,"user_id":10582056,"display_name":"ahrooran"},"score":0,"creation_date":1693978937,"post_id":76420913,"comment_id":135829122,"body_markdown":"AFAIK this only works when exceptions are thrown from controller methods. Not internal exceptions","body":"AFAIK this only works when exceptions are thrown from controller methods. Not internal exceptions"}],"tags":[],"owner":{"account_id":11084453,"reputation":211,"user_id":8138689,"display_name":"Satyajit Bhatt"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686123332,"creation_date":1686123332,"answer_id":76420913,"question_id":76418543,"body_markdown":"Try below solution :\r\n\r\nException handlers in Spring Boot typically involve the use of the @ExceptionHandler annotation. By annotating a method with @ExceptionHandler, you can define how your application should handle specific exceptions.\r\n\r\n    @ControllerAdvice\r\n    public class GlobalExceptionHandler {\r\n    \r\n        @ExceptionHandler(NotFoundException.class)\r\n        public ResponseEntity&lt;String&gt; handleNotFoundException(NotFoundException ex) {\r\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(ex.getMessage());\r\n        }\r\n    \r\n        @ExceptionHandler(Exception.class)\r\n        public ResponseEntity&lt;String&gt; handleException(Exception ex) {\r\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;An error occurred&quot;);\r\n        }\r\n    }\r\n\r\n=&gt; It&#39;s generally used for global exception handling into spring boot","title":"How to catch a specific exception message thrown by a SpringBootApplication?","body":"<p>Try below solution :</p>\n<p>Exception handlers in Spring Boot typically involve the use of the @ExceptionHandler annotation. By annotating a method with @ExceptionHandler, you can define how your application should handle specific exceptions.</p>\n<pre><code>@ControllerAdvice\npublic class GlobalExceptionHandler {\n\n    @ExceptionHandler(NotFoundException.class)\n    public ResponseEntity&lt;String&gt; handleNotFoundException(NotFoundException ex) {\n        return ResponseEntity.status(HttpStatus.NOT_FOUND).body(ex.getMessage());\n    }\n\n    @ExceptionHandler(Exception.class)\n    public ResponseEntity&lt;String&gt; handleException(Exception ex) {\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;An error occurred&quot;);\n    }\n}\n</code></pre>\n<p>=&gt; It's generally used for global exception handling into spring boot</p>\n"}],"owner":{"account_id":410264,"reputation":3756,"user_id":782011,"accept_rate":47,"display_name":"pacoverflow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686174269,"creation_date":1686086293,"question_id":76418543,"body_markdown":"I have a Spring Boot application that connects to a database. The main class is this:\r\n\r\n    @SpringBootApplication\r\n    public class OurApplication {\r\n\t    public static void main(String[] args) {\r\n\t\t    try {\r\n    \t\t\tSpringApplication.run(OurApplication.class, args); // this is line 27\r\n\t    \t}\r\n\t\t    catch (Exception e) {\r\n\t\t\t    Throwable t = e;\r\n        \t\twhile (t != null) {\r\n\t\t    \t    System.out.println(&quot;MESSAGE=&quot;+t.getMessage());\r\n\t\t    \t    t = t.getCause();\r\n\t\t\t    }\r\n\t\t    }\r\n    \t}\r\n    }\r\n\r\nI want to catch any exception thrown, and if the error message is the following, then I will handle it a certain way:\r\n\r\n    java.sql.SQLSyntaxErrorException: Access denied for user &#39;service-account&#39;@&#39;%&#39; to database &#39;our_database&#39;\r\n\r\nThe problem is that that specific exception is not being caught by the `catch (Exception e)` block in the above code. When I run the application, I see the following output (some stack traces have been trimmed):\r\n\r\n    2023-06-06 13:38:52.988 ERROR 3040 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\r\n\r\n    java.sql.SQLSyntaxErrorException: Access denied for user &#39;service-account&#39;@&#39;%&#39; to database &#39;our_database&#39;\r\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\r\n        at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n        at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:824)\r\n        [...]\r\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)\r\n        [...]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\r\n        at com.mycompany.mypackage.OurApplicationApplication.main(OurApplicationApplication.java:27)\r\n\r\n    2023-06-06 13:38:52.988  WARN 3040 --- [           main] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata\r\n\r\n    java.sql.SQLSyntaxErrorException: Access denied for user &#39;service-account&#39;@&#39;%&#39; to database &#39;our_database&#39;\r\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\r\n        at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n        at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:824)\r\n        [...]\r\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181)\r\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)\r\n        [...]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\r\n        at com.mycompany.mypackage.OurApplicationApplication.main(OurApplicationApplication.java:27)\r\n\r\n    2023-06-06 13:38:52.988 ERROR 3040 --- [           main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n    2023-06-06 13:38:52.997  WARN 3040 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n    2023-06-06 13:38:52.997  INFO 3040 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2023-06-06 13:38:53.037  INFO 3040 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2023-06-06 13:38:53.077 ERROR 3040 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n        [...]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\r\n        at com.mycompany.mypackage.OurApplicationApplication.main(OurApplicationApplication.java:27)\r\n    Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:275)\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n        [...]\r\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)\r\n        ... 16 common frames omitted\r\n    Caused by: org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when &#39;hibernate.dialect&#39; not set\r\n        at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:100)\r\n        at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:54)\r\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:138)\r\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\r\n        at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\r\n        ... 33 common frames omitted\r\n\r\n    MESSAGE=Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n    MESSAGE=Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n    MESSAGE=Access to DialectResolutionInfo cannot be null when &#39;hibernate.dialect&#39; not set\r\n\r\n    Process finished with exit code 0\r\n\r\nFirst of all, stack traces are being printed out that originate from `OurApplicationApplication.main(OurApplicationApplication.java:27)`, even though there is a `try/catch (Exception e)` around line 27, and the `catch` block does not print out the entire stack trace. How is that possible?\r\n\r\nSecond of all, at the bottom of the output you can see the `MESSAGE=` messages that print out the message for each exception in the chain. Why is it not printing out the `Access denied for user &#39;service-account&#39;@&#39;%&#39; to database &#39;our_database&#39;` message that can be seen from the stack traces?\r\n","title":"How to catch a specific exception message thrown by a SpringBootApplication?","body":"<p>I have a Spring Boot application that connects to a database. The main class is this:</p>\n<pre><code>@SpringBootApplication\npublic class OurApplication {\n    public static void main(String[] args) {\n        try {\n            SpringApplication.run(OurApplication.class, args); // this is line 27\n        }\n        catch (Exception e) {\n            Throwable t = e;\n            while (t != null) {\n                System.out.println(&quot;MESSAGE=&quot;+t.getMessage());\n                t = t.getCause();\n            }\n        }\n    }\n}\n</code></pre>\n<p>I want to catch any exception thrown, and if the error message is the following, then I will handle it a certain way:</p>\n<pre><code>java.sql.SQLSyntaxErrorException: Access denied for user 'service-account'@'%' to database 'our_database'\n</code></pre>\n<p>The problem is that that specific exception is not being caught by the <code>catch (Exception e)</code> block in the above code. When I run the application, I see the following output (some stack traces have been trimmed):</p>\n<pre><code>2023-06-06 13:38:52.988 ERROR 3040 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\n\njava.sql.SQLSyntaxErrorException: Access denied for user 'service-account'@'%' to database 'our_database'\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:824)\n    [...]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)\n    [...]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\n    at com.mycompany.mypackage.OurApplicationApplication.main(OurApplicationApplication.java:27)\n\n2023-06-06 13:38:52.988  WARN 3040 --- [           main] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata\n\njava.sql.SQLSyntaxErrorException: Access denied for user 'service-account'@'%' to database 'our_database'\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:824)\n    [...]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)\n    [...]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\n    at com.mycompany.mypackage.OurApplicationApplication.main(OurApplicationApplication.java:27)\n\n2023-06-06 13:38:52.988 ERROR 3040 --- [           main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n2023-06-06 13:38:52.997  WARN 3040 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n2023-06-06 13:38:52.997  INFO 3040 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-06-06 13:38:53.037  INFO 3040 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2023-06-06 13:38:53.077 ERROR 3040 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    [...]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\n    at com.mycompany.mypackage.OurApplicationApplication.main(OurApplicationApplication.java:27)\nCaused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:275)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n    [...]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)\n    ... 16 common frames omitted\nCaused by: org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when 'hibernate.dialect' not set\n    at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:100)\n    at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:54)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:138)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\n    ... 33 common frames omitted\n\nMESSAGE=Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\nMESSAGE=Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\nMESSAGE=Access to DialectResolutionInfo cannot be null when 'hibernate.dialect' not set\n\nProcess finished with exit code 0\n</code></pre>\n<p>First of all, stack traces are being printed out that originate from <code>OurApplicationApplication.main(OurApplicationApplication.java:27)</code>, even though there is a <code>try/catch (Exception e)</code> around line 27, and the <code>catch</code> block does not print out the entire stack trace. How is that possible?</p>\n<p>Second of all, at the bottom of the output you can see the <code>MESSAGE=</code> messages that print out the message for each exception in the chain. Why is it not printing out the <code>Access denied for user 'service-account'@'%' to database 'our_database'</code> message that can be seen from the stack traces?</p>\n"},{"tags":["java","mongodb","google-cloud-functions"],"comments":[{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1686175149,"post_id":76427288,"comment_id":134764989,"body_markdown":"Are you trying to prevent duplicates from going into the database (unique index), collapse to have distinct results when coming out ($group), or something else?","body":"Are you trying to prevent duplicates from going into the database (unique index), collapse to have distinct results when coming out ($group), or something else?"},{"owner":{"account_id":28722568,"reputation":1,"user_id":21996081,"display_name":"aj77"},"score":0,"creation_date":1686176206,"post_id":76427288,"comment_id":134765134,"body_markdown":"Yes, I&#39;m trying to prevent duplicates.","body":"Yes, I&#39;m trying to prevent duplicates."}],"owner":{"account_id":28722568,"reputation":1,"user_id":21996081,"display_name":"aj77"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686174257,"creation_date":1686174257,"question_id":76427288,"body_markdown":"I&#39;m using MongoDB to save JSON outputs from a cloud function. I&#39;d like for it to automatically output previously searched terms. For example, in pic attached, the two JSON outputs are of the same search result, but occupy different ObjectId. The cloud function calls the API that delivers the JSON when it is already stored, and I&#39;d like for it to output the search result already generated previously. How can I do this? [JSON output from same search result - example](https://i.stack.imgur.com/obkEq.png)\r\n\r\nI tried writing an iterative program to prevent this, but it didn&#39;t account for all results. ","title":"Avoid re-calling API - MongoDB from google cloud function","body":"<p>I'm using MongoDB to save JSON outputs from a cloud function. I'd like for it to automatically output previously searched terms. For example, in pic attached, the two JSON outputs are of the same search result, but occupy different ObjectId. The cloud function calls the API that delivers the JSON when it is already stored, and I'd like for it to output the search result already generated previously. How can I do this? <a href=\"https://i.stack.imgur.com/obkEq.png\" rel=\"nofollow noreferrer\">JSON output from same search result - example</a></p>\n<p>I tried writing an iterative program to prevent this, but it didn't account for all results.</p>\n"},{"tags":["java","xml","spring","csv","spring-data-jpa"],"comments":[{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1685963614,"post_id":76405669,"comment_id":134729437,"body_markdown":"Yes it is possible and done all the time.  My preference is to do it with a Power Shell Script.","body":"Yes it is possible and done all the time.  My preference is to do it with a Power Shell Script."},{"owner":{"account_id":26272384,"reputation":1,"user_id":19942109,"display_name":"grootismus"},"score":0,"creation_date":1685965512,"post_id":76405669,"comment_id":134729889,"body_markdown":"i want to realize it inside my spring boot application. so it will be java code only","body":"i want to realize it inside my spring boot application. so it will be java code only"},{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1685966705,"post_id":76405669,"comment_id":134730132,"body_markdown":"You want the data in postgres so you can read the data inside you spring boot application.  Any tool that will put results into postgres database will work.","body":"You want the data in postgres so you can read the data inside you spring boot application.  Any tool that will put results into postgres database will work."},{"owner":{"account_id":26272384,"reputation":1,"user_id":19942109,"display_name":"grootismus"},"score":0,"creation_date":1685967538,"post_id":76405669,"comment_id":134730303,"body_markdown":"may you name any tools ?","body":"may you name any tools ?"},{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1685968911,"post_id":76405669,"comment_id":134730609,"body_markdown":"I said Power Shell.","body":"I said Power Shell."}],"answers":[{"comments":[{"owner":{"account_id":26272384,"reputation":1,"user_id":19942109,"display_name":"grootismus"},"score":0,"creation_date":1685977713,"post_id":76406942,"comment_id":134732782,"body_markdown":"with csv its kinda easy when its truly comma-seperated. there are some complex data swell which are not only commata, but semicolon seperated aswell which makes it more complex. since its for the university i am not willing to implement crazy transformations. \n\nIs there a way to parse the rdf/xml file int o a json-like object ?","body":"with csv its kinda easy when its truly comma-seperated. there are some complex data swell which are not only commata, but semicolon seperated aswell which makes it more complex. since its for the university i am not willing to implement crazy transformations.   Is there a way to parse the rdf/xml file int o a json-like object ?"}],"tags":[],"owner":{"account_id":4737721,"reputation":651,"user_id":3831579,"accept_rate":35,"display_name":"Sagar Rout"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685971875,"creation_date":1685971875,"answer_id":76406942,"question_id":76405669,"body_markdown":"It is possible but Sadly, Spring does not support this as a native feature.\r\n\r\nSo, I would do something like create POST /api with requestbody of downloadUrl and type of file.\r\n\r\nand based on the file, I can have my custom parser but the tricky part is to identify the datatype... if you know the datatype already you can provide the type in the parser and you can use Spring JDBC template or even vanilla JDBC template to perform CRUD. ","title":"generate tables by xml/csv files","body":"<p>It is possible but Sadly, Spring does not support this as a native feature.</p>\n<p>So, I would do something like create POST /api with requestbody of downloadUrl and type of file.</p>\n<p>and based on the file, I can have my custom parser but the tricky part is to identify the datatype... if you know the datatype already you can provide the type in the parser and you can use Spring JDBC template or even vanilla JDBC template to perform CRUD.</p>\n"}],"owner":{"account_id":26272384,"reputation":1,"user_id":19942109,"display_name":"grootismus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686174135,"creation_date":1685961942,"question_id":76405669,"body_markdown":"On my Spring Boot server, which uses a restful API and Postgres, I want to get the following function:\r\n\r\nThe rest controller gets a link, which is the download link for a csv file on the internet. This file holds data. I want to get the data persistent in my Postgres database. My spring boot server should generate a new table from the first line of the csv and afterwards insert the data in the table. Is that possible?\r\n\r\nThis should be able for rdf/xml files as well.\r\n\r\nUnfortunately, I didn&#39;t find any resources on how or even if this is possible.\r\n\r\nI did manually create entities, which create the table, but I would like to be flexible by the input data. The goal is to persist incoming csv or rdf/xml files to the database without knowing the tables inside these files beforehand.","title":"generate tables by xml/csv files","body":"<p>On my Spring Boot server, which uses a restful API and Postgres, I want to get the following function:</p>\n<p>The rest controller gets a link, which is the download link for a csv file on the internet. This file holds data. I want to get the data persistent in my Postgres database. My spring boot server should generate a new table from the first line of the csv and afterwards insert the data in the table. Is that possible?</p>\n<p>This should be able for rdf/xml files as well.</p>\n<p>Unfortunately, I didn't find any resources on how or even if this is possible.</p>\n<p>I did manually create entities, which create the table, but I would like to be flexible by the input data. The goal is to persist incoming csv or rdf/xml files to the database without knowing the tables inside these files beforehand.</p>\n"},{"tags":["java","hibernate","utc","java-time"],"comments":[{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1550065585,"post_id":43476364,"comment_id":96133154,"body_markdown":"Why not use `OffsetDateTime`?","body":"Why not use <code>OffsetDateTime</code>?"}],"answers":[{"comments":[{"owner":{"account_id":7862344,"reputation":430,"user_id":5942306,"accept_rate":50,"display_name":"adi"},"score":0,"creation_date":1492529956,"post_id":43476501,"comment_id":74008380,"body_markdown":"I am aware of the `ZonedDateTime` class. My question is more about using `LocalDate` and `LocalDateTime` classes with Hibernate for storing date and datetime in the database in UTC.","body":"I am aware of the <code>ZonedDateTime</code> class. My question is more about using <code>LocalDate</code> and <code>LocalDateTime</code> classes with Hibernate for storing date and datetime in the database in UTC."},{"owner":{"account_id":10712746,"reputation":64,"user_id":7884494,"display_name":"Jake O"},"score":0,"creation_date":1492530117,"post_id":43476501,"comment_id":74008496,"body_markdown":"Then you will want to use Instant most likely with a DateFormatter","body":"Then you will want to use Instant most likely with a DateFormatter"},{"owner":{"account_id":7862344,"reputation":430,"user_id":5942306,"accept_rate":50,"display_name":"adi"},"score":0,"creation_date":1492530170,"post_id":43476501,"comment_id":74008535,"body_markdown":"Thanks for reading the question again. Can you please update your answer so that it is really answering the question I asked?","body":"Thanks for reading the question again. Can you please update your answer so that it is really answering the question I asked?"}],"tags":[],"owner":{"account_id":10712746,"reputation":64,"user_id":7884494,"display_name":"Jake O"},"comment_count":3,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1492529794,"creation_date":1492529794,"answer_id":43476501,"question_id":43476364,"body_markdown":"Part of the new Date API they split the types of dates up. The correct class that includes timezones is ZonedDateTime\r\n\r\n    // Get the current date and time\r\n\t      ZonedDateTime date1 = ZonedDateTime.parse(&quot;2007-12-03T10:15:30+05:30[Asia/Karachi]&quot;);\r\n\t      System.out.println(&quot;date1: &quot; + date1);\r\n\t\t\r\n\t      ZonedDateTime zonedDateTime = ZonedDateTime.now();\r\n\t      System.out.println(&quot;Zoned Date Time: &quot; + zonedDateTime);\r\n\t      \r\n\t      ZoneId id = ZoneId.of(&quot;Europe/Paris&quot;);\r\n\t      System.out.println(&quot;ZoneId: &quot; + id);\r\n\t\t\t\r\n\t      ZoneId currentZone = ZoneId.systemDefault();\r\n\t      System.out.println(&quot;CurrentZone: &quot; + currentZone);\r\n\r\nPrints:\r\n\r\n    date1: 2007-12-03T10:15:30+05:00[Asia/Karachi]\r\n    Zoned Date Time: 2017-04-18T11:36:09.126-04:00[America/New_York]\r\n    ZoneId: Europe/Paris\r\n    CurrentZone: America/New_York","title":"Hibernate with Java 8 LocalDate &amp; LocalDateTime in Database","body":"<p>Part of the new Date API they split the types of dates up. The correct class that includes timezones is ZonedDateTime</p>\n\n<pre><code>// Get the current date and time\n      ZonedDateTime date1 = ZonedDateTime.parse(\"2007-12-03T10:15:30+05:30[Asia/Karachi]\");\n      System.out.println(\"date1: \" + date1);\n\n      ZonedDateTime zonedDateTime = ZonedDateTime.now();\n      System.out.println(\"Zoned Date Time: \" + zonedDateTime);\n\n      ZoneId id = ZoneId.of(\"Europe/Paris\");\n      System.out.println(\"ZoneId: \" + id);\n\n      ZoneId currentZone = ZoneId.systemDefault();\n      System.out.println(\"CurrentZone: \" + currentZone);\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>date1: 2007-12-03T10:15:30+05:00[Asia/Karachi]\nZoned Date Time: 2017-04-18T11:36:09.126-04:00[America/New_York]\nZoneId: Europe/Paris\nCurrentZone: America/New_York\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1126140,"reputation":320,"user_id":1113396,"display_name":"Jirka Meluzin"},"score":0,"creation_date":1492544287,"post_id":43479296,"comment_id":74017306,"body_markdown":"I very much agree with statement that a moment should be stored in UTC and to be zoned only when displaying to user.","body":"I very much agree with statement that a moment should be stored in UTC and to be zoned only when displaying to user."},{"owner":{"account_id":2270702,"reputation":1284,"user_id":1998186,"display_name":"NealeU"},"score":6,"creation_date":1511170134,"post_id":43479296,"comment_id":81730360,"body_markdown":"I really hope my 8 year old daughter (who claims Santa is not real) gets to read this some time.  Not only a great answer, but upvoted by the time I got to &quot;That is why the elves..&quot; :)","body":"I really hope my 8 year old daughter (who claims Santa is not real) gets to read this some time.  Not only a great answer, but upvoted by the time I got to &quot;That is why the elves..&quot; :)"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":0,"up_vote_count":81,"is_accepted":true,"score":81,"last_activity_date":1570048368,"creation_date":1492538720,"answer_id":43479296,"question_id":43476364,"body_markdown":"The “Local…” types purposely have no concept of time zone. So they do *not* represent a moment on the timeline. A `LocalDateTime` represents a vague range of possible moments but has no real meaning until assigning an offset or time zone. That means applying a `ZoneId` to get a `ZonedDateTime`. \r\n\r\nFor example, to say that Christmas this year starts at the first moment of December 25, we say:\r\n\r\n    LocalDateTime ldt = LocalDateTime.of( 2017 , 12 , 25 , 0 , 0 , 0 , 0 );\r\n\r\nBut that stroke of midnight happens earlier in the east than in the west. \r\n\r\nThat is why the elves’ Logistics department maps out Santa’s route starting at [Kiribati][1] in the Pacific, the earliest time zone in the world at 14 hours ahead of UTC. After delivering there, they route Santa westward to places like New Zealand for its midnight later. Then on to Asia for their midnight later. Then India, and so on, reaching Europe for their midnight several hours later, and then the east coast of North America for their midnight a few hours more later. All of these places experienced that *same* `LocalDateTime` at different moments, each delivery represented by a *different* `ZonedDateTime` object. \r\n\r\nSo…\r\n\r\n - If you want to record the *concept* of Christmas starting after midnight on the 25th, use a `LocalDateTime` and write into a database column of type `TIMESTAMP WITHOUT TIME ZONE`. \r\n - If you want to record the exact moment of each delivery Santa makes, use a `ZonedDateTime` and write into a database column of type `TIMESTAMP WITH TIME ZONE`.\r\n\r\nAbout that second bullet, be aware that nearly every database system will use the zone information to adjust the date-time to UTC and store that UTC value. Some save the zone information as well, but some such as Postgres discard the zone info after using it to adjust into UTC. So “with time zone” is something of a misnomer, really meaning “with *respect* for time zone”. If you care about remembering that original zone, you may need to store its name in a separate column alongside. \r\n\r\nAnother reason to use `Local…` types is for future appointments. Politicians enjoy frequently changing their time zone(s) of their jurisdiction. They like to adopt Daylight Saving Time (DST). The like to change the dates of their DST cutovers. They like to drop their adoption of DST. They like to redefine their time zones, changing the boundaries. They like to redefine their offset-from-UTC sometimes by amounts like 15 minutes. And they rarely give advance notice, making such changes with as little as a month or two of warning. \r\n\r\nSo to make medical check-up appointment for next year or in six months, the time zone definition cannot be predicted. So if you want an appointment of 9 AM, you should use a `LocalTime` or `LocalDateTime` recorded in a database column of type `TIMESTAMP WITHOUT TIME ZONE`. Otherwise that 9 AM appointment, if zoned where the DST cutover is postponed, may appear as 8 AM or 10 AM.\r\n\r\nWhen generating a projected schedule, you can apply a time zone (`ZoneId`)  to those “local” (unzoned) values to create `ZonedDateTime` objects. But do not rely on those too far out in time when politicians may ruin their meaning by changing the zone(s). \r\n\r\nTip: These frequent changes to DST and time zones means you must keep your time zone [*tzdata*](https://en.wikipedia.org/wiki/Tz_database) data base up to date. There is a tzdata in your host OS, your JVM, and perhaps in your database system such as Postgres. All three should be frequently updated. Sometimes the zones change faster than the planned update cycles of those products such as Turkey last year deciding to stay on DST with only several weeks notice. So you may occasionally need to manually update those tzdata files. Oracle provides a tool for updating the tzdata of their Java implementations. \r\n\r\nThe general best practice in handling exact moments is to track them in UTC. Apply a time zone only where necessary such as in presentation to a user where they expect to see values in their own parochial time zone. In java.time, the `Instant` class represents a moment in the timeline. In UTC with a resolution of nanoseconds. \r\n\r\n    Instant instant = Instant.now() ;  // Current moment on the timeline in UTC.\r\n    ZonedDateTime zdt = instant.atZone( z ) ;  // Assign a time zone to view the same moment through the lens of a particular region’s wall-clock time.\r\n    Instant instant = zdt.toInstant();  // revert back to UTC, stripping away the time zone. But still the same moment in the timeline.\r\n\r\nBy the way, drivers that comply with JDBC 4.2 and later can deal directly with the java.time types via:\r\n\r\n - `PreparedStatement::setObject`\r\n - `ResultSet::getObject`\r\n\r\nOddly, the JDBC 4.2 spec does not require support for the two most common *java.time* types: `Instant` &amp; `ZonedDateTime`. The spec does require support for `OffsetDateTime`. So you can easily convert back-and-forth. \r\n\r\nAvoid the old legacy data types such as `java.util.Date` and `java.sql.Timestamp` whenever possible. They are poorly designed, confusing, and flawed. \r\n\r\nUnderstand that all of these four are representations of a moment on the timeline in UTC:\r\n\r\n - **Modern**\r\n  - `java.time.Instant`\r\n  - `java.time.OffsetDateTime` with an assigned offset of `ZoneOffset.UTC`\r\n - **Legacy**\r\n  - `java.util.Date`\r\n  - `java.sql.Timestamp` \r\n\r\nIf you want a date-only value without time-of-day and without time zone, use `java.time.LocalDate`. This class supplants `java.sql.Date`.\r\n\r\nAs for specific databases, be aware that the SQL standard barely touches on the topic of date-time types and their handling. Furthermore, the various databases vary widely, and I really mean *widely*, in their support of date-time features. Some have virtually no support. Some mix SQL standard types with proprietary types that either predate the standard types or are intended as alternatives to the standard types. In addition, JDBC drivers differ in their behavior with marshaling date-time values to/from the database. Be sure to study the documentation and practice, practice, practice.\r\n\r\n[![Table of date-time types in Java (both legacy and modern) and in standard SQL][2]][2]\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Kiribati\r\n  [2]: https://i.stack.imgur.com/tBUqY.png","title":"Hibernate with Java 8 LocalDate &amp; LocalDateTime in Database","body":"<p>The “Local…” types purposely have no concept of time zone. So they do <em>not</em> represent a moment on the timeline. A <code>LocalDateTime</code> represents a vague range of possible moments but has no real meaning until assigning an offset or time zone. That means applying a <code>ZoneId</code> to get a <code>ZonedDateTime</code>. </p>\n\n<p>For example, to say that Christmas this year starts at the first moment of December 25, we say:</p>\n\n<pre><code>LocalDateTime ldt = LocalDateTime.of( 2017 , 12 , 25 , 0 , 0 , 0 , 0 );\n</code></pre>\n\n<p>But that stroke of midnight happens earlier in the east than in the west. </p>\n\n<p>That is why the elves’ Logistics department maps out Santa’s route starting at <a href=\"https://en.m.wikipedia.org/wiki/Kiribati\" rel=\"noreferrer\">Kiribati</a> in the Pacific, the earliest time zone in the world at 14 hours ahead of UTC. After delivering there, they route Santa westward to places like New Zealand for its midnight later. Then on to Asia for their midnight later. Then India, and so on, reaching Europe for their midnight several hours later, and then the east coast of North America for their midnight a few hours more later. All of these places experienced that <em>same</em> <code>LocalDateTime</code> at different moments, each delivery represented by a <em>different</em> <code>ZonedDateTime</code> object. </p>\n\n<p>So…</p>\n\n<ul>\n<li>If you want to record the <em>concept</em> of Christmas starting after midnight on the 25th, use a <code>LocalDateTime</code> and write into a database column of type <code>TIMESTAMP WITHOUT TIME ZONE</code>. </li>\n<li>If you want to record the exact moment of each delivery Santa makes, use a <code>ZonedDateTime</code> and write into a database column of type <code>TIMESTAMP WITH TIME ZONE</code>.</li>\n</ul>\n\n<p>About that second bullet, be aware that nearly every database system will use the zone information to adjust the date-time to UTC and store that UTC value. Some save the zone information as well, but some such as Postgres discard the zone info after using it to adjust into UTC. So “with time zone” is something of a misnomer, really meaning “with <em>respect</em> for time zone”. If you care about remembering that original zone, you may need to store its name in a separate column alongside. </p>\n\n<p>Another reason to use <code>Local…</code> types is for future appointments. Politicians enjoy frequently changing their time zone(s) of their jurisdiction. They like to adopt Daylight Saving Time (DST). The like to change the dates of their DST cutovers. They like to drop their adoption of DST. They like to redefine their time zones, changing the boundaries. They like to redefine their offset-from-UTC sometimes by amounts like 15 minutes. And they rarely give advance notice, making such changes with as little as a month or two of warning. </p>\n\n<p>So to make medical check-up appointment for next year or in six months, the time zone definition cannot be predicted. So if you want an appointment of 9 AM, you should use a <code>LocalTime</code> or <code>LocalDateTime</code> recorded in a database column of type <code>TIMESTAMP WITHOUT TIME ZONE</code>. Otherwise that 9 AM appointment, if zoned where the DST cutover is postponed, may appear as 8 AM or 10 AM.</p>\n\n<p>When generating a projected schedule, you can apply a time zone (<code>ZoneId</code>)  to those “local” (unzoned) values to create <code>ZonedDateTime</code> objects. But do not rely on those too far out in time when politicians may ruin their meaning by changing the zone(s). </p>\n\n<p>Tip: These frequent changes to DST and time zones means you must keep your time zone <a href=\"https://en.wikipedia.org/wiki/Tz_database\" rel=\"noreferrer\"><em>tzdata</em></a> data base up to date. There is a tzdata in your host OS, your JVM, and perhaps in your database system such as Postgres. All three should be frequently updated. Sometimes the zones change faster than the planned update cycles of those products such as Turkey last year deciding to stay on DST with only several weeks notice. So you may occasionally need to manually update those tzdata files. Oracle provides a tool for updating the tzdata of their Java implementations. </p>\n\n<p>The general best practice in handling exact moments is to track them in UTC. Apply a time zone only where necessary such as in presentation to a user where they expect to see values in their own parochial time zone. In java.time, the <code>Instant</code> class represents a moment in the timeline. In UTC with a resolution of nanoseconds. </p>\n\n<pre><code>Instant instant = Instant.now() ;  // Current moment on the timeline in UTC.\nZonedDateTime zdt = instant.atZone( z ) ;  // Assign a time zone to view the same moment through the lens of a particular region’s wall-clock time.\nInstant instant = zdt.toInstant();  // revert back to UTC, stripping away the time zone. But still the same moment in the timeline.\n</code></pre>\n\n<p>By the way, drivers that comply with JDBC 4.2 and later can deal directly with the java.time types via:</p>\n\n<ul>\n<li><code>PreparedStatement::setObject</code></li>\n<li><code>ResultSet::getObject</code></li>\n</ul>\n\n<p>Oddly, the JDBC 4.2 spec does not require support for the two most common <em>java.time</em> types: <code>Instant</code> &amp; <code>ZonedDateTime</code>. The spec does require support for <code>OffsetDateTime</code>. So you can easily convert back-and-forth. </p>\n\n<p>Avoid the old legacy data types such as <code>java.util.Date</code> and <code>java.sql.Timestamp</code> whenever possible. They are poorly designed, confusing, and flawed. </p>\n\n<p>Understand that all of these four are representations of a moment on the timeline in UTC:</p>\n\n<ul>\n<li><strong>Modern</strong>\n\n<ul>\n<li><code>java.time.Instant</code></li>\n<li><code>java.time.OffsetDateTime</code> with an assigned offset of <code>ZoneOffset.UTC</code></li>\n</ul></li>\n<li><strong>Legacy</strong>\n\n<ul>\n<li><code>java.util.Date</code></li>\n<li><code>java.sql.Timestamp</code> </li>\n</ul></li>\n</ul>\n\n<p>If you want a date-only value without time-of-day and without time zone, use <code>java.time.LocalDate</code>. This class supplants <code>java.sql.Date</code>.</p>\n\n<p>As for specific databases, be aware that the SQL standard barely touches on the topic of date-time types and their handling. Furthermore, the various databases vary widely, and I really mean <em>widely</em>, in their support of date-time features. Some have virtually no support. Some mix SQL standard types with proprietary types that either predate the standard types or are intended as alternatives to the standard types. In addition, JDBC drivers differ in their behavior with marshaling date-time values to/from the database. Be sure to study the documentation and practice, practice, practice.</p>\n\n<p><a href=\"https://i.stack.imgur.com/tBUqY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/tBUqY.png\" alt=\"Table of date-time types in Java (both legacy and modern) and in standard SQL\"></a></p>\n"},{"comments":[{"owner":{"account_id":4458992,"reputation":1216,"user_id":3628421,"accept_rate":67,"display_name":"JRA_TLL"},"score":1,"creation_date":1594198576,"post_id":44715566,"comment_id":111039473,"body_markdown":"hibernate-java8 obsolete for new Hibernate versions as of 2020","body":"hibernate-java8 obsolete for new Hibernate versions as of 2020"}],"tags":[],"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1686173816,"creation_date":1498203005,"answer_id":44715566,"question_id":43476364,"body_markdown":"&gt; Or should I be using Java 8&#39;s Instant? If using Instant, will there be\r\n&gt; a possibility to store only the date part, without time?\r\n\r\nInstant should be suitable for the most operations.\r\n\r\nHibernate versions 5 and ulterior support Java 8&#39;s time API, but with 5.0 and 5.1, you need to add `hibernate-java8` to `pom.xml`:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-java8&lt;/artifactId&gt;\r\n        &lt;version&gt;${version.hibernate}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThen you can use `LocalDate` or `LocalDateTime` or `Instant` for Hibernate entity fields. You need to remove `@Temporal(TemporalType.TIMESTAMP)`. \r\n\r\n&gt; My requirement is to store all dates &amp; date-times in UTC timezone in\r\n&gt; the database. I am using Java 8&#39;s LocalDate &amp; LocalDateTime in my\r\n&gt; Hibernate entities.\r\n&gt; \r\n&gt; Is that correct as LocalDate &amp; LocalDateTime doesn&#39;t have timezone\r\n&gt; associated with them?\r\n\r\nYou can set default JVM timezone somewhere in a configurational code:\r\n\r\n    @PostConstruct\r\n\tvoid setUTCTimezone() {\r\n\t\tTimeZone.setDefault(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n\t}\r\n\r\nThen you&#39;ll operate UTC time in your code.\r\n\r\nTo use Java 8 date types in DTO, you need to add [Jsr310JpaConverters][1]:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nAnd:\r\n\r\n    @EntityScan(basePackageClasses = { Application.class,    Jsr310JpaConverters.class })\r\n    SpringBootApplication\r\n    public class Application { … }\r\n\r\n\r\nMore options:\r\n\r\n - https://stackoverflow.com/questions/2627992/force-java-timezone-as-gmt-utc\r\n - https://stackoverflow.com/questions/7026182/how-to-set-java-timezone\r\n - https://stackoverflow.com/questions/2493749/how-to-set-a-jvm-timezone-properly\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/29241575/new-spring-data-jdk8-jsr310jpaconverters-not-working-automatically/29271707","title":"Hibernate with Java 8 LocalDate &amp; LocalDateTime in Database","body":"<blockquote>\n<p>Or should I be using Java 8's Instant? If using Instant, will there be\na possibility to store only the date part, without time?</p>\n</blockquote>\n<p>Instant should be suitable for the most operations.</p>\n<p>Hibernate versions 5 and ulterior support Java 8's time API, but with 5.0 and 5.1, you need to add <code>hibernate-java8</code> to <code>pom.xml</code>:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-java8&lt;/artifactId&gt;\n    &lt;version&gt;${version.hibernate}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then you can use <code>LocalDate</code> or <code>LocalDateTime</code> or <code>Instant</code> for Hibernate entity fields. You need to remove <code>@Temporal(TemporalType.TIMESTAMP)</code>.</p>\n<blockquote>\n<p>My requirement is to store all dates &amp; date-times in UTC timezone in\nthe database. I am using Java 8's LocalDate &amp; LocalDateTime in my\nHibernate entities.</p>\n<p>Is that correct as LocalDate &amp; LocalDateTime doesn't have timezone\nassociated with them?</p>\n</blockquote>\n<p>You can set default JVM timezone somewhere in a configurational code:</p>\n<pre><code>@PostConstruct\nvoid setUTCTimezone() {\n    TimeZone.setDefault(TimeZone.getTimeZone(&quot;UTC&quot;));\n}\n</code></pre>\n<p>Then you'll operate UTC time in your code.</p>\n<p>To use Java 8 date types in DTO, you need to add <a href=\"https://stackoverflow.com/questions/29241575/new-spring-data-jdk8-jsr310jpaconverters-not-working-automatically/29271707\">Jsr310JpaConverters</a>:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And:</p>\n<pre><code>@EntityScan(basePackageClasses = { Application.class,    Jsr310JpaConverters.class })\nSpringBootApplication\npublic class Application { … }\n</code></pre>\n<p>More options:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2627992/force-java-timezone-as-gmt-utc\">Force Java timezone as GMT/UTC</a></li>\n<li><a href=\"https://stackoverflow.com/questions/7026182/how-to-set-java-timezone\">How to set java timezone?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2493749/how-to-set-a-jvm-timezone-properly\">How to set a JVM TimeZone Properly</a></li>\n</ul>\n"}],"owner":{"account_id":7862344,"reputation":430,"user_id":5942306,"accept_rate":50,"display_name":"adi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35262,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":43479296,"answer_count":3,"score":32,"last_activity_date":1686173816,"creation_date":1492529438,"question_id":43476364,"body_markdown":"My requirement is to store all dates &amp; date-times in UTC timezone in the database. I am using Java 8&#39;s `LocalDate` &amp; `LocalDateTime` in my Hibernate entities. \r\n\r\nIs that correct as `LocalDate` &amp; `LocalDateTime` doesn&#39;t have timezone associated with them?\r\n\r\nIf not, should I fall back to using good old (or legacy?) `Date` &amp; `Timestamp`? \r\n\r\nOr should I be using Java 8&#39;s `Instant`? If using `Instant`, will there be a possibility to store only the date part, without time?\r\n\r\nThe database is MySQL &amp; SQL Server and this is a Spring Boot application.","title":"Hibernate with Java 8 LocalDate &amp; LocalDateTime in Database","body":"<p>My requirement is to store all dates &amp; date-times in UTC timezone in the database. I am using Java 8's <code>LocalDate</code> &amp; <code>LocalDateTime</code> in my Hibernate entities. </p>\n\n<p>Is that correct as <code>LocalDate</code> &amp; <code>LocalDateTime</code> doesn't have timezone associated with them?</p>\n\n<p>If not, should I fall back to using good old (or legacy?) <code>Date</code> &amp; <code>Timestamp</code>? </p>\n\n<p>Or should I be using Java 8's <code>Instant</code>? If using <code>Instant</code>, will there be a possibility to store only the date part, without time?</p>\n\n<p>The database is MySQL &amp; SQL Server and this is a Spring Boot application.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1608456922,"post_id":65378505,"comment_id":115585405,"body_markdown":"It looks like you try to persist the same cart multiple times. The definitions look okay. Can you [edit] the question to include more code and the stack trace?","body":"It looks like you try to persist the same cart multiple times. The definitions look okay. Can you <a href=\"https://stackoverflow.com/posts/65378505/edit\">edit</a> the question to include more code and the stack trace?"},{"owner":{"account_id":18202617,"reputation":227,"user_id":13246500,"display_name":"yasith rangana"},"score":0,"creation_date":1608456978,"post_id":65378505,"comment_id":115585412,"body_markdown":"ok i&#39;ll do that","body":"ok i&#39;ll do that"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1608457065,"post_id":65378505,"comment_id":115585427,"body_markdown":"Also, We normally embed objects referenced by foreign keys in JPA entities. So `private int fkcartid` should really be a `@ManyToOne`-annotated `Cart`-field.","body":"Also, We normally embed objects referenced by foreign keys in JPA entities. So <code>private int fkcartid</code> should really be a <code>@ManyToOne</code>-annotated <code>Cart</code>-field."},{"owner":{"account_id":18202617,"reputation":227,"user_id":13246500,"display_name":"yasith rangana"},"score":0,"creation_date":1608457334,"post_id":65378505,"comment_id":115585473,"body_markdown":"I did edit the question and include all the things that you ask. can you please explain it\nwith the code.","body":"I did edit the question and include all the things that you ask. can you please explain it with the code."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1608457821,"post_id":65378505,"comment_id":115585540,"body_markdown":"Ah I think I see the problem. Through the incorrect setup of the foreign key value `fkcartid` in `Cartitem`, the value of `fkcartid` is most probably `0`, and for the very first persist, no `Cart` with `id 0` exists. This, in turn, leads to the constraint violation on the foreign key constraint. The problem should resolve itself when you uset up the `@ManyToOne`-relation in `Cartitem` as I have suggested in my last comment. Can you please verify that this solves the problem?","body":"Ah I think I see the problem. Through the incorrect setup of the foreign key value <code>fkcartid</code> in <code>Cartitem</code>, the value of <code>fkcartid</code> is most probably <code>0</code>, and for the very first persist, no <code>Cart</code> with <code>id 0</code> exists. This, in turn, leads to the constraint violation on the foreign key constraint. The problem should resolve itself when you uset up the <code>@ManyToOne</code>-relation in <code>Cartitem</code> as I have suggested in my last comment. Can you please verify that this solves the problem?"},{"owner":{"account_id":18202617,"reputation":227,"user_id":13246500,"display_name":"yasith rangana"},"score":0,"creation_date":1608458137,"post_id":65378505,"comment_id":115585598,"body_markdown":"can you please explain to me how to do that. i mean do i need to add another private Cart type variable to CartItem class and use the ManyToOne. I&#39;m new to this. can you please correct that specific part and post it as a comment.","body":"can you please explain to me how to do that. i mean do i need to add another private Cart type variable to CartItem class and use the ManyToOne. I&#39;m new to this. can you please correct that specific part and post it as a comment."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1608460457,"post_id":65378505,"comment_id":115586032,"body_markdown":"I recommend reading a tutorial on the topic, e.g. [this one over at Baeldung](https://www.baeldung.com/hibernate-one-to-many).","body":"I recommend reading a tutorial on the topic, e.g. <a href=\"https://www.baeldung.com/hibernate-one-to-many\" rel=\"nofollow noreferrer\">this one over at Baeldung</a>."}],"answers":[{"tags":[],"owner":{"account_id":10641840,"reputation":135,"user_id":11249206,"display_name":"Balasubramanyam Evani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608463932,"creation_date":1608463932,"answer_id":65379405,"question_id":65378505,"body_markdown":"There are many things that are wrong. I&#39;ll try to address it as much as possible. First, for future purposes, it&#39;s better to see the sql queries that gets executed by doing the following in the application.properties\r\n\r\n```\r\n# Hibernate ddl auto (create, create-drop, update)\r\nspring.jpa.properties.hibernate.hbm2ddl.auto=update\r\nspring.jpa.properties.hibernate.show_sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\n```\r\n\r\nSecond, as I understand from the way you&#39;re building the relationship, it seems that you&#39;re building a bi-directional one-to-many mapping. If so, I would recommend adding @ManyToOne in the child entity. Additionally, you would need to add a utility method in order to synchronize this bi-directional mapping. As pointed in the comments the foreign key value will be 0 since you&#39;re using primitive type for &quot;id&quot; field. So, the setup becomes the following\r\n\r\nCart Entity\r\n```\r\npublic class Cart implements Serializable {\r\n\t\r\n\t/**\r\n\t * \r\n\t */\r\n\tprivate static final long serialVersionUID = 8155938349165825920L;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\t\r\n\tprivate int totalPrice;\r\n\t\r\n\tprivate int itemCount;\r\n\t\r\n\t@OneToMany(mappedBy = &quot;cart&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n\tprivate List&lt;CartItem&gt; cartItems;\r\n\t\r\n\tpublic void setCart(CartItem cartItem) {\r\n\t\tcartItem.setCart(this);\r\n\t}\t\r\n  // setters/getters removed for brevity\r\n}\r\n```\r\n\r\nCartItem Entity\r\n```\r\npublic class CartItem {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\t\r\n\tprivate String productName;\r\n\t\r\n\tprivate int qty;\r\n\t\r\n\tprivate double totalPrice;\r\n\t\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t@JsonIgnore\r\n\tprivate Cart cart;\r\n  // setters/getters removed for brevity\t\r\n}\r\n```\r\n\r\nCart service Impl\r\n```\r\npublic interface ICartService {\r\n\t\r\n\tCart addCart(Cart cart);\r\n\t\r\n}\r\n\r\n\r\n@Service\r\npublic class CartServiceImpl implements ICartService {\r\n\r\n\t@Autowired\r\n\tprivate CartRepository cartRepository;\r\n\t\r\n\t@Override\r\n\tpublic Cart addCart(Cart cart) {\r\n\t\tcart.getCartItems().forEach(item -&gt; cart.setCart(item));\r\n\t\treturn cartRepository.save(cart);\r\n\t}\r\n}\r\n\r\n```\r\n\r\nOther than this, it&#39;s better to use object type for id rather than using primitive type. Why ? because it makes sense to check the persistence of the entity against a &quot;null&quot; value, or else, before persisting the &quot;id&quot; field will have &quot;0&quot; as the value (not null).","title":"how to solve foreign key constraint fails when inserting data","body":"<p>There are many things that are wrong. I'll try to address it as much as possible. First, for future purposes, it's better to see the sql queries that gets executed by doing the following in the application.properties</p>\n<pre><code># Hibernate ddl auto (create, create-drop, update)\nspring.jpa.properties.hibernate.hbm2ddl.auto=update\nspring.jpa.properties.hibernate.show_sql=true\nspring.jpa.properties.hibernate.format_sql=true\n</code></pre>\n<p>Second, as I understand from the way you're building the relationship, it seems that you're building a bi-directional one-to-many mapping. If so, I would recommend adding @ManyToOne in the child entity. Additionally, you would need to add a utility method in order to synchronize this bi-directional mapping. As pointed in the comments the foreign key value will be 0 since you're using primitive type for &quot;id&quot; field. So, the setup becomes the following</p>\n<p>Cart Entity</p>\n<pre><code>public class Cart implements Serializable {\n    \n    /**\n     * \n     */\n    private static final long serialVersionUID = 8155938349165825920L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    private int totalPrice;\n    \n    private int itemCount;\n    \n    @OneToMany(mappedBy = &quot;cart&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private List&lt;CartItem&gt; cartItems;\n    \n    public void setCart(CartItem cartItem) {\n        cartItem.setCart(this);\n    }   \n  // setters/getters removed for brevity\n}\n</code></pre>\n<p>CartItem Entity</p>\n<pre><code>public class CartItem {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    private String productName;\n    \n    private int qty;\n    \n    private double totalPrice;\n    \n    @ManyToOne(fetch = FetchType.LAZY)\n    @JsonIgnore\n    private Cart cart;\n  // setters/getters removed for brevity    \n}\n</code></pre>\n<p>Cart service Impl</p>\n<pre><code>public interface ICartService {\n    \n    Cart addCart(Cart cart);\n    \n}\n\n\n@Service\npublic class CartServiceImpl implements ICartService {\n\n    @Autowired\n    private CartRepository cartRepository;\n    \n    @Override\n    public Cart addCart(Cart cart) {\n        cart.getCartItems().forEach(item -&gt; cart.setCart(item));\n        return cartRepository.save(cart);\n    }\n}\n\n</code></pre>\n<p>Other than this, it's better to use object type for id rather than using primitive type. Why ? because it makes sense to check the persistence of the entity against a &quot;null&quot; value, or else, before persisting the &quot;id&quot; field will have &quot;0&quot; as the value (not null).</p>\n"}],"owner":{"account_id":18202617,"reputation":227,"user_id":13246500,"display_name":"yasith rangana"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3335,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686173695,"creation_date":1608456440,"question_id":65378505,"body_markdown":"I creating a simple online shopping web site. backend is developed with spring boot and MySQL database.\r\nin that, there are two tables. those are Cart and CartItem. \r\nCart basically has an Id and it&#39;s the primary key of the Cart and also Cart has a List of CartItems.\r\nso every CartItem has an attribute which is cart id and it&#39;s the foreign key in the cart item table.\r\n\r\nso the problem is when I try to add a new record to the Cart table it&#39;s not working and throw errors\r\n\r\n Cannot add or update a child row: a foreign key constraint fails (`test`.`cartitem`, CONSTRAINT `FK_CART_ID` FOREIGN KEY (`fkcartid`) REFERENCES `cart` (`id`))\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nThis is my table structure\r\n\r\n    create table cart(\r\n    \t\r\n    \tid int AUTO_INCREMENT,\r\n    \ttotalprice double,\r\n        itemcount int,\r\n        CONSTRAINT PK_CART_ID PRIMARY KEY (id)\r\n    )\r\n\r\n    create table cartitem(\r\n    \t\r\n        id int AUTO_INCREMENT,\r\n        fkcartid int,\r\n        productname text,\r\n        qty int,\r\n        totalprice double,\r\n        CONSTRAINT PK_CARTITEM_ID PRIMARY KEY (id),\r\n        CONSTRAINT FK_CART_ID FOREIGN KEY (fkcartid) REFERENCES cart(id)\r\n        \r\n        \r\n    )\r\n\r\n\r\n\r\n   this is my models on the project\r\n\r\n    @Entity\r\n    @Table(name = &quot;cart&quot;)\r\n    public class Cart {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private int id;\r\n    \r\n        private double totalprice;\r\n    \r\n        private int itemcount;\r\n    \r\n        @OneToMany(cascade=CascadeType.ALL)\r\n        @JoinColumn(name = &quot;cart_id&quot;, referencedColumnName = &quot;id&quot;,insertable = false,updatable = false)\r\n        private List&lt;Cartitem&gt; cartitems;\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public double getTotalprice() {\r\n            return totalprice;\r\n        }\r\n    \r\n        public void setTotalprice(double totalprice) {\r\n            this.totalprice = totalprice;\r\n        }\r\n    \r\n        public List&lt;Cartitem&gt; getCartitemtests() {\r\n            return cartitems;\r\n        }\r\n    \r\n        public void setCartitemtests(List&lt;Cartitem&gt; cartitems) {\r\n            this.cartitems = cartitems;\r\n        }\r\n    \r\n        public int getItemcount() {\r\n            return itemcount;\r\n        }\r\n    \r\n        public void setItemcount(int itemcount) {\r\n            this.itemcount = itemcount;\r\n        }\r\n    \r\n        public List&lt;Cartitem&gt; getCartitems() {\r\n            return cartitems;\r\n        }\r\n    \r\n        public void setCartitems(List&lt;Cartitem&gt; cartitems) {\r\n            this.cartitems = cartitems;\r\n        }\r\n    }\r\n    \r\n            @Entity\r\n    @Table(name = &quot;cartitem&quot;)\r\n    public class Cartitem {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private  int id;\r\n    \r\n        private int fkcartid;\r\n    \r\n        private String productname;\r\n    \r\n        private int qty;\r\n    \r\n        private double totalprice;\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public int getFkcartid() {\r\n            return fkcartid;\r\n        }\r\n    \r\n        public void setFkcartid(int fkcartid) {\r\n            this.fkcartid = fkcartid;\r\n        }\r\n    \r\n        public String getProductname() {\r\n            return productname;\r\n        }\r\n    \r\n        public void setProductname(String productname) {\r\n            this.productname = productname;\r\n        }\r\n    \r\n        public int getQty() {\r\n            return qty;\r\n        }\r\n    \r\n        public void setQty(int qty) {\r\n            this.qty = qty;\r\n        }\r\n    \r\n        public double getTotalprice() {\r\n            return totalprice;\r\n        }\r\n    \r\n        public void setTotalprice(double totalprice) {\r\n            this.totalprice = totalprice;\r\n        }\r\n    }\r\n\r\nthis is the repository classes\r\n\r\n    @Repository\r\n    public interface CartRepo extends CrudRepository&lt;Cart,Integer&gt; {\r\n    }\r\n    \r\n    @Repository\r\n    public interface CartItemrepo extends CrudRepository&lt;Cartitem,Integer&gt; {\r\n    }\r\n\r\nthis is the controller class\r\n\r\n    @RestController\r\n    public class homecontroller {\r\n    \r\n        @Autowired\r\n        basicService basicServiceobj;\r\n    \r\n       \r\n        @PostMapping(value = &quot;/product&quot;)\r\n        public Cart addproduct(@RequestBody Cart cart){\r\n            return basicServiceobj.additems(cart);\r\n        }\r\n    }\r\n\r\n\r\n\r\nthis is the service class\r\n\r\n    @Service\r\n    public class basicService {\r\n    \r\n        @Autowired\r\n        AddressRepo addressRepo;\r\n        @Autowired\r\n        CityRepo cityRepo;\r\n    \r\n        @Autowired\r\n        CartRepo cartRepo;\r\n    \r\n        public Cart additems(Cart cart){\r\n            return cartRepo.save(cart);\r\n        }\r\n    \r\n    }\r\nthis is strack trace\r\n\r\n    java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`test`.`cartitem`, CONSTRAINT `FK_CART_ID` FOREIGN KEY (`fkcartid`) REFERENCES `cart` (`id`))\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117) ~[mysql-connector-java-8.0.22.jar:8.0.22]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.22.jar:8.0.22]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.22.jar:8.0.22]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953) ~[mysql-connector-java-8.0.22.jar:8.0.22]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1092) ~[mysql-connector-java-8.0.22.jar:8.0.22]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1040) ~[mysql-connector-java-8.0.22.jar:8.0.22]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1347) ~[mysql-connector-java-8.0.22.jar:8.0.22]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1025) ~[mysql-connector-java-8.0.22.jar:8.0.22]\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-3.4.5.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-3.4.5.jar:na]\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:57) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3199) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3805) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:113) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:744) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:712) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:298) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:492) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:416) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:218) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:525) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:456) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:419) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:218) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.engine.internal.Cascade.cascade(Cascade.java:151) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:459) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:293) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:102) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:720) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:706) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_261]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_261]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_261]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_261]\r\n\tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.2.jar:5.3.2]\r\n\tat com.sun.proxy.$Proxy79.persist(Unknown Source) ~[na:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_261]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_261]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_261]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_261]\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.2.jar:5.3.2]\r\n\tat com.sun.proxy.$Proxy79.persist(Unknown Source) ~[na:na]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:557) ~[spring-data-jpa-2.4.2.jar:2.4.2]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_261]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_261]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_261]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_261]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.4.2.jar:2.4.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.4.2.jar:2.4.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.4.2.jar:2.4.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:524) ~[spring-data-commons-2.4.2.jar:2.4.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.4.2.jar:2.4.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:531) ~[spring-data-commons-2.4.2.jar:2.4.2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.2.jar:5.3.2]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:156) ~[spring-data-commons-2.4.2.jar:2.4.2]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:131) ~[spring-data-commons-2.4.2.jar:2.4.2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.2.jar:5.3.2]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.2.jar:5.3.2]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.2.jar:5.3.2]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.2.jar:5.3.2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.2.jar:5.3.2]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.2.jar:5.3.2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.2.jar:5.3.2]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.4.2.jar:2.4.2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.2.jar:5.3.2]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.2.jar:5.3.2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.2.jar:5.3.2]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.2.jar:5.3.2]\r\n\tat com.sun.proxy.$Proxy86.save(Unknown Source) ~[na:na]\r\n\tat com.test.addressmapping.demo.basicService.additems(basicService.java:28) ~[classes/:na]\r\n\tat com.test.addressmapping.demo.homecontroller.addproduct(homecontroller.java:32) ~[classes/:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_261]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_261]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_261]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_261]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197) ~[spring-web-5.3.2.jar:5.3.2]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141) ~[spring-web-5.3.2.jar:5.3.2]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.3.2.jar:5.3.2]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894) ~[spring-webmvc-5.3.2.jar:5.3.2]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.2.jar:5.3.2]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.2.jar:5.3.2]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061) ~[spring-webmvc-5.3.2.jar:5.3.2]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961) ~[spring-webmvc-5.3.2.jar:5.3.2]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.2.jar:5.3.2]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.2.jar:5.3.2]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:652) ~[tomcat-embed-core-9.0.41.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.2.jar:5.3.2]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.41.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.41.jar:9.0.41]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.2.jar:5.3.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.2.jar:5.3.2]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.2.jar:5.3.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.2.jar:5.3.2]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.2.jar:5.3.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.2.jar:5.3.2]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) [tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) [tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) [tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:888) [tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1597) [tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_261]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_261]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_261]\r\n\r\n\r\nall repositories are extended by the CrudRepository interface spring boot version (2.4.1)\r\njava version (8)\r\n\r\nhow to solve this problem\r\n","title":"how to solve foreign key constraint fails when inserting data","body":"<p>I creating a simple online shopping web site. backend is developed with spring boot and MySQL database.\nin that, there are two tables. those are Cart and CartItem.\nCart basically has an Id and it's the primary key of the Cart and also Cart has a List of CartItems.\nso every CartItem has an attribute which is cart id and it's the foreign key in the cart item table.</p>\n<p>so the problem is when I try to add a new record to the Cart table it's not working and throw errors</p>\n<p>Cannot add or update a child row: a foreign key constraint fails (<code>test</code>.<code>cartitem</code>, CONSTRAINT <code>FK_CART_ID</code> FOREIGN KEY (<code>fkcartid</code>) REFERENCES <code>cart</code> (<code>id</code>))</p>\n<p>This is my table structure</p>\n<pre><code>create table cart(\n    \n    id int AUTO_INCREMENT,\n    totalprice double,\n    itemcount int,\n    CONSTRAINT PK_CART_ID PRIMARY KEY (id)\n)\n\ncreate table cartitem(\n    \n    id int AUTO_INCREMENT,\n    fkcartid int,\n    productname text,\n    qty int,\n    totalprice double,\n    CONSTRAINT PK_CARTITEM_ID PRIMARY KEY (id),\n    CONSTRAINT FK_CART_ID FOREIGN KEY (fkcartid) REFERENCES cart(id)\n    \n    \n)\n</code></pre>\n<p>this is my models on the project</p>\n<pre><code>@Entity\n@Table(name = &quot;cart&quot;)\npublic class Cart {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    private double totalprice;\n\n    private int itemcount;\n\n    @OneToMany(cascade=CascadeType.ALL)\n    @JoinColumn(name = &quot;cart_id&quot;, referencedColumnName = &quot;id&quot;,insertable = false,updatable = false)\n    private List&lt;Cartitem&gt; cartitems;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public double getTotalprice() {\n        return totalprice;\n    }\n\n    public void setTotalprice(double totalprice) {\n        this.totalprice = totalprice;\n    }\n\n    public List&lt;Cartitem&gt; getCartitemtests() {\n        return cartitems;\n    }\n\n    public void setCartitemtests(List&lt;Cartitem&gt; cartitems) {\n        this.cartitems = cartitems;\n    }\n\n    public int getItemcount() {\n        return itemcount;\n    }\n\n    public void setItemcount(int itemcount) {\n        this.itemcount = itemcount;\n    }\n\n    public List&lt;Cartitem&gt; getCartitems() {\n        return cartitems;\n    }\n\n    public void setCartitems(List&lt;Cartitem&gt; cartitems) {\n        this.cartitems = cartitems;\n    }\n}\n\n        @Entity\n@Table(name = &quot;cartitem&quot;)\npublic class Cartitem {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private  int id;\n\n    private int fkcartid;\n\n    private String productname;\n\n    private int qty;\n\n    private double totalprice;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public int getFkcartid() {\n        return fkcartid;\n    }\n\n    public void setFkcartid(int fkcartid) {\n        this.fkcartid = fkcartid;\n    }\n\n    public String getProductname() {\n        return productname;\n    }\n\n    public void setProductname(String productname) {\n        this.productname = productname;\n    }\n\n    public int getQty() {\n        return qty;\n    }\n\n    public void setQty(int qty) {\n        this.qty = qty;\n    }\n\n    public double getTotalprice() {\n        return totalprice;\n    }\n\n    public void setTotalprice(double totalprice) {\n        this.totalprice = totalprice;\n    }\n}\n</code></pre>\n<p>this is the repository classes</p>\n<pre><code>@Repository\npublic interface CartRepo extends CrudRepository&lt;Cart,Integer&gt; {\n}\n\n@Repository\npublic interface CartItemrepo extends CrudRepository&lt;Cartitem,Integer&gt; {\n}\n</code></pre>\n<p>this is the controller class</p>\n<pre><code>@RestController\npublic class homecontroller {\n\n    @Autowired\n    basicService basicServiceobj;\n\n   \n    @PostMapping(value = &quot;/product&quot;)\n    public Cart addproduct(@RequestBody Cart cart){\n        return basicServiceobj.additems(cart);\n    }\n}\n</code></pre>\n<p>this is the service class</p>\n<pre><code>@Service\npublic class basicService {\n\n    @Autowired\n    AddressRepo addressRepo;\n    @Autowired\n    CityRepo cityRepo;\n\n    @Autowired\n    CartRepo cartRepo;\n\n    public Cart additems(Cart cart){\n        return cartRepo.save(cart);\n    }\n\n}\n</code></pre>\n<p>this is strack trace</p>\n<pre><code>java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`test`.`cartitem`, CONSTRAINT `FK_CART_ID` FOREIGN KEY (`fkcartid`) REFERENCES `cart` (`id`))\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117) ~[mysql-connector-java-8.0.22.jar:8.0.22]\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.22.jar:8.0.22]\nat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.22.jar:8.0.22]\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953) ~[mysql-connector-java-8.0.22.jar:8.0.22]\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1092) ~[mysql-connector-java-8.0.22.jar:8.0.22]\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1040) ~[mysql-connector-java-8.0.22.jar:8.0.22]\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1347) ~[mysql-connector-java-8.0.22.jar:8.0.22]\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1025) ~[mysql-connector-java-8.0.22.jar:8.0.22]\nat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-3.4.5.jar:na]\nat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-3.4.5.jar:na]\nat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:57) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3199) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3805) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:113) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:744) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:712) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:298) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:492) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:416) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:218) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:525) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:456) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:419) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:218) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.engine.internal.Cascade.cascade(Cascade.java:151) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.event.internal.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:459) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:293) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:102) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:720) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:706) ~[hibernate-core-5.4.25.Final.jar:5.4.25.Final]\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_261]\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_261]\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_261]\nat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_261]\nat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.2.jar:5.3.2]\nat com.sun.proxy.$Proxy79.persist(Unknown Source) ~[na:na]\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_261]\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_261]\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_261]\nat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_261]\nat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.2.jar:5.3.2]\nat com.sun.proxy.$Proxy79.persist(Unknown Source) ~[na:na]\nat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:557) ~[spring-data-jpa-2.4.2.jar:2.4.2]\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_261]\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_261]\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_261]\nat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_261]\nat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.4.2.jar:2.4.2]\nat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.4.2.jar:2.4.2]\nat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.4.2.jar:2.4.2]\nat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:524) ~[spring-data-commons-2.4.2.jar:2.4.2]\nat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.4.2.jar:2.4.2]\nat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:531) ~[spring-data-commons-2.4.2.jar:2.4.2]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.2.jar:5.3.2]\nat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:156) ~[spring-data-commons-2.4.2.jar:2.4.2]\nat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:131) ~[spring-data-commons-2.4.2.jar:2.4.2]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.2.jar:5.3.2]\nat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.2.jar:5.3.2]\nat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.2.jar:5.3.2]\nat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.2.jar:5.3.2]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.2.jar:5.3.2]\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.2.jar:5.3.2]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.2.jar:5.3.2]\nat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.4.2.jar:2.4.2]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.2.jar:5.3.2]\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.2.jar:5.3.2]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.2.jar:5.3.2]\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.2.jar:5.3.2]\nat com.sun.proxy.$Proxy86.save(Unknown Source) ~[na:na]\nat com.test.addressmapping.demo.basicService.additems(basicService.java:28) ~[classes/:na]\nat com.test.addressmapping.demo.homecontroller.addproduct(homecontroller.java:32) ~[classes/:na]\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_261]\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_261]\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_261]\nat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_261]\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197) ~[spring-web-5.3.2.jar:5.3.2]\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141) ~[spring-web-5.3.2.jar:5.3.2]\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.3.2.jar:5.3.2]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894) ~[spring-webmvc-5.3.2.jar:5.3.2]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.2.jar:5.3.2]\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.2.jar:5.3.2]\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061) ~[spring-webmvc-5.3.2.jar:5.3.2]\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961) ~[spring-webmvc-5.3.2.jar:5.3.2]\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.2.jar:5.3.2]\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.2.jar:5.3.2]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:652) ~[tomcat-embed-core-9.0.41.jar:4.0.FR]\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.2.jar:5.3.2]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.41.jar:4.0.FR]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.41.jar:9.0.41]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.2.jar:5.3.2]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.2.jar:5.3.2]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.2.jar:5.3.2]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.2.jar:5.3.2]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.2.jar:5.3.2]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.2.jar:5.3.2]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.41.jar:9.0.41]\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) [tomcat-embed-core-9.0.41.jar:9.0.41]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) [tomcat-embed-core-9.0.41.jar:9.0.41]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.41.jar:9.0.41]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.41.jar:9.0.41]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.41.jar:9.0.41]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) [tomcat-embed-core-9.0.41.jar:9.0.41]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.41.jar:9.0.41]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:888) [tomcat-embed-core-9.0.41.jar:9.0.41]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1597) [tomcat-embed-core-9.0.41.jar:9.0.41]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.41.jar:9.0.41]\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_261]\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_261]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.41.jar:9.0.41]\nat java.lang.Thread.run(Thread.java:748) [na:1.8.0_261]\n</code></pre>\n<p>all repositories are extended by the CrudRepository interface spring boot version (2.4.1)\njava version (8)</p>\n<p>how to solve this problem</p>\n"},{"tags":["java","sql-server","swing","proxool"],"comments":[{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":1,"creation_date":1686119801,"post_id":76419446,"comment_id":134753623,"body_markdown":"You need to add the Microsoft jdbc driver jar to the classpath of your application","body":"You need to add the Microsoft jdbc driver jar to the classpath of your application"},{"owner":{"account_id":10353015,"reputation":167,"user_id":7635893,"accept_rate":60,"display_name":"Alpha"},"score":0,"creation_date":1686172769,"post_id":76419446,"comment_id":134764653,"body_markdown":"I have added all relevant libraries. If, I don&#39;t use Proxool for connection pooling, I manage to make connection to DB through MSSQL lib, but i need connection pooling.","body":"I have added all relevant libraries. If, I don&#39;t use Proxool for connection pooling, I manage to make connection to DB through MSSQL lib, but i need connection pooling."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1686173918,"post_id":76419446,"comment_id":134764839,"body_markdown":"I wonder if you have to add Class.forName(&quot;org.logicalcobwebs.proxool.ProxoolDriver&quot;); to your code before requesting the driver. Btw, why using this proxool lib? It seems kinda old and there are better pooling alternatives these days me thinks","body":"I wonder if you have to add Class.forName(&quot;org.logicalcobwebs.proxool.ProxoolDriver&quot;); to your code before requesting the driver. Btw, why using this proxool lib? It seems kinda old and there are better pooling alternatives these days me thinks"},{"owner":{"account_id":10353015,"reputation":167,"user_id":7635893,"accept_rate":60,"display_name":"Alpha"},"score":0,"creation_date":1686175769,"post_id":76419446,"comment_id":134765079,"body_markdown":"I am only interested in database connection pooling, I did some google &amp; found out this lib. Do you have any better &amp; easy way to do this; share with me with tutorial, please TIA","body":"I am only interested in database connection pooling, I did some google &amp; found out this lib. Do you have any better &amp; easy way to do this; share with me with tutorial, please TIA"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1686176735,"post_id":76419446,"comment_id":134765194,"body_markdown":"check out this for example https://www.baeldung.com/java-connection-pooling  . Hikari and C3PO are pretty well known","body":"check out this for example <a href=\"https://www.baeldung.com/java-connection-pooling\" rel=\"nofollow noreferrer\">baeldung.com/java-connection-pooling</a>  . Hikari and C3PO are pretty well known"}],"owner":{"account_id":10353015,"reputation":167,"user_id":7635893,"accept_rate":60,"display_name":"Alpha"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686172878,"creation_date":1686103086,"question_id":76419446,"body_markdown":"I am working with Java Swing &amp; I importrf the mssql jdbc &amp; proxool libraries for database connection &amp; pooling.\r\n\r\nI need to make connection with SQL Server through database pooling but it&#39;s returning and exception `DriverManager.getConnection(url, info);`\r\n\r\n&gt; No suitable driver found for proxool.DBConnectionAlias:com.microsoft.sqlserver.jdbc.SQLServerDriver:jdbc:sqlserver://localhost:1433;databaseName=test_ERP; trustServerCertificate=true\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    public final class ConnectionPool {\r\n    \r\n        public ConnectionPool() throws Exception {\r\n              // Set up the URL\r\n              String alias = &quot;DBConnectionAlias&quot;;\r\n              String driverClass = &quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;;\r\n              String driverUrl = &quot;jdbc:sqlserver://localhost:1433;databaseName=test_ERP; trustServerCertificate=true&quot;;\r\n              String url = &quot;proxool.&quot; + alias + &quot;:&quot; + driverClass + &quot;:&quot; + driverUrl;\r\n       \r\n              // Set up the Properties object\r\n              Properties info = new Properties();\r\n              info.setProperty(&quot;proxool.maximum-connection-count&quot;, &quot;30&quot;);\r\n              info.setProperty(&quot;user&quot;, &quot;test_Admin&quot;);\r\n              info.setProperty(&quot;password&quot;, &quot;#test&quot;);\r\n    \r\n              Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n              Connection connection = DriverManager.getConnection(url, info);\r\n              connection.close();\r\n    \r\n              // Add a connection listener to the pool\r\n              ProxoolFacade.addConnectionListener(alias, new ConnectionListener());\r\n        }    \r\n    \r\n        public Connection getConnection() throws SQLException {\r\n              // Use the alias &quot;demo&quot; defined in the constructor to borrow a connection\r\n              return DriverManager.getConnection(&quot;proxool.DBConnectionAlias&quot;);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rjYQP.png","title":"No suitable driver found for proxool with SQL Server","body":"<p>I am working with Java Swing &amp; I importrf the mssql jdbc &amp; proxool libraries for database connection &amp; pooling.</p>\n<p>I need to make connection with SQL Server through database pooling but it's returning and exception <code>DriverManager.getConnection(url, info);</code></p>\n<blockquote>\n<p>No suitable driver found for proxool.DBConnectionAlias:com.microsoft.sqlserver.jdbc.SQLServerDriver:jdbc:sqlserver://localhost:1433;databaseName=test_ERP; trustServerCertificate=true</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/rjYQP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rjYQP.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>public final class ConnectionPool {\n\n    public ConnectionPool() throws Exception {\n          // Set up the URL\n          String alias = &quot;DBConnectionAlias&quot;;\n          String driverClass = &quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;;\n          String driverUrl = &quot;jdbc:sqlserver://localhost:1433;databaseName=test_ERP; trustServerCertificate=true&quot;;\n          String url = &quot;proxool.&quot; + alias + &quot;:&quot; + driverClass + &quot;:&quot; + driverUrl;\n   \n          // Set up the Properties object\n          Properties info = new Properties();\n          info.setProperty(&quot;proxool.maximum-connection-count&quot;, &quot;30&quot;);\n          info.setProperty(&quot;user&quot;, &quot;test_Admin&quot;);\n          info.setProperty(&quot;password&quot;, &quot;#test&quot;);\n\n          Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\n          Connection connection = DriverManager.getConnection(url, info);\n          connection.close();\n\n          // Add a connection listener to the pool\n          ProxoolFacade.addConnectionListener(alias, new ConnectionListener());\n    }    \n\n    public Connection getConnection() throws SQLException {\n          // Use the alias &quot;demo&quot; defined in the constructor to borrow a connection\n          return DriverManager.getConnection(&quot;proxool.DBConnectionAlias&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","json","spring-data","couchbase","spring-data-couchbase"],"answers":[{"tags":[],"owner":{"account_id":19444711,"reputation":399,"user_id":14222513,"display_name":"Michael Reiche"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686172767,"creation_date":1674515565,"answer_id":75216005,"question_id":75087405,"body_markdown":"Edit: the converters mentioned below are now included in Spring Data Couchbase.\r\n\r\nYou can create two converters like this.\r\n\r\nThen add them as CustomConverters by overriding the customConversions() method in AbstractCouchbaseConfiguration.  The only change from the original is to add the two converters.\r\n\r\nI opened an issue at https://github.com/spring-projects/spring-data-couchbase/issues/1650\r\n \r\n\r\n       @WritingConverter\r\n        public enum JsonNodeToMap implements Converter&lt;JsonNode, CouchbaseDocument&gt; {\r\n        \tINSTANCE;\r\n        \r\n        \t@Override\r\n        \tpublic CouchbaseDocument convert(JsonNode source) {\r\n        \t\tif( source == null ){\r\n        \t\t\treturn null;\r\n        \t\t}\r\n        \t\treturn new CouchbaseDocument().setContent(JsonObject.fromJson(source.toString()));\r\n        \t}\r\n        }\r\n        \r\n        \r\n        @ReadingConverter\r\n        public enum MapToJsonNode implements Converter&lt;CouchbaseDocument, JsonNode&gt; {\r\n        \tINSTANCE;\r\n        \tstatic ObjectMapper mapper= new ObjectMapper();\r\n        \r\n        \t@Override\r\n        \tpublic JsonNode convert(CouchbaseDocument source) {\r\n        \t\tif( source == null ){\r\n        \t\t\treturn null;\r\n        \t\t}\r\n        \t\treturn mapper.valueToTree(source.export());\r\n        \t}\r\n        }\r\n    ------------------------------------------------------\r\n    public CustomConversions customConversions(CryptoManager cryptoManager, ObjectMapper objectMapper) {\r\n    \tList&lt;GenericConverter&gt; newConverters = new ArrayList();\r\n    \tCustomConversions customConversions = CouchbaseCustomConversions.create(configurationAdapter -&gt; {\r\n    \t\tSimplePropertyValueConversions valueConversions = new SimplePropertyValueConversions();\r\n    \t\tvalueConversions.setConverterFactory(\r\n    \t\t\t\tnew CouchbasePropertyValueConverterFactory(cryptoManager, annotationToConverterMap(), objectMapper));\r\n    \t\tvalueConversions.setValueConverterRegistry(new PropertyValueConverterRegistrar().buildRegistry());\r\n    \t\tvalueConversions.afterPropertiesSet(); // wraps the CouchbasePropertyValueConverterFactory with CachingPVCFactory\r\n    \t\tconfigurationAdapter.setPropertyValueConversions(valueConversions);\r\n    \t\tconfigurationAdapter.registerConverters(newConverters);\r\n    \t\tconfigurationAdapter.registerConverter(OtherConverters.JsonNodeToMap.INSTANCE); // added\r\n    \t\tconfigurationAdapter.registerConverter(OtherConverters.MapToJsonNode.INSTANCE); // added\r\n    \t\tconfigurationAdapter.registerConverter(new OtherConverters.EnumToObject(getObjectMapper()));\r\n    \t\tconfigurationAdapter.registerConverterFactory(new IntegerToEnumConverterFactory(getObjectMapper()));\r\n    \t\tconfigurationAdapter.registerConverterFactory(new StringToEnumConverterFactory(getObjectMapper()));\r\n    \t\tconfigurationAdapter.registerConverterFactory(new BooleanToEnumConverterFactory(getObjectMapper()));\r\n    \t});\r\n    \treturn customConversions;\r\n    }\r\n\r\n\r\n\r\n","title":"Upsert Document with a generic json field","body":"<p>Edit: the converters mentioned below are now included in Spring Data Couchbase.</p>\n<p>You can create two converters like this.</p>\n<p>Then add them as CustomConverters by overriding the customConversions() method in AbstractCouchbaseConfiguration.  The only change from the original is to add the two converters.</p>\n<p>I opened an issue at <a href=\"https://github.com/spring-projects/spring-data-couchbase/issues/1650\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-couchbase/issues/1650</a></p>\n<pre><code>   @WritingConverter\n    public enum JsonNodeToMap implements Converter&lt;JsonNode, CouchbaseDocument&gt; {\n        INSTANCE;\n    \n        @Override\n        public CouchbaseDocument convert(JsonNode source) {\n            if( source == null ){\n                return null;\n            }\n            return new CouchbaseDocument().setContent(JsonObject.fromJson(source.toString()));\n        }\n    }\n    \n    \n    @ReadingConverter\n    public enum MapToJsonNode implements Converter&lt;CouchbaseDocument, JsonNode&gt; {\n        INSTANCE;\n        static ObjectMapper mapper= new ObjectMapper();\n    \n        @Override\n        public JsonNode convert(CouchbaseDocument source) {\n            if( source == null ){\n                return null;\n            }\n            return mapper.valueToTree(source.export());\n        }\n    }\n------------------------------------------------------\npublic CustomConversions customConversions(CryptoManager cryptoManager, ObjectMapper objectMapper) {\n    List&lt;GenericConverter&gt; newConverters = new ArrayList();\n    CustomConversions customConversions = CouchbaseCustomConversions.create(configurationAdapter -&gt; {\n        SimplePropertyValueConversions valueConversions = new SimplePropertyValueConversions();\n        valueConversions.setConverterFactory(\n                new CouchbasePropertyValueConverterFactory(cryptoManager, annotationToConverterMap(), objectMapper));\n        valueConversions.setValueConverterRegistry(new PropertyValueConverterRegistrar().buildRegistry());\n        valueConversions.afterPropertiesSet(); // wraps the CouchbasePropertyValueConverterFactory with CachingPVCFactory\n        configurationAdapter.setPropertyValueConversions(valueConversions);\n        configurationAdapter.registerConverters(newConverters);\n        configurationAdapter.registerConverter(OtherConverters.JsonNodeToMap.INSTANCE); // added\n        configurationAdapter.registerConverter(OtherConverters.MapToJsonNode.INSTANCE); // added\n        configurationAdapter.registerConverter(new OtherConverters.EnumToObject(getObjectMapper()));\n        configurationAdapter.registerConverterFactory(new IntegerToEnumConverterFactory(getObjectMapper()));\n        configurationAdapter.registerConverterFactory(new StringToEnumConverterFactory(getObjectMapper()));\n        configurationAdapter.registerConverterFactory(new BooleanToEnumConverterFactory(getObjectMapper()));\n    });\n    return customConversions;\n}\n</code></pre>\n"}],"owner":{"account_id":1223103,"reputation":401,"user_id":1189333,"display_name":"serkanz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686172767,"creation_date":1673460883,"question_id":75087405,"body_markdown":"Using spring-data-couchbase I want to define a document with a field `settings` with generic JSON. To do this, I create a class\r\n\r\n```\r\n@Document\r\npublic class SampleDoc {\r\n  @Id\r\n  @NotNull\r\n  protected String id;\r\n\r\n  @Field\r\n  private JsonNode settings;\r\n}\r\n```\r\nWhen I try to persist below JSON object to this document instance\r\n```\r\n{\r\n  &quot;someField&quot; : &quot;someData&quot;\r\n}\r\n```\r\n\r\nIt is persisted in the CouchBase as \r\n\r\n```\r\n&quot;settings&quot;: {\r\n    &quot;_children&quot;: {\r\n      &quot;someField&quot;: {\r\n        &quot;type&quot;: &quot;com.fasterxml.jackson.databind.node.TextNode&quot;,\r\n        &quot;_value&quot;: &quot;someData&quot;\r\n      }\r\n    },\r\n    &quot;type&quot;: &quot;com.fasterxml.jackson.databind.node.ObjectNode&quot;,\r\n    &quot;_nodeFactory&quot;: {\r\n      &quot;_cfgBigDecimalExact&quot;: false\r\n    }\r\n  }\r\n```\r\nAnd when I try to get the document from database through `CouchbaseRepository.findById` it returns error :\r\n\r\n`Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.data.mapping.model.MappingInstantiationException: Failed to instantiate com.fasterxml.jackson.databind.node.ObjectNode using constructor NO_CONSTRUCTOR with arguments ] with root cause\r\n`\r\n\r\nHow could I persist a generic JSON object to Couchbase and assure it to be stored as a simple JSON like :\r\n\r\n```\r\n{\r\n  //other fields\r\n  &quot;settings&quot; : {\r\n    &quot;someField&quot; : &quot;someData&quot;\r\n  }\r\n  //other fields\r\n}\r\n```\r\n\r\nThank you","title":"Upsert Document with a generic json field","body":"<p>Using spring-data-couchbase I want to define a document with a field <code>settings</code> with generic JSON. To do this, I create a class</p>\n<pre><code>@Document\npublic class SampleDoc {\n  @Id\n  @NotNull\n  protected String id;\n\n  @Field\n  private JsonNode settings;\n}\n</code></pre>\n<p>When I try to persist below JSON object to this document instance</p>\n<pre><code>{\n  &quot;someField&quot; : &quot;someData&quot;\n}\n</code></pre>\n<p>It is persisted in the CouchBase as</p>\n<pre><code>&quot;settings&quot;: {\n    &quot;_children&quot;: {\n      &quot;someField&quot;: {\n        &quot;type&quot;: &quot;com.fasterxml.jackson.databind.node.TextNode&quot;,\n        &quot;_value&quot;: &quot;someData&quot;\n      }\n    },\n    &quot;type&quot;: &quot;com.fasterxml.jackson.databind.node.ObjectNode&quot;,\n    &quot;_nodeFactory&quot;: {\n      &quot;_cfgBigDecimalExact&quot;: false\n    }\n  }\n</code></pre>\n<p>And when I try to get the document from database through <code>CouchbaseRepository.findById</code> it returns error :</p>\n<p><code>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.data.mapping.model.MappingInstantiationException: Failed to instantiate com.fasterxml.jackson.databind.node.ObjectNode using constructor NO_CONSTRUCTOR with arguments ] with root cause </code></p>\n<p>How could I persist a generic JSON object to Couchbase and assure it to be stored as a simple JSON like :</p>\n<pre><code>{\n  //other fields\n  &quot;settings&quot; : {\n    &quot;someField&quot; : &quot;someData&quot;\n  }\n  //other fields\n}\n</code></pre>\n<p>Thank you</p>\n"},{"tags":["java","apache-kafka","spring-integration","spring-kafka"],"comments":[{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1503665996,"post_id":45878103,"comment_id":78722396,"body_markdown":"It&#39;s not clear what you&#39;re asking.\nIf the consumer can&#39;t keep up; you&#39;ll get lag.\nI don&#39;t know how you can expect the framework to help with that.","body":"It&#39;s not clear what you&#39;re asking. If the consumer can&#39;t keep up; you&#39;ll get lag. I don&#39;t know how you can expect the framework to help with that."},{"owner":{"account_id":82941,"reputation":1347,"user_id":232869,"accept_rate":56,"display_name":"Hans Sperker"},"score":0,"creation_date":1503670297,"post_id":45878103,"comment_id":78725232,"body_markdown":"Okay we managed to reproduce the problem in a more simplistic way and started to monitor with yourkit\n\nFor the configuration we have 4x the two components:\n- org.springframework.kafka.KafkaListenerEndpointContainer#0-x-kafka-listener-x\n- org.springframework.kafka.KafkaListenerEndpointContainer#0-x-kafka-consumer-x\n\nat some point in time one or more of the kafka-listeners are waiting indefinitely and their Threads stay in sun.misc.Unsafe.park(...) forever.\n\nThe question is why do they do that?\n\nIn my opinion even if the consumers are slow all the messages should be consumed eventually","body":"Okay we managed to reproduce the problem in a more simplistic way and started to monitor with yourkit  For the configuration we have 4x the two components: - org.springframework.kafka.KafkaListenerEndpointContainer#0-x&zwnj;&#8203;-kafka-listener-x - org.springframework.kafka.KafkaListenerEndpointContainer#0-x&zwnj;&#8203;-kafka-consumer-x  at some point in time one or more of the kafka-listeners are waiting indefinitely and their Threads stay in sun.misc.Unsafe.park(...) forever.  The question is why do they do that?  In my opinion even if the consumers are slow all the messages should be consumed eventually"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1503672983,"post_id":45878103,"comment_id":78727133,"body_markdown":"`Unsafe.park()` can be called from many places; you would need to examine the complete stack to see where things are really stuck; also, often, looking at static stacks won&#39;t help much; you might have to turn on debug logging to figure out what&#39;s going on.","body":"<code>Unsafe.park()</code> can be called from many places; you would need to examine the complete stack to see where things are really stuck; also, often, looking at static stacks won&#39;t help much; you might have to turn on debug logging to figure out what&#39;s going on."},{"owner":{"account_id":82941,"reputation":1347,"user_id":232869,"accept_rate":56,"display_name":"Hans Sperker"},"score":0,"creation_date":1503674055,"post_id":45878103,"comment_id":78727770,"body_markdown":"Thank you @GaryRussell, I added a Stacktrace to the question see CONT","body":"Thank you @GaryRussell, I added a Stacktrace to the question see CONT"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1503675038,"post_id":45878103,"comment_id":78728385,"body_markdown":"As I said; static analysis of stacks is often not enough; all that shows is the listener threads are waiting for data from the kafka consumer threads; DEBUG logging should be your next step.","body":"As I said; static analysis of stacks is often not enough; all that shows is the listener threads are waiting for data from the kafka consumer threads; DEBUG logging should be your next step."},{"owner":{"account_id":82941,"reputation":1347,"user_id":232869,"accept_rate":56,"display_name":"Hans Sperker"},"score":0,"creation_date":1503993161,"post_id":45878103,"comment_id":78825289,"body_markdown":"Okay we have created a lot of DEBUG messages https://paste.ee/p/PJx0g but no clear evidence of the problem. Thread 24 (consumer -3) reads its last message here https://paste.ee/p/PJx0g#s=0&amp;l=4497 and thread 26 (consumer -0) here https://paste.ee/p/PJx0g#s=0&amp;l=4573. Both should consume further messages but start to get a lag.","body":"Okay we have created a lot of DEBUG messages <a href=\"https://paste.ee/p/PJx0g\" rel=\"nofollow noreferrer\">paste.ee/p/PJx0g</a> but no clear evidence of the problem. Thread 24 (consumer -3) reads its last message here <a href=\"https://paste.ee/p/PJx0g#s=0&amp;l=4497\" rel=\"nofollow noreferrer\">paste.ee/p/PJx0g#s=0&amp;l=4497</a> and thread 26 (consumer -0) here <a href=\"https://paste.ee/p/PJx0g#s=0&amp;l=4573\" rel=\"nofollow noreferrer\">paste.ee/p/PJx0g#s=0&amp;l=4573</a>. Both should consume further messages but start to get a lag."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1504014916,"post_id":45878103,"comment_id":78840107,"body_markdown":"Looks like it could be a bug in the kafka client&#39;s (or broker) pause/resume logic; we paused the consumer thread (`3-C-1`) at line 1290 (2 partitions) and resumed it at line 1647 but received no more data. The upcoming 1.3 release (currently 1.3.0.M2) has a simpler threading model, facilitated by KIP-62, where we no longer have to pause/resume the consumer with slow listeners.","body":"Looks like it could be a bug in the kafka client&#39;s (or broker) pause/resume logic; we paused the consumer thread (<code>3-C-1</code>) at line 1290 (2 partitions) and resumed it at line 1647 but received no more data. The upcoming 1.3 release (currently 1.3.0.M2) has a simpler threading model, facilitated by KIP-62, where we no longer have to pause/resume the consumer with slow listeners."},{"owner":{"account_id":1088658,"reputation":308,"user_id":5682944,"accept_rate":25,"display_name":"Victor Bouhnik"},"score":0,"creation_date":1515019614,"post_id":45878103,"comment_id":83147453,"body_markdown":"@GaryRussell, could you please elaborate or link to the source mentioning this problem? \nis it a known bug?\nwe&#39;re facing a similar problem.","body":"@GaryRussell, could you please elaborate or link to the source mentioning this problem?  is it a known bug? we&#39;re facing a similar problem."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1515020299,"post_id":45878103,"comment_id":83147655,"body_markdown":"I have no idea, sorry; I was just looking at their logs and I believe we are doing everything correctly. If you can upgrade to 1.3.2.RELEASE it has a much simpler threading model and doesn&#39;t need to pause/resume the consumer thanks to KIP-62.","body":"I have no idea, sorry; I was just looking at their logs and I believe we are doing everything correctly. If you can upgrade to 1.3.2.RELEASE it has a much simpler threading model and doesn&#39;t need to pause/resume the consumer thanks to KIP-62."},{"owner":{"account_id":82941,"reputation":1347,"user_id":232869,"accept_rate":56,"display_name":"Hans Sperker"},"score":0,"creation_date":1515078058,"post_id":45878103,"comment_id":83170845,"body_markdown":"@VictorBouhnik we unluckily did not find any solution yet. We will do a new load test in a couple of weeks with the updated Broker and sources and hope this will fix the problem since it is very hard to narrow down.","body":"@VictorBouhnik we unluckily did not find any solution yet. We will do a new load test in a couple of weeks with the updated Broker and sources and hope this will fix the problem since it is very hard to narrow down."},{"owner":{"account_id":1088658,"reputation":308,"user_id":5682944,"accept_rate":25,"display_name":"Victor Bouhnik"},"score":0,"creation_date":1517132421,"post_id":45878103,"comment_id":83962585,"body_markdown":"@GaryRussell thanks","body":"@GaryRussell thanks"}],"owner":{"account_id":82941,"reputation":1347,"user_id":232869,"accept_rate":56,"display_name":"Hans Sperker"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1666,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686172483,"creation_date":1503652344,"question_id":45878103,"body_markdown":"We are at the moment struggling with some difficulties concerning our Kafka setup and the consuming Java listeners.\r\n\r\n# Setup\r\n\r\nWe have three different components all together deployed as Spring Boot application in one Tomcat container, lets call them source, processor and sink.\r\n\r\n- The source is invoked via REST, ingests messages and produces Kafka messages for a topic A (with 9 partitions).\r\n- The processor consumes messages from Kafka topic A, enriches and filters them and finally produces Kafka messages for a second topic B (with 9 partitions).\r\n- The sink consumes messages from Kafka topic B and channels them to another system via REST call which is not performing very well.\r\n\r\nWe only have one Kafka Broker at the moment.\r\n\r\n# The Problem\r\n\r\nIf there is high pressure on the source in terms of a lot of REST calls to the first component the source - e.g. 1000 requests in 15 seconds - the downstream component processor processes all the created messages but the sink fails to consume some of them so the Kafka lag starts to grow (maybe because of the slow system to which the sink sends REST calls) and the consumer fails to handle them. \r\nBut they do exist in the topic (B in this case)!\r\n\r\nWe tried to handle this situation by trying to tune the parameters *session.timeout.ms* and *max.poll.records*, but without reaching a lag of 0 / consuming all messages in the sink.\r\n\r\nIn my opinion I thought that the consumer would handle every message or would at least log some error but non of that happens unfortunately.\r\n\r\nFurther, we mocked the system that gets called by the sink and is thus performing better and then the problems where getting better.\r\n\r\nOkay we managed to reproduce the problem in a more simplistic way and started to monitor the application with yourkit.\r\n\r\nFor the configuration below we have four times the two components:\r\n- org.springframework.kafka.KafkaListenerEndpointContainer#0-x-kafka-listener-x\r\n- org.springframework.kafka.KafkaListenerEndpointContainer#0-x-kafka-consumer-x\r\n\r\nat some point in time one or more of the kafka-listeners are waiting indefinitely and their Threads stay in sun.misc.Unsafe.park(...) forever.\r\n\r\nThe question is why do they do that?\r\n\r\nIn my opinion even if the consumers are slow, all the messages should be consumed eventually!\r\n\r\n\r\n# CONT\r\n\r\n    org.springframework.kafka.KafkaListenerEndpointContainer#0-0-kafka-listener-1 State: SLEEPING tid: 23\r\n    java.lang.Thread.sleep(long) Thread.java\r\n    de.foobar.eventing.business.GenericTopicConsumer.process(String, byte[]) GenericTopicConsumer.java:60\r\n    sun.reflect.GeneratedMethodAccessor7.invoke(Object, Object[])\r\n    sun.reflect.DelegatingMethodAccessorImpl.invoke(Object, Object[]) DelegatingMethodAccessorImpl.java:43\r\n    java.lang.reflect.Method.invoke(Object, Object[]) Method.java:498\r\n    org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(Object[]) InvocableHandlerMethod.java:180\r\n    org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(Message, Object[]) InvocableHandlerMethod.java:112\r\n    org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(Message, Object[]) HandlerAdapter.java:48\r\n    org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(Object, Acknowledgment, Message) MessagingMessageListenerAdapter.java:174\r\n    org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(ConsumerRecord, Acknowledgment) RecordMessagingMessageListenerAdapter.java:72\r\n    org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(Object, Acknowledgment) RecordMessagingMessageListenerAdapter.java:47\r\n    org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(ConsumerRecords) KafkaMessageListenerContainer.java:764\r\n    org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(ConsumerRecords) KafkaMessageListenerContainer.java:708\r\n    org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.access$2500(KafkaMessageListenerContainer$ListenerConsumer, ConsumerRecords) KafkaMessageListenerContainer.java:230\r\n    org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer$ListenerInvoker.run() KafkaMessageListenerContainer.java:975\r\n    java.util.concurrent.Executors$RunnableAdapter.call() Executors.java:511\r\n    java.util.concurrent.FutureTask.run() FutureTask.java:266\r\n    java.lang.Thread.run() Thread.java:745\r\n    \r\n    org.springframework.kafka.KafkaListenerEndpointContainer#0-1-kafka-listener-2 State: WAITING tid: 22\r\n    sun.misc.Unsafe.park(boolean, long) Unsafe.java\r\n    java.util.concurrent.locks.LockSupport.parkNanos(Object, long) LockSupport.java:215\r\n    java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(long) AbstractQueuedSynchronizer.java:2078\r\n    java.util.concurrent.LinkedBlockingQueue.poll(long, TimeUnit) LinkedBlockingQueue.java:467\r\n    org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer$ListenerInvoker.run() KafkaMessageListenerContainer.java:971\r\n    java.util.concurrent.Executors$RunnableAdapter.call() Executors.java:511\r\n    java.util.concurrent.FutureTask.run() FutureTask.java:266\r\n    java.lang.Thread.run() Thread.java:745\r\n    \r\n    org.springframework.kafka.KafkaListenerEndpointContainer#0-2-kafka-listener-1 State: WAITING tid: 24\r\n    sun.misc.Unsafe.park(boolean, long) Unsafe.java\r\n    java.util.concurrent.locks.LockSupport.parkNanos(Object, long) LockSupport.java:215\r\n    java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(long) AbstractQueuedSynchronizer.java:2078\r\n    java.util.concurrent.LinkedBlockingQueue.poll(long, TimeUnit) LinkedBlockingQueue.java:467\r\n    org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer$ListenerInvoker.run() KafkaMessageListenerContainer.java:971\r\n    java.util.concurrent.Executors$RunnableAdapter.call() Executors.java:511\r\n    java.util.concurrent.FutureTask.run() FutureTask.java:266\r\n    java.lang.Thread.run() Thread.java:745\r\n    \r\n    org.springframework.kafka.KafkaListenerEndpointContainer#0-3-kafka-listener-1 State: WAITING tid: 25\r\n    sun.misc.Unsafe.park(boolean, long) Unsafe.java\r\n    java.util.concurrent.locks.LockSupport.parkNanos(Object, long) LockSupport.java:215\r\n    java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(long) AbstractQueuedSynchronizer.java:2078\r\n    java.util.concurrent.LinkedBlockingQueue.poll(long, TimeUnit) LinkedBlockingQueue.java:467\r\n    org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer$ListenerInvoker.run() KafkaMessageListenerContainer.java:971\r\n    java.util.concurrent.Executors$RunnableAdapter.call() Executors.java:511\r\n    java.util.concurrent.FutureTask.run() FutureTask.java:266\r\n    java.lang.Thread.run() Thread.java:745\r\n\r\n\r\n# Configuration Blueprints used in all three consumers\r\n\r\n## Spring Integration XML\r\n\r\n    &lt;bean class=&quot;org.springframework.kafka.listener.config.ContainerProperties&quot;\r\n    \t\tid=&quot;containerProperties&quot;\r\n    \t\tc:topics=&quot;a_topic&quot;\r\n    \t\tp:ackMode=&quot;RECORD&quot;\r\n    \t\tp:ackOnError=&quot;false&quot; /&gt;\r\n    \r\n    &lt;bean class=&quot;org.springframework.kafka.listener.ConcurrentMessageListenerContainer&quot;\r\n    \t\tid=&quot;kafkaReceiverContainer&quot;\r\n    \t\tp:concurrency=&quot;4&quot;\r\n    \t\tc:consumerFactory-ref=&quot;consumerFactory&quot;\r\n    \t\tc:containerProperties-ref=&quot;containerProperties&quot; /&gt;\r\n    \r\n    &lt;int-kafka:message-driven-channel-adapter\r\n        listener-container=&quot;kafkaReceiverContainer&quot;\r\n        auto-startup=&quot;true&quot;\r\n        channel=&quot;kafkaInbound&quot;\r\n        phase=&quot;100&quot;\r\n        send-timeout=&quot;5000&quot; /&gt;\r\n\r\n## Java Config\r\n\r\n      @Bean\r\n      public ConsumerFactory&lt;String, byte[]&gt; consumerFactory() {\r\n        Map&lt;String, Object&gt; props = constructConsumerProperties();\r\n        return new DefaultKafkaConsumerFactory&lt;String, byte[]&gt;(props);\r\n      }\r\n      private Map&lt;String, Object&gt; constructConsumerProperties() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, this.brokerAddress); // Kafka broker URLs. Doesn&#39;t need to be a complete list of brokers\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, this.consumerGroupId); // Consumer Group ID. Must be unique for every app. Multiple instances must have same ID.\r\n        props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false); // We will use &quot;RECORD&quot; AckMode in the Spring Listener Container\r\n        props.put(ConsumerConfig.SESSION_TIMEOUT_MS_CONFIG, 30_000); // Timeout to detect failures when using Kafka&#39;s group management facilities\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ByteArrayDeserializer.class);\r\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;); // Start with the first message when a new consumer group (app) arrives at the topic\r\n        if (sslEnabled) {\r\n          props.put(CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, &quot;SSL&quot;);\r\n          props.put(&quot;ssl.keystore.location&quot;, System.getProperty(&quot;javax.net.ssl.keyStore&quot;));\r\n          props.put(&quot;ssl.keystore.password&quot;, System.getProperty(&quot;javax.net.ssl.keyStorePassword&quot;));\r\n        }\r\n        return props;\r\n      }\r\n\r\n#Used versions\r\n- Kafka Client Version 0.11.0.0\r\n- Spring Kafka 1.2.2.RELEASE\r\n- Spring Integration Kafka 2.1.0.RELEASE\r\n\r\n#server.properties\r\n\r\n    auto.create.topics.enable=false\r\n    auto.leader.rebalance.enable=true\r\n    background.threads=10\r\n    broker.id=10001\r\n    broker.id.generation.enable=false\r\n    compression.type=producer\r\n    connections.max.idle.ms=600000\r\n    controlled.shutdown.enable=true\r\n    controlled.shutdown.max.retries=3\r\n    controlled.shutdown.retry.backoff.ms=5000\r\n    controller.socket.timeout.ms=30000\r\n    default.replication.factor=1\r\n    delete.topic.enable=true\r\n    fetch.purgatory.purge.interval.requests=100\r\n    group.max.session.timeout.ms=30000\r\n    group.min.session.timeout.ms=6000\r\n    inter.broker.protocol.version=0.10.1.0\r\n    leader.imbalance.check.interval.seconds=300\r\n    leader.imbalance.per.broker.percentage=10\r\n    listeners=SSL://example-broker.biz:9092\r\n    log.cleaner.backoff.ms=15000\r\n    log.cleaner.dedupe.buffer.size=134217728\r\n    log.cleaner.delete.retention.ms=86400000\r\n    log.cleaner.enable=true\r\n    log.cleaner.io.buffer.load.factor=0.9\r\n    log.cleaner.io.buffer.size=524288\r\n    log.cleaner.io.max.bytes.per.second=1.7976931348623157E308\r\n    log.cleaner.min.cleanable.ratio=0.5\r\n    log.cleaner.threads=1\r\n    log.cleanup.policy=delete\r\n    log.dir=/srv/data/kafka/\r\n    log.index.interval.bytes=4096\r\n    log.index.size.max.bytes=10485760\r\n    log.message.format.version=0.10.1.0\r\n    log.preallocate=false\r\n    log.retention.bytes=-1\r\n    log.retention.check.interval.ms=300000\r\n    log.retention.hours=336\r\n    log.roll.hours=336\r\n    log.roll.jitter.hours=0\r\n    log.segment.bytes=1073741824\r\n    log.segment.delete.delay.ms=60000\r\n    max.connections.per.ip=2147483647\r\n    message.max.bytes=1000012\r\n    metrics.num.samples=2\r\n    metrics.sample.window.ms=30000\r\n    min.insync.replicas=1\r\n    num.io.threads=8\r\n    num.network.threads=8\r\n    num.partitions=3\r\n    num.recovery.threads.per.data.dir=1\r\n    num.replica.fetchers=1\r\n    offset.metadata.max.bytes=4096\r\n    offsets.commit.required.acks=-1\r\n    offsets.commit.timeout.ms=5000\r\n    offsets.load.buffer.size=5242880\r\n    offsets.retention.check.interval.ms=600000\r\n    offsets.retention.minutes=2880\r\n    offsets.topic.compression.codec=0\r\n    offsets.topic.num.partitions=50\r\n    offsets.topic.replication.factor=3\r\n    offsets.topic.segment.bytes=104857600\r\n    principal.builder.class=org.apache.kafka.common.security.auth.DefaultPrincipalBuilder\r\n    producer.purgatory.purge.interval.requests=100\r\n    queued.max.requests=16\r\n    quota.consumer.default=9223372036854775807\r\n    quota.producer.default=9223372036854775807\r\n    quota.window.num=11\r\n    quota.window.size.seconds=1\r\n    replica.fetch.backoff.ms=1000\r\n    replica.fetch.max.bytes=1048576\r\n    replica.fetch.min.bytes=1\r\n    replica.fetch.wait.max.ms=500\r\n    replica.high.watermark.checkpoint.interval.ms=5000\r\n    replica.lag.time.max.ms=10000\r\n    replica.socket.receive.buffer.bytes=65536\r\n    replica.socket.timeout.ms=30000\r\n    request.timeout.ms=30000\r\n    reserved.broker.max.id=100000\r\n    security.inter.broker.protocol=SSL\r\n    socket.receive.buffer.bytes=1048576\r\n    socket.request.max.bytes=104857600\r\n    socket.send.buffer.bytes=1048576\r\n    ssl.client.auth=required\r\n    ssl.enabled.protocols=TLSv1.2,TLSv1.1,TLSv1\r\n    ssl.key.password=...\r\n    ssl.keymanager.algorithm=SunX509\r\n    ssl.keystore.location=/srv/kafka/current/ssl/server.keystore.jks\r\n    ssl.keystore.password=...\r\n    ssl.keystore.type=JKS\r\n    ssl.protocol=TLS\r\n    ssl.trustmanager.algorithm=PKIX\r\n    ssl.truststore.location=/srv/kafka/current/ssl/server.truststore.jks\r\n    ssl.truststore.password=...\r\n    ssl.truststore.type=JKS\r\n    unclean.leader.election.enable=false\r\n    zookeeper.connect=localhost:2181\r\n    zookeeper.session.timeout.ms=6000\r\n    zookeeper.set.acl=false\r\n    zookeeper.sync.time.ms=2000\r\n\r\n\r\n","title":"Spring (Integration) Kafka Consumer fails to consume all messages if under back pressure","body":"<p>We are at the moment struggling with some difficulties concerning our Kafka setup and the consuming Java listeners.</p>\n<h1>Setup</h1>\n<p>We have three different components all together deployed as Spring Boot application in one Tomcat container, lets call them source, processor and sink.</p>\n<ul>\n<li>The source is invoked via REST, ingests messages and produces Kafka messages for a topic A (with 9 partitions).</li>\n<li>The processor consumes messages from Kafka topic A, enriches and filters them and finally produces Kafka messages for a second topic B (with 9 partitions).</li>\n<li>The sink consumes messages from Kafka topic B and channels them to another system via REST call which is not performing very well.</li>\n</ul>\n<p>We only have one Kafka Broker at the moment.</p>\n<h1>The Problem</h1>\n<p>If there is high pressure on the source in terms of a lot of REST calls to the first component the source - e.g. 1000 requests in 15 seconds - the downstream component processor processes all the created messages but the sink fails to consume some of them so the Kafka lag starts to grow (maybe because of the slow system to which the sink sends REST calls) and the consumer fails to handle them.\nBut they do exist in the topic (B in this case)!</p>\n<p>We tried to handle this situation by trying to tune the parameters <em>session.timeout.ms</em> and <em>max.poll.records</em>, but without reaching a lag of 0 / consuming all messages in the sink.</p>\n<p>In my opinion I thought that the consumer would handle every message or would at least log some error but non of that happens unfortunately.</p>\n<p>Further, we mocked the system that gets called by the sink and is thus performing better and then the problems where getting better.</p>\n<p>Okay we managed to reproduce the problem in a more simplistic way and started to monitor the application with yourkit.</p>\n<p>For the configuration below we have four times the two components:</p>\n<ul>\n<li>org.springframework.kafka.KafkaListenerEndpointContainer#0-x-kafka-listener-x</li>\n<li>org.springframework.kafka.KafkaListenerEndpointContainer#0-x-kafka-consumer-x</li>\n</ul>\n<p>at some point in time one or more of the kafka-listeners are waiting indefinitely and their Threads stay in sun.misc.Unsafe.park(...) forever.</p>\n<p>The question is why do they do that?</p>\n<p>In my opinion even if the consumers are slow, all the messages should be consumed eventually!</p>\n<h1>CONT</h1>\n<pre><code>org.springframework.kafka.KafkaListenerEndpointContainer#0-0-kafka-listener-1 State: SLEEPING tid: 23\njava.lang.Thread.sleep(long) Thread.java\nde.foobar.eventing.business.GenericTopicConsumer.process(String, byte[]) GenericTopicConsumer.java:60\nsun.reflect.GeneratedMethodAccessor7.invoke(Object, Object[])\nsun.reflect.DelegatingMethodAccessorImpl.invoke(Object, Object[]) DelegatingMethodAccessorImpl.java:43\njava.lang.reflect.Method.invoke(Object, Object[]) Method.java:498\norg.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(Object[]) InvocableHandlerMethod.java:180\norg.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(Message, Object[]) InvocableHandlerMethod.java:112\norg.springframework.kafka.listener.adapter.HandlerAdapter.invoke(Message, Object[]) HandlerAdapter.java:48\norg.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(Object, Acknowledgment, Message) MessagingMessageListenerAdapter.java:174\norg.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(ConsumerRecord, Acknowledgment) RecordMessagingMessageListenerAdapter.java:72\norg.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(Object, Acknowledgment) RecordMessagingMessageListenerAdapter.java:47\norg.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(ConsumerRecords) KafkaMessageListenerContainer.java:764\norg.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(ConsumerRecords) KafkaMessageListenerContainer.java:708\norg.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.access$2500(KafkaMessageListenerContainer$ListenerConsumer, ConsumerRecords) KafkaMessageListenerContainer.java:230\norg.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer$ListenerInvoker.run() KafkaMessageListenerContainer.java:975\njava.util.concurrent.Executors$RunnableAdapter.call() Executors.java:511\njava.util.concurrent.FutureTask.run() FutureTask.java:266\njava.lang.Thread.run() Thread.java:745\n\norg.springframework.kafka.KafkaListenerEndpointContainer#0-1-kafka-listener-2 State: WAITING tid: 22\nsun.misc.Unsafe.park(boolean, long) Unsafe.java\njava.util.concurrent.locks.LockSupport.parkNanos(Object, long) LockSupport.java:215\njava.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(long) AbstractQueuedSynchronizer.java:2078\njava.util.concurrent.LinkedBlockingQueue.poll(long, TimeUnit) LinkedBlockingQueue.java:467\norg.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer$ListenerInvoker.run() KafkaMessageListenerContainer.java:971\njava.util.concurrent.Executors$RunnableAdapter.call() Executors.java:511\njava.util.concurrent.FutureTask.run() FutureTask.java:266\njava.lang.Thread.run() Thread.java:745\n\norg.springframework.kafka.KafkaListenerEndpointContainer#0-2-kafka-listener-1 State: WAITING tid: 24\nsun.misc.Unsafe.park(boolean, long) Unsafe.java\njava.util.concurrent.locks.LockSupport.parkNanos(Object, long) LockSupport.java:215\njava.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(long) AbstractQueuedSynchronizer.java:2078\njava.util.concurrent.LinkedBlockingQueue.poll(long, TimeUnit) LinkedBlockingQueue.java:467\norg.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer$ListenerInvoker.run() KafkaMessageListenerContainer.java:971\njava.util.concurrent.Executors$RunnableAdapter.call() Executors.java:511\njava.util.concurrent.FutureTask.run() FutureTask.java:266\njava.lang.Thread.run() Thread.java:745\n\norg.springframework.kafka.KafkaListenerEndpointContainer#0-3-kafka-listener-1 State: WAITING tid: 25\nsun.misc.Unsafe.park(boolean, long) Unsafe.java\njava.util.concurrent.locks.LockSupport.parkNanos(Object, long) LockSupport.java:215\njava.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(long) AbstractQueuedSynchronizer.java:2078\njava.util.concurrent.LinkedBlockingQueue.poll(long, TimeUnit) LinkedBlockingQueue.java:467\norg.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer$ListenerInvoker.run() KafkaMessageListenerContainer.java:971\njava.util.concurrent.Executors$RunnableAdapter.call() Executors.java:511\njava.util.concurrent.FutureTask.run() FutureTask.java:266\njava.lang.Thread.run() Thread.java:745\n</code></pre>\n<h1>Configuration Blueprints used in all three consumers</h1>\n<h2>Spring Integration XML</h2>\n<pre><code>&lt;bean class=&quot;org.springframework.kafka.listener.config.ContainerProperties&quot;\n        id=&quot;containerProperties&quot;\n        c:topics=&quot;a_topic&quot;\n        p:ackMode=&quot;RECORD&quot;\n        p:ackOnError=&quot;false&quot; /&gt;\n\n&lt;bean class=&quot;org.springframework.kafka.listener.ConcurrentMessageListenerContainer&quot;\n        id=&quot;kafkaReceiverContainer&quot;\n        p:concurrency=&quot;4&quot;\n        c:consumerFactory-ref=&quot;consumerFactory&quot;\n        c:containerProperties-ref=&quot;containerProperties&quot; /&gt;\n\n&lt;int-kafka:message-driven-channel-adapter\n    listener-container=&quot;kafkaReceiverContainer&quot;\n    auto-startup=&quot;true&quot;\n    channel=&quot;kafkaInbound&quot;\n    phase=&quot;100&quot;\n    send-timeout=&quot;5000&quot; /&gt;\n</code></pre>\n<h2>Java Config</h2>\n<pre><code>  @Bean\n  public ConsumerFactory&lt;String, byte[]&gt; consumerFactory() {\n    Map&lt;String, Object&gt; props = constructConsumerProperties();\n    return new DefaultKafkaConsumerFactory&lt;String, byte[]&gt;(props);\n  }\n  private Map&lt;String, Object&gt; constructConsumerProperties() {\n    Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n    props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, this.brokerAddress); // Kafka broker URLs. Doesn't need to be a complete list of brokers\n    props.put(ConsumerConfig.GROUP_ID_CONFIG, this.consumerGroupId); // Consumer Group ID. Must be unique for every app. Multiple instances must have same ID.\n    props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false); // We will use &quot;RECORD&quot; AckMode in the Spring Listener Container\n    props.put(ConsumerConfig.SESSION_TIMEOUT_MS_CONFIG, 30_000); // Timeout to detect failures when using Kafka's group management facilities\n    props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n    props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ByteArrayDeserializer.class);\n    props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;); // Start with the first message when a new consumer group (app) arrives at the topic\n    if (sslEnabled) {\n      props.put(CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, &quot;SSL&quot;);\n      props.put(&quot;ssl.keystore.location&quot;, System.getProperty(&quot;javax.net.ssl.keyStore&quot;));\n      props.put(&quot;ssl.keystore.password&quot;, System.getProperty(&quot;javax.net.ssl.keyStorePassword&quot;));\n    }\n    return props;\n  }\n</code></pre>\n<p>#Used versions</p>\n<ul>\n<li>Kafka Client Version 0.11.0.0</li>\n<li>Spring Kafka 1.2.2.RELEASE</li>\n<li>Spring Integration Kafka 2.1.0.RELEASE</li>\n</ul>\n<p>#server.properties</p>\n<pre><code>auto.create.topics.enable=false\nauto.leader.rebalance.enable=true\nbackground.threads=10\nbroker.id=10001\nbroker.id.generation.enable=false\ncompression.type=producer\nconnections.max.idle.ms=600000\ncontrolled.shutdown.enable=true\ncontrolled.shutdown.max.retries=3\ncontrolled.shutdown.retry.backoff.ms=5000\ncontroller.socket.timeout.ms=30000\ndefault.replication.factor=1\ndelete.topic.enable=true\nfetch.purgatory.purge.interval.requests=100\ngroup.max.session.timeout.ms=30000\ngroup.min.session.timeout.ms=6000\ninter.broker.protocol.version=0.10.1.0\nleader.imbalance.check.interval.seconds=300\nleader.imbalance.per.broker.percentage=10\nlisteners=SSL://example-broker.biz:9092\nlog.cleaner.backoff.ms=15000\nlog.cleaner.dedupe.buffer.size=134217728\nlog.cleaner.delete.retention.ms=86400000\nlog.cleaner.enable=true\nlog.cleaner.io.buffer.load.factor=0.9\nlog.cleaner.io.buffer.size=524288\nlog.cleaner.io.max.bytes.per.second=1.7976931348623157E308\nlog.cleaner.min.cleanable.ratio=0.5\nlog.cleaner.threads=1\nlog.cleanup.policy=delete\nlog.dir=/srv/data/kafka/\nlog.index.interval.bytes=4096\nlog.index.size.max.bytes=10485760\nlog.message.format.version=0.10.1.0\nlog.preallocate=false\nlog.retention.bytes=-1\nlog.retention.check.interval.ms=300000\nlog.retention.hours=336\nlog.roll.hours=336\nlog.roll.jitter.hours=0\nlog.segment.bytes=1073741824\nlog.segment.delete.delay.ms=60000\nmax.connections.per.ip=2147483647\nmessage.max.bytes=1000012\nmetrics.num.samples=2\nmetrics.sample.window.ms=30000\nmin.insync.replicas=1\nnum.io.threads=8\nnum.network.threads=8\nnum.partitions=3\nnum.recovery.threads.per.data.dir=1\nnum.replica.fetchers=1\noffset.metadata.max.bytes=4096\noffsets.commit.required.acks=-1\noffsets.commit.timeout.ms=5000\noffsets.load.buffer.size=5242880\noffsets.retention.check.interval.ms=600000\noffsets.retention.minutes=2880\noffsets.topic.compression.codec=0\noffsets.topic.num.partitions=50\noffsets.topic.replication.factor=3\noffsets.topic.segment.bytes=104857600\nprincipal.builder.class=org.apache.kafka.common.security.auth.DefaultPrincipalBuilder\nproducer.purgatory.purge.interval.requests=100\nqueued.max.requests=16\nquota.consumer.default=9223372036854775807\nquota.producer.default=9223372036854775807\nquota.window.num=11\nquota.window.size.seconds=1\nreplica.fetch.backoff.ms=1000\nreplica.fetch.max.bytes=1048576\nreplica.fetch.min.bytes=1\nreplica.fetch.wait.max.ms=500\nreplica.high.watermark.checkpoint.interval.ms=5000\nreplica.lag.time.max.ms=10000\nreplica.socket.receive.buffer.bytes=65536\nreplica.socket.timeout.ms=30000\nrequest.timeout.ms=30000\nreserved.broker.max.id=100000\nsecurity.inter.broker.protocol=SSL\nsocket.receive.buffer.bytes=1048576\nsocket.request.max.bytes=104857600\nsocket.send.buffer.bytes=1048576\nssl.client.auth=required\nssl.enabled.protocols=TLSv1.2,TLSv1.1,TLSv1\nssl.key.password=...\nssl.keymanager.algorithm=SunX509\nssl.keystore.location=/srv/kafka/current/ssl/server.keystore.jks\nssl.keystore.password=...\nssl.keystore.type=JKS\nssl.protocol=TLS\nssl.trustmanager.algorithm=PKIX\nssl.truststore.location=/srv/kafka/current/ssl/server.truststore.jks\nssl.truststore.password=...\nssl.truststore.type=JKS\nunclean.leader.election.enable=false\nzookeeper.connect=localhost:2181\nzookeeper.session.timeout.ms=6000\nzookeeper.set.acl=false\nzookeeper.sync.time.ms=2000\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data","couchbase","spring-data-couchbase"],"answers":[{"tags":[],"owner":{"account_id":1029909,"reputation":364,"user_id":5228155,"display_name":"mn_test347"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686171925,"creation_date":1686171925,"answer_id":76427107,"question_id":73954703,"body_markdown":"bucket.defaultCollection().remove(id)\r\n\r\nThe collection that is equivalent to the bucket is bucket.defaultCollection()","title":"How to replicate the functionality of remove a document from a CouchBase DB Bucket identified by its ID in Spring Boot?","body":"<p>bucket.defaultCollection().remove(id)</p>\n<p>The collection that is equivalent to the bucket is bucket.defaultCollection()</p>\n"}],"owner":{"account_id":1171454,"reputation":450,"user_id":1148552,"accept_rate":67,"display_name":"Gehan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686171925,"creation_date":1664927791,"question_id":73954703,"body_markdown":"We are currently using Spring Boot 2.2.13 version with java 1.8-based dependencies. We are upgrading to Spring Boot version 2.7.3. with Java 17 support.\r\n\r\nThe current development uses CouchbaseClient.In the newer versions we hope to migrate, some functionality seems to be removed. I am specifically having an issue with replacing the below-mentioned functionality provided in (com.couchbase.client.java.Bucket) previously.\r\n\r\nHow could I replicate the functionality to Remove a {@link Document} from the Server identified by its ID in the newer version? Is there a possible alternative method that could be used for such a scenario?\r\n\r\n    import com.couchbase.client.java.Bucket;\r\n    import com.couchbase.client.java.document.JsonDocument;\r\n    import com.couchbase.client.java.document.json.JsonArray;\r\n    import com.couchbase.client.java.document.json.JsonObject;\r\n    \r\n    import com.couchbase.client.java.query.N1qlQuery;\r\n    import com.couchbase.client.java.query.N1qlQueryResult;\r\n    import com.couchbase.client.java.query.N1qlQueryRow;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.core.io.Resource;\r\n    import org.springframework.core.io.ResourceLoader;\r\n    import org.springframework.core.io.support.ResourcePatternUtils;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.util.FileCopyUtils;\r\n    \r\n    import com.acme.dto.configuration.ConfigEnvironment;\r\n    import com.acme.dto.configuration.ConfigurationStatus;\r\n    import com.acme.dto.configuration.LoadDbConfigurationResponseDTO;\r\n    import com.acme.exception.ErrorCodes;\r\n    import com.acme.exception.ServiceRuntimeException;\r\n    \r\n    import java.io.InputStream;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.Iterator;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    @Component\r\n    @Slf4j\r\n    public class DBDocumentLoader extends DBConfigurationChain{\r\n    \r\n        @Autowired\r\n        private ResourceLoader resourceLoader;\r\n    \r\n        @Value(&quot;${configuration.resource.db.root}&quot;)\r\n        private String dbConfigurationRoot;\r\n    \r\n        @Autowired\r\n        private Bucket couchbaseBucket;\r\n    \r\n        @Autowired\r\n        private Bucket masterConfigurationBucket;\r\n    \r\n        private Bucket defaultBucket;\r\n        int successDocumentCount;\r\n        int failDocumentCount;\r\n    \r\n        @Override\r\n        public DBConfigurationLogicData process(DBConfigurationLogicData logicData) {\r\n    \r\n            log.info(&quot;Load Document process START&quot;);\r\n            defaultBucket = getDefaultBucket(logicData.getRequestDTO().getBucketName());\r\n    \r\n            if(defaultBucket == null){\r\n                throw new ServiceRuntimeException(ErrorCodes.Constants.DB_CONFIGURATION_NOT_SUPPORT_BUCKET);\r\n            }\r\n            log.info(&quot;BUCKET : &quot;+logicData.getRequestDTO().getBucketName());\r\n            Resource[] resources = loadResources(logicData.getRequestDTO().getEnv());\r\n            if(resources != null &amp;&amp; resources.length &gt; 0){\r\n    \r\n                log.info(&quot;Resources found. Count : &quot;+resources.length);\r\n                log.info(&quot;Flushing bucket &quot;+logicData.getRequestDTO().getBucketName());\r\n                \r\n                if(!flushBucket())\r\n                    throw new ServiceRuntimeException(ErrorCodes.Constants.DB_CONFIGURATION_BUCKET_FLUSH_FAIL);\r\n                log.info(&quot;Bucket &quot;+logicData.getRequestDTO().getBucketName() + &quot;flushed&quot;);\r\n    \r\n                processAvailableResources(resources);\r\n    \r\n                log.info(&quot;Success resource count : &quot;+successDocumentCount +&quot;\\n&quot;+&quot;Failed resource count : &quot;+failDocumentCount +&quot;\\n&quot;);\r\n    \r\n                setResponseDTO(logicData);\r\n            }else{\r\n                throw new ServiceRuntimeException(ErrorCodes.Constants.DB_CONFIGURATION_NO_RESOURCE);\r\n            }\r\n    \r\n            return super.process(logicData);\r\n        }\r\n    \r\n        private boolean flushBucket(){\r\n    \r\n            try {\r\n    \r\n                final String bucketName = &quot;`&quot;+defaultBucket.name()+&quot;`&quot;;\r\n                String query = &quot;SELECT &quot; + &quot;META(&quot; + bucketName + &quot;).id FROM &quot; + bucketName;\r\n                N1qlQueryResult result = defaultBucket.query(N1qlQuery.simple(query), 1, TimeUnit.MINUTES);\r\n    \r\n                final boolean isSuccess = result.finalSuccess();\r\n                if (isSuccess &amp;&amp; !result.allRows().isEmpty()) {\r\n                    Iterator&lt;N1qlQueryRow&gt; rows = result.rows();\r\n    \r\n                    while (rows.hasNext()) {\r\n                        JsonObject jsonObject = rows.next().value();\r\n                        if (jsonObject.containsKey(&quot;id&quot;)) {\r\n                            defaultBucket.remove(jsonObject.getString(&quot;id&quot;));  ***//Depricated functionality that needs to be replaced***\r\n                        }\r\n                    }\r\n                }\r\n                return true;\r\n            }catch (Exception ex){\r\n                log.error(&quot;Error in DBDocumentLoader-flushBucket&quot;,ex);\r\n            }\r\n    \r\n            return false;\r\n        }\r\n    \r\n    }\r\n\r\nOld API - https://docs.couchbase.com/sdk-api/couchbase-java-client-2.4.1/com/couchbase/client/java/Bucket.html\r\n\r\nNew API - https://docs.couchbase.com/sdk-api/couchbase-java-client/com/couchbase/client/java/Bucket.html","title":"How to replicate the functionality of remove a document from a CouchBase DB Bucket identified by its ID in Spring Boot?","body":"<p>We are currently using Spring Boot 2.2.13 version with java 1.8-based dependencies. We are upgrading to Spring Boot version 2.7.3. with Java 17 support.</p>\n<p>The current development uses CouchbaseClient.In the newer versions we hope to migrate, some functionality seems to be removed. I am specifically having an issue with replacing the below-mentioned functionality provided in (com.couchbase.client.java.Bucket) previously.</p>\n<p>How could I replicate the functionality to Remove a {@link Document} from the Server identified by its ID in the newer version? Is there a possible alternative method that could be used for such a scenario?</p>\n<pre><code>import com.couchbase.client.java.Bucket;\nimport com.couchbase.client.java.document.JsonDocument;\nimport com.couchbase.client.java.document.json.JsonArray;\nimport com.couchbase.client.java.document.json.JsonObject;\n\nimport com.couchbase.client.java.query.N1qlQuery;\nimport com.couchbase.client.java.query.N1qlQueryResult;\nimport com.couchbase.client.java.query.N1qlQueryRow;\nimport lombok.extern.slf4j.Slf4j;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.core.io.Resource;\nimport org.springframework.core.io.ResourceLoader;\nimport org.springframework.core.io.support.ResourcePatternUtils;\nimport org.springframework.stereotype.Component;\nimport org.springframework.util.FileCopyUtils;\n\nimport com.acme.dto.configuration.ConfigEnvironment;\nimport com.acme.dto.configuration.ConfigurationStatus;\nimport com.acme.dto.configuration.LoadDbConfigurationResponseDTO;\nimport com.acme.exception.ErrorCodes;\nimport com.acme.exception.ServiceRuntimeException;\n\nimport java.io.InputStream;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Iterator;\nimport java.util.concurrent.TimeUnit;\n\n@Component\n@Slf4j\npublic class DBDocumentLoader extends DBConfigurationChain{\n\n    @Autowired\n    private ResourceLoader resourceLoader;\n\n    @Value(&quot;${configuration.resource.db.root}&quot;)\n    private String dbConfigurationRoot;\n\n    @Autowired\n    private Bucket couchbaseBucket;\n\n    @Autowired\n    private Bucket masterConfigurationBucket;\n\n    private Bucket defaultBucket;\n    int successDocumentCount;\n    int failDocumentCount;\n\n    @Override\n    public DBConfigurationLogicData process(DBConfigurationLogicData logicData) {\n\n        log.info(&quot;Load Document process START&quot;);\n        defaultBucket = getDefaultBucket(logicData.getRequestDTO().getBucketName());\n\n        if(defaultBucket == null){\n            throw new ServiceRuntimeException(ErrorCodes.Constants.DB_CONFIGURATION_NOT_SUPPORT_BUCKET);\n        }\n        log.info(&quot;BUCKET : &quot;+logicData.getRequestDTO().getBucketName());\n        Resource[] resources = loadResources(logicData.getRequestDTO().getEnv());\n        if(resources != null &amp;&amp; resources.length &gt; 0){\n\n            log.info(&quot;Resources found. Count : &quot;+resources.length);\n            log.info(&quot;Flushing bucket &quot;+logicData.getRequestDTO().getBucketName());\n            \n            if(!flushBucket())\n                throw new ServiceRuntimeException(ErrorCodes.Constants.DB_CONFIGURATION_BUCKET_FLUSH_FAIL);\n            log.info(&quot;Bucket &quot;+logicData.getRequestDTO().getBucketName() + &quot;flushed&quot;);\n\n            processAvailableResources(resources);\n\n            log.info(&quot;Success resource count : &quot;+successDocumentCount +&quot;\\n&quot;+&quot;Failed resource count : &quot;+failDocumentCount +&quot;\\n&quot;);\n\n            setResponseDTO(logicData);\n        }else{\n            throw new ServiceRuntimeException(ErrorCodes.Constants.DB_CONFIGURATION_NO_RESOURCE);\n        }\n\n        return super.process(logicData);\n    }\n\n    private boolean flushBucket(){\n\n        try {\n\n            final String bucketName = &quot;`&quot;+defaultBucket.name()+&quot;`&quot;;\n            String query = &quot;SELECT &quot; + &quot;META(&quot; + bucketName + &quot;).id FROM &quot; + bucketName;\n            N1qlQueryResult result = defaultBucket.query(N1qlQuery.simple(query), 1, TimeUnit.MINUTES);\n\n            final boolean isSuccess = result.finalSuccess();\n            if (isSuccess &amp;&amp; !result.allRows().isEmpty()) {\n                Iterator&lt;N1qlQueryRow&gt; rows = result.rows();\n\n                while (rows.hasNext()) {\n                    JsonObject jsonObject = rows.next().value();\n                    if (jsonObject.containsKey(&quot;id&quot;)) {\n                        defaultBucket.remove(jsonObject.getString(&quot;id&quot;));  ***//Depricated functionality that needs to be replaced***\n                    }\n                }\n            }\n            return true;\n        }catch (Exception ex){\n            log.error(&quot;Error in DBDocumentLoader-flushBucket&quot;,ex);\n        }\n\n        return false;\n    }\n\n}\n</code></pre>\n<p>Old API - <a href=\"https://docs.couchbase.com/sdk-api/couchbase-java-client-2.4.1/com/couchbase/client/java/Bucket.html\" rel=\"nofollow noreferrer\">https://docs.couchbase.com/sdk-api/couchbase-java-client-2.4.1/com/couchbase/client/java/Bucket.html</a></p>\n<p>New API - <a href=\"https://docs.couchbase.com/sdk-api/couchbase-java-client/com/couchbase/client/java/Bucket.html\" rel=\"nofollow noreferrer\">https://docs.couchbase.com/sdk-api/couchbase-java-client/com/couchbase/client/java/Bucket.html</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1686170634,"post_id":76426987,"comment_id":134764283,"body_markdown":"Show the actual commands you ran, including all the arguments.","body":"Show the actual commands you ran, including all the arguments."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1686171612,"post_id":76426987,"comment_id":134764468,"body_markdown":"I&#39;d recommend using Maven/Gradle to package and run your code, rather than `javac` manual compilation and running","body":"I&#39;d recommend using Maven/Gradle to package and run your code, rather than <code>javac</code> manual compilation and running"}],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686171431,"creation_date":1686171431,"answer_id":76427073,"question_id":76426987,"body_markdown":"Looks like `ClientHandler` is not an standard library class, it&#39;s either written by you class, either a class from some library. In the first case please don&#39;t forget to include all source directories to javac command line as `-sourcepath` (more information for example [here][1]). In the second case don&#39;t forget to include dependency library as classpath via `-cp` (more information for example [here][2])\r\n\r\n\r\n  [1]: https://www.baeldung.com/javac-compile-classes-directory\r\n  [2]: https://stackoverflow.com/questions/9091733/how-do-i-compile-a-java-file-that-has-jar-dependencies","title":"Java work on intelliJ but don&#39;t work in console terminal","body":"<p>Looks like <code>ClientHandler</code> is not an standard library class, it's either written by you class, either a class from some library. In the first case please don't forget to include all source directories to javac command line as <code>-sourcepath</code> (more information for example <a href=\"https://www.baeldung.com/javac-compile-classes-directory\" rel=\"nofollow noreferrer\">here</a>). In the second case don't forget to include dependency library as classpath via <code>-cp</code> (more information for example <a href=\"https://stackoverflow.com/questions/9091733/how-do-i-compile-a-java-file-that-has-jar-dependencies\">here</a>)</p>\n"}],"owner":{"account_id":26115438,"reputation":15,"user_id":19808657,"display_name":"Lorenzo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":76427073,"answer_count":1,"score":-3,"last_activity_date":1686171431,"creation_date":1686170510,"question_id":76426987,"body_markdown":"I tried to run my code on terminal, but when i try to do that appear an error like that:\r\n\r\n```\r\njavac .\\Server.java.\\Server.java:27: error: cannot find symbol\r\n                ClientHandler clientHandler = new ClientHandler(socket);\r\n                ^\r\n  symbol:   class ClientHandler\r\n  location: class Server\r\n.\\Server.java:27: error: cannot find symbol\r\n                ClientHandler clientHandler = new ClientHandler(socket);\r\n                                                  ^\r\n  symbol:   class ClientHandler\r\n  location: class Server\r\n2 errors\r\n```\r\nI tried with java, javac, java -jar, java -cp, java -classpath command too.\r\nAll not work!\r\n","title":"Java work on intelliJ but don&#39;t work in console terminal","body":"<p>I tried to run my code on terminal, but when i try to do that appear an error like that:</p>\n<pre><code>javac .\\Server.java.\\Server.java:27: error: cannot find symbol\n                ClientHandler clientHandler = new ClientHandler(socket);\n                ^\n  symbol:   class ClientHandler\n  location: class Server\n.\\Server.java:27: error: cannot find symbol\n                ClientHandler clientHandler = new ClientHandler(socket);\n                                                  ^\n  symbol:   class ClientHandler\n  location: class Server\n2 errors\n</code></pre>\n<p>I tried with java, javac, java -jar, java -cp, java -classpath command too.\nAll not work!</p>\n"},{"tags":["java","spring","spring-boot","mongock"],"answers":[{"comments":[{"owner":{"account_id":17889056,"reputation":1273,"user_id":12995983,"display_name":"Mongock team"},"score":0,"creation_date":1686257960,"post_id":76427039,"comment_id":134778252,"body_markdown":"Thanks for asking(and answering). Your workaround seems to work fine. Anyway, we are adding it to our roadmap for our next major release. Thanks.","body":"Thanks for asking(and answering). Your workaround seems to work fine. Anyway, we are adding it to our roadmap for our next major release. Thanks."}],"tags":[],"owner":{"account_id":1009321,"reputation":10671,"user_id":1022260,"accept_rate":53,"display_name":"mikeb"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686171073,"creation_date":1686171073,"answer_id":76427039,"question_id":76424710,"body_markdown":"Turns out to do this we can&#39;t use the annotation configuration, we need to use the Mongock initializing bean and create it in a `@Bean`, name it, and then we can use `DependsOn(&#39;mongock&#39;)` for dependent beans:\r\n\r\nNote that this is Kotlin...\r\n\r\n```\r\n@Configuration\r\nclass MongockConfiguration {\r\n    @Bean(&quot;mongock&quot;)\r\n    fun mongockInitializingBeanRunner(\r\n        mongoTemplate: MongoTemplate,\r\n        applicationContext: ApplicationContext\r\n    ): MongockInitializingBeanRunner {\r\n        return MongockSpringboot.builder()\r\n            .setDriver(SpringDataMongoV4Driver.withDefaultLock(mongoTemplate))\r\n            .addMigrationScanPackage(&quot;come.package.changelog&quot;)\r\n            .setSpringContext(applicationContext)\r\n            .buildInitializingBeanRunner();\r\n    }\r\n}\r\n```","title":"Mongock spring-boot delay bean creation until Mongock is done","body":"<p>Turns out to do this we can't use the annotation configuration, we need to use the Mongock initializing bean and create it in a <code>@Bean</code>, name it, and then we can use <code>DependsOn('mongock')</code> for dependent beans:</p>\n<p>Note that this is Kotlin...</p>\n<pre><code>@Configuration\nclass MongockConfiguration {\n    @Bean(&quot;mongock&quot;)\n    fun mongockInitializingBeanRunner(\n        mongoTemplate: MongoTemplate,\n        applicationContext: ApplicationContext\n    ): MongockInitializingBeanRunner {\n        return MongockSpringboot.builder()\n            .setDriver(SpringDataMongoV4Driver.withDefaultLock(mongoTemplate))\n            .addMigrationScanPackage(&quot;come.package.changelog&quot;)\n            .setSpringContext(applicationContext)\n            .buildInitializingBeanRunner();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1009321,"reputation":10671,"user_id":1022260,"accept_rate":53,"display_name":"mikeb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76427039,"answer_count":1,"score":0,"last_activity_date":1686171073,"creation_date":1686150375,"question_id":76424710,"body_markdown":"With liquibase and Spring Boot I can do `@DependsOn(&quot;liquibase&quot;)` to wait when I have a `@Bean` creating method. This lets me create beans that depend on initialization data.\r\n\r\nHow do I do this in mongock?\r\n\r\nI saw this question but I need to order the bean creation in the context, not force the context to wait on the mongock init to happen before being complete...","title":"Mongock spring-boot delay bean creation until Mongock is done","body":"<p>With liquibase and Spring Boot I can do <code>@DependsOn(&quot;liquibase&quot;)</code> to wait when I have a <code>@Bean</code> creating method. This lets me create beans that depend on initialization data.</p>\n<p>How do I do this in mongock?</p>\n<p>I saw this question but I need to order the bean creation in the context, not force the context to wait on the mongock init to happen before being complete...</p>\n"},{"tags":["java","jib"],"owner":{"account_id":193479,"reputation":273,"user_id":435239,"accept_rate":50,"display_name":"Dark Defender"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686171071,"creation_date":1686171071,"question_id":76427038,"body_markdown":"I&#39;m studying Docker and image creation with JIB Maven plugin for Java applications. \r\n\r\n- The image is created successfully. \r\n\r\n- I create and run a container from the image. Success - the Web app starts fine.\r\n\r\n- I try to access the initial page of the Web app (login page). Success.\r\n\r\n- But when I do the login, the next JSP (welcome page) is not found (HTTP 404). I suspect that the JSPs from the application are not being copied to the image, hence the error.\r\n\r\nWhy is that? Is there any additional configuration to put on JIB?\r\n\r\nWhen I run the application from Eclipse, it works just fine.\r\n\r\n* The web application was created with Spring Boot and is packaged on JAR.\r\n\r\nHere is my JIB config:\r\n\r\n    &lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.3.1&lt;/version&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n\t\t\t\t    &lt;from&gt;\r\n\t\t\t\t        &lt;image&gt;openjdk:alpine&lt;/image&gt;\r\n\t\t\t\t    &lt;/from&gt;\r\n\t\t\t\t    &lt;to&gt;\r\n\t\t\t\t        &lt;image&gt;${project.name}:${project.version}&lt;/image&gt;\r\n\t\t\t\t    &lt;/to&gt;\r\n    \t\t\t\t&lt;container&gt;\r\n        \t\t\t\t&lt;mainClass&gt;com.in28minutes.springboot.web.SpringBootFirstWebApplication&lt;/mainClass&gt;\r\n        \t\t\t\t&lt;creationTime&gt;USE_CURRENT_TIMESTAMP&lt;/creationTime&gt;\r\n    \t\t\t\t&lt;/container&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;executions&gt;\r\n        \t\t\t&lt;execution&gt;\r\n            \t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n            \t\t\t&lt;goals&gt;\r\n                \t\t\t&lt;goal&gt;dockerBuild&lt;/goal&gt;\r\n            \t\t\t&lt;/goals&gt;\r\n        \t\t\t&lt;/execution&gt;\r\n    \t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;","title":"JIB Maven Plugin - JSP files are not being copied to my image","body":"<p>I'm studying Docker and image creation with JIB Maven plugin for Java applications.</p>\n<ul>\n<li><p>The image is created successfully.</p>\n</li>\n<li><p>I create and run a container from the image. Success - the Web app starts fine.</p>\n</li>\n<li><p>I try to access the initial page of the Web app (login page). Success.</p>\n</li>\n<li><p>But when I do the login, the next JSP (welcome page) is not found (HTTP 404). I suspect that the JSPs from the application are not being copied to the image, hence the error.</p>\n</li>\n</ul>\n<p>Why is that? Is there any additional configuration to put on JIB?</p>\n<p>When I run the application from Eclipse, it works just fine.</p>\n<ul>\n<li>The web application was created with Spring Boot and is packaged on JAR.</li>\n</ul>\n<p>Here is my JIB config:</p>\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n            &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;from&gt;\n                    &lt;image&gt;openjdk:alpine&lt;/image&gt;\n                &lt;/from&gt;\n                &lt;to&gt;\n                    &lt;image&gt;${project.name}:${project.version}&lt;/image&gt;\n                &lt;/to&gt;\n                &lt;container&gt;\n                    &lt;mainClass&gt;com.in28minutes.springboot.web.SpringBootFirstWebApplication&lt;/mainClass&gt;\n                    &lt;creationTime&gt;USE_CURRENT_TIMESTAMP&lt;/creationTime&gt;\n                &lt;/container&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;dockerBuild&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","couchbase","spring-data-couchbase"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":4,"creation_date":1667913214,"post_id":74361227,"comment_id":131276896,"body_markdown":"`Bucket` is a Couchbase class **not** a Spring Data class. That support was removed from Couchbase itself. See https://forums.couchbase.com/t/couchbase-java-sdk-3-0-counter/29806","body":"<code>Bucket</code> is a Couchbase class <b>not</b> a Spring Data class. That support was removed from Couchbase itself. See <a href=\"https://forums.couchbase.com/t/couchbase-java-sdk-3-0-counter/29806\" rel=\"nofollow noreferrer\">forums.couchbase.com/t/couchbase-java-sdk-3-0-counter/29806</a>"}],"answers":[{"tags":[],"owner":{"account_id":19444711,"reputation":399,"user_id":14222513,"display_name":"Michael Reiche"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671833992,"creation_date":1671833992,"answer_id":74904409,"question_id":74361227,"body_markdown":"In SDK 3 the atomic counter methods live in the [BinaryCollection][1] class, accessed by calling [collection.binary()][2] \r\n\r\n(Thanks dnault)\r\n\r\n\r\n  [1]: https://docs.couchbase.com/sdk-api/couchbase-java-client/com/couchbase/client/java/BinaryCollection.html\r\n  [2]: https://docs.couchbase.com/sdk-api/couchbase-java-client/com/couchbase/client/java/Collection.html#binary()","title":"is There alternate of counter method in spring-boot-starter-data-couchbase?","body":"<p>In SDK 3 the atomic counter methods live in the <a href=\"https://docs.couchbase.com/sdk-api/couchbase-java-client/com/couchbase/client/java/BinaryCollection.html\" rel=\"nofollow noreferrer\">BinaryCollection</a> class, accessed by calling <a href=\"https://docs.couchbase.com/sdk-api/couchbase-java-client/com/couchbase/client/java/Collection.html#binary()\" rel=\"nofollow noreferrer\">collection.binary()</a></p>\n<p>(Thanks dnault)</p>\n"},{"tags":[],"owner":{"account_id":1029909,"reputation":364,"user_id":5228155,"display_name":"mn_test347"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686171043,"creation_date":1686171043,"answer_id":76427037,"question_id":74361227,"body_markdown":"\r\nrepository.getOperations().getCouchbaseClientFactory().getCluster().bucket(&quot;b&quot;).scope(&quot;s&quot;).collection(&quot;c&quot;).binary().increment(&quot;abc&quot;)\r\n\r\ntemplate.getCouchbaseClientFactory().getCluster().bucket(&quot;b&quot;).scope(&quot;s&quot;).collection(&quot;c&quot;).binary().increment(&quot;abc&quot;)","title":"is There alternate of counter method in spring-boot-starter-data-couchbase?","body":"<p>repository.getOperations().getCouchbaseClientFactory().getCluster().bucket(&quot;b&quot;).scope(&quot;s&quot;).collection(&quot;c&quot;).binary().increment(&quot;abc&quot;)</p>\n<p>template.getCouchbaseClientFactory().getCluster().bucket(&quot;b&quot;).scope(&quot;s&quot;).collection(&quot;c&quot;).binary().increment(&quot;abc&quot;)</p>\n"}],"owner":{"account_id":14528153,"reputation":43,"user_id":10493773,"display_name":"Chaitnya athaley"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1686171043,"creation_date":1667912661,"question_id":74361227,"body_markdown":"i am migrating Spring boot version. in latest spring boot version 2.6.0 in spring-boot-starter-data-couchbase counter() method have been removed. i need increment operation. Before in couchbase 2.2.5.RELEAE in Bucket class have counter method. this method fetch data from couchbase and increment the updated value\r\nExample :\r\n\r\n```\r\npublic String getConId(final Long start) {String conId = null;final Bucket bucket = couchbaseTemplate.getCouchbaseBucket();final Long id = bucket.counter(&quot;RetDtcomConId&quot;, 1, start).content();conId = id.toString();return conId;}\r\n```\r\n\r\nBut in new spring boot version 2.6.0 spring-boot-starter-data-couchbase use spring-data-couchbase 4.3.0\r\nhere in Bucket class counter methode removed.\r\n\r\n```\r\npublic String getConId(final Long start) {\r\n\t\tString conId = null;\r\n\t\tfinal Bucket bucket = couchbaseTemplate.getCouchbaseClientFactory().getBucket();\r\n\t\tfinal Long id = bucket.counter(&quot;RetDtcomConId&quot;, 1, start).content();\r\n\t\tconId = id.toString();\r\n\t\treturn conId;\r\n\t}\r\n```\r\n\r\nplease suggest me how to increment couchbase value.\r\n\r\n```\r\npublic String getConId(final Long start) {\r\n\t\tString conId = null;\r\n\t\tfinal Bucket bucket = couchbaseTemplate.getCouchbaseBucket();\r\n\t\tfinal Long id = bucket.counter(&quot;RetDtcomConId&quot;, 1, start).content();\r\n\t\tconId = id.toString();\r\n\t\treturn conId;\r\n\t}\r\n```\r\n\r\nExpected result should : increment with 1  \r\nExample now in couchBase DB have value 4 the result should be 5 for RetDtcomConId","title":"is There alternate of counter method in spring-boot-starter-data-couchbase?","body":"<p>i am migrating Spring boot version. in latest spring boot version 2.6.0 in spring-boot-starter-data-couchbase counter() method have been removed. i need increment operation. Before in couchbase 2.2.5.RELEAE in Bucket class have counter method. this method fetch data from couchbase and increment the updated value\nExample :</p>\n<pre><code>public String getConId(final Long start) {String conId = null;final Bucket bucket = couchbaseTemplate.getCouchbaseBucket();final Long id = bucket.counter(&quot;RetDtcomConId&quot;, 1, start).content();conId = id.toString();return conId;}\n</code></pre>\n<p>But in new spring boot version 2.6.0 spring-boot-starter-data-couchbase use spring-data-couchbase 4.3.0\nhere in Bucket class counter methode removed.</p>\n<pre><code>public String getConId(final Long start) {\n        String conId = null;\n        final Bucket bucket = couchbaseTemplate.getCouchbaseClientFactory().getBucket();\n        final Long id = bucket.counter(&quot;RetDtcomConId&quot;, 1, start).content();\n        conId = id.toString();\n        return conId;\n    }\n</code></pre>\n<p>please suggest me how to increment couchbase value.</p>\n<pre><code>public String getConId(final Long start) {\n        String conId = null;\n        final Bucket bucket = couchbaseTemplate.getCouchbaseBucket();\n        final Long id = bucket.counter(&quot;RetDtcomConId&quot;, 1, start).content();\n        conId = id.toString();\n        return conId;\n    }\n</code></pre>\n<p>Expected result should : increment with 1<br />\nExample now in couchBase DB have value 4 the result should be 5 for RetDtcomConId</p>\n"},{"tags":["java","android","android-webview"],"answers":[{"tags":[],"owner":{"account_id":25936887,"reputation":1,"user_id":19656994,"display_name":"Zachary Kelly"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686170987,"creation_date":1686170987,"answer_id":76427033,"question_id":76267127,"body_markdown":"I figured it out. There were two byte chars encoded with gzip that weren&#39;t playing nice. This works for me\r\n\r\n```\r\n @Override\r\n    public WebResourceResponse shouldInterceptRequest(WebView view, WebResourceRequest request) {\r\n        try {\r\n            URL url = new URL(request.getUrl().toString());\r\n            HttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n            conn.setRequestMethod(request.getMethod());\r\n\r\n            conn.connect();\r\n\r\n            String contentType = conn.getContentType();\r\n            contentType = contentType.contains(&quot;;&quot;) ? contentType.split(&quot;;&quot;)[0] : contentType;\r\n            String mimeType = conn.getContentEncoding();\r\n\r\n            InputStream inputStream;\r\n\r\n            if(conn.getContentEncoding().equalsIgnoreCase(&quot;gzip&quot;)){\r\n                inputStream = new GZIPInputStream(conn.getInputStream());\r\n                mimeType = &quot;UTF-8&quot;;\r\n            }else{\r\n                inputStream = conn.getInputStream();\r\n            }\r\n\r\n            return new WebResourceResponse(contentType, mimeType, conn.getResponseCode(), conn.getResponseMessage(), null, inputStream);\r\n        } catch (Exception e) {\r\n            System.out.println(e);\r\n            return returnNull();\r\n        }\r\n    }\r\n```","title":"Android WebView not rendering properly","body":"<p>I figured it out. There were two byte chars encoded with gzip that weren't playing nice. This works for me</p>\n<pre><code> @Override\n    public WebResourceResponse shouldInterceptRequest(WebView view, WebResourceRequest request) {\n        try {\n            URL url = new URL(request.getUrl().toString());\n            HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n            conn.setRequestMethod(request.getMethod());\n\n            conn.connect();\n\n            String contentType = conn.getContentType();\n            contentType = contentType.contains(&quot;;&quot;) ? contentType.split(&quot;;&quot;)[0] : contentType;\n            String mimeType = conn.getContentEncoding();\n\n            InputStream inputStream;\n\n            if(conn.getContentEncoding().equalsIgnoreCase(&quot;gzip&quot;)){\n                inputStream = new GZIPInputStream(conn.getInputStream());\n                mimeType = &quot;UTF-8&quot;;\n            }else{\n                inputStream = conn.getInputStream();\n            }\n\n            return new WebResourceResponse(contentType, mimeType, conn.getResponseCode(), conn.getResponseMessage(), null, inputStream);\n        } catch (Exception e) {\n            System.out.println(e);\n            return returnNull();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":25936887,"reputation":1,"user_id":19656994,"display_name":"Zachary Kelly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686170987,"creation_date":1684272004,"question_id":76267127,"body_markdown":"I&#39;m trying to make an Android app with a webview with custom caching. I need to intercept the request but when I do the rendering of the page gets all weird. I&#39;m using Google as an example.\r\n\r\n\r\n```\r\n@Override\r\n    public WebResourceResponse shouldInterceptRequest(WebView view, WebResourceRequest request){\r\n        try{\r\n            URL url = new URL(request.getUrl().toString());\r\n            HttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n\r\n            String contentType = conn.getContentType();\r\n            contentType = contentType.contains(&quot;;&quot;) ? contentType.split(&quot;;&quot;)[0] : contentType;\r\n\r\n            return new WebResourceResponse(contentType, conn.getContentEncoding(), conn.getResponseCode(), conn.getResponseMessage(), null, conn.getInputStream());\r\n        }catch (Exception e){\r\n            System.out.println(e);\r\n            return returnNull();\r\n        }\r\n    }\r\n```\r\n\r\n![Result][1]\r\n\r\n  [1]: https://i.stack.imgur.com/yXnF7.png","title":"Android WebView not rendering properly","body":"<p>I'm trying to make an Android app with a webview with custom caching. I need to intercept the request but when I do the rendering of the page gets all weird. I'm using Google as an example.</p>\n<pre><code>@Override\n    public WebResourceResponse shouldInterceptRequest(WebView view, WebResourceRequest request){\n        try{\n            URL url = new URL(request.getUrl().toString());\n            HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n\n            String contentType = conn.getContentType();\n            contentType = contentType.contains(&quot;;&quot;) ? contentType.split(&quot;;&quot;)[0] : contentType;\n\n            return new WebResourceResponse(contentType, conn.getContentEncoding(), conn.getResponseCode(), conn.getResponseMessage(), null, conn.getInputStream());\n        }catch (Exception e){\n            System.out.println(e);\n            return returnNull();\n        }\n    }\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/yXnF7.png\" alt=\"Result\" /></p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":7841770,"reputation":371,"user_id":5928046,"display_name":"Tarun Pande"},"score":0,"creation_date":1583343045,"post_id":60531240,"comment_id":107086772,"body_markdown":"Exception : 400 Bad Request: [{&quot;error&quot;:&quot;invalid_request&quot;,&quot;error_description&quot;:&quot;Missing form parameter: grant_type&quot;}]","body":"Exception : 400 Bad Request: [{&quot;error&quot;:&quot;invalid_request&quot;,&quot;error_description&quot;:&quot;Missing form parameter: grant_type&quot;}]"},{"owner":{"account_id":3598339,"reputation":1871,"user_id":3002336,"display_name":"Anand Varkey Philips"},"score":1,"creation_date":1583343542,"post_id":60531240,"comment_id":107086971,"body_markdown":"I have added a quick sample. Try that!","body":"I have added a quick sample. Try that!"},{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1583344118,"post_id":60531240,"comment_id":107087264,"body_markdown":"Note that you appear to be reinventing an OAuth2 client, and it would generally be a better idea to use a prepackaged library; Spring has comprehensive integration for operating as an OAuth2 client or resource server already.","body":"Note that you appear to be reinventing an OAuth2 client, and it would generally be a better idea to use a prepackaged library; Spring has comprehensive integration for operating as an OAuth2 client or resource server already."}],"answers":[{"comments":[{"owner":{"account_id":3598339,"reputation":1871,"user_id":3002336,"display_name":"Anand Varkey Philips"},"score":0,"creation_date":1583343778,"post_id":60531746,"comment_id":107087086,"body_markdown":"You are welcome. You can mark it as answer then! :)","body":"You are welcome. You can mark it as answer then! :)"}],"tags":[],"owner":{"account_id":3598339,"reputation":1871,"user_id":3002336,"display_name":"Anand Varkey Philips"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583343498,"creation_date":1583343498,"answer_id":60531746,"question_id":60531240,"body_markdown":"\r\nTry something like this:\r\n\r\n    RestTemplate restTemplate = new RestTemplate();\r\n    \r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\r\n    \r\n    MultiValueMap&lt;String, String&gt; map = new LinkedMultiValueMap&lt;&gt;();\r\n    map.add(&quot;grant_type&quot;, sfmcConfig.getGrant_type());\r\n    map.add(&quot;client_id&quot;, sfmcConfig.getClient_id());\r\n    map.add(&quot;client_secret&quot;, sfmcConfig.getClient_secret());\r\n    \r\n    HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; entity = new HttpEntity&lt;&gt;(map, headers);\r\n    \r\n    ResponseEntity&lt;LabelCreationResponse&gt; response =\r\n        restTemplate.exchange(&quot;url&quot;,\r\n                              HttpMethod.POST,\r\n                              entity,\r\n                              String.class);","title":"Getting 400 Bad Request for Rest Template Spring Boot","body":"<p>Try something like this:</p>\n\n<pre><code>RestTemplate restTemplate = new RestTemplate();\n\nHttpHeaders headers = new HttpHeaders();\nheaders.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\n\nMultiValueMap&lt;String, String&gt; map = new LinkedMultiValueMap&lt;&gt;();\nmap.add(\"grant_type\", sfmcConfig.getGrant_type());\nmap.add(\"client_id\", sfmcConfig.getClient_id());\nmap.add(\"client_secret\", sfmcConfig.getClient_secret());\n\nHttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; entity = new HttpEntity&lt;&gt;(map, headers);\n\nResponseEntity&lt;LabelCreationResponse&gt; response =\n    restTemplate.exchange(\"url\",\n                          HttpMethod.POST,\n                          entity,\n                          String.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13846532,"reputation":319,"user_id":9995556,"display_name":"pbthorste"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686170647,"creation_date":1686143528,"answer_id":76423677,"question_id":60531240,"body_markdown":"I had the same issue with rest template and the GET method on an Amazon ALB. \r\n\r\nIt turns out that rest template was adding the header `Content-Length: 0` to the request. \r\n\r\nThis caused the ALB to reject the request with a 400 error.\r\n\r\nUnfortunately, I am not sure how to remove the header from the request if it is set to zero. Using interceptors does not seem to work.","title":"Getting 400 Bad Request for Rest Template Spring Boot","body":"<p>I had the same issue with rest template and the GET method on an Amazon ALB.</p>\n<p>It turns out that rest template was adding the header <code>Content-Length: 0</code> to the request.</p>\n<p>This caused the ALB to reject the request with a 400 error.</p>\n<p>Unfortunately, I am not sure how to remove the header from the request if it is set to zero. Using interceptors does not seem to work.</p>\n"}],"owner":{"account_id":7841770,"reputation":371,"user_id":5928046,"display_name":"Tarun Pande"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5750,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1686170647,"creation_date":1583341512,"question_id":60531240,"body_markdown":"I have a rest Controller where i am trying to get the Token from a service using the `RestTemplate` in Spring Boot. The application works fine when i use Postman but from Java Application i get `400 Bad Request`.\r\n\r\nMy Java Sample :\r\n\r\n    @PostMapping(&quot;/service&quot;)\r\n    private String generateAuthenticationToken() {\r\n    \r\n        HttpHeaders authenticationTokenHeaders = new HttpHeaders();\r\n        authenticationTokenHeaders.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\r\n    \r\n        JSONObject sfmcBUCredential = new JSONObject();\r\n        JSONObject sfmcTokenResponseObject;\r\n        sfmcBUCredential.put(&quot;grant_type&quot;, sfmcConfig.getGrant_type());\r\n        sfmcBUCredential.put(&quot;client_id&quot;, sfmcConfig.getClient_id());\r\n        sfmcBUCredential.put(&quot;client_secret&quot;, sfmcConfig.getClient_secret());\r\n    \r\n        String sfmcBUCredentialString = sfmcBUCredential.toString();\r\n    \r\n        System.out.println(&quot;Values before sending to POST Request are :::&quot; + sfmcBUCredentialString);\r\n    \r\n        HttpEntity&lt;String&gt; getTokenEntity = new HttpEntity&lt;&gt;(sfmcBUCredentialString, authenticationTokenHeaders);\r\n        System.out.println(&quot;Values after sending to POST Request are :::&quot; + getTokenEntity.toString());\r\n        System.out.println(&quot;URL is :::&quot; + GET_SFMC_ENDPOINT_URL);\r\n    \r\n        //String tokenResponse = restTemplate.postForObject(GET_SFMC_ENDPOINT_URL, getTokenEntity, String.class);\r\n        ResponseEntity&lt;String&gt; tokenResponse = restTemplate.exchange(GET_SFMC_ENDPOINT_URL, HttpMethod.POST, getTokenEntity, String.class);\r\n    \r\n        sfmcTokenResponseObject = new JSONObject(tokenResponse.getBody());\r\n        System.out.println(&quot;tokenResponse::::::::&quot; + sfmcTokenResponseObject.getString(&quot;access_token&quot;).toString());\r\n        return sfmcTokenResponseObject.getString(&quot;access_token&quot;);\r\n    \r\n    }\r\n\r\nLogs :\r\n\r\n    Values before sending to POST Request are :::{&quot;grant_type&quot;:&quot;client_credentials&quot;,&quot;client_secret&quot;:&quot;c1ae4b4a-498e-46a0-a02e-cd2378cb8db6&quot;,&quot;client_id&quot;:&quot;Y43iLAhr4e0SoJ9KkV4vLKnGhNmS1Y3c&quot;}\r\n    Values after sending to POST Request are :::&lt;{&quot;grant_type&quot;:&quot;client_credentials&quot;,&quot;client_secret&quot;:&quot;c1ae4b4a-498e-46a0-a02e-cd2378cb8db6&quot;,&quot;client_id&quot;:&quot;Y43iLAhr4e0SoJ9KkV4vLKnGhNmS1Y3c&quot;},[Content-Type:&quot;application/x-www-form-urlencoded&quot;]&gt;\r\n    URL is :::https://keycloak.lab.hci.aetna.com/auth/realms/master/protocol/openid-connect/token","title":"Getting 400 Bad Request for Rest Template Spring Boot","body":"<p>I have a rest Controller where i am trying to get the Token from a service using the <code>RestTemplate</code> in Spring Boot. The application works fine when i use Postman but from Java Application i get <code>400 Bad Request</code>.</p>\n\n<p>My Java Sample :</p>\n\n<pre><code>@PostMapping(\"/service\")\nprivate String generateAuthenticationToken() {\n\n    HttpHeaders authenticationTokenHeaders = new HttpHeaders();\n    authenticationTokenHeaders.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\n\n    JSONObject sfmcBUCredential = new JSONObject();\n    JSONObject sfmcTokenResponseObject;\n    sfmcBUCredential.put(\"grant_type\", sfmcConfig.getGrant_type());\n    sfmcBUCredential.put(\"client_id\", sfmcConfig.getClient_id());\n    sfmcBUCredential.put(\"client_secret\", sfmcConfig.getClient_secret());\n\n    String sfmcBUCredentialString = sfmcBUCredential.toString();\n\n    System.out.println(\"Values before sending to POST Request are :::\" + sfmcBUCredentialString);\n\n    HttpEntity&lt;String&gt; getTokenEntity = new HttpEntity&lt;&gt;(sfmcBUCredentialString, authenticationTokenHeaders);\n    System.out.println(\"Values after sending to POST Request are :::\" + getTokenEntity.toString());\n    System.out.println(\"URL is :::\" + GET_SFMC_ENDPOINT_URL);\n\n    //String tokenResponse = restTemplate.postForObject(GET_SFMC_ENDPOINT_URL, getTokenEntity, String.class);\n    ResponseEntity&lt;String&gt; tokenResponse = restTemplate.exchange(GET_SFMC_ENDPOINT_URL, HttpMethod.POST, getTokenEntity, String.class);\n\n    sfmcTokenResponseObject = new JSONObject(tokenResponse.getBody());\n    System.out.println(\"tokenResponse::::::::\" + sfmcTokenResponseObject.getString(\"access_token\").toString());\n    return sfmcTokenResponseObject.getString(\"access_token\");\n\n}\n</code></pre>\n\n<p>Logs :</p>\n\n<pre><code>Values before sending to POST Request are :::{\"grant_type\":\"client_credentials\",\"client_secret\":\"c1ae4b4a-498e-46a0-a02e-cd2378cb8db6\",\"client_id\":\"Y43iLAhr4e0SoJ9KkV4vLKnGhNmS1Y3c\"}\nValues after sending to POST Request are :::&lt;{\"grant_type\":\"client_credentials\",\"client_secret\":\"c1ae4b4a-498e-46a0-a02e-cd2378cb8db6\",\"client_id\":\"Y43iLAhr4e0SoJ9KkV4vLKnGhNmS1Y3c\"},[Content-Type:\"application/x-www-form-urlencoded\"]&gt;\nURL is :::https://keycloak.lab.hci.aetna.com/auth/realms/master/protocol/openid-connect/token\n</code></pre>\n"},{"tags":["java","couchbase","spring-data-couchbase"],"comments":[{"owner":{"account_id":17736,"reputation":25458,"user_id":40015,"accept_rate":84,"display_name":"Matthew Groves"},"score":0,"creation_date":1669847211,"post_id":74615005,"comment_id":131739245,"body_markdown":"Do you want to do this from an SDK? Have you tried &quot;drop collection&quot; and then &quot;create collection&quot;? Those should be available from the SDK.","body":"Do you want to do this from an SDK? Have you tried &quot;drop collection&quot; and then &quot;create collection&quot;? Those should be available from the SDK."},{"owner":{"account_id":2821426,"reputation":347,"user_id":2425109,"display_name":"user2425109"},"score":1,"creation_date":1669881245,"post_id":74615005,"comment_id":131744811,"body_markdown":"@MatthewGroves would you share some sample spring application link if possible.","body":"@MatthewGroves would you share some sample spring application link if possible."},{"owner":{"account_id":17736,"reputation":25458,"user_id":40015,"accept_rate":84,"display_name":"Matthew Groves"},"score":0,"creation_date":1669902894,"post_id":74615005,"comment_id":131752066,"body_markdown":"Sorry, I&#39;m no Java dev. It probably wouldn&#39;t involve Spring, though, it would involve using the Couchbase Java SDK directly. Here&#39;s the relevant API docs: https://docs.couchbase.com/sdk-api/couchbase-java-client/com/couchbase/client/java/manager/collection/CollectionManager.html","body":"Sorry, I&#39;m no Java dev. It probably wouldn&#39;t involve Spring, though, it would involve using the Couchbase Java SDK directly. Here&#39;s the relevant API docs: <a href=\"https://docs.couchbase.com/sdk-api/couchbase-java-client/com/couchbase/client/java/manager/collection/CollectionManager.html\" rel=\"nofollow noreferrer\">docs.couchbase.com/sdk-api/couchbase-java-client/com/couchba&zwnj;&#8203;se/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1029909,"reputation":364,"user_id":5228155,"display_name":"mn_test347"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686170241,"creation_date":1686170241,"answer_id":76426951,"question_id":74615005,"body_markdown":"getCluster() exposes the cluster of the Java SDK.\r\n\r\n\r\nrepository.getOperations().getCouchbaseClientFactory().getCluster().buckets().flushBucket(bucketName)","title":"How to flush collection in couchbase","body":"<p>getCluster() exposes the cluster of the Java SDK.</p>\n<p>repository.getOperations().getCouchbaseClientFactory().getCluster().buckets().flushBucket(bucketName)</p>\n"}],"owner":{"account_id":2821426,"reputation":347,"user_id":2425109,"display_name":"user2425109"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686170241,"creation_date":1669729198,"question_id":74615005,"body_markdown":"The way we have flush operation for buckets can we also do similar for collection in couchbase?\r\nis there any alternate to drop and recreate the collection if we want to delete all data from the collection? what will be optimal approach purging data from collection?","title":"How to flush collection in couchbase","body":"<p>The way we have flush operation for buckets can we also do similar for collection in couchbase?\nis there any alternate to drop and recreate the collection if we want to delete all data from the collection? what will be optimal approach purging data from collection?</p>\n"},{"tags":["java","spring","hibernate","lombok","javax.validation"],"comments":[{"owner":{"account_id":6484184,"reputation":2035,"user_id":5020294,"display_name":"Andriy Slobodyanyk"},"score":0,"creation_date":1666960872,"post_id":74230831,"comment_id":131064096,"body_markdown":"GroupSequence is a correct approach if you want to validate not all in once but by portions. You need these empty interface markers","body":"GroupSequence is a correct approach if you want to validate not all in once but by portions. You need these empty interface markers"}],"answers":[{"comments":[{"owner":{"account_id":28772032,"reputation":1,"user_id":22035585,"display_name":"Upendra Rai"},"score":1,"creation_date":1686169298,"post_id":76422791,"comment_id":134764039,"body_markdown":"https://github.com/upendra-rai/github-error-page/blob/main/JavaValidationError.java","body":"<a href=\"https://github.com/upendra-rai/github-error-page/blob/main/JavaValidationError.java\" rel=\"nofollow noreferrer\">github.com/upendra-rai/github-error-page/blob/main/&hellip;</a>"}],"tags":[],"owner":{"account_id":28772032,"reputation":1,"user_id":22035585,"display_name":"Upendra Rai"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686169369,"creation_date":1686137046,"answer_id":76422791,"question_id":74230831,"body_markdown":"If you got `HV000090`, then should be handle exceptions like this: \r\n[Link][1]\r\n```java\r\n@AssertTrue\r\npublic boolean isIntCustomValid() { \r\n    if( (Objects.nonNull(anInt) ) {\r\n           return anInt == 123 || anInt == 999; \r\n    } \r\n    return true;\r\n}\r\n\r\n\r\n [enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/u8Jpr.jpg","title":"How to validate @NoNull first then @AssertTrue after","body":"<p>If you got <code>HV000090</code>, then should be handle exceptions like this:\n[Link][1]</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AssertTrue\npublic boolean isIntCustomValid() { \n    if( (Objects.nonNull(anInt) ) {\n           return anInt == 123 || anInt == 999; \n    } \n    return true;\n}\n\n\n [enter image description here][1]\n\n\n  [1]: https://i.stack.imgur.com/u8Jpr.jpg\n</code></pre>\n"}],"owner":{"account_id":26756479,"reputation":31,"user_id":20355015,"display_name":"jim jones"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1686169369,"creation_date":1666933070,"question_id":74230831,"body_markdown":"I am trying to validate a simple DTO:\r\n\r\n```java\r\n@Data\r\npublic class Dto {\r\n\r\n    @NotNull\r\n    private Integer anInt;\r\n\r\n    @AssertTrue\r\n    public boolean isIntCustomValid() {\r\n        return anInt == 123 || anInt == 999;\r\n    }\r\n\r\n}\r\n```\r\n\r\nIn my Controller, with @Valid. When `anInt` is null, `isIntCustomValid` is still validated and I get this error because `anInt` is null:\r\n\r\n```\r\nHV000090: Unable to access\r\n```\r\n\r\nIf I remove `isIntCustomValid`, then @NotNull works correctly.\r\nI want to validate these separately. \r\n\r\nI tried using `@GroupSequence` and `@Groups`, which works, but I have to create empty marker interfaces which is does not seem like an elegant solution.\r\n","title":"How to validate @NoNull first then @AssertTrue after","body":"<p>I am trying to validate a simple DTO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class Dto {\n\n    @NotNull\n    private Integer anInt;\n\n    @AssertTrue\n    public boolean isIntCustomValid() {\n        return anInt == 123 || anInt == 999;\n    }\n\n}\n</code></pre>\n<p>In my Controller, with @Valid. When <code>anInt</code> is null, <code>isIntCustomValid</code> is still validated and I get this error because <code>anInt</code> is null:</p>\n<pre><code>HV000090: Unable to access\n</code></pre>\n<p>If I remove <code>isIntCustomValid</code>, then @NotNull works correctly.\nI want to validate these separately.</p>\n<p>I tried using <code>@GroupSequence</code> and <code>@Groups</code>, which works, but I have to create empty marker interfaces which is does not seem like an elegant solution.</p>\n"},{"tags":["java","android","youtubeplayer"],"comments":[{"owner":{"account_id":27880253,"reputation":29,"user_id":21288859,"display_name":"Lord V"},"score":0,"creation_date":1686176709,"post_id":76426864,"comment_id":134765191,"body_markdown":"Anyone please...","body":"Anyone please..."}],"owner":{"account_id":27880253,"reputation":29,"user_id":21288859,"display_name":"Lord V"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686169361,"creation_date":1686169361,"question_id":76426864,"body_markdown":"I&#39;m trying to implement a youtube player in an application that will pull the video url from the mysql database.\r\n\r\nFirst I added to gradle\r\n\r\n    //Android youtube player\r\n    implementation &#39;com.pierfrancescosoffritti.androidyoutubeplayer:core:10.0.5&#39;\r\n\r\nAfter that I added to my activity\r\n\r\n    import com.pierfrancescosoffritti.androidyoutubeplayer.core.player.YouTubePlayer;\r\n    import com.pierfrancescosoffritti.androidyoutubeplayer.core.player.listeners.AbstractYouTubePlayerListener;\r\n    import com.pierfrancescosoffritti.androidyoutubeplayer.core.player.views.YouTubePlayerView;\r\n\r\nthen\r\n\r\n    //youtube player\r\n        private YouTubePlayerView youTubePlayerView;\r\n.\r\n\r\n    //youtube player\r\n            setupYoutubePlayer();\r\n.\r\n\r\n\r\n    private void setupYoutubePlayer() {\r\n            youTubePlayerView = findViewById(R.id.youtube_player_view);\r\n            getLifecycle().addObserver(youTubePlayerView);\r\n        }\r\n.\r\n\r\n    //if business has video_url show the layout  , else hide the view\r\n            if (storeData.getVideo_url() != null &amp;&amp; !storeData.getVideo_url().equals(&quot;null&quot;) &amp;&amp; !storeData.getVideo_url().equals(&quot;&quot;)) {\r\n    \r\n    \r\n                //show ad\r\n                (new Handler()).postDelayed(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n    \r\n                        youTubePlayerView.addYouTubePlayerListener(new AbstractYouTubePlayerListener() {\r\n                            @Override\r\n                            public void onReady(@NonNull YouTubePlayer youTubePlayer) {\r\n                                String videoId = AppHelper.extractYoutubeVideoId(storeData.getVideo_url());\r\n                                if (videoId != null) youTubePlayer.cueVideo(videoId, 0);\r\n                            }\r\n                        });\r\n    \r\n                        findViewById(R.id.video_layout).setVisibility(View.VISIBLE);\r\n    \r\n                    }\r\n                }, 2000);\r\n    \r\n    \r\n            } else {\r\n                findViewById(R.id.video_layout).setVisibility(View.GONE);\r\n            }\r\n    \r\n    \r\n            //setup product variants\r\n            setupServicesWidget();\r\n    \r\n    \r\n            mViewManager.showContent();\r\n    \r\n    \r\n        }\r\n\r\n\r\nHowever, the video still does not play, it just stays in loading mode. I checked the database in the video url it says the correct url exampl. https://www.youtube.com/watch?v=Emyasd....\r\n\r\nI would like your help! Thank you very much in advance.\r\n\r\nPart from layout\r\n\r\n    &lt;com.pierfrancescosoffritti.androidyoutubeplayer.core.player.views.YouTubePlayerView\r\n                android:id=&quot;@+id/youtube_player_view&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:autoPlay=&quot;false&quot;/&gt;","title":"Youtube video player issue","body":"<p>I'm trying to implement a youtube player in an application that will pull the video url from the mysql database.</p>\n<p>First I added to gradle</p>\n<pre><code>//Android youtube player\nimplementation 'com.pierfrancescosoffritti.androidyoutubeplayer:core:10.0.5'\n</code></pre>\n<p>After that I added to my activity</p>\n<pre><code>import com.pierfrancescosoffritti.androidyoutubeplayer.core.player.YouTubePlayer;\nimport com.pierfrancescosoffritti.androidyoutubeplayer.core.player.listeners.AbstractYouTubePlayerListener;\nimport com.pierfrancescosoffritti.androidyoutubeplayer.core.player.views.YouTubePlayerView;\n</code></pre>\n<p>then</p>\n<pre><code>//youtube player\n    private YouTubePlayerView youTubePlayerView;\n</code></pre>\n<p>.</p>\n<pre><code>//youtube player\n        setupYoutubePlayer();\n</code></pre>\n<p>.</p>\n<pre><code>private void setupYoutubePlayer() {\n        youTubePlayerView = findViewById(R.id.youtube_player_view);\n        getLifecycle().addObserver(youTubePlayerView);\n    }\n</code></pre>\n<p>.</p>\n<pre><code>//if business has video_url show the layout  , else hide the view\n        if (storeData.getVideo_url() != null &amp;&amp; !storeData.getVideo_url().equals(&quot;null&quot;) &amp;&amp; !storeData.getVideo_url().equals(&quot;&quot;)) {\n\n\n            //show ad\n            (new Handler()).postDelayed(new Runnable() {\n                @Override\n                public void run() {\n\n                    youTubePlayerView.addYouTubePlayerListener(new AbstractYouTubePlayerListener() {\n                        @Override\n                        public void onReady(@NonNull YouTubePlayer youTubePlayer) {\n                            String videoId = AppHelper.extractYoutubeVideoId(storeData.getVideo_url());\n                            if (videoId != null) youTubePlayer.cueVideo(videoId, 0);\n                        }\n                    });\n\n                    findViewById(R.id.video_layout).setVisibility(View.VISIBLE);\n\n                }\n            }, 2000);\n\n\n        } else {\n            findViewById(R.id.video_layout).setVisibility(View.GONE);\n        }\n\n\n        //setup product variants\n        setupServicesWidget();\n\n\n        mViewManager.showContent();\n\n\n    }\n</code></pre>\n<p>However, the video still does not play, it just stays in loading mode. I checked the database in the video url it says the correct url exampl. <a href=\"https://www.youtube.com/watch?v=Emyasd...\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=Emyasd...</a>.</p>\n<p>I would like your help! Thank you very much in advance.</p>\n<p>Part from layout</p>\n<pre><code>&lt;com.pierfrancescosoffritti.androidyoutubeplayer.core.player.views.YouTubePlayerView\n            android:id=&quot;@+id/youtube_player_view&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            app:autoPlay=&quot;false&quot;/&gt;\n</code></pre>\n"},{"tags":["java","linux","wayland","weston","xwayland"],"owner":{"account_id":12273021,"reputation":127,"user_id":8957688,"accept_rate":80,"display_name":"Martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686169244,"creation_date":1686169244,"question_id":76426853,"body_markdown":"I have a Java application running on:\r\n\r\nXWayland 2:1.20.11-1+deb11u6,\r\nWeston 9.0.0-1,\r\nOpenJDK 11.0.18+10-1~deb11u1,\r\nDebian 11,\r\nKernel 5.10.52\r\n\r\nMy JFrame (Window) is set to: `GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice().setFullScreenWindow(this);`\r\n\r\nI can then see my interface on the full screen (in my case it is a TV and I have CEC enabled in the Kernel). However, after I unplug HDMI and plug HDMI again, my interface is gone (black screen). There is only one small 1x1 pixel left. It seems the size of the Window is changed by Java / XWayland / (Weston). I am sure, that I am not changing it - I check all resize methods on JFrame.\r\n\r\nWhen I restart my Java application, it is back again - so it is not an issue of the OS (Linux) directly and also - most probably - not Weston.\r\n\r\nI also don&#39;t have this issue with a pure Wayland application (e.g. Weston flower). Using only Wayland (without Java and XWayland) things work.\r\n\r\nWhen I PLUG the HDMI there is NO java.awt.event.ComponentEvent\r\n\r\nWhen I UNPLUG HDMI, I get the following java.awt.event.ComponentEvent: \r\n\r\n    java.awt.event.ComponentEvent[COMPONENT_RESIZED (0,0 1x1)] on frame0\r\n    java.base/java.lang.Thread.getStackTrace(Thread.java:1602)\r\n    java.desktop/java.awt.AWTEventMulticaster.componentResized(AWTEventMulticaster.java:167)\r\n    java.desktop/java.awt.AWTEventMulticaster.componentResized(AWTEventMulticaster.java:167)\r\n    java.desktop/java.awt.Component.processComponentEvent(Component.java:6461)\r\n    java.desktop/java.awt.Component.processEvent(Component.java:6415)\r\n    java.desktop/java.awt.Container.processEvent(Container.java:2263)\r\n    java.desktop/java.awt.Window.processEvent(Window.java:2049)\r\n    java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5011)\r\n    java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2321)\r\n    java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2772)\r\n    java.desktop/java.awt.Component.dispatchEvent(Component.java:4843)\r\n    java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:772)\r\n    java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\r\n    java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\r\n    java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n    java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:95)\r\n    java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\r\n    java.desktop/java.awt.EventQueue$5.run(EventQueue.java:743)\r\n    java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n    java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\r\n    java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n    java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n    java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n    java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n    java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n    java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n\r\nUnfortunately I also don&#39;t know how to manipulate the size after I catched this event. I tried to directly set the size back, but this did not work. I think it may don&#39;t work because at this time HDMI is UNPLUGGED.\r\n\r\nAs I don&#39;t get any event when the HDMI is PLUGGED again, I also don&#39;t know when to (try to) set the size back to &quot;normal&quot;.","title":"Why does Java resize a Window to 1x1 pixel when HDMI is unplugged (and does not resize back when HDMI is plugged)","body":"<p>I have a Java application running on:</p>\n<p>XWayland 2:1.20.11-1+deb11u6,\nWeston 9.0.0-1,\nOpenJDK 11.0.18+10-1~deb11u1,\nDebian 11,\nKernel 5.10.52</p>\n<p>My JFrame (Window) is set to: <code>GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice().setFullScreenWindow(this);</code></p>\n<p>I can then see my interface on the full screen (in my case it is a TV and I have CEC enabled in the Kernel). However, after I unplug HDMI and plug HDMI again, my interface is gone (black screen). There is only one small 1x1 pixel left. It seems the size of the Window is changed by Java / XWayland / (Weston). I am sure, that I am not changing it - I check all resize methods on JFrame.</p>\n<p>When I restart my Java application, it is back again - so it is not an issue of the OS (Linux) directly and also - most probably - not Weston.</p>\n<p>I also don't have this issue with a pure Wayland application (e.g. Weston flower). Using only Wayland (without Java and XWayland) things work.</p>\n<p>When I PLUG the HDMI there is NO java.awt.event.ComponentEvent</p>\n<p>When I UNPLUG HDMI, I get the following java.awt.event.ComponentEvent:</p>\n<pre><code>java.awt.event.ComponentEvent[COMPONENT_RESIZED (0,0 1x1)] on frame0\njava.base/java.lang.Thread.getStackTrace(Thread.java:1602)\njava.desktop/java.awt.AWTEventMulticaster.componentResized(AWTEventMulticaster.java:167)\njava.desktop/java.awt.AWTEventMulticaster.componentResized(AWTEventMulticaster.java:167)\njava.desktop/java.awt.Component.processComponentEvent(Component.java:6461)\njava.desktop/java.awt.Component.processEvent(Component.java:6415)\njava.desktop/java.awt.Container.processEvent(Container.java:2263)\njava.desktop/java.awt.Window.processEvent(Window.java:2049)\njava.desktop/java.awt.Component.dispatchEventImpl(Component.java:5011)\njava.desktop/java.awt.Container.dispatchEventImpl(Container.java:2321)\njava.desktop/java.awt.Window.dispatchEventImpl(Window.java:2772)\njava.desktop/java.awt.Component.dispatchEvent(Component.java:4843)\njava.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:772)\njava.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\njava.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\njava.base/java.security.AccessController.doPrivileged(Native Method)\njava.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\njava.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:95)\njava.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\njava.desktop/java.awt.EventQueue$5.run(EventQueue.java:743)\njava.base/java.security.AccessController.doPrivileged(Native Method)\njava.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\njava.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\njava.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\njava.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\njava.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\njava.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\njava.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\njava.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n</code></pre>\n<p>Unfortunately I also don't know how to manipulate the size after I catched this event. I tried to directly set the size back, but this did not work. I think it may don't work because at this time HDMI is UNPLUGGED.</p>\n<p>As I don't get any event when the HDMI is PLUGGED again, I also don't know when to (try to) set the size back to &quot;normal&quot;.</p>\n"},{"tags":["java","spring-boot","birt"],"comments":[{"owner":{"account_id":1642943,"reputation":19407,"user_id":1515052,"accept_rate":90,"display_name":"Simulant"},"score":0,"creation_date":1439984003,"post_id":32069938,"comment_id":52083118,"body_markdown":"Spring boot is an extension that is fully capabile of using Spring. So you should be able to use the spring+birt tutorial even with spring boot.","body":"Spring boot is an extension that is fully capabile of using Spring. So you should be able to use the spring+birt tutorial even with spring boot."},{"owner":{"account_id":2382522,"reputation":1144,"user_id":2084253,"accept_rate":80,"display_name":"Kent Bull"},"score":0,"creation_date":1461032431,"post_id":32069938,"comment_id":61002531,"body_markdown":"@Henk V I do have an example. Would you like me to post it even though your question is nearly a year old? If you will extend the bounty one more day I will post my sample.","body":"@Henk V I do have an example. Would you like me to post it even though your question is nearly a year old? If you will extend the bounty one more day I will post my sample."},{"owner":{"account_id":324114,"reputation":12953,"user_id":644518,"accept_rate":61,"display_name":"ajm"},"score":0,"creation_date":1461060292,"post_id":32069938,"comment_id":61015882,"body_markdown":"@KentJohnson Sure. Would like to see an example.","body":"@KentJohnson Sure. Would like to see an example."},{"owner":{"account_id":2382522,"reputation":1144,"user_id":2084253,"accept_rate":80,"display_name":"Kent Bull"},"score":0,"creation_date":1462207461,"post_id":32069938,"comment_id":61529282,"body_markdown":"@Henk V will you accept my answer?","body":"@Henk V will you accept my answer?"}],"answers":[{"comments":[{"owner":{"account_id":3010004,"reputation":648,"user_id":2553733,"accept_rate":60,"display_name":"Ali Baghdadi"},"score":0,"creation_date":1477904424,"post_id":36731657,"comment_id":67932478,"body_markdown":"using the current method, the pdf generated is damaged or corrupt, any advise?","body":"using the current method, the pdf generated is damaged or corrupt, any advise?"},{"owner":{"account_id":2382522,"reputation":1144,"user_id":2084253,"accept_rate":80,"display_name":"Kent Bull"},"score":0,"creation_date":1477960235,"post_id":36731657,"comment_id":67959406,"body_markdown":"It works for me. Will you link to a repo or something showing the reproducible corrupt PDF?","body":"It works for me. Will you link to a repo or something showing the reproducible corrupt PDF?"},{"owner":{"account_id":3010004,"reputation":648,"user_id":2553733,"accept_rate":60,"display_name":"Ali Baghdadi"},"score":0,"creation_date":1478167619,"post_id":36731657,"comment_id":68047379,"body_markdown":"this is the link for the file, you will have to download it since it&#39;s corrupt and won&#39;t open on Drive: https://drive.google.com/file/d/0B15ml5lWTms5ZzBmM00zUWNDU0k/view?usp=sharing","body":"this is the link for the file, you will have to download it since it&#39;s corrupt and won&#39;t open on Drive: <a href=\"https://drive.google.com/file/d/0B15ml5lWTms5ZzBmM00zUWNDU0k/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/0B15ml5lWTms5ZzBmM00zUWNDU0k/&hellip;</a>"},{"owner":{"account_id":3010004,"reputation":648,"user_id":2553733,"accept_rate":60,"display_name":"Ali Baghdadi"},"score":0,"creation_date":1478167663,"post_id":36731657,"comment_id":68047423,"body_markdown":"if you have the solution or any other questions you can answer the question here: http://stackoverflow.com/questions/40024461/spring-boot-birt-report-with-angular-2-client-generates-corrupt-pdf-file","body":"if you have the solution or any other questions you can answer the question here: <a href=\"http://stackoverflow.com/questions/40024461/spring-boot-birt-report-with-angular-2-client-generates-corrupt-pdf-file\" title=\"spring boot birt report with angular 2 client generates corrupt pdf file\">stackoverflow.com/questions/40024461/&hellip;</a>"}],"tags":[],"owner":{"account_id":2382522,"reputation":1144,"user_id":2084253,"accept_rate":80,"display_name":"Kent Bull"},"comment_count":4,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1461111394,"creation_date":1461111394,"answer_id":36731657,"question_id":32069938,"body_markdown":"Dependencies, an instance of the `IReportEngine`, and directories are the most challenging part of setting up BIRT in a spring boot web application.\r\nThis example has a little bit of error handling and depends on **environment variables** for specifying paths to important directories.\r\n\r\nOne nice things about this setup is that it is a standalone ReST API for building and generating reports. As a side benefit it doesn&#39;t depend on JSP at all.\r\n\r\nI run it in a Docker container.\r\n\r\nOriginally there was a plan to use some of the interfaces to try other reporting frameworks like Jasper reports or something else.\r\n\r\nThis isn&#39;t exactly what you are asking for though in my opinion it is better in certain contexts. You have a lot of flexibility with using, configuring, and deploying the BIRT report runner as an application like this. This does not use the pre-packaged BIRT Viewer provided by Actian.\r\n\r\nI would make a data container for reports called **birt-report-runner-data** and then put all of the directories for logging and reports on that container which you can then mount onto your BIRT container.\r\n\r\n\r\nMain Components\r\n===============\r\nMain File (BirtReportRunnerApplication.java)\r\n---\r\n    package com.example;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class BirtReportRunnerApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(BirtReportRunnerApplication.class, args);\r\n        }\r\n    }\r\n\r\nController to receive report Requests (ReportController.java)\r\n---\r\n    package com.example.core.web.controller;\r\n    \r\n    import com.example.core.model.BIRTReport;\r\n    import com.example.core.service.ReportRunner;\r\n    import com.example.core.web.dto.ReportRequest;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController(&quot;ReportController&quot;)\r\n    @RequestMapping(&quot;/reports&quot;)\r\n    public class ReportController {\r\n    \r\n        private Logger logger = LoggerFactory.getLogger(ReportController.class);\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;birt&quot;)\r\n        ReportRunner reportRunner;\r\n    \r\n        @RequestMapping(value = &quot;/birt&quot;, method = RequestMethod.POST)\r\n        public ResponseEntity&lt;byte[]&gt; getBIRTReport(@RequestBody ReportRequest reportRequest) {\r\n            byte[] reportBytes;\r\n            ResponseEntity&lt;byte[]&gt; responseEntity;\r\n            try {\r\n                logger.info(&quot;REPORT REQUEST NAME:   &quot; + reportRequest.getReportName());\r\n                reportBytes =\r\n                    new BIRTReport(\r\n                        reportRequest.getReportName(),\r\n                        reportRequest.getReportParameters(),\r\n                        reportRunner)\r\n                        .runReport().getReportContent().toByteArray();\r\n    \r\n                HttpHeaders httpHeaders = new HttpHeaders();\r\n                httpHeaders.setContentType(MediaType.parseMediaType(&quot;application/pdf&quot;));\r\n                String fileName = reportRequest.getReportName() + &quot;.pdf&quot;;\r\n                httpHeaders.setContentDispositionFormData(fileName, fileName);\r\n                httpHeaders.setCacheControl(&quot;must-revalidate, post-check=0, pre-check=0&quot;);\r\n                responseEntity = new ResponseEntity&lt;byte[]&gt;(reportBytes, httpHeaders, HttpStatus.OK);\r\n            } catch (Exception e) {\r\n                responseEntity = new ResponseEntity&lt;byte[]&gt;(HttpStatus.NOT_IMPLEMENTED);\r\n                return responseEntity;\r\n            }\r\n            return responseEntity;\r\n        }\r\n    }\r\n\r\n\r\nReport Request DTO for specifying report to run (ReportRequest.java)\r\n---\r\n    package com.example.core.web.dto;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    \r\n    import java.util.List;\r\n    \r\n    public class ReportRequest {\r\n        private String reportName;\r\n        private String reportParameters;\r\n    \r\n        public ReportRequest(@JsonProperty(&quot;reportName&quot;) String reportName,\r\n                             @JsonProperty(&quot;reportParameters&quot;) String reportParameters) {\r\n            this.reportName = reportName;\r\n            this.reportParameters = reportParameters;\r\n        }\r\n    \r\n        public String getReportName() {\r\n            return reportName;\r\n        }\r\n    \r\n        public String getReportParameters() {\r\n            return reportParameters;\r\n        }\r\n    \r\n        public void setReportParameters(String reportParameters) {\r\n            this.reportParameters = reportParameters;\r\n        }\r\n    }\r\n\r\nInterface for report runner (ReportRunner.java)\r\n---\r\n    package com.example.core.service;\r\n    \r\n    import com.example.core.model.Report;\r\n    \r\n    import java.io.ByteArrayOutputStream;\r\n    \r\n    public interface ReportRunner {\r\n    \r\n        ByteArrayOutputStream runReport(Report report);\r\n    }\r\n\r\n\r\nLargest class that does most of the work (BIRTReportRunner.java)\r\n---\r\n    package com.example.core.service;\r\n\r\n    import com.example.core.model.Report;\r\n    import org.eclipse.birt.core.exception.BirtException;\r\n    import org.eclipse.birt.core.framework.Platform;\r\n    import org.eclipse.birt.report.engine.api.*;\r\n    import org.eclipse.core.internal.registry.RegistryProviderFactory;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import org.springframework.core.env.Environment;\r\n    import org.springframework.stereotype.Service;\r\n\r\n    import javax.annotation.PostConstruct;\r\n    import javax.annotation.PreDestroy;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.File;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.logging.Level;\r\n\r\n    @Service\r\n    @Qualifier(&quot;birt&quot;)\r\n    public class BIRTReportRunner implements ReportRunner {\r\n        private static final String DEFAULT_LOGGING_DIRECTORY = &quot;defaultBirtLoggingDirectory/&quot;;\r\n        private Logger logger = LoggerFactory.getLogger(BIRTReportRunner.class);\r\n\r\n        private static String reportOutputDirectory;\r\n\r\n        private IReportEngine birtReportEngine = null;\r\n\r\n        @Autowired\r\n        private Environment env;\r\n\r\n        /**\r\n         * Starts up and configures the BIRT Report Engine\r\n         */\r\n        @PostConstruct\r\n        public void startUp() {\r\n            if(env.getProperty(&quot;birt_report_input_dir&quot;) == null)\r\n                throw new RuntimeException(&quot;Cannot start application since birt report input directory was not specified.&quot;);\r\n            try {\r\n                String birtLoggingDirectory = env.getProperty(&quot;birt_logging_directory&quot;) == null ? DEFAULT_LOGGING_DIRECTORY : env.getProperty(&quot;birt_logging_directory&quot;);\r\n                Level birtLoggingLevel = env.getProperty(&quot;birt_logging_level&quot;) == null ? Level.SEVERE : Level.parse(env.getProperty(&quot;birt_logging_level&quot;));\r\n                EngineConfig engineConfig = new EngineConfig();\r\n                logger.info(&quot;BIRT LOG DIRECTORY SET TO : {}&quot;, birtLoggingDirectory);\r\n                logger.info(&quot;BIRT LOGGING LEVEL SET TO {}&quot;, birtLoggingLevel);\r\n                engineConfig.setLogConfig(birtLoggingDirectory, birtLoggingLevel);\r\n\r\n                // Required due to a bug in BIRT that occurs in calling Startup after the Platform has already been started up\r\n                RegistryProviderFactory.releaseDefault();\r\n                Platform.startup(engineConfig);\r\n                IReportEngineFactory reportEngineFactory = (IReportEngineFactory) Platform.createFactoryObject(IReportEngineFactory.EXTENSION_REPORT_ENGINE_FACTORY);\r\n                birtReportEngine = reportEngineFactory.createReportEngine(engineConfig);\r\n            } catch (BirtException e) {\r\n                // TODO add logging aspect and find out how to log a platform startup problem from this catch block, if possible, using the aspect.\r\n                // Possibly rethrow the exception here and catch it in the aspect.\r\n                logger.error(&quot;Birt Startup Error: {}&quot;, e.getMessage());\r\n            }\r\n\r\n            reportOutputDirectory = env.getProperty(&quot;birt_temp_file_output_dir&quot;);\r\n        }\r\n\r\n        /**\r\n         * Shuts down the BIRT Report Engine\r\n         */\r\n        @PreDestroy\r\n        public void shutdown() {\r\n            birtReportEngine.destroy();\r\n            RegistryProviderFactory.releaseDefault();\r\n            Platform.shutdown();\r\n        }\r\n\r\n        public File getReportFromFilesystem(String reportName) throws RuntimeException {\r\n            String reportDirectory = env.getProperty(&quot;birt_report_input_dir&quot;);\r\n            Path birtReport = Paths.get(reportDirectory + File.separator + reportName + &quot;.rptdesign&quot;);\r\n            if(!Files.isReadable(birtReport))\r\n                throw new RuntimeException(&quot;Report &quot; + reportName + &quot; either did not exist or was not writable.&quot;);\r\n\r\n            return birtReport.toFile();\r\n        }\r\n\r\n        /**\r\n         * This method creates and executes the report task, the main responsibility\r\n         * of the entire Report Service.\r\n         * This method is key to enabling pagination for the BIRT report. The IRunTask run task\r\n         * is created and then used to generate an &quot;.rptdocument&quot; binary file.\r\n         * This binary file is then read by the separately created IRenderTask render\r\n         * task. The render task renders the binary document as a binary PDF output\r\n         * stream which is then returned from the method.\r\n         * &lt;p&gt;\r\n         *\r\n         * @param birtReport the report object created at the controller to hold the data of the report request.\r\n         * @return Returns a ByteArrayOutputStream of the PDF bytes generated by the\r\n         */\r\n        @Override\r\n        public ByteArrayOutputStream runReport(Report birtReport) {\r\n\r\n            ByteArrayOutputStream byteArrayOutputStream;\r\n            File rptDesignFile;\r\n\r\n            // get the path to the report design file\r\n            try {\r\n                rptDesignFile = getReportFromFilesystem(birtReport.getName());\r\n            } catch (Exception e) {\r\n                logger.error(&quot;Error while loading rptdesign: {}.&quot;, e.getMessage());\r\n                throw new RuntimeException(&quot;Could not find report&quot;);\r\n            }\r\n\r\n            // process any additional parameters\r\n            Map&lt;String, String&gt; parsedParameters = parseParametersAsMap(birtReport.getParameters());\r\n\r\n            byteArrayOutputStream = new ByteArrayOutputStream();\r\n            try {\r\n                IReportRunnable reportDesign = birtReportEngine.openReportDesign(rptDesignFile.getPath());\r\n                IRunTask runTask = birtReportEngine.createRunTask(reportDesign);\r\n\r\n                if (parsedParameters.size() &gt; 0) {\r\n                    for (Map.Entry&lt;String, String&gt; entry : parsedParameters.entrySet()) {\r\n                        runTask.setParameterValue(entry.getKey(), entry.getValue());\r\n                    }\r\n                }\r\n                runTask.validateParameters();\r\n\r\n                String rptdocument = reportOutputDirectory + File.separator\r\n                        + &quot;generated&quot; + File.separator\r\n                        + birtReport.getName() + &quot;.rptdocument&quot;;\r\n                runTask.run(rptdocument);\r\n\r\n                IReportDocument reportDocument = birtReportEngine.openReportDocument(rptdocument);\r\n                IRenderTask renderTask = birtReportEngine.createRenderTask(reportDocument);\r\n\r\n                PDFRenderOption pdfRenderOption = new PDFRenderOption();\r\n                pdfRenderOption.setOption(IPDFRenderOption.REPAGINATE_FOR_PDF, new Boolean(true));\r\n                pdfRenderOption.setOutputFormat(&quot;pdf&quot;);\r\n                pdfRenderOption.setOutputStream(byteArrayOutputStream);\r\n                renderTask.setRenderOption(pdfRenderOption);\r\n\r\n                renderTask.render();\r\n                renderTask.close();\r\n            } catch (EngineException e) {\r\n                logger.error(&quot;Error while running report task: {}.&quot;, e.getMessage());\r\n                // TODO add custom message to thrown exception\r\n                throw new RuntimeException();\r\n            }\r\n\r\n            return byteArrayOutputStream;\r\n        }\r\n\r\n        /**\r\n         * Takes a String of parameters started by &#39;?&#39;, delimited by &#39;&amp;&#39;, and with\r\n         * keys and values split by &#39;=&#39; and returnes a Map of the keys and values\r\n         * in the String.\r\n         *\r\n         * @param reportParameters a String from a HTTP request URL\r\n         * @return a map of parameters with Key,Value entries as strings\r\n         */\r\n        public Map&lt;String, String&gt; parseParametersAsMap(String reportParameters) {\r\n            Map&lt;String, String&gt; parsedParameters = new HashMap&lt;String, String&gt;();\r\n            String[] paramArray;\r\n            if (reportParameters.isEmpty()) {\r\n                throw new IllegalArgumentException(&quot;Report parameters cannot be empty&quot;);\r\n            } else if (!reportParameters.startsWith(&quot;?&quot;) &amp;&amp; !reportParameters.contains(&quot;?&quot;)) {\r\n                throw new IllegalArgumentException(&quot;Report parameters must start with a question mark &#39;?&#39;!&quot;);\r\n            } else {\r\n                String noQuestionMark = reportParameters.substring(1, reportParameters.length());\r\n                paramArray = noQuestionMark.split(&quot;&amp;&quot;);\r\n                for (String param : paramArray) {\r\n                    String[] paramGroup = param.split(&quot;=&quot;);\r\n                    if (paramGroup.length == 2) {\r\n                        parsedParameters.put(paramGroup[0], paramGroup[1]);\r\n                    } else {\r\n                        parsedParameters.put(paramGroup[0], &quot;&quot;);\r\n                    }\r\n\r\n                }\r\n            }\r\n            return parsedParameters;\r\n        }\r\n    }\r\n\r\n\r\nReport object class (Report.java)\r\n---\r\n    package com.example.core.model;\r\n    \r\n    import com.example.core.service.ReportRunner;\r\n    \r\n    import java.io.ByteArrayOutputStream;\r\n    import java.util.List;\r\n    \r\n    /**\r\n     * A Report object has a byte representation of the report output that can be\r\n     * used to write to any output stream. This class is designed around the concept\r\n     * of using ByteArrayOutputStreams to write PDFs to an output stream.\r\n     *\r\n     *\r\n     */\r\n    public abstract class Report {\r\n    \r\n        protected String name;\r\n        protected String parameters;\r\n        protected ByteArrayOutputStream reportContent;\r\n        protected ReportRunner reportRunner;\r\n    \r\n        public Report(String name, String parameters, ReportRunner reportRunner) {\r\n            this.name = name;\r\n            this.parameters = parameters;\r\n            this.reportRunner = reportRunner;\r\n        }\r\n    \r\n        /**\r\n         * This is the processing method for a Report. Once the report is ran it\r\n         * populates an internal field with a ByteArrayOutputStream of the\r\n         * report content generated during the run process.\r\n         * @return Returns itself with the report content output stream created.\r\n         */\r\n        public abstract Report runReport();\r\n    \r\n        public ByteArrayOutputStream getReportContent() {\r\n            return this.reportContent;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public String getParameters() {\r\n            return parameters;\r\n        }\r\n    }\r\n\r\nBIRTReport object class (BIRTReport.java)\r\n---\r\n    package com.example.core.model;\r\n\r\n    import com.example.core.service.ReportRunner;\r\n\r\n    public class BIRTReport extends Report {\r\n\r\n        public BIRTReport(String name, String reportParameters, ReportRunner reportRunner) {\r\n            super(name, reportParameters, reportRunner);\r\n        }\r\n\r\n        @Override\r\n        public Report runReport() {\r\n            this.reportContent = reportRunner.runReport(this);\r\n            return this;\r\n        }\r\n    }\r\n\r\nBuild file (build.gradle)\r\n---\r\n    buildscript {\r\n        ext {\r\n            springBootVersion = &#39;1.3.2.RELEASE&#39;\r\n        }\r\n        repositories {\r\n            jcenter()\r\n\r\n        }\r\n        dependencies {\r\n            classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\r\n            classpath(&quot;io.spring.gradle:dependency-management-plugin:0.5.2.RELEASE&quot;)\r\n        }\r\n    }\r\n\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;eclipse&#39;\r\n    apply plugin: &#39;idea&#39;\r\n    apply plugin: &#39;spring-boot&#39;\r\n\r\n    jar {\r\n        baseName = &#39;com.example.simple-birt-runner&#39;\r\n        version = &#39;1.0.0&#39;\r\n    }\r\n\r\n    sourceCompatibility = 1.8\r\n    targetCompatibility = 1.8\r\n\r\n    ext {\r\n        springBootVersion = &#39;1.3.0.M5&#39;\r\n    }\r\n\r\n    repositories {\r\n        jcenter()\r\n        mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n        compile(&quot;org.springframework.boot:spring-boot-starter-actuator:${springBootVersion}&quot;)\r\n        compile(&quot;org.springframework.boot:spring-boot-starter-web:${springBootVersion}&quot;)\r\n\r\n\r\n        // BIRT Runtime and ReportEngine dependencies\r\n        // These were pulled from the Actuate download site at http://download.eclipse.org/birt/downloads/ for version 4.5.0\r\n        compile fileTree(dir: &#39;lib&#39;, include: &#39;*.jar&#39;)\r\n        /*compile(&quot;org.eclipse.birt.runtime:org.eclipse.birt.runtime:4.4.2&quot;) {\r\n            exclude group: &quot;org.eclipse.birt.runtime&quot;, module: &quot;org.apache.poi&quot;\r\n            exclude group: &quot;org.eclipse.birt.runtime&quot;, module: &quot;org.eclipse.orbit.mongodb&quot;\r\n        }*/\r\n\r\n        compile(&quot;org.springframework.boot:spring-boot-starter-tomcat&quot;)\r\n\r\n        // include any runtime JDBC driver dependencies here\r\n\r\n        testCompile(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\r\n    }\r\n\r\n\r\nDependencies\r\n============\r\nGet all of the dependencies in the Birt Viewer lib directory and put them on your classpath. Here is a full list of external dependencies:\r\n\r\n    com.ibm.icu_54.1.1.v201501272100.jar\r\n    com.lowagie.text_2.1.7.v201004222200.jar\r\n    derby.jar\r\n    flute.jar\r\n    javax.wsdl_1.5.1.v201012040544.jar\r\n    javax.xml.stream_1.0.1.v201004272200.jar\r\n    javax.xml_1.3.4.v201005080400.jar\r\n    net.sourceforge.lpg.lpgjavaruntime_1.1.0.v201004271650.jar\r\n    org.apache.batik.bridge_1.6.0.v201011041432.jar\r\n    org.apache.batik.css_1.6.0.v201011041432.jar\r\n    org.apache.batik.dom.svg_1.6.0.v201011041432.jar\r\n    org.apache.batik.dom_1.6.1.v201505192100.jar\r\n    org.apache.batik.ext.awt_1.6.0.v201011041432.jar\r\n    org.apache.batik.parser_1.6.0.v201011041432.jar\r\n    org.apache.batik.pdf_1.6.0.v201105071520.jar\r\n    org.apache.batik.svggen_1.6.0.v201011041432.jar\r\n    org.apache.batik.transcoder_1.6.0.v201011041432.jar\r\n    org.apache.batik.util.gui_1.6.0.v201011041432.jar\r\n    org.apache.batik.util_1.6.0.v201011041432.jar\r\n    org.apache.batik.xml_1.6.0.v201011041432.jar\r\n    org.apache.commons.codec_1.6.0.v201305230611.jar\r\n    org.apache.commons.logging_1.1.1.v201101211721.jar\r\n    org.apache.lucene.core_3.5.0.v20120725-1805.jar\r\n    org.apache.poi_3.9.0.v201405241750.jar\r\n    org.apache.xerces_2.9.0.v201101211617.jar\r\n    org.apache.xml.resolver_1.2.0.v201005080400.jar\r\n    org.apache.xml.serializer_2.7.1.v201005080400.jar\r\n    org.eclipse.birt.runtime_4.5.0.jar\r\n    org.eclipse.core.contenttype_3.5.0.v20150421-2214.jar\r\n    org.eclipse.core.expressions_3.5.0.v20150421-2214.jar\r\n    org.eclipse.core.filesystem_1.5.0.v20150421-0713.jar\r\n    org.eclipse.core.jobs_3.7.0.v20150330-2103.jar\r\n    org.eclipse.core.resources_3.10.0.v20150423-0755.jar\r\n    org.eclipse.core.runtime.compatibility_3.2.300.v20150423-0821.jar\r\n    org.eclipse.core.runtime_3.11.0.v20150405-1723.jar\r\n    org.eclipse.datatools.connectivity.apache.derby.dbdefinition_1.0.2.v201107221459.jar\r\n    org.eclipse.datatools.connectivity.apache.derby_1.0.103.v201212070447.jar\r\n    org.eclipse.datatools.connectivity.console.profile_1.0.10.v201109250955.jar\r\n    org.eclipse.datatools.connectivity.db.generic_1.0.1.v201107221459.jar\r\n    org.eclipse.datatools.connectivity.dbdefinition.genericJDBC_1.0.2.v201310181001.jar\r\n    org.eclipse.datatools.connectivity.oda.consumer_3.2.6.v201403131814.jar\r\n    org.eclipse.datatools.connectivity.oda.design_3.3.6.v201403131814.jar\r\n    org.eclipse.datatools.connectivity.oda.flatfile_3.1.8.v201403010906.jar\r\n    org.eclipse.datatools.connectivity.oda.profile_3.2.9.v201403131814.jar\r\n    org.eclipse.datatools.connectivity.oda_3.4.3.v201405301249.jar\r\n    org.eclipse.datatools.connectivity.sqm.core_1.2.8.v201401230755.jar\r\n    org.eclipse.datatools.connectivity_1.2.11.v201401230755.jar\r\n    org.eclipse.datatools.enablement.hsqldb.dbdefinition_1.0.0.v201107221502.jar\r\n    org.eclipse.datatools.enablement.hsqldb_1.0.0.v201107221502.jar\r\n    org.eclipse.datatools.enablement.ibm.db2.iseries.dbdefinition_1.0.3.v201107221502.jar\r\n    org.eclipse.datatools.enablement.ibm.db2.iseries_1.0.2.v201107221502.jar\r\n    org.eclipse.datatools.enablement.ibm.db2.luw.dbdefinition_1.0.7.v201405302027.jar\r\n    org.eclipse.datatools.enablement.ibm.db2.luw_1.0.3.v201401170830.jar\r\n    org.eclipse.datatools.enablement.ibm.db2.zseries.dbdefinition_1.0.4.v201107221502.jar\r\n    org.eclipse.datatools.enablement.ibm.db2.zseries_1.0.2.v201107221502.jar\r\n    org.eclipse.datatools.enablement.ibm.db2_1.0.0.v201401170830.jar\r\n    org.eclipse.datatools.enablement.ibm.informix.dbdefinition_1.0.4.v201107221502.jar\r\n    org.eclipse.datatools.enablement.ibm.informix_1.0.1.v201107221502.jar\r\n    org.eclipse.datatools.enablement.ibm_1.0.0.v201401170830.jar\r\n    org.eclipse.datatools.enablement.msft.sqlserver.dbdefinition_1.0.1.v201201240505.jar\r\n    org.eclipse.datatools.enablement.msft.sqlserver_1.0.3.v201308161009.jar\r\n    org.eclipse.datatools.enablement.mysql.dbdefinition_1.0.4.v201109022331.jar\r\n    org.eclipse.datatools.enablement.mysql_1.0.4.v201212120617.jar\r\n    org.eclipse.datatools.enablement.oda.ws_1.2.6.v201403131825.jar\r\n    org.eclipse.datatools.enablement.oda.xml_1.2.5.v201403131825.jar\r\n    org.eclipse.datatools.enablement.oracle.dbdefinition_1.0.103.v201206010214.jar\r\n    org.eclipse.datatools.enablement.oracle_1.0.0.v201107221506.jar\r\n    org.eclipse.datatools.enablement.postgresql.dbdefinition_1.0.2.v201110070445.jar\r\n    org.eclipse.datatools.enablement.postgresql_1.1.1.v201205252207.jar\r\n    org.eclipse.datatools.enablement.sap.maxdb.dbdefinition_1.0.0.v201107221507.jar\r\n    org.eclipse.datatools.enablement.sap.maxdb_1.0.0.v201107221507.jar\r\n    org.eclipse.datatools.modelbase.dbdefinition_1.0.2.v201107221519.jar\r\n    org.eclipse.datatools.modelbase.derby_1.0.0.v201107221519.jar\r\n    org.eclipse.datatools.modelbase.sql.query_1.1.4.v201212120619.jar\r\n    org.eclipse.datatools.modelbase.sql_1.0.6.v201208230744.jar\r\n    org.eclipse.datatools.sqltools.data.core_1.2.3.v201212120623.jar\r\n    org.eclipse.datatools.sqltools.parsers.sql.lexer_1.0.1.v201107221520.jar\r\n    org.eclipse.datatools.sqltools.parsers.sql.query_1.2.1.v201201250511.jar\r\n    org.eclipse.datatools.sqltools.parsers.sql_1.0.2.v201107221520.jar\r\n    org.eclipse.datatools.sqltools.result_1.1.6.v201402080246.jar\r\n    org.eclipse.emf.common_2.11.0.v20150512-0501.jar\r\n    org.eclipse.emf.ecore.change_2.11.0.v20150512-0501.jar\r\n    org.eclipse.emf.ecore.xmi_2.11.0.v20150512-0501.jar\r\n    org.eclipse.emf.ecore_2.11.0.v20150512-0501.jar\r\n    org.eclipse.equinox.app_1.3.300.v20150423-1356.jar\r\n    org.eclipse.equinox.common_3.7.0.v20150402-1709.jar\r\n    org.eclipse.equinox.preferences_3.5.300.v20150408-1437.jar\r\n    org.eclipse.equinox.registry_3.6.0.v20150318-1503.jar\r\n    org.eclipse.help_3.6.0.v20130326-1254.jar\r\n    org.eclipse.osgi.services_3.5.0.v20150519-2006.jar\r\n    org.eclipse.osgi_3.10.100.v20150529-1857.jar\r\n    org.eclipse.update.configurator_3.3.300.v20140518-1928.jar\r\n    org.mozilla.javascript_1.7.5.v201504281450.jar\r\n    org.w3c.css.sac_1.3.1.v200903091627.jar\r\n    org.w3c.dom.events_3.0.0.draft20060413_v201105210656.jar\r\n    org.w3c.dom.smil_1.0.1.v200903091627.jar\r\n    org.w3c.dom.svg_1.1.0.v201011041433.jar\r\n\r\nApplication properties (application.yml)\r\n---\r\n    birt:\r\n      report:\r\n        output:\r\n          dir: ${birt_temp_file_output_dir}\r\n        input:\r\n          dir: ${birt_report_input_dir}\r\n      logging:\r\n        level: ${birt_logging_level}\r\n    \r\n    \r\n    server:\r\n      port: 8080\r\n      context-path: /simple-birt-runner\r\n    \r\n    \r\n    birt:\r\n      logging:\r\n        level: SEVERE\r\n    \r\n    logging:\r\n      level:\r\n        org:\r\n          springframework:\r\n            web: ERROR\r\n\r\nDockerfile for running (Dockerfile)\r\n---\r\n\r\n    FROM java:openjdk-8u66-jre\r\n    MAINTAINER Kent O. Johnson &lt;kentoj@gmail.com&gt;\r\n    \r\n    COPY com.example.simple-birt-runner-*.jar /opt/soft/simple-birt-runner.jar\r\n    \r\n    RUN mkdir -p /reports/input \\\r\n        &amp;&amp; mkdir /reports/output \\\r\n        &amp;&amp; mkdir -p /reports/log/engine\r\n    \r\n    WORKDIR /opt/soft\r\n    \r\n    CMD java -jar -Xms128M -Xmx4G simple-birt-runner.jar\r\n    \r\n    EXPOSE 8080\r\n\r\nDocker compose file for running image (docker-compose.yml)\r\n---\r\n    simple-birt-runner:\r\n      image: soft/simple-birt-runner-release\r\n      ports:\r\n      - &quot;8090:8080&quot;\r\n      environment:\r\n      - birt_temp_file_output_dir=/reports/output\r\n      - birt_report_input_dir=/reports/input\r\n      - birt_logging_directory=/reports/log/engine\r\n      - birt_logging_level=SEVERE\r\n      volumes_from:\r\n      - birt-report-runner-data\r\n      ","title":"BIRT in spring boot app","body":"<p>Dependencies, an instance of the <code>IReportEngine</code>, and directories are the most challenging part of setting up BIRT in a spring boot web application.\nThis example has a little bit of error handling and depends on <strong>environment variables</strong> for specifying paths to important directories.</p>\n\n<p>One nice things about this setup is that it is a standalone ReST API for building and generating reports. As a side benefit it doesn't depend on JSP at all.</p>\n\n<p>I run it in a Docker container.</p>\n\n<p>Originally there was a plan to use some of the interfaces to try other reporting frameworks like Jasper reports or something else.</p>\n\n<p>This isn't exactly what you are asking for though in my opinion it is better in certain contexts. You have a lot of flexibility with using, configuring, and deploying the BIRT report runner as an application like this. This does not use the pre-packaged BIRT Viewer provided by Actian.</p>\n\n<p>I would make a data container for reports called <strong>birt-report-runner-data</strong> and then put all of the directories for logging and reports on that container which you can then mount onto your BIRT container.</p>\n\n<h1>Main Components</h1>\n\n<h2>Main File (BirtReportRunnerApplication.java)</h2>\n\n<pre><code>package com.example;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class BirtReportRunnerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(BirtReportRunnerApplication.class, args);\n    }\n}\n</code></pre>\n\n<h2>Controller to receive report Requests (ReportController.java)</h2>\n\n<pre><code>package com.example.core.web.controller;\n\nimport com.example.core.model.BIRTReport;\nimport com.example.core.service.ReportRunner;\nimport com.example.core.web.dto.ReportRequest;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController(\"ReportController\")\n@RequestMapping(\"/reports\")\npublic class ReportController {\n\n    private Logger logger = LoggerFactory.getLogger(ReportController.class);\n\n    @Autowired\n    @Qualifier(\"birt\")\n    ReportRunner reportRunner;\n\n    @RequestMapping(value = \"/birt\", method = RequestMethod.POST)\n    public ResponseEntity&lt;byte[]&gt; getBIRTReport(@RequestBody ReportRequest reportRequest) {\n        byte[] reportBytes;\n        ResponseEntity&lt;byte[]&gt; responseEntity;\n        try {\n            logger.info(\"REPORT REQUEST NAME:   \" + reportRequest.getReportName());\n            reportBytes =\n                new BIRTReport(\n                    reportRequest.getReportName(),\n                    reportRequest.getReportParameters(),\n                    reportRunner)\n                    .runReport().getReportContent().toByteArray();\n\n            HttpHeaders httpHeaders = new HttpHeaders();\n            httpHeaders.setContentType(MediaType.parseMediaType(\"application/pdf\"));\n            String fileName = reportRequest.getReportName() + \".pdf\";\n            httpHeaders.setContentDispositionFormData(fileName, fileName);\n            httpHeaders.setCacheControl(\"must-revalidate, post-check=0, pre-check=0\");\n            responseEntity = new ResponseEntity&lt;byte[]&gt;(reportBytes, httpHeaders, HttpStatus.OK);\n        } catch (Exception e) {\n            responseEntity = new ResponseEntity&lt;byte[]&gt;(HttpStatus.NOT_IMPLEMENTED);\n            return responseEntity;\n        }\n        return responseEntity;\n    }\n}\n</code></pre>\n\n<h2>Report Request DTO for specifying report to run (ReportRequest.java)</h2>\n\n<pre><code>package com.example.core.web.dto;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\nimport java.util.List;\n\npublic class ReportRequest {\n    private String reportName;\n    private String reportParameters;\n\n    public ReportRequest(@JsonProperty(\"reportName\") String reportName,\n                         @JsonProperty(\"reportParameters\") String reportParameters) {\n        this.reportName = reportName;\n        this.reportParameters = reportParameters;\n    }\n\n    public String getReportName() {\n        return reportName;\n    }\n\n    public String getReportParameters() {\n        return reportParameters;\n    }\n\n    public void setReportParameters(String reportParameters) {\n        this.reportParameters = reportParameters;\n    }\n}\n</code></pre>\n\n<h2>Interface for report runner (ReportRunner.java)</h2>\n\n<pre><code>package com.example.core.service;\n\nimport com.example.core.model.Report;\n\nimport java.io.ByteArrayOutputStream;\n\npublic interface ReportRunner {\n\n    ByteArrayOutputStream runReport(Report report);\n}\n</code></pre>\n\n<h2>Largest class that does most of the work (BIRTReportRunner.java)</h2>\n\n<pre><code>package com.example.core.service;\n\nimport com.example.core.model.Report;\nimport org.eclipse.birt.core.exception.BirtException;\nimport org.eclipse.birt.core.framework.Platform;\nimport org.eclipse.birt.report.engine.api.*;\nimport org.eclipse.core.internal.registry.RegistryProviderFactory;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.core.env.Environment;\nimport org.springframework.stereotype.Service;\n\nimport javax.annotation.PostConstruct;\nimport javax.annotation.PreDestroy;\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.logging.Level;\n\n@Service\n@Qualifier(\"birt\")\npublic class BIRTReportRunner implements ReportRunner {\n    private static final String DEFAULT_LOGGING_DIRECTORY = \"defaultBirtLoggingDirectory/\";\n    private Logger logger = LoggerFactory.getLogger(BIRTReportRunner.class);\n\n    private static String reportOutputDirectory;\n\n    private IReportEngine birtReportEngine = null;\n\n    @Autowired\n    private Environment env;\n\n    /**\n     * Starts up and configures the BIRT Report Engine\n     */\n    @PostConstruct\n    public void startUp() {\n        if(env.getProperty(\"birt_report_input_dir\") == null)\n            throw new RuntimeException(\"Cannot start application since birt report input directory was not specified.\");\n        try {\n            String birtLoggingDirectory = env.getProperty(\"birt_logging_directory\") == null ? DEFAULT_LOGGING_DIRECTORY : env.getProperty(\"birt_logging_directory\");\n            Level birtLoggingLevel = env.getProperty(\"birt_logging_level\") == null ? Level.SEVERE : Level.parse(env.getProperty(\"birt_logging_level\"));\n            EngineConfig engineConfig = new EngineConfig();\n            logger.info(\"BIRT LOG DIRECTORY SET TO : {}\", birtLoggingDirectory);\n            logger.info(\"BIRT LOGGING LEVEL SET TO {}\", birtLoggingLevel);\n            engineConfig.setLogConfig(birtLoggingDirectory, birtLoggingLevel);\n\n            // Required due to a bug in BIRT that occurs in calling Startup after the Platform has already been started up\n            RegistryProviderFactory.releaseDefault();\n            Platform.startup(engineConfig);\n            IReportEngineFactory reportEngineFactory = (IReportEngineFactory) Platform.createFactoryObject(IReportEngineFactory.EXTENSION_REPORT_ENGINE_FACTORY);\n            birtReportEngine = reportEngineFactory.createReportEngine(engineConfig);\n        } catch (BirtException e) {\n            // TODO add logging aspect and find out how to log a platform startup problem from this catch block, if possible, using the aspect.\n            // Possibly rethrow the exception here and catch it in the aspect.\n            logger.error(\"Birt Startup Error: {}\", e.getMessage());\n        }\n\n        reportOutputDirectory = env.getProperty(\"birt_temp_file_output_dir\");\n    }\n\n    /**\n     * Shuts down the BIRT Report Engine\n     */\n    @PreDestroy\n    public void shutdown() {\n        birtReportEngine.destroy();\n        RegistryProviderFactory.releaseDefault();\n        Platform.shutdown();\n    }\n\n    public File getReportFromFilesystem(String reportName) throws RuntimeException {\n        String reportDirectory = env.getProperty(\"birt_report_input_dir\");\n        Path birtReport = Paths.get(reportDirectory + File.separator + reportName + \".rptdesign\");\n        if(!Files.isReadable(birtReport))\n            throw new RuntimeException(\"Report \" + reportName + \" either did not exist or was not writable.\");\n\n        return birtReport.toFile();\n    }\n\n    /**\n     * This method creates and executes the report task, the main responsibility\n     * of the entire Report Service.\n     * This method is key to enabling pagination for the BIRT report. The IRunTask run task\n     * is created and then used to generate an \".rptdocument\" binary file.\n     * This binary file is then read by the separately created IRenderTask render\n     * task. The render task renders the binary document as a binary PDF output\n     * stream which is then returned from the method.\n     * &lt;p&gt;\n     *\n     * @param birtReport the report object created at the controller to hold the data of the report request.\n     * @return Returns a ByteArrayOutputStream of the PDF bytes generated by the\n     */\n    @Override\n    public ByteArrayOutputStream runReport(Report birtReport) {\n\n        ByteArrayOutputStream byteArrayOutputStream;\n        File rptDesignFile;\n\n        // get the path to the report design file\n        try {\n            rptDesignFile = getReportFromFilesystem(birtReport.getName());\n        } catch (Exception e) {\n            logger.error(\"Error while loading rptdesign: {}.\", e.getMessage());\n            throw new RuntimeException(\"Could not find report\");\n        }\n\n        // process any additional parameters\n        Map&lt;String, String&gt; parsedParameters = parseParametersAsMap(birtReport.getParameters());\n\n        byteArrayOutputStream = new ByteArrayOutputStream();\n        try {\n            IReportRunnable reportDesign = birtReportEngine.openReportDesign(rptDesignFile.getPath());\n            IRunTask runTask = birtReportEngine.createRunTask(reportDesign);\n\n            if (parsedParameters.size() &gt; 0) {\n                for (Map.Entry&lt;String, String&gt; entry : parsedParameters.entrySet()) {\n                    runTask.setParameterValue(entry.getKey(), entry.getValue());\n                }\n            }\n            runTask.validateParameters();\n\n            String rptdocument = reportOutputDirectory + File.separator\n                    + \"generated\" + File.separator\n                    + birtReport.getName() + \".rptdocument\";\n            runTask.run(rptdocument);\n\n            IReportDocument reportDocument = birtReportEngine.openReportDocument(rptdocument);\n            IRenderTask renderTask = birtReportEngine.createRenderTask(reportDocument);\n\n            PDFRenderOption pdfRenderOption = new PDFRenderOption();\n            pdfRenderOption.setOption(IPDFRenderOption.REPAGINATE_FOR_PDF, new Boolean(true));\n            pdfRenderOption.setOutputFormat(\"pdf\");\n            pdfRenderOption.setOutputStream(byteArrayOutputStream);\n            renderTask.setRenderOption(pdfRenderOption);\n\n            renderTask.render();\n            renderTask.close();\n        } catch (EngineException e) {\n            logger.error(\"Error while running report task: {}.\", e.getMessage());\n            // TODO add custom message to thrown exception\n            throw new RuntimeException();\n        }\n\n        return byteArrayOutputStream;\n    }\n\n    /**\n     * Takes a String of parameters started by '?', delimited by '&amp;', and with\n     * keys and values split by '=' and returnes a Map of the keys and values\n     * in the String.\n     *\n     * @param reportParameters a String from a HTTP request URL\n     * @return a map of parameters with Key,Value entries as strings\n     */\n    public Map&lt;String, String&gt; parseParametersAsMap(String reportParameters) {\n        Map&lt;String, String&gt; parsedParameters = new HashMap&lt;String, String&gt;();\n        String[] paramArray;\n        if (reportParameters.isEmpty()) {\n            throw new IllegalArgumentException(\"Report parameters cannot be empty\");\n        } else if (!reportParameters.startsWith(\"?\") &amp;&amp; !reportParameters.contains(\"?\")) {\n            throw new IllegalArgumentException(\"Report parameters must start with a question mark '?'!\");\n        } else {\n            String noQuestionMark = reportParameters.substring(1, reportParameters.length());\n            paramArray = noQuestionMark.split(\"&amp;\");\n            for (String param : paramArray) {\n                String[] paramGroup = param.split(\"=\");\n                if (paramGroup.length == 2) {\n                    parsedParameters.put(paramGroup[0], paramGroup[1]);\n                } else {\n                    parsedParameters.put(paramGroup[0], \"\");\n                }\n\n            }\n        }\n        return parsedParameters;\n    }\n}\n</code></pre>\n\n<h2>Report object class (Report.java)</h2>\n\n<pre><code>package com.example.core.model;\n\nimport com.example.core.service.ReportRunner;\n\nimport java.io.ByteArrayOutputStream;\nimport java.util.List;\n\n/**\n * A Report object has a byte representation of the report output that can be\n * used to write to any output stream. This class is designed around the concept\n * of using ByteArrayOutputStreams to write PDFs to an output stream.\n *\n *\n */\npublic abstract class Report {\n\n    protected String name;\n    protected String parameters;\n    protected ByteArrayOutputStream reportContent;\n    protected ReportRunner reportRunner;\n\n    public Report(String name, String parameters, ReportRunner reportRunner) {\n        this.name = name;\n        this.parameters = parameters;\n        this.reportRunner = reportRunner;\n    }\n\n    /**\n     * This is the processing method for a Report. Once the report is ran it\n     * populates an internal field with a ByteArrayOutputStream of the\n     * report content generated during the run process.\n     * @return Returns itself with the report content output stream created.\n     */\n    public abstract Report runReport();\n\n    public ByteArrayOutputStream getReportContent() {\n        return this.reportContent;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getParameters() {\n        return parameters;\n    }\n}\n</code></pre>\n\n<h2>BIRTReport object class (BIRTReport.java)</h2>\n\n<pre><code>package com.example.core.model;\n\nimport com.example.core.service.ReportRunner;\n\npublic class BIRTReport extends Report {\n\n    public BIRTReport(String name, String reportParameters, ReportRunner reportRunner) {\n        super(name, reportParameters, reportRunner);\n    }\n\n    @Override\n    public Report runReport() {\n        this.reportContent = reportRunner.runReport(this);\n        return this;\n    }\n}\n</code></pre>\n\n<h2>Build file (build.gradle)</h2>\n\n<pre><code>buildscript {\n    ext {\n        springBootVersion = '1.3.2.RELEASE'\n    }\n    repositories {\n        jcenter()\n\n    }\n    dependencies {\n        classpath(\"org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}\")\n        classpath(\"io.spring.gradle:dependency-management-plugin:0.5.2.RELEASE\")\n    }\n}\n\napply plugin: 'java'\napply plugin: 'eclipse'\napply plugin: 'idea'\napply plugin: 'spring-boot'\n\njar {\n    baseName = 'com.example.simple-birt-runner'\n    version = '1.0.0'\n}\n\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\n\next {\n    springBootVersion = '1.3.0.M5'\n}\n\nrepositories {\n    jcenter()\n    mavenCentral()\n}\n\ndependencies {\n    compile(\"org.springframework.boot:spring-boot-starter-actuator:${springBootVersion}\")\n    compile(\"org.springframework.boot:spring-boot-starter-web:${springBootVersion}\")\n\n\n    // BIRT Runtime and ReportEngine dependencies\n    // These were pulled from the Actuate download site at http://download.eclipse.org/birt/downloads/ for version 4.5.0\n    compile fileTree(dir: 'lib', include: '*.jar')\n    /*compile(\"org.eclipse.birt.runtime:org.eclipse.birt.runtime:4.4.2\") {\n        exclude group: \"org.eclipse.birt.runtime\", module: \"org.apache.poi\"\n        exclude group: \"org.eclipse.birt.runtime\", module: \"org.eclipse.orbit.mongodb\"\n    }*/\n\n    compile(\"org.springframework.boot:spring-boot-starter-tomcat\")\n\n    // include any runtime JDBC driver dependencies here\n\n    testCompile(\"org.springframework.boot:spring-boot-starter-test\")\n}\n</code></pre>\n\n<h1>Dependencies</h1>\n\n<p>Get all of the dependencies in the Birt Viewer lib directory and put them on your classpath. Here is a full list of external dependencies:</p>\n\n<pre><code>com.ibm.icu_54.1.1.v201501272100.jar\ncom.lowagie.text_2.1.7.v201004222200.jar\nderby.jar\nflute.jar\njavax.wsdl_1.5.1.v201012040544.jar\njavax.xml.stream_1.0.1.v201004272200.jar\njavax.xml_1.3.4.v201005080400.jar\nnet.sourceforge.lpg.lpgjavaruntime_1.1.0.v201004271650.jar\norg.apache.batik.bridge_1.6.0.v201011041432.jar\norg.apache.batik.css_1.6.0.v201011041432.jar\norg.apache.batik.dom.svg_1.6.0.v201011041432.jar\norg.apache.batik.dom_1.6.1.v201505192100.jar\norg.apache.batik.ext.awt_1.6.0.v201011041432.jar\norg.apache.batik.parser_1.6.0.v201011041432.jar\norg.apache.batik.pdf_1.6.0.v201105071520.jar\norg.apache.batik.svggen_1.6.0.v201011041432.jar\norg.apache.batik.transcoder_1.6.0.v201011041432.jar\norg.apache.batik.util.gui_1.6.0.v201011041432.jar\norg.apache.batik.util_1.6.0.v201011041432.jar\norg.apache.batik.xml_1.6.0.v201011041432.jar\norg.apache.commons.codec_1.6.0.v201305230611.jar\norg.apache.commons.logging_1.1.1.v201101211721.jar\norg.apache.lucene.core_3.5.0.v20120725-1805.jar\norg.apache.poi_3.9.0.v201405241750.jar\norg.apache.xerces_2.9.0.v201101211617.jar\norg.apache.xml.resolver_1.2.0.v201005080400.jar\norg.apache.xml.serializer_2.7.1.v201005080400.jar\norg.eclipse.birt.runtime_4.5.0.jar\norg.eclipse.core.contenttype_3.5.0.v20150421-2214.jar\norg.eclipse.core.expressions_3.5.0.v20150421-2214.jar\norg.eclipse.core.filesystem_1.5.0.v20150421-0713.jar\norg.eclipse.core.jobs_3.7.0.v20150330-2103.jar\norg.eclipse.core.resources_3.10.0.v20150423-0755.jar\norg.eclipse.core.runtime.compatibility_3.2.300.v20150423-0821.jar\norg.eclipse.core.runtime_3.11.0.v20150405-1723.jar\norg.eclipse.datatools.connectivity.apache.derby.dbdefinition_1.0.2.v201107221459.jar\norg.eclipse.datatools.connectivity.apache.derby_1.0.103.v201212070447.jar\norg.eclipse.datatools.connectivity.console.profile_1.0.10.v201109250955.jar\norg.eclipse.datatools.connectivity.db.generic_1.0.1.v201107221459.jar\norg.eclipse.datatools.connectivity.dbdefinition.genericJDBC_1.0.2.v201310181001.jar\norg.eclipse.datatools.connectivity.oda.consumer_3.2.6.v201403131814.jar\norg.eclipse.datatools.connectivity.oda.design_3.3.6.v201403131814.jar\norg.eclipse.datatools.connectivity.oda.flatfile_3.1.8.v201403010906.jar\norg.eclipse.datatools.connectivity.oda.profile_3.2.9.v201403131814.jar\norg.eclipse.datatools.connectivity.oda_3.4.3.v201405301249.jar\norg.eclipse.datatools.connectivity.sqm.core_1.2.8.v201401230755.jar\norg.eclipse.datatools.connectivity_1.2.11.v201401230755.jar\norg.eclipse.datatools.enablement.hsqldb.dbdefinition_1.0.0.v201107221502.jar\norg.eclipse.datatools.enablement.hsqldb_1.0.0.v201107221502.jar\norg.eclipse.datatools.enablement.ibm.db2.iseries.dbdefinition_1.0.3.v201107221502.jar\norg.eclipse.datatools.enablement.ibm.db2.iseries_1.0.2.v201107221502.jar\norg.eclipse.datatools.enablement.ibm.db2.luw.dbdefinition_1.0.7.v201405302027.jar\norg.eclipse.datatools.enablement.ibm.db2.luw_1.0.3.v201401170830.jar\norg.eclipse.datatools.enablement.ibm.db2.zseries.dbdefinition_1.0.4.v201107221502.jar\norg.eclipse.datatools.enablement.ibm.db2.zseries_1.0.2.v201107221502.jar\norg.eclipse.datatools.enablement.ibm.db2_1.0.0.v201401170830.jar\norg.eclipse.datatools.enablement.ibm.informix.dbdefinition_1.0.4.v201107221502.jar\norg.eclipse.datatools.enablement.ibm.informix_1.0.1.v201107221502.jar\norg.eclipse.datatools.enablement.ibm_1.0.0.v201401170830.jar\norg.eclipse.datatools.enablement.msft.sqlserver.dbdefinition_1.0.1.v201201240505.jar\norg.eclipse.datatools.enablement.msft.sqlserver_1.0.3.v201308161009.jar\norg.eclipse.datatools.enablement.mysql.dbdefinition_1.0.4.v201109022331.jar\norg.eclipse.datatools.enablement.mysql_1.0.4.v201212120617.jar\norg.eclipse.datatools.enablement.oda.ws_1.2.6.v201403131825.jar\norg.eclipse.datatools.enablement.oda.xml_1.2.5.v201403131825.jar\norg.eclipse.datatools.enablement.oracle.dbdefinition_1.0.103.v201206010214.jar\norg.eclipse.datatools.enablement.oracle_1.0.0.v201107221506.jar\norg.eclipse.datatools.enablement.postgresql.dbdefinition_1.0.2.v201110070445.jar\norg.eclipse.datatools.enablement.postgresql_1.1.1.v201205252207.jar\norg.eclipse.datatools.enablement.sap.maxdb.dbdefinition_1.0.0.v201107221507.jar\norg.eclipse.datatools.enablement.sap.maxdb_1.0.0.v201107221507.jar\norg.eclipse.datatools.modelbase.dbdefinition_1.0.2.v201107221519.jar\norg.eclipse.datatools.modelbase.derby_1.0.0.v201107221519.jar\norg.eclipse.datatools.modelbase.sql.query_1.1.4.v201212120619.jar\norg.eclipse.datatools.modelbase.sql_1.0.6.v201208230744.jar\norg.eclipse.datatools.sqltools.data.core_1.2.3.v201212120623.jar\norg.eclipse.datatools.sqltools.parsers.sql.lexer_1.0.1.v201107221520.jar\norg.eclipse.datatools.sqltools.parsers.sql.query_1.2.1.v201201250511.jar\norg.eclipse.datatools.sqltools.parsers.sql_1.0.2.v201107221520.jar\norg.eclipse.datatools.sqltools.result_1.1.6.v201402080246.jar\norg.eclipse.emf.common_2.11.0.v20150512-0501.jar\norg.eclipse.emf.ecore.change_2.11.0.v20150512-0501.jar\norg.eclipse.emf.ecore.xmi_2.11.0.v20150512-0501.jar\norg.eclipse.emf.ecore_2.11.0.v20150512-0501.jar\norg.eclipse.equinox.app_1.3.300.v20150423-1356.jar\norg.eclipse.equinox.common_3.7.0.v20150402-1709.jar\norg.eclipse.equinox.preferences_3.5.300.v20150408-1437.jar\norg.eclipse.equinox.registry_3.6.0.v20150318-1503.jar\norg.eclipse.help_3.6.0.v20130326-1254.jar\norg.eclipse.osgi.services_3.5.0.v20150519-2006.jar\norg.eclipse.osgi_3.10.100.v20150529-1857.jar\norg.eclipse.update.configurator_3.3.300.v20140518-1928.jar\norg.mozilla.javascript_1.7.5.v201504281450.jar\norg.w3c.css.sac_1.3.1.v200903091627.jar\norg.w3c.dom.events_3.0.0.draft20060413_v201105210656.jar\norg.w3c.dom.smil_1.0.1.v200903091627.jar\norg.w3c.dom.svg_1.1.0.v201011041433.jar\n</code></pre>\n\n<h2>Application properties (application.yml)</h2>\n\n<pre><code>birt:\n  report:\n    output:\n      dir: ${birt_temp_file_output_dir}\n    input:\n      dir: ${birt_report_input_dir}\n  logging:\n    level: ${birt_logging_level}\n\n\nserver:\n  port: 8080\n  context-path: /simple-birt-runner\n\n\nbirt:\n  logging:\n    level: SEVERE\n\nlogging:\n  level:\n    org:\n      springframework:\n        web: ERROR\n</code></pre>\n\n<h2>Dockerfile for running (Dockerfile)</h2>\n\n<pre><code>FROM java:openjdk-8u66-jre\nMAINTAINER Kent O. Johnson &lt;kentoj@gmail.com&gt;\n\nCOPY com.example.simple-birt-runner-*.jar /opt/soft/simple-birt-runner.jar\n\nRUN mkdir -p /reports/input \\\n    &amp;&amp; mkdir /reports/output \\\n    &amp;&amp; mkdir -p /reports/log/engine\n\nWORKDIR /opt/soft\n\nCMD java -jar -Xms128M -Xmx4G simple-birt-runner.jar\n\nEXPOSE 8080\n</code></pre>\n\n<h2>Docker compose file for running image (docker-compose.yml)</h2>\n\n<pre><code>simple-birt-runner:\n  image: soft/simple-birt-runner-release\n  ports:\n  - \"8090:8080\"\n  environment:\n  - birt_temp_file_output_dir=/reports/output\n  - birt_report_input_dir=/reports/input\n  - birt_logging_directory=/reports/log/engine\n  - birt_logging_level=SEVERE\n  volumes_from:\n  - birt-report-runner-data\n</code></pre>\n"},{"comments":[{"owner":{"account_id":314813,"reputation":1151,"user_id":630209,"accept_rate":28,"display_name":"user630209"},"score":0,"creation_date":1522128725,"post_id":41933504,"comment_id":86013993,"body_markdown":"Newbie in this, let me know where you added environment variable using maven.","body":"Newbie in this, let me know where you added environment variable using maven."},{"owner":{"account_id":2642470,"reputation":107,"user_id":2285846,"display_name":"Liviu Florin Ilie"},"score":0,"creation_date":1523984971,"post_id":41933504,"comment_id":86783653,"body_markdown":"Maybe this thread can help : https://stackoverflow.com/questions/5510690/environment-variable-with-maven/5510702","body":"Maybe this thread can help : <a href=\"https://stackoverflow.com/questions/5510690/environment-variable-with-maven/5510702\" title=\"environment variable with maven\">stackoverflow.com/questions/5510690/&hellip;</a>"}],"tags":[],"owner":{"account_id":2642470,"reputation":107,"user_id":2285846,"display_name":"Liviu Florin Ilie"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485771728,"creation_date":1485771728,"answer_id":41933504,"question_id":32069938,"body_markdown":"Regarding @Kent Johnson &#39;s answer. I didn&#39;t manage to configure the project with gradle, but I managed to build it with maven. \r\nBelow is the **pom.xml** \r\n\r\n    \r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n            &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;birt-runner&lt;/groupId&gt;\r\n    &lt;artifactId&gt;com.example.simple-birt-runner&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.4.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;!--&lt;scope&gt;provided&lt;/scope&gt;--&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-web --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.eclipse.birt.runtime/org.eclipse.birt.runtime --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.birt.runtime&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.eclipse.birt.runtime&lt;/artifactId&gt;\r\n            &lt;version&gt;4.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;","title":"BIRT in spring boot app","body":"<p>Regarding @Kent Johnson 's answer. I didn't manage to configure the project with gradle, but I managed to build it with maven. \nBelow is the <strong>pom.xml</strong> </p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n        &lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n     xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;birt-runner&lt;/groupId&gt;\n&lt;artifactId&gt;com.example.simple-birt-runner&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.4.4.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;!--&lt;scope&gt;provided&lt;/scope&gt;--&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-web --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.eclipse.birt.runtime/org.eclipse.birt.runtime --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.birt.runtime&lt;/groupId&gt;\n        &lt;artifactId&gt;org.eclipse.birt.runtime&lt;/artifactId&gt;\n        &lt;version&gt;4.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n\n\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n"},{"comments":[{"owner":{"account_id":14528266,"reputation":96,"user_id":10498061,"display_name":"Deepstack"},"score":0,"creation_date":1686039276,"post_id":76384854,"comment_id":134740764,"body_markdown":"How you connected to database? I faced error The file &quot;ConnectLib.rptlibrary&quot; is not found","body":"How you connected to database? I faced error The file &quot;ConnectLib.rptlibrary&quot; is not found"},{"owner":{"account_id":28730625,"reputation":1,"user_id":22002662,"display_name":"DevStraub"},"score":0,"creation_date":1686168621,"post_id":76384854,"comment_id":134763936,"body_markdown":"I&#39;ve included the contents of the application.properties file. It is necessary to configure access to the desired database. Notice that in the pom.xml there is the necessary dependency for the connection with the PostgreSQL database.","body":"I&#39;ve included the contents of the application.properties file. It is necessary to configure access to the desired database. Notice that in the pom.xml there is the necessary dependency for the connection with the PostgreSQL database."}],"tags":[],"owner":{"account_id":28730625,"reputation":1,"user_id":22002662,"display_name":"DevStraub"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686169047,"creation_date":1685645311,"answer_id":76384854,"question_id":32069938,"body_markdown":"I created an API to use Birt Report with Spring Boot. To use it, just create a new report and call it by sending the correct parameters.\r\nLink: https://github.com/devStraub/BirtAPI\r\n\r\nCode:\r\n\r\n    @RestController\r\n    @SpringBootApplication\r\n    public class BirtReportApplication {\r\n\r\n    @Value(&quot;${reports.relative.path}&quot;)\r\n    private String reportsPath;\r\n    @Value(&quot;${images.relative.path}&quot;)\r\n    private String imagesPath;\t\r\n\t@Value(&quot;${temp.files.path}&quot;)\r\n\tprivate String tempPath;      \r\n    \r\n    private ApplicationContext context;\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(BirtReportApplication.class, args);\r\n\t}\r\n\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t@PostMapping(&quot;/report&quot;)\r\n    public ResponseEntity&lt;byte[]&gt; generateReport(@RequestBody String json) {\r\n        try {\r\n\t\t\tObjectMapper objectMapper = new ObjectMapper();\r\n\t\t\tMap&lt;String, String&gt; parametersMap = objectMapper.readValue(json, Map.class);        \t\r\n        \t\r\n\t\t\tEngineConfig config = new EngineConfig();\r\n\t\t\tconfig.getAppContext().put(&quot;spring&quot;, this.context);\r\n\t\t\tPlatform.startup(config);\r\n\t\t\tIReportEngineFactory factory = (IReportEngineFactory) Platform.createFactoryObject(IReportEngineFactory.EXTENSION_REPORT_ENGINE_FACTORY);\r\n\t\t\tIReportEngine engine = factory.createReportEngine(config);\r\n\r\n\t\t\tIReportRunnable report = engine.openReportDesign(reportsPath + parametersMap.get(&quot;report&quot;) + &quot;.rptdesign&quot;);\r\n\r\n\t\t\tIRunAndRenderTask task = engine.createRunAndRenderTask(report);\r\n\t\t\tfor (Entry&lt;String, String&gt; parametro : parametersMap.entrySet()) {\r\n\t\t\t\ttask.setParameterValue(parametro.getKey(), parametro.getValue());\r\n\t\t\t}\r\n\r\n\t\t\tString reportFileName = tempPath + Calendar.getInstance().getTimeInMillis() + &quot;.pdf&quot;;\r\n\t\t\t\r\n\t\t\tPDFRenderOption options = new PDFRenderOption();\r\n\t\t\toptions.setOutputFormat(&quot;pdf&quot;);\r\n\t\t\toptions.setOutputFileName(reportFileName);\r\n\t\t\ttask.setRenderOption(options);\r\n\t\t\ttask.run();\r\n\t\t\ttask.close();\t\t\t\r\n\r\n            byte[] relatorioBytes = Files.readAllBytes(Paths.get(reportFileName));\r\n\r\n            Files.deleteIfExists(Paths.get(reportFileName));\r\n\r\n            return ResponseEntity.ok()\r\n                    .header(&quot;Content-Type&quot;, &quot;application/pdf&quot;)\r\n                    .body(relatorioBytes);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\r\n        }\r\n    }\r\n}\r\n\r\npom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n    https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.birt2&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;birt2&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.innoventsolutions.birt.runtime&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;org.eclipse.birt.runtime_4.8.0-20180626&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.8.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.12.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\napplication.properties:\r\n\r\n    # Report Properties\r\n    reports.relative.path=reports/\r\n    images.relative.path=images/\r\n\r\n    # Temp Files\r\n    temp.files.path=temp/\r\n\r\n    # Postgres\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/postgres\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=****\r\n\r\nYou should open the XML Source of your report and modify the &quot;version&quot; property (line 2) to &quot;3.2.23&quot;. If you don&#39;t do this, the report will display errors. I&#39;m still trying to solve this; if anyone has any ideas on how to set the report version, it would be great.\r\n\r\nI hope I helped.\r\nMy Contacts: https://devstraub.github.io/myPage/","title":"BIRT in spring boot app","body":"<p>I created an API to use Birt Report with Spring Boot. To use it, just create a new report and call it by sending the correct parameters.\nLink: <a href=\"https://github.com/devStraub/BirtAPI\" rel=\"nofollow noreferrer\">https://github.com/devStraub/BirtAPI</a></p>\n<p>Code:</p>\n<pre><code>@RestController\n@SpringBootApplication\npublic class BirtReportApplication {\n\n@Value(&quot;${reports.relative.path}&quot;)\nprivate String reportsPath;\n@Value(&quot;${images.relative.path}&quot;)\nprivate String imagesPath;  \n@Value(&quot;${temp.files.path}&quot;)\nprivate String tempPath;      \n\nprivate ApplicationContext context;\n\npublic static void main(String[] args) {\n    SpringApplication.run(BirtReportApplication.class, args);\n}\n\n@SuppressWarnings(&quot;unchecked&quot;)\n@PostMapping(&quot;/report&quot;)\npublic ResponseEntity&lt;byte[]&gt; generateReport(@RequestBody String json) {\n    try {\n        ObjectMapper objectMapper = new ObjectMapper();\n        Map&lt;String, String&gt; parametersMap = objectMapper.readValue(json, Map.class);            \n        \n        EngineConfig config = new EngineConfig();\n        config.getAppContext().put(&quot;spring&quot;, this.context);\n        Platform.startup(config);\n        IReportEngineFactory factory = (IReportEngineFactory) Platform.createFactoryObject(IReportEngineFactory.EXTENSION_REPORT_ENGINE_FACTORY);\n        IReportEngine engine = factory.createReportEngine(config);\n\n        IReportRunnable report = engine.openReportDesign(reportsPath + parametersMap.get(&quot;report&quot;) + &quot;.rptdesign&quot;);\n\n        IRunAndRenderTask task = engine.createRunAndRenderTask(report);\n        for (Entry&lt;String, String&gt; parametro : parametersMap.entrySet()) {\n            task.setParameterValue(parametro.getKey(), parametro.getValue());\n        }\n\n        String reportFileName = tempPath + Calendar.getInstance().getTimeInMillis() + &quot;.pdf&quot;;\n        \n        PDFRenderOption options = new PDFRenderOption();\n        options.setOutputFormat(&quot;pdf&quot;);\n        options.setOutputFileName(reportFileName);\n        task.setRenderOption(options);\n        task.run();\n        task.close();           \n\n        byte[] relatorioBytes = Files.readAllBytes(Paths.get(reportFileName));\n\n        Files.deleteIfExists(Paths.get(reportFileName));\n\n        return ResponseEntity.ok()\n                .header(&quot;Content-Type&quot;, &quot;application/pdf&quot;)\n                .body(relatorioBytes);\n    } catch (Exception e) {\n        e.printStackTrace();\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\n    }\n}\n</code></pre>\n<p>}</p>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \nhttps://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.birt2&lt;/groupId&gt;\n&lt;artifactId&gt;birt2&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;demo&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.innoventsolutions.birt.runtime&lt;/groupId&gt;\n        &lt;artifactId&gt;org.eclipse.birt.runtime_4.8.0-20180626&lt;/artifactId&gt;\n        &lt;version&gt;4.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.12.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>application.properties:</p>\n<pre><code># Report Properties\nreports.relative.path=reports/\nimages.relative.path=images/\n\n# Temp Files\ntemp.files.path=temp/\n\n# Postgres\nspring.datasource.url=jdbc:postgresql://localhost:5432/postgres\nspring.datasource.username=postgres\nspring.datasource.password=****\n</code></pre>\n<p>You should open the XML Source of your report and modify the &quot;version&quot; property (line 2) to &quot;3.2.23&quot;. If you don't do this, the report will display errors. I'm still trying to solve this; if anyone has any ideas on how to set the report version, it would be great.</p>\n<p>I hope I helped.\nMy Contacts: <a href=\"https://devstraub.github.io/myPage/\" rel=\"nofollow noreferrer\">https://devstraub.github.io/myPage/</a></p>\n"}],"owner":{"account_id":6807453,"reputation":171,"user_id":5238780,"display_name":"Henk V"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14363,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":3,"score":17,"last_activity_date":1686169047,"creation_date":1439893925,"question_id":32069938,"body_markdown":"I need to create a report capability(function) in an existing spring boot web application. The suggestion was to use BIRT, which I could integrate with the spring boot web app. \r\n\r\nI found the article below and was able to run the reports in a spring boot starter project (using http://start.spring.io/). This article, fairly old, did help me to get to a working example. https://spring.io/blog/2012/01/30/spring-framework-birt. This article is basically exactly what I want, but in a spring boot web app.\r\n\r\nThe challenge I have is to run the report using the BIRT viewer, which comes with nice additional features. (Print, Expoet data, PDF, pagination etc.)\r\n\r\nI cannot find any spring boot example using BIRT the way this article describes. \r\n\r\nMy questions are:\r\n\r\n1. Is there an alternative or other way to do reports in a spring boot web application? (obviously not want to re-inventing the wheel by creating BIRT like capability from scratch or run the report engine separate from the web application if at all possible) \r\n\r\n2. Does anyone today have BIRT working (with the viewer) in a spring boot web application and be willing to share or educate me on the best way to do this? \r\n(I tried to get JSP page working with spring boot, but unable to so successfully...more a lack of experience than anything else)\r\n\r\nCan someone help me please. \r\n\r\nKind Regards,\r\nHenk","title":"BIRT in spring boot app","body":"<p>I need to create a report capability(function) in an existing spring boot web application. The suggestion was to use BIRT, which I could integrate with the spring boot web app. </p>\n\n<p>I found the article below and was able to run the reports in a spring boot starter project (using <a href=\"http://start.spring.io/\" rel=\"noreferrer\">http://start.spring.io/</a>). This article, fairly old, did help me to get to a working example. <a href=\"https://spring.io/blog/2012/01/30/spring-framework-birt\" rel=\"noreferrer\">https://spring.io/blog/2012/01/30/spring-framework-birt</a>. This article is basically exactly what I want, but in a spring boot web app.</p>\n\n<p>The challenge I have is to run the report using the BIRT viewer, which comes with nice additional features. (Print, Expoet data, PDF, pagination etc.)</p>\n\n<p>I cannot find any spring boot example using BIRT the way this article describes. </p>\n\n<p>My questions are:</p>\n\n<ol>\n<li><p>Is there an alternative or other way to do reports in a spring boot web application? (obviously not want to re-inventing the wheel by creating BIRT like capability from scratch or run the report engine separate from the web application if at all possible) </p></li>\n<li><p>Does anyone today have BIRT working (with the viewer) in a spring boot web application and be willing to share or educate me on the best way to do this? \n(I tried to get JSP page working with spring boot, but unable to so successfully...more a lack of experience than anything else)</p></li>\n</ol>\n\n<p>Can someone help me please. </p>\n\n<p>Kind Regards,\nHenk</p>\n"},{"tags":["java","maven"],"answers":[{"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":1,"creation_date":1686160908,"post_id":76425936,"comment_id":134762593,"body_markdown":"Or you can provide the client jar (on the classpath) at runtime, but the shaded JAR is the easiest.","body":"Or you can provide the client jar (on the classpath) at runtime, but the shaded JAR is the easiest."}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686161397,"creation_date":1686160700,"answer_id":76425936,"question_id":76423841,"body_markdown":"You need to create an executable fat JAR using the [Shade Plugin](https://maven.apache.org/plugins/maven-shade-plugin/examples/executable-jar.html), rather than the JAR plugin. Only then will your dependency classes (such as `KafkaProducer`) be included in the JAR file.","title":"not possible to initialise main class package.Main","body":"<p>You need to create an executable fat JAR using the <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/examples/executable-jar.html\" rel=\"nofollow noreferrer\">Shade Plugin</a>, rather than the JAR plugin. Only then will your dependency classes (such as <code>KafkaProducer</code>) be included in the JAR file.</p>\n"},{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1686314007,"post_id":76426831,"comment_id":134785479,"body_markdown":"The assembly plugin docs explicitly say to use the shade plugin for simple use cases","body":"The assembly plugin docs explicitly say to use the shade plugin for simple use cases"},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1686314412,"post_id":76426831,"comment_id":134785589,"body_markdown":"@OneCricketeer I interpret &quot;[_If your project wants to package your artifact in an uber-jar, the assembly plugin provides only basic support. For more control, use the Maven Shade Plugin.](https://maven.apache.org/plugins/maven-assembly-plugin/index.html#Introduction)_&quot; not as &quot;simple use cases&quot;. :)","body":"@OneCricketeer I interpret &quot;<a href=\"https://maven.apache.org/plugins/maven-assembly-plugin/index.html#Introduction\" rel=\"nofollow noreferrer\"><i>If your project wants to package your artifact in an uber-jar, the assembly plugin provides only basic support. For more control, use the Maven Shade Plugin.</a></i>&quot; not as &quot;simple use cases&quot;. :)"}],"tags":[],"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686168987,"creation_date":1686168987,"answer_id":76426831,"question_id":76423841,"body_markdown":"The [Maven Shade Plugin][shade] mentioned in another answer is not the only way. There&#39;s also a manual approach (though not recommended) and the (simpler) [Apache Maven Assembly Plugin][assm] described very well in [_How to Create an Executable JAR with Maven_][execJar]:\r\n\r\n&gt; ## 2.2. Apache Maven Assembly Plugin\r\n&gt;\r\n&gt; The Apache Maven Assembly Plugin allows users to aggregate the project output along with its dependencies, modules, site documentation, and other files into a single, runnable package.\r\n&gt;\r\n&gt; The main goal in the assembly plugin is the _single_ goal, which is used to create all assemblies (all other goals are deprecated and will be removed in a future release).\r\n&gt;\r\n&gt; Let&#39;s take a look at the configuration in _pom.xml_:\r\n&gt;\r\n&gt; ````\r\n&gt; &lt;plugin&gt;\r\n&gt;    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n&gt;    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n&gt;    &lt;executions&gt;\r\n&gt;        &lt;execution&gt;\r\n&gt;            &lt;phase&gt;package&lt;/phase&gt;\r\n&gt;            &lt;goals&gt;\r\n&gt;                &lt;goal&gt;single&lt;/goal&gt;\r\n&gt;            &lt;/goals&gt;\r\n&gt;            &lt;configuration&gt;\r\n&gt;                &lt;archive&gt;\r\n&gt;                &lt;manifest&gt;\r\n&gt;                    &lt;mainClass&gt;\r\n&gt;                        com.baeldung.executable.ExecutableMavenJar\r\n&gt;                    &lt;/mainClass&gt;\r\n&gt;                &lt;/manifest&gt;\r\n&gt;                &lt;/archive&gt;\r\n&gt;                &lt;descriptorRefs&gt;\r\n&gt;                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n&gt;                &lt;/descriptorRefs&gt;\r\n&gt;            &lt;/configuration&gt;\r\n&gt;        &lt;/execution&gt;\r\n&gt;   &lt;/executions&gt;\r\n&gt; &lt;/plugin&gt;\r\n&gt; ````\r\n&gt;\r\n&gt; Similarly to the manual approach, we need to provide the information about the main class. The difference is that the Maven Assembly Plugin will automatically copy all required dependencies into a _jar_ file.\r\n&gt;\r\n&gt; In the _descriptorRefs_ part of the configuration code, we provided the name that will be added to the project name.\r\n&gt;\r\n&gt; Output in our example will be named as _core-java-jar-with-dependencies.jar_.\r\n&gt;\r\n&gt; * **pros** – dependencies inside the jar file, one file only\r\n&gt; * **cons** – basic control of packaging our artifact, for example, there is no class relocation support\r\n\r\n\r\n[shade]: https://maven.apache.org/plugins/maven-shade-plugin/index.html\r\n[assm]: https://maven.apache.org/plugins/maven-assembly-plugin/index.html\r\n[execJAR]: https://www.baeldung.com/executable-jar-with-maven","title":"not possible to initialise main class package.Main","body":"<p>The <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/index.html\" rel=\"nofollow noreferrer\">Maven Shade Plugin</a> mentioned in another answer is not the only way. There's also a manual approach (though not recommended) and the (simpler) <a href=\"https://maven.apache.org/plugins/maven-assembly-plugin/index.html\" rel=\"nofollow noreferrer\">Apache Maven Assembly Plugin</a> described very well in <a href=\"https://www.baeldung.com/executable-jar-with-maven\" rel=\"nofollow noreferrer\"><em>How to Create an Executable JAR with Maven</em></a>:</p>\n<blockquote>\n<h2>2.2. Apache Maven Assembly Plugin</h2>\n<p>The Apache Maven Assembly Plugin allows users to aggregate the project output along with its dependencies, modules, site documentation, and other files into a single, runnable package.</p>\n<p>The main goal in the assembly plugin is the <em>single</em> goal, which is used to create all assemblies (all other goals are deprecated and will be removed in a future release).</p>\n<p>Let's take a look at the configuration in <em>pom.xml</em>:</p>\n<pre><code>&lt;plugin&gt;\n   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n   &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n   &lt;executions&gt;\n       &lt;execution&gt;\n           &lt;phase&gt;package&lt;/phase&gt;\n           &lt;goals&gt;\n               &lt;goal&gt;single&lt;/goal&gt;\n           &lt;/goals&gt;\n           &lt;configuration&gt;\n               &lt;archive&gt;\n               &lt;manifest&gt;\n                   &lt;mainClass&gt;\n                       com.baeldung.executable.ExecutableMavenJar\n                   &lt;/mainClass&gt;\n               &lt;/manifest&gt;\n               &lt;/archive&gt;\n               &lt;descriptorRefs&gt;\n                   &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n               &lt;/descriptorRefs&gt;\n           &lt;/configuration&gt;\n       &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Similarly to the manual approach, we need to provide the information about the main class. The difference is that the Maven Assembly Plugin will automatically copy all required dependencies into a <em>jar</em> file.</p>\n<p>In the <em>descriptorRefs</em> part of the configuration code, we provided the name that will be added to the project name.</p>\n<p>Output in our example will be named as <em>core-java-jar-with-dependencies.jar</em>.</p>\n<ul>\n<li><strong>pros</strong> – dependencies inside the jar file, one file only</li>\n<li><strong>cons</strong> – basic control of packaging our artifact, for example, there is no class relocation support</li>\n</ul>\n</blockquote>\n"}],"owner":{"display_name":"user20174493"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76425936,"answer_count":2,"score":1,"last_activity_date":1686168987,"creation_date":1686144599,"question_id":76423841,"body_markdown":"Hi i&#39;m studying how to use Apache Kafka and when i try to execute my .jar file i get this error: \r\n\r\n&gt; Error: Unable to initialise main class kafka.Main Caused by: java.lang.NoClassDefFoundError: org/apache/kafka/clients/producer/Producer\r\n\r\nI tried to check my dependencies and update them but i can&#39;t understand why this is happening.\r\n\r\nThis is my pom file:\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org&lt;/groupId&gt;\r\n    &lt;artifactId&gt;KafkaApp&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;!-- Build an executable JAR --&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;mainClass&gt;kafka.Main&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"not possible to initialise main class package.Main","body":"<p>Hi i'm studying how to use Apache Kafka and when i try to execute my .jar file i get this error:</p>\n<blockquote>\n<p>Error: Unable to initialise main class kafka.Main Caused by: java.lang.NoClassDefFoundError: org/apache/kafka/clients/producer/Producer</p>\n</blockquote>\n<p>I tried to check my dependencies and update them but i can't understand why this is happening.</p>\n<p>This is my pom file:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org&lt;/groupId&gt;\n    &lt;artifactId&gt;KafkaApp&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n            &lt;version&gt;3.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;!-- Build an executable JAR --&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;mainClass&gt;kafka.Main&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","json","parsing","gson"],"answers":[{"comments":[{"owner":{"account_id":28775085,"reputation":3,"user_id":22037966,"display_name":"iemmeiemi"},"score":0,"creation_date":1686191207,"post_id":76426792,"comment_id":134766411,"body_markdown":"Thank you so much, I stuck with this thing last night and thought I might come back up with XML in my examination project. &lt;3","body":"Thank you so much, I stuck with this thing last night and thought I might come back up with XML in my examination project. &lt;3"}],"tags":[],"owner":{"account_id":9242367,"reputation":1023,"user_id":6865328,"display_name":"WoAiNii"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686168985,"creation_date":1686168608,"answer_id":76426792,"question_id":76426445,"body_markdown":"Your `JSON` file is using `muscle_groups` as the field name, so your class must be mapped accordingly.&lt;br/&gt;\r\nTo do so you can rename your java field object as `muscle_groups`, or change in the `JSON` file with `muscleGroups`.&lt;br/&gt;&lt;br/&gt;\r\nYou can also force the mapping, like this:\r\n\r\n    @SerializedName(value = &quot;muscle_groups&quot;)\r\n   \tList&lt;String&gt; muscleGroups;\r\nwithout changing anything else.&lt;br/&gt;&lt;br/&gt;\r\nAnother way to achieve your goal is using the correct `FieldNamingPolicy`.","title":"GSON lib: cant parse JSON element&#39;s array to String[] of Java object","body":"<p>Your <code>JSON</code> file is using <code>muscle_groups</code> as the field name, so your class must be mapped accordingly.<br/>\nTo do so you can rename your java field object as <code>muscle_groups</code>, or change in the <code>JSON</code> file with <code>muscleGroups</code>.<br/><br/>\nYou can also force the mapping, like this:</p>\n<pre><code>@SerializedName(value = &quot;muscle_groups&quot;)\nList&lt;String&gt; muscleGroups;\n</code></pre>\n<p>without changing anything else.<br/><br/>\nAnother way to achieve your goal is using the correct <code>FieldNamingPolicy</code>.</p>\n"}],"owner":{"account_id":28775085,"reputation":3,"user_id":22037966,"display_name":"iemmeiemi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76426792,"answer_count":1,"score":0,"last_activity_date":1686168985,"creation_date":1686165262,"question_id":76426445,"body_markdown":"I import the latest version of GSON lib.\r\nThe console of the below java program show &quot;null&quot;, but it&#39;s okay when i tried printing other attributes of the object. This means that the GSON function can parse the JSON element to Java object but it does not work with the muscle_groups attribute so the String[] return null.\r\ni&#39;ve tried changing the java datatype, also asked the chat GPT but still not working \r\nI dont know how to fix this...\r\n\r\n\r\njava object class\r\n```\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class WorkoutExercises {\r\n\tString name, description, time, level, goal;\r\n\tint id;\r\n\tList&lt;String&gt; muscleGroups;\r\n\tpublic WorkoutExercises() {\r\n\t\t// TODO Auto-generated constructor stub\r\n\t}\r\n\t\r\n\tpublic WorkoutExercises(int id, String name, String description,  List&lt;String&gt; muscleGroups, String tỉme, String level, String goal) {\r\n\t\tthis.id=id;\r\n\t\tthis.muscleGroups = muscleGroups;\r\n\t\tthis.description = description;\r\n\t\tthis.goal = goal;\r\n\t\tthis.level = level;\r\n\t\tthis.name =  name;\r\n\t\tthis.time = time;\r\n\t}\r\n\t\r\n\r\n\t\r\n\r\n\tpublic List&lt;String&gt; getMuscleGroups() {\r\n\t\treturn muscleGroups;\r\n\t}\r\n\r\n\tpublic void setMuscleGroups(List&lt;String&gt; muscleGroups) {\r\n\t\tthis.muscleGroups = muscleGroups;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\tpublic String getDescription() {\r\n\t\treturn description;\r\n\t}\r\n\tpublic void setDescription(String description) {\r\n\t\tthis.description = description;\r\n\t}\r\n\tpublic String getTime() {\r\n\t\treturn time;\r\n\t}\r\n\tpublic void setTime(String time) {\r\n\t\tthis.time = time;\r\n\t}\r\n\tpublic String getLevel() {\r\n\t\treturn level;\r\n\t}\r\n\tpublic void setLevel(String level) {\r\n\t\tthis.level = level;\r\n\t}\r\n\tpublic String getGoal() {\r\n\t\treturn goal;\r\n\t}\r\n\tpublic void setGoal(String goal) {\r\n\t\tthis.goal = goal;\r\n\t}\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n}\t\r\n```\r\n\r\njava program:\r\n```\r\n\r\nimport java.io.IOException;\r\nimport java.lang.reflect.Type;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\n\r\nimport javax.lang.model.util.Elements;\r\n\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.reflect.TypeToken;\r\n\r\npublic class objectToJSON {\r\n\r\n\tpublic objectToJSON() {\r\n\t\t// TODO Auto-generated constructor stub\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\tString json = null;\r\n\t\ttry {\r\n\t\t\tjson = new String(Files.readAllBytes(Paths.get(&quot;C:\\\\Users\\\\data.json&quot;)));\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tGson gson = new Gson();\r\n\r\n\t\tType listType = new TypeToken&lt;ArrayList&lt;WorkoutExercises&gt;&gt;(){}.getType();\r\n\t\tArrayList&lt;WorkoutExercises&gt; wk = gson.fromJson(json, listType);\r\n\r\n\t\tSystem.out.println(wk.get(0).muscleGroups);\t\r\n      }\r\n}\r\n\r\n```\r\n\r\njson file with muscle_groups array:\r\n```\r\n[\r\n{\r\n        &quot;id&quot;: 1,\r\n        &quot;name&quot;: &quot;Push-Ups&quot;,\r\n        &quot;description&quot;: &quot;Start in a plank position with your hands slightly wider than shoulder-width apart. Lower your body by bending your elbows until your chest nearly touches the floor. Push yourself back up to the starting position and repeat.&quot;,\r\n        &quot;muscle_groups&quot;: [&quot;Chest&quot;, &quot;Shoulders&quot;, &quot;Triceps&quot;],\r\n        &quot;time&quot;: &quot;3 sets of 10 reps&quot;,\r\n        &quot;level&quot;: &quot;Beginner&quot;,\r\n        &quot;goal&quot;: &quot;Strength&quot;\r\n    },\r\n    {\r\n        &quot;id&quot;: 2,\r\n        &quot;name&quot;: &quot;Squats&quot;,\r\n        &quot;description&quot;: &quot;Stand with your feet shoulder-width apart. Lower your body by bending your knees and pushing your hips back. Keep your chest up and your knees in line with your toes. Push through your heels to return to the starting position and repeat.&quot;,\r\n        &quot;muscle_groups&quot;: [&quot;Quadriceps&quot;, &quot;Hamstrings&quot;, &quot;Glutes&quot;],\r\n        &quot;time&quot;: &quot;3 sets of 12 reps&quot;,\r\n        &quot;level&quot;: &quot;Beginner&quot;,\r\n        &quot;goal&quot;: &quot;Strength&quot;\r\n    },\r\n    {\r\n        &quot;id&quot;: 3,\r\n        &quot;name&quot;: &quot;Plank&quot;,\r\n        &quot;description&quot;: &quot;Start in a push-up position with your hands directly under your shoulders. Engage your core and hold your body in a straight line from head to heels. Hold the position for the desired duration.&quot;,\r\n        &quot;muscle_groups&quot;: [&quot;Core&quot;],\r\n        &quot;time&quot;: &quot;30 seconds&quot;,\r\n        &quot;level&quot;: &quot;Beginner&quot;,\r\n        &quot;goal&quot;: &quot;Core Stability&quot;\r\n    },\r\n    {\r\n        &quot;id&quot;: 4,\r\n        &quot;name&quot;: &quot;Lunges&quot;,\r\n        &quot;description&quot;: &quot;Stand with your feet hip-width apart. Take a step forward with your right foot and lower your body until your right knee is bent at a 90-degree angle. Push through your right heel to return to the starting position and repeat on the other side.&quot;,\r\n        &quot;muscle_groups&quot;: [&quot;Quadriceps&quot;, &quot;Hamstrings&quot;, &quot;Glutes&quot;],\r\n        &quot;time&quot;: &quot;3 sets of 10 reps per leg&quot;,\r\n        &quot;level&quot;: &quot;Beginner&quot;,\r\n        &quot;goal&quot;: &quot;Lower Body Strength&quot;\r\n    }\r\n]\r\n```\r\n\r\n\r\n","title":"GSON lib: cant parse JSON element&#39;s array to String[] of Java object","body":"<p>I import the latest version of GSON lib.\nThe console of the below java program show &quot;null&quot;, but it's okay when i tried printing other attributes of the object. This means that the GSON function can parse the JSON element to Java object but it does not work with the muscle_groups attribute so the String[] return null.\ni've tried changing the java datatype, also asked the chat GPT but still not working\nI dont know how to fix this...</p>\n<p>java object class</p>\n<pre><code>\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class WorkoutExercises {\n    String name, description, time, level, goal;\n    int id;\n    List&lt;String&gt; muscleGroups;\n    public WorkoutExercises() {\n        // TODO Auto-generated constructor stub\n    }\n    \n    public WorkoutExercises(int id, String name, String description,  List&lt;String&gt; muscleGroups, String tỉme, String level, String goal) {\n        this.id=id;\n        this.muscleGroups = muscleGroups;\n        this.description = description;\n        this.goal = goal;\n        this.level = level;\n        this.name =  name;\n        this.time = time;\n    }\n    \n\n    \n\n    public List&lt;String&gt; getMuscleGroups() {\n        return muscleGroups;\n    }\n\n    public void setMuscleGroups(List&lt;String&gt; muscleGroups) {\n        this.muscleGroups = muscleGroups;\n    }\n\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public String getDescription() {\n        return description;\n    }\n    public void setDescription(String description) {\n        this.description = description;\n    }\n    public String getTime() {\n        return time;\n    }\n    public void setTime(String time) {\n        this.time = time;\n    }\n    public String getLevel() {\n        return level;\n    }\n    public void setLevel(String level) {\n        this.level = level;\n    }\n    public String getGoal() {\n        return goal;\n    }\n    public void setGoal(String goal) {\n        this.goal = goal;\n    }\n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n\n}   \n</code></pre>\n<p>java program:</p>\n<pre><code>\nimport java.io.IOException;\nimport java.lang.reflect.Type;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.ArrayList;\nimport java.util.Arrays;\n\nimport javax.lang.model.util.Elements;\n\nimport com.google.gson.Gson;\nimport com.google.gson.reflect.TypeToken;\n\npublic class objectToJSON {\n\n    public objectToJSON() {\n        // TODO Auto-generated constructor stub\n    }\n    public static void main(String[] args) {\n        String json = null;\n        try {\n            json = new String(Files.readAllBytes(Paths.get(&quot;C:\\\\Users\\\\data.json&quot;)));\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        Gson gson = new Gson();\n\n        Type listType = new TypeToken&lt;ArrayList&lt;WorkoutExercises&gt;&gt;(){}.getType();\n        ArrayList&lt;WorkoutExercises&gt; wk = gson.fromJson(json, listType);\n\n        System.out.println(wk.get(0).muscleGroups); \n      }\n}\n\n</code></pre>\n<p>json file with muscle_groups array:</p>\n<pre><code>[\n{\n        &quot;id&quot;: 1,\n        &quot;name&quot;: &quot;Push-Ups&quot;,\n        &quot;description&quot;: &quot;Start in a plank position with your hands slightly wider than shoulder-width apart. Lower your body by bending your elbows until your chest nearly touches the floor. Push yourself back up to the starting position and repeat.&quot;,\n        &quot;muscle_groups&quot;: [&quot;Chest&quot;, &quot;Shoulders&quot;, &quot;Triceps&quot;],\n        &quot;time&quot;: &quot;3 sets of 10 reps&quot;,\n        &quot;level&quot;: &quot;Beginner&quot;,\n        &quot;goal&quot;: &quot;Strength&quot;\n    },\n    {\n        &quot;id&quot;: 2,\n        &quot;name&quot;: &quot;Squats&quot;,\n        &quot;description&quot;: &quot;Stand with your feet shoulder-width apart. Lower your body by bending your knees and pushing your hips back. Keep your chest up and your knees in line with your toes. Push through your heels to return to the starting position and repeat.&quot;,\n        &quot;muscle_groups&quot;: [&quot;Quadriceps&quot;, &quot;Hamstrings&quot;, &quot;Glutes&quot;],\n        &quot;time&quot;: &quot;3 sets of 12 reps&quot;,\n        &quot;level&quot;: &quot;Beginner&quot;,\n        &quot;goal&quot;: &quot;Strength&quot;\n    },\n    {\n        &quot;id&quot;: 3,\n        &quot;name&quot;: &quot;Plank&quot;,\n        &quot;description&quot;: &quot;Start in a push-up position with your hands directly under your shoulders. Engage your core and hold your body in a straight line from head to heels. Hold the position for the desired duration.&quot;,\n        &quot;muscle_groups&quot;: [&quot;Core&quot;],\n        &quot;time&quot;: &quot;30 seconds&quot;,\n        &quot;level&quot;: &quot;Beginner&quot;,\n        &quot;goal&quot;: &quot;Core Stability&quot;\n    },\n    {\n        &quot;id&quot;: 4,\n        &quot;name&quot;: &quot;Lunges&quot;,\n        &quot;description&quot;: &quot;Stand with your feet hip-width apart. Take a step forward with your right foot and lower your body until your right knee is bent at a 90-degree angle. Push through your right heel to return to the starting position and repeat on the other side.&quot;,\n        &quot;muscle_groups&quot;: [&quot;Quadriceps&quot;, &quot;Hamstrings&quot;, &quot;Glutes&quot;],\n        &quot;time&quot;: &quot;3 sets of 10 reps per leg&quot;,\n        &quot;level&quot;: &quot;Beginner&quot;,\n        &quot;goal&quot;: &quot;Lower Body Strength&quot;\n    }\n]\n</code></pre>\n"},{"tags":["java","velocity","tomcat9","spring5"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1686163453,"post_id":76426171,"comment_id":134763008,"body_markdown":"Can you show the significant parts of `gov.epa.eis.service.impl.MailServiceImpl.sendMessage()`.","body":"Can you show the significant parts of <code>gov.epa.eis.service.impl.MailServiceImpl.sendMessage()</code>."},{"owner":{"account_id":23865216,"reputation":23,"user_id":17867642,"display_name":"Paul"},"score":0,"creation_date":1686167161,"post_id":76426171,"comment_id":134763677,"body_markdown":"I&#39;ve updated the post with the sendMessage() method.  Thank you for the response!","body":"I&#39;ve updated the post with the sendMessage() method.  Thank you for the response!"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1686218650,"post_id":76426171,"comment_id":134770199,"body_markdown":"And what is a value of `templateName`?","body":"And what is a value of <code>templateName</code>?"},{"owner":{"account_id":23865216,"reputation":23,"user_id":17867642,"display_name":"Paul"},"score":0,"creation_date":1686233966,"post_id":76426171,"comment_id":134773676,"body_markdown":"The name of the template....ex: mailService.sendMessage(mailMessage, &quot;supportRequestMessageNotification.vm&quot;, model);","body":"The name of the template....ex: mailService.sendMessage(mailMessage, &quot;supportRequestMessageNotification.vm&quot;, model);"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1686246442,"post_id":76426171,"comment_id":134776331,"body_markdown":"Maybe raise Velocity log level or debug `RuntimeInstance.getTemplate()`. What is about environment variables on Win vs. Linux ?","body":"Maybe raise Velocity log level or debug <code>RuntimeInstance.getTemplate()</code>. What is about environment variables on Win vs. Linux ?"}],"owner":{"account_id":23865216,"reputation":23,"user_id":17867642,"display_name":"Paul"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686167121,"creation_date":1686162922,"question_id":76426171,"body_markdown":"We are in the process of upgrading our Spring Application from Spring 4 to Spring 5, and so far everything is working well, except that we use Apache Velocity to build emails from templates that get sent to users based on certain activities within the application.  Spring 5 removed Velocity support, so we&#39;re using the Velocity 1.7 jar from Apache instead.  I have a local tomcat server running from the command line under Windows 10, and Velocity successfully finds its templates and builds the email from said templates.  However, when the very same application is deployed to tomcat running on an Amazon linux server, Velocity cannot find its templates!\r\n\r\nAll templates live in WEB-INF/classes.  There is a velocity.properties file in that folder, and Velocity DOES find it, as it configures the Velocity logger to log to Log4j.\r\n\r\nThe contents of that velocity.properties file:\r\n```\r\nruntime.log.logsystem.class=org.apache.velocity.runtime.log.SimpleLog4JLogSystem\r\nruntime.log.logsystem.log4j.category=velocity\r\n```\r\n\r\nThe properties I pass to Velocity from inside my applicationContext-service.xml file:\r\n```\r\n&lt;util:properties id=&quot;velocityProperties&quot;&gt;\r\n\t&lt;prop key=&quot;resource.loader&quot;&gt;class&lt;/prop&gt;\r\n\t&lt;prop key=&quot;class.resource.loader.class&quot;&gt;org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader&lt;/prop&gt;\r\n\t&lt;prop key=&quot;input.encoding&quot;&gt;UTF-8&lt;/prop&gt;\r\n\t&lt;prop key=&quot;output.encoding&quot;&gt;UTF-8&lt;/prop&gt;\r\n&lt;/util:properties&gt;\r\n\r\n&lt;bean id=&quot;velocityEngine&quot; class=&quot;org.apache.velocity.app.VelocityEngine&quot;&gt;\r\n\t&lt;constructor-arg ref=&quot;velocityProperties&quot; /&gt;\r\n&lt;/bean&gt;\r\n```\r\n\r\nI have tried adding the actual path to my WEB-INF/classes file in the above configuration:\r\n```\r\n&lt;util:properties id=&quot;velocityProperties&quot;&gt;\r\n\t&lt;prop key=&quot;resource.loader&quot;&gt;class&lt;/prop&gt;\r\n\t&lt;prop key=&quot;class.resource.loader.class&quot;&gt;org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader&lt;/prop&gt;\r\n\t**&lt;prop key=&quot;class.resource.loader.path&quot;&gt;/WEB-INF/classes&lt;/prop&gt;**\r\n\t&lt;prop key=&quot;input.encoding&quot;&gt;UTF-8&lt;/prop&gt;\r\n\t&lt;prop key=&quot;output.encoding&quot;&gt;UTF-8&lt;/prop&gt;\r\n&lt;/util:properties&gt;\r\n```\r\n\r\nThe important part of the stacktrace:\r\n```\r\nGATEWAY: ERROR 2023-06-06 21:00:00,619 [EisQuartzScheduler_Worker-2] ErrorLogger.schedulerError(2425) | Job (GATEWAY.reportProcessed.notifier.cron threw an exception.\r\norg.quartz.SchedulerException: Job threw an unhandled exception.\r\n\tat org.quartz.core.JobRunShell.run(JobRunShell.java:213) ~[quartz-2.2.1.jar:?]\r\n\tat org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:573) ~[quartz-2.2.1.jar:?]\r\nCaused by: org.springframework.scheduling.quartz.JobMethodInvocationFailedException: Invocation of method &#39;sendNotifications&#39; on target class [class gov.epa.eis.util.ReportRequestProcessedNotifier] failed; nested exception is java.lang.NullPointerException\r\n\tat org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean$MethodInvokingJob.executeInternal(MethodInvokingJobDetailFactoryBean.java:276) ~[spring-context-support-5.3.27.jar:5.3.27]\r\n\tat org.springframework.scheduling.quartz.QuartzJobBean.execute(QuartzJobBean.java:75) ~[spring-context-support-5.3.27.jar:5.3.27]\r\n\tat org.quartz.core.JobRunShell.run(JobRunShell.java:202) ~[quartz-2.2.1.jar:?]\r\n\t... 1 more\r\nCaused by: java.lang.NullPointerException\r\n\tat org.apache.velocity.runtime.RuntimeInstance.getTemplate(RuntimeInstance.java:1533) ~[velocity-1.7.jar:1.7]\r\n\tat org.apache.velocity.app.VelocityEngine.mergeTemplate(VelocityEngine.java:343) ~[velocity-1.7.jar:1.7]\r\n\tat gov.epa.eis.service.impl.MailServiceImpl.sendMessage(MailServiceImpl.java:60) ~[core-7.0.52-SNAPSHOT.jar:?]\r\n\tat gov.epa.eis.util.ReportRequestProcessedNotifier.sendNotifications(ReportRequestProcessedNotifier.java:83) ~[classes/:?]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_362]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_362]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_362]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_362]\r\n\tat org.springframework.util.MethodInvoker.invoke(MethodInvoker.java:283) ~[spring-core-5.3.27.jar:5.3.27]\r\n\tat org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean$MethodInvokingJob.executeInternal(MethodInvokingJobDetailFactoryBean.java:267) ~[spring-context-support-5.3.27.jar:5.3.27]\r\n\tat org.springframework.scheduling.quartz.QuartzJobBean.execute(QuartzJobBean.java:75) ~[spring-context-support-5.3.27.jar:5.3.27]\r\n\tat org.quartz.core.JobRunShell.run(JobRunShell.java:202) ~[quartz-2.2.1.jar:?]\r\n\t... 1 more\r\n```\r\n\r\nI&#39;m at a complete loss here...the fact that it works on my local server means that, in theory, the configuration is correct.  But clearly there is something the linux server doesn&#39;t provide to Velocity that is causing this error.  Any suggestions would be hugely appreciated.\r\n\r\nEdit: As requested by PeterMmm, here is the sendMessage method:\r\n```\r\npublic void setVelocityEngine(VelocityEngine velocityEngine) {\r\n    this.velocityEngine = velocityEngine;\r\n}\r\n\r\n@Override\r\npublic void sendMessage(final SimpleMailMessage msg, final String templateName, final Map&lt;String, Object&gt; model) {\r\n    try {\r\n        VelocityContext context = new VelocityContext();\r\n            \r\n        for (String key : model.keySet()) {\r\n          \tcontext.put(key, model.get(key));\r\n        }\r\n            \r\n        StringWriter stringWriter = new StringWriter();\r\n        velocityEngine.mergeTemplate(templateName, &quot;UTF-8&quot;, context, stringWriter);\r\n        final String text = stringWriter.toString();\r\n\r\n        msg.setText(text);\r\n        sendMessage(msg);\r\n    } catch (VelocityException e) {\r\n        LOG.error(e);\r\n    }\r\n}\r\n```","title":"Apache Velocity 1.7 cannot find templates, but only when deployed on linux","body":"<p>We are in the process of upgrading our Spring Application from Spring 4 to Spring 5, and so far everything is working well, except that we use Apache Velocity to build emails from templates that get sent to users based on certain activities within the application.  Spring 5 removed Velocity support, so we're using the Velocity 1.7 jar from Apache instead.  I have a local tomcat server running from the command line under Windows 10, and Velocity successfully finds its templates and builds the email from said templates.  However, when the very same application is deployed to tomcat running on an Amazon linux server, Velocity cannot find its templates!</p>\n<p>All templates live in WEB-INF/classes.  There is a velocity.properties file in that folder, and Velocity DOES find it, as it configures the Velocity logger to log to Log4j.</p>\n<p>The contents of that velocity.properties file:</p>\n<pre><code>runtime.log.logsystem.class=org.apache.velocity.runtime.log.SimpleLog4JLogSystem\nruntime.log.logsystem.log4j.category=velocity\n</code></pre>\n<p>The properties I pass to Velocity from inside my applicationContext-service.xml file:</p>\n<pre><code>&lt;util:properties id=&quot;velocityProperties&quot;&gt;\n    &lt;prop key=&quot;resource.loader&quot;&gt;class&lt;/prop&gt;\n    &lt;prop key=&quot;class.resource.loader.class&quot;&gt;org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader&lt;/prop&gt;\n    &lt;prop key=&quot;input.encoding&quot;&gt;UTF-8&lt;/prop&gt;\n    &lt;prop key=&quot;output.encoding&quot;&gt;UTF-8&lt;/prop&gt;\n&lt;/util:properties&gt;\n\n&lt;bean id=&quot;velocityEngine&quot; class=&quot;org.apache.velocity.app.VelocityEngine&quot;&gt;\n    &lt;constructor-arg ref=&quot;velocityProperties&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>I have tried adding the actual path to my WEB-INF/classes file in the above configuration:</p>\n<pre><code>&lt;util:properties id=&quot;velocityProperties&quot;&gt;\n    &lt;prop key=&quot;resource.loader&quot;&gt;class&lt;/prop&gt;\n    &lt;prop key=&quot;class.resource.loader.class&quot;&gt;org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader&lt;/prop&gt;\n    **&lt;prop key=&quot;class.resource.loader.path&quot;&gt;/WEB-INF/classes&lt;/prop&gt;**\n    &lt;prop key=&quot;input.encoding&quot;&gt;UTF-8&lt;/prop&gt;\n    &lt;prop key=&quot;output.encoding&quot;&gt;UTF-8&lt;/prop&gt;\n&lt;/util:properties&gt;\n</code></pre>\n<p>The important part of the stacktrace:</p>\n<pre><code>GATEWAY: ERROR 2023-06-06 21:00:00,619 [EisQuartzScheduler_Worker-2] ErrorLogger.schedulerError(2425) | Job (GATEWAY.reportProcessed.notifier.cron threw an exception.\norg.quartz.SchedulerException: Job threw an unhandled exception.\n    at org.quartz.core.JobRunShell.run(JobRunShell.java:213) ~[quartz-2.2.1.jar:?]\n    at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:573) ~[quartz-2.2.1.jar:?]\nCaused by: org.springframework.scheduling.quartz.JobMethodInvocationFailedException: Invocation of method 'sendNotifications' on target class [class gov.epa.eis.util.ReportRequestProcessedNotifier] failed; nested exception is java.lang.NullPointerException\n    at org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean$MethodInvokingJob.executeInternal(MethodInvokingJobDetailFactoryBean.java:276) ~[spring-context-support-5.3.27.jar:5.3.27]\n    at org.springframework.scheduling.quartz.QuartzJobBean.execute(QuartzJobBean.java:75) ~[spring-context-support-5.3.27.jar:5.3.27]\n    at org.quartz.core.JobRunShell.run(JobRunShell.java:202) ~[quartz-2.2.1.jar:?]\n    ... 1 more\nCaused by: java.lang.NullPointerException\n    at org.apache.velocity.runtime.RuntimeInstance.getTemplate(RuntimeInstance.java:1533) ~[velocity-1.7.jar:1.7]\n    at org.apache.velocity.app.VelocityEngine.mergeTemplate(VelocityEngine.java:343) ~[velocity-1.7.jar:1.7]\n    at gov.epa.eis.service.impl.MailServiceImpl.sendMessage(MailServiceImpl.java:60) ~[core-7.0.52-SNAPSHOT.jar:?]\n    at gov.epa.eis.util.ReportRequestProcessedNotifier.sendNotifications(ReportRequestProcessedNotifier.java:83) ~[classes/:?]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_362]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_362]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_362]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_362]\n    at org.springframework.util.MethodInvoker.invoke(MethodInvoker.java:283) ~[spring-core-5.3.27.jar:5.3.27]\n    at org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean$MethodInvokingJob.executeInternal(MethodInvokingJobDetailFactoryBean.java:267) ~[spring-context-support-5.3.27.jar:5.3.27]\n    at org.springframework.scheduling.quartz.QuartzJobBean.execute(QuartzJobBean.java:75) ~[spring-context-support-5.3.27.jar:5.3.27]\n    at org.quartz.core.JobRunShell.run(JobRunShell.java:202) ~[quartz-2.2.1.jar:?]\n    ... 1 more\n</code></pre>\n<p>I'm at a complete loss here...the fact that it works on my local server means that, in theory, the configuration is correct.  But clearly there is something the linux server doesn't provide to Velocity that is causing this error.  Any suggestions would be hugely appreciated.</p>\n<p>Edit: As requested by PeterMmm, here is the sendMessage method:</p>\n<pre><code>public void setVelocityEngine(VelocityEngine velocityEngine) {\n    this.velocityEngine = velocityEngine;\n}\n\n@Override\npublic void sendMessage(final SimpleMailMessage msg, final String templateName, final Map&lt;String, Object&gt; model) {\n    try {\n        VelocityContext context = new VelocityContext();\n            \n        for (String key : model.keySet()) {\n            context.put(key, model.get(key));\n        }\n            \n        StringWriter stringWriter = new StringWriter();\n        velocityEngine.mergeTemplate(templateName, &quot;UTF-8&quot;, context, stringWriter);\n        final String text = stringWriter.toString();\n\n        msg.setText(text);\n        sendMessage(msg);\n    } catch (VelocityException e) {\n        LOG.error(e);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","couchbase","spring-data-couchbase"],"answers":[{"tags":[],"owner":{"account_id":1029909,"reputation":364,"user_id":5228155,"display_name":"mn_test347"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686166377,"creation_date":1686166377,"answer_id":76426570,"question_id":75182337,"body_markdown":"Repositories that extend DynamicProxyable can select scopes and collections via the withScope(scopeName) and withCollection(collectionName) methods.\r\n\r\n    public interface AirportRepository extends CouchbaseRepository&lt;Airport, String&gt;, DynamicProxyable&lt;AirportRepository&gt;{...}\r\n    ...\r\n    List&lt;Airport&gt; airports = airportRepository.withScope(&quot;archived&quot;).findByName(iata);\r\n\r\nhttps://docs.spring.io/spring-data/couchbase/docs/current/reference/html/#couchbase.collections\r\n","title":"Define Couchbase collection name based on property","body":"<p>Repositories that extend DynamicProxyable can select scopes and collections via the withScope(scopeName) and withCollection(collectionName) methods.</p>\n<pre><code>public interface AirportRepository extends CouchbaseRepository&lt;Airport, String&gt;, DynamicProxyable&lt;AirportRepository&gt;{...}\n...\nList&lt;Airport&gt; airports = airportRepository.withScope(&quot;archived&quot;).findByName(iata);\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-data/couchbase/docs/current/reference/html/#couchbase.collections\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/couchbase/docs/current/reference/html/#couchbase.collections</a></p>\n"}],"owner":{"account_id":11328474,"reputation":23,"user_id":8306644,"accept_rate":50,"display_name":"Akib Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686166377,"creation_date":1674208305,"question_id":75182337,"body_markdown":"I have the below Repository that extends CrudRepository. Now based on a property called &quot;scopeName&quot;, we need to inject the collection name using @Collection(&quot;collectionName&quot;).\r\nSo if the scope name is defined it should take the custom collection name. If not defined it should go with the default scope and default collection name. Any suggestion on how should this repository be defined?\r\n\r\n\r\n```  \r\npublic interface GlobalLockRepository extends CrudRepository&lt;GlobalLock, String&gt;,GlobalLockCustomRepository {\r\n\r\n}\r\n\r\n ```","title":"Define Couchbase collection name based on property","body":"<p>I have the below Repository that extends CrudRepository. Now based on a property called &quot;scopeName&quot;, we need to inject the collection name using @Collection(&quot;collectionName&quot;).\nSo if the scope name is defined it should take the custom collection name. If not defined it should go with the default scope and default collection name. Any suggestion on how should this repository be defined?</p>\n<pre><code>public interface GlobalLockRepository extends CrudRepository&lt;GlobalLock, String&gt;,GlobalLockCustomRepository {\n\n}\n\n</code></pre>\n"},{"tags":["java","neo4j","redhat","rhel"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686150348,"post_id":76419924,"comment_id":134760349,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":15468958,"reputation":464,"user_id":11334268,"display_name":"jenny"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686124206,"creation_date":1686124206,"answer_id":76421022,"question_id":76419924,"body_markdown":"The instruction to install the java17-adapter are under the Oracle java section because that only needs doing if you use Oracle java. \r\n\r\nWhy you&#39;re installing it on top of OpenJDK17 I don&#39;t know.\r\n\r\nYou already have a compatible jre installed, you can continue installing neo4j as normal.","title":"I have problem while install neo4j on REHL 9","body":"<p>The instruction to install the java17-adapter are under the Oracle java section because that only needs doing if you use Oracle java.</p>\n<p>Why you're installing it on top of OpenJDK17 I don't know.</p>\n<p>You already have a compatible jre installed, you can continue installing neo4j as normal.</p>\n"}],"owner":{"account_id":19233270,"reputation":1,"user_id":14054733,"display_name":"kh&#225;nh phan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1686166220,"creation_date":1686112574,"question_id":76419924,"body_markdown":"I have problem with jre while installing neo4j\r\n\r\nI&#39;m trying to install neo4j following the instructions at https://neo4j.com/docs/operations-manual/current/installation/linux/rpm/\r\n[I installed openjdk-17 ](https://i.stack.imgur.com/6RiNg.png)\r\n\r\nBut when I run sudo yum install https://dist.neo4j.org/neo4j-java17-adapter.noarch.rpm command it shows me this:\r\n\r\n![](https://i.stack.imgur.com/jS63h.png)\r\n\r\nI don&#39;t know what happened with my jre.","title":"I have problem while install neo4j on REHL 9","body":"<p>I have problem with jre while installing neo4j</p>\n<p>I'm trying to install neo4j following the instructions at <a href=\"https://neo4j.com/docs/operations-manual/current/installation/linux/rpm/\" rel=\"nofollow noreferrer\">https://neo4j.com/docs/operations-manual/current/installation/linux/rpm/</a>\n<a href=\"https://i.stack.imgur.com/6RiNg.png\" rel=\"nofollow noreferrer\">I installed openjdk-17 </a></p>\n<p>But when I run sudo yum install <a href=\"https://dist.neo4j.org/neo4j-java17-adapter.noarch.rpm\" rel=\"nofollow noreferrer\">https://dist.neo4j.org/neo4j-java17-adapter.noarch.rpm</a> command it shows me this:</p>\n<p><img src=\"https://i.stack.imgur.com/jS63h.png\" alt=\"\" /></p>\n<p>I don't know what happened with my jre.</p>\n"},{"tags":["java","tomcat","kerberos"],"answers":[{"tags":[],"owner":{"account_id":20740,"reputation":13570,"user_id":49849,"display_name":"user1686"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686165735,"creation_date":1686165735,"answer_id":76426508,"question_id":76422564,"body_markdown":"Since you had RC4, I _suspect_ you&#39;re using Active Directory as your Kerberos KDC.\r\n\r\nWhile Kerberos RC4-HMAC keys were completely unsalted (they were literally an NT-style MD4 hash), the AES128 or AES256 keys _do_ use a salt as part of the (new) PBKDF2 key derivation.\r\n\r\nIn &quot;standard&quot; MIT Kerberos, the salt is based directly on the principal name, i.e. `HTTP/my.host` is converted to the salt. However, that&#39;s not the case with Active Directory, where a single account could have multiple SPNs while sharing a single key between them – instead, AD creates the salt based on the account&#39;s &quot;sAMAccountName&quot; (which is probably something like `tomcat123`).\r\n\r\nThe most likely result here is that the keys derived by ktutil don&#39;t match keys derived by your AD DC because of the mismatching salts. To fix this, use the **`addent -f`** option to make ktutil _ask the KDC_ about what salt to use (the same way as would be done during &#39;kinit&#39; or other ticket acquisition).","title":"Migration from RC4 to AES256 Kerberos problems - Tomcat 9.0.64","body":"<p>Since you had RC4, I <em>suspect</em> you're using Active Directory as your Kerberos KDC.</p>\n<p>While Kerberos RC4-HMAC keys were completely unsalted (they were literally an NT-style MD4 hash), the AES128 or AES256 keys <em>do</em> use a salt as part of the (new) PBKDF2 key derivation.</p>\n<p>In &quot;standard&quot; MIT Kerberos, the salt is based directly on the principal name, i.e. <code>HTTP/my.host</code> is converted to the salt. However, that's not the case with Active Directory, where a single account could have multiple SPNs while sharing a single key between them – instead, AD creates the salt based on the account's &quot;sAMAccountName&quot; (which is probably something like <code>tomcat123</code>).</p>\n<p>The most likely result here is that the keys derived by ktutil don't match keys derived by your AD DC because of the mismatching salts. To fix this, use the <strong><code>addent -f</code></strong> option to make ktutil <em>ask the KDC</em> about what salt to use (the same way as would be done during 'kinit' or other ticket acquisition).</p>\n"}],"owner":{"account_id":17438663,"reputation":5,"user_id":12641200,"display_name":"Trackres"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76426508,"answer_count":1,"score":0,"last_activity_date":1686165735,"creation_date":1686135329,"question_id":76422564,"body_markdown":"Hi I tried to migrate our Java application from RC4 to AES256 encryption by generating new keytab. \r\n\r\n\r\n\r\n\r\n\r\n\r\nTo generate keytab I used ktutil:\r\n\r\n```\r\naddent -password -p HTTP/my.host@MY.DOMAIN -k 1 -e aes256-cts-hmac-sha1-96\r\n```\r\n\r\nFor user I have changed parameter type to:\r\n`msds-supportedEncryptionType = 24 (0x18)`\r\n\r\nand set SPN to `HTTP/my.host@MY.DOMAIN`\r\n\r\nAlso changed in krb5.conf to:\r\n\r\n```\r\n        default_tkt_enctypes = aes256-cts-hmac-sha1-96 aes128-cts-hmac-sha1-96\r\n        default_tgs_enctypes = aes256-cts-hmac-sha1-96 aes128-cts-hmac-sha1-96\r\n        permitted_enctypes = aes256-cts-hmac-sha1-96 aes128-cts-hmac-sha1-96\r\n```\r\n\r\nFor kerberos logs I am using following parameters: \r\n`-Dsun.security.krb5.debug=true -Dsun.security.jgss.debug=true -Dsun.security.spnego.debug=true`\r\n\r\nUnfortunately I am getting 401 error with Windows authentication box appearing.\r\n\r\nIn code I get following logs:\r\n\r\n```\r\nDebug is true storeKey true useTicketCache false useKeyTab true doNotPrompt true ticketCache is null isInitiator false KeyTab is /location/tomcat/base/conf/kerberos.keytab refreshKrb5Config is false principal is HTTP/my.host@MY.DOMAIN tryFirstPass is false useFirstPass is false storePass is false clearPass is false\r\nprincipal is HTTP/my.host@MY.DOMAIN\r\nWill use keytab\r\nCommit Succeeded\r\nSearch Subject for SPNEGO ACCEPT cred (&lt;&lt;DEF&gt;&gt;, sun.security.jgss.spnego.SpNegoCredElement)\r\nSearch Subject for Kerberos V5 ACCEPT cred (&lt;&lt;DEF&gt;&gt;, sun.security.jgss.krb5.Krb5AcceptCredential)\r\nFound KeyTab /location/tomcat/base/conf/kerberos.keytab for HTTP/my.host@MY.DOMAIN\r\nFound KeyTab /location/tomcat/base/conf/kerberos.keytab for HTTP/my.host@MY.DOMAIN\r\nEntered SpNegoContext.acceptSecContext with state=STATE_NEW\r\nSpNegoContext.acceptSecContext: receiving token = a0 82 08 b7 30 82 08 b3 a0 30 30 2e 06 09 2a 86 48 ...\r\nSpNegoToken NegTokenInit: reading Mechanism Oid = 1.2.840.113554.1.2.2\r\nSpNegoToken NegTokenInit: reading Mechanism Oid = 1.2.840.48018.1.2.2\r\nSpNegoToken NegTokenInit: reading Mechanism Oid = 1.3.6.1.4.1.311.2.2.30\r\nSpNegoToken NegTokenInit: reading Mechanism Oid = 1.3.6.1.4.1.311.2.2.10\r\nSpNegoToken NegTokenInit: reading Mech Token\r\nSpNegoContext.acceptSecContext: received token of type = SPNEGO NegTokenInit\r\nSpNegoContext: negotiated mechanism = 1.2.840.113554.1.2.2\r\nEntered Krb5Context.acceptSecContext with state=STATE_NEW\r\nLooking for keys for: HTTP/my.host@MY.DOMAIN\r\nAdded key: 18version: 1\r\n&gt;&gt;&gt; EType: sun.security.krb5.internal.crypto.Aes256CtsHmacSha1EType\r\n[Krb5LoginModule]: Entering logout\r\n[Krb5LoginModule]: logged out Subject\r\n```\r\n\r\nAs you see above after adding key it entering logout. Unfortunately I don&#39;t get any error here and it not clear for me why it is not working.\r\nPreviously with RC4 encoding it was working correctly.\r\n\r\nTomcat: 9.0.64\r\nJava: 1.8.0_322-b06","title":"Migration from RC4 to AES256 Kerberos problems - Tomcat 9.0.64","body":"<p>Hi I tried to migrate our Java application from RC4 to AES256 encryption by generating new keytab.</p>\n<p>To generate keytab I used ktutil:</p>\n<pre><code>addent -password -p HTTP/my.host@MY.DOMAIN -k 1 -e aes256-cts-hmac-sha1-96\n</code></pre>\n<p>For user I have changed parameter type to:\n<code>msds-supportedEncryptionType = 24 (0x18)</code></p>\n<p>and set SPN to <code>HTTP/my.host@MY.DOMAIN</code></p>\n<p>Also changed in krb5.conf to:</p>\n<pre><code>        default_tkt_enctypes = aes256-cts-hmac-sha1-96 aes128-cts-hmac-sha1-96\n        default_tgs_enctypes = aes256-cts-hmac-sha1-96 aes128-cts-hmac-sha1-96\n        permitted_enctypes = aes256-cts-hmac-sha1-96 aes128-cts-hmac-sha1-96\n</code></pre>\n<p>For kerberos logs I am using following parameters:\n<code>-Dsun.security.krb5.debug=true -Dsun.security.jgss.debug=true -Dsun.security.spnego.debug=true</code></p>\n<p>Unfortunately I am getting 401 error with Windows authentication box appearing.</p>\n<p>In code I get following logs:</p>\n<pre><code>Debug is true storeKey true useTicketCache false useKeyTab true doNotPrompt true ticketCache is null isInitiator false KeyTab is /location/tomcat/base/conf/kerberos.keytab refreshKrb5Config is false principal is HTTP/my.host@MY.DOMAIN tryFirstPass is false useFirstPass is false storePass is false clearPass is false\nprincipal is HTTP/my.host@MY.DOMAIN\nWill use keytab\nCommit Succeeded\nSearch Subject for SPNEGO ACCEPT cred (&lt;&lt;DEF&gt;&gt;, sun.security.jgss.spnego.SpNegoCredElement)\nSearch Subject for Kerberos V5 ACCEPT cred (&lt;&lt;DEF&gt;&gt;, sun.security.jgss.krb5.Krb5AcceptCredential)\nFound KeyTab /location/tomcat/base/conf/kerberos.keytab for HTTP/my.host@MY.DOMAIN\nFound KeyTab /location/tomcat/base/conf/kerberos.keytab for HTTP/my.host@MY.DOMAIN\nEntered SpNegoContext.acceptSecContext with state=STATE_NEW\nSpNegoContext.acceptSecContext: receiving token = a0 82 08 b7 30 82 08 b3 a0 30 30 2e 06 09 2a 86 48 ...\nSpNegoToken NegTokenInit: reading Mechanism Oid = 1.2.840.113554.1.2.2\nSpNegoToken NegTokenInit: reading Mechanism Oid = 1.2.840.48018.1.2.2\nSpNegoToken NegTokenInit: reading Mechanism Oid = 1.3.6.1.4.1.311.2.2.30\nSpNegoToken NegTokenInit: reading Mechanism Oid = 1.3.6.1.4.1.311.2.2.10\nSpNegoToken NegTokenInit: reading Mech Token\nSpNegoContext.acceptSecContext: received token of type = SPNEGO NegTokenInit\nSpNegoContext: negotiated mechanism = 1.2.840.113554.1.2.2\nEntered Krb5Context.acceptSecContext with state=STATE_NEW\nLooking for keys for: HTTP/my.host@MY.DOMAIN\nAdded key: 18version: 1\n&gt;&gt;&gt; EType: sun.security.krb5.internal.crypto.Aes256CtsHmacSha1EType\n[Krb5LoginModule]: Entering logout\n[Krb5LoginModule]: logged out Subject\n</code></pre>\n<p>As you see above after adding key it entering logout. Unfortunately I don't get any error here and it not clear for me why it is not working.\nPreviously with RC4 encoding it was working correctly.</p>\n<p>Tomcat: 9.0.64\nJava: 1.8.0_322-b06</p>\n"},{"tags":["java","digital-signature","itext7","pdfa3"],"answers":[{"comments":[{"owner":{"account_id":18813631,"reputation":31,"user_id":13721312,"display_name":"Andrea Carlo Ponte"},"score":0,"creation_date":1686229996,"post_id":76426494,"comment_id":134772631,"body_markdown":"I&#39;m not sure because every validator online tells that the first file is valida PDF A/3B and the second no. VeraPDF is a bit more detailed but other validator give the same result.","body":"I&#39;m not sure because every validator online tells that the first file is valida PDF A/3B and the second no. VeraPDF is a bit more detailed but other validator give the same result."},{"owner":{"account_id":3045158,"reputation":335,"user_id":4355619,"display_name":"mval"},"score":0,"creation_date":1686339241,"post_id":76426494,"comment_id":134790514,"body_markdown":"Hi, I went and got a second opinion from a PDF/A expert that also worked on VeraPDF. His position is that the Trapped property is not part of the 2005 XMP specification (although it was added to the namespace at some unspecified later point in time, and the corresponding PDF property predates XMP by half a decade). Nonetheless, PDF/X-4 is based on the same pre-ISO XMP spec, and is also older than PDF/A. Regardless of whether the omission from PDF/A was intentional or not, this seems to be a bit more thorny than I thought. To be continued...","body":"Hi, I went and got a second opinion from a PDF/A expert that also worked on VeraPDF. His position is that the Trapped property is not part of the 2005 XMP specification (although it was added to the namespace at some unspecified later point in time, and the corresponding PDF property predates XMP by half a decade). Nonetheless, PDF/X-4 is based on the same pre-ISO XMP spec, and is also older than PDF/A. Regardless of whether the omission from PDF/A was intentional or not, this seems to be a bit more thorny than I thought. To be continued..."}],"tags":[],"owner":{"account_id":3045158,"reputation":335,"user_id":4355619,"display_name":"mval"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686165633,"creation_date":1686165633,"answer_id":76426494,"question_id":76423743,"body_markdown":"I believe this is a bug in VeraPDF. The reason why the check fails is that iText (correctly, as far as I&#39;m aware) copies the value of the **Trapped** entry in the input PDF&#39;s info dict into the `pdf:Trapped` XMP property when rewriting the file, but `pdf:Trapped` is not in this namespace listing in VeraPDF: https://github.com/veraPDF/veraPDF-library/blob/153e1723da4ea20176b4efe65e176e11e5[…]ore/src/main/java/org/verapdf/model/tools/xmp/XMPConstants.java. AFAIK it should be in there, though (reference: https://developer.adobe.com/xmp/docs/XMPNamespaces/pdf/).\r\n\r\nThis also has implications for files that claim conformance with both PDF/X-4 and PDF/A-2 or PDF/A-3, since the `pdf:Trapped` property is mandatory in such files.","title":"IText broke Specification: ISO 19005-3:2012, Clause: 6.6.2.3, Test number: 7","body":"<p>I believe this is a bug in VeraPDF. The reason why the check fails is that iText (correctly, as far as I'm aware) copies the value of the <strong>Trapped</strong> entry in the input PDF's info dict into the <code>pdf:Trapped</code> XMP property when rewriting the file, but <code>pdf:Trapped</code> is not in this namespace listing in VeraPDF: <a href=\"https://github.com/veraPDF/veraPDF-library/blob/153e1723da4ea20176b4efe65e176e11e5%5B%E2%80%A6%5Dore/src/main/java/org/verapdf/model/tools/xmp/XMPConstants.java\" rel=\"nofollow noreferrer\">https://github.com/veraPDF/veraPDF-library/blob/153e1723da4ea20176b4efe65e176e11e5[…]ore/src/main/java/org/verapdf/model/tools/xmp/XMPConstants.java</a>. AFAIK it should be in there, though (reference: <a href=\"https://developer.adobe.com/xmp/docs/XMPNamespaces/pdf/\" rel=\"nofollow noreferrer\">https://developer.adobe.com/xmp/docs/XMPNamespaces/pdf/</a>).</p>\n<p>This also has implications for files that claim conformance with both PDF/X-4 and PDF/A-2 or PDF/A-3, since the <code>pdf:Trapped</code> property is mandatory in such files.</p>\n"}],"owner":{"account_id":18813631,"reputation":31,"user_id":13721312,"display_name":"Andrea Carlo Ponte"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686165633,"creation_date":1686144006,"question_id":76423743,"body_markdown":"I&#39;m trying  to sign with IText 8 a PDF a PDF/A-3B document.\r\nMy code seem to work, but I didn&#39;t succeed with online validator.\r\nThe error I get with various site is:\r\n\r\n**Specification: ISO 19005-3:2012, Clause: 6.6.2.3, Test number: 7\t\r\nAll properties specified in XMP form shall use either the predefined schemas defined in the XMP Specification, ISO 19005-1 or this part of ISO 19005, or any extension schemas that comply with 6.6.2.3.2.\tFailed\r\n1 occurrences\tHide\r\nXMPProperty\t\r\n(isPredefinedInXMP2005 == true || isDefinedInMainPackage == true || isDefinedInCurrentPackage == true) &amp;&amp; isValueTypeCorrect == true\t\r\nroot/document[0]/metadata[0](23 0 obj PDMetadata)/XMPPackage[0]/Properties[7](http://ns.adobe.com/pdf/1.3/ - pdf:Trapped)**\r\n\r\nThe original document was validated from VerPDF&#39;s site meanwhile the result pdf with or without the signin process fail in this way.\r\n\r\n\r\nMy simple code without sign\r\n\r\n\r\n```\r\nPdfDocument pdfDoc = new PdfDocument(new PdfReader(pdfInputFileName), new PdfWriter(pdfOutputFileName));\r\npdfDoc.close()\r\n```\r\n\r\n\r\n[The original file ](https://www.mediafire.com/file/473aw3s1lbmlq7v/PDF_out.pdf/file)\r\n\r\n[The output](https://www.mediafire.com/file/4eu6vr3qvhhuib9/PDF_2.pdf/file) \r\n\r\nThe output is without Signature for privacy reason\r\n\r\nAny thoughts?\r\nThanks in advance\r\n\r\n\r\n\r\nI&#39;ve tryied to add writer xmpMetadata but no changes in the result","title":"IText broke Specification: ISO 19005-3:2012, Clause: 6.6.2.3, Test number: 7","body":"<p>I'm trying  to sign with IText 8 a PDF a PDF/A-3B document.\nMy code seem to work, but I didn't succeed with online validator.\nThe error I get with various site is:</p>\n<p><strong>Specification: ISO 19005-3:2012, Clause: 6.6.2.3, Test number: 7<br />\nAll properties specified in XMP form shall use either the predefined schemas defined in the XMP Specification, ISO 19005-1 or this part of ISO 19005, or any extension schemas that comply with 6.6.2.3.2.  Failed\n1 occurrences   Hide\nXMPProperty\n(isPredefinedInXMP2005 == true || isDefinedInMainPackage == true || isDefinedInCurrentPackage == true) &amp;&amp; isValueTypeCorrect == true<br />\nroot/document[0]/metadata[0](23 0 obj PDMetadata)/XMPPackage[0]/Properties[7](<a href=\"http://ns.adobe.com/pdf/1.3/\" rel=\"nofollow noreferrer\">http://ns.adobe.com/pdf/1.3/</a> - pdf:Trapped)</strong></p>\n<p>The original document was validated from VerPDF's site meanwhile the result pdf with or without the signin process fail in this way.</p>\n<p>My simple code without sign</p>\n<pre><code>PdfDocument pdfDoc = new PdfDocument(new PdfReader(pdfInputFileName), new PdfWriter(pdfOutputFileName));\npdfDoc.close()\n</code></pre>\n<p><a href=\"https://www.mediafire.com/file/473aw3s1lbmlq7v/PDF_out.pdf/file\" rel=\"nofollow noreferrer\">The original file </a></p>\n<p><a href=\"https://www.mediafire.com/file/4eu6vr3qvhhuib9/PDF_2.pdf/file\" rel=\"nofollow noreferrer\">The output</a></p>\n<p>The output is without Signature for privacy reason</p>\n<p>Any thoughts?\nThanks in advance</p>\n<p>I've tryied to add writer xmpMetadata but no changes in the result</p>\n"},{"tags":["java","couchbase","spring-data-couchbase"],"answers":[{"tags":[],"owner":{"account_id":1029909,"reputation":364,"user_id":5228155,"display_name":"mn_test347"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686165573,"creation_date":1686165573,"answer_id":76426483,"question_id":75886700,"body_markdown":"This is a known issue that is fixed in Spring Boot 2.6.6.","title":"Java thread that upserts document in Couchbase is stuck in Waiting state indefinitely","body":"<p>This is a known issue that is fixed in Spring Boot 2.6.6.</p>\n"}],"owner":{"account_id":28017502,"reputation":31,"user_id":21398991,"display_name":"Neha Sahni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1686165573,"creation_date":1680170111,"question_id":75886700,"body_markdown":"Spring Boot Version: 2.3.1.RELEASE\r\nSpring Data Couchbase: 4.3.5\r\nCouchbase Java Client: 3.2.7\r\nMy spring boot application is getting stuck after inserting a document in Couchbase. (I can see document was inserted successfully)\r\n\r\n```\r\n` final CatalogLock entity = lockRepository.save(lock);\r\n        return entity.getId();\r\n\r\npublic interface CatalogLockRepository extends CouchbaseRepository&lt;CatalogLock, String&gt;`\r\n```\r\n\r\n&quot;main&quot; #1 prio=5 os_prio=0 tid=0x0000000003614800 nid=0x5f14 waiting on condition [0x000000000360b000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n        at sun.misc.Unsafe.park(Native Method)\r\n        - parking to wait for  &lt;0x0000000709cf3808&gt; (a java.util.concurrent.CountDownLatch$Sync)\r\n        at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)\r\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:997)\r\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1304)\r\n        at java.util.concurrent.CountDownLatch.await(CountDownLatch.java:231)\r\n        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:87)\r\n        at reactor.core.publisher.Mono.block(Mono.java:1679)\r\n        at org.springframework.data.couchbase.core.ExecutableUpsertByIdOperationSupport$ExecutableUpsertByIdSupport.one(ExecutableUpsertByIdOperationSupport.java:75)\r\n\r\nThere seems to be a similar issue raised in Couchbase forum https://forums.couchbase.com/t/java-thread-that-queries-couchbase-stuck-in-waiting-state/24144\r\nbut with no response\r\n\r\nTried different versions of Couchbase java client and spring data couchbase, reactore-core. Nothing helped","title":"Java thread that upserts document in Couchbase is stuck in Waiting state indefinitely","body":"<p>Spring Boot Version: 2.3.1.RELEASE\nSpring Data Couchbase: 4.3.5\nCouchbase Java Client: 3.2.7\nMy spring boot application is getting stuck after inserting a document in Couchbase. (I can see document was inserted successfully)</p>\n<pre><code>` final CatalogLock entity = lockRepository.save(lock);\n        return entity.getId();\n\npublic interface CatalogLockRepository extends CouchbaseRepository&lt;CatalogLock, String&gt;`\n</code></pre>\n<p>&quot;main&quot; #1 prio=5 os_prio=0 tid=0x0000000003614800 nid=0x5f14 waiting on condition [0x000000000360b000]\njava.lang.Thread.State: WAITING (parking)\nat sun.misc.Unsafe.park(Native Method)\n- parking to wait for  &lt;0x0000000709cf3808&gt; (a java.util.concurrent.CountDownLatch$Sync)\nat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\nat java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)\nat java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:997)\nat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1304)\nat java.util.concurrent.CountDownLatch.await(CountDownLatch.java:231)\nat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:87)\nat reactor.core.publisher.Mono.block(Mono.java:1679)\nat org.springframework.data.couchbase.core.ExecutableUpsertByIdOperationSupport$ExecutableUpsertByIdSupport.one(ExecutableUpsertByIdOperationSupport.java:75)</p>\n<p>There seems to be a similar issue raised in Couchbase forum <a href=\"https://forums.couchbase.com/t/java-thread-that-queries-couchbase-stuck-in-waiting-state/24144\" rel=\"nofollow noreferrer\">https://forums.couchbase.com/t/java-thread-that-queries-couchbase-stuck-in-waiting-state/24144</a>\nbut with no response</p>\n<p>Tried different versions of Couchbase java client and spring data couchbase, reactore-core. Nothing helped</p>\n"},{"tags":["java","hibernate","jpa","hibernate-envers","cascading-deletes"],"owner":{"account_id":16145483,"reputation":41,"user_id":11721167,"display_name":"pvncoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686165497,"creation_date":1686165497,"question_id":76426474,"body_markdown":"I&#39;m using Hibernate version 6.2.4.Final. I have an entity called &quot;Batch&quot;:\r\n```\r\n@Audited\r\n@Entity\r\n@Table(name = &quot;batch&quot;)\r\npublic class Batch extends BaseEntity implements Serializable {\r\n\r\n    @OneToMany(mappedBy = &quot;batch&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)\r\n    private List&lt;BatchTechnicalRecord&gt; technicalRecords;\r\n    ...\r\n}\r\n```\r\nI also have the &quot;BatchTechnicalRecord&quot; entity:\r\n```\r\n@Audited\r\n@Entity\r\n@Table(name = &quot;batch_technical_record&quot;)\r\npublic class BatchTechnicalRecord extends BaseEntity implements Serializable {\r\n\r\n    @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    @JoinTable(name = &quot;batch_technical_record_attachment&quot;, joinColumns = @JoinColumn(name = &quot;id_batch_technical_record&quot;), inverseJoinColumns = @JoinColumn(name = &quot;id_attachment&quot;))\r\n    private List&lt;Attachment&gt; attachments;\r\n    ...\r\n}\r\n```\r\nAnd finally, the &quot;BatchTechnicalRecordAttachment&quot; entity that relates &quot;Attachment&quot; to &quot;BatchTechnicalRecord&quot;:\r\n```\r\n@Audited\r\n@Entity\r\n@Table(name = &quot;batch_technical_record_attachment&quot;)\r\npublic class BatchTechnicalRecordAttachment extends BaseEntity implements Serializable {\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;id_attachment&quot;, referencedColumnName = &quot;id&quot;, nullable = false, foreignKey = @ForeignKey(name = &quot;fk_batch_technical_record_attachment_attachment&quot;))\r\n    private Attachment attachment;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;id_batch_technical_record&quot;, referencedColumnName = &quot;id&quot;, nullable = false, foreignKey = @ForeignKey(name = &quot;fk_fk_batch_technical_record_attachment_attachment_batch_technical_record&quot;))\r\n    private BatchTechnicalRecord batchTechnicalRecord;\r\n    ...\r\n}\r\n```\r\nWhen I try to remove the &quot;Batch&quot;, the cascade should remove the associated &quot;BatchTechnicalRecord&quot; entities along with their &quot;BatchTechnicalRecordAttachment&quot; and &quot;Attachment&quot; entities. However, Hibernate is attempting to insert a null ID in the &quot;batch_technical_record_attachment_aud&quot; table for some reason:\r\n```\r\nCaused by: org.postgresql.util.PSQLException: ERROR: null value in column &quot;id&quot; of relation &quot;batch_technical_record_attachment_aud&quot; violates not-null constraint\r\n  Detail: Failing row contains (null, 2052, 2, null, null, null, null, 15, 35).\r\n```\r\n\r\nAny help would be appreciated in resolving this issue. Thank you.","title":"Hibernate Envers inserting null ID in child entities (_aud) when parent entity is removed in @OneToMany relationship with @JoinTable","body":"<p>I'm using Hibernate version 6.2.4.Final. I have an entity called &quot;Batch&quot;:</p>\n<pre><code>@Audited\n@Entity\n@Table(name = &quot;batch&quot;)\npublic class Batch extends BaseEntity implements Serializable {\n\n    @OneToMany(mappedBy = &quot;batch&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)\n    private List&lt;BatchTechnicalRecord&gt; technicalRecords;\n    ...\n}\n</code></pre>\n<p>I also have the &quot;BatchTechnicalRecord&quot; entity:</p>\n<pre><code>@Audited\n@Entity\n@Table(name = &quot;batch_technical_record&quot;)\npublic class BatchTechnicalRecord extends BaseEntity implements Serializable {\n\n    @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    @JoinTable(name = &quot;batch_technical_record_attachment&quot;, joinColumns = @JoinColumn(name = &quot;id_batch_technical_record&quot;), inverseJoinColumns = @JoinColumn(name = &quot;id_attachment&quot;))\n    private List&lt;Attachment&gt; attachments;\n    ...\n}\n</code></pre>\n<p>And finally, the &quot;BatchTechnicalRecordAttachment&quot; entity that relates &quot;Attachment&quot; to &quot;BatchTechnicalRecord&quot;:</p>\n<pre><code>@Audited\n@Entity\n@Table(name = &quot;batch_technical_record_attachment&quot;)\npublic class BatchTechnicalRecordAttachment extends BaseEntity implements Serializable {\n\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;id_attachment&quot;, referencedColumnName = &quot;id&quot;, nullable = false, foreignKey = @ForeignKey(name = &quot;fk_batch_technical_record_attachment_attachment&quot;))\n    private Attachment attachment;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;id_batch_technical_record&quot;, referencedColumnName = &quot;id&quot;, nullable = false, foreignKey = @ForeignKey(name = &quot;fk_fk_batch_technical_record_attachment_attachment_batch_technical_record&quot;))\n    private BatchTechnicalRecord batchTechnicalRecord;\n    ...\n}\n</code></pre>\n<p>When I try to remove the &quot;Batch&quot;, the cascade should remove the associated &quot;BatchTechnicalRecord&quot; entities along with their &quot;BatchTechnicalRecordAttachment&quot; and &quot;Attachment&quot; entities. However, Hibernate is attempting to insert a null ID in the &quot;batch_technical_record_attachment_aud&quot; table for some reason:</p>\n<pre><code>Caused by: org.postgresql.util.PSQLException: ERROR: null value in column &quot;id&quot; of relation &quot;batch_technical_record_attachment_aud&quot; violates not-null constraint\n  Detail: Failing row contains (null, 2052, 2, null, null, null, null, 15, 35).\n</code></pre>\n<p>Any help would be appreciated in resolving this issue. Thank you.</p>\n"},{"tags":["java","mockito","junit5"],"comments":[{"owner":{"account_id":2123179,"reputation":10932,"user_id":1886012,"display_name":"bowmore"},"score":1,"creation_date":1686151136,"post_id":76424528,"comment_id":134760576,"body_markdown":"Treat Clock as a service, inject it, and use Clock.now() or Instant.now(Clock) to get the current time. Then in tests you can inject the Clock.fixed(...) you need.","body":"Treat Clock as a service, inject it, and use Clock.now() or Instant.now(Clock) to get the current time. Then in tests you can inject the Clock.fixed(...) you need."},{"owner":{"account_id":1133503,"reputation":3630,"user_id":1119043,"accept_rate":0,"display_name":"belgoros"},"score":0,"creation_date":1686164734,"post_id":76424528,"comment_id":134763252,"body_markdown":"Thank you very much for the suggestion. I updated the original comment content to give a more clear understanding.","body":"Thank you very much for the suggestion. I updated the original comment content to give a more clear understanding."}],"answers":[{"comments":[{"owner":{"account_id":1133503,"reputation":3630,"user_id":1119043,"accept_rate":0,"display_name":"belgoros"},"score":0,"creation_date":1686166087,"post_id":76424880,"comment_id":134763485,"body_markdown":"Using ` withSettings().defaultAnswer(invocation -&gt; invocation.callRealMethod()` worked fine for me. Thanks a lot!!!","body":"Using ` withSettings().defaultAnswer(invocation -&gt; invocation.callRealMethod()` worked fine for me. Thanks a lot!!!"}],"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686152627,"creation_date":1686151593,"answer_id":76424880,"question_id":76424528,"body_markdown":"## Explanation\r\nThis is because all static method of `Instant` is returning null within the try block, the behaviour is the same as we do for instance method in instance mock. \r\n\r\nIf we debug into the `minus` call, it will finally arrive `ofEpochSecond` which will return null.\r\n```java\r\n    private Instant plus(long secondsToAdd, long nanosToAdd) {\r\n        if ((secondsToAdd | nanosToAdd) == 0) {\r\n            return this;\r\n        }\r\n        long epochSec = Math.addExact(seconds, secondsToAdd);\r\n        epochSec = Math.addExact(epochSec, nanosToAdd / NANOS_PER_SECOND);\r\n        nanosToAdd = nanosToAdd % NANOS_PER_SECOND;\r\n        long nanoAdjustment = nanos + nanosToAdd;  // safe int+NANOS_PER_SECOND\r\n        return ofEpochSecond(epochSec, nanoAdjustment);\r\n    }\r\n```\r\n## Workaround\r\nYou can provide setting for `defaultAnswer` to call real method by default.\r\n```java\r\ntry (MockedStatic&lt;Instant&gt; mockedStatic = mockStatic(Instant.class,  \r\n     withSettings().defaultAnswer(invocation -&gt; invocation.callRealMethod()))) {\r\n     mockedStatic.when(Instant::now).thenReturn(instant);\r\n     ...\r\n}\r\n```\r\n## Better solution\r\nreferring to [Clock javadoc][2]\r\n&gt;The primary purpose of this abstraction is to allow alternate clocks to be plugged in as and when required. Applications use an object to obtain the current time rather than a static method. This can simplify testing.\r\n\r\nAnd suggested by [bowmore][1], we should treat Clock as a service, and set the time as desired.  \r\n\r\nIn addition, static method is global by default, hence changing(static mock) it behaviour is as error prone as changing a global variable.\r\n\r\n  [1]: https://stackoverflow.com/users/1886012/bowmore\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Clock.html","title":"Mockito: using mockStatic() - how to mock instance methods on the scoped mock object","body":"<h2>Explanation</h2>\n<p>This is because all static method of <code>Instant</code> is returning null within the try block, the behaviour is the same as we do for instance method in instance mock.</p>\n<p>If we debug into the <code>minus</code> call, it will finally arrive <code>ofEpochSecond</code> which will return null.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private Instant plus(long secondsToAdd, long nanosToAdd) {\n        if ((secondsToAdd | nanosToAdd) == 0) {\n            return this;\n        }\n        long epochSec = Math.addExact(seconds, secondsToAdd);\n        epochSec = Math.addExact(epochSec, nanosToAdd / NANOS_PER_SECOND);\n        nanosToAdd = nanosToAdd % NANOS_PER_SECOND;\n        long nanoAdjustment = nanos + nanosToAdd;  // safe int+NANOS_PER_SECOND\n        return ofEpochSecond(epochSec, nanoAdjustment);\n    }\n</code></pre>\n<h2>Workaround</h2>\n<p>You can provide setting for <code>defaultAnswer</code> to call real method by default.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (MockedStatic&lt;Instant&gt; mockedStatic = mockStatic(Instant.class,  \n     withSettings().defaultAnswer(invocation -&gt; invocation.callRealMethod()))) {\n     mockedStatic.when(Instant::now).thenReturn(instant);\n     ...\n}\n</code></pre>\n<h2>Better solution</h2>\n<p>referring to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Clock.html\" rel=\"nofollow noreferrer\">Clock javadoc</a></p>\n<blockquote>\n<p>The primary purpose of this abstraction is to allow alternate clocks to be plugged in as and when required. Applications use an object to obtain the current time rather than a static method. This can simplify testing.</p>\n</blockquote>\n<p>And suggested by <a href=\"https://stackoverflow.com/users/1886012/bowmore\">bowmore</a>, we should treat Clock as a service, and set the time as desired.</p>\n<p>In addition, static method is global by default, hence changing(static mock) it behaviour is as error prone as changing a global variable.</p>\n"},{"tags":[],"owner":{"account_id":9204483,"reputation":121,"user_id":6840307,"display_name":"Updesh Srivastava"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686154516,"creation_date":1686154516,"answer_id":76425290,"question_id":76424528,"body_markdown":"**You need to use Mocked Construction in Mockito:**\r\n\r\nTry block Code:\r\n\r\n    try (MockedConstruction&lt;Instant&gt; mockedConstruction = mockConstruction(Instant.class,\r\n                (mock, context) -&gt; {\r\n                    //this initializer will be called each time during mock creation\r\n                    when(mock::now).thenReturn(instant);\r\n                })) {\r\n            \r\n            Instant now = Instant.now();\r\n            assertThat(now.toString()).isEqualTo(instantExpected);\r\n\r\n            Instant earlier2weeks = now.minus(Period.ofWeeks(2));\r\n            assertNotNull(earlier2weeks);// should work now\r\n        }\r\nAbove code should work as it will mock every **new construction** of the object.","title":"Mockito: using mockStatic() - how to mock instance methods on the scoped mock object","body":"<p><strong>You need to use Mocked Construction in Mockito:</strong></p>\n<p>Try block Code:</p>\n<pre><code>try (MockedConstruction&lt;Instant&gt; mockedConstruction = mockConstruction(Instant.class,\n            (mock, context) -&gt; {\n                //this initializer will be called each time during mock creation\n                when(mock::now).thenReturn(instant);\n            })) {\n        \n        Instant now = Instant.now();\n        assertThat(now.toString()).isEqualTo(instantExpected);\n\n        Instant earlier2weeks = now.minus(Period.ofWeeks(2));\n        assertNotNull(earlier2weeks);// should work now\n    }\n</code></pre>\n<p>Above code should work as it will mock every <strong>new construction</strong> of the object.</p>\n"}],"owner":{"account_id":1133503,"reputation":3630,"user_id":1119043,"accept_rate":0,"display_name":"belgoros"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":452,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1686164683,"creation_date":1686148894,"question_id":76424528,"body_markdown":"Here is a simple test example to show what fails and when. In short, I mock a static `now()` method of the `Instance` class but later on there is another call of this mocked instance, - `minus()` method which will return `null`:\r\n```java\r\n@Test\r\n    void givenInstantMock_whenNow_thenGetFixedInstant() {\r\n        String instantExpected = &quot;2014-12-22T10:15:30Z&quot;;\r\n        Clock clock = Clock.fixed(Instant.parse(instantExpected), ZoneId.of(&quot;UTC&quot;));\r\n        Instant instant = Instant.now(clock);\r\n\r\n        try (MockedStatic&lt;Instant&gt; mockedStatic = mockStatic(Instant.class)) {\r\n            mockedStatic.when(Instant::now).thenReturn(instant);\r\n            Instant now = Instant.now();\r\n            assertThat(now.toString()).isEqualTo(instantExpected);\r\n\r\n            Instant earlier2weeks = now.minus(Period.ofWeeks(2));\r\n            assertNotNull(earlier2weeks);// FAILS as it will be null\r\n        }\r\n    }\r\n```\r\n\r\nIn the real situation, a service class creates a new Instant with `Instant::now`:\r\n```java\r\n//in a component class\r\n@Component\r\nclass DeletionScheduler {\r\n...\r\npublic void findOutdatedEntries() {\r\n  Instant limitDate = Instant.now().minus(validityGracePeriod);\r\n        List&lt;Entry&gt; entriedToDelete= shareService.findOutdatedEtriees(limitDate );\r\n...\r\n}\r\n```\r\nSo as you can see, even if I mock the `Instant.now()` the call to `minus` on this instance will always return NULL.\r\n```\r\nSo the idea of the test was:\r\n\r\n- to create an entry with a `limitDate` in the future.\r\n- trick/mock the System clock to be in the future\r\n- check if there are some outdated entries.\r\n\r\nIs there any way to get around it?\r\n ","title":"Mockito: using mockStatic() - how to mock instance methods on the scoped mock object","body":"<p>Here is a simple test example to show what fails and when. In short, I mock a static <code>now()</code> method of the <code>Instance</code> class but later on there is another call of this mocked instance, - <code>minus()</code> method which will return <code>null</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\n    void givenInstantMock_whenNow_thenGetFixedInstant() {\n        String instantExpected = &quot;2014-12-22T10:15:30Z&quot;;\n        Clock clock = Clock.fixed(Instant.parse(instantExpected), ZoneId.of(&quot;UTC&quot;));\n        Instant instant = Instant.now(clock);\n\n        try (MockedStatic&lt;Instant&gt; mockedStatic = mockStatic(Instant.class)) {\n            mockedStatic.when(Instant::now).thenReturn(instant);\n            Instant now = Instant.now();\n            assertThat(now.toString()).isEqualTo(instantExpected);\n\n            Instant earlier2weeks = now.minus(Period.ofWeeks(2));\n            assertNotNull(earlier2weeks);// FAILS as it will be null\n        }\n    }\n</code></pre>\n<p>In the real situation, a service class creates a new Instant with <code>Instant::now</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//in a component class\n@Component\nclass DeletionScheduler {\n...\npublic void findOutdatedEntries() {\n  Instant limitDate = Instant.now().minus(validityGracePeriod);\n        List&lt;Entry&gt; entriedToDelete= shareService.findOutdatedEtriees(limitDate );\n...\n}\n</code></pre>\n<p>So as you can see, even if I mock the <code>Instant.now()</code> the call to <code>minus</code> on this instance will always return NULL.</p>\n<pre><code>So the idea of the test was:\n\n- to create an entry with a `limitDate` in the future.\n- trick/mock the System clock to be in the future\n- check if there are some outdated entries.\n\nIs there any way to get around it?\n \n</code></pre>\n"},{"tags":["java","rest","spring-data-couchbase"],"answers":[{"tags":[],"owner":{"account_id":1029909,"reputation":364,"user_id":5228155,"display_name":"mn_test347"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686164160,"creation_date":1686164160,"answer_id":76426298,"question_id":76420977,"body_markdown":"&gt; Whereas the imported documents lacked the _model.\r\n\r\nThis is probably the issue. spring-data-couchbase adds a type property. By default, the property is named _class and the value is the java classname (it sounds like you have overridden the default with _model). Queries from spring-data-couchbase add the predicate WHERE &amp;lt;type_property&amp;gt;=&amp;lt;class_name&amp;gt; . Data not inserted by spring-data-couchbase will not have that property and therefore not be selected by the query.  So the property will need to be added to documents in couchbase.","title":"Documents bulk inserted with Couchbase Web not showing up in REST API response Java","body":"<blockquote>\n<p>Whereas the imported documents lacked the _model.</p>\n</blockquote>\n<p>This is probably the issue. spring-data-couchbase adds a type property. By default, the property is named _class and the value is the java classname (it sounds like you have overridden the default with _model). Queries from spring-data-couchbase add the predicate WHERE &lt;type_property&gt;=&lt;class_name&gt; . Data not inserted by spring-data-couchbase will not have that property and therefore not be selected by the query.  So the property will need to be added to documents in couchbase.</p>\n"}],"owner":{"account_id":2501655,"reputation":734,"user_id":2176576,"accept_rate":40,"display_name":"user2176576"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76426298,"answer_count":1,"score":0,"last_activity_date":1686164160,"creation_date":1686123760,"question_id":76420977,"body_markdown":"I have a Couchbase cluster running with a bucket and scope created, when importing json objects as json list on webconsole, I can retrieve documents via Couchase web console. But the same documents are not visible when I try to fetch them via REST API in springboot app.\r\n\r\nIronically, the REST POST works, and the json object stored via REST gets fetched via the fetch API.\r\n\r\nCould you share what I may be doing wrong here?\r\n\r\nAlso noticed that the json object saved via Post endpoint saves _model as my model class name. and saved the UUID (my identifier thats autogenerated) in the metadata. Whereas the imported documents lacked the _model.","title":"Documents bulk inserted with Couchbase Web not showing up in REST API response Java","body":"<p>I have a Couchbase cluster running with a bucket and scope created, when importing json objects as json list on webconsole, I can retrieve documents via Couchase web console. But the same documents are not visible when I try to fetch them via REST API in springboot app.</p>\n<p>Ironically, the REST POST works, and the json object stored via REST gets fetched via the fetch API.</p>\n<p>Could you share what I may be doing wrong here?</p>\n<p>Also noticed that the json object saved via Post endpoint saves _model as my model class name. and saved the UUID (my identifier thats autogenerated) in the metadata. Whereas the imported documents lacked the _model.</p>\n"},{"tags":["java","sql","sql-server","sql-server-2008"],"comments":[{"owner":{"account_id":443256,"reputation":12498,"user_id":834362,"display_name":"home"},"score":0,"creation_date":1349617344,"post_id":12769171,"comment_id":17256702,"body_markdown":"How does this relate to android?","body":"How does this relate to android?"}],"answers":[{"comments":[{"owner":{"account_id":1242318,"reputation":1302,"user_id":1204617,"accept_rate":81,"display_name":"Mike"},"score":0,"creation_date":1349617391,"post_id":12769210,"comment_id":17256718,"body_markdown":"It worked. I created a user, but when i&#39;m logging in with the user and try to access the DB, I get: **The database SocialFamilyTree is not accessible (ObjectExplorer)** how can I give permission to this user.","body":"It worked. I created a user, but when i&#39;m logging in with the user and try to access the DB, I get: <b>The database SocialFamilyTree is not accessible (ObjectExplorer)</b> how can I give permission to this user."},{"owner":{"account_id":3576183,"reputation":8143,"user_id":2985377,"accept_rate":75,"display_name":"Jason D"},"score":2,"creation_date":1398457521,"post_id":12769210,"comment_id":35672848,"body_markdown":"I forgot to enable mixed mode authentication, thanks for the reminder, worked for me.","body":"I forgot to enable mixed mode authentication, thanks for the reminder, worked for me."}],"tags":[],"owner":{"account_id":77938,"reputation":7694,"user_id":222163,"accept_rate":89,"display_name":"Paul D&#39;Ambra"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1349616162,"creation_date":1349616162,"answer_id":12769210,"question_id":12769171,"body_markdown":"Having been through this very recently the steps I took to solve pretty much the same problem were \r\n\r\n 1. use SQL Server Management Studio to log in with the desired account and confirm access to read (and write if necessary)\r\n 2. Use SQL Server Configuration Manager to confirm that the server instance is listening on the IP address being targetted\r\n 3. Disable the firewall to check that isn&#39;t getting in the way (and add an exception if necessary for future use)\r\n\r\nThe absolute kicker for me was understanding what IP addresses and ports the instance was set to listen on so that when I constructed the connection string the connection wasn&#39;t being rejected.\r\n\r\nAlso, if you want to connect using Windows logins you need to ensure the SQL instance is configured for mixed mode authentication (i.e. to allow Windows and SQL logins)","title":"jdbc.SQLServerException: Login failed for user for any user","body":"<p>Having been through this very recently the steps I took to solve pretty much the same problem were </p>\n\n<ol>\n<li>use SQL Server Management Studio to log in with the desired account and confirm access to read (and write if necessary)</li>\n<li>Use SQL Server Configuration Manager to confirm that the server instance is listening on the IP address being targetted</li>\n<li>Disable the firewall to check that isn't getting in the way (and add an exception if necessary for future use)</li>\n</ol>\n\n<p>The absolute kicker for me was understanding what IP addresses and ports the instance was set to listen on so that when I constructed the connection string the connection wasn't being rejected.</p>\n\n<p>Also, if you want to connect using Windows logins you need to ensure the SQL instance is configured for mixed mode authentication (i.e. to allow Windows and SQL logins)</p>\n"},{"comments":[{"owner":{"account_id":1242318,"reputation":1302,"user_id":1204617,"accept_rate":81,"display_name":"Mike"},"score":1,"creation_date":1349617633,"post_id":12769241,"comment_id":17256782,"body_markdown":"I get: \n**Oct 07, 2012 9:45:49 AM com.microsoft.sqlserver.jdbc.AuthenticationJNI &lt;clinit&gt;\nWARNING: Failed to load the sqljdbc_auth.dll\nCouldn&#39;t get database connection.**","body":"I get:  <b>Oct 07, 2012 9:45:49 AM com.microsoft.sqlserver.jdbc.AuthenticationJNI &lt;clinit&gt; WARNING: Failed to load the sqljdbc_auth.dll Couldn&#39;t get database connection.</b>"},{"owner":{"account_id":1913609,"reputation":324,"user_id":1726745,"display_name":"piotrp"},"score":2,"creation_date":1349617922,"post_id":12769241,"comment_id":17256838,"body_markdown":"[http://www.microsoft.com/en-us/download/details.aspx?id=21599#filelis](http://www.microsoft.com/en-us/download/details.aspx?id=21599#filelis) Here you can find sqljdbc_auth.dll file. Yous can copy it into  c:/windows/system32 (for 32-bit system)","body":"<a href=\"http://www.microsoft.com/en-us/download/details.aspx?id=21599#filelis\" rel=\"nofollow noreferrer\">http://www.microsoft.com/en-us/download/details.aspx?id=2159&zwnj;&#8203;9#filelis</a> Here you can find sqljdbc_auth.dll file. Yous can copy it into  c:/windows/system32 (for 32-bit system)"},{"owner":{"account_id":1242318,"reputation":1302,"user_id":1204617,"accept_rate":81,"display_name":"Mike"},"score":0,"creation_date":1349618585,"post_id":12769241,"comment_id":17256949,"body_markdown":"Did it. still **WARNING: Failed to load the sqljdbc_auth.dll cause :- no sqljdbc_auth in java.library.path**","body":"Did it. still <b>WARNING: Failed to load the sqljdbc_auth.dll cause :- no sqljdbc_auth in java.library.path</b>"},{"owner":{"account_id":1242318,"reputation":1302,"user_id":1204617,"accept_rate":81,"display_name":"Mike"},"score":0,"creation_date":1349618687,"post_id":12769241,"comment_id":17256972,"body_markdown":"Nevermind, I got it to work with the db user I created. Thanks","body":"Nevermind, I got it to work with the db user I created. Thanks"},{"owner":{"account_id":74040,"reputation":1717,"user_id":212950,"accept_rate":75,"display_name":"MAbraham1"},"score":0,"creation_date":1422635422,"post_id":12769241,"comment_id":44841692,"body_markdown":"Mike, open the SQL Server error log to see which user is attempting to log-in to the db instance:\nC:\\Program Files\\Microsoft SQL Server\\MSSQL11.SQLEXPRESS\\MSSQL\\Log","body":"Mike, open the SQL Server error log to see which user is attempting to log-in to the db instance: C:\\Program Files\\Microsoft SQL Server\\MSSQL11.SQLEXPRESS\\MSSQL\\Log"},{"owner":{"account_id":2142422,"reputation":3442,"user_id":1900770,"display_name":"Davide"},"score":0,"creation_date":1572969311,"post_id":12769241,"comment_id":103723234,"body_markdown":"This is not an answer to the question","body":"This is not an answer to the question"}],"tags":[],"owner":{"account_id":1913609,"reputation":324,"user_id":1726745,"display_name":"piotrp"},"comment_count":6,"down_vote_count":1,"up_vote_count":28,"is_accepted":true,"score":27,"last_activity_date":1349616462,"creation_date":1349616462,"answer_id":12769241,"question_id":12769171,"body_markdown":"If you try to connect with database which is using windows authentication, you can use &#39;integratedSecurity&#39; option in your connection string.\r\n\r\n    DriverManager.getConnection(&quot;jdbc:sqlserver://localhost:1433;databaseName=SocialFamilyTree;integratedSecurity=true;&quot;);","title":"jdbc.SQLServerException: Login failed for user for any user","body":"<p>If you try to connect with database which is using windows authentication, you can use 'integratedSecurity' option in your connection string.</p>\n\n<pre><code>DriverManager.getConnection(\"jdbc:sqlserver://localhost:1433;databaseName=SocialFamilyTree;integratedSecurity=true;\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":192799,"reputation":524,"user_id":434145,"display_name":"Nikhil Silveira"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1353562175,"creation_date":1353562175,"answer_id":13506394,"question_id":12769171,"body_markdown":"Re: Did it. still WARNING: Failed to load the sqljdbc_auth.dll cause :- no sqljdbc_auth in java.library.path – Mike Oct 7 at 14:03\r\n\r\nyou have to add the path to sqljdbc_auth.dll by adding this under VM arguments in Eclipse or commandline if you&#39;re running from the shell:\r\n -Djava.library.path=&quot;\\MS SQL Server JDBC Driver 3.0\\sqljdbc_3.0\\enu\\auth\\x86&quot;\r\n\r\nthat&#39;s if you&#39;re running 32 bit Windows. else the final subdir changes accordingly.\r\n\r\nI think this might be a better answer though, to setting up SQL Server user based authentication:\r\nhttps://stackoverflow.com/questions/6403636/connecting-sql-server-2008-to-java-login-failed-for-user-error/10567111#10567111\r\n\r\n(I try to summarize it here: http://silveira.wikidot.com/sql-server)","title":"jdbc.SQLServerException: Login failed for user for any user","body":"<p>Re: Did it. still WARNING: Failed to load the sqljdbc_auth.dll cause :- no sqljdbc_auth in java.library.path – Mike Oct 7 at 14:03</p>\n\n<p>you have to add the path to sqljdbc_auth.dll by adding this under VM arguments in Eclipse or commandline if you're running from the shell:\n -Djava.library.path=\"\\MS SQL Server JDBC Driver 3.0\\sqljdbc_3.0\\enu\\auth\\x86\"</p>\n\n<p>that's if you're running 32 bit Windows. else the final subdir changes accordingly.</p>\n\n<p>I think this might be a better answer though, to setting up SQL Server user based authentication:\n<a href=\"https://stackoverflow.com/questions/6403636/connecting-sql-server-2008-to-java-login-failed-for-user-error/10567111#10567111\">Connecting SQL Server 2008 to Java: Login failed for user error</a></p>\n\n<p>(I try to summarize it here: <a href=\"http://silveira.wikidot.com/sql-server\" rel=\"nofollow noreferrer\">http://silveira.wikidot.com/sql-server</a>)</p>\n"},{"tags":[],"owner":{"account_id":10802935,"reputation":55,"user_id":7946182,"display_name":"Vaggos Phl"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1493631179,"creation_date":1493622284,"answer_id":43715518,"question_id":12769171,"body_markdown":"Since you get this error,the Sql server correctly listens to the port.\r\n\r\n 1. Open Sql Server Management Studio connect to your Server. \r\n 2. right click on the server&#39;s icon and choose properties. \r\n 3. Go to the security tab and tick Sql Server and Windows\r\n    Authentication mode.\r\n\r\nIf you want to define a user,go from the tree, to Security-&gt;Logins,right click on logins folder and click &quot;New Login&quot;.\r\n\r\nNow your server should work with this Url String.\r\nUse the log file of the Server that may help you understand its working.","title":"jdbc.SQLServerException: Login failed for user for any user","body":"<p>Since you get this error,the Sql server correctly listens to the port.</p>\n\n<ol>\n<li>Open Sql Server Management Studio connect to your Server. </li>\n<li>right click on the server's icon and choose properties. </li>\n<li>Go to the security tab and tick Sql Server and Windows\nAuthentication mode.</li>\n</ol>\n\n<p>If you want to define a user,go from the tree, to Security->Logins,right click on logins folder and click \"New Login\".</p>\n\n<p>Now your server should work with this Url String.\nUse the log file of the Server that may help you understand its working.</p>\n"},{"tags":[],"owner":{"account_id":5556376,"reputation":1846,"user_id":4407593,"accept_rate":0,"display_name":"Kona Suresh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614755928,"creation_date":1614755928,"answer_id":66452364,"question_id":12769171,"body_markdown":"I also faced the same issue, In my case the following things are configured wrongly\r\n\r\n 1. Two SQL (versions) servers are running in my system --&gt; Sol: Please check ourselves which server we are pointing.\r\n 2. Ports are configured as dynamic --&gt; Sol: we should set port 1433 and dynamic port should be 0, if we are connected to specific port.\r\n 3. While creating the new login (user) I have selected the option &quot; change password after first login &quot;--&gt; Sol: we should not select this option while creating the new login, if we are trying connecting from some other service like Openfire.\r\n\r\n","title":"jdbc.SQLServerException: Login failed for user for any user","body":"<p>I also faced the same issue, In my case the following things are configured wrongly</p>\n<ol>\n<li>Two SQL (versions) servers are running in my system --&gt; Sol: Please check ourselves which server we are pointing.</li>\n<li>Ports are configured as dynamic --&gt; Sol: we should set port 1433 and dynamic port should be 0, if we are connected to specific port.</li>\n<li>While creating the new login (user) I have selected the option &quot; change password after first login &quot;--&gt; Sol: we should not select this option while creating the new login, if we are trying connecting from some other service like Openfire.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7209252,"reputation":91,"user_id":5503910,"display_name":"Fellipe Borges"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686163970,"creation_date":1686163970,"answer_id":76426277,"question_id":12769171,"body_markdown":"For me, for some reason, when using a SQL Server instance in the connection string, I had to remove the port number.\r\n\r\nFrom this:\r\n\r\n`spring.datasource.url=jdbc:sqlserver://servername\\\\SQL2022:1433;`\r\n\r\nTo this:\r\n\r\n`spring.datasource.url=jdbc:sqlserver://servername\\\\SQL2022;`","title":"jdbc.SQLServerException: Login failed for user for any user","body":"<p>For me, for some reason, when using a SQL Server instance in the connection string, I had to remove the port number.</p>\n<p>From this:</p>\n<p><code>spring.datasource.url=jdbc:sqlserver://servername\\\\SQL2022:1433;</code></p>\n<p>To this:</p>\n<p><code>spring.datasource.url=jdbc:sqlserver://servername\\\\SQL2022;</code></p>\n"}],"owner":{"account_id":1242318,"reputation":1302,"user_id":1204617,"accept_rate":81,"display_name":"Mike"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122257,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":12769241,"answer_count":6,"score":12,"last_activity_date":1686163970,"creation_date":1349615800,"question_id":12769171,"body_markdown":"I trying to test the connection with my local sql DB. I have this code:\r\n\r\n    try{\r\n        Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;).newInstance();\r\n        DriverManager.getConnection(&quot;jdbc:sqlserver://localhost:1433;databaseName=SocialFamilyTree;user=SOSCOMP&quot;);\r\n        \r\n    }catch(Exception e){\r\n        System.out.println(&quot;Couldn&#39;t get database connection.&quot;);\r\n        e.printStackTrace();\r\n    }\r\n\r\nI tried many users. my windows user is SOSCOMP and doesn&#39;t have a password. I also know that SQL 2008 create users as &quot;sys&quot; &quot;dbo&quot;, I tried these too. I&#39;m always getting:\r\n\r\n    Couldn&#39;t get database connection.\r\n    com.microsoft.sqlserver.jdbc.SQLServerException: Login failed for user &#39;SOSCOMP&#39;.\r\n    \r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:196)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSTokenHandler.onEOF(tdsparser.java:246)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSParser.parse(tdsparser.java:83)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.sendLogon(SQLServerConnection.java:2532)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.logon(SQLServerConnection.java:1929)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.access$000(SQLServerConnection.java:41)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection$LogonCommand.doExecute(SQLServerConnection.java:1917)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:4026)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:1416)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:1061)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:833)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:716)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:841)\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:579)\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:243)\r\n    \tat FT_Receiver.FT_Receiver.main(FT_Receiver.java:12)\r\n\r\n\r\nAny ideas?\r\n\r\nThanks","title":"jdbc.SQLServerException: Login failed for user for any user","body":"<p>I trying to test the connection with my local sql DB. I have this code:</p>\n\n<pre><code>try{\n    Class.forName(\"com.microsoft.sqlserver.jdbc.SQLServerDriver\").newInstance();\n    DriverManager.getConnection(\"jdbc:sqlserver://localhost:1433;databaseName=SocialFamilyTree;user=SOSCOMP\");\n\n}catch(Exception e){\n    System.out.println(\"Couldn't get database connection.\");\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>I tried many users. my windows user is SOSCOMP and doesn't have a password. I also know that SQL 2008 create users as \"sys\" \"dbo\", I tried these too. I'm always getting:</p>\n\n<pre><code>Couldn't get database connection.\ncom.microsoft.sqlserver.jdbc.SQLServerException: Login failed for user 'SOSCOMP'.\n\n    at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:196)\n    at com.microsoft.sqlserver.jdbc.TDSTokenHandler.onEOF(tdsparser.java:246)\n    at com.microsoft.sqlserver.jdbc.TDSParser.parse(tdsparser.java:83)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.sendLogon(SQLServerConnection.java:2532)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.logon(SQLServerConnection.java:1929)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.access$000(SQLServerConnection.java:41)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection$LogonCommand.doExecute(SQLServerConnection.java:1917)\n    at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:4026)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:1416)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:1061)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:833)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:716)\n    at com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:841)\n    at java.sql.DriverManager.getConnection(DriverManager.java:579)\n    at java.sql.DriverManager.getConnection(DriverManager.java:243)\n    at FT_Receiver.FT_Receiver.main(FT_Receiver.java:12)\n</code></pre>\n\n<p>Any ideas?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1638426776,"post_id":70193951,"comment_id":124086084,"body_markdown":"[mcve] please..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please.."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1638426803,"post_id":70193951,"comment_id":124086093,"body_markdown":"Note I am not a color expert. However, this does not seem to be a problem with `Color` or your math. You can test this out be creating `#11111111` colors through various means and see they&#39;ll all print out `0x11111111`. If you follow the code path of `setPixel` then you&#39;ll see it eventually does alpha premultiplication before storing the color in the internal byte buffer. And this appears to be a precision issue, though again not on your part. From what I&#39;ve looked up, small alphas are the problem. For example, if you used `#111111FF` then you&#39;d get the same color back out.","body":"Note I am not a color expert. However, this does not seem to be a problem with <code>Color</code> or your math. You can test this out be creating <code>#11111111</code> colors through various means and see they&#39;ll all print out <code>0x11111111</code>. If you follow the code path of <code>setPixel</code> then you&#39;ll see it eventually does alpha premultiplication before storing the color in the internal byte buffer. And this appears to be a precision issue, though again not on your part. From what I&#39;ve looked up, small alphas are the problem. For example, if you used <code>#111111FF</code> then you&#39;d get the same color back out."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1638427573,"post_id":70193951,"comment_id":124086268,"body_markdown":"@kleopatra If you&#39;re interested, this seems to be the least amount of code needed to reproduce the problem as I understand it: https://ideone.com/mTC2eq (have to copy the code to your machine so you can include JavaFX).","body":"@kleopatra If you&#39;re interested, this seems to be the least amount of code needed to reproduce the problem as I understand it: <a href=\"https://ideone.com/mTC2eq\" rel=\"nofollow noreferrer\">ideone.com/mTC2eq</a> (have to copy the code to your machine so you can include JavaFX)."},{"owner":{"account_id":109445,"reputation":3624,"user_id":289995,"accept_rate":85,"display_name":"Manius"},"score":0,"creation_date":1638566447,"post_id":70193951,"comment_id":124132008,"body_markdown":"Thanks @Slaw that&#39;s a perfect summary, the context I&#39;m in had me confused about where the problem was, so a minimal example did not seem feasible. I removed all the distracting stuff and simplified the question to the core problem you narrowed it to so you can provide a real answer if you&#39;d like. It does sound like my later edit was correct. Not sure it rises to the level of JFX bug but definitely not the behavior I&#39;d expect.","body":"Thanks @Slaw that&#39;s a perfect summary, the context I&#39;m in had me confused about where the problem was, so a minimal example did not seem feasible. I removed all the distracting stuff and simplified the question to the core problem you narrowed it to so you can provide a real answer if you&#39;d like. It does sound like my later edit was correct. Not sure it rises to the level of JFX bug but definitely not the behavior I&#39;d expect."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1638570879,"post_id":70193951,"comment_id":124133059,"body_markdown":"Also, even extracting all the pixels using `PixelFormat.getIntArgbInstance()` still gives you the &quot;wrong&quot; color. I can update the example to show that, if you want.","body":"Also, even extracting all the pixels using <code>PixelFormat.getIntArgbInstance()</code> still gives you the &quot;wrong&quot; color. I can update the example to show that, if you want."},{"owner":{"account_id":109445,"reputation":3624,"user_id":289995,"accept_rate":85,"display_name":"Manius"},"score":0,"creation_date":1638573334,"post_id":70193951,"comment_id":124133537,"body_markdown":"Thanks - if you have anything helpful you&#39;d like to add, feel free!","body":"Thanks - if you have anything helpful you&#39;d like to add, feel free!"}],"owner":{"account_id":109445,"reputation":3624,"user_id":289995,"accept_rate":85,"display_name":"Manius"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1686163941,"creation_date":1638416668,"question_id":70193951,"body_markdown":"Using the following code: \r\n\r\n    import javafx.scene.image.PixelReader;\r\n    import javafx.scene.image.PixelWriter;\r\n    import javafx.scene.image.WritableImage;\r\n    import javafx.scene.paint.Color;\r\n     \r\n    public class Main {\r\n     \r\n      public static void main(String[] args) {\r\n        WritableImage image = new WritableImage(1, 1);\r\n        PixelReader reader = image.getPixelReader();\r\n        PixelWriter writer = image.getPixelWriter();\r\n     \r\n        System.out.println(&quot;Initial color: &quot; + reader.getColor(0, 0));\r\n     \r\n        Color newColor = Color.web(&quot;#11111111&quot;);\r\n        System.out.println(&quot;Setting color: &quot; + newColor);\r\n     \r\n        writer.setColor(0, 0, newColor);\r\n        System.out.println(&quot;Updated color: &quot; + reader.getColor(0, 0));\r\n      }\r\n    }\r\n\r\nResult:\r\n\r\n```none \r\nInitial color: 0x00000000\r\nSetting color: 0x11111111\r\nUpdated color: 0x0f0f0f11\r\n```\r\n\r\nWhy doesn&#39;t the Color returned equal the color set? Possibly a floating point calculation error while converting from premultiplied alpha PixelFormat and back? \r\n\r\nThanks @Slaw for narrowing the problem with the above example. \r\n\r\n---\r\n\r\n**Edit 6-7-2023:** Taking a look at this again with more details in an attempt to make the issue painfully obvious. \r\n\r\nScreencaps are from Class &quot;PixelUtils&quot;...\r\n\r\nCorrect value for R (and G and B) is 17 (the original 0x11 value each color component was set to) shown here initially: \r\n\r\n[![Correct value for R is 17 shown here initially][1]][1]\r\n\r\nAfter conversion to ARGB Pre(multipled) they convert to 1:\r\n\r\n[![Each component set to 1][2]][2]\r\n\r\nGiving us R:1 G:1 B:1 A:17 with the components premultipled, okay fine...\r\n\r\nThen we come to this optimized thing deep inside PixelReader.getColor() (PixelUtils.PreToNonPre()): \r\n\r\n[![PixelUtils.PreToNonPre()][3]][3]\r\n\r\nStarting with R=1 B=1 G=1 A=17 as calculated before, confirmed correct via debugger, this optimized (I guess) code does some math which gives us an incorrect value of 15 (0x0f) rather than the original 17 (0x11), the difference between the &quot;Setting&quot; and &quot;Updated&quot; color components documented originally. \r\n\r\nThat code comes up with 15 (0x0f) instead of 17 (0x11). Naw dawg, that&#39;s wrong: \r\n\r\n[![15 instead of 17][4]][4]\r\n\r\nNotably it IS possible at least in this case to come up with the correct value using just 1,1,1,17, using more intuitive code: \r\n\r\n[![Nonoptimized version][5]][5]\r\n\r\nI question the value of this optimization if that&#39;s what the original method is meant to be, but more importantly now I think this rises to the level of a bug so assuming I&#39;m at a correct conclusion, the question is: \r\n\r\n***Is this worth attempting to get fixed in OpenJFX?*** (Or would it run into resistance to leave it as-is for some reason?)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tklZF.png\r\n  [2]: https://i.stack.imgur.com/hop4V.png\r\n  [3]: https://i.stack.imgur.com/sgBgo.png\r\n  [4]: https://i.stack.imgur.com/FfNEB.png\r\n  [5]: https://i.stack.imgur.com/dJZKJ.png","title":"JavaFX PixelWriter/Reader get() value not == to set() value","body":"<p>Using the following code:</p>\n<pre><code>import javafx.scene.image.PixelReader;\nimport javafx.scene.image.PixelWriter;\nimport javafx.scene.image.WritableImage;\nimport javafx.scene.paint.Color;\n \npublic class Main {\n \n  public static void main(String[] args) {\n    WritableImage image = new WritableImage(1, 1);\n    PixelReader reader = image.getPixelReader();\n    PixelWriter writer = image.getPixelWriter();\n \n    System.out.println(&quot;Initial color: &quot; + reader.getColor(0, 0));\n \n    Color newColor = Color.web(&quot;#11111111&quot;);\n    System.out.println(&quot;Setting color: &quot; + newColor);\n \n    writer.setColor(0, 0, newColor);\n    System.out.println(&quot;Updated color: &quot; + reader.getColor(0, 0));\n  }\n}\n</code></pre>\n<p>Result:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Initial color: 0x00000000\nSetting color: 0x11111111\nUpdated color: 0x0f0f0f11\n</code></pre>\n<p>Why doesn't the Color returned equal the color set? Possibly a floating point calculation error while converting from premultiplied alpha PixelFormat and back?</p>\n<p>Thanks @Slaw for narrowing the problem with the above example.</p>\n<hr />\n<p><strong>Edit 6-7-2023:</strong> Taking a look at this again with more details in an attempt to make the issue painfully obvious.</p>\n<p>Screencaps are from Class &quot;PixelUtils&quot;...</p>\n<p>Correct value for R (and G and B) is 17 (the original 0x11 value each color component was set to) shown here initially:</p>\n<p><a href=\"https://i.stack.imgur.com/tklZF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tklZF.png\" alt=\"Correct value for R is 17 shown here initially\" /></a></p>\n<p>After conversion to ARGB Pre(multipled) they convert to 1:</p>\n<p><a href=\"https://i.stack.imgur.com/hop4V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hop4V.png\" alt=\"Each component set to 1\" /></a></p>\n<p>Giving us R:1 G:1 B:1 A:17 with the components premultipled, okay fine...</p>\n<p>Then we come to this optimized thing deep inside PixelReader.getColor() (PixelUtils.PreToNonPre()):</p>\n<p><a href=\"https://i.stack.imgur.com/sgBgo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sgBgo.png\" alt=\"PixelUtils.PreToNonPre()\" /></a></p>\n<p>Starting with R=1 B=1 G=1 A=17 as calculated before, confirmed correct via debugger, this optimized (I guess) code does some math which gives us an incorrect value of 15 (0x0f) rather than the original 17 (0x11), the difference between the &quot;Setting&quot; and &quot;Updated&quot; color components documented originally.</p>\n<p>That code comes up with 15 (0x0f) instead of 17 (0x11). Naw dawg, that's wrong:</p>\n<p><a href=\"https://i.stack.imgur.com/FfNEB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FfNEB.png\" alt=\"15 instead of 17\" /></a></p>\n<p>Notably it IS possible at least in this case to come up with the correct value using just 1,1,1,17, using more intuitive code:</p>\n<p><a href=\"https://i.stack.imgur.com/dJZKJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dJZKJ.png\" alt=\"Nonoptimized version\" /></a></p>\n<p>I question the value of this optimization if that's what the original method is meant to be, but more importantly now I think this rises to the level of a bug so assuming I'm at a correct conclusion, the question is:</p>\n<p><em><strong>Is this worth attempting to get fixed in OpenJFX?</strong></em> (Or would it run into resistance to leave it as-is for some reason?)</p>\n"},{"tags":["java","maven","automated-tests","allure"],"comments":[{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1686162488,"post_id":76426117,"comment_id":134762852,"body_markdown":"Do you want to use Junit 4 or 5?  The imports are 4, the pom.xml is 5.","body":"Do you want to use Junit 4 or 5?  The imports are 4, the pom.xml is 5."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1686164207,"post_id":76426117,"comment_id":134763157,"body_markdown":"You are mixing JUnit 5, TestNG and JUnit 4. You have defined TestNG, JUnit Jupiter (aka JUnit 5) as a direct dependency in your pom file which will not work at all... also having a transitive dependency for JUnit 4, furthermore allure-junit5 which has a transitive dep to JUnit 5 etc.... also using and old version of maven-surefire-plugin (https://maven.apache.org/plugins/) You have to decide which framework you want to use...","body":"You are mixing JUnit 5, TestNG and JUnit 4. You have defined TestNG, JUnit Jupiter (aka JUnit 5) as a direct dependency in your pom file which will not work at all... also having a transitive dependency for JUnit 4, furthermore allure-junit5 which has a transitive dep to JUnit 5 etc.... also using and old version of maven-surefire-plugin (<a href=\"https://maven.apache.org/plugins/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins</a>) You have to decide which framework you want to use..."},{"owner":{"account_id":20299994,"reputation":123,"user_id":18502120,"display_name":"Максим"},"score":0,"creation_date":1686167274,"post_id":76426117,"comment_id":134763705,"body_markdown":"I don&#39;t know which one is required for my imports","body":"I don&#39;t know which one is required for my imports"}],"answers":[{"comments":[{"owner":{"account_id":20299994,"reputation":123,"user_id":18502120,"display_name":"Максим"},"score":0,"creation_date":1686167085,"post_id":76426269,"comment_id":134763663,"body_markdown":"these imports are highlighted with red too","body":"these imports are highlighted with red too"}],"tags":[],"owner":{"account_id":4656000,"reputation":81,"user_id":3771599,"display_name":"Rajesh734"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686163896,"creation_date":1686163896,"answer_id":76426269,"question_id":76426117,"body_markdown":"Your package dependencies have included **JUnit5** dependencies. \r\n\r\nDo either one of the below:\r\n---------------------------\r\nUse JUnit4 dependencies by adding the below package:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;junit&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    &lt;version&gt;4.13.2&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nor\r\n--\r\nUpdate your code to use the following:\r\n\r\n* `@AfterClass` to `@AfterAll`\r\n* `@BeforeClass` to `@BeforeAll`\r\n* `Assert.asserEqulas` to `Assertions.assertEquals`\r\n\r\nUpdate your imports with the following\r\n\r\n```\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.AfterAll;\r\nimport org.junit.jupiter.api.BeforeAll;\r\n```\r\n","title":"Maven project problem with Allure dependencies","body":"<p>Your package dependencies have included <strong>JUnit5</strong> dependencies.</p>\n<h2>Do either one of the below:</h2>\n<p>Use JUnit4 dependencies by adding the below package:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;version&gt;4.13.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<h2>or</h2>\n<p>Update your code to use the following:</p>\n<ul>\n<li><code>@AfterClass</code> to <code>@AfterAll</code></li>\n<li><code>@BeforeClass</code> to <code>@BeforeAll</code></li>\n<li><code>Assert.asserEqulas</code> to <code>Assertions.assertEquals</code></li>\n</ul>\n<p>Update your imports with the following</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.AfterAll;\nimport org.junit.jupiter.api.BeforeAll;\n</code></pre>\n"}],"owner":{"account_id":20299994,"reputation":123,"user_id":18502120,"display_name":"Максим"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686163896,"creation_date":1686162324,"question_id":76426117,"body_markdown":"    import io.qameta.allure.Allure;\r\n    import io.qameta.allure.Attachment;\r\n    import io.qameta.allure.Step;\r\n    import org.junit.AfterClass;\r\n    import org.junit.Assert;\r\n    import org.junit.BeforeClass;\r\n    import org.junit.Test;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.Keys;\r\n    import org.openqa.selenium.OutputType;\r\n    import org.openqa.selenium.TakesScreenshot;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    \r\n    import java.io.ByteArrayInputStream;\r\n    import java.util.UUID;\r\n    \r\n    public class ReportAllure {\r\n        private static WebDriver driver;\r\n    \r\n        @BeforeClass\r\n        public static void setUp() {\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\MARSHAL\\\\Desktop\\\\Framework\\\\untitled\\\\drivers\\\\chromedriver.exe&quot;);\r\n            driver = new ChromeDriver();\r\n        }\r\n    \r\n        @Test\r\n        @Step(&quot;UI Test&quot;)\r\n        public void openLoginPage() throws InterruptedException {\r\n            // Step 1\r\n            driver.get(&quot;http://127.0.0.1:8000&quot;);\r\n    \r\n            WebElement element = driver.findElement(By.className(&quot;log&quot;));\r\n            element.click();\r\n            WebElement element1 = driver.findElement(By.xpath(&quot;//a[contains(text(), &#39;Sign up&#39;)]&quot;));\r\n            element1.click();\r\n            Thread.sleep(1000);\r\n    \r\n    \r\n            // Step 2\r\n            String generatedUsername = random();\r\n    \r\n            WebElement usernameInput = driver.findElement(By.name(&quot;username&quot;));\r\n            usernameInput.sendKeys(generatedUsername);\r\n    \r\n            String generatedPassword = random();\r\n            WebElement passwordInput = driver.findElement(By.name(&quot;password1&quot;));\r\n            passwordInput.sendKeys(generatedPassword);\r\n    \r\n            WebElement passwordConfirm = driver.findElement(By.name(&quot;password2&quot;));\r\n            passwordConfirm.sendKeys(generatedPassword);\r\n    \r\n            WebElement registerButton = driver.findElement(By.cssSelector(&quot;input[value=&#39;Register&#39;]&quot;));\r\n            registerButton.click();\r\n            Thread.sleep(1000);\r\n    \r\n            // Step 3\r\n            WebElement spanElement = driver.findElement(By.id(&quot;un&quot;));\r\n            String actualText = spanElement.getText();\r\n            String expectedText = generatedUsername;\r\n            Assert.assertEquals(actualText, expectedText, &quot;unexpected message&quot;);\r\n            Thread.sleep(1000);\r\n    \r\n            // Step 4\r\n            WebElement hpclick = driver.findElement(By.xpath(&quot;//a[contains(text(), &#39;HP&#39;)]&quot;));\r\n            hpclick.click();\r\n            WebElement hpLaptop = driver.findElement(By.xpath(&quot;//a[contains(text(), &#39;Ноутбук HP Pavilion 14-dv0047ua&#39;)]&quot;));\r\n            hpLaptop.click();\r\n            Thread.sleep(1000);\r\n    \r\n            // Step 5\r\n            WebElement comment = driver.findElement(By.cssSelector(&quot;input[placeholder=&#39;Write your message here..&#39;]&quot;));\r\n            comment.sendKeys(&quot;Good Product&quot;);\r\n            comment.sendKeys(Keys.ENTER);\r\n            Thread.sleep(3000);\r\n        }\r\n    \r\n    \r\n        @AfterClass\r\n        public static void tearDown() {\r\n            if (driver != null) {\r\n                driver.quit();\r\n            }\r\n        }\r\n    \r\n        private String random() {\r\n            return UUID.randomUUID().toString().substring(0, 8).replace(&quot;-&quot;, &quot;&quot;);\r\n        }\r\n    \r\n        @Attachment(&quot;Screenshot&quot;)\r\n        public static byte[] takeScreenshot() {\r\n            return ((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES);\r\n        }\r\n    \r\n        @Attachment(&quot;HTML Code&quot;)\r\n        public static ByteArrayInputStream attachHtmlCode(String htmlCode) {\r\n            return new ByteArrayInputStream(htmlCode.getBytes());\r\n        }\r\n    \r\n        @Attachment(&quot;Request&quot;)\r\n        public static String attachRequest(String request) {\r\n            return request;\r\n        }\r\n    \r\n        @Attachment(&quot;Response&quot;)\r\n        public static String attachResponse(String response) {\r\n            return response;\r\n        }\r\n    \r\n        @Step(&quot;Step with Screenshot&quot;)\r\n        public static void stepWithScreenshot() {\r\n            takeScreenshot();\r\n        }\r\n    \r\n        @Step(&quot;Step with HTML Code&quot;)\r\n        public static void stepWithHtmlCode(String htmlCode) {\r\n            attachHtmlCode(htmlCode);\r\n        }\r\n    \r\n        @Step(&quot;Step with Request and Response&quot;)\r\n        public static void stepWithRequestAndResponse(String request, String response) {\r\n            attachRequest(request);\r\n            attachResponse(response);\r\n        }\r\n    }                                                                                                  \r\n    ---pom.xml---\r\n       &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n      &lt;artifactId&gt;untitled&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;name&gt;Archetype - untitled&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n      &lt;properties&gt;\r\n        &lt;aspectj.version&gt;1.8.10&lt;/aspectj.version&gt;\r\n      &lt;/properties&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n          &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n          &lt;version&gt;3.141.59&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n          &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n          &lt;version&gt;3.12.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n          &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n          &lt;version&gt;7.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n          &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n          &lt;version&gt;6.1.7.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n          &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n          &lt;version&gt;4.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n          &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n          &lt;version&gt;4.5.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.xerial&lt;/groupId&gt;\r\n          &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\r\n          &lt;version&gt;3.36.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n          &lt;version&gt;5.8.0&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n          &lt;version&gt;2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n          &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n          &lt;version&gt;4.4.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n          &lt;artifactId&gt;allure-junit5&lt;/artifactId&gt;\r\n          &lt;version&gt;2.16.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n          &lt;version&gt;5.4.0&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\r\n              &lt;argLine&gt;\r\n                -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\r\n              &lt;/argLine&gt;\r\n              &lt;properties&gt;\r\n                &lt;property&gt;\r\n                  &lt;name&gt;listener&lt;/name&gt;\r\n                  &lt;value&gt;io.qameta.allure.junit4.AllureJunit4&lt;/value&gt;\r\n                &lt;/property&gt;\r\n              &lt;/properties&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;dependencies&gt;\r\n              &lt;dependency&gt;\r\n                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n                &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n              &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;                                                                                      \r\n Problem is that                                                                          \r\n\r\n    import org.junit.AfterClass;\r\n    import org.junit.Assert;\r\n    import org.junit.BeforeClass;\r\n    import org.junit.Test;\r\n\r\n are highlighted with red(cannot resolve) and i don&#39;t know what is the reason because all dependencies are included in my pom.xml so what can be the problem?","title":"Maven project problem with Allure dependencies","body":"<pre><code>import io.qameta.allure.Allure;\nimport io.qameta.allure.Attachment;\nimport io.qameta.allure.Step;\nimport org.junit.AfterClass;\nimport org.junit.Assert;\nimport org.junit.BeforeClass;\nimport org.junit.Test;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.Keys;\nimport org.openqa.selenium.OutputType;\nimport org.openqa.selenium.TakesScreenshot;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\nimport java.io.ByteArrayInputStream;\nimport java.util.UUID;\n\npublic class ReportAllure {\n    private static WebDriver driver;\n\n    @BeforeClass\n    public static void setUp() {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\MARSHAL\\\\Desktop\\\\Framework\\\\untitled\\\\drivers\\\\chromedriver.exe&quot;);\n        driver = new ChromeDriver();\n    }\n\n    @Test\n    @Step(&quot;UI Test&quot;)\n    public void openLoginPage() throws InterruptedException {\n        // Step 1\n        driver.get(&quot;http://127.0.0.1:8000&quot;);\n\n        WebElement element = driver.findElement(By.className(&quot;log&quot;));\n        element.click();\n        WebElement element1 = driver.findElement(By.xpath(&quot;//a[contains(text(), 'Sign up')]&quot;));\n        element1.click();\n        Thread.sleep(1000);\n\n\n        // Step 2\n        String generatedUsername = random();\n\n        WebElement usernameInput = driver.findElement(By.name(&quot;username&quot;));\n        usernameInput.sendKeys(generatedUsername);\n\n        String generatedPassword = random();\n        WebElement passwordInput = driver.findElement(By.name(&quot;password1&quot;));\n        passwordInput.sendKeys(generatedPassword);\n\n        WebElement passwordConfirm = driver.findElement(By.name(&quot;password2&quot;));\n        passwordConfirm.sendKeys(generatedPassword);\n\n        WebElement registerButton = driver.findElement(By.cssSelector(&quot;input[value='Register']&quot;));\n        registerButton.click();\n        Thread.sleep(1000);\n\n        // Step 3\n        WebElement spanElement = driver.findElement(By.id(&quot;un&quot;));\n        String actualText = spanElement.getText();\n        String expectedText = generatedUsername;\n        Assert.assertEquals(actualText, expectedText, &quot;unexpected message&quot;);\n        Thread.sleep(1000);\n\n        // Step 4\n        WebElement hpclick = driver.findElement(By.xpath(&quot;//a[contains(text(), 'HP')]&quot;));\n        hpclick.click();\n        WebElement hpLaptop = driver.findElement(By.xpath(&quot;//a[contains(text(), 'Ноутбук HP Pavilion 14-dv0047ua')]&quot;));\n        hpLaptop.click();\n        Thread.sleep(1000);\n\n        // Step 5\n        WebElement comment = driver.findElement(By.cssSelector(&quot;input[placeholder='Write your message here..']&quot;));\n        comment.sendKeys(&quot;Good Product&quot;);\n        comment.sendKeys(Keys.ENTER);\n        Thread.sleep(3000);\n    }\n\n\n    @AfterClass\n    public static void tearDown() {\n        if (driver != null) {\n            driver.quit();\n        }\n    }\n\n    private String random() {\n        return UUID.randomUUID().toString().substring(0, 8).replace(&quot;-&quot;, &quot;&quot;);\n    }\n\n    @Attachment(&quot;Screenshot&quot;)\n    public static byte[] takeScreenshot() {\n        return ((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES);\n    }\n\n    @Attachment(&quot;HTML Code&quot;)\n    public static ByteArrayInputStream attachHtmlCode(String htmlCode) {\n        return new ByteArrayInputStream(htmlCode.getBytes());\n    }\n\n    @Attachment(&quot;Request&quot;)\n    public static String attachRequest(String request) {\n        return request;\n    }\n\n    @Attachment(&quot;Response&quot;)\n    public static String attachResponse(String response) {\n        return response;\n    }\n\n    @Step(&quot;Step with Screenshot&quot;)\n    public static void stepWithScreenshot() {\n        takeScreenshot();\n    }\n\n    @Step(&quot;Step with HTML Code&quot;)\n    public static void stepWithHtmlCode(String htmlCode) {\n        attachHtmlCode(htmlCode);\n    }\n\n    @Step(&quot;Step with Request and Response&quot;)\n    public static void stepWithRequestAndResponse(String request, String response) {\n        attachRequest(request);\n        attachResponse(response);\n    }\n}                                                                                                  \n---pom.xml---\n   &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;untitled&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;Archetype - untitled&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;properties&gt;\n    &lt;aspectj.version&gt;1.8.10&lt;/aspectj.version&gt;\n  &lt;/properties&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n      &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n      &lt;version&gt;3.141.59&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n      &lt;version&gt;3.12.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.testng&lt;/groupId&gt;\n      &lt;artifactId&gt;testng&lt;/artifactId&gt;\n      &lt;version&gt;7.4.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n      &lt;version&gt;6.1.7.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n      &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n      &lt;version&gt;4.4.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n      &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n      &lt;version&gt;4.5.13&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.xerial&lt;/groupId&gt;\n      &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\n      &lt;version&gt;3.36.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n      &lt;version&gt;5.8.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n      &lt;version&gt;2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n      &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n      &lt;version&gt;4.4.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n      &lt;artifactId&gt;allure-junit5&lt;/artifactId&gt;\n      &lt;version&gt;2.16.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n      &lt;version&gt;5.4.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-M5&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\n          &lt;argLine&gt;\n            -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\n          &lt;/argLine&gt;\n          &lt;properties&gt;\n            &lt;property&gt;\n              &lt;name&gt;listener&lt;/name&gt;\n              &lt;value&gt;io.qameta.allure.junit4.AllureJunit4&lt;/value&gt;\n            &lt;/property&gt;\n          &lt;/properties&gt;\n        &lt;/configuration&gt;\n        &lt;dependencies&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n            &lt;version&gt;${aspectj.version}&lt;/version&gt;\n          &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;                                                                                      \n</code></pre>\n<p>Problem is that</p>\n<pre><code>import org.junit.AfterClass;\nimport org.junit.Assert;\nimport org.junit.BeforeClass;\nimport org.junit.Test;\n</code></pre>\n<p>are highlighted with red(cannot resolve) and i don't know what is the reason because all dependencies are included in my pom.xml so what can be the problem?</p>\n"},{"tags":["java","junit","google-truth"],"answers":[{"comments":[{"owner":{"account_id":135003,"reputation":4701,"user_id":337516,"accept_rate":50,"display_name":"Christian Gruber"},"score":0,"creation_date":1470810924,"post_id":38466196,"comment_id":65094686,"body_markdown":"We&#39;re looking at something more robust for Java8, which will such less.  Something along the lines of `assertThat(() -&gt; runMethod()).throws(Throwable.class).withMessage(&quot;blah&quot;);`","body":"We&#39;re looking at something more robust for Java8, which will such less.  Something along the lines of <code>assertThat(() -&gt; runMethod()).throws(Throwable.class).withMessage(&quot;blah&quot;);</code>"}],"tags":[],"owner":{"account_id":3128021,"reputation":19974,"user_id":2646526,"display_name":"heenenee"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1468953727,"creation_date":1468953727,"answer_id":38466196,"question_id":38434769,"body_markdown":"There is currently no built-in way to verify an expected `Exception` with `google-truth`.  You can do one of the following:\r\n\r\n - Use [one of the JUnit approaches][1], such as `expected=`, as you mentioned\r\n - Write tests the &quot;ugly&quot; way by surrounding the exercise/act/when portion of your test with a `try...catch`, as @c0der mentioned, [which is what the unit tests for `guava` do][2]\r\n - Make [your own][3] fluent assertions, [similar to what AssertJ already has][4], like the following example\r\n\r\nI believe `google-truth` does not have any similar functionality because it [supports Java 1.6][5].\r\n\r\n    import com.google.common.truth.FailureStrategy;\r\n    import com.google.common.truth.Subject;\r\n    import com.google.common.truth.SubjectFactory;\r\n    import org.junit.Test;\r\n    \r\n    import java.util.concurrent.Callable;\r\n    \r\n    import static com.google.common.truth.Truth.assertAbout;\r\n    \r\n    public class MathTest {\r\n        @Test\r\n        public void addExact_throws_ArithmeticException_upon_overflow() {\r\n            assertAbout(callable(&quot;addExact&quot;))\r\n                .that(() -&gt; Math.addExact(Integer.MAX_VALUE, 1))\r\n                .willThrow(ArithmeticException.class);\r\n        }\r\n    \r\n        static &lt;T&gt; SubjectFactory&lt;CallableSubject&lt;T&gt;, Callable&lt;T&gt;&gt; callable(String displaySubject) {\r\n            return new SubjectFactory&lt;CallableSubject&lt;T&gt;, Callable&lt;T&gt;&gt;() {\r\n                @Override public CallableSubject&lt;T&gt; getSubject(FailureStrategy fs, Callable&lt;T&gt; that) {\r\n                    return new CallableSubject&lt;&gt;(fs, that, displaySubject);\r\n                }\r\n            };\r\n        }\r\n    \r\n        static class CallableSubject&lt;T&gt; extends Subject&lt;CallableSubject&lt;T&gt;, Callable&lt;T&gt;&gt; {\r\n            private final String displaySubject;\r\n    \r\n            CallableSubject(FailureStrategy failureStrategy, Callable&lt;T&gt; callable, String displaySubject) {\r\n                super(failureStrategy, callable);\r\n                this.displaySubject = displaySubject;\r\n            }\r\n    \r\n            @Override protected String getDisplaySubject() {\r\n                return displaySubject;\r\n            }\r\n    \r\n            void willThrow(Class&lt;?&gt; clazz) {\r\n                try {\r\n                    getSubject().call();\r\n                    fail(&quot;throws a&quot;, clazz.getName());\r\n                } catch (Exception e) {\r\n                    if (!clazz.isInstance(e)) {\r\n                        failWithBadResults(&quot;throws a&quot;, clazz.getName(), &quot;throws a&quot;, e.getClass().getName());\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/156503/2646526\r\n  [2]: https://github.com/google/guava/blob/693e95371e544e927a2f6c3f3ebcb9b3d6c2f525/guava-tests/test/com/google/common/math/StatsTest.java#L575-L611\r\n  [3]: https://github.com/google/truth/blob/release_0_28/core/src/test/java/com/google/common/truth/delegation/DelegationTest.java#L28\r\n  [4]: http://joel-costigliola.github.io/assertj/assertj-core-features-highlight.html#exception-assertion\r\n  [5]: https://github.com/google/truth/blob/release_0_28/core/pom.xml#L80-L81","title":"How to test that an expected exception is being thrown using google-truth?","body":"<p>There is currently no built-in way to verify an expected <code>Exception</code> with <code>google-truth</code>.  You can do one of the following:</p>\n\n<ul>\n<li>Use <a href=\"https://stackoverflow.com/q/156503/2646526\">one of the JUnit approaches</a>, such as <code>expected=</code>, as you mentioned</li>\n<li>Write tests the \"ugly\" way by surrounding the exercise/act/when portion of your test with a <code>try...catch</code>, as @c0der mentioned, <a href=\"https://github.com/google/guava/blob/693e95371e544e927a2f6c3f3ebcb9b3d6c2f525/guava-tests/test/com/google/common/math/StatsTest.java#L575-L611\" rel=\"nofollow noreferrer\">which is what the unit tests for <code>guava</code> do</a></li>\n<li>Make <a href=\"https://github.com/google/truth/blob/release_0_28/core/src/test/java/com/google/common/truth/delegation/DelegationTest.java#L28\" rel=\"nofollow noreferrer\">your own</a> fluent assertions, <a href=\"http://joel-costigliola.github.io/assertj/assertj-core-features-highlight.html#exception-assertion\" rel=\"nofollow noreferrer\">similar to what AssertJ already has</a>, like the following example</li>\n</ul>\n\n<p>I believe <code>google-truth</code> does not have any similar functionality because it <a href=\"https://github.com/google/truth/blob/release_0_28/core/pom.xml#L80-L81\" rel=\"nofollow noreferrer\">supports Java 1.6</a>.</p>\n\n<pre><code>import com.google.common.truth.FailureStrategy;\nimport com.google.common.truth.Subject;\nimport com.google.common.truth.SubjectFactory;\nimport org.junit.Test;\n\nimport java.util.concurrent.Callable;\n\nimport static com.google.common.truth.Truth.assertAbout;\n\npublic class MathTest {\n    @Test\n    public void addExact_throws_ArithmeticException_upon_overflow() {\n        assertAbout(callable(\"addExact\"))\n            .that(() -&gt; Math.addExact(Integer.MAX_VALUE, 1))\n            .willThrow(ArithmeticException.class);\n    }\n\n    static &lt;T&gt; SubjectFactory&lt;CallableSubject&lt;T&gt;, Callable&lt;T&gt;&gt; callable(String displaySubject) {\n        return new SubjectFactory&lt;CallableSubject&lt;T&gt;, Callable&lt;T&gt;&gt;() {\n            @Override public CallableSubject&lt;T&gt; getSubject(FailureStrategy fs, Callable&lt;T&gt; that) {\n                return new CallableSubject&lt;&gt;(fs, that, displaySubject);\n            }\n        };\n    }\n\n    static class CallableSubject&lt;T&gt; extends Subject&lt;CallableSubject&lt;T&gt;, Callable&lt;T&gt;&gt; {\n        private final String displaySubject;\n\n        CallableSubject(FailureStrategy failureStrategy, Callable&lt;T&gt; callable, String displaySubject) {\n            super(failureStrategy, callable);\n            this.displaySubject = displaySubject;\n        }\n\n        @Override protected String getDisplaySubject() {\n            return displaySubject;\n        }\n\n        void willThrow(Class&lt;?&gt; clazz) {\n            try {\n                getSubject().call();\n                fail(\"throws a\", clazz.getName());\n            } catch (Exception e) {\n                if (!clazz.isInstance(e)) {\n                    failWithBadResults(\"throws a\", clazz.getName(), \"throws a\", e.getClass().getName());\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1782787,"reputation":9911,"user_id":1650674,"accept_rate":92,"display_name":"tir38"},"score":2,"creation_date":1533685506,"post_id":38866403,"comment_id":90434280,"body_markdown":"What class/package is `fail()` in?","body":"What class/package is <code>fail()</code> in?"},{"owner":{"account_id":2270024,"reputation":1657,"user_id":1997707,"accept_rate":80,"display_name":"John Mercier"},"score":0,"creation_date":1540811502,"post_id":38866403,"comment_id":92987761,"body_markdown":"What about `assertThrows` in junit5? I have been using this with google-truth and it seems to work really well.","body":"What about <code>assertThrows</code> in junit5? I have been using this with google-truth and it seems to work really well."},{"owner":{"account_id":135003,"reputation":4701,"user_id":337516,"accept_rate":50,"display_name":"Christian Gruber"},"score":0,"creation_date":1541614569,"post_id":38866403,"comment_id":93279450,"body_markdown":"That&#39;s what google is primarily using, through the back-port of the feature to junit4.","body":"That&#39;s what google is primarily using, through the back-port of the feature to junit4."},{"owner":{"account_id":135003,"reputation":4701,"user_id":337516,"accept_rate":50,"display_name":"Christian Gruber"},"score":0,"creation_date":1541615267,"post_id":38866403,"comment_id":93279754,"body_markdown":"Answer updated to reflect that the team now basically recommends `assertThrows()`","body":"Answer updated to reflect that the team now basically recommends <code>assertThrows()</code>"},{"owner":{"account_id":9452465,"reputation":91,"user_id":7478194,"display_name":"Tantallion"},"score":0,"creation_date":1686158185,"post_id":38866403,"comment_id":134762019,"body_markdown":"tir38: `fail` creates and throws an `AssertionFailedError`, which is part of JUnit, so the dependency remains.","body":"tir38: <code>fail</code> creates and throws an <code>AssertionFailedError</code>, which is part of JUnit, so the dependency remains."}],"tags":[],"owner":{"account_id":135003,"reputation":4701,"user_id":337516,"accept_rate":50,"display_name":"Christian Gruber"},"comment_count":5,"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1541615225,"creation_date":1470812661,"answer_id":38866403,"question_id":38434769,"body_markdown":"[updated]\r\n\r\nThe Truth authors recommend using JUnit 4.13/5&#39;s `assertThrows()` mechanism, since this doesn&#39;t really need support in Truth.  This would look more like:\r\n\r\n    SpecificException e = \r\n        assertThrows(SpecificException.class, () -&gt; doSomethingThatThrows());\r\n    assertThat(e).hasMessageThat().contains(&quot;blah blah blah&quot;);\r\n    assertThat(e).hasCauseThat().isInstanceOf(IllegalStateException.class);\r\n    assertThat(e).hasCauseThat().hasMessageThat().contains(&quot;blah&quot;);\r\n\r\nThis is recommended over try/fail/catch as it is terser, avoids the &quot;missing fail&quot; problem, and returns an object that can be asserted-on using the `ThrowableSubject` in Truth. \r\n\r\nIf you do not have `assertThrows()`, then please use the try/fail/catch pattern, as this is clear and explicit.\r\n\r\n    try {\r\n      doSomethingThatThrows(); \r\n      fail(&quot;method should throw&quot;);\r\n    } catch (SpecificException e) {\r\n      // ensure that e was thrown from the right code-path\r\n      // especially important if it&#39;s something as frequent\r\n      // as an IllegalArgumentException, etc.\r\n      assertThat(e).hasMessage(&quot;blah blah blah&quot;);\r\n    }\r\n\r\nWhile `@Rule ExpectedException` and `@Test(exception=...)` exist in JUnit, these aren&#39;t recommended by the Truth team, insofar as they have some subtle (and less subtle) ways you can write tests that pass but which should fail.\r\n\r\nWhile this is also true of try/fail/catch, internally Google mitigates this with the use of [error-prone], which provides a static compile-time check to ensure that this pattern doesn&#39;t omit the fail(), etc.  It is highly recommended that you use error-prone or another static analysis check to catch these.  Sadly, the rule-based and annotation-based methods aren&#39;t as easily amenable to static analysis as this try/catch block.\r\n\r\n[error-prone]: http://github.com/google/error-prone","title":"How to test that an expected exception is being thrown using google-truth?","body":"<p>[updated]</p>\n\n<p>The Truth authors recommend using JUnit 4.13/5's <code>assertThrows()</code> mechanism, since this doesn't really need support in Truth.  This would look more like:</p>\n\n<pre><code>SpecificException e = \n    assertThrows(SpecificException.class, () -&gt; doSomethingThatThrows());\nassertThat(e).hasMessageThat().contains(\"blah blah blah\");\nassertThat(e).hasCauseThat().isInstanceOf(IllegalStateException.class);\nassertThat(e).hasCauseThat().hasMessageThat().contains(\"blah\");\n</code></pre>\n\n<p>This is recommended over try/fail/catch as it is terser, avoids the \"missing fail\" problem, and returns an object that can be asserted-on using the <code>ThrowableSubject</code> in Truth. </p>\n\n<p>If you do not have <code>assertThrows()</code>, then please use the try/fail/catch pattern, as this is clear and explicit.</p>\n\n<pre><code>try {\n  doSomethingThatThrows(); \n  fail(\"method should throw\");\n} catch (SpecificException e) {\n  // ensure that e was thrown from the right code-path\n  // especially important if it's something as frequent\n  // as an IllegalArgumentException, etc.\n  assertThat(e).hasMessage(\"blah blah blah\");\n}\n</code></pre>\n\n<p>While <code>@Rule ExpectedException</code> and <code>@Test(exception=...)</code> exist in JUnit, these aren't recommended by the Truth team, insofar as they have some subtle (and less subtle) ways you can write tests that pass but which should fail.</p>\n\n<p>While this is also true of try/fail/catch, internally Google mitigates this with the use of <a href=\"http://github.com/google/error-prone\" rel=\"noreferrer\">error-prone</a>, which provides a static compile-time check to ensure that this pattern doesn't omit the fail(), etc.  It is highly recommended that you use error-prone or another static analysis check to catch these.  Sadly, the rule-based and annotation-based methods aren't as easily amenable to static analysis as this try/catch block.</p>\n"},{"comments":[{"owner":{"account_id":135003,"reputation":4701,"user_id":337516,"accept_rate":50,"display_name":"Christian Gruber"},"score":1,"creation_date":1541615335,"post_id":44385683,"comment_id":93279786,"body_markdown":"I updated my answer to reflect this information.  I believe the expectThrows has been renamed to assertThrows, but this is basically correct.","body":"I updated my answer to reflect this information.  I believe the expectThrows has been renamed to assertThrows, but this is basically correct."},{"owner":{"account_id":146433,"reputation":50504,"user_id":356895,"accept_rate":66,"display_name":"JJD"},"score":1,"creation_date":1674477845,"post_id":44385683,"comment_id":132715349,"body_markdown":"Please mind that `expectThrows` was renamed to `assertThrows`, see https://github.com/google/truth/issues/219#issuecomment-266925663.","body":"Please mind that <code>expectThrows</code> was renamed to <code>assertThrows</code>, see <a href=\"https://github.com/google/truth/issues/219#issuecomment-266925663\" rel=\"nofollow noreferrer\">github.com/google/truth/issues/219#issuecomment-266925663</a>."}],"tags":[],"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1511940074,"creation_date":1496739628,"answer_id":44385683,"question_id":38434769,"body_markdown":"As an update here, we&#39;ve moved away from the pattern Christian described, and [Issue #219](https://github.com/google/truth/issues/219) has been closed in favor of JUnit&#39;s [`expectThrows()`](https://github.com/junit-team/junit4/blob/master/src/main/java/org/junit/Assert.java#L996) (coming in [4.13][1], similar methods already exists in [TestNG&#39;s `Assert`](https://jitpack.io/com/github/cbeust/testng/master/javadoc/org/testng/Assert.html#expectThrows-java.lang.Class-org.testng.Assert.ThrowingRunnable-)).\r\n\r\nIn tandem with `expectThrows()` you can use Truth to make [assertions about the thrown exception][2]. So Christian&#39;s example would now be:\r\n\r\n    SpecificException expected = expectThrows(\r\n        SpecificException.class, () -&gt; doSomethingThatThrows());\r\n    assertThat(expected).hasMessageThat().contains(&quot;blah blah blah&quot;);\r\n\r\n\r\n  [1]: https://github.com/junit-team/junit4/wiki/4.13-release-notes#pull-request-1154-add-assertthrows-and-expectthrows\r\n  [2]: http://google.github.io/truth/api/latest/com/google/common/truth/ThrowableSubject.html","title":"How to test that an expected exception is being thrown using google-truth?","body":"<p>As an update here, we've moved away from the pattern Christian described, and <a href=\"https://github.com/google/truth/issues/219\" rel=\"nofollow noreferrer\">Issue #219</a> has been closed in favor of JUnit's <a href=\"https://github.com/junit-team/junit4/blob/master/src/main/java/org/junit/Assert.java#L996\" rel=\"nofollow noreferrer\"><code>expectThrows()</code></a> (coming in <a href=\"https://github.com/junit-team/junit4/wiki/4.13-release-notes#pull-request-1154-add-assertthrows-and-expectthrows\" rel=\"nofollow noreferrer\">4.13</a>, similar methods already exists in <a href=\"https://jitpack.io/com/github/cbeust/testng/master/javadoc/org/testng/Assert.html#expectThrows-java.lang.Class-org.testng.Assert.ThrowingRunnable-\" rel=\"nofollow noreferrer\">TestNG's <code>Assert</code></a>).</p>\n\n<p>In tandem with <code>expectThrows()</code> you can use Truth to make <a href=\"http://google.github.io/truth/api/latest/com/google/common/truth/ThrowableSubject.html\" rel=\"nofollow noreferrer\">assertions about the thrown exception</a>. So Christian's example would now be:</p>\n\n<pre><code>SpecificException expected = expectThrows(\n    SpecificException.class, () -&gt; doSomethingThatThrows());\nassertThat(expected).hasMessageThat().contains(\"blah blah blah\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9452465,"reputation":91,"user_id":7478194,"display_name":"Tantallion"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686163852,"creation_date":1686163852,"answer_id":76426261,"question_id":38434769,"body_markdown":"I&#39;m not keen to add a JUnit dependency just for assertThrows, especially since I&#39;m making my Jar distribution self-test when run, so the testing frameworks are inside it.\r\n\r\nI&#39;m currently using:\r\n```java\r\ntry {\r\n    [Manipulate object &quot;o&quot;]\r\n    assertWithMessage(&quot;Manipulating %s should have thrown an UnsupportedOperationException&quot;, o).fail();\r\n} catch (UnsupportedOperationException expected) {\r\n   \r\n assertThat(expected.getMessage()).isEqualTo(&quot;&lt;message&gt;&quot;);\r\n}\r\n```\r\n\r\n,","title":"How to test that an expected exception is being thrown using google-truth?","body":"<p>I'm not keen to add a JUnit dependency just for assertThrows, especially since I'm making my Jar distribution self-test when run, so the testing frameworks are inside it.</p>\n<p>I'm currently using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    [Manipulate object &quot;o&quot;]\n    assertWithMessage(&quot;Manipulating %s should have thrown an UnsupportedOperationException&quot;, o).fail();\n} catch (UnsupportedOperationException expected) {\n   \n assertThat(expected.getMessage()).isEqualTo(&quot;&lt;message&gt;&quot;);\n}\n</code></pre>\n<p>,</p>\n"}],"owner":{"account_id":1552983,"reputation":4834,"user_id":1444943,"accept_rate":67,"display_name":"Imanol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16260,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":38866403,"answer_count":4,"score":28,"last_activity_date":1686163852,"creation_date":1468838830,"question_id":38434769,"body_markdown":"I just want to test if an exception with a given message is being thrown using google-truth.\r\n\r\nIs quite easy to do that using junit using `@Test(expected=`, but I&#39;m unable to figure out how to do that with truth. There are no samples around [ThrowableSubject][1].\r\n\r\nShould I stick with plain `JUnit` for these kind of tests?\r\n\r\n  [1]: https://google.github.io/truth/api/0.25/com/google/common/truth/ThrowableSubject.html ","title":"How to test that an expected exception is being thrown using google-truth?","body":"<p>I just want to test if an exception with a given message is being thrown using google-truth.</p>\n\n<p>Is quite easy to do that using junit using <code>@Test(expected=</code>, but I'm unable to figure out how to do that with truth. There are no samples around <a href=\"https://google.github.io/truth/api/0.25/com/google/common/truth/ThrowableSubject.html\" rel=\"noreferrer\">ThrowableSubject</a>.</p>\n\n<p>Should I stick with plain <code>JUnit</code> for these kind of tests?</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1686162922,"post_id":76426106,"comment_id":134762916,"body_markdown":"The issue is because you have the column name &#39;sourcething&#39; used twice. One probably by mistake at the field &#39;source&#39;.","body":"The issue is because you have the column name &#39;sourcething&#39; used twice. One probably by mistake at the field &#39;source&#39;."},{"owner":{"account_id":9051618,"reputation":3658,"user_id":6741482,"accept_rate":95,"display_name":"pstatix"},"score":0,"creation_date":1686163291,"post_id":76426106,"comment_id":134762982,"body_markdown":"@Mar-Z its not by mistake, the `Thing` entity is being added in, and I want to map the entities in the `thing` table by their `name` which is what is populated in the `sourcething` column. So inside `sourcething` is a string that may say `ABC` and in one of the rows of the `thing` table in the `name` column is `ABC` and we want to map them.","body":"@Mar-Z its not by mistake, the <code>Thing</code> entity is being added in, and I want to map the entities in the <code>thing</code> table by their <code>name</code> which is what is populated in the <code>sourcething</code> column. So inside <code>sourcething</code> is a string that may say <code>ABC</code> and in one of the rows of the <code>thing</code> table in the <code>name</code> column is <code>ABC</code> and we want to map them."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1686163789,"post_id":76426106,"comment_id":134763067,"body_markdown":"Yes, but in the entity Consumer you have another field called &#39;source&#39; which name in the Column annotation is &#39;sourcething&#39; too.","body":"Yes, but in the entity Consumer you have another field called &#39;source&#39; which name in the Column annotation is &#39;sourcething&#39; too."},{"owner":{"account_id":9051618,"reputation":3658,"user_id":6741482,"accept_rate":95,"display_name":"pstatix"},"score":0,"creation_date":1686165279,"post_id":76426106,"comment_id":134763350,"body_markdown":"@Mar-Z is `@JoinColumn` attempting to create another `sourcething` column? Is it not possible to tell an entity to have a field that uses an existing column and join from it?","body":"@Mar-Z is <code>@JoinColumn</code> attempting to create another <code>sourcething</code> column? Is it not possible to tell an entity to have a field that uses an existing column and join from it?"}],"answers":[{"comments":[{"owner":{"account_id":9051618,"reputation":3658,"user_id":6741482,"accept_rate":95,"display_name":"pstatix"},"score":0,"creation_date":1686165244,"post_id":76426258,"comment_id":134763342,"body_markdown":"A couple follow ups: 1) Why should the PK not be a string other than potentially performance? A UUID is a string, and that&#39;s commonly used. 2) Does `@JoinColumn` attempt to create a column and that&#39;s why this is problematic? I would just like to use the existing `sourcething` column and join from that.","body":"A couple follow ups: 1) Why should the PK not be a string other than potentially performance? A UUID is a string, and that&#39;s commonly used. 2) Does <code>@JoinColumn</code> attempt to create a column and that&#39;s why this is problematic? I would just like to use the existing <code>sourcething</code> column and join from that."}],"tags":[],"owner":{"account_id":11555562,"reputation":316,"user_id":8466853,"display_name":"Arno"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686163797,"creation_date":1686163797,"answer_id":76426258,"question_id":76426106,"body_markdown":"I do not know your exact use case but the table defintions look strange to me. First of all an identifier (@ID) should be a numeric value or at least an UUID but not an arbitrary string. Why do not store the numeric ID in the table you mentioned pointing to that string? Something like this:\r\n\r\n    @Entity\r\n    public class Thing {\r\n    \r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Id\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;thingname&quot;)\r\n        private String name;\r\n    }\r\n    \r\n    @Entity\r\n    public class Consumer {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n    \r\n        @ManyToOne(cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;sourcething_id&quot;)\r\n        private Thing thing;\r\n    }\r\n\r\nBy this you can also access the string bby ```Consumer.thing.name```\r\n\r\nBTW: the constraint violation presumably occurrs as you defined the sourcething as ```@JoinColumn(name = &quot;sourcething&quot;, referencedColumnName = &quot;thingname&quot;, insertable = false, updatable = false)``` but at the same time you insert a value using ```@Column(name = &quot;sourcething&quot;) private String source;``` column.","title":"Hibernate @JoinColumn reusing column name to map to another entity","body":"<p>I do not know your exact use case but the table defintions look strange to me. First of all an identifier (@ID) should be a numeric value or at least an UUID but not an arbitrary string. Why do not store the numeric ID in the table you mentioned pointing to that string? Something like this:</p>\n<pre><code>@Entity\npublic class Thing {\n\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Id\n    private Long id;\n\n    @Column(name = &quot;thingname&quot;)\n    private String name;\n}\n\n@Entity\npublic class Consumer {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;sourcething_id&quot;)\n    private Thing thing;\n}\n</code></pre>\n<p>By this you can also access the string bby <code>Consumer.thing.name</code></p>\n<p>BTW: the constraint violation presumably occurrs as you defined the sourcething as <code>@JoinColumn(name = &quot;sourcething&quot;, referencedColumnName = &quot;thingname&quot;, insertable = false, updatable = false)</code> but at the same time you insert a value using <code>@Column(name = &quot;sourcething&quot;) private String source;</code> column.</p>\n"}],"owner":{"account_id":9051618,"reputation":3658,"user_id":6741482,"accept_rate":95,"display_name":"pstatix"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76426258,"answer_count":1,"score":0,"last_activity_date":1686163797,"creation_date":1686162255,"question_id":76426106,"body_markdown":"I have a column that contains a string, representing the name (and thereby primary key) of another entity, to which I am attempting to join the columns to store the entity in the parent. The entities look like so:\r\n\r\n    @Entity\r\n    public class Thing {\r\n    \r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n    \r\n        @Id\r\n        @Column(name = &quot;thingname&quot;)\r\n        private String name;\r\n    }\r\n    \r\n    @Entity\r\n    public class Consumer {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n        \r\n        @Column(name = &quot;sourcething&quot;)\r\n        private String source;\r\n    \r\n        @ManyToOne(cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;sourcething&quot;, referencedColumnName = &quot;thingname&quot;)\r\n        private Thing thing;\r\n    }\r\n\r\nThis will throw a mapping error, denoting duplicate column mappings, so from [this question](https://stackoverflow.com/questions/12414926/joincolumns-repeated-column-in-mapping-for-entity) I added the additional arguments:\r\n\r\n    @JoinColumn(name = &quot;sourcething&quot;, referencedColumnName = &quot;thingname&quot;, insertable = false, updatable = false)\r\n\r\nHowever, this beings to fail with `ConstraintViolationExceptions` during unit testing.\r\n\r\nIs there something I am missing for completing this mapping/column join?","title":"Hibernate @JoinColumn reusing column name to map to another entity","body":"<p>I have a column that contains a string, representing the name (and thereby primary key) of another entity, to which I am attempting to join the columns to store the entity in the parent. The entities look like so:</p>\n<pre><code>@Entity\npublic class Thing {\n\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @Id\n    @Column(name = &quot;thingname&quot;)\n    private String name;\n}\n\n@Entity\npublic class Consumer {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    \n    @Column(name = &quot;sourcething&quot;)\n    private String source;\n\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;sourcething&quot;, referencedColumnName = &quot;thingname&quot;)\n    private Thing thing;\n}\n</code></pre>\n<p>This will throw a mapping error, denoting duplicate column mappings, so from <a href=\"https://stackoverflow.com/questions/12414926/joincolumns-repeated-column-in-mapping-for-entity\">this question</a> I added the additional arguments:</p>\n<pre><code>@JoinColumn(name = &quot;sourcething&quot;, referencedColumnName = &quot;thingname&quot;, insertable = false, updatable = false)\n</code></pre>\n<p>However, this beings to fail with <code>ConstraintViolationExceptions</code> during unit testing.</p>\n<p>Is there something I am missing for completing this mapping/column join?</p>\n"},{"tags":["java","spring-data-jpa","couchbase","spring-boot-starter"],"comments":[{"owner":{"account_id":17736,"reputation":25458,"user_id":40015,"accept_rate":84,"display_name":"Matthew Groves"},"score":0,"creation_date":1685452565,"post_id":76353703,"comment_id":134659467,"body_markdown":"Would you please show the actual connection string/url attribute value (or at least a redacted version of it)?","body":"Would you please show the actual connection string/url attribute value (or at least a redacted version of it)?"}],"answers":[{"tags":[],"owner":{"account_id":1029909,"reputation":364,"user_id":5228155,"display_name":"mn_test347"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686163790,"creation_date":1686163790,"answer_id":76426256,"question_id":76353703,"body_markdown":"Are you attempting to use JPA or Couchbase? It sounds like you&#39;re supplying a couchbase url to JPA.\r\nThere is a spring-data-couchbae example at https://github.com/couchbaselabs/try-cb-spring\r\n\r\nAnd more at https://github.com/spring-projects/spring-data-examples/","title":"Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured. SpringBott 3.1.0","body":"<p>Are you attempting to use JPA or Couchbase? It sounds like you're supplying a couchbase url to JPA.\nThere is a spring-data-couchbae example at <a href=\"https://github.com/couchbaselabs/try-cb-spring\" rel=\"nofollow noreferrer\">https://github.com/couchbaselabs/try-cb-spring</a></p>\n<p>And more at <a href=\"https://github.com/spring-projects/spring-data-examples/\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-examples/</a></p>\n"}],"owner":{"account_id":25855930,"reputation":55,"user_id":19589178,"display_name":"Emanuel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1686163790,"creation_date":1685309933,"question_id":76353703,"body_markdown":"I have a project with these dependencies:\r\n\r\n        id &quot;org.springframework.boot&quot; version &quot;3.1.0&quot;\r\n        implementation &quot;org.springframework.boot:spring-boot-starter-data-couchbase&quot;\r\n        implementation platform(&quot;org.springframework.cloud:spring-cloud-dependencies:2022.0.2&quot;)\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa:3.1.0&#39;\r\n\r\nin my application.yml file, I am giving couchbase url like this:\r\n\r\n    spring:\r\n      couchbase:\r\n        connection-string:\r\n\r\nAnd I am getting this error:\r\n\r\n    Description:\r\n    \r\n    Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n    \r\n    Reason: Failed to determine a suitable driver class\r\n    \r\n    \r\n    Action:\r\n    \r\n        Consider the following:\r\n        \tIf you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\r\n        \tIf you have database settings to be loaded from a particular profile you may need to activate it (the profiles local are currently active).\r\n\r\nAny ideas?","title":"Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured. SpringBott 3.1.0","body":"<p>I have a project with these dependencies:</p>\n<pre><code>    id &quot;org.springframework.boot&quot; version &quot;3.1.0&quot;\n    implementation &quot;org.springframework.boot:spring-boot-starter-data-couchbase&quot;\n    implementation platform(&quot;org.springframework.cloud:spring-cloud-dependencies:2022.0.2&quot;)\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa:3.1.0'\n</code></pre>\n<p>in my application.yml file, I am giving couchbase url like this:</p>\n<pre><code>spring:\n  couchbase:\n    connection-string:\n</code></pre>\n<p>And I am getting this error:</p>\n<pre><code>Description:\n\nFailed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n\n\nAction:\n\n    Consider the following:\n        If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\n        If you have database settings to be loaded from a particular profile you may need to activate it (the profiles local are currently active).\n</code></pre>\n<p>Any ideas?</p>\n"},{"tags":["java","gradle","logging","slf4j","lombok"],"answers":[{"comments":[{"owner":{"account_id":24683316,"reputation":1,"user_id":18576802,"display_name":"Revlis"},"score":0,"creation_date":1686162284,"post_id":76426081,"comment_id":134762821,"body_markdown":"Still the same:\nerror: package org.slf4j does not exist\n@Slf4j","body":"Still the same: error: package org.slf4j does not exist @Slf4j"},{"owner":{"account_id":1165784,"reputation":14935,"user_id":1144157,"accept_rate":75,"display_name":"Steephen"},"score":0,"creation_date":1686162332,"post_id":76426081,"comment_id":134762829,"body_markdown":"Revlis, Which IDE are you using?","body":"Revlis, Which IDE are you using?"},{"owner":{"account_id":24683316,"reputation":1,"user_id":18576802,"display_name":"Revlis"},"score":0,"creation_date":1686209155,"post_id":76426081,"comment_id":134768474,"body_markdown":"Im using Intellij Idea","body":"Im using Intellij Idea"}],"tags":[],"owner":{"account_id":1165784,"reputation":14935,"user_id":1144157,"accept_rate":75,"display_name":"Steephen"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686162029,"creation_date":1686162029,"answer_id":76426081,"question_id":76426012,"body_markdown":"If you are using IntelliJ as your IDE, please include lombok plugin also in your gradle file:\r\n\r\nhttps://plugins.gradle.org/plugin/io.freefair.lombok\r\n\r\nIn case of Eclipse, you need to manually run the lombok jar file to resolve this issue. \r\nDetailed description is available [here][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/lombok-ide","title":"@Slf4j Lombok annotation not working with Java + Gradle","body":"<p>If you are using IntelliJ as your IDE, please include lombok plugin also in your gradle file:</p>\n<p><a href=\"https://plugins.gradle.org/plugin/io.freefair.lombok\" rel=\"nofollow noreferrer\">https://plugins.gradle.org/plugin/io.freefair.lombok</a></p>\n<p>In case of Eclipse, you need to manually run the lombok jar file to resolve this issue.\nDetailed description is available <a href=\"https://www.baeldung.com/lombok-ide\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686163512,"creation_date":1686163512,"answer_id":76426228,"question_id":76426012,"body_markdown":"The @Slf4j annotation is for another logging library. You have a dependency for Log4j library. Then you should use @Log4j Lombok annotation.\r\n\r\nOn the other hand if you want to use Slf4j then change the dependency to org.slf4j","title":"@Slf4j Lombok annotation not working with Java + Gradle","body":"<p>The @Slf4j annotation is for another logging library. You have a dependency for Log4j library. Then you should use @Log4j Lombok annotation.</p>\n<p>On the other hand if you want to use Slf4j then change the dependency to org.slf4j</p>\n"}],"owner":{"account_id":24683316,"reputation":1,"user_id":18576802,"display_name":"Revlis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":461,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686163512,"creation_date":1686161453,"question_id":76426012,"body_markdown":"I&#39;m fairly new to Java and trying to implement a logger with @Slf4j annotation provided by lombok. From my understanding it should be fairly simple, just provide the annotation to the class and it will create the method for that class but it seems to not work.\r\n\r\nMy code looks like this:\r\n\r\n```\r\npackage MyApp;\r\n\r\nimport lombok.extern.slf4j.Slf4j;\r\n\r\n@Slf4j\r\npublic class MyApp {\r\n    public static void main(String[] args) {\r\n        log.info(&quot;hello&quot;); IDEA gives this error: Cannot resolve method &#39;info(String)&#39;\r\n    }\r\n}\r\n```\r\n\r\nWhen trying to run the code i get this:\r\nerror: package org.slf4j does not exist\r\n@Slf4j\r\n^\r\n\r\nMy build.gradle looks like this:\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\ngroup &#39;org.example&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;org.apache.logging.log4j:log4j:2.20.0&#39;\r\n    compileOnly &#39;org.projectlombok:lombok:1.18.28&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok:1.18.28&#39;\r\n    \r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\nI have already tried enabling annotations.\r\n\r\nAlso, I saw this implementation working in another project and i tryed simply copying the dependencies, but it still didn&#39;t work.","title":"@Slf4j Lombok annotation not working with Java + Gradle","body":"<p>I'm fairly new to Java and trying to implement a logger with @Slf4j annotation provided by lombok. From my understanding it should be fairly simple, just provide the annotation to the class and it will create the method for that class but it seems to not work.</p>\n<p>My code looks like this:</p>\n<pre><code>package MyApp;\n\nimport lombok.extern.slf4j.Slf4j;\n\n@Slf4j\npublic class MyApp {\n    public static void main(String[] args) {\n        log.info(&quot;hello&quot;); IDEA gives this error: Cannot resolve method 'info(String)'\n    }\n}\n</code></pre>\n<p>When trying to run the code i get this:\nerror: package org.slf4j does not exist\n@Slf4j\n^</p>\n<p>My build.gradle looks like this:</p>\n<pre><code>plugins {\n    id 'java'\n}\n\ngroup 'org.example'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n\n    implementation 'org.apache.logging.log4j:log4j:2.20.0'\n    compileOnly 'org.projectlombok:lombok:1.18.28'\n    annotationProcessor 'org.projectlombok:lombok:1.18.28'\n    \n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>I have already tried enabling annotations.</p>\n<p>Also, I saw this implementation working in another project and i tryed simply copying the dependencies, but it still didn't work.</p>\n"},{"tags":["java","eclipse","jpa","generator","metamodel"],"owner":{"account_id":2818343,"reputation":23,"user_id":2422777,"display_name":"Bill Wohler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686163460,"creation_date":1686163460,"question_id":76426220,"body_markdown":"I&#39;m trying to use the JPA Metamodel generator in Eclipse using the recipes offered in these pages, but Eclipse still isn&#39;t generating the desired files and therefore isn&#39;t recognizing the use of the metamodel classes and is therefore reporting a `&lt;class&gt;_` cannot be resolved to a variable error and not offering a quick fix of importing the `&lt;class&gt;_`.\r\n\r\n1. Ran the Properties command of the project&#39;s context menu,and enabled annotation processing, and configured the source directories as shown below. The generated `&lt;class&gt;_.java` files should appear in those directories, right?\r\n2. Since the files didn&#39;t get generated, I added `hibernate-jpamodelgen-6.2.2.Final.jar` to the Factory Path.\r\n3. Since the files still didn&#39;t get generated, I added `jaxb-impl-3.0.2.jar` to the Factory Path.\r\n\r\nSince the files are still not getting generated, what would you suggest? Note that I&#39;m using Java 17 and Eclipse 2023-03.\r\n\r\nAs a workaround, I added `annotationProcessor &#39;org.hibernate.orm:hibernate-jpamodelgen:6.2.+&#39;` to build.gradle, which successfully generated the `&lt;class&gt;_.java` files and placed them in `build/generated/sources/annotationProcessor/java/main` directory. After adding this directory to the project&#39;s classpath with the Properties &gt; Java Build Path &gt; Source &gt; Add Folder command, Eclipse was able to import the `&lt;class&gt;_.java` files, but of course refactoring doesn&#39;t work as desired.\r\n\r\n[![Annotation Processing settings](https://i.stack.imgur.com/BHrEU.png)](https://i.stack.imgur.com/BHrEU.png)","title":"Eclipse isn&#39;t generating JPA Metamodel files","body":"<p>I'm trying to use the JPA Metamodel generator in Eclipse using the recipes offered in these pages, but Eclipse still isn't generating the desired files and therefore isn't recognizing the use of the metamodel classes and is therefore reporting a <code>&lt;class&gt;_</code> cannot be resolved to a variable error and not offering a quick fix of importing the <code>&lt;class&gt;_</code>.</p>\n<ol>\n<li>Ran the Properties command of the project's context menu,and enabled annotation processing, and configured the source directories as shown below. The generated <code>&lt;class&gt;_.java</code> files should appear in those directories, right?</li>\n<li>Since the files didn't get generated, I added <code>hibernate-jpamodelgen-6.2.2.Final.jar</code> to the Factory Path.</li>\n<li>Since the files still didn't get generated, I added <code>jaxb-impl-3.0.2.jar</code> to the Factory Path.</li>\n</ol>\n<p>Since the files are still not getting generated, what would you suggest? Note that I'm using Java 17 and Eclipse 2023-03.</p>\n<p>As a workaround, I added <code>annotationProcessor 'org.hibernate.orm:hibernate-jpamodelgen:6.2.+'</code> to build.gradle, which successfully generated the <code>&lt;class&gt;_.java</code> files and placed them in <code>build/generated/sources/annotationProcessor/java/main</code> directory. After adding this directory to the project's classpath with the Properties &gt; Java Build Path &gt; Source &gt; Add Folder command, Eclipse was able to import the <code>&lt;class&gt;_.java</code> files, but of course refactoring doesn't work as desired.</p>\n<p><a href=\"https://i.stack.imgur.com/BHrEU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BHrEU.png\" alt=\"Annotation Processing settings\" /></a></p>\n"},{"tags":["java","elasticsearch"],"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686163388,"creation_date":1686163388,"question_id":76426212,"body_markdown":"I&#39;m new to Elasticsearch. In traditional JPA, I would generate timestamps like this\r\n```java\r\n@NoArgsConstructor\r\n@Getter\r\n@Entity\r\n@EntityListeners(AuditingEntityListener.class) // ←\r\n@Table(name = &quot;questions&quot;)\r\npublic class Question {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, unique = true, nullable = false, updatable = false)\r\n    private Long id;\r\n\r\n    @NotNull\r\n    @CreatedDate // ←\r\n    @Column(name = &quot;created_date&quot;, nullable = false)\r\n    private LocalDateTime createdDate;\r\n\r\n    // the rest is omitted for brevity\r\n\r\n```\r\nHowever, the same combination of the same `@EntityListeners(AuditingEntityListener.class)` + `@CreatedDate`/`@ModifiedDate` wouldn&#39;t work with Elastic since `@EntityListeners` is from `javax.persistence` which has nothing to do with Elastic and other noSQL systems. I came across this SO [answer][1]. So, if I understand correctly, I should do these things\r\n 1. Have my `@Document` implement `Persistable`\r\n 2. Still have `@CreatedDate` and `@ModifiedDate` (even though they are *still*, as of this writing, [not in the docs][2])\r\n 3. Include `@EnableElasticsearchAuditing` in your `@Configuration` class\r\n\r\nIs that enough? Some questions I have in mind\r\n\r\n1. Do your `createdDate`/`modifiedDate` have to be of certain type? Would `LocalDateTime` be fine?\r\n2. Will the timestamps truly reflect the client-side timezone?\r\n3. Is `@Field(type = FieldType.Date, format = DateFormat.basic_date_time)` required? Or would some nice default conversions happen without extra involvement on my side? The Spring documentation referenced above does include them for date fields *but not other fields* which starts to look purposeful to me (but since the docs are apparently not perfectly maintained, it just as well may mean nothing at all)\r\n\r\nIn summary, **how can your createdDate and modifedDate fields be automatically initialized with client-side timestamps in Elasticsearch?**\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/67225213/21530803\r\n  [2]: https://docs.spring.io/spring-data/elasticsearch/docs/4.2.0/reference/html/#elasticsearch.auditing","title":"How can your createdDate and modifedDate fields be automatically initialized with client-side timestamps in Elasticsearch?","body":"<p>I'm new to Elasticsearch. In traditional JPA, I would generate timestamps like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NoArgsConstructor\n@Getter\n@Entity\n@EntityListeners(AuditingEntityListener.class) // ←\n@Table(name = &quot;questions&quot;)\npublic class Question {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, unique = true, nullable = false, updatable = false)\n    private Long id;\n\n    @NotNull\n    @CreatedDate // ←\n    @Column(name = &quot;created_date&quot;, nullable = false)\n    private LocalDateTime createdDate;\n\n    // the rest is omitted for brevity\n\n</code></pre>\n<p>However, the same combination of the same <code>@EntityListeners(AuditingEntityListener.class)</code> + <code>@CreatedDate</code>/<code>@ModifiedDate</code> wouldn't work with Elastic since <code>@EntityListeners</code> is from <code>javax.persistence</code> which has nothing to do with Elastic and other noSQL systems. I came across this SO <a href=\"https://stackoverflow.com/a/67225213/21530803\">answer</a>. So, if I understand correctly, I should do these things</p>\n<ol>\n<li>Have my <code>@Document</code> implement <code>Persistable</code></li>\n<li>Still have <code>@CreatedDate</code> and <code>@ModifiedDate</code> (even though they are <em>still</em>, as of this writing, <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/4.2.0/reference/html/#elasticsearch.auditing\" rel=\"nofollow noreferrer\">not in the docs</a>)</li>\n<li>Include <code>@EnableElasticsearchAuditing</code> in your <code>@Configuration</code> class</li>\n</ol>\n<p>Is that enough? Some questions I have in mind</p>\n<ol>\n<li>Do your <code>createdDate</code>/<code>modifiedDate</code> have to be of certain type? Would <code>LocalDateTime</code> be fine?</li>\n<li>Will the timestamps truly reflect the client-side timezone?</li>\n<li>Is <code>@Field(type = FieldType.Date, format = DateFormat.basic_date_time)</code> required? Or would some nice default conversions happen without extra involvement on my side? The Spring documentation referenced above does include them for date fields <em>but not other fields</em> which starts to look purposeful to me (but since the docs are apparently not perfectly maintained, it just as well may mean nothing at all)</li>\n</ol>\n<p>In summary, <strong>how can your createdDate and modifedDate fields be automatically initialized with client-side timestamps in Elasticsearch?</strong></p>\n"},{"tags":["java","selenide"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1686155421,"post_id":76425196,"comment_id":134761461,"body_markdown":"While `Thread.sleep()` is certainly not advisable, this is not the same as Selenium implicit or explicit waits. Who advised you NOT to use explicit wait functions and why? This is certainly bad advise. Of the two I mentioned, explicit waits are preferred IMO. The reason for using these Selenium waits is to allow pages to fully load before attempting to interact with elements on a page.","body":"While <code>Thread.sleep()</code> is certainly not advisable, this is not the same as Selenium implicit or explicit waits. Who advised you NOT to use explicit wait functions and why? This is certainly bad advise. Of the two I mentioned, explicit waits are preferred IMO. The reason for using these Selenium waits is to allow pages to fully load before attempting to interact with elements on a page."},{"owner":{"account_id":10789468,"reputation":1,"user_id":7937490,"display_name":"Daniel"},"score":0,"creation_date":1686161767,"post_id":76425196,"comment_id":134762723,"body_markdown":"Regardless, why wouldn&#39;t the waitUntilFlubberActive() function serve the same purpose as an explicit wait? If I say something should be visible, shouldn&#39;t that make it wait?","body":"Regardless, why wouldn&#39;t the waitUntilFlubberActive() function serve the same purpose as an explicit wait? If I say something should be visible, shouldn&#39;t that make it wait?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1686163383,"post_id":76425196,"comment_id":134762998,"body_markdown":"Actually, not &quot;regardless.&quot; I just realized you tagged this as &quot;selenium-webdriver&quot; and &quot;selenide&quot;. These are two different libraries and you are using &quot;selenide.&quot; Now the advise makes more sense. You should be using the wait mechanisms Selenide provides, not Selenium. Since I do not know Selenide like I know Selenium, I cannot advise you further. I would need to get up to speed in order to help you.","body":"Actually, not &quot;regardless.&quot; I just realized you tagged this as &quot;selenium-webdriver&quot; and &quot;selenide&quot;. These are two different libraries and you are using &quot;selenide.&quot; Now the advise makes more sense. You should be using the wait mechanisms Selenide provides, not Selenium. Since I do not know Selenide like I know Selenium, I cannot advise you further. I would need to get up to speed in order to help you."}],"owner":{"account_id":10789468,"reputation":1,"user_id":7937490,"display_name":"Daniel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686163267,"creation_date":1686153797,"question_id":76425196,"body_markdown":"I am having Selenium fill out a form for me, but it doesn&#39;t seem to be waiting for a form element to load even though I have an explicitly defined wait function for the form item. What might be happening?\r\n\r\n\r\n\r\n\r\n\r\n\r\nHere is the wait function in **IndexInformationQuestions.java**:\r\n\r\n\r\n```\r\nprivate static RadioGroup flubber = RadioGroup.withId(&quot;Flubber&quot;);\r\n\r\npublic static RadioGroup waitUntilFlubberActive(){\r\n    flubber.getOptionLabel(&quot;Flubber 0&quot;).shouldBe(enabled).scrollTo().shouldBe(visible);\r\n    return flubber;\r\n  }\r\n\r\n\r\n  protected SelenideElement getOptionLabel(String text) {\r\n    String xpath =\r\n            &quot;.//label[contains(text(),\\&quot;&quot;\r\n                    + text\r\n                    + &quot;\\&quot;)]&quot;;\r\n    return this.formGroupDiv.getDiv().$x(xpath);\r\n  }\r\n  public RadioGroup waitUntilActive() {\r\n    flubber.getOptionLabel(&quot;Flubber 0&quot;).shouldBe(enabled).scrollTo().shouldBe(visible);\r\n    return flubber;\r\n  }\r\n```\r\n\r\n\r\nAnd here&#39;s an excerpt from the main set of tests in **MichiganPsCreateIndexTest.java** when filling out the form. The point is to call the function to wait for the form item called **flubber** and select the radio button for **Flubber 0**.\r\n\r\n```\r\nIndexInformationQuestions.waitUntilFlubberActive();\r\nIndexInformationQuestions.selectFlubber(&quot;Flubber 0&quot;);\r\n```\r\n\r\nWhen I run the test, our site throws an error that this required element on the form has not been filled out. Is something wrong with the wait function? \r\n\r\nNote : We have been advised NOT to use any explicit functions like wait.until or time.sleep().","title":"Selenium wait function is not waiting","body":"<p>I am having Selenium fill out a form for me, but it doesn't seem to be waiting for a form element to load even though I have an explicitly defined wait function for the form item. What might be happening?</p>\n<p>Here is the wait function in <strong>IndexInformationQuestions.java</strong>:</p>\n<pre><code>private static RadioGroup flubber = RadioGroup.withId(&quot;Flubber&quot;);\n\npublic static RadioGroup waitUntilFlubberActive(){\n    flubber.getOptionLabel(&quot;Flubber 0&quot;).shouldBe(enabled).scrollTo().shouldBe(visible);\n    return flubber;\n  }\n\n\n  protected SelenideElement getOptionLabel(String text) {\n    String xpath =\n            &quot;.//label[contains(text(),\\&quot;&quot;\n                    + text\n                    + &quot;\\&quot;)]&quot;;\n    return this.formGroupDiv.getDiv().$x(xpath);\n  }\n  public RadioGroup waitUntilActive() {\n    flubber.getOptionLabel(&quot;Flubber 0&quot;).shouldBe(enabled).scrollTo().shouldBe(visible);\n    return flubber;\n  }\n</code></pre>\n<p>And here's an excerpt from the main set of tests in <strong>MichiganPsCreateIndexTest.java</strong> when filling out the form. The point is to call the function to wait for the form item called <strong>flubber</strong> and select the radio button for <strong>Flubber 0</strong>.</p>\n<pre><code>IndexInformationQuestions.waitUntilFlubberActive();\nIndexInformationQuestions.selectFlubber(&quot;Flubber 0&quot;);\n</code></pre>\n<p>When I run the test, our site throws an error that this required element on the form has not been filled out. Is something wrong with the wait function?</p>\n<p>Note : We have been advised NOT to use any explicit functions like wait.until or time.sleep().</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"score":0,"creation_date":1688450169,"post_id":76426168,"comment_id":135071832,"body_markdown":"Do you want your second textView to be completely below your imageView? Because that is possible with RelativeLayout. But if you want your textView to start on right of imageView and then take the space below imageView also, I don&#39;t think its possible.","body":"Do you want your second textView to be completely below your imageView? Because that is possible with RelativeLayout. But if you want your textView to start on right of imageView and then take the space below imageView also, I don&#39;t think its possible."}],"owner":{"account_id":28767449,"reputation":1,"user_id":22032011,"display_name":"Dev Tiwari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686162895,"creation_date":1686162895,"question_id":76426168,"body_markdown":"i have used a imageview and textview and i want my text to fill the gap after my image\r\n\r\nim attaching a sshot of what im expecting below\r\n[text is not filling gap below imageview](https://i.stack.imgur.com/TcwsR.png)\r\n\r\n```\r\n        &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n            &lt;androidx.appcompat.widget.AppCompatImageView\r\n                android:id=&quot;@+id/AppCompatImageView2&quot;\r\n                android:layout_width=&quot;160dp&quot;\r\n                android:layout_height=&quot;160dp&quot;\r\n                android:src=&quot;@drawable/play_store_512&quot; /&gt;\r\n\r\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                &lt;androidx.appcompat.widget.AppCompatTextView\r\n                    android:id=&quot;@+id/AppCompatTextView2&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:fontFamily=&quot;@font/roboto_bold&quot;\r\n                    android:text=&quot;Lorem Ipsum is simply dummy text of the printing and typesetting industry.&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;20sp&quot;\r\n                    tools:ignore=&quot;HardcodedText&quot; /&gt;\r\n\r\n                &lt;androidx.legacy.widget.Space\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;8dp&quot; /&gt;\r\n\r\n                &lt;androidx.appcompat.widget.AppCompatTextView\r\n                    android:id=&quot;@+id/AppCompatTextView3&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:fontFamily=&quot;@font/roboto_regular&quot;\r\n                    android:text=&quot;Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum is simply dummy text of the printing and typesetting industry.&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;16sp&quot;\r\n                    tools:ignore=&quot;HardcodedText&quot; /&gt;\r\n\r\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n\r\n        &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n\r\n```\r\n\r\n\r\nA solution to fix this gap below imageview","title":"android xml textview take space after a imageview","body":"<p>i have used a imageview and textview and i want my text to fill the gap after my image</p>\n<p>im attaching a sshot of what im expecting below\n<a href=\"https://i.stack.imgur.com/TcwsR.png\" rel=\"nofollow noreferrer\">text is not filling gap below imageview</a></p>\n<pre><code>        &lt;androidx.appcompat.widget.LinearLayoutCompat\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n\n            &lt;androidx.appcompat.widget.AppCompatImageView\n                android:id=&quot;@+id/AppCompatImageView2&quot;\n                android:layout_width=&quot;160dp&quot;\n                android:layout_height=&quot;160dp&quot;\n                android:src=&quot;@drawable/play_store_512&quot; /&gt;\n\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n                &lt;androidx.appcompat.widget.AppCompatTextView\n                    android:id=&quot;@+id/AppCompatTextView2&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:fontFamily=&quot;@font/roboto_bold&quot;\n                    android:text=&quot;Lorem Ipsum is simply dummy text of the printing and typesetting industry.&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;20sp&quot;\n                    tools:ignore=&quot;HardcodedText&quot; /&gt;\n\n                &lt;androidx.legacy.widget.Space\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;8dp&quot; /&gt;\n\n                &lt;androidx.appcompat.widget.AppCompatTextView\n                    android:id=&quot;@+id/AppCompatTextView3&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:fontFamily=&quot;@font/roboto_regular&quot;\n                    android:text=&quot;Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum is simply dummy text of the printing and typesetting industry.&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;16sp&quot;\n                    tools:ignore=&quot;HardcodedText&quot; /&gt;\n\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n\n        &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n\n</code></pre>\n<p>A solution to fix this gap below imageview</p>\n"},{"tags":["java","numpy"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":2,"creation_date":1686107797,"post_id":76419588,"comment_id":134752438,"body_markdown":"byte format? are you referring to raw bytes? based on the javadoc: &quot;FileWriter is meant for writing streams of characters. For writing streams of raw bytes, consider using a FileOutputStream.&quot;","body":"byte format? are you referring to raw bytes? based on the javadoc: &quot;FileWriter is meant for writing streams of characters. For writing streams of raw bytes, consider using a FileOutputStream.&quot;"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1686108261,"post_id":76419588,"comment_id":134752475,"body_markdown":"Where did you read that NumPy uses bytes? The actual documentation says differently: https://numpy.org/devdocs/dev/internals.html. Finding this link required just a quick Google search. You should research more before asking.","body":"Where did you read that NumPy uses bytes? The actual documentation says differently: <a href=\"https://numpy.org/devdocs/dev/internals.html\" rel=\"nofollow noreferrer\">numpy.org/devdocs/dev/internals.html</a>. Finding this link required just a quick Google search. You should research more before asking."},{"owner":{"account_id":23669032,"reputation":51,"user_id":17696091,"display_name":"newbie5050"},"score":0,"creation_date":1686110875,"post_id":76419588,"comment_id":134752682,"body_markdown":"@experiment unit 1998X. Thanks for the clarification! I may need to use FileOutputStream!","body":"@experiment unit 1998X. Thanks for the clarification! I may need to use FileOutputStream!"},{"owner":{"account_id":23669032,"reputation":51,"user_id":17696091,"display_name":"newbie5050"},"score":0,"creation_date":1686111676,"post_id":76419588,"comment_id":134752743,"body_markdown":"@experiment unit 1998X: Do you have an idea what&#39;s the best way to convert a 3d array (double[][][]) into a byte array (byte[])? Because the write() method accepts byte b[]. My 3d array is too large and it&#39;s not efficient to convert the whole 3d array into the byte array at once.","body":"@experiment unit 1998X: Do you have an idea what&#39;s the best way to convert a 3d array (double[][][]) into a byte array (byte[])? Because the write() method accepts byte b[]. My 3d array is too large and it&#39;s not efficient to convert the whole 3d array into the byte array at once."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1686115388,"post_id":76419588,"comment_id":134753075,"body_markdown":"you could take a look at [this](https://stackoverflow.com/q/62470202/16034206). Based on that, you could write the x,y,z sizes of your 3D array if it is not jagged as a header of sorts, then write the whole 3D array. Then, utilise those values when you are trying to read the file.","body":"you could take a look at <a href=\"https://stackoverflow.com/q/62470202/16034206\">this</a>. Based on that, you could write the x,y,z sizes of your 3D array if it is not jagged as a header of sorts, then write the whole 3D array. Then, utilise those values when you are trying to read the file."}],"owner":{"account_id":23669032,"reputation":51,"user_id":17696091,"display_name":"newbie5050"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686162825,"creation_date":1686105976,"question_id":76419588,"body_markdown":"Following the open question: [Java equivalent for the NumPy multi-dimensional object][1], I ended up implementing my own numerical methods in Java. But it seems that the final output is too big (almost twice larger than NumPy). Python does not have numerical types like int, long, float, or double but I believe NumPy converts everything to the byte.\r\nSince I implemented my program in Java, I had to use those standard numerical types (double[][][], long[][], etc…), and when I save my results into a file through FileWriter, the size of the output is almost twice as larger as the NumPy functions:\r\n\r\n```\r\nFileWriter fstream = new FileWriter(outName, true);\r\nBufferedWriter out = new BufferedWriter(fstream);\r\n\r\nfor (int i = 0; i &lt; nFramesBack; i += 2) {\r\n    double[][] data1 = imageObjArray[i];\r\n    for (int j = 0; j &lt; 128; j++) {\r\n        for (int k = 0; k &lt; 128; k++) {\r\n            imageObjArray[i][j][k] = data1[j][k] * flatfB[j][k];\r\n            out.write(data1[j][k] * flatfB[j][k] + &quot; &quot;);\r\n        }\r\n        out.newLine();\r\n    }\r\n    out.newLine();\r\n}\r\nout.flush();\r\nout.close();\r\n\r\n```\r\nI am looking for a solution to convert my output into a byte format like NumPy.\r\n\r\n  [1]: https://stackoverflow.com/questions/8375558/java-equivalent-for-the-numpy-multi-dimensional-object","title":"Conversion multidimensional arrays Java into byte like NumPy","body":"<p>Following the open question: <a href=\"https://stackoverflow.com/questions/8375558/java-equivalent-for-the-numpy-multi-dimensional-object\">Java equivalent for the NumPy multi-dimensional object</a>, I ended up implementing my own numerical methods in Java. But it seems that the final output is too big (almost twice larger than NumPy). Python does not have numerical types like int, long, float, or double but I believe NumPy converts everything to the byte.\nSince I implemented my program in Java, I had to use those standard numerical types (double[][][], long[][], etc…), and when I save my results into a file through FileWriter, the size of the output is almost twice as larger as the NumPy functions:</p>\n<pre><code>FileWriter fstream = new FileWriter(outName, true);\nBufferedWriter out = new BufferedWriter(fstream);\n\nfor (int i = 0; i &lt; nFramesBack; i += 2) {\n    double[][] data1 = imageObjArray[i];\n    for (int j = 0; j &lt; 128; j++) {\n        for (int k = 0; k &lt; 128; k++) {\n            imageObjArray[i][j][k] = data1[j][k] * flatfB[j][k];\n            out.write(data1[j][k] * flatfB[j][k] + &quot; &quot;);\n        }\n        out.newLine();\n    }\n    out.newLine();\n}\nout.flush();\nout.close();\n\n</code></pre>\n<p>I am looking for a solution to convert my output into a byte format like NumPy.</p>\n"},{"tags":["java","stream","spring-webflux"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1686157526,"post_id":76425541,"comment_id":134761877,"body_markdown":"Where are you going to get thirdItem from? Is it result of sendRequestToCompare(firstItem,secondItem), i.e. firstResponse result?","body":"Where are you going to get thirdItem from? Is it result of sendRequestToCompare(firstItem,secondItem), i.e. firstResponse result?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1686163921,"post_id":76425541,"comment_id":134763089,"body_markdown":"please also (little) dive into https://stackoverflow.com/a/513839/592355 (and why `String x == String y` can work out 9 of 10 times, but won&#39;t the other time.)","body":"please also (little) dive into <a href=\"https://stackoverflow.com/a/513839/592355\">stackoverflow.com/a/513839/592355</a> (and why <code>String x == String y</code> can work out 9 of 10 times, but won&#39;t the other time.)"}],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686158459,"creation_date":1686158459,"answer_id":76425708,"question_id":76425541,"body_markdown":"You probably have to call `Mono.flatMap()`. It requires as an argument a function from the first Mono **result** to another Mono **object** and returns Mono. If you are looking for chain of calls (call service A, then service B and get service B response) - that&#39;s a typical case for the `Mono.flatMap()`.","title":"How to return a value inside or outside a Spring Webflux Mono Subscribe depending on specific test result inside the subscribe","body":"<p>You probably have to call <code>Mono.flatMap()</code>. It requires as an argument a function from the first Mono <strong>result</strong> to another Mono <strong>object</strong> and returns Mono. If you are looking for chain of calls (call service A, then service B and get service B response) - that's a typical case for the <code>Mono.flatMap()</code>.</p>\n"},{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686162797,"creation_date":1686159270,"answer_id":76425802,"question_id":76425541,"body_markdown":"I see no use and need of `java.util.stream.*` (though they can co-exist/interact, no need to complicate), but here a (sample, `String`) version of your method:\r\n```lang-java\r\n\r\npublic Mono&lt;String&gt; compute(String first, String second, String third) {\r\n    Mono&lt;String&gt; firstResponse = \r\n        // just demo, call real service instead:\r\n        Mono.just(first);\r\n    return firstResponse.flatMap(s -&gt; { // !\r\n        if (s.equals(&quot;Hello&quot;)) { // some (demo) condition\r\n            Mono&lt;String&gt; secondResponse = \r\n                // just demo, call real service instead:\r\n                Mono.just(s + second + third);\r\n            return secondResponse;\r\n        } else {\r\n            return Mono.just(&quot;;(&quot;); // Mono.empty()/throw exception/...\r\n        }\r\n    });\r\n}\r\n```\r\nIt:\r\n1. returns `secondResponse`, when the item emitted by `firstResponse` equals to `&quot;Hello&quot;` (i.e. meets some condition)\r\n2. otherwise a `Mono` (i.e. &quot;publisher&quot;) of `&quot;;(&quot;` (sad emoji:)\r\n\r\n(without comments and (demo) variables, it is a &quot;one-liner&quot;;)\r\n\r\nThis how an according (junit5, reactor) test can look like:\r\n```lang-java\r\n@Test\r\nvoid testMyCompute() {\r\n    testee.compute(&quot;Hello&quot;, &quot; World&quot;, &quot;!&quot;)\r\n            .as(StepVerifier::create)\r\n            .expectNext(&quot;Hello World!&quot;)\r\n            .verifyComplete();\r\n\r\n    testee.compute(&quot;&quot;, &quot;&quot;, &quot;&quot;)\r\n            .as(StepVerifier::create)\r\n            .expectNext(&quot;;(&quot;)\r\n            .verifyComplete();\r\n\r\n    NullPointerException npe = assertThrows(NullPointerException.class,() -&gt; testee.compute(null, null, null));\r\n    assertNotNull(npe);\r\n}\r\n```\r\n\r\nSo most attention on [`flatMap`][1] operator.\r\n&gt;Transform the item emitted by this Mono *asynchronously*, returning &lt;s&gt;the value *emitted by&lt;/s&gt; another Mono*\r\n\r\n(In opposite to [`map`][2] operator, which does the same *synchronously*, returning *the value* (not a Mono/Publisher) ..e.g. when `secondResponse` would be &quot;blocking&quot;/`String` not `Mono&lt;String&gt;`)\r\n\r\nUseful Links: \r\n- [Core Reference Doc(#which-operator?)][3] \r\n- [Testing Reference Doc](https://projectreactor.io/docs/core/release/reference/index.html#testing)\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#flatMap-java.util.function.Function-\r\n  [2]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#map-java.util.function.Function-\r\n  [3]: https://projectreactor.io/docs/core/release/reference/#which-operator","title":"How to return a value inside or outside a Spring Webflux Mono Subscribe depending on specific test result inside the subscribe","body":"<p>I see no use and need of <code>java.util.stream.*</code> (though they can co-exist/interact, no need to complicate), but here a (sample, <code>String</code>) version of your method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic Mono&lt;String&gt; compute(String first, String second, String third) {\n    Mono&lt;String&gt; firstResponse = \n        // just demo, call real service instead:\n        Mono.just(first);\n    return firstResponse.flatMap(s -&gt; { // !\n        if (s.equals(&quot;Hello&quot;)) { // some (demo) condition\n            Mono&lt;String&gt; secondResponse = \n                // just demo, call real service instead:\n                Mono.just(s + second + third);\n            return secondResponse;\n        } else {\n            return Mono.just(&quot;;(&quot;); // Mono.empty()/throw exception/...\n        }\n    });\n}\n</code></pre>\n<p>It:</p>\n<ol>\n<li>returns <code>secondResponse</code>, when the item emitted by <code>firstResponse</code> equals to <code>&quot;Hello&quot;</code> (i.e. meets some condition)</li>\n<li>otherwise a <code>Mono</code> (i.e. &quot;publisher&quot;) of <code>&quot;;(&quot;</code> (sad emoji:)</li>\n</ol>\n<p>(without comments and (demo) variables, it is a &quot;one-liner&quot;;)</p>\n<p>This how an according (junit5, reactor) test can look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid testMyCompute() {\n    testee.compute(&quot;Hello&quot;, &quot; World&quot;, &quot;!&quot;)\n            .as(StepVerifier::create)\n            .expectNext(&quot;Hello World!&quot;)\n            .verifyComplete();\n\n    testee.compute(&quot;&quot;, &quot;&quot;, &quot;&quot;)\n            .as(StepVerifier::create)\n            .expectNext(&quot;;(&quot;)\n            .verifyComplete();\n\n    NullPointerException npe = assertThrows(NullPointerException.class,() -&gt; testee.compute(null, null, null));\n    assertNotNull(npe);\n}\n</code></pre>\n<p>So most attention on <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#flatMap-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>flatMap</code></a> operator.</p>\n<blockquote>\n<p>Transform the item emitted by this Mono <em>asynchronously</em>, returning <s>the value <em>emitted by</s> another Mono</em></p>\n</blockquote>\n<p>(In opposite to <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#map-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>map</code></a> operator, which does the same <em>synchronously</em>, returning <em>the value</em> (not a Mono/Publisher) ..e.g. when <code>secondResponse</code> would be &quot;blocking&quot;/<code>String</code> not <code>Mono&lt;String&gt;</code>)</p>\n<p>Useful Links:</p>\n<ul>\n<li><a href=\"https://projectreactor.io/docs/core/release/reference/#which-operator\" rel=\"nofollow noreferrer\">Core Reference Doc(#which-operator?)</a></li>\n<li><a href=\"https://projectreactor.io/docs/core/release/reference/index.html#testing\" rel=\"nofollow noreferrer\">Testing Reference Doc</a></li>\n</ul>\n"}],"owner":{"account_id":19111621,"reputation":149,"user_id":13957509,"display_name":"cknelle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1478,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76425802,"answer_count":2,"score":2,"last_activity_date":1686162797,"creation_date":1686156780,"question_id":76425541,"body_markdown":"I&#39;m a beginner in Spring Web flux and in java Stream. \r\nI need to call a method that returns a Mono twice depending on the result content of the first call.\r\nBut I don&#39;t know how to make it works and how to respect best practices i.e not to have 2 return statements in my method.\r\n\r\nOff course the code below does not work but I want to show the kind of behaviour that I would like to have. But Don&#39;t know how to have it in a Stream way...\r\n\r\n```\r\n@Slf4j\r\n@Service\r\npublic class Compare {\r\n\r\n\r\n\t@Autowired\r\n\tMyservice myService;\r\n\t\r\n\t\r\n\tpublic Mono&lt;MyResponse&gt; compute(String firstItem,String secondItem, String thirdItem){\r\n\t\t\r\n\t\t// First Comparison between firstItem and secondItem\r\n\t\tMono&lt;MyResponse&gt; firstResponse = myService.sendRequestToCompare(firstItem,secondItem);\r\n\t\t\r\n\r\n\t\tfirstResponse.subscribe(result -&gt; { // Issue on the subscribe method according to my IDE\r\n\t\t\t\r\n\t\t\tif ((result.getResponse().getStatus().toString() == &quot;NOT_SAME&quot;) &amp;&amp; (result.getResponse().getErrorCode() == 201)) {\r\n\t\t\t\r\n\t\t\t// Second Comparison with a third value if the previous first one does not match\r\n\t\t\tMono&lt;MyResponse&gt; secondResponse = myService.sendRequestToCompare(firstItem,thirdItem);\t\t\t\r\n                return secondResponse; // Error raised in IDE says change to return; or change method retrun type to Mono&lt;MyResponse&gt; which is already the case\r\n                break;\t\t\t\t\r\n\t\t\t}\r\n\t\t}, error -&gt; {\r\n\t\t\tlog.error(&quot;The following error happened on getResponse method from myService!&quot;, error);\r\n\t\t});\r\n\t\treturn firstResponse;\r\n\t\t\r\n\t}\r\n\r\n}\r\n```","title":"How to return a value inside or outside a Spring Webflux Mono Subscribe depending on specific test result inside the subscribe","body":"<p>I'm a beginner in Spring Web flux and in java Stream.\nI need to call a method that returns a Mono twice depending on the result content of the first call.\nBut I don't know how to make it works and how to respect best practices i.e not to have 2 return statements in my method.</p>\n<p>Off course the code below does not work but I want to show the kind of behaviour that I would like to have. But Don't know how to have it in a Stream way...</p>\n<pre><code>@Slf4j\n@Service\npublic class Compare {\n\n\n    @Autowired\n    Myservice myService;\n    \n    \n    public Mono&lt;MyResponse&gt; compute(String firstItem,String secondItem, String thirdItem){\n        \n        // First Comparison between firstItem and secondItem\n        Mono&lt;MyResponse&gt; firstResponse = myService.sendRequestToCompare(firstItem,secondItem);\n        \n\n        firstResponse.subscribe(result -&gt; { // Issue on the subscribe method according to my IDE\n            \n            if ((result.getResponse().getStatus().toString() == &quot;NOT_SAME&quot;) &amp;&amp; (result.getResponse().getErrorCode() == 201)) {\n            \n            // Second Comparison with a third value if the previous first one does not match\n            Mono&lt;MyResponse&gt; secondResponse = myService.sendRequestToCompare(firstItem,thirdItem);          \n                return secondResponse; // Error raised in IDE says change to return; or change method retrun type to Mono&lt;MyResponse&gt; which is already the case\n                break;              \n            }\n        }, error -&gt; {\n            log.error(&quot;The following error happened on getResponse method from myService!&quot;, error);\n        });\n        return firstResponse;\n        \n    }\n\n}\n</code></pre>\n"},{"tags":["java","ssl","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":9605621,"reputation":37117,"user_id":7131757,"accept_rate":77,"display_name":"Giorgos Myrianthous"},"score":1,"creation_date":1606484969,"post_id":65037435,"comment_id":114982125,"body_markdown":"I assume everything still works fine, right? (given that it is also reported as `INFO`). One way to try and find more about this is to change log level to `verbose` for these particular logs: `export KAFKA_OPTS=&quot;-Djavax.net.debug=ssl:handshake:verbose&quot;`","body":"I assume everything still works fine, right? (given that it is also reported as <code>INFO</code>). One way to try and find more about this is to change log level to <code>verbose</code> for these particular logs: <code>export KAFKA_OPTS=&quot;-Djavax.net.debug=ssl:handshake:verbose&quot;</code>"}],"answers":[{"tags":[],"owner":{"account_id":5317077,"reputation":1,"user_id":4241599,"display_name":"Mark Moniz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686161987,"creation_date":1686161778,"answer_id":76426050,"question_id":65037435,"body_markdown":"This happens when there is an issue with the client&#39;s certificate. It might be expired or not contain the whole certificate chain. Add the following to your `log4j.properties` if you want to keep the messages but don&#39;t want it clogging up your server.log\r\n```\r\nlog4j.appender.sslHandshakeAppender=org.apache.log4j.RollingFileAppender\r\nlog4j.appender.sslHandshakeAppender.MaxFileSize=100MB\r\nlog4j.appender.sslHandshakeAppender.MaxBackupIndex=10\r\nlog4j.appender.sslHandshakeAppender.Append=true\r\nlog4j.appender.sslHandshakeAppender.File=${kafka.logs.dir}/ssl-handshake.log\r\nlog4j.appender.sslHandshakeAppender.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.sslHandshakeAppender.layout.ConversionPattern=[%d] %p %m (%c)%n\r\n\r\nlog4j.logger.org.apache.kafka.common.network.Selector=INFO, sslHandshakeAppender\r\nlog4j.additivity.org.apache.kafka.common.network.Selector=false\r\n```","title":"Kafka Cluster showing continuous logs &quot;INFO [SocketServer] Failed authentication (SSL handshake failed) (org.apache.kafka.common.network.Selector)&quot;","body":"<p>This happens when there is an issue with the client's certificate. It might be expired or not contain the whole certificate chain. Add the following to your <code>log4j.properties</code> if you want to keep the messages but don't want it clogging up your server.log</p>\n<pre><code>log4j.appender.sslHandshakeAppender=org.apache.log4j.RollingFileAppender\nlog4j.appender.sslHandshakeAppender.MaxFileSize=100MB\nlog4j.appender.sslHandshakeAppender.MaxBackupIndex=10\nlog4j.appender.sslHandshakeAppender.Append=true\nlog4j.appender.sslHandshakeAppender.File=${kafka.logs.dir}/ssl-handshake.log\nlog4j.appender.sslHandshakeAppender.layout=org.apache.log4j.PatternLayout\nlog4j.appender.sslHandshakeAppender.layout.ConversionPattern=[%d] %p %m (%c)%n\n\nlog4j.logger.org.apache.kafka.common.network.Selector=INFO, sslHandshakeAppender\nlog4j.additivity.org.apache.kafka.common.network.Selector=false\n</code></pre>\n"}],"owner":{"account_id":16325976,"reputation":67,"user_id":11790532,"display_name":"Namrata Khobragade"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1722,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686161987,"creation_date":1606480355,"question_id":65037435,"body_markdown":"I have 3 nodes of Kafka cluster in the Windows environment. I have recently added security to this existing cluster with the SASL_SSL mechanism.\r\n\r\nHere is my server.properties security configurations on each node:\r\n \r\n```### Security Config\r\nauthroizer.class.name=kafka.security.auth.SimpleAclAuthorizer\r\nsecurity.inter.broker.protocol=SASL_SSL\r\nsasl.mechanism.inter.broker.protocol=PLAIN\r\nsasl.enabled.mechanisms=PLAIN\r\nssl.client.auth=required\r\nssl.enabled.protocols=TLSv1.2\r\nssl.endpoint.identification.algorithm=\r\n\r\nssl.truststore.location=kafka-truststore.jks\r\nssl.truststore.password=******\r\nssl.keystore.location=kafka.keystore.jks\r\nssl.keystore.password=******\r\nssl.key.password=******\r\n```\r\n\r\nEverything is working fine. I am able to store and retrieve messages. Kafka stream applications are properly connected. But from yesterday I am getting continuous logs on all three nodes as\r\n\r\n```\r\nINFO [SocketServer brokerId=2] Failed authentication with host.docker.internal/ip (SSL handshake failed) (org.apache.kafka.common.network.Selector)\r\n```\r\n\r\nAs the log says broker with id 2 is refusing the SSL handshake from the other brokers i.e. 1 &amp; 3.\r\nI have verified the jks certificates and they all are valid.\r\nDid anyone know the reason for such logs?","title":"Kafka Cluster showing continuous logs &quot;INFO [SocketServer] Failed authentication (SSL handshake failed) (org.apache.kafka.common.network.Selector)&quot;","body":"<p>I have 3 nodes of Kafka cluster in the Windows environment. I have recently added security to this existing cluster with the SASL_SSL mechanism.</p>\n<p>Here is my server.properties security configurations on each node:</p>\n<pre><code>authroizer.class.name=kafka.security.auth.SimpleAclAuthorizer\nsecurity.inter.broker.protocol=SASL_SSL\nsasl.mechanism.inter.broker.protocol=PLAIN\nsasl.enabled.mechanisms=PLAIN\nssl.client.auth=required\nssl.enabled.protocols=TLSv1.2\nssl.endpoint.identification.algorithm=\n\nssl.truststore.location=kafka-truststore.jks\nssl.truststore.password=******\nssl.keystore.location=kafka.keystore.jks\nssl.keystore.password=******\nssl.key.password=******\n</code></pre>\n<p>Everything is working fine. I am able to store and retrieve messages. Kafka stream applications are properly connected. But from yesterday I am getting continuous logs on all three nodes as</p>\n<pre><code>INFO [SocketServer brokerId=2] Failed authentication with host.docker.internal/ip (SSL handshake failed) (org.apache.kafka.common.network.Selector)\n</code></pre>\n<p>As the log says broker with id 2 is refusing the SSL handshake from the other brokers i.e. 1 &amp; 3.\nI have verified the jks certificates and they all are valid.\nDid anyone know the reason for such logs?</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686161104,"post_id":76423754,"comment_id":134762620,"body_markdown":"Strange question, as the addresses do not match the indices.","body":"Strange question, as the addresses do not match the indices."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686161977,"creation_date":1686161977,"answer_id":76426075,"question_id":76423754,"body_markdown":"The example provided in the question doesn&#39;t provide a valid result.\r\n\r\nHere is the closest to the original, that I could get.\r\n\r\n```java\r\nvoid map_reduce() {\r\n    int[][] Matrix_A = {\r\n        { 0, 0, 0, 0, 0, 0, 1 },\r\n        { 0, 0, 0, 0, 0, 0, 0 },\r\n        { 0, 1, 0, 0, 0, 0, 0 },\r\n        { 1, 0, 0, 0, 0, 0, 0 },\r\n        { 0, 1, 0, 1, 0, 0, 0 },\r\n        { 0, 0, 0, 0, 0, 0, 0 } };\r\n    String[][] Matrix_B = new String[6][2];\r\n    int indexA = 0, indexB, count;\r\n    for (int[] row : Matrix_A) {\r\n        indexB = count = 0;\r\n        for (int value : row) {\r\n            if (value == 1)\r\n                Matrix_B[indexA][count++] = &quot;(%d, %d)&quot;.formatted(indexA, indexB);\r\n            indexB++;\r\n        }\r\n        indexA++;\r\n    }\r\n}\r\n```\r\n\r\n```none\r\n[(0, 6), null]\r\n[null, null]\r\n[(2, 1), null]\r\n[(3, 0), null]\r\n[(4, 1), (4, 3)]\r\n[null, null]\r\n```","title":"How to solve 2d array problem to store addresses of 1&#39;s given in matrix A into matrix B in Java","body":"<p>The example provided in the question doesn't provide a valid result.</p>\n<p>Here is the closest to the original, that I could get.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void map_reduce() {\n    int[][] Matrix_A = {\n        { 0, 0, 0, 0, 0, 0, 1 },\n        { 0, 0, 0, 0, 0, 0, 0 },\n        { 0, 1, 0, 0, 0, 0, 0 },\n        { 1, 0, 0, 0, 0, 0, 0 },\n        { 0, 1, 0, 1, 0, 0, 0 },\n        { 0, 0, 0, 0, 0, 0, 0 } };\n    String[][] Matrix_B = new String[6][2];\n    int indexA = 0, indexB, count;\n    for (int[] row : Matrix_A) {\n        indexB = count = 0;\n        for (int value : row) {\n            if (value == 1)\n                Matrix_B[indexA][count++] = &quot;(%d, %d)&quot;.formatted(indexA, indexB);\n            indexB++;\n        }\n        indexA++;\n    }\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>[(0, 6), null]\n[null, null]\n[(2, 1), null]\n[(3, 0), null]\n[(4, 1), (4, 3)]\n[null, null]\n</code></pre>\n"}],"owner":{"account_id":28772803,"reputation":3,"user_id":22036177,"display_name":"Syed Zain Imam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":76426075,"answer_count":1,"score":-3,"last_activity_date":1686161977,"creation_date":1686144057,"question_id":76423754,"body_markdown":"[Java Problem](https://i.stack.imgur.com/a5ns1.jpg)\r\n\r\nThis problem was given in my OOP exam. In which a 2d array is given containing zeroes and ones. We have to solve it such that I store addresses of ones into output matrix that is smaller in size as compared to the problem matrix and there is quite weird pattern of storing ones into the resultant matrix. ","title":"How to solve 2d array problem to store addresses of 1&#39;s given in matrix A into matrix B in Java","body":"<p><a href=\"https://i.stack.imgur.com/a5ns1.jpg\" rel=\"nofollow noreferrer\">Java Problem</a></p>\n<p>This problem was given in my OOP exam. In which a 2d array is given containing zeroes and ones. We have to solve it such that I store addresses of ones into output matrix that is smaller in size as compared to the problem matrix and there is quite weird pattern of storing ones into the resultant matrix.</p>\n"},{"tags":["java","android","flutter","release"],"comments":[{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":0,"creation_date":1633418512,"post_id":69446251,"comment_id":122747289,"body_markdown":"What Java version are you using? Also, are you by any chance using a 32bit version?","body":"What Java version are you using? Also, are you by any chance using a 32bit version?"},{"owner":{"account_id":22813203,"reputation":615,"user_id":16964184,"display_name":"Alaeddine Bouhajja"},"score":0,"creation_date":1633419528,"post_id":69446251,"comment_id":122747659,"body_markdown":"I&#39;m using &#39;openjdk version &quot;11.0.8-internal&quot; 2020-07-14\nOpenJDK Runtime Environment (build 11.0.8-internal+0-adhoc..jdk11u)\nOpenJDK 64-Bit Server VM (build 11.0.8-internal+0-adhoc..jdk11u, mixed mode)&#39;\nand I have 64-bit OS.","body":"I&#39;m using &#39;openjdk version &quot;11.0.8-internal&quot; 2020-07-14 OpenJDK Runtime Environment (build 11.0.8-internal+0-adhoc..jdk11u) OpenJDK 64-Bit Server VM (build 11.0.8-internal+0-adhoc..jdk11u, mixed mode)&#39; and I have 64-bit OS."},{"owner":{"account_id":22813203,"reputation":615,"user_id":16964184,"display_name":"Alaeddine Bouhajja"},"score":0,"creation_date":1633431115,"post_id":69446251,"comment_id":122752192,"body_markdown":"@akortex did you understand anything?","body":"@akortex did you understand anything?"}],"answers":[{"tags":[],"owner":{"account_id":2914299,"reputation":9061,"user_id":2497859,"display_name":"Omatt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686161241,"creation_date":1686161241,"answer_id":76425989,"question_id":69446251,"body_markdown":"Judging from the error, it seems that you&#39;re unable to use the configured heap size. Possible causes of this issue is if you&#39;re using a 32-bit JVM. You can try using a heap size lower than 4GB. If you&#39;re using Android Studio, you can follow this [guide][1] to change the max heap size.\r\n\r\n\r\n  [1]: https://developer.android.com/studio/intro/studio-config#adjusting_heap_size","title":"Invalid maximum heap size: -Xmx4608m","body":"<p>Judging from the error, it seems that you're unable to use the configured heap size. Possible causes of this issue is if you're using a 32-bit JVM. You can try using a heap size lower than 4GB. If you're using Android Studio, you can follow this <a href=\"https://developer.android.com/studio/intro/studio-config#adjusting_heap_size\" rel=\"nofollow noreferrer\">guide</a> to change the max heap size.</p>\n"}],"owner":{"account_id":22813203,"reputation":615,"user_id":16964184,"display_name":"Alaeddine Bouhajja"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2292,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686161241,"creation_date":1633418124,"question_id":69446251,"body_markdown":"When I try to build a release apk I faced this problem: \r\n\r\n&gt; Picked up _JAVA_OPTIONS: -Xmx4608m Invalid maximum heap size:\r\n&gt; -Xmx4608m The specified size exceeds the maximum representable size. Error: Could not create the Java Virtual Machine. Error: A fatal\r\n&gt; exception has occurred. Program will exit.\r\n\r\nand my gradle.properties file:\r\n\r\n    org.gradle.jvmargs=-Xmx4608m\r\n    android.enableR8=true\r\n    android.useAndroidX=true\r\n    android.enableJetifier=true\r\n\r\nI have tried to change `org.gradle.jvmargs` value to -Xmx512M but I faced this problem too:\r\n\r\n&gt; Execution failed for task &#39;:app:packageRelease&#39;.\r\n&gt; &gt; A failure occurred while executing com.android.build.gradle.tasks.PackageAndroidArtifact$IncrementalSplitterRunnable\r\n&gt;    &gt; Java heap space\r\n\r\nflutter doctor result:\r\n\r\n&gt; Doctor summary (to see all details, run flutter doctor -v): [√]\r\n&gt; Flutter (Channel stable, 2.0.0, on Microsoft Windows [Version\r\n&gt; 10.0.19042.1237], locale en-150) [√] Android toolchain - develop for Android devices (Android SDK version 31.0.0) [√] Chrome - develop for\r\n&gt; the web [!] Android Studio (not installed) [√] VS Code (version\r\n&gt; 1.60.2) [√] Connected device (2 available)\r\n\r\n","title":"Invalid maximum heap size: -Xmx4608m","body":"<p>When I try to build a release apk I faced this problem:</p>\n<blockquote>\n<p>Picked up _JAVA_OPTIONS: -Xmx4608m Invalid maximum heap size:\n-Xmx4608m The specified size exceeds the maximum representable size. Error: Could not create the Java Virtual Machine. Error: A fatal\nexception has occurred. Program will exit.</p>\n</blockquote>\n<p>and my gradle.properties file:</p>\n<pre><code>org.gradle.jvmargs=-Xmx4608m\nandroid.enableR8=true\nandroid.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n<p>I have tried to change <code>org.gradle.jvmargs</code> value to -Xmx512M but I faced this problem too:</p>\n<blockquote>\n<p>Execution failed for task ':app:packageRelease'.</p>\n<blockquote>\n<p>A failure occurred while executing com.android.build.gradle.tasks.PackageAndroidArtifact$IncrementalSplitterRunnable\nJava heap space</p>\n</blockquote>\n</blockquote>\n<p>flutter doctor result:</p>\n<blockquote>\n<p>Doctor summary (to see all details, run flutter doctor -v): [√]\nFlutter (Channel stable, 2.0.0, on Microsoft Windows [Version\n10.0.19042.1237], locale en-150) [√] Android toolchain - develop for Android devices (Android SDK version 31.0.0) [√] Chrome - develop for\nthe web [!] Android Studio (not installed) [√] VS Code (version\n1.60.2) [√] Connected device (2 available)</p>\n</blockquote>\n"},{"tags":["java","spring","unit-testing"],"comments":[{"owner":{"account_id":224781,"reputation":1624,"user_id":484842,"display_name":"KarlM"},"score":1,"creation_date":1450053916,"post_id":34231426,"comment_id":56257974,"body_markdown":"Is this question relevant \nhttp://stackoverflow.com/questions/10906945/mockito-junit-and-spring","body":"Is this question relevant  <a href=\"http://stackoverflow.com/questions/10906945/mockito-junit-and-spring\" title=\"mockito junit and spring\">stackoverflow.com/questions/10906945/mockito-junit-and-sprin&zwnj;&#8203;g</a>"},{"owner":{"account_id":518032,"reputation":4927,"user_id":2289983,"accept_rate":92,"display_name":"Damian Nadales"},"score":0,"creation_date":1450079261,"post_id":34231426,"comment_id":56265356,"body_markdown":"There are a lot of useful links in the question you linked. Thanks.","body":"There are a lot of useful links in the question you linked. Thanks."}],"answers":[{"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1449864436,"post_id":34231570,"comment_id":56207136,"body_markdown":"Yeah, the `SpringJUnit4ClassRunner` is the real culprit here, imo. This is more of an integration than a unit test.","body":"Yeah, the <code>SpringJUnit4ClassRunner</code> is the real culprit here, imo. This is more of an integration than a unit test."},{"owner":{"account_id":518032,"reputation":4927,"user_id":2289983,"accept_rate":92,"display_name":"Damian Nadales"},"score":1,"creation_date":1450079499,"post_id":34231570,"comment_id":56265461,"body_markdown":"It seems I took the wrong approach when writing unit tests with Spring then. Using field injection and leaving Spring out in the unit tests seems to be the way to go here. Thanks for the explanation.","body":"It seems I took the wrong approach when writing unit tests with Spring then. Using field injection and leaving Spring out in the unit tests seems to be the way to go here. Thanks for the explanation."}],"tags":[],"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":2,"down_vote_count":1,"up_vote_count":14,"is_accepted":true,"score":13,"last_activity_date":1449863905,"creation_date":1449863905,"answer_id":34231570,"question_id":34231426,"body_markdown":"A unit test shouldn&#39;t use any Spring configuration. You should simply instantiate your component, and inject dependencies (usually fake ones) manually.\r\n\r\nYou used field injection, which makes it a bit harder. With constructor injection, all you would need to do is\r\n\r\n    Logger logger = LoggerFactory.getLogger(MyController.class);\r\n    MyController controller = new MyController(logger);\r\n\r\nMockito can help injecting fake dependencies for you, though, even when using field injection, thanks to the `@Mock`, `@Spy` and `@InjectMocks` annotations:\r\n\r\n    @Spy\r\n    private Logger logger = LoggerFactory.getLogger(MyController.class);\r\n\r\n    @InjectMocks\r\n    private MyController controller;\r\n\r\n    @Before\r\n    public void prepare() {\r\n        MockitoAnnotations.initMocks(this);\r\n    }\r\n\r\nThat said, if I&#39;m not mistaken, you&#39;re not using `@RunWith(SpringJUnit4ClassRunner.class)`, so your test runner doesn&#39;t know anything about Spring, and thus doesn&#39;t create or use any Spring configuration.","title":"Unit test in Spring: injecting a dependency into a component under test","body":"<p>A unit test shouldn't use any Spring configuration. You should simply instantiate your component, and inject dependencies (usually fake ones) manually.</p>\n\n<p>You used field injection, which makes it a bit harder. With constructor injection, all you would need to do is</p>\n\n<pre><code>Logger logger = LoggerFactory.getLogger(MyController.class);\nMyController controller = new MyController(logger);\n</code></pre>\n\n<p>Mockito can help injecting fake dependencies for you, though, even when using field injection, thanks to the <code>@Mock</code>, <code>@Spy</code> and <code>@InjectMocks</code> annotations:</p>\n\n<pre><code>@Spy\nprivate Logger logger = LoggerFactory.getLogger(MyController.class);\n\n@InjectMocks\nprivate MyController controller;\n\n@Before\npublic void prepare() {\n    MockitoAnnotations.initMocks(this);\n}\n</code></pre>\n\n<p>That said, if I'm not mistaken, you're not using <code>@RunWith(SpringJUnit4ClassRunner.class)</code>, so your test runner doesn't know anything about Spring, and thus doesn't create or use any Spring configuration.</p>\n"},{"tags":[],"owner":{"account_id":1089051,"reputation":106,"user_id":1084106,"display_name":"rdChris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686161128,"creation_date":1686161128,"answer_id":76425974,"question_id":34231426,"body_markdown":"I agree that a unit test shouldn&#39;t ideally include spring configuration, however; if you still wish to perform a unit test with Spring managed bean(s) you can use SpringExtension&#39;s parameter resolver.\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/junit/jupiter/SpringExtension.html\r\n\r\nhttps://rieckpil.de/what-the-heck-is-the-springextension-used-for/\r\n\r\n```lang-java\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    @ContextConfiguration(classes = MyTestConfig.class)\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    // New addition\r\n    @ExtendWith(SpringExtension.class)\r\n        @Import(\r\n            value = {\r\n        MyController.class,Myconfig.class, MyTestConfig.class\r\n    }\r\n\r\n    public class MyContollerTest {\r\n```\r\n\r\nNote, SpringExtension is used automatically when the @SpringBootTest annotation is used, however; for Controller tests like in this example, it has to be added explicitly. ","title":"Unit test in Spring: injecting a dependency into a component under test","body":"<p>I agree that a unit test shouldn't ideally include spring configuration, however; if you still wish to perform a unit test with Spring managed bean(s) you can use SpringExtension's parameter resolver.</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/junit/jupiter/SpringExtension.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/junit/jupiter/SpringExtension.html</a></p>\n<p><a href=\"https://rieckpil.de/what-the-heck-is-the-springextension-used-for/\" rel=\"nofollow noreferrer\">https://rieckpil.de/what-the-heck-is-the-springextension-used-for/</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>    @RunWith(MockitoJUnitRunner.class)\n    @ContextConfiguration(classes = MyTestConfig.class)\n    @ActiveProfiles(&quot;test&quot;)\n    // New addition\n    @ExtendWith(SpringExtension.class)\n        @Import(\n            value = {\n        MyController.class,Myconfig.class, MyTestConfig.class\n    }\n\n    public class MyContollerTest {\n</code></pre>\n<p>Note, SpringExtension is used automatically when the @SpringBootTest annotation is used, however; for Controller tests like in this example, it has to be added explicitly.</p>\n"}],"owner":{"account_id":518032,"reputation":4927,"user_id":2289983,"accept_rate":92,"display_name":"Damian Nadales"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37316,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":34231570,"answer_count":2,"score":9,"last_activity_date":1686161128,"creation_date":1449863401,"question_id":34231426,"body_markdown":"I have a very simple rest controller:\r\n\r\n    @RestController\r\n    public class MyController {\r\n        @Autowired\r\n        public Logger logger;\r\n\r\nThe logger dependency gets injected via the following configuration:\r\n\r\n    @Configuration\r\n    public class MyConfig {\r\n        @Bean\r\n        public Logger logger() {\r\n            return LoggerFactory.getLogger(MyController.class);\r\n        }\r\n\r\nIf I run the Spring application that contains the controller then everything works fine. However, I cannot manage to achieve this dependency injection when running my unit tests. In this case I have the following test configuration:\r\n\r\n    @Configuration\r\n    @Profile(&quot;test&quot;)\r\n    public class MyTestConfig {\r\n        @Bean\r\n        public Logger logger() {\r\n            return LoggerFactory.getLogger(MyCOntroller.class);\r\n        }\r\n\r\nAnd this is the relevant part of my unit tests code:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    @ContextConfiguration(classes = MyTestConfig.class)\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    public class MyContollerTest {\r\n\r\nHowever the logger object does not get &quot;autowired&quot; in `MyController` (note that I do not want to mock the logger object), which results in a null pointer reference.\r\n\r\nWhat am I missing?","title":"Unit test in Spring: injecting a dependency into a component under test","body":"<p>I have a very simple rest controller:</p>\n\n<pre><code>@RestController\npublic class MyController {\n    @Autowired\n    public Logger logger;\n</code></pre>\n\n<p>The logger dependency gets injected via the following configuration:</p>\n\n<pre><code>@Configuration\npublic class MyConfig {\n    @Bean\n    public Logger logger() {\n        return LoggerFactory.getLogger(MyController.class);\n    }\n</code></pre>\n\n<p>If I run the Spring application that contains the controller then everything works fine. However, I cannot manage to achieve this dependency injection when running my unit tests. In this case I have the following test configuration:</p>\n\n<pre><code>@Configuration\n@Profile(\"test\")\npublic class MyTestConfig {\n    @Bean\n    public Logger logger() {\n        return LoggerFactory.getLogger(MyCOntroller.class);\n    }\n</code></pre>\n\n<p>And this is the relevant part of my unit tests code:</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\n@ContextConfiguration(classes = MyTestConfig.class)\n@ActiveProfiles(\"test\")\npublic class MyContollerTest {\n</code></pre>\n\n<p>However the logger object does not get \"autowired\" in <code>MyController</code> (note that I do not want to mock the logger object), which results in a null pointer reference.</p>\n\n<p>What am I missing?</p>\n"},{"tags":["java","grpc","hazelcast","grpc-java"],"answers":[{"tags":[],"owner":{"account_id":24519330,"reputation":91,"user_id":18432631,"display_name":"Terry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686160934,"creation_date":1686160934,"answer_id":76425961,"question_id":76388848,"body_markdown":"You tell gRPC to use your interceptor at the time when you add your service to the server. You are not including your code fur building the server, but presumably you are missing something there. \r\n\r\nYou would first wrap your service by calling a method in [ServerInterceptors](https://grpc.github.io/grpc-java/javadoc/io/grpc/ServerInterceptors.html). You then pass what you get back to the [ServerBuilder](https://grpc.github.io/grpc-java/javadoc/io/grpc/ServerBuilder.html) when you call `addService()`.\r\n\r\nI&#39;m not that familiar with spring boot, check your code where you define the services in your server.\r\n\r\n","title":"How to register a custom interceptor with GRPC in yaml file in java Spring-Boot?","body":"<p>You tell gRPC to use your interceptor at the time when you add your service to the server. You are not including your code fur building the server, but presumably you are missing something there.</p>\n<p>You would first wrap your service by calling a method in <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/ServerInterceptors.html\" rel=\"nofollow noreferrer\">ServerInterceptors</a>. You then pass what you get back to the <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/ServerBuilder.html\" rel=\"nofollow noreferrer\">ServerBuilder</a> when you call <code>addService()</code>.</p>\n<p>I'm not that familiar with spring boot, check your code where you define the services in your server.</p>\n"}],"owner":{"account_id":7820761,"reputation":324,"user_id":5913975,"display_name":"Sanjay Naik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686160934,"creation_date":1685697904,"question_id":76388848,"body_markdown":"I have established gRPC Communication between 2 applications.Now i want to intercept call in server side in order to fetch data from Hazelcast Instance.But when i call gRPC code does not come to Interceptor class.Below is my code snippet\r\n\r\n\r\napplication,.yaml\r\n```\r\nserver:\r\n  port: 9001\r\n\r\ngrpc:\r\n  server:\r\n    security:\r\n      enabled: false\r\n    port: 9000\r\n    interceptors:\r\n      - com.interceptor.CachingInterceptor\r\n\r\n\r\n```\r\n\r\nBelow is my Interceptor class\r\n\r\n```\r\npackage com.interceptor;\r\n\r\nimport com.hazelcast.core.HazelcastInstance;\r\nimport com.service.impl.BanksDataGrpcServiceImpl;\r\nimport io.grpc.*;\r\nimport io.grpc.stub.AbstractStub;\r\nimport io.grpc.stub.ClientCalls;\r\nimport io.grpc.stub.MetadataUtils;\r\nimport io.grpc.stub.ServerCalls;\r\nimport io.grpc.stub.StreamObserver;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class CachingInterceptor implements ServerInterceptor, ClientInterceptor {\r\n    private HazelcastInstance hazelcastInstance; // Initialize Hazelcast instance as needed\r\n\r\n    @Override\r\n    public &lt;BanksDataRequest, BanksDataResponse&gt; ServerCall.Listener&lt;BanksDataRequest&gt; interceptCall(ServerCall&lt;BanksDataRequest, BanksDataResponse&gt; call,\r\n                                                                 Metadata headers,\r\n                                                                 ServerCallHandler&lt;BanksDataRequest, BanksDataResponse&gt; next) {\r\n        System.out.println(&quot; : CachingInterceptor : ServerCall.Listener : Method starts&quot;);\r\n        MethodDescriptor&lt;BanksDataRequest, BanksDataResponse&gt; methodDescriptor = call.getMethodDescriptor();\r\n// Logic of fetching data from Hazelcast cache\r\n        return next.startCall(call, headers);\r\n    }\r\n\r\n    @Override\r\n    public &lt;BanksDataRequest, BanksDataResponse&gt; ClientCall&lt;BanksDataRequest, BanksDataResponse&gt; interceptCall(MethodDescriptor&lt;BanksDataRequest, BanksDataResponse&gt; method,\r\n                                                               CallOptions callOptions,\r\n                                                               Channel next) {\r\n        System.out.println(&quot; : CachingInterceptor : ClientCall.Listener : Method starts&quot;);\r\n        if (method.getFullMethodName().startsWith(&quot;com.service.impl.BanksDataGrpcServiceImpl&quot;)) {\r\n            if (method.getFullMethodName().endsWith(&quot;getAllBanksData&quot;)) {\r\n\r\n                if (method.findAnnotation(CacheableGrpcCall.class) != null) {\r\n                    // Check if the gRPC method is annotated with @CacheableGrpcCall\r\n                    // Implement your caching logic using Hazelcast\r\n                }\r\n            }\r\n        }\r\n        return next.newCall(method, callOptions);\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nBelow is my code of GRPC Client\r\n\r\n```\r\npackage com.service.impl;\r\n\r\nimport com.hazelcast.cache.impl.HazelcastServerCacheManager;\r\nimport com.hazelcast.client.HazelcastClient;\r\nimport com.hazelcast.client.config.ClientConfig;\r\nimport com.hazelcast.core.Hazelcast;\r\nimport com.hazelcast.core.HazelcastInstance;\r\nimport com.hazelcast.map.IMap;\r\nimport com.*;\r\nimport com.constants.BanksDataConstants;\r\nimport com.entity.BanksDataEntity;\r\nimport com.mapper.BanksDataMapper;\r\nimport com.repository.BanksDataRepository;\r\nimport io.grpc.stub.StreamObserver;\r\nimport net.devh.boot.grpc.server.interceptor.GrpcGlobalServerInterceptor;\r\nimport net.devh.boot.grpc.server.service.GrpcService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.cache.annotation.Cacheable;\r\n\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\nimport java.util.UUID;\r\n\r\n@GrpcService\r\npublic class BanksDataGrpcServiceImpl  extends BanksDataServiceGrpc.BanksDataServiceImplBase {\r\n\r\n    @Autowired\r\n    private BanksDataRepository banksDataRepository;\r\n    @Autowired\r\n    private BanksDataMapper banksDataMapper;\r\n\r\n\r\n\r\n\r\n    @Cacheable(value = BanksDataConstants.BANKS_DATA)\r\n    public void getAllBanksData(BanksDataRequest request, StreamObserver&lt;BanksDataResponse&gt; responseObserver) {\r\n\r\n        ClientConfig clientConfig = new ClientConfig();\r\n        clientConfig.setClusterName(&quot;local&quot;);\r\n        clientConfig.getNetworkConfig().addAddress(&quot;127.0.0.1:9701&quot;);\r\n        HazelcastInstance client = HazelcastClient.newHazelcastClient(clientConfig);\r\n        IMap&lt;String,Object&gt; iMap=  client.getMap(BanksDataConstants.BANKS_DATA);\r\n\r\n            System.out.println(&quot; : BanksDataGrpcServiceImpl : getAllBanksData : Method starts&quot;);\r\n\r\n            List&lt;BanksDataEntity&gt;  banksDataEntityList = banksDataRepository.findAll();\r\n\r\n            List&lt;BanksData&gt; banksDataList = banksDataMapper.entityListToGrpcList(banksDataEntityList);\r\n            BanksDataResponse banksDataResponse = BanksDataResponse.newBuilder().addAllBanksDataGrpcDTO(banksDataList).build();\r\n\r\n            responseObserver.onNext(banksDataResponse);\r\n            responseObserver.onCompleted();\r\n\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n\r\n```\r\nWhat is missing in registering our interceptors with existing gRPC Server?","title":"How to register a custom interceptor with GRPC in yaml file in java Spring-Boot?","body":"<p>I have established gRPC Communication between 2 applications.Now i want to intercept call in server side in order to fetch data from Hazelcast Instance.But when i call gRPC code does not come to Interceptor class.Below is my code snippet</p>\n<p>application,.yaml</p>\n<pre><code>server:\n  port: 9001\n\ngrpc:\n  server:\n    security:\n      enabled: false\n    port: 9000\n    interceptors:\n      - com.interceptor.CachingInterceptor\n\n\n</code></pre>\n<p>Below is my Interceptor class</p>\n<pre><code>package com.interceptor;\n\nimport com.hazelcast.core.HazelcastInstance;\nimport com.service.impl.BanksDataGrpcServiceImpl;\nimport io.grpc.*;\nimport io.grpc.stub.AbstractStub;\nimport io.grpc.stub.ClientCalls;\nimport io.grpc.stub.MetadataUtils;\nimport io.grpc.stub.ServerCalls;\nimport io.grpc.stub.StreamObserver;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class CachingInterceptor implements ServerInterceptor, ClientInterceptor {\n    private HazelcastInstance hazelcastInstance; // Initialize Hazelcast instance as needed\n\n    @Override\n    public &lt;BanksDataRequest, BanksDataResponse&gt; ServerCall.Listener&lt;BanksDataRequest&gt; interceptCall(ServerCall&lt;BanksDataRequest, BanksDataResponse&gt; call,\n                                                                 Metadata headers,\n                                                                 ServerCallHandler&lt;BanksDataRequest, BanksDataResponse&gt; next) {\n        System.out.println(&quot; : CachingInterceptor : ServerCall.Listener : Method starts&quot;);\n        MethodDescriptor&lt;BanksDataRequest, BanksDataResponse&gt; methodDescriptor = call.getMethodDescriptor();\n// Logic of fetching data from Hazelcast cache\n        return next.startCall(call, headers);\n    }\n\n    @Override\n    public &lt;BanksDataRequest, BanksDataResponse&gt; ClientCall&lt;BanksDataRequest, BanksDataResponse&gt; interceptCall(MethodDescriptor&lt;BanksDataRequest, BanksDataResponse&gt; method,\n                                                               CallOptions callOptions,\n                                                               Channel next) {\n        System.out.println(&quot; : CachingInterceptor : ClientCall.Listener : Method starts&quot;);\n        if (method.getFullMethodName().startsWith(&quot;com.service.impl.BanksDataGrpcServiceImpl&quot;)) {\n            if (method.getFullMethodName().endsWith(&quot;getAllBanksData&quot;)) {\n\n                if (method.findAnnotation(CacheableGrpcCall.class) != null) {\n                    // Check if the gRPC method is annotated with @CacheableGrpcCall\n                    // Implement your caching logic using Hazelcast\n                }\n            }\n        }\n        return next.newCall(method, callOptions);\n    }\n}\n\n\n</code></pre>\n<p>Below is my code of GRPC Client</p>\n<pre><code>package com.service.impl;\n\nimport com.hazelcast.cache.impl.HazelcastServerCacheManager;\nimport com.hazelcast.client.HazelcastClient;\nimport com.hazelcast.client.config.ClientConfig;\nimport com.hazelcast.core.Hazelcast;\nimport com.hazelcast.core.HazelcastInstance;\nimport com.hazelcast.map.IMap;\nimport com.*;\nimport com.constants.BanksDataConstants;\nimport com.entity.BanksDataEntity;\nimport com.mapper.BanksDataMapper;\nimport com.repository.BanksDataRepository;\nimport io.grpc.stub.StreamObserver;\nimport net.devh.boot.grpc.server.interceptor.GrpcGlobalServerInterceptor;\nimport net.devh.boot.grpc.server.service.GrpcService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.cache.annotation.Cacheable;\n\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.UUID;\n\n@GrpcService\npublic class BanksDataGrpcServiceImpl  extends BanksDataServiceGrpc.BanksDataServiceImplBase {\n\n    @Autowired\n    private BanksDataRepository banksDataRepository;\n    @Autowired\n    private BanksDataMapper banksDataMapper;\n\n\n\n\n    @Cacheable(value = BanksDataConstants.BANKS_DATA)\n    public void getAllBanksData(BanksDataRequest request, StreamObserver&lt;BanksDataResponse&gt; responseObserver) {\n\n        ClientConfig clientConfig = new ClientConfig();\n        clientConfig.setClusterName(&quot;local&quot;);\n        clientConfig.getNetworkConfig().addAddress(&quot;127.0.0.1:9701&quot;);\n        HazelcastInstance client = HazelcastClient.newHazelcastClient(clientConfig);\n        IMap&lt;String,Object&gt; iMap=  client.getMap(BanksDataConstants.BANKS_DATA);\n\n            System.out.println(&quot; : BanksDataGrpcServiceImpl : getAllBanksData : Method starts&quot;);\n\n            List&lt;BanksDataEntity&gt;  banksDataEntityList = banksDataRepository.findAll();\n\n            List&lt;BanksData&gt; banksDataList = banksDataMapper.entityListToGrpcList(banksDataEntityList);\n            BanksDataResponse banksDataResponse = BanksDataResponse.newBuilder().addAllBanksDataGrpcDTO(banksDataList).build();\n\n            responseObserver.onNext(banksDataResponse);\n            responseObserver.onCompleted();\n\n    }\n\n\n\n}\n\n\n</code></pre>\n<p>What is missing in registering our interceptors with existing gRPC Server?</p>\n"},{"tags":["java","javafx","chat","scenebuilder"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1686164639,"post_id":76425952,"comment_id":134763236,"body_markdown":"The network-based stuff in this answer is irrelevant, but the [list-based UI is similar to what you are asking about](https://stackoverflow.com/questions/70870998/how-to-return-objects-from-inputstream-client-to-a-javafx-controller/70888362#70888362).  That just alternates from side to side based on odd/even rows, but you could assign your own style classes, when updating items, to decide which side of the list a message should show up on.","body":"The network-based stuff in this answer is irrelevant, but the <a href=\"https://stackoverflow.com/questions/70870998/how-to-return-objects-from-inputstream-client-to-a-javafx-controller/70888362#70888362\">list-based UI is similar to what you are asking about</a>.  That just alternates from side to side based on odd/even rows, but you could assign your own style classes, when updating items, to decide which side of the list a message should show up on."}],"owner":{"account_id":28774511,"reputation":1,"user_id":22037518,"display_name":"XYZ99"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686160808,"creation_date":1686160808,"question_id":76425952,"body_markdown":"I&#39;m new to programming and I wanted to challenge myself by making something similar(but slightly easier) to ChatGPT with JavaFX and Scenebuilder. I made a GUI with TextArea and TextField for the chats, but I want the different chats to get saved in a ListView and I want to be able to go back and forth between the chats. I just can&#39;t figure out how to do this? \r\nI&#39;ve looked everywhere and every time I think I understand what to do, it just doesn&#39;t work. \r\n\r\nDoes anyone else have an idea what I could do to make it work? ","title":"How to make a Listview with chats?","body":"<p>I'm new to programming and I wanted to challenge myself by making something similar(but slightly easier) to ChatGPT with JavaFX and Scenebuilder. I made a GUI with TextArea and TextField for the chats, but I want the different chats to get saved in a ListView and I want to be able to go back and forth between the chats. I just can't figure out how to do this?\nI've looked everywhere and every time I think I understand what to do, it just doesn't work.</p>\n<p>Does anyone else have an idea what I could do to make it work?</p>\n"},{"tags":["java","javafx","listener"],"comments":[{"owner":{"account_id":7717111,"reputation":8774,"user_id":5844477,"display_name":"Sai Dandem"},"score":0,"creation_date":1686632320,"post_id":76425816,"comment_id":134821733,"body_markdown":"Totally out of context: The general pattern is to change the border color only if user starts typing some thing. Merely removing the alerts(border) on just focus is not a great UX. Ofcourse this varies based on your individual requirements. But I just want to say about that :). In this case you need to add the listener on textProperty() instead of focusedProperty().","body":"Totally out of context: The general pattern is to change the border color only if user starts typing some thing. Merely removing the alerts(border) on just focus is not a great UX. Ofcourse this varies based on your individual requirements. But I just want to say about that :). In this case you need to add the listener on textProperty() instead of focusedProperty()."}],"answers":[{"comments":[{"owner":{"account_id":12506291,"reputation":565,"user_id":9103039,"display_name":"Starnec"},"score":0,"creation_date":1686160162,"post_id":76425847,"comment_id":134762435,"body_markdown":"Thank you, I guess I was thinking of the hard possible solution :)","body":"Thank you, I guess I was thinking of the hard possible solution :)"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1686178893,"post_id":76425847,"comment_id":134765412,"body_markdown":"@Starnec The approach in this answer is superior, but just want to point out that with your original approach you could do `(TextField) ((ReadOnlyProperty&lt;?&gt;) observable).getBean()`. But again, as shown in this answer, you should definitely prefer adding a unique listener to each text field where the context gives you a reference to the text field directly (not least because it avoids a bunch of casts).","body":"@Starnec The approach in this answer is superior, but just want to point out that with your original approach you could do <code>(TextField) ((ReadOnlyProperty&lt;?&gt;) observable).getBean()</code>. But again, as shown in this answer, you should definitely prefer adding a unique listener to each text field where the context gives you a reference to the text field directly (not least because it avoids a bunch of casts)."}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1686160122,"creation_date":1686159780,"answer_id":76425847,"question_id":76425816,"body_markdown":"Why not just write a method to create and register a listener for each text field?\r\n\r\n    private void addListenerToTextField(TextField textField) {\r\n        textField.focusedProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n            // do whatever you need with textField\r\n        });\r\n    }\r\n\r\nWhich scales to multiple text fields in the same way\r\n\r\n    addListenerToTextField(keyWord);\r\n    addListenerToTextField(date);\r\n    addListenerToTextField(location);\r\n\r\nor\r\n\r\n    Stream.of(keyWord, date, location).forEach(this::addListenerToTextField);","title":"How to get the instance of the text field which has triggers the focus listener in JavaFX","body":"<p>Why not just write a method to create and register a listener for each text field?</p>\n<pre><code>private void addListenerToTextField(TextField textField) {\n    textField.focusedProperty().addListener((observable, oldValue, newValue) -&gt; {\n        // do whatever you need with textField\n    });\n}\n</code></pre>\n<p>Which scales to multiple text fields in the same way</p>\n<pre><code>addListenerToTextField(keyWord);\naddListenerToTextField(date);\naddListenerToTextField(location);\n</code></pre>\n<p>or</p>\n<pre><code>Stream.of(keyWord, date, location).forEach(this::addListenerToTextField);\n</code></pre>\n"}],"owner":{"account_id":12506291,"reputation":565,"user_id":9103039,"display_name":"Starnec"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76425847,"answer_count":1,"score":0,"last_activity_date":1686160122,"creation_date":1686159425,"question_id":76425816,"body_markdown":"I have a **form** consisting of three `text fields`. When the form is submitted, I validate each text field value to ensure it meets specific conditions. If a value is invalid, I change the `border color` of the respective text field to **red**. Now, I want to update the border color back to black if the user selects a text field and attempts to modify its value. \r\n\r\nTo streamline the process for all text fields, I aim to attach the same `change listener` to each one. However, the challenge lies in obtaining a **reference** to each text field so that I can specifically target it within the listener.\r\n\r\n\r\n     keyWord.focusedProperty().addListener(textFieldFocusListener);\r\n     date.focusedProperty().addListener(textFieldFocusListener);\r\n     location.focusedProperty().addListener(textFieldFocusListener);\r\n\r\n     ChangeListener&lt;Boolean&gt; textFieldFocusListener = (observable, oldValue, newValue) -&gt; {\r\n    \r\n            // Change the border color of the text field to black if it is selected/focused\r\n    \r\n         };","title":"How to get the instance of the text field which has triggers the focus listener in JavaFX","body":"<p>I have a <strong>form</strong> consisting of three <code>text fields</code>. When the form is submitted, I validate each text field value to ensure it meets specific conditions. If a value is invalid, I change the <code>border color</code> of the respective text field to <strong>red</strong>. Now, I want to update the border color back to black if the user selects a text field and attempts to modify its value.</p>\n<p>To streamline the process for all text fields, I aim to attach the same <code>change listener</code> to each one. However, the challenge lies in obtaining a <strong>reference</strong> to each text field so that I can specifically target it within the listener.</p>\n<pre><code> keyWord.focusedProperty().addListener(textFieldFocusListener);\n date.focusedProperty().addListener(textFieldFocusListener);\n location.focusedProperty().addListener(textFieldFocusListener);\n\n ChangeListener&lt;Boolean&gt; textFieldFocusListener = (observable, oldValue, newValue) -&gt; {\n\n        // Change the border color of the text field to black if it is selected/focused\n\n     };\n</code></pre>\n"},{"tags":["java","kerberos","jndi","jaas","gssapi"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1686160784,"post_id":76425872,"comment_id":134762569,"body_markdown":"Test the keytab is correct with [`kinit`](https://stackoverflow.com/q/25240416/2970947) before assuming everything is correct.","body":"Test the keytab is correct with <a href=\"https://stackoverflow.com/q/25240416/2970947\"><code>kinit</code></a> before assuming everything is correct."},{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":0,"creation_date":1689104611,"post_id":76425872,"comment_id":135165293,"body_markdown":"You haven&#39;t shared any usable information, but the output from the Krb5LoginModule only. BTW, thanks for trying out my library.","body":"You haven&#39;t shared any usable information, but the output from the Krb5LoginModule only. BTW, thanks for trying out my library."}],"owner":{"account_id":28774580,"reputation":1,"user_id":22037568,"display_name":"Camille B"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686160090,"creation_date":1686160090,"question_id":76425872,"body_markdown":"I want to access an LDAP directory in Java using a keytab. However, my keytab appears as null.\r\n\r\nPassword access works with this code after the logincontext has been created (I get my tickets in kerberos):\r\n\r\n```\r\nHashtable&lt;String, String&gt; env = new Hashtable&lt;&gt;();\r\nenv.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\r\nenv.put(Context.SECURITY_AUTHENTICATION, &quot;GSSAPI&quot;);\r\nenv.put(Context.PROVIDER_URL, &quot;ldap://localhost/&quot;);\r\nfinal DirContext ctx = new InitialDirContext(env);\r\nAttributes attributes = ctx.getAttributes(&quot;cn=user1,ou=people,dc=example,dc=com&quot;);\r\n```\r\n\r\nI use the following code to try to access the directory via the Keytab file, but it always asks me to enter a password :\r\n\r\n```\r\nJaasClient {\r\n  com.sun.security.auth.module.Krb5LoginModule required\r\n    client=true\r\n    useKeyTab=true\r\n    keytab=&quot;/etc/security/keytabs/users3.keytab&quot;\r\n    debug=true\r\n    storeKey=true\r\n    principal=&quot;users3@EXAMPLE.COM&quot;;\r\n};\r\n```\r\n\r\n```\r\nDirContextSource.Builder builder = new DirContextSource.Builder(&quot;ldap://localhost&quot;);\r\nbuilder.gssApiAuth(&quot;JaasClient&quot;);\r\nDirContextSource contextSource = builder.build();\r\nDirContext ctx = contextSource.getDirContext();\r\nAttributes attributes = ctx.getAttributes(&quot;cn=user1,ou=people,dc=example,dc=com&quot;);\r\n```\r\n\r\nError :\r\n```\r\nDebug is true storeKey true useTicketCache false useKeyTab true doNotPrompt false ticketCache is null isInitiator true KeyTab is null\r\nKey for the principal users3@REALM not available in default key tab\r\n```\r\nCan someone tell me what I am doing wrong ?","title":"Access to LDAP using a keytab in Java","body":"<p>I want to access an LDAP directory in Java using a keytab. However, my keytab appears as null.</p>\n<p>Password access works with this code after the logincontext has been created (I get my tickets in kerberos):</p>\n<pre><code>Hashtable&lt;String, String&gt; env = new Hashtable&lt;&gt;();\nenv.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\nenv.put(Context.SECURITY_AUTHENTICATION, &quot;GSSAPI&quot;);\nenv.put(Context.PROVIDER_URL, &quot;ldap://localhost/&quot;);\nfinal DirContext ctx = new InitialDirContext(env);\nAttributes attributes = ctx.getAttributes(&quot;cn=user1,ou=people,dc=example,dc=com&quot;);\n</code></pre>\n<p>I use the following code to try to access the directory via the Keytab file, but it always asks me to enter a password :</p>\n<pre><code>JaasClient {\n  com.sun.security.auth.module.Krb5LoginModule required\n    client=true\n    useKeyTab=true\n    keytab=&quot;/etc/security/keytabs/users3.keytab&quot;\n    debug=true\n    storeKey=true\n    principal=&quot;users3@EXAMPLE.COM&quot;;\n};\n</code></pre>\n<pre><code>DirContextSource.Builder builder = new DirContextSource.Builder(&quot;ldap://localhost&quot;);\nbuilder.gssApiAuth(&quot;JaasClient&quot;);\nDirContextSource contextSource = builder.build();\nDirContext ctx = contextSource.getDirContext();\nAttributes attributes = ctx.getAttributes(&quot;cn=user1,ou=people,dc=example,dc=com&quot;);\n</code></pre>\n<p>Error :</p>\n<pre><code>Debug is true storeKey true useTicketCache false useKeyTab true doNotPrompt false ticketCache is null isInitiator true KeyTab is null\nKey for the principal users3@REALM not available in default key tab\n</code></pre>\n<p>Can someone tell me what I am doing wrong ?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9840,"page":385,"page_size":100}
